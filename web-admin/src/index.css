@tailwind base;
@tailwind components;
@tailwind utilities;

/* Rain Corporate theme tokens */
:root {
  --cr-primary: #0f6a8c;
  --cr-primary-strong: #08465f;
  --cr-secondary: #3f819f;
  --cr-bg: #d3e1ea;
  --cr-surface: rgba(252, 255, 255, 0.9);
  --cr-surface-soft: rgba(246, 252, 255, 0.85);
  --cr-border: #a9c1cf;
  --cr-text: #0c2634;
  --cr-muted: #3f5e70;
  --cr-success: #1f7a5c;
  --cr-warning: #9a6a08;
  --cr-danger: #ab2f45;
  --cr-rain-line: rgba(65, 101, 122, 0.16);
  --cr-rain-glow: rgba(102, 172, 205, 0.3);
  --cr-radius: 14px;
  --cr-radius-sm: 10px;
  --cr-shadow-soft: 0 14px 28px -18px rgba(7, 32, 48, 0.48);
  --cr-shadow-hover: 0 20px 40px -22px rgba(6, 28, 43, 0.6);
  --cr-space-1: 0.25rem;
  --cr-space-2: 0.5rem;
  --cr-space-3: 0.75rem;
  --cr-space-4: 1rem;
  --cr-space-5: 1.25rem;
  --cr-space-6: 1.5rem;
  --btn-ring: rgba(104, 183, 218, 0.42);
  --btn-primary-start: #1a88a7;
  --btn-primary-end: #0f6a8c;
  --btn-primary-border: #0c4f67;
  --btn-primary-text: #f4fbfe;
  --btn-secondary-start: #ffffff;
  --btn-secondary-end: #ebf4f9;
  --btn-secondary-border: #8eaebe;
  --btn-secondary-text: #214456;
  --btn-success-start: #2ea276;
  --btn-success-end: #1f7f5d;
  --btn-success-border: #186448;
  --btn-success-text: #f3fffa;
  --btn-warning-start: #d29f2b;
  --btn-warning-end: #b37e15;
  --btn-warning-border: #8c5f08;
  --btn-warning-text: #fffaf0;
  --btn-danger-start: #c24366;
  --btn-danger-end: #a22c4b;
  --btn-danger-border: #7e1e38;
  --btn-danger-text: #fff4f7;
  --btn-info-start: #eaf6fd;
  --btn-info-end: #d6edf9;
  --btn-info-border: #73aeca;
  --btn-info-text: #0f465c;
  --btn-dark-start: #27384b;
  --btn-dark-end: #182434;
  --btn-dark-border: #121c29;
  --btn-dark-text: #f4f8fc;

  color: var(--cr-text);
  background-color: var(--cr-bg);
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  color: var(--cr-text);
  background:
    radial-gradient(circle at 8% 0%, rgba(42, 84, 109, 0.24), transparent 38%),
    radial-gradient(
      circle at 88% 100%,
      rgba(13, 99, 132, 0.18),
      transparent 42%
    ),
    linear-gradient(180deg, #dfeaf1 0%, #cadbe5 100%);
  overflow-x: hidden;
}

#root {
  min-height: 100vh;
  position: relative;
  z-index: 1;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.3;
  background-image:
    repeating-linear-gradient(
      -73deg,
      var(--cr-rain-line) 0,
      var(--cr-rain-line) 1px,
      transparent 1px,
      transparent 16px
    ),
    repeating-linear-gradient(
      -73deg,
      rgba(104, 145, 168, 0.08) 0,
      rgba(104, 145, 168, 0.08) 2px,
      transparent 1px,
      transparent 24px
    );
  animation: rain-drift 26s linear infinite;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.16;
  background:
    linear-gradient(125deg, rgba(255, 255, 255, 0.3) 0%, transparent 34%),
    radial-gradient(
      circle at 50% -18%,
      rgba(255, 255, 255, 0.24),
      transparent 54%
    ),
    radial-gradient(circle at 25% 15%, var(--cr-rain-glow), transparent 30%);
  animation: rain-shift 22s ease-in-out infinite alternate;
}

* {
  box-sizing: border-box;
}

.admin-shell {
  position: relative;
  isolation: isolate;
}

.admin-shell::before,
.admin-shell::after {
  content: "";
  position: fixed;
  width: 42vmax;
  height: 42vmax;
  pointer-events: none;
  z-index: 0;
  filter: blur(64px);
  opacity: 0.22;
  animation: ambient-pulse 12s ease-in-out infinite;
}

.admin-shell::before {
  top: -20vmax;
  left: -12vmax;
  background: radial-gradient(
    circle,
    rgba(116, 182, 215, 0.36),
    transparent 65%
  );
}

.admin-shell::after {
  right: -16vmax;
  bottom: -24vmax;
  background: radial-gradient(circle, rgba(20, 98, 132, 0.28), transparent 65%);
  animation-delay: 4s;
}

.admin-sidebar {
  background: linear-gradient(
    180deg,
    rgba(7, 33, 48, 0.97) 0%,
    rgba(6, 30, 44, 0.95) 100%
  );
  border-right: 1px solid rgba(138, 180, 201, 0.24);
  position: relative;
}

.admin-sidebar::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(157, 211, 235, 0.1) 0%, transparent 32%),
    repeating-linear-gradient(
      -74deg,
      rgba(137, 182, 205, 0.08) 0,
      rgba(137, 182, 205, 0.08) 1px,
      transparent 1px,
      transparent 18px
    );
}

.mobile-nav-loader {
  position: fixed;
  inset: 0;
  z-index: 70;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.9rem;
  pointer-events: none;
  background:
    radial-gradient(
      circle at 50% 32%,
      rgba(173, 222, 242, 0.22) 0%,
      transparent 45%
    ),
    linear-gradient(
      180deg,
      rgba(6, 24, 35, 0.88) 0%,
      rgba(6, 31, 44, 0.78) 100%
    );
  backdrop-filter: blur(6px);
  animation: mobile-loader-fade-in 160ms ease-out both;
}

.mobile-nav-loader-logo {
  width: 124px;
  height: 124px;
  position: relative;
  display: grid;
  place-items: center;
}

.mobile-nav-loader-halo {
  position: absolute;
  inset: -14px;
  border-radius: 999px;
  background: radial-gradient(
    circle,
    rgba(179, 233, 255, 0.4) 0%,
    rgba(75, 154, 192, 0.17) 38%,
    rgba(22, 76, 103, 0) 78%
  );
  filter: blur(1px);
}

.mobile-nav-loader-ring {
  position: absolute;
  inset: 0;
  border-radius: 999px;
  background: conic-gradient(
    from 0deg,
    rgba(170, 226, 247, 0.18),
    rgba(174, 224, 244, 0.95),
    rgba(35, 128, 164, 0.22),
    rgba(170, 226, 247, 0.18)
  );
  -webkit-mask: radial-gradient(
    farthest-side,
    transparent calc(100% - 12px),
    #000 calc(100% - 11px)
  );
  mask: radial-gradient(
    farthest-side,
    transparent calc(100% - 12px),
    #000 calc(100% - 11px)
  );
  box-shadow: 0 0 36px rgba(111, 191, 228, 0.54);
  animation: yabujin-spin 820ms linear infinite;
}

.mobile-nav-loader-spark {
  position: absolute;
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: radial-gradient(
    circle,
    rgba(233, 248, 255, 0.98),
    rgba(150, 227, 255, 0.8)
  );
  box-shadow: 0 0 16px rgba(170, 234, 255, 0.9);
  animation: yabujin-spark-orbit 900ms linear infinite;
}

.mobile-nav-loader-core {
  width: 72px;
  height: 72px;
  border-radius: 999px;
  border: 1px solid rgba(181, 220, 237, 0.42);
  display: grid;
  place-items: center;
  padding: 0.55rem;
  gap: 0.08rem;
  text-align: center;
  color: rgba(231, 248, 255, 0.94);
  background:
    radial-gradient(
      circle at 34% 24%,
      rgba(190, 234, 251, 0.62),
      rgba(15, 79, 106, 0.9)
    ),
    linear-gradient(180deg, rgba(8, 43, 61, 0.92), rgba(5, 31, 45, 0.97));
  box-shadow:
    inset 0 0 20px rgba(191, 236, 251, 0.26),
    0 0 28px rgba(106, 188, 225, 0.52);
  animation: yabujin-core-pulse 1050ms ease-in-out infinite;
}

.mobile-nav-loader-brand {
  font-size: 0.56rem;
  font-weight: 900;
  letter-spacing: 0.16em;
  color: rgba(235, 249, 255, 0.98);
  text-shadow: 0 0 10px rgba(178, 228, 247, 0.55);
}

.mobile-nav-loader-sub {
  font-size: 0.38rem;
  font-weight: 700;
  letter-spacing: 0.18em;
  color: rgba(196, 232, 247, 0.92);
}

.mobile-nav-loader-text {
  margin: 0;
  font-size: 0.76rem;
  font-weight: 700;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(212, 237, 248, 0.92);
}

.management-console-screen {
  position: relative;
}

.management-console-kpi-grid {
  display: grid;
  gap: 0.85rem;
}

.management-console-kpi-card {
  border-color: rgba(130, 176, 198, 0.42);
  border-left: 4px solid rgba(38, 116, 147, 0.5);
  background: linear-gradient(
    180deg,
    rgba(250, 254, 255, 0.95),
    rgba(241, 249, 253, 0.95)
  );
  color: var(--cr-text);
}

.management-console-kpi-label {
  margin: 0;
  font-size: 0.72rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: #4f7388;
}

.management-console-kpi-value {
  margin: 0.42rem 0 0;
  font-size: 1.92rem;
  line-height: 1;
  font-weight: 800;
  color: #0c3548;
}

.management-console-kpi-meta {
  margin: 0.42rem 0 0;
  font-size: 0.72rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #47697d;
}

.management-console-panel {
  border-color: rgba(129, 173, 194, 0.4);
  background:
    linear-gradient(
      180deg,
      rgba(251, 255, 255, 0.95),
      rgba(242, 250, 253, 0.95)
    ),
    radial-gradient(
      circle at 85% 12%,
      rgba(158, 215, 239, 0.16),
      transparent 40%
    );
  color: var(--cr-text);
}

.management-console-title {
  margin: 0;
  font-size: 1.03rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  color: #123f52;
}

.management-console-subtitle {
  margin: 0.3rem 0 0;
  font-size: 0.8rem;
  line-height: 1.4;
  color: #4d7186;
}

.management-console-command-grid {
  margin-top: 0.82rem;
  display: grid;
  gap: 0.62rem;
}

.management-console-command-card {
  border: 1px solid rgba(130, 182, 206, 0.42);
  border-radius: 12px;
  padding: 0.74rem 0.78rem;
  background:
    linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.97),
      rgba(244, 251, 254, 0.97)
    ),
    radial-gradient(
      circle at 12% 14%,
      rgba(181, 231, 252, 0.2),
      transparent 45%
    );
  color: var(--cr-text);
  transition:
    transform 130ms ease,
    border-color 130ms ease,
    box-shadow 130ms ease;
}

.management-console-command-card:hover {
  transform: translateY(-1px);
  border-color: rgba(92, 157, 185, 0.64);
  box-shadow:
    0 0 0 1px rgba(153, 211, 238, 0.35),
    0 14px 28px -20px rgba(101, 153, 177, 0.42);
}

.management-console-command-code {
  display: inline-block;
  font-family: "Consolas", "Courier New", monospace;
  font-size: 0.65rem;
  letter-spacing: 0.12em;
  color: #4c7389;
}

.management-console-command-label {
  margin: 0.42rem 0 0;
  font-size: 0.88rem;
  font-weight: 700;
  color: #113f53;
}

.management-console-command-desc {
  margin: 0.26rem 0 0;
  font-size: 0.73rem;
  color: #4f7185;
}

.management-console-terminal {
  border: 1px solid rgba(131, 179, 201, 0.42);
  border-radius: 12px;
  padding: 0.88rem;
  background:
    linear-gradient(
      180deg,
      rgba(248, 253, 255, 0.97),
      rgba(239, 248, 252, 0.97)
    ),
    radial-gradient(
      circle at 88% 16%,
      rgba(175, 221, 241, 0.16),
      transparent 36%
    );
}

.management-console-field-label {
  font-size: 0.76rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: #45697d;
}

.management-console-input {
  width: 100%;
  border: 1px solid rgba(126, 176, 199, 0.44);
  border-radius: 10px;
  padding: 0.56rem 0.68rem;
  color: #133e52;
  background: rgba(255, 255, 255, 0.95);
}

.management-console-input:focus {
  outline: 0;
  border-color: rgba(88, 153, 182, 0.72);
  box-shadow: 0 0 0 3px rgba(119, 185, 215, 0.24);
}

.management-console-action-button {
  border: 1px solid rgba(122, 175, 199, 0.5);
  border-radius: 10px;
  padding: 0.44rem 0.7rem;
  font-size: 0.74rem;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #164b62;
  background: rgba(228, 244, 251, 0.95);
}

.management-console-send-button {
  border: 1px solid rgba(81, 144, 173, 0.54);
  border-radius: 10px;
  padding: 0.66rem 0.85rem;
  font-size: 0.78rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(10, 36, 50, 0.95);
  background: linear-gradient(
    180deg,
    rgba(184, 239, 255, 0.96),
    rgba(138, 215, 244, 0.95)
  );
}

.management-console-send-button:disabled {
  opacity: 0.62;
  cursor: not-allowed;
}

.management-console-chip {
  border: 1px solid rgba(125, 181, 206, 0.52);
  border-radius: 999px;
  padding: 0.34rem 0.62rem;
  font-size: 0.71rem;
  color: #17485f;
  background: rgba(226, 242, 250, 0.96);
}

.management-console-inline-note {
  font-size: 0.72rem;
  color: #4c7085;
}

.management-console-strip {
  border: 1px solid rgba(127, 180, 202, 0.42);
  border-radius: 10px;
  padding: 0.45rem 0.62rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.58rem;
  font-size: 0.78rem;
  color: #153f53;
  background: rgba(238, 249, 253, 0.97);
}

.management-console-strip-tag {
  font-size: 0.67rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: #4b6f84;
}

.management-console-block {
  border: 1px solid rgba(126, 178, 201, 0.4);
  border-radius: 10px;
  padding: 0.56rem 0.62rem;
  font-size: 0.76rem;
  line-height: 1.5;
  color: #153f53;
  background: rgba(247, 253, 255, 0.97);
}

.management-console-block-title {
  margin: 0 0 0.28rem;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #45687c;
}

.management-console-table-wrap {
  border: 1px solid rgba(124, 176, 199, 0.42);
  border-radius: 12px;
  overflow: auto;
  background: rgba(255, 255, 255, 0.97);
}

.management-console-table-wrap th {
  font-size: 0.66rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: #4a6d81;
}

.management-console-table-wrap td {
  color: #143e52;
}

.management-console-table-wrap tr + tr {
  border-top: 1px solid rgba(145, 186, 205, 0.28);
}

.management-console-link {
  color: #0f5f80;
  font-weight: 700;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.admin-topbar {
  background: rgba(255, 255, 255, 0.8);
  border-bottom-color: var(--cr-border);
  backdrop-filter: blur(12px);
}

.admin-main {
  animation: page-enter 180ms ease-out both;
}

.admin-sidebar nav a {
  position: relative;
  overflow: hidden;
}

.admin-sidebar nav a::after {
  content: "";
  position: absolute;
  left: 0.7rem;
  right: 0.7rem;
  bottom: 0.28rem;
  height: 2px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(174, 224, 244, 0),
    rgba(174, 224, 244, 0.82),
    rgba(174, 224, 244, 0)
  );
  transform: scaleX(0.25);
  opacity: 0;
  transition:
    transform 180ms ease,
    opacity 180ms ease;
}

.admin-sidebar nav a:hover::after,
.admin-sidebar nav a[aria-current="page"]::after {
  transform: scaleX(1);
  opacity: 1;
}

.admin-panel {
  border-radius: var(--cr-radius);
  border-color: var(--cr-border);
  background: var(--cr-surface-soft);
  backdrop-filter: blur(4px);
  box-shadow: var(--cr-shadow-soft);
  transition:
    transform 180ms ease,
    box-shadow 180ms ease;
  position: relative;
  overflow: hidden;
}

.admin-panel::after {
  content: "";
  position: absolute;
  inset: -130% -40% auto;
  height: 220%;
  pointer-events: none;
  background: linear-gradient(
    105deg,
    transparent 42%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 58%
  );
  transform: translateX(-18%);
  animation: panel-glint 6.5s ease-in-out infinite;
  opacity: 0.65;
}

.admin-panel:hover {
  transform: translateY(-2px);
  box-shadow: var(--cr-shadow-hover);
}

.admin-signature {
  margin-top: auto;
  padding: var(--cr-space-5) var(--cr-space-2) 0;
  text-align: center;
  border-top: 1px solid rgba(138, 180, 201, 0.36);
}

.admin-signature-main {
  margin: 0;
  font-size: 0.84rem;
  letter-spacing: 0.18em;
  font-weight: 900;
  color: rgba(215, 238, 248, 0.96);
  text-transform: uppercase;
  text-shadow: 0 1px 8px rgba(150, 207, 232, 0.2);
}

.admin-signature-sub {
  margin: 0.2rem 0 0;
  font-size: 0.64rem;
  letter-spacing: 0.16em;
  font-weight: 700;
  color: rgba(176, 208, 224, 0.92);
  text-transform: uppercase;
}

.admin-footer-signature,
.admin-auth-signature {
  color: #2f5266;
  border-top: 1px solid rgba(125, 167, 191, 0.38);
  padding-top: 0.55rem;
}

.admin-footer-signature {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: 0.55rem;
  flex-wrap: wrap;
}

.admin-footer-brand {
  font-size: 0.78rem;
  letter-spacing: 0.14em;
  font-weight: 900;
  text-transform: uppercase;
}

.admin-footer-sub {
  font-size: 0.66rem;
  letter-spacing: 0.12em;
  font-weight: 700;
  text-transform: uppercase;
  color: #4d7388;
}

.admin-footer-build {
  font-size: 0.64rem;
  letter-spacing: 0.12em;
  font-weight: 700;
  color: #547689;
  text-transform: uppercase;
}

.page-enter {
  animation: page-enter 200ms ease-out both;
}

button,
.btn-animated {
  transition:
    transform 150ms ease,
    box-shadow 150ms ease,
    filter 150ms ease,
    background-color 150ms ease,
    border-color 150ms ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

button:not(:disabled):hover,
.btn-animated:not(:disabled):hover {
  transform: translateY(-1px);
  box-shadow: var(--cr-shadow-soft);
  filter: saturate(1.03);
}

button:not(:disabled):active,
.btn-animated:not(:disabled):active {
  transform: translateY(0);
}

input,
select,
textarea {
  border-radius: var(--cr-radius-sm);
  transition:
    border-color 150ms ease,
    box-shadow 150ms ease,
    background-color 150ms ease;
}

input:focus,
select:focus,
textarea:focus {
  outline: 0;
  border-color: #82adc3;
  box-shadow: 0 0 0 3px rgba(15, 94, 114, 0.15);
}

.admin-main .overflow-x-auto {
  max-width: 100%;
  border: 1px solid rgba(171, 193, 205, 0.58);
  border-radius: 12px;
  background: rgba(252, 254, 255, 0.85);
}

.admin-main table {
  border-collapse: separate;
  border-spacing: 0;
}

.admin-main table th,
.admin-main table td {
  padding: 0.68rem 0.62rem;
  vertical-align: middle;
}

table thead tr {
  background: rgba(227, 239, 245, 0.62);
}

.admin-main table thead th {
  position: sticky;
  top: 0;
  z-index: 2;
  background: rgba(227, 239, 245, 0.96);
  backdrop-filter: blur(2px);
  border-bottom: 1px solid rgba(171, 193, 205, 0.7);
}

table tbody tr {
  transition: background-color 150ms ease;
}

table tbody tr:nth-child(even) {
  background: rgba(243, 249, 252, 0.55);
}

table tbody tr:hover {
  background: rgba(220, 235, 243, 0.45);
}

.admin-main form label {
  font-weight: 600;
  letter-spacing: 0.01em;
  color: var(--cr-muted);
}

.form-validation {
  margin-top: 0.75rem;
  border: 1px solid rgba(171, 47, 69, 0.28);
  border-radius: var(--cr-radius-sm);
  background: rgba(253, 242, 245, 0.95);
  color: var(--cr-danger);
  padding: 0.62rem 0.75rem;
  font-size: 0.85rem;
  font-weight: 600;
}

button {
  position: relative;
  isolation: isolate;
  transition:
    transform 140ms ease,
    box-shadow 180ms ease,
    filter 180ms ease,
    background-color 180ms ease,
    border-color 180ms ease,
    color 180ms ease;
  box-shadow: 0 1px 0 rgba(15, 44, 61, 0.08);
}

button:not(:disabled):hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px -18px rgba(8, 32, 46, 0.68);
}

button:not(:disabled):active {
  transform: translateY(0);
  box-shadow: 0 8px 16px -14px rgba(8, 32, 46, 0.55);
}

button:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px var(--btn-ring),
    0 8px 20px -15px rgba(10, 51, 72, 0.55);
}

button:disabled {
  cursor: not-allowed;
}

button,
.btn-animated,
.management-console-action-button,
.management-console-send-button,
.employee-action-btn {
  border-radius: 10px;
  border: 1px solid transparent;
  font-weight: 600;
  letter-spacing: 0.01em;
}

/* Primary role: create/save/submit */
.btn-primary,
.management-console-send-button,
button[class*="bg-brand-600"],
button[class*="bg-brand-700"] {
  border-color: var(--btn-primary-border);
  background: linear-gradient(
    180deg,
    var(--btn-primary-start) 0%,
    var(--btn-primary-end) 100%
  );
  color: var(--btn-primary-text);
  box-shadow:
    inset 0 1px 0 rgba(233, 248, 255, 0.25),
    0 14px 24px -20px rgba(10, 57, 80, 0.9);
}

.btn-primary:not(:disabled):hover,
.management-console-send-button:not(:disabled):hover,
button[class*="bg-brand-600"]:not(:disabled):hover,
button[class*="bg-brand-700"]:not(:disabled):hover {
  filter: brightness(1.04) saturate(1.03);
}

/* Secondary role: neutral actions */
.btn-secondary,
button[class*="border border-slate-300"] {
  border-color: var(--btn-secondary-border);
  background: linear-gradient(
    180deg,
    var(--btn-secondary-start),
    var(--btn-secondary-end)
  );
  color: var(--btn-secondary-text);
}

/* Success role: activate/approve */
.btn-success,
.employee-action-restore,
button[class*="bg-emerald-600"],
button[class*="border border-emerald-300"] {
  border-color: var(--btn-success-border);
  background: linear-gradient(
    180deg,
    var(--btn-success-start),
    var(--btn-success-end)
  );
  color: var(--btn-success-text);
  box-shadow:
    inset 0 1px 0 rgba(213, 249, 232, 0.3),
    0 14px 24px -20px rgba(24, 95, 69, 0.72);
}

/* Warning role: caution/attention */
.btn-warning,
button[class*="bg-amber-600"],
button[class*="border border-amber-300"] {
  border-color: var(--btn-warning-border);
  background: linear-gradient(
    180deg,
    var(--btn-warning-start),
    var(--btn-warning-end)
  );
  color: var(--btn-warning-text);
  box-shadow:
    inset 0 1px 0 rgba(255, 245, 213, 0.28),
    0 14px 24px -20px rgba(119, 82, 20, 0.7);
}

/* Danger role: delete/archive/block */
.btn-danger,
.employee-action-archive,
button[class*="bg-rose-600"],
button[class*="border border-rose-300"] {
  border-color: var(--btn-danger-border);
  background: linear-gradient(
    180deg,
    var(--btn-danger-start),
    var(--btn-danger-end)
  );
  color: var(--btn-danger-text);
  box-shadow:
    inset 0 1px 0 rgba(255, 220, 231, 0.28),
    0 14px 24px -20px rgba(107, 24, 41, 0.76);
}

/* Info role: edit/open/details */
.btn-info,
.management-console-action-button,
.employee-action-edit,
button[class*="border border-brand-300"],
button[class*="border border-sky-300"],
button[class*="bg-sky-600"] {
  border-color: var(--btn-info-border);
  background: linear-gradient(
    180deg,
    var(--btn-info-start),
    var(--btn-info-end)
  );
  color: var(--btn-info-text);
}

/* Dark role: dense/terminal-style actions */
.btn-dark,
button[class*="bg-slate-900"] {
  border-color: var(--btn-dark-border);
  background: linear-gradient(
    180deg,
    var(--btn-dark-start),
    var(--btn-dark-end)
  );
  color: var(--btn-dark-text);
  box-shadow:
    inset 0 1px 0 rgba(219, 233, 248, 0.16),
    0 14px 24px -20px rgba(14, 22, 33, 0.85);
}

.employee-action-btn {
  position: relative;
  overflow: hidden;
  min-height: 2rem;
  padding: 0.42rem 0.88rem;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  border-radius: 999px;
  transition:
    transform 140ms ease,
    box-shadow 180ms ease,
    filter 180ms ease,
    background-color 180ms ease,
    border-color 180ms ease;
}

.employee-action-btn::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(
    120deg,
    transparent 38%,
    rgba(255, 255, 255, 0.36) 50%,
    transparent 62%
  );
  transform: translateX(-160%);
  transition: transform 300ms ease;
}

.employee-action-btn:hover::after {
  transform: translateX(160%);
}

.employee-action-btn:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.employee-action-edit {
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.92),
    0 10px 16px -14px rgba(36, 76, 96, 0.62);
}

.employee-action-archive {
  box-shadow:
    inset 0 1px 0 rgba(255, 207, 220, 0.28),
    0 12px 18px -14px rgba(97, 20, 39, 0.7);
}

.employee-action-restore {
  box-shadow:
    inset 0 1px 0 rgba(205, 247, 227, 0.3),
    0 12px 18px -14px rgba(19, 89, 65, 0.66);
}

.list-scroll-area {
  max-height: min(52vh, 30rem);
  overflow: auto;
  overscroll-behavior: contain;
}

.list-scroll-area-compact {
  max-height: min(42vh, 20rem);
  overflow: auto;
  overscroll-behavior: contain;
}

.list-scroll-area,
.list-scroll-area-compact {
  scrollbar-width: thin;
  scrollbar-color: rgba(82, 126, 148, 0.62) rgba(223, 236, 244, 0.7);
}

.list-scroll-area::-webkit-scrollbar,
.list-scroll-area-compact::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.list-scroll-area::-webkit-scrollbar-track,
.list-scroll-area-compact::-webkit-scrollbar-track {
  background: rgba(220, 236, 244, 0.85);
  border-radius: 999px;
}

.list-scroll-area::-webkit-scrollbar-thumb,
.list-scroll-area-compact::-webkit-scrollbar-thumb {
  background: linear-gradient(
    180deg,
    rgba(66, 116, 140, 0.88),
    rgba(55, 99, 121, 0.88)
  );
  border-radius: 999px;
  border: 2px solid rgba(220, 236, 244, 0.85);
}

.list-scroll-area::-webkit-scrollbar-thumb:hover,
.list-scroll-area-compact::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    180deg,
    rgba(41, 92, 117, 0.95),
    rgba(31, 76, 99, 0.95)
  );
}

.status-badge {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  padding: 0.18rem 0.55rem;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.02em;
}

.status-badge-ok {
  background: rgba(177, 235, 209, 0.55);
  color: #15563d;
}

.status-badge-incomplete {
  background: rgba(252, 227, 164, 0.58);
  color: #855e10;
}

.status-badge-leave {
  background: rgba(198, 224, 255, 0.64);
  color: #194f88;
}

.status-badge-pending {
  background: rgba(252, 227, 164, 0.58);
  color: #855e10;
}

.status-badge-danger {
  background: rgba(251, 207, 218, 0.62);
  color: #8f2139;
}

.status-badge-neutral {
  background: rgba(220, 231, 238, 0.65);
  color: #365166;
}

.loading-block {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--cr-space-3);
  color: var(--cr-muted);
}

.loading-spinner {
  width: 1rem;
  height: 1rem;
  border-radius: 999px;
  border: 2px solid rgba(63, 111, 141, 0.3);
  border-top-color: var(--cr-primary);
  animation: spin 800ms linear infinite;
}

.inline-spinner {
  width: 0.92rem;
  height: 0.92rem;
  border-radius: 999px;
  border: 2px solid rgba(234, 244, 250, 0.45);
  border-top-color: rgba(255, 255, 255, 0.95);
  animation: spin 780ms linear infinite;
}

.inline-spinner-dark {
  border-color: rgba(72, 97, 115, 0.25);
  border-top-color: var(--cr-primary);
}

.error-block {
  border-color: rgba(171, 47, 69, 0.28);
  background: rgba(253, 242, 245, 0.95);
  color: var(--cr-danger);
}

.toast-card {
  animation: toast-in 180ms ease-out both;
}

.toast-card.is-leaving {
  animation: toast-out 160ms ease-in forwards;
}

.admin-auth-screen {
  position: relative;
  animation: page-enter 180ms ease-out both;
}

.admin-auth-card {
  border-radius: calc(var(--cr-radius) + 4px);
  border-color: var(--cr-border);
  background: var(--cr-surface-soft);
  backdrop-filter: blur(4px);
  box-shadow: var(--cr-shadow-soft);
}

.admin-auth-card:hover {
  box-shadow: var(--cr-shadow-hover);
}

@keyframes rain-drift {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    transform: translate3d(-22px, 26px, 0);
  }
}

@keyframes rain-shift {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    transform: translate3d(0, -8px, 0);
  }
}

@keyframes ambient-pulse {
  0%,
  100% {
    transform: scale(1);
    opacity: 0.18;
  }
  50% {
    transform: scale(1.06);
    opacity: 0.28;
  }
}

@keyframes panel-glint {
  0%,
  76%,
  100% {
    transform: translateX(-24%);
    opacity: 0;
  }
  82% {
    transform: translateX(28%);
    opacity: 0.78;
  }
}

@keyframes mobile-loader-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes yabujin-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes yabujin-spark-orbit {
  0% {
    transform: rotate(0deg) translateY(-56px);
  }
  100% {
    transform: rotate(360deg) translateY(-56px);
  }
}

@keyframes yabujin-core-pulse {
  0%,
  100% {
    transform: scale(0.97);
    box-shadow:
      inset 0 0 20px rgba(191, 236, 251, 0.26),
      0 0 28px rgba(106, 188, 225, 0.52);
  }
  50% {
    transform: scale(1.02);
    box-shadow:
      inset 0 0 24px rgba(206, 241, 252, 0.34),
      0 0 36px rgba(140, 213, 244, 0.64);
  }
}

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-8px);
  }
}

@media (min-width: 768px) {
  .management-console-kpi-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 1280px) {
  .management-console-kpi-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }

  .management-console-command-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  body::before {
    animation: none !important;
  }
  body::after {
    animation: none !important;
  }
  .admin-shell::before,
  .admin-shell::after,
  .admin-panel::after {
    animation: none !important;
  }
  .mobile-nav-loader,
  .mobile-nav-loader-halo,
  .mobile-nav-loader-ring,
  .mobile-nav-loader-spark,
  .mobile-nav-loader-core {
    animation: none !important;
  }
}

.control-room-page {
  display: grid;
  gap: 1.25rem;
}

.control-room-refresh-button {
  border: 1px solid rgba(17, 24, 39, 0.18);
  border-radius: 999px;
  background: linear-gradient(180deg, #fff7ef, #ffe2c5);
  color: #7a2308;
  font-size: 0.78rem;
  font-weight: 800;
  padding: 0.7rem 1rem;
}

.control-room-kicker,
.control-room-panel-kicker,
.control-room-boot-kicker {
  margin: 0;
  color: #9df3c4;
  font-size: 0.66rem;
  font-weight: 900;
  letter-spacing: 0.2em;
  text-transform: uppercase;
}

.control-room-intro,
.control-room-shell {
  position: relative;
  overflow: hidden;
  border-radius: 28px;
  border: 1px solid rgba(103, 255, 171, 0.18);
  background:
    radial-gradient(
      circle at top left,
      rgba(255, 84, 84, 0.13),
      transparent 30%
    ),
    radial-gradient(
      circle at top right,
      rgba(117, 255, 181, 0.08),
      transparent 28%
    ),
    linear-gradient(180deg, rgba(5, 10, 16, 0.98), rgba(7, 14, 23, 0.98));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    0 30px 80px -48px rgba(2, 7, 13, 0.96);
}

.control-room-intro::before,
.control-room-shell::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    linear-gradient(rgba(115, 255, 176, 0.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(115, 255, 176, 0.08) 1px, transparent 1px);
  background-size: 18px 18px;
  opacity: 0.28;
}

.control-room-intro {
  display: grid;
  grid-template-columns: minmax(0, 1.3fr) minmax(260px, 0.8fr);
  gap: 1.25rem;
  padding: 1.5rem;
}

.control-room-intro-copy,
.control-room-intro-side {
  position: relative;
  z-index: 1;
}

.control-room-intro-title,
.control-room-heading {
  margin: 0.35rem 0 0;
  color: #f8fffb;
  line-height: 1.04;
  font-size: clamp(1.8rem, 3vw, 2.9rem);
  font-weight: 900;
  letter-spacing: -0.03em;
}

.control-room-intro-text {
  max-width: 60ch;
  margin: 1rem 0 0;
  color: rgba(223, 237, 230, 0.82);
  font-size: 0.96rem;
  line-height: 1.7;
}

.control-room-intro-tags,
.control-room-topline-meta,
.control-room-chip-stack,
.control-room-alert-list,
.control-room-table-alerts {
  display: flex;
  flex-wrap: wrap;
  gap: 0.55rem;
}

.control-room-inline-tag {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid rgba(122, 255, 186, 0.18);
  background: rgba(10, 20, 29, 0.7);
  padding: 0.4rem 0.72rem;
  color: rgba(214, 246, 224, 0.84);
  font-size: 0.72rem;
  font-weight: 700;
}

.control-room-intro-console,
.control-room-selected-block,
.control-room-kpi-card,
.control-room-empty-map,
.control-room-empty-state {
  border: 1px solid rgba(115, 255, 176, 0.14);
  background: rgba(8, 15, 25, 0.74);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.control-room-intro-console {
  border-radius: 22px;
  padding: 1rem;
}

.control-room-console-line {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.66rem 0;
  border-bottom: 1px solid rgba(115, 255, 176, 0.08);
  color: rgba(194, 220, 204, 0.86);
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
}

.control-room-console-line:last-child {
  border-bottom: 0;
}

.control-room-console-line strong {
  color: #ffe78d;
}

.control-room-launch-button,
.control-room-link-button,
.control-room-page-button {
  border: 0;
  cursor: pointer;
  transition:
    transform 160ms ease,
    box-shadow 160ms ease,
    opacity 160ms ease,
    background-color 160ms ease;
}

.control-room-launch-button {
  margin-top: 1rem;
  width: 100%;
  border-radius: 20px;
  padding: 1rem 1.15rem;
  background:
    linear-gradient(180deg, rgba(255, 104, 88, 0.96), rgba(124, 20, 20, 0.96)),
    linear-gradient(90deg, rgba(255, 242, 154, 0.18), transparent);
  color: #fff7f2;
  font-size: 1rem;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  box-shadow: 0 22px 34px -28px rgba(255, 94, 94, 0.88);
}

.control-room-launch-button:hover,
.control-room-link-button:hover,
.control-room-page-button:hover:not(:disabled),
.control-room-feed-item:hover {
  transform: translateY(-1px);
}

.control-room-shell {
  display: grid;
  gap: 1rem;
  padding: 1.2rem;
}

.control-room-topline,
.control-room-panel-head,
.control-room-selected-title-row,
.control-room-selected-timeline,
.control-room-pagination {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.control-room-topline,
.control-room-panel,
.control-room-kpi-card {
  position: relative;
  z-index: 1;
}

.control-room-heading {
  font-size: clamp(1.5rem, 2.6vw, 2.4rem);
}

.control-room-topline {
  padding: 0.1rem 0.1rem 0.4rem;
}

.control-room-main-grid,
.control-room-telemetry-grid {
  display: grid;
  gap: 1rem;
}

.control-room-main-grid {
  grid-template-columns: minmax(0, 0.95fr) minmax(0, 1.05fr);
}

.control-room-telemetry-grid {
  grid-template-columns: minmax(0, 1.2fr) minmax(320px, 0.8fr);
}

.control-room-kpi-grid {
  position: relative;
  z-index: 1;
  display: grid;
  gap: 0.85rem;
  grid-template-columns: repeat(6, minmax(0, 1fr));
}

.control-room-kpi-card {
  border-radius: 20px;
  padding: 1rem;
  display: grid;
  gap: 0.42rem;
}

.control-room-kpi-label {
  color: rgba(198, 220, 208, 0.68);
  font-size: 0.78rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.control-room-kpi-value {
  color: #ffffff;
  font-size: clamp(1.3rem, 2vw, 2rem);
  font-weight: 900;
}

.control-room-kpi-meta {
  color: #8edcb0;
  font-size: 0.78rem;
}

.control-room-panel {
  position: relative;
  z-index: 1;
  border: 1px solid rgba(115, 255, 176, 0.13);
  border-radius: 22px;
  background:
    linear-gradient(180deg, rgba(7, 14, 24, 0.92), rgba(10, 18, 29, 0.94)),
    rgba(7, 14, 24, 0.92);
  padding: 1rem;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.control-room-panel-head h3 {
  margin: 0.18rem 0 0;
  color: #fbfffd;
  font-size: 1rem;
  font-weight: 800;
}

.control-room-filter-grid,
.control-room-selected-grid {
  display: grid;
  gap: 0.8rem;
}

.control-room-filter-grid {
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-top: 0.9rem;
}

.control-room-field {
  display: grid;
  gap: 0.35rem;
}

.control-room-field span,
.control-room-selected-label,
.control-room-selected-timeline span {
  color: rgba(197, 219, 206, 0.72);
  font-size: 0.7rem;
  font-weight: 800;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.control-room-field input,
.control-room-field select {
  width: 100%;
  border-radius: 14px;
  border: 1px solid rgba(115, 255, 176, 0.13);
  background: rgba(5, 10, 17, 0.92);
  color: #f3fff8;
  padding: 0.84rem 0.92rem;
  font-size: 0.9rem;
}

.control-room-field input::placeholder {
  color: rgba(198, 219, 206, 0.34);
}

.control-room-field input:focus,
.control-room-field select:focus {
  outline: 0;
  border-color: rgba(115, 255, 176, 0.32);
  box-shadow: 0 0 0 3px rgba(111, 255, 177, 0.09);
}

.control-room-toggle {
  margin-top: 0.95rem;
  display: inline-flex;
  align-items: center;
  gap: 0.6rem;
  color: rgba(218, 238, 226, 0.82);
  font-size: 0.84rem;
}

.control-room-selected-content {
  margin-top: 0.9rem;
  display: grid;
  gap: 0.9rem;
}

.control-room-selected-title-row h4 {
  margin: 0;
  color: #ffffff;
  font-size: 1.15rem;
  font-weight: 900;
}

.control-room-selected-title-row p {
  margin: 0.22rem 0 0;
  color: rgba(202, 220, 210, 0.74);
  font-size: 0.84rem;
}

.control-room-selected-grid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.control-room-selected-block {
  border-radius: 18px;
  padding: 0.9rem;
  display: grid;
  gap: 0.35rem;
}

.control-room-selected-block strong,
.control-room-selected-timeline strong {
  color: #fffef6;
  font-size: 1rem;
  font-weight: 900;
}

.control-room-selected-block p,
.control-room-selected-timeline small {
  margin: 0;
  color: rgba(191, 217, 203, 0.7);
  font-size: 0.79rem;
}

.control-room-selected-timeline {
  border-top: 1px solid rgba(115, 255, 176, 0.08);
  padding-top: 0.8rem;
}

.control-room-selected-timeline > div {
  display: grid;
  gap: 0.22rem;
}

.control-room-pill,
.control-room-alert {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 0.34rem 0.72rem;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.04em;
  border: 1px solid transparent;
  white-space: nowrap;
}

.control-room-pill.status-live,
.control-room-pill.location-live {
  background: rgba(91, 255, 162, 0.12);
  border-color: rgba(91, 255, 162, 0.28);
  color: #8cffbc;
}

.control-room-pill.status-finished {
  background: rgba(96, 213, 255, 0.12);
  border-color: rgba(96, 213, 255, 0.26);
  color: #93ddff;
}

.control-room-pill.status-idle,
.control-room-pill.location-none {
  background: rgba(255, 122, 122, 0.12);
  border-color: rgba(255, 122, 122, 0.24);
  color: #ffaaaa;
}

.control-room-pill.location-stale {
  background: rgba(255, 209, 102, 0.12);
  border-color: rgba(255, 209, 102, 0.24);
  color: #ffd981;
}

.control-room-pill.location-dormant {
  background: rgba(151, 181, 209, 0.1);
  border-color: rgba(151, 181, 209, 0.22);
  color: #b6cbdf;
}

.control-room-alert {
  gap: 0.35rem;
}

.control-room-alert-critical {
  background: rgba(255, 87, 87, 0.12);
  border-color: rgba(255, 87, 87, 0.24);
  color: #ffacac;
}

.control-room-alert-warning {
  background: rgba(255, 207, 96, 0.12);
  border-color: rgba(255, 207, 96, 0.24);
  color: #ffdc8b;
}

.control-room-alert-info {
  background: rgba(96, 213, 255, 0.11);
  border-color: rgba(96, 213, 255, 0.18);
  color: #9adfff;
}

.control-room-alert-clear {
  background: rgba(115, 255, 176, 0.08);
  border-color: rgba(115, 255, 176, 0.15);
  color: #9ff2c4;
}

.control-room-map-canvas,
.control-room-empty-map {
  height: 430px;
  width: 100%;
  border-radius: 18px;
  overflow: hidden;
  margin-top: 0.95rem;
}

.control-room-map-canvas {
  border: 1px solid rgba(115, 255, 176, 0.12);
  background: #08101a;
}

.control-room-map-canvas .leaflet-tile {
  filter: saturate(0.4) brightness(0.62) contrast(1.08) hue-rotate(140deg);
}

.control-room-map-canvas .leaflet-control-zoom a {
  background: rgba(8, 15, 25, 0.92);
  color: #f6fff8;
  border-color: rgba(115, 255, 176, 0.16);
}

.control-room-map-canvas .leaflet-popup-content-wrapper,
.control-room-map-canvas .leaflet-popup-tip {
  background: rgba(8, 15, 25, 0.96);
  color: #effff3;
  box-shadow: 0 12px 24px -20px rgba(0, 0, 0, 0.9);
}

.control-room-empty-map,
.control-room-empty-state {
  display: grid;
  place-items: center;
  color: rgba(205, 224, 214, 0.72);
  text-align: center;
  padding: 1.1rem;
}

.control-room-feed-list,
.control-room-table-wrap {
  margin-top: 0.95rem;
  overflow: auto;
}

.control-room-feed-list {
  max-height: 430px;
  display: grid;
  gap: 0.7rem;
  padding-right: 0.15rem;
}

.control-room-feed-item {
  text-align: left;
  width: 100%;
  border-radius: 16px;
  border: 1px solid rgba(115, 255, 176, 0.11);
  background: rgba(8, 15, 25, 0.76);
  padding: 0.9rem;
  display: grid;
  gap: 0.28rem;
  color: rgba(222, 238, 228, 0.86);
}

.control-room-feed-item strong {
  color: #ffffff;
  font-size: 0.9rem;
}

.control-room-feed-time {
  color: #8cf2b9;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.control-room-table-wrap {
  max-height: 620px;
  border-radius: 18px;
  border: 1px solid rgba(115, 255, 176, 0.1);
}

.control-room-table {
  width: 100%;
  min-width: 1220px;
  border-collapse: collapse;
}

.control-room-table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: #0d1622;
  color: rgba(186, 217, 199, 0.75);
  text-align: left;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 0.9rem 0.82rem;
  border-bottom: 1px solid rgba(115, 255, 176, 0.1);
}

.control-room-table tbody td {
  padding: 0.9rem 0.82rem;
  border-bottom: 1px solid rgba(115, 255, 176, 0.08);
  color: rgba(231, 242, 236, 0.86);
  font-size: 0.85rem;
  vertical-align: middle;
}

.control-room-table tbody tr {
  transition:
    background-color 150ms ease,
    box-shadow 150ms ease;
  cursor: pointer;
}

.control-room-table tbody tr:hover,
.control-room-table tbody tr:focus {
  background: rgba(115, 255, 176, 0.06);
  outline: none;
}

.control-room-table tbody tr.is-selected {
  background:
    linear-gradient(90deg, rgba(255, 86, 86, 0.1), transparent 24%),
    rgba(115, 255, 176, 0.07);
}

.control-room-person-cell,
.control-room-cell-stack {
  display: grid;
  gap: 0.22rem;
}

.control-room-person-cell strong,
.control-room-cell-stack strong {
  color: #ffffff;
  font-size: 0.88rem;
}

.control-room-person-cell span,
.control-room-cell-stack small {
  color: rgba(188, 216, 201, 0.66);
  font-size: 0.76rem;
}

.control-room-link-button,
.control-room-page-button {
  border-radius: 999px;
  border: 1px solid rgba(115, 255, 176, 0.14);
  background: rgba(10, 20, 29, 0.86);
  color: #ecfff3;
  padding: 0.58rem 0.86rem;
  font-size: 0.76rem;
  font-weight: 800;
  text-decoration: none;
}

.control-room-page-button:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  transform: none;
}

.control-room-boot-overlay {
  position: fixed;
  inset: 0;
  z-index: 90;
  display: grid;
  place-items: center;
  background:
    radial-gradient(
      circle at center,
      rgba(91, 255, 162, 0.08),
      transparent 28%
    ),
    linear-gradient(180deg, rgba(4, 9, 15, 0.9), rgba(3, 7, 12, 0.94));
  backdrop-filter: blur(5px);
}

.control-room-boot-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(
    180deg,
    transparent,
    rgba(111, 255, 177, 0.08),
    transparent
  );
  background-size: 100% 120px;
  animation: control-room-scan 2.1s linear infinite;
}

.control-room-boot-core {
  position: relative;
  width: min(88vw, 420px);
  height: min(88vw, 420px);
  display: grid;
  place-items: center;
}

.control-room-boot-ring,
.control-room-boot-orbit {
  position: absolute;
  border-radius: 999px;
}

.control-room-boot-ring {
  inset: 0;
  border: 1px solid rgba(111, 255, 177, 0.2);
  box-shadow:
    inset 0 0 0 1px rgba(255, 86, 86, 0.08),
    0 0 48px rgba(91, 255, 162, 0.08);
  animation: spin 6.5s linear infinite;
}

.control-room-boot-orbit {
  inset: 16%;
  border: 1px dashed rgba(255, 204, 124, 0.26);
  animation: spin-reverse 4.2s linear infinite;
}

.control-room-boot-panel {
  position: relative;
  z-index: 1;
  width: min(74vw, 250px);
  border-radius: 22px;
  border: 1px solid rgba(111, 255, 177, 0.16);
  background: rgba(8, 15, 25, 0.9);
  padding: 1rem;
  text-align: center;
}

.control-room-boot-title {
  margin: 0.3rem 0 0;
  color: #ffffff;
  font-size: 1.16rem;
  font-weight: 900;
}

.control-room-boot-subtitle {
  margin: 0.5rem 0 0;
  color: rgba(198, 224, 208, 0.7);
  font-size: 0.82rem;
}

@keyframes control-room-scan {
  from {
    transform: translateY(-140px);
  }
  to {
    transform: translateY(140px);
  }
}

@keyframes spin-reverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

@media (max-width: 1399px) {
  .control-room-kpi-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .control-room-main-grid,
  .control-room-telemetry-grid {
    grid-template-columns: 1fr;
  }

  .control-room-selected-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 980px) {
  .control-room-intro {
    grid-template-columns: 1fr;
  }

  .control-room-filter-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .control-room-topline,
  .control-room-panel-head,
  .control-room-selected-title-row,
  .control-room-selected-timeline {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (max-width: 640px) {
  .control-room-shell,
  .control-room-intro {
    padding: 0.9rem;
    border-radius: 22px;
  }

  .control-room-kpi-grid,
  .control-room-filter-grid,
  .control-room-selected-grid {
    grid-template-columns: 1fr;
  }

  .control-room-map-canvas,
  .control-room-empty-map {
    height: 340px;
  }

  .control-room-pagination {
    width: 100%;
    justify-content: space-between;
  }
}

.control-room-page {
  max-width: 100%;
  min-width: 0;
  overflow-x: hidden;
}

.control-room-shell,
.control-room-intro,
.control-room-panel,
.control-room-main-grid > *,
.control-room-telemetry-grid > * {
  min-width: 0;
}

.control-room-intro,
.control-room-shell {
  border-color: rgba(255, 152, 86, 0.22);
  background:
    radial-gradient(
      circle at top left,
      rgba(255, 94, 0, 0.14),
      transparent 28%
    ),
    radial-gradient(
      circle at top right,
      rgba(255, 208, 91, 0.08),
      transparent 24%
    ),
    linear-gradient(180deg, rgba(10, 11, 15, 0.98), rgba(17, 19, 26, 0.98));
  box-shadow:
    inset 0 1px 0 rgba(255, 243, 222, 0.04),
    0 30px 90px -56px rgba(0, 0, 0, 0.96);
}

.control-room-intro::before,
.control-room-shell::before {
  background-image:
    linear-gradient(rgba(255, 157, 82, 0.07) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 157, 82, 0.07) 1px, transparent 1px);
  background-size: 22px 22px;
  opacity: 0.24;
}

.control-room-kicker,
.control-room-panel-kicker,
.control-room-boot-kicker {
  color: #ffb36b;
  text-shadow: 0 0 18px rgba(255, 150, 82, 0.18);
}

.control-room-intro-title,
.control-room-heading {
  color: #fff7ec;
}

.control-room-intro-text,
.control-room-topline-meta,
.control-room-selected-title-row p,
.control-room-selected-block p,
.control-room-selected-timeline small,
.control-room-drawer-note,
.control-room-drawer-head p {
  color: rgba(239, 227, 213, 0.72);
}

.control-room-inline-tag {
  border-color: rgba(255, 171, 112, 0.18);
  background: linear-gradient(
    180deg,
    rgba(31, 25, 22, 0.92),
    rgba(18, 15, 13, 0.92)
  );
  color: rgba(255, 221, 186, 0.84);
}

.control-room-intro-console,
.control-room-selected-block,
.control-room-kpi-card,
.control-room-empty-map,
.control-room-empty-state,
.control-room-drawer-card {
  border-color: rgba(255, 154, 88, 0.13);
  background:
    linear-gradient(180deg, rgba(18, 17, 21, 0.92), rgba(12, 13, 17, 0.94)),
    rgba(18, 17, 21, 0.92);
  box-shadow: inset 0 1px 0 rgba(255, 245, 232, 0.04);
}

.control-room-console-line {
  border-bottom-color: rgba(255, 158, 84, 0.08);
  color: rgba(255, 221, 188, 0.72);
}

.control-room-console-line strong {
  color: #fff08e;
}

.control-room-refresh-button,
.control-room-link-button,
.control-room-page-button,
.control-room-row-action,
.control-room-secondary-button,
.control-room-drawer-close {
  border-radius: 999px;
  border: 1px solid rgba(255, 161, 104, 0.2);
  background: linear-gradient(
    180deg,
    rgba(29, 23, 20, 0.95),
    rgba(17, 14, 13, 0.95)
  );
  color: #fff1df;
  font-weight: 800;
  letter-spacing: 0.04em;
  transition:
    transform 160ms ease,
    box-shadow 160ms ease,
    border-color 160ms ease,
    background-color 160ms ease;
}

.control-room-refresh-button:hover,
.control-room-link-button:hover,
.control-room-page-button:hover:not(:disabled),
.control-room-row-action:hover,
.control-room-secondary-button:hover,
.control-room-drawer-close:hover {
  border-color: rgba(255, 179, 114, 0.38);
  box-shadow: 0 12px 24px -18px rgba(255, 128, 72, 0.42);
}

.control-room-link-button-accent,
.control-room-row-action {
  background:
    linear-gradient(180deg, rgba(143, 30, 12, 0.96), rgba(71, 14, 10, 0.98)),
    linear-gradient(90deg, rgba(255, 214, 130, 0.16), transparent);
  border-color: rgba(255, 118, 82, 0.34);
  color: #fff4ea;
}

.control-room-secondary-button,
.control-room-row-action,
.control-room-drawer-close {
  padding: 0.72rem 1rem;
}

.control-room-head-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
}

.control-room-launch-button {
  background:
    linear-gradient(180deg, rgba(255, 110, 72, 0.98), rgba(129, 26, 11, 0.98)),
    linear-gradient(90deg, rgba(255, 220, 132, 0.2), transparent);
  box-shadow: 0 22px 34px -28px rgba(255, 97, 63, 0.88);
}

.control-room-shell {
  padding: 1.2rem;
  overflow: clip;
}

.control-room-panel {
  border-color: rgba(255, 158, 84, 0.14);
  background:
    linear-gradient(180deg, rgba(17, 17, 22, 0.94), rgba(13, 13, 18, 0.96)),
    rgba(17, 17, 22, 0.94);
}

.control-room-kpi-card {
  background:
    radial-gradient(
      circle at top right,
      rgba(255, 146, 79, 0.12),
      transparent 32%
    ),
    linear-gradient(180deg, rgba(22, 19, 21, 0.96), rgba(11, 10, 13, 0.96));
}

.control-room-kpi-label {
  color: rgba(255, 206, 160, 0.62);
}

.control-room-kpi-meta {
  color: #ffbf80;
}

.control-room-filter-grid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.control-room-feed-filters,
.control-room-filter-footer,
.control-room-table-toolbar,
.control-room-drawer-section-head,
.control-room-lock-hero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.85rem;
}

.control-room-feed-filters {
  margin-top: 0.95rem;
  align-items: end;
}

.control-room-filter-footer {
  margin-top: 0.95rem;
  flex-wrap: wrap;
}

.control-room-field span,
.control-room-selected-label,
.control-room-selected-timeline span,
.control-room-mini-field span {
  color: rgba(255, 201, 151, 0.74);
}

.control-room-field input,
.control-room-field select,
.control-room-mini-field select {
  border-color: rgba(255, 161, 96, 0.14);
  background: rgba(9, 9, 12, 0.95);
  color: #fff5e9;
}

.control-room-field input::placeholder {
  color: rgba(255, 222, 191, 0.26);
}

.control-room-field input:focus,
.control-room-field select:focus,
.control-room-mini-field select:focus {
  border-color: rgba(255, 177, 108, 0.42);
  box-shadow: 0 0 0 3px rgba(255, 149, 81, 0.1);
}

.control-room-field-help {
  color: rgba(233, 208, 184, 0.58);
  font-size: 0.72rem;
}

.control-room-command-shell {
  position: relative;
}

.control-room-inline-clear {
  position: absolute;
  right: 0.55rem;
  top: 50%;
  transform: translateY(-50%);
  border: 0;
  background: transparent;
  color: rgba(255, 199, 156, 0.74);
  font-size: 0.7rem;
  font-weight: 700;
}

.control-room-command-menu {
  position: absolute;
  top: calc(100% + 0.4rem);
  left: 0;
  right: 0;
  z-index: 6;
  display: grid;
  gap: 0.22rem;
  max-height: 280px;
  overflow-y: auto;
  border-radius: 18px;
  border: 1px solid rgba(255, 159, 93, 0.16);
  background: linear-gradient(
    180deg,
    rgba(19, 17, 17, 0.98),
    rgba(11, 11, 14, 0.98)
  );
  box-shadow: 0 20px 40px -28px rgba(0, 0, 0, 0.88);
}

.control-room-command-option {
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: space-between;
  gap: 0.8rem;
  border: 0;
  background: transparent;
  padding: 0.8rem 0.9rem;
  color: #fff4e6;
  text-align: left;
}

.control-room-command-option:hover {
  background: rgba(255, 151, 79, 0.08);
}

.control-room-command-option small {
  color: rgba(255, 198, 155, 0.64);
}

.control-room-command-empty {
  padding: 0.9rem;
  color: rgba(255, 211, 177, 0.58);
  font-size: 0.82rem;
}

.control-room-lock-hero {
  padding: 1rem;
  border-radius: 20px;
  border: 1px solid rgba(255, 152, 83, 0.15);
  background:
    linear-gradient(135deg, rgba(84, 15, 12, 0.45), transparent 46%),
    linear-gradient(180deg, rgba(24, 18, 18, 0.96), rgba(14, 12, 15, 0.96));
}

.control-room-lock-id {
  margin: 0 0 0.35rem;
  color: rgba(255, 176, 113, 0.8);
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.16em;
}

.control-room-lock-score {
  display: grid;
  gap: 0.18rem;
  justify-items: end;
  text-align: right;
}

.control-room-lock-score span {
  color: rgba(255, 198, 155, 0.74);
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.control-room-lock-score strong {
  color: #fff7ed;
  font-size: clamp(1.6rem, 2vw, 2.2rem);
  line-height: 1;
}

.control-room-lock-score small {
  color: #ffbb7c;
  font-size: 0.78rem;
  font-weight: 700;
}

.control-room-pill-neutral {
  background: rgba(255, 185, 123, 0.08);
  border-color: rgba(255, 185, 123, 0.18);
  color: #ffd5ad;
}

.control-room-map-canvas,
.control-room-empty-map {
  margin-top: 0.95rem;
  height: 430px;
}

.control-room-map-canvas {
  border-color: rgba(255, 164, 99, 0.18);
}

.control-room-map-canvas .leaflet-tile {
  filter: grayscale(0.65) sepia(0.35) brightness(0.62) contrast(1.08);
}

.control-room-map-canvas .leaflet-control-zoom a,
.control-room-map-canvas .leaflet-popup-content-wrapper,
.control-room-map-canvas .leaflet-popup-tip {
  background: rgba(19, 17, 17, 0.96);
  color: #fff1de;
  border-color: rgba(255, 159, 91, 0.16);
}

.control-room-feed-list,
.control-room-table-wrap {
  overscroll-behavior: contain;
}

.control-room-feed-list {
  max-height: 440px;
}

.control-room-feed-item {
  border-color: rgba(255, 164, 98, 0.12);
  background: linear-gradient(
    180deg,
    rgba(18, 16, 18, 0.88),
    rgba(12, 11, 14, 0.92)
  );
}

.control-room-feed-item-topline {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.7rem;
}

.control-room-feed-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  border: 1px solid rgba(255, 172, 99, 0.24);
  background: rgba(255, 146, 79, 0.08);
  padding: 0.24rem 0.6rem;
  color: #ffd1ab;
  font-size: 0.68rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.control-room-table-panel {
  overflow: hidden;
}

.control-room-table-toolbar {
  margin-top: 0.95rem;
  flex-wrap: wrap;
}

.control-room-table-summary {
  display: flex;
  align-items: baseline;
  gap: 0.35rem;
  color: rgba(255, 216, 184, 0.74);
}

.control-room-table-summary strong {
  color: #fff4e9;
  font-size: 1.2rem;
}

.control-room-mini-field {
  display: inline-grid;
  gap: 0.25rem;
}

.control-room-page-indicator {
  color: #ffd2ac;
  font-size: 0.84rem;
  font-weight: 800;
  letter-spacing: 0.06em;
}

.control-room-table-wrap {
  max-width: 100%;
  max-height: 640px;
  overflow: auto;
  border-color: rgba(255, 164, 98, 0.12);
  background: linear-gradient(
    180deg,
    rgba(7, 7, 9, 0.96),
    rgba(14, 13, 15, 0.96)
  );
}

.control-room-table {
  min-width: 1120px;
  background: linear-gradient(
    180deg,
    rgba(11, 11, 13, 0.95),
    rgba(13, 13, 16, 0.95)
  );
}

.control-room-table thead th,
.control-room-table tbody td,
.control-room-feed-time,
.control-room-lock-id,
.control-room-page-indicator {
  font-family:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    monospace;
}

.control-room-table thead th {
  top: 0;
  background: linear-gradient(
    180deg,
    rgba(36, 24, 17, 0.98),
    rgba(18, 16, 16, 0.98)
  );
  color: rgba(255, 196, 146, 0.82);
  border-bottom-color: rgba(255, 164, 98, 0.12);
}

.control-room-table tbody td {
  border-bottom-color: rgba(255, 160, 94, 0.07);
  color: rgba(244, 233, 221, 0.86);
}

.control-room-table tbody tr:hover,
.control-room-table tbody tr:focus {
  background: rgba(255, 150, 84, 0.06);
}

.control-room-table tbody tr.is-selected {
  background:
    linear-gradient(
      90deg,
      rgba(255, 106, 65, 0.16),
      rgba(255, 106, 65, 0.02) 34%,
      transparent
    ),
    rgba(255, 167, 92, 0.04);
}

.control-room-drawer-shell {
  position: fixed;
  inset: 0;
  z-index: 75;
  display: flex;
  justify-content: flex-end;
}

.control-room-drawer-backdrop {
  position: absolute;
  inset: 0;
  border: 0;
  background: rgba(4, 4, 6, 0.7);
  backdrop-filter: blur(4px);
}

.control-room-drawer {
  position: relative;
  z-index: 1;
  width: min(540px, 100%);
  height: 100%;
  overflow-y: auto;
  border-left: 1px solid rgba(255, 164, 98, 0.16);
  background:
    radial-gradient(
      circle at top right,
      rgba(255, 120, 72, 0.14),
      transparent 28%
    ),
    linear-gradient(180deg, rgba(12, 12, 15, 0.98), rgba(18, 15, 16, 0.98));
  padding: 1.1rem;
  box-shadow: -22px 0 44px -30px rgba(0, 0, 0, 0.88);
}

.control-room-drawer-head {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
}

.control-room-drawer-head h3 {
  margin: 0.18rem 0 0;
  color: #fff5eb;
  font-size: 1.35rem;
  font-weight: 900;
}

.control-room-drawer-grid {
  display: grid;
  gap: 0.85rem;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  margin-top: 1rem;
}

.control-room-drawer-grid-tight {
  margin-top: 0.75rem;
}

.control-room-drawer-card {
  border-radius: 18px;
  padding: 0.95rem;
  display: grid;
  gap: 0.35rem;
}

.control-room-drawer-card strong {
  color: #fff4ea;
}

.control-room-drawer-section {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(255, 155, 88, 0.1);
}

.control-room-drawer-section-head h4 {
  margin: 0;
  color: #fff5eb;
  font-size: 1rem;
  font-weight: 800;
}

@media (max-width: 1399px) {
  .control-room-filter-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 980px) {
  .control-room-filter-grid,
  .control-room-feed-filters,
  .control-room-drawer-grid {
    grid-template-columns: 1fr;
  }

  .control-room-feed-filters,
  .control-room-filter-footer,
  .control-room-table-toolbar,
  .control-room-drawer-section-head,
  .control-room-lock-hero {
    flex-direction: column;
    align-items: stretch;
  }
}

@media (max-width: 640px) {
  .control-room-drawer {
    width: 100%;
  }

  .control-room-table {
    min-width: 980px;
  }
}

/* Final control-room hardening */
.admin-main {
  min-width: 0;
  overflow-x: hidden;
}

.control-room-page,
.control-room-shell,
.control-room-main-grid,
.control-room-telemetry-grid,
.control-room-panel,
.control-room-table-panel,
.control-room-feed-panel,
.control-room-map-panel,
.control-room-selected-panel,
.control-room-filter-panel {
  min-width: 0;
}

.control-room-page {
  max-width: 100%;
  overflow-x: clip;
}

.control-room-shell {
  width: 100%;
  max-width: min(100%, 1680px);
  margin-inline: auto;
  padding-inline: clamp(0.1rem, 0.35vw, 0.4rem);
  overflow-x: clip;
}

.control-room-shell::before {
  opacity: 0.5;
  background:
    linear-gradient(
      90deg,
      rgba(255, 103, 67, 0.11),
      transparent 20%,
      transparent 80%,
      rgba(255, 184, 94, 0.08)
    ),
    repeating-linear-gradient(
      90deg,
      rgba(255, 154, 90, 0.05) 0,
      rgba(255, 154, 90, 0.05) 1px,
      transparent 1px,
      transparent 38px
    );
}

.control-room-kpi-card,
.control-room-panel,
.control-room-drawer-card {
  border-color: rgba(255, 155, 88, 0.14);
  background:
    radial-gradient(
      circle at top right,
      rgba(255, 112, 76, 0.12),
      transparent 26%
    ),
    linear-gradient(180deg, rgba(13, 12, 13, 0.96), rgba(8, 8, 10, 0.96));
  box-shadow:
    inset 0 1px 0 rgba(255, 208, 169, 0.04),
    0 18px 34px -28px rgba(0, 0, 0, 0.9);
}

.control-room-topline-meta,
.control-room-filter-footer,
.control-room-feed-toolbar,
.control-room-map-toolbar,
.control-room-head-actions,
.control-room-chip-stack,
.control-room-alert-list,
.control-room-pagination {
  flex-wrap: wrap;
}

.control-room-filter-footer,
.control-room-feed-toolbar,
.control-room-map-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.8rem;
  margin-top: 1rem;
}

.control-room-filter-quick-actions,
.control-room-map-quick-actions {
  display: inline-flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.55rem;
}

.control-room-inline-action {
  border: 1px solid rgba(255, 162, 96, 0.18);
  border-radius: 999px;
  background: linear-gradient(
    180deg,
    rgba(31, 21, 17, 0.98),
    rgba(14, 13, 14, 0.98)
  );
  color: #ffceac;
  padding: 0.48rem 0.9rem;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  transition:
    transform 160ms ease,
    border-color 160ms ease,
    color 160ms ease,
    box-shadow 160ms ease;
}

.control-room-inline-action:hover {
  transform: translateY(-1px);
  border-color: rgba(255, 184, 120, 0.36);
  color: #fff2e6;
  box-shadow: 0 10px 18px -16px rgba(255, 133, 74, 0.7);
}

.control-room-inline-action.is-active {
  border-color: rgba(255, 108, 65, 0.4);
  color: #fff6ef;
  background: linear-gradient(
    180deg,
    rgba(71, 23, 18, 0.96),
    rgba(23, 14, 14, 0.98)
  );
  box-shadow:
    inset 0 0 0 1px rgba(255, 166, 119, 0.08),
    0 0 0 1px rgba(255, 106, 64, 0.15);
}

.control-room-map-day-label {
  display: inline-grid;
  gap: 0.18rem;
  color: rgba(255, 214, 183, 0.76);
  font-size: 0.74rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.control-room-map-day-label strong {
  color: #fff4e8;
  font-size: 0.98rem;
  letter-spacing: 0.06em;
}

.control-room-feed-toolbar {
  padding-top: 0.15rem;
  border-top: 1px solid rgba(255, 153, 89, 0.09);
}

.control-room-feed-item {
  position: relative;
  overflow: hidden;
}

.control-room-feed-item::before {
  content: "";
  position: absolute;
  inset: 0 auto 0 0;
  width: 3px;
  background: linear-gradient(
    180deg,
    rgba(255, 93, 65, 0.95),
    rgba(255, 194, 120, 0.5)
  );
  opacity: 0;
  transition: opacity 160ms ease;
}

.control-room-feed-item:hover::before,
.control-room-feed-item:focus-visible::before {
  opacity: 1;
}

.control-room-feed-list,
.control-room-table-wrap,
.control-room-drawer {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 151, 83, 0.45) rgba(14, 12, 13, 0.95);
}

.control-room-feed-list::-webkit-scrollbar,
.control-room-table-wrap::-webkit-scrollbar,
.control-room-drawer::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.control-room-feed-list::-webkit-scrollbar-thumb,
.control-room-table-wrap::-webkit-scrollbar-thumb,
.control-room-drawer::-webkit-scrollbar-thumb {
  border-radius: 999px;
  border: 2px solid rgba(14, 12, 13, 0.95);
  background: linear-gradient(
    180deg,
    rgba(255, 116, 74, 0.9),
    rgba(255, 175, 108, 0.68)
  );
}

.control-room-feed-list::-webkit-scrollbar-track,
.control-room-table-wrap::-webkit-scrollbar-track,
.control-room-drawer::-webkit-scrollbar-track {
  background: rgba(14, 12, 13, 0.92);
}

.control-room-table-wrap {
  border-radius: 20px;
  box-shadow: inset 0 0 0 1px rgba(255, 150, 83, 0.05);
}

.control-room-table {
  min-width: 1200px;
  table-layout: fixed;
}

.control-room-table tbody tr {
  position: relative;
}

.control-room-table tbody tr::before {
  content: "";
  position: absolute;
  inset: 0 auto 0 0;
  width: 2px;
  background: linear-gradient(
    180deg,
    rgba(255, 97, 66, 0.95),
    rgba(255, 185, 111, 0.4)
  );
  opacity: 0;
}

.control-room-table tbody tr:hover::before,
.control-room-table tbody tr:focus::before,
.control-room-table tbody tr.is-selected::before {
  opacity: 1;
}

.control-room-table tbody td,
.control-room-table thead th {
  white-space: normal;
  word-break: break-word;
}

.control-room-row-action,
.control-room-link-button,
.control-room-page-button,
.control-room-refresh-button,
.control-room-drawer-close,
.control-room-secondary-button {
  box-shadow: none;
}

.control-room-row-action {
  min-width: 100px;
  justify-content: center;
}

.control-room-link-button-accent {
  background: linear-gradient(
    180deg,
    rgba(77, 23, 18, 0.98),
    rgba(29, 15, 14, 0.98)
  );
}

@media (max-width: 1360px) {
  .control-room-shell {
    max-width: 100%;
  }

  .control-room-main-grid,
  .control-room-telemetry-grid {
    grid-template-columns: minmax(0, 1fr);
  }
}

@media (max-width: 980px) {
  .control-room-filter-footer,
  .control-room-feed-toolbar,
  .control-room-map-toolbar {
    align-items: stretch;
  }
}

/* Operational security matrix */
.ops-matrix-page {
  display: grid;
  gap: 1.25rem;
  max-width: 100%;
  overflow-x: clip;
}

.ops-panel,
.ops-filter-panel,
.ops-kpi-card,
.ops-card,
.ops-formula-card,
.ops-department-card,
.ops-detail-card {
  border: 1px solid rgba(148, 163, 184, 0.22);
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.95));
  box-shadow: 0 20px 50px rgba(15, 23, 42, 0.06);
}

.ops-filter-panel,
.ops-panel {
  padding: 1.2rem;
}

.ops-panel-head {
  display: flex;
  align-items: start;
  justify-content: space-between;
  gap: 1rem;
  margin-bottom: 1rem;
}

.ops-panel-head h3 {
  margin: 0.18rem 0 0;
  color: #0f172a;
  font-size: 1.05rem;
  font-weight: 700;
}

.ops-panel-kicker {
  margin: 0;
  color: #64748b;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.16em;
  text-transform: uppercase;
}

.ops-filter-summary-text,
.ops-cell-stack span,
.ops-kpi-meta,
.ops-department-card span,
.ops-formula-card span,
.ops-formula-card p,
.ops-detail-row p,
.ops-detail-card span {
  color: #64748b;
  font-size: 0.84rem;
}

.ops-filter-grid,
.ops-detail-grid,
.ops-card-grid,
.ops-formula-grid,
.ops-department-grid,
.ops-main-grid,
.ops-analytics-grid,
.ops-kpi-grid {
  display: grid;
  gap: 1rem;
}

.ops-filter-grid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.ops-field,
.ops-check-field {
  display: grid;
  gap: 0.42rem;
}

.ops-field span,
.ops-check-field span {
  color: #475569;
  font-size: 0.76rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.ops-field input,
.ops-field select,
.ops-field textarea,
.ops-feed-filters input,
.ops-feed-filters select {
  width: 100%;
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.96);
  color: #0f172a;
  padding: 0.78rem 0.88rem;
  font-size: 0.92rem;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

.ops-field input:focus,
.ops-field select:focus,
.ops-field textarea:focus,
.ops-feed-filters input:focus,
.ops-feed-filters select:focus {
  outline: none;
  border-color: rgba(59, 130, 246, 0.45);
  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.12);
}

.ops-lookup-shell {
  position: relative;
}

.ops-inline-button,
.ops-button,
.ops-sort-button {
  border: none;
  border-radius: 14px;
  cursor: pointer;
  font-weight: 700;
  transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease, color 0.18s ease;
}

.ops-inline-button {
  position: absolute;
  right: 0.5rem;
  top: 0.45rem;
  padding: 0.45rem 0.6rem;
  background: rgba(241, 245, 249, 0.95);
  color: #475569;
  font-size: 0.74rem;
}

.ops-lookup-menu {
  position: absolute;
  top: calc(100% + 0.45rem);
  left: 0;
  right: 0;
  z-index: 18;
  border: 1px solid rgba(148, 163, 184, 0.26);
  border-radius: 18px;
  background: #fff;
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.14);
  overflow: hidden;
}

.ops-lookup-option,
.ops-lookup-empty,
.ops-feed-item,
.ops-detail-row {
  display: flex;
  align-items: start;
  justify-content: space-between;
  gap: 0.8rem;
  width: 100%;
  padding: 0.9rem 1rem;
}

.ops-lookup-option {
  border: none;
  background: transparent;
  text-align: left;
}

.ops-lookup-option:hover,
.ops-feed-item:hover {
  background: rgba(248, 250, 252, 0.95);
}

.ops-filter-actions,
.ops-filter-action-group,
.ops-filter-chip-list,
.ops-detail-actions,
.ops-card-actions,
.ops-pagination-footer,
.ops-pagination-head,
.ops-feed-filters,
.ops-action-footer {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.75rem;
}

.ops-filter-actions,
.ops-pagination-footer {
  justify-content: space-between;
  margin-top: 1rem;
}

.ops-filter-chip,
.ops-status-pill,
.ops-risk-pill {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  padding: 0.42rem 0.7rem;
  font-size: 0.78rem;
  font-weight: 700;
}

.ops-filter-chip {
  background: rgba(59, 130, 246, 0.08);
  color: #1d4ed8;
}

.ops-status-pill.is-normal,
.ops-risk-pill.is-normal,
.ops-card-score.is-normal,
.ops-detail-score.is-normal {
  background: rgba(148, 163, 184, 0.12);
  color: #334155;
}

.ops-status-pill.is-watch,
.ops-risk-pill.is-watch,
.ops-card-score.is-watch,
.ops-detail-score.is-watch {
  background: rgba(245, 158, 11, 0.14);
  color: #92400e;
}

.ops-status-pill.is-critical,
.ops-risk-pill.is-critical,
.ops-card-score.is-critical,
.ops-detail-score.is-critical {
  background: rgba(220, 38, 38, 0.14);
  color: #991b1b;
}

.ops-button {
  padding: 0.75rem 1rem;
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.08);
}

.ops-button:hover,
.ops-sort-button:hover,
.ops-inline-button:hover {
  transform: translateY(-1px);
}

.ops-button-primary { background: #0f172a; color: #fff; }
.ops-button-secondary { background: #e2e8f0; color: #0f172a; }
.ops-button-ghost { background: rgba(241, 245, 249, 0.92); color: #334155; }
.ops-button-info { background: rgba(59, 130, 246, 0.12); color: #1d4ed8; }
.ops-button-warning { background: rgba(245, 158, 11, 0.14); color: #92400e; }
.ops-button-danger { background: rgba(220, 38, 38, 0.14); color: #991b1b; }

.ops-kpi-grid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.ops-kpi-card {
  padding: 1rem 1.05rem;
}

.ops-kpi-label {
  color: #64748b;
  font-size: 0.8rem;
  font-weight: 700;
}

.ops-kpi-value {
  display: block;
  margin-top: 0.3rem;
  color: #0f172a;
  font-size: clamp(1.4rem, 2vw, 2rem);
  line-height: 1;
}

.ops-analytics-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.ops-panel-span-2 { grid-column: span 2; }
.ops-main-grid { grid-template-columns: 1.3fr 0.9fr; }

.ops-bar-list,
.ops-trend-list,
.ops-detail-list {
  display: grid;
  gap: 0.8rem;
}

.ops-bar-row {
  display: grid;
  grid-template-columns: 72px minmax(0, 1fr) 42px;
  gap: 0.75rem;
  align-items: center;
}

.ops-bar-track {
  height: 12px;
  border-radius: 999px;
  background: rgba(226, 232, 240, 0.9);
  overflow: hidden;
}

.ops-bar-fill,
.ops-trend-bar {
  border-radius: 999px;
  background: linear-gradient(90deg, #3b82f6, #1d4ed8);
}

.ops-bar-fill-info { height: 100%; }

.ops-trend-list {
  grid-template-columns: repeat(7, minmax(0, 1fr));
  align-items: end;
  min-height: 220px;
}

.ops-trend-item {
  display: grid;
  justify-items: center;
  gap: 0.45rem;
  min-height: 100%;
}

.ops-trend-bar {
  width: 100%;
  min-height: 12px;
  background: linear-gradient(180deg, #93c5fd, #1d4ed8);
}

.ops-department-grid,
.ops-formula-grid,
.ops-detail-grid {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.ops-department-card,
.ops-formula-card,
.ops-detail-card {
  padding: 1rem;
  display: grid;
  gap: 0.35rem;
}

.ops-table-panel {
  overflow: hidden;
}

.ops-table-wrap {
  overflow: auto;
  border: 1px solid rgba(226, 232, 240, 0.9);
  border-radius: 18px;
  max-width: 100%;
}

.ops-table {
  width: 100%;
  min-width: 1380px;
  border-collapse: collapse;
}

.ops-table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: #f8fafc;
  color: #475569;
  font-size: 0.74rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.ops-table th,
.ops-table td {
  padding: 0.95rem 0.85rem;
  border-bottom: 1px solid rgba(226, 232, 240, 0.9);
  vertical-align: top;
}

.ops-sort-button {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0;
  background: transparent;
  color: inherit;
}

.ops-cell-stack {
  display: grid;
  gap: 0.18rem;
}

.ops-card-list { display: none; }

.ops-card {
  padding: 1rem;
  display: grid;
  gap: 0.95rem;
}

.ops-card-head,
.ops-detail-hero {
  display: flex;
  align-items: start;
  justify-content: space-between;
  gap: 1rem;
}

.ops-card-head h4,
.ops-detail-hero h3 {
  margin: 0;
  color: #0f172a;
  font-size: 1.05rem;
}

.ops-card-head p,
.ops-detail-hero p { margin: 0.25rem 0 0; color: #64748b; }

.ops-card-score,
.ops-detail-score {
  min-width: 100px;
  border-radius: 18px;
  padding: 0.8rem 0.9rem;
  text-align: center;
}

.ops-card-score strong,
.ops-detail-score strong {
  display: block;
  font-size: 1.45rem;
}

.ops-card-primary {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  color: #475569;
}

.ops-card-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.ops-card-grid div { display: grid; gap: 0.15rem; }
.ops-card-grid span { color: #64748b; font-size: 0.78rem; text-transform: uppercase; letter-spacing: 0.06em; }
.ops-card-grid strong { color: #0f172a; }
.ops-card-details summary { cursor: pointer; font-weight: 700; color: #0f172a; }
.ops-card-details[open] .ops-card-grid { margin-top: 0.75rem; }

.ops-feed-list,
.ops-detail-list-scroll {
  max-height: 520px;
  overflow: auto;
}

.ops-feed-item,
.ops-detail-row {
  border: 1px solid rgba(226, 232, 240, 0.8);
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.94);
  color: #0f172a;
}

.ops-detail-shell,
.ops-detail-section,
.ops-action-form {
  display: grid;
  gap: 1rem;
}

.ops-detail-row-side {
  display: grid;
  justify-items: end;
  gap: 0.2rem;
  white-space: nowrap;
}

.ops-empty-state {
  padding: 1rem;
  border: 1px dashed rgba(148, 163, 184, 0.4);
  border-radius: 18px;
  color: #64748b;
  text-align: center;
}

@media (max-width: 1400px) {
  .ops-filter-grid,
  .ops-kpi-grid,
  .ops-detail-grid,
  .ops-formula-grid,
  .ops-department-grid,
  .ops-main-grid,
  .ops-analytics-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .ops-table-wrap {
    display: none;
  }

  .ops-card-list {
    display: grid;
    gap: 1rem;
  }
}

@media (max-width: 1024px) {
  .ops-filter-grid,
  .ops-kpi-grid,
  .ops-detail-grid,
  .ops-formula-grid,
  .ops-department-grid,
  .ops-main-grid,
  .ops-analytics-grid {
    grid-template-columns: 1fr;
  }

  .ops-card-details {
    display: block;
  }
}

@media (max-width: 768px) {
  .ops-filter-panel,
  .ops-panel,
  .ops-card,
  .ops-kpi-card {
    padding: 1rem;
    border-radius: 18px;
  }

  .ops-card-grid,
  .ops-card-details,
  .ops-detail-grid,
  .ops-formula-grid,
  .ops-department-grid {
    grid-template-columns: 1fr;
  }

  .ops-card-grid-detail,
  .ops-card-details,
  .ops-detail-row-side,
  .ops-feed-item div:nth-child(2),
  .ops-feed-item div:nth-child(3) {
    display: none;
  }

  .ops-card-primary span:nth-child(n + 3) {
    display: none;
  }
}

/* Management Console */
.mc-console {
  --mc-bg: #f4f7fb;
  --mc-surface: #ffffff;
  --mc-surface-muted: #f8fafc;
  --mc-surface-soft: #eef4fb;
  --mc-border: #d8e1ec;
  --mc-border-strong: #c4d3e5;
  --mc-text: #142235;
  --mc-text-muted: #5d7087;
  --mc-text-soft: #7b8ca1;
  --mc-blue: #175cd3;
  --mc-blue-soft: #dce9ff;
  --mc-blue-strong: #1246a2;
  --mc-watch: #b76e00;
  --mc-watch-soft: #fff0d1;
  --mc-danger: #c2413c;
  --mc-danger-soft: #fee5e3;
  --mc-success: #0f766e;
  --mc-success-soft: #dff7f2;
  --mc-shadow: 0 18px 42px rgba(15, 23, 42, 0.06);
  display: grid;
  gap: 1.25rem;
  color: var(--mc-text);
  font-family: "Aptos", "Segoe UI", "Noto Sans", sans-serif;
}

.mc-header,
.mc-panel,
.mc-kpi,
.mc-modal__panel,
.mc-notification-card,
.mc-detail__stat,
.mc-detail__list-row,
.mc-timeline__item,
.mc-department-card {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(249, 251, 255, 0.98));
  border: 1px solid var(--mc-border);
  box-shadow: var(--mc-shadow);
}

.mc-header,
.mc-panel,
.mc-modal__panel {
  border-radius: 24px;
}

.mc-header__actions,
.mc-filter-footer,
.mc-filter-footer__actions,
.mc-layout-toolbar,
.mc-layout-toolbar__summary,
.mc-map-panel__toolbar,
.mc-map-panel__footer,
.mc-legend,
.mc-action-strip,
.mc-action-composer__footer,
.mc-action-composer__actions,
.mc-pagination {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.75rem;
}

.mc-header__actions {
  justify-content: flex-end;
}

.mc-kicker {
  margin: 0;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--mc-text-soft);
}

.mc-hero {
  display: grid;
  grid-template-columns: minmax(0, 1.9fr) minmax(260px, 0.9fr);
  gap: 1.25rem;
  padding: 1.4rem;
  border-top: 1px solid var(--mc-border);
}

.mc-hero__title {
  margin: 0.45rem 0 0;
  font-size: clamp(1.45rem, 2vw, 2.1rem);
  line-height: 1.15;
  font-weight: 700;
  color: var(--mc-text);
}

.mc-hero__text,
.mc-hero__meta span,
.mc-kpi__meta,
.mc-table-cell span,
.mc-meta,
.mc-notification-card__meta,
.mc-detail__section-head p,
.mc-detail__stat span,
.mc-detail__stat small,
.mc-timeline__body p,
.mc-timeline__meta,
.mc-detail__list-row p,
.mc-detail__list-side span,
.mc-playback__head span,
.mc-playback__meta span {
  color: var(--mc-text-muted);
  font-size: 0.92rem;
}

.mc-hero__copy,
.mc-hero__meta {
  display: grid;
  gap: 0.55rem;
}

.mc-hero__meta {
  align-content: start;
  padding: 1.2rem;
  border-radius: 20px;
  background: linear-gradient(180deg, #f7fbff, #eef5ff);
  border: 1px solid var(--mc-border-strong);
}

.mc-hero__meta strong {
  font-size: 1.15rem;
  color: var(--mc-blue-strong);
}

.mc-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.45rem;
  min-height: 42px;
  padding: 0.75rem 1rem;
  border: 1px solid transparent;
  border-radius: 14px;
  font-size: 0.92rem;
  font-weight: 700;
  text-decoration: none;
  cursor: pointer;
  transition:
    background-color 0.18s ease,
    border-color 0.18s ease,
    color 0.18s ease,
    transform 0.18s ease,
    box-shadow 0.18s ease;
}

.mc-button:hover {
  transform: translateY(-1px);
}

.mc-button--primary {
  background: linear-gradient(180deg, #1d63e0, #154eb8);
  border-color: #154eb8;
  color: #fff;
}

.mc-button--secondary {
  background: linear-gradient(180deg, #f9fbff, #eef3fb);
  border-color: var(--mc-border-strong);
  color: var(--mc-text);
}

.mc-button--ghost {
  background: #fff;
  border-color: var(--mc-border);
  color: var(--mc-text);
}

.mc-button--danger {
  background: linear-gradient(180deg, #d45650, #ba3f39);
  border-color: #ba3f39;
  color: #fff;
}

.mc-status-pill,
.mc-risk-pill,
.mc-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;
  padding: 0.45rem 0.72rem;
  border-radius: 999px;
  font-size: 0.78rem;
  font-weight: 700;
}

.mc-status-pill.is-normal,
.mc-risk-pill.is-normal {
  background: var(--mc-success-soft);
  color: var(--mc-success);
}

.mc-status-pill.is-watch,
.mc-risk-pill.is-watch {
  background: var(--mc-watch-soft);
  color: var(--mc-watch);
}

.mc-status-pill.is-critical,
.mc-risk-pill.is-critical {
  background: var(--mc-danger-soft);
  color: var(--mc-danger);
}

.mc-kpi-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(7, minmax(0, 1fr));
}

.mc-kpi {
  display: grid;
  gap: 0.45rem;
  padding: 1.15rem;
  border-radius: 20px;
}

.mc-kpi--emphasis {
  background: linear-gradient(180deg, #eef5ff, #ffffff);
  border-color: #c7d8f3;
}

.mc-kpi__label {
  font-size: 0.78rem;
  font-weight: 700;
  color: var(--mc-text-soft);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.mc-kpi__value {
  font-size: clamp(1.45rem, 2vw, 2rem);
  line-height: 1;
  color: var(--mc-text);
}

.mc-panel {
  display: grid;
  gap: 1rem;
  padding: 1.25rem;
}

.mc-panel__head {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
}

.mc-panel__title {
  margin: 0.2rem 0 0;
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--mc-text);
}

.mc-field,
.mc-check {
  display: grid;
  gap: 0.45rem;
}

.mc-field span,
.mc-check span {
  font-size: 0.78rem;
  font-weight: 700;
  color: var(--mc-text-soft);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.mc-field input,
.mc-field select,
.mc-field textarea,
.mc-playback input[type="range"] {
  width: 100%;
}

.mc-field input,
.mc-field select,
.mc-field textarea {
  min-height: 46px;
  border: 1px solid var(--mc-border-strong);
  border-radius: 14px;
  padding: 0.82rem 0.92rem;
  color: var(--mc-text);
  background: #fff;
}

.mc-field textarea {
  min-height: 120px;
  resize: vertical;
}

.mc-filter-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.mc-filter-footer {
  justify-content: space-between;
}

.mc-chip-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
}

.mc-chip {
  background: var(--mc-blue-soft);
  color: var(--mc-blue-strong);
}

.mc-layout-toolbar {
  justify-content: space-between;
  gap: 1rem;
}

.mc-layout-toolbar__summary {
  flex-direction: column;
  align-items: flex-start;
  gap: 0.25rem;
}

.mc-layout {
  display: grid;
  gap: 1rem;
  grid-template-columns: minmax(0, 1.6fr) minmax(340px, 0.92fr);
  align-items: start;
}

.mc-layout.is-collapsed {
  grid-template-columns: minmax(0, 1fr);
}

.mc-layout__main,
.mc-layout__rail,
.mc-secondary-grid {
  display: grid;
  gap: 1rem;
}

.mc-secondary-grid {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.mc-panel--wide {
  grid-column: 1 / -1;
}

.mc-table-head {
  display: grid;
  grid-template-columns: 1.4fr 1fr 0.6fr 0.78fr 0.7fr 0.7fr 0.8fr 1fr 0.95fr 0.95fr;
  gap: 0.75rem;
  padding: 0 1rem 0.65rem;
  border-bottom: 1px solid var(--mc-border);
}

.mc-table-head__cell {
  min-width: 0;
  font-size: 0.74rem;
  font-weight: 800;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--mc-text-soft);
}

.mc-table-head__button {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  border: 0;
  padding: 0;
  background: transparent;
  color: inherit;
  font: inherit;
  cursor: pointer;
}

.mc-table-viewport {
  height: 620px;
  overflow: auto;
  padding: 0 0.25rem;
}

.mc-table-row {
  width: 100%;
  display: grid;
  grid-template-columns: 1.4fr 1fr 0.6fr 0.78fr 0.7fr 0.7fr 0.8fr 1fr 0.95fr 0.95fr;
  gap: 0.75rem;
  align-items: center;
  min-height: 74px;
  padding: 0.7rem 0.75rem;
  border: 0;
  border-radius: 18px;
  background: transparent;
  text-align: left;
  cursor: pointer;
  transition: background-color 0.18s ease, border-color 0.18s ease;
}

.mc-table-row:hover,
.mc-table-row.is-selected {
  background: var(--mc-surface-soft);
}

.mc-table-cell {
  min-width: 0;
  color: var(--mc-text);
  font-size: 0.92rem;
}

.mc-table-cell strong {
  display: block;
  font-size: 0.95rem;
  font-weight: 700;
  color: var(--mc-text);
}

.mc-table-cell--stack {
  display: grid;
  gap: 0.22rem;
}

.mc-pagination {
  justify-content: space-between;
  padding-top: 0.65rem;
  border-top: 1px solid var(--mc-border);
}

.mc-histogram,
.mc-trend,
.mc-notification-list,
.mc-detail__list,
.mc-timeline {
  display: grid;
  gap: 0.8rem;
}

.mc-histogram__row {
  display: grid;
  grid-template-columns: 88px minmax(0, 1fr) 42px;
  gap: 0.75rem;
  align-items: center;
}

.mc-histogram__track {
  height: 12px;
  border-radius: 999px;
  background: #eaf0f7;
  overflow: hidden;
}

.mc-histogram__fill,
.mc-trend__fill,
.mc-risk-history__fill {
  background: linear-gradient(180deg, #2a72f8, #1656cb);
}

.mc-histogram__fill {
  height: 100%;
  border-radius: inherit;
}

.mc-trend {
  min-height: 240px;
  align-items: end;
  grid-template-columns: repeat(7, minmax(0, 1fr));
}

.mc-trend__item {
  display: grid;
  justify-items: center;
  gap: 0.45rem;
}

.mc-trend__bar {
  width: 100%;
  min-height: 152px;
  display: flex;
  align-items: end;
  border-radius: 16px;
  padding: 0.35rem;
  background: #eef3f9;
}

.mc-trend__fill {
  width: 100%;
  min-height: 12px;
  border-radius: 12px;
}

.mc-department-grid {
  display: grid;
  gap: 0.9rem;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.mc-department-card {
  display: grid;
  gap: 0.3rem;
  padding: 1rem;
  border-radius: 18px;
}

.mc-map-panel__filters {
  display: grid;
  gap: 0.85rem;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.mc-map-panel__toolbar,
.mc-map-panel__footer {
  justify-content: space-between;
}

.mc-map {
  height: 420px;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--mc-border);
}

.mc-map__cluster {
  display: grid;
  place-items: center;
  border-radius: 999px;
  background: linear-gradient(180deg, #1559cf, #0f4cad);
  color: #fff;
  font-weight: 700;
  box-shadow: 0 10px 24px rgba(23, 92, 211, 0.24);
}

.mc-map__popup {
  display: grid;
  gap: 0.28rem;
  min-width: 220px;
  color: var(--mc-text);
  font-size: 0.88rem;
}

.mc-legend__item {
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  color: var(--mc-text-muted);
  font-size: 0.88rem;
}

.mc-legend__dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
}

.mc-legend__dot--entry {
  background: #2563eb;
}

.mc-legend__dot--exit {
  background: #d97706;
}

.mc-playback {
  display: grid;
  gap: 0.7rem;
  padding: 0.95rem 1rem;
  border-radius: 18px;
  background: var(--mc-surface-muted);
  border: 1px solid var(--mc-border);
}

.mc-playback__head {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
}

.mc-playback__meta {
  display: grid;
  justify-items: end;
}

.mc-notification-card {
  display: grid;
  gap: 0.8rem;
  padding: 1rem;
  border-radius: 18px;
}

.mc-notification-card__head,
.mc-notification-card__footer {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0.75rem;
}

.mc-notification-card__head strong,
.mc-detail__section-head h4,
.mc-detail__list-row strong,
.mc-playback__head strong {
  color: var(--mc-text);
  font-size: 0.98rem;
}

.mc-notification-card p {
  margin: 0;
  color: var(--mc-text-muted);
  line-height: 1.55;
}

.mc-notification-card__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem 1rem;
}

.mc-empty-state {
  display: grid;
  place-items: center;
  min-height: 112px;
  padding: 1rem;
  border-radius: 18px;
  border: 1px dashed var(--mc-border-strong);
  background: var(--mc-surface-muted);
  color: var(--mc-text-muted);
  text-align: center;
}

.mc-modal {
  position: fixed;
  inset: 0;
  z-index: 90;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.25rem;
}

.mc-modal.is-right {
  justify-content: flex-end;
  padding: 0;
}

.mc-modal__backdrop {
  position: absolute;
  inset: 0;
  border: 0;
  background: rgba(15, 23, 42, 0.36);
  backdrop-filter: blur(6px);
  cursor: pointer;
}

.mc-modal__panel {
  position: relative;
  z-index: 1;
  width: min(100%, 880px);
  max-height: calc(100vh - 2.5rem);
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
  overflow: hidden;
  animation: mc-modal-in 180ms ease-out both;
}

.mc-modal__panel.is-right {
  width: min(100%, 1080px);
  height: 100vh;
  max-height: 100vh;
  border-radius: 0;
  border-left: 1px solid var(--mc-border);
}

.mc-modal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 1.1rem 1.35rem;
  border-bottom: 1px solid var(--mc-border);
  background: rgba(255, 255, 255, 0.92);
}

.mc-modal__header h4 {
  margin: 0;
  font-size: 1.02rem;
  font-weight: 700;
  color: var(--mc-text);
}

.mc-modal__body {
  min-height: 0;
  overflow: auto;
  padding: 1.35rem;
}

.mc-detail,
.mc-detail__layout,
.mc-detail__main,
.mc-detail__side,
.mc-detail__section,
.mc-detail__stats,
.mc-action-composer,
.mc-risk-history {
  display: grid;
  gap: 1rem;
}

.mc-detail__hero {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
}

.mc-detail__identity h3 {
  margin: 0.28rem 0 0;
  font-size: 1.6rem;
  line-height: 1.1;
}

.mc-detail__identity p {
  margin: 0.35rem 0 0;
  color: var(--mc-text-muted);
}

.mc-detail__score {
  min-width: 112px;
  display: grid;
  gap: 0.2rem;
  justify-items: center;
  padding: 1rem;
  border-radius: 20px;
  font-weight: 700;
}

.mc-detail__score.is-normal {
  background: var(--mc-success-soft);
  color: var(--mc-success);
}

.mc-detail__score.is-watch {
  background: var(--mc-watch-soft);
  color: var(--mc-watch);
}

.mc-detail__score.is-critical {
  background: var(--mc-danger-soft);
  color: var(--mc-danger);
}

.mc-detail__stats {
  grid-template-columns: repeat(6, minmax(0, 1fr));
}

.mc-detail__stat {
  display: grid;
  gap: 0.25rem;
  padding: 1rem;
  border-radius: 18px;
}

.mc-detail__stat strong {
  font-size: 1rem;
}

.mc-detail__layout {
  grid-template-columns: minmax(0, 1.3fr) minmax(320px, 0.9fr);
}

.mc-detail__section {
  padding: 1.05rem;
  border-radius: 20px;
  border: 1px solid var(--mc-border);
  background: var(--mc-surface-muted);
}

.mc-detail__section-head {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
}

.mc-detail__section-head p {
  margin: 0.2rem 0 0;
}

.mc-timeline__item,
.mc-detail__list-row {
  display: grid;
  gap: 0.75rem;
  padding: 0.92rem;
  border-radius: 18px;
}

.mc-timeline__item {
  grid-template-columns: 40px minmax(0, 1fr) minmax(160px, 0.7fr);
  align-items: center;
}

.mc-timeline__icon {
  display: grid;
  place-items: center;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: var(--mc-blue-soft);
  color: var(--mc-blue-strong);
  font-weight: 800;
}

.mc-timeline__meta,
.mc-detail__list-side {
  display: grid;
  justify-items: end;
  gap: 0.2rem;
  text-align: right;
}

.mc-risk-history {
  grid-template-columns: repeat(7, minmax(0, 1fr));
  align-items: end;
  min-height: 220px;
}

.mc-risk-history__item {
  display: grid;
  justify-items: center;
  gap: 0.45rem;
}

.mc-risk-history__bar {
  width: 100%;
  min-height: 140px;
  display: flex;
  align-items: end;
  padding: 0.35rem;
  border-radius: 16px;
  background: #eaf0f7;
}

.mc-risk-history__fill {
  width: 100%;
  min-height: 12px;
  border-radius: 12px;
}

.mc-action-composer {
  padding: 0.95rem;
  border-radius: 18px;
  border: 1px solid var(--mc-border);
  background: #fff;
}

.mc-action-composer__footer {
  justify-content: space-between;
}

.mc-table-viewport,
.mc-modal__body,
.mc-notification-list {
  scrollbar-width: thin;
  scrollbar-color: #b8c7dc #eef3f9;
}

.mc-table-viewport::-webkit-scrollbar,
.mc-modal__body::-webkit-scrollbar,
.mc-notification-list::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.mc-table-viewport::-webkit-scrollbar-thumb,
.mc-modal__body::-webkit-scrollbar-thumb,
.mc-notification-list::-webkit-scrollbar-thumb {
  background: #b8c7dc;
  border: 2px solid #eef3f9;
  border-radius: 999px;
}

.mc-table-viewport::-webkit-scrollbar-track,
.mc-modal__body::-webkit-scrollbar-track,
.mc-notification-list::-webkit-scrollbar-track {
  background: #eef3f9;
}

@keyframes mc-modal-in {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.985);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (max-width: 1600px) {
  .mc-kpi-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

@media (max-width: 1280px) {
  .mc-layout,
  .mc-detail__layout,
  .mc-hero,
  .mc-secondary-grid,
  .mc-filter-grid,
  .mc-map-panel__filters,
  .mc-department-grid,
  .mc-detail__stats {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mc-table-head,
  .mc-table-row {
    grid-template-columns: 1.3fr 0.9fr 0.6fr 0.7fr 0.6fr 0.6fr 0.7fr 0.9fr 0.8fr 0.85fr;
  }
}

@media (max-width: 960px) {
  .mc-kpi-grid,
  .mc-layout,
  .mc-hero,
  .mc-secondary-grid,
  .mc-filter-grid,
  .mc-map-panel__filters,
  .mc-department-grid,
  .mc-detail__stats,
  .mc-detail__layout,
  .mc-risk-history {
    grid-template-columns: 1fr;
  }

  .mc-header__actions,
  .mc-layout-toolbar,
  .mc-filter-footer,
  .mc-map-panel__toolbar,
  .mc-map-panel__footer,
  .mc-playback__head,
  .mc-detail__hero,
  .mc-detail__section-head,
  .mc-action-composer__footer,
  .mc-notification-card__head,
  .mc-notification-card__footer {
    flex-direction: column;
    align-items: stretch;
  }

  .mc-table-head {
    display: none;
  }

  .mc-table-row {
    grid-template-columns: 1fr;
    padding: 1rem;
    border: 1px solid var(--mc-border);
    margin-bottom: 0.75rem;
  }

  .mc-table-viewport {
    height: auto;
    max-height: 68vh;
  }

  .mc-timeline__item {
    grid-template-columns: 40px minmax(0, 1fr);
  }

  .mc-timeline__meta,
  .mc-detail__list-side {
    justify-items: start;
    text-align: left;
  }

  .mc-modal {
    padding: 0;
  }

  .mc-modal__panel,
  .mc-modal__panel.is-right {
    width: 100%;
    height: 100vh;
    max-height: 100vh;
    border-radius: 0;
  }
}
