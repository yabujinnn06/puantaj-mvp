(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();function sd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var um={exports:{}},Uo={};var Gy;function xN(){if(Gy)return Uo;Gy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var y in d)y!=="key"&&(m[y]=d[y])}else m=d;return d=m.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:m}}return Uo.Fragment=a,Uo.jsx=l,Uo.jsxs=l,Uo}var Yy;function vN(){return Yy||(Yy=1,um.exports=xN()),um.exports}var s=vN(),cm={exports:{}},tt={};var $y;function _N(){if($y)return tt;$y=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function Z(M,ae,P){this.props=M,this.context=ae,this.refs=O,this.updater=P||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(M,ae){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ae,"setState")},Z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function D(){}D.prototype=Z.prototype;function R(M,ae,P){this.props=M,this.context=ae,this.refs=O,this.updater=P||k}var V=R.prototype=new D;V.constructor=R,A(V,Z.prototype),V.isPureReactComponent=!0;var Y=Array.isArray;function G(){}var Q={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function ie(M,ae,P){var K=P.ref;return{$$typeof:t,type:M,key:ae,ref:K!==void 0?K:null,props:P}}function ye(M,ae){return ie(M.type,ae,M.props)}function te(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function oe(M){var ae={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(P){return ae[P]})}var le=/\/+/g;function F(M,ae){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):ae.toString(36)}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(G,G):(M.status="pending",M.then(function(ae){M.status==="pending"&&(M.status="fulfilled",M.value=ae)},function(ae){M.status==="pending"&&(M.status="rejected",M.reason=ae)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,ae,P,K,xe){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(we){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case t:case a:Me=!0;break;case S:return Me=M._init,q(Me(M._payload),ae,P,K,xe)}}if(Me)return xe=xe(M),Me=K===""?"."+F(M,0):K,Y(xe)?(P="",Me!=null&&(P=Me.replace(le,"$&/")+"/"),q(xe,ae,P,"",function(lt){return lt})):xe!=null&&(te(xe)&&(xe=ye(xe,P+(xe.key==null||M&&M.key===xe.key?"":(""+xe.key).replace(le,"$&/")+"/")+Me)),ae.push(xe)),1;Me=0;var Fe=K===""?".":K+":";if(Y(M))for(var He=0;He<M.length;He++)K=M[He],we=Fe+F(K,He),Me+=q(K,ae,P,we,xe);else if(He=z(M),typeof He=="function")for(M=He.call(M),He=0;!(K=M.next()).done;)K=K.value,we=Fe+F(K,He++),Me+=q(K,ae,P,we,xe);else if(we==="object"){if(typeof M.then=="function")return q(re(M),ae,P,K,xe);throw ae=String(M),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Me}function U(M,ae,P){if(M==null)return M;var K=[],xe=0;return q(M,K,"","",function(we){return ae.call(P,we,xe++)}),K}function ce(M){if(M._status===-1){var ae=M._result;ae=ae(),ae.then(function(P){(M._status===0||M._status===-1)&&(M._status=1,M._result=P)},function(P){(M._status===0||M._status===-1)&&(M._status=2,M._result=P)}),M._status===-1&&(M._status=0,M._result=ae)}if(M._status===1)return M._result.default;throw M._result}var ke=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},W={map:U,forEach:function(M,ae,P){U(M,function(){ae.apply(this,arguments)},P)},count:function(M){var ae=0;return U(M,function(){ae++}),ae},toArray:function(M){return U(M,function(ae){return ae})||[]},only:function(M){if(!te(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return tt.Activity=w,tt.Children=W,tt.Component=Z,tt.Fragment=l,tt.Profiler=d,tt.PureComponent=R,tt.StrictMode=o,tt.Suspense=v,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Q.H.useMemoCache(M)}},tt.cache=function(M){return function(){return M.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(M,ae,P){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var K=A({},M.props),xe=M.key;if(ae!=null)for(we in ae.key!==void 0&&(xe=""+ae.key),ae)!J.call(ae,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ae.ref===void 0||(K[we]=ae[we]);var we=arguments.length-2;if(we===1)K.children=P;else if(1<we){for(var Me=Array(we),Fe=0;Fe<we;Fe++)Me[Fe]=arguments[Fe+2];K.children=Me}return ie(M.type,xe,K)},tt.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:m,_context:M},M},tt.createElement=function(M,ae,P){var K,xe={},we=null;if(ae!=null)for(K in ae.key!==void 0&&(we=""+ae.key),ae)J.call(ae,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(xe[K]=ae[K]);var Me=arguments.length-2;if(Me===1)xe.children=P;else if(1<Me){for(var Fe=Array(Me),He=0;He<Me;He++)Fe[He]=arguments[He+2];xe.children=Fe}if(M&&M.defaultProps)for(K in Me=M.defaultProps,Me)xe[K]===void 0&&(xe[K]=Me[K]);return ie(M,we,xe)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(M){return{$$typeof:y,render:M}},tt.isValidElement=te,tt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ce}},tt.memo=function(M,ae){return{$$typeof:_,type:M,compare:ae===void 0?null:ae}},tt.startTransition=function(M){var ae=Q.T,P={};Q.T=P;try{var K=M(),xe=Q.S;xe!==null&&xe(P,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(G,ke)}catch(we){ke(we)}finally{ae!==null&&P.types!==null&&(ae.types=P.types),Q.T=ae}},tt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},tt.use=function(M){return Q.H.use(M)},tt.useActionState=function(M,ae,P){return Q.H.useActionState(M,ae,P)},tt.useCallback=function(M,ae){return Q.H.useCallback(M,ae)},tt.useContext=function(M){return Q.H.useContext(M)},tt.useDebugValue=function(){},tt.useDeferredValue=function(M,ae){return Q.H.useDeferredValue(M,ae)},tt.useEffect=function(M,ae){return Q.H.useEffect(M,ae)},tt.useEffectEvent=function(M){return Q.H.useEffectEvent(M)},tt.useId=function(){return Q.H.useId()},tt.useImperativeHandle=function(M,ae,P){return Q.H.useImperativeHandle(M,ae,P)},tt.useInsertionEffect=function(M,ae){return Q.H.useInsertionEffect(M,ae)},tt.useLayoutEffect=function(M,ae){return Q.H.useLayoutEffect(M,ae)},tt.useMemo=function(M,ae){return Q.H.useMemo(M,ae)},tt.useOptimistic=function(M,ae){return Q.H.useOptimistic(M,ae)},tt.useReducer=function(M,ae,P){return Q.H.useReducer(M,ae,P)},tt.useRef=function(M){return Q.H.useRef(M)},tt.useState=function(M){return Q.H.useState(M)},tt.useSyncExternalStore=function(M,ae,P){return Q.H.useSyncExternalStore(M,ae,P)},tt.useTransition=function(){return Q.H.useTransition()},tt.version="19.2.4",tt}var Xy;function Nf(){return Xy||(Xy=1,cm.exports=_N()),cm.exports}var j=Nf();const bN=sd(j);var dm={exports:{}},Zo={},hm={exports:{}},mm={};var Jy;function NN(){return Jy||(Jy=1,(function(t){function a(q,U){var ce=q.length;q.push(U);e:for(;0<ce;){var ke=ce-1>>>1,W=q[ke];if(0<d(W,U))q[ke]=U,q[ce]=W,ce=ke;else break e}}function l(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var U=q[0],ce=q.pop();if(ce!==U){q[0]=ce;e:for(var ke=0,W=q.length,M=W>>>1;ke<M;){var ae=2*(ke+1)-1,P=q[ae],K=ae+1,xe=q[K];if(0>d(P,ce))K<W&&0>d(xe,P)?(q[ke]=xe,q[K]=ce,ke=K):(q[ke]=P,q[ae]=ce,ke=ae);else if(K<W&&0>d(xe,ce))q[ke]=xe,q[K]=ce,ke=K;else break e}}return U}function d(q,U){var ce=q.sortIndex-U.sortIndex;return ce!==0?ce:q.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var p=Date,y=p.now();t.unstable_now=function(){return p.now()-y}}var v=[],_=[],S=1,w=null,C=3,z=!1,k=!1,A=!1,O=!1,Z=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var U=l(_);U!==null;){if(U.callback===null)o(_);else if(U.startTime<=q)o(_),U.sortIndex=U.expirationTime,a(v,U);else break;U=l(_)}}function Y(q){if(A=!1,V(q),!k)if(l(v)!==null)k=!0,G||(G=!0,oe());else{var U=l(_);U!==null&&re(Y,U.startTime-q)}}var G=!1,Q=-1,J=5,ie=-1;function ye(){return O?!0:!(t.unstable_now()-ie<J)}function te(){if(O=!1,G){var q=t.unstable_now();ie=q;var U=!0;try{e:{k=!1,A&&(A=!1,D(Q),Q=-1),z=!0;var ce=C;try{t:{for(V(q),w=l(v);w!==null&&!(w.expirationTime>q&&ye());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,C=w.priorityLevel;var W=ke(w.expirationTime<=q);if(q=t.unstable_now(),typeof W=="function"){w.callback=W,V(q),U=!0;break t}w===l(v)&&o(v),V(q)}else o(v);w=l(v)}if(w!==null)U=!0;else{var M=l(_);M!==null&&re(Y,M.startTime-q),U=!1}}break e}finally{w=null,C=ce,z=!1}U=void 0}}finally{U?oe():G=!1}}}var oe;if(typeof R=="function")oe=function(){R(te)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,F=le.port2;le.port1.onmessage=te,oe=function(){F.postMessage(null)}}else oe=function(){Z(te,0)};function re(q,U){Q=Z(function(){q(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(q){switch(C){case 1:case 2:case 3:var U=3;break;default:U=C}var ce=C;C=U;try{return q()}finally{C=ce}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(q,U){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=C;C=q;try{return U()}finally{C=ce}},t.unstable_scheduleCallback=function(q,U,ce){var ke=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ke+ce:ke):ce=ke,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ce+W,q={id:S++,callback:U,priorityLevel:q,startTime:ce,expirationTime:W,sortIndex:-1},ce>ke?(q.sortIndex=ce,a(_,q),l(v)===null&&q===l(_)&&(A?(D(Q),Q=-1):A=!0,re(Y,ce-ke))):(q.sortIndex=W,a(v,q),k||z||(k=!0,G||(G=!0,oe()))),q},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(q){var U=C;return function(){var ce=C;C=U;try{return q.apply(this,arguments)}finally{C=ce}}}})(mm)),mm}var Wy;function jN(){return Wy||(Wy=1,hm.exports=NN()),hm.exports}var fm={exports:{}},Bn={};var ex;function SN(){if(ex)return Bn;ex=1;var t=Nf();function a(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Bn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(a(299));return m(v,_,null,S)},Bn.flushSync=function(v){var _=p.T,S=o.p;try{if(p.T=null,o.p=2,v)return v()}finally{p.T=_,o.p=S,o.d.f()}},Bn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},Bn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Bn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:z}):S==="script"&&o.d.X(v,{crossOrigin:w,integrity:C,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Bn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},Bn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);o.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Bn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},Bn.requestFormReset=function(v){o.d.r(v)},Bn.unstable_batchedUpdates=function(v,_){return v(_)},Bn.useFormState=function(v,_,S){return p.H.useFormState(v,_,S)},Bn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Bn.version="19.2.4",Bn}var tx;function wN(){if(tx)return fm.exports;tx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),fm.exports=SN(),fm.exports}var nx;function EN(){if(nx)return Zo;nx=1;var t=jN(),a=Nf(),l=wN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(m(e)!==e)throw Error(o(188))}function _(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,c=n;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return v(f),e;if(g===c)return v(f),n;g=g.sibling}throw Error(o(188))}if(r.return!==c.return)r=f,c=g;else{for(var N=!1,T=f.child;T;){if(T===r){N=!0,r=f,c=g;break}if(T===c){N=!0,c=f,r=g;break}T=T.sibling}if(!N){for(T=g.child;T;){if(T===r){N=!0,r=g,c=f;break}if(T===c){N=!0,c=g,r=f;break}T=T.sibling}if(!N)throw Error(o(189))}}if(r.alternate!==c)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function F(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case Z:return"Profiler";case O:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case R:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:F(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return F(e(n))}catch{}}return null}var re=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ke=[],W=-1;function M(e){return{current:e}}function ae(e){0>W||(e.current=ke[W],ke[W]=null,W--)}function P(e,n){W++,ke[W]=e.current,e.current=n}var K=M(null),xe=M(null),we=M(null),Me=M(null);function Fe(e,n){switch(P(we,n),P(xe,e),P(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yy(n),e=xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(K),P(K,e)}function He(){ae(K),ae(xe),ae(we)}function lt(e){e.memoizedState!==null&&P(Me,e);var n=K.current,r=xy(n,e.type);n!==r&&(P(xe,e),P(K,r))}function at(e){xe.current===e&&(ae(K),ae(xe)),Me.current===e&&(ae(Me),Do._currentValue=ce)}var Ee,Ve;function St(e){if(Ee===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ee=n&&n[1]||"",Ve=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+e+Ve}var Bt=!1;function Ft(e,n){if(!e||Bt)return"";Bt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(pe){var fe=pe}Reflect.construct(e,[],Se)}else{try{Se.call()}catch(pe){fe=pe}e.call(Se.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(Se=e())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack=="string")return[pe.stack,fe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),N=g[0],T=g[1];if(N&&T){var H=N.split(`
`),he=T.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<he.length&&!he[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===he.length)for(c=H.length-1,f=he.length-1;1<=c&&0<=f&&H[c]!==he[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==he[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==he[f]){var _e=`
`+H[c].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=c&&0<=f);break}}}finally{Bt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?St(r):""}function ln(e,n){switch(e.tag){case 26:case 27:case 5:return St(e.type);case 16:return St("Lazy");case 13:return e.child!==n&&n!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return Ft(e.type,!1);case 11:return Ft(e.type.render,!1);case 1:return Ft(e.type,!0);case 31:return St("Activity");default:return""}}function on(e){try{var n="",r=null;do n+=ln(e,r),r=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nn=Object.prototype.hasOwnProperty,ee=t.unstable_scheduleCallback,Te=t.unstable_cancelCallback,$e=t.unstable_shouldYield,Lt=t.unstable_requestPaint,Xe=t.unstable_now,ve=t.unstable_getCurrentPriorityLevel,X=t.unstable_ImmediatePriority,Oe=t.unstable_UserBlockingPriority,Tt=t.unstable_NormalPriority,Je=t.unstable_LowPriority,pn=t.unstable_IdlePriority,ue=t.log,We=t.unstable_setDisableYieldValue,bt=null,Ut=null;function On(e){if(typeof ue=="function"&&We(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(bt,e)}catch{}}var gn=Math.clz32?Math.clz32:Is,Ia=Math.log,Bs=Math.LN2;function Is(e){return e>>>=0,e===0?32:31-(Ia(e)/Bs|0)|0}var Ua=256,Za=262144,ni=4194304;function va(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,r){var c=e.pendingLanes;if(c===0)return 0;var f=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?f=va(c):(N&=T,N!==0?f=va(N):r||(r=T&~e,r!==0&&(f=va(r))))):(T=c&~g,T!==0?f=va(T):N!==0?f=va(N):r||(r=c&~e,r!==0&&(f=va(r)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:f}function sa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function Us(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ra(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Il(e,n,r,c,f,g){var N=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,H=e.expirationTimes,he=e.hiddenUpdates;for(r=N&~r;0<r;){var _e=31-gn(r),Se=1<<_e;T[_e]=0,H[_e]=-1;var fe=he[_e];if(fe!==null)for(he[_e]=null,_e=0;_e<fe.length;_e++){var pe=fe[_e];pe!==null&&(pe.lane&=-536870913)}r&=~Se}c!==0&&Ni(e,c,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~n))}function Ni(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-gn(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Dr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var c=31-gn(r),f=1<<c;f&n|e[c]&n&&(e[c]|=n),r&=~f}}function Pr(e,n){var r=n&-n;return r=(r&42)!==0?1:Rn(r),(r&(e.suspendedLanes|n))!==0?0:r}function Rn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zs(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Zy(e.type))}function Gi(e,n){var r=U.p;try{return U.p=e,n()}finally{U.p=r}}var la=Math.random().toString(36).slice(2),Xt="__reactFiber$"+la,un="__reactProps$"+la,qa="__reactContainer$"+la,_a="__reactEvents$"+la,Br="__reactListeners$"+la,Ul="__reactHandles$"+la,Ir="__reactResources$"+la,ji="__reactMarker$"+la;function B(e){delete e[Xt],delete e[un],delete e[_a],delete e[Br],delete e[Ul]}function Re(e){var n=e[Xt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[qa]||r[Xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=wy(e);e!==null;){if(r=e[Xt])return r;e=wy(e)}return n}e=r,r=e.parentNode}return null}function pt(e){if(e=e[Xt]||e[qa]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Fa(e){var n=e[Ir];return n||(n=e[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Gt(e){e[ji]=!0}var qs=new Set,ou={};function Si(e,n){ii(e,n),ii(e+"Capture",n)}function ii(e,n){for(ou[e]=n,e=0;e<n.length;e++)qs.add(n[e])}var Fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},ql={};function Hs(e){return Nn.call(ql,e)?!0:Nn.call(Zl,e)?!1:Fs.test(e)?ql[e]=!0:(Zl[e]=!0,!1)}function ot(e,n,r){if(Hs(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ct(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Kn(e,n,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+c)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(e,n,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(N){r=""+N,g.call(this,N)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(N){r=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function et(e){if(!e._valueTracker){var n=wi(e)?"checked":"value";e._valueTracker=Fl(e,n,""+e[n])}}function Ht(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),c="";return e&&(c=wi(e)?e.checked?"true":"false":e.value),e=c,e!==r?(n.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ur=/[\n"\\]/g;function Zt(e){return e.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hl(e,n,r,c,f,g,N,T){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Ha(e,N,yn(n)):r!=null?Ha(e,N,yn(r)):c!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+yn(T):e.removeAttribute("name")}function Ks(e,n,r,c,f,g,N,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){et(e);return}r=r!=null?""+yn(r):"",n=n!=null?""+yn(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),et(e)}function Ha(e,n,r){n==="number"&&Yi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Dt(e,n,r,c){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&c&&(e[r].defaultSelected=!0)}else{for(r=""+yn(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function si(e,n,r){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+yn(r):""}function $i(e,n,r,c){if(n==null){if(c!=null){if(r!=null)throw Error(o(92));if(re(c)){if(1<c.length)throw Error(o(93));c=c[0]}r=c}r==null&&(r=""),n=r}r=yn(n),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),et(e)}function ba(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xi(e,n,r){var c=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,r):typeof r!="number"||r===0||Kl.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Zr(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&r[f]!==c&&Xi(e,f,c)}else for(var g in n)n.hasOwnProperty(g)&&Xi(e,g,n[g])}function Qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(e){return Ql.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Fr=null;function Vs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,Ge=null;function oa(e){var n=pt(e);if(n&&(e=n.stateNode)){var r=e[un]||null;e:switch(e=n.stateNode,n.type){case"input":if(Hl(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Zt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var c=r[n];if(c!==e&&c.form===e.form){var f=c[un]||null;if(!f)throw Error(o(90));Hl(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)c=r[n],c.form===e.form&&Ht(c)}break e;case"textarea":si(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Dt(e,!!r.multiple,n,!1)}}}var jt=!1;function Vl(e,n,r){if(jt)return e(n,r);jt=!0;try{var c=e(n);return c}finally{if(jt=!1,(Wi!==null||Ge!==null)&&(ic(),Wi&&(n=Wi,e=Ge,Ge=Wi=null,oa(n),e)))for(n=0;n<e.length;n++)oa(e[n])}}function Ei(e,n){var r=e.stateNode;if(r===null)return null;var c=r[un]||null;if(c===null)return null;r=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(ua)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Gs=!1}var Na=null,ki=null,Jt=null;function ri(){if(Jt)return Jt;var e,n=ki,r=n.length,c,f="value"in Na?Na.value:Na.textContent,g=f.length;for(e=0;e<r&&n[e]===f[e];e++);var N=r-e;for(c=1;c<=N&&n[r-c]===f[g-c];c++);return Jt=f.slice(e,1<c?1-c:void 0)}function Ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function uu(){return!1}function En(e){function n(r,c,f,g,N){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$s:uu,this.isPropagationStopped=uu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),n}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=En(Ka),es=w({},Ka,{view:0,detail:0}),ht=En(es),Gl,Un,Qa,Xs=w({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(Gl=e.screenX-Qa.screenX,Un=e.screenY-Qa.screenY):Un=Gl=0,Qa=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Un}}),cu=En(Xs),Yl=w({},Xs,{dataTransfer:0}),vd=En(Yl),du=w({},es,{relatedTarget:0}),$l=En(du),_d=w({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=En(_d),bd=w({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ja=En(bd),Nd=w({},Ka,{data:0}),Jl=En(Nd),li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function eo(){return Wl}var fu=w({},es,{key:function(e){if(e.key){var n=li[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=En(fu),jd=w({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=En(jd),to=w({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Sd=En(to),yu=w({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=En(yu),Kr=w({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=En(Kr),wd=w({},Ka,{newState:0,oldState:0}),Js=En(wd),Vn=[9,13,27,32],Qr=ua&&"CompositionEvent"in window,ts=null;ua&&"documentMode"in document&&(ts=document.documentMode);var Ed=ua&&"TextEvent"in window&&!ts,Vr=ua&&(!Qr||ts&&8<ts&&11>=ts),Gr=" ",vu=!1;function _u(e,n){switch(e){case"keyup":return Vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function da(e,n){switch(e){case"compositionend":return no(n);case"keypress":return n.which!==32?null:(vu=!0,Gr);case"textInput":return e=n.data,e===Gr&&vu?null:e;default:return null}}function as(e,n){if(ns)return e==="compositionend"||!Qr&&_u(e,n)?(e=ri(),Jt=ki=Na=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vr&&n.locale!=="ko"?null:n.data;default:return null}}var kd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!kd[e.type]:n==="textarea"}function bu(e,n,r,c){Wi?Ge?Ge.push(c):Ge=[c]:Wi=c,n=dc(n,"onChange"),0<n.length&&(r=new Hr("onChange","change",null,r,c),e.push({event:r,listeners:n}))}var wa=null,Ws=null;function er(e){dy(e,0)}function tr(e){var n=Ln(e);if(Ht(n))return e}function nr(e,n){if(e==="change")return n}var Nu=!1;if(ua){var Ea;if(ua){var is="oninput"in document;if(!is){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),is=typeof ju.oninput=="function"}Ea=is}else Ea=!1;Nu=Ea&&(!document.documentMode||9<document.documentMode)}function Yr(){wa&&(wa.detachEvent("onpropertychange",Su),Ws=wa=null)}function Su(e){if(e.propertyName==="value"&&tr(Ws)){var n=[];bu(n,Ws,e,Vs(e)),Vl(er,n)}}function Va(e,n,r){e==="focusin"?(Yr(),wa=n,Ws=r,wa.attachEvent("onpropertychange",Su)):e==="focusout"&&Yr()}function Td(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(Ws)}function ss(e,n){if(e==="click")return tr(n)}function Cd(e,n){if(e==="input"||e==="change")return tr(n)}function Ga(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:Ga;function rs(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),c=Object.keys(n);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!Nn.call(n,f)||!jn(e[f],n[f]))return!1}return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,n){var r=$r(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=n&&c>=n)return{node:r,offset:n-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$r(r)}}function Xr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Yi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Yi(e.document)}return n}function oi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Jr=ua&&"documentMode"in document&&11>=document.documentMode,ui=null,Wr=null,sr=null,ls=!1;function wu(e,n,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ls||ui==null||ui!==Yi(c)||(c=ui,"selectionStart"in c&&oi(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),sr&&rs(sr,c)||(sr=c,c=dc(Wr,"onSelect"),0<c.length&&(n=new Hr("onSelect","select",null,n,r),e.push({event:n,listeners:c}),n.target=ui)))}function ci(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var os={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},el={},Eu={};ua&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Sn(e){if(el[e])return el[e];if(!os[e])return e;var n=os[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Eu)return el[e]=n[r];return e}var rr=Sn("animationend"),ku=Sn("animationiteration"),lr=Sn("animationstart"),Ad=Sn("transitionrun"),Tu=Sn("transitionstart"),zd=Sn("transitioncancel"),us=Sn("transitionend"),Cu=new Map,di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");di.push("scrollEnd");function Gn(e,n){Cu.set(e,n),Si(n,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yn=[],Dn=0,tl=0;function ur(){for(var e=Dn,n=tl=Dn=0;n<e;){var r=Yn[n];Yn[n++]=null;var c=Yn[n];Yn[n++]=null;var f=Yn[n];Yn[n++]=null;var g=Yn[n];if(Yn[n++]=null,c!==null&&f!==null){var N=c.pending;N===null?f.next=f:(f.next=N.next,N.next=f),c.pending=f}g!==0&&cs(r,f,g)}}function hi(e,n,r,c){Yn[Dn++]=e,Yn[Dn++]=n,Yn[Dn++]=r,Yn[Dn++]=c,tl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ao(e,n,r,c){return hi(e,n,r,c),cr(e)}function ka(e,n){return hi(e,null,null,n),cr(e)}function cs(e,n,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var f=!1,g=e.return;g!==null;)g.childLanes|=r,c=g.alternate,c!==null&&(c.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-gn(r),e=g.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=r|536870912),g):null}function cr(e){if(50<Co)throw Co=0,Oh=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ci={};function Md(e,n,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,n,r,c){return new Md(e,n,r,c)}function nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ta(e,n){var r=e.alternate;return r===null?(r=Pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function io(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function dr(e,n,r,c,f,g){var N=0;if(c=e,typeof e=="function")nl(e)&&(N=1);else if(typeof e=="string")N=rN(e,r,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=Pn(31,r,n,f),e.elementType=ie,e.lanes=g,e;case A:return Ai(r.children,f,g,n);case O:N=8,f|=24;break;case Z:return e=Pn(12,r,n,f|2),e.elementType=Z,e.lanes=g,e;case Y:return e=Pn(13,r,n,f),e.elementType=Y,e.lanes=g,e;case G:return e=Pn(19,r,n,f),e.elementType=G,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:N=10;break e;case D:N=9;break e;case V:N=11;break e;case Q:N=14;break e;case J:N=16,c=null;break e}N=29,r=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=Pn(N,r,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function Ai(e,n,r,c){return e=Pn(7,e,c,n),e.lanes=r,e}function al(e,n,r){return e=Pn(6,e,null,n),e.lanes=r,e}function so(e){var n=Pn(18,null,null,0);return n.stateNode=e,n}function ro(e,n,r){return n=Pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var i=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var r=i.get(e);return r!==void 0?r:(n={value:e,source:n,stack:on(n)},i.set(e,n),n)}return{value:e,source:n,stack:on(n)}}var h=[],x=0,b=null,E=0,I=[],se=0,me=null,je=1,Ae="";function Ue(e,n){h[x++]=E,h[x++]=b,b=e,E=n}function it(e,n,r){I[se++]=je,I[se++]=Ae,I[se++]=me,me=e;var c=je;e=Ae;var f=32-gn(c)-1;c&=~(1<<f),r+=1;var g=32-gn(n)+f;if(30<g){var N=f-f%5;g=(c&(1<<N)-1).toString(32),c>>=N,f-=N,je=1<<32-gn(n)+f|r<<f|c,Ae=g+e}else je=1<<g|r<<f|c,Ae=e}function xn(e){e.return!==null&&(Ue(e,1),it(e,1,0))}function Wt(e){for(;e===b;)b=h[--x],h[x]=null,E=h[--x],h[x]=null;for(;e===me;)me=I[--se],I[se]=null,Ae=I[--se],I[se]=null,je=I[--se],I[se]=null}function Zn(e,n){I[se++]=je,I[se++]=Ae,I[se++]=me,je=n.id,Ae=n.overflow,me=e}var gt=null,yt=null,ut=!1,mi=null,$n=!1,il=Error(o(519));function fi(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hr(u(n,e)),il}function lo(e){var n=e.stateNode,r=e.type,c=e.memoizedProps;switch(n[Xt]=e,n[un]=c,r){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(r=0;r<zo.length;r++)dt(zo[r],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":dt("invalid",n),Ks(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":dt("invalid",n);break;case"textarea":dt("invalid",n),$i(n,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||c.suppressHydrationWarning===!0||py(n.textContent,r)?(c.popover!=null&&(dt("beforetoggle",n),dt("toggle",n)),c.onScroll!=null&&dt("scroll",n),c.onScrollEnd!=null&&dt("scrollend",n),c.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||fi(e,!0)}function Yt(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:gt=gt.return}}function Ya(e){if(e!==gt)return!1;if(!ut)return Yt(e),ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Gh(e.type,e.memoizedProps)),r=!r),r&&yt&&fi(e),Yt(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));yt=Sy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));yt=Sy(e)}else n===27?(n=yt,Ss(e.type)?(e=Wh,Wh=null,yt=e):yt=n):yt=gt?Aa(e.stateNode.nextSibling):null;return!0}function zi(){yt=gt=null,ut=!1}function oo(){var e=mi;return e!==null&&(ea===null?ea=e:ea.push.apply(ea,e),mi=null),e}function hr(e){mi===null?mi=[e]:mi.push(e)}var mr=M(null),pi=null,$a=null;function ds(e,n,r){P(mr,n._currentValue),n._currentValue=r}function Mi(e){e._currentValue=mr.current,ae(mr)}function Od(e,n,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===r)break;e=e.return}}function Rd(e,n,r,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var N=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var H=0;H<n.length;H++)if(T.context===n[H]){g.lanes|=r,T=g.alternate,T!==null&&(T.lanes|=r),Od(g.return,r,e),c||(N=null);break e}g=T.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(o(341));N.lanes|=r,g=N.alternate,g!==null&&(g.lanes|=r),Od(N,r,e),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===e){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function sl(e,n,r,c){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var T=f.type;jn(f.pendingProps.value,N.value)||(e!==null?e.push(T):e=[T])}}else if(f===Me.current){if(N=f.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Do):e=[Do])}f=f.return}e!==null&&Rd(n,e,r,c),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fr(e){pi=e,$a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kn(e){return ep(pi,e)}function zu(e,n){return pi===null&&fr(e),ep(e,n)}function ep(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$a===null){if(e===null)throw Error(o(308));$a=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $a=$a.next=n;return r}var nb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ab=t.unstable_scheduleCallback,ib=t.unstable_NormalPriority,cn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new nb,data:new Map,refCount:0}}function uo(e){e.refCount--,e.refCount===0&&ab(ib,function(){e.controller.abort()})}var co=null,Dd=0,rl=0,ll=null;function sb(e,n){if(co===null){var r=co=[];Dd=0,rl=Ih(),ll={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Dd++,n.then(tp,tp),n}function tp(){if(--Dd===0&&co!==null){ll!==null&&(ll.status="fulfilled");var e=co;co=null,rl=0,ll=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function rb(e,n){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var np=q.S;q.S=function(e,n){Ig=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sb(e,n),np!==null&&np(e,n)};var pr=M(null);function Pd(){var e=pr.current;return e!==null?e:Pt.pooledCache}function Mu(e,n){n===null?P(pr,pr.current):P(pr,n.pool)}function ap(){var e=Pd();return e===null?null:{parent:cn._currentValue,pool:e}}var ol=Error(o(460)),Bd=Error(o(474)),Ou=Error(o(542)),Ru={then:function(){}};function ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Qn,Qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e}throw yr=n,ol}}function gr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(yr=r,ol):r}}var yr=null;function rp(){if(yr===null)throw Error(o(459));var e=yr;return yr=null,e}function lp(e){if(e===ol||e===Ou)throw Error(o(483))}var ul=null,ho=0;function Lu(e){var n=ho;return ho+=1,ul===null&&(ul=[]),sp(ul,e,n)}function mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function op(e){function n(ne,$){if(e){var de=ne.deletions;de===null?(ne.deletions=[$],ne.flags|=16):de.push($)}}function r(ne,$){if(!e)return null;for(;$!==null;)n(ne,$),$=$.sibling;return null}function c(ne){for(var $=new Map;ne!==null;)ne.key!==null?$.set(ne.key,ne):$.set(ne.index,ne),ne=ne.sibling;return $}function f(ne,$){return ne=Ta(ne,$),ne.index=0,ne.sibling=null,ne}function g(ne,$,de){return ne.index=de,e?(de=ne.alternate,de!==null?(de=de.index,de<$?(ne.flags|=67108866,$):de):(ne.flags|=67108866,$)):(ne.flags|=1048576,$)}function N(ne){return e&&ne.alternate===null&&(ne.flags|=67108866),ne}function T(ne,$,de,be){return $===null||$.tag!==6?($=al(de,ne.mode,be),$.return=ne,$):($=f($,de),$.return=ne,$)}function H(ne,$,de,be){var Ze=de.type;return Ze===A?_e(ne,$,de.props.children,be,de.key):$!==null&&($.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===J&&gr(Ze)===$.type)?($=f($,de.props),mo($,de),$.return=ne,$):($=dr(de.type,de.key,de.props,null,ne.mode,be),mo($,de),$.return=ne,$)}function he(ne,$,de,be){return $===null||$.tag!==4||$.stateNode.containerInfo!==de.containerInfo||$.stateNode.implementation!==de.implementation?($=ro(de,ne.mode,be),$.return=ne,$):($=f($,de.children||[]),$.return=ne,$)}function _e(ne,$,de,be,Ze){return $===null||$.tag!==7?($=Ai(de,ne.mode,be,Ze),$.return=ne,$):($=f($,de),$.return=ne,$)}function Se(ne,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=al(""+$,ne.mode,de),$.return=ne,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case z:return de=dr($.type,$.key,$.props,null,ne.mode,de),mo(de,$),de.return=ne,de;case k:return $=ro($,ne.mode,de),$.return=ne,$;case J:return $=gr($),Se(ne,$,de)}if(re($)||oe($))return $=Ai($,ne.mode,de,null),$.return=ne,$;if(typeof $.then=="function")return Se(ne,Lu($),de);if($.$$typeof===R)return Se(ne,zu(ne,$),de);Du(ne,$)}return null}function fe(ne,$,de,be){var Ze=$!==null?$.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ze!==null?null:T(ne,$,""+de,be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case z:return de.key===Ze?H(ne,$,de,be):null;case k:return de.key===Ze?he(ne,$,de,be):null;case J:return de=gr(de),fe(ne,$,de,be)}if(re(de)||oe(de))return Ze!==null?null:_e(ne,$,de,be,null);if(typeof de.then=="function")return fe(ne,$,Lu(de),be);if(de.$$typeof===R)return fe(ne,$,zu(ne,de),be);Du(ne,de)}return null}function pe(ne,$,de,be,Ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ne=ne.get(de)||null,T($,ne,""+be,Ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case z:return ne=ne.get(be.key===null?de:be.key)||null,H($,ne,be,Ze);case k:return ne=ne.get(be.key===null?de:be.key)||null,he($,ne,be,Ze);case J:return be=gr(be),pe(ne,$,de,be,Ze)}if(re(be)||oe(be))return ne=ne.get(de)||null,_e($,ne,be,Ze,null);if(typeof be.then=="function")return pe(ne,$,de,Lu(be),Ze);if(be.$$typeof===R)return pe(ne,$,de,zu($,be),Ze);Du($,be)}return null}function De(ne,$,de,be){for(var Ze=null,xt=null,Ie=$,st=$=0,ft=null;Ie!==null&&st<de.length;st++){Ie.index>st?(ft=Ie,Ie=null):ft=Ie.sibling;var vt=fe(ne,Ie,de[st],be);if(vt===null){Ie===null&&(Ie=ft);break}e&&Ie&&vt.alternate===null&&n(ne,Ie),$=g(vt,$,st),xt===null?Ze=vt:xt.sibling=vt,xt=vt,Ie=ft}if(st===de.length)return r(ne,Ie),ut&&Ue(ne,st),Ze;if(Ie===null){for(;st<de.length;st++)Ie=Se(ne,de[st],be),Ie!==null&&($=g(Ie,$,st),xt===null?Ze=Ie:xt.sibling=Ie,xt=Ie);return ut&&Ue(ne,st),Ze}for(Ie=c(Ie);st<de.length;st++)ft=pe(Ie,ne,st,de[st],be),ft!==null&&(e&&ft.alternate!==null&&Ie.delete(ft.key===null?st:ft.key),$=g(ft,$,st),xt===null?Ze=ft:xt.sibling=ft,xt=ft);return e&&Ie.forEach(function(Cs){return n(ne,Cs)}),ut&&Ue(ne,st),Ze}function Qe(ne,$,de,be){if(de==null)throw Error(o(151));for(var Ze=null,xt=null,Ie=$,st=$=0,ft=null,vt=de.next();Ie!==null&&!vt.done;st++,vt=de.next()){Ie.index>st?(ft=Ie,Ie=null):ft=Ie.sibling;var Cs=fe(ne,Ie,vt.value,be);if(Cs===null){Ie===null&&(Ie=ft);break}e&&Ie&&Cs.alternate===null&&n(ne,Ie),$=g(Cs,$,st),xt===null?Ze=Cs:xt.sibling=Cs,xt=Cs,Ie=ft}if(vt.done)return r(ne,Ie),ut&&Ue(ne,st),Ze;if(Ie===null){for(;!vt.done;st++,vt=de.next())vt=Se(ne,vt.value,be),vt!==null&&($=g(vt,$,st),xt===null?Ze=vt:xt.sibling=vt,xt=vt);return ut&&Ue(ne,st),Ze}for(Ie=c(Ie);!vt.done;st++,vt=de.next())vt=pe(Ie,ne,st,vt.value,be),vt!==null&&(e&&vt.alternate!==null&&Ie.delete(vt.key===null?st:vt.key),$=g(vt,$,st),xt===null?Ze=vt:xt.sibling=vt,xt=vt);return e&&Ie.forEach(function(yN){return n(ne,yN)}),ut&&Ue(ne,st),Ze}function Mt(ne,$,de,be){if(typeof de=="object"&&de!==null&&de.type===A&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case z:e:{for(var Ze=de.key;$!==null;){if($.key===Ze){if(Ze=de.type,Ze===A){if($.tag===7){r(ne,$.sibling),be=f($,de.props.children),be.return=ne,ne=be;break e}}else if($.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===J&&gr(Ze)===$.type){r(ne,$.sibling),be=f($,de.props),mo(be,de),be.return=ne,ne=be;break e}r(ne,$);break}else n(ne,$);$=$.sibling}de.type===A?(be=Ai(de.props.children,ne.mode,be,de.key),be.return=ne,ne=be):(be=dr(de.type,de.key,de.props,null,ne.mode,be),mo(be,de),be.return=ne,ne=be)}return N(ne);case k:e:{for(Ze=de.key;$!==null;){if($.key===Ze)if($.tag===4&&$.stateNode.containerInfo===de.containerInfo&&$.stateNode.implementation===de.implementation){r(ne,$.sibling),be=f($,de.children||[]),be.return=ne,ne=be;break e}else{r(ne,$);break}else n(ne,$);$=$.sibling}be=ro(de,ne.mode,be),be.return=ne,ne=be}return N(ne);case J:return de=gr(de),Mt(ne,$,de,be)}if(re(de))return De(ne,$,de,be);if(oe(de)){if(Ze=oe(de),typeof Ze!="function")throw Error(o(150));return de=Ze.call(de),Qe(ne,$,de,be)}if(typeof de.then=="function")return Mt(ne,$,Lu(de),be);if(de.$$typeof===R)return Mt(ne,$,zu(ne,de),be);Du(ne,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,$!==null&&$.tag===6?(r(ne,$.sibling),be=f($,de),be.return=ne,ne=be):(r(ne,$),be=al(de,ne.mode,be),be.return=ne,ne=be),N(ne)):r(ne,$)}return function(ne,$,de,be){try{ho=0;var Ze=Mt(ne,$,de,be);return ul=null,Ze}catch(Ie){if(Ie===ol||Ie===Ou)throw Ie;var xt=Pn(29,Ie,null,ne.mode);return xt.lanes=be,xt.return=ne,xt}}}var xr=op(!0),up=op(!1),hs=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fs(e,n,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Nt&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=cr(e),cs(e,null,r),n}return hi(e,c,n,r),cr(e)}function fo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Dr(e,r)}}function Zd(e,n){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var N={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=N:g=g.next=N,r=r.next}while(r!==null);g===null?f=g=n:g=g.next=n}else f=g=n;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var qd=!1;function po(){if(qd){var e=ll;if(e!==null)throw e}}function go(e,n,r,c){qd=!1;var f=e.updateQueue;hs=!1;var g=f.firstBaseUpdate,N=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var H=T,he=H.next;H.next=null,N===null?g=he:N.next=he,N=H;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,T=_e.lastBaseUpdate,T!==N&&(T===null?_e.firstBaseUpdate=he:T.next=he,_e.lastBaseUpdate=H))}if(g!==null){var Se=f.baseState;N=0,_e=he=H=null,T=g;do{var fe=T.lane&-536870913,pe=fe!==T.lane;if(pe?(mt&fe)===fe:(c&fe)===fe){fe!==0&&fe===rl&&(qd=!0),_e!==null&&(_e=_e.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var De=e,Qe=T;fe=n;var Mt=r;switch(Qe.tag){case 1:if(De=Qe.payload,typeof De=="function"){Se=De.call(Mt,Se,fe);break e}Se=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Qe.payload,fe=typeof De=="function"?De.call(Mt,Se,fe):De,fe==null)break e;Se=w({},Se,fe);break e;case 2:hs=!0}}fe=T.callback,fe!==null&&(e.flags|=64,pe&&(e.flags|=8192),pe=f.callbacks,pe===null?f.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},_e===null?(he=_e=pe,H=Se):_e=_e.next=pe,N|=fe;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;pe=T,T=pe.next,pe.next=null,f.lastBaseUpdate=pe,f.shared.pending=null}}while(!0);_e===null&&(H=Se),f.baseState=H,f.firstBaseUpdate=he,f.lastBaseUpdate=_e,g===null&&(f.shared.lanes=0),vs|=N,e.lanes=N,e.memoizedState=Se}}function cp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function dp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)cp(r[e],n)}var cl=M(null),Pu=M(0);function hp(e,n){e=Zi,P(Pu,e),P(cl,n),Zi=e|n.baseLanes}function Fd(){P(Pu,Zi),P(cl,cl.current)}function Hd(){Zi=Pu.current,ae(cl),ae(Pu)}var ha=M(null),Ca=null;function ps(e){var n=e.alternate;P(sn,sn.current&1),P(ha,e),Ca===null&&(n===null||cl.current!==null||n.memoizedState!==null)&&(Ca=e)}function Kd(e){P(sn,sn.current),P(ha,e),Ca===null&&(Ca=e)}function mp(e){e.tag===22?(P(sn,sn.current),P(ha,e),Ca===null&&(Ca=e)):gs()}function gs(){P(sn,sn.current),P(ha,ha.current)}function ma(e){ae(ha),Ca===e&&(Ca=null),ae(sn)}var sn=M(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Xh(r)||Jh(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,nt=null,At=null,dn=null,Iu=!1,dl=!1,vr=!1,Uu=0,yo=0,hl=null,lb=0;function en(){throw Error(o(321))}function Qd(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!jn(e[r],n[r]))return!1;return!0}function Vd(e,n,r,c,f,g){return Oi=g,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?$p:oh,vr=!1,g=r(c,f),vr=!1,dl&&(g=pp(n,r,c,f)),fp(e),g}function fp(e){q.H=_o;var n=At!==null&&At.next!==null;if(Oi=0,dn=At=nt=null,Iu=!1,yo=0,hl=null,n)throw Error(o(300));e===null||hn||(e=e.dependencies,e!==null&&Au(e)&&(hn=!0))}function pp(e,n,r,c){nt=e;var f=0;do{if(dl&&(hl=null),yo=0,dl=!1,25<=f)throw Error(o(301));if(f+=1,dn=At=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=Xp,g=n(r,c)}while(dl);return g}function ob(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?xo(n):n,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(nt.flags|=1024),n}function Gd(){var e=Uu!==0;return Uu=0,e}function Yd(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function $d(e){if(Iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Iu=!1}Oi=0,dn=At=nt=null,dl=!1,yo=Uu=0,hl=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?nt.memoizedState=dn=e:dn=dn.next=e,dn}function rn(){if(At===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var n=dn===null?nt.memoizedState:dn.next;if(n!==null)dn=n,At=e;else{if(e===null)throw nt.alternate===null?Error(o(467)):Error(o(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},dn===null?nt.memoizedState=dn=e:dn=dn.next=e}return dn}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(e){var n=yo;return yo+=1,hl===null&&(hl=[]),e=sp(hl,e,n),n=nt,(dn===null?n.memoizedState:dn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?$p:oh),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===R)return kn(e)}throw Error(o(438,String(e)))}function Xd(e){var n=null,r=nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var c=nt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Zu(),nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),c=0;c<e;c++)r[c]=ye;return n.index++,r}function Ri(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=rn();return Jd(n,At,e)}function Jd(e,n,r){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var f=e.baseQueue,g=c.pending;if(g!==null){if(f!==null){var N=f.next;f.next=g.next,g.next=N}n.baseQueue=f=g,c.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var T=N=null,H=null,he=n,_e=!1;do{var Se=he.lane&-536870913;if(Se!==he.lane?(mt&Se)===Se:(Oi&Se)===Se){var fe=he.revertLane;if(fe===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Se===rl&&(_e=!0);else if((Oi&fe)===fe){he=he.next,fe===rl&&(_e=!0);continue}else Se={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},H===null?(T=H=Se,N=g):H=H.next=Se,nt.lanes|=fe,vs|=fe;Se=he.action,vr&&r(g,Se),g=he.hasEagerState?he.eagerState:r(g,Se)}else fe={lane:Se,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},H===null?(T=H=fe,N=g):H=H.next=fe,nt.lanes|=Se,vs|=Se;he=he.next}while(he!==null&&he!==n);if(H===null?N=g:H.next=T,!jn(g,e.memoizedState)&&(hn=!0,_e&&(r=ll,r!==null)))throw r;e.memoizedState=g,e.baseState=N,e.baseQueue=H,c.lastRenderedState=g}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Wd(e){var n=rn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var c=r.dispatch,f=r.pending,g=n.memoizedState;if(f!==null){r.pending=null;var N=f=f.next;do g=e(g,N.action),N=N.next;while(N!==f);jn(g,n.memoizedState)||(hn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,c]}function gp(e,n,r){var c=nt,f=rn(),g=ut;if(g){if(r===void 0)throw Error(o(407));r=r()}else r=n();var N=!jn((At||f).memoizedState,r);if(N&&(f.memoizedState=r,hn=!0),f=f.queue,nh(vp.bind(null,c,f,e),[e]),f.getSnapshot!==n||N||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,ml(9,{destroy:void 0},xp.bind(null,c,f,r,n),null),Pt===null)throw Error(o(349));g||(Oi&127)!==0||yp(c,n,r)}return r}function yp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=nt.updateQueue,n===null?(n=Zu(),nt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function xp(e,n,r,c){n.value=r,n.getSnapshot=c,_p(n)&&bp(e)}function vp(e,n,r){return r(function(){_p(n)&&bp(e)})}function _p(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!jn(e,r)}catch{return!0}}function bp(e){var n=ka(e,2);n!==null&&ta(n,e,2)}function eh(e){var n=qn();if(typeof e=="function"){var r=e;if(e=r(),vr){On(!0);try{r()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},n}function Np(e,n,r,c){return e.baseState=r,Jd(e,At,typeof c=="function"?c:Ri)}function ub(e,n,r,c,f){if(Qu(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};q.T!==null?r(!0):g.isTransition=!1,c(g),r=n.pending,r===null?(g.next=n.pending=g,jp(n,g)):(g.next=r.next,n.pending=r.next=g)}}function jp(e,n){var r=n.action,c=n.payload,f=e.state;if(n.isTransition){var g=q.T,N={};q.T=N;try{var T=r(f,c),H=q.S;H!==null&&H(N,T),Sp(e,n,T)}catch(he){th(e,n,he)}finally{g!==null&&N.types!==null&&(g.types=N.types),q.T=g}}else try{g=r(f,c),Sp(e,n,g)}catch(he){th(e,n,he)}}function Sp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){wp(e,n,c)},function(c){return th(e,n,c)}):wp(e,n,r)}function wp(e,n,r){n.status="fulfilled",n.value=r,Ep(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,jp(e,r)))}function th(e,n,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==c)}e.action=null}function Ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kp(e,n){return n}function Tp(e,n){if(ut){var r=Pt.formState;if(r!==null){e:{var c=nt;if(ut){if(yt){t:{for(var f=yt,g=$n;f.nodeType!==8;){if(!g){f=null;break t}if(f=Aa(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){yt=Aa(f.nextSibling),c=f.data==="F!";break e}}fi(c)}c=!1}c&&(n=r[0])}}return r=qn(),r.memoizedState=r.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:n},r.queue=c,r=Vp.bind(null,nt,c),c.dispatch=r,c=eh(!1),g=lh.bind(null,nt,!1,c.queue),c=qn(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,r=ub.bind(null,nt,f,g,r),f.dispatch=r,c.memoizedState=e,[n,r,!1]}function Cp(e){var n=rn();return Ap(n,At,e)}function Ap(e,n,r){if(n=Jd(e,n,kp)[0],e=Fu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=xo(n)}catch(N){throw N===ol?Ou:N}else c=n;n=rn();var f=n.queue,g=f.dispatch;return r!==n.memoizedState&&(nt.flags|=2048,ml(9,{destroy:void 0},cb.bind(null,f,r),null)),[c,g,e]}function cb(e,n){e.action=n}function zp(e){var n=rn(),r=At;if(r!==null)return Ap(n,r,e);rn(),n=n.memoizedState,r=rn();var c=r.queue.dispatch;return r.memoizedState=e,[n,c,!1]}function ml(e,n,r,c){return e={tag:e,create:r,deps:c,inst:n,next:null},n=nt.updateQueue,n===null&&(n=Zu(),nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,n.lastEffect=e),e}function Mp(){return rn().memoizedState}function Hu(e,n,r,c){var f=qn();nt.flags|=e,f.memoizedState=ml(1|n,{destroy:void 0},r,c===void 0?null:c)}function Ku(e,n,r,c){var f=rn();c=c===void 0?null:c;var g=f.memoizedState.inst;At!==null&&c!==null&&Qd(c,At.memoizedState.deps)?f.memoizedState=ml(n,g,r,c):(nt.flags|=e,f.memoizedState=ml(1|n,g,r,c))}function Op(e,n){Hu(8390656,8,e,n)}function nh(e,n){Ku(2048,8,e,n)}function db(e){nt.flags|=4;var n=nt.updateQueue;if(n===null)n=Zu(),nt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Rp(e){var n=rn().memoizedState;return db({ref:n,nextImpl:e}),function(){if((Nt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Lp(e,n){return Ku(4,2,e,n)}function Dp(e,n){return Ku(4,4,e,n)}function Pp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,Pp.bind(null,n,e),r)}function ah(){}function Ip(e,n){var r=rn();n=n===void 0?null:n;var c=r.memoizedState;return n!==null&&Qd(n,c[1])?c[0]:(r.memoizedState=[e,n],e)}function Up(e,n){var r=rn();n=n===void 0?null:n;var c=r.memoizedState;if(n!==null&&Qd(n,c[1]))return c[0];if(c=e(),vr){On(!0);try{e()}finally{On(!1)}}return r.memoizedState=[c,n],c}function ih(e,n,r){return r===void 0||(Oi&1073741824)!==0&&(mt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Zg(),nt.lanes|=e,vs|=e,r)}function Zp(e,n,r,c){return jn(r,n)?r:cl.current!==null?(e=ih(e,r,c),jn(e,n)||(hn=!0),e):(Oi&42)===0||(Oi&1073741824)!==0&&(mt&261930)===0?(hn=!0,e.memoizedState=r):(e=Zg(),nt.lanes|=e,vs|=e,n)}function qp(e,n,r,c,f){var g=U.p;U.p=g!==0&&8>g?g:8;var N=q.T,T={};q.T=T,lh(e,!1,n,r);try{var H=f(),he=q.S;if(he!==null&&he(T,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var _e=rb(H,c);vo(e,n,_e,ga(e))}else vo(e,n,c,ga(e))}catch(Se){vo(e,n,{then:function(){},status:"rejected",reason:Se},ga())}finally{U.p=g,N!==null&&T.types!==null&&(N.types=T.types),q.T=N}}function hb(){}function sh(e,n,r,c){if(e.tag!==5)throw Error(o(476));var f=Fp(e).queue;qp(e,f,n,ce,r===null?hb:function(){return Hp(e),r(c)})}function Fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hp(e){var n=Fp(e);n.next===null&&(n=e.alternate.memoizedState),vo(e,n.next.queue,{},ga())}function rh(){return kn(Do)}function Kp(){return rn().memoizedState}function Qp(){return rn().memoizedState}function mb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=ga();e=ms(r);var c=fs(n,e,r);c!==null&&(ta(c,n,r),fo(c,n,r)),n={cache:Ld()},e.payload=n;return}n=n.return}}function fb(e,n,r){var c=ga();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Gp(n,r):(r=ao(e,n,r,c),r!==null&&(ta(r,e,c),Yp(r,n,c)))}function Vp(e,n,r){var c=ga();vo(e,n,r,c)}function vo(e,n,r,c){var f={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Gp(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var N=n.lastRenderedState,T=g(N,r);if(f.hasEagerState=!0,f.eagerState=T,jn(T,N))return hi(e,n,f,0),Pt===null&&ur(),!1}catch{}if(r=ao(e,n,f,c),r!==null)return ta(r,e,c),Yp(r,n,c),!0}return!1}function lh(e,n,r,c){if(c={lane:2,revertLane:Ih(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(o(479))}else n=ao(e,r,c,2),n!==null&&ta(n,e,2)}function Qu(e){var n=e.alternate;return e===nt||n!==null&&n===nt}function Gp(e,n){dl=Iu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Yp(e,n,r){if((r&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Dr(e,r)}}var _o={readContext:kn,use:qu,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};_o.useEffectEvent=en;var $p={readContext:kn,use:qu,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:kn,useEffect:Op,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,Pp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=qn();n=n===void 0?null:n;var c=e();if(vr){On(!0);try{e()}finally{On(!1)}}return r.memoizedState=[c,n],c},useReducer:function(e,n,r){var c=qn();if(r!==void 0){var f=r(n);if(vr){On(!0);try{r(n)}finally{On(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=fb.bind(null,nt,e),[c.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=eh(e);var n=e.queue,r=Vp.bind(null,nt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ah,useDeferredValue:function(e,n){var r=qn();return ih(r,e,n)},useTransition:function(){var e=eh(!1);return e=qp.bind(null,nt,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var c=nt,f=qn();if(ut){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Pt===null)throw Error(o(349));(mt&127)!==0||yp(c,n,r)}f.memoizedState=r;var g={value:r,getSnapshot:n};return f.queue=g,Op(vp.bind(null,c,g,e),[e]),c.flags|=2048,ml(9,{destroy:void 0},xp.bind(null,c,g,r,n),null),r},useId:function(){var e=qn(),n=Pt.identifierPrefix;if(ut){var r=Ae,c=je;r=(c&~(1<<32-gn(c)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=lb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rh,useFormState:Tp,useActionState:Tp,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=lh.bind(null,nt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Xd,useCacheRefresh:function(){return qn().memoizedState=mb.bind(null,nt)},useEffectEvent:function(e){var n=qn(),r={impl:e};return n.memoizedState=r,function(){if((Nt&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},oh={readContext:kn,use:qu,useCallback:Ip,useContext:kn,useEffect:nh,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:Dp,useMemo:Up,useReducer:Fu,useRef:Mp,useState:function(){return Fu(Ri)},useDebugValue:ah,useDeferredValue:function(e,n){var r=rn();return Zp(r,At.memoizedState,e,n)},useTransition:function(){var e=Fu(Ri)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:gp,useId:Kp,useHostTransitionStatus:rh,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var r=rn();return Np(r,At,e,n)},useMemoCache:Xd,useCacheRefresh:Qp};oh.useEffectEvent=Rp;var Xp={readContext:kn,use:qu,useCallback:Ip,useContext:kn,useEffect:nh,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:Dp,useMemo:Up,useReducer:Wd,useRef:Mp,useState:function(){return Wd(Ri)},useDebugValue:ah,useDeferredValue:function(e,n){var r=rn();return At===null?ih(r,e,n):Zp(r,At.memoizedState,e,n)},useTransition:function(){var e=Wd(Ri)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:gp,useId:Kp,useHostTransitionStatus:rh,useFormState:zp,useActionState:zp,useOptimistic:function(e,n){var r=rn();return At!==null?Np(r,At,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:Qp};Xp.useEffectEvent=Rp;function uh(e,n,r,c){n=e.memoizedState,r=r(c,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ch={enqueueSetState:function(e,n,r){e=e._reactInternals;var c=ga(),f=ms(c);f.payload=n,r!=null&&(f.callback=r),n=fs(e,f,c),n!==null&&(ta(n,e,c),fo(n,e,c))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var c=ga(),f=ms(c);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=fs(e,f,c),n!==null&&(ta(n,e,c),fo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ga(),c=ms(r);c.tag=2,n!=null&&(c.callback=n),n=fs(e,c,r),n!==null&&(ta(n,e,r),fo(n,e,r))}};function Jp(e,n,r,c,f,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,N):n.prototype&&n.prototype.isPureReactComponent?!rs(r,c)||!rs(f,g):!0}function Wp(e,n,r,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,c),n.state!==e&&ch.enqueueReplaceState(n,n.state,null)}function _r(e,n){var r=n;if("ref"in n){r={};for(var c in n)c!=="ref"&&(r[c]=n[c])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function eg(e){or(e)}function tg(e){console.error(e)}function ng(e){or(e)}function Vu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function ag(e,n,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dh(e,n,r){return r=ms(r),r.tag=3,r.payload={element:null},r.callback=function(){Vu(e,n)},r}function ig(e){return e=ms(e),e.tag=3,e}function sg(e,n,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;e.payload=function(){return f(g)},e.callback=function(){ag(n,r,c)}}var N=r.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){ag(n,r,c),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function pb(e,n,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,f,!0),r=ha.current,r!==null){switch(r.tag){case 31:case 13:return Ca===null?sc():r.alternate===null&&tn===0&&(tn=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([c]):n.add(c),Dh(e,c,f)),!1;case 22:return r.flags|=65536,c===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([c]):r.add(c)),Dh(e,c,f)),!1}throw Error(o(435,r.tag))}return Dh(e,c,f),sc(),!1}if(ut)return n=ha.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==il&&(e=Error(o(422),{cause:c}),hr(u(e,r)))):(c!==il&&(n=Error(o(423),{cause:c}),hr(u(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=u(c,r),f=dh(e.stateNode,c,f),Zd(e,f),tn!==4&&(tn=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,r),To===null?To=[g]:To.push(g),tn!==4&&(tn=2),n===null)return!0;c=u(c,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=dh(r.stateNode,c,e),Zd(r,e),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=ig(f),sg(f,e,r,c),Zd(r,f),!1}r=r.return}while(r!==null);return!1}var hh=Error(o(461)),hn=!1;function Tn(e,n,r,c){n.child=e===null?up(n,null,r,c):xr(n,e.child,r,c)}function rg(e,n,r,c,f){r=r.render;var g=n.ref;if("ref"in c){var N={};for(var T in c)T!=="ref"&&(N[T]=c[T])}else N=c;return fr(n),c=Vd(e,n,r,N,g,f),T=Gd(),e!==null&&!hn?(Yd(e,n,f),Li(e,n,f)):(ut&&T&&xn(n),n.flags|=1,Tn(e,n,c,f),n.child)}function lg(e,n,r,c,f){if(e===null){var g=r.type;return typeof g=="function"&&!nl(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,og(e,n,g,c,f)):(e=dr(r.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!_h(e,f)){var N=g.memoizedProps;if(r=r.compare,r=r!==null?r:rs,r(N,c)&&e.ref===n.ref)return Li(e,n,f)}return n.flags|=1,e=Ta(g,c),e.ref=n.ref,e.return=n,n.child=e}function og(e,n,r,c,f){if(e!==null){var g=e.memoizedProps;if(rs(g,c)&&e.ref===n.ref)if(hn=!1,n.pendingProps=c=g,_h(e,f))(e.flags&131072)!==0&&(hn=!0);else return n.lanes=e.lanes,Li(e,n,f)}return mh(e,n,r,c,f)}function ug(e,n,r,c){var f=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,n.child=null;return cg(e,n,g,r,c)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,g!==null?g.cachePool:null),g!==null?hp(n,g):Fd(),mp(n);else return c=n.lanes=536870912,cg(e,n,g!==null?g.baseLanes|r:r,r,c)}else g!==null?(Mu(n,g.cachePool),hp(n,g),gs(),n.memoizedState=null):(e!==null&&Mu(n,null),Fd(),gs());return Tn(e,n,f,r),n.child}function bo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cg(e,n,r,c,f){var g=Pd();return g=g===null?null:{parent:cn._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},e!==null&&Mu(n,null),Fd(),mp(n),e!==null&&sl(e,n,c,!0),n.childLanes=f,null}function Gu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dg(e,n,r){return xr(n,e.child,null,r),e=Gu(n,n.pendingProps),e.flags|=2,ma(n),n.memoizedState=null,e}function gb(e,n,r){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ut){if(c.mode==="hidden")return e=Gu(n,c),n.lanes=536870912,bo(null,e);if(Kd(n),(e=yt)?(e=jy(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:me!==null?{id:je,overflow:Ae}:null,retryLane:536870912,hydrationErrors:null},r=so(e),r.return=n,n.child=r,gt=n,yt=null)):e=null,e===null)throw fi(n);return n.lanes=536870912,null}return Gu(n,c)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(Kd(n),f)if(n.flags&256)n.flags&=-257,n=dg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(hn||sl(e,n,r,!1),f=(r&e.childLanes)!==0,hn||f){if(c=Pt,c!==null&&(N=Pr(c,r),N!==0&&N!==g.retryLane))throw g.retryLane=N,ka(e,N),ta(c,e,N),hh;sc(),n=dg(e,n,r)}else e=g.treeContext,yt=Aa(N.nextSibling),gt=n,ut=!0,mi=null,$n=!1,e!==null&&Zn(n,e),n=Gu(n,c),n.flags|=4096;return n}return e=Ta(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function mh(e,n,r,c,f){return fr(n),r=Vd(e,n,r,c,void 0,f),c=Gd(),e!==null&&!hn?(Yd(e,n,f),Li(e,n,f)):(ut&&c&&xn(n),n.flags|=1,Tn(e,n,r,f),n.child)}function hg(e,n,r,c,f,g){return fr(n),n.updateQueue=null,r=pp(n,c,r,f),fp(e),c=Gd(),e!==null&&!hn?(Yd(e,n,g),Li(e,n,g)):(ut&&c&&xn(n),n.flags|=1,Tn(e,n,r,g),n.child)}function mg(e,n,r,c,f){if(fr(n),n.stateNode===null){var g=Ci,N=r.contextType;typeof N=="object"&&N!==null&&(g=kn(N)),g=new r(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ch,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Id(n),N=r.contextType,g.context=typeof N=="object"&&N!==null?kn(N):Ci,g.state=n.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&(uh(n,r,N,c),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&ch.enqueueReplaceState(g,g.state,null),go(n,c,g,f),po(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,H=_r(r,T);g.props=H;var he=g.context,_e=r.contextType;N=Ci,typeof _e=="object"&&_e!==null&&(N=kn(_e));var Se=r.getDerivedStateFromProps;_e=typeof Se=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||he!==N)&&Wp(n,g,c,N),hs=!1;var fe=n.memoizedState;g.state=fe,go(n,c,g,f),po(),he=n.memoizedState,T||fe!==he||hs?(typeof Se=="function"&&(uh(n,r,Se,c),he=n.memoizedState),(H=hs||Jp(n,r,H,c,fe,he,N))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=he),g.props=c,g.state=he,g.context=N,c=H):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Ud(e,n),N=n.memoizedProps,_e=_r(r,N),g.props=_e,Se=n.pendingProps,fe=g.context,he=r.contextType,H=Ci,typeof he=="object"&&he!==null&&(H=kn(he)),T=r.getDerivedStateFromProps,(he=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==Se||fe!==H)&&Wp(n,g,c,H),hs=!1,fe=n.memoizedState,g.state=fe,go(n,c,g,f),po();var pe=n.memoizedState;N!==Se||fe!==pe||hs||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof T=="function"&&(uh(n,r,T,c),pe=n.memoizedState),(_e=hs||Jp(n,r,_e,c,fe,pe,H)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(he||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,pe,H),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,pe,H)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=pe),g.props=c,g.state=pe,g.context=H,c=_e):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Yu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=xr(n,e.child,null,f),n.child=xr(n,null,r,f)):Tn(e,n,r,f),n.memoizedState=g.state,e=n.child):e=Li(e,n,f),e}function fg(e,n,r,c){return zi(),n.flags|=256,Tn(e,n,r,c),n.child}var fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ph(e){return{baseLanes:e,cachePool:ap()}}function gh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=pa),e}function pg(e,n,r){var c=n.pendingProps,f=!1,g=(n.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),N&&(f=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(ut){if(f?ps(n):gs(),(e=yt)?(e=jy(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:me!==null?{id:je,overflow:Ae}:null,retryLane:536870912,hydrationErrors:null},r=so(e),r.return=n,n.child=r,gt=n,yt=null)):e=null,e===null)throw fi(n);return Jh(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(gs(),f=n.mode,T=$u({mode:"hidden",children:T},f),c=Ai(c,f,r,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=ph(r),c.childLanes=gh(e,N,r),n.memoizedState=fh,bo(null,c)):(ps(n),yh(n,T))}var H=e.memoizedState;if(H!==null&&(T=H.dehydrated,T!==null)){if(g)n.flags&256?(ps(n),n.flags&=-257,n=xh(e,n,r)):n.memoizedState!==null?(gs(),n.child=e.child,n.flags|=128,n=null):(gs(),T=c.fallback,f=n.mode,c=$u({mode:"visible",children:c.children},f),T=Ai(T,f,r,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,xr(n,e.child,null,r),c=n.child,c.memoizedState=ph(r),c.childLanes=gh(e,N,r),n.memoizedState=fh,n=bo(null,c));else if(ps(n),Jh(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var he=N.dgst;N=he,c=Error(o(419)),c.stack="",c.digest=N,hr({value:c,source:null,stack:null}),n=xh(e,n,r)}else if(hn||sl(e,n,r,!1),N=(r&e.childLanes)!==0,hn||N){if(N=Pt,N!==null&&(c=Pr(N,r),c!==0&&c!==H.retryLane))throw H.retryLane=c,ka(e,c),ta(N,e,c),hh;Xh(T)||sc(),n=xh(e,n,r)}else Xh(T)?(n.flags|=192,n.child=e.child,n=null):(e=H.treeContext,yt=Aa(T.nextSibling),gt=n,ut=!0,mi=null,$n=!1,e!==null&&Zn(n,e),n=yh(n,c.children),n.flags|=4096);return n}return f?(gs(),T=c.fallback,f=n.mode,H=e.child,he=H.sibling,c=Ta(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,he!==null?T=Ta(he,T):(T=Ai(T,f,r,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,bo(null,c),c=n.child,T=e.child.memoizedState,T===null?T=ph(r):(f=T.cachePool,f!==null?(H=cn._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=ap(),T={baseLanes:T.baseLanes|r,cachePool:f}),c.memoizedState=T,c.childLanes=gh(e,N,r),n.memoizedState=fh,bo(e.child,c)):(ps(n),r=e.child,e=r.sibling,r=Ta(r,{mode:"visible",children:c.children}),r.return=n,r.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=r,n.memoizedState=null,r)}function yh(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Pn(22,e,null,n),e.lanes=0,e}function xh(e,n,r){return xr(n,e.child,null,r),e=yh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gg(e,n,r){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Od(e.return,n,r)}function vh(e,n,r,c,f,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f,treeForkCount:g}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=r,N.tailMode=f,N.treeForkCount=g)}function yg(e,n,r){var c=n.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var N=sn.current,T=(N&2)!==0;if(T?(N=N&1|2,n.flags|=128):N&=1,P(sn,N),Tn(e,n,c,r),c=ut?E:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,r,n);else if(e.tag===19)gg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Bu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),vh(n,!1,f,r,g,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Bu(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}vh(n,!0,r,null,g,c);break;case"together":vh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Li(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),vs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(sl(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Ta(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ta(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function _h(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function yb(e,n,r){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),ds(n,cn,e.memoizedState.cache),zi();break;case 27:case 5:lt(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?pg(e,n,r):(ps(n),e=Li(e,n,r),e!==null?e.sibling:null);ps(n);break;case 19:var f=(e.flags&128)!==0;if(c=(r&n.childLanes)!==0,c||(sl(e,n,r,!1),c=(r&n.childLanes)!==0),f){if(c)return yg(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),P(sn,sn.current),c)break;return null;case 22:return n.lanes=0,ug(e,n,r,n.pendingProps);case 24:ds(n,cn,e.memoizedState.cache)}return Li(e,n,r)}function xg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)hn=!0;else{if(!_h(e,r)&&(n.flags&128)===0)return hn=!1,yb(e,n,r);hn=(e.flags&131072)!==0}else hn=!1,ut&&(n.flags&1048576)!==0&&it(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=gr(n.elementType),n.type=e,typeof e=="function")nl(e)?(c=_r(e,c),n.tag=1,n=mg(null,n,e,c,r)):(n.tag=0,n=mh(null,n,e,c,r));else{if(e!=null){var f=e.$$typeof;if(f===V){n.tag=11,n=rg(null,n,e,c,r);break e}else if(f===Q){n.tag=14,n=lg(null,n,e,c,r);break e}}throw n=F(e)||e,Error(o(306,n,""))}}return n;case 0:return mh(e,n,n.type,n.pendingProps,r);case 1:return c=n.type,f=_r(c,n.pendingProps),mg(e,n,c,f,r);case 3:e:{if(Fe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;f=g.element,Ud(e,n),go(n,c,null,r);var N=n.memoizedState;if(c=N.cache,ds(n,cn,c),c!==g.cache&&Rd(n,[cn],r,!0),po(),c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=fg(e,n,c,r);break e}else if(c!==f){f=u(Error(o(424)),n),hr(f),n=fg(e,n,c,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,yt=Aa(e.firstChild),gt=n,ut=!0,mi=null,$n=!0,r=up(n,null,c,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zi(),c===f){n=Li(e,n,r);break e}Tn(e,n,c,r)}n=n.child}return n;case 26:return Yu(e,n),e===null?(r=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:ut||(r=n.type,e=n.pendingProps,c=hc(we.current).createElement(r),c[Xt]=n,c[un]=e,Cn(c,r,e),Gt(c),n.stateNode=c):n.memoizedState=Cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return lt(n),e===null&&ut&&(c=n.stateNode=Ey(n.type,n.pendingProps,we.current),gt=n,$n=!0,f=yt,Ss(n.type)?(Wh=f,yt=Aa(c.firstChild)):yt=f),Tn(e,n,n.pendingProps.children,r),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ut&&((f=c=yt)&&(c=Vb(c,n.type,n.pendingProps,$n),c!==null?(n.stateNode=c,gt=n,yt=Aa(c.firstChild),$n=!1,f=!0):f=!1),f||fi(n)),lt(n),f=n.type,g=n.pendingProps,N=e!==null?e.memoizedProps:null,c=g.children,Gh(f,g)?c=null:N!==null&&Gh(f,N)&&(n.flags|=32),n.memoizedState!==null&&(f=Vd(e,n,ob,null,null,r),Do._currentValue=f),Yu(e,n),Tn(e,n,c,r),n.child;case 6:return e===null&&ut&&((e=r=yt)&&(r=Gb(r,n.pendingProps,$n),r!==null?(n.stateNode=r,gt=n,yt=null,e=!0):e=!1),e||fi(n)),null;case 13:return pg(e,n,r);case 4:return Fe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=xr(n,null,c,r):Tn(e,n,c,r),n.child;case 11:return rg(e,n,n.type,n.pendingProps,r);case 7:return Tn(e,n,n.pendingProps,r),n.child;case 8:return Tn(e,n,n.pendingProps.children,r),n.child;case 12:return Tn(e,n,n.pendingProps.children,r),n.child;case 10:return c=n.pendingProps,ds(n,n.type,c.value),Tn(e,n,c.children,r),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,fr(n),f=kn(f),c=c(f),n.flags|=1,Tn(e,n,c,r),n.child;case 14:return lg(e,n,n.type,n.pendingProps,r);case 15:return og(e,n,n.type,n.pendingProps,r);case 19:return yg(e,n,r);case 31:return gb(e,n,r);case 22:return ug(e,n,r,n.pendingProps);case 24:return fr(n),c=kn(cn),e===null?(f=Pd(),f===null&&(f=Pt,g=Ld(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),n.memoizedState={parent:c,cache:f},Id(n),ds(n,cn,f)):((e.lanes&r)!==0&&(Ud(e,n),go(n,null,null,r),po()),f=e.memoizedState,g=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ds(n,cn,c)):(c=g.cache,ds(n,cn,c),c!==f.cache&&Rd(n,[cn],r,!0))),Tn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Di(e){e.flags|=4}function bh(e,n,r,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Kg())e.flags|=8192;else throw yr=Ru,Bd}else e.flags&=-16777217}function vg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ry(n))if(Kg())e.flags|=8192;else throw yr=Ru,Bd}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Lr():536870912,e.lanes|=n,yl|=n)}function No(e,n){if(!ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=r,n}function xb(e,n,r){var c=n.pendingProps;switch(Wt(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return r=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Mi(cn),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ya(n)?Di(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,oo())),qt(n),null;case 26:var f=n.type,g=n.memoizedState;return e===null?(Di(n),g!==null?(qt(n),vg(n,g)):(qt(n),bh(n,f,null,c,r))):g?g!==e.memoizedState?(Di(n),qt(n),vg(n,g)):(qt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Di(n),qt(n),bh(n,f,e,c,r)),null;case 27:if(at(n),r=we.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Di(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return qt(n),null}e=K.current,Ya(n)?lo(n):(e=Ey(f,c,r),n.stateNode=e,Di(n))}return qt(n),null;case 5:if(at(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Di(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return qt(n),null}if(g=K.current,Ya(n))lo(n);else{var N=hc(we.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?N.createElement(f,{is:c.is}):N.createElement(f)}}g[Xt]=n,g[un]=c;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=g;e:switch(Cn(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Di(n)}}return qt(n),bh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Di(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=we.current,Ya(n)){if(e=n.stateNode,r=n.memoizedProps,c=null,f=gt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Xt]=n,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||py(e.nodeValue,r)),e||fi(n,!0)}else e=hc(e).createTextNode(c),e[Xt]=n,n.stateNode=e}return qt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(c=Ya(n),r!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Xt]=n}else zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),e=!1}else r=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(ma(n),n):(ma(n),null);if((n.flags&128)!==0)throw Error(o(558))}return qt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ya(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Xt]=n}else zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),f=!1}else f=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ma(n),n):(ma(n),null)}return ma(n),(n.flags&128)!==0?(n.lanes=r,n):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),qt(n),null);case 4:return He(),e===null&&Fh(n.stateNode.containerInfo),qt(n),null;case 10:return Mi(n.type),qt(n),null;case 19:if(ae(sn),c=n.memoizedState,c===null)return qt(n),null;if(f=(n.flags&128)!==0,g=c.rendering,g===null)if(f)No(c,!1);else{if(tn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Bu(e),g!==null){for(n.flags|=128,No(c,!1),e=g.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)io(r,e),r=r.sibling;return P(sn,sn.current&1|2),ut&&Ue(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Xe()>nc&&(n.flags|=128,f=!0,No(c,!1),n.lanes=4194304)}else{if(!f)if(e=Bu(g),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),No(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ut)return qt(n),null}else 2*Xe()-c.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,f=!0,No(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Xe(),e.sibling=null,r=sn.current,P(sn,f?r&1|2:r&1),ut&&Ue(n,c.treeForkCount),e):(qt(n),null);case 22:case 23:return ma(n),Hd(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(r&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048),e!==null&&ae(pr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Mi(cn),qt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function vb(e,n){switch(Wt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mi(cn),He(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return at(n),null;case 31:if(n.memoizedState!==null){if(ma(n),n.alternate===null)throw Error(o(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ma(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(sn),null;case 4:return He(),null;case 10:return Mi(n.type),null;case 22:case 23:return ma(n),Hd(),e!==null&&ae(pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mi(cn),null;case 25:return null;default:return null}}function _g(e,n){switch(Wt(n),n.tag){case 3:Mi(cn),He();break;case 26:case 27:case 5:at(n);break;case 4:He();break;case 31:n.memoizedState!==null&&ma(n);break;case 13:ma(n);break;case 19:ae(sn);break;case 10:Mi(n.type);break;case 22:case 23:ma(n),Hd(),e!==null&&ae(pr);break;case 24:Mi(cn)}}function jo(e,n){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){c=void 0;var g=r.create,N=r.inst;c=g(),N.destroy=c}r=r.next}while(r!==f)}}catch(T){Et(n,n.return,T)}}function ys(e,n,r){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&e)===e){var N=c.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,f=n;var H=r,he=T;try{he()}catch(_e){Et(f,H,_e)}}}c=c.next}while(c!==g)}}catch(_e){Et(n,n.return,_e)}}function bg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{dp(n,r)}catch(c){Et(e,e.return,c)}}}function Ng(e,n,r){r.props=_r(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Et(e,n,c)}}function So(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(f){Et(e,n,f)}}function gi(e,n){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Et(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Et(e,n,f)}else r.current=null}function jg(e){var n=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Et(e,e.return,f)}}function Nh(e,n,r){try{var c=e.stateNode;Zb(c,e.type,r,n),c[un]=n}catch(f){Et(e,e.return,f)}}function Sg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ss(e.type)||e.tag===4}function jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sh(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Qn));else if(c!==4&&(c===27&&Ss(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Sh(e,n,r),e=e.sibling;e!==null;)Sh(e,n,r),e=e.sibling}function Ju(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(c!==4&&(c===27&&Ss(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function wg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Cn(n,c,r),n[Xt]=e,n[un]=r}catch(g){Et(e,e.return,g)}}var Pi=!1,mn=!1,wh=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,wn=null;function _b(e,n){if(e=e.containerInfo,Qh=vc,e=ir(e),oi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var N=0,T=-1,H=-1,he=0,_e=0,Se=e,fe=null;t:for(;;){for(var pe;Se!==r||f!==0&&Se.nodeType!==3||(T=N+f),Se!==g||c!==0&&Se.nodeType!==3||(H=N+c),Se.nodeType===3&&(N+=Se.nodeValue.length),(pe=Se.firstChild)!==null;)fe=Se,Se=pe;for(;;){if(Se===e)break t;if(fe===r&&++he===f&&(T=N),fe===g&&++_e===c&&(H=N),(pe=Se.nextSibling)!==null)break;Se=fe,fe=Se.parentNode}Se=pe}r=T===-1||H===-1?null:{start:T,end:H}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vh={focusedElem:e,selectionRange:r},vc=!1,wn=n;wn!==null;)if(n=wn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,wn=e;else for(;wn!==null;){switch(n=wn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=n,f=g.memoizedProps,g=g.memoizedState,c=r.stateNode;try{var De=_r(r.type,f);e=c.getSnapshotBeforeUpdate(De,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){Et(r,r.return,Qe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)$h(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$h(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,wn=e;break}wn=n.return}}function kg(e,n,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(e,r),c&4&&jo(5,r);break;case 1:if(Ii(e,r),c&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(N){Et(r,r.return,N)}else{var f=_r(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Et(r,r.return,N)}}c&64&&bg(r),c&512&&So(r,r.return);break;case 3:if(Ii(e,r),c&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dp(e,n)}catch(N){Et(r,r.return,N)}}break;case 27:n===null&&c&4&&wg(r);case 26:case 5:Ii(e,r),n===null&&c&4&&jg(r),c&512&&So(r,r.return);break;case 12:Ii(e,r);break;case 31:Ii(e,r),c&4&&Ag(e,r);break;case 13:Ii(e,r),c&4&&zg(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Cb.bind(null,r),Yb(e,r))));break;case 22:if(c=r.memoizedState!==null||Pi,!c){n=n!==null&&n.memoizedState!==null||mn,f=Pi;var g=mn;Pi=c,(mn=n)&&!g?Ui(e,r,(r.subtreeFlags&8772)!==0):Ii(e,r),Pi=f,mn=g}break;case 30:break;default:Ii(e,r)}}function Tg(e){var n=e.alternate;n!==null&&(e.alternate=null,Tg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&B(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Kt=null,Xn=!1;function Bi(e,n,r){for(r=r.child;r!==null;)Cg(e,n,r),r=r.sibling}function Cg(e,n,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(bt,r)}catch{}switch(r.tag){case 26:mn||gi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:mn||gi(r,n);var c=Kt,f=Xn;Ss(r.type)&&(Kt=r.stateNode,Xn=!1),Bi(e,n,r),Oo(r.stateNode),Kt=c,Xn=f;break;case 5:mn||gi(r,n);case 6:if(c=Kt,f=Xn,Kt=null,Bi(e,n,r),Kt=c,Xn=f,Kt!==null)if(Xn)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(r.stateNode)}catch(g){Et(r,n,g)}else try{Kt.removeChild(r.stateNode)}catch(g){Et(r,n,g)}break;case 18:Kt!==null&&(Xn?(e=Kt,by(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),wl(e)):by(Kt,r.stateNode));break;case 4:c=Kt,f=Xn,Kt=r.stateNode.containerInfo,Xn=!0,Bi(e,n,r),Kt=c,Xn=f;break;case 0:case 11:case 14:case 15:ys(2,r,n),mn||ys(4,r,n),Bi(e,n,r);break;case 1:mn||(gi(r,n),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Ng(r,n,c)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:mn=(c=mn)||r.memoizedState!==null,Bi(e,n,r),mn=c;break;default:Bi(e,n,r)}}function Ag(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(r){Et(n,n.return,r)}}}function zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(r){Et(n,n.return,r)}}function bb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Eg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Eg),n;default:throw Error(o(435,e.tag))}}function Wu(e,n){var r=bb(e);n.forEach(function(c){if(!r.has(c)){r.add(c);var f=Ab.bind(null,e,c);c.then(f,f)}})}function Jn(e,n){var r=n.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],g=e,N=n,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(Ss(T.type)){Kt=T.stateNode,Xn=!1;break e}break;case 5:Kt=T.stateNode,Xn=!1;break e;case 3:case 4:Kt=T.stateNode.containerInfo,Xn=!0;break e}T=T.return}if(Kt===null)throw Error(o(160));Cg(g,N,f),Kt=null,Xn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Mg(n,e),n=n.sibling}var Xa=null;function Mg(e,n){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(n,e),Wn(e),c&4&&(ys(3,e,e.return),jo(3,e),ys(5,e,e.return));break;case 1:Jn(n,e),Wn(e),c&512&&(mn||r===null||gi(r,r.return)),c&64&&Pi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Xa;if(Jn(n,e),Wn(e),c&512&&(mn||r===null||gi(r,r.return)),c&4){var g=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ji]||g[Xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),Cn(g,c,r),g[Xt]=e,Gt(g),c=g;break e;case"link":var N=My("link","href",f).get(c+(r.href||""));if(N){for(var T=0;T<N.length;T++)if(g=N[T],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){N.splice(T,1);break t}}g=f.createElement(c),Cn(g,c,r),f.head.appendChild(g);break;case"meta":if(N=My("meta","content",f).get(c+(r.content||""))){for(T=0;T<N.length;T++)if(g=N[T],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){N.splice(T,1);break t}}g=f.createElement(c),Cn(g,c,r),f.head.appendChild(g);break;default:throw Error(o(468,c))}g[Xt]=e,Gt(g),c=g}e.stateNode=c}else Oy(f,e.type,e.stateNode);else e.stateNode=zy(f,c,e.memoizedProps);else g!==c?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,c===null?Oy(f,e.type,e.stateNode):zy(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Nh(e,e.memoizedProps,r.memoizedProps)}break;case 27:Jn(n,e),Wn(e),c&512&&(mn||r===null||gi(r,r.return)),r!==null&&c&4&&Nh(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Jn(n,e),Wn(e),c&512&&(mn||r===null||gi(r,r.return)),e.flags&32){f=e.stateNode;try{ba(f,"")}catch(De){Et(e,e.return,De)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,Nh(e,f,r!==null?r.memoizedProps:f)),c&1024&&(wh=!0);break;case 6:if(Jn(n,e),Wn(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(De){Et(e,e.return,De)}}break;case 3:if(pc=null,f=Xa,Xa=mc(n.containerInfo),Jn(n,e),Xa=f,Wn(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(De){Et(e,e.return,De)}wh&&(wh=!1,Og(e));break;case 4:c=Xa,Xa=mc(e.stateNode.containerInfo),Jn(n,e),Wn(e),Xa=c;break;case 12:Jn(n,e),Wn(e);break;case 31:Jn(n,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wu(e,c)));break;case 13:Jn(n,e),Wn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=Xe()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wu(e,c)));break;case 22:f=e.memoizedState!==null;var H=r!==null&&r.memoizedState!==null,he=Pi,_e=mn;if(Pi=he||f,mn=_e||H,Jn(n,e),mn=_e,Pi=he,Wn(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||H||Pi||mn||br(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){H=r=n;try{if(g=H.stateNode,f)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=H.stateNode;var Se=H.memoizedProps.style,fe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;T.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(De){Et(H,H.return,De)}}}else if(n.tag===6){if(r===null){H=n;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(De){Et(H,H.return,De)}}}else if(n.tag===18){if(r===null){H=n;try{var pe=H.stateNode;f?Ny(pe,!0):Ny(H.stateNode,!1)}catch(De){Et(H,H.return,De)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Wu(e,r))));break;case 19:Jn(n,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wu(e,c)));break;case 30:break;case 21:break;default:Jn(n,e),Wn(e)}}function Wn(e){var n=e.flags;if(n&2){try{for(var r,c=e.return;c!==null;){if(Sg(c)){r=c;break}c=c.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var f=r.stateNode,g=jh(e);Ju(e,g,f);break;case 5:var N=r.stateNode;r.flags&32&&(ba(N,""),r.flags&=-33);var T=jh(e);Ju(e,T,N);break;case 3:case 4:var H=r.stateNode.containerInfo,he=jh(e);Sh(e,he,H);break;default:throw Error(o(161))}}catch(_e){Et(e,e.return,_e)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Og(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Og(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ii(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(e,n.alternate,n),n=n.sibling}function br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ys(4,n,n.return),br(n);break;case 1:gi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ng(n,n.return,r),br(n);break;case 27:Oo(n.stateNode);case 26:case 5:gi(n,n.return),br(n);break;case 22:n.memoizedState===null&&br(n);break;case 30:br(n);break;default:br(n)}e=e.sibling}}function Ui(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,g=n,N=g.flags;switch(g.tag){case 0:case 11:case 15:Ui(f,g,r),jo(4,g);break;case 1:if(Ui(f,g,r),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(he){Et(c,c.return,he)}if(c=g,f=c.updateQueue,f!==null){var T=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)cp(H[f],T)}catch(he){Et(c,c.return,he)}}r&&N&64&&bg(g),So(g,g.return);break;case 27:wg(g);case 26:case 5:Ui(f,g,r),r&&c===null&&N&4&&jg(g),So(g,g.return);break;case 12:Ui(f,g,r);break;case 31:Ui(f,g,r),r&&N&4&&Ag(f,g);break;case 13:Ui(f,g,r),r&&N&4&&zg(f,g);break;case 22:g.memoizedState===null&&Ui(f,g,r),So(g,g.return);break;case 30:break;default:Ui(f,g,r)}n=n.sibling}}function Eh(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&uo(r))}function kh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e))}function Ja(e,n,r,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rg(e,n,r,c),n=n.sibling}function Rg(e,n,r,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ja(e,n,r,c),f&2048&&jo(9,n);break;case 1:Ja(e,n,r,c);break;case 3:Ja(e,n,r,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e)));break;case 12:if(f&2048){Ja(e,n,r,c),e=n.stateNode;try{var g=n.memoizedProps,N=g.id,T=g.onPostCommit;typeof T=="function"&&T(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){Et(n,n.return,H)}}else Ja(e,n,r,c);break;case 31:Ja(e,n,r,c);break;case 13:Ja(e,n,r,c);break;case 23:break;case 22:g=n.stateNode,N=n.alternate,n.memoizedState!==null?g._visibility&2?Ja(e,n,r,c):wo(e,n):g._visibility&2?Ja(e,n,r,c):(g._visibility|=2,fl(e,n,r,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Eh(N,n);break;case 24:Ja(e,n,r,c),f&2048&&kh(n.alternate,n);break;default:Ja(e,n,r,c)}}function fl(e,n,r,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,N=n,T=r,H=c,he=N.flags;switch(N.tag){case 0:case 11:case 15:fl(g,N,T,H,f),jo(8,N);break;case 23:break;case 22:var _e=N.stateNode;N.memoizedState!==null?_e._visibility&2?fl(g,N,T,H,f):wo(g,N):(_e._visibility|=2,fl(g,N,T,H,f)),f&&he&2048&&Eh(N.alternate,N);break;case 24:fl(g,N,T,H,f),f&&he&2048&&kh(N.alternate,N);break;default:fl(g,N,T,H,f)}n=n.sibling}}function wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,c=n,f=c.flags;switch(c.tag){case 22:wo(r,c),f&2048&&Eh(c.alternate,c);break;case 24:wo(r,c),f&2048&&kh(c.alternate,c);break;default:wo(r,c)}n=n.sibling}}var Eo=8192;function pl(e,n,r){if(e.subtreeFlags&Eo)for(e=e.child;e!==null;)Lg(e,n,r),e=e.sibling}function Lg(e,n,r){switch(e.tag){case 26:pl(e,n,r),e.flags&Eo&&e.memoizedState!==null&&lN(r,Xa,e.memoizedState,e.memoizedProps);break;case 5:pl(e,n,r);break;case 3:case 4:var c=Xa;Xa=mc(e.stateNode.containerInfo),pl(e,n,r),Xa=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Eo,Eo=16777216,pl(e,n,r),Eo=c):pl(e,n,r));break;default:pl(e,n,r)}}function Dg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];wn=c,Bg(c,e)}Dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pg(e),e=e.sibling}function Pg(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&ys(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ko(e);break;default:ko(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];wn=c,Bg(c,e)}Dg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ys(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Bg(e,n){for(;wn!==null;){var r=wn;switch(r.tag){case 0:case 11:case 15:ys(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uo(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,wn=c;else e:for(r=e;wn!==null;){c=wn;var f=c.sibling,g=c.return;if(Tg(c),c===r){wn=null;break e}if(f!==null){f.return=g,wn=f;break e}wn=g}}}var Nb={getCacheForType:function(e){var n=kn(cn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return kn(cn).controller.signal}},jb=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Pt=null,ct=null,mt=0,wt=0,fa=null,xs=!1,gl=!1,Th=!1,Zi=0,tn=0,vs=0,Nr=0,Ch=0,pa=0,yl=0,To=null,ea=null,Ah=!1,tc=0,Ig=0,nc=1/0,ac=null,_s=null,vn=0,bs=null,xl=null,qi=0,zh=0,Mh=null,Ug=null,Co=0,Oh=null;function ga(){return(Nt&2)!==0&&mt!==0?mt&-mt:q.T!==null?Ih():Zs()}function Zg(){if(pa===0)if((mt&536870912)===0||ut){var e=Za;Za<<=1,(Za&3932160)===0&&(Za=262144),pa=e}else pa=536870912;return e=ha.current,e!==null&&(e.flags|=32),pa}function ta(e,n,r){(e===Pt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(vl(e,0),Ns(e,mt,pa,!1)),ra(e,r),((Nt&2)===0||e!==Pt)&&(e===Pt&&((Nt&2)===0&&(Nr|=r),tn===4&&Ns(e,mt,pa,!1)),yi(e))}function qg(e,n,r){if((Nt&6)!==0)throw Error(o(327));var c=!r&&(n&127)===0&&(n&e.expiredLanes)===0||sa(e,n),f=c?Eb(e,n):Lh(e,n,!0),g=c;do{if(f===0){gl&&!c&&Ns(e,n,0,!1);break}else{if(r=e.current.alternate,g&&!Sb(r)){f=Lh(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var T=e;f=To;var H=T.current.memoizedState.isDehydrated;if(H&&(vl(T,N).flags|=256),N=Lh(T,N,!1),N!==2){if(Th&&!H){T.errorRecoveryDisabledLanes|=g,Nr|=g,f=4;break e}g=ea,ea=f,g!==null&&(ea===null?ea=g:ea.push.apply(ea,g))}f=N}if(g=!1,f!==2)continue}}if(f===1){vl(e,0),Ns(e,n,0,!0);break}e:{switch(c=e,g=f,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Ns(c,n,pa,!xs);break e;case 2:ea=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=tc+300-Xe(),10<f)){if(Ns(c,n,pa,!xs),ai(c,0,!0)!==0)break e;qi=n,c.timeoutHandle=vy(Fg.bind(null,c,r,ea,ac,Ah,n,pa,Nr,yl,xs,g,"Throttled",-0,0),f);break e}Fg(c,r,ea,ac,Ah,n,pa,Nr,yl,xs,g,null,-0,0)}}break}while(!0);yi(e)}function Fg(e,n,r,c,f,g,N,T,H,he,_e,Se,fe,pe){if(e.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Lg(n,g,Se);var De=(g&62914560)===g?tc-Xe():(g&4194048)===g?Ig-Xe():0;if(De=oN(Se,De),De!==null){qi=g,e.cancelPendingCommit=De(Xg.bind(null,e,n,g,r,c,f,N,T,H,_e,Se,null,fe,pe)),Ns(e,g,N,!he);return}}Xg(e,n,g,r,c,f,N,T,H)}function Sb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],g=f.getSnapshot;f=f.value;try{if(!jn(g(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,r,c){n&=~Ch,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var g=31-gn(f),N=1<<g;c[g]=-1,f&=~N}r!==0&&Ni(e,r,n)}function ic(){return(Nt&6)===0?(Ao(0),!1):!0}function Rh(){if(ct!==null){if(wt===0)var e=ct.return;else e=ct,$a=pi=null,$d(e),ul=null,ho=0,e=ct;for(;e!==null;)_g(e.alternate,e),e=e.return;ct=null}}function vl(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Hb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),qi=0,Rh(),Pt=e,ct=r=Ta(e.current,null),mt=n,wt=0,fa=null,xs=!1,gl=sa(e,n),Th=!1,yl=pa=Ch=Nr=vs=tn=0,ea=To=null,Ah=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-gn(c),g=1<<f;n|=e[f],c&=~g}return Zi=n,ur(),r}function Hg(e,n){nt=null,q.H=_o,n===ol||n===Ou?(n=rp(),wt=3):n===Bd?(n=rp(),wt=4):wt=n===hh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fa=n,ct===null&&(tn=1,Vu(e,u(n,e.current)))}function Kg(){var e=ha.current;return e===null?!0:(mt&4194048)===mt?Ca===null:(mt&62914560)===mt||(mt&536870912)!==0?e===Ca:!1}function Qg(){var e=q.H;return q.H=_o,e===null?_o:e}function Vg(){var e=q.A;return q.A=Nb,e}function sc(){tn=4,xs||(mt&4194048)!==mt&&ha.current!==null||(gl=!0),(vs&134217727)===0&&(Nr&134217727)===0||Pt===null||Ns(Pt,mt,pa,!1)}function Lh(e,n,r){var c=Nt;Nt|=2;var f=Qg(),g=Vg();(Pt!==e||mt!==n)&&(ac=null,vl(e,n)),n=!1;var N=tn;e:do try{if(wt!==0&&ct!==null){var T=ct,H=fa;switch(wt){case 8:Rh(),N=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(n=!0);var he=wt;if(wt=0,fa=null,_l(e,T,H,he),r&&gl){N=0;break e}break;default:he=wt,wt=0,fa=null,_l(e,T,H,he)}}wb(),N=tn;break}catch(_e){Hg(e,_e)}while(!0);return n&&e.shellSuspendCounter++,$a=pi=null,Nt=c,q.H=f,q.A=g,ct===null&&(Pt=null,mt=0,ur()),N}function wb(){for(;ct!==null;)Gg(ct)}function Eb(e,n){var r=Nt;Nt|=2;var c=Qg(),f=Vg();Pt!==e||mt!==n?(ac=null,nc=Xe()+500,vl(e,n)):gl=sa(e,n);e:do try{if(wt!==0&&ct!==null){n=ct;var g=fa;t:switch(wt){case 1:wt=0,fa=null,_l(e,n,g,1);break;case 2:case 9:if(ip(g)){wt=0,fa=null,Yg(n);break}n=function(){wt!==2&&wt!==9||Pt!==e||(wt=7),yi(e)},g.then(n,n);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:ip(g)?(wt=0,fa=null,Yg(n)):(wt=0,fa=null,_l(e,n,g,7));break;case 5:var N=null;switch(ct.tag){case 26:N=ct.memoizedState;case 5:case 27:var T=ct;if(N?Ry(N):T.stateNode.complete){wt=0,fa=null;var H=T.sibling;if(H!==null)ct=H;else{var he=T.return;he!==null?(ct=he,rc(he)):ct=null}break t}}wt=0,fa=null,_l(e,n,g,5);break;case 6:wt=0,fa=null,_l(e,n,g,6);break;case 8:Rh(),tn=6;break e;default:throw Error(o(462))}}kb();break}catch(_e){Hg(e,_e)}while(!0);return $a=pi=null,q.H=c,q.A=f,Nt=r,ct!==null?0:(Pt=null,mt=0,ur(),tn)}function kb(){for(;ct!==null&&!$e();)Gg(ct)}function Gg(e){var n=xg(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?rc(e):ct=n}function Yg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=hg(r,n,n.pendingProps,n.type,void 0,mt);break;case 11:n=hg(r,n,n.pendingProps,n.type.render,n.ref,mt);break;case 5:$d(n);default:_g(r,n),n=ct=io(n,Zi),n=xg(r,n,Zi)}e.memoizedProps=e.pendingProps,n===null?rc(e):ct=n}function _l(e,n,r,c){$a=pi=null,$d(n),ul=null,ho=0;var f=n.return;try{if(pb(e,f,n,r,mt)){tn=1,Vu(e,u(r,e.current)),ct=null;return}}catch(g){if(f!==null)throw ct=f,g;tn=1,Vu(e,u(r,e.current)),ct=null;return}n.flags&32768?(ut||c===1?e=!0:gl||(mt&536870912)!==0?e=!1:(xs=e=!0,(c===2||c===9||c===3||c===6)&&(c=ha.current,c!==null&&c.tag===13&&(c.flags|=16384))),$g(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){$g(n,xs);return}e=n.return;var r=xb(n.alternate,n,Zi);if(r!==null){ct=r;return}if(n=n.sibling,n!==null){ct=n;return}ct=n=e}while(n!==null);tn===0&&(tn=5)}function $g(e,n){do{var r=vb(e.alternate,e);if(r!==null){r.flags&=32767,ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ct=e;return}ct=e=r}while(e!==null);tn=6,ct=null}function Xg(e,n,r,c,f,g,N,T,H){e.cancelPendingCommit=null;do lc();while(vn!==0);if((Nt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=tl,Il(e,r,g,N,T,H),e===Pt&&(ct=Pt=null,mt=0),xl=n,bs=e,qi=r,zh=g,Mh=f,Ug=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zb(Tt,function(){return ny(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,f=U.p,U.p=2,N=Nt,Nt|=4;try{_b(e,n,r)}finally{Nt=N,U.p=f,q.T=c}}vn=1,Jg(),Wg(),ey()}}function Jg(){if(vn===1){vn=0;var e=bs,n=xl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var c=U.p;U.p=2;var f=Nt;Nt|=4;try{Mg(n,e);var g=Vh,N=ir(e.containerInfo),T=g.focusedElem,H=g.selectionRange;if(N!==T&&T&&T.ownerDocument&&Xr(T.ownerDocument.documentElement,T)){if(H!==null&&oi(T)){var he=H.start,_e=H.end;if(_e===void 0&&(_e=he),"selectionStart"in T)T.selectionStart=he,T.selectionEnd=Math.min(_e,T.value.length);else{var Se=T.ownerDocument||document,fe=Se&&Se.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),De=T.textContent.length,Qe=Math.min(H.start,De),Mt=H.end===void 0?Qe:Math.min(H.end,De);!pe.extend&&Qe>Mt&&(N=Mt,Mt=Qe,Qe=N);var ne=ar(T,Qe),$=ar(T,Mt);if(ne&&$&&(pe.rangeCount!==1||pe.anchorNode!==ne.node||pe.anchorOffset!==ne.offset||pe.focusNode!==$.node||pe.focusOffset!==$.offset)){var de=Se.createRange();de.setStart(ne.node,ne.offset),pe.removeAllRanges(),Qe>Mt?(pe.addRange(de),pe.extend($.node,$.offset)):(de.setEnd($.node,$.offset),pe.addRange(de))}}}}for(Se=[],pe=T;pe=pe.parentNode;)pe.nodeType===1&&Se.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Se.length;T++){var be=Se[T];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}vc=!!Qh,Vh=Qh=null}finally{Nt=f,U.p=c,q.T=r}}e.current=n,vn=2}}function Wg(){if(vn===2){vn=0;var e=bs,n=xl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var c=U.p;U.p=2;var f=Nt;Nt|=4;try{kg(e,n.alternate,n)}finally{Nt=f,U.p=c,q.T=r}}vn=3}}function ey(){if(vn===4||vn===3){vn=0,Lt();var e=bs,n=xl,r=qi,c=Ug;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,xl=bs=null,ty(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(_s=null),Le(r),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(bt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=q.T,f=U.p,U.p=2,q.T=null;try{for(var g=e.onRecoverableError,N=0;N<c.length;N++){var T=c[N];g(T.value,{componentStack:T.stack})}}finally{q.T=n,U.p=f}}(qi&3)!==0&&lc(),yi(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===Oh?Co++:(Co=0,Oh=e):Co=0,Ao(0)}}function ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,uo(n)))}function lc(){return Jg(),Wg(),ey(),ny()}function ny(){if(vn!==5)return!1;var e=bs,n=zh;zh=0;var r=Le(qi),c=q.T,f=U.p;try{U.p=32>r?32:r,q.T=null,r=Mh,Mh=null;var g=bs,N=qi;if(vn=0,xl=bs=null,qi=0,(Nt&6)!==0)throw Error(o(331));var T=Nt;if(Nt|=4,Pg(g.current),Rg(g,g.current,N,r),Nt=T,Ao(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(bt,g)}catch{}return!0}finally{U.p=f,q.T=c,ty(e,n)}}function ay(e,n,r){n=u(r,n),n=dh(e.stateNode,n,2),e=fs(e,n,2),e!==null&&(ra(e,2),yi(e))}function Et(e,n,r){if(e.tag===3)ay(e,e,r);else for(;n!==null;){if(n.tag===3){ay(n,e,r);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){e=u(r,e),r=ig(2),c=fs(n,r,2),c!==null&&(sg(r,c,n,e),ra(c,2),yi(c));break}}n=n.return}}function Dh(e,n,r){var c=e.pingCache;if(c===null){c=e.pingCache=new jb;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(r)||(Th=!0,f.add(r),e=Tb.bind(null,e,n,r),n.then(e,e))}function Tb(e,n,r){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Pt===e&&(mt&r)===r&&(tn===4||tn===3&&(mt&62914560)===mt&&300>Xe()-tc?(Nt&2)===0&&vl(e,0):Ch|=r,yl===mt&&(yl=0)),yi(e)}function iy(e,n){n===0&&(n=Lr()),e=ka(e,n),e!==null&&(ra(e,n),yi(e))}function Cb(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),iy(e,r)}function Ab(e,n){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),iy(e,r)}function zb(e,n){return ee(e,n)}var oc=null,bl=null,Ph=!1,uc=!1,Bh=!1,js=0;function yi(e){e!==bl&&e.next===null&&(bl===null?oc=bl=e:bl=bl.next=e),uc=!0,Ph||(Ph=!0,Ob())}function Ao(e,n){if(!Bh&&uc){Bh=!0;do for(var r=!1,c=oc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var N=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-gn(42|e)+1)-1,g&=f&~(N&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,oy(c,g))}else g=mt,g=ai(c,c===Pt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||sa(c,g)||(r=!0,oy(c,g));c=c.next}while(r);Bh=!1}}function Mb(){sy()}function sy(){uc=Ph=!1;var e=0;js!==0&&Fb()&&(e=js);for(var n=Xe(),r=null,c=oc;c!==null;){var f=c.next,g=ry(c,n);g===0?(c.next=null,r===null?oc=f:r.next=f,f===null&&(bl=r)):(r=c,(e!==0||(g&3)!==0)&&(uc=!0)),c=f}vn!==0&&vn!==5||Ao(e),js!==0&&(js=0)}function ry(e,n){for(var r=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-gn(g),T=1<<N,H=f[N];H===-1?((T&r)===0||(T&c)!==0)&&(f[N]=Rr(T,n)):H<=n&&(e.expiredLanes|=T),g&=~T}if(n=Pt,r=mt,r=ai(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===n&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Te(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||sa(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(c!==null&&Te(c),Le(r)){case 2:case 8:r=Oe;break;case 32:r=Tt;break;case 268435456:r=pn;break;default:r=Tt}return c=ly.bind(null,e),r=ee(r,c),e.callbackPriority=n,e.callbackNode=r,n}return c!==null&&c!==null&&Te(c),e.callbackPriority=2,e.callbackNode=null,2}function ly(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var c=mt;return c=ai(e,e===Pt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(qg(e,c,n),ry(e,Xe()),e.callbackNode!=null&&e.callbackNode===r?ly.bind(null,e):null)}function oy(e,n){if(lc())return null;qg(e,n,!0)}function Ob(){Kb(function(){(Nt&6)!==0?ee(X,Mb):sy()})}function Ih(){if(js===0){var e=rl;e===0&&(e=Ua,Ua<<=1,(Ua&261888)===0&&(Ua=256)),js=e}return js}function uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ji(""+e)}function cy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Rb(e,n,r,c,f){if(n==="submit"&&r&&r.stateNode===f){var g=uy((f[un]||null).action),N=c.submitter;N&&(n=(n=N[un]||null)?uy(n.formAction):N.getAttribute("formAction"),n!==null&&(g=n,N=null));var T=new Hr("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(js!==0){var H=N?cy(f,N):new FormData(f);sh(r,{pending:!0,data:H,method:f.method,action:g},null,H)}}else typeof g=="function"&&(T.preventDefault(),H=N?cy(f,N):new FormData(f),sh(r,{pending:!0,data:H,method:f.method,action:g},g,H))},currentTarget:f}]})}}for(var Uh=0;Uh<di.length;Uh++){var Zh=di[Uh],Lb=Zh.toLowerCase(),Db=Zh[0].toUpperCase()+Zh.slice(1);Gn(Lb,"on"+Db)}Gn(rr,"onAnimationEnd"),Gn(ku,"onAnimationIteration"),Gn(lr,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Ad,"onTransitionRun"),Gn(Tu,"onTransitionStart"),Gn(zd,"onTransitionCancel"),Gn(us,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function dy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var N=c.length-1;0<=N;N--){var T=c[N],H=T.instance,he=T.currentTarget;if(T=T.listener,H!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=he;try{g(f)}catch(_e){or(_e)}f.currentTarget=null,g=H}else for(N=0;N<c.length;N++){if(T=c[N],H=T.instance,he=T.currentTarget,T=T.listener,H!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=he;try{g(f)}catch(_e){or(_e)}f.currentTarget=null,g=H}}}}function dt(e,n){var r=n[_a];r===void 0&&(r=n[_a]=new Set);var c=e+"__bubble";r.has(c)||(hy(n,e,2,!1),r.add(c))}function qh(e,n,r){var c=0;n&&(c|=4),hy(r,e,c,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Fh(e){if(!e[cc]){e[cc]=!0,qs.forEach(function(r){r!=="selectionchange"&&(Pb.has(r)||qh(r,!1,e),qh(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,qh("selectionchange",!1,n))}}function hy(e,n,r,c){switch(Zy(n)){case 2:var f=dN;break;case 8:f=hN;break;default:f=im}r=f.bind(null,n,r,e),f=void 0,!Gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function Hh(e,n,r,c,f){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var T=c.stateNode.containerInfo;if(T===f)break;if(N===4)for(N=c.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;T!==null;){if(N=Re(T),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){c=g=N;continue e}T=T.parentNode}}c=c.return}Vl(function(){var he=g,_e=Vs(r),Se=[];e:{var fe=Cu.get(e);if(fe!==void 0){var pe=Hr,De=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":pe=pu;break;case"focusin":De="focus",pe=$l;break;case"focusout":De="blur",pe=$l;break;case"beforeblur":case"afterblur":pe=$l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Sd;break;case rr:case ku:case lr:pe=Xl;break;case us:pe=xu;break;case"scroll":case"scrollend":pe=ht;break;case"wheel":pe=Ti;break;case"copy":case"cut":case"paste":pe=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=gu;break;case"toggle":case"beforetoggle":pe=Js}var Qe=(n&4)!==0,Mt=!Qe&&(e==="scroll"||e==="scrollend"),ne=Qe?fe!==null?fe+"Capture":null:fe;Qe=[];for(var $=he,de;$!==null;){var be=$;if(de=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||de===null||ne===null||(be=Ei($,ne),be!=null&&Qe.push(Mo($,be,de))),Mt)break;$=$.return}0<Qe.length&&(fe=new pe(fe,De,null,r,_e),Se.push({event:fe,listeners:Qe}))}}if((n&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",fe&&r!==Fr&&(De=r.relatedTarget||r.fromElement)&&(Re(De)||De[qa]))break e;if((pe||fe)&&(fe=_e.window===_e?_e:(fe=_e.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(De=r.relatedTarget||r.toElement,pe=he,De=De?Re(De):null,De!==null&&(Mt=m(De),Qe=De.tag,De!==Mt||Qe!==5&&Qe!==27&&Qe!==6)&&(De=null)):(pe=null,De=he),pe!==De)){if(Qe=cu,be="onMouseLeave",ne="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=gu,be="onPointerLeave",ne="onPointerEnter",$="pointer"),Mt=pe==null?fe:Ln(pe),de=De==null?fe:Ln(De),fe=new Qe(be,$+"leave",pe,r,_e),fe.target=Mt,fe.relatedTarget=de,be=null,Re(_e)===he&&(Qe=new Qe(ne,$+"enter",De,r,_e),Qe.target=de,Qe.relatedTarget=Mt,be=Qe),Mt=be,pe&&De)t:{for(Qe=Bb,ne=pe,$=De,de=0,be=ne;be;be=Qe(be))de++;be=0;for(var Ze=$;Ze;Ze=Qe(Ze))be++;for(;0<de-be;)ne=Qe(ne),de--;for(;0<be-de;)$=Qe($),be--;for(;de--;){if(ne===$||$!==null&&ne===$.alternate){Qe=ne;break t}ne=Qe(ne),$=Qe($)}Qe=null}else Qe=null;pe!==null&&my(Se,fe,pe,Qe,!1),De!==null&&Mt!==null&&my(Se,Mt,De,Qe,!0)}}e:{if(fe=he?Ln(he):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&fe.type==="file")var xt=nr;else if(Sa(fe))if(Nu)xt=Cd;else{xt=Td;var Ie=Va}else pe=fe.nodeName,!pe||pe.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?he&&Qs(he.elementType)&&(xt=nr):xt=ss;if(xt&&(xt=xt(e,he))){bu(Se,xt,r,_e);break e}Ie&&Ie(e,fe,he),e==="focusout"&&he&&fe.type==="number"&&he.memoizedProps.value!=null&&Ha(fe,"number",fe.value)}switch(Ie=he?Ln(he):window,e){case"focusin":(Sa(Ie)||Ie.contentEditable==="true")&&(ui=Ie,Wr=he,sr=null);break;case"focusout":sr=Wr=ui=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,wu(Se,r,_e);break;case"selectionchange":if(Jr)break;case"keydown":case"keyup":wu(Se,r,_e)}var st;if(Qr)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ns?_u(e,r)&&(ft="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(Vr&&r.locale!=="ko"&&(ns||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ns&&(st=ri()):(Na=_e,ki="value"in Na?Na.value:Na.textContent,ns=!0)),Ie=dc(he,ft),0<Ie.length&&(ft=new Jl(ft,e,null,r,_e),Se.push({event:ft,listeners:Ie}),st?ft.data=st:(st=no(r),st!==null&&(ft.data=st)))),(st=Ed?da(e,r):as(e,r))&&(ft=dc(he,"onBeforeInput"),0<ft.length&&(Ie=new Jl("onBeforeInput","beforeinput",null,r,_e),Se.push({event:Ie,listeners:ft}),Ie.data=st)),Rb(Se,e,he,r,_e)}dy(Se,n)})}function Mo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ei(e,r),f!=null&&c.unshift(Mo(e,f,g)),f=Ei(e,n),f!=null&&c.push(Mo(e,f,g))),e.tag===3)return c;e=e.return}return[]}function Bb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function my(e,n,r,c,f){for(var g=n._reactName,N=[];r!==null&&r!==c;){var T=r,H=T.alternate,he=T.stateNode;if(T=T.tag,H!==null&&H===c)break;T!==5&&T!==26&&T!==27||he===null||(H=he,f?(he=Ei(r,g),he!=null&&N.unshift(Mo(r,he,H))):f||(he=Ei(r,g),he!=null&&N.push(Mo(r,he,H)))),r=r.return}N.length!==0&&e.push({event:n,listeners:N})}var Ib=/\r\n?/g,Ub=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(Ib,`
`).replace(Ub,"")}function py(e,n){return n=fy(n),fy(e)===n}function zt(e,n,r,c,f,g){switch(r){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||ba(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&ba(e,""+c);break;case"className":Ct(e,"class",c);break;case"tabIndex":Ct(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ct(e,r,c);break;case"style":Zr(e,c,g);break;case"data":if(n!=="object"){Ct(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Ji(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&zt(e,n,"name",f.name,f,null),zt(e,n,"formEncType",f.formEncType,f,null),zt(e,n,"formMethod",f.formMethod,f,null),zt(e,n,"formTarget",f.formTarget,f,null)):(zt(e,n,"encType",f.encType,f,null),zt(e,n,"method",f.method,f,null),zt(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Ji(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=Qn);break;case"onScroll":c!=null&&dt("scroll",e);break;case"onScrollEnd":c!=null&&dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=Ji(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":dt("beforetoggle",e),dt("toggle",e),ot(e,"popover",c);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ot(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=qr.get(r)||r,ot(e,r,c))}}function Kh(e,n,r,c,f,g){switch(r){case"style":Zr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof c=="string"?ba(e,c):(typeof c=="number"||typeof c=="bigint")&&ba(e,""+c);break;case"onScroll":c!=null&&dt("scroll",e);break;case"onScrollEnd":c!=null&&dt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ou.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),g=e[un]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,c,f);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):ot(e,r,c)}}}function Cn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",e),dt("load",e);var c=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var N=r[g];if(N!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:zt(e,n,g,N,r,null)}}f&&zt(e,n,"srcSet",r.srcSet,r,null),c&&zt(e,n,"src",r.src,r,null);return;case"input":dt("invalid",e);var T=g=N=f=null,H=null,he=null;for(c in r)if(r.hasOwnProperty(c)){var _e=r[c];if(_e!=null)switch(c){case"name":f=_e;break;case"type":N=_e;break;case"checked":H=_e;break;case"defaultChecked":he=_e;break;case"value":g=_e;break;case"defaultValue":T=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(o(137,n));break;default:zt(e,n,c,_e,r,null)}}Ks(e,g,T,H,he,N,f,!1);return;case"select":dt("invalid",e),c=N=g=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":N=T;break;case"multiple":c=T;default:zt(e,n,f,T,r,null)}n=g,r=N,e.multiple=!!c,n!=null?Dt(e,!!c,n,!1):r!=null&&Dt(e,!!c,r,!0);return;case"textarea":dt("invalid",e),g=f=c=null;for(N in r)if(r.hasOwnProperty(N)&&(T=r[N],T!=null))switch(N){case"value":c=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:zt(e,n,N,T,r,null)}$i(e,c,f,g);return;case"option":for(H in r)r.hasOwnProperty(H)&&(c=r[H],c!=null)&&(H==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":zt(e,n,H,c,r,null));return;case"dialog":dt("beforetoggle",e),dt("toggle",e),dt("cancel",e),dt("close",e);break;case"iframe":case"object":dt("load",e);break;case"video":case"audio":for(c=0;c<zo.length;c++)dt(zo[c],e);break;case"image":dt("error",e),dt("load",e);break;case"details":dt("toggle",e);break;case"embed":case"source":case"link":dt("error",e),dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in r)if(r.hasOwnProperty(he)&&(c=r[he],c!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:zt(e,n,he,c,r,null)}return;default:if(Qs(n)){for(_e in r)r.hasOwnProperty(_e)&&(c=r[_e],c!==void 0&&Kh(e,n,_e,c,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(c=r[T],c!=null&&zt(e,n,T,c,r,null))}function Zb(e,n,r,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,N=null,T=null,H=null,he=null,_e=null;for(pe in r){var Se=r[pe];if(r.hasOwnProperty(pe)&&Se!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":H=Se;default:c.hasOwnProperty(pe)||zt(e,n,pe,null,c,Se)}}for(var fe in c){var pe=c[fe];if(Se=r[fe],c.hasOwnProperty(fe)&&(pe!=null||Se!=null))switch(fe){case"type":g=pe;break;case"name":f=pe;break;case"checked":he=pe;break;case"defaultChecked":_e=pe;break;case"value":N=pe;break;case"defaultValue":T=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(o(137,n));break;default:pe!==Se&&zt(e,n,fe,pe,c,Se)}}Hl(e,N,T,H,he,_e,g,f);return;case"select":pe=N=T=fe=null;for(g in r)if(H=r[g],r.hasOwnProperty(g)&&H!=null)switch(g){case"value":break;case"multiple":pe=H;default:c.hasOwnProperty(g)||zt(e,n,g,null,c,H)}for(f in c)if(g=c[f],H=r[f],c.hasOwnProperty(f)&&(g!=null||H!=null))switch(f){case"value":fe=g;break;case"defaultValue":T=g;break;case"multiple":N=g;default:g!==H&&zt(e,n,f,g,c,H)}n=T,r=N,c=pe,fe!=null?Dt(e,!!r,fe,!1):!!c!=!!r&&(n!=null?Dt(e,!!r,n,!0):Dt(e,!!r,r?[]:"",!1));return;case"textarea":pe=fe=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:zt(e,n,T,null,c,f)}for(N in c)if(f=c[N],g=r[N],c.hasOwnProperty(N)&&(f!=null||g!=null))switch(N){case"value":fe=f;break;case"defaultValue":pe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==g&&zt(e,n,N,f,c,g)}si(e,fe,pe);return;case"option":for(var De in r)fe=r[De],r.hasOwnProperty(De)&&fe!=null&&!c.hasOwnProperty(De)&&(De==="selected"?e.selected=!1:zt(e,n,De,null,c,fe));for(H in c)fe=c[H],pe=r[H],c.hasOwnProperty(H)&&fe!==pe&&(fe!=null||pe!=null)&&(H==="selected"?e.selected=fe&&typeof fe!="function"&&typeof fe!="symbol":zt(e,n,H,fe,c,pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in r)fe=r[Qe],r.hasOwnProperty(Qe)&&fe!=null&&!c.hasOwnProperty(Qe)&&zt(e,n,Qe,null,c,fe);for(he in c)if(fe=c[he],pe=r[he],c.hasOwnProperty(he)&&fe!==pe&&(fe!=null||pe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,n));break;default:zt(e,n,he,fe,c,pe)}return;default:if(Qs(n)){for(var Mt in r)fe=r[Mt],r.hasOwnProperty(Mt)&&fe!==void 0&&!c.hasOwnProperty(Mt)&&Kh(e,n,Mt,void 0,c,fe);for(_e in c)fe=c[_e],pe=r[_e],!c.hasOwnProperty(_e)||fe===pe||fe===void 0&&pe===void 0||Kh(e,n,_e,fe,c,pe);return}}for(var ne in r)fe=r[ne],r.hasOwnProperty(ne)&&fe!=null&&!c.hasOwnProperty(ne)&&zt(e,n,ne,null,c,fe);for(Se in c)fe=c[Se],pe=r[Se],!c.hasOwnProperty(Se)||fe===pe||fe==null&&pe==null||zt(e,n,Se,fe,c,pe)}function gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var f=r[c],g=f.transferSize,N=f.initiatorType,T=f.duration;if(g&&T&&gy(N)){for(N=0,T=f.responseEnd,c+=1;c<r.length;c++){var H=r[c],he=H.startTime;if(he>T)break;var _e=H.transferSize,Se=H.initiatorType;_e&&gy(Se)&&(H=H.responseEnd,N+=_e*(H<T?1:(T-he)/(H-he)))}if(--c,n+=8*(g+N)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qh=null,Vh=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function Fb(){var e=window.event;return e&&e.type==="popstate"?e===Yh?!1:(Yh=e,!0):(Yh=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,Hb=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(Qb)}:vy;function Qb(e){setTimeout(function(){throw e})}function Ss(e){return e==="head"}function by(e,n){var r=n,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(f),wl(n);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Oo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Oo(r);for(var g=r.firstChild;g;){var N=g.nextSibling,T=g.nodeName;g[ji]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=N}}else r==="body"&&Oo(e.ownerDocument.body);r=f}while(r);wl(n)}function Ny(e,n){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function $h(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$h(r),B(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Vb(e,n,r,c){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Aa(e.nextSibling),e===null)break}return null}function Gb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Aa(e.nextSibling),e===null))return null;return e}function jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Aa(e.nextSibling),e===null))return null;return e}function Xh(e){return e.data==="$?"||e.data==="$~"}function Jh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var c=function(){n(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Aa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Wh=null;function Sy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Aa(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function wy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Ey(e,n,r){switch(n=hc(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Oo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);B(e)}var za=new Map,ky=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=U.d;U.d={f:$b,r:Xb,D:Jb,C:Wb,L:eN,m:tN,X:aN,S:nN,M:iN};function $b(){var e=Fi.f(),n=ic();return e||n}function Xb(e){var n=pt(e);n!==null&&n.tag===5&&n.type==="form"?Hp(n):Fi.r(e)}var Nl=typeof document>"u"?null:document;function Ty(e,n,r){var c=Nl;if(c&&typeof n=="string"&&n){var f=Zt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),ky.has(f)||(ky.add(f),e={rel:e,crossOrigin:r,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),Cn(n,"link",e),Gt(n),c.head.appendChild(n)))}}function Jb(e){Fi.D(e),Ty("dns-prefetch",e,null)}function Wb(e,n){Fi.C(e,n),Ty("preconnect",e,n)}function eN(e,n,r){Fi.L(e,n,r);var c=Nl;if(c&&e&&n){var f='link[rel="preload"][as="'+Zt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Zt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Zt(r.imageSizes)+'"]')):f+='[href="'+Zt(e)+'"]';var g=f;switch(n){case"style":g=jl(e);break;case"script":g=Sl(e)}za.has(g)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),za.set(g,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Ro(g))||n==="script"&&c.querySelector(Lo(g))||(n=c.createElement("link"),Cn(n,"link",e),Gt(n),c.head.appendChild(n)))}}function tN(e,n){Fi.m(e,n);var r=Nl;if(r&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(e)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Sl(e)}if(!za.has(g)&&(e=w({rel:"modulepreload",href:e},n),za.set(g,e),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lo(g)))return}c=r.createElement("link"),Cn(c,"link",e),Gt(c),r.head.appendChild(c)}}}function nN(e,n,r){Fi.S(e,n,r);var c=Nl;if(c&&e){var f=Fa(c).hoistableStyles,g=jl(e);n=n||"default";var N=f.get(g);if(!N){var T={loading:0,preload:null};if(N=c.querySelector(Ro(g)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=za.get(g))&&em(e,r);var H=N=c.createElement("link");Gt(H),Cn(H,"link",e),H._p=new Promise(function(he,_e){H.onload=he,H.onerror=_e}),H.addEventListener("load",function(){T.loading|=1}),H.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:T},f.set(g,N)}}}function aN(e,n){Fi.X(e,n);var r=Nl;if(r&&e){var c=Fa(r).hoistableScripts,f=Sl(e),g=c.get(f);g||(g=r.querySelector(Lo(f)),g||(e=w({src:e,async:!0},n),(n=za.get(f))&&tm(e,n),g=r.createElement("script"),Gt(g),Cn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function iN(e,n){Fi.M(e,n);var r=Nl;if(r&&e){var c=Fa(r).hoistableScripts,f=Sl(e),g=c.get(f);g||(g=r.querySelector(Lo(f)),g||(e=w({src:e,async:!0,type:"module"},n),(n=za.get(f))&&tm(e,n),g=r.createElement("script"),Gt(g),Cn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Cy(e,n,r,c){var f=(f=we.current)?mc(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=jl(r.href),r=Fa(f).hoistableStyles,c=r.get(n),c||(c={type:"style",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=jl(r.href);var g=Fa(f).hoistableStyles,N=g.get(e);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=f.querySelector(Ro(e)))&&!g._p&&(N.instance=g,N.state.loading=5),za.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},za.set(e,r),g||sN(f,e,r,N.state))),n&&c===null)throw Error(o(528,""));return N}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(r),r=Fa(f).hoistableScripts,c=r.get(n),c||(c={type:"script",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function jl(e){return'href="'+Zt(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function Ay(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function sN(e,n,r,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Cn(n,"link",r),Gt(n),e.head.appendChild(n))}function Sl(e){return'[src="'+Zt(e)+'"]'}function Lo(e){return"script[async]"+e}function zy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Zt(r.href)+'"]');if(c)return n.instance=c,Gt(c),c;var f=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Gt(c),Cn(c,"style",f),fc(c,r.precedence,e),n.instance=c;case"stylesheet":f=jl(r.href);var g=e.querySelector(Ro(f));if(g)return n.state.loading|=4,n.instance=g,Gt(g),g;c=Ay(r),(f=za.get(f))&&em(c,f),g=(e.ownerDocument||e).createElement("link"),Gt(g);var N=g;return N._p=new Promise(function(T,H){N.onload=T,N.onerror=H}),Cn(g,"link",c),n.state.loading|=4,fc(g,r.precedence,e),n.instance=g;case"script":return g=Sl(r.src),(f=e.querySelector(Lo(g)))?(n.instance=f,Gt(f),f):(c=r,(f=za.get(g))&&(c=w({},r),tm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),Gt(f),Cn(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,fc(c,r.precedence,e));return n.instance}function fc(e,n,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,N=0;N<c.length;N++){var T=c[N];if(T.dataset.precedence===n)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function em(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function tm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function My(e,n,r){if(pc===null){var c=new Map,f=pc=new Map;f.set(r,c)}else f=pc,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var g=r[f];if(!(g[ji]||g[Xt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(n)||"";N=e+N;var T=c.get(N);T?T.push(g):c.set(N,[g])}}return c}function Oy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function rN(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lN(e,n,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=jl(c.href),g=n.querySelector(Ro(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=g,Gt(g);return}g=n.ownerDocument||n,c=Ay(c),(f=za.get(f))&&em(c,f),g=g.createElement("link"),Gt(g);var N=g;N._p=new Promise(function(T,H){N.onload=T,N.onerror=H}),Cn(g,"link",c),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var nm=0;function oN(e,n){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&nm===0&&(nm=62500*qb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>nm?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function xc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(uN,e),yc=null,gc.call(e))}function uN(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var c=r.get(null);else{r=new Map,yc.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var N=f[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(r.set(N.dataset.precedence,N),c=N)}c&&r.set(null,c)}f=n.instance,N=f.getAttribute("data-precedence"),g=r.get(N)||c,g===c&&r.set(null,f),r.set(N,f),this.count++,c=gc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Do={$$typeof:R,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function cN(e,n,r,c,f,g,N,T,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Ly(e,n,r,c,f,g,N,T,H,he,_e,Se){return e=new cN(e,n,r,N,H,he,_e,Se,T),n=1,g===!0&&(n|=24),g=Pn(3,null,null,n),e.current=g,g.stateNode=e,n=Ld(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:r,cache:n},Id(g),e}function Dy(e){return e?(e=Ci,e):Ci}function Py(e,n,r,c,f,g){f=Dy(f),c.context===null?c.context=f:c.pendingContext=f,c=ms(n),c.payload={element:r},g=g===void 0?null:g,g!==null&&(c.callback=g),r=fs(e,c,n),r!==null&&(ta(r,e,n),fo(r,e,n))}function By(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function am(e,n){By(e,n),(e=e.alternate)&&By(e,n)}function Iy(e){if(e.tag===13||e.tag===31){var n=ka(e,67108864);n!==null&&ta(n,e,67108864),am(e,67108864)}}function Uy(e){if(e.tag===13||e.tag===31){var n=ga();n=Rn(n);var r=ka(e,n);r!==null&&ta(r,e,n),am(e,n)}}var vc=!0;function dN(e,n,r,c){var f=q.T;q.T=null;var g=U.p;try{U.p=2,im(e,n,r,c)}finally{U.p=g,q.T=f}}function hN(e,n,r,c){var f=q.T;q.T=null;var g=U.p;try{U.p=8,im(e,n,r,c)}finally{U.p=g,q.T=f}}function im(e,n,r,c){if(vc){var f=sm(c);if(f===null)Hh(e,n,c,_c,r),qy(e,c);else if(fN(f,e,n,r,c))c.stopPropagation();else if(qy(e,c),n&4&&-1<mN.indexOf(e)){for(;f!==null;){var g=pt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=va(g.pendingLanes);if(N!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var H=1<<31-gn(N);T.entanglements[1]|=H,N&=~H}yi(g),(Nt&6)===0&&(nc=Xe()+500,Ao(0))}}break;case 31:case 13:T=ka(g,2),T!==null&&ta(T,g,2),ic(),am(g,2)}if(g=sm(c),g===null&&Hh(e,n,c,_c,r),g===f)break;f=g}f!==null&&c.stopPropagation()}else Hh(e,n,c,null,r)}}function sm(e){return e=Vs(e),rm(e)}var _c=null;function rm(e){if(_c=null,e=Re(e),e!==null){var n=m(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=p(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function Zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case X:return 2;case Oe:return 8;case Tt:case Je:return 32;case pn:return 268435456;default:return 32}default:return 32}}var lm=!1,ws=null,Es=null,ks=null,Po=new Map,Bo=new Map,Ts=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(e,n){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(n.pointerId)}}function Io(e,n,r,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:r,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=pt(n),n!==null&&Iy(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function fN(e,n,r,c,f){switch(n){case"focusin":return ws=Io(ws,e,n,r,c,f),!0;case"dragenter":return Es=Io(Es,e,n,r,c,f),!0;case"mouseover":return ks=Io(ks,e,n,r,c,f),!0;case"pointerover":var g=f.pointerId;return Po.set(g,Io(Po.get(g)||null,e,n,r,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Bo.set(g,Io(Bo.get(g)||null,e,n,r,c,f)),!0}return!1}function Fy(e){var n=Re(e.target);if(n!==null){var r=m(n);if(r!==null){if(n=r.tag,n===13){if(n=p(r),n!==null){e.blockedOn=n,Gi(e.priority,function(){Uy(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,Gi(e.priority,function(){Uy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=sm(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Fr=c,r.target.dispatchEvent(c),Fr=null}else return n=pt(r),n!==null&&Iy(n),e.blockedOn=r,!1;n.shift()}return!0}function Hy(e,n,r){bc(e)&&r.delete(n)}function pN(){lm=!1,ws!==null&&bc(ws)&&(ws=null),Es!==null&&bc(Es)&&(Es=null),ks!==null&&bc(ks)&&(ks=null),Po.forEach(Hy),Bo.forEach(Hy)}function Nc(e,n){e.blockedOn===n&&(e.blockedOn=null,lm||(lm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pN)))}var jc=null;function Ky(e){jc!==e&&(jc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var n=0;n<e.length;n+=3){var r=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(rm(c||r)===null)continue;break}var g=pt(r);g!==null&&(e.splice(n,3),n-=3,sh(g,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function wl(e){function n(H){return Nc(H,e)}ws!==null&&Nc(ws,e),Es!==null&&Nc(Es,e),ks!==null&&Nc(ks,e),Po.forEach(n),Bo.forEach(n);for(var r=0;r<Ts.length;r++){var c=Ts[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ts.length&&(r=Ts[0],r.blockedOn===null);)Fy(r),r.blockedOn===null&&Ts.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],g=r[c+1],N=f[un]||null;if(typeof g=="function")N||Ky(r);else if(N){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,N=g[un]||null)T=N.formAction;else if(rm(f)!==null)continue}else T=N.action;typeof T=="function"?r[c+1]=T:(r.splice(c,3),c-=3),Ky(r)}}}function Qy(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return f=N})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function om(e){this._internalRoot=e}Sc.prototype.render=om.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,c=ga();Py(r,c,e,n,null,null)},Sc.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Py(e.current,2,null,e,null,null),ic(),n[qa]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zs();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ts.length&&n!==0&&n<Ts[r].priority;r++);Ts.splice(r,0,e),r===0&&Fy(e)}};var Vy=a.version;if(Vy!=="19.2.4")throw Error(o(527,Vy,"19.2.4"));U.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var gN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{bt=wc.inject(gN),Ut=wc}catch{}}return Zo.createRoot=function(e,n){if(!d(e))throw Error(o(299));var r=!1,c="",f=eg,g=tg,N=ng;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=Ly(e,1,!1,null,null,r,c,null,f,g,N,Qy),e[qa]=n.current,Fh(e),new om(n)},Zo.hydrateRoot=function(e,n,r){if(!d(e))throw Error(o(299));var c=!1,f="",g=eg,N=tg,T=ng,H=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(H=r.formState)),n=Ly(e,1,!0,n,r??null,c,f,H,g,N,T,Qy),n.context=Dy(null),r=n.current,c=ga(),c=Rn(c),f=ms(c),f.callback=null,fs(r,f,c),r=c,n.current.lanes=r,ra(n,r),yi(n),e[qa]=n.current,Fh(e),new Sc(n)},Zo.version="19.2.4",Zo}var ax;function kN(){if(ax)return dm.exports;ax=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),dm.exports=EN(),dm.exports}var TN=kN();const CN=sd(TN);var zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AN={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},zN=class{#e=AN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},jr=new zN;function MN(t){setTimeout(t,0)}var Er=typeof window>"u"||"Deno"in globalThis;function Hn(){}function ON(t,a){return typeof t=="function"?t(a):t}function Jm(t){return typeof t=="number"&&t>=0&&t!==1/0}function s0(t,a){return Math.max(t+(a||0)-Date.now(),0)}function Ms(t,a){return typeof t=="function"?t(a):t}function Ma(t,a){return typeof t=="function"?t(a):t}function ix(t,a){const{type:l="all",exact:o,fetchStatus:d,predicate:m,queryKey:p,stale:y}=t;if(p){if(o){if(a.queryHash!==jf(p,a.options))return!1}else if(!Yo(a.queryKey,p))return!1}if(l!=="all"){const v=a.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof y=="boolean"&&a.isStale()!==y||d&&d!==a.state.fetchStatus||m&&!m(a))}function sx(t,a){const{exact:l,status:o,predicate:d,mutationKey:m}=t;if(m){if(!a.options.mutationKey)return!1;if(l){if(kr(a.options.mutationKey)!==kr(m))return!1}else if(!Yo(a.options.mutationKey,m))return!1}return!(o&&a.state.status!==o||d&&!d(a))}function jf(t,a){return(a?.queryKeyHashFn||kr)(t)}function kr(t){return JSON.stringify(t,(a,l)=>Wm(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Yo(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>Yo(t[l],a[l])):!1}var RN=Object.prototype.hasOwnProperty;function r0(t,a,l=0){if(t===a)return t;if(l>500)return a;const o=rx(t)&&rx(a);if(!o&&!(Wm(t)&&Wm(a)))return a;const m=(o?t:Object.keys(t)).length,p=o?a:Object.keys(a),y=p.length,v=o?new Array(y):{};let _=0;for(let S=0;S<y;S++){const w=o?S:p[S],C=t[w],z=a[w];if(C===z){v[w]=C,(o?S<m:RN.call(t,w))&&_++;continue}if(C===null||z===null||typeof C!="object"||typeof z!="object"){v[w]=z;continue}const k=r0(C,z,l+1);v[w]=k,k===C&&_++}return m===y&&_===m?t:v}function Gc(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function rx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wm(t){if(!lx(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!lx(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lx(t){return Object.prototype.toString.call(t)==="[object Object]"}function LN(t){return new Promise(a=>{jr.setTimeout(a,t)})}function ef(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?r0(t,a):a}function DN(t,a,l=0){const o=[...t,a];return l&&o.length>l?o.slice(1):o}function PN(t,a,l=0){const o=[a,...t];return l&&o.length>l?o.slice(0,-1):o}var Sf=Symbol();function l0(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===Sf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wf(t,a){return typeof t=="function"?t(...a):!!t}function BN(t,a,l){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=a(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),t}var IN=class extends zl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Er&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ef=new IN;function tf(){let t,a;const l=new Promise((d,m)=>{t=d,a=m});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},l.reject=d=>{o({status:"rejected",reason:d}),a(d)},l}var UN=MN;function ZN(){let t=[],a=0,l=y=>{y()},o=y=>{y()},d=UN;const m=y=>{a?t.push(y):d(()=>{l(y)})},p=()=>{const y=t;t=[],y.length&&d(()=>{o(()=>{y.forEach(v=>{l(v)})})})};return{batch:y=>{let v;a++;try{v=y()}finally{a--,a||p()}return v},batchCalls:y=>(...v)=>{m(()=>{y(...v)})},schedule:m,setNotifyFunction:y=>{l=y},setBatchNotifyFunction:y=>{o=y},setScheduler:y=>{d=y}}}var _n=ZN(),qN=class extends zl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Er&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},Yc=new qN;function FN(t){return Math.min(1e3*2**t,3e4)}function o0(t){return(t??"online")==="online"?Yc.isOnline():!0}var nf=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function u0(t){let a=!1,l=0,o;const d=tf(),m=()=>d.status!=="pending",p=A=>{if(!m()){const O=new nf(A);C(O),t.onCancel?.(O)}},y=()=>{a=!0},v=()=>{a=!1},_=()=>Ef.isFocused()&&(t.networkMode==="always"||Yc.isOnline())&&t.canRun(),S=()=>o0(t.networkMode)&&t.canRun(),w=A=>{m()||(o?.(),d.resolve(A))},C=A=>{m()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=O=>{(m()||_())&&A(O)},t.onPause?.()}).then(()=>{o=void 0,m()||t.onContinue?.()}),k=()=>{if(m())return;let A;const O=l===0?t.initialPromise:void 0;try{A=O??t.fn()}catch(Z){A=Promise.reject(Z)}Promise.resolve(A).then(w).catch(Z=>{if(m())return;const D=t.retry??(Er?0:3),R=t.retryDelay??FN,V=typeof R=="function"?R(l,Z):R,Y=D===!0||typeof D=="number"&&l<D||typeof D=="function"&&D(l,Z);if(a||!Y){C(Z);return}l++,t.onFail?.(l,Z),LN(V).then(()=>_()?void 0:z()).then(()=>{a?C(Z):k()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:y,continueRetry:v,canStart:S,start:()=>(S()?k():z().then(k),d)}}var c0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jm(this.gcTime)&&(this.#e=jr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Er?1/0:300*1e3))}clearGcTimeout(){this.#e&&(jr.clearTimeout(this.#e),this.#e=void 0)}},HN=class extends c0{#e;#t;#n;#i;#a;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ux(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=ux(this.options);a.data!==void 0&&(this.setState(ox(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const l=ef(this.state.data,t,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#s({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ma(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ms(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!s0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const l=new AbortController,o=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const y=l0(this.options,a),_=(()=>{const S={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(y,_,this):y(_)},p=(()=>{const y={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:d};return o(y),y})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#a=u0({initialPromise:a?.initialPromise,fn:p.fetchFn,onCancel:y=>{y instanceof nf&&y.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(y,v)=>{this.#s({type:"failed",failureCount:y,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const y=await this.#a.start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),this.#n.config.onSuccess?.(y,this),this.#n.config.onSettled?.(y,this.state.error,this),y}catch(y){if(y instanceof nf){if(y.silent)return this.#a.promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw this.#s({type:"error",error:y}),this.#n.config.onError?.(y,this),this.#n.config.onSettled?.(this.state.data,y,this),y}finally{this.scheduleGc()}}#s(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...d0(l.data,this.options),fetchMeta:t.meta??null};case"success":const o={...l,...ox(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),_n.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function d0(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o0(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ox(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ux(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,o=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var KN=class extends zl{constructor(t,a){super(),this.options=a,this.#e=t,this.#s=null,this.#l=tf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#r;#l;#s;#p;#h;#m;#u;#c;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),cx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return af(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return af(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ma(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Gc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&dx(this.#t,l,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Ma(this.options.enabled,this.#t)!==Ma(a.enabled,this.#t)||Ms(this.options.staleTime,this.#t)!==Ms(a.staleTime,this.#t))&&this.#g();const d=this.#y();o&&(this.#t!==l||Ma(this.options.enabled,this.#t)!==Ma(a.enabled,this.#t)||d!==this.#o)&&this.#x(d)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return VN(this,l)&&(this.#i=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#i}trackResult(t,a){return new Proxy(t,{get:(l,o)=>(this.trackProp(o),a?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(Hn)),a}#g(){this.#_();const t=Ms(this.options.staleTime,this.#t);if(Er||this.#i.isStale||!Jm(t))return;const l=s0(this.#i.dataUpdatedAt,t)+1;this.#u=jr.setTimeout(()=>{this.#i.isStale||this.updateResult()},l)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#b(),this.#o=t,!(Er||Ma(this.options.enabled,this.#t)===!1||!Jm(this.#o)||this.#o===0)&&(this.#c=jr.setInterval(()=>{(this.options.refetchIntervalInBackground||Ef.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#x(this.#y())}#_(){this.#u&&(jr.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(jr.clearInterval(this.#c),this.#c=void 0)}createResult(t,a){const l=this.#t,o=this.options,d=this.#i,m=this.#a,p=this.#r,v=t!==l?t.state:this.#n,{state:_}=t;let S={..._},w=!1,C;if(a._optimisticResults){const J=this.hasListeners(),ie=!J&&cx(t,a),ye=J&&dx(t,l,a,o);(ie||ye)&&(S={...S,...d0(_.data,t.options)}),a._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:k,status:A}=S;C=S.data;let O=!1;if(a.placeholderData!==void 0&&C===void 0&&A==="pending"){let J;d?.isPlaceholderData&&a.placeholderData===p?.placeholderData?(J=d.data,O=!0):J=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,J!==void 0&&(A="success",C=ef(d?.data,J,a),w=!0)}if(a.select&&C!==void 0&&!O)if(d&&C===m?.data&&a.select===this.#p)C=this.#h;else try{this.#p=a.select,C=a.select(C),C=ef(d?.data,C,a),this.#h=C,this.#s=null}catch(J){this.#s=J}this.#s&&(z=this.#s,C=this.#h,k=Date.now(),A="error");const Z=S.fetchStatus==="fetching",D=A==="pending",R=A==="error",V=D&&Z,Y=C!==void 0,Q={status:A,fetchStatus:S.fetchStatus,isPending:D,isSuccess:A==="success",isError:R,isInitialLoading:V,isLoading:V,data:C,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>v.dataUpdateCount||S.errorUpdateCount>v.errorUpdateCount,isFetching:Z,isRefetching:Z&&!D,isLoadingError:R&&!Y,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:R&&Y,isStale:kf(t,a),refetch:this.refetch,promise:this.#l,isEnabled:Ma(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const J=Q.data!==void 0,ie=Q.status==="error"&&!J,ye=le=>{ie?le.reject(Q.error):J&&le.resolve(Q.data)},te=()=>{const le=this.#l=Q.promise=tf();ye(le)},oe=this.#l;switch(oe.status){case"pending":t.queryHash===l.queryHash&&ye(oe);break;case"fulfilled":(ie||Q.data!==oe.value)&&te();break;case"rejected":(!ie||Q.error!==oe.reason)&&te();break}}return Q}updateResult(){const t=this.#i,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Gc(a,t))return;this.#i=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#f.size)return!0;const m=new Set(d??this.#f);return this.options.throwOnError&&m.add("error"),Object.keys(this.#i).some(p=>{const y=p;return this.#i[y]!==t[y]&&m.has(y)})};this.#j({listeners:l()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function QN(t,a){return Ma(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function cx(t,a){return QN(t,a)||t.state.data!==void 0&&af(t,a,a.refetchOnMount)}function af(t,a,l){if(Ma(a.enabled,t)!==!1&&Ms(a.staleTime,t)!=="static"){const o=typeof l=="function"?l(t):l;return o==="always"||o!==!1&&kf(t,a)}return!1}function dx(t,a,l,o){return(t!==a||Ma(o.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&kf(t,l)}function kf(t,a){return Ma(a.enabled,t)!==!1&&t.isStaleByTime(Ms(a.staleTime,t))}function VN(t,a){return!Gc(t.getCurrentResult(),a)}function hx(t){return{onFetch:(a,l)=>{const o=a.options,d=a.fetchOptions?.meta?.fetchMore?.direction,m=a.state.data?.pages||[],p=a.state.data?.pageParams||[];let y={pages:[],pageParams:[]},v=0;const _=async()=>{let S=!1;const w=k=>{BN(k,()=>a.signal,()=>S=!0)},C=l0(a.options,a.fetchOptions),z=async(k,A,O)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const D=(()=>{const G={client:a.client,queryKey:a.queryKey,pageParam:A,direction:O?"backward":"forward",meta:a.options.meta};return w(G),G})(),R=await C(D),{maxPages:V}=a.options,Y=O?PN:DN;return{pages:Y(k.pages,R,V),pageParams:Y(k.pageParams,A,V)}};if(d&&m.length){const k=d==="backward",A=k?GN:mx,O={pages:m,pageParams:p},Z=A(o,O);y=await z(O,Z,k)}else{const k=t??m.length;do{const A=v===0?p[0]??o.initialPageParam:mx(o,y);if(v>0&&A==null)break;y=await z(y,A),v++}while(v<k)}return y};a.options.persister?a.fetchFn=()=>a.options.persister?.(_,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=_}}}function mx(t,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,l[o],l):void 0}function GN(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var YN=class extends c0{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||h0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=u0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(m,p)=>{this.#a({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#i.canStart();try{if(o)a();else{this.#a({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,l);const p=await this.options.onMutate?.(t,l);p!==this.state.context&&this.#a({type:"pending",context:p,variables:t,isPaused:d})}const m=await this.#i.start();return await this.#n.config.onSuccess?.(m,t,this.state.context,this,l),await this.options.onSuccess?.(m,t,this.state.context,l),await this.#n.config.onSettled?.(m,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(m,null,t,this.state.context,l),this.#a({type:"success",data:m}),m}catch(m){try{await this.#n.config.onError?.(m,t,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onError?.(m,t,this.state.context,l)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,m,t,this.state.context,l)}catch(p){Promise.reject(p)}throw this.#a({type:"error",error:m}),m}finally{this.#n.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),_n.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function h0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $N=class extends zl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,l){const o=new YN({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:l});return this.add(o),o}add(t){this.#e.add(t);const a=Ec(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Ec(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const o=l.indexOf(t);o!==-1&&l.splice(o,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Ec(t);if(typeof a=="string"){const o=this.#t.get(a)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=Ec(t);return typeof a=="string"?this.#t.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_n.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>sx(a,l))}findAll(t={}){return this.getAll().filter(a=>sx(t,a))}notify(t){_n.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return _n.batch(()=>Promise.all(t.map(a=>a.continue().catch(Hn))))}};function Ec(t){return t.options.scope?.id}var XN=class extends zl{#e;#t=void 0;#n;#i;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),Gc(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&kr(l.mutationKey)!==kr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#r(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(a,l){return this.#i=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??h0();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#r(a){_n.batch(()=>{if(this.#i&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#i.onSuccess?.(a.data,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(a.data,null,l,o,d)}catch(m){Promise.reject(m)}}else if(a?.type==="error"){try{this.#i.onError?.(a.error,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(void 0,a.error,l,o,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(l=>{l(this.#t)})})}},JN=class extends zl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const o=a.queryKey,d=a.queryHash??jf(o,a);let m=this.get(d);return m||(m=new HN({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(o)}),this.add(m)),m}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>ix(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>ix(t,l)):a}notify(t){_n.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},WN=class{#e;#t;#n;#i;#a;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new JN,this.#t=t.mutationCache||new $N,this.#n=t.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Ef.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Yc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(Ms(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(t,a,l){const o=this.defaultQueryOptions({queryKey:t}),m=this.#e.get(o.queryHash)?.state.data,p=ON(a,m);if(p!==void 0)return this.#e.build(this,o).setData(p,{...l,manual:!0})}setQueriesData(t,a,l){return _n.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;_n.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return _n.batch(()=>(l.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},o=_n.batch(()=>this.#e.findAll(t).map(d=>d.cancel(l)));return Promise.all(o).then(Hn).catch(Hn)}invalidateQueries(t,a={}){return _n.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=_n.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let m=d.fetch(void 0,l);return l.throwOnError||(m=m.catch(Hn)),d.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(o).then(Hn)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(Ms(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=hx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=hx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#i.set(kr(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#i.values()],l={};return a.forEach(o=>{Yo(t,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(kr(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(o=>{Yo(t,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=jf(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Sf&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},m0=j.createContext(void 0),zn=t=>{const a=j.useContext(m0);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},ej=({client:t,children:a})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(m0.Provider,{value:t,children:a})),f0=j.createContext(!1),tj=()=>j.useContext(f0);f0.Provider;function nj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var aj=j.createContext(nj()),ij=()=>j.useContext(aj),sj=(t,a,l)=>{const o=l?.state.error&&typeof t.throwOnError=="function"?wf(t.throwOnError,[l.state.error,l]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(a.isReset()||(t.retryOnMount=!1))},rj=t=>{j.useEffect(()=>{t.clearReset()},[t])},lj=({result:t,errorResetBoundary:a,throwOnError:l,query:o,suspense:d})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||wf(l,[t.error,o])),oj=t=>{if(t.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},uj=(t,a)=>t.isLoading&&t.isFetching&&!a,cj=(t,a)=>t?.suspense&&a.isPending,fx=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function dj(t,a,l){const o=tj(),d=ij(),m=zn(),p=m.defaultQueryOptions(t);m.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const y=m.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",oj(p),sj(p,d,y),rj(d);const v=!m.getQueryCache().get(p.queryHash),[_]=j.useState(()=>new a(m,p)),S=_.getOptimisticResult(p),w=!o&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(C=>{const z=w?_.subscribe(_n.batchCalls(C)):Hn;return _.updateResult(),z},[_,w]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),j.useEffect(()=>{_.setOptions(p)},[p,_]),cj(p,S))throw fx(p,_,d);if(lj({result:S,errorResetBoundary:d,throwOnError:p.throwOnError,query:y,suspense:p.suspense}))throw S.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(p,S),p.experimental_prefetchInRender&&!Er&&uj(S,o)&&(v?fx(p,_,d):y?.promise)?.catch(Hn).finally(()=>{_.updateResult()}),p.notifyOnChangeProps?S:_.trackResult(S)}function Be(t,a){return dj(t,KN)}function Ke(t,a){const l=zn(),[o]=j.useState(()=>new XN(l,t));j.useEffect(()=>{o.setOptions(t)},[o,t]);const d=j.useSyncExternalStore(j.useCallback(p=>o.subscribe(_n.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m=j.useCallback((p,y)=>{o.mutate(p,y).catch(Hn)},[o]);if(d.error&&wf(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:m,mutateAsync:d.mutate}}var px="popstate";function hj(t={}){function a(o,d){let{pathname:m,search:p,hash:y}=o.location;return sf("",{pathname:m,search:p,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:$o(d)}return fj(a,l,null,t)}function Qt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Oa(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function mj(){return Math.random().toString(36).substring(2,10)}function gx(t,a){return{usr:t.state,key:t.key,idx:a}}function sf(t,a,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Ml(a):a,state:l,key:a&&a.key||o||mj()}}function $o({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Ml(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function fj(t,a,l,o={}){let{window:d=document.defaultView,v5Compat:m=!1}=o,p=d.history,y="POP",v=null,_=S();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function S(){return(p.state||{idx:null}).idx}function w(){y="POP";let O=S(),Z=O==null?null:O-_;_=O,v&&v({action:y,location:A.location,delta:Z})}function C(O,Z){y="PUSH";let D=sf(A.location,O,Z);_=S()+1;let R=gx(D,_),V=A.createHref(D);try{p.pushState(R,"",V)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;d.location.assign(V)}m&&v&&v({action:y,location:A.location,delta:1})}function z(O,Z){y="REPLACE";let D=sf(A.location,O,Z);_=S();let R=gx(D,_),V=A.createHref(D);p.replaceState(R,"",V),m&&v&&v({action:y,location:A.location,delta:0})}function k(O){return pj(O)}let A={get action(){return y},get location(){return t(d,p)},listen(O){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(px,w),v=O,()=>{d.removeEventListener(px,w),v=null}},createHref(O){return a(d,O)},createURL:k,encodeLocation(O){let Z=k(O);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:C,replace:z,go(O){return p.go(O)}};return A}function pj(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:$o(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function p0(t,a,l="/"){return gj(t,a,l,!1)}function gj(t,a,l,o){let d=typeof a=="string"?Ml(a):a,m=Vi(d.pathname||"/",l);if(m==null)return null;let p=g0(t);yj(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let _=Tj(m);y=Ej(p[v],_,o)}return y}function g0(t,a=[],l=[],o="",d=!1){let m=(p,y,v=d,_)=>{let S={relativePath:_===void 0?p.path||"":_,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&v)return;Qt(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=Qi([o,S.relativePath]),C=l.concat(S);p.children&&p.children.length>0&&(Qt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),g0(p.children,a,C,w,v)),!(p.path==null&&!p.index)&&a.push({path:w,score:Sj(w,p.index),routesMeta:C})};return t.forEach((p,y)=>{if(p.path===""||!p.path?.includes("?"))m(p,y);else for(let v of y0(p.path))m(p,y,!0,v)}),a}function y0(t){let a=t.split("/");if(a.length===0)return[];let[l,...o]=a,d=l.endsWith("?"),m=l.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let p=y0(o.join("/")),y=[];return y.push(...p.map(v=>v===""?m:[m,v].join("/"))),d&&y.push(...p),y.map(v=>t.startsWith("/")&&v===""?"/":v)}function yj(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:wj(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var xj=/^:[\w-]+$/,vj=3,_j=2,bj=1,Nj=10,jj=-2,yx=t=>t==="*";function Sj(t,a){let l=t.split("/"),o=l.length;return l.some(yx)&&(o+=jj),a&&(o+=_j),l.filter(d=>!yx(d)).reduce((d,m)=>d+(xj.test(m)?vj:m===""?bj:Nj),o)}function wj(t,a){return t.length===a.length&&t.slice(0,-1).every((o,d)=>o===a[d])?t[t.length-1]-a[a.length-1]:0}function Ej(t,a,l=!1){let{routesMeta:o}=t,d={},m="/",p=[];for(let y=0;y<o.length;++y){let v=o[y],_=y===o.length-1,S=m==="/"?a:a.slice(m.length)||"/",w=$c({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},S),C=v.route;if(!w&&_&&l&&!o[o.length-1].route.index&&(w=$c({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),p.push({params:d,pathname:Qi([m,w.pathname]),pathnameBase:Mj(Qi([m,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(m=Qi([m,w.pathnameBase]))}return p}function $c(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=kj(t.path,t.caseSensitive,t.end),d=a.match(l);if(!d)return null;let m=d[0],p=m.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:o.reduce((_,{paramName:S,isOptional:w},C)=>{if(S==="*"){let k=y[C]||"";p=m.slice(0,m.length-k.length).replace(/(.)\/+$/,"$1")}const z=y[C];return w&&!z?_[S]=void 0:_[S]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:m,pathnameBase:p,pattern:t}}function kj(t,a=!1,l=!0){Oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function Tj(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Vi(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var Cj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Aj(t,a="/"){let{pathname:l,search:o="",hash:d=""}=typeof t=="string"?Ml(t):t,m;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?m=xx(l.substring(1),"/"):m=xx(l,a)):m=a,{pathname:m,search:Oj(o),hash:Rj(d)}}function xx(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function pm(t,a,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zj(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Tf(t){let a=zj(t);return a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase)}function Cf(t,a,l,o=!1){let d;typeof t=="string"?d=Ml(t):(d={...t},Qt(!d.pathname||!d.pathname.includes("?"),pm("?","pathname","search",d)),Qt(!d.pathname||!d.pathname.includes("#"),pm("#","pathname","hash",d)),Qt(!d.search||!d.search.includes("#"),pm("#","search","hash",d)));let m=t===""||d.pathname==="",p=m?"/":d.pathname,y;if(p==null)y=l;else{let w=a.length-1;if(!o&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),w-=1;d.pathname=C.join("/")}y=w>=0?a[w]:"/"}let v=Aj(d,y),_=p&&p!=="/"&&p.endsWith("/"),S=(m||p===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(_||S)&&(v.pathname+="/"),v}var Qi=t=>t.join("/").replace(/\/\/+/g,"/"),Mj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Oj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Lj=class{constructor(t,a,l,o=!1){this.status=t,this.statusText=a||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Dj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Pj(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function v0(t,a){let l=t;if(typeof l!="string"||!Cj.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(x0)try{let m=new URL(window.location.href),p=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=Vi(p.pathname,a);p.origin===m.origin&&y!=null?l=y+p.search+p.hash:d=!0}catch{Oa(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var Bj=["GET",..._0];new Set(Bj);var Ol=j.createContext(null);Ol.displayName="DataRouter";var rd=j.createContext(null);rd.displayName="DataRouterState";var Ij=j.createContext(!1),b0=j.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var Uj=j.createContext(new Map);Uj.displayName="Fetchers";var Zj=j.createContext(null);Zj.displayName="Await";var xa=j.createContext(null);xa.displayName="Navigation";var eu=j.createContext(null);eu.displayName="Location";var La=j.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var Af=j.createContext(null);Af.displayName="RouteError";var N0="REACT_ROUTER_ERROR",qj="REDIRECT",Fj="ROUTE_ERROR_RESPONSE";function Hj(t){if(t.startsWith(`${N0}:${qj}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Kj(t){if(t.startsWith(`${N0}:${Fj}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Lj(a.status,a.statusText,a.data)}catch{}}function Qj(t,{relative:a}={}){Qt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=j.useContext(xa),{hash:d,pathname:m,search:p}=tu(t,{relative:a}),y=m;return l!=="/"&&(y=m==="/"?l:Qi([l,m])),o.createHref({pathname:y,search:p,hash:d})}function Rl(){return j.useContext(eu)!=null}function Da(){return Qt(Rl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(eu).location}var j0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S0(t){j.useContext(xa).static||j.useLayoutEffect(t)}function Ll(){let{isDataRoute:t}=j.useContext(La);return t?oS():Vj()}function Vj(){Qt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ol),{basename:a,navigator:l}=j.useContext(xa),{matches:o}=j.useContext(La),{pathname:d}=Da(),m=JSON.stringify(Tf(o)),p=j.useRef(!1);return S0(()=>{p.current=!0}),j.useCallback((v,_={})=>{if(Oa(p.current,j0),!p.current)return;if(typeof v=="number"){l.go(v);return}let S=Cf(v,JSON.parse(m),d,_.relative==="path");t==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:Qi([a,S.pathname])),(_.replace?l.replace:l.push)(S,_.state,_)},[a,l,m,d,t])}var Gj=j.createContext(null);function Yj(t){let a=j.useContext(La).outlet;return j.useMemo(()=>a&&j.createElement(Gj.Provider,{value:t},a),[a,t])}function $j(){let{matches:t}=j.useContext(La),a=t[t.length-1];return a?a.params:{}}function tu(t,{relative:a}={}){let{matches:l}=j.useContext(La),{pathname:o}=Da(),d=JSON.stringify(Tf(l));return j.useMemo(()=>Cf(t,JSON.parse(d),o,a==="path"),[t,d,o,a])}function Xj(t,a){return w0(t,a)}function w0(t,a,l,o,d){Qt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=j.useContext(xa),{matches:p}=j.useContext(La),y=p[p.length-1],v=y?y.params:{},_=y?y.pathname:"/",S=y?y.pathnameBase:"/",w=y&&y.route;{let D=w&&w.path||"";k0(_,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let C=Da(),z;if(a){let D=typeof a=="string"?Ml(a):a;Qt(S==="/"||D.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${D.pathname}" was given in the \`location\` prop.`),z=D}else z=C;let k=z.pathname||"/",A=k;if(S!=="/"){let D=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=p0(t,{pathname:A});Oa(w||O!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Oa(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=nS(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},v,D.params),pathname:Qi([S,m.encodeLocation?m.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?S:Qi([S,m.encodeLocation?m.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),p,l,o,d);return a&&Z?j.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},Z):Z}function Jj(){let t=lS(),a=Dj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:m},"ErrorBoundary")," or"," ",j.createElement("code",{style:m},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),l?j.createElement("pre",{style:d},l):null,p)}var Wj=j.createElement(Jj,null),E0=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=Kj(t.digest);l&&(t=l)}let a=t!==void 0?j.createElement(La.Provider,{value:this.props.routeContext},j.createElement(Af.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(eS,{error:t},a):a}};E0.contextType=Ij;var gm=new WeakMap;function eS({children:t,error:a}){let{basename:l}=j.useContext(xa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=Hj(a.digest);if(o){let d=gm.get(a);if(d)throw d;let m=v0(o.location,l);if(x0&&!gm.get(a))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw gm.set(a,p),p}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return t}function tS({routeContext:t,match:a,children:l}){let o=j.useContext(Ol);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),j.createElement(La.Provider,{value:t},l)}function nS(t,a=[],l=null,o=null,d=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let m=t,p=l?.errors;if(p!=null){let S=m.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);Qt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let y=!1,v=-1;if(l)for(let S=0;S<m.length;S++){let w=m[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:C,errors:z}=l,k=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||k){y=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}let _=l&&o?(S,w)=>{o(S,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:Pj(l.matches),errorInfo:w})}:void 0;return m.reduceRight((S,w,C)=>{let z,k=!1,A=null,O=null;l&&(z=p&&w.route.id?p[w.route.id]:void 0,A=w.route.errorElement||Wj,y&&(v<0&&C===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,O=null):v===C&&(k=!0,O=w.route.hydrateFallbackElement||null)));let Z=a.concat(m.slice(0,C+1)),D=()=>{let R;return z?R=A:k?R=O:w.route.Component?R=j.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=S,j.createElement(tS,{match:w,routeContext:{outlet:S,matches:Z,isDataRoute:l!=null},children:R})};return l&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?j.createElement(E0,{location:l.location,revalidation:l.revalidation,component:A,error:z,children:D(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:_}):D()},null)}function zf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(t){let a=j.useContext(Ol);return Qt(a,zf(t)),a}function iS(t){let a=j.useContext(rd);return Qt(a,zf(t)),a}function sS(t){let a=j.useContext(La);return Qt(a,zf(t)),a}function Mf(t){let a=sS(t),l=a.matches[a.matches.length-1];return Qt(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function rS(){return Mf("useRouteId")}function lS(){let t=j.useContext(Af),a=iS("useRouteError"),l=Mf("useRouteError");return t!==void 0?t:a.errors?.[l]}function oS(){let{router:t}=aS("useNavigate"),a=Mf("useNavigate"),l=j.useRef(!1);return S0(()=>{l.current=!0}),j.useCallback(async(d,m={})=>{Oa(l.current,j0),l.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:a,...m}))},[t,a])}var vx={};function k0(t,a,l){!a&&!vx[t]&&(vx[t]=!0,Oa(!1,l))}j.memo(uS);function uS({routes:t,future:a,state:l,onError:o}){return w0(t,void 0,l,o,a)}function Of({to:t,replace:a,state:l,relative:o}){Qt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=j.useContext(xa);Oa(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=j.useContext(La),{pathname:p}=Da(),y=Ll(),v=Cf(t,Tf(m),p,o==="path"),_=JSON.stringify(v);return j.useEffect(()=>{y(JSON.parse(_),{replace:a,state:l,relative:o})},[y,_,o,a,l]),null}function Rf(t){return Yj(t.context)}function Ot(t){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cS({basename:t="/",children:a=null,location:l,navigationType:o="POP",navigator:d,static:m=!1,unstable_useTransitions:p}){Qt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=t.replace(/^\/*/,"/"),v=j.useMemo(()=>({basename:y,navigator:d,static:m,unstable_useTransitions:p,future:{}}),[y,d,m,p]);typeof l=="string"&&(l=Ml(l));let{pathname:_="/",search:S="",hash:w="",state:C=null,key:z="default"}=l,k=j.useMemo(()=>{let A=Vi(_,y);return A==null?null:{location:{pathname:A,search:S,hash:w,state:C,key:z},navigationType:o}},[y,_,S,w,C,z,o]);return Oa(k!=null,`<Router basename="${y}"> is not able to match the URL "${_}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(xa.Provider,{value:v},j.createElement(eu.Provider,{children:a,value:k}))}function dS({children:t,location:a}){return Xj(rf(t),a)}function rf(t,a=[]){let l=[];return j.Children.forEach(t,(o,d)=>{if(!j.isValidElement(o))return;let m=[...a,d];if(o.type===j.Fragment){l.push.apply(l,rf(o.props.children,m));return}Qt(o.type===Ot,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=rf(o.props.children,m)),l.push(p)}),l}var qc="get",Fc="application/x-www-form-urlencoded";function ld(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hS(t){return ld(t)&&t.tagName.toLowerCase()==="button"}function mS(t){return ld(t)&&t.tagName.toLowerCase()==="form"}function fS(t){return ld(t)&&t.tagName.toLowerCase()==="input"}function pS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gS(t,a){return t.button===0&&(!a||a==="_self")&&!pS(t)}function lf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let o=t[l];return a.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function yS(t,a){let l=lf(t);return a&&a.forEach((o,d)=>{l.has(d)||a.getAll(d).forEach(m=>{l.append(d,m)})}),l}var kc=null;function xS(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var vS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(t){return t!=null&&!vS.has(t)?(Oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):t}function _S(t,a){let l,o,d,m,p;if(mS(t)){let y=t.getAttribute("action");o=y?Vi(y,a):null,l=t.getAttribute("method")||qc,d=ym(t.getAttribute("enctype"))||Fc,m=new FormData(t)}else if(hS(t)||fS(t)&&(t.type==="submit"||t.type==="image")){let y=t.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||y.getAttribute("action");if(o=v?Vi(v,a):null,l=t.getAttribute("formmethod")||y.getAttribute("method")||qc,d=ym(t.getAttribute("formenctype"))||ym(y.getAttribute("enctype"))||Fc,m=new FormData(y,t),!xS()){let{name:_,type:S,value:w}=t;if(S==="image"){let C=_?`${_}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else _&&m.append(_,w)}}else{if(ld(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=qc,o=null,d=Fc,p=t}return m&&d==="text/plain"&&(p=m,m=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:m,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lf(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function bS(t,a,l,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:a&&Vi(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function NS(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SS(t,a,l){let o=await Promise.all(t.map(async d=>{let m=a.routes[d.route.id];if(m){let p=await NS(m,l);return p.links?p.links():[]}return[]}));return TS(o.flat(1).filter(jS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function _x(t,a,l,o,d,m){let p=(v,_)=>l[_]?v.route.id!==l[_].route.id:!0,y=(v,_)=>l[_].pathname!==v.pathname||l[_].route.path?.endsWith("*")&&l[_].params["*"]!==v.params["*"];return m==="assets"?a.filter((v,_)=>p(v,_)||y(v,_)):m==="data"?a.filter((v,_)=>{let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(p(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function wS(t,a,{includeHydrateFallback:l}={}){return ES(t.map(o=>{let d=a.routes[o.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function ES(t){return[...new Set(t)]}function kS(t){let a={},l=Object.keys(t).sort();for(let o of l)a[o]=t[o];return a}function TS(t,a){let l=new Set;return new Set(a),t.reduce((o,d)=>{let m=JSON.stringify(kS(d));return l.has(m)||(l.add(m),o.push({key:m,link:d})),o},[])}function T0(){let t=j.useContext(Ol);return Lf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CS(){let t=j.useContext(rd);return Lf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Df=j.createContext(void 0);Df.displayName="FrameworkContext";function C0(){let t=j.useContext(Df);return Lf(t,"You must render this element inside a <HydratedRouter> element"),t}function AS(t,a){let l=j.useContext(Df),[o,d]=j.useState(!1),[m,p]=j.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:S,onTouchStart:w}=a,C=j.useRef(null);j.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let A=Z=>{Z.forEach(D=>{p(D.isIntersecting)})},O=new IntersectionObserver(A,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[t]),j.useEffect(()=>{if(o){let A=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},k=()=>{d(!1),p(!1)};return l?t!=="intent"?[m,C,{}]:[m,C,{onFocus:qo(y,z),onBlur:qo(v,k),onMouseEnter:qo(_,z),onMouseLeave:qo(S,k),onTouchStart:qo(w,z)}]:[!1,C,{}]}function qo(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function zS({page:t,...a}){let{router:l}=T0(),o=j.useMemo(()=>p0(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?j.createElement(OS,{page:t,matches:o,...a}):null}function MS(t){let{manifest:a,routeModules:l}=C0(),[o,d]=j.useState([]);return j.useEffect(()=>{let m=!1;return SS(t,a,l).then(p=>{m||d(p)}),()=>{m=!0}},[t,a,l]),o}function OS({page:t,matches:a,...l}){let o=Da(),{future:d,manifest:m,routeModules:p}=C0(),{basename:y}=T0(),{loaderData:v,matches:_}=CS(),S=j.useMemo(()=>_x(t,a,_,m,o,"data"),[t,a,_,m,o]),w=j.useMemo(()=>_x(t,a,_,m,o,"assets"),[t,a,_,m,o]),C=j.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,O=!1;if(a.forEach(D=>{let R=m.routes[D.route.id];!R||!R.hasLoader||(!S.some(V=>V.route.id===D.route.id)&&D.route.id in v&&p[D.route.id]?.shouldRevalidate||R.hasClientLoader?O=!0:A.add(D.route.id))}),A.size===0)return[];let Z=bS(t,y,d.unstable_trailingSlashAwareDataRequests,"data");return O&&A.size>0&&Z.searchParams.set("_routes",a.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[Z.pathname+Z.search]},[y,d.unstable_trailingSlashAwareDataRequests,v,o,m,S,a,t,p]),z=j.useMemo(()=>wS(w,m),[w,m]),k=MS(w);return j.createElement(j.Fragment,null,C.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),z.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),k.map(({key:A,link:O})=>j.createElement("link",{key:A,nonce:l.nonce,...O,crossOrigin:O.crossOrigin??l.crossOrigin})))}function RS(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LS&&(window.__reactRouterVersion="7.13.0")}catch{}function DS({basename:t,children:a,unstable_useTransitions:l,window:o}){let d=j.useRef();d.current==null&&(d.current=hj({window:o,v5Compat:!0}));let m=d.current,[p,y]=j.useState({action:m.action,location:m.location}),v=j.useCallback(_=>{l===!1?y(_):j.startTransition(()=>y(_))},[l]);return j.useLayoutEffect(()=>m.listen(v),[m,v]),j.createElement(cS,{basename:t,children:a,location:p.location,navigationType:p.action,navigator:m,unstable_useTransitions:l})}var A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=j.forwardRef(function({onClick:a,discover:l="render",prefetch:o="none",relative:d,reloadDocument:m,replace:p,state:y,target:v,to:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k){let{basename:A,unstable_useTransitions:O}=j.useContext(xa),Z=typeof _=="string"&&A0.test(_),D=v0(_,A);_=D.to;let R=Qj(_,{relative:d}),[V,Y,G]=AS(o,z),Q=IS(_,{replace:p,state:y,target:v,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:C,unstable_useTransitions:O});function J(ye){a&&a(ye),ye.defaultPrevented||Q(ye)}let ie=j.createElement("a",{...z,...G,href:D.absoluteURL||R,onClick:D.isExternal||m?a:J,ref:RS(k,Y),target:v,"data-discover":!Z&&l==="render"?"true":void 0});return V&&!Z?j.createElement(j.Fragment,null,ie,j.createElement(zS,{page:R})):ie});Wa.displayName="Link";var z0=j.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:o="",end:d=!1,style:m,to:p,viewTransition:y,children:v,..._},S){let w=tu(p,{relative:_.relative}),C=Da(),z=j.useContext(rd),{navigator:k,basename:A}=j.useContext(xa),O=z!=null&&HS(w)&&y===!0,Z=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,D=C.pathname,R=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;l||(D=D.toLowerCase(),R=R?R.toLowerCase():null,Z=Z.toLowerCase()),R&&A&&(R=Vi(R,A)||R);const V=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Y=D===Z||!d&&D.startsWith(Z)&&D.charAt(V)==="/",G=R!=null&&(R===Z||!d&&R.startsWith(Z)&&R.charAt(Z.length)==="/"),Q={isActive:Y,isPending:G,isTransitioning:O},J=Y?a:void 0,ie;typeof o=="function"?ie=o(Q):ie=[o,Y?"active":null,G?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ye=typeof m=="function"?m(Q):m;return j.createElement(Wa,{..._,"aria-current":J,className:ie,ref:S,style:ye,to:p,viewTransition:y},typeof v=="function"?v(Q):v)});z0.displayName="NavLink";var PS=j.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:o,replace:d,state:m,method:p=qc,action:y,onSubmit:v,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k)=>{let{unstable_useTransitions:A}=j.useContext(xa),O=qS(),Z=FS(y,{relative:_}),D=p.toLowerCase()==="get"?"get":"post",R=typeof y=="string"&&A0.test(y),V=Y=>{if(v&&v(Y),Y.defaultPrevented)return;Y.preventDefault();let G=Y.nativeEvent.submitter,Q=G?.getAttribute("formmethod")||p,J=()=>O(G||Y.currentTarget,{fetcherKey:a,method:Q,navigate:l,replace:d,state:m,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C});A&&l!==!1?j.startTransition(()=>J()):J()};return j.createElement("form",{ref:k,method:D,action:Z,onSubmit:o?v:V,...z,"data-discover":!R&&t==="render"?"true":void 0})});PS.displayName="Form";function BS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M0(t){let a=j.useContext(Ol);return Qt(a,BS(t)),a}function IS(t,{target:a,replace:l,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let _=Ll(),S=Da(),w=tu(t,{relative:m});return j.useCallback(C=>{if(gS(C,a)){C.preventDefault();let z=l!==void 0?l:$o(S)===$o(w),k=()=>_(t,{replace:z,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:y});v?j.startTransition(()=>k()):k()}},[S,_,w,l,o,a,t,d,m,p,y,v])}function Pf(t){Oa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=j.useRef(lf(t)),l=j.useRef(!1),o=Da(),d=j.useMemo(()=>yS(o.search,l.current?null:a.current),[o.search]),m=Ll(),p=j.useCallback((y,v)=>{const _=lf(typeof y=="function"?y(new URLSearchParams(d)):y);l.current=!0,m("?"+_,v)},[m,d]);return[d,p]}var US=0,ZS=()=>`__${String(++US)}__`;function qS(){let{router:t}=M0("useSubmit"),{basename:a}=j.useContext(xa),l=rS(),o=t.fetch,d=t.navigate;return j.useCallback(async(m,p={})=>{let{action:y,method:v,encType:_,formData:S,body:w}=_S(m,a);if(p.navigate===!1){let C=p.fetcherKey||ZS();await o(C,l,p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||_,flushSync:p.flushSync})}else await d(p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||_,replace:p.replace,state:p.state,fromRouteId:l,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,a,l])}function FS(t,{relative:a}={}){let{basename:l}=j.useContext(xa),o=j.useContext(La);Qt(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),m={...tu(t||".",{relative:a})},p=Da();if(t==null){m.search=p.search;let y=new URLSearchParams(m.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();m.search=S?`?${S}`:""}}return(!t||t===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:Qi([l,m.pathname])),$o(m)}function HS(t,{relative:a}={}){let l=j.useContext(b0);Qt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=M0("useViewTransitionState"),d=tu(t,{relative:a});if(!l.isTransitioning)return!1;let m=Vi(l.currentLocation.pathname,o)||l.currentLocation.pathname,p=Vi(l.nextLocation.pathname,o)||l.nextLocation.pathname;return $c(d.pathname,p)!=null||$c(d.pathname,m)!=null}const bi={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"};function O0(t,a){return function(){return t.apply(a,arguments)}}const{toString:KS}=Object.prototype,{getPrototypeOf:Bf}=Object,{iterator:od,toStringTag:R0}=Symbol,ud=(t=>a=>{const l=KS.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ei=t=>(t=t.toLowerCase(),a=>ud(a)===t),cd=t=>a=>typeof a===t,{isArray:Dl}=Array,Al=cd("undefined");function nu(t){return t!==null&&!Al(t)&&t.constructor!==null&&!Al(t.constructor)&&na(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const L0=ei("ArrayBuffer");function QS(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&L0(t.buffer),a}const VS=cd("string"),na=cd("function"),D0=cd("number"),au=t=>t!==null&&typeof t=="object",GS=t=>t===!0||t===!1,Hc=t=>{if(ud(t)!=="object")return!1;const a=Bf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(R0 in t)&&!(od in t)},YS=t=>{if(!au(t)||nu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},$S=ei("Date"),XS=ei("File"),JS=ei("Blob"),WS=ei("FileList"),ew=t=>au(t)&&na(t.pipe),tw=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||na(t.append)&&((a=ud(t))==="formdata"||a==="object"&&na(t.toString)&&t.toString()==="[object FormData]"))},nw=ei("URLSearchParams"),[aw,iw,sw,rw]=["ReadableStream","Request","Response","Headers"].map(ei),lw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iu(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Dl(t))for(o=0,d=t.length;o<d;o++)a.call(null,t[o],o,t);else{if(nu(t))return;const m=l?Object.getOwnPropertyNames(t):Object.keys(t),p=m.length;let y;for(o=0;o<p;o++)y=m[o],a.call(null,t[y],y,t)}}function P0(t,a){if(nu(t))return null;a=a.toLowerCase();const l=Object.keys(t);let o=l.length,d;for(;o-- >0;)if(d=l[o],a===d.toLowerCase())return d;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,B0=t=>!Al(t)&&t!==Sr;function of(){const{caseless:t,skipUndefined:a}=B0(this)&&this||{},l={},o=(d,m)=>{const p=t&&P0(l,m)||m;Hc(l[p])&&Hc(d)?l[p]=of(l[p],d):Hc(d)?l[p]=of({},d):Dl(d)?l[p]=d.slice():(!a||!Al(d))&&(l[p]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&iu(arguments[d],o);return l}const ow=(t,a,l,{allOwnKeys:o}={})=>(iu(a,(d,m)=>{l&&na(d)?Object.defineProperty(t,m,{value:O0(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),uw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cw=(t,a,l,o)=>{t.prototype=Object.create(a.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},dw=(t,a,l,o)=>{let d,m,p;const y={};if(a=a||{},t==null)return a;do{for(d=Object.getOwnPropertyNames(t),m=d.length;m-- >0;)p=d[m],(!o||o(p,t,a))&&!y[p]&&(a[p]=t[p],y[p]=!0);t=l!==!1&&Bf(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},hw=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const o=t.indexOf(a,l);return o!==-1&&o===l},mw=t=>{if(!t)return null;if(Dl(t))return t;let a=t.length;if(!D0(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},fw=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Bf(Uint8Array)),pw=(t,a)=>{const o=(t&&t[od]).call(t);let d;for(;(d=o.next())&&!d.done;){const m=d.value;a.call(t,m[0],m[1])}},gw=(t,a)=>{let l;const o=[];for(;(l=t.exec(a))!==null;)o.push(l);return o},yw=ei("HTMLFormElement"),xw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),bx=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),vw=ei("RegExp"),I0=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),o={};iu(l,(d,m)=>{let p;(p=a(d,m,t))!==!1&&(o[m]=p||d)}),Object.defineProperties(t,o)},_w=t=>{I0(t,(a,l)=>{if(na(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=t[l];if(na(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},bw=(t,a)=>{const l={},o=d=>{d.forEach(m=>{l[m]=!0})};return Dl(t)?o(t):o(String(t).split(a)),l},Nw=()=>{},jw=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function Sw(t){return!!(t&&na(t.append)&&t[R0]==="FormData"&&t[od])}const ww=t=>{const a=new Array(10),l=(o,d)=>{if(au(o)){if(a.indexOf(o)>=0)return;if(nu(o))return o;if(!("toJSON"in o)){a[d]=o;const m=Dl(o)?[]:{};return iu(o,(p,y)=>{const v=l(p,d+1);!Al(v)&&(m[y]=v)}),a[d]=void 0,m}}return o};return l(t,0)},Ew=ei("AsyncFunction"),kw=t=>t&&(au(t)||na(t))&&na(t.then)&&na(t.catch),U0=((t,a)=>t?setImmediate:a?((l,o)=>(Sr.addEventListener("message",({source:d,data:m})=>{d===Sr&&m===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Sr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",na(Sr.postMessage)),Tw=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||U0,Cw=t=>t!=null&&na(t[od]),ge={isArray:Dl,isArrayBuffer:L0,isBuffer:nu,isFormData:tw,isArrayBufferView:QS,isString:VS,isNumber:D0,isBoolean:GS,isObject:au,isPlainObject:Hc,isEmptyObject:YS,isReadableStream:aw,isRequest:iw,isResponse:sw,isHeaders:rw,isUndefined:Al,isDate:$S,isFile:XS,isBlob:JS,isRegExp:vw,isFunction:na,isStream:ew,isURLSearchParams:nw,isTypedArray:fw,isFileList:WS,forEach:iu,merge:of,extend:ow,trim:lw,stripBOM:uw,inherits:cw,toFlatObject:dw,kindOf:ud,kindOfTest:ei,endsWith:hw,toArray:mw,forEachEntry:pw,matchAll:gw,isHTMLForm:yw,hasOwnProperty:bx,hasOwnProp:bx,reduceDescriptors:I0,freezeMethods:_w,toObjectSet:bw,toCamelCase:xw,noop:Nw,toFiniteNumber:jw,findKey:P0,global:Sr,isContextDefined:B0,isSpecCompliantForm:Sw,toJSONObject:ww,isAsyncFn:Ew,isThenable:kw,setImmediate:U0,asap:Tw,isIterable:Cw};let Ye=class Z0 extends Error{static from(a,l,o,d,m,p){const y=new Z0(a.message,l||a.code,o,d,m);return y.cause=a,y.name=a.name,p&&Object.assign(y,p),y}constructor(a,l,o,d,m){super(a),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}};Ye.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ye.ERR_BAD_OPTION="ERR_BAD_OPTION";Ye.ECONNABORTED="ECONNABORTED";Ye.ETIMEDOUT="ETIMEDOUT";Ye.ERR_NETWORK="ERR_NETWORK";Ye.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ye.ERR_DEPRECATED="ERR_DEPRECATED";Ye.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ye.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ye.ERR_CANCELED="ERR_CANCELED";Ye.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ye.ERR_INVALID_URL="ERR_INVALID_URL";const Aw=null;function uf(t){return ge.isPlainObject(t)||ge.isArray(t)}function q0(t){return ge.endsWith(t,"[]")?t.slice(0,-2):t}function Nx(t,a,l){return t?t.concat(a).map(function(d,m){return d=q0(d),!l&&m?"["+d+"]":d}).join(l?".":""):a}function zw(t){return ge.isArray(t)&&!t.some(uf)}const Mw=ge.toFlatObject(ge,{},null,function(a){return/^is[A-Z]/.test(a)});function dd(t,a,l){if(!ge.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=ge.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,O){return!ge.isUndefined(O[A])});const o=l.metaTokens,d=l.visitor||S,m=l.dots,p=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(a);if(!ge.isFunction(d))throw new TypeError("visitor must be a function");function _(k){if(k===null)return"";if(ge.isDate(k))return k.toISOString();if(ge.isBoolean(k))return k.toString();if(!v&&ge.isBlob(k))throw new Ye("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(k)||ge.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,O){let Z=k;if(k&&!O&&typeof k=="object"){if(ge.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(ge.isArray(k)&&zw(k)||(ge.isFileList(k)||ge.endsWith(A,"[]"))&&(Z=ge.toArray(k)))return A=q0(A),Z.forEach(function(R,V){!(ge.isUndefined(R)||R===null)&&a.append(p===!0?Nx([A],V,m):p===null?A:A+"[]",_(R))}),!1}return uf(k)?!0:(a.append(Nx(O,A,m),_(k)),!1)}const w=[],C=Object.assign(Mw,{defaultVisitor:S,convertValue:_,isVisitable:uf});function z(k,A){if(!ge.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),ge.forEach(k,function(Z,D){(!(ge.isUndefined(Z)||Z===null)&&d.call(a,Z,ge.isString(D)?D.trim():D,A,C))===!0&&z(Z,A?A.concat(D):[D])}),w.pop()}}if(!ge.isObject(t))throw new TypeError("data must be an object");return z(t),a}function jx(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function If(t,a){this._pairs=[],t&&dd(t,this,a)}const F0=If.prototype;F0.append=function(a,l){this._pairs.push([a,l])};F0.toString=function(a){const l=a?function(o){return a.call(this,o,jx)}:jx;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Ow(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function H0(t,a,l){if(!a)return t;const o=l&&l.encode||Ow,d=ge.isFunction(l)?{serialize:l}:l,m=d&&d.serialize;let p;if(m?p=m(a,d):p=ge.isURLSearchParams(a)?a.toString():new If(a,d).toString(o),p){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class Sx{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ge.forEach(this.handlers,function(o){o!==null&&a(o)})}}const K0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rw=typeof URLSearchParams<"u"?URLSearchParams:If,Lw=typeof FormData<"u"?FormData:null,Dw=typeof Blob<"u"?Blob:null,Pw={isBrowser:!0,classes:{URLSearchParams:Rw,FormData:Lw,Blob:Dw},protocols:["http","https","file","blob","url","data"]},Uf=typeof window<"u"&&typeof document<"u",cf=typeof navigator=="object"&&navigator||void 0,Bw=Uf&&(!cf||["ReactNative","NativeScript","NS"].indexOf(cf.product)<0),Iw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uw=Uf&&window.location.href||"http://localhost",Zw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uf,hasStandardBrowserEnv:Bw,hasStandardBrowserWebWorkerEnv:Iw,navigator:cf,origin:Uw},Symbol.toStringTag,{value:"Module"})),In={...Zw,...Pw};function qw(t,a){return dd(t,new In.classes.URLSearchParams,{visitor:function(l,o,d,m){return In.isNode&&ge.isBuffer(l)?(this.append(o,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...a})}function Fw(t){return ge.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Hw(t){const a={},l=Object.keys(t);let o;const d=l.length;let m;for(o=0;o<d;o++)m=l[o],a[m]=t[m];return a}function Q0(t){function a(l,o,d,m){let p=l[m++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),v=m>=l.length;return p=!p&&ge.isArray(d)?d.length:p,v?(ge.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!y):((!d[p]||!ge.isObject(d[p]))&&(d[p]=[]),a(l,o,d[p],m)&&ge.isArray(d[p])&&(d[p]=Hw(d[p])),!y)}if(ge.isFormData(t)&&ge.isFunction(t.entries)){const l={};return ge.forEachEntry(t,(o,d)=>{a(Fw(o),d,l,0)}),l}return null}function Kw(t,a,l){if(ge.isString(t))try{return(a||JSON.parse)(t),ge.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(t)}const su={transitional:K0,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,m=ge.isObject(a);if(m&&ge.isHTMLForm(a)&&(a=new FormData(a)),ge.isFormData(a))return d?JSON.stringify(Q0(a)):a;if(ge.isArrayBuffer(a)||ge.isBuffer(a)||ge.isStream(a)||ge.isFile(a)||ge.isBlob(a)||ge.isReadableStream(a))return a;if(ge.isArrayBufferView(a))return a.buffer;if(ge.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let y;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return qw(a,this.formSerializer).toString();if((y=ge.isFileList(a))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return dd(y?{"files[]":a}:a,v&&new v,this.formSerializer)}}return m||d?(l.setContentType("application/json",!1),Kw(a)):a}],transformResponse:[function(a){const l=this.transitional||su.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(ge.isResponse(a)||ge.isReadableStream(a))return a;if(a&&ge.isString(a)&&(o&&!this.responseType||d)){const p=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(y){if(p)throw y.name==="SyntaxError"?Ye.from(y,Ye.ERR_BAD_RESPONSE,this,null,this.response):y}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:In.classes.FormData,Blob:In.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],t=>{su.headers[t]={}});const Qw=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vw=t=>{const a={};let l,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),l=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!l||a[l]&&Qw[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},wx=Symbol("internals");function Fo(t){return t&&String(t).trim().toLowerCase()}function Kc(t){return t===!1||t==null?t:ge.isArray(t)?t.map(Kc):String(t)}function Gw(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(t);)a[o[1]]=o[2];return a}const Yw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xm(t,a,l,o,d){if(ge.isFunction(o))return o.call(this,a,l);if(d&&(a=l),!!ge.isString(a)){if(ge.isString(o))return a.indexOf(o)!==-1;if(ge.isRegExp(o))return o.test(a)}}function $w(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function Xw(t,a){const l=ge.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+l,{value:function(d,m,p){return this[o].call(this,a,d,m,p)},configurable:!0})})}let aa=class{constructor(a){a&&this.set(a)}set(a,l,o){const d=this;function m(y,v,_){const S=Fo(v);if(!S)throw new Error("header name must be a non-empty string");const w=ge.findKey(d,S);(!w||d[w]===void 0||_===!0||_===void 0&&d[w]!==!1)&&(d[w||v]=Kc(y))}const p=(y,v)=>ge.forEach(y,(_,S)=>m(_,S,v));if(ge.isPlainObject(a)||a instanceof this.constructor)p(a,l);else if(ge.isString(a)&&(a=a.trim())&&!Yw(a))p(Vw(a),l);else if(ge.isObject(a)&&ge.isIterable(a)){let y={},v,_;for(const S of a){if(!ge.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[_=S[0]]=(v=y[_])?ge.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}p(y,l)}else a!=null&&m(l,a,o);return this}get(a,l){if(a=Fo(a),a){const o=ge.findKey(this,a);if(o){const d=this[o];if(!l)return d;if(l===!0)return Gw(d);if(ge.isFunction(l))return l.call(this,d,o);if(ge.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Fo(a),a){const o=ge.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||xm(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let d=!1;function m(p){if(p=Fo(p),p){const y=ge.findKey(o,p);y&&(!l||xm(o,o[y],y,l))&&(delete o[y],d=!0)}}return ge.isArray(a)?a.forEach(m):m(a),d}clear(a){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const m=l[o];(!a||xm(this,this[m],m,a,!0))&&(delete this[m],d=!0)}return d}normalize(a){const l=this,o={};return ge.forEach(this,(d,m)=>{const p=ge.findKey(o,m);if(p){l[p]=Kc(d),delete l[m];return}const y=a?$w(m):String(m).trim();y!==m&&delete l[m],l[y]=Kc(d),o[y]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return ge.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=a&&ge.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[wx]=this[wx]={accessors:{}}).accessors,d=this.prototype;function m(p){const y=Fo(p);o[y]||(Xw(d,p),o[y]=!0)}return ge.isArray(a)?a.forEach(m):m(a),this}};aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(aa.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[l]=o}}});ge.freezeMethods(aa);function vm(t,a){const l=this||su,o=a||l,d=aa.from(o.headers);let m=o.data;return ge.forEach(t,function(y){m=y.call(l,m,d.normalize(),a?a.status:void 0)}),d.normalize(),m}function V0(t){return!!(t&&t.__CANCEL__)}let ru=class extends Ye{constructor(a,l,o){super(a??"canceled",Ye.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function G0(t,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?t(l):a(new Ye("Request failed with status code "+l.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function Jw(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function Ww(t,a){t=t||10;const l=new Array(t),o=new Array(t);let d=0,m=0,p;return a=a!==void 0?a:1e3,function(v){const _=Date.now(),S=o[m];p||(p=_),l[d]=v,o[d]=_;let w=m,C=0;for(;w!==d;)C+=l[w++],w=w%t;if(d=(d+1)%t,d===m&&(m=(m+1)%t),_-p<a)return;const z=S&&_-S;return z?Math.round(C*1e3/z):void 0}}function eE(t,a){let l=0,o=1e3/a,d,m;const p=(_,S=Date.now())=>{l=S,d=null,m&&(clearTimeout(m),m=null),t(..._)};return[(..._)=>{const S=Date.now(),w=S-l;w>=o?p(_,S):(d=_,m||(m=setTimeout(()=>{m=null,p(d)},o-w)))},()=>d&&p(d)]}const Xc=(t,a,l=3)=>{let o=0;const d=Ww(50,250);return eE(m=>{const p=m.loaded,y=m.lengthComputable?m.total:void 0,v=p-o,_=d(v),S=p<=y;o=p;const w={loaded:p,total:y,progress:y?p/y:void 0,bytes:v,rate:_||void 0,estimated:_&&y&&S?(y-p)/_:void 0,event:m,lengthComputable:y!=null,[a?"download":"upload"]:!0};t(w)},l)},Ex=(t,a)=>{const l=t!=null;return[o=>a[0]({lengthComputable:l,total:t,loaded:o}),a[1]]},kx=t=>(...a)=>ge.asap(()=>t(...a)),tE=In.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,In.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(In.origin),In.navigator&&/(msie|trident)/i.test(In.navigator.userAgent)):()=>!0,nE=In.hasStandardBrowserEnv?{write(t,a,l,o,d,m,p){if(typeof document>"u")return;const y=[`${t}=${encodeURIComponent(a)}`];ge.isNumber(l)&&y.push(`expires=${new Date(l).toUTCString()}`),ge.isString(o)&&y.push(`path=${o}`),ge.isString(d)&&y.push(`domain=${d}`),m===!0&&y.push("secure"),ge.isString(p)&&y.push(`SameSite=${p}`),document.cookie=y.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function aE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iE(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function Y0(t,a,l){let o=!aE(a);return t&&(o||l==!1)?iE(t,a):a}const Tx=t=>t instanceof aa?{...t}:t;function Tr(t,a){a=a||{};const l={};function o(_,S,w,C){return ge.isPlainObject(_)&&ge.isPlainObject(S)?ge.merge.call({caseless:C},_,S):ge.isPlainObject(S)?ge.merge({},S):ge.isArray(S)?S.slice():S}function d(_,S,w,C){if(ge.isUndefined(S)){if(!ge.isUndefined(_))return o(void 0,_,w,C)}else return o(_,S,w,C)}function m(_,S){if(!ge.isUndefined(S))return o(void 0,S)}function p(_,S){if(ge.isUndefined(S)){if(!ge.isUndefined(_))return o(void 0,_)}else return o(void 0,S)}function y(_,S,w){if(w in a)return o(_,S);if(w in t)return o(void 0,_)}const v={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(_,S,w)=>d(Tx(_),Tx(S),w,!0)};return ge.forEach(Object.keys({...t,...a}),function(S){const w=v[S]||d,C=w(t[S],a[S],S);ge.isUndefined(C)&&w!==y||(l[S]=C)}),l}const $0=t=>{const a=Tr({},t);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:p,auth:y}=a;if(a.headers=p=aa.from(p),a.url=H0(Y0(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),ge.isFormData(l)){if(In.hasStandardBrowserEnv||In.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ge.isFunction(l.getHeaders)){const v=l.getHeaders(),_=["content-type","content-length"];Object.entries(v).forEach(([S,w])=>{_.includes(S.toLowerCase())&&p.set(S,w)})}}if(In.hasStandardBrowserEnv&&(o&&ge.isFunction(o)&&(o=o(a)),o||o!==!1&&tE(a.url))){const v=d&&m&&nE.read(m);v&&p.set(d,v)}return a},sE=typeof XMLHttpRequest<"u",rE=sE&&function(t){return new Promise(function(l,o){const d=$0(t);let m=d.data;const p=aa.from(d.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:_}=d,S,w,C,z,k;function A(){z&&z(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let O=new XMLHttpRequest;O.open(d.method.toUpperCase(),d.url,!0),O.timeout=d.timeout;function Z(){if(!O)return;const R=aa.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),Y={data:!y||y==="text"||y==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:R,config:t,request:O};G0(function(Q){l(Q),A()},function(Q){o(Q),A()},Y),O=null}"onloadend"in O?O.onloadend=Z:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(Z)},O.onabort=function(){O&&(o(new Ye("Request aborted",Ye.ECONNABORTED,t,O)),O=null)},O.onerror=function(V){const Y=V&&V.message?V.message:"Network Error",G=new Ye(Y,Ye.ERR_NETWORK,t,O);G.event=V||null,o(G),O=null},O.ontimeout=function(){let V=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Y=d.transitional||K0;d.timeoutErrorMessage&&(V=d.timeoutErrorMessage),o(new Ye(V,Y.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,t,O)),O=null},m===void 0&&p.setContentType(null),"setRequestHeader"in O&&ge.forEach(p.toJSON(),function(V,Y){O.setRequestHeader(Y,V)}),ge.isUndefined(d.withCredentials)||(O.withCredentials=!!d.withCredentials),y&&y!=="json"&&(O.responseType=d.responseType),_&&([C,k]=Xc(_,!0),O.addEventListener("progress",C)),v&&O.upload&&([w,z]=Xc(v),O.upload.addEventListener("progress",w),O.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(S=R=>{O&&(o(!R||R.type?new ru(null,t,O):R),O.abort(),O=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const D=Jw(d.url);if(D&&In.protocols.indexOf(D)===-1){o(new Ye("Unsupported protocol "+D+":",Ye.ERR_BAD_REQUEST,t));return}O.send(m||null)})},lE=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let o=new AbortController,d;const m=function(_){if(!d){d=!0,y();const S=_ instanceof Error?_:this.reason;o.abort(S instanceof Ye?S:new ru(S instanceof Error?S.message:S))}};let p=a&&setTimeout(()=>{p=null,m(new Ye(`timeout of ${a}ms exceeded`,Ye.ETIMEDOUT))},a);const y=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(m):_.removeEventListener("abort",m)}),t=null)};t.forEach(_=>_.addEventListener("abort",m));const{signal:v}=o;return v.unsubscribe=()=>ge.asap(y),v}},oE=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let o=0,d;for(;o<l;)d=o+a,yield t.slice(o,d),o=d},uE=async function*(t,a){for await(const l of cE(t))yield*oE(l,a)},cE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},Cx=(t,a,l,o)=>{const d=uE(t,a);let m=0,p,y=v=>{p||(p=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:_,value:S}=await d.next();if(_){y(),v.close();return}let w=S.byteLength;if(l){let C=m+=w;l(C)}v.enqueue(new Uint8Array(S))}catch(_){throw y(_),_}},cancel(v){return y(v),d.return()}},{highWaterMark:2})},Ax=64*1024,{isFunction:Tc}=ge,dE=(({Request:t,Response:a})=>({Request:t,Response:a}))(ge.global),{ReadableStream:zx,TextEncoder:Mx}=ge.global,Ox=(t,...a)=>{try{return!!t(...a)}catch{return!1}},hE=t=>{t=ge.merge.call({skipUndefined:!0},dE,t);const{fetch:a,Request:l,Response:o}=t,d=a?Tc(a):typeof fetch=="function",m=Tc(l),p=Tc(o);if(!d)return!1;const y=d&&Tc(zx),v=d&&(typeof Mx=="function"?(k=>A=>k.encode(A))(new Mx):async k=>new Uint8Array(await new l(k).arrayBuffer())),_=m&&y&&Ox(()=>{let k=!1;const A=new l(In.origin,{body:new zx,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=p&&y&&Ox(()=>ge.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,O)=>{let Z=A&&A[k];if(Z)return Z.call(A);throw new Ye(`Response type '${k}' is not supported`,Ye.ERR_NOT_SUPPORT,O)})});const C=async k=>{if(k==null)return 0;if(ge.isBlob(k))return k.size;if(ge.isSpecCompliantForm(k))return(await new l(In.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(k)||ge.isArrayBuffer(k))return k.byteLength;if(ge.isURLSearchParams(k)&&(k=k+""),ge.isString(k))return(await v(k)).byteLength},z=async(k,A)=>{const O=ge.toFiniteNumber(k.getContentLength());return O??C(A)};return async k=>{let{url:A,method:O,data:Z,signal:D,cancelToken:R,timeout:V,onDownloadProgress:Y,onUploadProgress:G,responseType:Q,headers:J,withCredentials:ie="same-origin",fetchOptions:ye}=$0(k),te=a||fetch;Q=Q?(Q+"").toLowerCase():"text";let oe=lE([D,R&&R.toAbortSignal()],V),le=null;const F=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let re;try{if(G&&_&&O!=="get"&&O!=="head"&&(re=await z(J,Z))!==0){let M=new l(A,{method:"POST",body:Z,duplex:"half"}),ae;if(ge.isFormData(Z)&&(ae=M.headers.get("content-type"))&&J.setContentType(ae),M.body){const[P,K]=Ex(re,Xc(kx(G)));Z=Cx(M.body,Ax,P,K)}}ge.isString(ie)||(ie=ie?"include":"omit");const q=m&&"credentials"in l.prototype,U={...ye,signal:oe,method:O.toUpperCase(),headers:J.normalize().toJSON(),body:Z,duplex:"half",credentials:q?ie:void 0};le=m&&new l(A,U);let ce=await(m?te(le,ye):te(A,U));const ke=S&&(Q==="stream"||Q==="response");if(S&&(Y||ke&&F)){const M={};["status","statusText","headers"].forEach(xe=>{M[xe]=ce[xe]});const ae=ge.toFiniteNumber(ce.headers.get("content-length")),[P,K]=Y&&Ex(ae,Xc(kx(Y),!0))||[];ce=new o(Cx(ce.body,Ax,P,()=>{K&&K(),F&&F()}),M)}Q=Q||"text";let W=await w[ge.findKey(w,Q)||"text"](ce,k);return!ke&&F&&F(),await new Promise((M,ae)=>{G0(M,ae,{data:W,headers:aa.from(ce.headers),status:ce.status,statusText:ce.statusText,config:k,request:le})})}catch(q){throw F&&F(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,k,le),{cause:q.cause||q}):Ye.from(q,q&&q.code,k,le)}}},mE=new Map,X0=t=>{let a=t&&t.env||{};const{fetch:l,Request:o,Response:d}=a,m=[o,d,l];let p=m.length,y=p,v,_,S=mE;for(;y--;)v=m[y],_=S.get(v),_===void 0&&S.set(v,_=y?new Map:hE(a)),S=_;return _};X0();const Zf={http:Aw,xhr:rE,fetch:{get:X0}};ge.forEach(Zf,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Rx=t=>`- ${t}`,fE=t=>ge.isFunction(t)||t===null||t===!1;function pE(t,a){t=ge.isArray(t)?t:[t];const{length:l}=t;let o,d;const m={};for(let p=0;p<l;p++){o=t[p];let y;if(d=o,!fE(o)&&(d=Zf[(y=String(o)).toLowerCase()],d===void 0))throw new Ye(`Unknown adapter '${y}'`);if(d&&(ge.isFunction(d)||(d=d.get(a))))break;m[y||"#"+p]=d}if(!d){const p=Object.entries(m).map(([v,_])=>`adapter ${v} `+(_===!1?"is not supported by the environment":"is not available in the build"));let y=l?p.length>1?`since :
`+p.map(Rx).join(`
`):" "+Rx(p[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d}const J0={getAdapter:pE,adapters:Zf};function _m(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ru(null,t)}function Lx(t){return _m(t),t.headers=aa.from(t.headers),t.data=vm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),J0.getAdapter(t.adapter||su.adapter,t)(t).then(function(o){return _m(t),o.data=vm.call(t,t.transformResponse,o),o.headers=aa.from(o.headers),o},function(o){return V0(o)||(_m(t),o&&o.response&&(o.response.data=vm.call(t,t.transformResponse,o.response),o.response.headers=aa.from(o.response.headers))),Promise.reject(o)})}const W0="1.13.4",hd={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{hd[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Dx={};hd.transitional=function(a,l,o){function d(m,p){return"[Axios v"+W0+"] Transitional option '"+m+"'"+p+(o?". "+o:"")}return(m,p,y)=>{if(a===!1)throw new Ye(d(p," has been removed"+(l?" in "+l:"")),Ye.ERR_DEPRECATED);return l&&!Dx[p]&&(Dx[p]=!0,console.warn(d(p," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(m,p,y):!0}};hd.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function gE(t,a,l){if(typeof t!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const m=o[d],p=a[m];if(p){const y=t[m],v=y===void 0||p(y,m,t);if(v!==!0)throw new Ye("option "+m+" must be "+v,Ye.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ye("Unknown option "+m,Ye.ERR_BAD_OPTION)}}const Qc={assertOptions:gE,validators:hd},xi=Qc.validators;let wr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Sx,response:new Sx}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Tr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:m}=l;o!==void 0&&Qc.assertOptions(o,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),d!=null&&(ge.isFunction(d)?l.paramsSerializer={serialize:d}:Qc.assertOptions(d,{encode:xi.function,serialize:xi.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Qc.assertOptions(l,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=m&&ge.merge(m.common,m[l.method]);m&&ge.forEach(["delete","get","head","post","put","patch","common"],k=>{delete m[k]}),l.headers=aa.concat(p,m);const y=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,y.unshift(A.fulfilled,A.rejected))});const _=[];this.interceptors.response.forEach(function(A){_.push(A.fulfilled,A.rejected)});let S,w=0,C;if(!v){const k=[Lx.bind(this),void 0];for(k.unshift(...y),k.push(..._),C=k.length,S=Promise.resolve(l);w<C;)S=S.then(k[w++],k[w++]);return S}C=y.length;let z=l;for(;w<C;){const k=y[w++],A=y[w++];try{z=k(z)}catch(O){A.call(this,O);break}}try{S=Lx.call(this,z)}catch(k){return Promise.reject(k)}for(w=0,C=_.length;w<C;)S=S.then(_[w++],_[w++]);return S}getUri(a){a=Tr(this.defaults,a);const l=Y0(a.baseURL,a.url,a.allowAbsoluteUrls);return H0(l,a.params,a.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(a){wr.prototype[a]=function(l,o){return this.request(Tr(o||{},{method:a,url:l,data:(o||{}).data}))}});ge.forEach(["post","put","patch"],function(a){function l(o){return function(m,p,y){return this.request(Tr(y||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}wr.prototype[a]=l(),wr.prototype[a+"Form"]=l(!0)});let yE=class e_{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const p=new Promise(y=>{o.subscribe(y),m=y}).then(d);return p.cancel=function(){o.unsubscribe(m)},p},a(function(m,p,y){o.reason||(o.reason=new ru(m,p,y),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new e_(function(d){a=d}),cancel:a}}};function xE(t){return function(l){return t.apply(null,l)}}function vE(t){return ge.isObject(t)&&t.isAxiosError===!0}const df={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(df).forEach(([t,a])=>{df[a]=t});function t_(t){const a=new wr(t),l=O0(wr.prototype.request,a);return ge.extend(l,wr.prototype,a,{allOwnKeys:!0}),ge.extend(l,a,null,{allOwnKeys:!0}),l.create=function(d){return t_(Tr(t,d))},l}const It=t_(su);It.Axios=wr;It.CanceledError=ru;It.CancelToken=yE;It.isCancel=V0;It.VERSION=W0;It.toFormData=dd;It.AxiosError=Ye;It.Cancel=It.CanceledError;It.all=function(a){return Promise.all(a)};It.spread=xE;It.isAxiosError=vE;It.mergeConfig=Tr;It.AxiosHeaders=aa;It.formToJSON=t=>Q0(ge.isHTMLForm(t)?new FormData(t):t);It.getAdapter=J0.getAdapter;It.HttpStatusCode=df;It.default=It;const{Axios:j3,AxiosError:S3,CanceledError:w3,isCancel:E3,CancelToken:k3,VERSION:T3,all:C3,Cancel:A3,isAxiosError:z3,spread:M3,toFormData:O3,AxiosHeaders:R3,HttpStatusCode:L3,formToJSON:D3,getAdapter:P3,mergeConfig:B3}=It,qf="puantaj_access_token",Jc="puantaj_refresh_token";function n_(){return localStorage.getItem(qf)}function hf(){return localStorage.getItem(Jc)}function mf(t,a){if(localStorage.setItem(qf,t),a){localStorage.setItem(Jc,a);return}localStorage.removeItem(Jc)}function a_(){localStorage.removeItem(qf),localStorage.removeItem(Jc)}function _E(t){try{const a=t.split(".")[1];if(!a)return null;const l=a.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function bE(t){if(!t)return!1;const a=_E(t);if(!a?.exp)return!1;const l=Math.floor(Date.now()/1e3);return a.exp>l+10}const ff="http://127.0.0.1:8000",NE=ff.includes("127.0.0.1")||ff.includes("localhost"),jE=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Ff=jE&&NE?window.location.origin:ff,bm="/admin-panel/",Cc=bm.endsWith("/")?bm.slice(0,-1):bm,ze=It.create({baseURL:Ff,headers:{"Content-Type":"application/json"}}),SE=It.create({baseURL:Ff,headers:{"Content-Type":"application/json"}});function Px(){if(a_(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,a=Cc&&t.startsWith(Cc)?t.slice(Cc.length)||"/":t;if(a==="/login"||a.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Cc}/login?redirect=${encodeURIComponent(a)}`;window.location.replace(l)}ze.interceptors.request.use(t=>{const a=n_();return a&&(t.headers.Authorization=`Bearer ${a}`),t});let Ac=null;async function wE(){const t=hf();if(!t)return Px(),null;try{const a=await It.post(`${Ff}/api/admin/auth/refresh`,{refresh_token:t});return mf(a.data.access_token,a.data.refresh_token??t),a.data.access_token}catch{return Px(),null}}ze.interceptors.response.use(t=>t,async t=>{const a=t.config;if(!a||t.response?.status!==401||a._retry)return Promise.reject(t);const o=a.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);a._retry=!0,Ac||(Ac=wE().finally(()=>{Ac=null}));const m=await Ac;return m?(a.headers.Authorization=`Bearer ${m}`,ze(a)):Promise.reject(t)});async function EE(t){return(await ze.post("/api/admin/auth/login",t)).data}async function kE(t){return(await ze.post("/api/admin/auth/refresh",t)).data}async function TE(t){return(await ze.post("/api/admin/auth/logout",t)).data}async function Nm(){return(await ze.get("/api/admin/auth/me")).data}async function i_(){return(await ze.get("/api/admin/admin-users")).data}async function md(t){return(await ze.get("/api/admin/regions",{params:t})).data}async function CE(t){return(await ze.post("/api/admin/regions",t)).data}async function AE(t,a){return(await ze.patch(`/api/admin/regions/${t}`,a)).data}async function zE(t){return(await ze.post("/api/admin/admin-users",t)).data}async function ME(t,a){return(await ze.patch(`/api/admin/admin-users/${t}`,a)).data}async function OE(t){await ze.delete(`/api/admin/admin-users/${t}`)}async function Ls(){return(await ze.get("/admin/departments")).data}async function RE(t){return(await ze.get("/admin/departments",{params:t})).data}async function LE(t){return(await ze.post("/admin/departments",t)).data}async function DE(t,a){return(await ze.patch(`/admin/departments/${t}`,a)).data}async function ti(t={}){return(await ze.get("/admin/employees",{params:t})).data}async function PE(t){return(await ze.post("/admin/employees",t)).data}async function BE(t){return(await ze.get(`/api/admin/employees/${t}/detail`)).data}async function IE(t,a){return(await ze.patch(`/api/admin/employees/${t}`,a)).data}async function s_(t,a){return(await ze.patch(`/api/admin/employees/${t}/active`,a)).data}async function UE(t,a){return(await ze.patch(`/api/admin/employees/${t}/shift`,a)).data}async function ZE(t,a){return(await ze.patch(`/api/admin/employees/${t}/department`,a)).data}async function qE(t,a){return(await ze.put(`/admin/employee-locations/${t}`,a)).data}async function FE(){return(await ze.get("/admin/work-rules")).data}async function HE(t){return(await ze.post("/admin/work-rules",t)).data}async function r_(t){return(await ze.get("/admin/department-weekly-rules",{params:t})).data}async function l_(t){return(await ze.post("/admin/department-weekly-rules",t)).data}async function lu(t){return(await ze.get("/admin/department-shifts",{params:t})).data}async function Wc(t){return(await ze.post("/admin/department-shifts",t)).data}async function o_(t){return(await ze.delete(`/admin/department-shifts/${t}`)).data}async function KE(t={}){return(await ze.get("/api/admin/qr/codes",{params:t})).data}async function QE(t){return(await ze.post("/api/admin/qr/codes",t)).data}async function VE(t,a){return(await ze.patch(`/api/admin/qr/codes/${t}`,a)).data}async function GE(t,a){return(await ze.post(`/api/admin/qr/codes/${t}/points`,a)).data}async function YE(t,a){return(await ze.delete(`/api/admin/qr/codes/${t}/points/${a}`)).data}async function $E(t={}){return(await ze.get("/api/admin/qr/points",{params:t})).data}async function XE(t){return(await ze.post("/api/admin/qr/points",t)).data}async function JE(t,a){return(await ze.patch(`/api/admin/qr/points/${t}`,a)).data}async function WE(t){return(await ze.delete(`/api/admin/qr/points/${t}`)).data}async function Bx(t){return(await ze.post("/api/admin/schedule-plans",t)).data}async function e1(t={}){return(await ze.get("/api/admin/schedule-plans",{params:t})).data}async function t1(t){return(await ze.delete(`/api/admin/schedule-plans/${t}`)).data}async function Hf(t={}){return(await ze.get("/admin/attendance-events",{params:t})).data}async function n1(t){return(await ze.post("/api/admin/attendance-events",t)).data}async function a1(t,a){return(await ze.patch(`/api/admin/attendance-events/${t}`,a)).data}async function i1(t,a=!1){return(await ze.delete(`/api/admin/attendance-events/${t}`,{params:{force:a}})).data}async function u_(t={}){return(await ze.get("/api/admin/audit-logs",{params:t})).data}async function s1(t={}){return(await ze.get("/api/admin/notifications/jobs",{params:t})).data}async function r1(t){return(await ze.post(`/api/admin/notifications/jobs/${t}/cancel`)).data}async function l1(t={}){return(await ze.get("/api/admin/notifications/subscriptions",{params:t})).data}async function o1(t={}){return(await ze.get("/api/admin/notifications/admin-subscriptions",{params:t})).data}async function c_(){return(await ze.get("/api/admin/notifications/push/config")).data}async function u1(t){return(await ze.post("/api/admin/notifications/admin-device-invite",t)).data}async function c1(t){return(await ze.post("/api/admin/notifications/admin-device-claim",t)).data}async function d_(t){return(await ze.post("/api/admin/notifications/send",t)).data}async function d1(t={}){return(await ze.get("/api/admin/daily-report-archives",{params:t})).data}function h1(t){if(!t)return null;const a=t.match(/filename\*=UTF-8''([^;]+)/i);if(a?.[1])try{return decodeURIComponent(a[1].trim())}catch{return a[1].trim()}const l=t.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function m1(t){return(await ze.get(`/api/admin/daily-report-archives/${t}/download`,{responseType:"blob"})).data}async function f1(t,a){const l=await SE.post(`/api/admin/daily-report-archives/${t}/password-download`,a,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:h1(o)}}async function p1(t,a={}){return(await ze.post(`/api/admin/daily-report-archives/${t}/notify`,a)).data}async function h_(){return(await ze.get("/admin/devices")).data}async function pf(t={}){return(await ze.get("/api/admin/employee-device-overview",{params:t})).data}async function m_(t){return(await ze.get("/api/admin/dashboard/employee-snapshot",{params:t})).data}async function g1(t,a){return(await ze.patch(`/api/admin/devices/${t}/active`,a)).data}async function f_(t={}){return(await ze.get("/api/admin/leaves",{params:t})).data}async function y1(t){return(await ze.post("/api/admin/leaves",t)).data}async function x1(t){await ze.delete(`/api/admin/leaves/${t}`)}async function p_(t){return(await ze.post("/api/admin/device-invite",t)).data}async function gf(t){return(await ze.get("/api/admin/monthly/employee",{params:t})).data}async function v1(t){return(await ze.get("/api/admin/monthly/department-summary",{params:t})).data}async function _1(t,a){return(await ze.post("/api/admin/manual-overrides/day",a,{params:{employee_id:t}})).data}async function b1(t,a,l){return(await ze.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:a,month:l}})).data}async function N1(t){await ze.delete(`/api/admin/manual-overrides/day/${t}`)}async function j1(){return(await ze.get("/api/admin/compliance-settings")).data}async function S1(t){return(await ze.put("/api/admin/compliance-settings",t)).data}async function w1(t){return(await ze.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function E1(t){return(await ze.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function k1(t){return(await ze.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function T1(t){return(await ze.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function C1(t){return(await ze.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const g_=j.createContext(void 0);function A1({children:t}){const[a,l]=j.useState(null),[o,d]=j.useState(!0),m=j.useCallback(()=>{a_(),l(null)},[]),p=j.useCallback(async()=>{const w=hf();if(!w)return m(),!1;try{const C=await kE({refresh_token:w});mf(C.access_token,C.refresh_token??w);const z=await Nm();return l(z),!0}catch{return m(),!1}},[m]),y=j.useCallback(async()=>{const w=n_();if(!w){l(null),d(!1);return}if(bE(w)){try{const C=await Nm();l(C)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);j.useEffect(()=>{y()},[y]),j.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=j.useCallback(async(w,C)=>{const z=await EE({username:w,password:C});mf(z.access_token,z.refresh_token);const k=await Nm();l(k)},[]),_=j.useCallback(async()=>{const w=hf();if(w)try{await TE({refresh_token:w})}catch{}m()},[m]),S=j.useMemo(()=>({user:a,isAuthenticated:!!a,isBootstrapping:o,isSuperAdmin:!!a?.is_super_admin,login:v,logout:_,refreshSession:p,hasPermission:(w,C="read")=>{if(!a)return!1;if(a.is_super_admin)return!0;const z=a.permissions?.[w];return z?C==="write"?!!z.write:!!(z.read||z.write):!1}}),[a,o,v,_,p]);return s.jsx(g_.Provider,{value:S,children:t})}function Pl(){const t=j.useContext(g_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const z1=[{to:"/management-console",label:"Ynetim Konsolu"},{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Blgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],M1={"/management-console":"Ynetim Konsolu","/dashboard":"Genel Bak","/regions":"Blgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function O1(){const t=Da(),{user:a,logout:l,hasPermission:o}=Pl(),d=j.useRef(null),m=j.useRef(null),p=j.useRef(!1),y=j.useRef(null),[v,_]=j.useState(!1),[S,w]=j.useState("erie geiliyor..."),C=z1.filter(R=>!R.permission||o(R.permission)),z=M1[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel"),k=()=>typeof window<"u"&&window.innerWidth<1024,A=()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},O=(R,V)=>{w(V),_(!0),R==="content"?m.current?.scrollIntoView({behavior:"smooth",block:"start"}):d.current?.scrollIntoView({behavior:"smooth",block:"start"}),A(),y.current=window.setTimeout(()=>{_(!1)},1200)},Z=R=>{if(k()){if(t.pathname===R){window.requestAnimationFrame(()=>{O("content","erie geiliyor...")});return}w("erie geiliyor..."),_(!0),p.current=!0}},D=()=>{k()&&window.requestAnimationFrame(()=>{O("sidebar","Sidebar'a dnlyor...")})};return j.useEffect(()=>{k()&&window.scrollTo({top:0})},[]),j.useEffect(()=>{p.current&&(p.current=!1,window.requestAnimationFrame(()=>{O("content","erie geiliyor...")}))},[t.pathname]),j.useEffect(()=>()=>{A()},[]),s.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[v?s.jsxs("div",{className:"mobile-nav-loader lg:hidden",role:"status","aria-live":"polite","aria-label":"Sayfa geii",children:[s.jsxs("div",{className:"mobile-nav-loader-logo","aria-hidden":"true",children:[s.jsx("div",{className:"mobile-nav-loader-halo"}),s.jsx("div",{className:"mobile-nav-loader-ring"}),s.jsx("div",{className:"mobile-nav-loader-spark"}),s.jsxs("div",{className:"mobile-nav-loader-core",children:[s.jsx("span",{className:"mobile-nav-loader-brand",children:"YABUJIN"}),s.jsx("span",{className:"mobile-nav-loader-sub",children:"CONTROL CORE"})]})]}),s.jsx("p",{className:"mobile-nav-loader-text",children:S})]}):null,s.jsxs("aside",{ref:d,className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[s.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),s.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),s.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:C.map(R=>s.jsx(z0,{to:R.to,onClick:()=>Z(R.to),className:({isActive:V})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${V?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:R.label},R.to))}),s.jsxs("div",{className:"admin-signature",children:[s.jsx("p",{className:"admin-signature-main",children:bi.signatureText}),s.jsx("p",{className:"admin-signature-sub",children:bi.signatureTagline})]})]}),s.jsxs("div",{ref:m,className:"flex min-h-screen flex-col",children:[s.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-4 py-4 backdrop-blur sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:z}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",a?.username??a?.sub??"admin"," / Rol: ",a?.role??"admin"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:D,className:"btn-animated rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100 lg:hidden",children:"Sidebar'a Git"}),s.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})]})}),s.jsx("main",{className:"admin-main flex-1 p-4 sm:p-6",children:s.jsx(Rf,{})}),s.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[s.jsx("span",{className:"admin-footer-brand",children:bi.signatureText}),s.jsx("span",{className:"admin-footer-sub",children:bi.signatureTagline}),s.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",bi.buildVersion]})]})]})]})}function R1(){const{isAuthenticated:t,isBootstrapping:a}=Pl(),l=Da();if(a)return s.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${l.pathname}${l.search}`;return s.jsx(Of,{to:"/login",replace:!0,state:{from:o}})}return s.jsx(Rf,{})}function L1(){const{isAuthenticated:t,isBootstrapping:a}=Pl();return a?s.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?s.jsx(Of,{to:"/dashboard",replace:!0}):s.jsx(Rf,{})}const Ix={INVALID_CREDENTIALS:"Kullanc adi veya ifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giri yapin.",FORBIDDEN:"Bu islem iin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin."};function Pe(t,a){if(It.isAxiosError(t)){const l=t.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,m=l?.error?.message;if(o&&Ix[o])return{code:o,requestId:d,message:Ix[o]};if(m)return{code:o,requestId:d,message:m};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:a}}function D1(t,a){return Pe(t,a).message}function P1(t){const a="=".repeat((4-t.length%4)%4),l=`${t}${a}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let m=0;m<o.length;m+=1)d[m]=o.charCodeAt(m);return d}const Ux="pf_admin_push_vapid_public_key";function B1(){const t=Ll(),[a]=Pf(),{login:l}=Pl(),o=j.useMemo(()=>a.get("token")?.trim()??"",[a]),[d,m]=j.useState("admin"),[p,y]=j.useState(""),[v,_]=j.useState(!1),[S,w]=j.useState(null),[C,z]=j.useState(null),[k,A]=j.useState(null),O=async Z=>{if(Z.preventDefault(),z(null),A(null),w(null),!o){z("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const D=d.trim(),R=p.trim();if(!D||!R){z("Admin kullanc ad ve ifre zorunludur.");return}try{_(!0),await l(D,R);const V=await c_();if(!V.enabled||!V.vapid_public_key){z("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){z("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){z("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const Q=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let J=await Q.pushManager.getSubscription();const ie=window.localStorage.getItem(Ux);if(J&&ie&&ie!==V.vapid_public_key){try{await J.unsubscribe()}catch{}J=null}J||(J=await Q.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:P1(V.vapid_public_key)})),await c1({token:o,subscription:J.toJSON()}),window.localStorage.setItem(Ux,V.vapid_public_key),w("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{t("/notifications",{replace:!0})},1e3)}catch(V){const Y=Pe(V,"Cihaz balama ilemi baarsz oldu.");z(Y.message),A(Y.requestId??null)}finally{_(!1)}};return s.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),s.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",o||"Bulunamad"]}),s.jsxs("form",{className:"mt-4 space-y-3",onSubmit:O,children:[s.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",s.jsx("input",{value:d,onChange:Z=>m(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),s.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",s.jsx("input",{type:"password",value:p,onChange:Z=>y(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),C?s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[s.jsx("p",{children:C}),k?s.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",k]}):null]}):null,S?s.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:S}):null,s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"submit",disabled:v,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:v?"Balanyor...":"Cihaz Bala"}),s.jsx(Wa,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function zc(t){return`#${t.id} - ${t.full_name}`}function Ra({label:t,employees:a,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:m="Seiniz",helperText:p,disabled:y=!1,className:v=""}){const _=j.useMemo(()=>a.find(O=>String(O.id)===l),[a,l]),[S,w]=j.useState(_?zc(_):""),[C,z]=j.useState(!1);j.useEffect(()=>{if(_){w(zc(_));return}l||w("")},[_,l]);const k=j.useMemo(()=>{const O=S.trim().toLowerCase();return(O?a.filter(D=>{const R=D.full_name.toLowerCase().includes(O),V=String(D.id).includes(O.replace("#",""));return R||V}):a).slice(0,60)},[a,S]),A=O=>{o(String(O.id)),w(zc(O)),z(!1)};return s.jsxs("div",{className:v,children:[s.jsxs("label",{className:"text-sm text-slate-700",children:[t,s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"text",value:S,disabled:y,onFocus:()=>z(!0),onChange:O=>{const Z=O.target.value;w(Z),z(!0),Z.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),s.jsx("button",{type:"button",disabled:y,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?s.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[s.jsx("button",{type:"button",onMouseDown:O=>O.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:s.jsx("span",{children:m})}),k.map(O=>s.jsxs("button",{type:"button",onMouseDown:Z=>Z.preventDefault(),onClick:()=>A(O),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[s.jsx("span",{children:zc(O)}),O.is_active?null:s.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},O.id)),k.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function _t({message:t}){return s.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function Rt({label:t="Ykleniyor..."}){return s.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[s.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),s.jsx("span",{children:t})]})}function Xo({open:t,title:a,onClose:l,children:o}){return t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:s.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:a}),s.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function bn({title:t,description:a,action:l}){return s.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),a?s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:a}):null]}),l]})}function Ce({children:t,className:a=""}){return s.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${a}`,children:t})}function y_({suspicious:t,label:a="Supheli",tooltip:l}){return t?s.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:a}):s.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const I1={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function _i(t){return I1[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function U1(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function Z1(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function x_({reasons:t}){return t.length===0?s.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):s.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(a=>s.jsx("span",{title:_i(a).description,className:Z1(_i(a).tone),children:_i(a).label},a))})}const v_=j.createContext(void 0);function q1(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function F1({children:t}){const[a,l]=j.useState([]),o=j.useCallback(p=>{l(y=>y.map(v=>v.id===p?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(y=>y.filter(v=>v.id!==p))},170)},[]),d=j.useCallback(p=>{const y=crypto.randomUUID(),v={id:y,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};l(_=>[..._,v]),window.setTimeout(()=>{o(y)},v.durationMs)},[o]),m=j.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return s.jsxs(v_.Provider,{value:m,children:[t,s.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:a.map(p=>s.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${q1(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?s.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),s.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function Mn(){const t=j.useContext(v_);return t||{pushToast:()=>{},removeToast:()=>{}}}const H1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],K1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Mc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function Ko(t,a){return t[a]===!0}function Zx(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const a=Number(t.trim());if(Number.isInteger(a)&&a>0)return a}return null}function qx(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function Q1(t){const a=new Date(t);return new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function V1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function jm(t){const a=[],l=t.flags.reason==="home_location_not_set";return Ko(t.flags,"DUPLICATE_EVENT")&&a.push("DUPLICATE_EVENT"),Ko(t.flags,"MANUAL_CHECKOUT")&&a.push("MANUAL_CHECKOUT"),Ko(t.flags,"NEEDS_SHIFT_REVIEW")&&a.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&a.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&!l&&a.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||Ko(t.flags,"ADMIN_MANUAL"))&&a.push("ADMIN_MANUAL_EVENT"),a}function Sm(t){const a=Number(t);return Number.isInteger(a)&&a>0?a:null}function G1(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(Mc),[d,m]=j.useState(Mc),[p,y]=j.useState(""),[v,_]=j.useState("IN"),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(""),[O,Z]=j.useState(!1),[D,R]=j.useState(null),[V,Y]=j.useState("IN"),[G,Q]=j.useState(""),[J,ie]=j.useState(""),[ye,te]=j.useState(""),[oe,le]=j.useState(!1),[F,re]=j.useState(!1),[q,U]=j.useState(null),[ce,ke]=j.useState(!1),W=Be({queryKey:["employees","all"],queryFn:()=>ti({status:"all",include_inactive:!0})}),M=Be({queryKey:["departments"],queryFn:Ls}),ae=Be({queryKey:["department-shifts","all"],queryFn:()=>lu({active_only:!1})}),P=j.useMemo(()=>{const X=Number(d.employeeId),Oe=Number(d.departmentId),Tt=Number(d.limit);return{employee_id:X>0?X:void 0,department_id:Oe>0?Oe:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:Tt>0?Tt:200}},[d]),K=Be({queryKey:["attendance-events",P],queryFn:()=>Hf(P)}),xe=Be({queryKey:["audit-logs","attendance-events"],queryFn:()=>u_({entity_type:"attendance_event",limit:50})}),we=Ke({mutationFn:n1,onSuccess:()=>{a({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),Z(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:X=>{a({variant:"error",title:"Kayt oluturulamad",description:Pe(X,"lem baarsz.").message})}}),Me=Ke({mutationFn:({eventId:X,payload:Oe})=>a1(X,Oe),onSuccess:()=>{a({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),R(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:X=>{a({variant:"error",title:"Event gncellenemedi",description:Pe(X,"lem baarsz.").message})}}),Fe=Ke({mutationFn:({eventId:X,force:Oe})=>i1(X,Oe),onSuccess:()=>{a({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),U(null),ke(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:X=>{a({variant:"error",title:"Silme baarsz",description:Pe(X,"lem baarsz.").message})}}),He=W.data??[],lt=M.data??[],at=ae.data??[],Ee=K.data??[],Ve=j.useMemo(()=>new Map(He.map(X=>[X.id,X])),[He]),St=j.useMemo(()=>new Map(He.map(X=>[X.id,X.full_name])),[He]),Bt=j.useMemo(()=>new Map(lt.map(X=>[X.id,X.name])),[lt]),Ft=j.useMemo(()=>new Map(at.map(X=>[X.id,X])),[at]),ln=j.useMemo(()=>Ve.get(Number(p)),[Ve,p]),on=j.useMemo(()=>ln?.department_id?at.filter(X=>X.department_id===ln.department_id):at,[ln?.department_id,at]),Nn=j.useMemo(()=>{if(!D)return at;const X=Ve.get(D.employee_id);return X?.department_id?at.filter(Oe=>Oe.department_id===X.department_id):at},[Ve,D,at]),ee=j.useMemo(()=>d.suspiciousOnly?Ee.filter(X=>jm(X).length>0):Ee,[Ee,d.suspiciousOnly]),Te=()=>m({...l}),$e=()=>{o(Mc),m(Mc)},Lt=X=>{X.preventDefault();const Oe=Sm(p);if(!Oe||!S){a({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const Tt=Sm(k);we.mutate({employee_id:Oe,type:v,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:Tt??void 0,allow_duplicate:O})},Xe=X=>{R(X),Y(X.type),Q(Q1(X.ts_utc)),ie(X.note??""),le(!1),re(!1),te(String(Zx(X.flags.SHIFT_ID)??""))},ve=X=>{if(X.preventDefault(),!D||!G)return;const Oe=Sm(ye);Me.mutate({eventId:D.id,payload:{type:V,ts_utc:new Date(G).toISOString(),note:J||null,shift_id:Oe??void 0,allow_duplicate:oe,force_edit:F}})};return W.isLoading||M.isLoading||ae.isLoading?s.jsx(Rt,{}):W.isError||M.isError||ae.isError?s.jsx(_t,{message:"alan/departman/vardiya bilgileri alnamad."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[s.jsx(Ra,{label:"alan",employees:He,value:l.employeeId,onChange:X=>o(Oe=>({...Oe,employeeId:X})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:l.departmentId,onChange:X=>o(Oe=>({...Oe,departmentId:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Tm"}),lt.map(X=>s.jsxs("option",{value:X.id,children:["#",X.id," - ",X.name]},X.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",s.jsx("input",{type:"date",value:l.dateFrom,onChange:X=>o(Oe=>({...Oe,dateFrom:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",s.jsx("input",{type:"date",value:l.dateTo,onChange:X=>o(Oe=>({...Oe,dateTo:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",s.jsx("select",{value:l.eventType,onChange:X=>o(Oe=>({...Oe,eventType:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:K1.map(X=>s.jsx("option",{value:X.value,children:X.label},X.value))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",s.jsx("select",{value:l.locationStatus,onChange:X=>o(Oe=>({...Oe,locationStatus:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:H1.map(X=>s.jsx("option",{value:X.value,children:X.label},X.value))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",s.jsx("input",{type:"number",value:l.limit,onChange:X=>o(Oe=>({...Oe,limit:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:X=>o(Oe=>({...Oe,duplicatesOnly:X.target.checked}))}),"Sadece mkerrer"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:X=>o(Oe=>({...Oe,suspiciousOnly:X.target.checked}))}),"Sadece pheli"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:X=>o(Oe=>({...Oe,includeDeleted:X.target.checked}))}),"Silinenleri gster"]})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{type:"button",onClick:Te,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),s.jsx("button",{type:"button",onClick:$e,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),s.jsxs("form",{onSubmit:Lt,className:"mt-3 grid gap-3 md:grid-cols-3",children:[s.jsx(Ra,{label:"alan",employees:He,value:p,onChange:y,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",s.jsxs("select",{value:v,onChange:X=>_(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"IN",children:"IN (Giri)"}),s.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",s.jsx("input",{type:"datetime-local",value:S,onChange:X=>w(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",s.jsxs("select",{value:k,onChange:X=>A(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Otomatik/bo"}),on.map(X=>s.jsxs("option",{value:X.id,children:["#",X.id," - ",X.name," (",X.start_time_local,"-",X.end_time_local,")"]},X.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",s.jsx("input",{type:"text",value:C,onChange:X=>z(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[s.jsx("input",{type:"checkbox",checked:O,onChange:X=>Z(X.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",disabled:we.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:we.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ee.length})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ee.filter(X=>jm(X).length>0).length})]})]}),K.isLoading?s.jsx(Rt,{}):null,K.isError?s.jsx(_t,{message:Pe(K.error,"Yoklama kaytlar alnamad.").message}):null,!K.isLoading&&!K.isError?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{className:"py-2",children:"alan"}),s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"Tip"}),s.jsx("th",{className:"py-2",children:"Kaynak"}),s.jsx("th",{className:"py-2",children:"Zaman"}),s.jsx("th",{className:"py-2",children:"Konum"}),s.jsx("th",{className:"py-2",children:"Vardiya"}),s.jsx("th",{className:"py-2",children:"Not"}),s.jsx("th",{className:"py-2",children:"Bayraklar"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),s.jsx("tbody",{children:ee.map(X=>{const Oe=jm(X),Tt=Ve.get(X.employee_id),Je=Tt?.department_id!=null?Bt.get(Tt.department_id):"-",pn=X.source==="MANUAL"||X.created_by_admin||Ko(X.flags,"ADMIN_MANUAL"),ue=Zx(X.flags.SHIFT_ID),We=typeof X.flags.SHIFT_NAME=="string"?X.flags.SHIFT_NAME:ue&&Ft.get(ue)?Ft.get(ue)?.name:null;return s.jsxs("tr",{className:`border-t border-slate-100 ${Oe.length>0?"bg-amber-50/40":""}`,children:[s.jsx("td",{className:"py-2",children:X.id}),s.jsxs("td",{className:"py-2",children:["#",X.employee_id," - ",St.get(X.employee_id)??"-"]}),s.jsx("td",{className:"py-2",children:Je??"-"}),s.jsx("td",{className:"py-2",children:X.type}),s.jsxs("td",{className:"py-2",children:[pn?s.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",X.deleted_at?s.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),s.jsx("td",{className:"py-2",children:qx(X.ts_utc)}),s.jsx("td",{className:"py-2",children:V1(X.location_status)}),s.jsx("td",{className:"py-2",children:We?s.jsxs("span",{children:[We,ue?` (#${ue})`:""]}):ue?s.jsxs("span",{children:["#",ue]}):"-"}),s.jsx("td",{className:"py-2",children:X.note||"-"}),s.jsx("td",{className:"py-2",children:s.jsx(x_,{reasons:Oe})}),s.jsx("td",{className:"py-2",children:s.jsx(y_,{suspicious:Oe.length>0,label:"pheli"})}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:()=>Xe(X),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),s.jsx("button",{type:"button",onClick:()=>U(X),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},X.id)})})]}),ee.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),xe.isLoading?s.jsx(Rt,{}):null,xe.isError?s.jsx(_t,{message:Pe(xe.error,"Audit loglar alnamad.").message}):null,!xe.isLoading&&!xe.isError?s.jsx("div",{className:"mt-3 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Zaman"}),s.jsx("th",{className:"py-2",children:"Aksiyon"}),s.jsx("th",{className:"py-2",children:"Kullanc"}),s.jsx("th",{className:"py-2",children:"Entity"}),s.jsx("th",{className:"py-2",children:"Durum"})]})}),s.jsx("tbody",{children:(xe.data??[]).map(X=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:qx(X.ts_utc)}),s.jsx("td",{className:"py-2",children:X.action}),s.jsxs("td",{className:"py-2",children:[X.actor_type,":",X.actor_id]}),s.jsxs("td",{className:"py-2",children:[X.entity_type??"-"," ",X.entity_id?`#${X.entity_id}`:""]}),s.jsx("td",{className:"py-2",children:X.success?"Baarl":"Hatal"})]},X.id))})]})}):null]}),s.jsx(Xo,{open:D!==null,title:D?`Event #${D.id} dzenle`:"Event dzenle",onClose:()=>R(null),children:s.jsxs("form",{onSubmit:ve,className:"space-y-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",s.jsxs("select",{value:V,onChange:X=>Y(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"IN",children:"IN (Giri)"}),s.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",s.jsx("input",{type:"datetime-local",value:G,onChange:X=>Q(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",s.jsxs("select",{value:ye,onChange:X=>te(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Deitirme"}),Nn.map(X=>s.jsxs("option",{value:X.id,children:["#",X.id," - ",X.name," (",X.start_time_local,"-",X.end_time_local,")"]},X.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Not",s.jsx("input",{type:"text",value:J,onChange:X=>ie(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:oe,onChange:X=>le(X.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:F,onChange:X=>re(X.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),s.jsx("button",{type:"submit",disabled:Me.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Me.isPending?"Kaydediliyor...":"Kaydet"})]})}),s.jsx(Xo,{open:q!==null,title:q?`Event #${q.id} soft sil`:"Event soft sil",onClose:()=>U(null),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:ce,onChange:X=>ke(X.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),s.jsx("button",{type:"button",onClick:()=>q&&Fe.mutate({eventId:q.id,force:ce}),disabled:Fe.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Fe.isPending?"Siliniyor...":"Soft sil"})]})})]})}function Ne(t,a,l){function o(y,v){if(y._zod||Object.defineProperty(y,"_zod",{value:{def:v,constr:p,traits:new Set},enumerable:!1}),y._zod.traits.has(t))return;y._zod.traits.add(t),a(y,v);const _=p.prototype,S=Object.keys(_);for(let w=0;w<S.length;w++){const C=S[w];C in y||(y[C]=_[C].bind(y))}}const d=l?.Parent??Object;class m extends d{}Object.defineProperty(m,"name",{value:t});function p(y){var v;const _=l?.Parent?new m:this;o(_,y),(v=_._zod).deferred??(v.deferred=[]);for(const S of _._zod.deferred)S();return _}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:y=>l?.Parent&&y instanceof l.Parent?!0:y?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class Cl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class __ extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const b_={};function Cr(t){return b_}function N_(t){const a=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>a.indexOf(+o)===-1).map(([o,d])=>d)}function yf(t,a){return typeof a=="bigint"?a.toString():a}function Kf(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function Qf(t){return t==null}function Vf(t){const a=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;return t.slice(a,l)}function Y1(t,a){const l=(t.toString().split(".")[1]||"").length,o=a.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const m=l>d?l:d,p=Number.parseInt(t.toFixed(m).replace(".","")),y=Number.parseInt(a.toFixed(m).replace(".",""));return p%y/10**m}const Fx=Symbol("evaluating");function kt(t,a,l){let o;Object.defineProperty(t,a,{get(){if(o!==Fx)return o===void 0&&(o=Fx,o=l()),o},set(d){Object.defineProperty(t,a,{value:d})},configurable:!0})}function zr(t,a,l){Object.defineProperty(t,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}function Ds(...t){const a={};for(const l of t){const o=Object.getOwnPropertyDescriptors(l);Object.assign(a,o)}return Object.defineProperties({},a)}function Hx(t){return JSON.stringify(t)}function $1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const j_="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function ed(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const X1=Kf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Jo(t){if(ed(t)===!1)return!1;const a=t.constructor;if(a===void 0||typeof a!="function")return!0;const l=a.prototype;return!(ed(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function S_(t){return Jo(t)?{...t}:Array.isArray(t)?[...t]:t}const J1=new Set(["string","number","symbol"]);function fd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ps(t,a,l){const o=new t._zod.constr(a??t._zod.def);return(!a||l?.parent)&&(o._zod.parent=t),o}function qe(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function W1(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const e2={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function t2(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const m=Ds(t._zod.def,{get shape(){const p={};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&(p[y]=l.shape[y])}return zr(this,"shape",p),p},checks:[]});return Ps(t,m)}function n2(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const m=Ds(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&delete p[y]}return zr(this,"shape",p),p},checks:[]});return Ps(t,m)}function a2(t,a){if(!Jo(a))throw new Error("Invalid input to extend: expected a plain object");const l=t._zod.def.checks;if(l&&l.length>0){const m=t._zod.def.shape;for(const p in a)if(Object.getOwnPropertyDescriptor(m,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=Ds(t._zod.def,{get shape(){const m={...t._zod.def.shape,...a};return zr(this,"shape",m),m}});return Ps(t,d)}function i2(t,a){if(!Jo(a))throw new Error("Invalid input to safeExtend: expected a plain object");const l=Ds(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a};return zr(this,"shape",o),o}});return Ps(t,l)}function s2(t,a){const l=Ds(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a._zod.def.shape};return zr(this,"shape",o),o},get catchall(){return a._zod.def.catchall},checks:[]});return Ps(t,l)}function r2(t,a,l){const d=a._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=Ds(a._zod.def,{get shape(){const y=a._zod.def.shape,v={...y};if(l)for(const _ in l){if(!(_ in y))throw new Error(`Unrecognized key: "${_}"`);l[_]&&(v[_]=t?new t({type:"optional",innerType:y[_]}):y[_])}else for(const _ in y)v[_]=t?new t({type:"optional",innerType:y[_]}):y[_];return zr(this,"shape",v),v},checks:[]});return Ps(a,p)}function l2(t,a,l){const o=Ds(a._zod.def,{get shape(){const d=a._zod.def.shape,m={...d};if(l)for(const p in l){if(!(p in m))throw new Error(`Unrecognized key: "${p}"`);l[p]&&(m[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)m[p]=new t({type:"nonoptional",innerType:d[p]});return zr(this,"shape",m),m}});return Ps(a,o)}function Tl(t,a=0){if(t.aborted===!0)return!0;for(let l=a;l<t.issues.length;l++)if(t.issues[l]?.continue!==!0)return!0;return!1}function w_(t,a){return a.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(t),l})}function Oc(t){return typeof t=="string"?t:t?.message}function Ar(t,a,l){const o={...t,path:t.path??[]};if(!t.message){const d=Oc(t.inst?._zod.def?.error?.(t))??Oc(a?.error?.(t))??Oc(l.customError?.(t))??Oc(l.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,a?.reportInput||delete o.input,o}function Gf(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Wo(...t){const[a,l,o]=t;return typeof a=="string"?{message:a,code:"custom",input:l,inst:o}:{...a}}const E_=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,yf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},k_=Ne("$ZodError",E_),T_=Ne("$ZodError",E_,{Parent:Error});function o2(t,a=l=>l.message){const l={},o=[];for(const d of t.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(a(d))):o.push(a(d));return{formErrors:o,fieldErrors:l}}function u2(t,a=l=>l.message){const l={_errors:[]},o=d=>{for(const m of d.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(p=>o({issues:p}));else if(m.code==="invalid_key")o({issues:m.issues});else if(m.code==="invalid_element")o({issues:m.issues});else if(m.path.length===0)l._errors.push(a(m));else{let p=l,y=0;for(;y<m.path.length;){const v=m.path[y];y===m.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(a(m))):p[v]=p[v]||{_errors:[]},p=p[v],y++}}};return o(t),l}const Yf=t=>(a,l,o,d)=>{const m=o?Object.assign(o,{async:!1}):{async:!1},p=a._zod.run({value:l,issues:[]},m);if(p instanceof Promise)throw new Cl;if(p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Ar(v,m,Cr())));throw j_(y,d?.callee),y}return p.value},$f=t=>async(a,l,o,d)=>{const m=o?Object.assign(o,{async:!0}):{async:!0};let p=a._zod.run({value:l,issues:[]},m);if(p instanceof Promise&&(p=await p),p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Ar(v,m,Cr())));throw j_(y,d?.callee),y}return p.value},pd=t=>(a,l,o)=>{const d=o?{...o,async:!1}:{async:!1},m=a._zod.run({value:l,issues:[]},d);if(m instanceof Promise)throw new Cl;return m.issues.length?{success:!1,error:new(t??k_)(m.issues.map(p=>Ar(p,d,Cr())))}:{success:!0,data:m.value}},c2=pd(T_),gd=t=>async(a,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let m=a._zod.run({value:l,issues:[]},d);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new t(m.issues.map(p=>Ar(p,d,Cr())))}:{success:!0,data:m.value}},d2=gd(T_),h2=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Yf(t)(a,l,d)},m2=t=>(a,l,o)=>Yf(t)(a,l,o),f2=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return $f(t)(a,l,d)},p2=t=>async(a,l,o)=>$f(t)(a,l,o),g2=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return pd(t)(a,l,d)},y2=t=>(a,l,o)=>pd(t)(a,l,o),x2=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return gd(t)(a,l,d)},v2=t=>async(a,l,o)=>gd(t)(a,l,o),_2=/^[cC][^\s-]{8,}$/,b2=/^[0-9a-z]+$/,N2=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,j2=/^[0-9a-vA-V]{20}$/,S2=/^[A-Za-z0-9]{27}$/,w2=/^[a-zA-Z0-9_-]{21}$/,E2=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,k2=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Kx=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,T2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,C2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function A2(){return new RegExp(C2,"u")}const z2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,M2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,O2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,R2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,L2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,C_=/^[A-Za-z0-9_-]*$/,D2=/^\+[1-9]\d{6,14}$/,A_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",P2=new RegExp(`^${A_}$`);function z_(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function B2(t){return new RegExp(`^${z_(t)}$`)}function I2(t){const a=z_({precision:t.precision}),l=["Z"];t.local&&l.push(""),t.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${a}(?:${l.join("|")})`;return new RegExp(`^${A_}T(?:${o})$`)}const U2=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},Z2=/^-?\d+$/,q2=/^-?\d+(?:\.\d+)?$/,F2=/^(?:true|false)$/i,H2=/^null$/i,K2=/^[^A-Z]*$/,Q2=/^[^a-z]*$/,ia=Ne("$ZodCheck",(t,a)=>{var l;t._zod??(t._zod={}),t._zod.def=a,(l=t._zod).onattach??(l.onattach=[])}),M_={number:"number",bigint:"bigint",object:"date"},O_=Ne("$ZodCheckLessThan",(t,a)=>{ia.init(t,a);const l=M_[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(a.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<m&&(a.inclusive?d.maximum=a.value:d.exclusiveMaximum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value<=a.value:o.value<a.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),R_=Ne("$ZodCheckGreaterThan",(t,a)=>{ia.init(t,a);const l=M_[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(a.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>m&&(a.inclusive?d.minimum=a.value:d.exclusiveMinimum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value>=a.value:o.value>a.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),V2=Ne("$ZodCheckMultipleOf",(t,a)=>{ia.init(t,a),t._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=a.value)}),t._zod.check=l=>{if(typeof l.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%a.value===BigInt(0):Y1(l.value,a.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:a.value,input:l.value,inst:t,continue:!a.abort})}}),G2=Ne("$ZodCheckNumberFormat",(t,a)=>{ia.init(t,a),a.format=a.format||"float64";const l=a.format?.includes("int"),o=l?"int":"number",[d,m]=e2[a.format];t._zod.onattach.push(p=>{const y=p._zod.bag;y.format=a.format,y.minimum=d,y.maximum=m,l&&(y.pattern=Z2)}),t._zod.check=p=>{const y=p.value;if(l){if(!Number.isInteger(y)){p.issues.push({expected:o,format:a.format,code:"invalid_type",continue:!1,input:y,inst:t});return}if(!Number.isSafeInteger(y)){y>0?p.issues.push({input:y,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort}):p.issues.push({input:y,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort});return}}y<d&&p.issues.push({origin:"number",input:y,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!a.abort}),y>m&&p.issues.push({origin:"number",input:y,code:"too_big",maximum:m,inclusive:!0,inst:t,continue:!a.abort})}}),Y2=Ne("$ZodCheckMaxLength",(t,a)=>{var l;ia.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Qf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<d&&(o._zod.bag.maximum=a.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=a.maximum)return;const p=Gf(d);o.issues.push({origin:p,code:"too_big",maximum:a.maximum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),$2=Ne("$ZodCheckMinLength",(t,a)=>{var l;ia.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Qf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>d&&(o._zod.bag.minimum=a.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=a.minimum)return;const p=Gf(d);o.issues.push({origin:p,code:"too_small",minimum:a.minimum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),X2=Ne("$ZodCheckLengthEquals",(t,a)=>{var l;ia.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Qf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=a.length,d.maximum=a.length,d.length=a.length}),t._zod.check=o=>{const d=o.value,m=d.length;if(m===a.length)return;const p=Gf(d),y=m>a.length;o.issues.push({origin:p,...y?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!a.abort})}}),yd=Ne("$ZodCheckStringFormat",(t,a)=>{var l,o;ia.init(t,a),t._zod.onattach.push(d=>{const m=d._zod.bag;m.format=a.format,a.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(a.pattern))}),a.pattern?(l=t._zod).check??(l.check=d=>{a.pattern.lastIndex=0,!a.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:a.format,input:d.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(o=t._zod).check??(o.check=()=>{})}),J2=Ne("$ZodCheckRegex",(t,a)=>{yd.init(t,a),t._zod.check=l=>{a.pattern.lastIndex=0,!a.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),W2=Ne("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=K2),yd.init(t,a)}),ek=Ne("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=Q2),yd.init(t,a)}),tk=Ne("$ZodCheckIncludes",(t,a)=>{ia.init(t,a);const l=fd(a.includes),o=new RegExp(typeof a.position=="number"?`^.{${a.position}}${l}`:l);a.pattern=o,t._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(o)}),t._zod.check=d=>{d.value.includes(a.includes,a.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:d.value,inst:t,continue:!a.abort})}}),nk=Ne("$ZodCheckStartsWith",(t,a)=>{ia.init(t,a);const l=new RegExp(`^${fd(a.prefix)}.*`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.startsWith(a.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:o.value,inst:t,continue:!a.abort})}}),ak=Ne("$ZodCheckEndsWith",(t,a)=>{ia.init(t,a);const l=new RegExp(`.*${fd(a.suffix)}$`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.endsWith(a.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:o.value,inst:t,continue:!a.abort})}}),ik=Ne("$ZodCheckOverwrite",(t,a)=>{ia.init(t,a),t._zod.check=l=>{l.value=a.tx(l.value)}});class sk{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const o=a.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),m=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of m)this.content.push(p)}compile(){const a=Function,l=this?.args,d=[...(this?.content??[""]).map(m=>`  ${m}`)];return new a(...l,d.join(`
`))}}const rk={major:4,minor:3,patch:6},nn=Ne("$ZodType",(t,a)=>{var l;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=rk;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const m of d._zod.onattach)m(t);if(o.length===0)(l=t._zod).deferred??(l.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,y,v)=>{let _=Tl(p),S;for(const w of y){if(w._zod.def.when){if(!w._zod.def.when(p))continue}else if(_)continue;const C=p.issues.length,z=w._zod.check(p);if(z instanceof Promise&&v?.async===!1)throw new Cl;if(S||z instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await z,p.issues.length!==C&&(_||(_=Tl(p,C)))});else{if(p.issues.length===C)continue;_||(_=Tl(p,C))}}return S?S.then(()=>p):p},m=(p,y,v)=>{if(Tl(p))return p.aborted=!0,p;const _=d(y,o,v);if(_ instanceof Promise){if(v.async===!1)throw new Cl;return _.then(S=>t._zod.parse(S,v))}return t._zod.parse(_,v)};t._zod.run=(p,y)=>{if(y.skipChecks)return t._zod.parse(p,y);if(y.direction==="backward"){const _=t._zod.parse({value:p.value,issues:[]},{...y,skipChecks:!0});return _ instanceof Promise?_.then(S=>m(S,p,y)):m(_,p,y)}const v=t._zod.parse(p,y);if(v instanceof Promise){if(y.async===!1)throw new Cl;return v.then(_=>d(_,o,y))}return d(v,o,y)}}kt(t,"~standard",()=>({validate:d=>{try{const m=c2(t,d);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return d2(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),Xf=Ne("$ZodString",(t,a)=>{nn.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??U2(t._zod.bag),t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:t}),l}}),Vt=Ne("$ZodStringFormat",(t,a)=>{yd.init(t,a),Xf.init(t,a)}),lk=Ne("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=k2),Vt.init(t,a)}),ok=Ne("$ZodUUID",(t,a)=>{if(a.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(o===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Kx(o))}else a.pattern??(a.pattern=Kx());Vt.init(t,a)}),uk=Ne("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=T2),Vt.init(t,a)}),ck=Ne("$ZodURL",(t,a)=>{Vt.init(t,a),t._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:a.hostname.source,input:l.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:l.value,inst:t,continue:!a.abort})),a.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:t,continue:!a.abort})}}}),dk=Ne("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=A2()),Vt.init(t,a)}),hk=Ne("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=w2),Vt.init(t,a)}),mk=Ne("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=_2),Vt.init(t,a)}),fk=Ne("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=b2),Vt.init(t,a)}),pk=Ne("$ZodULID",(t,a)=>{a.pattern??(a.pattern=N2),Vt.init(t,a)}),gk=Ne("$ZodXID",(t,a)=>{a.pattern??(a.pattern=j2),Vt.init(t,a)}),yk=Ne("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=S2),Vt.init(t,a)}),xk=Ne("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=I2(a)),Vt.init(t,a)}),vk=Ne("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=P2),Vt.init(t,a)}),_k=Ne("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=B2(a)),Vt.init(t,a)}),bk=Ne("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=E2),Vt.init(t,a)}),Nk=Ne("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=z2),Vt.init(t,a),t._zod.bag.format="ipv4"}),jk=Ne("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=M2),Vt.init(t,a),t._zod.bag.format="ipv6",t._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:t,continue:!a.abort})}}}),Sk=Ne("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=O2),Vt.init(t,a)}),wk=Ne("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=R2),Vt.init(t,a),t._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,m]=o;if(!m)throw new Error;const p=Number(m);if(`${p}`!==m)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:t,continue:!a.abort})}}});function L_(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Ek=Ne("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=L2),Vt.init(t,a),t._zod.bag.contentEncoding="base64",t._zod.check=l=>{L_(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:t,continue:!a.abort})}});function kk(t){if(!C_.test(t))return!1;const a=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=a.padEnd(Math.ceil(a.length/4)*4,"=");return L_(l)}const Tk=Ne("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=C_),Vt.init(t,a),t._zod.bag.contentEncoding="base64url",t._zod.check=l=>{kk(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:t,continue:!a.abort})}}),Ck=Ne("$ZodE164",(t,a)=>{a.pattern??(a.pattern=D2),Vt.init(t,a)});function Ak(t,a=null){try{const l=t.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||a&&(!("alg"in d)||d.alg!==a))}catch{return!1}}const zk=Ne("$ZodJWT",(t,a)=>{Vt.init(t,a),t._zod.check=l=>{Ak(l.value,a.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:t,continue:!a.abort})}}),D_=Ne("$ZodNumber",(t,a)=>{nn.init(t,a),t._zod.pattern=t._zod.bag.pattern??q2,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const m=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...m?{received:m}:{}}),l}}),Mk=Ne("$ZodNumberFormat",(t,a)=>{G2.init(t,a),D_.init(t,a)}),Ok=Ne("$ZodBoolean",(t,a)=>{nn.init(t,a),t._zod.pattern=F2,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),l}}),Rk=Ne("$ZodNull",(t,a)=>{nn.init(t,a),t._zod.pattern=H2,t._zod.values=new Set([null]),t._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),l}}),Lk=Ne("$ZodUnknown",(t,a)=>{nn.init(t,a),t._zod.parse=l=>l}),Dk=Ne("$ZodNever",(t,a)=>{nn.init(t,a),t._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:t}),l)});function Qx(t,a,l){t.issues.length&&a.issues.push(...w_(l,t.issues)),a.value[l]=t.value}const Pk=Ne("$ZodArray",(t,a)=>{nn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),l;l.value=Array(d.length);const m=[];for(let p=0;p<d.length;p++){const y=d[p],v=a.element._zod.run({value:y,issues:[]},o);v instanceof Promise?m.push(v.then(_=>Qx(_,l,p))):Qx(v,l,p)}return m.length?Promise.all(m).then(()=>l):l}});function td(t,a,l,o,d){if(t.issues.length){if(d&&!(l in o))return;a.issues.push(...w_(l,t.issues))}t.value===void 0?l in o&&(a.value[l]=void 0):a.value[l]=t.value}function P_(t){const a=Object.keys(t.shape);for(const o of a)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=W1(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(l)}}function B_(t,a,l,o,d,m){const p=[],y=d.keySet,v=d.catchall._zod,_=v.def.type,S=v.optout==="optional";for(const w in a){if(y.has(w))continue;if(_==="never"){p.push(w);continue}const C=v.run({value:a[w],issues:[]},o);C instanceof Promise?t.push(C.then(z=>td(z,l,w,a,S))):td(C,l,w,a,S)}return p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:a,inst:m}),t.length?Promise.all(t).then(()=>l):l}const Bk=Ne("$ZodObject",(t,a)=>{if(nn.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const y=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...y};return Object.defineProperty(a,"shape",{value:v}),v}})}const o=Kf(()=>P_(a));kt(t._zod,"propValues",()=>{const y=a.shape,v={};for(const _ in y){const S=y[_]._zod;if(S.values){v[_]??(v[_]=new Set);for(const w of S.values)v[_].add(w)}}return v});const d=ed,m=a.catchall;let p;t._zod.parse=(y,v)=>{p??(p=o.value);const _=y.value;if(!d(_))return y.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),y;y.value={};const S=[],w=p.shape;for(const C of p.keys){const z=w[C],k=z._zod.optout==="optional",A=z._zod.run({value:_[C],issues:[]},v);A instanceof Promise?S.push(A.then(O=>td(O,y,C,_,k))):td(A,y,C,_,k)}return m?B_(S,_,y,v,o.value,t):S.length?Promise.all(S).then(()=>y):y}}),Ik=Ne("$ZodObjectJIT",(t,a)=>{Bk.init(t,a);const l=t._zod.parse,o=Kf(()=>P_(a)),d=C=>{const z=new sk(["shape","payload","ctx"]),k=o.value,A=R=>{const V=Hx(R);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};z.write("const input = payload.value;");const O=Object.create(null);let Z=0;for(const R of k.keys)O[R]=`key_${Z++}`;z.write("const newResult = {};");for(const R of k.keys){const V=O[R],Y=Hx(R),Q=C[R]?._zod?.optout==="optional";z.write(`const ${V} = ${A(R)};`),Q?z.write(`
        if (${V}.issues.length) {
          if (${Y} in input) {
            payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Y}, ...iss.path] : [${Y}]
            })));
          }
        }
        
        if (${V}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${V}.value;
        }
        
      `):z.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Y}, ...iss.path] : [${Y}]
          })));
        }
        
        if (${V}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${V}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const D=z.compile();return(R,V)=>D(C,R,V)};let m;const p=ed,y=!b_.jitless,_=y&&X1.value,S=a.catchall;let w;t._zod.parse=(C,z)=>{w??(w=o.value);const k=C.value;return p(k)?y&&_&&z?.async===!1&&z.jitless!==!0?(m||(m=d(a.shape)),C=m(C,z),S?B_([],k,C,z,w,t):C):l(C,z):(C.issues.push({expected:"object",code:"invalid_type",input:k,inst:t}),C)}});function Vx(t,a,l,o){for(const m of t)if(m.issues.length===0)return a.value=m.value,a;const d=t.filter(m=>!Tl(m));return d.length===1?(a.value=d[0].value,d[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:l,errors:t.map(m=>m.issues.map(p=>Ar(p,o,Cr())))}),a)}const Uk=Ne("$ZodUnion",(t,a)=>{nn.init(t,a),kt(t._zod,"optin",()=>a.options.some(d=>d._zod.optin==="optional")?"optional":void 0),kt(t._zod,"optout",()=>a.options.some(d=>d._zod.optout==="optional")?"optional":void 0),kt(t._zod,"values",()=>{if(a.options.every(d=>d._zod.values))return new Set(a.options.flatMap(d=>Array.from(d._zod.values)))}),kt(t._zod,"pattern",()=>{if(a.options.every(d=>d._zod.pattern)){const d=a.options.map(m=>m._zod.pattern);return new RegExp(`^(${d.map(m=>Vf(m.source)).join("|")})$`)}});const l=a.options.length===1,o=a.options[0]._zod.run;t._zod.parse=(d,m)=>{if(l)return o(d,m);let p=!1;const y=[];for(const v of a.options){const _=v._zod.run({value:d.value,issues:[]},m);if(_ instanceof Promise)y.push(_),p=!0;else{if(_.issues.length===0)return _;y.push(_)}}return p?Promise.all(y).then(v=>Vx(v,d,t,m)):Vx(y,d,t,m)}}),Zk=Ne("$ZodIntersection",(t,a)=>{nn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value,m=a.left._zod.run({value:d,issues:[]},o),p=a.right._zod.run({value:d,issues:[]},o);return m instanceof Promise||p instanceof Promise?Promise.all([m,p]).then(([v,_])=>Gx(l,v,_)):Gx(l,m,p)}});function xf(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(Jo(t)&&Jo(a)){const l=Object.keys(a),o=Object.keys(t).filter(m=>l.indexOf(m)!==-1),d={...t,...a};for(const m of o){const p=xf(t[m],a[m]);if(!p.valid)return{valid:!1,mergeErrorPath:[m,...p.mergeErrorPath]};d[m]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<t.length;o++){const d=t[o],m=a[o],p=xf(d,m);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};l.push(p.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Gx(t,a,l){const o=new Map;let d;for(const y of a.issues)if(y.code==="unrecognized_keys"){d??(d=y);for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else t.issues.push(y);for(const y of l.issues)if(y.code==="unrecognized_keys")for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else t.issues.push(y);const m=[...o].filter(([,y])=>y.l&&y.r).map(([y])=>y);if(m.length&&d&&t.issues.push({...d,keys:m}),Tl(t))return t;const p=xf(a.value,l.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const qk=Ne("$ZodEnum",(t,a)=>{nn.init(t,a);const l=N_(a.entries),o=new Set(l);t._zod.values=o,t._zod.pattern=new RegExp(`^(${l.filter(d=>J1.has(typeof d)).map(d=>typeof d=="string"?fd(d):d.toString()).join("|")})$`),t._zod.parse=(d,m)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:l,input:p,inst:t}),d}}),Fk=Ne("$ZodTransform",(t,a)=>{nn.init(t,a),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new __(t.constructor.name);const d=a.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(l.value=p,l));if(d instanceof Promise)throw new Cl;return l.value=d,l}});function Yx(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const I_=Ne("$ZodOptional",(t,a)=>{nn.init(t,a),t._zod.optin="optional",t._zod.optout="optional",kt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),kt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Vf(l.source)})?$`):void 0}),t._zod.parse=(l,o)=>{if(a.innerType._zod.optin==="optional"){const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>Yx(m,l.value)):Yx(d,l.value)}return l.value===void 0?l:a.innerType._zod.run(l,o)}}),Hk=Ne("$ZodExactOptional",(t,a)=>{I_.init(t,a),kt(t._zod,"values",()=>a.innerType._zod.values),kt(t._zod,"pattern",()=>a.innerType._zod.pattern),t._zod.parse=(l,o)=>a.innerType._zod.run(l,o)}),Kk=Ne("$ZodNullable",(t,a)=>{nn.init(t,a),kt(t._zod,"optin",()=>a.innerType._zod.optin),kt(t._zod,"optout",()=>a.innerType._zod.optout),kt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Vf(l.source)}|null)$`):void 0}),kt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(l,o)=>l.value===null?l:a.innerType._zod.run(l,o)}),Qk=Ne("$ZodDefault",(t,a)=>{nn.init(t,a),t._zod.optin="optional",kt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);if(l.value===void 0)return l.value=a.defaultValue,l;const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>$x(m,a)):$x(d,a)}});function $x(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const Vk=Ne("$ZodPrefault",(t,a)=>{nn.init(t,a),t._zod.optin="optional",kt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=a.defaultValue),a.innerType._zod.run(l,o))}),Gk=Ne("$ZodNonOptional",(t,a)=>{nn.init(t,a),kt(t._zod,"values",()=>{const l=a.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),t._zod.parse=(l,o)=>{const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>Xx(m,t)):Xx(d,t)}});function Xx(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const Yk=Ne("$ZodCatch",(t,a)=>{nn.init(t,a),kt(t._zod,"optin",()=>a.innerType._zod.optin),kt(t._zod,"optout",()=>a.innerType._zod.optout),kt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>(l.value=m.value,m.issues.length&&(l.value=a.catchValue({...l,error:{issues:m.issues.map(p=>Ar(p,o,Cr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=a.catchValue({...l,error:{issues:d.issues.map(m=>Ar(m,o,Cr()))},input:l.value}),l.issues=[]),l)}}),$k=Ne("$ZodPipe",(t,a)=>{nn.init(t,a),kt(t._zod,"values",()=>a.in._zod.values),kt(t._zod,"optin",()=>a.in._zod.optin),kt(t._zod,"optout",()=>a.out._zod.optout),kt(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(l,o)=>{if(o.direction==="backward"){const m=a.out._zod.run(l,o);return m instanceof Promise?m.then(p=>Rc(p,a.in,o)):Rc(m,a.in,o)}const d=a.in._zod.run(l,o);return d instanceof Promise?d.then(m=>Rc(m,a.out,o)):Rc(d,a.out,o)}});function Rc(t,a,l){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},l)}const Xk=Ne("$ZodReadonly",(t,a)=>{nn.init(t,a),kt(t._zod,"propValues",()=>a.innerType._zod.propValues),kt(t._zod,"values",()=>a.innerType._zod.values),kt(t._zod,"optin",()=>a.innerType?._zod?.optin),kt(t._zod,"optout",()=>a.innerType?._zod?.optout),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(Jx):Jx(d)}});function Jx(t){return t.value=Object.freeze(t.value),t}const Jk=Ne("$ZodCustom",(t,a)=>{ia.init(t,a),nn.init(t,a),t._zod.parse=(l,o)=>l,t._zod.check=l=>{const o=l.value,d=a.fn(o);if(d instanceof Promise)return d.then(m=>Wx(m,l,o,t));Wx(d,l,o,t)}});function Wx(t,a,l,o){if(!t){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),a.issues.push(Wo(d))}}var ev;class Wk{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...l){const o=l[0];return this._map.set(a,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const l=this._map.get(a);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(a),this}get(a){const l=a._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function eT(){return new Wk}(ev=globalThis).__zod_globalRegistry??(ev.__zod_globalRegistry=eT());const Qo=globalThis.__zod_globalRegistry;function tT(t,a){return new t({type:"string",...qe(a)})}function nT(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...qe(a)})}function tv(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...qe(a)})}function aT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...qe(a)})}function iT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...qe(a)})}function sT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...qe(a)})}function rT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...qe(a)})}function lT(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...qe(a)})}function oT(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...qe(a)})}function uT(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...qe(a)})}function cT(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...qe(a)})}function dT(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...qe(a)})}function hT(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...qe(a)})}function mT(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...qe(a)})}function fT(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...qe(a)})}function pT(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...qe(a)})}function gT(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...qe(a)})}function yT(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...qe(a)})}function xT(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...qe(a)})}function vT(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...qe(a)})}function _T(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...qe(a)})}function bT(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...qe(a)})}function NT(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...qe(a)})}function jT(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...qe(a)})}function ST(t,a){return new t({type:"string",format:"date",check:"string_format",...qe(a)})}function wT(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...qe(a)})}function ET(t,a){return new t({type:"string",format:"duration",check:"string_format",...qe(a)})}function kT(t,a){return new t({type:"number",coerce:!0,checks:[],...qe(a)})}function TT(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...qe(a)})}function CT(t,a){return new t({type:"boolean",...qe(a)})}function AT(t,a){return new t({type:"null",...qe(a)})}function zT(t){return new t({type:"unknown"})}function MT(t,a){return new t({type:"never",...qe(a)})}function nv(t,a){return new O_({check:"less_than",...qe(a),value:t,inclusive:!1})}function wm(t,a){return new O_({check:"less_than",...qe(a),value:t,inclusive:!0})}function av(t,a){return new R_({check:"greater_than",...qe(a),value:t,inclusive:!1})}function Em(t,a){return new R_({check:"greater_than",...qe(a),value:t,inclusive:!0})}function iv(t,a){return new V2({check:"multiple_of",...qe(a),value:t})}function U_(t,a){return new Y2({check:"max_length",...qe(a),maximum:t})}function nd(t,a){return new $2({check:"min_length",...qe(a),minimum:t})}function Z_(t,a){return new X2({check:"length_equals",...qe(a),length:t})}function OT(t,a){return new J2({check:"string_format",format:"regex",...qe(a),pattern:t})}function RT(t){return new W2({check:"string_format",format:"lowercase",...qe(t)})}function LT(t){return new ek({check:"string_format",format:"uppercase",...qe(t)})}function DT(t,a){return new tk({check:"string_format",format:"includes",...qe(a),includes:t})}function PT(t,a){return new nk({check:"string_format",format:"starts_with",...qe(a),prefix:t})}function BT(t,a){return new ak({check:"string_format",format:"ends_with",...qe(a),suffix:t})}function Bl(t){return new ik({check:"overwrite",tx:t})}function IT(t){return Bl(a=>a.normalize(t))}function UT(){return Bl(t=>t.trim())}function ZT(){return Bl(t=>t.toLowerCase())}function qT(){return Bl(t=>t.toUpperCase())}function FT(){return Bl(t=>$1(t))}function HT(t,a,l){return new t({type:"array",element:a,...qe(l)})}function KT(t,a,l){return new t({type:"custom",check:"custom",fn:a,...qe(l)})}function QT(t){const a=VT(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(Wo(o,l.value,a._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=a),d.continue??(d.continue=!a._zod.def.abort),l.issues.push(Wo(d))}},t(l.value,l)));return a}function VT(t,a){const l=new ia({check:"custom",...qe(a)});return l._zod.check=t,l}function q_(t){let a=t?.target??"draft-2020-12";return a==="draft-4"&&(a="draft-04"),a==="draft-7"&&(a="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Qo,target:a,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function An(t,a,l={path:[],schemaPath:[]}){var o;const d=t._zod.def,m=a.seen.get(t);if(m)return m.count++,l.schemaPath.includes(t)&&(m.cycle=l.path),m.schema;const p={schema:{},count:1,cycle:void 0,path:l.path};a.seen.set(t,p);const y=t._zod.toJSONSchema?.();if(y)p.schema=y;else{const S={...l,schemaPath:[...l.schemaPath,t],path:l.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(a,p.schema,S);else{const C=p.schema,z=a.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(t,a,C,S)}const w=t._zod.parent;w&&(p.ref||(p.ref=w),An(w,a,S),a.seen.get(w).isParent=!0)}const v=a.metadataRegistry.get(t);return v&&Object.assign(p.schema,v),a.io==="input"&&Fn(t)&&(delete p.schema.examples,delete p.schema.default),a.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,a.seen.get(t).schema}function F_(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const y=t.metadataRegistry.get(p[0])?.id;if(y){const v=o.get(y);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(y,p[0])}}const d=p=>{const y=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const w=t.external.registry.get(p[0])?.id,C=t.external.uri??(k=>k);if(w)return{ref:C(w)};const z=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=z,{defId:z,ref:`${C("__shared")}#/${y}/${z}`}}if(p[1]===l)return{ref:"#"};const _=`#/${y}/`,S=p[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:_+S}},m=p=>{if(p[1].schema.$ref)return;const y=p[1],{ref:v,defId:_}=d(p);y.def={...y.schema},_&&(y.defId=_);const S=y.schema;for(const w in S)delete S[w];S.$ref=v};if(t.cycles==="throw")for(const p of t.seen.entries()){const y=p[1];if(y.cycle)throw new Error(`Cycle detected: #/${y.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const y=p[1];if(a===p[0]){m(p);continue}if(t.external){const _=t.external.registry.get(p[0])?.id;if(a!==p[0]&&_){m(p);continue}}if(t.metadataRegistry.get(p[0])?.id){m(p);continue}if(y.cycle){m(p);continue}if(y.count>1&&t.reused==="ref"){m(p);continue}}}function H_(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const y=t.seen.get(p);if(y.ref===null)return;const v=y.def??y.schema,_={...v},S=y.ref;if(y.ref=null,S){o(S);const C=t.seen.get(S),z=C.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(z)):Object.assign(v,z),Object.assign(v,_),p._zod.parent===S)for(const A in v)A==="$ref"||A==="allOf"||A in _||delete v[A];if(z.$ref&&C.def)for(const A in v)A==="$ref"||A==="allOf"||A in C.def&&JSON.stringify(v[A])===JSON.stringify(C.def[A])&&delete v[A]}const w=p._zod.parent;if(w&&w!==S){o(w);const C=t.seen.get(w);if(C?.schema.$ref&&(v.$ref=C.schema.$ref,C.def))for(const z in v)z==="$ref"||z==="allOf"||z in C.def&&JSON.stringify(v[z])===JSON.stringify(C.def[z])&&delete v[z]}t.override({zodSchema:p,jsonSchema:v,path:y.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(a)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,l.def??l.schema);const m=t.external?.defs??{};for(const p of t.seen.entries()){const y=p[1];y.def&&y.defId&&(m[y.defId]=y.def)}t.external||Object.keys(m).length>0&&(t.target==="draft-2020-12"?d.$defs=m:d.definitions=m);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...a["~standard"],jsonSchema:{input:ad(a,"input",t.processors),output:ad(a,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Fn(t,a){const l=a??{seen:new Set};if(l.seen.has(t))return!1;l.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Fn(o.element,l);if(o.type==="set")return Fn(o.valueType,l);if(o.type==="lazy")return Fn(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Fn(o.innerType,l);if(o.type==="intersection")return Fn(o.left,l)||Fn(o.right,l);if(o.type==="record"||o.type==="map")return Fn(o.keyType,l)||Fn(o.valueType,l);if(o.type==="pipe")return Fn(o.in,l)||Fn(o.out,l);if(o.type==="object"){for(const d in o.shape)if(Fn(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(Fn(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(Fn(d,l))return!0;return!!(o.rest&&Fn(o.rest,l))}return!1}const GT=(t,a={})=>l=>{const o=q_({...l,processors:a});return An(t,o),F_(o,t),H_(o,t)},ad=(t,a,l={})=>o=>{const{libraryOptions:d,target:m}=o??{},p=q_({...d??{},target:m,io:a,processors:l});return An(t,p),F_(p,t),H_(p,t)},YT={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},$T=(t,a,l,o)=>{const d=l;d.type="string";const{minimum:m,maximum:p,format:y,patterns:v,contentEncoding:_}=t._zod.bag;if(typeof m=="number"&&(d.minLength=m),typeof p=="number"&&(d.maxLength=p),y&&(d.format=YT[y]??y,d.format===""&&delete d.format,y==="time"&&delete d.format),_&&(d.contentEncoding=_),v&&v.size>0){const S=[...v];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...a.target==="draft-07"||a.target==="draft-04"||a.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},XT=(t,a,l,o)=>{const d=l,{minimum:m,maximum:p,format:y,multipleOf:v,exclusiveMaximum:_,exclusiveMinimum:S}=t._zod.bag;typeof y=="string"&&y.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof m=="number"&&(d.minimum=m,typeof S=="number"&&a.target!=="draft-04"&&(S>=m?delete d.minimum:delete d.exclusiveMinimum)),typeof _=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.maximum=_,d.exclusiveMaximum=!0):d.exclusiveMaximum=_),typeof p=="number"&&(d.maximum=p,typeof _=="number"&&a.target!=="draft-04"&&(_<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},JT=(t,a,l,o)=>{l.type="boolean"},WT=(t,a,l,o)=>{a.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},eC=(t,a,l,o)=>{l.not={}},tC=(t,a,l,o)=>{},nC=(t,a,l,o)=>{const d=t._zod.def,m=N_(d.entries);m.every(p=>typeof p=="number")&&(l.type="number"),m.every(p=>typeof p=="string")&&(l.type="string"),l.enum=m},aC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},iC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},sC=(t,a,l,o)=>{const d=l,m=t._zod.def,{minimum:p,maximum:y}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof y=="number"&&(d.maxItems=y),d.type="array",d.items=An(m.element,a,{...o,path:[...o.path,"items"]})},rC=(t,a,l,o)=>{const d=l,m=t._zod.def;d.type="object",d.properties={};const p=m.shape;for(const _ in p)d.properties[_]=An(p[_],a,{...o,path:[...o.path,"properties",_]});const y=new Set(Object.keys(p)),v=new Set([...y].filter(_=>{const S=m.shape[_]._zod;return a.io==="input"?S.optin===void 0:S.optout===void 0}));v.size>0&&(d.required=Array.from(v)),m.catchall?._zod.def.type==="never"?d.additionalProperties=!1:m.catchall?m.catchall&&(d.additionalProperties=An(m.catchall,a,{...o,path:[...o.path,"additionalProperties"]})):a.io==="output"&&(d.additionalProperties=!1)},lC=(t,a,l,o)=>{const d=t._zod.def,m=d.inclusive===!1,p=d.options.map((y,v)=>An(y,a,{...o,path:[...o.path,m?"oneOf":"anyOf",v]}));m?l.oneOf=p:l.anyOf=p},oC=(t,a,l,o)=>{const d=t._zod.def,m=An(d.left,a,{...o,path:[...o.path,"allOf",0]}),p=An(d.right,a,{...o,path:[...o.path,"allOf",1]}),y=_=>"allOf"in _&&Object.keys(_).length===1,v=[...y(m)?m.allOf:[m],...y(p)?p.allOf:[p]];l.allOf=v},uC=(t,a,l,o)=>{const d=t._zod.def,m=An(d.innerType,a,o),p=a.seen.get(t);a.target==="openapi-3.0"?(p.ref=d.innerType,l.nullable=!0):l.anyOf=[m,{type:"null"}]},cC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType},dC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},hC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,a.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},mC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=p},fC=(t,a,l,o)=>{const d=t._zod.def,m=a.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;An(m,a,o);const p=a.seen.get(t);p.ref=m},pC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,l.readOnly=!0},K_=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType},gC=Ne("ZodISODateTime",(t,a)=>{xk.init(t,a),$t.init(t,a)});function yC(t){return jT(gC,t)}const xC=Ne("ZodISODate",(t,a)=>{vk.init(t,a),$t.init(t,a)});function vC(t){return ST(xC,t)}const _C=Ne("ZodISOTime",(t,a)=>{_k.init(t,a),$t.init(t,a)});function bC(t){return wT(_C,t)}const NC=Ne("ZodISODuration",(t,a)=>{bk.init(t,a),$t.init(t,a)});function jC(t){return ET(NC,t)}const SC=(t,a)=>{k_.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:l=>u2(t,l)},flatten:{value:l=>o2(t,l)},addIssue:{value:l=>{t.issues.push(l),t.message=JSON.stringify(t.issues,yf,2)}},addIssues:{value:l=>{t.issues.push(...l),t.message=JSON.stringify(t.issues,yf,2)}},isEmpty:{get(){return t.issues.length===0}}})},Pa=Ne("ZodError",SC,{Parent:Error}),wC=Yf(Pa),EC=$f(Pa),kC=pd(Pa),TC=gd(Pa),CC=h2(Pa),AC=m2(Pa),zC=f2(Pa),MC=p2(Pa),OC=g2(Pa),RC=y2(Pa),LC=x2(Pa),DC=v2(Pa),an=Ne("ZodType",(t,a)=>(nn.init(t,a),Object.assign(t["~standard"],{jsonSchema:{input:ad(t,"input"),output:ad(t,"output")}}),t.toJSONSchema=GT(t,{}),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...l)=>t.clone(Ds(a,{checks:[...a.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(l,o)=>Ps(t,l,o),t.brand=()=>t,t.register=((l,o)=>(l.add(t,o),t)),t.parse=(l,o)=>wC(t,l,o,{callee:t.parse}),t.safeParse=(l,o)=>kC(t,l,o),t.parseAsync=async(l,o)=>EC(t,l,o,{callee:t.parseAsync}),t.safeParseAsync=async(l,o)=>TC(t,l,o),t.spa=t.safeParseAsync,t.encode=(l,o)=>CC(t,l,o),t.decode=(l,o)=>AC(t,l,o),t.encodeAsync=async(l,o)=>zC(t,l,o),t.decodeAsync=async(l,o)=>MC(t,l,o),t.safeEncode=(l,o)=>OC(t,l,o),t.safeDecode=(l,o)=>RC(t,l,o),t.safeEncodeAsync=async(l,o)=>LC(t,l,o),t.safeDecodeAsync=async(l,o)=>DC(t,l,o),t.refine=(l,o)=>t.check(CA(l,o)),t.superRefine=l=>t.check(AA(l)),t.overwrite=l=>t.check(Bl(l)),t.optional=()=>ov(t),t.exactOptional=()=>gA(t),t.nullable=()=>uv(t),t.nullish=()=>ov(uv(t)),t.nonoptional=l=>NA(t,l),t.array=()=>oA(t),t.or=l=>id([t,l]),t.and=l=>hA(t,l),t.transform=l=>cv(t,fA(l)),t.default=l=>vA(t,l),t.prefault=l=>bA(t,l),t.catch=l=>SA(t,l),t.pipe=l=>cv(t,l),t.readonly=()=>kA(t),t.describe=l=>{const o=t.clone();return Qo.add(o,{description:l}),o},Object.defineProperty(t,"description",{get(){return Qo.get(t)?.description},configurable:!0}),t.meta=(...l)=>{if(l.length===0)return Qo.get(t);const o=t.clone();return Qo.add(o,l[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=l=>l(t),t)),Q_=Ne("_ZodString",(t,a)=>{Xf.init(t,a),an.init(t,a),t._zod.processJSONSchema=(o,d,m)=>$T(t,o,d);const l=t._zod.bag;t.format=l.format??null,t.minLength=l.minimum??null,t.maxLength=l.maximum??null,t.regex=(...o)=>t.check(OT(...o)),t.includes=(...o)=>t.check(DT(...o)),t.startsWith=(...o)=>t.check(PT(...o)),t.endsWith=(...o)=>t.check(BT(...o)),t.min=(...o)=>t.check(nd(...o)),t.max=(...o)=>t.check(U_(...o)),t.length=(...o)=>t.check(Z_(...o)),t.nonempty=(...o)=>t.check(nd(1,...o)),t.lowercase=o=>t.check(RT(o)),t.uppercase=o=>t.check(LT(o)),t.trim=()=>t.check(UT()),t.normalize=(...o)=>t.check(IT(...o)),t.toLowerCase=()=>t.check(ZT()),t.toUpperCase=()=>t.check(qT()),t.slugify=()=>t.check(FT())}),PC=Ne("ZodString",(t,a)=>{Xf.init(t,a),Q_.init(t,a),t.email=l=>t.check(nT(BC,l)),t.url=l=>t.check(lT(IC,l)),t.jwt=l=>t.check(NT(eA,l)),t.emoji=l=>t.check(oT(UC,l)),t.guid=l=>t.check(tv(sv,l)),t.uuid=l=>t.check(aT(Lc,l)),t.uuidv4=l=>t.check(iT(Lc,l)),t.uuidv6=l=>t.check(sT(Lc,l)),t.uuidv7=l=>t.check(rT(Lc,l)),t.nanoid=l=>t.check(uT(ZC,l)),t.guid=l=>t.check(tv(sv,l)),t.cuid=l=>t.check(cT(qC,l)),t.cuid2=l=>t.check(dT(FC,l)),t.ulid=l=>t.check(hT(HC,l)),t.base64=l=>t.check(vT(XC,l)),t.base64url=l=>t.check(_T(JC,l)),t.xid=l=>t.check(mT(KC,l)),t.ksuid=l=>t.check(fT(QC,l)),t.ipv4=l=>t.check(pT(VC,l)),t.ipv6=l=>t.check(gT(GC,l)),t.cidrv4=l=>t.check(yT(YC,l)),t.cidrv6=l=>t.check(xT($C,l)),t.e164=l=>t.check(bT(WC,l)),t.datetime=l=>t.check(yC(l)),t.date=l=>t.check(vC(l)),t.time=l=>t.check(bC(l)),t.duration=l=>t.check(jC(l))});function ya(t){return tT(PC,t)}const $t=Ne("ZodStringFormat",(t,a)=>{Vt.init(t,a),Q_.init(t,a)}),BC=Ne("ZodEmail",(t,a)=>{uk.init(t,a),$t.init(t,a)}),sv=Ne("ZodGUID",(t,a)=>{lk.init(t,a),$t.init(t,a)}),Lc=Ne("ZodUUID",(t,a)=>{ok.init(t,a),$t.init(t,a)}),IC=Ne("ZodURL",(t,a)=>{ck.init(t,a),$t.init(t,a)}),UC=Ne("ZodEmoji",(t,a)=>{dk.init(t,a),$t.init(t,a)}),ZC=Ne("ZodNanoID",(t,a)=>{hk.init(t,a),$t.init(t,a)}),qC=Ne("ZodCUID",(t,a)=>{mk.init(t,a),$t.init(t,a)}),FC=Ne("ZodCUID2",(t,a)=>{fk.init(t,a),$t.init(t,a)}),HC=Ne("ZodULID",(t,a)=>{pk.init(t,a),$t.init(t,a)}),KC=Ne("ZodXID",(t,a)=>{gk.init(t,a),$t.init(t,a)}),QC=Ne("ZodKSUID",(t,a)=>{yk.init(t,a),$t.init(t,a)}),VC=Ne("ZodIPv4",(t,a)=>{Nk.init(t,a),$t.init(t,a)}),GC=Ne("ZodIPv6",(t,a)=>{jk.init(t,a),$t.init(t,a)}),YC=Ne("ZodCIDRv4",(t,a)=>{Sk.init(t,a),$t.init(t,a)}),$C=Ne("ZodCIDRv6",(t,a)=>{wk.init(t,a),$t.init(t,a)}),XC=Ne("ZodBase64",(t,a)=>{Ek.init(t,a),$t.init(t,a)}),JC=Ne("ZodBase64URL",(t,a)=>{Tk.init(t,a),$t.init(t,a)}),WC=Ne("ZodE164",(t,a)=>{Ck.init(t,a),$t.init(t,a)}),eA=Ne("ZodJWT",(t,a)=>{zk.init(t,a),$t.init(t,a)}),V_=Ne("ZodNumber",(t,a)=>{D_.init(t,a),an.init(t,a),t._zod.processJSONSchema=(o,d,m)=>XT(t,o,d),t.gt=(o,d)=>t.check(av(o,d)),t.gte=(o,d)=>t.check(Em(o,d)),t.min=(o,d)=>t.check(Em(o,d)),t.lt=(o,d)=>t.check(nv(o,d)),t.lte=(o,d)=>t.check(wm(o,d)),t.max=(o,d)=>t.check(wm(o,d)),t.int=o=>t.check(rv(o)),t.safe=o=>t.check(rv(o)),t.positive=o=>t.check(av(0,o)),t.nonnegative=o=>t.check(Em(0,o)),t.negative=o=>t.check(nv(0,o)),t.nonpositive=o=>t.check(wm(0,o)),t.multipleOf=(o,d)=>t.check(iv(o,d)),t.step=(o,d)=>t.check(iv(o,d)),t.finite=()=>t;const l=t._zod.bag;t.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),t.isFinite=!0,t.format=l.format??null}),tA=Ne("ZodNumberFormat",(t,a)=>{Mk.init(t,a),V_.init(t,a)});function rv(t){return TT(tA,t)}const nA=Ne("ZodBoolean",(t,a)=>{Ok.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>JT(t,l,o)});function xd(t){return CT(nA,t)}const aA=Ne("ZodNull",(t,a)=>{Rk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>WT(t,l,o)});function vf(t){return AT(aA,t)}const iA=Ne("ZodUnknown",(t,a)=>{Lk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>tC()});function lv(){return zT(iA)}const sA=Ne("ZodNever",(t,a)=>{Dk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>eC(t,l,o)});function rA(t){return MT(sA,t)}const lA=Ne("ZodArray",(t,a)=>{Pk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>sC(t,l,o,d),t.element=a.element,t.min=(l,o)=>t.check(nd(l,o)),t.nonempty=l=>t.check(nd(1,l)),t.max=(l,o)=>t.check(U_(l,o)),t.length=(l,o)=>t.check(Z_(l,o)),t.unwrap=()=>t.element});function oA(t,a){return HT(lA,t,a)}const uA=Ne("ZodObject",(t,a)=>{Ik.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>rC(t,l,o,d),kt(t,"shape",()=>a.shape),t.keyof=()=>bf(Object.keys(t._zod.def.shape)),t.catchall=l=>t.clone({...t._zod.def,catchall:l}),t.passthrough=()=>t.clone({...t._zod.def,catchall:lv()}),t.loose=()=>t.clone({...t._zod.def,catchall:lv()}),t.strict=()=>t.clone({...t._zod.def,catchall:rA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=l=>a2(t,l),t.safeExtend=l=>i2(t,l),t.merge=l=>s2(t,l),t.pick=l=>t2(t,l),t.omit=l=>n2(t,l),t.partial=(...l)=>r2(G_,t,l[0]),t.required=(...l)=>l2(Y_,t,l[0])});function Ba(t,a){const l={type:"object",shape:t??{},...qe(a)};return new uA(l)}const cA=Ne("ZodUnion",(t,a)=>{Uk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>lC(t,l,o,d),t.options=a.options});function id(t,a){return new cA({type:"union",options:t,...qe(a)})}const dA=Ne("ZodIntersection",(t,a)=>{Zk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>oC(t,l,o,d)});function hA(t,a){return new dA({type:"intersection",left:t,right:a})}const _f=Ne("ZodEnum",(t,a)=>{qk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(o,d,m)=>nC(t,o,d),t.enum=a.entries,t.options=Object.values(a.entries);const l=new Set(Object.keys(a.entries));t.extract=(o,d)=>{const m={};for(const p of o)if(l.has(p))m[p]=a.entries[p];else throw new Error(`Key ${p} not found in enum`);return new _f({...a,checks:[],...qe(d),entries:m})},t.exclude=(o,d)=>{const m={...a.entries};for(const p of o)if(l.has(p))delete m[p];else throw new Error(`Key ${p} not found in enum`);return new _f({...a,checks:[],...qe(d),entries:m})}});function bf(t,a){const l=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new _f({type:"enum",entries:l,...qe(a)})}const mA=Ne("ZodTransform",(t,a)=>{Fk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>iC(t,l),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new __(t.constructor.name);l.addIssue=m=>{if(typeof m=="string")l.issues.push(Wo(m,l.value,a));else{const p=m;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=l.value),p.inst??(p.inst=t),l.issues.push(Wo(p))}};const d=a.transform(l.value,l);return d instanceof Promise?d.then(m=>(l.value=m,l)):(l.value=d,l)}});function fA(t){return new mA({type:"transform",transform:t})}const G_=Ne("ZodOptional",(t,a)=>{I_.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>K_(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function ov(t){return new G_({type:"optional",innerType:t})}const pA=Ne("ZodExactOptional",(t,a)=>{Hk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>K_(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function gA(t){return new pA({type:"optional",innerType:t})}const yA=Ne("ZodNullable",(t,a)=>{Kk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>uC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function uv(t){return new yA({type:"nullable",innerType:t})}const xA=Ne("ZodDefault",(t,a)=>{Qk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>dC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function vA(t,a){return new xA({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():S_(a)}})}const _A=Ne("ZodPrefault",(t,a)=>{Vk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>hC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function bA(t,a){return new _A({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():S_(a)}})}const Y_=Ne("ZodNonOptional",(t,a)=>{Gk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>cC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function NA(t,a){return new Y_({type:"nonoptional",innerType:t,...qe(a)})}const jA=Ne("ZodCatch",(t,a)=>{Yk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>mC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function SA(t,a){return new jA({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const wA=Ne("ZodPipe",(t,a)=>{$k.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>fC(t,l,o,d),t.in=a.in,t.out=a.out});function cv(t,a){return new wA({type:"pipe",in:t,out:a})}const EA=Ne("ZodReadonly",(t,a)=>{Xk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>pC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function kA(t){return new EA({type:"readonly",innerType:t})}const TA=Ne("ZodCustom",(t,a)=>{Jk.init(t,a),an.init(t,a),t._zod.processJSONSchema=(l,o,d)=>aC(t,l)});function CA(t,a={}){return KT(TA,t,a)}function AA(t){return QT(t)}function fn(t){return kT(V_,t)}function zA(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function $_(t){const a=zA(t),l=Math.floor(a/60),o=a%60;return{hours:l,minutes:o}}function MA(t){const{hours:a,minutes:l}=$_(t),o=String(a).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function OA(t){const{hours:a,minutes:l}=$_(t);return a===0?`${l}dk`:`${a}s ${l}dk`}function Vc(t){return`${MA(t)} (${OA(t)})`}function rt({minutes:t}){return s.jsx("span",{className:"whitespace-nowrap",children:Vc(t)})}const RA=Ba({employee_id:fn().int().positive(),expires_in_minutes:fn().int().positive().max(43200)});function Dc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function dv(t,a){return`${new Intl.DateTimeFormat("tr-TR",{month:"long"}).format(new Date(Date.UTC(t,a-1,1)))} ${t}`}function LA(t){return t==="FINISHED"?"status-badge status-badge-ok":t==="IN_PROGRESS"?"status-badge status-badge-pending":"status-badge status-badge-neutral"}function DA(){const t=zn(),[a,l]=j.useState(""),[o,d]=j.useState("60"),[m,p]=j.useState(null),[y,v]=j.useState(null),_=Be({queryKey:["departments"],queryFn:Ls}),S=Be({queryKey:["employees"],queryFn:()=>ti({status:"active"})}),w=Be({queryKey:["devices"],queryFn:h_}),C=Be({queryKey:["leaves","dashboard"],queryFn:()=>f_({})}),z=Be({queryKey:["attendance-events","dashboard"],queryFn:()=>Hf({limit:8})}),k=Be({queryKey:["dashboard-employee-snapshot",a],queryFn:()=>m_({employee_id:Number(a)}),enabled:!!a,staleTime:2e4}),A=Ke({mutationFn:p_,onSuccess:Q=>{p({token:Q.token,invite_url:Q.invite_url}),v(null),t.invalidateQueries({queryKey:["devices"]})},onError:Q=>{v(D1(Q,"Claim token olusturulamadi."))}}),O=()=>{p(null),v(null);const Q=RA.safeParse({employee_id:a,expires_in_minutes:o});if(!Q.success){v(Q.error.issues[0]?.message??"Form alanlarini kontrol et.");return}A.mutate(Q.data)},Z=_.data??[],D=S.data??[],R=w.data??[],V=C.data??[],Y=z.data??[],G=j.useMemo(()=>D.find(Q=>String(Q.id)===a)??null,[D,a]);return _.isLoading||S.isLoading||w.isLoading||C.isLoading||z.isLoading?s.jsx(Rt,{}):_.isError||S.isError||w.isError||C.isError||z.isError?s.jsx(_t,{message:"Dashboard verileri alinamadi."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(bn,{title:"Genel Bakis",description:"Calisan odakli claim token operasyonu ve anlik puantaj gorunumu."}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[s.jsxs(Ce,{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Departman"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:Z.length})]}),s.jsxs(Ce,{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Calisan"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:D.length})]}),s.jsxs(Ce,{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Cihaz"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:R.length})]}),s.jsxs(Ce,{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Izin Kaydi"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:V.length})]})]}),s.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.05fr_1.3fr]",children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Claim Token Uretimi"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Calisan adi veya ID secip employee claim URL olustur."}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(Ra,{label:"Calisan",employees:D,value:a,onChange:l,placeholder:"Calisan adi veya #ID",helperText:"Tek bir calisan secildiginde dashboard ozet kartlari otomatik dolar."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Token suresi (dakika)",s.jsx("input",{value:o,onChange:Q=>d(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),G?s.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[s.jsxs("p",{children:["Secili: #",G.id," - ",G.full_name]}),s.jsxs("p",{children:["Departman: ",G.department_id??"-"]})]}):null,s.jsx("button",{type:"button",onClick:O,disabled:A.isPending||!a,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Olusturuluyor...":"Claim Token Olustur"}),m?s.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[s.jsxs("p",{className:"font-semibold",children:["Token: ",m.token]}),s.jsxs("p",{className:"mt-1 break-all",children:["URL: ",m.invite_url]})]}):null,y?s.jsx("div",{className:"form-validation",children:y}):null]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Canli Ozet"}),a?null:s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bir calisan secildiginde bu ay/gecen ay mesai, cihaz ve konum bilgisi gorunur."}),a&&k.isLoading?s.jsx(Rt,{label:"Calisan ozeti yukleniyor..."}):null,a&&k.isError?s.jsx(_t,{message:"Calisan ozeti alinamadi."}):null,k.data?s.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:LA(k.data.today_status),children:k.data.today_status}),s.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Aktif cihaz: ",k.data.active_devices,"/",k.data.total_devices]}),s.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Son guncelleme: ",Dc(k.data.generated_at_utc)]})]}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:dv(k.data.current_month.year,k.data.current_month.month)}),s.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",s.jsx(rt,{minutes:k.data.current_month.worked_minutes})]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Fazla sure: ",s.jsx(rt,{minutes:k.data.current_month.extra_work_minutes})]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Fazla mesai: ",s.jsx(rt,{minutes:k.data.current_month.overtime_minutes})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:dv(k.data.previous_month.year,k.data.previous_month.month)}),s.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",s.jsx(rt,{minutes:k.data.previous_month.worked_minutes})]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Fazla sure: ",s.jsx(rt,{minutes:k.data.previous_month.extra_work_minutes})]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Fazla mesai: ",s.jsx(rt,{minutes:k.data.previous_month.overtime_minutes})]})]})]}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Puantaj Olayi"}),k.data.last_event?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Tip: ",k.data.last_event.event_type]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Dc(k.data.last_event.ts_utc)]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Konum: ",k.data.last_event.location_status]})]}):s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Kayit bulunamadi."})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Konum"}),k.data.latest_location?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Lat/Lon: ",k.data.latest_location.lat.toFixed(6),", ",k.data.latest_location.lon.toFixed(6)]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Dc(k.data.latest_location.ts_utc)]})]}):s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Konum verisi yok."})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cihazlar"}),k.data.devices.length===0?s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cihaz kaydi bulunamadi."}):s.jsx("div",{className:"mt-2 space-y-1 text-xs text-slate-700",children:k.data.devices.slice(0,8).map(Q=>s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded border border-slate-100 px-2 py-1",children:[s.jsxs("span",{children:["#",Q.id," - ",Q.device_fingerprint]}),s.jsx("span",{className:Q.is_active?"status-badge status-badge-ok":"status-badge status-badge-danger",children:Q.is_active?"AKTIF":"PASIF"})]},Q.id))})]})]}):null]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Son Attendance Eventleri"}),s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{className:"py-2",children:"Calisan"}),s.jsx("th",{className:"py-2",children:"Tip"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Zaman"})]})}),s.jsx("tbody",{children:Y.map(Q=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Q.id}),s.jsx("td",{className:"py-2",children:Q.employee_id}),s.jsx("td",{className:"py-2",children:Q.type}),s.jsx("td",{className:"py-2",children:Q.location_status}),s.jsx("td",{className:"py-2",children:Dc(Q.ts_utc)})]},Q.id))})]})})]})]})}function PA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function BA(){const t=new Date,{pushToast:a}=Mn(),l={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=j.useState(l),[m,p]=j.useState(l),[y,v]=j.useState(!1),_=Be({queryKey:["departments"],queryFn:Ls}),S=Number(m.year),w=Number(m.month),C=Number(m.departmentId),z=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=Be({queryKey:["department-summary",S,w,m.departmentId||"all",m.includeInactive?"with-inactive":"active-only"],queryFn:()=>v1({year:S,month:w,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:m.includeInactive}),enabled:z}),A=k.data??[],O=j.useMemo(()=>A.reduce((Y,G)=>(Y.worked+=G.worked_minutes,Y.overtime+=G.overtime_minutes,Y.employeeCount+=G.employee_count,Y),{worked:0,overtime:0,employeeCount:0}),[A]),Z=j.useMemo(()=>{const Y=[`Yl: ${m.year}`,`Ay: ${m.month}`];if(m.departmentId){const G=_.data?.find(Q=>Q.id===Number(m.departmentId));Y.push(`Departman: ${G?.name??m.departmentId}`)}return m.includeInactive&&Y.push("Arivdekiler dahil"),Y},[m,_.data]),D=()=>p({...o}),R=()=>{d(l),p(l)},V=async()=>{if(!z){a({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const Y=Number.isFinite(C)&&C>0?await k1({department_id:C,year:S,month:w,include_inactive:m.includeInactive}):await T1({year:S,month:w,include_inactive:m.includeInactive}),G=Number.isFinite(C)&&C>0?`department-${C}`:"all";PA(Y,`puantaj-${G}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch(Y){a({variant:"error",title:"Excel indirilemedi",description:Pe(Y,"Dosya oluturulamad.").message})}finally{v(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma ve fazla mesai deerlerini karlatrn.",action:s.jsx("button",{type:"button",onClick:()=>{V()},disabled:y,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:y?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",s.jsx("input",{type:"number",value:o.year,onChange:Y=>d(G=>({...G,year:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",s.jsx("input",{type:"number",value:o.month,onChange:Y=>d(G=>({...G,month:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",s.jsxs("select",{value:o.departmentId,onChange:Y=>d(G=>({...G,departmentId:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:_.isLoading,children:[s.jsx("option",{value:"",children:"Tm"}),(_.data??[]).map(Y=>s.jsxs("option",{value:Y.id,children:["#",Y.id," - ",Y.name]},Y.id))]})]})]}),s.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:Y=>d(G=>({...G,includeInactive:Y.target.checked}))}),"Arivdeki alanlar dahil et"]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:D,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),s.jsx("button",{type:"button",onClick:R,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Z.map(Y=>s.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Y},Y))})]}),z?null:s.jsx(_t,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?s.jsx(Rt,{}):null,k.isError?s.jsx(_t,{message:Pe(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?s.jsxs(s.Fragment,{children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),s.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:O.worked})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Fazla Mesai"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:O.overtime})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),s.jsx("p",{className:"text-lg font-semibold",children:O.employeeCount})]})]})]}),A.length===0?s.jsx(Ce,{children:s.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):s.jsx(Ce,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"alan Says"}),s.jsx("th",{className:"py-2",children:"Toplam alma"}),s.jsx("th",{className:"py-2",children:"Toplam Fazla Mesai"})]})}),s.jsx("tbody",{children:A.map(Y=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsxs("td",{className:"py-2",children:["#",Y.department_id," - ",Y.department_name]}),s.jsx("td",{className:"py-2",children:Y.employee_count}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:Y.worked_minutes})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:Y.overtime_minutes})})]},Y.department_id))})]})})})]}):null]})}function Os({value:t,onChange:a,placeholder:l="Isme gore ara..."}){return s.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",s.jsx("input",{value:t,onChange:o=>a(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const hv=Ba({name:ya().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:id([fn().int().positive(),vf()])});function mv(t){if(It.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const a=Pe(t,"Departman olusturulamadi.");return a.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":a.message}function IA(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState(!1),[S,w]=j.useState(""),[C,z]=j.useState(null),[k,A]=j.useState(""),[O,Z]=j.useState(""),[D,R]=j.useState(null),V=Be({queryKey:["departments",S],queryFn:()=>RE(S?{region_id:Number(S)}:void 0)}),Y=Be({queryKey:["regions","departments-page"],queryFn:()=>md({include_inactive:!0})}),G=Ke({mutationFn:LE,onSuccess:F=>{o(""),m(""),R(null),_(!1),a({variant:"success",title:"Departman olusturuldu",description:`${F.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:F=>{const re=mv(F);R(re),a({variant:"error",title:"Departman olusturulamadi",description:re})}}),Q=Ke({mutationFn:({departmentId:F,name:re,regionIdValue:q})=>DE(F,{name:re,region_id:q}),onSuccess:F=>{R(null),z(null),A(""),Z(""),a({variant:"success",title:"Departman guncellendi",description:`${F.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:F=>{const re=mv(F);R(re),a({variant:"error",title:"Departman guncellenemedi",description:re})}}),J=F=>{F.preventDefault(),R(null);const re=d.trim()===""?null:Number(d),q=hv.safeParse({name:l,region_id:re});if(!q.success){const U=q.error.issues[0]?.message??"Departman alanlarini kontrol edin.";R(U),a({variant:"error",title:"Form hatasi",description:U});return}G.mutate({name:q.data.name,region_id:q.data.region_id})},ie=F=>{if(F.preventDefault(),R(null),!C)return;const re=O.trim()===""?null:Number(O),q=hv.safeParse({name:k,region_id:re});if(!q.success){const U=q.error.issues[0]?.message??"Departman alanlarini kontrol edin.";R(U),a({variant:"error",title:"Form hatasi",description:U});return}Q.mutate({departmentId:C,name:q.data.name,regionIdValue:q.data.region_id})},ye=V.data??[],te=Y.data??[],oe=j.useMemo(()=>new Map(te.map(F=>[F.id,F.name])),[te]),le=j.useMemo(()=>{const F=p.trim().toLowerCase();return F?ye.filter(re=>re.name.toLowerCase().includes(F)):ye},[ye,p]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:s.jsx("button",{type:"button",onClick:()=>_(F=>!F),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?s.jsxs(Ce,{children:[s.jsxs("form",{onSubmit:J,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",s.jsx("input",{value:l,onChange:F=>o(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",s.jsxs("select",{value:d,onChange:F=>m(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Bolge yok"}),te.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[s.jsx("button",{type:"submit",disabled:G.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Kaydediliyor...":"Kaydet"}),s.jsx("button",{type:"button",onClick:()=>{_(!1),R(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),D?s.jsx("div",{className:"form-validation",children:D}):null]}):null,C?s.jsxs(Ce,{children:[s.jsxs("form",{onSubmit:ie,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",s.jsx("input",{value:k,onChange:F=>A(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",s.jsxs("select",{value:O,onChange:F=>Z(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Bolge yok"}),te.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[s.jsx("button",{type:"submit",disabled:Q.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Q.isPending?"Guncelleniyor...":"Guncelle"}),s.jsx("button",{type:"button",onClick:()=>{z(null),A(""),Z(""),R(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),D?s.jsx("div",{className:"form-validation",children:D}):null]}):null,V.isLoading||Y.isLoading?s.jsx(Rt,{}):null,V.isError||Y.isError?s.jsx(_t,{message:"Departman verileri alinamadi."}):null,!V.isLoading&&!V.isError&&!Y.isLoading&&!Y.isError?s.jsxs(Ce,{children:[s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[s.jsx(Os,{value:p,onChange:y,placeholder:"Departman adina gore ara..."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",s.jsxs("select",{value:S,onChange:F=>w(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Tum bolgeler"}),te.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Departman ID"}),s.jsx("th",{className:"py-2",children:"Departman Adi"}),s.jsx("th",{className:"py-2",children:"Bolge"}),s.jsx("th",{className:"py-2",children:"Islem"})]})}),s.jsx("tbody",{children:le.map(F=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:F.id}),s.jsx("td",{className:"py-2",children:F.name}),s.jsx("td",{className:"py-2",children:F.region_name??(F.region_id?oe.get(F.region_id):"-")??"-"}),s.jsx("td",{className:"py-2",children:s.jsx("button",{type:"button",onClick:()=>{z(F.id),A(F.name),Z(F.region_id?String(F.region_id):""),R(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},F.id))})]})}),le.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Rs({value:t}){const a=t.toUpperCase();return a==="OK"||a==="AKTIF"||a==="APPROVED"?s.jsx("span",{className:"status-badge status-badge-ok",children:t}):a==="INCOMPLETE"?s.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):a==="LEAVE"?s.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):a==="OFF"?s.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):a==="PENDING"?s.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):a==="REJECTED"||a==="PASIF"?s.jsx("span",{className:"status-badge status-badge-danger",children:t}):s.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function UA(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function ZA(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState(""),[p,y]=j.useState(!0),[v,_]=j.useState(""),[S,w]=j.useState(1),[C,z]=j.useState(50),[k,A]=j.useState(null),O=l?Number(l):void 0,Z=O?0:(S-1)*C,D=Be({queryKey:["employee-device-overview-summary",O??null,d,p,v,S,C],queryFn:()=>pf({employee_id:O,region_id:d?Number(d):void 0,include_inactive:p,q:v.trim()||void 0,offset:Z,limit:O?1:C,device_limit:1})}),R=Be({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>pf({employee_id:k??void 0,include_inactive:!0,offset:0,limit:1,device_limit:100})}),V=Be({queryKey:["employees","all-for-devices"],queryFn:()=>ti({include_inactive:!0,status:"all"})}),Y=Be({queryKey:["regions","devices-page"],queryFn:()=>md({include_inactive:!0})}),G=Ke({mutationFn:({deviceId:le,isActive:F})=>g1(le,{is_active:F}),onSuccess:le=>{a({variant:"success",title:le.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${le.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:le=>{a({variant:"error",title:"Cihaz durumu gncellenemedi",description:Pe(le,"lem baarsz.").message})}}),Q=V.data??[],J=Y.data??[],ie=D.data??[],ye=R.data?.[0],te=!O&&ie.length===C,oe=!O&&S>1;return D.isLoading||V.isLoading||Y.isLoading?s.jsx(Rt,{}):D.isError?s.jsx(_t,{message:Pe(D.error,"Cihaz verisi alnamad.").message}):V.isError?s.jsx(_t,{message:Pe(V.error,"alan listesi alnamad.").message}):Y.isError?s.jsx(_t,{message:Pe(Y.error,"Bolge listesi alinamadi.").message}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[s.jsx(Ra,{label:"alan filtresi",employees:Q,value:l,onChange:le=>{o(le),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",s.jsx("input",{type:"text",value:v,onChange:le=>{_(le.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",s.jsxs("select",{value:C,onChange:le=>{z(Number(le.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",s.jsxs("select",{value:d,onChange:le=>{m(le.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Tum bolgeler"}),J.map(le=>s.jsx("option",{value:le.id,children:le.name},le.id))]})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:le=>{y(le.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),O?null:s.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",disabled:!oe,onClick:()=>{w(le=>Math.max(1,le-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),s.jsx("button",{type:"button",disabled:!te,onClick:()=>{w(le=>le+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),s.jsxs(Ce,{children:[s.jsx("div",{className:"max-h-[68vh] overflow-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2",children:"alan"}),s.jsx("th",{className:"px-2 py-2",children:"Departman"}),s.jsx("th",{className:"px-2 py-2",children:"Durum"}),s.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),s.jsx("th",{className:"px-2 py-2",children:"Token"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),s.jsx("tbody",{children:ie.map(le=>{const F=k===le.employee_id;return s.jsxs(j.Fragment,{children:[s.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[s.jsx("td",{className:"px-2 py-2",children:s.jsxs("div",{className:"font-medium text-slate-900",children:["#",le.employee_id," - ",le.employee_name]})}),s.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:le.department_name??le.department_id??"-"}),s.jsx("td",{className:"px-2 py-2",children:s.jsx(Rs,{value:le.is_employee_active?"Aktif":"Pasif"})}),s.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[s.jsx("span",{className:"font-semibold",children:le.active_devices})," aktif / ",le.total_devices," toplam"]}),s.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",le.token_used," B:",le.token_pending," D:",le.token_expired," T:",le.token_total]}),s.jsx("td",{className:"px-2 py-2 text-right",children:s.jsx("button",{type:"button",onClick:()=>{A(re=>re===le.employee_id?null:le.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:F?"Kapat":"Cihazlar Ynet"})})]}),F?s.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:s.jsx("td",{colSpan:6,className:"px-2 py-3",children:R.isLoading?s.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):R.isError?s.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):ye?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-xs",children:[s.jsx("thead",{className:"uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Cihaz ID"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Fingerprint"}),s.jsx("th",{className:"py-2",children:"Oluturulma"}),s.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),s.jsx("tbody",{children:ye.devices.map(re=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:re.id}),s.jsx("td",{className:"py-2",children:s.jsx(Rs,{value:re.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"py-2 font-mono",children:re.device_fingerprint}),s.jsx("td",{className:"py-2",children:UA(re.created_at)}),s.jsx("td",{className:"py-2 text-right",children:s.jsx("button",{type:"button",disabled:G.isPending,onClick:()=>G.mutate({deviceId:re.id,isActive:!re.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${re.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:re.is_active?"Pasife Al":"Aktif Et"})})]},re.id))})]}),ye.has_more_devices?s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,ye.devices.length===0?s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):s.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},le.employee_id)})})]})}),ie.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]})]})}function qA(){const t=zn(),{pushToast:a}=Mn(),l=Be({queryKey:["compliance-settings"],queryFn:j1}),[o,d]=j.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});j.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const m=Ke({mutationFn:S1,onSuccess:()=>{a({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{a({variant:"error",title:"Kayit hatasi",description:Pe(p,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?s.jsx(Rt,{}):l.isError?s.jsx(_t,{message:Pe(l.error,"Uyumluluk ayarlari alinamadi.").message}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),s.jsx(Ce,{children:s.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),m.mutate(o)},children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",s.jsx("input",{value:o.name,onChange:p=>d(y=>({...y,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",s.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(y=>({...y,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",s.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(y=>({...y,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",s.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(y=>({...y,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",s.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(y=>({...y,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",s.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(y=>({...y,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",s.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(y=>({...y,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",s.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(y=>({...y,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"OFF",children:"OFF"}),s.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[s.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(y=>({...y,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[s.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(y=>({...y,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",disabled:m.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),s.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),s.jsx("p",{className:"font-semibold",children:s.jsx(rt,{minutes:o.weekly_normal_minutes_default})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),s.jsx("p",{className:"font-semibold",children:s.jsx(rt,{minutes:o.daily_max_minutes})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),s.jsx("p",{className:"font-semibold",children:s.jsx(rt,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const FA=Ba({username:ya().min(1,"Kullanici adi gerekli."),password:ya().min(1,"Sifre gerekli.")});function HA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function KA(t){return t.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":t.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function QA(){const[t]=Pf(),[a,l]=j.useState("admin"),[o,d]=j.useState(""),[m,p]=j.useState(null),[y,v]=j.useState(null),[_,S]=j.useState(!1),w=j.useMemo(()=>{const z=t.get("archive_id");if(!z)return null;const k=Number(z);return!Number.isInteger(k)||k<=0?null:k},[t]),C=async z=>{if(z.preventDefault(),p(null),v(null),!w){p({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const k=FA.safeParse({username:a,password:o});if(!k.success){p({message:k.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}S(!0);try{const A=await f1(w,k.data),O=A.file_name??`arsiv-${w}.xlsx`;HA(A.blob,O),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){p(Pe(A,"Excel dosyasi indirilemedi."))}finally{S(!1)}};return s.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:s.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),s.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),s.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),s.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:a,onChange:z=>l(z.target.value)})]}),s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),s.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),m?s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[s.jsx("p",{className:"font-semibold",children:KA(m)}),s.jsx("p",{className:"mt-1",children:m.message}),m.requestId?s.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",m.requestId]}):null]}):null,y?s.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:y}):null,s.jsx("button",{type:"submit",disabled:_||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),s.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[bi.signatureText," | BUILD: ",bi.buildVersion]})]})})}const Jf=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Go(){return Object.fromEntries(Jf.map(t=>[t.key,{read:!1,write:!1}]))}function VA(t){const a=Go();return t&&Jf.forEach(({key:l})=>{const o=t[l];o&&(a[l]={read:!!(o.read||o.write),write:!!o.write})}),a}function fv({value:t,disabled:a=!1,onChange:l}){const o=(d,m,p)=>{const v={...t[d]??{read:!1,write:!1}};m==="read"?(v.read=p,p||(v.write=!1)):(v.write=p,p&&(v.read=!0)),l({...t,[d]:v})};return s.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:"Modul"}),s.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),s.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),s.jsx("tbody",{children:Jf.map(d=>{const m=t[d.key]??{read:!1,write:!1};return s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"px-3 py-2",children:d.label}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox",checked:m.read,disabled:a,onChange:p=>o(d.key,"read",p.target.checked)})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox",checked:m.write,disabled:a,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function pv(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Go()}}function GA(){const t=zn(),{pushToast:a}=Mn(),{hasPermission:l,isSuperAdmin:o}=Pl(),d=l("admin_users"),m=l("admin_users","write"),[p,y]=j.useState(pv()),[v,_]=j.useState(null),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(""),[O,Z]=j.useState(!0),[D,R]=j.useState(!1),[V,Y]=j.useState(Go()),G=Be({queryKey:["admin-users"],queryFn:i_,enabled:d}),Q=Ke({mutationFn:zE,onSuccess:()=>{a({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),y(pv()),t.invalidateQueries({queryKey:["admin-users"]})},onError:F=>{const re=Pe(F,"Admin kullanici olusturulamadi.");a({variant:"error",title:"Kayit basarisiz",description:re.message})}}),J=Ke({mutationFn:({userId:F,payload:re})=>ME(F,re),onSuccess:()=>{a({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),_(null),A(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:F=>{const re=Pe(F,"Admin kullanici guncellenemedi.");a({variant:"error",title:"Guncelleme basarisiz",description:re.message})}}),ie=Ke({mutationFn:OE,onSuccess:()=>{a({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:F=>{const re=Pe(F,"Admin kullanici silinemedi.");a({variant:"error",title:"Silme basarisiz",description:re.message})}}),ye=j.useMemo(()=>[...G.data??[]].sort((re,q)=>re.username.localeCompare(q.username)),[G.data]);if(!d)return s.jsx(_t,{message:"Bu alani goruntuleme yetkiniz yok."});if(G.isLoading)return s.jsx(Rt,{label:"Admin kullanicilar yukleniyor..."});if(G.isError)return s.jsx(_t,{message:"Admin kullanici listesi alinamadi."});const te=F=>{if(F.preventDefault(),!!m){if(!o){a({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}Q.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?Go():p.permissions})}},oe=F=>{_(F),w(F.username),z(F.full_name??""),A(""),Z(F.is_active),R(F.is_super_admin),Y(VA(F.permissions))},le=F=>{F.preventDefault(),!(!v||!m)&&J.mutate({userId:v.id,payload:{username:S.trim(),full_name:C.trim()||null,password:k.trim()?k:void 0,is_active:O,is_super_admin:D,permissions:D?Go():V}})};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),s.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",s.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:s.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),s.jsxs("form",{onSubmit:te,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",s.jsx("input",{value:p.username,onChange:F=>y(re=>({...re,username:F.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",s.jsx("input",{value:p.full_name,onChange:F=>y(re=>({...re,full_name:F.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",s.jsx("input",{type:"password",value:p.password,onChange:F=>y(re=>({...re,password:F.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!m||!o,onChange:F=>y(re=>({...re,is_active:F.target.checked}))}),"Aktif"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!m||!o,onChange:F=>y(re=>({...re,is_super_admin:F.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?s.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):s.jsx(fv,{value:p.permissions,disabled:!m||!o,onChange:F=>y(re=>({...re,permissions:F}))}),s.jsx("button",{type:"submit",disabled:!m||!o||Q.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Q.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{className:"py-2",children:"Kullanici"}),s.jsx("th",{className:"py-2",children:"Ad Soyad"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Rol"}),s.jsx("th",{className:"py-2",children:"Islem"})]})}),s.jsx("tbody",{children:ye.map(F=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:F.id}),s.jsx("td",{className:"py-2 font-medium text-slate-900",children:F.username}),s.jsx("td",{className:"py-2",children:F.full_name??"-"}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${F.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:F.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"py-2",children:F.is_super_admin?"Super Admin":"Yetkili Admin"}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",disabled:!m||!o,onClick:()=>oe(F),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),s.jsx("button",{type:"button",disabled:!m||!o||ie.isPending,onClick:()=>{window.confirm(`${F.username} kullanicisini silmek istediginize emin misiniz?`)&&ie.mutate(F.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},F.id))})]})}),ye.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),s.jsx(Xo,{open:!!v,title:"Admin Kullanici Duzenle",onClose:()=>{_(null),A("")},children:v?s.jsxs("form",{onSubmit:le,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",s.jsx("input",{value:S,onChange:F=>w(F.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",s.jsx("input",{value:C,onChange:F=>z(F.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",s.jsx("input",{type:"password",value:k,onChange:F=>A(F.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:O,disabled:!m||!o,onChange:F=>Z(F.target.checked)}),"Aktif"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:D,disabled:!m||!o,onChange:F=>R(F.target.checked)}),"Super Admin"]})]}),D?s.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):s.jsx(fv,{value:V,disabled:!m||!o,onChange:Y}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{_(null),A("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),s.jsx("button",{type:"submit",disabled:!m||!o||J.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:J.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function gv({label:t,value:a,onCopy:l}){return s.jsxs("label",{className:"block text-sm text-slate-700",children:[t,s.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[s.jsx("input",{readOnly:!0,value:a,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),s.jsx("button",{type:"button",onClick:()=>l(a),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Vo={exports:{}};var YA=Vo.exports,yv;function $A(){return yv||(yv=1,(function(t,a){(function(l,o){o(a)})(YA,(function(l){var o="1.9.4";function d(i){var u,h,x,b;for(h=1,x=arguments.length;h<x;h++){b=arguments[h];for(u in b)i[u]=b[u]}return i}var m=Object.create||(function(){function i(){}return function(u){return i.prototype=u,new i}})();function p(i,u){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var x=h.call(arguments,2);return function(){return i.apply(u,x.length?x.concat(h.call(arguments)):arguments)}}var y=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++y),i._leaflet_id}function _(i,u,h){var x,b,E,I;return I=function(){x=!1,b&&(E.apply(h,b),b=!1)},E=function(){x?b=arguments:(i.apply(h,arguments),setTimeout(I,u),x=!0)},E}function S(i,u,h){var x=u[1],b=u[0],E=x-b;return i===x&&h?i:((i-b)%E+E)%E+b}function w(){return!1}function C(i,u){if(u===!1)return i;var h=Math.pow(10,u===void 0?6:u);return Math.round(i*h)/h}function z(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function k(i){return z(i).split(/\s+/)}function A(i,u){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?m(i.options):{});for(var h in u)i.options[h]=u[h];return i.options}function O(i,u,h){var x=[];for(var b in i)x.push(encodeURIComponent(h?b.toUpperCase():b)+"="+encodeURIComponent(i[b]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function D(i,u){return i.replace(Z,function(h,x){var b=u[x];if(b===void 0)throw new Error("No value provided for variable "+h);return typeof b=="function"&&(b=b(u)),b})}var R=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function V(i,u){for(var h=0;h<i.length;h++)if(i[h]===u)return h;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Q=0;function J(i){var u=+new Date,h=Math.max(0,16-(u-Q));return Q=u+h,window.setTimeout(i,h)}var ie=window.requestAnimationFrame||G("RequestAnimationFrame")||J,ye=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function te(i,u,h){if(h&&ie===J)i.call(u);else return ie.call(window,p(i,u))}function oe(i){i&&ye.call(window,i)}var le={__proto__:null,extend:d,create:m,bind:p,get lastId(){return y},stamp:v,throttle:_,wrapNum:S,falseFn:w,formatNum:C,trim:z,splitWords:k,setOptions:A,getParamString:O,template:D,isArray:R,indexOf:V,emptyImageUrl:Y,requestFn:ie,cancelFn:ye,requestAnimFrame:te,cancelAnimFrame:oe};function F(){}F.extend=function(i){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,x=m(h);x.constructor=u,u.prototype=x;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return i.statics&&d(u,i.statics),i.includes&&(re(i.includes),d.apply(null,[x].concat(i.includes))),d(x,i),delete x.statics,delete x.includes,x.options&&(x.options=h.options?m(h.options):{},d(x.options,i.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,I=x._initHooks.length;E<I;E++)x._initHooks[E].call(this)}},u},F.include=function(i){var u=this.prototype.options;return d(this.prototype,i),i.options&&(this.prototype.options=u,this.mergeOptions(i.options)),this},F.mergeOptions=function(i){return d(this.prototype.options,i),this},F.addInitHook=function(i){var u=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function re(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=R(i)?i:[i];for(var u=0;u<i.length;u++)i[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(i,u,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],u);else{i=k(i);for(var b=0,E=i.length;b<E;b++)this._on(i[b],u,h)}return this},off:function(i,u,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var x in i)this._off(x,i[x],u);else{i=k(i);for(var b=arguments.length===1,E=0,I=i.length;E<I;E++)b?this._off(i[E]):this._off(i[E],u,h)}return this},_on:function(i,u,h,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(i,u,h)===!1){h===this&&(h=void 0);var b={fn:u,ctx:h};x&&(b.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(b)}},_off:function(i,u,h){var x,b,E;if(this._events&&(x=this._events[i],!!x)){if(arguments.length===1){if(this._firingCount)for(b=0,E=x.length;b<E;b++)x[b].fn=w;delete this._events[i];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var I=this._listens(i,u,h);if(I!==!1){var se=x[I];this._firingCount&&(se.fn=w,this._events[i]=x=x.slice()),x.splice(I,1)}}},fire:function(i,u,h){if(!this.listens(i,h))return this;var x=d({},u,{type:i,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[i];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,I=b.length;E<I;E++){var se=b[E],me=se.fn;se.once&&this.off(i,me,se.ctx),me.call(se.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(i,u,h,x){typeof i!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(x=!!u,b=void 0,h=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,b,h)!==!1)return!0;if(x){for(var I in this._eventParents)if(this._eventParents[I].listens(i,u,h,x))return!0}return!1},_listens:function(i,u,h){if(!this._events)return!1;var x=this._events[i]||[];if(!u)return!!x.length;h===this&&(h=void 0);for(var b=0,E=x.length;b<E;b++)if(x[b].fn===u&&x[b].ctx===h)return b;return!1},once:function(i,u,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],u,!0);else{i=k(i);for(var b=0,E=i.length;b<E;b++)this._on(i[b],u,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var u in this._eventParents)this._eventParents[u].fire(i.type,d({layer:i.target,propagatedFrom:i.target},i),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var U=F.extend(q);function ce(i,u,h){this.x=h?Math.round(i):i,this.y=h?Math.round(u):u}var ke=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(i){return this.clone()._add(W(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(W(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ce(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ce(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ke(this.x),this.y=ke(this.y),this},distanceTo:function(i){i=W(i);var u=i.x-this.x,h=i.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(i){return i=W(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=W(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function W(i,u,h){return i instanceof ce?i:R(i)?new ce(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ce(i.x,i.y):new ce(i,u,h)}function M(i,u){if(i)for(var h=u?[i,u]:i,x=0,b=h.length;x<b;x++)this.extend(h[x])}M.prototype={extend:function(i){var u,h;if(!i)return this;if(i instanceof ce||typeof i[0]=="number"||"x"in i)u=h=W(i);else if(i=ae(i),u=i.min,h=i.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var u,h;return typeof i[0]=="number"||i instanceof ce?i=W(i):i=ae(i),i instanceof M?(u=i.min,h=i.max):u=h=i,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=ae(i);var u=this.min,h=this.max,x=i.min,b=i.max,E=b.x>=u.x&&x.x<=h.x,I=b.y>=u.y&&x.y<=h.y;return E&&I},overlaps:function(i){i=ae(i);var u=this.min,h=this.max,x=i.min,b=i.max,E=b.x>u.x&&x.x<h.x,I=b.y>u.y&&x.y<h.y;return E&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var u=this.min,h=this.max,x=Math.abs(u.x-h.x)*i,b=Math.abs(u.y-h.y)*i;return ae(W(u.x-x,u.y-b),W(h.x+x,h.y+b))},equals:function(i){return i?(i=ae(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ae(i,u){return!i||i instanceof M?i:new M(i,u)}function P(i,u){if(i)for(var h=u?[i,u]:i,x=0,b=h.length;x<b;x++)this.extend(h[x])}P.prototype={extend:function(i){var u=this._southWest,h=this._northEast,x,b;if(i instanceof xe)x=i,b=i;else if(i instanceof P){if(x=i._southWest,b=i._northEast,!x||!b)return this}else return i?this.extend(we(i)||K(i)):this;return!u&&!h?(this._southWest=new xe(x.lat,x.lng),this._northEast=new xe(b.lat,b.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),h.lat=Math.max(b.lat,h.lat),h.lng=Math.max(b.lng,h.lng)),this},pad:function(i){var u=this._southWest,h=this._northEast,x=Math.abs(u.lat-h.lat)*i,b=Math.abs(u.lng-h.lng)*i;return new P(new xe(u.lat-x,u.lng-b),new xe(h.lat+x,h.lng+b))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof xe||"lat"in i?i=we(i):i=K(i);var u=this._southWest,h=this._northEast,x,b;return i instanceof P?(x=i.getSouthWest(),b=i.getNorthEast()):x=b=i,x.lat>=u.lat&&b.lat<=h.lat&&x.lng>=u.lng&&b.lng<=h.lng},intersects:function(i){i=K(i);var u=this._southWest,h=this._northEast,x=i.getSouthWest(),b=i.getNorthEast(),E=b.lat>=u.lat&&x.lat<=h.lat,I=b.lng>=u.lng&&x.lng<=h.lng;return E&&I},overlaps:function(i){i=K(i);var u=this._southWest,h=this._northEast,x=i.getSouthWest(),b=i.getNorthEast(),E=b.lat>u.lat&&x.lat<h.lat,I=b.lng>u.lng&&x.lng<h.lng;return E&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,u){return i?(i=K(i),this._southWest.equals(i.getSouthWest(),u)&&this._northEast.equals(i.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(i,u){return i instanceof P?i:new P(i,u)}function xe(i,u,h){if(isNaN(i)||isNaN(u))throw new Error("Invalid LatLng object: ("+i+", "+u+")");this.lat=+i,this.lng=+u,h!==void 0&&(this.alt=+h)}xe.prototype={equals:function(i,u){if(!i)return!1;i=we(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(u===void 0?1e-9:u)},toString:function(i){return"LatLng("+C(this.lat,i)+", "+C(this.lng,i)+")"},distanceTo:function(i){return Fe.distance(this,we(i))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(i){var u=180*i/40075017,h=u/Math.cos(Math.PI/180*this.lat);return K([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function we(i,u,h){return i instanceof xe?i:R(i)&&typeof i[0]!="object"?i.length===3?new xe(i[0],i[1],i[2]):i.length===2?new xe(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new xe(i.lat,"lng"in i?i.lng:i.lon,i.alt):u===void 0?null:new xe(i,u,h)}var Me={latLngToPoint:function(i,u){var h=this.projection.project(i),x=this.scale(u);return this.transformation._transform(h,x)},pointToLatLng:function(i,u){var h=this.scale(u),x=this.transformation.untransform(i,h);return this.projection.unproject(x)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(i),x=this.transformation.transform(u.min,h),b=this.transformation.transform(u.max,h);return new M(x,b)},infinite:!1,wrapLatLng:function(i){var u=this.wrapLng?S(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?S(i.lat,this.wrapLat,!0):i.lat,x=i.alt;return new xe(h,u,x)},wrapLatLngBounds:function(i){var u=i.getCenter(),h=this.wrapLatLng(u),x=u.lat-h.lat,b=u.lng-h.lng;if(x===0&&b===0)return i;var E=i.getSouthWest(),I=i.getNorthEast(),se=new xe(E.lat-x,E.lng-b),me=new xe(I.lat-x,I.lng-b);return new P(se,me)}},Fe=d({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(i,u){var h=Math.PI/180,x=i.lat*h,b=u.lat*h,E=Math.sin((u.lat-i.lat)*h/2),I=Math.sin((u.lng-i.lng)*h/2),se=E*E+Math.cos(x)*Math.cos(b)*I*I,me=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*me}}),He=6378137,lt={R:He,MAX_LATITUDE:85.0511287798,project:function(i){var u=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,i.lat),-h),b=Math.sin(x*u);return new ce(this.R*i.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(i){var u=180/Math.PI;return new xe((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*u,i.x*u/this.R)},bounds:(function(){var i=He*Math.PI;return new M([-i,-i],[i,i])})()};function at(i,u,h,x){if(R(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=u,this._c=h,this._d=x}at.prototype={transform:function(i,u){return this._transform(i.clone(),u)},_transform:function(i,u){return u=u||1,i.x=u*(this._a*i.x+this._b),i.y=u*(this._c*i.y+this._d),i},untransform:function(i,u){return u=u||1,new ce((i.x/u-this._b)/this._a,(i.y/u-this._d)/this._c)}};function Ee(i,u,h,x){return new at(i,u,h,x)}var Ve=d({},Fe,{code:"EPSG:3857",projection:lt,transformation:(function(){var i=.5/(Math.PI*lt.R);return Ee(i,.5,-i,.5)})()}),St=d({},Ve,{code:"EPSG:900913"});function Bt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ft(i,u){var h="",x,b,E,I,se,me;for(x=0,E=i.length;x<E;x++){for(se=i[x],b=0,I=se.length;b<I;b++)me=se[b],h+=(b?"L":"M")+me.x+" "+me.y;h+=u?Le.svg?"z":"x":""}return h||"M0 0"}var ln=document.documentElement.style,on="ActiveXObject"in window,Nn=on&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),Te=Rn("webkit"),$e=Rn("android"),Lt=Rn("android 2")||Rn("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ve=$e&&Rn("Google")&&Xe<537&&!("AudioNode"in window),X=!!window.opera,Oe=!ee&&Rn("chrome"),Tt=Rn("gecko")&&!Te&&!X&&!on,Je=!Oe&&Rn("safari"),pn=Rn("phantom"),ue="OTransition"in ln,We=navigator.platform.indexOf("Win")===0,bt=on&&"transition"in ln,Ut="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lt,On="MozPerspective"in ln,gn=!window.L_DISABLE_3D&&(bt||Ut||On)&&!ue&&!pn,Ia=typeof orientation<"u"||Rn("mobile"),Bs=Ia&&Te,Is=Ia&&Ut,Ua=!window.PointerEvent&&window.MSPointerEvent,Za=!!(window.PointerEvent||Ua),ni="ontouchstart"in window||!!window.TouchEvent,va=!window.L_NO_TOUCH&&(ni||Za),ai=Ia&&X,sa=Ia&&Tt,Rr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lr=(function(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return i})(),Us=(function(){return!!document.createElement("canvas").getContext})(),ra=!!(document.createElementNS&&Bt("svg").createSVGRect),Il=!!ra&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ni=!ra&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var u=i.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Dr=navigator.platform.indexOf("Mac")===0,Pr=navigator.platform.indexOf("Linux")===0;function Rn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Le={ie:on,ielt9:Nn,edge:ee,webkit:Te,android:$e,android23:Lt,androidStock:ve,opera:X,chrome:Oe,gecko:Tt,safari:Je,phantom:pn,opera12:ue,win:We,ie3d:bt,webkit3d:Ut,gecko3d:On,any3d:gn,mobile:Ia,mobileWebkit:Bs,mobileWebkit3d:Is,msPointer:Ua,pointer:Za,touch:va,touchNative:ni,mobileOpera:ai,mobileGecko:sa,retina:Rr,passiveEvents:Lr,canvas:Us,svg:ra,vml:Ni,inlineSvg:Il,mac:Dr,linux:Pr},Zs=Le.msPointer?"MSPointerDown":"pointerdown",Gi=Le.msPointer?"MSPointerMove":"pointermove",la=Le.msPointer?"MSPointerUp":"pointerup",Xt=Le.msPointer?"MSPointerCancel":"pointercancel",un={touchstart:Zs,touchmove:Gi,touchend:la,touchcancel:Xt},qa={touchstart:Fa,touchmove:Ln,touchend:Ln,touchcancel:Ln},_a={},Br=!1;function Ul(i,u,h){return u==="touchstart"&&pt(),qa[u]?(h=qa[u].bind(this,h),i.addEventListener(un[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function Ir(i,u,h){if(!un[u]){console.warn("wrong event specified:",u);return}i.removeEventListener(un[u],h,!1)}function ji(i){_a[i.pointerId]=i}function B(i){_a[i.pointerId]&&(_a[i.pointerId]=i)}function Re(i){delete _a[i.pointerId]}function pt(){Br||(document.addEventListener(Zs,ji,!0),document.addEventListener(Gi,B,!0),document.addEventListener(la,Re,!0),document.addEventListener(Xt,Re,!0),Br=!0)}function Ln(i,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in _a)u.touches.push(_a[h]);u.changedTouches=[u],i(u)}}function Fa(i,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Jt(u),Ln(i,u)}function Gt(i){var u={},h,x;for(x in i)h=i[x],u[x]=h&&h.bind?h.bind(i):h;return i=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var qs=200;function ou(i,u){i.addEventListener("dblclick",u);var h=0,x;function b(E){if(E.detail!==1){x=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var I=Ys(E);if(!(I.some(function(me){return me instanceof HTMLLabelElement&&me.attributes.for})&&!I.some(function(me){return me instanceof HTMLInputElement||me instanceof HTMLSelectElement}))){var se=Date.now();se-h<=qs?(x++,x===2&&u(Gt(E))):x=1,h=se}}}return i.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Si(i,u){i.removeEventListener("dblclick",u.dblclick),i.removeEventListener("click",u.simDblclick)}var ii=Ks(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fs=Ks(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zl=Fs==="webkitTransition"||Fs==="OTransition"?Fs+"End":"transitionend";function ql(i){return typeof i=="string"?document.getElementById(i):i}function Hs(i,u){var h=i.style[u]||i.currentStyle&&i.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(i,null);h=x?x[u]:null}return h==="auto"?null:h}function ot(i,u,h){var x=document.createElement(i);return x.className=u||"",h&&h.appendChild(x),x}function Ct(i){var u=i.parentNode;u&&u.removeChild(i)}function Kn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function yn(i){var u=i.parentNode;u&&u.lastChild!==i&&u.appendChild(i)}function wi(i){var u=i.parentNode;u&&u.firstChild!==i&&u.insertBefore(i,u.firstChild)}function Fl(i,u){if(i.classList!==void 0)return i.classList.contains(u);var h=Ur(i);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function et(i,u){if(i.classList!==void 0)for(var h=k(u),x=0,b=h.length;x<b;x++)i.classList.add(h[x]);else if(!Fl(i,u)){var E=Ur(i);Yi(i,(E?E+" ":"")+u)}}function Ht(i,u){i.classList!==void 0?i.classList.remove(u):Yi(i,z((" "+Ur(i)+" ").replace(" "+u+" "," ")))}function Yi(i,u){i.className.baseVal===void 0?i.className=u:i.className.baseVal=u}function Ur(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Zt(i,u){"opacity"in i.style?i.style.opacity=u:"filter"in i.style&&Hl(i,u)}function Hl(i,u){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):i.style.filter+=" progid:"+x+"(opacity="+u+")"}function Ks(i){for(var u=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in u)return i[h];return!1}function Ha(i,u,h){var x=u||new ce(0,0);i.style[ii]=(Le.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function Dt(i,u){i._leaflet_pos=u,Le.any3d?Ha(i,u):(i.style.left=u.x+"px",i.style.top=u.y+"px")}function si(i){return i._leaflet_pos||new ce(0,0)}var $i,ba,Kl;if("onselectstart"in document)$i=function(){Ge(window,"selectstart",Jt)},ba=function(){jt(window,"selectstart",Jt)};else{var Xi=Ks(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$i=function(){if(Xi){var i=document.documentElement.style;Kl=i[Xi],i[Xi]="none"}},ba=function(){Xi&&(document.documentElement.style[Xi]=Kl,Kl=void 0)}}function Zr(){Ge(window,"dragstart",Jt)}function Qs(){jt(window,"dragstart",Jt)}var qr,Ql;function Ji(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Qn(),qr=i,Ql=i.style.outlineStyle,i.style.outlineStyle="none",Ge(window,"keydown",Qn))}function Qn(){qr&&(qr.style.outlineStyle=Ql,qr=void 0,Ql=void 0,jt(window,"keydown",Qn))}function Fr(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Vs(i){var u=i.getBoundingClientRect();return{x:u.width/i.offsetWidth||1,y:u.height/i.offsetHeight||1,boundingClientRect:u}}var Wi={__proto__:null,TRANSFORM:ii,TRANSITION:Fs,TRANSITION_END:Zl,get:ql,getStyle:Hs,create:ot,remove:Ct,empty:Kn,toFront:yn,toBack:wi,hasClass:Fl,addClass:et,removeClass:Ht,setClass:Yi,getClass:Ur,setOpacity:Zt,testProp:Ks,setTransform:Ha,setPosition:Dt,getPosition:si,get disableTextSelection(){return $i},get enableTextSelection(){return ba},disableImageDrag:Zr,enableImageDrag:Qs,preventOutline:Ji,restoreOutline:Qn,getSizedParentNode:Fr,getScale:Vs};function Ge(i,u,h,x){if(u&&typeof u=="object")for(var b in u)ua(i,b,u[b],h);else{u=k(u);for(var E=0,I=u.length;E<I;E++)ua(i,u[E],h,x)}return this}var oa="_leaflet_events";function jt(i,u,h,x){if(arguments.length===1)Vl(i),delete i[oa];else if(u&&typeof u=="object")for(var b in u)Gs(i,b,u[b],h);else if(u=k(u),arguments.length===2)Vl(i,function(se){return V(u,se)!==-1});else for(var E=0,I=u.length;E<I;E++)Gs(i,u[E],h,x);return this}function Vl(i,u){for(var h in i[oa]){var x=h.split(/\d/)[0];(!u||u(x))&&Gs(i,x,null,null,h)}}var Ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ua(i,u,h,x){var b=u+v(h)+(x?"_"+v(x):"");if(i[oa]&&i[oa][b])return this;var E=function(se){return h.call(x||i,se||window.event)},I=E;!Le.touchNative&&Le.pointer&&u.indexOf("touch")===0?E=Ul(i,u,E):Le.touch&&u==="dblclick"?E=ou(i,E):"addEventListener"in i?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?i.addEventListener(Ei[u]||u,E,Le.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(se){se=se||window.event,Ka(i,se)&&I(se)},i.addEventListener(Ei[u],E,!1)):i.addEventListener(u,I,!1):i.attachEvent("on"+u,E),i[oa]=i[oa]||{},i[oa][b]=E}function Gs(i,u,h,x,b){b=b||u+v(h)+(x?"_"+v(x):"");var E=i[oa]&&i[oa][b];if(!E)return this;!Le.touchNative&&Le.pointer&&u.indexOf("touch")===0?Ir(i,u,E):Le.touch&&u==="dblclick"?Si(i,E):"removeEventListener"in i?i.removeEventListener(Ei[u]||u,E,!1):i.detachEvent("on"+u,E),i[oa][b]=null}function ca(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Na(i){return ua(i,"wheel",ca),this}function ki(i){return Ge(i,"mousedown touchstart dblclick contextmenu",ca),i._leaflet_disable_click=!0,this}function Jt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ri(i){return Jt(i),ca(i),this}function Ys(i){if(i.composedPath)return i.composedPath();for(var u=[],h=i.target;h;)u.push(h),h=h.parentNode;return u}function $s(i,u){if(!u)return new ce(i.clientX,i.clientY);var h=Vs(u),x=h.boundingClientRect;return new ce((i.clientX-x.left)/h.x-u.clientLeft,(i.clientY-x.top)/h.y-u.clientTop)}var uu=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function En(i){return Le.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/uu:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ka(i,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Hr={__proto__:null,on:Ge,off:jt,stopPropagation:ca,disableScrollPropagation:Na,disableClickPropagation:ki,preventDefault:Jt,stop:ri,getPropagationPath:Ys,getMousePosition:$s,getWheelDelta:En,isExternalTarget:Ka,addListener:Ge,removeListener:jt},es=U.extend({run:function(i,u,h,x){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=si(i),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(i){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,u){var h=this._startPos.add(this._offset.multiplyBy(i));u&&h._round(),Dt(this._el,h),this.fire("step")},_complete:function(){oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ht=U.extend({options:{crs:Ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(we(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fs&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,Zl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),i=this._limitCenter(we(i),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,u,h.zoom):this._tryAnimatedPan(i,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(i,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,u){return this._loaded?this.setView(this.getCenter(),i,{zoom:u}):(this._zoom=i,this)},zoomIn:function(i,u){return i=i||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,u)},zoomOut:function(i,u){return i=i||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,u)},setZoomAround:function(i,u,h){var x=this.getZoomScale(u),b=this.getSize().divideBy(2),E=i instanceof ce?i:this.latLngToContainerPoint(i),I=E.subtract(b).multiplyBy(1-1/x),se=this.containerPointToLatLng(b.add(I));return this.setView(se,u,{zoom:h})},_getBoundsCenterZoom:function(i,u){u=u||{},i=i.getBounds?i.getBounds():K(i);var h=W(u.paddingTopLeft||u.padding||[0,0]),x=W(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(i,!1,h.add(x));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:i.getCenter(),zoom:b};var E=x.subtract(h).divideBy(2),I=this.project(i.getSouthWest(),b),se=this.project(i.getNorthEast(),b),me=this.unproject(I.add(se).divideBy(2).add(E),b);return{center:me,zoom:b}},fitBounds:function(i,u){if(i=K(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,u){return this.setView(i,this._zoom,{pan:u})},panBy:function(i,u){if(i=W(i).round(),u=u||{},!i.x&&!i.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new es,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){et(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,u,h){if(h=h||{},h.animate===!1||!Le.any3d)return this.setView(i,u,h);this._stop();var x=this.project(this.getCenter()),b=this.project(i),E=this.getSize(),I=this._zoom;i=we(i),u=u===void 0?I:u;var se=Math.max(E.x,E.y),me=se*this.getZoomScale(I,u),je=b.distanceTo(x)||1,Ae=1.42,Ue=Ae*Ae;function it(Yt){var Ya=Yt?-1:1,zi=Yt?me:se,oo=me*me-se*se+Ya*Ue*Ue*je*je,hr=2*zi*Ue*je,mr=oo/hr,pi=Math.sqrt(mr*mr+1)-mr,$a=pi<1e-9?-18:Math.log(pi);return $a}function xn(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function Wt(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}function Zn(Yt){return xn(Yt)/Wt(Yt)}var gt=it(0);function yt(Yt){return se*(Wt(gt)/Wt(gt+Ae*Yt))}function ut(Yt){return se*(Wt(gt)*Zn(gt+Ae*Yt)-xn(gt))/Ue}function mi(Yt){return 1-Math.pow(1-Yt,1.5)}var $n=Date.now(),il=(it(1)-gt)/Ae,fi=h.duration?1e3*h.duration:1e3*il*.8;function lo(){var Yt=(Date.now()-$n)/fi,Ya=mi(Yt)*il;Yt<=1?(this._flyToFrame=te(lo,this),this._move(this.unproject(x.add(b.subtract(x).multiplyBy(ut(Ya)/je)),I),this.getScaleZoom(se/yt(Ya),I),{flyTo:!0})):this._move(i,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),lo.call(this),this},flyToBounds:function(i,u){var h=this._getBoundsCenterZoom(i,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(i){return i=K(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var u=this.options.minZoom;return this.options.minZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var u=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,u){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,K(i));return h.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(i,u){u=u||{};var h=W(u.paddingTopLeft||u.padding||[0,0]),x=W(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(i),I=this.getPixelBounds(),se=ae([I.min.add(h),I.max.subtract(x)]),me=se.getSize();if(!se.contains(E)){this._enforcingBounds=!0;var je=E.subtract(se.getCenter()),Ae=se.extend(E).getSize().subtract(me);b.x+=je.x<0?-Ae.x:Ae.x,b.y+=je.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=d({animate:!1,pan:!0},i===!0?{animate:!0}:i);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=u.divideBy(2).round(),b=h.divideBy(2).round(),E=x.subtract(b);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=d({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,i):navigator.geolocation.getCurrentPosition(u,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var u=i.code,h=i.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var u=i.coords.latitude,h=i.coords.longitude,x=new xe(u,h),b=x.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var I=this.getBoundsZoom(b);this.setView(x,E.maxZoom?Math.min(I,E.maxZoom):I)}var se={latlng:x,bounds:b,timestamp:i.timestamp};for(var me in i.coords)typeof i.coords[me]=="number"&&(se[me]=i.coords[me]);this.fire("locationfound",se)}},addHandler:function(i,u){if(!u)return this;var h=this[i]=new u(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ct(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,u){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),x=ot("div",h,u||this._mapPane);return i&&(this._panes[i]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),u=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new P(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,u,h){i=K(i),h=W(h||[0,0]);var x=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),I=i.getNorthWest(),se=i.getSouthEast(),me=this.getSize().subtract(h),je=ae(this.project(se,x),this.project(I,x)).getSize(),Ae=Le.any3d?this.options.zoomSnap:1,Ue=me.x/je.x,it=me.y/je.y,xn=u?Math.max(Ue,it):Math.min(Ue,it);return x=this.getScaleZoom(xn,x),Ae&&(x=Math.round(x/(Ae/100))*(Ae/100),x=u?Math.ceil(x/Ae)*Ae:Math.floor(x/Ae)*Ae),Math.max(b,Math.min(E,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,u){var h=this._getTopLeftPoint(i,u);return new M(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(i)/h.scale(u)},getScaleZoom:function(i,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var x=h.zoom(i*h.scale(u));return isNaN(x)?1/0:x},project:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(we(i),u)},unproject:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(W(i),u)},layerPointToLatLng:function(i){var u=W(i).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(i){var u=this.project(we(i))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(we(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(K(i))},distance:function(i,u){return this.options.crs.distance(we(i),we(u))},containerPointToLayerPoint:function(i){return W(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return W(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var u=this.containerPointToLayerPoint(W(i));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(i)))},mouseEventToContainerPoint:function(i){return $s(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var u=this._container=ql(i);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ge(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,et(i,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Hs(i,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dt(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(et(i.markerPane,"leaflet-zoom-hide"),et(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,u,h){Dt(this._mapPane,new ce(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,h)._move(i,u)._moveEnd(b),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(i,u){return i&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(i,u,h,x){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),x?h&&h.pinch&&this.fire("zoom",h):((b||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Dt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var u=i?jt:Ge;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){oe(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,u){for(var h=[],x,b=u==="mouseout"||u==="mouseover",E=i.target||i.srcElement,I=!1;E;){if(x=this._targets[v(E)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){I=!0;break}if(x&&x.listens(u,!0)&&(b&&!Ka(E,i)||(h.push(x),b))||E===this._container)break;E=E.parentNode}return!h.length&&!I&&!b&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var u=i.target||i.srcElement;if(!(!this._loaded||u._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(u))){var h=i.type;h==="mousedown"&&Ji(u),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,u,h){if(i.type==="click"){var x=d({},i);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var b=this._findEventTargets(i,u);if(h){for(var E=[],I=0;I<h.length;I++)h[I].listens(u,!0)&&E.push(h[I]);b=E.concat(b)}if(b.length){u==="contextmenu"&&Jt(i);var se=b[0],me={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var je=se.getLatLng&&(!se._radius||se._radius<=10);me.containerPoint=je?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(i),me.layerPoint=this.containerPointToLayerPoint(me.containerPoint),me.latlng=je?se.getLatLng():this.layerPointToLatLng(me.layerPoint)}for(I=0;I<b.length;I++)if(b[I].fire(u,me,!0),me.originalEvent._stopped||b[I].options.bubblingMouseEvents===!1&&V(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,u=this._handlers.length;i<u;i++)this._handlers[i].disable()},whenReady:function(i,u){return this._loaded?i.call(u||this,{target:this}):this.on("load",i,u),this},_getMapPanePos:function(){return si(this._mapPane)||new ce(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,u){var h=i&&u!==void 0?this._getNewPixelOrigin(i,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,u){var h=this.getSize()._divideBy(2);return this.project(i,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,u,h){var x=this._getNewPixelOrigin(h,u);return this.project(i,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(i,u,h){var x=this._getNewPixelOrigin(h,u);return ae([this.project(i.getSouthWest(),u)._subtract(x),this.project(i.getNorthWest(),u)._subtract(x),this.project(i.getSouthEast(),u)._subtract(x),this.project(i.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,u,h){if(!h)return i;var x=this.project(i,u),b=this.getSize().divideBy(2),E=new M(x.subtract(b),x.add(b)),I=this._getBoundsOffset(E,h,u);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?i:this.unproject(x.add(I),u)},_limitOffset:function(i,u){if(!u)return i;var h=this.getPixelBounds(),x=new M(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(i,u,h){var x=ae(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),b=x.min.subtract(i.min),E=x.max.subtract(i.max),I=this._rebound(b.x,-E.x),se=this._rebound(b.y,-E.y);return new ce(I,se)},_rebound:function(i,u){return i+u>0?Math.round(i-u)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(u))},_limitZoom:function(i){var u=this.getMinZoom(),h=this.getMaxZoom(),x=Le.any3d?this.options.zoomSnap:1;return x&&(i=Math.round(i/x)*x),Math.max(u,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,u){var h=this._getCenterOffset(i)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var i=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(u){var h=ii,x=this._proxy.style[h];Ha(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),u=this.getZoom();Ha(this._proxy,this.project(i,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),b=this._getCenterOffset(i)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(b)?!1:(te(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,u,!0)},this),!0)},_animateZoom:function(i,u,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=u,et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gl(i,u){return new ht(i,u)}var Un=F.extend({options:{position:"topright"},initialize:function(i){A(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var u=this._map;return u&&u.removeControl(this),this.options.position=i,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var u=this._container=this.onAdd(i),h=this.getPosition(),x=i._controlCorners[h];return et(u,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Qa=function(i){return new Un(i)};ht.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},u="leaflet-",h=this._controlContainer=ot("div",u+"control-container",this._container);function x(b,E){var I=u+b+" "+u+E;i[b+E]=ot("div",I,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ct(this._controlCorners[i]);Ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xs=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,u,h,x){return h<x?-1:x<h?1:0}},initialize:function(i,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in i)this._addLayer(i[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Un.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,u){return this._addLayer(i,u),this._map?this._update():this},addOverlay:function(i,u){return this._addLayer(i,u,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(i));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",u=this._container=ot("div",i),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ki(u),Na(u);var x=this._section=ot("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Ge(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ot("a",i+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Ge(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Jt(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ot("div",i+"-base",x),this._separator=ot("div",i+"-separator",x),this._overlaysList=ot("div",i+"-overlays",x),u.appendChild(x)},_getLayer:function(i){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===i)return this._layers[u]},_addLayer:function(i,u,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(x,b){return this.options.sortFunction(x.layer,b.layer,x.name,b.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kn(this._baseLayersList),Kn(this._overlaysList),this._layerControlInputs=[];var i,u,h,x,b=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),u=u||x.overlay,i=i||!x.overlay,b+=x.overlay?0:1;return this.options.hideSingleBase&&(i=i&&b>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=u&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var u=this._getLayer(v(i.target)),h=u.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(i,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(i){var u=document.createElement("label"),h=this._map.hasLayer(i.layer),x;i.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(x),x.layerId=v(i.layer),Ge(x,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+i.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(x),E.appendChild(b);var I=i.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,u,h,x=[],b=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)u=i[E],h=this._getLayer(u.layerId).layer,u.checked?x.push(h):u.checked||b.push(h);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])||this._map.addLayer(x[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,u,h,x=this._map.getZoom(),b=i.length-1;b>=0;b--)u=i[b],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Ge(i,"click",Jt),this.expand();var u=this;setTimeout(function(){jt(i,"click",Jt),u._preventClick=!1})}}),cu=function(i,u,h){return new Xs(i,u,h)},Yl=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var u="leaflet-control-zoom",h=ot("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,u,h,x,b){var E=ot("a",h,x);return E.innerHTML=i,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),ki(E),Ge(E,"click",ri),Ge(E,"click",b,this),Ge(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,u="leaflet-disabled";Ht(this._zoomInButton,u),Ht(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(et(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(et(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yl,this.addControl(this.zoomControl))});var vd=function(i){return new Yl(i)},du=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var u="leaflet-control-scale",h=ot("div",u),x=this.options;return this._addScales(x,u+"-line",h),i.on(x.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,u,h){i.metric&&(this._mScale=ot("div",u,h)),i.imperial&&(this._iScale=ot("div",u,h))},_update:function(){var i=this._map,u=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,u]),i.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var u=this._getRoundNum(i),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/i)},_updateImperial:function(i){var u=i*3.2808399,h,x,b;u>5280?(h=u/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(i,u,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=u},_getRoundNum:function(i){var u=Math.pow(10,(Math.floor(i)+"").length-1),h=i/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),$l=function(i){return new du(i)},_d='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xl=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?_d+" ":"")+"Leaflet</a>"},initialize:function(i){A(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),ki(this._container);for(var u in i._layers)i._layers[u].getAttribution&&this.addAttribution(i._layers[u].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var u in this._attributions)this._attributions[u]&&i.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Xl().addTo(this)});var bd=function(i){return new Xl(i)};Un.Layers=Xs,Un.Zoom=Yl,Un.Scale=du,Un.Attribution=Xl,Qa.layers=cu,Qa.zoom=vd,Qa.scale=$l,Qa.attribution=bd;var ja=F.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ja.addTo=function(i,u){return i.addHandler(u,this),this};var Nd={Events:q},Jl=Le.touch?"touchstart mousedown":"mousedown",li=U.extend({options:{clickTolerance:3},initialize:function(i,u,h,x){A(this,x),this._element=i,this._dragStartTarget=u||i,this._preventOutline=h},enable:function(){this._enabled||(Ge(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Fl(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(li._dragging=this,this._preventOutline&&Ji(this._element),Zr(),$i(),!this._moving)){this.fire("down");var u=i.touches?i.touches[0]:i,h=Fr(this._element);this._startPoint=new ce(u.clientX,u.clientY),this._startPos=si(this._element),this._parentScale=Vs(h);var x=i.type==="mousedown";Ge(document,x?"mousemove":"touchmove",this._onMove,this),Ge(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var u=i.touches&&i.touches.length===1?i.touches[0]:i,h=new ce(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Jt(i),this._moved||(this.fire("dragstart"),this._moved=!0,et(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Dt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),Qs(),ba();var u=this._moved&&this._moving;this._moving=!1,li._dragging=!1,u&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function hu(i,u,h){var x,b=[1,4,2,8],E,I,se,me,je,Ae,Ue,it;for(E=0,Ae=i.length;E<Ae;E++)i[E]._code=Ti(i[E],u);for(se=0;se<4;se++){for(Ue=b[se],x=[],E=0,Ae=i.length,I=Ae-1;E<Ae;I=E++)me=i[E],je=i[I],me._code&Ue?je._code&Ue||(it=Kr(je,me,Ue,u,h),it._code=Ti(it,u),x.push(it)):(je._code&Ue&&(it=Kr(je,me,Ue,u,h),it._code=Ti(it,u),x.push(it)),x.push(me));i=x}return i}function mu(i,u){var h,x,b,E,I,se,me,je,Ae;if(!i||i.length===0)throw new Error("latlngs not passed");Vn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ue=we([0,0]),it=K(i),xn=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());xn<1700&&(Ue=Wl(i));var Wt=i.length,Zn=[];for(h=0;h<Wt;h++){var gt=we(i[h]);Zn.push(u.project(we([gt.lat-Ue.lat,gt.lng-Ue.lng])))}for(se=me=je=0,h=0,x=Wt-1;h<Wt;x=h++)b=Zn[h],E=Zn[x],I=b.y*E.x-E.y*b.x,me+=(b.x+E.x)*I,je+=(b.y+E.y)*I,se+=I*3;se===0?Ae=Zn[0]:Ae=[me/se,je/se];var yt=u.unproject(W(Ae));return we([yt.lat+Ue.lat,yt.lng+Ue.lng])}function Wl(i){for(var u=0,h=0,x=0,b=0;b<i.length;b++){var E=we(i[b]);u+=E.lat,h+=E.lng,x++}return we([u/x,h/x])}var eo={__proto__:null,clipPolygon:hu,polygonCenter:mu,centroid:Wl};function fu(i,u){if(!u||!i.length)return i.slice();var h=u*u;return i=Sd(i,h),i=gu(i,h),i}function pu(i,u,h){return Math.sqrt(Js(i,u,h,!0))}function jd(i,u,h){return Js(i,u,h)}function gu(i,u){var h=i.length,x=typeof Uint8Array<"u"?Uint8Array:Array,b=new x(h);b[0]=b[h-1]=1,to(i,b,u,0,h-1);var E,I=[];for(E=0;E<h;E++)b[E]&&I.push(i[E]);return I}function to(i,u,h,x,b){var E=0,I,se,me;for(se=x+1;se<=b-1;se++)me=Js(i[se],i[x],i[b],!0),me>E&&(I=se,E=me);E>h&&(u[I]=1,to(i,u,h,x,I),to(i,u,h,I,b))}function Sd(i,u){for(var h=[i[0]],x=1,b=0,E=i.length;x<E;x++)wd(i[x],i[b])>u&&(h.push(i[x]),b=x);return b<E-1&&h.push(i[E-1]),h}var yu;function xu(i,u,h,x,b){var E=x?yu:Ti(i,h),I=Ti(u,h),se,me,je;for(yu=I;;){if(!(E|I))return[i,u];if(E&I)return!1;se=E||I,me=Kr(i,u,se,h,b),je=Ti(me,h),se===E?(i=me,E=je):(u=me,I=je)}}function Kr(i,u,h,x,b){var E=u.x-i.x,I=u.y-i.y,se=x.min,me=x.max,je,Ae;return h&8?(je=i.x+E*(me.y-i.y)/I,Ae=me.y):h&4?(je=i.x+E*(se.y-i.y)/I,Ae=se.y):h&2?(je=me.x,Ae=i.y+I*(me.x-i.x)/E):h&1&&(je=se.x,Ae=i.y+I*(se.x-i.x)/E),new ce(je,Ae,b)}function Ti(i,u){var h=0;return i.x<u.min.x?h|=1:i.x>u.max.x&&(h|=2),i.y<u.min.y?h|=4:i.y>u.max.y&&(h|=8),h}function wd(i,u){var h=u.x-i.x,x=u.y-i.y;return h*h+x*x}function Js(i,u,h,x){var b=u.x,E=u.y,I=h.x-b,se=h.y-E,me=I*I+se*se,je;return me>0&&(je=((i.x-b)*I+(i.y-E)*se)/me,je>1?(b=h.x,E=h.y):je>0&&(b+=I*je,E+=se*je)),I=i.x-b,se=i.y-E,x?I*I+se*se:new ce(b,E)}function Vn(i){return!R(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Qr(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(i)}function ts(i,u){var h,x,b,E,I,se,me,je;if(!i||i.length===0)throw new Error("latlngs not passed");Vn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ae=we([0,0]),Ue=K(i),it=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());it<1700&&(Ae=Wl(i));var xn=i.length,Wt=[];for(h=0;h<xn;h++){var Zn=we(i[h]);Wt.push(u.project(we([Zn.lat-Ae.lat,Zn.lng-Ae.lng])))}for(h=0,x=0;h<xn-1;h++)x+=Wt[h].distanceTo(Wt[h+1])/2;if(x===0)je=Wt[0];else for(h=0,E=0;h<xn-1;h++)if(I=Wt[h],se=Wt[h+1],b=I.distanceTo(se),E+=b,E>x){me=(E-x)/b,je=[se.x-me*(se.x-I.x),se.y-me*(se.y-I.y)];break}var gt=u.unproject(W(je));return we([gt.lat+Ae.lat,gt.lng+Ae.lng])}var Ed={__proto__:null,simplify:fu,pointToSegmentDistance:pu,closestPointOnSegment:jd,clipSegment:xu,_getEdgeIntersection:Kr,_getBitCode:Ti,_sqClosestPointOnSegment:Js,isFlat:Vn,_flat:Qr,polylineCenter:ts},Vr={project:function(i){return new ce(i.lng,i.lat)},unproject:function(i){return new xe(i.y,i.x)},bounds:new M([-180,-90],[180,90])},Gr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var u=Math.PI/180,h=this.R,x=i.lat*u,b=this.R_MINOR/h,E=Math.sqrt(1-b*b),I=E*Math.sin(x),se=Math.tan(Math.PI/4-x/2)/Math.pow((1-I)/(1+I),E/2);return x=-h*Math.log(Math.max(se,1e-10)),new ce(i.lng*u*h,x)},unproject:function(i){for(var u=180/Math.PI,h=this.R,x=this.R_MINOR/h,b=Math.sqrt(1-x*x),E=Math.exp(-i.y/h),I=Math.PI/2-2*Math.atan(E),se=0,me=.1,je;se<15&&Math.abs(me)>1e-7;se++)je=b*Math.sin(I),je=Math.pow((1-je)/(1+je),b/2),me=Math.PI/2-2*Math.atan(E*je)-I,I+=me;return new xe(I*u,i.x*u/h)}},vu={__proto__:null,LonLat:Vr,Mercator:Gr,SphericalMercator:lt},_u=d({},Fe,{code:"EPSG:3395",projection:Gr,transformation:(function(){var i=.5/(Math.PI*Gr.R);return Ee(i,.5,-i,.5)})()}),no=d({},Fe,{code:"EPSG:4326",projection:Vr,transformation:Ee(1/180,1,-1/180,.5)}),ns=d({},Me,{projection:Vr,transformation:Ee(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,u){var h=u.lng-i.lng,x=u.lat-i.lat;return Math.sqrt(h*h+x*x)},infinite:!0});Me.Earth=Fe,Me.EPSG3395=_u,Me.EPSG3857=Ve,Me.EPSG900913=St,Me.EPSG4326=no,Me.Simple=ns;var da=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var u=i.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(i);return this._layers[u]?this:(this._layers[u]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var u=v(i);return this._layers[u]?(this._loaded&&i.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,u){for(var h in this._layers)i.call(u,this._layers[h]);return this},_addLayers:function(i){i=i?R(i)?i:[i]:[];for(var u=0,h=i.length;u<h;u++)this.addLayer(i[u])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var u=v(i);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,u=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var b=this._zoomBoundLayers[x].options;i=b.minZoom===void 0?i:Math.min(i,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var as=da.extend({initialize:function(i,u){A(this,u),this._layers={};var h,x;if(i)for(h=0,x=i.length;h<x;h++)this.addLayer(i[h])},addLayer:function(i){var u=this.getLayerId(i);return this._layers[u]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var u=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(i){var u=typeof i=="number"?i:this.getLayerId(i);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var u=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[i]&&x[i].apply(x,u);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,u){for(var h in this._layers)i.call(u,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),kd=function(i,u){return new as(i,u)},Sa=as.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),as.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),as.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new P;for(var u in this._layers){var h=this._layers[u];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),bu=function(i,u){return new Sa(i,u)},wa=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){A(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,u){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(i,u){var h=this.options,x=h[u+"Size"];typeof x=="number"&&(x=[x,x]);var b=W(x),E=W(u==="shadow"&&h.shadowAnchor||h.iconAnchor||b&&b.divideBy(2,!0));i.className="leaflet-marker-"+u+" "+(h.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),b&&(i.style.width=b.x+"px",i.style.height=b.y+"px")},_createImg:function(i,u){return u=u||document.createElement("img"),u.src=i,u},_getIconUrl:function(i){return Le.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Ws(i){return new wa(i)}var er=wa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof er.imagePath!="string"&&(er.imagePath=this._detectIconPath()),(this.options.imagePath||er.imagePath)+wa.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var u=function(h,x,b){var E=x.exec(h);return E&&E[b]};return i=u(i,/^url\((['"])?(.+)\1\)$/,2),i&&u(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ot("div","leaflet-default-icon-path",document.body),u=Hs(i,"background-image")||Hs(i,"backgroundImage");if(document.body.removeChild(i),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),tr=ja.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new li(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),et(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var u=this._marker,h=u._map,x=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=si(u._icon),I=h.getPixelBounds(),se=h.getPixelOrigin(),me=ae(I.min._subtract(se).add(b),I.max._subtract(se).subtract(b));if(!me.contains(E)){var je=W((Math.max(me.max.x,E.x)-me.max.x)/(I.max.x-me.max.x)-(Math.min(me.min.x,E.x)-me.min.x)/(I.min.x-me.min.x),(Math.max(me.max.y,E.y)-me.max.y)/(I.max.y-me.max.y)-(Math.min(me.min.y,E.y)-me.min.y)/(I.min.y-me.min.y)).multiplyBy(x);h.panBy(je,{animate:!1}),this._draggable._newPos._add(je),this._draggable._startPos._add(je),Dt(u._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=te(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(oe(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,i)))},_onDrag:function(i){var u=this._marker,h=u._shadow,x=si(u._icon),b=u._map.layerPointToLatLng(x);h&&Dt(h,x),u._latlng=b,i.latlng=b,i.oldLatLng=this._oldLatLng,u.fire("move",i).fire("drag",i)},_onDragEnd:function(i){oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),nr=da.extend({options:{icon:new er,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,u){A(this,u),this._latlng=we(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var u=this._latlng;return this._latlng=we(i),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),et(h,u),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(h,"focus",this._panOnFocus,this);var b=i.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(et(b,u),b.alt=""),this._shadow=b,i.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),Ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ct(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Dt(this._icon,i),this._shadow&&Dt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tr)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tr(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Zt(this._icon,i),this._shadow&&Zt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var u=this.options.icon.options,h=u.iconSize?W(u.iconSize):W(0,0),x=u.iconAnchor?W(u.iconAnchor):W(0,0);i.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nu(i,u){return new nr(i,u)}var Ea=da.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return A(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),is=Ea.extend({options:{fill:!0,radius:10},initialize:function(i,u){A(this,u),this._latlng=we(i),this._radius=this.options.radius},setLatLng:function(i){var u=this._latlng;return this._latlng=we(i),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var u=i&&i.radius||this._radius;return Ea.prototype.setStyle.call(this,i),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,u=this._radiusY||i,h=this._clickTolerance(),x=[i+h,u+h];this._pxBounds=new M(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ju(i,u){return new is(i,u)}var Yr=is.extend({initialize:function(i,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=we(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Ea.prototype.setStyle,_project:function(){var i=this._latlng.lng,u=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===Fe.distance){var b=Math.PI/180,E=this._mRadius/Fe.R/b,I=h.project([u+E,i]),se=h.project([u-E,i]),me=I.add(se).divideBy(2),je=h.unproject(me).lat,Ae=Math.acos((Math.cos(E*b)-Math.sin(u*b)*Math.sin(je*b))/(Math.cos(u*b)*Math.cos(je*b)))/b;(isNaN(Ae)||Ae===0)&&(Ae=E/Math.cos(Math.PI/180*u)),this._point=me.subtract(h.getPixelOrigin()),this._radius=isNaN(Ae)?0:me.x-h.project([je,i-Ae]).x,this._radiusY=me.y-I.y}else{var Ue=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ue).x}this._updateBounds()}});function Su(i,u,h){return new Yr(i,u,h)}var Va=Ea.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,u){A(this,u),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var u=1/0,h=null,x=Js,b,E,I=0,se=this._parts.length;I<se;I++)for(var me=this._parts[I],je=1,Ae=me.length;je<Ae;je++){b=me[je-1],E=me[je];var Ue=x(i,b,E,!0);Ue<u&&(u=Ue,h=x(i,b,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ts(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,u){return u=u||this._defaultShape(),i=we(i),u.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new P,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var u=[],h=Vn(i),x=0,b=i.length;x<b;x++)h?(u[x]=we(i[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(i[x]);return u},_project:function(){var i=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),u=new ce(i,i);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(i,u,h){var x=i[0]instanceof xe,b=i.length,E,I;if(x){for(I=[],E=0;E<b;E++)I[E]=this._map.latLngToLayerPoint(i[E]),h.extend(I[E]);u.push(I)}else for(E=0;E<b;E++)this._projectLatlngs(i[E],u,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,x,b,E,I,se,me;for(h=0,b=0,E=this._rings.length;h<E;h++)for(me=this._rings[h],x=0,I=me.length;x<I-1;x++)se=xu(me[x],me[x+1],i,x,!0),se&&(u[b]=u[b]||[],u[b].push(se[0]),(se[1]!==me[x+1]||x===I-2)&&(u[b].push(se[1]),b++))}},_simplifyPoints:function(){for(var i=this._parts,u=this.options.smoothFactor,h=0,x=i.length;h<x;h++)i[h]=fu(i[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,u){var h,x,b,E,I,se,me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,E=this._parts.length;h<E;h++)for(se=this._parts[h],x=0,I=se.length,b=I-1;x<I;b=x++)if(!(!u&&x===0)&&pu(i,se[b],se[x])<=me)return!0;return!1}});function Td(i,u){return new Va(i,u)}Va._flat=Qr;var ss=Va.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var u=Va.prototype._convertLatLngs.call(this,i),h=u.length;return h>=2&&u[0]instanceof xe&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(i){Va.prototype._setLatLngs.call(this,i),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,u=this.options.weight,h=new ce(u,u);if(i=new M(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,b=this._rings.length,E;x<b;x++)E=hu(this._rings[x],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var u=!1,h,x,b,E,I,se,me,je;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,me=this._parts.length;E<me;E++)for(h=this._parts[E],I=0,je=h.length,se=je-1;I<je;se=I++)x=h[I],b=h[se],x.y>i.y!=b.y>i.y&&i.x<(b.x-x.x)*(i.y-x.y)/(b.y-x.y)+x.x&&(u=!u);return u||Va.prototype._containsPoint.call(this,i,!0)}});function Cd(i,u){return new ss(i,u)}var Ga=Sa.extend({initialize:function(i,u){A(this,u),this._layers={},i&&this.addData(i)},addData:function(i){var u=R(i)?i:i.features,h,x,b;if(u){for(h=0,x=u.length;h<x;h++)b=u[h],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var I=jn(i,E);return I?(I.feature=Jr(i),I.defaultOptions=I.options,this.resetStyle(I),E.onEachFeature&&E.onEachFeature(i,I),this.addLayer(I)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=d({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(u){this._setLayerStyle(u,i)},this)},_setLayerStyle:function(i,u){i.setStyle&&(typeof u=="function"&&(u=u(i.feature)),i.setStyle(u))}});function jn(i,u){var h=i.type==="Feature"?i.geometry:i,x=h?h.coordinates:null,b=[],E=u&&u.pointToLayer,I=u&&u.coordsToLatLng||$r,se,me,je,Ae;if(!x&&!h)return null;switch(h.type){case"Point":return se=I(x),rs(E,i,se,u);case"MultiPoint":for(je=0,Ae=x.length;je<Ae;je++)se=I(x[je]),b.push(rs(E,i,se,u));return new Sa(b);case"LineString":case"MultiLineString":return me=ar(x,h.type==="LineString"?0:1,I),new Va(me,u);case"Polygon":case"MultiPolygon":return me=ar(x,h.type==="Polygon"?1:2,I),new ss(me,u);case"GeometryCollection":for(je=0,Ae=h.geometries.length;je<Ae;je++){var Ue=jn({geometry:h.geometries[je],type:"Feature",properties:i.properties},u);Ue&&b.push(Ue)}return new Sa(b);case"FeatureCollection":for(je=0,Ae=h.features.length;je<Ae;je++){var it=jn(h.features[je],u);it&&b.push(it)}return new Sa(b);default:throw new Error("Invalid GeoJSON object.")}}function rs(i,u,h,x){return i?i(u,h):new nr(h,x&&x.markersInheritOptions&&x)}function $r(i){return new xe(i[1],i[0],i[2])}function ar(i,u,h){for(var x=[],b=0,E=i.length,I;b<E;b++)I=u?ar(i[b],u-1,h):(h||$r)(i[b]),x.push(I);return x}function Xr(i,u){return i=we(i),i.alt!==void 0?[C(i.lng,u),C(i.lat,u),C(i.alt,u)]:[C(i.lng,u),C(i.lat,u)]}function ir(i,u,h,x){for(var b=[],E=0,I=i.length;E<I;E++)b.push(u?ir(i[E],Vn(i[E])?0:u-1,h,x):Xr(i[E],x));return!u&&h&&b.length>0&&b.push(b[0].slice()),b}function oi(i,u){return i.feature?d({},i.feature,{geometry:u}):Jr(u)}function Jr(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ui={toGeoJSON:function(i){return oi(this,{type:"Point",coordinates:Xr(this.getLatLng(),i)})}};nr.include(ui),Yr.include(ui),is.include(ui),Va.include({toGeoJSON:function(i){var u=!Vn(this._latlngs),h=ir(this._latlngs,u?1:0,!1,i);return oi(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),ss.include({toGeoJSON:function(i){var u=!Vn(this._latlngs),h=u&&!Vn(this._latlngs[0]),x=ir(this._latlngs,h?2:u?1:0,!0,i);return u||(x=[x]),oi(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),as.include({toMultiPoint:function(i){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(i).geometry.coordinates)}),oi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(i){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(i);var h=u==="GeometryCollection",x=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(i);if(h)x.push(E.geometry);else{var I=Jr(E);I.type==="FeatureCollection"?x.push.apply(x,I.features):x.push(I)}}}),h?oi(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Wr(i,u){return new Ga(i,u)}var sr=Wr,ls=da.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,u,h){this._url=i,this._bounds=K(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&yn(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=K(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",u=this._image=i?this._url:ot("img");if(et(u,"leaflet-image-layer"),this._zoomAnimated&&et(u,"leaflet-zoom-animated"),this.options.className&&et(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(i){var u=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Ha(this._image,h,u)},_reset:function(){var i=this._image,u=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();Dt(i,u.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),wu=function(i,u,h){return new ls(i,u,h)},ci=ls.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",u=this._image=i?this._url:ot("video");if(et(u,"leaflet-image-layer"),this._zoomAnimated&&et(u,"leaflet-zoom-animated"),this.options.className&&et(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=p(this.fire,this,"load"),i){for(var h=u.getElementsByTagName("source"),x=[],b=0;b<h.length;b++)x.push(h[b].src);this._url=h.length>0?x:[u.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var I=ot("source");I.src=this._url[E],u.appendChild(I)}}});function os(i,u,h){return new ci(i,u,h)}var el=ls.extend({_initImage:function(){var i=this._image=this._url;et(i,"leaflet-image-layer"),this._zoomAnimated&&et(i,"leaflet-zoom-animated"),this.options.className&&et(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function Eu(i,u,h){return new el(i,u,h)}var Sn=da.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,u){i&&(i instanceof xe||R(i))?(this._latlng=we(i),A(this,u)):(A(this,i),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(p(Ct,void 0,this._container),200)):Ct(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=we(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yn(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(i){var u=this._source;if(!u._map)return!1;if(u instanceof Sa){u=null;var h=this._source._layers;for(var x in h)if(h[x]._map){u=h[x];break}if(!u)return!1;this._source=u}if(!i)if(u.getCenter)i=u.getCenter();else if(u.getLatLng)i=u.getLatLng();else if(u.getBounds)i=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")i.innerHTML=u;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),u=W(this.options.offset),h=this._getAnchor();this._zoomAnimated?Dt(this._container,i.add(h)):u=u.add(i).add(h);var x=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(i,u,h,x){var b=u;return b instanceof i||(b=new i(x).setContent(u)),h&&b.setLatLng(h),b}}),da.include({_initOverlay:function(i,u,h,x){var b=h;return b instanceof i?(A(b,x),b._source=this):(b=u&&!x?u:new i(x,this),b.setContent(h)),b}});var rr=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Sn.prototype.openOn.call(this,i)},onAdd:function(i){Sn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ea||this._source.on("preclick",ca))},onRemove:function(i){Sn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ea||this._source.off("preclick",ca))},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",u=this._container=ot("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ot("div",i+"-content-wrapper",u);if(this._contentNode=ot("div",i+"-content",h),ki(u),Na(this._contentNode),Ge(u,"contextmenu",ca),this._tipContainer=ot("div",i+"-tip-container",u),this._tip=ot("div",i+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ot("a",i+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(x,"click",function(b){Jt(b),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,u=i.style;u.width="",u.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var x=i.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&x>b?(u.height=b+"px",et(i,E)):Ht(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Dt(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,u=parseInt(Hs(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,x=this._containerWidth,b=new ce(this._containerLeft,-h-this._containerBottom);b._add(si(this._container));var E=i.layerPointToContainerPoint(b),I=W(this.options.autoPanPadding),se=W(this.options.autoPanPaddingTopLeft||I),me=W(this.options.autoPanPaddingBottomRight||I),je=i.getSize(),Ae=0,Ue=0;E.x+x+me.x>je.x&&(Ae=E.x+x-je.x+me.x),E.x-Ae-se.x<0&&(Ae=E.x-se.x),E.y+h+me.y>je.y&&(Ue=E.y+h-je.y+me.y),E.y-Ue-se.y<0&&(Ue=E.y-se.y),(Ae||Ue)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Ae,Ue]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ku=function(i,u){return new rr(i,u)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(i,u,h){return this._initOverlay(rr,i,u,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),da.include({bindPopup:function(i,u){return this._popup=this._initOverlay(rr,this._popup,i,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Sa||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ri(i);var u=i.layer||i.target;if(this._popup._source===u&&!(u instanceof Ea)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=u,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var lr=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Sn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Sn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",u=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var u,h,x=this._map,b=this._container,E=x.latLngToContainerPoint(x.getCenter()),I=x.layerPointToContainerPoint(i),se=this.options.direction,me=b.offsetWidth,je=b.offsetHeight,Ae=W(this.options.offset),Ue=this._getAnchor();se==="top"?(u=me/2,h=je):se==="bottom"?(u=me/2,h=0):se==="center"?(u=me/2,h=je/2):se==="right"?(u=0,h=je/2):se==="left"?(u=me,h=je/2):I.x<E.x?(se="right",u=0,h=je/2):(se="left",u=me+(Ae.x+Ue.x)*2,h=je/2),i=i.subtract(W(u,h,!0)).add(Ae).add(Ue),Ht(b,"leaflet-tooltip-right"),Ht(b,"leaflet-tooltip-left"),Ht(b,"leaflet-tooltip-top"),Ht(b,"leaflet-tooltip-bottom"),et(b,"leaflet-tooltip-"+se),Dt(b,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Zt(this._container,i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(u)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ad=function(i,u){return new lr(i,u)};ht.include({openTooltip:function(i,u,h){return this._initOverlay(lr,i,u,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),da.include({bindTooltip:function(i,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lr,this._tooltip,i,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var u=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Sa||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&(Ge(u,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Ge(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var u=i.latlng,h,x;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),x=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Tu=wa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var u=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Kn(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=W(h.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function zd(i){return new Tu(i)}wa.Default=er;var us=da.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){A(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ct(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ce?i:new ce(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var u=this.getPane().children,h=-i(-1/0,1/0),x=0,b=u.length,E;x<b;x++)E=u[x].style.zIndex,u[x]!==this._container&&E&&(h=i(h,+E));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){Zt(this._container,this.options.opacity);var i=+new Date,u=!1,h=!1;for(var x in this._tiles){var b=this._tiles[x];if(!(!b.current||!b.loaded)){var E=Math.min(1,(i-b.loaded)/200);Zt(b.el,E),E<1?u=!0:(b.active?h=!0:this._onOpaqueTile(b),b.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(oe(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=u-Math.abs(i-h),this._onUpdateLevel(h)):(Ct(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[i],b=this._map;return x||(x=this._levels[i]={},x.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=b.project(b.unproject(b.getPixelOrigin()),i).round(),x.zoom=i,this._setZoomTransform(x,b.getCenter(),b.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)u=this._tiles[i],u.retain=u.current;for(i in this._tiles)if(u=this._tiles[i],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var u in this._tiles)this._tiles[u].coords.z===i&&this._removeTile(u)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ct(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,u,h,x){var b=Math.floor(i/2),E=Math.floor(u/2),I=h-1,se=new ce(+b,+E);se.z=+I;var me=this._tileCoordsToKey(se),je=this._tiles[me];return je&&je.active?(je.retain=!0,!0):(je&&je.loaded&&(je.retain=!0),I>x?this._retainParent(b,E,I,x):!1)},_retainChildren:function(i,u,h,x){for(var b=2*i;b<2*i+2;b++)for(var E=2*u;E<2*u+2;E++){var I=new ce(b,E);I.z=h+1;var se=this._tileCoordsToKey(I),me=this._tiles[se];if(me&&me.active){me.retain=!0;continue}else me&&me.loaded&&(me.retain=!0);h+1<x&&this._retainChildren(b,E,h+1,x)}},_resetView:function(i){var u=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var u=this.options;return u.minNativeZoom!==void 0&&i<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<i?u.maxNativeZoom:i},_setView:function(i,u,h,x){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!x||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,u)},_setZoomTransforms:function(i,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,u)},_setZoomTransform:function(i,u,h){var x=this._map.getZoomScale(h,i.zoom),b=i.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,h)).round();Le.any3d?Ha(i.el,b,x):Dt(i.el,b)},_resetGrid:function(){var i=this._map,u=i.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,u.wrapLng[0]],x).x/h.x),Math.ceil(i.project([0,u.wrapLng[1]],x).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([u.wrapLat[0],0],x).y/h.x),Math.ceil(i.project([u.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(h,this._tileZoom),b=u.project(i,this._tileZoom).floor(),E=u.getSize().divideBy(x*2);return new M(b.subtract(E),b.add(E))},_update:function(i){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(i===void 0&&(i=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(i),b=this._pxBoundsToTileRange(x),E=b.getCenter(),I=[],se=this.options.keepBuffer,me=new M(b.getBottomLeft().subtract([se,-se]),b.getTopRight().add([se,-se]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var je in this._tiles){var Ae=this._tiles[je].coords;(Ae.z!==this._tileZoom||!me.contains(new ce(Ae.x,Ae.y)))&&(this._tiles[je].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Ue=b.min.y;Ue<=b.max.y;Ue++)for(var it=b.min.x;it<=b.max.x;it++){var xn=new ce(it,Ue);if(xn.z=this._tileZoom,!!this._isValidTile(xn)){var Wt=this._tiles[this._tileCoordsToKey(xn)];Wt?Wt.current=!0:I.push(xn)}}if(I.sort(function(gt,yt){return gt.distanceTo(E)-yt.distanceTo(E)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(it=0;it<I.length;it++)this._addTile(I[it],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(i){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!u.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(i);return K(this.options.bounds).overlaps(x)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var u=this._map,h=this.getTileSize(),x=i.scaleBy(h),b=x.add(h),E=u.unproject(x,i.z),I=u.unproject(b,i.z);return[E,I]},_tileCoordsToBounds:function(i){var u=this._tileCoordsToNwSe(i),h=new P(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var u=i.split(":"),h=new ce(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(i){var u=this._tiles[i];u&&(Ct(u.el),delete this._tiles[i],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){et(i,"leaflet-tile");var u=this.getTileSize();i.style.width=u.x+"px",i.style.height=u.y+"px",i.onselectstart=w,i.onmousemove=w,Le.ielt9&&this.options.opacity<1&&Zt(i,this.options.opacity)},_addTile:function(i,u){var h=this._getTilePos(i),x=this._tileCoordsToKey(i),b=this.createTile(this._wrapCoords(i),p(this._tileReady,this,i));this._initTile(b),this.createTile.length<2&&te(p(this._tileReady,this,i,null,b)),Dt(b,h),this._tiles[x]={el:b,coords:i,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:i})},_tileReady:function(i,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:i});var x=this._tileCoordsToKey(i);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Zt(h.el,0),oe(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(et(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var u=new ce(this._wrapX?S(i.x,this._wrapX):i.x,this._wrapY?S(i.y,this._wrapY):i.y);return u.z=i.z,u},_pxBoundsToTileRange:function(i){var u=this.getTileSize();return new M(i.min.unscaleBy(u).floor(),i.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Cu(i){return new us(i)}var di=us.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,u){this._url=i,u=A(this,u),u.detectRetina&&Le.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,u){return this._url===i&&u===void 0&&(u=!0),this._url=i,u||this.redraw(),this},createTile:function(i,u){var h=document.createElement("img");return Ge(h,"load",p(this._tileOnLoad,this,u,h)),Ge(h,"error",p(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var u={r:Le.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(u.y=h),u["-y"]=h}return D(this._url,d(u,this.options))},_tileOnLoad:function(i,u){Le.ielt9?setTimeout(p(i,this,null,u),0):i(null,u)},_tileOnError:function(i,u,h){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),i(h,u)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(i=u-i),i+x},_getSubdomain:function(i){var u=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var i,u;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(u=this._tiles[i].el,u.onload=w,u.onerror=w,!u.complete)){u.src=Y;var h=this._tiles[i].coords;Ct(u),delete this._tiles[i],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(i){var u=this._tiles[i];if(u)return u.el.setAttribute("src",Y),us.prototype._removeTile.call(this,i)},_tileReady:function(i,u,h){if(!(!this._map||h&&h.getAttribute("src")===Y))return us.prototype._tileReady.call(this,i,u,h)}});function Gn(i,u){return new di(i,u)}var or=di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,u){this._url=i;var h=d({},this.defaultWmsParams);for(var x in u)x in this.options||(h[x]=u[x]);u=A(this,u);var b=u.detectRetina&&Le.retina?2:1,E=this.getTileSize();h.width=E.x*b,h.height=E.y*b,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,di.prototype.onAdd.call(this,i)},getTileUrl:function(i){var u=this._tileCoordsToNwSe(i),h=this._crs,x=ae(h.project(u[0]),h.project(u[1])),b=x.min,E=x.max,I=(this._wmsVersion>=1.3&&this._crs===no?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),se=di.prototype.getTileUrl.call(this,i);return se+O(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(i,u){return d(this.wmsParams,i),u||this.redraw(),this}});function Yn(i,u){return new or(i,u)}di.WMS=or,Gn.wms=Yn;var Dn=da.extend({options:{padding:.1},initialize:function(i){A(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,u){var h=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),E=x.multiplyBy(-h).add(b).subtract(this._map._getNewPixelOrigin(i,u));Le.any3d?Ha(this._container,E,h):Dt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-i)).round();this._bounds=new M(h,h.add(u.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tl=Dn.extend({options:{tolerance:0},getEvents:function(){var i=Dn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Dn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Ge(i,"mousemove",this._onMouseMove,this),Ge(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){oe(this._redrawRequest),delete this._ctx,Ct(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var u in this._layers)i=this._layers[u],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dn.prototype._update.call(this);var i=this._bounds,u=this._container,h=i.getSize(),x=Le.retina?2:1;Dt(u,i.min),u.width=x*h.x,u.height=x*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Dn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var u=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var u=i._order,h=u.next,x=u.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var u=i.options.dashArray.split(/[, ]+/),h=[],x,b;for(b=0;b<u.length;b++){if(x=Number(u[b]),isNaN(x))return;h.push(x)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var u=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(i._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(i._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var u=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)i=x.layer,(!u||i._pxBounds&&i._pxBounds.intersects(u))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,u){if(this._drawing){var h,x,b,E,I=i._parts,se=I.length,me=this._ctx;if(se){for(me.beginPath(),h=0;h<se;h++){for(x=0,b=I[h].length;x<b;x++)E=I[h][x],me[x?"lineTo":"moveTo"](E.x,E.y);u&&me.closePath()}this._fillStroke(me,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var u=i._point,h=this._ctx,x=Math.max(Math.round(i._radius),1),b=(Math.max(Math.round(i._radiusY),1)||x)/x;b!==1&&(h.save(),h.scale(1,b)),h.beginPath(),h.arc(u.x,u.y/b,x,0,Math.PI*2,!1),b!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,u){var h=u.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(u.options&&u.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var u=this._map.mouseEventToLayerPoint(i),h,x,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(u)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,u)}},_handleMouseOut:function(i){var u=this._hoveredLayer;u&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,u){if(!this._mouseHoverThrottled){for(var h,x,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(u)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(i),x&&(et(this._container,"leaflet-interactive"),this._fireEvent([x],i,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,u,h){this._map._fireDOMEvent(u,h||u.type,i)},_bringToFront:function(i){var u=i._order;if(u){var h=u.next,x=u.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(i)}},_bringToBack:function(i){var u=i._order;if(u){var h=u.next,x=u.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(i)}}});function ur(i){return Le.canvas?new tl(i):null}var hi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ao={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Dn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var u=i._container=hi("shape");et(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",i._path=hi("path"),u.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var u=i._container;this._container.appendChild(u),i.options.interactive&&i.addInteractiveTarget(u)},_removePath:function(i){var u=i._container;Ct(u),i.removeInteractiveTarget(u),delete this._layers[v(i)]},_updateStyle:function(i){var u=i._stroke,h=i._fill,x=i.options,b=i._container;b.stroked=!!x.stroke,b.filled=!!x.fill,x.stroke?(u||(u=i._stroke=hi("stroke")),b.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=R(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(b.removeChild(u),i._stroke=null),x.fill?(h||(h=i._fill=hi("fill")),b.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(b.removeChild(h),i._fill=null)},_updateCircle:function(i){var u=i._point.round(),h=Math.round(i._radius),x=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(i,u){i._path.v=u},_bringToFront:function(i){yn(i._container)},_bringToBack:function(i){wi(i._container)}},ka=Le.vml?hi:Bt,cs=Dn.extend({_initContainer:function(){this._container=ka("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ka("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ct(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dn.prototype._update.call(this);var i=this._bounds,u=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),Dt(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(i){var u=i._path=ka("path");i.options.className&&et(u,i.options.className),i.options.interactive&&et(u,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ct(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var u=i._path,h=i.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(i,u){this._setPath(i,Ft(i._parts,u))},_updateCircle:function(i){var u=i._point,h=Math.max(Math.round(i._radius),1),x=Math.max(Math.round(i._radiusY),1)||h,b="a"+h+","+x+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(u.x-h)+","+u.y+b+h*2+",0 "+b+-h*2+",0 ";this._setPath(i,E)},_setPath:function(i,u){i._path.setAttribute("d",u)},_bringToFront:function(i){yn(i._path)},_bringToBack:function(i){wi(i._path)}});Le.vml&&cs.include(ao);function cr(i){return Le.svg||Le.vml?new cs(i):null}ht.include({getRenderer:function(i){var u=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var u=this._paneRenderers[i];return u===void 0&&(u=this._createRenderer({pane:i}),this._paneRenderers[i]=u),u},_createRenderer:function(i){return this.options.preferCanvas&&ur(i)||cr(i)}});var Ci=ss.extend({initialize:function(i,u){ss.prototype.initialize.call(this,this._boundsToLatLngs(i),u)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=K(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Md(i,u){return new Ci(i,u)}cs.create=ka,cs.pointsToPath=Ft,Ga.geometryToLayer=jn,Ga.coordsToLatLng=$r,Ga.coordsToLatLngs=ar,Ga.latLngToCoords=Xr,Ga.latLngsToCoords=ir,Ga.getFeature=oi,Ga.asFeature=Jr,ht.mergeOptions({boxZoom:!0});var Pn=ja.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$i(),Zr(),this._startPoint=this._map.mouseEventToContainerPoint(i),Ge(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var u=new M(this._point,this._startPoint),h=u.getSize();Dt(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ct(this._box),Ht(this._container,"leaflet-crosshair")),ba(),Qs(),jt(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",Pn),ht.mergeOptions({doubleClickZoom:!0});var nl=ja.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var u=this._map,h=u.getZoom(),x=u.options.zoomDelta,b=i.originalEvent.shiftKey?h-x:h+x;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(i.containerPoint,b)}});ht.addInitHook("addHandler","doubleClickZoom",nl),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ta=ja.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new li(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=K(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,u){return i-(i-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;i.x<u.min.x&&(i.x=this._viscousLimit(i.x,u.min.x)),i.y<u.min.y&&(i.y=this._viscousLimit(i.y,u.min.y)),i.x>u.max.x&&(i.x=this._viscousLimit(i.x,u.max.x)),i.y>u.max.y&&(i.y=this._viscousLimit(i.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,u=Math.round(i/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,b=(x-u+h)%i+u-h,E=(x+u+h)%i-u-h,I=Math.abs(b+h)<Math.abs(E+h)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(i){var u=this._map,h=u.options,x=!h.inertia||i.noInertia||this._times.length<2;if(u.fire("dragend",i),x)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,I=h.easeLinearity,se=b.multiplyBy(I/E),me=se.distanceTo([0,0]),je=Math.min(h.inertiaMaxSpeed,me),Ae=se.multiplyBy(je/me),Ue=je/(h.inertiaDeceleration*I),it=Ae.multiplyBy(-Ue/2).round();!it.x&&!it.y?u.fire("moveend"):(it=u._limitOffset(it,u.options.maxBounds),te(function(){u.panBy(it,{duration:Ue,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Ta),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=ja.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Ge(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,u=document.documentElement,h=i.scrollTop||u.scrollTop,x=i.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var u=this._panKeys={},h=this.keyCodes,x,b;for(x=0,b=h.left.length;x<b;x++)u[h.left[x]]=[-1*i,0];for(x=0,b=h.right.length;x<b;x++)u[h.right[x]]=[i,0];for(x=0,b=h.down.length;x<b;x++)u[h.down[x]]=[0,i];for(x=0,b=h.up.length;x<b;x++)u[h.up[x]]=[0,-1*i]},_setZoomDelta:function(i){var u=this._zoomKeys={},h=this.keyCodes,x,b;for(x=0,b=h.zoomIn.length;x<b;x++)u[h.zoomIn[x]]=i;for(x=0,b=h.zoomOut.length;x<b;x++)u[h.zoomOut[x]]=-i},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var u=i.keyCode,h=this._map,x;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[u],i.shiftKey&&(x=W(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(W(x),h.options.maxBounds)),h.options.worldCopyJump){var b=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(b)}else h.panBy(x)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ri(i)}}});ht.addInitHook("addHandler","keyboard",io),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dr=ja.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var u=En(i),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),x),ri(i)},_performZoom:function(){var i=this._map,u=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,E=h?Math.ceil(b/h)*h:b,I=i._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,I&&(i.options.scrollWheelZoom==="center"?i.setZoom(u+I):i.setZoomAround(this._lastMousePos,u+I))}});ht.addInitHook("addHandler","scrollWheelZoom",dr);var Ai=600;ht.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var al=ja.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var u=i.touches[0];this._startPos=this._newPos=new ce(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",Jt),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ai),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){jt(document,"touchend",Jt),jt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(i){var u=i.touches[0];this._newPos=new ce(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,u){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});ht.addInitHook("addHandler","tapHold",al),ht.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var so=ja.extend({addHooks:function(){et(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var u=this._map;if(!(!i.touches||i.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(i.touches[0]),x=u.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),Jt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(i.touches[0]),x=u.mouseEventToContainerPoint(i.touches[1]),b=h.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),oe(this._animRequest);var I=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(I,this,!0),Jt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,oe(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",so),ht.BoxZoom=Pn,ht.DoubleClickZoom=nl,ht.Drag=Ta,ht.Keyboard=io,ht.ScrollWheelZoom=dr,ht.TapHold=al,ht.TouchZoom=so,l.Bounds=M,l.Browser=Le,l.CRS=Me,l.Canvas=tl,l.Circle=Yr,l.CircleMarker=is,l.Class=F,l.Control=Un,l.DivIcon=Tu,l.DivOverlay=Sn,l.DomEvent=Hr,l.DomUtil=Wi,l.Draggable=li,l.Evented=U,l.FeatureGroup=Sa,l.GeoJSON=Ga,l.GridLayer=us,l.Handler=ja,l.Icon=wa,l.ImageOverlay=ls,l.LatLng=xe,l.LatLngBounds=P,l.Layer=da,l.LayerGroup=as,l.LineUtil=Ed,l.Map=ht,l.Marker=nr,l.Mixin=Nd,l.Path=Ea,l.Point=ce,l.PolyUtil=eo,l.Polygon=ss,l.Polyline=Va,l.Popup=rr,l.PosAnimation=es,l.Projection=vu,l.Rectangle=Ci,l.Renderer=Dn,l.SVG=cs,l.SVGOverlay=el,l.TileLayer=di,l.Tooltip=lr,l.Transformation=at,l.Util=le,l.VideoOverlay=ci,l.bind=p,l.bounds=ae,l.canvas=ur,l.circle=Su,l.circleMarker=ju,l.control=Qa,l.divIcon=zd,l.extend=d,l.featureGroup=bu,l.geoJSON=Wr,l.geoJson=sr,l.gridLayer=Cu,l.icon=Ws,l.imageOverlay=wu,l.latLng=we,l.latLngBounds=K,l.layerGroup=kd,l.map=Gl,l.marker=Nu,l.point=W,l.polygon=Cd,l.polyline=Td,l.popup=ku,l.rectangle=Md,l.setOptions=A,l.stamp=v,l.svg=cr,l.svgOverlay=Eu,l.tileLayer=Gn,l.tooltip=Ad,l.transformation=Ee,l.version=o,l.videoOverlay=os;var ro=window.L;l.noConflict=function(){return window.L=ro,this},window.L=l}))})(Vo,Vo.exports)),Vo.exports}var XA=$A();const Ki=sd(XA);function JA(t){return t==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:t==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function WA({markers:t}){const a=j.useRef(null),l=j.useRef(null),o=j.useRef(null);return j.useEffect(()=>{if(!a.current||l.current)return;const d=t[0]?.lat??41.015137,m=t[0]?.lon??28.97953,p=Ki.map(a.current,{center:[d,m],zoom:14,zoomControl:!0});return l.current=p,Ki.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(p),o.current=Ki.layerGroup().addTo(p),()=>{l.current&&(l.current.remove(),l.current=null),o.current=null}},[t]),j.useEffect(()=>{if(!l.current||!o.current)return;const d=l.current,m=o.current;if(m.clearLayers(),!t.length)return;const p=[],y=new Map;for(const _ of t){const S=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`;y.set(S,(y.get(S)??0)+1)}const v=new Map;for(const _ of t){const S=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`,w=y.get(S)??1,C=v.get(S)??0;v.set(S,C+1);let z=_.lat,k=_.lon;if(w>1){const O=2*Math.PI*C/w,Z=12e-5;z=_.lat+Math.sin(O)*Z,k=_.lon+Math.cos(O)*Z}const A=JA(_.kind);Ki.circleMarker([z,k],A).bindPopup(`${_.label}<br/>${_.lat.toFixed(6)}, ${_.lon.toFixed(6)}`).addTo(m),p.push([z,k])}if(p.length===1){d.setView(p[0],16,{animate:!0});return}d.fitBounds(Ki.latLngBounds(p),{padding:[24,24],maxZoom:17,animate:!0})},[t]),s.jsx("div",{ref:a,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const ez=Ba({home_lat:fn().min(-90),home_lon:fn().min(-180),radius_m:fn().int().positive().max(2e3)}),tz=Ba({expires_in_minutes:fn().int().positive().max(1440)});function Hi(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function nz(t){return t==="OK"?"Tamam":t==="INCOMPLETE"?"Eksik":t==="LEAVE"?"Izinli":"Tatilde"}function xv(t,a){return t===null||a===null?"-":`${t.toFixed(6)}, ${a.toFixed(6)}`}function az(){const t=$j(),a=Ll(),l=zn(),{pushToast:o}=Mn(),d=new Date,m=Number(t.id),p=Number.isFinite(m)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(m),[y,v]=j.useState("41.0"),[_,S]=j.useState("29.0"),[w,C]=j.useState("120"),[z,k]=j.useState(null),[A,O]=j.useState(""),[Z,D]=j.useState(""),[R,V]=j.useState(""),[Y,G]=j.useState(String(d.getFullYear())),[Q,J]=j.useState(String(d.getMonth()+1)),[ie,ye]=j.useState(null),[te,oe]=j.useState({checkin:!0,checkout:!0,latest:!0}),[le,F]=j.useState(!1),[re,q]=j.useState("60"),[U,ce]=j.useState(null),[ke,W]=j.useState(null),[M,ae]=j.useState(null),P=Be({queryKey:["employee-detail",m],queryFn:()=>BE(m),enabled:Number.isFinite(m)}),K=P.data?.employee,xe=Be({queryKey:["departments","employee-detail-edit"],queryFn:()=>Ls(),enabled:Number.isFinite(m)}),we=Be({queryKey:["department-shifts",K?.department_id],queryFn:()=>lu(K?.department_id?{department_id:K.department_id,active_only:!1}:void 0),enabled:!!K?.department_id}),Me=Number(Y),Fe=Number(Q),He=Number.isFinite(Me)&&Number.isFinite(Fe)&&Fe>=1&&Fe<=12,lt=Be({queryKey:["employee-monthly",m,Me,Fe],queryFn:()=>gf({employee_id:m,year:Me,month:Fe}),enabled:Number.isFinite(m)&&He}),at=Be({queryKey:["employee-monthly-current",m,d.getFullYear(),d.getMonth()+1],queryFn:()=>gf({employee_id:m,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(m)}),Ee=Ke({mutationFn:ue=>qE(m,ue),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${m} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:ue=>{const We=Pe(ue,"Konum kaydedilemedi.").message;k(We),o({variant:"error",title:"Konum kaydedilemedi",description:We})}}),Ve=Ke({mutationFn:ue=>s_(m,{is_active:ue}),onSuccess:ue=>{o({variant:"success",title:ue.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${ue.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:ue=>{o({variant:"error",title:"Durum guncellenemedi",description:Pe(ue,"Islem basarisiz.").message})}}),St=Ke({mutationFn:ue=>IE(m,ue),onSuccess:ue=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${ue.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",ue.department_id]})},onError:ue=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Pe(ue,"Islem basarisiz.").message})}}),Bt=Ke({mutationFn:ue=>UE(m,{shift_id:ue}),onSuccess:ue=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${ue.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:ue=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Pe(ue,"Islem basarisiz.").message})}}),Ft=Ke({mutationFn:p_,onSuccess:ue=>{ce(null),W(ue.token),ae(ue.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${m} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:ue=>{const We=Pe(ue,"Cihaz daveti olusturulamadi.").message;ce(We),o({variant:"error",title:"Davet olusturulamadi",description:We})}});j.useEffect(()=>{P.data?.home_location&&(v(String(P.data.home_location.home_lat)),S(String(P.data.home_location.home_lon)),C(String(P.data.home_location.radius_m)))},[P.data?.home_location]),j.useEffect(()=>{K&&O(K.shift_id?String(K.shift_id):"")},[K]),j.useEffect(()=>{K&&(D(K.full_name),V(K.department_id?String(K.department_id):""))},[K]),j.useEffect(()=>{Number.isFinite(m)&&(p||a("/employees",{replace:!0}))},[m,p,a]);const ln=async ue=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(ue);else{const We=document.createElement("textarea");We.value=ue,document.body.appendChild(We),We.select(),document.execCommand("copy"),document.body.removeChild(We)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},on=()=>{ce(null),W(null),ae(null),q("60"),F(!0)},Nn=ue=>{ue.preventDefault(),ce(null);const We=tz.safeParse({expires_in_minutes:re});if(!We.success){const bt=We.error.issues[0]?.message??"Sure alanini kontrol edin.";ce(bt),o({variant:"error",title:"Form hatasi",description:bt});return}Ft.mutate({employee_id:m,expires_in_minutes:We.data.expires_in_minutes})},ee=ue=>{ue.preventDefault(),k(null);const We=ez.safeParse({home_lat:y,home_lon:_,radius_m:w});if(!We.success){const bt=We.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(bt),o({variant:"error",title:"Form hatasi",description:bt});return}Ee.mutate(We.data)},Te=ue=>{ue.preventDefault();const We=Z.trim();if(!We){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const bt=R?Number(R):null;if(R&&(bt===null||!Number.isFinite(bt)||bt<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}St.mutate({full_name:We,department_id:bt})},$e=lt.data?.days??[],Lt=P.data?.ip_summary??[];j.useEffect(()=>{if(!ie)return;$e.some(We=>We.date===ie)||ye(null)},[$e,ie]);const Xe=j.useMemo(()=>$e.find(ue=>ue.date===ie)??null,[$e,ie]),ve=j.useMemo(()=>{const ue=[];return Xe&&(Xe.in_lat!==null&&Xe.in_lon!==null&&ue.push({id:`${Xe.date}-in`,lat:Xe.in_lat,lon:Xe.in_lon,label:`${Xe.date} - Mesai Baslangici`,kind:"checkin"}),Xe.out_lat!==null&&Xe.out_lon!==null&&ue.push({id:`${Xe.date}-out`,lat:Xe.out_lat,lon:Xe.out_lon,label:`${Xe.date} - Mesai Bitisi`,kind:"checkout"})),P.data?.latest_location&&ue.push({id:"latest",lat:P.data.latest_location.lat,lon:P.data.latest_location.lon,label:"Son bildirilen konum",kind:"latest"}),ue},[P.data?.latest_location,Xe]),X=j.useMemo(()=>ve.filter(ue=>te[ue.kind]),[ve,te]);j.useEffect(()=>{ve.length&&(X.length||oe({checkin:!0,checkout:!0,latest:!0}))},[X.length,ve.length]);const Oe=ue=>{if(!ve.some(Ut=>Ut.kind===ue)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const bt=Object.values(te).filter(Boolean).length;if(te[ue]&&bt===1){oe({checkin:!0,checkout:!0,latest:!0});return}oe({checkin:ue==="checkin",checkout:ue==="checkout",latest:ue==="latest"})},Tt=()=>{oe({checkin:!0,checkout:!0,latest:!0})},Je=(ue,We)=>{const bt=ue.in_lat!==null&&ue.in_lon!==null,Ut=ue.out_lat!==null&&ue.out_lon!==null;if(!(We==="in"?bt:Ut)){o({variant:"info",title:"Konum bulunamadi",description:`${ue.date} icin secilen konum kaydi yok.`});return}ye(ue.date),oe({checkin:!0,checkout:!0,latest:!0})},pn=j.useMemo(()=>`${P.data?.devices.length??0} cihaz`,[P.data?.devices.length]);return Number.isFinite(m)?p?P.isLoading?s.jsx(Rt,{}):P.isError||!K?s.jsx(_t,{message:"Calisan kaydi bulunamadi."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:`Calisan Detayi #${K.id}`,description:`${K.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{const ue=!K.is_active;window.confirm(ue?`${K.full_name} arsivden cikarilsin mi?`:`${K.full_name} arsivlensin mi?`)&&Ve.mutate(ue)},disabled:Ve.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${K.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:K.is_active?"Arsivle":"Arsivden Cikar"}),s.jsx("button",{type:"button",onClick:on,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),s.jsx(Ce,{children:s.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),s.jsx("p",{className:"text-base font-semibold text-slate-900",children:K.full_name}),s.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",K.id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),s.jsx(Rs,{value:K.is_active?"Aktif":"Pasif"}),s.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",K.region_name??"-"]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",K.department_id??"-"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:Hi(P.data?.last_portal_seen_utc)}),s.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",pn]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay fazla mesai"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:s.jsx(rt,{minutes:at.data?.totals.overtime_minutes??0})}),s.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),s.jsxs("form",{onSubmit:Te,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",s.jsx("input",{value:Z,onChange:ue=>D(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:R,onChange:ue=>V(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:xe.isLoading,children:[s.jsx("option",{value:"",children:"Atanmamis"}),(xe.data??[]).map(ue=>s.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),s.jsx("button",{type:"submit",disabled:St.isPending||xe.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:St.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),xe.isError?s.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),s.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",s.jsxs("select",{value:A,onChange:ue=>O(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!K.department_id||we.isLoading,children:[s.jsx("option",{value:"",children:"Atanmamis"}),(we.data??[]).map(ue=>s.jsxs("option",{value:ue.id,children:[ue.name," (",ue.start_time_local,"-",ue.end_time_local,")"]},ue.id))]})]}),s.jsx("button",{type:"button",disabled:Bt.isPending||!K.department_id,onClick:()=>{const ue=A?Number(A):null;Bt.mutate(ue)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Bt.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",s.jsx("input",{type:"number",value:Y,onChange:ue=>G(ue.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),s.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",s.jsx("input",{type:"number",min:1,max:12,value:Q,onChange:ue=>J(ue.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),He?lt.isLoading?s.jsx(Rt,{}):lt.isError?s.jsx(_t,{message:Pe(lt.error,"Aylik puantaj alinamadi.").message}):s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:s.jsx(rt,{minutes:lt.data?.totals.worked_minutes??0})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay fazla mesai"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:s.jsx(rt,{minutes:lt.data?.totals.overtime_minutes??0})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:lt.data?.totals.incomplete_days??0})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Tarih"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Giris"}),s.jsx("th",{className:"py-2",children:"Cikis"}),s.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),s.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),s.jsx("th",{className:"py-2",children:"Net Sure"}),s.jsx("th",{className:"py-2",children:"Fazla Mesai"}),s.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),s.jsx("tbody",{children:$e.map(ue=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:ue.date}),s.jsx("td",{className:"py-2",children:nz(ue.status)}),s.jsx("td",{className:"py-2",children:Hi(ue.in)}),s.jsx("td",{className:"py-2",children:Hi(ue.out)}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-xs",children:xv(ue.in_lat,ue.in_lon)}),ue.in_lat!==null&&ue.in_lon!==null?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>Je(ue,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-xs",children:xv(ue.out_lat,ue.out_lon)}),ue.out_lat!==null&&ue.out_lon!==null?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>Je(ue,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:ue.worked_minutes})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:ue.overtime_minutes})}),s.jsx("td",{className:"py-2 text-xs text-slate-600",children:ue.flags.length?ue.flags.join(", "):"-"})]},ue.date))})]})})]}):s.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),s.jsx("div",{className:"mt-3 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Cihaz ID"}),s.jsx("th",{className:"py-2",children:"Parmak Izi"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Olusma"}),s.jsx("th",{className:"py-2",children:"Son Attendance"}),s.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),s.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),s.jsx("tbody",{children:(P.data?.devices??[]).map(ue=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:ue.id}),s.jsx("td",{className:"py-2 font-mono text-xs",children:ue.device_fingerprint}),s.jsx("td",{className:"py-2",children:s.jsx(Rs,{value:ue.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"py-2",children:Hi(ue.created_at)}),s.jsx("td",{className:"py-2",children:Hi(ue.last_attendance_ts_utc)}),s.jsx("td",{className:"py-2",children:ue.last_seen_ip??"-"}),s.jsx("td",{className:"py-2",children:Hi(ue.last_seen_at_utc)})]},ue.id))})]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),s.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Zaman"}),s.jsx("th",{className:"py-2",children:"Islem"}),s.jsx("th",{className:"py-2",children:"IP"}),s.jsx("th",{className:"py-2",children:"User Agent"})]})}),s.jsx("tbody",{children:(P.data?.recent_activity??[]).map((ue,We)=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Hi(ue.ts_utc)}),s.jsx("td",{className:"py-2",children:ue.action}),s.jsx("td",{className:"py-2",children:ue.ip??"-"}),s.jsx("td",{className:"py-2 max-w-[280px] truncate",title:ue.user_agent??"-",children:ue.user_agent??"-"})]},`${ue.ts_utc}-${We}`))})]})})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),s.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:Lt.length?s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"IP"}),s.jsx("th",{className:"py-2",children:"Son gorulme"}),s.jsx("th",{className:"py-2",children:"Aksiyon"}),s.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),s.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),s.jsx("tbody",{children:Lt.map(ue=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2 font-mono text-xs",children:ue.ip}),s.jsx("td",{className:"py-2",children:Hi(ue.last_seen_at_utc)}),s.jsx("td",{className:"py-2",children:ue.last_action}),s.jsx("td",{className:"py-2",children:ue.last_lat!==null&&ue.last_lon!==null?`${ue.last_lat.toFixed(6)}, ${ue.last_lon.toFixed(6)}`:"-"}),s.jsx("td",{className:"py-2",children:ue.last_location_ts_utc?Hi(ue.last_location_ts_utc):"-"})]},ue.ip))})]}):s.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),ie?s.jsx("button",{type:"button",onClick:()=>{ye(null),oe({checkin:!0,checkout:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),Xe?s.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",s.jsx("span",{className:"font-semibold",children:Xe.date})," gununun giris/cikis konumlari"]}):P.data?.latest_location?s.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),X.length?s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsx(WA,{markers:X}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[s.jsxs("button",{type:"button",onClick:()=>Oe("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${te.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),s.jsxs("button",{type:"button",onClick:()=>Oe("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${te.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),s.jsxs("button",{type:"button",onClick:()=>Oe("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${te.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),s.jsx("button",{type:"button",onClick:Tt,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),P.data?.home_location?null:s.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),s.jsxs("form",{onSubmit:ee,className:"mt-4 grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",s.jsx("input",{value:y,onChange:ue=>v(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",s.jsx("input",{value:_,onChange:ue=>S(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",s.jsx("input",{value:w,onChange:ue=>C(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",disabled:Ee.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ee.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):P.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?s.jsx("p",{className:"form-validation",children:z}):null]}),s.jsxs(Xo,{open:le,title:"Cihaz Baglama Linki Olustur",onClose:()=>F(!1),children:[s.jsxs("form",{onSubmit:Nn,className:"space-y-4",children:[s.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",s.jsx("input",{value:re,onChange:ue=>q(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsx("button",{type:"submit",disabled:Ft.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ft.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),s.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),U?s.jsx("p",{className:"form-validation",children:U}):null,ke&&M?s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(gv,{label:"Token",value:ke,onCopy:ln}),s.jsx(gv,{label:"Baglanti Linki (invite_url)",value:M,onCopy:ln})]}):null]})]}):s.jsx(Rt,{}):s.jsx(_t,{message:"Gecersiz calisan id degeri."})}const iz={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},sz={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Pc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},X_="Europe/Istanbul";function km(t){const a=[];t.status==="INCOMPLETE"&&a.push("EKSIK_GUN");for(const l of t.flags)a.push(l);return a}function rz(t){return t.length===0?void 0:`Supheli nedenleri:
${t.map((l,o)=>{const d=_i(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function vv(t){if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:X_,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)}function _v(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:X_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(a)}function bv(t){if(!t)return{status:"NORMAL",reason:""};const a=(t.note??"").trim(),l=a.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:a.replace(l[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:a}:{status:"NORMAL",reason:a}}function lz(t,a){const l=a.trim();if(t==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${t}]`;return l?`${o} ${l}`:o}function oz(){const t=zn(),{pushToast:a}=Mn(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,m]=j.useState(o),[p,y]=j.useState(o),[v,_]=j.useState(!1),[S,w]=j.useState(null),[C,z]=j.useState(!1),[k,A]=j.useState(!1),[O,Z]=j.useState(""),[D,R]=j.useState(""),[V,Y]=j.useState(""),[G,Q]=j.useState(""),[J,ie]=j.useState("NORMAL"),[ye,te]=j.useState("AUTO"),[oe,le]=j.useState(""),[F,re]=j.useState(null),[q,U]=j.useState(null),ce=Be({queryKey:["employees","all"],queryFn:()=>ti({status:"all"})}),ke=Number(p.employeeId),W=Number(p.year),M=Number(p.month),ae=Number.isFinite(ke)&&ke>0&&Number.isFinite(W)&&W>0&&Number.isFinite(M)&&M>=1&&M<=12,P=Be({queryKey:["employee-monthly",ke,W,M],queryFn:()=>gf({employee_id:ke,year:W,month:M}),enabled:ae}),K=Be({queryKey:["manual-overrides",ke,W,M],queryFn:()=>b1(ke,W,M),enabled:ae}),xe=Ke({mutationFn:({employeeId:ve,dayDate:X,inTime:Oe,outTime:Tt,status:Je,ruleSource:pn,ruleShiftId:ue,reason:We})=>{const bt=Je!=="NORMAL";return _1(ve,{day_date:X,in_time:bt?null:Oe||null,out_time:bt?null:Tt||null,is_absent:bt,rule_source_override:pn,rule_shift_id_override:pn==="SHIFT"&&ue?Number(ue):null,note:lz(Je,We)})},onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),U(null),le(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:ve=>{a({variant:"error",title:"Duzeltme kaydedilemedi",description:Pe(ve,"Islem basarisiz.").message})}}),we=Ke({mutationFn:N1,onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),U(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:ve=>{a({variant:"error",title:"Silme islemi basarisiz",description:Pe(ve,"Islem basarisiz.").message})}}),Me=j.useMemo(()=>ce.data?.find(ve=>ve.id===ke),[ce.data,ke]),Fe=Me?.full_name,He=Be({queryKey:["monthly-manual-shifts",Me?.department_id],queryFn:()=>lu(Me?.department_id?{department_id:Me.department_id,active_only:!1}:void 0),enabled:!!Me?.department_id}),lt=j.useMemo(()=>{const ve=new Map;for(const X of K.data??[])ve.set(X.day_date,X);return ve},[K.data]),at=P.data?.days??[],Ee=j.useMemo(()=>at.reduce((ve,X)=>ve+(X.missing_minutes??0),0),[at]),Ve=j.useMemo(()=>at.filter(ve=>!(v&&km(ve).length===0||S&&!ve.flags.includes(S))),[at,S,v]),St=j.useMemo(()=>at.filter(ve=>km(ve).length>0).length,[at]),Bt=j.useMemo(()=>{const ve=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],X=new Map;for(const Oe of ve)X.set(Oe,0);for(const Oe of at)for(const Tt of ve)Oe.flags.includes(Tt)&&X.set(Tt,(X.get(Tt)??0)+1);return ve.map(Oe=>({code:Oe,count:X.get(Oe)??0}))},[at]),Ft=j.useMemo(()=>{const ve=[];return p.employeeId&&ve.push(`Calisan: ${p.employeeId}`),ve.push(`Yil: ${p.year}`),ve.push(`Ay: ${p.month}`),v&&ve.push("Sadece supheli gunler"),S&&ve.push(`Cakisma: ${_i(S).label}`),ve},[p,S,v]),ln=()=>y({...d}),on=()=>{m(o),y(o),_(!1),w(null)},Nn=async()=>{if(!ae){a({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const ve=await E1({employee_id:ke,year:W,month:M}),X=window.URL.createObjectURL(ve),Oe=document.createElement("a");Oe.href=X,Oe.download=`puantaj-employee-${ke}-${W}-${String(M).padStart(2,"0")}.xlsx`,document.body.appendChild(Oe),Oe.click(),Oe.remove(),window.URL.revokeObjectURL(X)}catch(ve){a({variant:"error",title:"Excel indirilemedi",description:Pe(ve,"Dosya olusturulamadi.").message})}finally{z(!1)}},ee=ve=>{const X=lt.get(ve.date),Oe=bv(X);Z(ve.date),re(X?.id??null),ie(Oe.status),Q(Oe.reason),R(X?vv(X.in_ts):""),Y(X?vv(X.out_ts):""),te(X?.rule_source_override??"AUTO"),le(X?.rule_shift_id_override?String(X.rule_shift_id_override):ve.shift_id?String(ve.shift_id):""),U(null),A(!0)},Te=()=>{if(!ae||at.length===0){a({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}ee(at[0])},$e=()=>{if(U(null),!O)return U("Duzeltme icin tarih secmelisiniz."),!1;if(J==="NORMAL"){if(!D&&!V)return U("Normal gun icin en az bir saat bilgisi girin."),!1;if(D&&V&&V<D)return U("Cikis saati giris saatinden kucuk olamaz."),!1}return ye==="SHIFT"&&!oe?(U("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},Lt=ve=>{ve.preventDefault(),ae&&$e()&&xe.mutate({employeeId:ke,dayDate:O,inTime:D,outTime:V,status:J,ruleSource:ye,ruleShiftId:oe,reason:G})};if(ce.isLoading)return s.jsx(Rt,{});if(ce.isError)return s.jsx(_t,{message:"Calisan listesi alinamadi."});const Xe=ce.data??[];return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:Te,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),s.jsx("button",{type:"button",onClick:()=>{Nn()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),s.jsx(Wa,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[s.jsx(Ra,{label:"Calisan",employees:Xe,value:d.employeeId,onChange:ve=>m(X=>({...X,employeeId:ve})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",s.jsx("input",{type:"number",value:d.year,onChange:ve=>m(X=>({...X,year:ve.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",s.jsx("input",{type:"number",value:d.month,onChange:ve=>m(X=>({...X,month:ve.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:ve=>_(ve.target.checked)}),"Sadece supheli gunleri goster"]})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:ln,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),s.jsx("button",{type:"button",onClick:on,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Ft.map(ve=>s.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:ve},ve))})]}),ae?null:s.jsx(_t,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),P.isLoading?s.jsx(Rt,{}):null,P.isError?s.jsx(_t,{message:Pe(P.error,"Aylik rapor alinamadi.").message}):null,P.data?s.jsxs(s.Fragment,{children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),s.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",Fe??P.data.employee_id," | Donem:"," ",P.data.year,"-",P.data.month]}),s.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-5",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:P.data.totals.worked_minutes})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Fazla Mesai"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:P.data.totals.overtime_minutes})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),s.jsx("p",{className:"text-lg font-semibold",children:P.data.totals.incomplete_days})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),s.jsx("p",{className:"text-lg font-semibold",children:St})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:Ee})})]})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:P.data.worked_minutes_net})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:P.data.annual_overtime_used_minutes})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),s.jsx("p",{className:"text-lg font-semibold",children:s.jsx(rt,{minutes:P.data.annual_overtime_remaining_minutes})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),s.jsx("p",{className:`text-sm font-semibold ${P.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:P.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),s.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),s.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:U1().map(ve=>s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",title:_i(ve).description,children:_i(ve).label})," ","(",ve,"): ",_i(ve).description]},ve))})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?s.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,s.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Bt.map(ve=>s.jsxs("button",{type:"button",onClick:()=>{w(X=>X===ve.code?null:ve.code),_(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===ve.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[s.jsx("p",{className:"text-xs text-slate-500",title:_i(ve.code).description,children:_i(ve.code).label}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ve.count})]},ve.code))})]}),Ve.length===0?s.jsx(Ce,{children:s.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):s.jsx(Ce,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Tarih"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Giris"}),s.jsx("th",{className:"py-2",children:"Cikis"}),s.jsx("th",{className:"py-2",children:"Calisma"}),s.jsx("th",{className:"py-2",children:"Fazla Mesai"}),s.jsx("th",{className:"py-2",children:"Eksik Sure"}),s.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),s.jsx("th",{className:"py-2",children:"Vardiya"}),s.jsx("th",{className:"py-2",children:"Izin"}),s.jsx("th",{className:"py-2",children:"Supheli Neden"}),s.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),s.jsx("tbody",{children:Ve.map(ve=>{const X=km(ve),Oe=X.length>0,Tt=rz(X),Je=lt.get(ve.date),pn=bv(Je),ue=ve.flags.includes("MANUAL_OVERRIDE")||ve.flags.includes("MANUAL_EVENT")||!!Je,We=pn.status!=="NORMAL";return s.jsxs("tr",{className:`border-t border-slate-100 ${Oe?"bg-amber-50/40":""}`,children:[s.jsx("td",{className:"py-2",children:ve.date}),s.jsxs("td",{className:"py-2",children:[s.jsx(Rs,{value:ve.status}),ue?s.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,We?s.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:iz[pn.status]}):null,s.jsx("span",{className:"ml-2",children:s.jsx(y_,{suspicious:Oe,tooltip:Tt})})]}),s.jsx("td",{className:"py-2",title:ve.in??void 0,children:_v(ve.in)}),s.jsx("td",{className:"py-2",title:ve.out??void 0,children:_v(ve.out)}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:ve.worked_minutes})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:ve.overtime_minutes})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:ve.missing_minutes??0})}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${ve.applied_planned_minutes} dk | Mola: ${ve.applied_break_minutes} dk`,children:sz[ve.rule_source]})}),s.jsx("td",{className:"py-2",children:ve.shift_name??"-"}),s.jsx("td",{className:"py-2",children:ve.leave_type??"-"}),s.jsx("td",{className:"py-2",children:s.jsx(x_,{reasons:X})}),s.jsx("td",{className:"py-2",children:s.jsx("button",{type:"button",onClick:()=>ee(ve),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},ve.date)})})]})})})]}):null,s.jsx(Xo,{open:k,title:O?`${O} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),children:s.jsxs("form",{onSubmit:Lt,className:"space-y-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",s.jsx("input",{type:"date",value:O,onChange:ve=>Z(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",s.jsxs("select",{value:J,onChange:ve=>ie(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"NORMAL",children:"Normal"}),s.jsx("option",{value:"IZINLI",children:"Izinli"}),s.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),s.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",s.jsxs("select",{value:ye,onChange:ve=>{const X=ve.target.value;te(X),X!=="SHIFT"&&le("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"AUTO",children:Pc.AUTO}),s.jsx("option",{value:"SHIFT",children:Pc.SHIFT}),s.jsx("option",{value:"WEEKLY",children:Pc.WEEKLY}),s.jsx("option",{value:"WORK_RULE",children:Pc.WORK_RULE})]})]}),ye==="SHIFT"?s.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",s.jsxs("select",{value:oe,onChange:ve=>le(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Vardiya seciniz"}),(He.data??[]).map(ve=>s.jsxs("option",{value:ve.id,children:[ve.name," (",ve.start_time_local," - ",ve.end_time_local,")"]},ve.id))]})]}):null,s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",s.jsx("input",{type:"time",value:D,onChange:ve=>R(ve.target.value),disabled:J!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",s.jsx("input",{type:"time",value:V,onChange:ve=>Y(ve.target.value),disabled:J!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),J==="NORMAL"?s.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):s.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",s.jsx("input",{type:"text",value:G,onChange:ve=>Q(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),q?s.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:q}):null,s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"submit",disabled:xe.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:xe.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),F?s.jsx("button",{type:"button",onClick:()=>we.mutate(F),disabled:we.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:we.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const uz=Ba({full_name:ya().min(2,"Ad soyad en az 2 karakter olmali."),region_id:id([fn().int().positive(),vf()]),department_id:id([fn().int().positive(),vf()]),is_active:xd()});function cz(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState(!0),[S,w]=j.useState(""),[C,z]=j.useState(!1),[k,A]=j.useState(!1),[O,Z]=j.useState(""),[D,R]=j.useState(""),[V,Y]=j.useState(null),G=Be({queryKey:["employees",k,O,D],queryFn:()=>ti({...k?{include_inactive:!0}:{},...O?{region_id:Number(O)}:{},...D?{department_id:Number(D)}:{}})}),Q=Be({queryKey:["departments"],queryFn:Ls}),J=Be({queryKey:["regions","employees-page"],queryFn:()=>md({include_inactive:!0})}),ie=Ke({mutationFn:PE,onSuccess:W=>{o(""),m(""),y(""),_(!0),Y(null),z(!1),a({variant:"success",title:"Calisan olusturuldu",description:`${W.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const M=Pe(W,"Calisan olusturulamadi.").message;Y(M),a({variant:"error",title:"Calisan olusturulamadi",description:M})}}),ye=Ke({mutationFn:({employeeId:W,nextStatus:M})=>s_(W,{is_active:M}),onSuccess:W=>{a({variant:"success",title:W.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${W.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const M=Pe(W,"Calisan durumu guncellenemedi.").message;a({variant:"error",title:"Islem basarisiz",description:M})}}),te=W=>{W.preventDefault(),Y(null);const M=d.trim()===""?null:Number(d),ae=p.trim()===""?null:Number(p),P=uz.safeParse({full_name:l,region_id:M,department_id:ae,is_active:v});if(!P.success){const K=P.error.issues[0]?.message??"Calisan formunu kontrol edin.";Y(K),a({variant:"error",title:"Form hatasi",description:K});return}ie.mutate(P.data)},oe=G.data??[],le=Q.data??[],F=J.data??[],re=new Map(le.map(W=>[W.id,W.name])),q=new Map(F.map(W=>[W.id,W.name])),U=j.useMemo(()=>{const W=d?Number(d):null;return W?le.filter(M=>M.region_id===W):le},[le,d]),ce=j.useMemo(()=>{const W=O?Number(O):null;return W?le.filter(M=>M.region_id===W):le},[le,O]),ke=j.useMemo(()=>{const W=S.trim().toLowerCase();return W?oe.filter(M=>M.full_name.toLowerCase().includes(W)):oe},[oe,S]);return G.isLoading||Q.isLoading||J.isLoading?s.jsx(Rt,{}):G.isError||Q.isError||J.isError?s.jsx(_t,{message:"Calisan verileri alinamadi."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:s.jsx("button",{type:"button",onClick:()=>z(W=>!W),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?s.jsxs(Ce,{children:[s.jsxs("form",{onSubmit:te,className:"grid gap-3 md:grid-cols-5",children:[s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",s.jsx("input",{value:l,onChange:W=>o(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",s.jsxs("select",{value:d,onChange:W=>{m(W.target.value),y("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Atanmamis"}),F.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:p,onChange:W=>y(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Atanmamis"}),U.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:W=>_(W.target.checked)}),"Aktif"]}),s.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[s.jsx("button",{type:"submit",disabled:ie.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ie.isPending?"Kaydediliyor...":"Kaydet"}),s.jsx("button",{type:"button",onClick:()=>{z(!1),Y(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),V?s.jsx("div",{className:"form-validation",children:V}):null]}):null,s.jsxs(Ce,{children:[s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[s.jsx(Os,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",s.jsxs("select",{value:O,onChange:W=>{Z(W.target.value),R("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Tum bolgeler"}),F.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",s.jsxs("select",{value:D,onChange:W=>R(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Tum departmanlar"}),ce.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:W=>A(W.target.checked)}),"Arsivdekileri goster"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Calisan ID"}),s.jsx("th",{className:"py-2",children:"Ad Soyad"}),s.jsx("th",{className:"py-2",children:"Bolge"}),s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Islem"})]})}),s.jsx("tbody",{children:ke.map(W=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:W.id}),s.jsx("td",{className:"py-2",children:W.full_name}),s.jsx("td",{className:"py-2",children:W.region_name??(W.region_id?q.get(W.region_id):"-")??"-"}),s.jsx("td",{className:"py-2",children:W.department_id?re.get(W.department_id):"-"}),s.jsx("td",{className:"py-2",children:s.jsx(Rs,{value:W.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Wa,{to:`/employees/${W.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(W.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),s.jsx("button",{type:"button",disabled:ye.isPending,onClick:()=>{const M=!W.is_active;window.confirm(M?`${W.full_name} arsivden cikarilsin mi?`:`${W.full_name} arsivlensin mi?`)&&ye.mutate({employeeId:W.id,nextStatus:M})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${W.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:W.is_active?"Arsivle":"Arsivden Cikar"})]})})]},W.id))})]})}),ke.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const dz=Ba({employee_id:fn().int().positive(),start_date:ya().min(1),end_date:ya().min(1),type:bf(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:bf(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:ya().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function hz(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState("ANNUAL"),[S,w]=j.useState("APPROVED"),[C,z]=j.useState(""),[k,A]=j.useState(null),[O,Z]=j.useState(""),[D,R]=j.useState(String(new Date().getFullYear())),[V,Y]=j.useState(String(new Date().getMonth()+1)),G=Be({queryKey:["employees"],queryFn:()=>ti({include_inactive:!0,status:"all"})}),Q=j.useMemo(()=>{const re=Number(O),q=Number(D),U=Number(V);return{employee_id:Number.isFinite(re)&&re>0?re:void 0,year:Number.isFinite(q)&&q>0?q:void 0,month:Number.isFinite(U)&&U>0?U:void 0}},[O,D,V]),J=Be({queryKey:["leaves",Q.employee_id??"all",Q.year??"all",Q.month??"all"],queryFn:()=>f_(Q)}),ie=Ke({mutationFn:y1,onSuccess:re=>{m(""),y(""),_("ANNUAL"),w("APPROVED"),z(""),A(null),a({variant:"success",title:"zin kayd oluturuldu",description:`zin #${re.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:re=>{const q=Pe(re,"zin kayd oluturulamad.");A(q.message),a({variant:"error",title:"zin oluturulamad",description:q.message})}}),ye=Ke({mutationFn:x1,onSuccess:(re,q)=>{a({variant:"success",title:"zin kayd silindi",description:`zin #${q} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:re=>{const q=Pe(re,"zin silinemedi.");a({variant:"error",title:"zin silinemedi",description:q.message})}}),te=re=>{re.preventDefault(),A(null);const q=dz.safeParse({employee_id:l,start_date:d,end_date:p,type:v,status:S,note:C});if(!q.success){const U=q.error.issues[0]?.message??"zin formunu kontrol edin.";A(U),a({variant:"error",title:"Form hatas",description:U});return}ie.mutate({...q.data,note:q.data.note||null})};if(G.isLoading)return s.jsx(Rt,{});if(G.isError)return s.jsx(_t,{message:"alan listesi alnamad."});const oe=G.data??[],le=J.data??[],F=new Map(oe.map(re=>[re.id,re.full_name]));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),s.jsxs("form",{onSubmit:te,className:"mt-4 grid gap-3 md:grid-cols-3",children:[s.jsx(Ra,{label:"alan",employees:oe,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",s.jsx("input",{type:"date",value:d,onChange:re=>m(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",s.jsx("input",{type:"date",value:p,onChange:re=>y(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",s.jsxs("select",{value:v,onChange:re=>_(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),s.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),s.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),s.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),s.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",s.jsxs("select",{value:S,onChange:re=>w(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"APPROVED",children:"ONAYLI"}),s.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),s.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",s.jsx("textarea",{value:C,onChange:re=>z(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",disabled:ie.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ie.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?s.jsx("div",{className:"form-validation",children:k}):null]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),s.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[s.jsx(Ra,{label:"alan",employees:oe,value:O,onChange:Z,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",s.jsx("input",{value:D,onChange:re=>R(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",s.jsx("input",{value:V,onChange:re=>Y(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),J.isLoading?s.jsx(Rt,{}):null,J.isError?s.jsx(_t,{message:"zin listesi alnamad."}):null,!J.isLoading&&!J.isError?s.jsxs(Ce,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"zin ID"}),s.jsx("th",{className:"py-2",children:"alan"}),s.jsx("th",{className:"py-2",children:"zin Tipi"}),s.jsx("th",{className:"py-2",children:"Tarih Aral"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"lem"})]})}),s.jsx("tbody",{children:le.map(re=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:re.id}),s.jsx("td",{className:"py-2",children:F.get(re.employee_id)??re.employee_id}),s.jsx("td",{className:"py-2",children:re.type}),s.jsxs("td",{className:"py-2",children:[re.start_date," - ",re.end_date]}),s.jsx("td",{className:"py-2",children:s.jsx(Rs,{value:re.status})}),s.jsx("td",{className:"py-2",children:s.jsx("button",{type:"button",onClick:()=>ye.mutate(re.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},re.id))})]})}),le.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const mz=Ba({username:ya().min(1,"Kullanc ad gerekli."),password:ya().min(1,"ifre gerekli.")});function fz(t){return t.code==="INVALID_CREDENTIALS"?"Giri bilgileri hatal":t.code==="TOO_MANY_ATTEMPTS"?"ok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatas":"Giri baarsz"}function pz(){const t=Ll(),a=Da(),{login:l}=Pl(),[o,d]=j.useState("admin"),[m,p]=j.useState(""),[y,v]=j.useState(null),[_,S]=j.useState(!1),w=j.useMemo(()=>{const z=a.state?.from,k=new URLSearchParams(a.search).get("redirect");return z??k??"/dashboard"},[a.search,a.state]),C=async z=>{z.preventDefault(),v(null);const k=mz.safeParse({username:o,password:m});if(!k.success){v({message:k.error.issues[0]?.message??"Form alanlarn kontrol et."});return}S(!0);try{await l(k.data.username,k.data.password),t(w,{replace:!0})}catch(A){v(Pe(A,"Giri baarsz."))}finally{S(!1)}};return s.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:s.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giri"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj ynetim paneline giri yap."}),s.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanc Ad"}),s.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"ifre"}),s.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:m,onChange:z=>p(z.target.value)})]}),y?s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[s.jsx("p",{className:"font-semibold",children:fz(y)}),s.jsx("p",{className:"mt-1",children:y.message}),y.requestId?s.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",y.requestId]}):null]}):null,s.jsx("button",{type:"submit",disabled:_,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giri yaplyor..."]}):"Giri Yap"})]}),s.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[bi.signatureText," | BUILD: ",bi.buildVersion]})]})})}const gz=[{to:"/employees",label:"alan Ynetimi",description:"Personel kart, ariv, profil gncelleme.",code:"CMD-EMP"},{to:"/attendance-events",label:"Puantaj Kaytlar",description:"Giri-k olaylar, manuel dzeltme.",code:"CMD-ATT"},{to:"/devices",label:"Cihaz Kontrol",description:"Cihaz aktivasyonu ve eriim denetimi.",code:"CMD-DEV"},{to:"/notifications",label:"Bildirim Merkezi",description:"Planl job ve push operasyonlar.",code:"CMD-NOT"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",description:"alan bazl puantaj analizi.",code:"CMD-RPT"},{to:"/audit-logs",label:"Sistem Loglar",description:"z kayd ve gvenlik denetimi.",code:"CMD-AUD"}];function Bc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function yz(t){return t==="NOT_STARTED"?"Balamad":t==="IN_PROGRESS"?"Mesai Devam Ediyor":"Mesai Tamamland"}function xz(){const{pushToast:t}=Mn(),[a,l]=j.useState("Ynetim Konsolu Bildirimi"),[o,d]=j.useState(""),[m,p]=j.useState(""),[y,v]=j.useState("bulk"),[_,S]=j.useState(""),[w,C]=j.useState([]),[z,k]=j.useState(""),A=Be({queryKey:["employees","management-console"],queryFn:()=>ti({status:"all",include_inactive:!0}),refetchInterval:3e4}),O=Be({queryKey:["devices","management-console"],queryFn:h_,refetchInterval:3e4}),Z=Be({queryKey:["attendance-events","management-console"],queryFn:()=>Hf({limit:14}),refetchInterval:2e4}),D=Be({queryKey:["employee-device-overview","management-console"],queryFn:()=>pf({limit:12,device_limit:2,include_inactive:!1}),refetchInterval:2e4}),R=Be({queryKey:["dashboard-employee-snapshot","management-console",z],queryFn:()=>m_({employee_id:Number(z)}),enabled:!!z,staleTime:15e3}),V=Ke({mutationFn:d_,onSuccess:U=>{t({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${U.total_targets} / Gnderilen: ${U.sent}`}),d(""),y==="single"&&(C([]),S(""))},onError:U=>{const ce=Pe(U,"Bildirim gnderimi baarsz.");t({variant:"error",title:"Gnderim baarsz",description:ce.message})}}),Y=A.data??[],G=O.data??[],Q=Z.data??[],J=D.data??[],ie=j.useMemo(()=>new Map(Y.map(U=>[U.id,U])),[Y]),ye=j.useMemo(()=>Y.filter(U=>U.is_active).length,[Y]),te=j.useMemo(()=>G.filter(U=>U.is_active).length,[G]),oe=j.useMemo(()=>Q.filter(U=>U.location_status==="VERIFIED_HOME").length,[Q]),le=j.useMemo(()=>Y.find(U=>String(U.id)===_)??null,[Y,_]),F=()=>{const U=Number(_);if(!Number.isInteger(U)||U<=0){t({variant:"error",title:"Hedef eklenemedi",description:"nce alan sein."});return}if(w.includes(U)){t({variant:"info",title:"Hedef zaten eklendi",description:`#${U} listede var.`});return}C(ce=>[...ce,U]),S("")},re=U=>{C(ce=>ce.filter(ke=>ke!==U))},q=U=>{if(U.preventDefault(),!a.trim()||!o.trim()||!m.trim()){t({variant:"error",title:"Eksik alan",description:"Balk, mesaj ve ynetici ifresi zorunludur."});return}if(y==="single"&&w.length===0){t({variant:"error",title:"Hedef seilmedi",description:"Tekli bildirim iin en az bir alan sein."});return}V.mutate({title:a.trim(),message:o.trim(),password:m.trim(),target:"employees",employee_ids:y==="single"?w:void 0})};return A.isLoading||O.isLoading||Z.isLoading||D.isLoading?s.jsx(Rt,{label:"Ynetim konsolu ykleniyor..."}):A.isError||O.isError||Z.isError||D.isError?s.jsx(_t,{message:"Ynetim konsolu verileri alnamad."}):s.jsxs("div",{className:"management-console-screen space-y-4",children:[s.jsx(bn,{title:"Ynetim Konsolu",description:"Tek merkezden bildirim, puantaj, konum ve cihaz operasyonlarn disiplinli akla ynetin."}),s.jsxs("div",{className:"management-console-kpi-grid",children:[s.jsxs(Ce,{className:"management-console-kpi-card",children:[s.jsx("p",{className:"management-console-kpi-label",children:"Toplam alan"}),s.jsx("p",{className:"management-console-kpi-value",children:Y.length}),s.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",ye]})]}),s.jsxs(Ce,{className:"management-console-kpi-card",children:[s.jsx("p",{className:"management-console-kpi-label",children:"Toplam Cihaz"}),s.jsx("p",{className:"management-console-kpi-value",children:G.length}),s.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",te]})]}),s.jsxs(Ce,{className:"management-console-kpi-card",children:[s.jsx("p",{className:"management-console-kpi-label",children:"Canl Olay Ak"}),s.jsx("p",{className:"management-console-kpi-value",children:Q.length}),s.jsxs("p",{className:"management-console-kpi-meta",children:["Dorulanm konum: ",oe]})]}),s.jsxs(Ce,{className:"management-console-kpi-card",children:[s.jsx("p",{className:"management-console-kpi-label",children:"Cihaz Grnm Satr"}),s.jsx("p",{className:"management-console-kpi-value",children:J.length}),s.jsxs("p",{className:"management-console-kpi-meta",children:["Son yenileme: ",Bc(new Date().toISOString())]})]})]}),s.jsxs(Ce,{className:"management-console-panel",children:[s.jsx("h4",{className:"management-console-title",children:"Komut Merkezi"}),s.jsx("p",{className:"management-console-subtitle",children:"Dank ekranlar arasnda dolamak yerine kritik ynetim modllerine tek panelden eriin."}),s.jsx("div",{className:"management-console-command-grid",children:gz.map(U=>s.jsxs(Wa,{to:U.to,className:"management-console-command-card",children:[s.jsx("span",{className:"management-console-command-code",children:U.code}),s.jsx("p",{className:"management-console-command-label",children:U.label}),s.jsx("p",{className:"management-console-command-desc",children:U.description})]},U.to))})]}),s.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.06fr_1.35fr]",children:[s.jsxs(Ce,{className:"management-console-panel",children:[s.jsx("h4",{className:"management-console-title",children:"Bildirim Terminali"}),s.jsx("p",{className:"management-console-subtitle",children:"Toplu veya tekli bildirim gnderimini ayn terminalden yrtn."}),s.jsxs("form",{className:"management-console-terminal mt-3 space-y-3",onSubmit:q,children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"text-sm",children:[s.jsx("span",{className:"management-console-field-label",children:"Gnderim Modu"}),s.jsxs("select",{value:y,onChange:U=>v(U.target.value),className:"management-console-input mt-1",children:[s.jsx("option",{value:"bulk",children:"Toplu (Tm alanlar)"}),s.jsx("option",{value:"single",children:"Tekli (Seili alanlar)"})]})]}),s.jsxs("label",{className:"text-sm",children:[s.jsx("span",{className:"management-console-field-label",children:"Ynetici ifresi"}),s.jsx("input",{type:"password",value:m,onChange:U=>p(U.target.value),className:"management-console-input mt-1",placeholder:"ifre"})]})]}),s.jsxs("label",{className:"text-sm",children:[s.jsx("span",{className:"management-console-field-label",children:"Balk"}),s.jsx("input",{value:a,onChange:U=>l(U.target.value),className:"management-console-input mt-1",placeholder:"Bildirim bal"})]}),s.jsxs("label",{className:"text-sm",children:[s.jsx("span",{className:"management-console-field-label",children:"Mesaj"}),s.jsx("textarea",{rows:4,value:o,onChange:U=>d(U.target.value),className:"management-console-input mt-1",placeholder:"Mesaj ierii"})]}),y==="single"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ra,{label:"Hedef alan",employees:Y,value:_,onChange:S,helperText:"alan seip listeye ekleyin."}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{type:"button",onClick:F,className:"management-console-action-button",children:"Hedefe Ekle"}),le?s.jsxs("span",{className:"management-console-inline-note",children:["Seili: #",le.id," - ",le.full_name]}):null]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.length===0?s.jsx("span",{className:"management-console-inline-note",children:"Henz hedef alan eklenmedi."}):w.map(U=>s.jsxs("button",{type:"button",onClick:()=>re(U),className:"management-console-chip",children:["#",U," - ",ie.get(U)?.full_name??"alan"," "]},U))})]}):s.jsx("p",{className:"management-console-inline-note",children:"Toplu mod: Aktif/Pasif ayrm olmadan tm alanlara gnderilir."}),s.jsx("button",{type:"submit",disabled:V.isPending,className:"management-console-send-button",children:V.isPending?"Gnderiliyor...":"Bildirimi Gnder"})]})]}),s.jsxs(Ce,{className:"management-console-panel",children:[s.jsx("h4",{className:"management-console-title",children:"alan Kontrol Odas"}),s.jsx("p",{className:"management-console-subtitle",children:"Tek alan iin puantaj, konum ve cihaz metriklerini anlk izleyin."}),s.jsxs("div",{className:"management-console-terminal mt-3 space-y-3",children:[s.jsx(Ra,{label:"Kontrol edilecek alan",employees:Y,value:z,onChange:k,helperText:"Seildiinde puantaj ve konum panelleri otomatik gncellenir."}),z?null:s.jsx("p",{className:"management-console-inline-note",children:"alan seildiinde canl zet burada grnr."}),z&&R.isLoading?s.jsx(Rt,{label:"Canl zet ykleniyor..."}):null,z&&R.isError?s.jsx(_t,{message:"alan zeti alnamad."}):null,R.data?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"management-console-strip",children:[s.jsx("span",{className:"management-console-strip-tag",children:"Durum"}),s.jsx("span",{children:yz(R.data.today_status)})]}),s.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[s.jsxs("div",{className:"management-console-block",children:[s.jsx("p",{className:"management-console-block-title",children:"Bu Ay"}),s.jsxs("p",{children:["Net alma: ",s.jsx(rt,{minutes:R.data.current_month.worked_minutes})]}),s.jsxs("p",{children:["Fazla Sre: ",s.jsx(rt,{minutes:R.data.current_month.extra_work_minutes})]}),s.jsxs("p",{children:["Fazla Mesai: ",s.jsx(rt,{minutes:R.data.current_month.overtime_minutes})]})]}),s.jsxs("div",{className:"management-console-block",children:[s.jsx("p",{className:"management-console-block-title",children:"nceki Ay"}),s.jsxs("p",{children:["Net alma: ",s.jsx(rt,{minutes:R.data.previous_month.worked_minutes})]}),s.jsxs("p",{children:["Fazla Sre: ",s.jsx(rt,{minutes:R.data.previous_month.extra_work_minutes})]}),s.jsxs("p",{children:["Fazla Mesai: ",s.jsx(rt,{minutes:R.data.previous_month.overtime_minutes})]})]})]}),s.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[s.jsxs("div",{className:"management-console-block",children:[s.jsx("p",{className:"management-console-block-title",children:"Son Puantaj"}),R.data.last_event?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:["Tip: ",R.data.last_event.event_type]}),s.jsxs("p",{children:["Zaman: ",Bc(R.data.last_event.ts_utc)]}),s.jsxs("p",{children:["Konum Durumu: ",R.data.last_event.location_status]})]}):s.jsx("p",{children:"Kayt bulunmuyor."})]}),s.jsxs("div",{className:"management-console-block",children:[s.jsx("p",{className:"management-console-block-title",children:"Son Konum"}),R.data.latest_location?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:["Koordinat: ",R.data.latest_location.lat.toFixed(6),", ",R.data.latest_location.lon.toFixed(6)]}),s.jsxs("p",{children:["Doruluk: ",R.data.latest_location.accuracy_m??"-"," m"]}),s.jsxs("p",{children:["Zaman: ",Bc(R.data.latest_location.ts_utc)]})]}):s.jsx("p",{children:"Konum verisi yok."})]})]}),s.jsxs("div",{className:"management-console-strip",children:[s.jsx("span",{className:"management-console-strip-tag",children:"Cihaz"}),s.jsxs("span",{children:["Aktif ",R.data.active_devices," / Toplam ",R.data.total_devices]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Wa,{to:`/employees/${R.data.employee.id}`,className:"management-console-action-button",children:"alan Detayn A"}),s.jsx(Wa,{to:"/attendance-events",className:"management-console-action-button",children:"Puantaj Olaylarna Git"}),s.jsx(Wa,{to:"/devices",className:"management-console-action-button",children:"Cihaz Paneline Git"})]})]}):null]})]})]}),s.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[s.jsxs(Ce,{className:"management-console-panel",children:[s.jsx("h4",{className:"management-console-title",children:"Cihaz Eriim Ak"}),s.jsx("p",{className:"management-console-subtitle",children:"alan baznda cihaz younluu ve aktif cihaz oran."}),s.jsx("div",{className:"management-console-table-wrap mt-3",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"alan"}),s.jsx("th",{children:"Departman"}),s.jsx("th",{children:"Aktif/Toplam"}),s.jsx("th",{children:"lem"})]})}),s.jsx("tbody",{children:J.slice(0,10).map(U=>s.jsxs("tr",{children:[s.jsxs("td",{className:"py-2",children:["#",U.employee_id," - ",U.employee_name]}),s.jsx("td",{children:U.department_name??"-"}),s.jsxs("td",{children:[U.active_devices,"/",U.total_devices]}),s.jsx("td",{children:s.jsx(Wa,{className:"management-console-link",to:`/employees/${U.employee_id}`,children:"Detay"})})]},U.employee_id))})]})})]}),s.jsxs(Ce,{className:"management-console-panel",children:[s.jsx("h4",{className:"management-console-title",children:"Canl Puantaj Ak"}),s.jsx("p",{className:"management-console-subtitle",children:"Son giri-k olaylar ve konum dorulama durumu."}),s.jsx("div",{className:"management-console-table-wrap mt-3",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Zaman"}),s.jsx("th",{children:"alan"}),s.jsx("th",{children:"Tip"}),s.jsx("th",{children:"Konum"})]})}),s.jsx("tbody",{children:Q.slice(0,12).map(U=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-2",children:Bc(U.ts_utc)}),s.jsxs("td",{children:["#",U.employee_id," - ",ie.get(U.employee_id)?.full_name??"alan"]}),s.jsx("td",{children:U.type}),s.jsx("td",{children:U.location_status})]},U.id))})]})})]})]})]})}function vz(){return s.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[s.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),s.jsx(Wa,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),s.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:bi.signatureText})]})})}function Nv(t,a){const l=URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function _z(){const{pushToast:t}=Mn(),a=new Date,[l,o]=j.useState("employee"),[d,m]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState(String(a.getFullYear())),[S,w]=j.useState(String(a.getMonth()+1)),[C,z]=j.useState(""),[k,A]=j.useState(""),[O,Z]=j.useState(!0),[D,R]=j.useState(!1),[V,Y]=j.useState(""),[G,Q]=j.useState(""),[J,ie]=j.useState("consolidated"),[ye,te]=j.useState(""),[oe,le]=j.useState(""),F=Be({queryKey:["employees","all"],queryFn:()=>ti({status:"all",include_inactive:!0})}),re=Be({queryKey:["departments"],queryFn:Ls}),q=Ke({mutationFn:w1,onSuccess:K=>{Nv(K,`puantaj-${l}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:K=>{t({variant:"error",title:"Da aktarma baarsz",description:Pe(K,"Excel dosyas retilemedi.").message})}}),U=Ke({mutationFn:C1,onSuccess:K=>{Nv(K,`puantaj-range-${J}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:K=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:Pe(K,"Excel dosyas retilemedi.").message})}}),ce=j.useMemo(()=>{const K=Number(v),xe=Number(S),we=Number(d),Me=Number(p);return l==="employee"?!we||!K||!xe?null:{mode:l,employee_id:we,year:K,month:xe}:l==="department"?!Me||!K||!xe?null:{mode:l,department_id:Me,year:K,month:xe,include_daily_sheet:O,include_inactive:D}:l==="all"?!K||!xe?null:{mode:l,year:K,month:xe,include_daily_sheet:O,include_inactive:D}:!C||!k?null:{mode:l,start_date:C,end_date:k,employee_id:we||void 0,department_id:Me||void 0,include_inactive:D}},[l,d,p,v,S,C,k,O,D]),ke=j.useMemo(()=>{const K=Number(oe),xe=Number(ye);return!V||!G?null:{start_date:V,end_date:G,mode:J,employee_id:K>0?K:void 0,department_id:xe>0?xe:void 0}},[V,G,J,oe,ye]),W=()=>{if(!ce){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}q.mutate(ce)},M=()=>{if(!ke){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}U.mutate(ke)};if(F.isLoading||re.isLoading)return s.jsx(Rt,{});if(F.isError||re.isError)return s.jsx(_t,{message:"alan/departman bilgileri alnamad."});const ae=F.data??[],P=re.data??[];return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",s.jsxs("select",{value:l,onChange:K=>o(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"employee",children:"alan Bazl"}),s.jsx("option",{value:"department",children:"Departman Bazl"}),s.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),s.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&s.jsx(Ra,{label:"alan",employees:ae,value:d,onChange:m,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:p,onChange:K=>y(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seiniz"}),P.map(K=>s.jsxs("option",{value:K.id,children:["#",K.id," - ",K.name]},K.id))]})]}),(l==="employee"||l==="department"||l==="all")&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",s.jsx("input",{type:"number",value:v,onChange:K=>_(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",s.jsx("input",{type:"number",value:S,onChange:K=>w(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",s.jsx("input",{type:"date",value:C,onChange:K=>z(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",s.jsx("input",{type:"date",value:k,onChange:K=>A(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&s.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:O,onChange:K=>Z(K.target.checked)}),"Gnlk sheetleri de ekle"]}),s.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:D,onChange:K=>R(K.target.checked)}),"Arivdeki alanlar dahil et"]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",onClick:W,disabled:q.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:q.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),s.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",s.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",s.jsx("input",{type:"date",value:V,onChange:K=>Y(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",s.jsx("input",{type:"date",value:G,onChange:K=>Q(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",s.jsxs("select",{value:J,onChange:K=>ie(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),s.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),s.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",s.jsxs("select",{value:ye,onChange:K=>te(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Tm"}),P.map(K=>s.jsxs("option",{value:K.id,children:["#",K.id," - ",K.name]},K.id))]})]}),s.jsx(Ra,{label:"alan (opsiyonel)",employees:ae,value:oe,onChange:le,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",onClick:M,disabled:U.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:U.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var El={},Tm,jv;function bz(){return jv||(jv=1,Tm=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Tm}var Cm={},As={},Sv;function Mr(){if(Sv)return As;Sv=1;let t;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return As.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},As.getSymbolTotalCodewords=function(o){return a[o]},As.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},As.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},As.isKanjiModeEnabled=function(){return typeof t<"u"},As.toSJIS=function(o){return t(o)},As}var Am={},wv;function Wf(){return wv||(wv=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function a(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return a(o)}catch{return d}}})(Am)),Am}var zm,Ev;function Nz(){if(Ev)return zm;Ev=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(a){const l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)===1},put:function(a,l){for(let o=0;o<l;o++)this.putBit((a>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},zm=t,zm}var Mm,kv;function jz(){if(kv)return Mm;kv=1;function t(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return t.prototype.set=function(a,l,o,d){const m=a*this.size+l;this.data[m]=o,d&&(this.reservedBit[m]=!0)},t.prototype.get=function(a,l){return this.data[a*this.size+l]},t.prototype.xor=function(a,l,o){this.data[a*this.size+l]^=o},t.prototype.isReserved=function(a,l){return this.reservedBit[a*this.size+l]},Mm=t,Mm}var Om={},Tv;function Sz(){return Tv||(Tv=1,(function(t){const a=Mr().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,m=a(o),p=m===145?26:Math.ceil((m-13)/(2*d-2))*2,y=[m-7];for(let v=1;v<d-1;v++)y[v]=y[v-1]-p;return y.push(6),y.reverse()},t.getPositions=function(o){const d=[],m=t.getRowColCoords(o),p=m.length;for(let y=0;y<p;y++)for(let v=0;v<p;v++)y===0&&v===0||y===0&&v===p-1||y===p-1&&v===0||d.push([m[y],m[v]]);return d}})(Om)),Om}var Rm={},Cv;function wz(){if(Cv)return Rm;Cv=1;const t=Mr().getSymbolSize,a=7;return Rm.getPositions=function(o){const d=t(o);return[[0,0],[d-a,0],[0,d-a]]},Rm}var Lm={},Av;function Ez(){return Av||(Av=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const m=d.size;let p=0,y=0,v=0,_=null,S=null;for(let w=0;w<m;w++){y=v=0,_=S=null;for(let C=0;C<m;C++){let z=d.get(w,C);z===_?y++:(y>=5&&(p+=a.N1+(y-5)),_=z,y=1),z=d.get(C,w),z===S?v++:(v>=5&&(p+=a.N1+(v-5)),S=z,v=1)}y>=5&&(p+=a.N1+(y-5)),v>=5&&(p+=a.N1+(v-5))}return p},t.getPenaltyN2=function(d){const m=d.size;let p=0;for(let y=0;y<m-1;y++)for(let v=0;v<m-1;v++){const _=d.get(y,v)+d.get(y,v+1)+d.get(y+1,v)+d.get(y+1,v+1);(_===4||_===0)&&p++}return p*a.N2},t.getPenaltyN3=function(d){const m=d.size;let p=0,y=0,v=0;for(let _=0;_<m;_++){y=v=0;for(let S=0;S<m;S++)y=y<<1&2047|d.get(_,S),S>=10&&(y===1488||y===93)&&p++,v=v<<1&2047|d.get(S,_),S>=10&&(v===1488||v===93)&&p++}return p*a.N3},t.getPenaltyN4=function(d){let m=0;const p=d.data.length;for(let v=0;v<p;v++)m+=d.data[v];return Math.abs(Math.ceil(m*100/p/5)-10)*a.N4};function l(o,d,m){switch(o){case t.Patterns.PATTERN000:return(d+m)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return m%3===0;case t.Patterns.PATTERN011:return(d+m)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(m/3))%2===0;case t.Patterns.PATTERN101:return d*m%2+d*m%3===0;case t.Patterns.PATTERN110:return(d*m%2+d*m%3)%2===0;case t.Patterns.PATTERN111:return(d*m%3+(d+m)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,m){const p=m.size;for(let y=0;y<p;y++)for(let v=0;v<p;v++)m.isReserved(v,y)||m.xor(v,y,l(d,v,y))},t.getBestMask=function(d,m){const p=Object.keys(t.Patterns).length;let y=0,v=1/0;for(let _=0;_<p;_++){m(_),t.applyMask(_,d);const S=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(_,d),S<v&&(v=S,y=_)}return y}})(Lm)),Lm}var Ic={},zv;function J_(){if(zv)return Ic;zv=1;const t=Wf(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ic.getBlocksCount=function(d,m){switch(m){case t.L:return a[(d-1)*4+0];case t.M:return a[(d-1)*4+1];case t.Q:return a[(d-1)*4+2];case t.H:return a[(d-1)*4+3];default:return}},Ic.getTotalCodewordsCount=function(d,m){switch(m){case t.L:return l[(d-1)*4+0];case t.M:return l[(d-1)*4+1];case t.Q:return l[(d-1)*4+2];case t.H:return l[(d-1)*4+3];default:return}},Ic}var Dm={},Ho={},Mv;function kz(){if(Mv)return Ho;Mv=1;const t=new Uint8Array(512),a=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,a[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Ho.log=function(o){if(o<1)throw new Error("log("+o+")");return a[o]},Ho.exp=function(o){return t[o]},Ho.mul=function(o,d){return o===0||d===0?0:t[a[o]+a[d]]},Ho}var Ov;function Tz(){return Ov||(Ov=1,(function(t){const a=kz();t.mul=function(o,d){const m=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let y=0;y<d.length;y++)m[p+y]^=a.mul(o[p],d[y]);return m},t.mod=function(o,d){let m=new Uint8Array(o);for(;m.length-d.length>=0;){const p=m[0];for(let v=0;v<d.length;v++)m[v]^=a.mul(d[v],p);let y=0;for(;y<m.length&&m[y]===0;)y++;m=m.slice(y)}return m},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let m=0;m<o;m++)d=t.mul(d,new Uint8Array([1,a.exp(m)]));return d}})(Dm)),Dm}var Pm,Rv;function Cz(){if(Rv)return Pm;Rv=1;const t=Tz();function a(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},a.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const m=t.mod(d,this.genPoly),p=this.degree-m.length;if(p>0){const y=new Uint8Array(this.degree);return y.set(m,p),y}return m},Pm=a,Pm}var Bm={},Im={},Um={},Lv;function W_(){return Lv||(Lv=1,Um.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),Um}var vi={},Dv;function eb(){if(Dv)return vi;Dv=1;const t="[0-9]+",a="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;vi.KANJI=new RegExp(l,"g"),vi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),vi.BYTE=new RegExp(o,"g"),vi.NUMERIC=new RegExp(t,"g"),vi.ALPHANUMERIC=new RegExp(a,"g");const d=new RegExp("^"+l+"$"),m=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return vi.testKanji=function(v){return d.test(v)},vi.testNumeric=function(v){return m.test(v)},vi.testAlphanumeric=function(v){return p.test(v)},vi}var Pv;function Or(){return Pv||(Pv=1,(function(t){const a=W_(),l=eb();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(m,p){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!a.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?m.ccBits[0]:p<27?m.ccBits[1]:m.ccBits[2]},t.getBestModeForData=function(m){return l.testNumeric(m)?t.NUMERIC:l.testAlphanumeric(m)?t.ALPHANUMERIC:l.testKanji(m)?t.KANJI:t.BYTE},t.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},t.isValid=function(m){return m&&m.bit&&m.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(m,p){if(t.isValid(m))return m;try{return o(m)}catch{return p}}})(Im)),Im}var Bv;function Az(){return Bv||(Bv=1,(function(t){const a=Mr(),l=J_(),o=Wf(),d=Or(),m=W_(),p=7973,y=a.getBCHDigit(p);function v(C,z,k){for(let A=1;A<=40;A++)if(z<=t.getCapacity(A,k,C))return A}function _(C,z){return d.getCharCountIndicator(C,z)+4}function S(C,z){let k=0;return C.forEach(function(A){const O=_(A.mode,z);k+=O+A.getBitsLength()}),k}function w(C,z){for(let k=1;k<=40;k++)if(S(C,k)<=t.getCapacity(k,z,d.MIXED))return k}t.from=function(z,k){return m.isValid(z)?parseInt(z,10):k},t.getCapacity=function(z,k,A){if(!m.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const O=a.getSymbolTotalCodewords(z),Z=l.getTotalCodewordsCount(z,k),D=(O-Z)*8;if(A===d.MIXED)return D;const R=D-_(A,z);switch(A){case d.NUMERIC:return Math.floor(R/10*3);case d.ALPHANUMERIC:return Math.floor(R/11*2);case d.KANJI:return Math.floor(R/13);case d.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(z,k){let A;const O=o.from(k,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,O);if(z.length===0)return 1;A=z[0]}else A=z;return v(A.mode,A.getLength(),O)},t.getEncodedBits=function(z){if(!m.isValid(z)||z<7)throw new Error("Invalid QR Code version");let k=z<<12;for(;a.getBCHDigit(k)-y>=0;)k^=p<<a.getBCHDigit(k)-y;return z<<12|k}})(Bm)),Bm}var Zm={},Iv;function zz(){if(Iv)return Zm;Iv=1;const t=Mr(),a=1335,l=21522,o=t.getBCHDigit(a);return Zm.getEncodedBits=function(m,p){const y=m.bit<<3|p;let v=y<<10;for(;t.getBCHDigit(v)-o>=0;)v^=a<<t.getBCHDigit(v)-o;return(y<<10|v)^l},Zm}var qm={},Fm,Uv;function Mz(){if(Uv)return Fm;Uv=1;const t=Or();function a(l){this.mode=t.NUMERIC,this.data=l.toString()}return a.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){let d,m,p;for(d=0;d+3<=this.data.length;d+=3)m=this.data.substr(d,3),p=parseInt(m,10),o.put(p,10);const y=this.data.length-d;y>0&&(m=this.data.substr(d),p=parseInt(m,10),o.put(p,y*3+1))},Fm=a,Fm}var Hm,Zv;function Oz(){if(Zv)return Hm;Zv=1;const t=Or(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=t.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let m;for(m=0;m+2<=this.data.length;m+=2){let p=a.indexOf(this.data[m])*45;p+=a.indexOf(this.data[m+1]),d.put(p,11)}this.data.length%2&&d.put(a.indexOf(this.data[m]),6)},Hm=l,Hm}var Km,qv;function Rz(){if(qv)return Km;qv=1;const t=Or();function a(l){this.mode=t.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return a.getBitsLength=function(o){return o*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},Km=a,Km}var Qm,Fv;function Lz(){if(Fv)return Qm;Fv=1;const t=Or(),a=Mr();function l(o){this.mode=t.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let m=a.toSJIS(this.data[d]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),o.put(m,13)}},Qm=l,Qm}var Vm={exports:{}},Hv;function Dz(){return Hv||(Hv=1,(function(t){var a={single_source_shortest_paths:function(l,o,d){var m={},p={};p[o]=0;var y=a.PriorityQueue.make();y.push(o,0);for(var v,_,S,w,C,z,k,A,O;!y.empty();){v=y.pop(),_=v.value,w=v.cost,C=l[_]||{};for(S in C)C.hasOwnProperty(S)&&(z=C[S],k=w+z,A=p[S],O=typeof p[S]>"u",(O||A>k)&&(p[S]=k,y.push(S,k),m[S]=_))}if(typeof d<"u"&&typeof p[d]>"u"){var Z=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(Z)}return m},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],m=o;m;)d.push(m),l[m],m=l[m];return d.reverse(),d},find_path:function(l,o,d){var m=a.single_source_shortest_paths(l,o,d);return a.extract_shortest_path_from_predecessor_list(m,d)},PriorityQueue:{make:function(l){var o=a.PriorityQueue,d={},m;l=l||{};for(m in o)o.hasOwnProperty(m)&&(d[m]=o[m]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=a})(Vm)),Vm.exports}var Kv;function Pz(){return Kv||(Kv=1,(function(t){const a=Or(),l=Mz(),o=Oz(),d=Rz(),m=Lz(),p=eb(),y=Mr(),v=Dz();function _(Z){return unescape(encodeURIComponent(Z)).length}function S(Z,D,R){const V=[];let Y;for(;(Y=Z.exec(R))!==null;)V.push({data:Y[0],index:Y.index,mode:D,length:Y[0].length});return V}function w(Z){const D=S(p.NUMERIC,a.NUMERIC,Z),R=S(p.ALPHANUMERIC,a.ALPHANUMERIC,Z);let V,Y;return y.isKanjiModeEnabled()?(V=S(p.BYTE,a.BYTE,Z),Y=S(p.KANJI,a.KANJI,Z)):(V=S(p.BYTE_KANJI,a.BYTE,Z),Y=[]),D.concat(R,V,Y).sort(function(Q,J){return Q.index-J.index}).map(function(Q){return{data:Q.data,mode:Q.mode,length:Q.length}})}function C(Z,D){switch(D){case a.NUMERIC:return l.getBitsLength(Z);case a.ALPHANUMERIC:return o.getBitsLength(Z);case a.KANJI:return m.getBitsLength(Z);case a.BYTE:return d.getBitsLength(Z)}}function z(Z){return Z.reduce(function(D,R){const V=D.length-1>=0?D[D.length-1]:null;return V&&V.mode===R.mode?(D[D.length-1].data+=R.data,D):(D.push(R),D)},[])}function k(Z){const D=[];for(let R=0;R<Z.length;R++){const V=Z[R];switch(V.mode){case a.NUMERIC:D.push([V,{data:V.data,mode:a.ALPHANUMERIC,length:V.length},{data:V.data,mode:a.BYTE,length:V.length}]);break;case a.ALPHANUMERIC:D.push([V,{data:V.data,mode:a.BYTE,length:V.length}]);break;case a.KANJI:D.push([V,{data:V.data,mode:a.BYTE,length:_(V.data)}]);break;case a.BYTE:D.push([{data:V.data,mode:a.BYTE,length:_(V.data)}])}}return D}function A(Z,D){const R={},V={start:{}};let Y=["start"];for(let G=0;G<Z.length;G++){const Q=Z[G],J=[];for(let ie=0;ie<Q.length;ie++){const ye=Q[ie],te=""+G+ie;J.push(te),R[te]={node:ye,lastCount:0},V[te]={};for(let oe=0;oe<Y.length;oe++){const le=Y[oe];R[le]&&R[le].node.mode===ye.mode?(V[le][te]=C(R[le].lastCount+ye.length,ye.mode)-C(R[le].lastCount,ye.mode),R[le].lastCount+=ye.length):(R[le]&&(R[le].lastCount=ye.length),V[le][te]=C(ye.length,ye.mode)+4+a.getCharCountIndicator(ye.mode,D))}}Y=J}for(let G=0;G<Y.length;G++)V[Y[G]].end=0;return{map:V,table:R}}function O(Z,D){let R;const V=a.getBestModeForData(Z);if(R=a.from(D,V),R!==a.BYTE&&R.bit<V.bit)throw new Error('"'+Z+'" cannot be encoded with mode '+a.toString(R)+`.
 Suggested mode is: `+a.toString(V));switch(R===a.KANJI&&!y.isKanjiModeEnabled()&&(R=a.BYTE),R){case a.NUMERIC:return new l(Z);case a.ALPHANUMERIC:return new o(Z);case a.KANJI:return new m(Z);case a.BYTE:return new d(Z)}}t.fromArray=function(D){return D.reduce(function(R,V){return typeof V=="string"?R.push(O(V,null)):V.data&&R.push(O(V.data,V.mode)),R},[])},t.fromString=function(D,R){const V=w(D,y.isKanjiModeEnabled()),Y=k(V),G=A(Y,R),Q=v.find_path(G.map,"start","end"),J=[];for(let ie=1;ie<Q.length-1;ie++)J.push(G.table[Q[ie]].node);return t.fromArray(z(J))},t.rawSplit=function(D){return t.fromArray(w(D,y.isKanjiModeEnabled()))}})(qm)),qm}var Qv;function Bz(){if(Qv)return Cm;Qv=1;const t=Mr(),a=Wf(),l=Nz(),o=jz(),d=Sz(),m=wz(),p=Ez(),y=J_(),v=Cz(),_=Az(),S=zz(),w=Or(),C=Pz();function z(G,Q){const J=G.size,ie=m.getPositions(Q);for(let ye=0;ye<ie.length;ye++){const te=ie[ye][0],oe=ie[ye][1];for(let le=-1;le<=7;le++)if(!(te+le<=-1||J<=te+le))for(let F=-1;F<=7;F++)oe+F<=-1||J<=oe+F||(le>=0&&le<=6&&(F===0||F===6)||F>=0&&F<=6&&(le===0||le===6)||le>=2&&le<=4&&F>=2&&F<=4?G.set(te+le,oe+F,!0,!0):G.set(te+le,oe+F,!1,!0))}}function k(G){const Q=G.size;for(let J=8;J<Q-8;J++){const ie=J%2===0;G.set(J,6,ie,!0),G.set(6,J,ie,!0)}}function A(G,Q){const J=d.getPositions(Q);for(let ie=0;ie<J.length;ie++){const ye=J[ie][0],te=J[ie][1];for(let oe=-2;oe<=2;oe++)for(let le=-2;le<=2;le++)oe===-2||oe===2||le===-2||le===2||oe===0&&le===0?G.set(ye+oe,te+le,!0,!0):G.set(ye+oe,te+le,!1,!0)}}function O(G,Q){const J=G.size,ie=_.getEncodedBits(Q);let ye,te,oe;for(let le=0;le<18;le++)ye=Math.floor(le/3),te=le%3+J-8-3,oe=(ie>>le&1)===1,G.set(ye,te,oe,!0),G.set(te,ye,oe,!0)}function Z(G,Q,J){const ie=G.size,ye=S.getEncodedBits(Q,J);let te,oe;for(te=0;te<15;te++)oe=(ye>>te&1)===1,te<6?G.set(te,8,oe,!0):te<8?G.set(te+1,8,oe,!0):G.set(ie-15+te,8,oe,!0),te<8?G.set(8,ie-te-1,oe,!0):te<9?G.set(8,15-te-1+1,oe,!0):G.set(8,15-te-1,oe,!0);G.set(ie-8,8,1,!0)}function D(G,Q){const J=G.size;let ie=-1,ye=J-1,te=7,oe=0;for(let le=J-1;le>0;le-=2)for(le===6&&le--;;){for(let F=0;F<2;F++)if(!G.isReserved(ye,le-F)){let re=!1;oe<Q.length&&(re=(Q[oe]>>>te&1)===1),G.set(ye,le-F,re),te--,te===-1&&(oe++,te=7)}if(ye+=ie,ye<0||J<=ye){ye-=ie,ie=-ie;break}}}function R(G,Q,J){const ie=new l;J.forEach(function(F){ie.put(F.mode.bit,4),ie.put(F.getLength(),w.getCharCountIndicator(F.mode,G)),F.write(ie)});const ye=t.getSymbolTotalCodewords(G),te=y.getTotalCodewordsCount(G,Q),oe=(ye-te)*8;for(ie.getLengthInBits()+4<=oe&&ie.put(0,4);ie.getLengthInBits()%8!==0;)ie.putBit(0);const le=(oe-ie.getLengthInBits())/8;for(let F=0;F<le;F++)ie.put(F%2?17:236,8);return V(ie,G,Q)}function V(G,Q,J){const ie=t.getSymbolTotalCodewords(Q),ye=y.getTotalCodewordsCount(Q,J),te=ie-ye,oe=y.getBlocksCount(Q,J),le=ie%oe,F=oe-le,re=Math.floor(ie/oe),q=Math.floor(te/oe),U=q+1,ce=re-q,ke=new v(ce);let W=0;const M=new Array(oe),ae=new Array(oe);let P=0;const K=new Uint8Array(G.buffer);for(let He=0;He<oe;He++){const lt=He<F?q:U;M[He]=K.slice(W,W+lt),ae[He]=ke.encode(M[He]),W+=lt,P=Math.max(P,lt)}const xe=new Uint8Array(ie);let we=0,Me,Fe;for(Me=0;Me<P;Me++)for(Fe=0;Fe<oe;Fe++)Me<M[Fe].length&&(xe[we++]=M[Fe][Me]);for(Me=0;Me<ce;Me++)for(Fe=0;Fe<oe;Fe++)xe[we++]=ae[Fe][Me];return xe}function Y(G,Q,J,ie){let ye;if(Array.isArray(G))ye=C.fromArray(G);else if(typeof G=="string"){let re=Q;if(!re){const q=C.rawSplit(G);re=_.getBestVersionForData(q,J)}ye=C.fromString(G,re||40)}else throw new Error("Invalid data");const te=_.getBestVersionForData(ye,J);if(!te)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Q)Q=te;else if(Q<te)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+te+`.
`);const oe=R(Q,J,ye),le=t.getSymbolSize(Q),F=new o(le);return z(F,Q),k(F),A(F,Q),Z(F,J,0),Q>=7&&O(F,Q),D(F,oe),isNaN(ie)&&(ie=p.getBestMask(F,Z.bind(null,F,J))),p.applyMask(ie,F),Z(F,J,ie),{modules:F,version:Q,errorCorrectionLevel:J,maskPattern:ie,segments:ye}}return Cm.create=function(Q,J){if(typeof Q>"u"||Q==="")throw new Error("No input text");let ie=a.M,ye,te;return typeof J<"u"&&(ie=a.from(J.errorCorrectionLevel,a.M),ye=_.from(J.version),te=p.from(J.maskPattern),J.toSJISFunc&&t.setToSJISFunction(J.toSJISFunc)),Y(Q,ye,ie,te)},Cm}var Gm={},Ym={},Vv;function tb(){return Vv||(Vv=1,(function(t){function a(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(m){return[m,m]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,m=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:m,scale:m?4:p,margin:d,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const m=t.getScale(o,d);return Math.floor((o+d.margin*2)*m)},t.qrToImageData=function(o,d,m){const p=d.modules.size,y=d.modules.data,v=t.getScale(p,m),_=Math.floor((p+m.margin*2)*v),S=m.margin*v,w=[m.color.light,m.color.dark];for(let C=0;C<_;C++)for(let z=0;z<_;z++){let k=(C*_+z)*4,A=m.color.light;if(C>=S&&z>=S&&C<_-S&&z<_-S){const O=Math.floor((C-S)/v),Z=Math.floor((z-S)/v);A=w[y[O*p+Z]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(Ym)),Ym}var Gv;function Iz(){return Gv||(Gv=1,(function(t){const a=tb();function l(d,m,p){d.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=p,m.width=p,m.style.height=p+"px",m.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(m,p,y){let v=y,_=p;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),p||(_=o()),v=a.getOptions(v);const S=a.getImageWidth(m.modules.size,v),w=_.getContext("2d"),C=w.createImageData(S,S);return a.qrToImageData(C.data,m,v),l(w,_,S),w.putImageData(C,0,0),_},t.renderToDataURL=function(m,p,y){let v=y;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),v||(v={});const _=t.render(m,p,v),S=v.type||"image/png",w=v.rendererOpts||{};return _.toDataURL(S,w.quality)}})(Gm)),Gm}var $m={},Yv;function Uz(){if(Yv)return $m;Yv=1;const t=tb();function a(d,m){const p=d.a/255,y=m+'="'+d.hex+'"';return p<1?y+" "+m+'-opacity="'+p.toFixed(2).slice(1)+'"':y}function l(d,m,p){let y=d+m;return typeof p<"u"&&(y+=" "+p),y}function o(d,m,p){let y="",v=0,_=!1,S=0;for(let w=0;w<d.length;w++){const C=Math.floor(w%m),z=Math.floor(w/m);!C&&!_&&(_=!0),d[w]?(S++,w>0&&C>0&&d[w-1]||(y+=_?l("M",C+p,.5+z+p):l("m",v,0),v=0,_=!1),C+1<m&&d[w+1]||(y+=l("h",S),S=0)):v++}return y}return $m.render=function(m,p,y){const v=t.getOptions(p),_=m.modules.size,S=m.modules.data,w=_+v.margin*2,C=v.color.light.a?"<path "+a(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+a(v.color.dark,"stroke")+' d="'+o(S,_,v.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+k+' shape-rendering="crispEdges">'+C+z+`</svg>
`;return typeof y=="function"&&y(null,O),O},$m}var $v;function Zz(){if($v)return El;$v=1;const t=bz(),a=Bz(),l=Iz(),o=Uz();function d(m,p,y,v,_){const S=[].slice.call(arguments,1),w=S.length,C=typeof S[w-1]=="function";if(!C&&!t())throw new Error("Callback required as last argument");if(C){if(w<2)throw new Error("Too few arguments provided");w===2?(_=y,y=p,p=v=void 0):w===3&&(p.getContext&&typeof _>"u"?(_=v,v=void 0):(_=v,v=y,y=p,p=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(y=p,p=v=void 0):w===2&&!p.getContext&&(v=y,y=p,p=void 0),new Promise(function(z,k){try{const A=a.create(y,v);z(m(A,p,v))}catch(A){k(A)}})}try{const z=a.create(y,v);_(null,m(z,p,v))}catch(z){_(z)}}return El.create=a.create,El.toCanvas=d.bind(null,l.render),El.toDataURL=d.bind(null,l.renderToDataURL),El.toString=d.bind(null,function(m,p,y){return o.render(m,y)}),El}var qz=Zz();const Xv=sd(qz),Fz=[41.0082,28.9784];function zs(t){return t.toFixed(6)}function Hz({lat:t,lon:a,radiusM:l,onSelect:o}){const d=j.useRef(null),m=j.useRef(null),p=j.useRef(null),y=j.useRef(null),[v,_]=j.useState(!1),[S,w]=j.useState(""),[C,z]=j.useState(!1),[k,A]=j.useState(null),[O,Z]=j.useState(null),D=j.useMemo(()=>t!==null&&a!==null?[t,a]:Fz,[t,a]);j.useEffect(()=>{if(!(!d.current||m.current)){try{const Y=Ki.map(d.current,{center:D,zoom:t!==null&&a!==null?17:12,zoomControl:!0});m.current=Y,Ki.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo(Y);const G=Ki.circleMarker(D,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo(Y);p.current=G;const Q=Ki.circle(D,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo(Y);y.current=Q,Y.on("click",J=>{const ie=J.latlng.lat,ye=J.latlng.lng;o(ie,ye),Z(`Haritadan secildi: ${zs(ie)}, ${zs(ye)}`)}),_(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),_(!1)}return()=>{m.current&&(m.current.remove(),m.current=null),p.current=null,y.current=null,_(!1)}}},[D,t,a,o,l]),j.useEffect(()=>{if(!m.current||!p.current||!y.current)return;const Y=m.current,G=p.current,Q=y.current;if(t!==null&&a!==null){const ie=[t,a];G.setLatLng(ie),Q.setLatLng(ie),Y.panTo(ie,{animate:!0})}const J=Number.isFinite(l)&&l>0?l:75;Q.setRadius(J)},[t,a,l]);const R=j.useCallback(async()=>{if(!v||!m.current)return;const Y=S.trim();if(!Y){Z("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const G=new URL("https://nominatim.openstreetmap.org/search");G.searchParams.set("q",Y),G.searchParams.set("format","json"),G.searchParams.set("limit","1"),G.searchParams.set("addressdetails","1"),G.searchParams.set("accept-language","tr");const Q=await fetch(G.toString(),{headers:{Accept:"application/json"}});if(!Q.ok)throw new Error("search_failed");const J=await Q.json();if(!Array.isArray(J)||J.length===0){Z("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const ie=J[0],ye=Number(ie.lat),te=Number(ie.lon);if(!Number.isFinite(ye)||!Number.isFinite(te)){Z("Adres koordinata cevrilemedi.");return}o(ye,te),m.current.setView([ye,te],17,{animate:!0}),Z(`Adres bulundu: ${zs(ye)}, ${zs(te)}${ie.display_name?` (${ie.display_name})`:""}`)}catch{Z("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[v,o,S]),V=j.useCallback(()=>{if(!navigator.geolocation){Z("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition(Y=>{const G=Y.coords.latitude,Q=Y.coords.longitude;o(G,Q),Z(`Mevcut konum alindi: ${zs(G)}, ${zs(Q)}`)},()=>{Z("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return s.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?s.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):s.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),s.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[s.jsx("input",{value:S,onChange:Y=>w(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),s.jsx("button",{type:"button",onClick:()=>{R()},disabled:!v||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),s.jsx("button",{type:"button",onClick:V,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),s.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[s.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?zs(t):"-"]}),s.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",a!==null?zs(a):"-"]}),s.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),O?s.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:O}):null]})}const Uc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Zc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},Kz={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function Jv(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function Wv(t,a){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a}function Qz(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function Vz(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(null),[d,m]=j.useState(null),[p,y]=j.useState(null),[v,_]=j.useState(""),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(Uc),[O,Z]=j.useState(Kz),[D,R]=j.useState(Zc),[V,Y]=j.useState([]),[G,Q]=j.useState(null),J=Be({queryKey:["qr-codes"],queryFn:()=>KE()}),ie=Be({queryKey:["qr-points"],queryFn:()=>$E()}),ye=Ke({mutationFn:QE,onSuccess:ee=>{a({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${ee.id}`}),A(Uc),o(ee.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:ee=>{a({variant:"error",title:"QR kod olusturulamadi",description:Pe(ee,"Islem basarisiz.").message})}}),te=Ke({mutationFn:({codeId:ee,payload:Te})=>VE(ee,Te),onSuccess:ee=>{a({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${ee.id}`}),m(null),A(Uc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:ee=>{a({variant:"error",title:"QR kod guncellenemedi",description:Pe(ee,"Islem basarisiz.").message})}}),oe=Ke({mutationFn:({codeId:ee,pointIds:Te})=>GE(ee,{point_ids:Te}),onSuccess:()=>{a({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),Y([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:ee=>{a({variant:"error",title:"Atama basarisiz",description:Pe(ee,"Nokta atamasi yapilamadi.").message})}}),le=Ke({mutationFn:({codeId:ee,pointId:Te})=>YE(ee,Te),onSuccess:()=>{a({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:ee=>{a({variant:"error",title:"Islem basarisiz",description:Pe(ee,"Nokta kaldirilamadi.").message})}}),F=Ke({mutationFn:XE,onSuccess:ee=>{a({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${ee.id}`}),R(Zc),t.invalidateQueries({queryKey:["qr-points"]})},onError:ee=>{a({variant:"error",title:"QR nokta olusturulamadi",description:Pe(ee,"Islem basarisiz.").message})}}),re=Ke({mutationFn:({pointId:ee,payload:Te})=>JE(ee,Te),onSuccess:()=>{a({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),y(null),R(Zc),t.invalidateQueries({queryKey:["qr-points"]})},onError:ee=>{a({variant:"error",title:"QR nokta guncellenemedi",description:Pe(ee,"Islem basarisiz.").message})}}),q=Ke({mutationFn:WE,onSuccess:()=>{a({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:ee=>{a({variant:"error",title:"Islem basarisiz",description:Pe(ee,"Nokta pasife alinamadi.").message})}}),U=J.data??[],ce=ie.data??[];j.useEffect(()=>{l===null&&U.length>0&&o(U[0].id),l!==null&&!U.some(ee=>ee.id===l)&&o(U.length>0?U[0].id:null)},[U,l]);const ke=j.useMemo(()=>U.find(ee=>ee.id===l)??null,[U,l]);j.useEffect(()=>{if(!ke){Q(null);return}let ee=!1;return Xv.toDataURL(ke.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Te=>{ee||Q(Te)}).catch(()=>{ee||Q(null)}),()=>{ee=!0}},[ke?.id,ke?.code_value]);const W=j.useMemo(()=>{const ee=new Map;for(const Te of ce)ee.set(Te.id,Te);return ee},[ce]),M=j.useMemo(()=>ke?ke.point_ids.map(ee=>W.get(ee)??null).filter(ee=>ee!==null):[],[ke,W]),ae=j.useMemo(()=>{const ee=v.trim().toLowerCase();return ee?U.filter(Te=>String(Te.id).includes(ee)||(Te.name??"").toLowerCase().includes(ee)||Te.code_value.toLowerCase().includes(ee)):U},[U,v]),P=j.useMemo(()=>{const ee=S.trim().toLowerCase();return ee?ce.filter(Te=>String(Te.id).includes(ee)||Te.name.toLowerCase().includes(ee)||String(Te.department_id??"").includes(ee)||String(Te.region_id??"").includes(ee)):ce},[ce,S]),K=j.useMemo(()=>{const ee=ce.filter($e=>$e.is_active),Te=C.trim().toLowerCase();return Te?ee.filter($e=>String($e.id).includes(Te)||$e.name.toLowerCase().includes(Te)||String($e.department_id??"").includes(Te)||String($e.region_id??"").includes(Te)):ee},[ce,C]),xe=j.useMemo(()=>{const ee=U.filter(Lt=>Lt.is_active).length,Te=ce.filter(Lt=>Lt.is_active).length,$e=U.filter(Lt=>Lt.point_ids.length===0).length;return{codeCount:U.length,activeCodes:ee,pointCount:ce.length,activePoints:Te,codesWithoutPoint:$e}},[U,ce]),we=j.useMemo(()=>{const ee=Number(D.lat);return Number.isFinite(ee)?ee:null},[D.lat]),Me=j.useMemo(()=>{const ee=Number(D.lon);return Number.isFinite(ee)?ee:null},[D.lon]),Fe=j.useMemo(()=>{const ee=Number(D.radiusM);return Number.isFinite(ee)&&ee>0?ee:75},[D.radiusM]),He=ee=>{Y(Te=>Te.includes(ee)?Te.filter($e=>$e!==ee):[...Te,ee])},lt=ee=>{m(ee.id),A({name:ee.name??"",codeValue:ee.code_value,codeType:ee.code_type,isActive:ee.is_active})},at=()=>{m(null),A(Uc)},Ee=()=>{const ee=Wv(O.regionCode,"GEN"),Te=Wv(O.locationCode,"LOKASYON"),$e=Number(O.serialNo),Lt=Number.isFinite($e)&&$e>0?Math.floor($e):1,Xe=Qz(k.codeType),ve=`PF-${ee}-${Te}-${Xe}-${String(Lt).padStart(6,"0")}`;A(X=>({...X,codeValue:ve}))},Ve=ee=>{y(ee.id),R({name:ee.name,lat:String(ee.lat),lon:String(ee.lon),radiusM:String(ee.radius_m),isActive:ee.is_active})},St=()=>{y(null),R(Zc)},Bt=ee=>{ee.preventDefault();const Te=k.codeValue.trim();if(!Te){a({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const $e={name:k.name.trim()||null,code_value:Te,code_type:k.codeType,is_active:k.isActive};if(d===null){ye.mutate($e);return}te.mutate({codeId:d,payload:$e})},Ft=ee=>{ee.preventDefault();const Te=D.name.trim(),$e=Number(D.lat),Lt=Number(D.lon),Xe=Number(D.radiusM);if(!Te){a({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite($e)||!Number.isFinite(Lt)||!Number.isFinite(Xe)||Xe<=0){a({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const ve={name:Te,lat:$e,lon:Lt,radius_m:Xe,is_active:D.isActive};if(p===null){F.mutate(ve);return}re.mutate({pointId:p,payload:ve})},ln=()=>{if(!ke){a({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(V.length===0){a({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}oe.mutate({codeId:ke.id,pointIds:V})},on=async ee=>{try{await navigator.clipboard.writeText(ee),a({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{a({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},Nn=async ee=>{try{const Te=await Xv.toDataURL(ee.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),$e=document.createElement("a");$e.href=Te,$e.download=`qr-kod-${ee.id}.png`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),a({variant:"success",title:"PNG indirildi",description:`QR kod #${ee.id} dosyasi indirildi.`})}catch{a({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return J.isLoading||ie.isLoading?s.jsx(Rt,{}):J.isError||ie.isError?s.jsx(Ce,{children:s.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),s.jsx(Ce,{children:s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),s.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[s.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),s.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),s.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),s.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),s.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:xe.codeCount}),s.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",xe.activeCodes]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:xe.pointCount}),s.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",xe.activePoints]})]}),s.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[s.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),s.jsx("p",{className:"text-lg font-semibold text-rose-800",children:xe.codesWithoutPoint}),s.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),s.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),s.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Bt,children:[s.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",s.jsx("input",{value:k.name,onChange:ee=>A(Te=>({...Te,name:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),s.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[s.jsx("input",{value:O.regionCode,onChange:ee=>Z(Te=>({...Te,regionCode:ee.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),s.jsx("input",{value:O.locationCode,onChange:ee=>Z(Te=>({...Te,locationCode:ee.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),s.jsx("input",{type:"number",min:1,value:O.serialNo,onChange:ee=>Z(Te=>({...Te,serialNo:ee.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),s.jsx("button",{type:"button",onClick:Ee,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),s.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",s.jsx("input",{value:k.codeValue,onChange:ee=>A(Te=>({...Te,codeValue:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),s.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",s.jsxs("select",{value:k.codeType,onChange:ee=>A(Te=>({...Te,codeType:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),s.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),s.jsx("option",{value:"BOTH",children:"BOTH"})]}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:k.isActive,onChange:ee=>A(Te=>({...Te,isActive:ee.target.checked}))}),"Aktif"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"submit",disabled:ye.isPending||te.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?s.jsx("button",{type:"button",onClick:at,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),s.jsx("div",{className:"mt-3",children:s.jsx(Os,{value:v,onChange:_,placeholder:"Kod adi / degeri / ID ara"})}),s.jsx("div",{className:"mt-3 max-h-80 overflow-auto rounded-lg border border-slate-200",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:"ID"}),s.jsx("th",{className:"px-3 py-2",children:"Kod"}),s.jsx("th",{className:"px-3 py-2",children:"Tip"}),s.jsx("th",{className:"px-3 py-2",children:"Durum"}),s.jsx("th",{className:"px-3 py-2",children:"Nokta"}),s.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),s.jsxs("tbody",{children:[ae.map(ee=>s.jsxs("tr",{className:`border-t border-slate-100 ${l===ee.id?"bg-brand-50/60":""}`,children:[s.jsx("td",{className:"px-3 py-2",children:ee.id}),s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("button",{type:"button",onClick:()=>o(ee.id),className:"font-medium text-brand-700 hover:underline",children:ee.name||"-"}),s.jsx("div",{className:"text-xs text-slate-500",children:ee.code_value})]}),s.jsx("td",{className:"px-3 py-2",children:Jv(ee.code_type)}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ee.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ee.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"px-3 py-2",children:ee.point_ids.length}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("button",{type:"button",onClick:()=>lt(ee),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),s.jsx("button",{type:"button",onClick:()=>{Nn(ee)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},ee.id)),ae.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),s.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:ke?`3) QR Kod Detay (#${ke.id})`:"3) QR Kod Detay"}),ke?s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Ad:"})," ",ke.name||"-"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",ke.code_value]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Tip:"})," ",Jv(ke.code_type)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Durum:"})," ",ke.is_active?"Aktif":"Pasif"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",ke.point_ids.length]})]}),ke.point_ids.length===0?s.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,s.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),s.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:ke.code_value}),G?s.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[s.jsx("img",{src:G,alt:`QR Kod ${ke.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{Nn(ke)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),s.jsx("button",{type:"button",onClick:()=>{on(ke.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):s.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),s.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),s.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),M.length===0?s.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):s.jsx("div",{className:"space-y-2",children:M.map(ee=>s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-slate-800",children:["#",ee.id," - ",ee.name]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",ee.lat,", ",ee.lon," | radius: ",ee.radius_m,"m"]})]}),s.jsx("button",{type:"button",onClick:()=>le.mutate({codeId:ke.id,pointId:ee.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},ee.id))})]}):s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),s.jsx("div",{className:"mt-3",children:s.jsx(Os,{value:C,onChange:z,placeholder:"Nokta adi / ID ara"})}),s.jsx("div",{className:"mt-3 max-h-56 overflow-auto rounded-lg border border-slate-200 p-2",children:K.length===0?s.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):s.jsx("div",{className:"space-y-1",children:K.map(ee=>s.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[s.jsx("input",{type:"checkbox",checked:V.includes(ee.id),onChange:()=>He(ee.id)}),s.jsxs("span",{children:["#",ee.id," - ",ee.name," (",ee.radius_m,"m)"]})]},ee.id))})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",V.length]}),s.jsx("button",{type:"button",onClick:ln,disabled:oe.isPending||ke===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),s.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),s.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Ft,children:[s.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",s.jsx("input",{value:D.name,onChange:ee=>R(Te=>({...Te,name:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",s.jsx("input",{type:"number",step:"any",value:D.lat,onChange:ee=>R(Te=>({...Te,lat:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",s.jsx("input",{type:"number",step:"any",value:D.lon,onChange:ee=>R(Te=>({...Te,lon:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),s.jsx(Hz,{lat:we,lon:Me,radiusM:Fe,onSelect:(ee,Te)=>R($e=>({...$e,lat:String(ee),lon:String(Te)}))}),s.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",s.jsx("input",{type:"number",min:1,value:D.radiusM,onChange:ee=>R(Te=>({...Te,radiusM:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:D.isActive,onChange:ee=>R(Te=>({...Te,isActive:ee.target.checked}))}),"Aktif"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"submit",disabled:F.isPending||re.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?s.jsx("button",{type:"button",onClick:St,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),s.jsx("div",{className:"mt-3",children:s.jsx(Os,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),s.jsx("div",{className:"mt-3 max-h-96 overflow-auto rounded-lg border border-slate-200",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:"ID"}),s.jsx("th",{className:"px-3 py-2",children:"Nokta"}),s.jsx("th",{className:"px-3 py-2",children:"Konum"}),s.jsx("th",{className:"px-3 py-2",children:"Durum"}),s.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),s.jsxs("tbody",{children:[P.map(ee=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"px-3 py-2",children:ee.id}),s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("p",{className:"font-medium text-slate-800",children:ee.name}),s.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",ee.radius_m,"m"]})]}),s.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[ee.lat,", ",ee.lon]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ee.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ee.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("button",{type:"button",onClick:()=>Ve(ee),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),ee.is_active?s.jsx("button",{type:"button",onClick:()=>q.mutate(ee.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},ee.id)),P.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const e0=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function Gz(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState({}),[S,w]=j.useState(""),[C,z]=j.useState("09:00"),[k,A]=j.useState("17:30"),[O,Z]=j.useState("60"),[D,R]=j.useState(!0),[V,Y]=j.useState(null),G=Be({queryKey:["departments"],queryFn:Ls}),Q=Be({queryKey:["employees","all-for-quick-setup"],queryFn:()=>ti({include_inactive:!0,status:"all"})}),J=Be({queryKey:["department-weekly-rules"],queryFn:()=>r_()}),ie=Be({queryKey:["department-shifts"],queryFn:()=>lu({active_only:!1})}),ye=l?Number(l):null,te=Ke({mutationFn:({employeeId:P,departmentId:K})=>ZE(P,{department_id:K}),onSuccess:P=>{a({variant:"success",title:"Departman atamas gncellendi",description:`${P.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:P=>{a({variant:"error",title:"Departman gncellenemedi",description:Pe(P,"lem baarsz.").message})}}),oe=Ke({mutationFn:l_,onSuccess:()=>{a({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:P=>{a({variant:"error",title:"Haftalk kural kaydedilemedi",description:Pe(P,"lem baarsz.").message})}}),le=Ke({mutationFn:Wc,onSuccess:()=>{a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),Z("60"),R(!0),Y(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{a({variant:"error",title:"Vardiya kaydedilemedi",description:Pe(P,"lem baarsz.").message})}}),F=Ke({mutationFn:o_,onSuccess:()=>{a({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),V!==null&&(Y(null),w(""),z("09:00"),A("17:30"),Z("60"),R(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{a({variant:"error",title:"Vardiya pasife alnamad",description:Pe(P,"lem baarsz.").message})}}),re=Ke({mutationFn:({shift:P,nextActive:K})=>Wc({id:P.id,department_id:P.department_id,name:P.name,start_time_local:P.start_time_local,end_time_local:P.end_time_local,break_minutes:P.break_minutes,is_active:K}),onSuccess:(P,K)=>{a({variant:"success",title:K.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:K.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{a({variant:"error",title:"Vardiya durumu gncellenemedi",description:Pe(P,"lem baarsz.").message})}}),q=G.data??[],U=Q.data??[],ce=J.data??[],ke=ie.data??[],W=j.useMemo(()=>new Map(q.map(P=>[P.id,P.name])),[q]),M=j.useMemo(()=>ye?ke.filter(P=>P.department_id===ye):[],[ye,ke]),ae=j.useMemo(()=>U.find(P=>String(P.id)===d),[U,d]);return j.useEffect(()=>{if(!ye){_({});return}const P=new Map(ce.filter(xe=>xe.department_id===ye).map(xe=>[xe.weekday,xe])),K={};for(const xe of e0){const we=P.get(xe.value);K[xe.value]={is_workday:we?.is_workday??!0,planned_minutes:String(we?.planned_minutes??540),break_minutes:String(we?.break_minutes??60)}}_(K)},[ye,ce]),G.isLoading||Q.isLoading||J.isLoading||ie.isLoading?s.jsx(Rt,{}):G.isError||Q.isError||J.isError||ie.isError?s.jsx(_t,{message:"Hzl ayarlar verileri alnamad."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[s.jsx(Ra,{label:"alan",employees:U,value:d,onChange:P=>{m(P);const K=U.find(xe=>String(xe.id)===P);y(K?.department_id?String(K.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",s.jsxs("select",{value:p,onChange:P=>y(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Atanmam"}),q.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[s.jsxs("div",{children:[s.jsxs("p",{children:["Seili alan:"," ",ae?`#${ae.id} - ${ae.full_name}`:"-"]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",ae?.department_id?W.get(ae.department_id)??"-":"Atanmam"]})]}),s.jsx("button",{type:"button",disabled:!ae||te.isPending,onClick:()=>{ae&&te.mutate({employeeId:ae.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),s.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:l,onChange:P=>o(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seiniz"}),q.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]})}),ye?s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Gn"}),s.jsx("th",{className:"py-2",children:"alma Gn"}),s.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),s.jsx("th",{className:"py-2",children:"Mola Dakika"}),s.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),s.jsx("tbody",{children:e0.map(P=>{const K=v[P.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:P.label}),s.jsx("td",{className:"py-2",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:K.is_workday,onChange:xe=>_(we=>({...we,[P.value]:{...K,is_workday:xe.target.checked}}))}),"alma gn"]})}),s.jsx("td",{className:"py-2",children:s.jsx("input",{value:K.planned_minutes,onChange:xe=>_(we=>({...we,[P.value]:{...K,planned_minutes:xe.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),s.jsx("td",{className:"py-2",children:s.jsx("input",{value:K.break_minutes,onChange:xe=>_(we=>({...we,[P.value]:{...K,break_minutes:xe.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),s.jsx("td",{className:"py-2 text-right",children:s.jsx("button",{type:"button",disabled:oe.isPending,onClick:()=>{const xe=Number(K.planned_minutes),we=Number(K.break_minutes);if(!Number.isFinite(xe)||xe<0){a({variant:"error",title:"Geersiz planlanan dakika",description:`${P.label} iin say giriniz.`});return}if(!Number.isFinite(we)||we<0){a({variant:"error",title:"Geersiz mola dakikas",description:`${P.label} iin say giriniz.`});return}oe.mutate({department_id:ye,weekday:P.value,is_workday:K.is_workday,planned_minutes:Math.trunc(xe),break_minutes:Math.trunc(we)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},P.value)})})]})}):s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),ye?s.jsxs(s.Fragment,{children:[s.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:P=>{if(P.preventDefault(),!S.trim()){a({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const K=Number(O);if(!Number.isFinite(K)||K<0){a({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}le.mutate({id:V??void 0,department_id:ye,name:S.trim(),start_time_local:C,end_time_local:k,break_minutes:Math.trunc(K),is_active:D})},children:[V?s.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",V]}):null,s.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",s.jsx("input",{value:S,onChange:P=>w(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",s.jsx("input",{type:"time",value:C,onChange:P=>z(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",s.jsx("input",{type:"time",value:k,onChange:P=>A(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",s.jsx("input",{value:O,onChange:P=>Z(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:D,onChange:P=>R(P.target.checked)}),"Aktif"]}),s.jsx("button",{type:"submit",disabled:le.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:le.isPending?"Kaydediliyor...":V?"Vardiya Gncelle":"Vardiya Kaydet"}),V?s.jsx("button",{type:"button",onClick:()=>{Y(null),w(""),z("09:00"),A("17:30"),Z("60"),R(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Vardiya"}),s.jsx("th",{className:"py-2",children:"Saat Aral"}),s.jsx("th",{className:"py-2",children:"Mola"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),s.jsx("tbody",{children:M.map(P=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:P.name}),s.jsxs("td",{className:"py-2",children:[P.start_time_local," - ",P.end_time_local]}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:P.break_minutes})}),s.jsx("td",{className:"py-2",children:P.is_active?"Aktif":"Pasif"}),s.jsx("td",{className:"py-2 text-right",children:s.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{Y(P.id),w(P.name),z(P.start_time_local),A(P.end_time_local),Z(String(P.break_minutes)),R(P.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),P.is_active?s.jsx("button",{type:"button",disabled:F.isPending||re.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&F.mutate(P.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):s.jsx("button",{type:"button",disabled:re.isPending||F.isPending,onClick:()=>re.mutate({shift:P,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},P.id))})]})}),M.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const t0=Ba({name:ya().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:xd()});function n0(t){return It.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Pe(t,"Bolge islemi basarisiz.").message}function Yz(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState(!0),[p,y]=j.useState(""),[v,_]=j.useState(!0),[S,w]=j.useState(null),[C,z]=j.useState(""),[k,A]=j.useState(!0),[O,Z]=j.useState(null),D=Be({queryKey:["regions",v],queryFn:()=>md({include_inactive:v})}),R=Ke({mutationFn:CE,onSuccess:J=>{o(""),m(!0),Z(null),a({variant:"success",title:"Bolge olusturuldu",description:`${J.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:J=>{const ie=n0(J);Z(ie),a({variant:"error",title:"Bolge olusturulamadi",description:ie})}}),V=Ke({mutationFn:({regionId:J,payload:ie})=>AE(J,ie),onSuccess:J=>{Z(null),w(null),z(""),A(!0),a({variant:"success",title:"Bolge guncellendi",description:`${J.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:J=>{const ie=n0(J);Z(ie),a({variant:"error",title:"Bolge guncellenemedi",description:ie})}}),Y=J=>{J.preventDefault(),Z(null);const ie=t0.safeParse({name:l,is_active:d});if(!ie.success){const ye=ie.error.issues[0]?.message??"Bolge formunu kontrol edin.";Z(ye);return}R.mutate(ie.data)},G=J=>{if(J.preventDefault(),Z(null),!S)return;const ie=t0.safeParse({name:C,is_active:k});if(!ie.success){const ye=ie.error.issues[0]?.message??"Bolge formunu kontrol edin.";Z(ye);return}V.mutate({regionId:S,payload:ie.data})},Q=j.useMemo(()=>{const J=D.data??[],ie=p.trim().toLowerCase();return ie?J.filter(ye=>ye.name.toLowerCase().includes(ie)):J},[D.data,p]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),s.jsxs(Ce,{children:[s.jsxs("form",{onSubmit:Y,className:"grid gap-3 md:grid-cols-4",children:[s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",s.jsx("input",{value:l,onChange:J=>o(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:d,onChange:J=>m(J.target.checked)}),"Aktif"]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"submit",disabled:R.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:R.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),O?s.jsx("p",{className:"form-validation mt-2",children:O}):null]}),S?s.jsxs(Ce,{children:[s.jsxs("form",{onSubmit:G,className:"grid gap-3 md:grid-cols-4",children:[s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",s.jsx("input",{value:C,onChange:J=>z(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:J=>A(J.target.checked)}),"Aktif"]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{type:"submit",disabled:V.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:V.isPending?"Guncelleniyor...":"Kaydet"}),s.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),Z(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),O?s.jsx("p",{className:"form-validation mt-2",children:O}):null]}):null,D.isLoading?s.jsx(Rt,{}):null,D.isError?s.jsx(_t,{message:"Bolge listesi alinamadi."}):null,!D.isLoading&&!D.isError?s.jsxs(Ce,{children:[s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[s.jsx(Os,{value:p,onChange:y,placeholder:"Bolge adina gore ara..."}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:J=>_(J.target.checked)}),"Pasif bolgeleri goster"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Bolge ID"}),s.jsx("th",{className:"py-2",children:"Bolge Adi"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Islem"})]})}),s.jsx("tbody",{children:Q.map(J=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:J.id}),s.jsx("td",{className:"py-2",children:J.name}),s.jsx("td",{className:"py-2",children:s.jsx(Rs,{value:J.is_active?"Aktif":"Pasif"})}),s.jsx("td",{className:"py-2",children:s.jsx("button",{type:"button",onClick:()=>{w(J.id),z(J.name),A(J.is_active),Z(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},J.id))})]})}),Q.length===0?s.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function a0(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function $z(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":t==="FAILED"?"bg-rose-100 text-rose-700":t==="CANCELED"?"bg-slate-200 text-slate-700":t==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function Xz(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function Jz(){const t=zn(),{pushToast:a}=Mn(),[l,o]=Pf(),[d,m]=j.useState("Puantaj Bildirimi"),[p,y]=j.useState(""),[v,_]=j.useState(""),[S,w]=j.useState("employees"),[C,z]=j.useState(60),[k,A]=j.useState(""),[O,Z]=j.useState(""),[D,R]=j.useState(""),[V,Y]=j.useState([]),[G,Q]=j.useState([]),[J,ie]=j.useState(null),[ye,te]=j.useState(!1),[oe,le]=j.useState(""),[F,re]=j.useState(""),[q,U]=j.useState(""),ce=Be({queryKey:["employees","notify"],queryFn:()=>ti({status:"active"})}),ke=Be({queryKey:["admin-users","notify"],queryFn:i_}),W=Be({queryKey:["admin-push-config"],queryFn:c_}),M=Be({queryKey:["notification-jobs",k],queryFn:()=>s1({status:k||void 0,limit:100}),refetchInterval:1e4}),ae=Be({queryKey:["notify-subs-emp"],queryFn:()=>l1({}),refetchInterval:15e3}),P=Be({queryKey:["notify-subs-admin"],queryFn:()=>o1({}),refetchInterval:15e3}),K=Be({queryKey:["daily-archives",oe,F,q],queryFn:()=>d1({limit:180,start_date:oe||void 0,end_date:F||void 0,employee_query:q.trim()||void 0})}),xe=j.useMemo(()=>{const Ee=O.trim().toLowerCase();return Ee?(ce.data??[]).filter(Ve=>`${Ve.id} ${Ve.full_name}`.toLowerCase().includes(Ee)):ce.data??[]},[ce.data,O]),we=j.useMemo(()=>{const Ee=D.trim().toLowerCase();return Ee?(ke.data??[]).filter(Ve=>`${Ve.id} ${Ve.username}`.toLowerCase().includes(Ee)):ke.data??[]},[ke.data,D]),Me=Ke({mutationFn:u1,onSuccess:Ee=>{ie(Ee),a({variant:"success",title:"Davet hazir",description:"Link admin cihaza gonderildi."}),navigator.clipboard.writeText(Ee.invite_url)},onError:Ee=>a({variant:"error",title:"Davet hatasi",description:Pe(Ee,"Davet olusturulamadi").message})}),Fe=Ke({mutationFn:d_,onSuccess:Ee=>{a({variant:"success",title:"Bildirim gonderildi",description:`Hedef: ${Ee.total_targets} / Gonderilen: ${Ee.sent}`}),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:Ee=>a({variant:"error",title:"Gonderim hatasi",description:Pe(Ee,"Bildirim gonderilemedi").message})}),He=Ke({mutationFn:r1,onSuccess:()=>{t.invalidateQueries({queryKey:["notification-jobs"]})}}),lt=Ke({mutationFn:m1,onSuccess:(Ee,Ve)=>{const St=(K.data??[]).find(Bt=>Bt.id===Ve);Xz(Ee,St?.file_name??`arsiv-${Ve}.xlsx`)}}),at=Ke({mutationFn:Ee=>p1(Ee),onSuccess:Ee=>{a({variant:"success",title:"Arsiv bildirimi gonderildi",description:`Hedef: ${Ee.total_targets} | Gonderilen: ${Ee.sent} | Hata: ${Ee.failed}`}),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:Ee=>{const Ve=Pe(Ee,"Arsiv bildirimi gonderilemedi.");a({variant:"error",title:"Arsiv bildirimi basarisiz",description:Ve.message})}});return j.useEffect(()=>{if(ye)return;const Ee=l.get("archive_id");if(!Ee)return;const Ve=Number(Ee);if(!Number.isInteger(Ve)||Ve<=0){te(!0);return}if(!(K.data??[]).find(Ft=>Ft.id===Ve))return;te(!0),lt.mutate(Ve);const Bt=new URLSearchParams(l);Bt.delete("archive_id"),o(Bt,{replace:!0})},[ye,K.data,lt,l,o]),s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Bildirim Merkezi",description:"Push, claim daveti, job yonetimi ve gunluk Excel arsivi."}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet suresi (dk)",s.jsx("input",{type:"number",min:1,max:43200,value:C,onChange:Ee=>z(Number(Ee.target.value||60)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),s.jsx("button",{type:"button",onClick:()=>Me.mutate({expires_in_minutes:C}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki uret"}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",W.data?.enabled?"Aktif":"Pasif"]})]}),s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link otomatik kopyalanir. Ekran: /admin-panel/device-claim?token=..."}),J?s.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[s.jsxs("p",{children:["Token: ",J.token]}),s.jsxs("p",{className:"break-all",children:["Link: ",J.invite_url]}),s.jsxs("p",{children:["Bitis: ",a0(J.expires_at)]})]}):null]}),s.jsx(Ce,{children:s.jsxs("form",{className:"space-y-3",onSubmit:Ee=>{Ee.preventDefault(),Fe.mutate({title:d.trim(),message:p.trim(),password:v.trim(),target:S,employee_ids:S!=="admins"&&V.length>0?V:void 0,admin_user_ids:S!=="employees"&&G.length>0?G:void 0})},children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gonder"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsx("input",{value:d,onChange:Ee=>m(Ee.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Baslik"}),s.jsx("input",{type:"password",value:v,onChange:Ee=>_(Ee.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin sifresi"}),s.jsxs("select",{value:S,onChange:Ee=>w(Ee.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"employees",children:"Calisanlara"}),s.jsx("option",{value:"admins",children:"Adminlere"}),s.jsx("option",{value:"both",children:"Her ikisine"})]})]}),s.jsx("textarea",{value:p,onChange:Ee=>y(Ee.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),S!=="admins"?s.jsxs("div",{children:[s.jsx(Os,{value:O,onChange:Z,placeholder:"Calisan filtrele..."}),s.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:xe.map(Ee=>s.jsxs("label",{className:"flex items-center justify-between py-1",children:[s.jsxs("span",{children:["#",Ee.id," - ",Ee.full_name]}),s.jsx("input",{type:"checkbox",checked:V.includes(Ee.id),onChange:()=>Y(Ve=>Ve.includes(Ee.id)?Ve.filter(St=>St!==Ee.id):[...Ve,Ee.id])})]},Ee.id))})]}):null,S!=="employees"?s.jsxs("div",{children:[s.jsx(Os,{value:D,onChange:R,placeholder:"Admin filtrele..."}),s.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:we.map(Ee=>s.jsxs("label",{className:"flex items-center justify-between py-1",children:[s.jsxs("span",{children:["#",Ee.id," - ",Ee.username]}),s.jsx("input",{type:"checkbox",checked:G.includes(Ee.id),onChange:()=>Q(Ve=>Ve.includes(Ee.id)?Ve.filter(St=>St!==Ee.id):[...Ve,Ee.id])})]},Ee.id))})]}):null,s.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gonder"})]})}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Isleri"}),s.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[s.jsxs("select",{value:k,onChange:Ee=>A(Ee.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[s.jsx("option",{value:"",children:"Tumu"}),s.jsx("option",{value:"PENDING",children:"PENDING"}),s.jsx("option",{value:"SENDING",children:"SENDING"}),s.jsx("option",{value:"SENT",children:"SENT"}),s.jsx("option",{value:"FAILED",children:"FAILED"}),s.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),s.jsx("button",{type:"button",onClick:()=>{M.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),M.isLoading?s.jsx(Rt,{label:"Yukleniyor..."}):null,M.isError?s.jsx(_t,{message:"Job listesi alinamadi."}):null,s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{children:"Tur"}),s.jsx("th",{children:"Durum"}),s.jsx("th",{children:"Planlanan"}),s.jsx("th",{children:"Islem"})]})}),s.jsx("tbody",{children:(M.data??[]).map(Ee=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Ee.id}),s.jsx("td",{children:Ee.job_type}),s.jsx("td",{children:s.jsx("span",{className:`rounded px-2 py-1 text-xs ${$z(Ee.status)}`,children:Ee.status})}),s.jsx("td",{children:a0(Ee.scheduled_at_utc)}),s.jsx("td",{children:Ee.status==="PENDING"||Ee.status==="SENDING"?s.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>He.mutate(Ee.id),children:"Iptal"}):"-"})]},Ee.id))})]})})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik Ozeti"}),s.jsxs("div",{className:"grid gap-2 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Calisan abonelik: ",(ae.data??[]).length]}),s.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(P.data??[]).length]}),s.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv dosyasi: ",(K.data??[]).length]})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gunluk Excel Arsivi"}),s.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[s.jsxs("label",{className:"text-xs text-slate-600",children:["Baslangic",s.jsx("input",{type:"date",value:oe,onChange:Ee=>le(Ee.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),s.jsxs("label",{className:"text-xs text-slate-600",children:["Bitis",s.jsx("input",{type:"date",value:F,onChange:Ee=>re(Ee.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),s.jsxs("label",{className:"text-xs text-slate-600",children:["Calisan icerigi",s.jsx("input",{value:q,onChange:Ee=>U(Ee.target.value),placeholder:"ad veya ID",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",onClick:()=>{K.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Arsivi yenile"})})]}),K.isLoading?s.jsx(Rt,{label:"Arsiv yukleniyor..."}):null,K.isError?s.jsx(_t,{message:"Arsiv listesi alinamadi."}):null,s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{children:"Tarih"}),s.jsx("th",{children:"Dosya"}),s.jsx("th",{children:"Calisan"}),s.jsx("th",{children:"Boyut"}),s.jsx("th",{children:"Islem"})]})}),s.jsx("tbody",{children:(K.data??[]).map(Ee=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Ee.id}),s.jsx("td",{children:Ee.report_date}),s.jsx("td",{children:Ee.file_name}),s.jsx("td",{children:Ee.employee_count}),s.jsxs("td",{children:[(Ee.file_size_bytes/1024).toFixed(1)," KB"]}),s.jsx("td",{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>lt.mutate(Ee.id),children:"Excel indir"}),s.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",onClick:()=>at.mutate(Ee.id),disabled:at.isPending,children:"Adminlere bildir"})]})})]},Ee.id))})]})})]})]})}const kl={action:"",entityType:"",entityId:"",success:"all",limit:"300"},Wz=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],e3={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function t3(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function n3(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function a3(t){return t?"Baarl":"Hata"}function i3(t){const a=Object.entries(t);return a.length===0?"-":a.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function s3(t){return e3[t]??t}function r3(t){const a=Number(t.limit),l=Number.isInteger(a)&&a>0?Math.min(a,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:l}}function l3(t){const a=`${t.actor_type}:${t.actor_id}`,l=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${n3(t.ts_utc)}] ${t.action} actor=${a} entity=${l} ip=${o}`}function o3(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function u3(){const[t,a]=j.useState(kl),[l,o]=j.useState(kl),[d,m]=j.useState(""),[p,y]=j.useState(!0),[v,_]=j.useState(""),[S,w]=j.useState(null),[C,z]=j.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),k=j.useRef(2),A=j.useRef(null),O=j.useMemo(()=>r3(l),[l]),Z=Be({queryKey:["audit-logs",O],queryFn:()=>u_(O),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),D=Z.data??[],R=j.useMemo(()=>{if(!d.trim())return D;const te=d.trim().toLowerCase();return D.filter(oe=>[oe.action,oe.actor_type,oe.actor_id,oe.entity_type??"",oe.entity_id??"",oe.ip??"",oe.user_agent??"",JSON.stringify(oe.details)].join(" ").toLowerCase().includes(te))},[D,d]),V=j.useMemo(()=>{if(S!==null){const te=R.find(oe=>oe.id===S);if(te)return te}return R[0]??null},[S,R]),Y=j.useMemo(()=>{const te=D.filter(F=>!F.success).length,oe=D.filter(F=>F.action.startsWith("ADMIN_LOGIN")).length,le=D.filter(F=>F.action==="ATTENDANCE_EVENT_CREATED").length;return{total:D.length,failed:te,loginEvents:oe,attendanceEvents:le}},[D]);j.useEffect(()=>{!V&&S!==null&&w(null)},[V,S]),j.useEffect(()=>{!p||A.current===null||(A.current.scrollTop=A.current.scrollHeight)},[p,R,C]);const G=(te,oe)=>{z(le=>{const F=[...le,{id:k.current,level:te,text:oe}];return k.current+=1,F.slice(-120)})},Q=te=>{te.preventDefault(),o({...t}),G("success","Filtreler uyguland.")},J=()=>{a(kl),o(kl),m(""),G("info","Filtreler temizlendi.")},ie=te=>{const oe=te.trim();if(!oe)return;G("info",`$ ${oe}`);const[le,...F]=oe.split(/\s+/),re=le.toLowerCase(),q=oe.slice(le.length).trim();if(re==="help"||re==="yardim"||re==="yardm"){G("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(re==="clear"||re==="temizle"){z([]),k.current=1,G("success","Terminal kt gemii temizlendi.");return}if(re==="apply"||re==="uygula"){o({...t}),G("success","Taslak filtreler uyguland.");return}if(re==="reset"||re==="sifirla"||re==="sfrla"){a(kl),o(kl),m(""),G("warning","Filtreler sfrland.");return}if(re==="refresh"||re==="yenile"){Z.refetch(),G("success","Log verisi yeniden ekiliyor.");return}if(re==="follow"||re==="takip"){const U=F[0]?.toLowerCase();if(U==="on"||U==="ac"||U==="a"){y(!0),G("success","Canl takip ald.");return}if(U==="off"||U==="kapat"){y(!1),G("warning","Canl takip kapatld.");return}G("error","Kullanm: follow on|off");return}if(re==="status"||re==="durum"){const U=F[0]?.toLowerCase();let ce=null;if((U==="all"||U==="tum"||U==="tm")&&(ce="all"),(U==="success"||U==="ok"||U==="basarili"||U==="baarl")&&(ce="success"),(U==="failed"||U==="error"||U==="hata")&&(ce="failed"),ce===null){G("error","Kullanm: status all|success|failed");return}a(ke=>({...ke,success:ce})),o(ke=>({...ke,success:ce})),G("success",`Durum filtresi gncellendi: ${ce}`);return}if(re==="action"||re==="aksiyon"){if(!q){G("error","Kullanm: action <AKSIYON_KODU>");return}a(U=>({...U,action:q})),o(U=>({...U,action:q})),G("success",`Aksiyon filtresi gncellendi: ${q}`);return}if(re==="search"||re==="ara"){m(q),G("success",q?`Metin aramas uyguland: "${q}"`:"Metin aramas temizlendi.");return}if(re==="limit"){const U=Number(F[0]);if(!Number.isFinite(U)||U<=0){G("error","Kullanm: limit <1-500>");return}const ce=Math.min(Math.max(Math.trunc(U),1),500);a(ke=>({...ke,limit:String(ce)})),o(ke=>({...ke,limit:String(ce)})),G("success",`Limit gncellendi: ${ce}`);return}G("error",`Bilinmeyen komut: ${re}. Yardm iin "help" yazn.`)},ye=te=>{te.preventDefault(),ie(v),_("")};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.total})]}),s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[s.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),s.jsx("p",{className:"text-sm font-semibold text-rose-800",children:Y.failed})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.loginEvents})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.attendanceEvents})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{y(te=>!te),G("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),s.jsx("button",{type:"button",onClick:()=>{Z.refetch(),G("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),s.jsx("button",{type:"button",onClick:J,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),s.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Q,children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",s.jsx("select",{value:t.action,onChange:te=>a(oe=>({...oe,action:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:Wz.map(te=>s.jsx("option",{value:te.value,children:te.label},te.label))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",s.jsx("input",{type:"text",value:t.entityType,onChange:te=>a(oe=>({...oe,entityType:te.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",s.jsx("input",{type:"text",value:t.entityId,onChange:te=>a(oe=>({...oe,entityId:te.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",s.jsxs("select",{value:t.success,onChange:te=>a(oe=>({...oe,success:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"all",children:"Tm"}),s.jsx("option",{value:"success",children:"Baarl"}),s.jsx("option",{value:"failed",children:"Hata"})]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",s.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:te=>a(oe=>({...oe,limit:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",s.jsx("input",{type:"text",value:d,onChange:te=>m(te.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),s.jsx("button",{type:"button",onClick:J,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),s.jsxs(Ce,{children:[Z.isLoading?s.jsx(Rt,{label:"Log kaytlar ykleniyor..."}):null,Z.isError?s.jsx(_t,{message:Pe(Z.error,"Log kaytlar alnamad.").message}):null,!Z.isLoading&&!Z.isError?s.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),s.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),s.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),s.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),s.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",R.length," kayt"]})]}),s.jsx("form",{onSubmit:ye,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:s.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[s.jsx("span",{children:"admin@audit:~$"}),s.jsx("input",{value:v,onChange:te=>_(te.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),s.jsxs("div",{ref:A,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[C.map(te=>s.jsx("p",{className:`leading-6 ${o3(te.level)}`,children:te.text},te.id)),R.map(te=>{const oe=V?.id===te.id;return s.jsxs("button",{type:"button",onClick:()=>w(te.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${oe?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[s.jsx("span",{className:te.success?"text-emerald-300":"text-rose-300",children:te.success?"[OK]":"[ERR]"})," ",s.jsx("span",{className:"text-slate-200",children:l3(te)})]},te.id)}),R.length===0?s.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),s.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),V===null?s.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s3(V.action)}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:V.action})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",t3(V.ts_utc)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",V.actor_type,":",V.actor_id]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Durum:"})," ",a3(V.success)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",V.entity_type??"-",V.entity_id?` #${V.entity_id}`:""]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"IP:"})," ",V.ip??"-"]}),s.jsxs("p",{className:"break-all",children:[s.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",V.user_agent??"-"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",i3(V.details)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),s.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(V.details,null,2)})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[s.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),s.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const c3=Ba({department_id:fn().int().positive(),daily_minutes_planned:fn().int().nonnegative(),break_minutes:fn().int().nonnegative(),grace_minutes:fn().int().nonnegative()}),d3=Ba({department_id:fn().int().positive(),weekday:fn().int().min(0).max(6),is_workday:xd(),planned_minutes:fn().int().nonnegative(),break_minutes:fn().int().nonnegative()}),h3=Ba({department_id:fn().int().positive(),name:ya().min(1).max(100),start_time_local:ya().regex(/^\d{2}:\d{2}$/),end_time_local:ya().regex(/^\d{2}:\d{2}$/),break_minutes:fn().int().nonnegative(),is_active:xd()}),i0=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],m3=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],f3={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function Xm(t){const a=t.trim();if(!a)return null;const l=Number(a);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function p3(t,a){const l=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:a,note:t.note}}function g3(){const t=zn(),{pushToast:a}=Mn(),[l,o]=j.useState(""),[d,m]=j.useState("540"),[p,y]=j.useState("60"),[v,_]=j.useState("5"),[S,w]=j.useState(""),[C,z]=j.useState("0"),[k,A]=j.useState(!0),[O,Z]=j.useState("540"),[D,R]=j.useState("60"),[V,Y]=j.useState(""),[G,Q]=j.useState(""),[J,ie]=j.useState("10:00"),[ye,te]=j.useState("18:00"),[oe,le]=j.useState("60"),[F,re]=j.useState(!0),[q,U]=j.useState(null),[ce,ke]=j.useState(null),[W,M]=j.useState(""),[ae,P]=j.useState("DEPARTMENT"),[K,xe]=j.useState([]),[we,Me]=j.useState(""),[Fe,He]=j.useState(""),[lt,at]=j.useState(""),[Ee,Ve]=j.useState(""),[St,Bt]=j.useState(""),[Ft,ln]=j.useState(new Date().toISOString().slice(0,10)),[on,Nn]=j.useState(new Date().toISOString().slice(0,10)),[ee,Te]=j.useState(!1),[$e,Lt]=j.useState(!0),[Xe,ve]=j.useState(""),[X,Oe]=j.useState(!0),[Tt,Je]=j.useState(null),pn=Be({queryKey:["departments"],queryFn:Ls}),ue=Be({queryKey:["employees","all"],queryFn:()=>ti({status:"all"})}),We=Be({queryKey:["work-rules"],queryFn:FE}),bt=Be({queryKey:["department-weekly-rules"],queryFn:()=>r_()}),Ut=Be({queryKey:["department-shifts"],queryFn:()=>lu()}),On=Be({queryKey:["schedule-plans","all"],queryFn:()=>e1({active_only:!1})}),gn=Ke({mutationFn:HE,onSuccess:()=>{Je(null),a({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:B=>{const Re=Pe(B,"Mesai kurali kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Mesai kurali kaydedilemedi",description:Re.message})}}),Ia=Ke({mutationFn:l_,onSuccess:()=>{Je(null),a({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:B=>{const Re=Pe(B,"Haftalik plan kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Haftalik plan kaydedilemedi",description:Re.message})}}),Bs=Ke({mutationFn:Wc,onSuccess:()=>{Je(null),U(null),Q(""),ie("10:00"),te("18:00"),le("60"),re(!0),a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Pe(B,"Vardiya kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Vardiya kaydedilemedi",description:Re.message})}}),Is=Ke({mutationFn:o_,onSuccess:()=>{Je(null),q!==null&&(U(null),Q(""),ie("10:00"),te("18:00"),le("60"),re(!0)),a({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Pe(B,"Vardiya pasife alinamadi.");Je(Re.message),a({variant:"error",title:"Vardiya pasife alinamadi",description:Re.message})}}),Ua=Ke({mutationFn:({shift:B,nextActive:Re})=>Wc({id:B.id,department_id:B.department_id,name:B.name,start_time_local:B.start_time_local,end_time_local:B.end_time_local,break_minutes:B.break_minutes,is_active:Re}),onSuccess:(B,Re)=>{Je(null),a({variant:"success",title:Re.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Re.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Pe(B,"Vardiya durumu guncellenemedi.");Je(Re.message),a({variant:"error",title:"Vardiya durumu guncellenemedi",description:Re.message})}}),Za=Ke({mutationFn:Bx,onSuccess:()=>{Je(null),a({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),ke(null),xe([]),He(""),at(""),Ve(""),Bt(""),Te(!1),Lt(!0),ve("")},onError:B=>{const Re=Pe(B,"Planlama kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Planlama kaydedilemedi",description:Re.message})}}),ni=Ke({mutationFn:t1,onSuccess:()=>{Je(null),a({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:B=>{const Re=Pe(B,"Planlama iptal edilemedi.");Je(Re.message),a({variant:"error",title:"Planlama iptal edilemedi",description:Re.message})}}),va=Ke({mutationFn:B=>Bx(p3(B,!0)),onSuccess:()=>{Je(null),a({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:B=>{const Re=Pe(B,"Plan aktif edilemedi.");Je(Re.message),a({variant:"error",title:"Plan aktif edilemedi",description:Re.message})}}),ai=j.useMemo(()=>{const B=Number(d),Re=Number(p),pt=Number(v);return{daily:Vc(B),breakValue:Vc(Re),grace:Vc(pt)}},[d,p,v]);if(pn.isLoading||ue.isLoading||We.isLoading||bt.isLoading||Ut.isLoading||On.isLoading)return s.jsx(Rt,{});if(pn.isError||ue.isError||We.isError||bt.isError||Ut.isError||On.isError)return s.jsx(_t,{message:"Mesai kurali verileri alinamadi."});const sa=pn.data??[],Rr=ue.data??[],Lr=We.data??[],Us=bt.data??[],ra=Ut.data??[],Il=On.data??[],Ni=new Map(sa.map(B=>[B.id,B.name])),Dr=new Map(Rr.map(B=>[B.id,B.full_name])),Pr=new Map(ra.map(B=>[B.id,B.name])),Rn=Il.filter(B=>X||B.is_active),Le=Number(W),Zs=Number.isFinite(Le)?ra.filter(B=>B.department_id===Le):[],Gi=Number.isFinite(Le)?Rr.filter(B=>B.department_id===Le):[],la=we.trim()?Gi.filter(B=>{const Re=we.trim().toLowerCase();return B.full_name.toLowerCase().includes(Re)||String(B.id).includes(Re.replace("#",""))}):Gi,Xt=()=>{ke(null),P("DEPARTMENT"),xe([]),Me(""),He(""),at(""),Ve(""),Bt(""),ln(new Date().toISOString().slice(0,10)),Nn(new Date().toISOString().slice(0,10)),Te(!1),Lt(!0),ve("")},un=B=>{const Re=B.target_employee_ids&&B.target_employee_ids.length>0?B.target_employee_ids:B.target_employee_id?[B.target_employee_id]:[];ke(B.id),M(String(B.department_id)),P(B.target_type),xe(Re),Me(""),He(B.shift_id?String(B.shift_id):""),at(B.daily_minutes_planned!==null?String(B.daily_minutes_planned):""),Ve(B.break_minutes!==null?String(B.break_minutes):""),Bt(B.grace_minutes!==null?String(B.grace_minutes):""),ln(B.start_date),Nn(B.end_date),Te(B.is_locked),Lt(B.is_active),ve(B.note??"")},qa=B=>{B.preventDefault(),Je(null);const Re=c3.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:p,grace_minutes:v});if(!Re.success){const pt=Re.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";Je(pt),a({variant:"error",title:"Form hatasi",description:pt});return}gn.mutate(Re.data)},_a=B=>{B.preventDefault(),Je(null);const Re=d3.safeParse({department_id:S,weekday:C,is_workday:k,planned_minutes:O,break_minutes:D});if(!Re.success){const pt=Re.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";Je(pt),a({variant:"error",title:"Form hatasi",description:pt});return}Ia.mutate(Re.data)},Br=B=>{B.preventDefault(),Je(null);const Re=h3.safeParse({department_id:V,name:G.trim(),start_time_local:J,end_time_local:ye,break_minutes:oe,is_active:F});if(!Re.success){const pt=Re.error.issues[0]?.message??"Vardiya formunu kontrol edin.";Je(pt),a({variant:"error",title:"Form hatasi",description:pt});return}Bs.mutate({id:q??void 0,...Re.data})},Ul=B=>{U(B.id),Y(String(B.department_id)),Q(B.name),ie(B.start_time_local),te(B.end_time_local),le(String(B.break_minutes)),re(B.is_active),Je(null)},Ir=()=>{U(null),Q(""),ie("10:00"),te("18:00"),le("60"),re(!0),Je(null)},ji=B=>{B.preventDefault(),Je(null);const Re=Number(W);if(!Number.isFinite(Re)||Re<=0){Je("Planlama icin departman secmelisiniz.");return}if(!Ft||!on){Je("Baslangic ve bitis tarihi zorunludur.");return}if(Ft>on){Je("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const pt=ae==="DEPARTMENT"?[]:[...K];if(ae!=="DEPARTMENT"&&pt.length===0){Je("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Ln=Fe?Number(Fe):null,Fa=Xm(lt),Gt=Xm(Ee),qs=Xm(St);if(!Ln&&Fa===null&&Gt===null&&qs===null){Je("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}Za.mutate({id:ce??void 0,department_id:Re,target_type:ae,target_employee_id:pt.length>0?pt[0]:null,target_employee_ids:pt,shift_id:Ln,daily_minutes_planned:Fa,break_minutes:Gt,grace_minutes:qs,start_date:Ft,end_date:on,is_locked:ee,is_active:$e,note:Xe.trim()||null})};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(bn,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),s.jsxs("form",{onSubmit:qa,className:"mt-3 grid gap-3 md:grid-cols-4",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:l,onChange:B=>o(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seciniz"}),sa.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",s.jsx("input",{value:d,onChange:B=>m(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",s.jsx("input",{value:p,onChange:B=>y(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",s.jsx("input",{value:v,onChange:B=>_(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",ai.daily," | Mola ",ai.breakValue," | Tolerans ",ai.grace]}),s.jsx("div",{className:"md:col-span-4",children:s.jsx("button",{type:"submit",disabled:gn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:gn.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),s.jsxs("form",{onSubmit:_a,className:"mt-3 grid gap-3 md:grid-cols-5",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:S,onChange:B=>w(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seciniz"}),sa.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",s.jsx("select",{value:C,onChange:B=>z(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:i0.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",s.jsx("input",{value:O,onChange:B=>Z(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",s.jsx("input",{value:D,onChange:B=>R(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:B=>A(B.target.checked)}),"Calisma Gunu"]}),s.jsx("div",{className:"md:col-span-5",children:s.jsx("button",{type:"submit",disabled:Ia.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ia.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"Gun"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Planlanan Sure"}),s.jsx("th",{className:"py-2",children:"Mola"})]})}),s.jsx("tbody",{children:Us.map(B=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),s.jsx("td",{className:"py-2",children:i0.find(Re=>Re.value===B.weekday)?.label??B.weekday}),s.jsx("td",{className:"py-2",children:B.is_workday?"Calisma":"Off"}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:B.planned_minutes})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:B.break_minutes})})]},B.id))})]})})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),q?s.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",q]}):null,s.jsxs("form",{onSubmit:Br,className:"mt-3 grid gap-3 md:grid-cols-6",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:V,onChange:B=>Y(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seciniz"}),sa.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",s.jsx("input",{value:G,onChange:B=>Q(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",s.jsx("input",{type:"time",value:J,onChange:B=>ie(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",s.jsx("input",{type:"time",value:ye,onChange:B=>te(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",s.jsx("input",{value:oe,onChange:B=>le(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:F,onChange:B=>re(B.target.checked)}),"Aktif"]}),s.jsx("div",{className:"md:col-span-6",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{type:"submit",disabled:Bs.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Bs.isPending?"Kaydediliyor...":q?"Vardiya Guncelle":"Vardiya Kaydet"}),q?s.jsx("button",{type:"button",onClick:Ir,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"Vardiya"}),s.jsx("th",{className:"py-2",children:"Saat"}),s.jsx("th",{className:"py-2",children:"Mola"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),s.jsx("tbody",{children:ra.map(B=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),s.jsx("td",{className:"py-2",children:B.name}),s.jsxs("td",{className:"py-2",children:[B.start_time_local," - ",B.end_time_local]}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:B.break_minutes})}),s.jsx("td",{className:"py-2",children:B.is_active?"Aktif":"Pasif"}),s.jsx("td",{className:"py-2 text-right",children:s.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>Ul(B),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),B.is_active?s.jsx("button",{type:"button",disabled:Is.isPending||Ua.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Is.mutate(B.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):s.jsx("button",{type:"button",disabled:Ua.isPending||Is.isPending,onClick:()=>Ua.mutate({shift:B,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},B.id))})]})})]}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:X,onChange:B=>Oe(B.target.checked)}),"Pasif planlari goster"]})]}),s.jsxs("form",{onSubmit:ji,className:"mt-4 grid gap-3 md:grid-cols-4",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",s.jsxs("select",{value:W,onChange:B=>{M(B.target.value),xe([]),He("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seciniz"}),sa.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",s.jsx("select",{value:ae,onChange:B=>{const Re=B.target.value;P(Re),Re==="DEPARTMENT"&&xe([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:m3.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",s.jsx("input",{type:"text",value:we,onChange:B=>Me(B.target.value),disabled:ae==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),s.jsx("select",{multiple:!0,value:K.map(String),onChange:B=>{const Re=Array.from(B.target.selectedOptions).map(pt=>Number(pt.value));xe(Re.filter(pt=>Number.isFinite(pt)&&pt>0))},disabled:ae==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:la.map(B=>s.jsxs("option",{value:B.id,children:["#",B.id," - ",B.full_name]},B.id))}),s.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",s.jsxs("select",{value:Fe,onChange:B=>He(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[s.jsx("option",{value:"",children:"Seciniz"}),Zs.map(B=>s.jsxs("option",{value:B.id,children:[B.name," (",B.start_time_local," - ",B.end_time_local,")"]},B.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",s.jsx("input",{value:lt,onChange:B=>at(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",s.jsx("input",{value:Ee,onChange:B=>Ve(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",s.jsx("input",{value:St,onChange:B=>Bt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",s.jsx("input",{type:"date",value:Ft,onChange:B=>ln(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",s.jsx("input",{type:"date",value:on,onChange:B=>Nn(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:ee,onChange:B=>Te(B.target.checked)}),"Vardiya kilitli"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:$e,onChange:B=>Lt(B.target.checked)}),"Aktif"]}),s.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",s.jsx("input",{value:Xe,onChange:B=>ve(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),s.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[s.jsx("button",{type:"submit",disabled:Za.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Za.isPending?"Kaydediliyor...":ce?"Plani Guncelle":"Plan Olustur"}),s.jsx("button",{type:"button",onClick:Xt,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"Hedef"}),s.jsx("th",{className:"py-2",children:"Vardiya"}),s.jsx("th",{className:"py-2",children:"Plan/Mola"}),s.jsx("th",{className:"py-2",children:"Tarih Araligi"}),s.jsx("th",{className:"py-2",children:"Kilit"}),s.jsx("th",{className:"py-2",children:"Durum"}),s.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),s.jsx("tbody",{children:Rn.map(B=>{const pt=(B.target_employee_ids&&B.target_employee_ids.length>0?B.target_employee_ids:B.target_employee_id?[B.target_employee_id]:[]).map(Ln=>Dr.get(Ln)??`#${Ln}`);return s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:f3[B.target_type]}),pt.length>0?s.jsx("span",{className:"text-xs text-slate-500",children:pt.join(", ")}):null]})}),s.jsx("td",{className:"py-2",children:B.shift_id?Pr.get(B.shift_id)??`#${B.shift_id}`:"-"}),s.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[s.jsxs("div",{children:["Plan: ",B.daily_minutes_planned!==null?`${B.daily_minutes_planned} dk`:"-"]}),s.jsxs("div",{children:["Mola: ",B.break_minutes!==null?`${B.break_minutes} dk`:"-"]}),s.jsxs("div",{children:["Tolerans: ",B.grace_minutes!==null?`${B.grace_minutes} dk`:"-"]})]}),s.jsxs("td",{className:"py-2",children:[B.start_date," - ",B.end_date]}),s.jsx("td",{className:"py-2",children:B.is_locked?"Kilitli":"Serbest"}),s.jsx("td",{className:"py-2",children:B.is_active?"Aktif":"Pasif"}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:()=>un(B),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),B.is_active?s.jsx("button",{type:"button",onClick:()=>ni.mutate(B.id),disabled:ni.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):s.jsx("button",{type:"button",onClick:()=>va.mutate(B),disabled:va.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},B.id)})})]})})]}),s.jsxs(Ce,{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2",children:"Departman"}),s.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),s.jsx("th",{className:"py-2",children:"Mola Suresi"}),s.jsx("th",{className:"py-2",children:"Tolerans"})]})}),s.jsx("tbody",{children:Lr.map(B=>s.jsxs("tr",{className:"border-t border-slate-100",children:[s.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:B.daily_minutes_planned})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:B.break_minutes})}),s.jsx("td",{className:"py-2",children:s.jsx(rt,{minutes:B.grace_minutes})})]},B.id))})]})})]}),Tt?s.jsx("p",{className:"form-validation",children:Tt}):null]})}function y3(){return s.jsxs(dS,{children:[s.jsx(Ot,{element:s.jsx(L1,{}),children:s.jsx(Ot,{path:"/login",element:s.jsx(pz,{})})}),s.jsx(Ot,{path:"/device-claim",element:s.jsx(B1,{})}),s.jsx(Ot,{path:"/archive-download",element:s.jsx(QA,{})}),s.jsx(Ot,{element:s.jsx(R1,{}),children:s.jsxs(Ot,{element:s.jsx(O1,{}),children:[s.jsx(Ot,{path:"/",element:s.jsx(Of,{to:"/dashboard",replace:!0})}),s.jsx(Ot,{path:"/management-console",element:s.jsx(xz,{})}),s.jsx(Ot,{path:"/dashboard",element:s.jsx(DA,{})}),s.jsx(Ot,{path:"/regions",element:s.jsx(Yz,{})}),s.jsx(Ot,{path:"/departments",element:s.jsx(IA,{})}),s.jsx(Ot,{path:"/employees",element:s.jsx(cz,{})}),s.jsx(Ot,{path:"/employees/:id",element:s.jsx(az,{})}),s.jsx(Ot,{path:"/quick-setup",element:s.jsx(Gz,{})}),s.jsx(Ot,{path:"/work-rules",element:s.jsx(g3,{})}),s.jsx(Ot,{path:"/attendance-events",element:s.jsx(G1,{})}),s.jsx(Ot,{path:"/devices",element:s.jsx(ZA,{})}),s.jsx(Ot,{path:"/compliance-settings",element:s.jsx(qA,{})}),s.jsx(Ot,{path:"/leaves",element:s.jsx(hz,{})}),s.jsx(Ot,{path:"/qr-kodlar",element:s.jsx(Vz,{})}),s.jsx(Ot,{path:"/reports/employee-monthly",element:s.jsx(oz,{})}),s.jsx(Ot,{path:"/reports/department-summary",element:s.jsx(BA,{})}),s.jsx(Ot,{path:"/reports/excel-export",element:s.jsx(_z,{})}),s.jsx(Ot,{path:"/notifications",element:s.jsx(Jz,{})}),s.jsx(Ot,{path:"/audit-logs",element:s.jsx(u3,{})}),s.jsx(Ot,{path:"/admin-users",element:s.jsx(GA,{})})]})}),s.jsx(Ot,{path:"*",element:s.jsx(vz,{})})]})}const x3=new WN({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});CN.createRoot(document.getElementById("root")).render(s.jsx(bN.StrictMode,{children:s.jsx(ej,{client:x3,children:s.jsx(DS,{basename:"/admin-panel/",children:s.jsx(F1,{children:s.jsx(A1,{children:s.jsx(y3,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
