(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xh={exports:{}},Ho={};var oy;function ON(){if(oy)return Ho;oy=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(o,d,m){var f=null;if(m!==void 0&&(f=""+m),d.key!==void 0&&(f=""+d.key),"key"in d){m={};for(var x in d)x!=="key"&&(m[x]=d[x])}else m=d;return d=m.ref,{$$typeof:e,type:o,key:f,ref:d!==void 0?d:null,props:m}}return Ho.Fragment=i,Ho.jsx=l,Ho.jsxs=l,Ho}var uy;function DN(){return uy||(uy=1,xh.exports=ON()),xh.exports}var a=DN(),yh={exports:{}},ut={};var cy;function RN(){if(cy)return ut;cy=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function M(z){return z===null||typeof z!="object"?null:(z=C&&z[C]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function B(z,ee,D){this.props=z,this.context=ee,this.refs=O,this.updater=D||k}B.prototype.isReactComponent={},B.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=B.prototype;function R(z,ee,D){this.props=z,this.context=ee,this.refs=O,this.updater=D||k}var G=R.prototype=new P;G.constructor=R,A(G,B.prototype),G.isPureReactComponent=!0;var V=Array.isArray;function W(){}var Z={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function te(z,ee,D){var I=D.ref;return{$$typeof:e,type:z,key:ee,ref:I!==void 0?I:null,props:D}}function fe(z,ee){return te(z.type,ee,z.props)}function xe(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function de(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(D){return ee[D]})}var _e=/\/+/g;function le(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?de(""+z.key):ee.toString(36)}function ue(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(W,W):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function q(z,ee,D,I,ce){var je=typeof z;(je==="undefined"||je==="boolean")&&(z=null);var Me=!1;if(z===null)Me=!0;else switch(je){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(z.$$typeof){case e:case i:Me=!0;break;case S:return Me=z._init,q(Me(z._payload),ee,D,I,ce)}}if(Me)return ce=ce(z),Me=I===""?"."+le(z,0):I,V(ce)?(D="",Me!=null&&(D=Me.replace(_e,"$&/")+"/"),q(ce,ee,D,"",function(rt){return rt})):ce!=null&&(xe(ce)&&(ce=fe(ce,D+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace(_e,"$&/")+"/")+Me)),ee.push(ce)),1;Me=0;var He=I===""?".":I+":";if(V(z))for(var Xe=0;Xe<z.length;Xe++)I=z[Xe],je=He+le(I,Xe),Me+=q(I,ee,D,je,ce);else if(Xe=M(z),typeof Xe=="function")for(z=Xe.call(z),Xe=0;!(I=z.next()).done;)I=I.value,je=He+le(I,Xe++),Me+=q(I,ee,D,je,ce);else if(je==="object"){if(typeof z.then=="function")return q(ue(z),ee,D,I,ce);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Me}function K(z,ee,D){if(z==null)return z;var I=[],ce=0;return q(z,I,"","",function(je){return ee.call(D,je,ce++)}),I}function ie(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(D){(z._status===0||z._status===-1)&&(z._status=1,z._result=D)},function(D){(z._status===0||z._status===-1)&&(z._status=2,z._result=D)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var ke=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},$={map:K,forEach:function(z,ee,D){K(z,function(){ee.apply(this,arguments)},D)},count:function(z){var ee=0;return K(z,function(){ee++}),ee},toArray:function(z){return K(z,function(ee){return ee})||[]},only:function(z){if(!xe(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ut.Activity=w,ut.Children=$,ut.Component=B,ut.Fragment=l,ut.Profiler=d,ut.PureComponent=R,ut.StrictMode=o,ut.Suspense=v,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ut.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Z.H.useMemoCache(z)}},ut.cache=function(z){return function(){return z.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(z,ee,D){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var I=A({},z.props),ce=z.key;if(ee!=null)for(je in ee.key!==void 0&&(ce=""+ee.key),ee)!Y.call(ee,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ee.ref===void 0||(I[je]=ee[je]);var je=arguments.length-2;if(je===1)I.children=D;else if(1<je){for(var Me=Array(je),He=0;He<je;He++)Me[He]=arguments[He+2];I.children=Me}return te(z.type,ce,I)},ut.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:m,_context:z},z},ut.createElement=function(z,ee,D){var I,ce={},je=null;if(ee!=null)for(I in ee.key!==void 0&&(je=""+ee.key),ee)Y.call(ee,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ce[I]=ee[I]);var Me=arguments.length-2;if(Me===1)ce.children=D;else if(1<Me){for(var He=Array(Me),Xe=0;Xe<Me;Xe++)He[Xe]=arguments[Xe+2];ce.children=He}if(z&&z.defaultProps)for(I in Me=z.defaultProps,Me)ce[I]===void 0&&(ce[I]=Me[I]);return te(z,je,ce)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(z){return{$$typeof:x,render:z}},ut.isValidElement=xe,ut.lazy=function(z){return{$$typeof:S,_payload:{_status:-1,_result:z},_init:ie}},ut.memo=function(z,ee){return{$$typeof:b,type:z,compare:ee===void 0?null:ee}},ut.startTransition=function(z){var ee=Z.T,D={};Z.T=D;try{var I=z(),ce=Z.S;ce!==null&&ce(D,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(W,ke)}catch(je){ke(je)}finally{ee!==null&&D.types!==null&&(ee.types=D.types),Z.T=ee}},ut.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ut.use=function(z){return Z.H.use(z)},ut.useActionState=function(z,ee,D){return Z.H.useActionState(z,ee,D)},ut.useCallback=function(z,ee){return Z.H.useCallback(z,ee)},ut.useContext=function(z){return Z.H.useContext(z)},ut.useDebugValue=function(){},ut.useDeferredValue=function(z,ee){return Z.H.useDeferredValue(z,ee)},ut.useEffect=function(z,ee){return Z.H.useEffect(z,ee)},ut.useEffectEvent=function(z){return Z.H.useEffectEvent(z)},ut.useId=function(){return Z.H.useId()},ut.useImperativeHandle=function(z,ee,D){return Z.H.useImperativeHandle(z,ee,D)},ut.useInsertionEffect=function(z,ee){return Z.H.useInsertionEffect(z,ee)},ut.useLayoutEffect=function(z,ee){return Z.H.useLayoutEffect(z,ee)},ut.useMemo=function(z,ee){return Z.H.useMemo(z,ee)},ut.useOptimistic=function(z,ee){return Z.H.useOptimistic(z,ee)},ut.useReducer=function(z,ee,D){return Z.H.useReducer(z,ee,D)},ut.useRef=function(z){return Z.H.useRef(z)},ut.useState=function(z){return Z.H.useState(z)},ut.useSyncExternalStore=function(z,ee,D){return Z.H.useSyncExternalStore(z,ee,D)},ut.useTransition=function(){return Z.H.useTransition()},ut.version="19.2.4",ut}var dy;function Rf(){return dy||(dy=1,yh.exports=RN()),yh.exports}var _=Rf();const LN=dd(_);var vh={exports:{}},Ko={},bh={exports:{}},_h={};var my;function PN(){return my||(my=1,(function(e){function i(q,K){var ie=q.length;q.push(K);e:for(;0<ie;){var ke=ie-1>>>1,$=q[ke];if(0<d($,K))q[ke]=K,q[ie]=$,ie=ke;else break e}}function l(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var K=q[0],ie=q.pop();if(ie!==K){q[0]=ie;e:for(var ke=0,$=q.length,z=$>>>1;ke<z;){var ee=2*(ke+1)-1,D=q[ee],I=ee+1,ce=q[I];if(0>d(D,ie))I<$&&0>d(ce,D)?(q[ke]=ce,q[I]=ie,ke=I):(q[ke]=D,q[ee]=ie,ke=ee);else if(I<$&&0>d(ce,ie))q[ke]=ce,q[I]=ie,ke=I;else break e}}return K}function d(q,K){var ie=q.sortIndex-K.sortIndex;return ie!==0?ie:q.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var f=Date,x=f.now();e.unstable_now=function(){return f.now()-x}}var v=[],b=[],S=1,w=null,C=3,M=!1,k=!1,A=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(q){for(var K=l(b);K!==null;){if(K.callback===null)o(b);else if(K.startTime<=q)o(b),K.sortIndex=K.expirationTime,i(v,K);else break;K=l(b)}}function V(q){if(A=!1,G(q),!k)if(l(v)!==null)k=!0,W||(W=!0,de());else{var K=l(b);K!==null&&ue(V,K.startTime-q)}}var W=!1,Z=-1,Y=5,te=-1;function fe(){return O?!0:!(e.unstable_now()-te<Y)}function xe(){if(O=!1,W){var q=e.unstable_now();te=q;var K=!0;try{e:{k=!1,A&&(A=!1,P(Z),Z=-1),M=!0;var ie=C;try{t:{for(G(q),w=l(v);w!==null&&!(w.expirationTime>q&&fe());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,C=w.priorityLevel;var $=ke(w.expirationTime<=q);if(q=e.unstable_now(),typeof $=="function"){w.callback=$,G(q),K=!0;break t}w===l(v)&&o(v),G(q)}else o(v);w=l(v)}if(w!==null)K=!0;else{var z=l(b);z!==null&&ue(V,z.startTime-q),K=!1}}break e}finally{w=null,C=ie,M=!1}K=void 0}}finally{K?de():W=!1}}}var de;if(typeof R=="function")de=function(){R(xe)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,le=_e.port2;_e.port1.onmessage=xe,de=function(){le.postMessage(null)}}else de=function(){B(xe,0)};function ue(q,K){Z=B(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_next=function(q){switch(C){case 1:case 2:case 3:var K=3;break;default:K=C}var ie=C;C=K;try{return q()}finally{C=ie}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=C;C=q;try{return K()}finally{C=ie}},e.unstable_scheduleCallback=function(q,K,ie){var ke=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ie+$,q={id:S++,callback:K,priorityLevel:q,startTime:ie,expirationTime:$,sortIndex:-1},ie>ke?(q.sortIndex=ie,i(b,q),l(v)===null&&q===l(b)&&(A?(P(Z),Z=-1):A=!0,ue(V,ie-ke))):(q.sortIndex=$,i(v,q),k||M||(k=!0,W||(W=!0,de()))),q},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(q){var K=C;return function(){var ie=C;C=K;try{return q.apply(this,arguments)}finally{C=ie}}}})(_h)),_h}var hy;function IN(){return hy||(hy=1,bh.exports=PN()),bh.exports}var Nh={exports:{}},Yn={};var fy;function BN(){if(fy)return Yn;fy=1;var e=Rf();function i(v){var b="https://react.dev/errors/"+v;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(v,b,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:b,implementation:S}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,b){if(v==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Yn.createPortal=function(v,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(i(299));return m(v,b,null,S)},Yn.flushSync=function(v){var b=f.T,S=o.p;try{if(f.T=null,o.p=2,v)return v()}finally{f.T=b,o.p=S,o.d.f()}},Yn.preconnect=function(v,b){typeof v=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(v,b))},Yn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Yn.preinit=function(v,b){if(typeof v=="string"&&b&&typeof b.as=="string"){var S=b.as,w=x(S,b.crossOrigin),C=typeof b.integrity=="string"?b.integrity:void 0,M=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?o.d.S(v,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:M}):S==="script"&&o.d.X(v,{crossOrigin:w,integrity:C,fetchPriority:M,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Yn.preinitModule=function(v,b){if(typeof v=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=x(b.as,b.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(v)},Yn.preload=function(v,b){if(typeof v=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,w=x(S,b.crossOrigin);o.d.L(v,S,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Yn.preloadModule=function(v,b){if(typeof v=="string")if(b){var S=x(b.as,b.crossOrigin);o.d.m(v,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(v)},Yn.requestFormReset=function(v){o.d.r(v)},Yn.unstable_batchedUpdates=function(v,b){return v(b)},Yn.useFormState=function(v,b,S){return f.H.useFormState(v,b,S)},Yn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yn.version="19.2.4",Yn}var py;function UN(){if(py)return Nh.exports;py=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}return e(),Nh.exports=BN(),Nh.exports}var gy;function FN(){if(gy)return Ko;gy=1;var e=IN(),i=Rf(),l=UN();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function x(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(m(t)!==t)throw Error(o(188))}function b(t){var n=t.alternate;if(!n){if(n=m(t),n===null)throw Error(o(188));return n!==t?null:t}for(var r=t,c=n;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){r=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return v(p),t;if(g===c)return v(p),n;g=g.sibling}throw Error(o(188))}if(r.return!==c.return)r=p,c=g;else{for(var j=!1,T=p.child;T;){if(T===r){j=!0,r=p,c=g;break}if(T===c){j=!0,c=p,r=g;break}T=T.sibling}if(!j){for(T=g.child;T;){if(T===r){j=!0,r=g,c=p;break}if(T===c){j=!0,c=g,r=p;break}T=T.sibling}if(!j)throw Error(o(189))}}if(r.alternate!==c)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList";case te:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case R:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case G:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return n=t.displayName||null,n!==null?n:le(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return le(t(n))}catch{}}return null}var ue=Array.isArray,q=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ke=[],$=-1;function z(t){return{current:t}}function ee(t){0>$||(t.current=ke[$],ke[$]=null,$--)}function D(t,n){$++,ke[$]=t.current,t.current=n}var I=z(null),ce=z(null),je=z(null),Me=z(null);function He(t,n){switch(D(je,n),D(ce,t),D(I,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?zx(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=zx(n),t=Mx(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(I),D(I,t)}function Xe(){ee(I),ee(ce),ee(je)}function rt(t){t.memoizedState!==null&&D(Me,t);var n=I.current,r=Mx(n,t.type);n!==r&&(D(ce,t),D(I,r))}function Se(t){ce.current===t&&(ee(I),ee(ce)),Me.current===t&&(ee(Me),Uo._currentValue=ie)}var ct,xt;function kt(t){if(ct===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ct=n&&n[1]||"",xt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+t+xt}var _t=!1;function Ht(t,n){if(!t||_t)return"";_t=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ye){var ge=ye}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ye){ge=ye}t.call(Ce.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),j=g[0],T=g[1];if(j&&T){var H=j.split(`
`),he=T.split(`
`);for(p=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;p<he.length&&!he[p].includes("DetermineComponentFrameRoot");)p++;if(c===H.length||p===he.length)for(c=H.length-1,p=he.length-1;1<=c&&0<=p&&H[c]!==he[p];)p--;for(;1<=c&&0<=p;c--,p--)if(H[c]!==he[p]){if(c!==1||p!==1)do if(c--,p--,0>p||H[c]!==he[p]){var Ne=`
`+H[c].replace(" at new "," at ");return t.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",t.displayName)),Ne}while(1<=c&&0<=p);break}}}finally{_t=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?kt(r):""}function At(t,n){switch(t.tag){case 26:case 27:case 5:return kt(t.type);case 16:return kt("Lazy");case 13:return t.child!==n&&n!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Ht(t.type,!1);case 11:return Ht(t.type.render,!1);case 1:return Ht(t.type,!0);case 31:return kt("Activity");default:return""}}function Pt(t){try{var n="",r=null;do n+=At(t,r),r=t,t=t.return;while(t);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var nn=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,$e=e.unstable_shouldYield,it=e.unstable_requestPaint,ne=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,be=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,mt=e.unstable_NormalPriority,nt=e.unstable_LowPriority,Tt=e.unstable_IdlePriority,se=e.log,Qe=e.unstable_setDisableYieldValue,J=null,Fe=null;function lt(t){if(typeof se=="function"&&Qe(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(J,t)}catch{}}var pt=Math.clz32?Math.clz32:Hn,Bt=Math.log,ni=Math.LN2;function Hn(t){return t>>>=0,t===0?32:31-(Bt(t)/ni|0)|0}var yn=256,Xn=262144,_a=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qn(t,n,r){var c=t.pendingLanes;if(c===0)return 0;var p=0,g=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?p=Kn(c):(j&=T,j!==0?p=Kn(j):r||(r=T&~t,r!==0&&(p=Kn(r))))):(T=c&~g,T!==0?p=Kn(T):j!==0?p=Kn(j):r||(r=c&~t,r!==0&&(p=Kn(r)))),p===0?0:n!==0&&n!==p&&(n&g)===0&&(g=p&-p,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:p}function vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(){var t=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),t}function yi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Dn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bi(t,n,r,c,p,g){var j=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,H=t.expirationTimes,he=t.hiddenUpdates;for(r=j&~r;0<r;){var Ne=31-pt(r),Ce=1<<Ne;T[Ne]=0,H[Ne]=-1;var ge=he[Ne];if(ge!==null)for(he[Ne]=null,Ne=0;Ne<ge.length;Ne++){var ye=ge[Ne];ye!==null&&(ye.lane&=-536870913)}r&=~Ce}c!==0&&Na(t,c,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(j&~n))}function Na(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var c=31-pt(n);t.entangledLanes|=n,t.entanglements[c]=t.entanglements[c]|1073741824|r&261930}function vi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var c=31-pt(r),p=1<<c;p&n|t[c]&n&&(t[c]|=n),r&=~p}}function Ui(t,n){var r=n&-n;return r=(r&42)!==0?1:Rn(r),(r&(t.suspendedLanes|n))!==0?0:r}function Rn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function De(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bi(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:ty(t.type))}function _i(t,n){var r=K.p;try{return K.p=t,n()}finally{K.p=r}}var Jn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Jn,st="__reactProps$"+Jn,Wn="__reactContainer$"+Jn,sa="__reactEvents$"+Jn,hs="__reactListeners$"+Jn,Fi="__reactHandles$"+Jn,qi="__reactResources$"+Jn,ai="__reactMarker$"+Jn;function U(t){delete t[Yt],delete t[st],delete t[sa],delete t[hs],delete t[Fi]}function Ie(t){var n=t[Yt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Wn]||r[Yt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Bx(t);t!==null;){if(r=t[Yt])return r;t=Bx(t)}return n}t=r,r=t.parentNode}return null}function Nt(t){if(t=t[Yt]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function ja(t){var n=t[qi];return n||(n=t[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[ai]=!0}var ii=new Set,ar={};function Q(t,n){Ke(t,n),Ke(t+"Capture",n)}function Ke(t,n){for(ar[t]=n,t=0;t<n.length;t++)ii.add(n[t])}var Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ra={},Ni={};function ji(t){return nn.call(Ni,t)?!0:nn.call(ra,t)?!1:Ct.test(t)?Ni[t]=!0:(ra[t]=!0,!1)}function gt(t,n,r){if(ji(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Kt(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function la(t,n,r,c){if(c===null)t.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+c)}}function En(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gl(t,n,r){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return p.call(this)},set:function(j){r=""+j,g.call(this,j)}}),Object.defineProperty(t,n,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(j){r=""+j},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ot(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=Gl(t,n,""+t[n])}}function an(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),c="";return t&&(c=Zi(t)?t.checked?"true":"false":t.value),t=c,t!==r?(n.setValue(t),!0):!1}function fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function en(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vl(t,n,r,c,p,g,j,T){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),n!=null?j==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+En(n)):t.value!==""+En(n)&&(t.value=""+En(n)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),n!=null?si(t,j,En(n)):r!=null?si(t,j,En(r)):c!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+En(T):t.removeAttribute("name")}function ir(t,n,r,c,p,g,j,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){ot(t);return}r=r!=null?""+En(r):"",n=n!=null?""+En(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j),ot(t)}function si(t,n,r){n==="number"&&fs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function $t(t,n,r,c){if(t=t.options,n){n={};for(var p=0;p<r.length;p++)n["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=n.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&c&&(t[r].defaultSelected=!0)}else{for(r=""+En(r),n=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}n!==null||t[p].disabled||(n=t[p])}n!==null&&(n.selected=!0)}}function Si(t,n,r){if(n!=null&&(n=""+En(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+En(r):""}function ps(t,n,r,c){if(n==null){if(c!=null){if(r!=null)throw Error(o(92));if(ue(c)){if(1<c.length)throw Error(o(93));c=c[0]}r=c}r==null&&(r=""),n=r}r=En(n),t.defaultValue=r,c=t.textContent,c===r&&c!==""&&c!==null&&(t.value=c),ot(t)}function Ra(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gs(t,n,r){var c=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":c?t.setProperty(n,r):typeof r!="number"||r===0||Yl.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Yr(t,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in n)c=n[p],n.hasOwnProperty(p)&&r[p]!==c&&gs(t,p,c)}else for(var g in n)n.hasOwnProperty(g)&&gs(t,g,n[g])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(t){return $l.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oa(){}var Xr=null;function rr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,tt=null;function Sa(t){var n=Nt(t);if(n&&(t=n.stateNode)){var r=t[st]||null;e:switch(t=n.stateNode,n.type){case"input":if(Vl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var c=r[n];if(c!==t&&c.form===t.form){var p=c[st]||null;if(!p)throw Error(o(90));Vl(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<r.length;n++)c=r[n],c.form===t.form&&an(c)}break e;case"textarea":Si(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&$t(t,!!r.multiple,n,!1)}}}var It=!1;function Xl(t,n,r){if(It)return t(n,r);It=!0;try{var c=t(n);return c}finally{if(It=!1,(ys!==null||tt!==null)&&(oc(),ys&&(n=ys,t=tt,tt=ys=null,Sa(n),t)))for(n=0;n<t.length;n++)Sa(t[n])}}function Hi(t,n){var r=t.stateNode;if(r===null)return null;var c=r[st]||null;if(c===null)return null;r=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(wa)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{lr=!1}var La=null,Ki=null,cn=null;function wi(){if(cn)return cn;var t,n=Ki,r=n.length,c,p="value"in La?La.value:La.textContent,g=p.length;for(t=0;t<r&&n[t]===p[t];t++);var j=r-t;for(c=1;c<=j&&n[r-c]===p[g-c];c++);return cn=p.slice(t,1<c?1-c:void 0)}function or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function hu(){return!1}function Ln(t){function n(r,c,p,g,j){this._reactName=r,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:hu,this.isPropagationStopped=hu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),n}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=Ln(ri),vs=w({},ri,{view:0,detail:0}),jt=Ln(vs),Jl,ea,li,cr=w({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Jl=t.screenX-li.screenX,ea=t.screenY-li.screenY):ea=Jl=0,li=t),Jl)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),fu=Ln(cr),Wl=w({},cr,{dataTransfer:0}),kd=Ln(Wl),pu=w({},vs,{relatedTarget:0}),eo=Ln(pu),Td=w({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Ln(Td),Cd=w({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=Ln(Cd),Ad=w({},ri,{data:0}),no=Ln(Ad),Ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ao(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xu[t])?!!n[t]:!1}function io(){return ao}var yu=w({},vs,{key:function(t){if(t.key){var n=Ei[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(t){return t.type==="keypress"?or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=Ln(yu),zd=w({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Ln(zd),so=w({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Md=Ln(so),_u=w({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Ln(_u),Wr=w({},cr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qi=Ln(Wr),Od=w({},ri,{newState:0,oldState:0}),dr=Ln(Od),ua=[9,13,27,32],el=wa&&"CompositionEvent"in window,bs=null;wa&&"documentMode"in document&&(bs=document.documentMode);var Dd=wa&&"TextEvent"in window&&!bs,tl=wa&&(!el||bs&&8<bs&&11>=bs),nl=" ",ju=!1;function Su(t,n){switch(t){case"keyup":return ua.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function ka(t,n){switch(t){case"compositionend":return ro(n);case"keypress":return n.which!==32?null:(ju=!0,nl);case"textInput":return t=n.data,t===nl&&ju?null:t;default:return null}}function Ns(t,n){if(_s)return t==="compositionend"||!el&&Su(t,n)?(t=wi(),cn=Ki=La=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tl&&n.locale!=="ko"?null:n.data;default:return null}}var Rd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ia(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rd[t.type]:n==="textarea"}function wu(t,n,r,c){ys?tt?tt.push(c):tt=[c]:ys=c,n=pc(n,"onChange"),0<n.length&&(r=new Jr("onChange","change",null,r,c),t.push({event:r,listeners:n}))}var Ba=null,mr=null;function hr(t){wx(t,0)}function fr(t){var n=bn(t);if(an(n))return t}function pr(t,n){if(t==="change")return n}var Eu=!1;if(wa){var Ua;if(wa){var js="oninput"in document;if(!js){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),js=typeof ku.oninput=="function"}Ua=js}else Ua=!1;Eu=Ua&&(!document.documentMode||9<document.documentMode)}function al(){Ba&&(Ba.detachEvent("onpropertychange",Tu),mr=Ba=null)}function Tu(t){if(t.propertyName==="value"&&fr(mr)){var n=[];wu(n,mr,t,rr(t)),Xl(hr,n)}}function oi(t,n,r){t==="focusin"?(al(),Ba=n,mr=r,Ba.attachEvent("onpropertychange",Tu)):t==="focusout"&&al()}function Ld(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fr(mr)}function Ss(t,n){if(t==="click")return fr(n)}function Pd(t,n){if(t==="input"||t==="change")return fr(n)}function ui(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var zn=typeof Object.is=="function"?Object.is:ui;function ws(t,n){if(zn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),c=Object.keys(n);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var p=r[c];if(!nn.call(n,p)||!zn(t[p],n[p]))return!1}return!0}function il(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gr(t,n){var r=il(t);t=0;for(var c;r;){if(r.nodeType===3){if(c=t+r.textContent.length,t<=n&&c>=n)return{node:r,offset:n-t};t=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=il(r)}}function sl(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?sl(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=fs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=fs(t.document)}return n}function ki(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rl=wa&&"documentMode"in document&&11>=document.documentMode,Ti=null,ll=null,yr=null,Es=!1;function Cu(t,n,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Es||Ti==null||Ti!==fs(c)||(c=Ti,"selectionStart"in c&&ki(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yr&&ws(yr,c)||(yr=c,c=pc(ll,"onSelect"),0<c.length&&(n=new Jr("onSelect","select",null,n,r),t.push({event:n,listeners:c}),n.target=Ti)))}function Ci(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ks={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},ol={},Au={};wa&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Mn(t){if(ol[t])return ol[t];if(!ks[t])return t;var n=ks[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Au)return ol[t]=n[r];return t}var vr=Mn("animationend"),zu=Mn("animationiteration"),br=Mn("animationstart"),Id=Mn("transitionrun"),Mu=Mn("transitionstart"),Bd=Mn("transitioncancel"),Ts=Mn("transitionend"),Ou=new Map,Ai="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ai.push("scrollEnd");function ca(t,n){Ou.set(t,n),Q(n,[t])}var _r=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},da=[],Gn=0,ul=0;function Nr(){for(var t=Gn,n=ul=Gn=0;n<t;){var r=da[n];da[n++]=null;var c=da[n];da[n++]=null;var p=da[n];da[n++]=null;var g=da[n];if(da[n++]=null,c!==null&&p!==null){var j=c.pending;j===null?p.next=p:(p.next=j.next,j.next=p),c.pending=p}g!==0&&Cs(r,p,g)}}function zi(t,n,r,c){da[Gn++]=t,da[Gn++]=n,da[Gn++]=r,da[Gn++]=c,ul|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function lo(t,n,r,c){return zi(t,n,r,c),jr(t)}function Fa(t,n){return zi(t,null,null,n),jr(t)}function Cs(t,n,r){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,c=g.alternate,c!==null&&(c.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&n!==null&&(p=31-pt(r),t=g.hiddenUpdates,c=t[p],c===null?t[p]=[n]:c.push(n),n.lane=r|536870912),g):null}function jr(t){if(50<Oo)throw Oo=0,Fm=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gi={};function Ud(t,n,r,c){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,r,c){return new Ud(t,n,r,c)}function cl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qa(t,n){var r=t.alternate;return r===null?(r=Vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function oo(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Sr(t,n,r,c,p,g){var j=0;if(c=t,typeof t=="function")cl(t)&&(j=1);else if(typeof t=="string")j=_N(t,r,I.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case te:return t=Vn(31,r,n,p),t.elementType=te,t.lanes=g,t;case A:return Vi(r.children,p,g,n);case O:j=8,p|=24;break;case B:return t=Vn(12,r,n,p|2),t.elementType=B,t.lanes=g,t;case V:return t=Vn(13,r,n,p),t.elementType=V,t.lanes=g,t;case W:return t=Vn(19,r,n,p),t.elementType=W,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:j=10;break e;case P:j=9;break e;case G:j=11;break e;case Z:j=14;break e;case Y:j=16,c=null;break e}j=29,r=Error(o(130,t===null?"null":typeof t,"")),c=null}return n=Vn(j,r,n,p),n.elementType=t,n.type=c,n.lanes=g,n}function Vi(t,n,r,c){return t=Vn(7,t,c,n),t.lanes=r,t}function dl(t,n,r){return t=Vn(6,t,null,n),t.lanes=r,t}function uo(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function co(t,n,r){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var s=new WeakMap;function u(t,n){if(typeof t=="object"&&t!==null){var r=s.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Pt(n)},s.set(t,n),n)}return{value:t,source:n,stack:Pt(n)}}var h=[],y=0,N=null,E=0,F=[],oe=0,pe=null,Te=1,Le="";function Ye(t,n){h[y++]=E,h[y++]=N,N=t,E=n}function ht(t,n,r){F[oe++]=Te,F[oe++]=Le,F[oe++]=pe,pe=t;var c=Te;t=Le;var p=32-pt(c)-1;c&=~(1<<p),r+=1;var g=32-pt(n)+p;if(30<g){var j=p-p%5;g=(c&(1<<j)-1).toString(32),c>>=j,p-=j,Te=1<<32-pt(n)+p|r<<p|c,Le=g+t}else Te=1<<g|r<<p|c,Le=t}function kn(t){t.return!==null&&(Ye(t,1),ht(t,1,0))}function dn(t){for(;t===N;)N=h[--y],h[y]=null,E=h[--y],h[y]=null;for(;t===pe;)pe=F[--oe],F[oe]=null,Le=F[--oe],F[oe]=null,Te=F[--oe],F[oe]=null}function ta(t,n){F[oe++]=Te,F[oe++]=Le,F[oe++]=pe,Te=n.id,Le=n.overflow,pe=t}var zt=null,Mt=null,yt=!1,Mi=null,ma=!1,ml=Error(o(519));function Oi(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wr(u(n,t)),ml}function mo(t){var n=t.stateNode,r=t.type,c=t.memoizedProps;switch(n[Yt]=t,n[st]=c,r){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(r=0;r<Ro.length;r++)bt(Ro[r],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),ir(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),ps(n,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||c.suppressHydrationWarning===!0||Cx(n.textContent,r)?(c.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),c.onScroll!=null&&bt("scroll",n),c.onScrollEnd!=null&&bt("scrollend",n),c.onClick!=null&&(n.onclick=oa),n=!0):n=!1,n||Oi(t,!0)}function on(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:zt=zt.return}}function ci(t){if(t!==zt)return!1;if(!yt)return on(t),yt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||nh(t.type,t.memoizedProps)),r=!r),r&&Mt&&Oi(t),on(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Mt=Ix(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Mt=Ix(t)}else n===27?(n=Mt,Zs(t.type)?(t=lh,lh=null,Mt=t):Mt=n):Mt=zt?Ha(t.stateNode.nextSibling):null;return!0}function Yi(){Mt=zt=null,yt=!1}function ho(){var t=Mi;return t!==null&&(ga===null?ga=t:ga.push.apply(ga,t),Mi=null),t}function wr(t){Mi===null?Mi=[t]:Mi.push(t)}var Er=z(null),Di=null,di=null;function As(t,n,r){D(Er,n._currentValue),n._currentValue=r}function $i(t){t._currentValue=Er.current,ee(Er)}function Fd(t,n,r){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===r)break;t=t.return}}function qd(t,n,r,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var j=p.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=p;for(var H=0;H<n.length;H++)if(T.context===n[H]){g.lanes|=r,T=g.alternate,T!==null&&(T.lanes|=r),Fd(g.return,r,t),c||(j=null);break e}g=T.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(o(341));j.lanes|=r,g=j.alternate,g!==null&&(g.lanes|=r),Fd(j,r,t),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===t){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function hl(t,n,r,c){t=null;for(var p=n,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(o(387));if(j=j.memoizedProps,j!==null){var T=p.type;zn(p.pendingProps.value,j.value)||(t!==null?t.push(T):t=[T])}}else if(p===Me.current){if(j=p.alternate,j===null)throw Error(o(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Uo):t=[Uo])}p=p.return}t!==null&&qd(n,t,r,c),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Di=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pn(t){return fp(Di,t)}function Ru(t,n){return Di===null&&kr(t),fp(t,n)}function fp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},di===null){if(t===null)throw Error(o(308));di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else di=di.next=n;return r}var x_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,c){t.push(c)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},y_=e.unstable_scheduleCallback,v_=e.unstable_NormalPriority,_n={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new x_,data:new Map,refCount:0}}function fo(t){t.refCount--,t.refCount===0&&y_(v_,function(){t.controller.abort()})}var po=null,Hd=0,fl=0,pl=null;function b_(t,n){if(po===null){var r=po=[];Hd=0,fl=Gm(),pl={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Hd++,n.then(pp,pp),n}function pp(){if(--Hd===0&&po!==null){pl!==null&&(pl.status="fulfilled");var t=po;po=null,fl=0,pl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function __(t,n){var r=[],c={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){c.status="fulfilled",c.value=n;for(var p=0;p<r.length;p++)(0,r[p])(n)},function(p){for(c.status="rejected",c.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),c}var gp=q.S;q.S=function(t,n){Wg=ne(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&b_(t,n),gp!==null&&gp(t,n)};var Tr=z(null);function Kd(){var t=Tr.current;return t!==null?t:Xt.pooledCache}function Lu(t,n){n===null?D(Tr,Tr.current):D(Tr,n.pool)}function xp(){var t=Kd();return t===null?null:{parent:_n._currentValue,pool:t}}var gl=Error(o(460)),Qd=Error(o(474)),Pu=Error(o(542)),Iu={then:function(){}};function yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oa,oa),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(oa,oa);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(c){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=c}},function(c){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw Ar=n,gl}}function Cr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ar=r,gl):r}}var Ar=null;function bp(){if(Ar===null)throw Error(o(459));var t=Ar;return Ar=null,t}function _p(t){if(t===gl||t===Pu)throw Error(o(483))}var xl=null,go=0;function Bu(t){var n=go;return go+=1,xl===null&&(xl=[]),vp(xl,t,n)}function xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===C?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Np(t){function n(re,X){if(t){var me=re.deletions;me===null?(re.deletions=[X],re.flags|=16):me.push(X)}}function r(re,X){if(!t)return null;for(;X!==null;)n(re,X),X=X.sibling;return null}function c(re){for(var X=new Map;re!==null;)re.key!==null?X.set(re.key,re):X.set(re.index,re),re=re.sibling;return X}function p(re,X){return re=qa(re,X),re.index=0,re.sibling=null,re}function g(re,X,me){return re.index=me,t?(me=re.alternate,me!==null?(me=me.index,me<X?(re.flags|=67108866,X):me):(re.flags|=67108866,X)):(re.flags|=1048576,X)}function j(re){return t&&re.alternate===null&&(re.flags|=67108866),re}function T(re,X,me,we){return X===null||X.tag!==6?(X=dl(me,re.mode,we),X.return=re,X):(X=p(X,me),X.return=re,X)}function H(re,X,me,we){var Je=me.type;return Je===A?Ne(re,X,me.props.children,we,me.key):X!==null&&(X.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Y&&Cr(Je)===X.type)?(X=p(X,me.props),xo(X,me),X.return=re,X):(X=Sr(me.type,me.key,me.props,null,re.mode,we),xo(X,me),X.return=re,X)}function he(re,X,me,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==me.containerInfo||X.stateNode.implementation!==me.implementation?(X=co(me,re.mode,we),X.return=re,X):(X=p(X,me.children||[]),X.return=re,X)}function Ne(re,X,me,we,Je){return X===null||X.tag!==7?(X=Vi(me,re.mode,we,Je),X.return=re,X):(X=p(X,me),X.return=re,X)}function Ce(re,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=dl(""+X,re.mode,me),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return me=Sr(X.type,X.key,X.props,null,re.mode,me),xo(me,X),me.return=re,me;case k:return X=co(X,re.mode,me),X.return=re,X;case Y:return X=Cr(X),Ce(re,X,me)}if(ue(X)||de(X))return X=Vi(X,re.mode,me,null),X.return=re,X;if(typeof X.then=="function")return Ce(re,Bu(X),me);if(X.$$typeof===R)return Ce(re,Ru(re,X),me);Uu(re,X)}return null}function ge(re,X,me,we){var Je=X!==null?X.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Je!==null?null:T(re,X,""+me,we);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case M:return me.key===Je?H(re,X,me,we):null;case k:return me.key===Je?he(re,X,me,we):null;case Y:return me=Cr(me),ge(re,X,me,we)}if(ue(me)||de(me))return Je!==null?null:Ne(re,X,me,we,null);if(typeof me.then=="function")return ge(re,X,Bu(me),we);if(me.$$typeof===R)return ge(re,X,Ru(re,me),we);Uu(re,me)}return null}function ye(re,X,me,we,Je){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return re=re.get(me)||null,T(X,re,""+we,Je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case M:return re=re.get(we.key===null?me:we.key)||null,H(X,re,we,Je);case k:return re=re.get(we.key===null?me:we.key)||null,he(X,re,we,Je);case Y:return we=Cr(we),ye(re,X,me,we,Je)}if(ue(we)||de(we))return re=re.get(me)||null,Ne(X,re,we,Je,null);if(typeof we.then=="function")return ye(re,X,me,Bu(we),Je);if(we.$$typeof===R)return ye(re,X,me,Ru(X,we),Je);Uu(X,we)}return null}function Ze(re,X,me,we){for(var Je=null,Ot=null,Ge=X,ft=X=0,wt=null;Ge!==null&&ft<me.length;ft++){Ge.index>ft?(wt=Ge,Ge=null):wt=Ge.sibling;var Dt=ge(re,Ge,me[ft],we);if(Dt===null){Ge===null&&(Ge=wt);break}t&&Ge&&Dt.alternate===null&&n(re,Ge),X=g(Dt,X,ft),Ot===null?Je=Dt:Ot.sibling=Dt,Ot=Dt,Ge=wt}if(ft===me.length)return r(re,Ge),yt&&Ye(re,ft),Je;if(Ge===null){for(;ft<me.length;ft++)Ge=Ce(re,me[ft],we),Ge!==null&&(X=g(Ge,X,ft),Ot===null?Je=Ge:Ot.sibling=Ge,Ot=Ge);return yt&&Ye(re,ft),Je}for(Ge=c(Ge);ft<me.length;ft++)wt=ye(Ge,re,ft,me[ft],we),wt!==null&&(t&&wt.alternate!==null&&Ge.delete(wt.key===null?ft:wt.key),X=g(wt,X,ft),Ot===null?Je=wt:Ot.sibling=wt,Ot=wt);return t&&Ge.forEach(function(Vs){return n(re,Vs)}),yt&&Ye(re,ft),Je}function et(re,X,me,we){if(me==null)throw Error(o(151));for(var Je=null,Ot=null,Ge=X,ft=X=0,wt=null,Dt=me.next();Ge!==null&&!Dt.done;ft++,Dt=me.next()){Ge.index>ft?(wt=Ge,Ge=null):wt=Ge.sibling;var Vs=ge(re,Ge,Dt.value,we);if(Vs===null){Ge===null&&(Ge=wt);break}t&&Ge&&Vs.alternate===null&&n(re,Ge),X=g(Vs,X,ft),Ot===null?Je=Vs:Ot.sibling=Vs,Ot=Vs,Ge=wt}if(Dt.done)return r(re,Ge),yt&&Ye(re,ft),Je;if(Ge===null){for(;!Dt.done;ft++,Dt=me.next())Dt=Ce(re,Dt.value,we),Dt!==null&&(X=g(Dt,X,ft),Ot===null?Je=Dt:Ot.sibling=Dt,Ot=Dt);return yt&&Ye(re,ft),Je}for(Ge=c(Ge);!Dt.done;ft++,Dt=me.next())Dt=ye(Ge,re,ft,Dt.value,we),Dt!==null&&(t&&Dt.alternate!==null&&Ge.delete(Dt.key===null?ft:Dt.key),X=g(Dt,X,ft),Ot===null?Je=Dt:Ot.sibling=Dt,Ot=Dt);return t&&Ge.forEach(function(MN){return n(re,MN)}),yt&&Ye(re,ft),Je}function Vt(re,X,me,we){if(typeof me=="object"&&me!==null&&me.type===A&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case M:e:{for(var Je=me.key;X!==null;){if(X.key===Je){if(Je=me.type,Je===A){if(X.tag===7){r(re,X.sibling),we=p(X,me.props.children),we.return=re,re=we;break e}}else if(X.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Y&&Cr(Je)===X.type){r(re,X.sibling),we=p(X,me.props),xo(we,me),we.return=re,re=we;break e}r(re,X);break}else n(re,X);X=X.sibling}me.type===A?(we=Vi(me.props.children,re.mode,we,me.key),we.return=re,re=we):(we=Sr(me.type,me.key,me.props,null,re.mode,we),xo(we,me),we.return=re,re=we)}return j(re);case k:e:{for(Je=me.key;X!==null;){if(X.key===Je)if(X.tag===4&&X.stateNode.containerInfo===me.containerInfo&&X.stateNode.implementation===me.implementation){r(re,X.sibling),we=p(X,me.children||[]),we.return=re,re=we;break e}else{r(re,X);break}else n(re,X);X=X.sibling}we=co(me,re.mode,we),we.return=re,re=we}return j(re);case Y:return me=Cr(me),Vt(re,X,me,we)}if(ue(me))return Ze(re,X,me,we);if(de(me)){if(Je=de(me),typeof Je!="function")throw Error(o(150));return me=Je.call(me),et(re,X,me,we)}if(typeof me.then=="function")return Vt(re,X,Bu(me),we);if(me.$$typeof===R)return Vt(re,X,Ru(re,me),we);Uu(re,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,X!==null&&X.tag===6?(r(re,X.sibling),we=p(X,me),we.return=re,re=we):(r(re,X),we=dl(me,re.mode,we),we.return=re,re=we),j(re)):r(re,X)}return function(re,X,me,we){try{go=0;var Je=Vt(re,X,me,we);return xl=null,Je}catch(Ge){if(Ge===gl||Ge===Pu)throw Ge;var Ot=Vn(29,Ge,null,re.mode);return Ot.lanes=we,Ot.return=re,Ot}}}var zr=Np(!0),jp=Np(!1),zs=!1;function Gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,n,r){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Rt&2)!==0){var p=c.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),c.pending=n,n=jr(t),Cs(t,null,r),n}return zi(t,c,n,r),jr(t)}function yo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var c=n.lanes;c&=t.pendingLanes,r|=c,n.lanes=r,vi(t,r)}}function Yd(t,n){var r=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=j:g=g.next=j,r=r.next}while(r!==null);g===null?p=g=n:g=g.next=n}else p=g=n;r={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var $d=!1;function vo(){if($d){var t=pl;if(t!==null)throw t}}function bo(t,n,r,c){$d=!1;var p=t.updateQueue;zs=!1;var g=p.firstBaseUpdate,j=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var H=T,he=H.next;H.next=null,j===null?g=he:j.next=he,j=H;var Ne=t.alternate;Ne!==null&&(Ne=Ne.updateQueue,T=Ne.lastBaseUpdate,T!==j&&(T===null?Ne.firstBaseUpdate=he:T.next=he,Ne.lastBaseUpdate=H))}if(g!==null){var Ce=p.baseState;j=0,Ne=he=H=null,T=g;do{var ge=T.lane&-536870913,ye=ge!==T.lane;if(ye?(St&ge)===ge:(c&ge)===ge){ge!==0&&ge===fl&&($d=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ze=t,et=T;ge=n;var Vt=r;switch(et.tag){case 1:if(Ze=et.payload,typeof Ze=="function"){Ce=Ze.call(Vt,Ce,ge);break e}Ce=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=et.payload,ge=typeof Ze=="function"?Ze.call(Vt,Ce,ge):Ze,ge==null)break e;Ce=w({},Ce,ge);break e;case 2:zs=!0}}ge=T.callback,ge!==null&&(t.flags|=64,ye&&(t.flags|=8192),ye=p.callbacks,ye===null?p.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Ne===null?(he=Ne=ye,H=Ce):Ne=Ne.next=ye,j|=ge;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;ye=T,T=ye.next,ye.next=null,p.lastBaseUpdate=ye,p.shared.pending=null}}while(!0);Ne===null&&(H=Ce),p.baseState=H,p.firstBaseUpdate=he,p.lastBaseUpdate=Ne,g===null&&(p.shared.lanes=0),Is|=j,t.lanes=j,t.memoizedState=Ce}}function Sp(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function wp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Sp(r[t],n)}var yl=z(null),Fu=z(0);function Ep(t,n){t=ss,D(Fu,t),D(yl,n),ss=t|n.baseLanes}function Xd(){D(Fu,ss),D(yl,yl.current)}function Jd(){ss=Fu.current,ee(yl),ee(Fu)}var Ta=z(null),Za=null;function Ds(t){var n=t.alternate;D(gn,gn.current&1),D(Ta,t),Za===null&&(n===null||yl.current!==null||n.memoizedState!==null)&&(Za=t)}function Wd(t){D(gn,gn.current),D(Ta,t),Za===null&&(Za=t)}function kp(t){t.tag===22?(D(gn,gn.current),D(Ta,t),Za===null&&(Za=t)):Rs()}function Rs(){D(gn,gn.current),D(Ta,Ta.current)}function Ca(t){ee(Ta),Za===t&&(Za=null),ee(gn)}var gn=z(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||sh(r)||rh(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,dt=null,Qt=null,Nn=null,Zu=!1,vl=!1,Mr=!1,Hu=0,_o=0,bl=null,N_=0;function mn(){throw Error(o(321))}function em(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!zn(t[r],n[r]))return!1;return!0}function tm(t,n,r,c,p,g){return Xi=g,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?cg:gm,Mr=!1,g=r(c,p),Mr=!1,vl&&(g=Cp(n,r,c,p)),Tp(t),g}function Tp(t){q.H=So;var n=Qt!==null&&Qt.next!==null;if(Xi=0,Nn=Qt=dt=null,Zu=!1,_o=0,bl=null,n)throw Error(o(300));t===null||jn||(t=t.dependencies,t!==null&&Du(t)&&(jn=!0))}function Cp(t,n,r,c){dt=t;var p=0;do{if(vl&&(bl=null),_o=0,vl=!1,25<=p)throw Error(o(301));if(p+=1,Nn=Qt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=dg,g=n(r,c)}while(vl);return g}function j_(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?No(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(dt.flags|=1024),n}function nm(){var t=Hu!==0;return Hu=0,t}function am(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function im(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}Xi=0,Nn=Qt=dt=null,vl=!1,_o=Hu=0,bl=null}function na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?dt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function xn(){if(Qt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=Nn===null?dt.memoizedState:Nn.next;if(n!==null)Nn=n,Qt=t;else{if(t===null)throw dt.alternate===null?Error(o(467)):Error(o(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Nn===null?dt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(t){var n=_o;return _o+=1,bl===null&&(bl=[]),t=vp(bl,t,n),n=dt,(Nn===null?n.memoizedState:Nn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?cg:gm),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return No(t);if(t.$$typeof===R)return Pn(t)}throw Error(o(438,String(t)))}function sm(t){var n=null,r=dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var c=dt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ku(),dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),c=0;c<t;c++)r[c]=fe;return n.index++,r}function Ji(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=xn();return rm(n,Qt,t)}function rm(t,n,r){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=t.baseQueue,g=c.pending;if(g!==null){if(p!==null){var j=p.next;p.next=g.next,g.next=j}n.baseQueue=p=g,c.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{n=p.next;var T=j=null,H=null,he=n,Ne=!1;do{var Ce=he.lane&-536870913;if(Ce!==he.lane?(St&Ce)===Ce:(Xi&Ce)===Ce){var ge=he.revertLane;if(ge===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ce===fl&&(Ne=!0);else if((Xi&ge)===ge){he=he.next,ge===fl&&(Ne=!0);continue}else Ce={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},H===null?(T=H=Ce,j=g):H=H.next=Ce,dt.lanes|=ge,Is|=ge;Ce=he.action,Mr&&r(g,Ce),g=he.hasEagerState?he.eagerState:r(g,Ce)}else ge={lane:Ce,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},H===null?(T=H=ge,j=g):H=H.next=ge,dt.lanes|=Ce,Is|=Ce;he=he.next}while(he!==null&&he!==n);if(H===null?j=g:H.next=T,!zn(g,t.memoizedState)&&(jn=!0,Ne&&(r=pl,r!==null)))throw r;t.memoizedState=g,t.baseState=j,t.baseQueue=H,c.lastRenderedState=g}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function lm(t){var n=xn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var c=r.dispatch,p=r.pending,g=n.memoizedState;if(p!==null){r.pending=null;var j=p=p.next;do g=t(g,j.action),j=j.next;while(j!==p);zn(g,n.memoizedState)||(jn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,c]}function Ap(t,n,r){var c=dt,p=xn(),g=yt;if(g){if(r===void 0)throw Error(o(407));r=r()}else r=n();var j=!zn((Qt||p).memoizedState,r);if(j&&(p.memoizedState=r,jn=!0),p=p.queue,cm(Op.bind(null,c,p,t),[t]),p.getSnapshot!==n||j||Nn!==null&&Nn.memoizedState.tag&1){if(c.flags|=2048,_l(9,{destroy:void 0},Mp.bind(null,c,p,r,n),null),Xt===null)throw Error(o(349));g||(Xi&127)!==0||zp(c,n,r)}return r}function zp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=dt.updateQueue,n===null?(n=Ku(),dt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Mp(t,n,r,c){n.value=r,n.getSnapshot=c,Dp(n)&&Rp(t)}function Op(t,n,r){return r(function(){Dp(n)&&Rp(t)})}function Dp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!zn(t,r)}catch{return!0}}function Rp(t){var n=Fa(t,2);n!==null&&xa(n,t,2)}function om(t){var n=na();if(typeof t=="function"){var r=t;if(t=r(),Mr){lt(!0);try{r()}finally{lt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},n}function Lp(t,n,r,c){return t.baseState=r,rm(t,Qt,typeof c=="function"?c:Ji)}function S_(t,n,r,c,p){if($u(t))throw Error(o(485));if(t=n.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){g.listeners.push(j)}};q.T!==null?r(!0):g.isTransition=!1,c(g),r=n.pending,r===null?(g.next=n.pending=g,Pp(n,g)):(g.next=r.next,n.pending=r.next=g)}}function Pp(t,n){var r=n.action,c=n.payload,p=t.state;if(n.isTransition){var g=q.T,j={};q.T=j;try{var T=r(p,c),H=q.S;H!==null&&H(j,T),Ip(t,n,T)}catch(he){um(t,n,he)}finally{g!==null&&j.types!==null&&(g.types=j.types),q.T=g}}else try{g=r(p,c),Ip(t,n,g)}catch(he){um(t,n,he)}}function Ip(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Bp(t,n,c)},function(c){return um(t,n,c)}):Bp(t,n,r)}function Bp(t,n,r){n.status="fulfilled",n.value=r,Up(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Pp(t,r)))}function um(t,n,r){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=r,Up(n),n=n.next;while(n!==c)}t.action=null}function Up(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Fp(t,n){return n}function qp(t,n){if(yt){var r=Xt.formState;if(r!==null){e:{var c=dt;if(yt){if(Mt){t:{for(var p=Mt,g=ma;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ha(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Mt=Ha(p.nextSibling),c=p.data==="F!";break e}}Oi(c)}c=!1}c&&(n=r[0])}}return r=na(),r.memoizedState=r.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:n},r.queue=c,r=lg.bind(null,dt,c),c.dispatch=r,c=om(!1),g=pm.bind(null,dt,!1,c.queue),c=na(),p={state:n,dispatch:null,action:t,pending:null},c.queue=p,r=S_.bind(null,dt,p,g,r),p.dispatch=r,c.memoizedState=t,[n,r,!1]}function Zp(t){var n=xn();return Hp(n,Qt,t)}function Hp(t,n,r){if(n=rm(t,n,Fp)[0],t=Gu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=No(n)}catch(j){throw j===gl?Pu:j}else c=n;n=xn();var p=n.queue,g=p.dispatch;return r!==n.memoizedState&&(dt.flags|=2048,_l(9,{destroy:void 0},w_.bind(null,p,r),null)),[c,g,t]}function w_(t,n){t.action=n}function Kp(t){var n=xn(),r=Qt;if(r!==null)return Hp(n,r,t);xn(),n=n.memoizedState,r=xn();var c=r.queue.dispatch;return r.memoizedState=t,[n,c,!1]}function _l(t,n,r,c){return t={tag:t,create:r,deps:c,inst:n,next:null},n=dt.updateQueue,n===null&&(n=Ku(),dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(c=r.next,r.next=t,t.next=c,n.lastEffect=t),t}function Qp(){return xn().memoizedState}function Vu(t,n,r,c){var p=na();dt.flags|=t,p.memoizedState=_l(1|n,{destroy:void 0},r,c===void 0?null:c)}function Yu(t,n,r,c){var p=xn();c=c===void 0?null:c;var g=p.memoizedState.inst;Qt!==null&&c!==null&&em(c,Qt.memoizedState.deps)?p.memoizedState=_l(n,g,r,c):(dt.flags|=t,p.memoizedState=_l(1|n,g,r,c))}function Gp(t,n){Vu(8390656,8,t,n)}function cm(t,n){Yu(2048,8,t,n)}function E_(t){dt.flags|=4;var n=dt.updateQueue;if(n===null)n=Ku(),dt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Vp(t){var n=xn().memoizedState;return E_({ref:n,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Yp(t,n){return Yu(4,2,t,n)}function $p(t,n){return Yu(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jp(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,Xp.bind(null,n,t),r)}function dm(){}function Wp(t,n){var r=xn();n=n===void 0?null:n;var c=r.memoizedState;return n!==null&&em(n,c[1])?c[0]:(r.memoizedState=[t,n],t)}function eg(t,n){var r=xn();n=n===void 0?null:n;var c=r.memoizedState;if(n!==null&&em(n,c[1]))return c[0];if(c=t(),Mr){lt(!0);try{t()}finally{lt(!1)}}return r.memoizedState=[c,n],c}function mm(t,n,r){return r===void 0||(Xi&1073741824)!==0&&(St&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=tx(),dt.lanes|=t,Is|=t,r)}function tg(t,n,r,c){return zn(r,n)?r:yl.current!==null?(t=mm(t,r,c),zn(t,n)||(jn=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(St&261930)===0?(jn=!0,t.memoizedState=r):(t=tx(),dt.lanes|=t,Is|=t,n)}function ng(t,n,r,c,p){var g=K.p;K.p=g!==0&&8>g?g:8;var j=q.T,T={};q.T=T,pm(t,!1,n,r);try{var H=p(),he=q.S;if(he!==null&&he(T,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var Ne=__(H,c);jo(t,n,Ne,Ma(t))}else jo(t,n,c,Ma(t))}catch(Ce){jo(t,n,{then:function(){},status:"rejected",reason:Ce},Ma())}finally{K.p=g,j!==null&&T.types!==null&&(j.types=T.types),q.T=j}}function k_(){}function hm(t,n,r,c){if(t.tag!==5)throw Error(o(476));var p=ag(t).queue;ng(t,p,n,ie,r===null?k_:function(){return ig(t),r(c)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ie},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=ag(t);n.next===null&&(n=t.alternate.memoizedState),jo(t,n.next.queue,{},Ma())}function fm(){return Pn(Uo)}function sg(){return xn().memoizedState}function rg(){return xn().memoizedState}function T_(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ma();t=Ms(r);var c=Os(n,t,r);c!==null&&(xa(c,n,r),yo(c,n,r)),n={cache:Zd()},t.payload=n;return}n=n.return}}function C_(t,n,r){var c=Ma();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?og(n,r):(r=lo(t,n,r,c),r!==null&&(xa(r,t,c),ug(r,n,c)))}function lg(t,n,r){var c=Ma();jo(t,n,r,c)}function jo(t,n,r,c){var p={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))og(n,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var j=n.lastRenderedState,T=g(j,r);if(p.hasEagerState=!0,p.eagerState=T,zn(T,j))return zi(t,n,p,0),Xt===null&&Nr(),!1}catch{}if(r=lo(t,n,p,c),r!==null)return xa(r,t,c),ug(r,n,c),!0}return!1}function pm(t,n,r,c){if(c={lane:2,revertLane:Gm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(o(479))}else n=lo(t,r,c,2),n!==null&&xa(n,t,2)}function $u(t){var n=t.alternate;return t===dt||n!==null&&n===dt}function og(t,n){vl=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ug(t,n,r){if((r&4194048)!==0){var c=n.lanes;c&=t.pendingLanes,r|=c,n.lanes=r,vi(t,r)}}var So={readContext:Pn,use:Qu,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};So.useEffectEvent=mn;var cg={readContext:Pn,use:Qu,useCallback:function(t,n){return na().memoizedState=[t,n===void 0?null:n],t},useContext:Pn,useEffect:Gp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Vu(4194308,4,Xp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Vu(4194308,4,t,n)},useInsertionEffect:function(t,n){Vu(4,2,t,n)},useMemo:function(t,n){var r=na();n=n===void 0?null:n;var c=t();if(Mr){lt(!0);try{t()}finally{lt(!1)}}return r.memoizedState=[c,n],c},useReducer:function(t,n,r){var c=na();if(r!==void 0){var p=r(n);if(Mr){lt(!0);try{r(n)}finally{lt(!1)}}}else p=n;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=C_.bind(null,dt,t),[c.memoizedState,t]},useRef:function(t){var n=na();return t={current:t},n.memoizedState=t},useState:function(t){t=om(t);var n=t.queue,r=lg.bind(null,dt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dm,useDeferredValue:function(t,n){var r=na();return mm(r,t,n)},useTransition:function(){var t=om(!1);return t=ng.bind(null,dt,t.queue,!0,!1),na().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var c=dt,p=na();if(yt){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Xt===null)throw Error(o(349));(St&127)!==0||zp(c,n,r)}p.memoizedState=r;var g={value:r,getSnapshot:n};return p.queue=g,Gp(Op.bind(null,c,g,t),[t]),c.flags|=2048,_l(9,{destroy:void 0},Mp.bind(null,c,g,r,n),null),r},useId:function(){var t=na(),n=Xt.identifierPrefix;if(yt){var r=Le,c=Te;r=(c&~(1<<32-pt(c)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=N_++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:fm,useFormState:qp,useActionState:qp,useOptimistic:function(t){var n=na();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=pm.bind(null,dt,!0,r),r.dispatch=n,[t,n]},useMemoCache:sm,useCacheRefresh:function(){return na().memoizedState=T_.bind(null,dt)},useEffectEvent:function(t){var n=na(),r={impl:t};return n.memoizedState=r,function(){if((Rt&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},gm={readContext:Pn,use:Qu,useCallback:Wp,useContext:Pn,useEffect:cm,useImperativeHandle:Jp,useInsertionEffect:Yp,useLayoutEffect:$p,useMemo:eg,useReducer:Gu,useRef:Qp,useState:function(){return Gu(Ji)},useDebugValue:dm,useDeferredValue:function(t,n){var r=xn();return tg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Gu(Ji)[0],n=xn().memoizedState;return[typeof t=="boolean"?t:No(t),n]},useSyncExternalStore:Ap,useId:sg,useHostTransitionStatus:fm,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,n){var r=xn();return Lp(r,Qt,t,n)},useMemoCache:sm,useCacheRefresh:rg};gm.useEffectEvent=Vp;var dg={readContext:Pn,use:Qu,useCallback:Wp,useContext:Pn,useEffect:cm,useImperativeHandle:Jp,useInsertionEffect:Yp,useLayoutEffect:$p,useMemo:eg,useReducer:lm,useRef:Qp,useState:function(){return lm(Ji)},useDebugValue:dm,useDeferredValue:function(t,n){var r=xn();return Qt===null?mm(r,t,n):tg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=lm(Ji)[0],n=xn().memoizedState;return[typeof t=="boolean"?t:No(t),n]},useSyncExternalStore:Ap,useId:sg,useHostTransitionStatus:fm,useFormState:Kp,useActionState:Kp,useOptimistic:function(t,n){var r=xn();return Qt!==null?Lp(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:sm,useCacheRefresh:rg};dg.useEffectEvent=Vp;function xm(t,n,r,c){n=t.memoizedState,r=r(c,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ym={enqueueSetState:function(t,n,r){t=t._reactInternals;var c=Ma(),p=Ms(c);p.payload=n,r!=null&&(p.callback=r),n=Os(t,p,c),n!==null&&(xa(n,t,c),yo(n,t,c))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var c=Ma(),p=Ms(c);p.tag=1,p.payload=n,r!=null&&(p.callback=r),n=Os(t,p,c),n!==null&&(xa(n,t,c),yo(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ma(),c=Ms(r);c.tag=2,n!=null&&(c.callback=n),n=Os(t,c,r),n!==null&&(xa(n,t,r),yo(n,t,r))}};function mg(t,n,r,c,p,g,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,j):n.prototype&&n.prototype.isPureReactComponent?!ws(r,c)||!ws(p,g):!0}function hg(t,n,r,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,c),n.state!==t&&ym.enqueueReplaceState(n,n.state,null)}function Or(t,n){var r=n;if("ref"in n){r={};for(var c in n)c!=="ref"&&(r[c]=n[c])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function fg(t){_r(t)}function pg(t){console.error(t)}function gg(t){_r(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function xg(t,n,r){try{var c=t.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vm(t,n,r){return r=Ms(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function yg(t){return t=Ms(t),t.tag=3,t}function vg(t,n,r,c){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;t.payload=function(){return p(g)},t.callback=function(){xg(n,r,c)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){xg(n,r,c),typeof p!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function A_(t,n,r,c,p){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=r.alternate,n!==null&&hl(n,r,p,!0),r=Ta.current,r!==null){switch(r.tag){case 31:case 13:return Za===null?uc():r.alternate===null&&hn===0&&(hn=3),r.flags&=-257,r.flags|=65536,r.lanes=p,c===Iu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([c]):n.add(c),Hm(t,c,p)),!1;case 22:return r.flags|=65536,c===Iu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([c]):r.add(c)),Hm(t,c,p)),!1}throw Error(o(435,r.tag))}return Hm(t,c,p),uc(),!1}if(yt)return n=Ta.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,c!==ml&&(t=Error(o(422),{cause:c}),wr(u(t,r)))):(c!==ml&&(n=Error(o(423),{cause:c}),wr(u(n,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=u(c,r),p=vm(t.stateNode,c,p),Yd(t,p),hn!==4&&(hn=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,r),Mo===null?Mo=[g]:Mo.push(g),hn!==4&&(hn=2),n===null)return!0;c=u(c,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=vm(r.stateNode,c,t),Yd(r,t),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bs===null||!Bs.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=yg(p),vg(p,t,r,c),Yd(r,p),!1}r=r.return}while(r!==null);return!1}var bm=Error(o(461)),jn=!1;function In(t,n,r,c){n.child=t===null?jp(n,null,r,c):zr(n,t.child,r,c)}function bg(t,n,r,c,p){r=r.render;var g=n.ref;if("ref"in c){var j={};for(var T in c)T!=="ref"&&(j[T]=c[T])}else j=c;return kr(n),c=tm(t,n,r,j,g,p),T=nm(),t!==null&&!jn?(am(t,n,p),Wi(t,n,p)):(yt&&T&&kn(n),n.flags|=1,In(t,n,c,p),n.child)}function _g(t,n,r,c,p){if(t===null){var g=r.type;return typeof g=="function"&&!cl(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,Ng(t,n,g,c,p)):(t=Sr(r.type,null,c,n,n.mode,p),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,!Tm(t,p)){var j=g.memoizedProps;if(r=r.compare,r=r!==null?r:ws,r(j,c)&&t.ref===n.ref)return Wi(t,n,p)}return n.flags|=1,t=qa(g,c),t.ref=n.ref,t.return=n,n.child=t}function Ng(t,n,r,c,p){if(t!==null){var g=t.memoizedProps;if(ws(g,c)&&t.ref===n.ref)if(jn=!1,n.pendingProps=c=g,Tm(t,p))(t.flags&131072)!==0&&(jn=!0);else return n.lanes=t.lanes,Wi(t,n,p)}return _m(t,n,r,c,p)}function jg(t,n,r,c){var p=c.children,g=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,t!==null){for(c=n.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,n.child=null;return Sg(t,n,g,r,c)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,g!==null?g.cachePool:null),g!==null?Ep(n,g):Xd(),kp(n);else return c=n.lanes=536870912,Sg(t,n,g!==null?g.baseLanes|r:r,r,c)}else g!==null?(Lu(n,g.cachePool),Ep(n,g),Rs(),n.memoizedState=null):(t!==null&&Lu(n,null),Xd(),Rs());return In(t,n,p,r),n.child}function wo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Sg(t,n,r,c,p){var g=Kd();return g=g===null?null:{parent:_n._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},t!==null&&Lu(n,null),Xd(),kp(n),t!==null&&hl(t,n,c,!0),n.childLanes=p,null}function Ju(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function wg(t,n,r){return zr(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,Ca(n),n.memoizedState=null,t}function z_(t,n,r){var c=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(yt){if(c.mode==="hidden")return t=Ju(n,c),n.lanes=536870912,wo(null,t);if(Wd(n),(t=Mt)?(t=Px(t,ma),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pe!==null?{id:Te,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},r=uo(t),r.return=n,n.child=r,zt=n,Mt=null)):t=null,t===null)throw Oi(n);return n.lanes=536870912,null}return Ju(n,c)}var g=t.memoizedState;if(g!==null){var j=g.dehydrated;if(Wd(n),p)if(n.flags&256)n.flags&=-257,n=wg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(jn||hl(t,n,r,!1),p=(r&t.childLanes)!==0,jn||p){if(c=Xt,c!==null&&(j=Ui(c,r),j!==0&&j!==g.retryLane))throw g.retryLane=j,Fa(t,j),xa(c,t,j),bm;uc(),n=wg(t,n,r)}else t=g.treeContext,Mt=Ha(j.nextSibling),zt=n,yt=!0,Mi=null,ma=!1,t!==null&&ta(n,t),n=Ju(n,c),n.flags|=4096;return n}return t=qa(t.child,{mode:c.mode,children:c.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function _m(t,n,r,c,p){return kr(n),r=tm(t,n,r,c,void 0,p),c=nm(),t!==null&&!jn?(am(t,n,p),Wi(t,n,p)):(yt&&c&&kn(n),n.flags|=1,In(t,n,r,p),n.child)}function Eg(t,n,r,c,p,g){return kr(n),n.updateQueue=null,r=Cp(n,c,r,p),Tp(t),c=nm(),t!==null&&!jn?(am(t,n,g),Wi(t,n,g)):(yt&&c&&kn(n),n.flags|=1,In(t,n,r,g),n.child)}function kg(t,n,r,c,p){if(kr(n),n.stateNode===null){var g=Gi,j=r.contextType;typeof j=="object"&&j!==null&&(g=Pn(j)),g=new r(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ym,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Gd(n),j=r.contextType,g.context=typeof j=="object"&&j!==null?Pn(j):Gi,g.state=n.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(xm(n,r,j,c),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(j=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),j!==g.state&&ym.enqueueReplaceState(g,g.state,null),bo(n,c,g,p),vo(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(t===null){g=n.stateNode;var T=n.memoizedProps,H=Or(r,T);g.props=H;var he=g.context,Ne=r.contextType;j=Gi,typeof Ne=="object"&&Ne!==null&&(j=Pn(Ne));var Ce=r.getDerivedStateFromProps;Ne=typeof Ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||he!==j)&&hg(n,g,c,j),zs=!1;var ge=n.memoizedState;g.state=ge,bo(n,c,g,p),vo(),he=n.memoizedState,T||ge!==he||zs?(typeof Ce=="function"&&(xm(n,r,Ce,c),he=n.memoizedState),(H=zs||mg(n,r,H,c,ge,he,j))?(Ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=he),g.props=c,g.state=he,g.context=j,c=H):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Vd(t,n),j=n.memoizedProps,Ne=Or(r,j),g.props=Ne,Ce=n.pendingProps,ge=g.context,he=r.contextType,H=Gi,typeof he=="object"&&he!==null&&(H=Pn(he)),T=r.getDerivedStateFromProps,(he=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==Ce||ge!==H)&&hg(n,g,c,H),zs=!1,ge=n.memoizedState,g.state=ge,bo(n,c,g,p),vo();var ye=n.memoizedState;j!==Ce||ge!==ye||zs||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof T=="function"&&(xm(n,r,T,c),ye=n.memoizedState),(Ne=zs||mg(n,r,Ne,c,ge,ye,H)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(he||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ye,H),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ye,H)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ye),g.props=c,g.state=ye,g.context=H,c=Ne):(typeof g.componentDidUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(n.flags|=1024),c=!1)}return g=c,Wu(t,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,t!==null&&c?(n.child=zr(n,t.child,null,p),n.child=zr(n,null,r,p)):In(t,n,r,p),n.memoizedState=g.state,t=n.child):t=Wi(t,n,p),t}function Tg(t,n,r,c){return Yi(),n.flags|=256,In(t,n,r,c),n.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(t){return{baseLanes:t,cachePool:xp()}}function Sm(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=za),t}function Cg(t,n,r){var c=n.pendingProps,p=!1,g=(n.flags&128)!==0,j;if((j=g)||(j=t!==null&&t.memoizedState===null?!1:(gn.current&2)!==0),j&&(p=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,t===null){if(yt){if(p?Ds(n):Rs(),(t=Mt)?(t=Px(t,ma),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pe!==null?{id:Te,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},r=uo(t),r.return=n,n.child=r,zt=n,Mt=null)):t=null,t===null)throw Oi(n);return rh(t)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,p?(Rs(),p=n.mode,T=ec({mode:"hidden",children:T},p),c=Vi(c,p,r,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=jm(r),c.childLanes=Sm(t,j,r),n.memoizedState=Nm,wo(null,c)):(Ds(n),wm(n,T))}var H=t.memoizedState;if(H!==null&&(T=H.dehydrated,T!==null)){if(g)n.flags&256?(Ds(n),n.flags&=-257,n=Em(t,n,r)):n.memoizedState!==null?(Rs(),n.child=t.child,n.flags|=128,n=null):(Rs(),T=c.fallback,p=n.mode,c=ec({mode:"visible",children:c.children},p),T=Vi(T,p,r,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,zr(n,t.child,null,r),c=n.child,c.memoizedState=jm(r),c.childLanes=Sm(t,j,r),n.memoizedState=Nm,n=wo(null,c));else if(Ds(n),rh(T)){if(j=T.nextSibling&&T.nextSibling.dataset,j)var he=j.dgst;j=he,c=Error(o(419)),c.stack="",c.digest=j,wr({value:c,source:null,stack:null}),n=Em(t,n,r)}else if(jn||hl(t,n,r,!1),j=(r&t.childLanes)!==0,jn||j){if(j=Xt,j!==null&&(c=Ui(j,r),c!==0&&c!==H.retryLane))throw H.retryLane=c,Fa(t,c),xa(j,t,c),bm;sh(T)||uc(),n=Em(t,n,r)}else sh(T)?(n.flags|=192,n.child=t.child,n=null):(t=H.treeContext,Mt=Ha(T.nextSibling),zt=n,yt=!0,Mi=null,ma=!1,t!==null&&ta(n,t),n=wm(n,c.children),n.flags|=4096);return n}return p?(Rs(),T=c.fallback,p=n.mode,H=t.child,he=H.sibling,c=qa(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,he!==null?T=qa(he,T):(T=Vi(T,p,r,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,wo(null,c),c=n.child,T=t.child.memoizedState,T===null?T=jm(r):(p=T.cachePool,p!==null?(H=_n._currentValue,p=p.parent!==H?{parent:H,pool:H}:p):p=xp(),T={baseLanes:T.baseLanes|r,cachePool:p}),c.memoizedState=T,c.childLanes=Sm(t,j,r),n.memoizedState=Nm,wo(t.child,c)):(Ds(n),r=t.child,t=r.sibling,r=qa(r,{mode:"visible",children:c.children}),r.return=n,r.sibling=null,t!==null&&(j=n.deletions,j===null?(n.deletions=[t],n.flags|=16):j.push(t)),n.child=r,n.memoizedState=null,r)}function wm(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function Em(t,n,r){return zr(n,t.child,null,r),t=wm(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ag(t,n,r){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),Fd(t.return,n,r)}function km(t,n,r,c,p,g){var j=t.memoizedState;j===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:p,treeForkCount:g}:(j.isBackwards=n,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=r,j.tailMode=p,j.treeForkCount=g)}function zg(t,n,r){var c=n.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var j=gn.current,T=(j&2)!==0;if(T?(j=j&1|2,n.flags|=128):j&=1,D(gn,j),In(t,n,c,r),c=yt?E:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,r,n);else if(t.tag===19)Ag(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=n.child,p=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=n.child,n.child=null):(p=r.sibling,r.sibling=null),km(n,!1,p,r,g,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=n.child,n.child=null;p!==null;){if(t=p.alternate,t!==null&&qu(t)===null){n.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}km(n,!0,r,null,g,c);break;case"together":km(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(hl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,r=qa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=qa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Tm(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function M_(t,n,r){switch(n.tag){case 3:He(n,n.stateNode.containerInfo),As(n,_n,t.memoizedState.cache),Yi();break;case 27:case 5:rt(n);break;case 4:He(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ds(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Cg(t,n,r):(Ds(n),t=Wi(t,n,r),t!==null?t.sibling:null);Ds(n);break;case 19:var p=(t.flags&128)!==0;if(c=(r&n.childLanes)!==0,c||(hl(t,n,r,!1),c=(r&n.childLanes)!==0),p){if(c)return zg(t,n,r);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),D(gn,gn.current),c)break;return null;case 22:return n.lanes=0,jg(t,n,r,n.pendingProps);case 24:As(n,_n,t.memoizedState.cache)}return Wi(t,n,r)}function Mg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)jn=!0;else{if(!Tm(t,r)&&(n.flags&128)===0)return jn=!1,M_(t,n,r);jn=(t.flags&131072)!==0}else jn=!1,yt&&(n.flags&1048576)!==0&&ht(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(t=Cr(n.elementType),n.type=t,typeof t=="function")cl(t)?(c=Or(t,c),n.tag=1,n=kg(null,n,t,c,r)):(n.tag=0,n=_m(null,n,t,c,r));else{if(t!=null){var p=t.$$typeof;if(p===G){n.tag=11,n=bg(null,n,t,c,r);break e}else if(p===Z){n.tag=14,n=_g(null,n,t,c,r);break e}}throw n=le(t)||t,Error(o(306,n,""))}}return n;case 0:return _m(t,n,n.type,n.pendingProps,r);case 1:return c=n.type,p=Or(c,n.pendingProps),kg(t,n,c,p,r);case 3:e:{if(He(n,n.stateNode.containerInfo),t===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;p=g.element,Vd(t,n),bo(n,c,null,r);var j=n.memoizedState;if(c=j.cache,As(n,_n,c),c!==g.cache&&qd(n,[_n],r,!0),vo(),c=j.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Tg(t,n,c,r);break e}else if(c!==p){p=u(Error(o(424)),n),wr(p),n=Tg(t,n,c,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Mt=Ha(t.firstChild),zt=n,yt=!0,Mi=null,ma=!0,r=jp(n,null,c,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yi(),c===p){n=Wi(t,n,r);break e}In(t,n,c,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=Zx(n.type,null,n.pendingProps,null))?n.memoizedState=r:yt||(r=n.type,t=n.pendingProps,c=gc(je.current).createElement(r),c[Yt]=n,c[st]=t,Bn(c,r,t),Wt(c),n.stateNode=c):n.memoizedState=Zx(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rt(n),t===null&&yt&&(c=n.stateNode=Ux(n.type,n.pendingProps,je.current),zt=n,ma=!0,p=Mt,Zs(n.type)?(lh=p,Mt=Ha(c.firstChild)):Mt=p),In(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&yt&&((p=c=Mt)&&(c=oN(c,n.type,n.pendingProps,ma),c!==null?(n.stateNode=c,zt=n,Mt=Ha(c.firstChild),ma=!1,p=!0):p=!1),p||Oi(n)),rt(n),p=n.type,g=n.pendingProps,j=t!==null?t.memoizedProps:null,c=g.children,nh(p,g)?c=null:j!==null&&nh(p,j)&&(n.flags|=32),n.memoizedState!==null&&(p=tm(t,n,j_,null,null,r),Uo._currentValue=p),Wu(t,n),In(t,n,c,r),n.child;case 6:return t===null&&yt&&((t=r=Mt)&&(r=uN(r,n.pendingProps,ma),r!==null?(n.stateNode=r,zt=n,Mt=null,t=!0):t=!1),t||Oi(n)),null;case 13:return Cg(t,n,r);case 4:return He(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=zr(n,null,c,r):In(t,n,c,r),n.child;case 11:return bg(t,n,n.type,n.pendingProps,r);case 7:return In(t,n,n.pendingProps,r),n.child;case 8:return In(t,n,n.pendingProps.children,r),n.child;case 12:return In(t,n,n.pendingProps.children,r),n.child;case 10:return c=n.pendingProps,As(n,n.type,c.value),In(t,n,c.children,r),n.child;case 9:return p=n.type._context,c=n.pendingProps.children,kr(n),p=Pn(p),c=c(p),n.flags|=1,In(t,n,c,r),n.child;case 14:return _g(t,n,n.type,n.pendingProps,r);case 15:return Ng(t,n,n.type,n.pendingProps,r);case 19:return zg(t,n,r);case 31:return z_(t,n,r);case 22:return jg(t,n,r,n.pendingProps);case 24:return kr(n),c=Pn(_n),t===null?(p=Kd(),p===null&&(p=Xt,g=Zd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),n.memoizedState={parent:c,cache:p},Gd(n),As(n,_n,p)):((t.lanes&r)!==0&&(Vd(t,n),bo(n,null,null,r),vo()),p=t.memoizedState,g=n.memoizedState,p.parent!==c?(p={parent:c,cache:c},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),As(n,_n,c)):(c=g.cache,As(n,_n,c),c!==p.cache&&qd(n,[_n],r,!0))),In(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function es(t){t.flags|=4}function Cm(t,n,r,c,p){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(sx())t.flags|=8192;else throw Ar=Iu,Qd}else t.flags&=-16777217}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vx(n))if(sx())t.flags|=8192;else throw Ar=Iu,Qd}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ms():536870912,t.lanes|=n,wl|=n)}function Eo(t,n){if(!yt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function tn(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,c=0;if(n)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=r,n}function O_(t,n,r){var c=n.pendingProps;switch(dn(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(n),null;case 1:return tn(n),null;case 3:return r=n.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),$i(_n),Xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ci(n)?es(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ho())),tn(n),null;case 26:var p=n.type,g=n.memoizedState;return t===null?(es(n),g!==null?(tn(n),Og(n,g)):(tn(n),Cm(n,p,null,c,r))):g?g!==t.memoizedState?(es(n),tn(n),Og(n,g)):(tn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==c&&es(n),tn(n),Cm(n,p,t,c,r)),null;case 27:if(Se(n),r=je.current,p=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&es(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return tn(n),null}t=I.current,ci(n)?mo(n):(t=Ux(p,c,r),n.stateNode=t,es(n))}return tn(n),null;case 5:if(Se(n),p=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&es(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return tn(n),null}if(g=I.current,ci(n))mo(n);else{var j=gc(je.current);switch(g){case 1:g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=j.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?j.createElement(p,{is:c.is}):j.createElement(p)}}g[Yt]=n,g[st]=c;e:for(j=n.child;j!==null;){if(j.tag===5||j.tag===6)g.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}n.stateNode=g;e:switch(Bn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&es(n)}}return tn(n),Cm(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==c&&es(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(t=je.current,ci(n)){if(t=n.stateNode,r=n.memoizedProps,c=null,p=zt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Yt]=n,t=!!(t.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Cx(t.nodeValue,r)),t||Oi(n,!0)}else t=gc(t).createTextNode(c),t[Yt]=n,n.stateNode=t}return tn(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(c=ci(n),r!==null){if(t===null){if(!c)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Yt]=n}else Yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tn(n),t=!1}else r=ho(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Ca(n),n):(Ca(n),null);if((n.flags&128)!==0)throw Error(o(558))}return tn(n),null;case 13:if(c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=ci(n),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Yt]=n}else Yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tn(n),p=!1}else p=ho(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Ca(n),n):(Ca(n),null)}return Ca(n),(n.flags&128)!==0?(n.lanes=r,n):(r=c!==null,t=t!==null&&t.memoizedState!==null,r&&(c=n.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),tn(n),null);case 4:return Xe(),t===null&&Xm(n.stateNode.containerInfo),tn(n),null;case 10:return $i(n.type),tn(n),null;case 19:if(ee(gn),c=n.memoizedState,c===null)return tn(n),null;if(p=(n.flags&128)!==0,g=c.rendering,g===null)if(p)Eo(c,!1);else{if(hn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(g=qu(t),g!==null){for(n.flags|=128,Eo(c,!1),t=g.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)oo(r,t),r=r.sibling;return D(gn,gn.current&1|2),yt&&Ye(n,c.treeForkCount),n.child}t=t.sibling}c.tail!==null&&ne()>rc&&(n.flags|=128,p=!0,Eo(c,!1),n.lanes=4194304)}else{if(!p)if(t=qu(g),t!==null){if(n.flags|=128,p=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),Eo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!yt)return tn(n),null}else 2*ne()-c.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,p=!0,Eo(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(t=c.last,t!==null?t.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ne(),t.sibling=null,r=gn.current,D(gn,p?r&1|2:r&1),yt&&Ye(n,c.treeForkCount),t):(tn(n),null);case 22:case 23:return Ca(n),Jd(),c=n.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(r&536870912)!==0&&(n.flags&128)===0&&(tn(n),n.subtreeFlags&6&&(n.flags|=8192)):tn(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048),t!==null&&ee(Tr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$i(_n),tn(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function D_(t,n){switch(dn(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(_n),Xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Se(n),null;case 31:if(n.memoizedState!==null){if(Ca(n),n.alternate===null)throw Error(o(340));Yi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ca(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Yi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(gn),null;case 4:return Xe(),null;case 10:return $i(n.type),null;case 22:case 23:return Ca(n),Jd(),t!==null&&ee(Tr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(_n),null;case 25:return null;default:return null}}function Dg(t,n){switch(dn(n),n.tag){case 3:$i(_n),Xe();break;case 26:case 27:case 5:Se(n);break;case 4:Xe();break;case 31:n.memoizedState!==null&&Ca(n);break;case 13:Ca(n);break;case 19:ee(gn);break;case 10:$i(n.type);break;case 22:case 23:Ca(n),Jd(),t!==null&&ee(Tr);break;case 24:$i(_n)}}function ko(t,n){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var p=c.next;r=p;do{if((r.tag&t)===t){c=void 0;var g=r.create,j=r.inst;c=g(),j.destroy=c}r=r.next}while(r!==p)}}catch(T){Ft(n,n.return,T)}}function Ls(t,n,r){try{var c=n.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&t)===t){var j=c.inst,T=j.destroy;if(T!==void 0){j.destroy=void 0,p=n;var H=r,he=T;try{he()}catch(Ne){Ft(p,H,Ne)}}}c=c.next}while(c!==g)}}catch(Ne){Ft(n,n.return,Ne)}}function Rg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{wp(n,r)}catch(c){Ft(t,t.return,c)}}}function Lg(t,n,r){r.props=Or(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(c){Ft(t,n,c)}}function To(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(p){Ft(t,n,p)}}function Ri(t,n){var r=t.ref,c=t.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(p){Ft(t,n,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Ft(t,n,p)}else r.current=null}function Pg(t){var n=t.type,r=t.memoizedProps,c=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(p){Ft(t,t.return,p)}}function Am(t,n,r){try{var c=t.stateNode;nN(c,t.type,r,n),c[st]=n}catch(p){Ft(t,t.return,p)}}function Ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function zm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,n,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oa));else if(c!==4&&(c===27&&Zs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Mm(t,n,r),t=t.sibling;t!==null;)Mm(t,n,r),t=t.sibling}function nc(t,n,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(c!==4&&(c===27&&Zs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function Bg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var c=t.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Bn(n,c,r),n[Yt]=t,n[st]=r}catch(g){Ft(t,t.return,g)}}var ts=!1,Sn=!1,Om=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,On=null;function R_(t,n){if(t=t.containerInfo,eh=jc,t=xr(t),ki(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var j=0,T=-1,H=-1,he=0,Ne=0,Ce=t,ge=null;t:for(;;){for(var ye;Ce!==r||p!==0&&Ce.nodeType!==3||(T=j+p),Ce!==g||c!==0&&Ce.nodeType!==3||(H=j+c),Ce.nodeType===3&&(j+=Ce.nodeValue.length),(ye=Ce.firstChild)!==null;)ge=Ce,Ce=ye;for(;;){if(Ce===t)break t;if(ge===r&&++he===p&&(T=j),ge===g&&++Ne===c&&(H=j),(ye=Ce.nextSibling)!==null)break;Ce=ge,ge=Ce.parentNode}Ce=ye}r=T===-1||H===-1?null:{start:T,end:H}}else r=null}r=r||{start:0,end:0}}else r=null;for(th={focusedElem:t,selectionRange:r},jc=!1,On=n;On!==null;)if(n=On,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,On=t;else for(;On!==null;){switch(n=On,g=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=n,p=g.memoizedProps,g=g.memoizedState,c=r.stateNode;try{var Ze=Or(r.type,p);t=c.getSnapshotBeforeUpdate(Ze,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(et){Ft(r,r.return,et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)ih(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ih(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,On=t;break}On=n.return}}function Fg(t,n,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:as(t,r),c&4&&ko(5,r);break;case 1:if(as(t,r),c&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(j){Ft(r,r.return,j)}else{var p=Or(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(p,n,t.__reactInternalSnapshotBeforeUpdate)}catch(j){Ft(r,r.return,j)}}c&64&&Rg(r),c&512&&To(r,r.return);break;case 3:if(as(t,r),c&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{wp(t,n)}catch(j){Ft(r,r.return,j)}}break;case 27:n===null&&c&4&&Bg(r);case 26:case 5:as(t,r),n===null&&c&4&&Pg(r),c&512&&To(r,r.return);break;case 12:as(t,r);break;case 31:as(t,r),c&4&&Hg(t,r);break;case 13:as(t,r),c&4&&Kg(t,r),c&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=H_.bind(null,r),cN(t,r))));break;case 22:if(c=r.memoizedState!==null||ts,!c){n=n!==null&&n.memoizedState!==null||Sn,p=ts;var g=Sn;ts=c,(Sn=n)&&!g?is(t,r,(r.subtreeFlags&8772)!==0):as(t,r),ts=p,Sn=g}break;case 30:break;default:as(t,r)}}function qg(t){var n=t.alternate;n!==null&&(t.alternate=null,qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&U(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var sn=null,ha=!1;function ns(t,n,r){for(r=r.child;r!==null;)Zg(t,n,r),r=r.sibling}function Zg(t,n,r){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(J,r)}catch{}switch(r.tag){case 26:Sn||Ri(r,n),ns(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Sn||Ri(r,n);var c=sn,p=ha;Zs(r.type)&&(sn=r.stateNode,ha=!1),ns(t,n,r),Po(r.stateNode),sn=c,ha=p;break;case 5:Sn||Ri(r,n);case 6:if(c=sn,p=ha,sn=null,ns(t,n,r),sn=c,ha=p,sn!==null)if(ha)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(r.stateNode)}catch(g){Ft(r,n,g)}else try{sn.removeChild(r.stateNode)}catch(g){Ft(r,n,g)}break;case 18:sn!==null&&(ha?(t=sn,Rx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ol(t)):Rx(sn,r.stateNode));break;case 4:c=sn,p=ha,sn=r.stateNode.containerInfo,ha=!0,ns(t,n,r),sn=c,ha=p;break;case 0:case 11:case 14:case 15:Ls(2,r,n),Sn||Ls(4,r,n),ns(t,n,r);break;case 1:Sn||(Ri(r,n),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Lg(r,n,c)),ns(t,n,r);break;case 21:ns(t,n,r);break;case 22:Sn=(c=Sn)||r.memoizedState!==null,ns(t,n,r),Sn=c;break;default:ns(t,n,r)}}function Hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ol(t)}catch(r){Ft(n,n.return,r)}}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(r){Ft(n,n.return,r)}}function L_(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ug),n;default:throw Error(o(435,t.tag))}}function ac(t,n){var r=L_(t);n.forEach(function(c){if(!r.has(c)){r.add(c);var p=K_.bind(null,t,c);c.then(p,p)}})}function fa(t,n){var r=n.deletions;if(r!==null)for(var c=0;c<r.length;c++){var p=r[c],g=t,j=n,T=j;e:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){sn=T.stateNode,ha=!1;break e}break;case 5:sn=T.stateNode,ha=!1;break e;case 3:case 4:sn=T.stateNode.containerInfo,ha=!0;break e}T=T.return}if(sn===null)throw Error(o(160));Zg(g,j,p),sn=null,ha=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var mi=null;function Qg(t,n){var r=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fa(n,t),pa(t),c&4&&(Ls(3,t,t.return),ko(3,t),Ls(5,t,t.return));break;case 1:fa(n,t),pa(t),c&512&&(Sn||r===null||Ri(r,r.return)),c&64&&ts&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var p=mi;if(fa(n,t),pa(t),c&512&&(Sn||r===null||Ri(r,r.return)),c&4){var g=r!==null?r.memoizedState:null;if(c=t.memoizedState,r===null)if(c===null)if(t.stateNode===null){e:{c=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ai]||g[Yt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Bn(g,c,r),g[Yt]=t,Wt(g),c=g;break e;case"link":var j=Qx("link","href",p).get(c+(r.href||""));if(j){for(var T=0;T<j.length;T++)if(g=j[T],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(T,1);break t}}g=p.createElement(c),Bn(g,c,r),p.head.appendChild(g);break;case"meta":if(j=Qx("meta","content",p).get(c+(r.content||""))){for(T=0;T<j.length;T++)if(g=j[T],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(T,1);break t}}g=p.createElement(c),Bn(g,c,r),p.head.appendChild(g);break;default:throw Error(o(468,c))}g[Yt]=t,Wt(g),c=g}t.stateNode=c}else Gx(p,t.type,t.stateNode);else t.stateNode=Kx(p,c,t.memoizedProps);else g!==c?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,c===null?Gx(p,t.type,t.stateNode):Kx(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Am(t,t.memoizedProps,r.memoizedProps)}break;case 27:fa(n,t),pa(t),c&512&&(Sn||r===null||Ri(r,r.return)),r!==null&&c&4&&Am(t,t.memoizedProps,r.memoizedProps);break;case 5:if(fa(n,t),pa(t),c&512&&(Sn||r===null||Ri(r,r.return)),t.flags&32){p=t.stateNode;try{Ra(p,"")}catch(Ze){Ft(t,t.return,Ze)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,Am(t,p,r!==null?r.memoizedProps:p)),c&1024&&(Om=!0);break;case 6:if(fa(n,t),pa(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,r=t.stateNode;try{r.nodeValue=c}catch(Ze){Ft(t,t.return,Ze)}}break;case 3:if(vc=null,p=mi,mi=xc(n.containerInfo),fa(n,t),mi=p,pa(t),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(Ze){Ft(t,t.return,Ze)}Om&&(Om=!1,Gg(t));break;case 4:c=mi,mi=xc(t.stateNode.containerInfo),fa(n,t),pa(t),mi=c;break;case 12:fa(n,t),pa(t);break;case 31:fa(n,t),pa(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ac(t,c)));break;case 13:fa(n,t),pa(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=ne()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ac(t,c)));break;case 22:p=t.memoizedState!==null;var H=r!==null&&r.memoizedState!==null,he=ts,Ne=Sn;if(ts=he||p,Sn=Ne||H,fa(n,t),Sn=Ne,ts=he,pa(t),c&8192)e:for(n=t.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(r===null||H||ts||Sn||Dr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){H=r=n;try{if(g=H.stateNode,p)j=g.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{T=H.stateNode;var Ce=H.memoizedProps.style,ge=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;T.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Ze){Ft(H,H.return,Ze)}}}else if(n.tag===6){if(r===null){H=n;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(Ze){Ft(H,H.return,Ze)}}}else if(n.tag===18){if(r===null){H=n;try{var ye=H.stateNode;p?Lx(ye,!0):Lx(H.stateNode,!1)}catch(Ze){Ft(H,H.return,Ze)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=t.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,ac(t,r))));break;case 19:fa(n,t),pa(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ac(t,c)));break;case 30:break;case 21:break;default:fa(n,t),pa(t)}}function pa(t){var n=t.flags;if(n&2){try{for(var r,c=t.return;c!==null;){if(Ig(c)){r=c;break}c=c.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var p=r.stateNode,g=zm(t);nc(t,g,p);break;case 5:var j=r.stateNode;r.flags&32&&(Ra(j,""),r.flags&=-33);var T=zm(t);nc(t,T,j);break;case 3:case 4:var H=r.stateNode.containerInfo,he=zm(t);Mm(t,he,H);break;default:throw Error(o(161))}}catch(Ne){Ft(t,t.return,Ne)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function Dr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Dr(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Lg(n,n.return,r),Dr(n);break;case 27:Po(n.stateNode);case 26:case 5:Ri(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}t=t.sibling}}function is(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,p=t,g=n,j=g.flags;switch(g.tag){case 0:case 11:case 15:is(p,g,r),ko(4,g);break;case 1:if(is(p,g,r),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(he){Ft(c,c.return,he)}if(c=g,p=c.updateQueue,p!==null){var T=c.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)Sp(H[p],T)}catch(he){Ft(c,c.return,he)}}r&&j&64&&Rg(g),To(g,g.return);break;case 27:Bg(g);case 26:case 5:is(p,g,r),r&&c===null&&j&4&&Pg(g),To(g,g.return);break;case 12:is(p,g,r);break;case 31:is(p,g,r),r&&j&4&&Hg(p,g);break;case 13:is(p,g,r),r&&j&4&&Kg(p,g);break;case 22:g.memoizedState===null&&is(p,g,r),To(g,g.return);break;case 30:break;default:is(p,g,r)}n=n.sibling}}function Dm(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fo(r))}function Rm(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fo(t))}function hi(t,n,r,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vg(t,n,r,c),n=n.sibling}function Vg(t,n,r,c){var p=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,c),p&2048&&ko(9,n);break;case 1:hi(t,n,r,c);break;case 3:hi(t,n,r,c),p&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fo(t)));break;case 12:if(p&2048){hi(t,n,r,c),t=n.stateNode;try{var g=n.memoizedProps,j=g.id,T=g.onPostCommit;typeof T=="function"&&T(j,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){Ft(n,n.return,H)}}else hi(t,n,r,c);break;case 31:hi(t,n,r,c);break;case 13:hi(t,n,r,c);break;case 23:break;case 22:g=n.stateNode,j=n.alternate,n.memoizedState!==null?g._visibility&2?hi(t,n,r,c):Co(t,n):g._visibility&2?hi(t,n,r,c):(g._visibility|=2,Nl(t,n,r,c,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Dm(j,n);break;case 24:hi(t,n,r,c),p&2048&&Rm(n.alternate,n);break;default:hi(t,n,r,c)}}function Nl(t,n,r,c,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=t,j=n,T=r,H=c,he=j.flags;switch(j.tag){case 0:case 11:case 15:Nl(g,j,T,H,p),ko(8,j);break;case 23:break;case 22:var Ne=j.stateNode;j.memoizedState!==null?Ne._visibility&2?Nl(g,j,T,H,p):Co(g,j):(Ne._visibility|=2,Nl(g,j,T,H,p)),p&&he&2048&&Dm(j.alternate,j);break;case 24:Nl(g,j,T,H,p),p&&he&2048&&Rm(j.alternate,j);break;default:Nl(g,j,T,H,p)}n=n.sibling}}function Co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,c=n,p=c.flags;switch(c.tag){case 22:Co(r,c),p&2048&&Dm(c.alternate,c);break;case 24:Co(r,c),p&2048&&Rm(c.alternate,c);break;default:Co(r,c)}n=n.sibling}}var Ao=8192;function jl(t,n,r){if(t.subtreeFlags&Ao)for(t=t.child;t!==null;)Yg(t,n,r),t=t.sibling}function Yg(t,n,r){switch(t.tag){case 26:jl(t,n,r),t.flags&Ao&&t.memoizedState!==null&&NN(r,mi,t.memoizedState,t.memoizedProps);break;case 5:jl(t,n,r);break;case 3:case 4:var c=mi;mi=xc(t.stateNode.containerInfo),jl(t,n,r),mi=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Ao,Ao=16777216,jl(t,n,r),Ao=c):jl(t,n,r));break;default:jl(t,n,r)}}function $g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];On=c,Jg(c,t)}$g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xg(t),t=t.sibling}function Xg(t){switch(t.tag){case 0:case 11:case 15:zo(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:zo(t);break;case 12:zo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):zo(t);break;default:zo(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];On=c,Jg(c,t)}$g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function Jg(t,n){for(;On!==null;){var r=On;switch(r.tag){case 0:case 11:case 15:Ls(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fo(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,On=c;else e:for(r=t;On!==null;){c=On;var p=c.sibling,g=c.return;if(qg(c),c===r){On=null;break e}if(p!==null){p.return=g,On=p;break e}On=g}}}var P_={getCacheForType:function(t){var n=Pn(_n),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Pn(_n).controller.signal}},I_=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Xt=null,vt=null,St=0,Ut=0,Aa=null,Ps=!1,Sl=!1,Lm=!1,ss=0,hn=0,Is=0,Rr=0,Pm=0,za=0,wl=0,Mo=null,ga=null,Im=!1,sc=0,Wg=0,rc=1/0,lc=null,Bs=null,Tn=0,Us=null,El=null,rs=0,Bm=0,Um=null,ex=null,Oo=0,Fm=null;function Ma(){return(Rt&2)!==0&&St!==0?St&-St:q.T!==null?Gm():bi()}function tx(){if(za===0)if((St&536870912)===0||yt){var t=Xn;Xn<<=1,(Xn&3932160)===0&&(Xn=262144),za=t}else za=536870912;return t=Ta.current,t!==null&&(t.flags|=32),za}function xa(t,n,r){(t===Xt&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)&&(kl(t,0),Fs(t,St,za,!1)),Dn(t,r),((Rt&2)===0||t!==Xt)&&(t===Xt&&((Rt&2)===0&&(Rr|=r),hn===4&&Fs(t,St,za,!1)),Li(t))}function nx(t,n,r){if((Rt&6)!==0)throw Error(o(327));var c=!r&&(n&127)===0&&(n&t.expiredLanes)===0||vn(t,n),p=c?F_(t,n):Zm(t,n,!0),g=c;do{if(p===0){Sl&&!c&&Fs(t,n,0,!1);break}else{if(r=t.current.alternate,g&&!B_(r)){p=Zm(t,n,!1),g=!1;continue}if(p===2){if(g=n,t.errorRecoveryDisabledLanes&g)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var T=t;p=Mo;var H=T.current.memoizedState.isDehydrated;if(H&&(kl(T,j).flags|=256),j=Zm(T,j,!1),j!==2){if(Lm&&!H){T.errorRecoveryDisabledLanes|=g,Rr|=g,p=4;break e}g=ga,ga=p,g!==null&&(ga===null?ga=g:ga.push.apply(ga,g))}p=j}if(g=!1,p!==2)continue}}if(p===1){kl(t,0),Fs(t,n,0,!0);break}e:{switch(c=t,g=p,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Fs(c,n,za,!Ps);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(p=sc+300-ne(),10<p)){if(Fs(c,n,za,!Ps),Qn(c,0,!0)!==0)break e;rs=n,c.timeoutHandle=Ox(ax.bind(null,c,r,ga,lc,Im,n,za,Rr,wl,Ps,g,"Throttled",-0,0),p);break e}ax(c,r,ga,lc,Im,n,za,Rr,wl,Ps,g,null,-0,0)}}break}while(!0);Li(t)}function ax(t,n,r,c,p,g,j,T,H,he,Ne,Ce,ge,ye){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},Yg(n,g,Ce);var Ze=(g&62914560)===g?sc-ne():(g&4194048)===g?Wg-ne():0;if(Ze=jN(Ce,Ze),Ze!==null){rs=g,t.cancelPendingCommit=Ze(dx.bind(null,t,n,g,r,c,p,j,T,H,Ne,Ce,null,ge,ye)),Fs(t,g,j,!he);return}}dx(t,n,g,r,c,p,j,T,H)}function B_(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var p=r[c],g=p.getSnapshot;p=p.value;try{if(!zn(g(),p))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(t,n,r,c){n&=~Pm,n&=~Rr,t.suspendedLanes|=n,t.pingedLanes&=~n,c&&(t.warmLanes|=n),c=t.expirationTimes;for(var p=n;0<p;){var g=31-pt(p),j=1<<g;c[g]=-1,p&=~j}r!==0&&Na(t,r,n)}function oc(){return(Rt&6)===0?(Do(0),!1):!0}function qm(){if(vt!==null){if(Ut===0)var t=vt.return;else t=vt,di=Di=null,im(t),xl=null,go=0,t=vt;for(;t!==null;)Dg(t.alternate,t),t=t.return;vt=null}}function kl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),rs=0,qm(),Xt=t,vt=r=qa(t.current,null),St=n,Ut=0,Aa=null,Ps=!1,Sl=vn(t,n),Lm=!1,wl=za=Pm=Rr=Is=hn=0,ga=Mo=null,Im=!1,(n&8)!==0&&(n|=n&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=n;0<c;){var p=31-pt(c),g=1<<p;n|=t[p],c&=~g}return ss=n,Nr(),r}function ix(t,n){dt=null,q.H=So,n===gl||n===Pu?(n=bp(),Ut=3):n===Qd?(n=bp(),Ut=4):Ut=n===bm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Aa=n,vt===null&&(hn=1,Xu(t,u(n,t.current)))}function sx(){var t=Ta.current;return t===null?!0:(St&4194048)===St?Za===null:(St&62914560)===St||(St&536870912)!==0?t===Za:!1}function rx(){var t=q.H;return q.H=So,t===null?So:t}function lx(){var t=q.A;return q.A=P_,t}function uc(){hn=4,Ps||(St&4194048)!==St&&Ta.current!==null||(Sl=!0),(Is&134217727)===0&&(Rr&134217727)===0||Xt===null||Fs(Xt,St,za,!1)}function Zm(t,n,r){var c=Rt;Rt|=2;var p=rx(),g=lx();(Xt!==t||St!==n)&&(lc=null,kl(t,n)),n=!1;var j=hn;e:do try{if(Ut!==0&&vt!==null){var T=vt,H=Aa;switch(Ut){case 8:qm(),j=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(n=!0);var he=Ut;if(Ut=0,Aa=null,Tl(t,T,H,he),r&&Sl){j=0;break e}break;default:he=Ut,Ut=0,Aa=null,Tl(t,T,H,he)}}U_(),j=hn;break}catch(Ne){ix(t,Ne)}while(!0);return n&&t.shellSuspendCounter++,di=Di=null,Rt=c,q.H=p,q.A=g,vt===null&&(Xt=null,St=0,Nr()),j}function U_(){for(;vt!==null;)ox(vt)}function F_(t,n){var r=Rt;Rt|=2;var c=rx(),p=lx();Xt!==t||St!==n?(lc=null,rc=ne()+500,kl(t,n)):Sl=vn(t,n);e:do try{if(Ut!==0&&vt!==null){n=vt;var g=Aa;t:switch(Ut){case 1:Ut=0,Aa=null,Tl(t,n,g,1);break;case 2:case 9:if(yp(g)){Ut=0,Aa=null,ux(n);break}n=function(){Ut!==2&&Ut!==9||Xt!==t||(Ut=7),Li(t)},g.then(n,n);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:yp(g)?(Ut=0,Aa=null,ux(n)):(Ut=0,Aa=null,Tl(t,n,g,7));break;case 5:var j=null;switch(vt.tag){case 26:j=vt.memoizedState;case 5:case 27:var T=vt;if(j?Vx(j):T.stateNode.complete){Ut=0,Aa=null;var H=T.sibling;if(H!==null)vt=H;else{var he=T.return;he!==null?(vt=he,cc(he)):vt=null}break t}}Ut=0,Aa=null,Tl(t,n,g,5);break;case 6:Ut=0,Aa=null,Tl(t,n,g,6);break;case 8:qm(),hn=6;break e;default:throw Error(o(462))}}q_();break}catch(Ne){ix(t,Ne)}while(!0);return di=Di=null,q.H=c,q.A=p,Rt=r,vt!==null?0:(Xt=null,St=0,Nr(),hn)}function q_(){for(;vt!==null&&!$e();)ox(vt)}function ox(t){var n=Mg(t.alternate,t,ss);t.memoizedProps=t.pendingProps,n===null?cc(t):vt=n}function ux(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Eg(r,n,n.pendingProps,n.type,void 0,St);break;case 11:n=Eg(r,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:im(n);default:Dg(r,n),n=vt=oo(n,ss),n=Mg(r,n,ss)}t.memoizedProps=t.pendingProps,n===null?cc(t):vt=n}function Tl(t,n,r,c){di=Di=null,im(n),xl=null,go=0;var p=n.return;try{if(A_(t,p,n,r,St)){hn=1,Xu(t,u(r,t.current)),vt=null;return}}catch(g){if(p!==null)throw vt=p,g;hn=1,Xu(t,u(r,t.current)),vt=null;return}n.flags&32768?(yt||c===1?t=!0:Sl||(St&536870912)!==0?t=!1:(Ps=t=!0,(c===2||c===9||c===3||c===6)&&(c=Ta.current,c!==null&&c.tag===13&&(c.flags|=16384))),cx(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){cx(n,Ps);return}t=n.return;var r=O_(n.alternate,n,ss);if(r!==null){vt=r;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=t}while(n!==null);hn===0&&(hn=5)}function cx(t,n){do{var r=D_(t.alternate,t);if(r!==null){r.flags&=32767,vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){vt=t;return}vt=t=r}while(t!==null);hn=6,vt=null}function dx(t,n,r,c,p,g,j,T,H){t.cancelPendingCommit=null;do dc();while(Tn!==0);if((Rt&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=ul,Bi(t,r,g,j,T,H),t===Xt&&(vt=Xt=null,St=0),El=n,Us=t,rs=r,Bm=g,Um=p,ex=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Q_(mt,function(){return gx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,p=K.p,K.p=2,j=Rt,Rt|=4;try{R_(t,n,r)}finally{Rt=j,K.p=p,q.T=c}}Tn=1,mx(),hx(),fx()}}function mx(){if(Tn===1){Tn=0;var t=Us,n=El,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var c=K.p;K.p=2;var p=Rt;Rt|=4;try{Qg(n,t);var g=th,j=xr(t.containerInfo),T=g.focusedElem,H=g.selectionRange;if(j!==T&&T&&T.ownerDocument&&sl(T.ownerDocument.documentElement,T)){if(H!==null&&ki(T)){var he=H.start,Ne=H.end;if(Ne===void 0&&(Ne=he),"selectionStart"in T)T.selectionStart=he,T.selectionEnd=Math.min(Ne,T.value.length);else{var Ce=T.ownerDocument||document,ge=Ce&&Ce.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),Ze=T.textContent.length,et=Math.min(H.start,Ze),Vt=H.end===void 0?et:Math.min(H.end,Ze);!ye.extend&&et>Vt&&(j=Vt,Vt=et,et=j);var re=gr(T,et),X=gr(T,Vt);if(re&&X&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==X.node||ye.focusOffset!==X.offset)){var me=Ce.createRange();me.setStart(re.node,re.offset),ye.removeAllRanges(),et>Vt?(ye.addRange(me),ye.extend(X.node,X.offset)):(me.setEnd(X.node,X.offset),ye.addRange(me))}}}}for(Ce=[],ye=T;ye=ye.parentNode;)ye.nodeType===1&&Ce.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Ce.length;T++){var we=Ce[T];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}jc=!!eh,th=eh=null}finally{Rt=p,K.p=c,q.T=r}}t.current=n,Tn=2}}function hx(){if(Tn===2){Tn=0;var t=Us,n=El,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var c=K.p;K.p=2;var p=Rt;Rt|=4;try{Fg(t,n.alternate,n)}finally{Rt=p,K.p=c,q.T=r}}Tn=3}}function fx(){if(Tn===4||Tn===3){Tn=0,it();var t=Us,n=El,r=rs,c=ex;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Tn=5:(Tn=0,El=Us=null,px(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Bs=null),De(r),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(J,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=q.T,p=K.p,K.p=2,q.T=null;try{for(var g=t.onRecoverableError,j=0;j<c.length;j++){var T=c[j];g(T.value,{componentStack:T.stack})}}finally{q.T=n,K.p=p}}(rs&3)!==0&&dc(),Li(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===Fm?Oo++:(Oo=0,Fm=t):Oo=0,Do(0)}}function px(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fo(n)))}function dc(){return mx(),hx(),fx(),gx()}function gx(){if(Tn!==5)return!1;var t=Us,n=Bm;Bm=0;var r=De(rs),c=q.T,p=K.p;try{K.p=32>r?32:r,q.T=null,r=Um,Um=null;var g=Us,j=rs;if(Tn=0,El=Us=null,rs=0,(Rt&6)!==0)throw Error(o(331));var T=Rt;if(Rt|=4,Xg(g.current),Vg(g,g.current,j,r),Rt=T,Do(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(J,g)}catch{}return!0}finally{K.p=p,q.T=c,px(t,n)}}function xx(t,n,r){n=u(r,n),n=vm(t.stateNode,n,2),t=Os(t,n,2),t!==null&&(Dn(t,2),Li(t))}function Ft(t,n,r){if(t.tag===3)xx(t,t,r);else for(;n!==null;){if(n.tag===3){xx(n,t,r);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bs===null||!Bs.has(c))){t=u(r,t),r=yg(2),c=Os(n,r,2),c!==null&&(vg(r,c,n,t),Dn(c,2),Li(c));break}}n=n.return}}function Hm(t,n,r){var c=t.pingCache;if(c===null){c=t.pingCache=new I_;var p=new Set;c.set(n,p)}else p=c.get(n),p===void 0&&(p=new Set,c.set(n,p));p.has(r)||(Lm=!0,p.add(r),t=Z_.bind(null,t,n,r),n.then(t,t))}function Z_(t,n,r){var c=t.pingCache;c!==null&&c.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(St&r)===r&&(hn===4||hn===3&&(St&62914560)===St&&300>ne()-sc?(Rt&2)===0&&kl(t,0):Pm|=r,wl===St&&(wl=0)),Li(t)}function yx(t,n){n===0&&(n=ms()),t=Fa(t,n),t!==null&&(Dn(t,n),Li(t))}function H_(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),yx(t,r)}function K_(t,n){var r=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),yx(t,r)}function Q_(t,n){return ae(t,n)}var mc=null,Cl=null,Km=!1,hc=!1,Qm=!1,qs=0;function Li(t){t!==Cl&&t.next===null&&(Cl===null?mc=Cl=t:Cl=Cl.next=t),hc=!0,Km||(Km=!0,V_())}function Do(t,n){if(!Qm&&hc){Qm=!0;do for(var r=!1,c=mc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var j=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-pt(42|t)+1)-1,g&=p&~(j&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,Nx(c,g))}else g=St,g=Qn(c,c===Xt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||vn(c,g)||(r=!0,Nx(c,g));c=c.next}while(r);Qm=!1}}function G_(){vx()}function vx(){hc=Km=!1;var t=0;qs!==0&&iN()&&(t=qs);for(var n=ne(),r=null,c=mc;c!==null;){var p=c.next,g=bx(c,n);g===0?(c.next=null,r===null?mc=p:r.next=p,p===null&&(Cl=r)):(r=c,(t!==0||(g&3)!==0)&&(hc=!0)),c=p}Tn!==0&&Tn!==5||Do(t),qs!==0&&(qs=0)}function bx(t,n){for(var r=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var j=31-pt(g),T=1<<j,H=p[j];H===-1?((T&r)===0||(T&c)!==0)&&(p[j]=xi(T,n)):H<=n&&(t.expiredLanes|=T),g&=~T}if(n=Xt,r=St,r=Qn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,r===0||t===n&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ae(c),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||vn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(c!==null&&Ae(c),De(r)){case 2:case 8:r=qe;break;case 32:r=mt;break;case 268435456:r=Tt;break;default:r=mt}return c=_x.bind(null,t),r=ae(r,c),t.callbackPriority=n,t.callbackNode=r,n}return c!==null&&c!==null&&Ae(c),t.callbackPriority=2,t.callbackNode=null,2}function _x(t,n){if(Tn!==0&&Tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(dc()&&t.callbackNode!==r)return null;var c=St;return c=Qn(t,t===Xt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(nx(t,c,n),bx(t,ne()),t.callbackNode!=null&&t.callbackNode===r?_x.bind(null,t):null)}function Nx(t,n){if(dc())return null;nx(t,n,!0)}function V_(){rN(function(){(Rt&6)!==0?ae(be,G_):vx()})}function Gm(){if(qs===0){var t=fl;t===0&&(t=yn,yn<<=1,(yn&261888)===0&&(yn=256)),qs=t}return qs}function jx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xs(""+t)}function Sx(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Y_(t,n,r,c,p){if(n==="submit"&&r&&r.stateNode===p){var g=jx((p[st]||null).action),j=c.submitter;j&&(n=(n=j[st]||null)?jx(n.formAction):j.getAttribute("formAction"),n!==null&&(g=n,j=null));var T=new Jr("action","action",null,c,p);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qs!==0){var H=j?Sx(p,j):new FormData(p);hm(r,{pending:!0,data:H,method:p.method,action:g},null,H)}}else typeof g=="function"&&(T.preventDefault(),H=j?Sx(p,j):new FormData(p),hm(r,{pending:!0,data:H,method:p.method,action:g},g,H))},currentTarget:p}]})}}for(var Vm=0;Vm<Ai.length;Vm++){var Ym=Ai[Vm],$_=Ym.toLowerCase(),X_=Ym[0].toUpperCase()+Ym.slice(1);ca($_,"on"+X_)}ca(vr,"onAnimationEnd"),ca(zu,"onAnimationIteration"),ca(br,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Id,"onTransitionRun"),ca(Mu,"onTransitionStart"),ca(Bd,"onTransitionCancel"),ca(Ts,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),Q("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Q("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Q("onBeforeInput",["compositionend","keypress","textInput","paste"]),Q("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Q("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Q("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function wx(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var c=t[r],p=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var j=c.length-1;0<=j;j--){var T=c[j],H=T.instance,he=T.currentTarget;if(T=T.listener,H!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=he;try{g(p)}catch(Ne){_r(Ne)}p.currentTarget=null,g=H}else for(j=0;j<c.length;j++){if(T=c[j],H=T.instance,he=T.currentTarget,T=T.listener,H!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=he;try{g(p)}catch(Ne){_r(Ne)}p.currentTarget=null,g=H}}}}function bt(t,n){var r=n[sa];r===void 0&&(r=n[sa]=new Set);var c=t+"__bubble";r.has(c)||(Ex(n,t,2,!1),r.add(c))}function $m(t,n,r){var c=0;n&&(c|=4),Ex(r,t,c,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Xm(t){if(!t[fc]){t[fc]=!0,ii.forEach(function(r){r!=="selectionchange"&&(J_.has(r)||$m(r,!1,t),$m(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,$m("selectionchange",!1,n))}}function Ex(t,n,r,c){switch(ty(n)){case 2:var p=EN;break;case 8:p=kN;break;default:p=mh}r=p.bind(null,n,r,t),p=void 0,!lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(n,r,{capture:!0,passive:p}):t.addEventListener(n,r,!0):p!==void 0?t.addEventListener(n,r,{passive:p}):t.addEventListener(n,r,!1)}function Jm(t,n,r,c,p){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var T=c.stateNode.containerInfo;if(T===p)break;if(j===4)for(j=c.return;j!==null;){var H=j.tag;if((H===3||H===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;T!==null;){if(j=Ie(T),j===null)return;if(H=j.tag,H===5||H===6||H===26||H===27){c=g=j;continue e}T=T.parentNode}}c=c.return}Xl(function(){var he=g,Ne=rr(r),Ce=[];e:{var ge=Ou.get(t);if(ge!==void 0){var ye=Jr,Ze=t;switch(t){case"keypress":if(or(r)===0)break e;case"keydown":case"keyup":ye=vu;break;case"focusin":Ze="focus",ye=eo;break;case"focusout":Ze="blur",ye=eo;break;case"beforeblur":case"afterblur":ye=eo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Md;break;case vr:case zu:case br:ye=to;break;case Ts:ye=Nu;break;case"scroll":case"scrollend":ye=jt;break;case"wheel":ye=Qi;break;case"copy":case"cut":case"paste":ye=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=bu;break;case"toggle":case"beforetoggle":ye=dr}var et=(n&4)!==0,Vt=!et&&(t==="scroll"||t==="scrollend"),re=et?ge!==null?ge+"Capture":null:ge;et=[];for(var X=he,me;X!==null;){var we=X;if(me=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||me===null||re===null||(we=Hi(X,re),we!=null&&et.push(Lo(X,we,me))),Vt)break;X=X.return}0<et.length&&(ge=new ye(ge,Ze,null,r,Ne),Ce.push({event:ge,listeners:et}))}}if((n&7)===0){e:{if(ge=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",ge&&r!==Xr&&(Ze=r.relatedTarget||r.fromElement)&&(Ie(Ze)||Ze[Wn]))break e;if((ye||ge)&&(ge=Ne.window===Ne?Ne:(ge=Ne.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(Ze=r.relatedTarget||r.toElement,ye=he,Ze=Ze?Ie(Ze):null,Ze!==null&&(Vt=m(Ze),et=Ze.tag,Ze!==Vt||et!==5&&et!==27&&et!==6)&&(Ze=null)):(ye=null,Ze=he),ye!==Ze)){if(et=fu,we="onMouseLeave",re="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(et=bu,we="onPointerLeave",re="onPointerEnter",X="pointer"),Vt=ye==null?ge:bn(ye),me=Ze==null?ge:bn(Ze),ge=new et(we,X+"leave",ye,r,Ne),ge.target=Vt,ge.relatedTarget=me,we=null,Ie(Ne)===he&&(et=new et(re,X+"enter",Ze,r,Ne),et.target=me,et.relatedTarget=Vt,we=et),Vt=we,ye&&Ze)t:{for(et=W_,re=ye,X=Ze,me=0,we=re;we;we=et(we))me++;we=0;for(var Je=X;Je;Je=et(Je))we++;for(;0<me-we;)re=et(re),me--;for(;0<we-me;)X=et(X),we--;for(;me--;){if(re===X||X!==null&&re===X.alternate){et=re;break t}re=et(re),X=et(X)}et=null}else et=null;ye!==null&&kx(Ce,ge,ye,et,!1),Ze!==null&&Vt!==null&&kx(Ce,Vt,Ze,et,!0)}}e:{if(ge=he?bn(he):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var Ot=pr;else if(Ia(ge))if(Eu)Ot=Pd;else{Ot=Ld;var Ge=oi}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?he&&sr(he.elementType)&&(Ot=pr):Ot=Ss;if(Ot&&(Ot=Ot(t,he))){wu(Ce,Ot,r,Ne);break e}Ge&&Ge(t,ge,he),t==="focusout"&&he&&ge.type==="number"&&he.memoizedProps.value!=null&&si(ge,"number",ge.value)}switch(Ge=he?bn(he):window,t){case"focusin":(Ia(Ge)||Ge.contentEditable==="true")&&(Ti=Ge,ll=he,yr=null);break;case"focusout":yr=ll=Ti=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Cu(Ce,r,Ne);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":Cu(Ce,r,Ne)}var ft;if(el)e:{switch(t){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else _s?Su(t,r)&&(wt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(wt="onCompositionStart");wt&&(tl&&r.locale!=="ko"&&(_s||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&_s&&(ft=wi()):(La=Ne,Ki="value"in La?La.value:La.textContent,_s=!0)),Ge=pc(he,wt),0<Ge.length&&(wt=new no(wt,t,null,r,Ne),Ce.push({event:wt,listeners:Ge}),ft?wt.data=ft:(ft=ro(r),ft!==null&&(wt.data=ft)))),(ft=Dd?ka(t,r):Ns(t,r))&&(wt=pc(he,"onBeforeInput"),0<wt.length&&(Ge=new no("onBeforeInput","beforeinput",null,r,Ne),Ce.push({event:Ge,listeners:wt}),Ge.data=ft)),Y_(Ce,t,he,r,Ne)}wx(Ce,n)})}function Lo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pc(t,n){for(var r=n+"Capture",c=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Hi(t,r),p!=null&&c.unshift(Lo(t,p,g)),p=Hi(t,n),p!=null&&c.push(Lo(t,p,g))),t.tag===3)return c;t=t.return}return[]}function W_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kx(t,n,r,c,p){for(var g=n._reactName,j=[];r!==null&&r!==c;){var T=r,H=T.alternate,he=T.stateNode;if(T=T.tag,H!==null&&H===c)break;T!==5&&T!==26&&T!==27||he===null||(H=he,p?(he=Hi(r,g),he!=null&&j.unshift(Lo(r,he,H))):p||(he=Hi(r,g),he!=null&&j.push(Lo(r,he,H)))),r=r.return}j.length!==0&&t.push({event:n,listeners:j})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function Tx(t){return(typeof t=="string"?t:""+t).replace(eN,`
`).replace(tN,"")}function Cx(t,n){return n=Tx(n),Tx(t)===n}function Gt(t,n,r,c,p,g){switch(r){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Ra(t,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Ra(t,""+c);break;case"className":Kt(t,"class",c);break;case"tabIndex":Kt(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(t,r,c);break;case"style":Yr(t,c,g);break;case"data":if(n!=="object"){Kt(t,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=xs(""+c),t.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",p.name,p,null),Gt(t,n,"formEncType",p.formEncType,p,null),Gt(t,n,"formMethod",p.formMethod,p,null),Gt(t,n,"formTarget",p.formTarget,p,null)):(Gt(t,n,"encType",p.encType,p,null),Gt(t,n,"method",p.method,p,null),Gt(t,n,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=xs(""+c),t.setAttribute(r,c);break;case"onClick":c!=null&&(t.onclick=oa);break;case"onScroll":c!=null&&bt("scroll",t);break;case"onScrollEnd":c!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}r=xs(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""+c):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":c===!0?t.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,c):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(r,c):t.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(r):t.setAttribute(r,c);break;case"popover":bt("beforetoggle",t),bt("toggle",t),gt(t,"popover",c);break;case"xlinkActuate":la(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":la(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":la(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":la(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":la(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":la(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":la(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":la(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":la(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gt(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$r.get(r)||r,gt(t,r,c))}}function Wm(t,n,r,c,p,g){switch(r){case"style":Yr(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof c=="string"?Ra(t,c):(typeof c=="number"||typeof c=="bigint")&&Ra(t,""+c);break;case"onScroll":c!=null&&bt("scroll",t);break;case"onScrollEnd":c!=null&&bt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),n=r.slice(2,p?r.length-7:void 0),g=t[st]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(n,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,c,p);break e}r in t?t[r]=c:c===!0?t.setAttribute(r,""):gt(t,r,c)}}}function Bn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var c=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var j=r[g];if(j!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Gt(t,n,g,j,r,null)}}p&&Gt(t,n,"srcSet",r.srcSet,r,null),c&&Gt(t,n,"src",r.src,r,null);return;case"input":bt("invalid",t);var T=g=j=p=null,H=null,he=null;for(c in r)if(r.hasOwnProperty(c)){var Ne=r[c];if(Ne!=null)switch(c){case"name":p=Ne;break;case"type":j=Ne;break;case"checked":H=Ne;break;case"defaultChecked":he=Ne;break;case"value":g=Ne;break;case"defaultValue":T=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(o(137,n));break;default:Gt(t,n,c,Ne,r,null)}}ir(t,g,T,H,he,j,p,!1);return;case"select":bt("invalid",t),c=j=g=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":g=T;break;case"defaultValue":j=T;break;case"multiple":c=T;default:Gt(t,n,p,T,r,null)}n=g,r=j,t.multiple=!!c,n!=null?$t(t,!!c,n,!1):r!=null&&$t(t,!!c,r,!0);return;case"textarea":bt("invalid",t),g=p=c=null;for(j in r)if(r.hasOwnProperty(j)&&(T=r[j],T!=null))switch(j){case"value":c=T;break;case"defaultValue":p=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Gt(t,n,j,T,r,null)}ps(t,c,p,g);return;case"option":for(H in r)r.hasOwnProperty(H)&&(c=r[H],c!=null)&&(H==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":Gt(t,n,H,c,r,null));return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(c=0;c<Ro.length;c++)bt(Ro[c],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in r)if(r.hasOwnProperty(he)&&(c=r[he],c!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Gt(t,n,he,c,r,null)}return;default:if(sr(n)){for(Ne in r)r.hasOwnProperty(Ne)&&(c=r[Ne],c!==void 0&&Wm(t,n,Ne,c,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(c=r[T],c!=null&&Gt(t,n,T,c,r,null))}function nN(t,n,r,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,j=null,T=null,H=null,he=null,Ne=null;for(ye in r){var Ce=r[ye];if(r.hasOwnProperty(ye)&&Ce!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":H=Ce;default:c.hasOwnProperty(ye)||Gt(t,n,ye,null,c,Ce)}}for(var ge in c){var ye=c[ge];if(Ce=r[ge],c.hasOwnProperty(ge)&&(ye!=null||Ce!=null))switch(ge){case"type":g=ye;break;case"name":p=ye;break;case"checked":he=ye;break;case"defaultChecked":Ne=ye;break;case"value":j=ye;break;case"defaultValue":T=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,n));break;default:ye!==Ce&&Gt(t,n,ge,ye,c,Ce)}}Vl(t,j,T,H,he,Ne,g,p);return;case"select":ye=j=T=ge=null;for(g in r)if(H=r[g],r.hasOwnProperty(g)&&H!=null)switch(g){case"value":break;case"multiple":ye=H;default:c.hasOwnProperty(g)||Gt(t,n,g,null,c,H)}for(p in c)if(g=c[p],H=r[p],c.hasOwnProperty(p)&&(g!=null||H!=null))switch(p){case"value":ge=g;break;case"defaultValue":T=g;break;case"multiple":j=g;default:g!==H&&Gt(t,n,p,g,c,H)}n=T,r=j,c=ye,ge!=null?$t(t,!!r,ge,!1):!!c!=!!r&&(n!=null?$t(t,!!r,n,!0):$t(t,!!r,r?[]:"",!1));return;case"textarea":ye=ge=null;for(T in r)if(p=r[T],r.hasOwnProperty(T)&&p!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Gt(t,n,T,null,c,p)}for(j in c)if(p=c[j],g=r[j],c.hasOwnProperty(j)&&(p!=null||g!=null))switch(j){case"value":ge=p;break;case"defaultValue":ye=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==g&&Gt(t,n,j,p,c,g)}Si(t,ge,ye);return;case"option":for(var Ze in r)ge=r[Ze],r.hasOwnProperty(Ze)&&ge!=null&&!c.hasOwnProperty(Ze)&&(Ze==="selected"?t.selected=!1:Gt(t,n,Ze,null,c,ge));for(H in c)ge=c[H],ye=r[H],c.hasOwnProperty(H)&&ge!==ye&&(ge!=null||ye!=null)&&(H==="selected"?t.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":Gt(t,n,H,ge,c,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in r)ge=r[et],r.hasOwnProperty(et)&&ge!=null&&!c.hasOwnProperty(et)&&Gt(t,n,et,null,c,ge);for(he in c)if(ge=c[he],ye=r[he],c.hasOwnProperty(he)&&ge!==ye&&(ge!=null||ye!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(o(137,n));break;default:Gt(t,n,he,ge,c,ye)}return;default:if(sr(n)){for(var Vt in r)ge=r[Vt],r.hasOwnProperty(Vt)&&ge!==void 0&&!c.hasOwnProperty(Vt)&&Wm(t,n,Vt,void 0,c,ge);for(Ne in c)ge=c[Ne],ye=r[Ne],!c.hasOwnProperty(Ne)||ge===ye||ge===void 0&&ye===void 0||Wm(t,n,Ne,ge,c,ye);return}}for(var re in r)ge=r[re],r.hasOwnProperty(re)&&ge!=null&&!c.hasOwnProperty(re)&&Gt(t,n,re,null,c,ge);for(Ce in c)ge=c[Ce],ye=r[Ce],!c.hasOwnProperty(Ce)||ge===ye||ge==null&&ye==null||Gt(t,n,Ce,ge,c,ye)}function Ax(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var p=r[c],g=p.transferSize,j=p.initiatorType,T=p.duration;if(g&&T&&Ax(j)){for(j=0,T=p.responseEnd,c+=1;c<r.length;c++){var H=r[c],he=H.startTime;if(he>T)break;var Ne=H.transferSize,Ce=H.initiatorType;Ne&&Ax(Ce)&&(H=H.responseEnd,j+=Ne*(H<T?1:(T-he)/(H-he)))}if(--c,n+=8*(g+j)/(p.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var eh=null,th=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function zx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mx(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ah=null;function iN(){var t=window.event;return t&&t.type==="popstate"?t===ah?!1:(ah=t,!0):(ah=null,!1)}var Ox=typeof setTimeout=="function"?setTimeout:void 0,sN=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(t){return Dx.resolve(null).then(t).catch(lN)}:Ox;function lN(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function Rx(t,n){var r=n,c=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(c===0){t.removeChild(p),Ol(n);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Po(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Po(r);for(var g=r.firstChild;g;){var j=g.nextSibling,T=g.nodeName;g[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=j}}else r==="body"&&Po(t.ownerDocument.body);r=p}while(r);Ol(n)}function Lx(t,n){var r=t;t=0;do{var c=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=c}while(r)}function ih(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ih(r),U(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function oN(t,n,r,c){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Ha(t.nextSibling),t===null)break}return null}function uN(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ha(t.nextSibling),t===null))return null;return t}function Px(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ha(t.nextSibling),t===null))return null;return t}function sh(t){return t.data==="$?"||t.data==="$~"}function rh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cN(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var c=function(){n(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Ha(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var lh=null;function Ix(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Ha(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Bx(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Ux(t,n,r){switch(n=gc(r),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);U(t)}var Ka=new Map,Fx=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=K.d;K.d={f:dN,r:mN,D:hN,C:fN,L:pN,m:gN,X:yN,S:xN,M:vN};function dN(){var t=ls.f(),n=oc();return t||n}function mN(t){var n=Nt(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):ls.r(t)}var Al=typeof document>"u"?null:document;function qx(t,n,r){var c=Al;if(c&&typeof n=="string"&&n){var p=en(n);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Fx.has(p)||(Fx.add(p),t={rel:t,crossOrigin:r,href:n},c.querySelector(p)===null&&(n=c.createElement("link"),Bn(n,"link",t),Wt(n),c.head.appendChild(n)))}}function hN(t){ls.D(t),qx("dns-prefetch",t,null)}function fN(t,n){ls.C(t,n),qx("preconnect",t,n)}function pN(t,n,r){ls.L(t,n,r);var c=Al;if(c&&t&&n){var p='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+en(r.imageSizes)+'"]')):p+='[href="'+en(t)+'"]';var g=p;switch(n){case"style":g=zl(t);break;case"script":g=Ml(t)}Ka.has(g)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Ka.set(g,t),c.querySelector(p)!==null||n==="style"&&c.querySelector(Io(g))||n==="script"&&c.querySelector(Bo(g))||(n=c.createElement("link"),Bn(n,"link",t),Wt(n),c.head.appendChild(n)))}}function gN(t,n){ls.m(t,n);var r=Al;if(r&&t){var c=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(t)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ml(t)}if(!Ka.has(g)&&(t=w({rel:"modulepreload",href:t},n),Ka.set(g,t),r.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Bo(g)))return}c=r.createElement("link"),Bn(c,"link",t),Wt(c),r.head.appendChild(c)}}}function xN(t,n,r){ls.S(t,n,r);var c=Al;if(c&&t){var p=ja(c).hoistableStyles,g=zl(t);n=n||"default";var j=p.get(g);if(!j){var T={loading:0,preload:null};if(j=c.querySelector(Io(g)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Ka.get(g))&&oh(t,r);var H=j=c.createElement("link");Wt(H),Bn(H,"link",t),H._p=new Promise(function(he,Ne){H.onload=he,H.onerror=Ne}),H.addEventListener("load",function(){T.loading|=1}),H.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(j,n,c)}j={type:"stylesheet",instance:j,count:1,state:T},p.set(g,j)}}}function yN(t,n){ls.X(t,n);var r=Al;if(r&&t){var c=ja(r).hoistableScripts,p=Ml(t),g=c.get(p);g||(g=r.querySelector(Bo(p)),g||(t=w({src:t,async:!0},n),(n=Ka.get(p))&&uh(t,n),g=r.createElement("script"),Wt(g),Bn(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function vN(t,n){ls.M(t,n);var r=Al;if(r&&t){var c=ja(r).hoistableScripts,p=Ml(t),g=c.get(p);g||(g=r.querySelector(Bo(p)),g||(t=w({src:t,async:!0,type:"module"},n),(n=Ka.get(p))&&uh(t,n),g=r.createElement("script"),Wt(g),Bn(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Zx(t,n,r,c){var p=(p=je.current)?xc(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=zl(r.href),r=ja(p).hoistableStyles,c=r.get(n),c||(c={type:"style",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=zl(r.href);var g=ja(p).hoistableStyles,j=g.get(t);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,j),(g=p.querySelector(Io(t)))&&!g._p&&(j.instance=g,j.state.loading=5),Ka.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ka.set(t,r),g||bN(p,t,r,j.state))),n&&c===null)throw Error(o(528,""));return j}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ml(r),r=ja(p).hoistableScripts,c=r.get(n),c||(c={type:"script",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function zl(t){return'href="'+en(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function Hx(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function bN(t,n,r,c){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=t.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Bn(n,"link",r),Wt(n),t.head.appendChild(n))}function Ml(t){return'[src="'+en(t)+'"]'}function Bo(t){return"script[async]"+t}function Kx(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var c=t.querySelector('style[data-href~="'+en(r.href)+'"]');if(c)return n.instance=c,Wt(c),c;var p=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Wt(c),Bn(c,"style",p),yc(c,r.precedence,t),n.instance=c;case"stylesheet":p=zl(r.href);var g=t.querySelector(Io(p));if(g)return n.state.loading|=4,n.instance=g,Wt(g),g;c=Hx(r),(p=Ka.get(p))&&oh(c,p),g=(t.ownerDocument||t).createElement("link"),Wt(g);var j=g;return j._p=new Promise(function(T,H){j.onload=T,j.onerror=H}),Bn(g,"link",c),n.state.loading|=4,yc(g,r.precedence,t),n.instance=g;case"script":return g=Ml(r.src),(p=t.querySelector(Bo(g)))?(n.instance=p,Wt(p),p):(c=r,(p=Ka.get(g))&&(c=w({},r),uh(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),Wt(p),Bn(p,"link",c),t.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,yc(c,r.precedence,t));return n.instance}function yc(t,n,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,j=0;j<c.length;j++){var T=c[j];if(T.dataset.precedence===n)g=T;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function oh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function Qx(t,n,r){if(vc===null){var c=new Map,p=vc=new Map;p.set(r,c)}else p=vc,c=p.get(r),c||(c=new Map,p.set(r,c));if(c.has(t))return c;for(c.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[ai]||g[Yt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var j=g.getAttribute(n)||"";j=t+j;var T=c.get(j);T?T.push(g):c.set(j,[g])}}return c}function Gx(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function _N(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NN(t,n,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=zl(c.href),g=n.querySelector(Io(p));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=g,Wt(g);return}g=n.ownerDocument||n,c=Hx(c),(p=Ka.get(p))&&oh(c,p),g=g.createElement("link"),Wt(g);var j=g;j._p=new Promise(function(T,H){j.onload=T,j.onerror=H}),Bn(g,"link",c),r.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=bc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var ch=0;function jN(t,n){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var c=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+n);0<t.imgBytes&&ch===0&&(ch=62500*aN());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>ch?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function Nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(SN,t),_c=null,bc.call(t))}function SN(t,n){if(!(n.state.loading&4)){var r=_c.get(t);if(r)var c=r.get(null);else{r=new Map,_c.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var j=p[g];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),c=j)}c&&r.set(null,c)}p=n.instance,j=p.getAttribute("data-precedence"),g=r.get(j)||c,g===c&&r.set(null,p),r.set(j,p),this.count++,c=bc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),n.state.loading|=4}}var Uo={$$typeof:R,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function wN(t,n,r,c,p,g,j,T,H){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Yx(t,n,r,c,p,g,j,T,H,he,Ne,Ce){return t=new wN(t,n,r,j,H,he,Ne,Ce,T),n=1,g===!0&&(n|=24),g=Vn(3,null,null,n),t.current=g,g.stateNode=t,n=Zd(),n.refCount++,t.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:r,cache:n},Gd(g),t}function $x(t){return t?(t=Gi,t):Gi}function Xx(t,n,r,c,p,g){p=$x(p),c.context===null?c.context=p:c.pendingContext=p,c=Ms(n),c.payload={element:r},g=g===void 0?null:g,g!==null&&(c.callback=g),r=Os(t,c,n),r!==null&&(xa(r,t,n),yo(r,t,n))}function Jx(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function dh(t,n){Jx(t,n),(t=t.alternate)&&Jx(t,n)}function Wx(t){if(t.tag===13||t.tag===31){var n=Fa(t,67108864);n!==null&&xa(n,t,67108864),dh(t,67108864)}}function ey(t){if(t.tag===13||t.tag===31){var n=Ma();n=Rn(n);var r=Fa(t,n);r!==null&&xa(r,t,n),dh(t,n)}}var jc=!0;function EN(t,n,r,c){var p=q.T;q.T=null;var g=K.p;try{K.p=2,mh(t,n,r,c)}finally{K.p=g,q.T=p}}function kN(t,n,r,c){var p=q.T;q.T=null;var g=K.p;try{K.p=8,mh(t,n,r,c)}finally{K.p=g,q.T=p}}function mh(t,n,r,c){if(jc){var p=hh(c);if(p===null)Jm(t,n,c,Sc,r),ny(t,c);else if(CN(p,t,n,r,c))c.stopPropagation();else if(ny(t,c),n&4&&-1<TN.indexOf(t)){for(;p!==null;){var g=Nt(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var j=Kn(g.pendingLanes);if(j!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;j;){var H=1<<31-pt(j);T.entanglements[1]|=H,j&=~H}Li(g),(Rt&6)===0&&(rc=ne()+500,Do(0))}}break;case 31:case 13:T=Fa(g,2),T!==null&&xa(T,g,2),oc(),dh(g,2)}if(g=hh(c),g===null&&Jm(t,n,c,Sc,r),g===p)break;p=g}p!==null&&c.stopPropagation()}else Jm(t,n,c,null,r)}}function hh(t){return t=rr(t),fh(t)}var Sc=null;function fh(t){if(Sc=null,t=Ie(t),t!==null){var n=m(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=x(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function ty(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case be:return 2;case qe:return 8;case mt:case nt:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var ph=!1,Hs=null,Ks=null,Qs=null,Fo=new Map,qo=new Map,Gs=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(t,n){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(n.pointerId)}}function Zo(t,n,r,c,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:r,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},n!==null&&(n=Nt(n),n!==null&&Wx(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),t)}function CN(t,n,r,c,p){switch(n){case"focusin":return Hs=Zo(Hs,t,n,r,c,p),!0;case"dragenter":return Ks=Zo(Ks,t,n,r,c,p),!0;case"mouseover":return Qs=Zo(Qs,t,n,r,c,p),!0;case"pointerover":var g=p.pointerId;return Fo.set(g,Zo(Fo.get(g)||null,t,n,r,c,p)),!0;case"gotpointercapture":return g=p.pointerId,qo.set(g,Zo(qo.get(g)||null,t,n,r,c,p)),!0}return!1}function ay(t){var n=Ie(t.target);if(n!==null){var r=m(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,_i(t.priority,function(){ey(r)});return}}else if(n===31){if(n=x(r),n!==null){t.blockedOn=n,_i(t.priority,function(){ey(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=hh(t.nativeEvent);if(r===null){r=t.nativeEvent;var c=new r.constructor(r.type,r);Xr=c,r.target.dispatchEvent(c),Xr=null}else return n=Nt(r),n!==null&&Wx(n),t.blockedOn=r,!1;n.shift()}return!0}function iy(t,n,r){wc(t)&&r.delete(n)}function AN(){ph=!1,Hs!==null&&wc(Hs)&&(Hs=null),Ks!==null&&wc(Ks)&&(Ks=null),Qs!==null&&wc(Qs)&&(Qs=null),Fo.forEach(iy),qo.forEach(iy)}function Ec(t,n){t.blockedOn===n&&(t.blockedOn=null,ph||(ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,AN)))}var kc=null;function sy(t){kc!==t&&(kc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var n=0;n<t.length;n+=3){var r=t[n],c=t[n+1],p=t[n+2];if(typeof c!="function"){if(fh(c||r)===null)continue;break}var g=Nt(r);g!==null&&(t.splice(n,3),n-=3,hm(g,{pending:!0,data:p,method:r.method,action:c},c,p))}}))}function Ol(t){function n(H){return Ec(H,t)}Hs!==null&&Ec(Hs,t),Ks!==null&&Ec(Ks,t),Qs!==null&&Ec(Qs,t),Fo.forEach(n),qo.forEach(n);for(var r=0;r<Gs.length;r++){var c=Gs[r];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)ay(r),r.blockedOn===null&&Gs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var p=r[c],g=r[c+1],j=p[st]||null;if(typeof g=="function")j||sy(r);else if(j){var T=null;if(g&&g.hasAttribute("formAction")){if(p=g,j=g[st]||null)T=j.formAction;else if(fh(p)!==null)continue}else T=j.action;typeof T=="function"?r[c+1]=T:(r.splice(c,3),c-=3),sy(r)}}}function ry(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function gh(t){this._internalRoot=t}Tc.prototype.render=gh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,c=Ma();Xx(r,c,t,n,null,null)},Tc.prototype.unmount=gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xx(t.current,2,null,t,null,null),oc(),n[Wn]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var n=bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Gs.length&&n!==0&&n<Gs[r].priority;r++);Gs.splice(r,0,t),r===0&&ay(t)}};var ly=i.version;if(ly!=="19.2.4")throw Error(o(527,ly,"19.2.4"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=b(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var zN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{J=Cc.inject(zN),Fe=Cc}catch{}}return Ko.createRoot=function(t,n){if(!d(t))throw Error(o(299));var r=!1,c="",p=fg,g=pg,j=gg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError)),n=Yx(t,1,!1,null,null,r,c,null,p,g,j,ry),t[Wn]=n.current,Xm(t),new gh(n)},Ko.hydrateRoot=function(t,n,r){if(!d(t))throw Error(o(299));var c=!1,p="",g=fg,j=pg,T=gg,H=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(H=r.formState)),n=Yx(t,1,!0,n,r??null,c,p,H,g,j,T,ry),n.context=$x(null),r=n.current,c=Ma(),c=Rn(c),p=Ms(c),p.callback=null,Os(r,p,c),r=c,n.current.lanes=r,Dn(n,r),Li(n),t[Wn]=n.current,Xm(t),new Tc(n)},Ko.version="19.2.4",Ko}var xy;function qN(){if(xy)return vh.exports;xy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}return e(),vh.exports=FN(),vh.exports}var ZN=qN();const HN=dd(ZN);var Bl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},KN={setTimeout:(e,i)=>setTimeout(e,i),clearTimeout:e=>clearTimeout(e),setInterval:(e,i)=>setInterval(e,i),clearInterval:e=>clearInterval(e)},QN=class{#e=KN;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,i){return this.#e.setTimeout(e,i)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,i){return this.#e.setInterval(e,i)}clearInterval(e){this.#e.clearInterval(e)}},Pr=new QN;function GN(e){setTimeout(e,0)}var Ur=typeof window>"u"||"Deno"in globalThis;function ia(){}function VN(e,i){return typeof e=="function"?e(i):e}function df(e){return typeof e=="number"&&e>=0&&e!==1/0}function yv(e,i){return Math.max(e+(i||0)-Date.now(),0)}function Xs(e,i){return typeof e=="function"?e(i):e}function Va(e,i){return typeof e=="function"?e(i):e}function yy(e,i){const{type:l="all",exact:o,fetchStatus:d,predicate:m,queryKey:f,stale:x}=e;if(f){if(o){if(i.queryHash!==Lf(f,i.options))return!1}else if(!Wo(i.queryKey,f))return!1}if(l!=="all"){const v=i.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof x=="boolean"&&i.isStale()!==x||d&&d!==i.state.fetchStatus||m&&!m(i))}function vy(e,i){const{exact:l,status:o,predicate:d,mutationKey:m}=e;if(m){if(!i.options.mutationKey)return!1;if(l){if(Fr(i.options.mutationKey)!==Fr(m))return!1}else if(!Wo(i.options.mutationKey,m))return!1}return!(o&&i.state.status!==o||d&&!d(i))}function Lf(e,i){return(i?.queryKeyHashFn||Fr)(e)}function Fr(e){return JSON.stringify(e,(i,l)=>mf(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Wo(e,i){return e===i?!0:typeof e!=typeof i?!1:e&&i&&typeof e=="object"&&typeof i=="object"?Object.keys(i).every(l=>Wo(e[l],i[l])):!1}var YN=Object.prototype.hasOwnProperty;function vv(e,i,l=0){if(e===i)return e;if(l>500)return i;const o=by(e)&&by(i);if(!o&&!(mf(e)&&mf(i)))return i;const m=(o?e:Object.keys(e)).length,f=o?i:Object.keys(i),x=f.length,v=o?new Array(x):{};let b=0;for(let S=0;S<x;S++){const w=o?S:f[S],C=e[w],M=i[w];if(C===M){v[w]=C,(o?S<m:YN.call(e,w))&&b++;continue}if(C===null||M===null||typeof C!="object"||typeof M!="object"){v[w]=M;continue}const k=vv(C,M,l+1);v[w]=k,k===C&&b++}return m===x&&b===m?e:v}function Wc(e,i){if(!i||Object.keys(e).length!==Object.keys(i).length)return!1;for(const l in e)if(e[l]!==i[l])return!1;return!0}function by(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mf(e){if(!_y(e))return!1;const i=e.constructor;if(i===void 0)return!0;const l=i.prototype;return!(!_y(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _y(e){return Object.prototype.toString.call(e)==="[object Object]"}function $N(e){return new Promise(i=>{Pr.setTimeout(i,e)})}function hf(e,i,l){return typeof l.structuralSharing=="function"?l.structuralSharing(e,i):l.structuralSharing!==!1?vv(e,i):i}function XN(e,i,l=0){const o=[...e,i];return l&&o.length>l?o.slice(1):o}function JN(e,i,l=0){const o=[i,...e];return l&&o.length>l?o.slice(0,-1):o}var Pf=Symbol();function bv(e,i){return!e.queryFn&&i?.initialPromise?()=>i.initialPromise:!e.queryFn||e.queryFn===Pf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function If(e,i){return typeof e=="function"?e(...i):!!e}function WN(e,i,l){let o=!1,d;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(d??=i(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),e}var ej=class extends Bl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ur&&window.addEventListener){const i=()=>e();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(i=>{i(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Bf=new ej;function ff(){let e,i;const l=new Promise((d,m)=>{e=d,i=m});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),e(d)},l.reject=d=>{o({status:"rejected",reason:d}),i(d)},l}var tj=GN;function nj(){let e=[],i=0,l=x=>{x()},o=x=>{x()},d=tj;const m=x=>{i?e.push(x):d(()=>{l(x)})},f=()=>{const x=e;e=[],x.length&&d(()=>{o(()=>{x.forEach(v=>{l(v)})})})};return{batch:x=>{let v;i++;try{v=x()}finally{i--,i||f()}return v},batchCalls:x=>(...v)=>{m(()=>{x(...v)})},schedule:m,setNotifyFunction:x=>{l=x},setBatchNotifyFunction:x=>{o=x},setScheduler:x=>{d=x}}}var Cn=nj(),aj=class extends Bl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ur&&window.addEventListener){const i=()=>e(!0),l=()=>e(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(l=>{l(e)}))}isOnline(){return this.#e}},ed=new aj;function ij(e){return Math.min(1e3*2**e,3e4)}function _v(e){return(e??"online")==="online"?ed.isOnline():!0}var pf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Nv(e){let i=!1,l=0,o;const d=ff(),m=()=>d.status!=="pending",f=A=>{if(!m()){const O=new pf(A);C(O),e.onCancel?.(O)}},x=()=>{i=!0},v=()=>{i=!1},b=()=>Bf.isFocused()&&(e.networkMode==="always"||ed.isOnline())&&e.canRun(),S=()=>_v(e.networkMode)&&e.canRun(),w=A=>{m()||(o?.(),d.resolve(A))},C=A=>{m()||(o?.(),d.reject(A))},M=()=>new Promise(A=>{o=O=>{(m()||b())&&A(O)},e.onPause?.()}).then(()=>{o=void 0,m()||e.onContinue?.()}),k=()=>{if(m())return;let A;const O=l===0?e.initialPromise:void 0;try{A=O??e.fn()}catch(B){A=Promise.reject(B)}Promise.resolve(A).then(w).catch(B=>{if(m())return;const P=e.retry??(Ur?0:3),R=e.retryDelay??ij,G=typeof R=="function"?R(l,B):R,V=P===!0||typeof P=="number"&&l<P||typeof P=="function"&&P(l,B);if(i||!V){C(B);return}l++,e.onFail?.(l,B),$N(G).then(()=>b()?void 0:M()).then(()=>{i?C(B):k()})})};return{promise:d,status:()=>d.status,cancel:f,continue:()=>(o?.(),d),cancelRetry:x,continueRetry:v,canStart:S,start:()=>(S()?k():M().then(k),d)}}var jv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),df(this.gcTime)&&(this.#e=Pr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ur?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Pr.clearTimeout(this.#e),this.#e=void 0)}},sj=class extends jv{#e;#t;#n;#i;#a;#r;#l;constructor(e){super(),this.#l=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=jy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=jy(this.options);i.data!==void 0&&(this.setState(Ny(i.data,i.dataUpdatedAt)),this.#e=i)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,i){const l=hf(this.state.data,e,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:i?.updatedAt,manual:i?.manual}),l}setState(e,i){this.#s({type:"setState",state:e,setStateOptions:i})}cancel(e){const i=this.#a?.promise;return this.#a?.cancel(e),i?i.then(ia).catch(ia):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Va(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(i=>i.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(i=>i.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(i=>i!==e),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,i){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(v=>v.options.queryFn);x&&this.setOptions(x.options)}const l=new AbortController,o=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const x=bv(this.options,i),b=(()=>{const S={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(x,b,this):x(b)},f=(()=>{const x={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:d};return o(x),x})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#s({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Nv({initialPromise:i?.initialPromise,fn:f.fetchFn,onCancel:x=>{x instanceof pf&&x.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(x,v)=>{this.#s({type:"failed",failureCount:x,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const x=await this.#a.start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),this.#n.config.onSuccess?.(x,this),this.#n.config.onSettled?.(x,this.state.error,this),x}catch(x){if(x instanceof pf){if(x.silent)return this.#a.promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw this.#s({type:"error",error:x}),this.#n.config.onError?.(x,this),this.#n.config.onSettled?.(this.state.data,x,this),x}finally{this.scheduleGc()}}#s(e){const i=l=>{switch(e.type){case"failed":return{...l,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...Sv(l.data,this.options),fetchMeta:e.meta??null};case"success":const o={...l,...Ny(e.data,e.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const d=e.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...e.state}}};this.state=i(this.state),Cn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Sv(e,i){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_v(i.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ny(e,i){return{data:e,dataUpdatedAt:i??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jy(e){const i=typeof e.initialData=="function"?e.initialData():e.initialData,l=i!==void 0,o=l?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var rj=class extends Bl{constructor(e,i){super(),this.options=i,this.#e=e,this.#s=null,this.#l=ff(),this.bindMethods(),this.setOptions(i)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#r;#l;#s;#p;#m;#h;#u;#c;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Sy(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const i=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Va(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),i._defaulted&&!Wc(this.options,i)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&wy(this.#t,l,this.options,i)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Va(this.options.enabled,this.#t)!==Va(i.enabled,this.#t)||Xs(this.options.staleTime,this.#t)!==Xs(i.staleTime,this.#t))&&this.#g();const d=this.#x();o&&(this.#t!==l||Va(this.options.enabled,this.#t)!==Va(i.enabled,this.#t)||d!==this.#o)&&this.#y(d)}getOptimisticResult(e){const i=this.#e.getQueryCache().build(this.#e,e),l=this.createResult(i,e);return oj(this,l)&&(this.#i=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#i}trackResult(e,i){return new Proxy(e,{get:(l,o)=>(this.trackProp(o),i?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const i=this.#e.defaultQueryOptions(e),l=this.#e.getQueryCache().build(this.#e,i);return l.fetch().then(()=>this.createResult(l,i))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#N();let i=this.#t.fetch(this.options,e);return e?.throwOnError||(i=i.catch(ia)),i}#g(){this.#b();const e=Xs(this.options.staleTime,this.#t);if(Ur||this.#i.isStale||!df(e))return;const l=yv(this.#i.dataUpdatedAt,e)+1;this.#u=Pr.setTimeout(()=>{this.#i.isStale||this.updateResult()},l)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#o=e,!(Ur||Va(this.options.enabled,this.#t)===!1||!df(this.#o)||this.#o===0)&&(this.#c=Pr.setInterval(()=>{(this.options.refetchIntervalInBackground||Bf.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#u&&(Pr.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(Pr.clearInterval(this.#c),this.#c=void 0)}createResult(e,i){const l=this.#t,o=this.options,d=this.#i,m=this.#a,f=this.#r,v=e!==l?e.state:this.#n,{state:b}=e;let S={...b},w=!1,C;if(i._optimisticResults){const Y=this.hasListeners(),te=!Y&&Sy(e,i),fe=Y&&wy(e,l,i,o);(te||fe)&&(S={...S,...Sv(b.data,e.options)}),i._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:M,errorUpdatedAt:k,status:A}=S;C=S.data;let O=!1;if(i.placeholderData!==void 0&&C===void 0&&A==="pending"){let Y;d?.isPlaceholderData&&i.placeholderData===f?.placeholderData?(Y=d.data,O=!0):Y=typeof i.placeholderData=="function"?i.placeholderData(this.#h?.state.data,this.#h):i.placeholderData,Y!==void 0&&(A="success",C=hf(d?.data,Y,i),w=!0)}if(i.select&&C!==void 0&&!O)if(d&&C===m?.data&&i.select===this.#p)C=this.#m;else try{this.#p=i.select,C=i.select(C),C=hf(d?.data,C,i),this.#m=C,this.#s=null}catch(Y){this.#s=Y}this.#s&&(M=this.#s,C=this.#m,k=Date.now(),A="error");const B=S.fetchStatus==="fetching",P=A==="pending",R=A==="error",G=P&&B,V=C!==void 0,Z={status:A,fetchStatus:S.fetchStatus,isPending:P,isSuccess:A==="success",isError:R,isInitialLoading:G,isLoading:G,data:C,dataUpdatedAt:S.dataUpdatedAt,error:M,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>v.dataUpdateCount||S.errorUpdateCount>v.errorUpdateCount,isFetching:B,isRefetching:B&&!P,isLoadingError:R&&!V,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:R&&V,isStale:Uf(e,i),refetch:this.refetch,promise:this.#l,isEnabled:Va(i.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Y=Z.data!==void 0,te=Z.status==="error"&&!Y,fe=_e=>{te?_e.reject(Z.error):Y&&_e.resolve(Z.data)},xe=()=>{const _e=this.#l=Z.promise=ff();fe(_e)},de=this.#l;switch(de.status){case"pending":e.queryHash===l.queryHash&&fe(de);break;case"fulfilled":(te||Z.data!==de.value)&&xe();break;case"rejected":(!te||Z.error!==de.reason)&&xe();break}}return Z}updateResult(){const e=this.#i,i=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Wc(i,e))return;this.#i=i;const l=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#f.size)return!0;const m=new Set(d??this.#f);return this.options.throwOnError&&m.add("error"),Object.keys(this.#i).some(f=>{const x=f;return this.#i[x]!==e[x]&&m.has(x)})};this.#j({listeners:l()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const i=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(i?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(e){Cn.batch(()=>{e.listeners&&this.listeners.forEach(i=>{i(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function lj(e,i){return Va(i.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&i.retryOnMount===!1)}function Sy(e,i){return lj(e,i)||e.state.data!==void 0&&gf(e,i,i.refetchOnMount)}function gf(e,i,l){if(Va(i.enabled,e)!==!1&&Xs(i.staleTime,e)!=="static"){const o=typeof l=="function"?l(e):l;return o==="always"||o!==!1&&Uf(e,i)}return!1}function wy(e,i,l,o){return(e!==i||Va(o.enabled,e)===!1)&&(!l.suspense||e.state.status!=="error")&&Uf(e,l)}function Uf(e,i){return Va(i.enabled,e)!==!1&&e.isStaleByTime(Xs(i.staleTime,e))}function oj(e,i){return!Wc(e.getCurrentResult(),i)}function Ey(e){return{onFetch:(i,l)=>{const o=i.options,d=i.fetchOptions?.meta?.fetchMore?.direction,m=i.state.data?.pages||[],f=i.state.data?.pageParams||[];let x={pages:[],pageParams:[]},v=0;const b=async()=>{let S=!1;const w=k=>{WN(k,()=>i.signal,()=>S=!0)},C=bv(i.options,i.fetchOptions),M=async(k,A,O)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const P=(()=>{const W={client:i.client,queryKey:i.queryKey,pageParam:A,direction:O?"backward":"forward",meta:i.options.meta};return w(W),W})(),R=await C(P),{maxPages:G}=i.options,V=O?JN:XN;return{pages:V(k.pages,R,G),pageParams:V(k.pageParams,A,G)}};if(d&&m.length){const k=d==="backward",A=k?uj:ky,O={pages:m,pageParams:f},B=A(o,O);x=await M(O,B,k)}else{const k=e??m.length;do{const A=v===0?f[0]??o.initialPageParam:ky(o,x);if(v>0&&A==null)break;x=await M(x,A),v++}while(v<k)}return x};i.options.persister?i.fetchFn=()=>i.options.persister?.(b,{client:i.client,queryKey:i.queryKey,meta:i.options.meta,signal:i.signal},l):i.fetchFn=b}}}function ky(e,{pages:i,pageParams:l}){const o=i.length-1;return i.length>0?e.getNextPageParam(i[o],i,l[o],l):void 0}function uj(e,{pages:i,pageParams:l}){return i.length>0?e.getPreviousPageParam?.(i[0],i,l[0],l):void 0}var cj=class extends jv{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||wv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(i=>i!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const i=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Nv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,l):Promise.reject(new Error("No mutationFn found")),onFail:(m,f)=>{this.#a({type:"failed",failureCount:m,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#i.canStart();try{if(o)i();else{this.#a({type:"pending",variables:e,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,l);const f=await this.options.onMutate?.(e,l);f!==this.state.context&&this.#a({type:"pending",context:f,variables:e,isPaused:d})}const m=await this.#i.start();return await this.#n.config.onSuccess?.(m,e,this.state.context,this,l),await this.options.onSuccess?.(m,e,this.state.context,l),await this.#n.config.onSettled?.(m,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(m,null,e,this.state.context,l),this.#a({type:"success",data:m}),m}catch(m){try{await this.#n.config.onError?.(m,e,this.state.context,this,l)}catch(f){Promise.reject(f)}try{await this.options.onError?.(m,e,this.state.context,l)}catch(f){Promise.reject(f)}try{await this.#n.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,l)}catch(f){Promise.reject(f)}try{await this.options.onSettled?.(void 0,m,e,this.state.context,l)}catch(f){Promise.reject(f)}throw this.#a({type:"error",error:m}),m}finally{this.#n.runNext(this)}}#a(e){const i=l=>{switch(e.type){case"failed":return{...l,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...l,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:e.error,failureCount:l.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Cn.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function wv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dj=class extends Bl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,i,l){const o=new cj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(i),state:l});return this.add(o),o}add(e){this.#e.add(e);const i=Ac(e);if(typeof i=="string"){const l=this.#t.get(i);l?l.push(e):this.#t.set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const i=Ac(e);if(typeof i=="string"){const l=this.#t.get(i);if(l)if(l.length>1){const o=l.indexOf(e);o!==-1&&l.splice(o,1)}else l[0]===e&&this.#t.delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=Ac(e);if(typeof i=="string"){const o=this.#t.get(i)?.find(d=>d.state.status==="pending");return!o||o===e}else return!0}runNext(e){const i=Ac(e);return typeof i=="string"?this.#t.get(i)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Cn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const i={exact:!0,...e};return this.getAll().find(l=>vy(i,l))}findAll(e={}){return this.getAll().filter(i=>vy(e,i))}notify(e){Cn.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return Cn.batch(()=>Promise.all(e.map(i=>i.continue().catch(ia))))}};function Ac(e){return e.options.scope?.id}var mj=class extends Bl{#e;#t=void 0;#n;#i;constructor(i,l){super(),this.#e=i,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){const l=this.options;this.options=this.#e.defaultMutationOptions(i),Wc(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&Fr(l.mutationKey)!==Fr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(i){this.#a(),this.#r(i)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(i,l){return this.#i=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(i)}#a(){const i=this.#n?.state??wv();this.#t={...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset}}#r(i){Cn.batch(()=>{if(this.#i&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(i?.type==="success"){try{this.#i.onSuccess?.(i.data,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(i.data,null,l,o,d)}catch(m){Promise.reject(m)}}else if(i?.type==="error"){try{this.#i.onError?.(i.error,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(void 0,i.error,l,o,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(l=>{l(this.#t)})})}},hj=class extends Bl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,i,l){const o=i.queryKey,d=i.queryHash??Lf(o,i);let m=this.get(d);return m||(m=new sj({client:e,queryKey:o,queryHash:d,options:e.defaultQueryOptions(i),state:l,defaultOptions:e.getQueryDefaults(o)}),this.add(m)),m}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=this.#e.get(e.queryHash);i&&(e.destroy(),i===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const i={exact:!0,...e};return this.getAll().find(l=>yy(i,l))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(l=>yy(e,l)):i}notify(e){Cn.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fj=class{#e;#t;#n;#i;#a;#r;#l;#s;constructor(e={}){this.#e=e.queryCache||new hj,this.#t=e.mutationCache||new dj,this.#n=e.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Bf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ed.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const i=this.defaultQueryOptions({queryKey:e});return this.#e.get(i.queryHash)?.state.data}ensureQueryData(e){const i=this.defaultQueryOptions(e),l=this.#e.build(this,i),o=l.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&l.isStaleByTime(Xs(i.staleTime,l))&&this.prefetchQuery(i),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:i,state:l})=>{const o=l.data;return[i,o]})}setQueryData(e,i,l){const o=this.defaultQueryOptions({queryKey:e}),m=this.#e.get(o.queryHash)?.state.data,f=VN(i,m);if(f!==void 0)return this.#e.build(this,o).setData(f,{...l,manual:!0})}setQueriesData(e,i,l){return Cn.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,i,l)]))}getQueryState(e){const i=this.defaultQueryOptions({queryKey:e});return this.#e.get(i.queryHash)?.state}removeQueries(e){const i=this.#e;Cn.batch(()=>{i.findAll(e).forEach(l=>{i.remove(l)})})}resetQueries(e,i){const l=this.#e;return Cn.batch(()=>(l.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},i)))}cancelQueries(e,i={}){const l={revert:!0,...i},o=Cn.batch(()=>this.#e.findAll(e).map(d=>d.cancel(l)));return Promise.all(o).then(ia).catch(ia)}invalidateQueries(e,i={}){return Cn.batch(()=>(this.#e.findAll(e).forEach(l=>{l.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},i)))}refetchQueries(e,i={}){const l={...i,cancelRefetch:i.cancelRefetch??!0},o=Cn.batch(()=>this.#e.findAll(e).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let m=d.fetch(void 0,l);return l.throwOnError||(m=m.catch(ia)),d.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(o).then(ia)}fetchQuery(e){const i=this.defaultQueryOptions(e);i.retry===void 0&&(i.retry=!1);const l=this.#e.build(this,i);return l.isStaleByTime(Xs(i.staleTime,l))?l.fetch(i):Promise.resolve(l.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ia).catch(ia)}fetchInfiniteQuery(e){return e.behavior=Ey(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ia).catch(ia)}ensureInfiniteQueryData(e){return e.behavior=Ey(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ed.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,i){this.#i.set(Fr(e),{queryKey:e,defaultOptions:i})}getQueryDefaults(e){const i=[...this.#i.values()],l={};return i.forEach(o=>{Wo(e,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(e,i){this.#a.set(Fr(e),{mutationKey:e,defaultOptions:i})}getMutationDefaults(e){const i=[...this.#a.values()],l={};return i.forEach(o=>{Wo(e,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(e){if(e._defaulted)return e;const i={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return i.queryHash||(i.queryHash=Lf(i.queryKey,i)),i.refetchOnReconnect===void 0&&(i.refetchOnReconnect=i.networkMode!=="always"),i.throwOnError===void 0&&(i.throwOnError=!!i.suspense),!i.networkMode&&i.persister&&(i.networkMode="offlineFirst"),i.queryFn===Pf&&(i.enabled=!1),i}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ev=_.createContext(void 0),qn=e=>{const i=_.useContext(Ev);if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i},pj=({client:e,children:i})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Ev.Provider,{value:e,children:i})),kv=_.createContext(!1),gj=()=>_.useContext(kv);kv.Provider;function xj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yj=_.createContext(xj()),vj=()=>_.useContext(yj),bj=(e,i,l)=>{const o=l?.state.error&&typeof e.throwOnError=="function"?If(e.throwOnError,[l.state.error,l]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||o)&&(i.isReset()||(e.retryOnMount=!1))},_j=e=>{_.useEffect(()=>{e.clearReset()},[e])},Nj=({result:e,errorResetBoundary:i,throwOnError:l,query:o,suspense:d})=>e.isError&&!i.isReset()&&!e.isFetching&&o&&(d&&e.data===void 0||If(l,[e.error,o])),jj=e=>{if(e.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Sj=(e,i)=>e.isLoading&&e.isFetching&&!i,wj=(e,i)=>e?.suspense&&i.isPending,Ty=(e,i,l)=>i.fetchOptimistic(e).catch(()=>{l.clearReset()});function Ej(e,i,l){const o=gj(),d=vj(),m=qn(),f=m.defaultQueryOptions(e);m.getDefaultOptions().queries?._experimental_beforeQuery?.(f);const x=m.getQueryCache().get(f.queryHash);f._optimisticResults=o?"isRestoring":"optimistic",jj(f),bj(f,d,x),_j(d);const v=!m.getQueryCache().get(f.queryHash),[b]=_.useState(()=>new i(m,f)),S=b.getOptimisticResult(f),w=!o&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(C=>{const M=w?b.subscribe(Cn.batchCalls(C)):ia;return b.updateResult(),M},[b,w]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),_.useEffect(()=>{b.setOptions(f)},[f,b]),wj(f,S))throw Ty(f,b,d);if(Nj({result:S,errorResetBoundary:d,throwOnError:f.throwOnError,query:x,suspense:f.suspense}))throw S.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(f,S),f.experimental_prefetchInRender&&!Ur&&Sj(S,o)&&(v?Ty(f,b,d):x?.promise)?.catch(ia).finally(()=>{b.updateResult()}),f.notifyOnChangeProps?S:b.trackResult(S)}function Ue(e,i){return Ej(e,rj)}function Ve(e,i){const l=qn(),[o]=_.useState(()=>new mj(l,e));_.useEffect(()=>{o.setOptions(e)},[o,e]);const d=_.useSyncExternalStore(_.useCallback(f=>o.subscribe(Cn.batchCalls(f)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m=_.useCallback((f,x)=>{o.mutate(f,x).catch(ia)},[o]);if(d.error&&If(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:m,mutateAsync:d.mutate}}var Cy="popstate";function kj(e={}){function i(o,d){let{pathname:m,search:f,hash:x}=o.location;return xf("",{pathname:m,search:f,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:eu(d)}return Cj(i,l,null,e)}function rn(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function Xa(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Tj(){return Math.random().toString(36).substring(2,10)}function Ay(e,i){return{usr:e.state,key:e.key,idx:i}}function xf(e,i,l=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof i=="string"?Ul(i):i,state:l,key:i&&i.key||o||Tj()}}function eu({pathname:e="/",search:i="",hash:l=""}){return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(e+=l.charAt(0)==="#"?l:"#"+l),e}function Ul(e){let i={};if(e){let l=e.indexOf("#");l>=0&&(i.hash=e.substring(l),e=e.substring(0,l));let o=e.indexOf("?");o>=0&&(i.search=e.substring(o),e=e.substring(0,o)),e&&(i.pathname=e)}return i}function Cj(e,i,l,o={}){let{window:d=document.defaultView,v5Compat:m=!1}=o,f=d.history,x="POP",v=null,b=S();b==null&&(b=0,f.replaceState({...f.state,idx:b},""));function S(){return(f.state||{idx:null}).idx}function w(){x="POP";let O=S(),B=O==null?null:O-b;b=O,v&&v({action:x,location:A.location,delta:B})}function C(O,B){x="PUSH";let P=xf(A.location,O,B);b=S()+1;let R=Ay(P,b),G=A.createHref(P);try{f.pushState(R,"",G)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;d.location.assign(G)}m&&v&&v({action:x,location:A.location,delta:1})}function M(O,B){x="REPLACE";let P=xf(A.location,O,B);b=S();let R=Ay(P,b),G=A.createHref(P);f.replaceState(R,"",G),m&&v&&v({action:x,location:A.location,delta:0})}function k(O){return Aj(O)}let A={get action(){return x},get location(){return e(d,f)},listen(O){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(Cy,w),v=O,()=>{d.removeEventListener(Cy,w),v=null}},createHref(O){return i(d,O)},createURL:k,encodeLocation(O){let B=k(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:C,replace:M,go(O){return f.go(O)}};return A}function Aj(e,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),rn(l,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:eu(e);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Tv(e,i,l="/"){return zj(e,i,l,!1)}function zj(e,i,l,o){let d=typeof i=="string"?Ul(i):i,m=ds(d.pathname||"/",l);if(m==null)return null;let f=Cv(e);Mj(f);let x=null;for(let v=0;x==null&&v<f.length;++v){let b=Zj(m);x=Fj(f[v],b,o)}return x}function Cv(e,i=[],l=[],o="",d=!1){let m=(f,x,v=d,b)=>{let S={relativePath:b===void 0?f.path||"":b,caseSensitive:f.caseSensitive===!0,childrenIndex:x,route:f};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&v)return;rn(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=us([o,S.relativePath]),C=l.concat(S);f.children&&f.children.length>0&&(rn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Cv(f.children,i,C,w,v)),!(f.path==null&&!f.index)&&i.push({path:w,score:Bj(w,f.index),routesMeta:C})};return e.forEach((f,x)=>{if(f.path===""||!f.path?.includes("?"))m(f,x);else for(let v of Av(f.path))m(f,x,!0,v)}),i}function Av(e){let i=e.split("/");if(i.length===0)return[];let[l,...o]=i,d=l.endsWith("?"),m=l.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let f=Av(o.join("/")),x=[];return x.push(...f.map(v=>v===""?m:[m,v].join("/"))),d&&x.push(...f),x.map(v=>e.startsWith("/")&&v===""?"/":v)}function Mj(e){e.sort((i,l)=>i.score!==l.score?l.score-i.score:Uj(i.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var Oj=/^:[\w-]+$/,Dj=3,Rj=2,Lj=1,Pj=10,Ij=-2,zy=e=>e==="*";function Bj(e,i){let l=e.split("/"),o=l.length;return l.some(zy)&&(o+=Ij),i&&(o+=Rj),l.filter(d=>!zy(d)).reduce((d,m)=>d+(Oj.test(m)?Dj:m===""?Lj:Pj),o)}function Uj(e,i){return e.length===i.length&&e.slice(0,-1).every((o,d)=>o===i[d])?e[e.length-1]-i[i.length-1]:0}function Fj(e,i,l=!1){let{routesMeta:o}=e,d={},m="/",f=[];for(let x=0;x<o.length;++x){let v=o[x],b=x===o.length-1,S=m==="/"?i:i.slice(m.length)||"/",w=td({path:v.relativePath,caseSensitive:v.caseSensitive,end:b},S),C=v.route;if(!w&&b&&l&&!o[o.length-1].route.index&&(w=td({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),f.push({params:d,pathname:us([m,w.pathname]),pathnameBase:Gj(us([m,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(m=us([m,w.pathnameBase]))}return f}function td(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[l,o]=qj(e.path,e.caseSensitive,e.end),d=i.match(l);if(!d)return null;let m=d[0],f=m.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:o.reduce((b,{paramName:S,isOptional:w},C)=>{if(S==="*"){let k=x[C]||"";f=m.slice(0,m.length-k.length).replace(/(.)\/+$/,"$1")}const M=x[C];return w&&!M?b[S]=void 0:b[S]=(M||"").replace(/%2F/g,"/"),b},{}),pathname:m,pathnameBase:f,pattern:e}}function qj(e,i=!1,l=!0){Xa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],d="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,x,v)=>(o.push({paramName:x,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),d+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":e!==""&&e!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),o]}function Zj(e){try{return e.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Xa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),e}}function ds(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,o=e.charAt(l);return o&&o!=="/"?null:e.slice(l)||"/"}var Hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Kj(e,i="/"){let{pathname:l,search:o="",hash:d=""}=typeof e=="string"?Ul(e):e,m;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?m=My(l.substring(1),"/"):m=My(l,i)):m=i,{pathname:m,search:Vj(o),hash:Yj(d)}}function My(e,i){let l=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function jh(e,i,l,o){return`Cannot include a '${e}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qj(e){return e.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function Ff(e){let i=Qj(e);return i.map((l,o)=>o===i.length-1?l.pathname:l.pathnameBase)}function qf(e,i,l,o=!1){let d;typeof e=="string"?d=Ul(e):(d={...e},rn(!d.pathname||!d.pathname.includes("?"),jh("?","pathname","search",d)),rn(!d.pathname||!d.pathname.includes("#"),jh("#","pathname","hash",d)),rn(!d.search||!d.search.includes("#"),jh("#","search","hash",d)));let m=e===""||d.pathname==="",f=m?"/":d.pathname,x;if(f==null)x=l;else{let w=i.length-1;if(!o&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),w-=1;d.pathname=C.join("/")}x=w>=0?i[w]:"/"}let v=Kj(d,x),b=f&&f!=="/"&&f.endsWith("/"),S=(m||f===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(b||S)&&(v.pathname+="/"),v}var us=e=>e.join("/").replace(/\/\/+/g,"/"),Gj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$j=class{constructor(e,i,l,o=!1){this.status=e,this.statusText=i||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Xj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Jj(e){return e.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mv(e,i){let l=e;if(typeof l!="string"||!Hj.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(zv)try{let m=new URL(window.location.href),f=l.startsWith("//")?new URL(m.protocol+l):new URL(l),x=ds(f.pathname,i);f.origin===m.origin&&x!=null?l=x+f.search+f.hash:d=!0}catch{Xa(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ov=["POST","PUT","PATCH","DELETE"];new Set(Ov);var Wj=["GET",...Ov];new Set(Wj);var Fl=_.createContext(null);Fl.displayName="DataRouter";var md=_.createContext(null);md.displayName="DataRouterState";var eS=_.createContext(!1),Dv=_.createContext({isTransitioning:!1});Dv.displayName="ViewTransition";var tS=_.createContext(new Map);tS.displayName="Fetchers";var nS=_.createContext(null);nS.displayName="Await";var Oa=_.createContext(null);Oa.displayName="Navigation";var iu=_.createContext(null);iu.displayName="Location";var Wa=_.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var Zf=_.createContext(null);Zf.displayName="RouteError";var Rv="REACT_ROUTER_ERROR",aS="REDIRECT",iS="ROUTE_ERROR_RESPONSE";function sS(e){if(e.startsWith(`${Rv}:${aS}:{`))try{let i=JSON.parse(e.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function rS(e){if(e.startsWith(`${Rv}:${iS}:{`))try{let i=JSON.parse(e.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new $j(i.status,i.statusText,i.data)}catch{}}function lS(e,{relative:i}={}){rn(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=_.useContext(Oa),{hash:d,pathname:m,search:f}=su(e,{relative:i}),x=m;return l!=="/"&&(x=m==="/"?l:us([l,m])),o.createHref({pathname:x,search:f,hash:d})}function ql(){return _.useContext(iu)!=null}function ei(){return rn(ql(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(iu).location}var Lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pv(e){_.useContext(Oa).static||_.useLayoutEffect(e)}function Zl(){let{isDataRoute:e}=_.useContext(Wa);return e?jS():oS()}function oS(){rn(ql(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Fl),{basename:i,navigator:l}=_.useContext(Oa),{matches:o}=_.useContext(Wa),{pathname:d}=ei(),m=JSON.stringify(Ff(o)),f=_.useRef(!1);return Pv(()=>{f.current=!0}),_.useCallback((v,b={})=>{if(Xa(f.current,Lv),!f.current)return;if(typeof v=="number"){l.go(v);return}let S=qf(v,JSON.parse(m),d,b.relative==="path");e==null&&i!=="/"&&(S.pathname=S.pathname==="/"?i:us([i,S.pathname])),(b.replace?l.replace:l.push)(S,b.state,b)},[i,l,m,d,e])}var uS=_.createContext(null);function cS(e){let i=_.useContext(Wa).outlet;return _.useMemo(()=>i&&_.createElement(uS.Provider,{value:e},i),[i,e])}function dS(){let{matches:e}=_.useContext(Wa),i=e[e.length-1];return i?i.params:{}}function su(e,{relative:i}={}){let{matches:l}=_.useContext(Wa),{pathname:o}=ei(),d=JSON.stringify(Ff(l));return _.useMemo(()=>qf(e,JSON.parse(d),o,i==="path"),[e,d,o,i])}function mS(e,i){return Iv(e,i)}function Iv(e,i,l,o,d){rn(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=_.useContext(Oa),{matches:f}=_.useContext(Wa),x=f[f.length-1],v=x?x.params:{},b=x?x.pathname:"/",S=x?x.pathnameBase:"/",w=x&&x.route;{let P=w&&w.path||"";Uv(b,!w||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let C=ei(),M;if(i){let P=typeof i=="string"?Ul(i):i;rn(S==="/"||P.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${P.pathname}" was given in the \`location\` prop.`),M=P}else M=C;let k=M.pathname||"/",A=k;if(S!=="/"){let P=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let O=Tv(e,{pathname:A});Xa(w||O!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Xa(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=xS(O&&O.map(P=>Object.assign({},P,{params:Object.assign({},v,P.params),pathname:us([S,m.encodeLocation?m.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?S:us([S,m.encodeLocation?m.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),f,l,o,d);return i&&B?_.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},B):B}function hS(){let e=NS(),i=Xj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),l=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:m},"ErrorBoundary")," or"," ",_.createElement("code",{style:m},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},i),l?_.createElement("pre",{style:d},l):null,f)}var fS=_.createElement(hS,null),Bv=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){this.props.onError?this.props.onError(e,i):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const l=rS(e.digest);l&&(e=l)}let i=e!==void 0?_.createElement(Wa.Provider,{value:this.props.routeContext},_.createElement(Zf.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(pS,{error:e},i):i}};Bv.contextType=eS;var Sh=new WeakMap;function pS({children:e,error:i}){let{basename:l}=_.useContext(Oa);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=sS(i.digest);if(o){let d=Sh.get(i);if(d)throw d;let m=Mv(o.location,l);if(zv&&!Sh.get(i))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw Sh.set(i,f),f}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return e}function gS({routeContext:e,match:i,children:l}){let o=_.useContext(Fl);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),_.createElement(Wa.Provider,{value:e},l)}function xS(e,i=[],l=null,o=null,d=null){if(e==null){if(!l)return null;if(l.errors)e=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)e=l.matches;else return null}let m=e,f=l?.errors;if(f!=null){let S=m.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);rn(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let x=!1,v=-1;if(l)for(let S=0;S<m.length;S++){let w=m[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:C,errors:M}=l,k=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!M||M[w.route.id]===void 0);if(w.route.lazy||k){x=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}let b=l&&o?(S,w)=>{o(S,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:Jj(l.matches),errorInfo:w})}:void 0;return m.reduceRight((S,w,C)=>{let M,k=!1,A=null,O=null;l&&(M=f&&w.route.id?f[w.route.id]:void 0,A=w.route.errorElement||fS,x&&(v<0&&C===0?(Uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,O=null):v===C&&(k=!0,O=w.route.hydrateFallbackElement||null)));let B=i.concat(m.slice(0,C+1)),P=()=>{let R;return M?R=A:k?R=O:w.route.Component?R=_.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=S,_.createElement(gS,{match:w,routeContext:{outlet:S,matches:B,isDataRoute:l!=null},children:R})};return l&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?_.createElement(Bv,{location:l.location,revalidation:l.revalidation,component:A,error:M,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:b}):P()},null)}function Hf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(e){let i=_.useContext(Fl);return rn(i,Hf(e)),i}function vS(e){let i=_.useContext(md);return rn(i,Hf(e)),i}function bS(e){let i=_.useContext(Wa);return rn(i,Hf(e)),i}function Kf(e){let i=bS(e),l=i.matches[i.matches.length-1];return rn(l.route.id,`${e} can only be used on routes that contain a unique "id"`),l.route.id}function _S(){return Kf("useRouteId")}function NS(){let e=_.useContext(Zf),i=vS("useRouteError"),l=Kf("useRouteError");return e!==void 0?e:i.errors?.[l]}function jS(){let{router:e}=yS("useNavigate"),i=Kf("useNavigate"),l=_.useRef(!1);return Pv(()=>{l.current=!0}),_.useCallback(async(d,m={})=>{Xa(l.current,Lv),l.current&&(typeof d=="number"?await e.navigate(d):await e.navigate(d,{fromRouteId:i,...m}))},[e,i])}var Oy={};function Uv(e,i,l){!i&&!Oy[e]&&(Oy[e]=!0,Xa(!1,l))}_.memo(SS);function SS({routes:e,future:i,state:l,onError:o}){return Iv(e,void 0,l,o,i)}function Qf({to:e,replace:i,state:l,relative:o}){rn(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=_.useContext(Oa);Xa(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=_.useContext(Wa),{pathname:f}=ei(),x=Zl(),v=qf(e,Ff(m),f,o==="path"),b=JSON.stringify(v);return _.useEffect(()=>{x(JSON.parse(b),{replace:i,state:l,relative:o})},[x,b,o,i,l]),null}function Gf(e){return cS(e.context)}function qt(e){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wS({basename:e="/",children:i=null,location:l,navigationType:o="POP",navigator:d,static:m=!1,unstable_useTransitions:f}){rn(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=e.replace(/^\/*/,"/"),v=_.useMemo(()=>({basename:x,navigator:d,static:m,unstable_useTransitions:f,future:{}}),[x,d,m,f]);typeof l=="string"&&(l=Ul(l));let{pathname:b="/",search:S="",hash:w="",state:C=null,key:M="default"}=l,k=_.useMemo(()=>{let A=ds(b,x);return A==null?null:{location:{pathname:A,search:S,hash:w,state:C,key:M},navigationType:o}},[x,b,S,w,C,M,o]);return Xa(k!=null,`<Router basename="${x}"> is not able to match the URL "${b}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Oa.Provider,{value:v},_.createElement(iu.Provider,{children:i,value:k}))}function ES({children:e,location:i}){return mS(yf(e),i)}function yf(e,i=[]){let l=[];return _.Children.forEach(e,(o,d)=>{if(!_.isValidElement(o))return;let m=[...i,d];if(o.type===_.Fragment){l.push.apply(l,yf(o.props.children,m));return}rn(o.type===qt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=yf(o.props.children,m)),l.push(f)}),l}var Gc="get",Vc="application/x-www-form-urlencoded";function hd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function kS(e){return hd(e)&&e.tagName.toLowerCase()==="button"}function TS(e){return hd(e)&&e.tagName.toLowerCase()==="form"}function CS(e){return hd(e)&&e.tagName.toLowerCase()==="input"}function AS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zS(e,i){return e.button===0&&(!i||i==="_self")&&!AS(e)}function vf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((i,l)=>{let o=e[l];return i.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function MS(e,i){let l=vf(e);return i&&i.forEach((o,d)=>{l.has(d)||i.getAll(d).forEach(m=>{l.append(d,m)})}),l}var zc=null;function OS(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var DS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wh(e){return e!=null&&!DS.has(e)?(Xa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):e}function RS(e,i){let l,o,d,m,f;if(TS(e)){let x=e.getAttribute("action");o=x?ds(x,i):null,l=e.getAttribute("method")||Gc,d=wh(e.getAttribute("enctype"))||Vc,m=new FormData(e)}else if(kS(e)||CS(e)&&(e.type==="submit"||e.type==="image")){let x=e.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=e.getAttribute("formaction")||x.getAttribute("action");if(o=v?ds(v,i):null,l=e.getAttribute("formmethod")||x.getAttribute("method")||Gc,d=wh(e.getAttribute("formenctype"))||wh(x.getAttribute("enctype"))||Vc,m=new FormData(x,e),!OS()){let{name:b,type:S,value:w}=e;if(S==="image"){let C=b?`${b}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else b&&m.append(b,w)}}else{if(hd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Gc,o=null,d=Vc,f=e}return m&&d==="text/plain"&&(f=m,m=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vf(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function LS(e,i,l,o){let d=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:i&&ds(d.pathname,i)==="/"?d.pathname=`${i.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function PS(e,i){if(e.id in i)return i[e.id];try{let l=await import(e.module);return i[e.id]=l,l}catch(l){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BS(e,i,l){let o=await Promise.all(e.map(async d=>{let m=i.routes[d.route.id];if(m){let f=await PS(m,l);return f.links?f.links():[]}return[]}));return ZS(o.flat(1).filter(IS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Dy(e,i,l,o,d,m){let f=(v,b)=>l[b]?v.route.id!==l[b].route.id:!0,x=(v,b)=>l[b].pathname!==v.pathname||l[b].route.path?.endsWith("*")&&l[b].params["*"]!==v.params["*"];return m==="assets"?i.filter((v,b)=>f(v,b)||x(v,b)):m==="data"?i.filter((v,b)=>{let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(f(v,b)||x(v,b))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function US(e,i,{includeHydrateFallback:l}={}){return FS(e.map(o=>{let d=i.routes[o.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function FS(e){return[...new Set(e)]}function qS(e){let i={},l=Object.keys(e).sort();for(let o of l)i[o]=e[o];return i}function ZS(e,i){let l=new Set;return new Set(i),e.reduce((o,d)=>{let m=JSON.stringify(qS(d));return l.has(m)||(l.add(m),o.push({key:m,link:d})),o},[])}function Fv(){let e=_.useContext(Fl);return Vf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HS(){let e=_.useContext(md);return Vf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yf=_.createContext(void 0);Yf.displayName="FrameworkContext";function qv(){let e=_.useContext(Yf);return Vf(e,"You must render this element inside a <HydratedRouter> element"),e}function KS(e,i){let l=_.useContext(Yf),[o,d]=_.useState(!1),[m,f]=_.useState(!1),{onFocus:x,onBlur:v,onMouseEnter:b,onMouseLeave:S,onTouchStart:w}=i,C=_.useRef(null);_.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let A=B=>{B.forEach(P=>{f(P.isIntersecting)})},O=new IntersectionObserver(A,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[e]),_.useEffect(()=>{if(o){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[o]);let M=()=>{d(!0)},k=()=>{d(!1),f(!1)};return l?e!=="intent"?[m,C,{}]:[m,C,{onFocus:Qo(x,M),onBlur:Qo(v,k),onMouseEnter:Qo(b,M),onMouseLeave:Qo(S,k),onTouchStart:Qo(w,M)}]:[!1,C,{}]}function Qo(e,i){return l=>{e&&e(l),l.defaultPrevented||i(l)}}function QS({page:e,...i}){let{router:l}=Fv(),o=_.useMemo(()=>Tv(l.routes,e,l.basename),[l.routes,e,l.basename]);return o?_.createElement(VS,{page:e,matches:o,...i}):null}function GS(e){let{manifest:i,routeModules:l}=qv(),[o,d]=_.useState([]);return _.useEffect(()=>{let m=!1;return BS(e,i,l).then(f=>{m||d(f)}),()=>{m=!0}},[e,i,l]),o}function VS({page:e,matches:i,...l}){let o=ei(),{future:d,manifest:m,routeModules:f}=qv(),{basename:x}=Fv(),{loaderData:v,matches:b}=HS(),S=_.useMemo(()=>Dy(e,i,b,m,o,"data"),[e,i,b,m,o]),w=_.useMemo(()=>Dy(e,i,b,m,o,"assets"),[e,i,b,m,o]),C=_.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let A=new Set,O=!1;if(i.forEach(P=>{let R=m.routes[P.route.id];!R||!R.hasLoader||(!S.some(G=>G.route.id===P.route.id)&&P.route.id in v&&f[P.route.id]?.shouldRevalidate||R.hasClientLoader?O=!0:A.add(P.route.id))}),A.size===0)return[];let B=LS(e,x,d.unstable_trailingSlashAwareDataRequests,"data");return O&&A.size>0&&B.searchParams.set("_routes",i.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[B.pathname+B.search]},[x,d.unstable_trailingSlashAwareDataRequests,v,o,m,S,i,e,f]),M=_.useMemo(()=>US(w,m),[w,m]),k=GS(w);return _.createElement(_.Fragment,null,C.map(A=>_.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),M.map(A=>_.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),k.map(({key:A,link:O})=>_.createElement("link",{key:A,nonce:l.nonce,...O,crossOrigin:O.crossOrigin??l.crossOrigin})))}function YS(...e){return i=>{e.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var $S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$S&&(window.__reactRouterVersion="7.13.0")}catch{}function XS({basename:e,children:i,unstable_useTransitions:l,window:o}){let d=_.useRef();d.current==null&&(d.current=kj({window:o,v5Compat:!0}));let m=d.current,[f,x]=_.useState({action:m.action,location:m.location}),v=_.useCallback(b=>{l===!1?x(b):_.startTransition(()=>x(b))},[l]);return _.useLayoutEffect(()=>m.listen(v),[m,v]),_.createElement(wS,{basename:e,children:i,location:f.location,navigationType:f.action,navigator:m,unstable_useTransitions:l})}var Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=_.forwardRef(function({onClick:i,discover:l="render",prefetch:o="none",relative:d,reloadDocument:m,replace:f,state:x,target:v,to:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...M},k){let{basename:A,unstable_useTransitions:O}=_.useContext(Oa),B=typeof b=="string"&&Zv.test(b),P=Mv(b,A);b=P.to;let R=lS(b,{relative:d}),[G,V,W]=KS(o,M),Z=ew(b,{replace:f,state:x,target:v,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:C,unstable_useTransitions:O});function Y(fe){i&&i(fe),fe.defaultPrevented||Z(fe)}let te=_.createElement("a",{...M,...W,href:P.absoluteURL||R,onClick:P.isExternal||m?i:Y,ref:YS(k,V),target:v,"data-discover":!B&&l==="render"?"true":void 0});return G&&!B?_.createElement(_.Fragment,null,te,_.createElement(QS,{page:R})):te});fi.displayName="Link";var Hv=_.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:o="",end:d=!1,style:m,to:f,viewTransition:x,children:v,...b},S){let w=su(f,{relative:b.relative}),C=ei(),M=_.useContext(md),{navigator:k,basename:A}=_.useContext(Oa),O=M!=null&&sw(w)&&x===!0,B=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,P=C.pathname,R=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;l||(P=P.toLowerCase(),R=R?R.toLowerCase():null,B=B.toLowerCase()),R&&A&&(R=ds(R,A)||R);const G=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let V=P===B||!d&&P.startsWith(B)&&P.charAt(G)==="/",W=R!=null&&(R===B||!d&&R.startsWith(B)&&R.charAt(B.length)==="/"),Z={isActive:V,isPending:W,isTransitioning:O},Y=V?i:void 0,te;typeof o=="function"?te=o(Z):te=[o,V?"active":null,W?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let fe=typeof m=="function"?m(Z):m;return _.createElement(fi,{...b,"aria-current":Y,className:te,ref:S,style:fe,to:f,viewTransition:x},typeof v=="function"?v(Z):v)});Hv.displayName="NavLink";var JS=_.forwardRef(({discover:e="render",fetcherKey:i,navigate:l,reloadDocument:o,replace:d,state:m,method:f=Gc,action:x,onSubmit:v,relative:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...M},k)=>{let{unstable_useTransitions:A}=_.useContext(Oa),O=aw(),B=iw(x,{relative:b}),P=f.toLowerCase()==="get"?"get":"post",R=typeof x=="string"&&Zv.test(x),G=V=>{if(v&&v(V),V.defaultPrevented)return;V.preventDefault();let W=V.nativeEvent.submitter,Z=W?.getAttribute("formmethod")||f,Y=()=>O(W||V.currentTarget,{fetcherKey:i,method:Z,navigate:l,replace:d,state:m,relative:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C});A&&l!==!1?_.startTransition(()=>Y()):Y()};return _.createElement("form",{ref:k,method:P,action:B,onSubmit:o?v:G,...M,"data-discover":!R&&e==="render"?"true":void 0})});JS.displayName="Form";function WS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(e){let i=_.useContext(Fl);return rn(i,WS(e)),i}function ew(e,{target:i,replace:l,state:o,preventScrollReset:d,relative:m,viewTransition:f,unstable_defaultShouldRevalidate:x,unstable_useTransitions:v}={}){let b=Zl(),S=ei(),w=su(e,{relative:m});return _.useCallback(C=>{if(zS(C,i)){C.preventDefault();let M=l!==void 0?l:eu(S)===eu(w),k=()=>b(e,{replace:M,state:o,preventScrollReset:d,relative:m,viewTransition:f,unstable_defaultShouldRevalidate:x});v?_.startTransition(()=>k()):k()}},[S,b,w,l,o,i,e,d,m,f,x,v])}function fd(e){Xa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=_.useRef(vf(e)),l=_.useRef(!1),o=ei(),d=_.useMemo(()=>MS(o.search,l.current?null:i.current),[o.search]),m=Zl(),f=_.useCallback((x,v)=>{const b=vf(typeof x=="function"?x(new URLSearchParams(d)):x);l.current=!0,m("?"+b,v)},[m,d]);return[d,f]}var tw=0,nw=()=>`__${String(++tw)}__`;function aw(){let{router:e}=Kv("useSubmit"),{basename:i}=_.useContext(Oa),l=_S(),o=e.fetch,d=e.navigate;return _.useCallback(async(m,f={})=>{let{action:x,method:v,encType:b,formData:S,body:w}=RS(m,i);if(f.navigate===!1){let C=f.fetcherKey||nw();await o(C,l,f.action||x,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:S,body:w,formMethod:f.method||v,formEncType:f.encType||b,flushSync:f.flushSync})}else await d(f.action||x,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:S,body:w,formMethod:f.method||v,formEncType:f.encType||b,replace:f.replace,state:f.state,fromRouteId:l,flushSync:f.flushSync,viewTransition:f.viewTransition})},[o,d,i,l])}function iw(e,{relative:i}={}){let{basename:l}=_.useContext(Oa),o=_.useContext(Wa);rn(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),m={...su(e||".",{relative:i})},f=ei();if(e==null){m.search=f.search;let x=new URLSearchParams(m.search),v=x.getAll("index");if(v.some(S=>S==="")){x.delete("index"),v.filter(w=>w).forEach(w=>x.append("index",w));let S=x.toString();m.search=S?`?${S}`:""}}return(!e||e===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:us([l,m.pathname])),eu(m)}function sw(e,{relative:i}={}){let l=_.useContext(Dv);rn(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Kv("useViewTransitionState"),d=su(e,{relative:i});if(!l.isTransitioning)return!1;let m=ds(l.currentLocation.pathname,o)||l.currentLocation.pathname,f=ds(l.nextLocation.pathname,o)||l.nextLocation.pathname;return td(d.pathname,f)!=null||td(d.pathname,m)!=null}function Qv(e,i){return function(){return e.apply(i,arguments)}}const{toString:rw}=Object.prototype,{getPrototypeOf:$f}=Object,{iterator:pd,toStringTag:Gv}=Symbol,gd=(e=>i=>{const l=rw.call(i);return e[l]||(e[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),pi=e=>(e=e.toLowerCase(),i=>gd(i)===e),xd=e=>i=>typeof i===e,{isArray:Hl}=Array,Il=xd("undefined");function ru(e){return e!==null&&!Il(e)&&e.constructor!==null&&!Il(e.constructor)&&ya(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vv=pi("ArrayBuffer");function lw(e){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(e):i=e&&e.buffer&&Vv(e.buffer),i}const ow=xd("string"),ya=xd("function"),Yv=xd("number"),lu=e=>e!==null&&typeof e=="object",uw=e=>e===!0||e===!1,Yc=e=>{if(gd(e)!=="object")return!1;const i=$f(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Gv in e)&&!(pd in e)},cw=e=>{if(!lu(e)||ru(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dw=pi("Date"),mw=pi("File"),hw=pi("Blob"),fw=pi("FileList"),pw=e=>lu(e)&&ya(e.pipe),gw=e=>{let i;return e&&(typeof FormData=="function"&&e instanceof FormData||ya(e.append)&&((i=gd(e))==="formdata"||i==="object"&&ya(e.toString)&&e.toString()==="[object FormData]"))},xw=pi("URLSearchParams"),[yw,vw,bw,_w]=["ReadableStream","Request","Response","Headers"].map(pi),Nw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ou(e,i,{allOwnKeys:l=!1}={}){if(e===null||typeof e>"u")return;let o,d;if(typeof e!="object"&&(e=[e]),Hl(e))for(o=0,d=e.length;o<d;o++)i.call(null,e[o],o,e);else{if(ru(e))return;const m=l?Object.getOwnPropertyNames(e):Object.keys(e),f=m.length;let x;for(o=0;o<f;o++)x=m[o],i.call(null,e[x],x,e)}}function $v(e,i){if(ru(e))return null;i=i.toLowerCase();const l=Object.keys(e);let o=l.length,d;for(;o-- >0;)if(d=l[o],i===d.toLowerCase())return d;return null}const Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xv=e=>!Il(e)&&e!==Ir;function bf(){const{caseless:e,skipUndefined:i}=Xv(this)&&this||{},l={},o=(d,m)=>{const f=e&&$v(l,m)||m;Yc(l[f])&&Yc(d)?l[f]=bf(l[f],d):Yc(d)?l[f]=bf({},d):Hl(d)?l[f]=d.slice():(!i||!Il(d))&&(l[f]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&ou(arguments[d],o);return l}const jw=(e,i,l,{allOwnKeys:o}={})=>(ou(i,(d,m)=>{l&&ya(d)?Object.defineProperty(e,m,{value:Qv(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),e),Sw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ww=(e,i,l,o)=>{e.prototype=Object.create(i.prototype,o),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:i.prototype}),l&&Object.assign(e.prototype,l)},Ew=(e,i,l,o)=>{let d,m,f;const x={};if(i=i||{},e==null)return i;do{for(d=Object.getOwnPropertyNames(e),m=d.length;m-- >0;)f=d[m],(!o||o(f,e,i))&&!x[f]&&(i[f]=e[f],x[f]=!0);e=l!==!1&&$f(e)}while(e&&(!l||l(e,i))&&e!==Object.prototype);return i},kw=(e,i,l)=>{e=String(e),(l===void 0||l>e.length)&&(l=e.length),l-=i.length;const o=e.indexOf(i,l);return o!==-1&&o===l},Tw=e=>{if(!e)return null;if(Hl(e))return e;let i=e.length;if(!Yv(i))return null;const l=new Array(i);for(;i-- >0;)l[i]=e[i];return l},Cw=(e=>i=>e&&i instanceof e)(typeof Uint8Array<"u"&&$f(Uint8Array)),Aw=(e,i)=>{const o=(e&&e[pd]).call(e);let d;for(;(d=o.next())&&!d.done;){const m=d.value;i.call(e,m[0],m[1])}},zw=(e,i)=>{let l;const o=[];for(;(l=e.exec(i))!==null;)o.push(l);return o},Mw=pi("HTMLFormElement"),Ow=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),Ry=(({hasOwnProperty:e})=>(i,l)=>e.call(i,l))(Object.prototype),Dw=pi("RegExp"),Jv=(e,i)=>{const l=Object.getOwnPropertyDescriptors(e),o={};ou(l,(d,m)=>{let f;(f=i(d,m,e))!==!1&&(o[m]=f||d)}),Object.defineProperties(e,o)},Rw=e=>{Jv(e,(i,l)=>{if(ya(e)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=e[l];if(ya(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Lw=(e,i)=>{const l={},o=d=>{d.forEach(m=>{l[m]=!0})};return Hl(e)?o(e):o(String(e).split(i)),l},Pw=()=>{},Iw=(e,i)=>e!=null&&Number.isFinite(e=+e)?e:i;function Bw(e){return!!(e&&ya(e.append)&&e[Gv]==="FormData"&&e[pd])}const Uw=e=>{const i=new Array(10),l=(o,d)=>{if(lu(o)){if(i.indexOf(o)>=0)return;if(ru(o))return o;if(!("toJSON"in o)){i[d]=o;const m=Hl(o)?[]:{};return ou(o,(f,x)=>{const v=l(f,d+1);!Il(v)&&(m[x]=v)}),i[d]=void 0,m}}return o};return l(e,0)},Fw=pi("AsyncFunction"),qw=e=>e&&(lu(e)||ya(e))&&ya(e.then)&&ya(e.catch),Wv=((e,i)=>e?setImmediate:i?((l,o)=>(Ir.addEventListener("message",({source:d,data:m})=>{d===Ir&&m===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Ir.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",ya(Ir.postMessage)),Zw=typeof queueMicrotask<"u"?queueMicrotask.bind(Ir):typeof process<"u"&&process.nextTick||Wv,Hw=e=>e!=null&&ya(e[pd]),ve={isArray:Hl,isArrayBuffer:Vv,isBuffer:ru,isFormData:gw,isArrayBufferView:lw,isString:ow,isNumber:Yv,isBoolean:uw,isObject:lu,isPlainObject:Yc,isEmptyObject:cw,isReadableStream:yw,isRequest:vw,isResponse:bw,isHeaders:_w,isUndefined:Il,isDate:dw,isFile:mw,isBlob:hw,isRegExp:Dw,isFunction:ya,isStream:pw,isURLSearchParams:xw,isTypedArray:Cw,isFileList:fw,forEach:ou,merge:bf,extend:jw,trim:Nw,stripBOM:Sw,inherits:ww,toFlatObject:Ew,kindOf:gd,kindOfTest:pi,endsWith:kw,toArray:Tw,forEachEntry:Aw,matchAll:zw,isHTMLForm:Mw,hasOwnProperty:Ry,hasOwnProp:Ry,reduceDescriptors:Jv,freezeMethods:Rw,toObjectSet:Lw,toCamelCase:Ow,noop:Pw,toFiniteNumber:Iw,findKey:$v,global:Ir,isContextDefined:Xv,isSpecCompliantForm:Bw,toJSONObject:Uw,isAsyncFn:Fw,isThenable:qw,setImmediate:Wv,asap:Zw,isIterable:Hw};let at=class eb extends Error{static from(i,l,o,d,m,f){const x=new eb(i.message,l||i.code,o,d,m);return x.cause=i,x.name=i.name,f&&Object.assign(x,f),x}constructor(i,l,o,d,m){super(i),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}};at.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";at.ERR_BAD_OPTION="ERR_BAD_OPTION";at.ECONNABORTED="ECONNABORTED";at.ETIMEDOUT="ETIMEDOUT";at.ERR_NETWORK="ERR_NETWORK";at.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";at.ERR_DEPRECATED="ERR_DEPRECATED";at.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";at.ERR_BAD_REQUEST="ERR_BAD_REQUEST";at.ERR_CANCELED="ERR_CANCELED";at.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";at.ERR_INVALID_URL="ERR_INVALID_URL";const Kw=null;function _f(e){return ve.isPlainObject(e)||ve.isArray(e)}function tb(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function Ly(e,i,l){return e?e.concat(i).map(function(d,m){return d=tb(d),!l&&m?"["+d+"]":d}).join(l?".":""):i}function Qw(e){return ve.isArray(e)&&!e.some(_f)}const Gw=ve.toFlatObject(ve,{},null,function(i){return/^is[A-Z]/.test(i)});function yd(e,i,l){if(!ve.isObject(e))throw new TypeError("target must be an object");i=i||new FormData,l=ve.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,O){return!ve.isUndefined(O[A])});const o=l.metaTokens,d=l.visitor||S,m=l.dots,f=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(i);if(!ve.isFunction(d))throw new TypeError("visitor must be a function");function b(k){if(k===null)return"";if(ve.isDate(k))return k.toISOString();if(ve.isBoolean(k))return k.toString();if(!v&&ve.isBlob(k))throw new at("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(k)||ve.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,O){let B=k;if(k&&!O&&typeof k=="object"){if(ve.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(ve.isArray(k)&&Qw(k)||(ve.isFileList(k)||ve.endsWith(A,"[]"))&&(B=ve.toArray(k)))return A=tb(A),B.forEach(function(R,G){!(ve.isUndefined(R)||R===null)&&i.append(f===!0?Ly([A],G,m):f===null?A:A+"[]",b(R))}),!1}return _f(k)?!0:(i.append(Ly(O,A,m),b(k)),!1)}const w=[],C=Object.assign(Gw,{defaultVisitor:S,convertValue:b,isVisitable:_f});function M(k,A){if(!ve.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),ve.forEach(k,function(B,P){(!(ve.isUndefined(B)||B===null)&&d.call(i,B,ve.isString(P)?P.trim():P,A,C))===!0&&M(B,A?A.concat(P):[P])}),w.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return M(e),i}function Py(e){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function Xf(e,i){this._pairs=[],e&&yd(e,this,i)}const nb=Xf.prototype;nb.append=function(i,l){this._pairs.push([i,l])};nb.toString=function(i){const l=i?function(o){return i.call(this,o,Py)}:Py;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Vw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ab(e,i,l){if(!i)return e;const o=l&&l.encode||Vw,d=ve.isFunction(l)?{serialize:l}:l,m=d&&d.serialize;let f;if(m?f=m(i,d):f=ve.isURLSearchParams(i)?i.toString():new Xf(i,d).toString(o),f){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class Iy{constructor(){this.handlers=[]}use(i,l,o){return this.handlers.push({fulfilled:i,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){ve.forEach(this.handlers,function(o){o!==null&&i(o)})}}const ib={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yw=typeof URLSearchParams<"u"?URLSearchParams:Xf,$w=typeof FormData<"u"?FormData:null,Xw=typeof Blob<"u"?Blob:null,Jw={isBrowser:!0,classes:{URLSearchParams:Yw,FormData:$w,Blob:Xw},protocols:["http","https","file","blob","url","data"]},Jf=typeof window<"u"&&typeof document<"u",Nf=typeof navigator=="object"&&navigator||void 0,Ww=Jf&&(!Nf||["ReactNative","NativeScript","NS"].indexOf(Nf.product)<0),e2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",t2=Jf&&window.location.href||"http://localhost",n2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jf,hasStandardBrowserEnv:Ww,hasStandardBrowserWebWorkerEnv:e2,navigator:Nf,origin:t2},Symbol.toStringTag,{value:"Module"})),$n={...n2,...Jw};function a2(e,i){return yd(e,new $n.classes.URLSearchParams,{visitor:function(l,o,d,m){return $n.isNode&&ve.isBuffer(l)?(this.append(o,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...i})}function i2(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(i=>i[0]==="[]"?"":i[1]||i[0])}function s2(e){const i={},l=Object.keys(e);let o;const d=l.length;let m;for(o=0;o<d;o++)m=l[o],i[m]=e[m];return i}function sb(e){function i(l,o,d,m){let f=l[m++];if(f==="__proto__")return!0;const x=Number.isFinite(+f),v=m>=l.length;return f=!f&&ve.isArray(d)?d.length:f,v?(ve.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!x):((!d[f]||!ve.isObject(d[f]))&&(d[f]=[]),i(l,o,d[f],m)&&ve.isArray(d[f])&&(d[f]=s2(d[f])),!x)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const l={};return ve.forEachEntry(e,(o,d)=>{i(i2(o),d,l,0)}),l}return null}function r2(e,i,l){if(ve.isString(e))try{return(i||JSON.parse)(e),ve.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(e)}const uu={transitional:ib,adapter:["xhr","http","fetch"],transformRequest:[function(i,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,m=ve.isObject(i);if(m&&ve.isHTMLForm(i)&&(i=new FormData(i)),ve.isFormData(i))return d?JSON.stringify(sb(i)):i;if(ve.isArrayBuffer(i)||ve.isBuffer(i)||ve.isStream(i)||ve.isFile(i)||ve.isBlob(i)||ve.isReadableStream(i))return i;if(ve.isArrayBufferView(i))return i.buffer;if(ve.isURLSearchParams(i))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let x;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return a2(i,this.formSerializer).toString();if((x=ve.isFileList(i))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return yd(x?{"files[]":i}:i,v&&new v,this.formSerializer)}}return m||d?(l.setContentType("application/json",!1),r2(i)):i}],transformResponse:[function(i){const l=this.transitional||uu.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(ve.isResponse(i)||ve.isReadableStream(i))return i;if(i&&ve.isString(i)&&(o&&!this.responseType||d)){const f=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(i,this.parseReviver)}catch(x){if(f)throw x.name==="SyntaxError"?at.from(x,at.ERR_BAD_RESPONSE,this,null,this.response):x}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{uu.headers[e]={}});const l2=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o2=e=>{const i={};let l,o,d;return e&&e.split(`
`).forEach(function(f){d=f.indexOf(":"),l=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!l||i[l]&&l2[l])&&(l==="set-cookie"?i[l]?i[l].push(o):i[l]=[o]:i[l]=i[l]?i[l]+", "+o:o)}),i},By=Symbol("internals");function Go(e){return e&&String(e).trim().toLowerCase()}function $c(e){return e===!1||e==null?e:ve.isArray(e)?e.map($c):String(e)}function u2(e){const i=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(e);)i[o[1]]=o[2];return i}const c2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Eh(e,i,l,o,d){if(ve.isFunction(o))return o.call(this,i,l);if(d&&(i=l),!!ve.isString(i)){if(ve.isString(o))return i.indexOf(o)!==-1;if(ve.isRegExp(o))return o.test(i)}}function d2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,l,o)=>l.toUpperCase()+o)}function m2(e,i){const l=ve.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+l,{value:function(d,m,f){return this[o].call(this,i,d,m,f)},configurable:!0})})}let va=class{constructor(i){i&&this.set(i)}set(i,l,o){const d=this;function m(x,v,b){const S=Go(v);if(!S)throw new Error("header name must be a non-empty string");const w=ve.findKey(d,S);(!w||d[w]===void 0||b===!0||b===void 0&&d[w]!==!1)&&(d[w||v]=$c(x))}const f=(x,v)=>ve.forEach(x,(b,S)=>m(b,S,v));if(ve.isPlainObject(i)||i instanceof this.constructor)f(i,l);else if(ve.isString(i)&&(i=i.trim())&&!c2(i))f(o2(i),l);else if(ve.isObject(i)&&ve.isIterable(i)){let x={},v,b;for(const S of i){if(!ve.isArray(S))throw TypeError("Object iterator must return a key-value pair");x[b=S[0]]=(v=x[b])?ve.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}f(x,l)}else i!=null&&m(l,i,o);return this}get(i,l){if(i=Go(i),i){const o=ve.findKey(this,i);if(o){const d=this[o];if(!l)return d;if(l===!0)return u2(d);if(ve.isFunction(l))return l.call(this,d,o);if(ve.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,l){if(i=Go(i),i){const o=ve.findKey(this,i);return!!(o&&this[o]!==void 0&&(!l||Eh(this,this[o],o,l)))}return!1}delete(i,l){const o=this;let d=!1;function m(f){if(f=Go(f),f){const x=ve.findKey(o,f);x&&(!l||Eh(o,o[x],x,l))&&(delete o[x],d=!0)}}return ve.isArray(i)?i.forEach(m):m(i),d}clear(i){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const m=l[o];(!i||Eh(this,this[m],m,i,!0))&&(delete this[m],d=!0)}return d}normalize(i){const l=this,o={};return ve.forEach(this,(d,m)=>{const f=ve.findKey(o,m);if(f){l[f]=$c(d),delete l[m];return}const x=i?d2(m):String(m).trim();x!==m&&delete l[m],l[x]=$c(d),o[x]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const l=Object.create(null);return ve.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=i&&ve.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,l])=>i+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...l){const o=new this(i);return l.forEach(d=>o.set(d)),o}static accessor(i){const o=(this[By]=this[By]={accessors:{}}).accessors,d=this.prototype;function m(f){const x=Go(f);o[x]||(m2(d,f),o[x]=!0)}return ve.isArray(i)?i.forEach(m):m(i),this}};va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(va.prototype,({value:e},i)=>{let l=i[0].toUpperCase()+i.slice(1);return{get:()=>e,set(o){this[l]=o}}});ve.freezeMethods(va);function kh(e,i){const l=this||uu,o=i||l,d=va.from(o.headers);let m=o.data;return ve.forEach(e,function(x){m=x.call(l,m,d.normalize(),i?i.status:void 0)}),d.normalize(),m}function rb(e){return!!(e&&e.__CANCEL__)}let cu=class extends at{constructor(i,l,o){super(i??"canceled",at.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function lb(e,i,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?e(l):i(new at("Request failed with status code "+l.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function h2(e){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}function f2(e,i){e=e||10;const l=new Array(e),o=new Array(e);let d=0,m=0,f;return i=i!==void 0?i:1e3,function(v){const b=Date.now(),S=o[m];f||(f=b),l[d]=v,o[d]=b;let w=m,C=0;for(;w!==d;)C+=l[w++],w=w%e;if(d=(d+1)%e,d===m&&(m=(m+1)%e),b-f<i)return;const M=S&&b-S;return M?Math.round(C*1e3/M):void 0}}function p2(e,i){let l=0,o=1e3/i,d,m;const f=(b,S=Date.now())=>{l=S,d=null,m&&(clearTimeout(m),m=null),e(...b)};return[(...b)=>{const S=Date.now(),w=S-l;w>=o?f(b,S):(d=b,m||(m=setTimeout(()=>{m=null,f(d)},o-w)))},()=>d&&f(d)]}const nd=(e,i,l=3)=>{let o=0;const d=f2(50,250);return p2(m=>{const f=m.loaded,x=m.lengthComputable?m.total:void 0,v=f-o,b=d(v),S=f<=x;o=f;const w={loaded:f,total:x,progress:x?f/x:void 0,bytes:v,rate:b||void 0,estimated:b&&x&&S?(x-f)/b:void 0,event:m,lengthComputable:x!=null,[i?"download":"upload"]:!0};e(w)},l)},Uy=(e,i)=>{const l=e!=null;return[o=>i[0]({lengthComputable:l,total:e,loaded:o}),i[1]]},Fy=e=>(...i)=>ve.asap(()=>e(...i)),g2=$n.hasStandardBrowserEnv?((e,i)=>l=>(l=new URL(l,$n.origin),e.protocol===l.protocol&&e.host===l.host&&(i||e.port===l.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,x2=$n.hasStandardBrowserEnv?{write(e,i,l,o,d,m,f){if(typeof document>"u")return;const x=[`${e}=${encodeURIComponent(i)}`];ve.isNumber(l)&&x.push(`expires=${new Date(l).toUTCString()}`),ve.isString(o)&&x.push(`path=${o}`),ve.isString(d)&&x.push(`domain=${d}`),m===!0&&x.push("secure"),ve.isString(f)&&x.push(`SameSite=${f}`),document.cookie=x.join("; ")},read(e){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return i?decodeURIComponent(i[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function y2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function v2(e,i){return i?e.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):e}function ob(e,i,l){let o=!y2(i);return e&&(o||l==!1)?v2(e,i):i}const qy=e=>e instanceof va?{...e}:e;function qr(e,i){i=i||{};const l={};function o(b,S,w,C){return ve.isPlainObject(b)&&ve.isPlainObject(S)?ve.merge.call({caseless:C},b,S):ve.isPlainObject(S)?ve.merge({},S):ve.isArray(S)?S.slice():S}function d(b,S,w,C){if(ve.isUndefined(S)){if(!ve.isUndefined(b))return o(void 0,b,w,C)}else return o(b,S,w,C)}function m(b,S){if(!ve.isUndefined(S))return o(void 0,S)}function f(b,S){if(ve.isUndefined(S)){if(!ve.isUndefined(b))return o(void 0,b)}else return o(void 0,S)}function x(b,S,w){if(w in i)return o(b,S);if(w in e)return o(void 0,b)}const v={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:x,headers:(b,S,w)=>d(qy(b),qy(S),w,!0)};return ve.forEach(Object.keys({...e,...i}),function(S){const w=v[S]||d,C=w(e[S],i[S],S);ve.isUndefined(C)&&w!==x||(l[S]=C)}),l}const ub=e=>{const i=qr({},e);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:f,auth:x}=i;if(i.headers=f=va.from(f),i.url=ab(ob(i.baseURL,i.url,i.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&f.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),ve.isFormData(l)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(ve.isFunction(l.getHeaders)){const v=l.getHeaders(),b=["content-type","content-length"];Object.entries(v).forEach(([S,w])=>{b.includes(S.toLowerCase())&&f.set(S,w)})}}if($n.hasStandardBrowserEnv&&(o&&ve.isFunction(o)&&(o=o(i)),o||o!==!1&&g2(i.url))){const v=d&&m&&x2.read(m);v&&f.set(d,v)}return i},b2=typeof XMLHttpRequest<"u",_2=b2&&function(e){return new Promise(function(l,o){const d=ub(e);let m=d.data;const f=va.from(d.headers).normalize();let{responseType:x,onUploadProgress:v,onDownloadProgress:b}=d,S,w,C,M,k;function A(){M&&M(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let O=new XMLHttpRequest;O.open(d.method.toUpperCase(),d.url,!0),O.timeout=d.timeout;function B(){if(!O)return;const R=va.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),V={data:!x||x==="text"||x==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:R,config:e,request:O};lb(function(Z){l(Z),A()},function(Z){o(Z),A()},V),O=null}"onloadend"in O?O.onloadend=B:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(B)},O.onabort=function(){O&&(o(new at("Request aborted",at.ECONNABORTED,e,O)),O=null)},O.onerror=function(G){const V=G&&G.message?G.message:"Network Error",W=new at(V,at.ERR_NETWORK,e,O);W.event=G||null,o(W),O=null},O.ontimeout=function(){let G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const V=d.transitional||ib;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),o(new at(G,V.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,O)),O=null},m===void 0&&f.setContentType(null),"setRequestHeader"in O&&ve.forEach(f.toJSON(),function(G,V){O.setRequestHeader(V,G)}),ve.isUndefined(d.withCredentials)||(O.withCredentials=!!d.withCredentials),x&&x!=="json"&&(O.responseType=d.responseType),b&&([C,k]=nd(b,!0),O.addEventListener("progress",C)),v&&O.upload&&([w,M]=nd(v),O.upload.addEventListener("progress",w),O.upload.addEventListener("loadend",M)),(d.cancelToken||d.signal)&&(S=R=>{O&&(o(!R||R.type?new cu(null,e,O):R),O.abort(),O=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const P=h2(d.url);if(P&&$n.protocols.indexOf(P)===-1){o(new at("Unsupported protocol "+P+":",at.ERR_BAD_REQUEST,e));return}O.send(m||null)})},N2=(e,i)=>{const{length:l}=e=e?e.filter(Boolean):[];if(i||l){let o=new AbortController,d;const m=function(b){if(!d){d=!0,x();const S=b instanceof Error?b:this.reason;o.abort(S instanceof at?S:new cu(S instanceof Error?S.message:S))}};let f=i&&setTimeout(()=>{f=null,m(new at(`timeout of ${i}ms exceeded`,at.ETIMEDOUT))},i);const x=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(b=>{b.unsubscribe?b.unsubscribe(m):b.removeEventListener("abort",m)}),e=null)};e.forEach(b=>b.addEventListener("abort",m));const{signal:v}=o;return v.unsubscribe=()=>ve.asap(x),v}},j2=function*(e,i){let l=e.byteLength;if(l<i){yield e;return}let o=0,d;for(;o<l;)d=o+i,yield e.slice(o,d),o=d},S2=async function*(e,i){for await(const l of w2(e))yield*j2(l,i)},w2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const i=e.getReader();try{for(;;){const{done:l,value:o}=await i.read();if(l)break;yield o}}finally{await i.cancel()}},Zy=(e,i,l,o)=>{const d=S2(e,i);let m=0,f,x=v=>{f||(f=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:b,value:S}=await d.next();if(b){x(),v.close();return}let w=S.byteLength;if(l){let C=m+=w;l(C)}v.enqueue(new Uint8Array(S))}catch(b){throw x(b),b}},cancel(v){return x(v),d.return()}},{highWaterMark:2})},Hy=64*1024,{isFunction:Mc}=ve,E2=(({Request:e,Response:i})=>({Request:e,Response:i}))(ve.global),{ReadableStream:Ky,TextEncoder:Qy}=ve.global,Gy=(e,...i)=>{try{return!!e(...i)}catch{return!1}},k2=e=>{e=ve.merge.call({skipUndefined:!0},E2,e);const{fetch:i,Request:l,Response:o}=e,d=i?Mc(i):typeof fetch=="function",m=Mc(l),f=Mc(o);if(!d)return!1;const x=d&&Mc(Ky),v=d&&(typeof Qy=="function"?(k=>A=>k.encode(A))(new Qy):async k=>new Uint8Array(await new l(k).arrayBuffer())),b=m&&x&&Gy(()=>{let k=!1;const A=new l($n.origin,{body:new Ky,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=f&&x&&Gy(()=>ve.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,O)=>{let B=A&&A[k];if(B)return B.call(A);throw new at(`Response type '${k}' is not supported`,at.ERR_NOT_SUPPORT,O)})});const C=async k=>{if(k==null)return 0;if(ve.isBlob(k))return k.size;if(ve.isSpecCompliantForm(k))return(await new l($n.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(k)||ve.isArrayBuffer(k))return k.byteLength;if(ve.isURLSearchParams(k)&&(k=k+""),ve.isString(k))return(await v(k)).byteLength},M=async(k,A)=>{const O=ve.toFiniteNumber(k.getContentLength());return O??C(A)};return async k=>{let{url:A,method:O,data:B,signal:P,cancelToken:R,timeout:G,onDownloadProgress:V,onUploadProgress:W,responseType:Z,headers:Y,withCredentials:te="same-origin",fetchOptions:fe}=ub(k),xe=i||fetch;Z=Z?(Z+"").toLowerCase():"text";let de=N2([P,R&&R.toAbortSignal()],G),_e=null;const le=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let ue;try{if(W&&b&&O!=="get"&&O!=="head"&&(ue=await M(Y,B))!==0){let z=new l(A,{method:"POST",body:B,duplex:"half"}),ee;if(ve.isFormData(B)&&(ee=z.headers.get("content-type"))&&Y.setContentType(ee),z.body){const[D,I]=Uy(ue,nd(Fy(W)));B=Zy(z.body,Hy,D,I)}}ve.isString(te)||(te=te?"include":"omit");const q=m&&"credentials"in l.prototype,K={...fe,signal:de,method:O.toUpperCase(),headers:Y.normalize().toJSON(),body:B,duplex:"half",credentials:q?te:void 0};_e=m&&new l(A,K);let ie=await(m?xe(_e,fe):xe(A,K));const ke=S&&(Z==="stream"||Z==="response");if(S&&(V||ke&&le)){const z={};["status","statusText","headers"].forEach(ce=>{z[ce]=ie[ce]});const ee=ve.toFiniteNumber(ie.headers.get("content-length")),[D,I]=V&&Uy(ee,nd(Fy(V),!0))||[];ie=new o(Zy(ie.body,Hy,D,()=>{I&&I(),le&&le()}),z)}Z=Z||"text";let $=await w[ve.findKey(w,Z)||"text"](ie,k);return!ke&&le&&le(),await new Promise((z,ee)=>{lb(z,ee,{data:$,headers:va.from(ie.headers),status:ie.status,statusText:ie.statusText,config:k,request:_e})})}catch(q){throw le&&le(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,k,_e),{cause:q.cause||q}):at.from(q,q&&q.code,k,_e)}}},T2=new Map,cb=e=>{let i=e&&e.env||{};const{fetch:l,Request:o,Response:d}=i,m=[o,d,l];let f=m.length,x=f,v,b,S=T2;for(;x--;)v=m[x],b=S.get(v),b===void 0&&S.set(v,b=x?new Map:k2(i)),S=b;return b};cb();const Wf={http:Kw,xhr:_2,fetch:{get:cb}};ve.forEach(Wf,(e,i)=>{if(e){try{Object.defineProperty(e,"name",{value:i})}catch{}Object.defineProperty(e,"adapterName",{value:i})}});const Vy=e=>`- ${e}`,C2=e=>ve.isFunction(e)||e===null||e===!1;function A2(e,i){e=ve.isArray(e)?e:[e];const{length:l}=e;let o,d;const m={};for(let f=0;f<l;f++){o=e[f];let x;if(d=o,!C2(o)&&(d=Wf[(x=String(o)).toLowerCase()],d===void 0))throw new at(`Unknown adapter '${x}'`);if(d&&(ve.isFunction(d)||(d=d.get(i))))break;m[x||"#"+f]=d}if(!d){const f=Object.entries(m).map(([v,b])=>`adapter ${v} `+(b===!1?"is not supported by the environment":"is not available in the build"));let x=l?f.length>1?`since :
`+f.map(Vy).join(`
`):" "+Vy(f[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d}const db={getAdapter:A2,adapters:Wf};function Th(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cu(null,e)}function Yy(e){return Th(e),e.headers=va.from(e.headers),e.data=kh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),db.getAdapter(e.adapter||uu.adapter,e)(e).then(function(o){return Th(e),o.data=kh.call(e,e.transformResponse,o),o.headers=va.from(o.headers),o},function(o){return rb(o)||(Th(e),o&&o.response&&(o.response.data=kh.call(e,e.transformResponse,o.response),o.response.headers=va.from(o.response.headers))),Promise.reject(o)})}const mb="1.13.4",vd={};["object","boolean","number","function","string","symbol"].forEach((e,i)=>{vd[e]=function(o){return typeof o===e||"a"+(i<1?"n ":" ")+e}});const $y={};vd.transitional=function(i,l,o){function d(m,f){return"[Axios v"+mb+"] Transitional option '"+m+"'"+f+(o?". "+o:"")}return(m,f,x)=>{if(i===!1)throw new at(d(f," has been removed"+(l?" in "+l:"")),at.ERR_DEPRECATED);return l&&!$y[f]&&($y[f]=!0,console.warn(d(f," has been deprecated since v"+l+" and will be removed in the near future"))),i?i(m,f,x):!0}};vd.spelling=function(i){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function z2(e,i,l){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let d=o.length;for(;d-- >0;){const m=o[d],f=i[m];if(f){const x=e[m],v=x===void 0||f(x,m,e);if(v!==!0)throw new at("option "+m+" must be "+v,at.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new at("Unknown option "+m,at.ERR_BAD_OPTION)}}const Xc={assertOptions:z2,validators:vd},Pi=Xc.validators;let Br=class{constructor(i){this.defaults=i||{},this.interceptors={request:new Iy,response:new Iy}}async request(i,l){try{return await this._request(i,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(i,l){typeof i=="string"?(l=l||{},l.url=i):l=i||{},l=qr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:m}=l;o!==void 0&&Xc.assertOptions(o,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),d!=null&&(ve.isFunction(d)?l.paramsSerializer={serialize:d}:Xc.assertOptions(d,{encode:Pi.function,serialize:Pi.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Xc.assertOptions(l,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let f=m&&ve.merge(m.common,m[l.method]);m&&ve.forEach(["delete","get","head","post","put","patch","common"],k=>{delete m[k]}),l.headers=va.concat(f,m);const x=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,x.unshift(A.fulfilled,A.rejected))});const b=[];this.interceptors.response.forEach(function(A){b.push(A.fulfilled,A.rejected)});let S,w=0,C;if(!v){const k=[Yy.bind(this),void 0];for(k.unshift(...x),k.push(...b),C=k.length,S=Promise.resolve(l);w<C;)S=S.then(k[w++],k[w++]);return S}C=x.length;let M=l;for(;w<C;){const k=x[w++],A=x[w++];try{M=k(M)}catch(O){A.call(this,O);break}}try{S=Yy.call(this,M)}catch(k){return Promise.reject(k)}for(w=0,C=b.length;w<C;)S=S.then(b[w++],b[w++]);return S}getUri(i){i=qr(this.defaults,i);const l=ob(i.baseURL,i.url,i.allowAbsoluteUrls);return ab(l,i.params,i.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(i){Br.prototype[i]=function(l,o){return this.request(qr(o||{},{method:i,url:l,data:(o||{}).data}))}});ve.forEach(["post","put","patch"],function(i){function l(o){return function(m,f,x){return this.request(qr(x||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}Br.prototype[i]=l(),Br.prototype[i+"Form"]=l(!0)});let M2=class hb{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const f=new Promise(x=>{o.subscribe(x),m=x}).then(d);return f.cancel=function(){o.unsubscribe(m)},f},i(function(m,f,x){o.reason||(o.reason=new cu(m,f,x),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const l=this._listeners.indexOf(i);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const i=new AbortController,l=o=>{i.abort(o)};return this.subscribe(l),i.signal.unsubscribe=()=>this.unsubscribe(l),i.signal}static source(){let i;return{token:new hb(function(d){i=d}),cancel:i}}};function O2(e){return function(l){return e.apply(null,l)}}function D2(e){return ve.isObject(e)&&e.isAxiosError===!0}const jf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jf).forEach(([e,i])=>{jf[i]=e});function fb(e){const i=new Br(e),l=Qv(Br.prototype.request,i);return ve.extend(l,Br.prototype,i,{allOwnKeys:!0}),ve.extend(l,i,null,{allOwnKeys:!0}),l.create=function(d){return fb(qr(e,d))},l}const Jt=fb(uu);Jt.Axios=Br;Jt.CanceledError=cu;Jt.CancelToken=M2;Jt.isCancel=rb;Jt.VERSION=mb;Jt.toFormData=yd;Jt.AxiosError=at;Jt.Cancel=Jt.CanceledError;Jt.all=function(i){return Promise.all(i)};Jt.spread=O2;Jt.isAxiosError=D2;Jt.mergeConfig=qr;Jt.AxiosHeaders=va;Jt.formToJSON=e=>sb(ve.isHTMLForm(e)?new FormData(e):e);Jt.getAdapter=db.getAdapter;Jt.HttpStatusCode=jf;Jt.default=Jt;const{Axios:vM,AxiosError:bM,CanceledError:_M,isCancel:NM,CancelToken:jM,VERSION:SM,all:wM,Cancel:EM,isAxiosError:kM,spread:TM,toFormData:CM,AxiosHeaders:AM,HttpStatusCode:zM,formToJSON:MM,getAdapter:OM,mergeConfig:DM}=Jt,ep="puantaj_access_token",ad="puantaj_refresh_token";function pb(){return localStorage.getItem(ep)}function Sf(){return localStorage.getItem(ad)}function wf(e,i){if(localStorage.setItem(ep,e),i){localStorage.setItem(ad,i);return}localStorage.removeItem(ad)}function gb(){localStorage.removeItem(ep),localStorage.removeItem(ad)}function R2(e){try{const i=e.split(".")[1];if(!i)return null;const l=i.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function L2(e){if(!e)return!1;const i=R2(e);if(!i?.exp)return!1;const l=Math.floor(Date.now()/1e3);return i.exp>l+10}const Ef="http://127.0.0.1:8000",P2=Ef.includes("127.0.0.1")||Ef.includes("localhost"),I2=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",tp=I2&&P2?window.location.origin:Ef,Ch="/admin-panel/",Oc=Ch.endsWith("/")?Ch.slice(0,-1):Ch,ze=Jt.create({baseURL:tp,headers:{"Content-Type":"application/json"}}),du=Jt.create({baseURL:tp,headers:{"Content-Type":"application/json"}});function Xy(){if(gb(),typeof window>"u")return;const e=`${window.location.pathname}${window.location.search}`,i=Oc&&e.startsWith(Oc)?e.slice(Oc.length)||"/":e;if(i==="/login"||i.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Oc}/login?redirect=${encodeURIComponent(i)}`;window.location.replace(l)}ze.interceptors.request.use(e=>{const i=pb();return i&&(e.headers.Authorization=`Bearer ${i}`),e});let Dc=null;async function B2(){const e=Sf();if(!e)return Xy(),null;try{const i=await Jt.post(`${tp}/api/admin/auth/refresh`,{refresh_token:e});return wf(i.data.access_token,i.data.refresh_token??e),i.data.access_token}catch{return Xy(),null}}ze.interceptors.response.use(e=>e,async e=>{const i=e.config;if(!i||e.response?.status!==401||i._retry)return Promise.reject(e);const o=i.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(e);i._retry=!0,Dc||(Dc=B2().finally(()=>{Dc=null}));const m=await Dc;return m?(i.headers.Authorization=`Bearer ${m}`,ze(i)):Promise.reject(e)});async function U2(e){return(await ze.post("/api/admin/auth/login",e)).data}async function F2(e){return(await ze.post("/api/admin/auth/refresh",e)).data}async function q2(e){return(await ze.post("/api/admin/auth/logout",e)).data}async function Ah(){return(await ze.get("/api/admin/auth/me")).data}async function xb(){return(await ze.get("/api/admin/admin-users")).data}async function Z2(e){return(await ze.get(`/api/admin/admin-users/${e}/claim-detail`)).data}async function H2(e,i,l){return(await ze.patch(`/api/admin/admin-users/${e}/claims/${i}/active`,l)).data}async function bd(e){return(await ze.get("/api/admin/regions",{params:e})).data}async function K2(e){return(await ze.post("/api/admin/regions",e)).data}async function Q2(e,i){return(await ze.patch(`/api/admin/regions/${e}`,i)).data}async function G2(e){return(await ze.post("/api/admin/admin-users",e)).data}async function V2(e,i){return(await ze.patch(`/api/admin/admin-users/${e}`,i)).data}async function Y2(e){await ze.delete(`/api/admin/admin-users/${e}`)}async function $2(e){return(await ze.get(`/api/admin/admin-users/${e}/mfa`)).data}async function X2(e){return(await ze.post(`/api/admin/admin-users/${e}/mfa/setup/start`)).data}async function J2(e,i){return(await ze.post(`/api/admin/admin-users/${e}/mfa/setup/confirm`,i)).data}async function W2(e,i){return(await ze.post(`/api/admin/admin-users/${e}/mfa/recovery-codes/regenerate`,i)).data}async function eE(e,i){return(await ze.post(`/api/admin/admin-users/${e}/mfa/reset`,i)).data}async function er(){return(await ze.get("/admin/departments")).data}async function tE(e){return(await ze.get("/admin/departments",{params:e})).data}async function nE(e){return(await ze.post("/admin/departments",e)).data}async function aE(e,i){return(await ze.patch(`/admin/departments/${e}`,i)).data}async function gi(e={}){return(await ze.get("/admin/employees",{params:e})).data}async function iE(e){return(await ze.post("/admin/employees",e)).data}async function sE(e){return(await ze.get(`/api/admin/employees/${e}/detail`)).data}async function rE(e,i){return(await ze.patch(`/api/admin/employees/${e}`,i)).data}async function yb(e,i){return(await ze.patch(`/api/admin/employees/${e}/active`,i)).data}async function lE(e,i){return(await ze.patch(`/api/admin/employees/${e}/shift`,i)).data}async function oE(e,i){return(await ze.patch(`/api/admin/employees/${e}/department`,i)).data}async function uE(e,i){return(await ze.put(`/admin/employee-locations/${e}`,i)).data}async function cE(){return(await ze.get("/admin/work-rules")).data}async function dE(e){return(await ze.post("/admin/work-rules",e)).data}async function vb(e){return(await ze.get("/admin/department-weekly-rules",{params:e})).data}async function bb(e){return(await ze.post("/admin/department-weekly-rules",e)).data}async function mu(e){return(await ze.get("/admin/department-shifts",{params:e})).data}async function id(e){return(await ze.post("/admin/department-shifts",e)).data}async function _b(e){return(await ze.delete(`/admin/department-shifts/${e}`)).data}async function mE(e={}){return(await ze.get("/api/admin/qr/codes",{params:e})).data}async function hE(e){return(await ze.post("/api/admin/qr/codes",e)).data}async function fE(e,i){return(await ze.patch(`/api/admin/qr/codes/${e}`,i)).data}async function pE(e,i){return(await ze.post(`/api/admin/qr/codes/${e}/points`,i)).data}async function gE(e,i){return(await ze.delete(`/api/admin/qr/codes/${e}/points/${i}`)).data}async function xE(e={}){return(await ze.get("/api/admin/qr/points",{params:e})).data}async function yE(e){return(await ze.post("/api/admin/qr/points",e)).data}async function vE(e,i){return(await ze.patch(`/api/admin/qr/points/${e}`,i)).data}async function bE(e){return(await ze.delete(`/api/admin/qr/points/${e}`)).data}async function Jy(e){return(await ze.post("/api/admin/schedule-plans",e)).data}async function _E(e={}){return(await ze.get("/api/admin/schedule-plans",{params:e})).data}async function NE(e){return(await ze.delete(`/api/admin/schedule-plans/${e}`)).data}async function np(e={}){return(await ze.get("/admin/attendance-events",{params:e})).data}async function jE(e){return(await ze.post("/api/admin/attendance-events",e)).data}async function SE(e,i){return(await ze.patch(`/api/admin/attendance-events/${e}`,i)).data}async function wE(e,i=!1){return(await ze.delete(`/api/admin/attendance-events/${e}`,{params:{force:i}})).data}async function Nb(e={}){return(await ze.get("/api/admin/audit-logs",{params:e})).data}async function EE(e={}){return(await ze.get("/api/admin/notifications/jobs",{params:e})).data}async function kE(e={}){return(await ze.get("/api/admin/notifications/delivery-logs",{params:e})).data}async function TE(e){return(await ze.post(`/api/admin/notifications/jobs/${e}/cancel`)).data}async function CE(e={}){return(await ze.get("/api/admin/notifications/subscriptions",{params:e})).data}async function AE(e={}){return(await ze.get("/api/admin/notifications/admin-subscriptions",{params:e})).data}async function kf(){return(await ze.get("/api/admin/notifications/push/config")).data}async function zE(){return(await du.get("/api/admin/notifications/push/config/public")).data}async function ME(){return(await ze.get("/api/admin/notifications/daily-report-health")).data}async function OE(){return(await ze.get("/api/admin/notifications/email-targets")).data}async function DE(e){return(await ze.put("/api/admin/notifications/email-targets",e)).data}async function RE(e={}){return(await ze.post("/api/admin/notifications/email-test",e)).data}async function LE(){return(await ze.get("/api/admin/notifications/admin-self-check")).data}async function PE(){return(await ze.post("/api/admin/notifications/admin-self-test")).data}async function IE(e){return(await ze.post("/api/admin/notifications/admin-device-invite",e)).data}async function BE(e){return(await du.post("/api/admin/notifications/admin-device-claim/public",e)).data}async function jb(e){return(await ze.post("/api/admin/notifications/admin-device-heal",e)).data}async function Sb(e){return(await ze.post("/api/admin/notifications/send",e)).data}async function UE(e={}){return(await ze.get("/api/admin/daily-report-archives",{params:e})).data}function FE(e){if(!e)return null;const i=e.match(/filename\*=UTF-8''([^;]+)/i);if(i?.[1])try{return decodeURIComponent(i[1].trim())}catch{return i[1].trim()}const l=e.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function qE(e){return(await ze.get(`/api/admin/daily-report-archives/${e}/download`,{responseType:"blob"})).data}async function ZE(e,i){const l=await du.post(`/api/admin/daily-report-archives/${e}/password-download`,i,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:FE(o)}}async function HE(e){return(await du.get("/api/admin/attendance-extra-checkin-approval",{params:{token:e}})).data}async function KE(e){return(await du.post("/api/admin/attendance-extra-checkin-approval/approve",e)).data}async function QE(e,i={}){return(await ze.post(`/api/admin/daily-report-archives/${e}/notify`,i)).data}async function wb(){return(await ze.get("/admin/devices")).data}async function Tf(e={}){return(await ze.get("/api/admin/employee-device-overview",{params:e})).data}async function Eb(e){return(await ze.get("/api/admin/dashboard/employee-snapshot",{params:e})).data}async function GE(e,i){return(await ze.patch(`/api/admin/devices/${e}/active`,i)).data}async function kb(e={}){return(await ze.get("/api/admin/leaves",{params:e})).data}async function VE(e){return(await ze.post("/api/admin/leaves",e)).data}async function YE(e){await ze.delete(`/api/admin/leaves/${e}`)}async function Tb(e){return(await ze.post("/api/admin/device-invite",e)).data}async function tu(e){return(await ze.get("/api/admin/monthly/employee",{params:e})).data}async function $E(e){return(await ze.get("/api/admin/monthly/department-summary",{params:e})).data}async function XE(e,i){return(await ze.post("/api/admin/manual-overrides/day",i,{params:{employee_id:e}})).data}async function JE(e,i,l){return(await ze.get("/api/admin/manual-overrides/day",{params:{employee_id:e,year:i,month:l}})).data}async function WE(e){await ze.delete(`/api/admin/manual-overrides/day/${e}`)}async function e1(){return(await ze.get("/api/admin/compliance-settings")).data}async function t1(e){return(await ze.put("/api/admin/compliance-settings",e)).data}async function n1(e){return(await ze.get("/api/admin/exports/puantaj.xlsx",{params:e,responseType:"blob"})).data}async function a1(e){return(await ze.get("/api/admin/export/employee-monthly",{params:e,responseType:"blob"})).data}async function i1(e){return(await ze.get("/api/admin/export/department-monthly",{params:e,responseType:"blob"})).data}async function s1(e){return(await ze.get("/api/admin/export/all-monthly",{params:e,responseType:"blob"})).data}async function r1(e){return(await ze.get("/api/admin/export/puantaj-range.xlsx",{params:e,responseType:"blob"})).data}const $a={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"},Cb=_.createContext(void 0);function l1({children:e}){const[i,l]=_.useState(null),[o,d]=_.useState(!0),m=_.useCallback(()=>{gb(),l(null)},[]),f=_.useCallback(async()=>{const w=Sf();if(!w)return m(),!1;try{const C=await F2({refresh_token:w});wf(C.access_token,C.refresh_token??w);const M=await Ah();return l(M),!0}catch{return m(),!1}},[m]),x=_.useCallback(async()=>{const w=pb();if(!w){l(null),d(!1);return}if(L2(w)){try{const C=await Ah();l(C)}catch{await f()}finally{d(!1)}return}await f(),d(!1)},[f]);_.useEffect(()=>{x()},[x]),_.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=_.useCallback(async(w,C,M,k)=>{const A=await U2({username:w,password:C,mfa_code:M?.trim()||void 0,mfa_recovery_code:k?.trim()||void 0});wf(A.access_token,A.refresh_token);const O=await Ah();l(O)},[]),b=_.useCallback(async()=>{const w=Sf();if(w)try{await q2({refresh_token:w})}catch{}m()},[m]),S=_.useMemo(()=>({user:i,isAuthenticated:!!i,isBootstrapping:o,isSuperAdmin:!!i?.is_super_admin,login:v,logout:b,refreshSession:f,hasPermission:(w,C="read")=>{if(!i)return!1;if(i.is_super_admin)return!0;const M=i.permissions?.[w];return M?C==="write"?!!M.write:!!(M.read||M.write):!1}}),[i,o,v,b,f]);return a.jsx(Cb.Provider,{value:S,children:e})}function Kl(){const e=_.useContext(Cb);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function ap(e){const i="=".repeat((4-e.length%4)%4),l=`${e}${i}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let m=0;m<o.length;m+=1)d[m]=o.charCodeAt(m);return d}const o1=[{to:"/management-console",label:"Ynetim Konsolu"},{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Blgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],u1={"/management-console":"Ynetim Konsolu","/dashboard":"Genel Bak","/regions":"Blgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"},Wy="pf_admin_push_vapid_public_key",Ab="pf_admin_push_auto_heal_ts",c1=600*1e3;async function d1(){if(!("serviceWorker"in navigator)||!("PushManager"in window)||Notification.permission!=="granted")return;const e=await kf();if(!e.enabled||!e.vapid_public_key)return;const l=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let o=await l.pushManager.getSubscription();const d=window.localStorage.getItem(Wy);if(o&&d&&d!==e.vapid_public_key){try{await o.unsubscribe()}catch{}o=null}o||(o=await l.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ap(e.vapid_public_key)})),await jb({subscription:o.toJSON(),send_test:!1}),window.localStorage.setItem(Wy,e.vapid_public_key),window.sessionStorage.setItem(Ab,String(Date.now()))}function m1(){const e=ei(),{user:i,logout:l,hasPermission:o}=Kl(),d=_.useRef(null),m=_.useRef(null),f=_.useRef(!1),x=_.useRef(null),[v,b]=_.useState(!1),[S,w]=_.useState("erie geiliyor..."),C=o("audit","write"),M=o1.filter(G=>!G.permission||o(G.permission)),k=u1[e.pathname]??(e.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel"),A=()=>typeof window<"u"&&window.innerWidth<1024,O=()=>{x.current!==null&&(window.clearTimeout(x.current),x.current=null)},B=(G,V)=>{w(V),b(!0),G==="content"?m.current?.scrollIntoView({behavior:"smooth",block:"start"}):d.current?.scrollIntoView({behavior:"smooth",block:"start"}),O(),x.current=window.setTimeout(()=>{b(!1)},1200)},P=G=>{if(A()){if(e.pathname===G){window.requestAnimationFrame(()=>{B("content","erie geiliyor...")});return}w("erie geiliyor..."),b(!0),f.current=!0}},R=()=>{A()&&window.requestAnimationFrame(()=>{B("sidebar","Sidebar'a dnlyor...")})};return _.useEffect(()=>{A()&&window.scrollTo({top:0})},[]),_.useEffect(()=>{if(!C)return;const G=window.sessionStorage.getItem(Ab),V=G?Number(G):0;Number.isFinite(V)&&V>0&&Date.now()-V<c1||d1().catch(()=>{})},[C,i?.admin_user_id,i?.username]),_.useEffect(()=>{f.current&&(f.current=!1,window.requestAnimationFrame(()=>{B("content","erie geiliyor...")}))},[e.pathname]),_.useEffect(()=>()=>{O()},[]),a.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[v?a.jsxs("div",{className:"mobile-nav-loader lg:hidden",role:"status","aria-live":"polite","aria-label":"Sayfa geii",children:[a.jsxs("div",{className:"mobile-nav-loader-logo","aria-hidden":"true",children:[a.jsx("div",{className:"mobile-nav-loader-halo"}),a.jsx("div",{className:"mobile-nav-loader-ring"}),a.jsx("div",{className:"mobile-nav-loader-spark"}),a.jsxs("div",{className:"mobile-nav-loader-core",children:[a.jsx("span",{className:"mobile-nav-loader-brand",children:"YABUJIN"}),a.jsx("span",{className:"mobile-nav-loader-sub",children:"CONTROL CORE"})]})]}),a.jsx("p",{className:"mobile-nav-loader-text",children:S})]}):null,a.jsxs("aside",{ref:d,className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[a.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),a.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),a.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:M.map(G=>a.jsx(Hv,{to:G.to,onClick:()=>P(G.to),className:({isActive:V})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${V?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:G.label},G.to))}),a.jsxs("div",{className:"admin-signature",children:[a.jsx("p",{className:"admin-signature-main",children:$a.signatureText}),a.jsx("p",{className:"admin-signature-sub",children:$a.signatureTagline})]})]}),a.jsxs("div",{ref:m,className:"flex min-h-screen flex-col",children:[a.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-4 py-4 backdrop-blur sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:k}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",i?.username??i?.sub??"admin"," / Rol: ",i?.role??"admin"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:R,className:"btn-animated rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100 lg:hidden",children:"Sidebar'a Git"}),a.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})]})}),a.jsx("main",{className:"admin-main flex-1 p-4 sm:p-6",children:a.jsx(Gf,{})}),a.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[a.jsx("span",{className:"admin-footer-brand",children:$a.signatureText}),a.jsx("span",{className:"admin-footer-sub",children:$a.signatureTagline}),a.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",$a.buildVersion]})]})]})]})}function h1(){const{isAuthenticated:e,isBootstrapping:i}=Kl(),l=ei();if(i)return a.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!e){const o=`${l.pathname}${l.search}`;return a.jsx(Qf,{to:"/login",replace:!0,state:{from:o}})}return a.jsx(Gf,{})}function f1(){const{isAuthenticated:e,isBootstrapping:i}=Kl();return i?a.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):e?a.jsx(Qf,{to:"/dashboard",replace:!0}):a.jsx(Gf,{})}const e0={INVALID_CREDENTIALS:"Kullanici adi veya sifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giris yapin.",FORBIDDEN:"Bu islem icin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin.",MFA_REQUIRED:"MFA kodu zorunlu. Authenticator kodunu girin.",INVALID_MFA_CODE:"MFA kodu gecersiz. Tekrar deneyin.",MFA_SETUP_REQUIRED:"Bu hesap icin MFA kurulumu tamamlanmamis.",MFA_SETUP_NOT_STARTED:"Once MFA kurulumunu baslatin.",MFA_NOT_ENABLED:"Bu hesapta MFA aktif degil.",ARCHIVE_DECRYPT_FAILED:"Arsiv dosyasi acilamadi. Sunucu anahtarini kontrol edin.",EXTRA_CHECKIN_APPROVAL_NOT_FOUND:"Ek giris onay talebi bulunamadi.",EXTRA_CHECKIN_APPROVAL_EXPIRED:"Ek giris onay talebinin suresi dolmus.",INVITE_ATTEMPTS_EXCEEDED:"Davet linkinin deneme limiti doldu. Yeni bir link uretin.",INVITE_CONTEXT_MISMATCH:"Davet linki ayni cihaz/tarayici baglaminda kullanilmalidir.",INVITE_RETRY_TOO_FAST:"Cok hizli deneme yaptiniz. Birkac saniye bekleyip tekrar deneyin.",INVITE_TTL_TOO_LONG:"Davet suresi izin verilen limiti asiyor.",ADMIN_PUSH_SUBSCRIPTION_REQUIRED:"Aktif admin push aboneligi yok. Once bir admin cihazi claim edilmelidir."};function Pe(e,i){if(Jt.isAxiosError(e)){const l=e.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,m=l?.error?.message;if(o&&e0[o])return{code:o,requestId:d,message:e0[o]};if(m)return{code:o,requestId:d,message:m};if(e.message)return{message:e.message}}return e instanceof Error&&e.message?{message:e.message}:{message:i}}function p1(e,i){return Pe(e,i).message}const t0="pf_admin_push_vapid_public_key";function g1(){const e=Zl(),[i]=fd(),l=_.useMemo(()=>i.get("token")?.trim()??"",[i]),[o,d]=_.useState("admin"),[m,f]=_.useState(""),[x,v]=_.useState(!1),[b,S]=_.useState(null),[w,C]=_.useState(null),[M,k]=_.useState(null),A=async O=>{if(O.preventDefault(),C(null),k(null),S(null),!l){C("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const B=o.trim(),P=m.trim();if(!B||!P){C("Admin kullanc ad ve ifre zorunludur.");return}try{v(!0);const R=await zE();if(!R.enabled||!R.vapid_public_key){C("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){C("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){C("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const W=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let Z=await W.pushManager.getSubscription();const Y=window.localStorage.getItem(t0);if(Z&&Y&&Y!==R.vapid_public_key){try{await Z.unsubscribe()}catch{}Z=null}Z||(Z=await W.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ap(R.vapid_public_key)})),await BE({token:l,username:B,password:P,subscription:Z.toJSON()}),window.localStorage.setItem(t0,R.vapid_public_key),S("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{e("/login",{replace:!0})},1e3)}catch(R){const G=Pe(R,"Cihaz balama ilemi baarsz oldu.");C(G.message),k(G.requestId??null)}finally{v(!1)}};return a.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),a.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",l||"Bulunamad"]}),a.jsxs("form",{className:"mt-4 space-y-3",onSubmit:A,children:[a.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",a.jsx("input",{value:o,onChange:O=>d(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",a.jsx("input",{type:"password",value:m,onChange:O=>f(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),w?a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[a.jsx("p",{children:w}),M?a.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",M]}):null]}):null,b?a.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:b}):null,a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"submit",disabled:x,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:x?"Balanyor...":"Cihaz Bala"}),a.jsx(fi,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function Rc(e){return`#${e.id} - ${e.full_name}`}function Ja({label:e,employees:i,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:m="Seiniz",helperText:f,disabled:x=!1,className:v=""}){const b=_.useMemo(()=>i.find(O=>String(O.id)===l),[i,l]),[S,w]=_.useState(b?Rc(b):""),[C,M]=_.useState(!1);_.useEffect(()=>{if(b){w(Rc(b));return}l||w("")},[b,l]);const k=_.useMemo(()=>{const O=S.trim().toLowerCase();return(O?i.filter(P=>{const R=P.full_name.toLowerCase().includes(O),G=String(P.id).includes(O.replace("#",""));return R||G}):i).slice(0,60)},[i,S]),A=O=>{o(String(O.id)),w(Rc(O)),M(!1)};return a.jsxs("div",{className:v,children:[a.jsxs("label",{className:"text-sm text-slate-700",children:[e,a.jsxs("div",{className:"relative mt-1",children:[a.jsx("input",{type:"text",value:S,disabled:x,onFocus:()=>M(!0),onChange:O=>{const B=O.target.value;w(B),M(!0),B.trim()||o("")},onBlur:()=>{window.setTimeout(()=>M(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),a.jsx("button",{type:"button",disabled:x,onClick:()=>{o(""),w(""),M(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?a.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[a.jsx("button",{type:"button",onMouseDown:O=>O.preventDefault(),onClick:()=>{o(""),w(""),M(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:a.jsx("span",{children:m})}),k.map(O=>a.jsxs("button",{type:"button",onMouseDown:B=>B.preventDefault(),onClick:()=>A(O),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[a.jsx("span",{children:Rc(O)}),O.is_active?null:a.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},O.id)),k.length===0?a.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),f?a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:f}):null]})}function Et({message:e}){return a.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:e})}function Lt({label:e="Ykleniyor..."}){return a.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[a.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),a.jsx("span",{children:e})]})}function x1(e){return Number.isFinite(e)?Math.max(0,Math.floor(e)):0}function zb(e){const i=x1(e),l=Math.floor(i/60),o=i%60;return{hours:l,minutes:o}}function y1(e){const{hours:i,minutes:l}=zb(e),o=String(i).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function v1(e){const{hours:i,minutes:l}=zb(e);return i===0?`${l}dk`:`${i}s ${l}dk`}function Jc(e){return`${y1(e)} (${v1(e)})`}function Be({minutes:e}){return a.jsx("span",{className:"whitespace-nowrap",children:Jc(e)})}function Js({open:e,title:i,onClose:l,children:o,placement:d="center",maxWidthClass:m="max-w-xl"}){if(!e)return null;const f=d==="right";return a.jsx("div",{className:`fixed inset-0 z-50 flex bg-slate-900/45 ${f?"items-stretch justify-end p-0 sm:p-3":"items-center justify-center px-4"}`,children:a.jsxs("div",{className:`admin-panel page-enter w-full border border-slate-200 bg-white p-5 shadow-2xl ${f?`${m} h-full overflow-y-auto rounded-none sm:rounded-l-2xl`:`${m} rounded-xl`}`,children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:i}),a.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})})}function An({title:e,description:i,action:l}){return a.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:e}),i?a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:i}):null]}),l]})}function Re({children:e,className:i=""}){return a.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${i}`,children:e})}function Mb({suspicious:e,label:i="Supheli",tooltip:l}){return e?a.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:i}):a.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const b1={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},SECOND_CHECKIN_APPROVED:{label:"2. giri admin onay",description:"Gnlk maksimum vardiya dngs tamamlandktan sonra, ek giri kayd admin onay ile ald.",tone:"info"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},OPEN_SHIFT_ACTIVE:{label:"Ak vardiya devam ediyor",description:"Gn iinde bir ktan sonra yeniden giri yapld ve son giri iin henz k kayd olumad.",tone:"warning"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function Ya(e){return b1[e]??{label:e,description:`${e} bayra iin aklama tanml deil.`,tone:"neutral"}}function _1(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function N1(e){return e==="danger"||e==="warning"?"status-badge status-badge-incomplete":e==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function Ob({reasons:e}){return e.length===0?a.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(i=>a.jsx("span",{title:Ya(i).description,className:N1(Ya(i).tone),children:Ya(i).label},i))})}const Db=_.createContext(void 0);function j1(e){return e==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":e==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function S1({children:e}){const[i,l]=_.useState([]),o=_.useCallback(f=>{l(x=>x.map(v=>v.id===f?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(x=>x.filter(v=>v.id!==f))},170)},[]),d=_.useCallback(f=>{const x=crypto.randomUUID(),v={id:x,title:f.title,description:f.description,durationMs:f.durationMs??3500,variant:f.variant??"info"};l(b=>[...b,v]),window.setTimeout(()=>{o(x)},v.durationMs)},[o]),m=_.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return a.jsxs(Db.Provider,{value:m,children:[e,a.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:i.map(f=>a.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${j1(f.variant)} ${f.isClosing?"is-leaving":""}`,role:"status",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold",children:f.title}),f.description?a.jsx("p",{className:"mt-1 text-xs",children:f.description}):null]}),a.jsx("button",{type:"button",onClick:()=>o(f.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},f.id))})]})}function Zn(){const e=_.useContext(Db);return e||{pushToast:()=>{},removeToast:()=>{}}}function w1(e){const[i,l,o]=e.split("-"),d=Number(i),m=Number(l),f=Number(o);return!Number.isInteger(d)||!Number.isInteger(m)||!Number.isInteger(f)?new Date("invalid"):new Date(Date.UTC(d,m-1,f))}function E1(e){return e.leave_type==="PUBLIC_HOLIDAY"||e.flags.includes("PUBLIC_HOLIDAY")}function k1(e){return e.worked_minutes>0?!0:!!(e.in||e.out)}function _d(e){if(E1(e))return{key:"SPECIAL",label:"zel Gn"};const i=w1(e.date);return!Number.isNaN(i.getTime())&&i.getUTCDay()===0?{key:"SUNDAY",label:"Pazar"}:{key:"WEEKDAY",label:"Hafta i"}}function ip(e){const i={workedMinutes:0,overtimeMinutes:0,planOvertimeMinutes:0,legalExtraWorkMinutes:0,workedDayCount:0,overtimeDayCount:0,planOvertimeDayCount:0,sundayWorkedDayCount:0,weekdayWorkedDayCount:0,specialWorkedDayCount:0,sundayWorkedMinutes:0,weekdayWorkedMinutes:0,specialWorkedMinutes:0};for(const l of e){const o=l.plan_overtime_minutes??l.overtime_minutes,d=l.legal_extra_work_minutes??0,m=l.legal_overtime_minutes??l.overtime_minutes;if(i.workedMinutes+=l.worked_minutes,i.planOvertimeMinutes+=o,i.legalExtraWorkMinutes+=d,i.overtimeMinutes+=m,k1(l)){i.workedDayCount+=1;const x=_d(l);x.key==="SPECIAL"?(i.specialWorkedDayCount+=1,i.specialWorkedMinutes+=l.worked_minutes):x.key==="SUNDAY"?(i.sundayWorkedDayCount+=1,i.sundayWorkedMinutes+=l.worked_minutes):(i.weekdayWorkedDayCount+=1,i.weekdayWorkedMinutes+=l.worked_minutes)}o>0&&(i.planOvertimeDayCount+=1),m>0&&(i.overtimeDayCount+=1)}return i}const T1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],C1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Lc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"},A1="Europe/Istanbul";function Yo(e,i){return e[i]===!0}function n0(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const i=Number(e.trim());if(Number.isInteger(i)&&i>0)return i}return null}function Pc(e){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium",timeZone:A1}).format(new Date(e))}function z1(e){const i=new Date(e);return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function M1(e){return e==="VERIFIED_HOME"?"Evde onayl":e==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function zh(e){const i=[],l=e.flags.reason==="home_location_not_set";return Yo(e.flags,"DUPLICATE_EVENT")&&i.push("DUPLICATE_EVENT"),Yo(e.flags,"MANUAL_CHECKOUT")&&i.push("MANUAL_CHECKOUT"),Yo(e.flags,"NEEDS_SHIFT_REVIEW")&&i.push("NEEDS_SHIFT_REVIEW"),e.location_status==="NO_LOCATION"&&i.push("LOCATION_NO_LOCATION"),e.location_status==="UNVERIFIED_LOCATION"&&!l&&i.push("LOCATION_UNVERIFIED"),(e.source==="MANUAL"||e.created_by_admin||Yo(e.flags,"ADMIN_MANUAL"))&&i.push("ADMIN_MANUAL_EVENT"),i}function Mh(e){const i=Number(e);return Number.isInteger(i)&&i>0?i:null}function O1(e){return e.length?e.map(i=>`${Ya(i).label} (${i})`).join(", "):"-"}function D1(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(Lc),[d,m]=_.useState(Lc),[f,x]=_.useState(""),[v,b]=_.useState("IN"),[S,w]=_.useState(""),[C,M]=_.useState(""),[k,A]=_.useState(""),[O,B]=_.useState(!1),[P,R]=_.useState(null),[G,V]=_.useState("IN"),[W,Z]=_.useState(""),[Y,te]=_.useState(""),[fe,xe]=_.useState(""),[de,_e]=_.useState(!1),[le,ue]=_.useState(!1),[q,K]=_.useState(null),[ie,ke]=_.useState(!1),$=Ue({queryKey:["employees","all"],queryFn:()=>gi({status:"all",include_inactive:!0})}),z=Ue({queryKey:["departments"],queryFn:er}),ee=Ue({queryKey:["department-shifts","all"],queryFn:()=>mu({active_only:!1})}),D=_.useMemo(()=>{const se=Number(d.employeeId),Qe=Number(d.departmentId),J=Number(d.limit);return{employee_id:se>0?se:void 0,department_id:Qe>0?Qe:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:J>0?J:200}},[d]),I=Ue({queryKey:["attendance-events",D],queryFn:()=>np(D)}),ce=Ue({queryKey:["audit-logs","attendance-events"],queryFn:()=>Nb({entity_type:"attendance_event",limit:50})}),je=Number(d.employeeId),Me=_.useMemo(()=>{const se=d.dateFrom||d.dateTo;if(!se)return new Date;const Qe=new Date(`${se}T00:00:00`);return Number.isNaN(Qe.getTime())?new Date:Qe},[d.dateFrom,d.dateTo]),He=Ue({queryKey:["attendance-events-monthly-summary",je,Me.getFullYear(),Me.getMonth()+1],queryFn:()=>tu({employee_id:je,year:Me.getFullYear(),month:Me.getMonth()+1}),enabled:Number.isInteger(je)&&je>0,staleTime:15e3}),Xe=Ve({mutationFn:jE,onSuccess:()=>{i({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),M(""),A(""),B(!1),e.invalidateQueries({queryKey:["attendance-events"]}),e.invalidateQueries({queryKey:["audit-logs"]})},onError:se=>{i({variant:"error",title:"Kayt oluturulamad",description:Pe(se,"lem baarsz.").message})}}),rt=Ve({mutationFn:({eventId:se,payload:Qe})=>SE(se,Qe),onSuccess:()=>{i({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),R(null),e.invalidateQueries({queryKey:["attendance-events"]}),e.invalidateQueries({queryKey:["audit-logs"]})},onError:se=>{i({variant:"error",title:"Event gncellenemedi",description:Pe(se,"lem baarsz.").message})}}),Se=Ve({mutationFn:({eventId:se,force:Qe})=>wE(se,Qe),onSuccess:()=>{i({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),K(null),ke(!1),e.invalidateQueries({queryKey:["attendance-events"]}),e.invalidateQueries({queryKey:["audit-logs"]})},onError:se=>{i({variant:"error",title:"Silme baarsz",description:Pe(se,"lem baarsz.").message})}}),ct=$.data??[],xt=z.data??[],kt=ee.data??[],_t=I.data??[],Ht=_.useMemo(()=>(He.data?.days??[]).filter(Qe=>!(d.dateFrom&&Qe.date<d.dateFrom||d.dateTo&&Qe.date>d.dateTo)),[He.data?.days,d.dateFrom,d.dateTo]),At=_.useMemo(()=>ip(Ht),[Ht]),Pt=_.useMemo(()=>new Map(ct.map(se=>[se.id,se])),[ct]),nn=_.useMemo(()=>new Map(ct.map(se=>[se.id,se.full_name])),[ct]),ae=_.useMemo(()=>new Map(xt.map(se=>[se.id,se.name])),[xt]),Ae=_.useMemo(()=>new Map(kt.map(se=>[se.id,se])),[kt]),$e=_.useMemo(()=>Pt.get(Number(f)),[Pt,f]),it=_.useMemo(()=>$e?.department_id?kt.filter(se=>se.department_id===$e.department_id):kt,[$e?.department_id,kt]),ne=_.useMemo(()=>{if(!P)return kt;const se=Pt.get(P.employee_id);return se?.department_id?kt.filter(Qe=>Qe.department_id===se.department_id):kt},[Pt,P,kt]),Oe=_.useMemo(()=>d.suspiciousOnly?_t.filter(se=>zh(se).length>0):_t,[_t,d.suspiciousOnly]),be=()=>m({...l}),qe=()=>{o(Lc),m(Lc)},mt=se=>{se.preventDefault();const Qe=Mh(f);if(!Qe||!S){i({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const J=Mh(k);Xe.mutate({employee_id:Qe,type:v,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:J??void 0,allow_duplicate:O})},nt=se=>{R(se),V(se.type),Z(z1(se.ts_utc)),te(se.note??""),_e(!1),ue(!1),xe(String(n0(se.flags.SHIFT_ID)??""))},Tt=se=>{if(se.preventDefault(),!P||!W)return;const Qe=Mh(fe);rt.mutate({eventId:P.id,payload:{type:G,ts_utc:new Date(W).toISOString(),note:Y||null,shift_id:Qe??void 0,allow_duplicate:de,force_edit:le}})};return $.isLoading||z.isLoading||ee.isLoading?a.jsx(Lt,{}):$.isError||z.isError||ee.isError?a.jsx(Et,{message:"alan/departman/vardiya bilgileri alnamad."}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[a.jsx(Ja,{label:"alan",employees:ct,value:l.employeeId,onChange:se=>o(Qe=>({...Qe,employeeId:se})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:l.departmentId,onChange:se=>o(Qe=>({...Qe,departmentId:se.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tm"}),xt.map(se=>a.jsxs("option",{value:se.id,children:["#",se.id," - ",se.name]},se.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",a.jsx("input",{type:"date",value:l.dateFrom,onChange:se=>o(Qe=>({...Qe,dateFrom:se.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",a.jsx("input",{type:"date",value:l.dateTo,onChange:se=>o(Qe=>({...Qe,dateTo:se.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",a.jsx("select",{value:l.eventType,onChange:se=>o(Qe=>({...Qe,eventType:se.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:C1.map(se=>a.jsx("option",{value:se.value,children:se.label},se.value))})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",a.jsx("select",{value:l.locationStatus,onChange:se=>o(Qe=>({...Qe,locationStatus:se.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:T1.map(se=>a.jsx("option",{value:se.value,children:se.label},se.value))})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",a.jsx("input",{type:"number",value:l.limit,onChange:se=>o(Qe=>({...Qe,limit:se.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:se=>o(Qe=>({...Qe,duplicatesOnly:se.target.checked}))}),"Sadece mkerrer"]}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:se=>o(Qe=>({...Qe,suspiciousOnly:se.target.checked}))}),"Sadece pheli"]}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:se=>o(Qe=>({...Qe,includeDeleted:se.target.checked}))}),"Silinenleri gster"]})]})]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx("button",{type:"button",onClick:be,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),a.jsx("button",{type:"button",onClick:qe,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),a.jsxs("form",{onSubmit:mt,className:"mt-3 grid gap-3 md:grid-cols-3",children:[a.jsx(Ja,{label:"alan",employees:ct,value:f,onChange:x,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",a.jsxs("select",{value:v,onChange:se=>b(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"IN",children:"IN (Giri)"}),a.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",a.jsx("input",{type:"datetime-local",value:S,onChange:se=>w(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",a.jsxs("select",{value:k,onChange:se=>A(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Otomatik/bo"}),it.map(se=>a.jsxs("option",{value:se.id,children:["#",se.id," - ",se.name," (",se.start_time_local,"-",se.end_time_local,")"]},se.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",a.jsx("input",{type:"text",value:C,onChange:se=>M(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[a.jsx("input",{type:"checkbox",checked:O,onChange:se=>B(se.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),a.jsx("div",{className:"md:col-span-3",children:a.jsx("button",{type:"submit",disabled:Xe.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Xe.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Puantaj Analiz Ozeti"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Secili calisan icin saat bazli net calisma, fazla mesai ve gun tipi kirilimlari."})]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Ay: ",Me.getFullYear(),"-",String(Me.getMonth()+1).padStart(2,"0")]})]}),je?He.isLoading?a.jsx(Lt,{}):He.isError?a.jsx(Et,{message:Pe(He.error,"Puantaj analiz ozeti alinamadi.").message}):a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-5",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Net calisma"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:a.jsx(Be,{minutes:At.workedMinutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Plan ustu sure"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:a.jsx(Be,{minutes:At.planOvertimeMinutes})}),a.jsxs("p",{className:"text-xs text-slate-500",children:[At.planOvertimeDayCount," gun"]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yasal fazla mesai"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:a.jsx(Be,{minutes:At.overtimeMinutes})}),a.jsxs("p",{className:"text-xs text-slate-500",children:[At.overtimeDayCount," gun"]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:At.workedDayCount}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",At.weekdayWorkedDayCount]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Pazar / Ozel"}),a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[At.sundayWorkedDayCount," / ",At.specialWorkedDayCount," gun"]})]})]}),a.jsxs("div",{className:"max-h-[44vh] overflow-auto overscroll-contain",children:[a.jsxs("table",{className:"min-w-[1100px] text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Tarih"}),a.jsx("th",{className:"py-2",children:"Gun Tipi"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Giris"}),a.jsx("th",{className:"py-2",children:"Cikis"}),a.jsx("th",{className:"py-2",children:"Calisma"}),a.jsx("th",{className:"py-2",children:"Plan Ustu"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),a.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),a.jsx("tbody",{children:Ht.map(se=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:se.date}),a.jsx("td",{className:"py-2",children:_d(se).label}),a.jsx("td",{className:"py-2",children:se.status}),a.jsx("td",{className:"py-2",children:se.in?Pc(se.in):"-"}),a.jsx("td",{className:"py-2",children:se.out?Pc(se.out):"-"}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:se.worked_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:se.plan_overtime_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:se.legal_extra_work_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:se.legal_overtime_minutes})}),a.jsx("td",{className:"py-2 text-xs text-slate-600",children:O1(se.flags)})]},se.date))})]}),Ht.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Secili aralikta puantaj gun kaydi bulunamadi."}):null]})]}):a.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Analiz gormek icin filtrelerden bir calisan secin."})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Oe.length})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Oe.filter(se=>zh(se).length>0).length})]})]}),I.isLoading?a.jsx(Lt,{}):null,I.isError?a.jsx(Et,{message:Pe(I.error,"Yoklama kaytlar alnamad.").message}):null,!I.isLoading&&!I.isError?a.jsxs("div",{className:"max-h-[66vh] overflow-auto overscroll-contain",children:[a.jsxs("table",{className:"min-w-[1320px] text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"ID"}),a.jsx("th",{className:"py-2",children:"alan"}),a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"Tip"}),a.jsx("th",{className:"py-2",children:"Kaynak"}),a.jsx("th",{className:"py-2",children:"Zaman"}),a.jsx("th",{className:"py-2",children:"Konum"}),a.jsx("th",{className:"py-2",children:"Vardiya"}),a.jsx("th",{className:"py-2",children:"Not"}),a.jsx("th",{className:"py-2",children:"Bayraklar"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),a.jsx("tbody",{children:Oe.map(se=>{const Qe=zh(se),J=Pt.get(se.employee_id),Fe=J?.department_id!=null?ae.get(J.department_id):"-",lt=se.source==="MANUAL"||se.created_by_admin||Yo(se.flags,"ADMIN_MANUAL"),pt=n0(se.flags.SHIFT_ID),Bt=typeof se.flags.SHIFT_NAME=="string"?se.flags.SHIFT_NAME:pt&&Ae.get(pt)?Ae.get(pt)?.name:null;return a.jsxs("tr",{className:`border-t border-slate-100 ${Qe.length>0?"bg-amber-50/40":""}`,children:[a.jsx("td",{className:"py-2",children:se.id}),a.jsxs("td",{className:"py-2",children:["#",se.employee_id," - ",nn.get(se.employee_id)??"-"]}),a.jsx("td",{className:"py-2",children:Fe??"-"}),a.jsx("td",{className:"py-2",children:se.type}),a.jsxs("td",{className:"py-2",children:[lt?a.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",se.deleted_at?a.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),a.jsx("td",{className:"py-2",children:Pc(se.ts_utc)}),a.jsx("td",{className:"py-2",children:M1(se.location_status)}),a.jsx("td",{className:"py-2",children:Bt?a.jsxs("span",{children:[Bt,pt?` (#${pt})`:""]}):pt?a.jsxs("span",{children:["#",pt]}):"-"}),a.jsx("td",{className:"py-2",children:se.note||"-"}),a.jsx("td",{className:"py-2",children:a.jsx(Ob,{reasons:Qe})}),a.jsx("td",{className:"py-2",children:a.jsx(Mb,{suspicious:Qe.length>0,label:"pheli"})}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>nt(se),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),a.jsx("button",{type:"button",onClick:()=>K(se),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},se.id)})})]}),Oe.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),ce.isLoading?a.jsx(Lt,{}):null,ce.isError?a.jsx(Et,{message:Pe(ce.error,"Audit loglar alnamad.").message}):null,!ce.isLoading&&!ce.isError?a.jsx("div",{className:"mt-3 max-h-[40vh] overflow-auto overscroll-contain",children:a.jsxs("table",{className:"min-w-[980px] text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Zaman"}),a.jsx("th",{className:"py-2",children:"Aksiyon"}),a.jsx("th",{className:"py-2",children:"Kullanc"}),a.jsx("th",{className:"py-2",children:"Entity"}),a.jsx("th",{className:"py-2",children:"Durum"})]})}),a.jsx("tbody",{children:(ce.data?.items??[]).map(se=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Pc(se.ts_utc)}),a.jsx("td",{className:"py-2",children:se.action}),a.jsxs("td",{className:"py-2",children:[se.actor_type,":",se.actor_id]}),a.jsxs("td",{className:"py-2",children:[se.entity_type??"-"," ",se.entity_id?`#${se.entity_id}`:""]}),a.jsx("td",{className:"py-2",children:se.success?"Baarl":"Hatal"})]},se.id))})]})}):null]}),a.jsx(Js,{open:P!==null,title:P?`Event #${P.id} dzenle`:"Event dzenle",onClose:()=>R(null),children:a.jsxs("form",{onSubmit:Tt,className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",a.jsxs("select",{value:G,onChange:se=>V(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"IN",children:"IN (Giri)"}),a.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",a.jsx("input",{type:"datetime-local",value:W,onChange:se=>Z(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",a.jsxs("select",{value:fe,onChange:se=>xe(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Deitirme"}),ne.map(se=>a.jsxs("option",{value:se.id,children:["#",se.id," - ",se.name," (",se.start_time_local,"-",se.end_time_local,")"]},se.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Not",a.jsx("input",{type:"text",value:Y,onChange:se=>te(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:de,onChange:se=>_e(se.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:le,onChange:se=>ue(se.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),a.jsx("button",{type:"submit",disabled:rt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:rt.isPending?"Kaydediliyor...":"Kaydet"})]})}),a.jsx(Js,{open:q!==null,title:q?`Event #${q.id} soft sil`:"Event soft sil",onClose:()=>K(null),children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:ie,onChange:se=>ke(se.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),a.jsx("button",{type:"button",onClick:()=>q&&Se.mutate({eventId:q.id,force:ie}),disabled:Se.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Se.isPending?"Siliniyor...":"Soft sil"})]})})]})}function Ee(e,i,l){function o(x,v){if(x._zod||Object.defineProperty(x,"_zod",{value:{def:v,constr:f,traits:new Set},enumerable:!1}),x._zod.traits.has(e))return;x._zod.traits.add(e),i(x,v);const b=f.prototype,S=Object.keys(b);for(let w=0;w<S.length;w++){const C=S[w];C in x||(x[C]=b[C].bind(x))}}const d=l?.Parent??Object;class m extends d{}Object.defineProperty(m,"name",{value:e});function f(x){var v;const b=l?.Parent?new m:this;o(b,x),(v=b._zod).deferred??(v.deferred=[]);for(const S of b._zod.deferred)S();return b}return Object.defineProperty(f,"init",{value:o}),Object.defineProperty(f,Symbol.hasInstance,{value:x=>l?.Parent&&x instanceof l.Parent?!0:x?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class Pl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Rb extends Error{constructor(i){super(`Encountered unidirectional transform during encode: ${i}`),this.name="ZodEncodeError"}}const Lb={};function Zr(e){return Lb}function Pb(e){const i=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,d])=>i.indexOf(+o)===-1).map(([o,d])=>d)}function Cf(e,i){return typeof i=="bigint"?i.toString():i}function sp(e){return{get value(){{const i=e();return Object.defineProperty(this,"value",{value:i}),i}}}}function rp(e){return e==null}function lp(e){const i=e.startsWith("^")?1:0,l=e.endsWith("$")?e.length-1:e.length;return e.slice(i,l)}function R1(e,i){const l=(e.toString().split(".")[1]||"").length,o=i.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const m=l>d?l:d,f=Number.parseInt(e.toFixed(m).replace(".","")),x=Number.parseInt(i.toFixed(m).replace(".",""));return f%x/10**m}const a0=Symbol("evaluating");function Zt(e,i,l){let o;Object.defineProperty(e,i,{get(){if(o!==a0)return o===void 0&&(o=a0,o=l()),o},set(d){Object.defineProperty(e,i,{value:d})},configurable:!0})}function Kr(e,i,l){Object.defineProperty(e,i,{value:l,writable:!0,enumerable:!0,configurable:!0})}function tr(...e){const i={};for(const l of e){const o=Object.getOwnPropertyDescriptors(l);Object.assign(i,o)}return Object.defineProperties({},i)}function i0(e){return JSON.stringify(e)}function L1(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Ib="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function sd(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const P1=sp(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function nu(e){if(sd(e)===!1)return!1;const i=e.constructor;if(i===void 0||typeof i!="function")return!0;const l=i.prototype;return!(sd(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function Bb(e){return nu(e)?{...e}:Array.isArray(e)?[...e]:e}const I1=new Set(["string","number","symbol"]);function Nd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nr(e,i,l){const o=new e._zod.constr(i??e._zod.def);return(!i||l?.parent)&&(o._zod.parent=e),o}function We(e){const i=e;if(!i)return{};if(typeof i=="string")return{error:()=>i};if(i?.message!==void 0){if(i?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");i.error=i.message}return delete i.message,typeof i.error=="string"?{...i,error:()=>i.error}:i}function B1(e){return Object.keys(e).filter(i=>e[i]._zod.optin==="optional"&&e[i]._zod.optout==="optional")}const U1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function F1(e,i){const l=e._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const m=tr(e._zod.def,{get shape(){const f={};for(const x in i){if(!(x in l.shape))throw new Error(`Unrecognized key: "${x}"`);i[x]&&(f[x]=l.shape[x])}return Kr(this,"shape",f),f},checks:[]});return nr(e,m)}function q1(e,i){const l=e._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const m=tr(e._zod.def,{get shape(){const f={...e._zod.def.shape};for(const x in i){if(!(x in l.shape))throw new Error(`Unrecognized key: "${x}"`);i[x]&&delete f[x]}return Kr(this,"shape",f),f},checks:[]});return nr(e,m)}function Z1(e,i){if(!nu(i))throw new Error("Invalid input to extend: expected a plain object");const l=e._zod.def.checks;if(l&&l.length>0){const m=e._zod.def.shape;for(const f in i)if(Object.getOwnPropertyDescriptor(m,f)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=tr(e._zod.def,{get shape(){const m={...e._zod.def.shape,...i};return Kr(this,"shape",m),m}});return nr(e,d)}function H1(e,i){if(!nu(i))throw new Error("Invalid input to safeExtend: expected a plain object");const l=tr(e._zod.def,{get shape(){const o={...e._zod.def.shape,...i};return Kr(this,"shape",o),o}});return nr(e,l)}function K1(e,i){const l=tr(e._zod.def,{get shape(){const o={...e._zod.def.shape,...i._zod.def.shape};return Kr(this,"shape",o),o},get catchall(){return i._zod.def.catchall},checks:[]});return nr(e,l)}function Q1(e,i,l){const d=i._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const f=tr(i._zod.def,{get shape(){const x=i._zod.def.shape,v={...x};if(l)for(const b in l){if(!(b in x))throw new Error(`Unrecognized key: "${b}"`);l[b]&&(v[b]=e?new e({type:"optional",innerType:x[b]}):x[b])}else for(const b in x)v[b]=e?new e({type:"optional",innerType:x[b]}):x[b];return Kr(this,"shape",v),v},checks:[]});return nr(i,f)}function G1(e,i,l){const o=tr(i._zod.def,{get shape(){const d=i._zod.def.shape,m={...d};if(l)for(const f in l){if(!(f in m))throw new Error(`Unrecognized key: "${f}"`);l[f]&&(m[f]=new e({type:"nonoptional",innerType:d[f]}))}else for(const f in d)m[f]=new e({type:"nonoptional",innerType:d[f]});return Kr(this,"shape",m),m}});return nr(i,o)}function Ll(e,i=0){if(e.aborted===!0)return!0;for(let l=i;l<e.issues.length;l++)if(e.issues[l]?.continue!==!0)return!0;return!1}function Ub(e,i){return i.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(e),l})}function Ic(e){return typeof e=="string"?e:e?.message}function Hr(e,i,l){const o={...e,path:e.path??[]};if(!e.message){const d=Ic(e.inst?._zod.def?.error?.(e))??Ic(i?.error?.(e))??Ic(l.customError?.(e))??Ic(l.localeError?.(e))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,i?.reportInput||delete o.input,o}function op(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function au(...e){const[i,l,o]=e;return typeof i=="string"?{message:i,code:"custom",input:l,inst:o}:{...i}}const Fb=(e,i)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:i,enumerable:!1}),e.message=JSON.stringify(i,Cf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},qb=Ee("$ZodError",Fb),Zb=Ee("$ZodError",Fb,{Parent:Error});function V1(e,i=l=>l.message){const l={},o=[];for(const d of e.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(i(d))):o.push(i(d));return{formErrors:o,fieldErrors:l}}function Y1(e,i=l=>l.message){const l={_errors:[]},o=d=>{for(const m of d.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(f=>o({issues:f}));else if(m.code==="invalid_key")o({issues:m.issues});else if(m.code==="invalid_element")o({issues:m.issues});else if(m.path.length===0)l._errors.push(i(m));else{let f=l,x=0;for(;x<m.path.length;){const v=m.path[x];x===m.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(i(m))):f[v]=f[v]||{_errors:[]},f=f[v],x++}}};return o(e),l}const up=e=>(i,l,o,d)=>{const m=o?Object.assign(o,{async:!1}):{async:!1},f=i._zod.run({value:l,issues:[]},m);if(f instanceof Promise)throw new Pl;if(f.issues.length){const x=new(d?.Err??e)(f.issues.map(v=>Hr(v,m,Zr())));throw Ib(x,d?.callee),x}return f.value},cp=e=>async(i,l,o,d)=>{const m=o?Object.assign(o,{async:!0}):{async:!0};let f=i._zod.run({value:l,issues:[]},m);if(f instanceof Promise&&(f=await f),f.issues.length){const x=new(d?.Err??e)(f.issues.map(v=>Hr(v,m,Zr())));throw Ib(x,d?.callee),x}return f.value},jd=e=>(i,l,o)=>{const d=o?{...o,async:!1}:{async:!1},m=i._zod.run({value:l,issues:[]},d);if(m instanceof Promise)throw new Pl;return m.issues.length?{success:!1,error:new(e??qb)(m.issues.map(f=>Hr(f,d,Zr())))}:{success:!0,data:m.value}},$1=jd(Zb),Sd=e=>async(i,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let m=i._zod.run({value:l,issues:[]},d);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new e(m.issues.map(f=>Hr(f,d,Zr())))}:{success:!0,data:m.value}},X1=Sd(Zb),J1=e=>(i,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return up(e)(i,l,d)},W1=e=>(i,l,o)=>up(e)(i,l,o),ek=e=>async(i,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return cp(e)(i,l,d)},tk=e=>async(i,l,o)=>cp(e)(i,l,o),nk=e=>(i,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return jd(e)(i,l,d)},ak=e=>(i,l,o)=>jd(e)(i,l,o),ik=e=>async(i,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Sd(e)(i,l,d)},sk=e=>async(i,l,o)=>Sd(e)(i,l,o),rk=/^[cC][^\s-]{8,}$/,lk=/^[0-9a-z]+$/,ok=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uk=/^[0-9a-vA-V]{20}$/,ck=/^[A-Za-z0-9]{27}$/,dk=/^[a-zA-Z0-9_-]{21}$/,mk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,s0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,fk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,pk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gk(){return new RegExp(pk,"u")}const xk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,vk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_k=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Hb=/^[A-Za-z0-9_-]*$/,Nk=/^\+[1-9]\d{6,14}$/,Kb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jk=new RegExp(`^${Kb}$`);function Qb(e){const i="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${i}`:e.precision===0?`${i}:[0-5]\\d`:`${i}:[0-5]\\d\\.\\d{${e.precision}}`:`${i}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Sk(e){return new RegExp(`^${Qb(e)}$`)}function wk(e){const i=Qb({precision:e.precision}),l=["Z"];e.local&&l.push(""),e.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${i}(?:${l.join("|")})`;return new RegExp(`^${Kb}T(?:${o})$`)}const Ek=e=>{const i=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${i}$`)},kk=/^-?\d+$/,Tk=/^-?\d+(?:\.\d+)?$/,Ck=/^(?:true|false)$/i,Ak=/^null$/i,zk=/^[^A-Z]*$/,Mk=/^[^a-z]*$/,ba=Ee("$ZodCheck",(e,i)=>{var l;e._zod??(e._zod={}),e._zod.def=i,(l=e._zod).onattach??(l.onattach=[])}),Gb={number:"number",bigint:"bigint",object:"date"},Vb=Ee("$ZodCheckLessThan",(e,i)=>{ba.init(e,i);const l=Gb[typeof i.value];e._zod.onattach.push(o=>{const d=o._zod.bag,m=(i.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;i.value<m&&(i.inclusive?d.maximum=i.value:d.exclusiveMaximum=i.value)}),e._zod.check=o=>{(i.inclusive?o.value<=i.value:o.value<i.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof i.value=="object"?i.value.getTime():i.value,input:o.value,inclusive:i.inclusive,inst:e,continue:!i.abort})}}),Yb=Ee("$ZodCheckGreaterThan",(e,i)=>{ba.init(e,i);const l=Gb[typeof i.value];e._zod.onattach.push(o=>{const d=o._zod.bag,m=(i.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;i.value>m&&(i.inclusive?d.minimum=i.value:d.exclusiveMinimum=i.value)}),e._zod.check=o=>{(i.inclusive?o.value>=i.value:o.value>i.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof i.value=="object"?i.value.getTime():i.value,input:o.value,inclusive:i.inclusive,inst:e,continue:!i.abort})}}),Ok=Ee("$ZodCheckMultipleOf",(e,i)=>{ba.init(e,i),e._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=i.value)}),e._zod.check=l=>{if(typeof l.value!=typeof i.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%i.value===BigInt(0):R1(l.value,i.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:i.value,input:l.value,inst:e,continue:!i.abort})}}),Dk=Ee("$ZodCheckNumberFormat",(e,i)=>{ba.init(e,i),i.format=i.format||"float64";const l=i.format?.includes("int"),o=l?"int":"number",[d,m]=U1[i.format];e._zod.onattach.push(f=>{const x=f._zod.bag;x.format=i.format,x.minimum=d,x.maximum=m,l&&(x.pattern=kk)}),e._zod.check=f=>{const x=f.value;if(l){if(!Number.isInteger(x)){f.issues.push({expected:o,format:i.format,code:"invalid_type",continue:!1,input:x,inst:e});return}if(!Number.isSafeInteger(x)){x>0?f.issues.push({input:x,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,inclusive:!0,continue:!i.abort}):f.issues.push({input:x,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,inclusive:!0,continue:!i.abort});return}}x<d&&f.issues.push({origin:"number",input:x,code:"too_small",minimum:d,inclusive:!0,inst:e,continue:!i.abort}),x>m&&f.issues.push({origin:"number",input:x,code:"too_big",maximum:m,inclusive:!0,inst:e,continue:!i.abort})}}),Rk=Ee("$ZodCheckMaxLength",(e,i)=>{var l;ba.init(e,i),(l=e._zod.def).when??(l.when=o=>{const d=o.value;return!rp(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;i.maximum<d&&(o._zod.bag.maximum=i.maximum)}),e._zod.check=o=>{const d=o.value;if(d.length<=i.maximum)return;const f=op(d);o.issues.push({origin:f,code:"too_big",maximum:i.maximum,inclusive:!0,input:d,inst:e,continue:!i.abort})}}),Lk=Ee("$ZodCheckMinLength",(e,i)=>{var l;ba.init(e,i),(l=e._zod.def).when??(l.when=o=>{const d=o.value;return!rp(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;i.minimum>d&&(o._zod.bag.minimum=i.minimum)}),e._zod.check=o=>{const d=o.value;if(d.length>=i.minimum)return;const f=op(d);o.issues.push({origin:f,code:"too_small",minimum:i.minimum,inclusive:!0,input:d,inst:e,continue:!i.abort})}}),Pk=Ee("$ZodCheckLengthEquals",(e,i)=>{var l;ba.init(e,i),(l=e._zod.def).when??(l.when=o=>{const d=o.value;return!rp(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=i.length,d.maximum=i.length,d.length=i.length}),e._zod.check=o=>{const d=o.value,m=d.length;if(m===i.length)return;const f=op(d),x=m>i.length;o.issues.push({origin:f,...x?{code:"too_big",maximum:i.length}:{code:"too_small",minimum:i.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!i.abort})}}),wd=Ee("$ZodCheckStringFormat",(e,i)=>{var l,o;ba.init(e,i),e._zod.onattach.push(d=>{const m=d._zod.bag;m.format=i.format,i.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(i.pattern))}),i.pattern?(l=e._zod).check??(l.check=d=>{i.pattern.lastIndex=0,!i.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:i.format,input:d.value,...i.pattern?{pattern:i.pattern.toString()}:{},inst:e,continue:!i.abort})}):(o=e._zod).check??(o.check=()=>{})}),Ik=Ee("$ZodCheckRegex",(e,i)=>{wd.init(e,i),e._zod.check=l=>{i.pattern.lastIndex=0,!i.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:i.pattern.toString(),inst:e,continue:!i.abort})}}),Bk=Ee("$ZodCheckLowerCase",(e,i)=>{i.pattern??(i.pattern=zk),wd.init(e,i)}),Uk=Ee("$ZodCheckUpperCase",(e,i)=>{i.pattern??(i.pattern=Mk),wd.init(e,i)}),Fk=Ee("$ZodCheckIncludes",(e,i)=>{ba.init(e,i);const l=Nd(i.includes),o=new RegExp(typeof i.position=="number"?`^.{${i.position}}${l}`:l);i.pattern=o,e._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(o)}),e._zod.check=d=>{d.value.includes(i.includes,i.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:i.includes,input:d.value,inst:e,continue:!i.abort})}}),qk=Ee("$ZodCheckStartsWith",(e,i)=>{ba.init(e,i);const l=new RegExp(`^${Nd(i.prefix)}.*`);i.pattern??(i.pattern=l),e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.startsWith(i.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:i.prefix,input:o.value,inst:e,continue:!i.abort})}}),Zk=Ee("$ZodCheckEndsWith",(e,i)=>{ba.init(e,i);const l=new RegExp(`.*${Nd(i.suffix)}$`);i.pattern??(i.pattern=l),e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.endsWith(i.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:i.suffix,input:o.value,inst:e,continue:!i.abort})}}),Hk=Ee("$ZodCheckOverwrite",(e,i)=>{ba.init(e,i),e._zod.check=l=>{l.value=i.tx(l.value)}});class Kk{constructor(i=[]){this.content=[],this.indent=0,this&&(this.args=i)}indented(i){this.indent+=1,i(this),this.indent-=1}write(i){if(typeof i=="function"){i(this,{execution:"sync"}),i(this,{execution:"async"});return}const o=i.split(`
`).filter(f=>f),d=Math.min(...o.map(f=>f.length-f.trimStart().length)),m=o.map(f=>f.slice(d)).map(f=>" ".repeat(this.indent*2)+f);for(const f of m)this.content.push(f)}compile(){const i=Function,l=this?.args,d=[...(this?.content??[""]).map(m=>`  ${m}`)];return new i(...l,d.join(`
`))}}const Qk={major:4,minor:3,patch:6},fn=Ee("$ZodType",(e,i)=>{var l;e??(e={}),e._zod.def=i,e._zod.bag=e._zod.bag||{},e._zod.version=Qk;const o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const d of o)for(const m of d._zod.onattach)m(e);if(o.length===0)(l=e._zod).deferred??(l.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const d=(f,x,v)=>{let b=Ll(f),S;for(const w of x){if(w._zod.def.when){if(!w._zod.def.when(f))continue}else if(b)continue;const C=f.issues.length,M=w._zod.check(f);if(M instanceof Promise&&v?.async===!1)throw new Pl;if(S||M instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await M,f.issues.length!==C&&(b||(b=Ll(f,C)))});else{if(f.issues.length===C)continue;b||(b=Ll(f,C))}}return S?S.then(()=>f):f},m=(f,x,v)=>{if(Ll(f))return f.aborted=!0,f;const b=d(x,o,v);if(b instanceof Promise){if(v.async===!1)throw new Pl;return b.then(S=>e._zod.parse(S,v))}return e._zod.parse(b,v)};e._zod.run=(f,x)=>{if(x.skipChecks)return e._zod.parse(f,x);if(x.direction==="backward"){const b=e._zod.parse({value:f.value,issues:[]},{...x,skipChecks:!0});return b instanceof Promise?b.then(S=>m(S,f,x)):m(b,f,x)}const v=e._zod.parse(f,x);if(v instanceof Promise){if(x.async===!1)throw new Pl;return v.then(b=>d(b,o,x))}return d(v,o,x)}}Zt(e,"~standard",()=>({validate:d=>{try{const m=$1(e,d);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return X1(e,d).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}))}),dp=Ee("$ZodString",(e,i)=>{fn.init(e,i),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ek(e._zod.bag),e._zod.parse=(l,o)=>{if(i.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:e}),l}}),ln=Ee("$ZodStringFormat",(e,i)=>{wd.init(e,i),dp.init(e,i)}),Gk=Ee("$ZodGUID",(e,i)=>{i.pattern??(i.pattern=hk),ln.init(e,i)}),Vk=Ee("$ZodUUID",(e,i)=>{if(i.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[i.version];if(o===void 0)throw new Error(`Invalid UUID version: "${i.version}"`);i.pattern??(i.pattern=s0(o))}else i.pattern??(i.pattern=s0());ln.init(e,i)}),Yk=Ee("$ZodEmail",(e,i)=>{i.pattern??(i.pattern=fk),ln.init(e,i)}),$k=Ee("$ZodURL",(e,i)=>{ln.init(e,i),e._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);i.hostname&&(i.hostname.lastIndex=0,i.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:i.hostname.source,input:l.value,inst:e,continue:!i.abort})),i.protocol&&(i.protocol.lastIndex=0,i.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:i.protocol.source,input:l.value,inst:e,continue:!i.abort})),i.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:e,continue:!i.abort})}}}),Xk=Ee("$ZodEmoji",(e,i)=>{i.pattern??(i.pattern=gk()),ln.init(e,i)}),Jk=Ee("$ZodNanoID",(e,i)=>{i.pattern??(i.pattern=dk),ln.init(e,i)}),Wk=Ee("$ZodCUID",(e,i)=>{i.pattern??(i.pattern=rk),ln.init(e,i)}),eT=Ee("$ZodCUID2",(e,i)=>{i.pattern??(i.pattern=lk),ln.init(e,i)}),tT=Ee("$ZodULID",(e,i)=>{i.pattern??(i.pattern=ok),ln.init(e,i)}),nT=Ee("$ZodXID",(e,i)=>{i.pattern??(i.pattern=uk),ln.init(e,i)}),aT=Ee("$ZodKSUID",(e,i)=>{i.pattern??(i.pattern=ck),ln.init(e,i)}),iT=Ee("$ZodISODateTime",(e,i)=>{i.pattern??(i.pattern=wk(i)),ln.init(e,i)}),sT=Ee("$ZodISODate",(e,i)=>{i.pattern??(i.pattern=jk),ln.init(e,i)}),rT=Ee("$ZodISOTime",(e,i)=>{i.pattern??(i.pattern=Sk(i)),ln.init(e,i)}),lT=Ee("$ZodISODuration",(e,i)=>{i.pattern??(i.pattern=mk),ln.init(e,i)}),oT=Ee("$ZodIPv4",(e,i)=>{i.pattern??(i.pattern=xk),ln.init(e,i),e._zod.bag.format="ipv4"}),uT=Ee("$ZodIPv6",(e,i)=>{i.pattern??(i.pattern=yk),ln.init(e,i),e._zod.bag.format="ipv6",e._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:e,continue:!i.abort})}}}),cT=Ee("$ZodCIDRv4",(e,i)=>{i.pattern??(i.pattern=vk),ln.init(e,i)}),dT=Ee("$ZodCIDRv6",(e,i)=>{i.pattern??(i.pattern=bk),ln.init(e,i),e._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,m]=o;if(!m)throw new Error;const f=Number(m);if(`${f}`!==m)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:e,continue:!i.abort})}}});function $b(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const mT=Ee("$ZodBase64",(e,i)=>{i.pattern??(i.pattern=_k),ln.init(e,i),e._zod.bag.contentEncoding="base64",e._zod.check=l=>{$b(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:e,continue:!i.abort})}});function hT(e){if(!Hb.test(e))return!1;const i=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=i.padEnd(Math.ceil(i.length/4)*4,"=");return $b(l)}const fT=Ee("$ZodBase64URL",(e,i)=>{i.pattern??(i.pattern=Hb),ln.init(e,i),e._zod.bag.contentEncoding="base64url",e._zod.check=l=>{hT(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:e,continue:!i.abort})}}),pT=Ee("$ZodE164",(e,i)=>{i.pattern??(i.pattern=Nk),ln.init(e,i)});function gT(e,i=null){try{const l=e.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||i&&(!("alg"in d)||d.alg!==i))}catch{return!1}}const xT=Ee("$ZodJWT",(e,i)=>{ln.init(e,i),e._zod.check=l=>{gT(l.value,i.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:e,continue:!i.abort})}}),Xb=Ee("$ZodNumber",(e,i)=>{fn.init(e,i),e._zod.pattern=e._zod.bag.pattern??Tk,e._zod.parse=(l,o)=>{if(i.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const m=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:e,...m?{received:m}:{}}),l}}),yT=Ee("$ZodNumberFormat",(e,i)=>{Dk.init(e,i),Xb.init(e,i)}),vT=Ee("$ZodBoolean",(e,i)=>{fn.init(e,i),e._zod.pattern=Ck,e._zod.parse=(l,o)=>{if(i.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:e}),l}}),bT=Ee("$ZodNull",(e,i)=>{fn.init(e,i),e._zod.pattern=Ak,e._zod.values=new Set([null]),e._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:e}),l}}),_T=Ee("$ZodUnknown",(e,i)=>{fn.init(e,i),e._zod.parse=l=>l}),NT=Ee("$ZodNever",(e,i)=>{fn.init(e,i),e._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:e}),l)});function r0(e,i,l){e.issues.length&&i.issues.push(...Ub(l,e.issues)),i.value[l]=e.value}const jT=Ee("$ZodArray",(e,i)=>{fn.init(e,i),e._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:e}),l;l.value=Array(d.length);const m=[];for(let f=0;f<d.length;f++){const x=d[f],v=i.element._zod.run({value:x,issues:[]},o);v instanceof Promise?m.push(v.then(b=>r0(b,l,f))):r0(v,l,f)}return m.length?Promise.all(m).then(()=>l):l}});function rd(e,i,l,o,d){if(e.issues.length){if(d&&!(l in o))return;i.issues.push(...Ub(l,e.issues))}e.value===void 0?l in o&&(i.value[l]=void 0):i.value[l]=e.value}function Jb(e){const i=Object.keys(e.shape);for(const o of i)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=B1(e.shape);return{...e,keys:i,keySet:new Set(i),numKeys:i.length,optionalKeys:new Set(l)}}function Wb(e,i,l,o,d,m){const f=[],x=d.keySet,v=d.catchall._zod,b=v.def.type,S=v.optout==="optional";for(const w in i){if(x.has(w))continue;if(b==="never"){f.push(w);continue}const C=v.run({value:i[w],issues:[]},o);C instanceof Promise?e.push(C.then(M=>rd(M,l,w,i,S))):rd(C,l,w,i,S)}return f.length&&l.issues.push({code:"unrecognized_keys",keys:f,input:i,inst:m}),e.length?Promise.all(e).then(()=>l):l}const ST=Ee("$ZodObject",(e,i)=>{if(fn.init(e,i),!Object.getOwnPropertyDescriptor(i,"shape")?.get){const x=i.shape;Object.defineProperty(i,"shape",{get:()=>{const v={...x};return Object.defineProperty(i,"shape",{value:v}),v}})}const o=sp(()=>Jb(i));Zt(e._zod,"propValues",()=>{const x=i.shape,v={};for(const b in x){const S=x[b]._zod;if(S.values){v[b]??(v[b]=new Set);for(const w of S.values)v[b].add(w)}}return v});const d=sd,m=i.catchall;let f;e._zod.parse=(x,v)=>{f??(f=o.value);const b=x.value;if(!d(b))return x.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),x;x.value={};const S=[],w=f.shape;for(const C of f.keys){const M=w[C],k=M._zod.optout==="optional",A=M._zod.run({value:b[C],issues:[]},v);A instanceof Promise?S.push(A.then(O=>rd(O,x,C,b,k))):rd(A,x,C,b,k)}return m?Wb(S,b,x,v,o.value,e):S.length?Promise.all(S).then(()=>x):x}}),wT=Ee("$ZodObjectJIT",(e,i)=>{ST.init(e,i);const l=e._zod.parse,o=sp(()=>Jb(i)),d=C=>{const M=new Kk(["shape","payload","ctx"]),k=o.value,A=R=>{const G=i0(R);return`shape[${G}]._zod.run({ value: input[${G}], issues: [] }, ctx)`};M.write("const input = payload.value;");const O=Object.create(null);let B=0;for(const R of k.keys)O[R]=`key_${B++}`;M.write("const newResult = {};");for(const R of k.keys){const G=O[R],V=i0(R),Z=C[R]?._zod?.optout==="optional";M.write(`const ${G} = ${A(R)};`),Z?M.write(`
        if (${G}.issues.length) {
          if (${V} in input) {
            payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${V}, ...iss.path] : [${V}]
            })));
          }
        }
        
        if (${G}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${G}.value;
        }
        
      `):M.write(`
        if (${G}.issues.length) {
          payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${G}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${G}.value;
        }
        
      `)}M.write("payload.value = newResult;"),M.write("return payload;");const P=M.compile();return(R,G)=>P(C,R,G)};let m;const f=sd,x=!Lb.jitless,b=x&&P1.value,S=i.catchall;let w;e._zod.parse=(C,M)=>{w??(w=o.value);const k=C.value;return f(k)?x&&b&&M?.async===!1&&M.jitless!==!0?(m||(m=d(i.shape)),C=m(C,M),S?Wb([],k,C,M,w,e):C):l(C,M):(C.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),C)}});function l0(e,i,l,o){for(const m of e)if(m.issues.length===0)return i.value=m.value,i;const d=e.filter(m=>!Ll(m));return d.length===1?(i.value=d[0].value,d[0]):(i.issues.push({code:"invalid_union",input:i.value,inst:l,errors:e.map(m=>m.issues.map(f=>Hr(f,o,Zr())))}),i)}const ET=Ee("$ZodUnion",(e,i)=>{fn.init(e,i),Zt(e._zod,"optin",()=>i.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Zt(e._zod,"optout",()=>i.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Zt(e._zod,"values",()=>{if(i.options.every(d=>d._zod.values))return new Set(i.options.flatMap(d=>Array.from(d._zod.values)))}),Zt(e._zod,"pattern",()=>{if(i.options.every(d=>d._zod.pattern)){const d=i.options.map(m=>m._zod.pattern);return new RegExp(`^(${d.map(m=>lp(m.source)).join("|")})$`)}});const l=i.options.length===1,o=i.options[0]._zod.run;e._zod.parse=(d,m)=>{if(l)return o(d,m);let f=!1;const x=[];for(const v of i.options){const b=v._zod.run({value:d.value,issues:[]},m);if(b instanceof Promise)x.push(b),f=!0;else{if(b.issues.length===0)return b;x.push(b)}}return f?Promise.all(x).then(v=>l0(v,d,e,m)):l0(x,d,e,m)}}),kT=Ee("$ZodIntersection",(e,i)=>{fn.init(e,i),e._zod.parse=(l,o)=>{const d=l.value,m=i.left._zod.run({value:d,issues:[]},o),f=i.right._zod.run({value:d,issues:[]},o);return m instanceof Promise||f instanceof Promise?Promise.all([m,f]).then(([v,b])=>o0(l,v,b)):o0(l,m,f)}});function Af(e,i){if(e===i)return{valid:!0,data:e};if(e instanceof Date&&i instanceof Date&&+e==+i)return{valid:!0,data:e};if(nu(e)&&nu(i)){const l=Object.keys(i),o=Object.keys(e).filter(m=>l.indexOf(m)!==-1),d={...e,...i};for(const m of o){const f=Af(e[m],i[m]);if(!f.valid)return{valid:!1,mergeErrorPath:[m,...f.mergeErrorPath]};d[m]=f.data}return{valid:!0,data:d}}if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<e.length;o++){const d=e[o],m=i[o],f=Af(d,m);if(!f.valid)return{valid:!1,mergeErrorPath:[o,...f.mergeErrorPath]};l.push(f.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function o0(e,i,l){const o=new Map;let d;for(const x of i.issues)if(x.code==="unrecognized_keys"){d??(d=x);for(const v of x.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else e.issues.push(x);for(const x of l.issues)if(x.code==="unrecognized_keys")for(const v of x.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else e.issues.push(x);const m=[...o].filter(([,x])=>x.l&&x.r).map(([x])=>x);if(m.length&&d&&e.issues.push({...d,keys:m}),Ll(e))return e;const f=Af(i.value,l.value);if(!f.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(f.mergeErrorPath)}`);return e.value=f.data,e}const TT=Ee("$ZodEnum",(e,i)=>{fn.init(e,i);const l=Pb(i.entries),o=new Set(l);e._zod.values=o,e._zod.pattern=new RegExp(`^(${l.filter(d=>I1.has(typeof d)).map(d=>typeof d=="string"?Nd(d):d.toString()).join("|")})$`),e._zod.parse=(d,m)=>{const f=d.value;return o.has(f)||d.issues.push({code:"invalid_value",values:l,input:f,inst:e}),d}}),CT=Ee("$ZodTransform",(e,i)=>{fn.init(e,i),e._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Rb(e.constructor.name);const d=i.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(f=>(l.value=f,l));if(d instanceof Promise)throw new Pl;return l.value=d,l}});function u0(e,i){return e.issues.length&&i===void 0?{issues:[],value:void 0}:e}const e_=Ee("$ZodOptional",(e,i)=>{fn.init(e,i),e._zod.optin="optional",e._zod.optout="optional",Zt(e._zod,"values",()=>i.innerType._zod.values?new Set([...i.innerType._zod.values,void 0]):void 0),Zt(e._zod,"pattern",()=>{const l=i.innerType._zod.pattern;return l?new RegExp(`^(${lp(l.source)})?$`):void 0}),e._zod.parse=(l,o)=>{if(i.innerType._zod.optin==="optional"){const d=i.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>u0(m,l.value)):u0(d,l.value)}return l.value===void 0?l:i.innerType._zod.run(l,o)}}),AT=Ee("$ZodExactOptional",(e,i)=>{e_.init(e,i),Zt(e._zod,"values",()=>i.innerType._zod.values),Zt(e._zod,"pattern",()=>i.innerType._zod.pattern),e._zod.parse=(l,o)=>i.innerType._zod.run(l,o)}),zT=Ee("$ZodNullable",(e,i)=>{fn.init(e,i),Zt(e._zod,"optin",()=>i.innerType._zod.optin),Zt(e._zod,"optout",()=>i.innerType._zod.optout),Zt(e._zod,"pattern",()=>{const l=i.innerType._zod.pattern;return l?new RegExp(`^(${lp(l.source)}|null)$`):void 0}),Zt(e._zod,"values",()=>i.innerType._zod.values?new Set([...i.innerType._zod.values,null]):void 0),e._zod.parse=(l,o)=>l.value===null?l:i.innerType._zod.run(l,o)}),MT=Ee("$ZodDefault",(e,i)=>{fn.init(e,i),e._zod.optin="optional",Zt(e._zod,"values",()=>i.innerType._zod.values),e._zod.parse=(l,o)=>{if(o.direction==="backward")return i.innerType._zod.run(l,o);if(l.value===void 0)return l.value=i.defaultValue,l;const d=i.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>c0(m,i)):c0(d,i)}});function c0(e,i){return e.value===void 0&&(e.value=i.defaultValue),e}const OT=Ee("$ZodPrefault",(e,i)=>{fn.init(e,i),e._zod.optin="optional",Zt(e._zod,"values",()=>i.innerType._zod.values),e._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=i.defaultValue),i.innerType._zod.run(l,o))}),DT=Ee("$ZodNonOptional",(e,i)=>{fn.init(e,i),Zt(e._zod,"values",()=>{const l=i.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),e._zod.parse=(l,o)=>{const d=i.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>d0(m,e)):d0(d,e)}});function d0(e,i){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:i}),e}const RT=Ee("$ZodCatch",(e,i)=>{fn.init(e,i),Zt(e._zod,"optin",()=>i.innerType._zod.optin),Zt(e._zod,"optout",()=>i.innerType._zod.optout),Zt(e._zod,"values",()=>i.innerType._zod.values),e._zod.parse=(l,o)=>{if(o.direction==="backward")return i.innerType._zod.run(l,o);const d=i.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>(l.value=m.value,m.issues.length&&(l.value=i.catchValue({...l,error:{issues:m.issues.map(f=>Hr(f,o,Zr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=i.catchValue({...l,error:{issues:d.issues.map(m=>Hr(m,o,Zr()))},input:l.value}),l.issues=[]),l)}}),LT=Ee("$ZodPipe",(e,i)=>{fn.init(e,i),Zt(e._zod,"values",()=>i.in._zod.values),Zt(e._zod,"optin",()=>i.in._zod.optin),Zt(e._zod,"optout",()=>i.out._zod.optout),Zt(e._zod,"propValues",()=>i.in._zod.propValues),e._zod.parse=(l,o)=>{if(o.direction==="backward"){const m=i.out._zod.run(l,o);return m instanceof Promise?m.then(f=>Bc(f,i.in,o)):Bc(m,i.in,o)}const d=i.in._zod.run(l,o);return d instanceof Promise?d.then(m=>Bc(m,i.out,o)):Bc(d,i.out,o)}});function Bc(e,i,l){return e.issues.length?(e.aborted=!0,e):i._zod.run({value:e.value,issues:e.issues},l)}const PT=Ee("$ZodReadonly",(e,i)=>{fn.init(e,i),Zt(e._zod,"propValues",()=>i.innerType._zod.propValues),Zt(e._zod,"values",()=>i.innerType._zod.values),Zt(e._zod,"optin",()=>i.innerType?._zod?.optin),Zt(e._zod,"optout",()=>i.innerType?._zod?.optout),e._zod.parse=(l,o)=>{if(o.direction==="backward")return i.innerType._zod.run(l,o);const d=i.innerType._zod.run(l,o);return d instanceof Promise?d.then(m0):m0(d)}});function m0(e){return e.value=Object.freeze(e.value),e}const IT=Ee("$ZodCustom",(e,i)=>{ba.init(e,i),fn.init(e,i),e._zod.parse=(l,o)=>l,e._zod.check=l=>{const o=l.value,d=i.fn(o);if(d instanceof Promise)return d.then(m=>h0(m,l,o,e));h0(d,l,o,e)}});function h0(e,i,l,o){if(!e){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),i.issues.push(au(d))}}var f0;class BT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(i,...l){const o=l[0];return this._map.set(i,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,i),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(i){const l=this._map.get(i);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(i),this}get(i){const l=i._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(i)};return Object.keys(d).length?d:void 0}return this._map.get(i)}has(i){return this._map.has(i)}}function UT(){return new BT}(f0=globalThis).__zod_globalRegistry??(f0.__zod_globalRegistry=UT());const $o=globalThis.__zod_globalRegistry;function FT(e,i){return new e({type:"string",...We(i)})}function qT(e,i){return new e({type:"string",format:"email",check:"string_format",abort:!1,...We(i)})}function p0(e,i){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...We(i)})}function ZT(e,i){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...We(i)})}function HT(e,i){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(i)})}function KT(e,i){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(i)})}function QT(e,i){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(i)})}function GT(e,i){return new e({type:"string",format:"url",check:"string_format",abort:!1,...We(i)})}function VT(e,i){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...We(i)})}function YT(e,i){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(i)})}function $T(e,i){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...We(i)})}function XT(e,i){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(i)})}function JT(e,i){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...We(i)})}function WT(e,i){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...We(i)})}function eC(e,i){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(i)})}function tC(e,i){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(i)})}function nC(e,i){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(i)})}function aC(e,i){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(i)})}function iC(e,i){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(i)})}function sC(e,i){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...We(i)})}function rC(e,i){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...We(i)})}function lC(e,i){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...We(i)})}function oC(e,i){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...We(i)})}function uC(e,i){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(i)})}function cC(e,i){return new e({type:"string",format:"date",check:"string_format",...We(i)})}function dC(e,i){return new e({type:"string",format:"time",check:"string_format",precision:null,...We(i)})}function mC(e,i){return new e({type:"string",format:"duration",check:"string_format",...We(i)})}function hC(e,i){return new e({type:"number",coerce:!0,checks:[],...We(i)})}function fC(e,i){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...We(i)})}function pC(e,i){return new e({type:"boolean",...We(i)})}function gC(e,i){return new e({type:"null",...We(i)})}function xC(e){return new e({type:"unknown"})}function yC(e,i){return new e({type:"never",...We(i)})}function g0(e,i){return new Vb({check:"less_than",...We(i),value:e,inclusive:!1})}function Oh(e,i){return new Vb({check:"less_than",...We(i),value:e,inclusive:!0})}function x0(e,i){return new Yb({check:"greater_than",...We(i),value:e,inclusive:!1})}function Dh(e,i){return new Yb({check:"greater_than",...We(i),value:e,inclusive:!0})}function y0(e,i){return new Ok({check:"multiple_of",...We(i),value:e})}function t_(e,i){return new Rk({check:"max_length",...We(i),maximum:e})}function ld(e,i){return new Lk({check:"min_length",...We(i),minimum:e})}function n_(e,i){return new Pk({check:"length_equals",...We(i),length:e})}function vC(e,i){return new Ik({check:"string_format",format:"regex",...We(i),pattern:e})}function bC(e){return new Bk({check:"string_format",format:"lowercase",...We(e)})}function _C(e){return new Uk({check:"string_format",format:"uppercase",...We(e)})}function NC(e,i){return new Fk({check:"string_format",format:"includes",...We(i),includes:e})}function jC(e,i){return new qk({check:"string_format",format:"starts_with",...We(i),prefix:e})}function SC(e,i){return new Zk({check:"string_format",format:"ends_with",...We(i),suffix:e})}function Ql(e){return new Hk({check:"overwrite",tx:e})}function wC(e){return Ql(i=>i.normalize(e))}function EC(){return Ql(e=>e.trim())}function kC(){return Ql(e=>e.toLowerCase())}function TC(){return Ql(e=>e.toUpperCase())}function CC(){return Ql(e=>L1(e))}function AC(e,i,l){return new e({type:"array",element:i,...We(l)})}function zC(e,i,l){return new e({type:"custom",check:"custom",fn:i,...We(l)})}function MC(e){const i=OC(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(au(o,l.value,i._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=i),d.continue??(d.continue=!i._zod.def.abort),l.issues.push(au(d))}},e(l.value,l)));return i}function OC(e,i){const l=new ba({check:"custom",...We(i)});return l._zod.check=e,l}function a_(e){let i=e?.target??"draft-2020-12";return i==="draft-4"&&(i="draft-04"),i==="draft-7"&&(i="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??$o,target:i,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Fn(e,i,l={path:[],schemaPath:[]}){var o;const d=e._zod.def,m=i.seen.get(e);if(m)return m.count++,l.schemaPath.includes(e)&&(m.cycle=l.path),m.schema;const f={schema:{},count:1,cycle:void 0,path:l.path};i.seen.set(e,f);const x=e._zod.toJSONSchema?.();if(x)f.schema=x;else{const S={...l,schemaPath:[...l.schemaPath,e],path:l.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(i,f.schema,S);else{const C=f.schema,M=i.processors[d.type];if(!M)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);M(e,i,C,S)}const w=e._zod.parent;w&&(f.ref||(f.ref=w),Fn(w,i,S),i.seen.get(w).isParent=!0)}const v=i.metadataRegistry.get(e);return v&&Object.assign(f.schema,v),i.io==="input"&&aa(e)&&(delete f.schema.examples,delete f.schema.default),i.io==="input"&&f.schema._prefault&&((o=f.schema).default??(o.default=f.schema._prefault)),delete f.schema._prefault,i.seen.get(e).schema}function i_(e,i){const l=e.seen.get(i);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const f of e.seen.entries()){const x=e.metadataRegistry.get(f[0])?.id;if(x){const v=o.get(x);if(v&&v!==f[0])throw new Error(`Duplicate schema id "${x}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(x,f[0])}}const d=f=>{const x=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const w=e.external.registry.get(f[0])?.id,C=e.external.uri??(k=>k);if(w)return{ref:C(w)};const M=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=M,{defId:M,ref:`${C("__shared")}#/${x}/${M}`}}if(f[1]===l)return{ref:"#"};const b=`#/${x}/`,S=f[1].schema.id??`__schema${e.counter++}`;return{defId:S,ref:b+S}},m=f=>{if(f[1].schema.$ref)return;const x=f[1],{ref:v,defId:b}=d(f);x.def={...x.schema},b&&(x.defId=b);const S=x.schema;for(const w in S)delete S[w];S.$ref=v};if(e.cycles==="throw")for(const f of e.seen.entries()){const x=f[1];if(x.cycle)throw new Error(`Cycle detected: #/${x.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const x=f[1];if(i===f[0]){m(f);continue}if(e.external){const b=e.external.registry.get(f[0])?.id;if(i!==f[0]&&b){m(f);continue}}if(e.metadataRegistry.get(f[0])?.id){m(f);continue}if(x.cycle){m(f);continue}if(x.count>1&&e.reused==="ref"){m(f);continue}}}function s_(e,i){const l=e.seen.get(i);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=f=>{const x=e.seen.get(f);if(x.ref===null)return;const v=x.def??x.schema,b={...v},S=x.ref;if(x.ref=null,S){o(S);const C=e.seen.get(S),M=C.schema;if(M.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(M)):Object.assign(v,M),Object.assign(v,b),f._zod.parent===S)for(const A in v)A==="$ref"||A==="allOf"||A in b||delete v[A];if(M.$ref&&C.def)for(const A in v)A==="$ref"||A==="allOf"||A in C.def&&JSON.stringify(v[A])===JSON.stringify(C.def[A])&&delete v[A]}const w=f._zod.parent;if(w&&w!==S){o(w);const C=e.seen.get(w);if(C?.schema.$ref&&(v.$ref=C.schema.$ref,C.def))for(const M in v)M==="$ref"||M==="allOf"||M in C.def&&JSON.stringify(v[M])===JSON.stringify(C.def[M])&&delete v[M]}e.override({zodSchema:f,jsonSchema:v,path:x.path??[]})};for(const f of[...e.seen.entries()].reverse())o(f[0]);const d={};if(e.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const f=e.external.registry.get(i)?.id;if(!f)throw new Error("Schema is missing an `id` property");d.$id=e.external.uri(f)}Object.assign(d,l.def??l.schema);const m=e.external?.defs??{};for(const f of e.seen.entries()){const x=f[1];x.def&&x.defId&&(m[x.defId]=x.def)}e.external||Object.keys(m).length>0&&(e.target==="draft-2020-12"?d.$defs=m:d.definitions=m);try{const f=JSON.parse(JSON.stringify(d));return Object.defineProperty(f,"~standard",{value:{...i["~standard"],jsonSchema:{input:od(i,"input",e.processors),output:od(i,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function aa(e,i){const l=i??{seen:new Set};if(l.seen.has(e))return!1;l.seen.add(e);const o=e._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return aa(o.element,l);if(o.type==="set")return aa(o.valueType,l);if(o.type==="lazy")return aa(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return aa(o.innerType,l);if(o.type==="intersection")return aa(o.left,l)||aa(o.right,l);if(o.type==="record"||o.type==="map")return aa(o.keyType,l)||aa(o.valueType,l);if(o.type==="pipe")return aa(o.in,l)||aa(o.out,l);if(o.type==="object"){for(const d in o.shape)if(aa(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(aa(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(aa(d,l))return!0;return!!(o.rest&&aa(o.rest,l))}return!1}const DC=(e,i={})=>l=>{const o=a_({...l,processors:i});return Fn(e,o),i_(o,e),s_(o,e)},od=(e,i,l={})=>o=>{const{libraryOptions:d,target:m}=o??{},f=a_({...d??{},target:m,io:i,processors:l});return Fn(e,f),i_(f,e),s_(f,e)},RC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},LC=(e,i,l,o)=>{const d=l;d.type="string";const{minimum:m,maximum:f,format:x,patterns:v,contentEncoding:b}=e._zod.bag;if(typeof m=="number"&&(d.minLength=m),typeof f=="number"&&(d.maxLength=f),x&&(d.format=RC[x]??x,d.format===""&&delete d.format,x==="time"&&delete d.format),b&&(d.contentEncoding=b),v&&v.size>0){const S=[...v];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...i.target==="draft-07"||i.target==="draft-04"||i.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},PC=(e,i,l,o)=>{const d=l,{minimum:m,maximum:f,format:x,multipleOf:v,exclusiveMaximum:b,exclusiveMinimum:S}=e._zod.bag;typeof x=="string"&&x.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(i.target==="draft-04"||i.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof m=="number"&&(d.minimum=m,typeof S=="number"&&i.target!=="draft-04"&&(S>=m?delete d.minimum:delete d.exclusiveMinimum)),typeof b=="number"&&(i.target==="draft-04"||i.target==="openapi-3.0"?(d.maximum=b,d.exclusiveMaximum=!0):d.exclusiveMaximum=b),typeof f=="number"&&(d.maximum=f,typeof b=="number"&&i.target!=="draft-04"&&(b<=f?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},IC=(e,i,l,o)=>{l.type="boolean"},BC=(e,i,l,o)=>{i.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},UC=(e,i,l,o)=>{l.not={}},FC=(e,i,l,o)=>{},qC=(e,i,l,o)=>{const d=e._zod.def,m=Pb(d.entries);m.every(f=>typeof f=="number")&&(l.type="number"),m.every(f=>typeof f=="string")&&(l.type="string"),l.enum=m},ZC=(e,i,l,o)=>{if(i.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},HC=(e,i,l,o)=>{if(i.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},KC=(e,i,l,o)=>{const d=l,m=e._zod.def,{minimum:f,maximum:x}=e._zod.bag;typeof f=="number"&&(d.minItems=f),typeof x=="number"&&(d.maxItems=x),d.type="array",d.items=Fn(m.element,i,{...o,path:[...o.path,"items"]})},QC=(e,i,l,o)=>{const d=l,m=e._zod.def;d.type="object",d.properties={};const f=m.shape;for(const b in f)d.properties[b]=Fn(f[b],i,{...o,path:[...o.path,"properties",b]});const x=new Set(Object.keys(f)),v=new Set([...x].filter(b=>{const S=m.shape[b]._zod;return i.io==="input"?S.optin===void 0:S.optout===void 0}));v.size>0&&(d.required=Array.from(v)),m.catchall?._zod.def.type==="never"?d.additionalProperties=!1:m.catchall?m.catchall&&(d.additionalProperties=Fn(m.catchall,i,{...o,path:[...o.path,"additionalProperties"]})):i.io==="output"&&(d.additionalProperties=!1)},GC=(e,i,l,o)=>{const d=e._zod.def,m=d.inclusive===!1,f=d.options.map((x,v)=>Fn(x,i,{...o,path:[...o.path,m?"oneOf":"anyOf",v]}));m?l.oneOf=f:l.anyOf=f},VC=(e,i,l,o)=>{const d=e._zod.def,m=Fn(d.left,i,{...o,path:[...o.path,"allOf",0]}),f=Fn(d.right,i,{...o,path:[...o.path,"allOf",1]}),x=b=>"allOf"in b&&Object.keys(b).length===1,v=[...x(m)?m.allOf:[m],...x(f)?f.allOf:[f]];l.allOf=v},YC=(e,i,l,o)=>{const d=e._zod.def,m=Fn(d.innerType,i,o),f=i.seen.get(e);i.target==="openapi-3.0"?(f.ref=d.innerType,l.nullable=!0):l.anyOf=[m,{type:"null"}]},$C=(e,i,l,o)=>{const d=e._zod.def;Fn(d.innerType,i,o);const m=i.seen.get(e);m.ref=d.innerType},XC=(e,i,l,o)=>{const d=e._zod.def;Fn(d.innerType,i,o);const m=i.seen.get(e);m.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},JC=(e,i,l,o)=>{const d=e._zod.def;Fn(d.innerType,i,o);const m=i.seen.get(e);m.ref=d.innerType,i.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},WC=(e,i,l,o)=>{const d=e._zod.def;Fn(d.innerType,i,o);const m=i.seen.get(e);m.ref=d.innerType;let f;try{f=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=f},eA=(e,i,l,o)=>{const d=e._zod.def,m=i.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;Fn(m,i,o);const f=i.seen.get(e);f.ref=m},tA=(e,i,l,o)=>{const d=e._zod.def;Fn(d.innerType,i,o);const m=i.seen.get(e);m.ref=d.innerType,l.readOnly=!0},r_=(e,i,l,o)=>{const d=e._zod.def;Fn(d.innerType,i,o);const m=i.seen.get(e);m.ref=d.innerType},nA=Ee("ZodISODateTime",(e,i)=>{iT.init(e,i),un.init(e,i)});function aA(e){return uC(nA,e)}const iA=Ee("ZodISODate",(e,i)=>{sT.init(e,i),un.init(e,i)});function sA(e){return cC(iA,e)}const rA=Ee("ZodISOTime",(e,i)=>{rT.init(e,i),un.init(e,i)});function lA(e){return dC(rA,e)}const oA=Ee("ZodISODuration",(e,i)=>{lT.init(e,i),un.init(e,i)});function uA(e){return mC(oA,e)}const cA=(e,i)=>{qb.init(e,i),e.name="ZodError",Object.defineProperties(e,{format:{value:l=>Y1(e,l)},flatten:{value:l=>V1(e,l)},addIssue:{value:l=>{e.issues.push(l),e.message=JSON.stringify(e.issues,Cf,2)}},addIssues:{value:l=>{e.issues.push(...l),e.message=JSON.stringify(e.issues,Cf,2)}},isEmpty:{get(){return e.issues.length===0}}})},ti=Ee("ZodError",cA,{Parent:Error}),dA=up(ti),mA=cp(ti),hA=jd(ti),fA=Sd(ti),pA=J1(ti),gA=W1(ti),xA=ek(ti),yA=tk(ti),vA=nk(ti),bA=ak(ti),_A=ik(ti),NA=sk(ti),pn=Ee("ZodType",(e,i)=>(fn.init(e,i),Object.assign(e["~standard"],{jsonSchema:{input:od(e,"input"),output:od(e,"output")}}),e.toJSONSchema=DC(e,{}),e.def=i,e.type=i.type,Object.defineProperty(e,"_def",{value:i}),e.check=(...l)=>e.clone(tr(i,{checks:[...i.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),e.with=e.check,e.clone=(l,o)=>nr(e,l,o),e.brand=()=>e,e.register=((l,o)=>(l.add(e,o),e)),e.parse=(l,o)=>dA(e,l,o,{callee:e.parse}),e.safeParse=(l,o)=>hA(e,l,o),e.parseAsync=async(l,o)=>mA(e,l,o,{callee:e.parseAsync}),e.safeParseAsync=async(l,o)=>fA(e,l,o),e.spa=e.safeParseAsync,e.encode=(l,o)=>pA(e,l,o),e.decode=(l,o)=>gA(e,l,o),e.encodeAsync=async(l,o)=>xA(e,l,o),e.decodeAsync=async(l,o)=>yA(e,l,o),e.safeEncode=(l,o)=>vA(e,l,o),e.safeDecode=(l,o)=>bA(e,l,o),e.safeEncodeAsync=async(l,o)=>_A(e,l,o),e.safeDecodeAsync=async(l,o)=>NA(e,l,o),e.refine=(l,o)=>e.check(pz(l,o)),e.superRefine=l=>e.check(gz(l)),e.overwrite=l=>e.check(Ql(l)),e.optional=()=>N0(e),e.exactOptional=()=>nz(e),e.nullable=()=>j0(e),e.nullish=()=>N0(j0(e)),e.nonoptional=l=>oz(e,l),e.array=()=>VA(e),e.or=l=>ud([e,l]),e.and=l=>JA(e,l),e.transform=l=>S0(e,ez(l)),e.default=l=>sz(e,l),e.prefault=l=>lz(e,l),e.catch=l=>cz(e,l),e.pipe=l=>S0(e,l),e.readonly=()=>hz(e),e.describe=l=>{const o=e.clone();return $o.add(o,{description:l}),o},Object.defineProperty(e,"description",{get(){return $o.get(e)?.description},configurable:!0}),e.meta=(...l)=>{if(l.length===0)return $o.get(e);const o=e.clone();return $o.add(o,l[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=l=>l(e),e)),l_=Ee("_ZodString",(e,i)=>{dp.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(o,d,m)=>LC(e,o,d);const l=e._zod.bag;e.format=l.format??null,e.minLength=l.minimum??null,e.maxLength=l.maximum??null,e.regex=(...o)=>e.check(vC(...o)),e.includes=(...o)=>e.check(NC(...o)),e.startsWith=(...o)=>e.check(jC(...o)),e.endsWith=(...o)=>e.check(SC(...o)),e.min=(...o)=>e.check(ld(...o)),e.max=(...o)=>e.check(t_(...o)),e.length=(...o)=>e.check(n_(...o)),e.nonempty=(...o)=>e.check(ld(1,...o)),e.lowercase=o=>e.check(bC(o)),e.uppercase=o=>e.check(_C(o)),e.trim=()=>e.check(EC()),e.normalize=(...o)=>e.check(wC(...o)),e.toLowerCase=()=>e.check(kC()),e.toUpperCase=()=>e.check(TC()),e.slugify=()=>e.check(CC())}),jA=Ee("ZodString",(e,i)=>{dp.init(e,i),l_.init(e,i),e.email=l=>e.check(qT(SA,l)),e.url=l=>e.check(GT(wA,l)),e.jwt=l=>e.check(oC(UA,l)),e.emoji=l=>e.check(VT(EA,l)),e.guid=l=>e.check(p0(v0,l)),e.uuid=l=>e.check(ZT(Uc,l)),e.uuidv4=l=>e.check(HT(Uc,l)),e.uuidv6=l=>e.check(KT(Uc,l)),e.uuidv7=l=>e.check(QT(Uc,l)),e.nanoid=l=>e.check(YT(kA,l)),e.guid=l=>e.check(p0(v0,l)),e.cuid=l=>e.check($T(TA,l)),e.cuid2=l=>e.check(XT(CA,l)),e.ulid=l=>e.check(JT(AA,l)),e.base64=l=>e.check(sC(PA,l)),e.base64url=l=>e.check(rC(IA,l)),e.xid=l=>e.check(WT(zA,l)),e.ksuid=l=>e.check(eC(MA,l)),e.ipv4=l=>e.check(tC(OA,l)),e.ipv6=l=>e.check(nC(DA,l)),e.cidrv4=l=>e.check(aC(RA,l)),e.cidrv6=l=>e.check(iC(LA,l)),e.e164=l=>e.check(lC(BA,l)),e.datetime=l=>e.check(aA(l)),e.date=l=>e.check(sA(l)),e.time=l=>e.check(lA(l)),e.duration=l=>e.check(uA(l))});function Un(e){return FT(jA,e)}const un=Ee("ZodStringFormat",(e,i)=>{ln.init(e,i),l_.init(e,i)}),SA=Ee("ZodEmail",(e,i)=>{Yk.init(e,i),un.init(e,i)}),v0=Ee("ZodGUID",(e,i)=>{Gk.init(e,i),un.init(e,i)}),Uc=Ee("ZodUUID",(e,i)=>{Vk.init(e,i),un.init(e,i)}),wA=Ee("ZodURL",(e,i)=>{$k.init(e,i),un.init(e,i)}),EA=Ee("ZodEmoji",(e,i)=>{Xk.init(e,i),un.init(e,i)}),kA=Ee("ZodNanoID",(e,i)=>{Jk.init(e,i),un.init(e,i)}),TA=Ee("ZodCUID",(e,i)=>{Wk.init(e,i),un.init(e,i)}),CA=Ee("ZodCUID2",(e,i)=>{eT.init(e,i),un.init(e,i)}),AA=Ee("ZodULID",(e,i)=>{tT.init(e,i),un.init(e,i)}),zA=Ee("ZodXID",(e,i)=>{nT.init(e,i),un.init(e,i)}),MA=Ee("ZodKSUID",(e,i)=>{aT.init(e,i),un.init(e,i)}),OA=Ee("ZodIPv4",(e,i)=>{oT.init(e,i),un.init(e,i)}),DA=Ee("ZodIPv6",(e,i)=>{uT.init(e,i),un.init(e,i)}),RA=Ee("ZodCIDRv4",(e,i)=>{cT.init(e,i),un.init(e,i)}),LA=Ee("ZodCIDRv6",(e,i)=>{dT.init(e,i),un.init(e,i)}),PA=Ee("ZodBase64",(e,i)=>{mT.init(e,i),un.init(e,i)}),IA=Ee("ZodBase64URL",(e,i)=>{fT.init(e,i),un.init(e,i)}),BA=Ee("ZodE164",(e,i)=>{pT.init(e,i),un.init(e,i)}),UA=Ee("ZodJWT",(e,i)=>{xT.init(e,i),un.init(e,i)}),o_=Ee("ZodNumber",(e,i)=>{Xb.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(o,d,m)=>PC(e,o,d),e.gt=(o,d)=>e.check(x0(o,d)),e.gte=(o,d)=>e.check(Dh(o,d)),e.min=(o,d)=>e.check(Dh(o,d)),e.lt=(o,d)=>e.check(g0(o,d)),e.lte=(o,d)=>e.check(Oh(o,d)),e.max=(o,d)=>e.check(Oh(o,d)),e.int=o=>e.check(b0(o)),e.safe=o=>e.check(b0(o)),e.positive=o=>e.check(x0(0,o)),e.nonnegative=o=>e.check(Dh(0,o)),e.negative=o=>e.check(g0(0,o)),e.nonpositive=o=>e.check(Oh(0,o)),e.multipleOf=(o,d)=>e.check(y0(o,d)),e.step=(o,d)=>e.check(y0(o,d)),e.finite=()=>e;const l=e._zod.bag;e.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),e.isFinite=!0,e.format=l.format??null}),FA=Ee("ZodNumberFormat",(e,i)=>{yT.init(e,i),o_.init(e,i)});function b0(e){return fC(FA,e)}const qA=Ee("ZodBoolean",(e,i)=>{vT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>IC(e,l,o)});function Ed(e){return pC(qA,e)}const ZA=Ee("ZodNull",(e,i)=>{bT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>BC(e,l,o)});function zf(e){return gC(ZA,e)}const HA=Ee("ZodUnknown",(e,i)=>{_T.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>FC()});function _0(){return xC(HA)}const KA=Ee("ZodNever",(e,i)=>{NT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>UC(e,l,o)});function QA(e){return yC(KA,e)}const GA=Ee("ZodArray",(e,i)=>{jT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>KC(e,l,o,d),e.element=i.element,e.min=(l,o)=>e.check(ld(l,o)),e.nonempty=l=>e.check(ld(1,l)),e.max=(l,o)=>e.check(t_(l,o)),e.length=(l,o)=>e.check(n_(l,o)),e.unwrap=()=>e.element});function VA(e,i){return AC(GA,e,i)}const YA=Ee("ZodObject",(e,i)=>{wT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>QC(e,l,o,d),Zt(e,"shape",()=>i.shape),e.keyof=()=>Of(Object.keys(e._zod.def.shape)),e.catchall=l=>e.clone({...e._zod.def,catchall:l}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_0()}),e.loose=()=>e.clone({...e._zod.def,catchall:_0()}),e.strict=()=>e.clone({...e._zod.def,catchall:QA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=l=>Z1(e,l),e.safeExtend=l=>H1(e,l),e.merge=l=>K1(e,l),e.pick=l=>F1(e,l),e.omit=l=>q1(e,l),e.partial=(...l)=>Q1(u_,e,l[0]),e.required=(...l)=>G1(c_,e,l[0])});function Da(e,i){const l={type:"object",shape:e??{},...We(i)};return new YA(l)}const $A=Ee("ZodUnion",(e,i)=>{ET.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>GC(e,l,o,d),e.options=i.options});function ud(e,i){return new $A({type:"union",options:e,...We(i)})}const XA=Ee("ZodIntersection",(e,i)=>{kT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>VC(e,l,o,d)});function JA(e,i){return new XA({type:"intersection",left:e,right:i})}const Mf=Ee("ZodEnum",(e,i)=>{TT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(o,d,m)=>qC(e,o,d),e.enum=i.entries,e.options=Object.values(i.entries);const l=new Set(Object.keys(i.entries));e.extract=(o,d)=>{const m={};for(const f of o)if(l.has(f))m[f]=i.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Mf({...i,checks:[],...We(d),entries:m})},e.exclude=(o,d)=>{const m={...i.entries};for(const f of o)if(l.has(f))delete m[f];else throw new Error(`Key ${f} not found in enum`);return new Mf({...i,checks:[],...We(d),entries:m})}});function Of(e,i){const l=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new Mf({type:"enum",entries:l,...We(i)})}const WA=Ee("ZodTransform",(e,i)=>{CT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>HC(e,l),e._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Rb(e.constructor.name);l.addIssue=m=>{if(typeof m=="string")l.issues.push(au(m,l.value,i));else{const f=m;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=l.value),f.inst??(f.inst=e),l.issues.push(au(f))}};const d=i.transform(l.value,l);return d instanceof Promise?d.then(m=>(l.value=m,l)):(l.value=d,l)}});function ez(e){return new WA({type:"transform",transform:e})}const u_=Ee("ZodOptional",(e,i)=>{e_.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>r_(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function N0(e){return new u_({type:"optional",innerType:e})}const tz=Ee("ZodExactOptional",(e,i)=>{AT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>r_(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function nz(e){return new tz({type:"optional",innerType:e})}const az=Ee("ZodNullable",(e,i)=>{zT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>YC(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function j0(e){return new az({type:"nullable",innerType:e})}const iz=Ee("ZodDefault",(e,i)=>{MT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>XC(e,l,o,d),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function sz(e,i){return new iz({type:"default",innerType:e,get defaultValue(){return typeof i=="function"?i():Bb(i)}})}const rz=Ee("ZodPrefault",(e,i)=>{OT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>JC(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function lz(e,i){return new rz({type:"prefault",innerType:e,get defaultValue(){return typeof i=="function"?i():Bb(i)}})}const c_=Ee("ZodNonOptional",(e,i)=>{DT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>$C(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function oz(e,i){return new c_({type:"nonoptional",innerType:e,...We(i)})}const uz=Ee("ZodCatch",(e,i)=>{RT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>WC(e,l,o,d),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function cz(e,i){return new uz({type:"catch",innerType:e,catchValue:typeof i=="function"?i:()=>i})}const dz=Ee("ZodPipe",(e,i)=>{LT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>eA(e,l,o,d),e.in=i.in,e.out=i.out});function S0(e,i){return new dz({type:"pipe",in:e,out:i})}const mz=Ee("ZodReadonly",(e,i)=>{PT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>tA(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function hz(e){return new mz({type:"readonly",innerType:e})}const fz=Ee("ZodCustom",(e,i)=>{IT.init(e,i),pn.init(e,i),e._zod.processJSONSchema=(l,o,d)=>ZC(e,l)});function pz(e,i={}){return zC(fz,e,i)}function gz(e){return MC(e)}function wn(e){return hC(o_,e)}const xz=Da({employee_id:wn().int().positive(),expires_in_minutes:wn().int().positive().max(1440)});function Fc(e){return e?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(e)):"-"}function w0(e,i){return`${new Intl.DateTimeFormat("tr-TR",{month:"long"}).format(new Date(Date.UTC(e,i-1,1)))} ${e}`}function yz(e){return e==="FINISHED"?"status-badge status-badge-ok":e==="IN_PROGRESS"?"status-badge status-badge-pending":"status-badge status-badge-neutral"}function vz(){const e=qn(),[i,l]=_.useState(""),[o,d]=_.useState("30"),[m,f]=_.useState(null),[x,v]=_.useState(null),b=Ue({queryKey:["departments"],queryFn:er}),S=Ue({queryKey:["employees"],queryFn:()=>gi({status:"active"})}),w=Ue({queryKey:["devices"],queryFn:wb}),C=Ue({queryKey:["leaves","dashboard"],queryFn:()=>kb({})}),M=Ue({queryKey:["attendance-events","dashboard"],queryFn:()=>np({limit:8})}),k=Ue({queryKey:["dashboard-employee-snapshot",i],queryFn:()=>Eb({employee_id:Number(i)}),enabled:!!i,staleTime:2e4}),A=Ve({mutationFn:Tb,onSuccess:Z=>{f({token:Z.token,invite_url:Z.invite_url}),v(null),e.invalidateQueries({queryKey:["devices"]})},onError:Z=>{v(p1(Z,"Claim token olusturulamadi."))}}),O=()=>{f(null),v(null);const Z=xz.safeParse({employee_id:i,expires_in_minutes:o});if(!Z.success){v(Z.error.issues[0]?.message??"Form alanlarini kontrol et.");return}A.mutate(Z.data)},B=b.data??[],P=S.data??[],R=w.data??[],G=C.data??[],V=M.data??[],W=_.useMemo(()=>P.find(Z=>String(Z.id)===i)??null,[P,i]);return b.isLoading||S.isLoading||w.isLoading||C.isLoading||M.isLoading?a.jsx(Lt,{}):b.isError||S.isError||w.isError||C.isError||M.isError?a.jsx(Et,{message:"Dashboard verileri alinamadi."}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(An,{title:"Genel Bakis",description:"Calisan odakli claim token operasyonu ve anlik puantaj gorunumu."}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[a.jsxs(Re,{children:[a.jsx("p",{className:"text-sm text-slate-500",children:"Departman"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:B.length})]}),a.jsxs(Re,{children:[a.jsx("p",{className:"text-sm text-slate-500",children:"Calisan"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:P.length})]}),a.jsxs(Re,{children:[a.jsx("p",{className:"text-sm text-slate-500",children:"Cihaz"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:R.length})]}),a.jsxs(Re,{children:[a.jsx("p",{className:"text-sm text-slate-500",children:"Izin Kaydi"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:G.length})]})]}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.05fr_1.3fr]",children:[a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Claim Token Uretimi"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Calisan adi veya ID secip employee claim URL olustur."}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx(Ja,{label:"Calisan",employees:P,value:i,onChange:l,placeholder:"Calisan adi veya #ID",helperText:"Tek bir calisan secildiginde dashboard ozet kartlari otomatik dolar."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Token suresi (dakika)",a.jsx("input",{value:o,onChange:Z=>d(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"30"})]})]}),W?a.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[a.jsxs("p",{children:["Secili: #",W.id," - ",W.full_name]}),a.jsxs("p",{children:["Departman: ",W.department_id??"-"]})]}):null,a.jsx("button",{type:"button",onClick:O,disabled:A.isPending||!i,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Olusturuluyor...":"Claim Token Olustur"}),m?a.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[a.jsxs("p",{className:"font-semibold",children:["Token: ",m.token]}),a.jsxs("p",{className:"mt-1 break-all",children:["URL: ",m.invite_url]})]}):null,x?a.jsx("div",{className:"form-validation",children:x}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Canli Ozet"}),i?null:a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bir calisan secildiginde bu ay/gecen ay mesai, cihaz ve konum bilgisi gorunur."}),i&&k.isLoading?a.jsx(Lt,{label:"Calisan ozeti yukleniyor..."}):null,i&&k.isError?a.jsx(Et,{message:"Calisan ozeti alinamadi."}):null,k.data?a.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:yz(k.data.today_status),children:k.data.today_status}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Aktif cihaz: ",k.data.active_devices,"/",k.data.total_devices]}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Son guncelleme: ",Fc(k.data.generated_at_utc)]})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:w0(k.data.current_month.year,k.data.current_month.month)}),a.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",a.jsx(Be,{minutes:k.data.current_month.worked_minutes})]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",a.jsx(Be,{minutes:k.data.current_month.plan_overtime_minutes})]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",a.jsx(Be,{minutes:k.data.current_month.extra_work_minutes})]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",a.jsx(Be,{minutes:k.data.current_month.overtime_minutes})]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:w0(k.data.previous_month.year,k.data.previous_month.month)}),a.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",a.jsx(Be,{minutes:k.data.previous_month.worked_minutes})]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",a.jsx(Be,{minutes:k.data.previous_month.plan_overtime_minutes})]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",a.jsx(Be,{minutes:k.data.previous_month.extra_work_minutes})]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",a.jsx(Be,{minutes:k.data.previous_month.overtime_minutes})]})]})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Puantaj Olayi"}),k.data.last_event?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Tip: ",k.data.last_event.event_type]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Fc(k.data.last_event.ts_utc)]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Konum: ",k.data.last_event.location_status]})]}):a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Kayit bulunamadi."})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Konum"}),k.data.latest_location?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Lat/Lon: ",k.data.latest_location.lat.toFixed(6),", ",k.data.latest_location.lon.toFixed(6)]}),a.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Fc(k.data.latest_location.ts_utc)]})]}):a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Konum verisi yok."})]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cihazlar"}),k.data.devices.length===0?a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cihaz kaydi bulunamadi."}):a.jsx("div",{className:"mt-2 space-y-1 text-xs text-slate-700",children:k.data.devices.slice(0,8).map(Z=>a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded border border-slate-100 px-2 py-1",children:[a.jsxs("span",{children:["#",Z.id," - ",Z.device_fingerprint]}),a.jsx("span",{className:Z.is_active?"status-badge status-badge-ok":"status-badge status-badge-danger",children:Z.is_active?"AKTIF":"PASIF"})]},Z.id))})]})]}):null]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Son Attendance Eventleri"}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"ID"}),a.jsx("th",{className:"py-2",children:"Calisan"}),a.jsx("th",{className:"py-2",children:"Tip"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Zaman"})]})}),a.jsx("tbody",{children:V.map(Z=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Z.id}),a.jsx("td",{className:"py-2",children:Z.employee_id}),a.jsx("td",{className:"py-2",children:Z.type}),a.jsx("td",{className:"py-2",children:Z.location_status}),a.jsx("td",{className:"py-2",children:Fc(Z.ts_utc)})]},Z.id))})]})})]})]})}function bz(e,i){const l=window.URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=i,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function _z(){const e=new Date,{pushToast:i}=Zn(),l={year:String(e.getFullYear()),month:String(e.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=_.useState(l),[m,f]=_.useState(l),[x,v]=_.useState(!1),b=Ue({queryKey:["departments"],queryFn:er}),S=Number(m.year),w=Number(m.month),C=Number(m.departmentId),M=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=Ue({queryKey:["department-summary",S,w,m.departmentId||"all",m.includeInactive?"with-inactive":"active-only"],queryFn:()=>$E({year:S,month:w,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:m.includeInactive}),enabled:M}),A=k.data??[],O=_.useMemo(()=>A.reduce((V,W)=>(V.worked+=W.worked_minutes,V.planOvertime+=W.plan_overtime_minutes,V.legalExtra+=W.legal_extra_work_minutes,V.legalOvertime+=W.legal_overtime_minutes,V.employeeCount+=W.employee_count,V),{worked:0,planOvertime:0,legalExtra:0,legalOvertime:0,employeeCount:0}),[A]),B=_.useMemo(()=>{const V=[`Yl: ${m.year}`,`Ay: ${m.month}`];if(m.departmentId){const W=b.data?.find(Z=>Z.id===Number(m.departmentId));V.push(`Departman: ${W?.name??m.departmentId}`)}return m.includeInactive&&V.push("Arivdekiler dahil"),V},[m,b.data]),P=()=>f({...o}),R=()=>{d(l),f(l)},G=async()=>{if(!M){i({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const V=Number.isFinite(C)&&C>0?await i1({department_id:C,year:S,month:w,include_inactive:m.includeInactive}):await s1({year:S,month:w,include_inactive:m.includeInactive}),W=Number.isFinite(C)&&C>0?`department-${C}`:"all";bz(V,`puantaj-${W}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch(V){i({variant:"error",title:"Excel indirilemedi",description:Pe(V,"Dosya oluturulamad.").message})}finally{v(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma, plan st sre ve yasal fazla mesai deerlerini karlatrn.",action:a.jsx("button",{type:"button",onClick:()=>{G()},disabled:x,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:x?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",a.jsx("input",{type:"number",value:o.year,onChange:V=>d(W=>({...W,year:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",a.jsx("input",{type:"number",value:o.month,onChange:V=>d(W=>({...W,month:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",a.jsxs("select",{value:o.departmentId,onChange:V=>d(W=>({...W,departmentId:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:b.isLoading,children:[a.jsx("option",{value:"",children:"Tm"}),(b.data??[]).map(V=>a.jsxs("option",{value:V.id,children:["#",V.id," - ",V.name]},V.id))]})]})]}),a.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:V=>d(W=>({...W,includeInactive:V.target.checked}))}),"Arivdeki alanlar dahil et"]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:P,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),a.jsx("button",{type:"button",onClick:R,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:B.map(V=>a.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:V},V))})]}),M?null:a.jsx(Et,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?a.jsx(Lt,{}):null,k.isError?a.jsx(Et,{message:Pe(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?a.jsxs(a.Fragment,{children:[a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),a.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-5",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:O.worked})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Plan st Sre"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:O.planOvertime})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Sre"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:O.legalExtra})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Mesai"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:O.legalOvertime})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),a.jsx("p",{className:"text-lg font-semibold",children:O.employeeCount})]})]})]}),A.length===0?a.jsx(Re,{children:a.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):a.jsx(Re,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"alan Says"}),a.jsx("th",{className:"py-2",children:"Toplam alma"}),a.jsx("th",{className:"py-2",children:"Plan st"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Sre"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"})]})}),a.jsx("tbody",{children:A.map(V=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsxs("td",{className:"py-2",children:["#",V.department_id," - ",V.department_name]}),a.jsx("td",{className:"py-2",children:V.employee_count}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:V.worked_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:V.plan_overtime_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:V.legal_extra_work_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:V.legal_overtime_minutes})})]},V.department_id))})]})})})]}):null]})}function cs({value:e,onChange:i,placeholder:l="Isme gore ara..."}){return a.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",a.jsx("input",{value:e,onChange:o=>i(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const E0=Da({name:Un().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:ud([wn().int().positive(),zf()])});function k0(e){if(Jt.isAxiosError(e)&&e.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const i=Pe(e,"Departman olusturulamadi.");return i.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":i.message}function Nz(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState(""),[f,x]=_.useState(""),[v,b]=_.useState(!1),[S,w]=_.useState(""),[C,M]=_.useState(null),[k,A]=_.useState(""),[O,B]=_.useState(""),[P,R]=_.useState(null),G=Ue({queryKey:["departments",S],queryFn:()=>tE(S?{region_id:Number(S)}:void 0)}),V=Ue({queryKey:["regions","departments-page"],queryFn:()=>bd({include_inactive:!0})}),W=Ve({mutationFn:nE,onSuccess:le=>{o(""),m(""),R(null),b(!1),i({variant:"success",title:"Departman olusturuldu",description:`${le.name} basariyla eklendi.`}),e.invalidateQueries({queryKey:["departments"]})},onError:le=>{const ue=k0(le);R(ue),i({variant:"error",title:"Departman olusturulamadi",description:ue})}}),Z=Ve({mutationFn:({departmentId:le,name:ue,regionIdValue:q})=>aE(le,{name:ue,region_id:q}),onSuccess:le=>{R(null),M(null),A(""),B(""),i({variant:"success",title:"Departman guncellendi",description:`${le.name} basariyla guncellendi.`}),e.invalidateQueries({queryKey:["departments"]})},onError:le=>{const ue=k0(le);R(ue),i({variant:"error",title:"Departman guncellenemedi",description:ue})}}),Y=le=>{le.preventDefault(),R(null);const ue=d.trim()===""?null:Number(d),q=E0.safeParse({name:l,region_id:ue});if(!q.success){const K=q.error.issues[0]?.message??"Departman alanlarini kontrol edin.";R(K),i({variant:"error",title:"Form hatasi",description:K});return}W.mutate({name:q.data.name,region_id:q.data.region_id})},te=le=>{if(le.preventDefault(),R(null),!C)return;const ue=O.trim()===""?null:Number(O),q=E0.safeParse({name:k,region_id:ue});if(!q.success){const K=q.error.issues[0]?.message??"Departman alanlarini kontrol edin.";R(K),i({variant:"error",title:"Form hatasi",description:K});return}Z.mutate({departmentId:C,name:q.data.name,regionIdValue:q.data.region_id})},fe=G.data??[],xe=V.data??[],de=_.useMemo(()=>new Map(xe.map(le=>[le.id,le.name])),[xe]),_e=_.useMemo(()=>{const le=f.trim().toLowerCase();return le?fe.filter(ue=>ue.name.toLowerCase().includes(le)):fe},[fe,f]);return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:a.jsx("button",{type:"button",onClick:()=>b(le=>!le),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?a.jsxs(Re,{children:[a.jsxs("form",{onSubmit:Y,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",a.jsx("input",{value:l,onChange:le=>o(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",a.jsxs("select",{value:d,onChange:le=>m(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Bolge yok"}),xe.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]}),a.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[a.jsx("button",{type:"submit",disabled:W.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:W.isPending?"Kaydediliyor...":"Kaydet"}),a.jsx("button",{type:"button",onClick:()=>{b(!1),R(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),P?a.jsx("div",{className:"form-validation",children:P}):null]}):null,C?a.jsxs(Re,{children:[a.jsxs("form",{onSubmit:te,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",a.jsx("input",{value:k,onChange:le=>A(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",a.jsxs("select",{value:O,onChange:le=>B(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Bolge yok"}),xe.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]}),a.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[a.jsx("button",{type:"submit",disabled:Z.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Z.isPending?"Guncelleniyor...":"Guncelle"}),a.jsx("button",{type:"button",onClick:()=>{M(null),A(""),B(""),R(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),P?a.jsx("div",{className:"form-validation",children:P}):null]}):null,G.isLoading||V.isLoading?a.jsx(Lt,{}):null,G.isError||V.isError?a.jsx(Et,{message:"Departman verileri alinamadi."}):null,!G.isLoading&&!G.isError&&!V.isLoading&&!V.isError?a.jsxs(Re,{children:[a.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[a.jsx(cs,{value:f,onChange:x,placeholder:"Departman adina gore ara..."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",a.jsxs("select",{value:S,onChange:le=>w(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tum bolgeler"}),xe.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Departman ID"}),a.jsx("th",{className:"py-2",children:"Departman Adi"}),a.jsx("th",{className:"py-2",children:"Bolge"}),a.jsx("th",{className:"py-2",children:"Islem"})]})}),a.jsx("tbody",{children:_e.map(le=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:le.id}),a.jsx("td",{className:"py-2",children:le.name}),a.jsx("td",{className:"py-2",children:le.region_name??(le.region_id?de.get(le.region_id):"-")??"-"}),a.jsx("td",{className:"py-2",children:a.jsx("button",{type:"button",onClick:()=>{M(le.id),A(le.name),B(le.region_id?String(le.region_id):""),R(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},le.id))})]})}),_e.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Ws({value:e}){const i=e.toUpperCase();return i==="OK"||i==="AKTIF"||i==="APPROVED"?a.jsx("span",{className:"status-badge status-badge-ok",children:e}):i==="INCOMPLETE"?a.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):i==="LEAVE"?a.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):i==="OFF"?a.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):i==="PENDING"?a.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):i==="REJECTED"||i==="PASIF"?a.jsx("span",{className:"status-badge status-badge-danger",children:e}):a.jsx("span",{className:"status-badge status-badge-neutral",children:e})}function Rh(e){return e?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(e)):"-"}function jz(e){return e==="ACTIVE"?"Aktif":"Kullanildi/Suresi Doldu"}function Sz(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState(""),[f,x]=_.useState(!0),[v,b]=_.useState(""),[S,w]=_.useState(1),[C,M]=_.useState(50),[k,A]=_.useState(null),[O,B]=_.useState(null),P=l?Number(l):void 0,R=P?0:(S-1)*C,G=Ue({queryKey:["employee-device-overview-summary",P??null,d,f,v,S,C],queryFn:()=>Tf({employee_id:P,region_id:d?Number(d):void 0,include_inactive:f,q:v.trim()||void 0,offset:R,limit:P?1:C,device_limit:1})}),V=Ue({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>Tf({employee_id:k??void 0,include_inactive:!0,include_recovery_secrets:!0,offset:0,limit:1,device_limit:100})}),W=Ue({queryKey:["employees","all-for-devices"],queryFn:()=>gi({include_inactive:!0,status:"all"})}),Z=Ue({queryKey:["regions","devices-page"],queryFn:()=>bd({include_inactive:!0})}),Y=Ve({mutationFn:({deviceId:ue,isActive:q})=>GE(ue,{is_active:q}),onSuccess:ue=>{i({variant:"success",title:ue.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${ue.id} durumu gncellendi.`}),e.invalidateQueries({queryKey:["employee-device-overview-summary"]}),e.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:ue=>{i({variant:"error",title:"Cihaz durumu gncellenemedi",description:Pe(ue,"lem baarsz.").message})}}),te=W.data??[],fe=Z.data??[],xe=G.data??[],de=V.data?.[0],_e=!P&&xe.length===C,le=!P&&S>1;return G.isLoading||W.isLoading||Z.isLoading?a.jsx(Lt,{}):G.isError?a.jsx(Et,{message:Pe(G.error,"Cihaz verisi alnamad.").message}):W.isError?a.jsx(Et,{message:Pe(W.error,"alan listesi alnamad.").message}):Z.isError?a.jsx(Et,{message:Pe(Z.error,"Bolge listesi alinamadi.").message}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),a.jsxs(Re,{children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[a.jsx(Ja,{label:"alan filtresi",employees:te,value:l,onChange:ue=>{o(ue),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",a.jsx("input",{type:"text",value:v,onChange:ue=>{b(ue.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",a.jsxs("select",{value:C,onChange:ue=>{M(Number(ue.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",a.jsxs("select",{value:d,onChange:ue=>{m(ue.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tum bolgeler"}),fe.map(ue=>a.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:f,onChange:ue=>{x(ue.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),P?null:a.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",disabled:!le,onClick:()=>{w(ue=>Math.max(1,ue-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),a.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),a.jsx("button",{type:"button",disabled:!_e,onClick:()=>{w(ue=>ue+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),a.jsxs(Re,{children:[a.jsx("div",{className:"max-h-[68vh] overflow-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2",children:"alan"}),a.jsx("th",{className:"px-2 py-2",children:"Departman"}),a.jsx("th",{className:"px-2 py-2",children:"Durum"}),a.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),a.jsx("th",{className:"px-2 py-2",children:"Token"}),a.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),a.jsx("tbody",{children:xe.map(ue=>{const q=k===ue.employee_id;return a.jsxs(_.Fragment,{children:[a.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"font-medium text-slate-900",children:["#",ue.employee_id," - ",ue.employee_name]})}),a.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:ue.department_name??ue.department_id??"-"}),a.jsx("td",{className:"px-2 py-2",children:a.jsx(Ws,{value:ue.is_employee_active?"Aktif":"Pasif"})}),a.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[a.jsx("span",{className:"font-semibold",children:ue.active_devices})," aktif / ",ue.total_devices," toplam"]}),a.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",ue.token_used," B:",ue.token_pending," D:",ue.token_expired," T:",ue.token_total]}),a.jsx("td",{className:"px-2 py-2 text-right",children:a.jsx("button",{type:"button",onClick:()=>{A(K=>K===ue.employee_id?null:ue.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:q?"Kapat":"Cihazlar Ynet"})})]}),q?a.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:a.jsx("td",{colSpan:6,className:"px-2 py-3",children:V.isLoading?a.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):V.isError?a.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):de?a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-left text-xs",children:[a.jsx("thead",{className:"uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Cihaz ID"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Fingerprint"}),a.jsx("th",{className:"py-2",children:"Recovery"}),a.jsx("th",{className:"py-2",children:"Oluturulma"}),a.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),a.jsx("tbody",{children:de.devices.map(K=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:K.id}),a.jsx("td",{className:"py-2",children:a.jsx(Ws,{value:K.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"py-2 font-mono",children:K.device_fingerprint}),a.jsx("td",{className:"py-2 text-[11px] text-slate-700",children:K.recovery_ready?a.jsxs("span",{className:"rounded-full bg-emerald-100 px-2 py-1 font-semibold text-emerald-700",children:["Hazir (",K.recovery_code_active_count,")"]}):a.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-1 font-semibold text-amber-700",children:"Kurulu Degil"})}),a.jsx("td",{className:"py-2",children:Rh(K.created_at)}),a.jsx("td",{className:"py-2 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>B(K),className:"rounded-lg border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Detay"}),a.jsx("button",{type:"button",disabled:Y.isPending,onClick:()=>Y.mutate({deviceId:K.id,isActive:!K.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${K.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:K.is_active?"Pasife Al":"Aktif Et"})]})})]},K.id))})]}),de.has_more_devices?a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,de.devices.length===0?a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):a.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},ue.employee_id)})})]})}),xe.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]}),a.jsx(Js,{open:O!==null,title:O?`Cihaz #${O.id} Recovery Detayi`:"Recovery Detayi",onClose:()=>B(null),children:O?a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Fingerprint"}),a.jsx("p",{className:"mt-1 break-all font-mono text-xs text-slate-800",children:O.device_fingerprint})]}),a.jsxs("div",{className:"grid gap-2 rounded-lg border border-slate-200 p-3 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery Durumu"}),a.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:O.recovery_ready?"Hazir":"Kurulu Degil"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Aktif Kod"}),a.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:O.recovery_code_active_count})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"PIN Son Guncelleme"}),a.jsx("p",{className:"mt-1 text-slate-800",children:Rh(O.recovery_pin_updated_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Kod Son Gecerlilik"}),a.jsx("p",{className:"mt-1 text-slate-800",children:Rh(O.recovery_expires_at)})]})]}),a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-rose-700",children:"Recovery PIN"}),a.jsx("p",{className:"mt-1 font-mono text-lg font-semibold text-rose-900",children:O.recovery_pin_plain??"-"})]}),O.recovery_code_entries.length>0?a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery Kodlari"}),a.jsx("div",{className:"mt-2 space-y-2",children:O.recovery_code_entries.map(ue=>a.jsxs("div",{className:"flex items-center justify-between rounded border border-slate-200 px-3 py-2",children:[a.jsx("span",{className:"font-mono text-slate-900",children:ue.code}),a.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${ue.status==="ACTIVE"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:jz(ue.status)})]},`${O.id}-${ue.code}`))})]}):a.jsx("p",{className:"text-xs text-slate-500",children:"Bu cihaz icin kayitli recovery kodu bulunamadi."})]}):null})]})}function wz(){const e=qn(),{pushToast:i}=Zn(),l=Ue({queryKey:["compliance-settings"],queryFn:e1}),[o,d]=_.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});_.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const m=Ve({mutationFn:t1,onSuccess:()=>{i({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),e.invalidateQueries({queryKey:["compliance-settings"]}),e.invalidateQueries({queryKey:["employee-monthly"]})},onError:f=>{i({variant:"error",title:"Kayit hatasi",description:Pe(f,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?a.jsx(Lt,{}):l.isError?a.jsx(Et,{message:Pe(l.error,"Uyumluluk ayarlari alinamadi.").message}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),a.jsx(Re,{children:a.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:f=>{f.preventDefault(),m.mutate(o)},children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",a.jsx("input",{value:o.name,onChange:f=>d(x=>({...x,name:f.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",a.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:f=>d(x=>({...x,weekly_normal_minutes_default:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",a.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:f=>d(x=>({...x,daily_max_minutes:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",a.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:f=>d(x=>({...x,night_work_max_minutes_default:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",a.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:f=>d(x=>({...x,overtime_annual_cap_minutes:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",a.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:f=>d(x=>({...x,overtime_premium:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",a.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:f=>d(x=>({...x,extra_work_premium:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",a.jsxs("select",{value:o.overtime_rounding_mode,onChange:f=>d(x=>({...x,overtime_rounding_mode:f.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"OFF",children:"OFF"}),a.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[a.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:f=>d(x=>({...x,enforce_min_break_rules:f.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[a.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:f=>d(x=>({...x,night_work_exceptions_note_enabled:f.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:m.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:m.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),a.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),a.jsx("p",{className:"font-semibold",children:a.jsx(Be,{minutes:o.weekly_normal_minutes_default})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),a.jsx("p",{className:"font-semibold",children:a.jsx(Be,{minutes:o.daily_max_minutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),a.jsx("p",{className:"font-semibold",children:a.jsx(Be,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const Ez=Da({username:Un().min(1,"Kullanici adi gerekli."),password:Un().min(1,"Sifre gerekli.")});function kz(e,i){const l=window.URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=i,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function Tz(e){return e.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":e.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":e.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function Cz(){const[e]=fd(),[i,l]=_.useState("admin"),[o,d]=_.useState(""),[m,f]=_.useState(null),[x,v]=_.useState(null),[b,S]=_.useState(!1),w=_.useMemo(()=>{const M=e.get("archive_id");if(!M)return null;const k=Number(M);return!Number.isInteger(k)||k<=0?null:k},[e]),C=async M=>{if(M.preventDefault(),f(null),v(null),!w){f({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const k=Ez.safeParse({username:i,password:o});if(!k.success){f({message:k.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}S(!0);try{const A=await ZE(w,k.data),O=A.file_name??`arsiv-${w}.xlsx`;kz(A.blob,O),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){f(Pe(A,"Excel dosyasi indirilemedi."))}finally{S(!1)}};return a.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:a.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),a.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),a.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),a.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:i,onChange:M=>l(M.target.value)})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:M=>d(M.target.value)})]}),m?a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[a.jsx("p",{className:"font-semibold",children:Tz(m)}),a.jsx("p",{className:"mt-1",children:m.message}),m.requestId?a.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",m.requestId]}):null]}):null,x?a.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:x}):null,a.jsx("button",{type:"submit",disabled:b||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:b?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),a.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[$a.signatureText," | BUILD: ",$a.buildVersion]})]})})}const Az=Da({username:Un().min(1,"Kullanici adi gerekli."),password:Un().min(1,"Sifre gerekli.")});function Lh(e){if(!e)return"-";const i=new Date(e);return Number.isNaN(i.getTime())?e:new Intl.DateTimeFormat("tr-TR",{timeZone:"Europe/Istanbul",dateStyle:"medium",timeStyle:"medium"}).format(i)}function zz(e){return e==="PENDING"?"Onay Bekliyor":e==="APPROVED"?"Onaylandi":e==="CONSUMED"?"Kullanildi":"Suresi Doldu"}function Mz(e){return e==="PENDING"?"bg-amber-100 text-amber-800 border-amber-200":e==="APPROVED"?"bg-emerald-100 text-emerald-800 border-emerald-200":e==="CONSUMED"?"bg-cyan-100 text-cyan-800 border-cyan-200":"bg-rose-100 text-rose-800 border-rose-200"}function T0(e){return e.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":e.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":e.code==="EXTRA_CHECKIN_APPROVAL_EXPIRED"?"Talep suresi dolmus":e.code==="EXTRA_CHECKIN_APPROVAL_NOT_FOUND"?"Talep bulunamadi":"Onay islemi basarisiz"}function Oz(){const[e]=fd(),i=_.useMemo(()=>e.get("token")?.trim()??"",[e]),[l,o]=_.useState(null),[d,m]=_.useState(!1),[f,x]=_.useState(null),[v,b]=_.useState(null),[S,w]=_.useState(null),[C,M]=_.useState("admin"),[k,A]=_.useState(""),[O,B]=_.useState(!1);_.useEffect(()=>{if(!i){x({message:"Onay tokeni bulunamadi."}),o(null);return}let R=!1;return(async()=>{m(!0),x(null);try{const V=await HE(i);R||o(V)}catch(V){R||(x(Pe(V,"Onay talebi yuklenemedi.")),o(null))}finally{R||m(!1)}})(),()=>{R=!0}},[i]);const P=async R=>{if(R.preventDefault(),b(null),w(null),!l||l.status!=="PENDING")return;const G=Az.safeParse({username:C,password:k});if(!G.success){b({message:G.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}B(!0);try{const V=await KE({token:i,username:G.data.username,password:G.data.password});o(V.approval),A(""),w(V.already_processed?"Talep daha once islenmis. Calisan tekrar giris deneyebilir.":"Onay verildi. Calisan ikinci giris islemini tekrar deneyebilir.")}catch(V){b(Pe(V,"Onay islemi tamamlanamadi."))}finally{B(!1)}};return a.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:a.jsxs("div",{className:"admin-auth-card w-full max-w-2xl rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ek Giris Admin Onayi"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Gunluk mesai tamamlama sonrasi ikinci giris denemesi icin sifre dogrulayarak onay verin."}),i?null:a.jsx("div",{className:"mt-4 rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:"Gecerli bir token olmadan onay islemi baslatilamaz."}),d?a.jsx("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-3 text-sm text-slate-700",children:"Talep yukleniyor..."}):null,f?a.jsxs("div",{className:"mt-4 rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[a.jsx("p",{className:"font-semibold",children:T0(f)}),a.jsx("p",{className:"mt-1",children:f.message}),f.requestId?a.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",f.requestId]}):null]}):null,l?a.jsxs("section",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["#",l.employee_id," - ",l.employee_name]}),a.jsx("span",{className:`inline-flex rounded-full border px-2 py-1 text-xs font-semibold ${Mz(l.status)}`,children:zz(l.status)})]}),a.jsxs("div",{className:"mt-3 grid gap-2 text-xs text-slate-600 sm:grid-cols-2",children:[a.jsxs("p",{children:["Mesai gunu: ",l.local_day]}),a.jsxs("p",{children:["Istenen cihaz ID: ",l.device_id??"-"]}),a.jsxs("p",{children:["Talep zamani: ",Lh(l.requested_at)]}),a.jsxs("p",{children:["Son gecerlilik: ",Lh(l.expires_at)]}),a.jsxs("p",{children:["Onaylayan: ",l.approved_by_username??"-"]}),a.jsxs("p",{children:["Kullanilma zamani: ",Lh(l.consumed_at)]})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Push dagitimi: hedef ",l.push_total_targets," | gonderilen ",l.push_sent," | hata ",l.push_failed]})]}):null,S?a.jsx("div",{className:"mt-4 rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:S}):null,l?.status==="PENDING"?a.jsxs("form",{onSubmit:P,className:"mt-5 space-y-4",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),a.jsx("input",{value:C,onChange:R=>M(R.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",autoComplete:"username"})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre (MFA gerektirmez)"}),a.jsx("input",{type:"password",value:k,onChange:R=>A(R.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",autoComplete:"current-password"})]}),v?a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[a.jsx("p",{className:"font-semibold",children:T0(v)}),a.jsx("p",{className:"mt-1",children:v.message}),v.requestId?a.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",v.requestId]}):null]}):null,a.jsx("button",{type:"submit",disabled:O,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:O?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Onay veriliyor..."]}):"Evet, 2. Girisi Onayla"})]}):null,a.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[$a.signatureText," | BUILD: ",$a.buildVersion]})]})})}var Dl={},Ph,C0;function Dz(){return C0||(C0=1,Ph=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ph}var Ih={},Ys={},A0;function Qr(){if(A0)return Ys;A0=1;let e;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ys.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Ys.getSymbolTotalCodewords=function(o){return i[o]},Ys.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},Ys.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');e=o},Ys.isKanjiModeEnabled=function(){return typeof e<"u"},Ys.toSJIS=function(o){return e(o)},Ys}var Bh={},z0;function mp(){return z0||(z0=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function i(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+l)}}e.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},e.from=function(o,d){if(e.isValid(o))return o;try{return i(o)}catch{return d}}})(Bh)),Bh}var Uh,M0;function Rz(){if(M0)return Uh;M0=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(i){const l=Math.floor(i/8);return(this.buffer[l]>>>7-i%8&1)===1},put:function(i,l){for(let o=0;o<l;o++)this.putBit((i>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),i&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Uh=e,Uh}var Fh,O0;function Lz(){if(O0)return Fh;O0=1;function e(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}return e.prototype.set=function(i,l,o,d){const m=i*this.size+l;this.data[m]=o,d&&(this.reservedBit[m]=!0)},e.prototype.get=function(i,l){return this.data[i*this.size+l]},e.prototype.xor=function(i,l,o){this.data[i*this.size+l]^=o},e.prototype.isReserved=function(i,l){return this.reservedBit[i*this.size+l]},Fh=e,Fh}var qh={},D0;function Pz(){return D0||(D0=1,(function(e){const i=Qr().getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,m=i(o),f=m===145?26:Math.ceil((m-13)/(2*d-2))*2,x=[m-7];for(let v=1;v<d-1;v++)x[v]=x[v-1]-f;return x.push(6),x.reverse()},e.getPositions=function(o){const d=[],m=e.getRowColCoords(o),f=m.length;for(let x=0;x<f;x++)for(let v=0;v<f;v++)x===0&&v===0||x===0&&v===f-1||x===f-1&&v===0||d.push([m[x],m[v]]);return d}})(qh)),qh}var Zh={},R0;function Iz(){if(R0)return Zh;R0=1;const e=Qr().getSymbolSize,i=7;return Zh.getPositions=function(o){const d=e(o);return[[0,0],[d-i,0],[0,d-i]]},Zh}var Hh={},L0;function Bz(){return L0||(L0=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};e.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},e.from=function(d){return e.isValid(d)?parseInt(d,10):void 0},e.getPenaltyN1=function(d){const m=d.size;let f=0,x=0,v=0,b=null,S=null;for(let w=0;w<m;w++){x=v=0,b=S=null;for(let C=0;C<m;C++){let M=d.get(w,C);M===b?x++:(x>=5&&(f+=i.N1+(x-5)),b=M,x=1),M=d.get(C,w),M===S?v++:(v>=5&&(f+=i.N1+(v-5)),S=M,v=1)}x>=5&&(f+=i.N1+(x-5)),v>=5&&(f+=i.N1+(v-5))}return f},e.getPenaltyN2=function(d){const m=d.size;let f=0;for(let x=0;x<m-1;x++)for(let v=0;v<m-1;v++){const b=d.get(x,v)+d.get(x,v+1)+d.get(x+1,v)+d.get(x+1,v+1);(b===4||b===0)&&f++}return f*i.N2},e.getPenaltyN3=function(d){const m=d.size;let f=0,x=0,v=0;for(let b=0;b<m;b++){x=v=0;for(let S=0;S<m;S++)x=x<<1&2047|d.get(b,S),S>=10&&(x===1488||x===93)&&f++,v=v<<1&2047|d.get(S,b),S>=10&&(v===1488||v===93)&&f++}return f*i.N3},e.getPenaltyN4=function(d){let m=0;const f=d.data.length;for(let v=0;v<f;v++)m+=d.data[v];return Math.abs(Math.ceil(m*100/f/5)-10)*i.N4};function l(o,d,m){switch(o){case e.Patterns.PATTERN000:return(d+m)%2===0;case e.Patterns.PATTERN001:return d%2===0;case e.Patterns.PATTERN010:return m%3===0;case e.Patterns.PATTERN011:return(d+m)%3===0;case e.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(m/3))%2===0;case e.Patterns.PATTERN101:return d*m%2+d*m%3===0;case e.Patterns.PATTERN110:return(d*m%2+d*m%3)%2===0;case e.Patterns.PATTERN111:return(d*m%3+(d+m)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(d,m){const f=m.size;for(let x=0;x<f;x++)for(let v=0;v<f;v++)m.isReserved(v,x)||m.xor(v,x,l(d,v,x))},e.getBestMask=function(d,m){const f=Object.keys(e.Patterns).length;let x=0,v=1/0;for(let b=0;b<f;b++){m(b),e.applyMask(b,d);const S=e.getPenaltyN1(d)+e.getPenaltyN2(d)+e.getPenaltyN3(d)+e.getPenaltyN4(d);e.applyMask(b,d),S<v&&(v=S,x=b)}return x}})(Hh)),Hh}var qc={},P0;function d_(){if(P0)return qc;P0=1;const e=mp(),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return qc.getBlocksCount=function(d,m){switch(m){case e.L:return i[(d-1)*4+0];case e.M:return i[(d-1)*4+1];case e.Q:return i[(d-1)*4+2];case e.H:return i[(d-1)*4+3];default:return}},qc.getTotalCodewordsCount=function(d,m){switch(m){case e.L:return l[(d-1)*4+0];case e.M:return l[(d-1)*4+1];case e.Q:return l[(d-1)*4+2];case e.H:return l[(d-1)*4+3];default:return}},qc}var Kh={},Vo={},I0;function Uz(){if(I0)return Vo;I0=1;const e=new Uint8Array(512),i=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)e[d]=o,i[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)e[d]=e[d-255]})(),Vo.log=function(o){if(o<1)throw new Error("log("+o+")");return i[o]},Vo.exp=function(o){return e[o]},Vo.mul=function(o,d){return o===0||d===0?0:e[i[o]+i[d]]},Vo}var B0;function Fz(){return B0||(B0=1,(function(e){const i=Uz();e.mul=function(o,d){const m=new Uint8Array(o.length+d.length-1);for(let f=0;f<o.length;f++)for(let x=0;x<d.length;x++)m[f+x]^=i.mul(o[f],d[x]);return m},e.mod=function(o,d){let m=new Uint8Array(o);for(;m.length-d.length>=0;){const f=m[0];for(let v=0;v<d.length;v++)m[v]^=i.mul(d[v],f);let x=0;for(;x<m.length&&m[x]===0;)x++;m=m.slice(x)}return m},e.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let m=0;m<o;m++)d=e.mul(d,new Uint8Array([1,i.exp(m)]));return d}})(Kh)),Kh}var Qh,U0;function qz(){if(U0)return Qh;U0=1;const e=Fz();function i(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return i.prototype.initialize=function(o){this.degree=o,this.genPoly=e.generateECPolynomial(this.degree)},i.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const m=e.mod(d,this.genPoly),f=this.degree-m.length;if(f>0){const x=new Uint8Array(this.degree);return x.set(m,f),x}return m},Qh=i,Qh}var Gh={},Vh={},Yh={},F0;function m_(){return F0||(F0=1,Yh.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}),Yh}var Ii={},q0;function h_(){if(q0)return Ii;q0=1;const e="[0-9]+",i="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;Ii.KANJI=new RegExp(l,"g"),Ii.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ii.BYTE=new RegExp(o,"g"),Ii.NUMERIC=new RegExp(e,"g"),Ii.ALPHANUMERIC=new RegExp(i,"g");const d=new RegExp("^"+l+"$"),m=new RegExp("^"+e+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ii.testKanji=function(v){return d.test(v)},Ii.testNumeric=function(v){return m.test(v)},Ii.testAlphanumeric=function(v){return f.test(v)},Ii}var Z0;function Gr(){return Z0||(Z0=1,(function(e){const i=m_(),l=h_();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(m,f){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!i.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?m.ccBits[0]:f<27?m.ccBits[1]:m.ccBits[2]},e.getBestModeForData=function(m){return l.testNumeric(m)?e.NUMERIC:l.testAlphanumeric(m)?e.ALPHANUMERIC:l.testKanji(m)?e.KANJI:e.BYTE},e.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},e.isValid=function(m){return m&&m.bit&&m.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+d)}}e.from=function(m,f){if(e.isValid(m))return m;try{return o(m)}catch{return f}}})(Vh)),Vh}var H0;function Zz(){return H0||(H0=1,(function(e){const i=Qr(),l=d_(),o=mp(),d=Gr(),m=m_(),f=7973,x=i.getBCHDigit(f);function v(C,M,k){for(let A=1;A<=40;A++)if(M<=e.getCapacity(A,k,C))return A}function b(C,M){return d.getCharCountIndicator(C,M)+4}function S(C,M){let k=0;return C.forEach(function(A){const O=b(A.mode,M);k+=O+A.getBitsLength()}),k}function w(C,M){for(let k=1;k<=40;k++)if(S(C,k)<=e.getCapacity(k,M,d.MIXED))return k}e.from=function(M,k){return m.isValid(M)?parseInt(M,10):k},e.getCapacity=function(M,k,A){if(!m.isValid(M))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const O=i.getSymbolTotalCodewords(M),B=l.getTotalCodewordsCount(M,k),P=(O-B)*8;if(A===d.MIXED)return P;const R=P-b(A,M);switch(A){case d.NUMERIC:return Math.floor(R/10*3);case d.ALPHANUMERIC:return Math.floor(R/11*2);case d.KANJI:return Math.floor(R/13);case d.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(M,k){let A;const O=o.from(k,o.M);if(Array.isArray(M)){if(M.length>1)return w(M,O);if(M.length===0)return 1;A=M[0]}else A=M;return v(A.mode,A.getLength(),O)},e.getEncodedBits=function(M){if(!m.isValid(M)||M<7)throw new Error("Invalid QR Code version");let k=M<<12;for(;i.getBCHDigit(k)-x>=0;)k^=f<<i.getBCHDigit(k)-x;return M<<12|k}})(Gh)),Gh}var $h={},K0;function Hz(){if(K0)return $h;K0=1;const e=Qr(),i=1335,l=21522,o=e.getBCHDigit(i);return $h.getEncodedBits=function(m,f){const x=m.bit<<3|f;let v=x<<10;for(;e.getBCHDigit(v)-o>=0;)v^=i<<e.getBCHDigit(v)-o;return(x<<10|v)^l},$h}var Xh={},Jh,Q0;function Kz(){if(Q0)return Jh;Q0=1;const e=Gr();function i(l){this.mode=e.NUMERIC,this.data=l.toString()}return i.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){let d,m,f;for(d=0;d+3<=this.data.length;d+=3)m=this.data.substr(d,3),f=parseInt(m,10),o.put(f,10);const x=this.data.length-d;x>0&&(m=this.data.substr(d),f=parseInt(m,10),o.put(f,x*3+1))},Jh=i,Jh}var Wh,G0;function Qz(){if(G0)return Wh;G0=1;const e=Gr(),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=e.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let m;for(m=0;m+2<=this.data.length;m+=2){let f=i.indexOf(this.data[m])*45;f+=i.indexOf(this.data[m+1]),d.put(f,11)}this.data.length%2&&d.put(i.indexOf(this.data[m]),6)},Wh=l,Wh}var ef,V0;function Gz(){if(V0)return ef;V0=1;const e=Gr();function i(l){this.mode=e.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return i.getBitsLength=function(o){return o*8},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},ef=i,ef}var tf,Y0;function Vz(){if(Y0)return tf;Y0=1;const e=Gr(),i=Qr();function l(o){this.mode=e.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let m=i.toSJIS(this.data[d]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),o.put(m,13)}},tf=l,tf}var nf={exports:{}},$0;function Yz(){return $0||($0=1,(function(e){var i={single_source_shortest_paths:function(l,o,d){var m={},f={};f[o]=0;var x=i.PriorityQueue.make();x.push(o,0);for(var v,b,S,w,C,M,k,A,O;!x.empty();){v=x.pop(),b=v.value,w=v.cost,C=l[b]||{};for(S in C)C.hasOwnProperty(S)&&(M=C[S],k=w+M,A=f[S],O=typeof f[S]>"u",(O||A>k)&&(f[S]=k,x.push(S,k),m[S]=b))}if(typeof d<"u"&&typeof f[d]>"u"){var B=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(B)}return m},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],m=o;m;)d.push(m),l[m],m=l[m];return d.reverse(),d},find_path:function(l,o,d){var m=i.single_source_shortest_paths(l,o,d);return i.extract_shortest_path_from_predecessor_list(m,d)},PriorityQueue:{make:function(l){var o=i.PriorityQueue,d={},m;l=l||{};for(m in o)o.hasOwnProperty(m)&&(d[m]=o[m]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=i})(nf)),nf.exports}var X0;function $z(){return X0||(X0=1,(function(e){const i=Gr(),l=Kz(),o=Qz(),d=Gz(),m=Vz(),f=h_(),x=Qr(),v=Yz();function b(B){return unescape(encodeURIComponent(B)).length}function S(B,P,R){const G=[];let V;for(;(V=B.exec(R))!==null;)G.push({data:V[0],index:V.index,mode:P,length:V[0].length});return G}function w(B){const P=S(f.NUMERIC,i.NUMERIC,B),R=S(f.ALPHANUMERIC,i.ALPHANUMERIC,B);let G,V;return x.isKanjiModeEnabled()?(G=S(f.BYTE,i.BYTE,B),V=S(f.KANJI,i.KANJI,B)):(G=S(f.BYTE_KANJI,i.BYTE,B),V=[]),P.concat(R,G,V).sort(function(Z,Y){return Z.index-Y.index}).map(function(Z){return{data:Z.data,mode:Z.mode,length:Z.length}})}function C(B,P){switch(P){case i.NUMERIC:return l.getBitsLength(B);case i.ALPHANUMERIC:return o.getBitsLength(B);case i.KANJI:return m.getBitsLength(B);case i.BYTE:return d.getBitsLength(B)}}function M(B){return B.reduce(function(P,R){const G=P.length-1>=0?P[P.length-1]:null;return G&&G.mode===R.mode?(P[P.length-1].data+=R.data,P):(P.push(R),P)},[])}function k(B){const P=[];for(let R=0;R<B.length;R++){const G=B[R];switch(G.mode){case i.NUMERIC:P.push([G,{data:G.data,mode:i.ALPHANUMERIC,length:G.length},{data:G.data,mode:i.BYTE,length:G.length}]);break;case i.ALPHANUMERIC:P.push([G,{data:G.data,mode:i.BYTE,length:G.length}]);break;case i.KANJI:P.push([G,{data:G.data,mode:i.BYTE,length:b(G.data)}]);break;case i.BYTE:P.push([{data:G.data,mode:i.BYTE,length:b(G.data)}])}}return P}function A(B,P){const R={},G={start:{}};let V=["start"];for(let W=0;W<B.length;W++){const Z=B[W],Y=[];for(let te=0;te<Z.length;te++){const fe=Z[te],xe=""+W+te;Y.push(xe),R[xe]={node:fe,lastCount:0},G[xe]={};for(let de=0;de<V.length;de++){const _e=V[de];R[_e]&&R[_e].node.mode===fe.mode?(G[_e][xe]=C(R[_e].lastCount+fe.length,fe.mode)-C(R[_e].lastCount,fe.mode),R[_e].lastCount+=fe.length):(R[_e]&&(R[_e].lastCount=fe.length),G[_e][xe]=C(fe.length,fe.mode)+4+i.getCharCountIndicator(fe.mode,P))}}V=Y}for(let W=0;W<V.length;W++)G[V[W]].end=0;return{map:G,table:R}}function O(B,P){let R;const G=i.getBestModeForData(B);if(R=i.from(P,G),R!==i.BYTE&&R.bit<G.bit)throw new Error('"'+B+'" cannot be encoded with mode '+i.toString(R)+`.
 Suggested mode is: `+i.toString(G));switch(R===i.KANJI&&!x.isKanjiModeEnabled()&&(R=i.BYTE),R){case i.NUMERIC:return new l(B);case i.ALPHANUMERIC:return new o(B);case i.KANJI:return new m(B);case i.BYTE:return new d(B)}}e.fromArray=function(P){return P.reduce(function(R,G){return typeof G=="string"?R.push(O(G,null)):G.data&&R.push(O(G.data,G.mode)),R},[])},e.fromString=function(P,R){const G=w(P,x.isKanjiModeEnabled()),V=k(G),W=A(V,R),Z=v.find_path(W.map,"start","end"),Y=[];for(let te=1;te<Z.length-1;te++)Y.push(W.table[Z[te]].node);return e.fromArray(M(Y))},e.rawSplit=function(P){return e.fromArray(w(P,x.isKanjiModeEnabled()))}})(Xh)),Xh}var J0;function Xz(){if(J0)return Ih;J0=1;const e=Qr(),i=mp(),l=Rz(),o=Lz(),d=Pz(),m=Iz(),f=Bz(),x=d_(),v=qz(),b=Zz(),S=Hz(),w=Gr(),C=$z();function M(W,Z){const Y=W.size,te=m.getPositions(Z);for(let fe=0;fe<te.length;fe++){const xe=te[fe][0],de=te[fe][1];for(let _e=-1;_e<=7;_e++)if(!(xe+_e<=-1||Y<=xe+_e))for(let le=-1;le<=7;le++)de+le<=-1||Y<=de+le||(_e>=0&&_e<=6&&(le===0||le===6)||le>=0&&le<=6&&(_e===0||_e===6)||_e>=2&&_e<=4&&le>=2&&le<=4?W.set(xe+_e,de+le,!0,!0):W.set(xe+_e,de+le,!1,!0))}}function k(W){const Z=W.size;for(let Y=8;Y<Z-8;Y++){const te=Y%2===0;W.set(Y,6,te,!0),W.set(6,Y,te,!0)}}function A(W,Z){const Y=d.getPositions(Z);for(let te=0;te<Y.length;te++){const fe=Y[te][0],xe=Y[te][1];for(let de=-2;de<=2;de++)for(let _e=-2;_e<=2;_e++)de===-2||de===2||_e===-2||_e===2||de===0&&_e===0?W.set(fe+de,xe+_e,!0,!0):W.set(fe+de,xe+_e,!1,!0)}}function O(W,Z){const Y=W.size,te=b.getEncodedBits(Z);let fe,xe,de;for(let _e=0;_e<18;_e++)fe=Math.floor(_e/3),xe=_e%3+Y-8-3,de=(te>>_e&1)===1,W.set(fe,xe,de,!0),W.set(xe,fe,de,!0)}function B(W,Z,Y){const te=W.size,fe=S.getEncodedBits(Z,Y);let xe,de;for(xe=0;xe<15;xe++)de=(fe>>xe&1)===1,xe<6?W.set(xe,8,de,!0):xe<8?W.set(xe+1,8,de,!0):W.set(te-15+xe,8,de,!0),xe<8?W.set(8,te-xe-1,de,!0):xe<9?W.set(8,15-xe-1+1,de,!0):W.set(8,15-xe-1,de,!0);W.set(te-8,8,1,!0)}function P(W,Z){const Y=W.size;let te=-1,fe=Y-1,xe=7,de=0;for(let _e=Y-1;_e>0;_e-=2)for(_e===6&&_e--;;){for(let le=0;le<2;le++)if(!W.isReserved(fe,_e-le)){let ue=!1;de<Z.length&&(ue=(Z[de]>>>xe&1)===1),W.set(fe,_e-le,ue),xe--,xe===-1&&(de++,xe=7)}if(fe+=te,fe<0||Y<=fe){fe-=te,te=-te;break}}}function R(W,Z,Y){const te=new l;Y.forEach(function(le){te.put(le.mode.bit,4),te.put(le.getLength(),w.getCharCountIndicator(le.mode,W)),le.write(te)});const fe=e.getSymbolTotalCodewords(W),xe=x.getTotalCodewordsCount(W,Z),de=(fe-xe)*8;for(te.getLengthInBits()+4<=de&&te.put(0,4);te.getLengthInBits()%8!==0;)te.putBit(0);const _e=(de-te.getLengthInBits())/8;for(let le=0;le<_e;le++)te.put(le%2?17:236,8);return G(te,W,Z)}function G(W,Z,Y){const te=e.getSymbolTotalCodewords(Z),fe=x.getTotalCodewordsCount(Z,Y),xe=te-fe,de=x.getBlocksCount(Z,Y),_e=te%de,le=de-_e,ue=Math.floor(te/de),q=Math.floor(xe/de),K=q+1,ie=ue-q,ke=new v(ie);let $=0;const z=new Array(de),ee=new Array(de);let D=0;const I=new Uint8Array(W.buffer);for(let Xe=0;Xe<de;Xe++){const rt=Xe<le?q:K;z[Xe]=I.slice($,$+rt),ee[Xe]=ke.encode(z[Xe]),$+=rt,D=Math.max(D,rt)}const ce=new Uint8Array(te);let je=0,Me,He;for(Me=0;Me<D;Me++)for(He=0;He<de;He++)Me<z[He].length&&(ce[je++]=z[He][Me]);for(Me=0;Me<ie;Me++)for(He=0;He<de;He++)ce[je++]=ee[He][Me];return ce}function V(W,Z,Y,te){let fe;if(Array.isArray(W))fe=C.fromArray(W);else if(typeof W=="string"){let ue=Z;if(!ue){const q=C.rawSplit(W);ue=b.getBestVersionForData(q,Y)}fe=C.fromString(W,ue||40)}else throw new Error("Invalid data");const xe=b.getBestVersionForData(fe,Y);if(!xe)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Z)Z=xe;else if(Z<xe)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+xe+`.
`);const de=R(Z,Y,fe),_e=e.getSymbolSize(Z),le=new o(_e);return M(le,Z),k(le),A(le,Z),B(le,Y,0),Z>=7&&O(le,Z),P(le,de),isNaN(te)&&(te=f.getBestMask(le,B.bind(null,le,Y))),f.applyMask(te,le),B(le,Y,te),{modules:le,version:Z,errorCorrectionLevel:Y,maskPattern:te,segments:fe}}return Ih.create=function(Z,Y){if(typeof Z>"u"||Z==="")throw new Error("No input text");let te=i.M,fe,xe;return typeof Y<"u"&&(te=i.from(Y.errorCorrectionLevel,i.M),fe=b.from(Y.version),xe=f.from(Y.maskPattern),Y.toSJISFunc&&e.setToSJISFunction(Y.toSJISFunc)),V(Z,fe,te,xe)},Ih}var af={},sf={},W0;function f_(){return W0||(W0=1,(function(e){function i(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(m){return[m,m]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,m=o.width&&o.width>=21?o.width:void 0,f=o.scale||4;return{width:m,scale:m?4:f,margin:d,color:{dark:i(o.color.dark||"#000000ff"),light:i(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},e.getImageWidth=function(o,d){const m=e.getScale(o,d);return Math.floor((o+d.margin*2)*m)},e.qrToImageData=function(o,d,m){const f=d.modules.size,x=d.modules.data,v=e.getScale(f,m),b=Math.floor((f+m.margin*2)*v),S=m.margin*v,w=[m.color.light,m.color.dark];for(let C=0;C<b;C++)for(let M=0;M<b;M++){let k=(C*b+M)*4,A=m.color.light;if(C>=S&&M>=S&&C<b-S&&M<b-S){const O=Math.floor((C-S)/v),B=Math.floor((M-S)/v);A=w[x[O*f+B]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(sf)),sf}var ev;function Jz(){return ev||(ev=1,(function(e){const i=f_();function l(d,m,f){d.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=f,m.width=f,m.style.height=f+"px",m.style.width=f+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(m,f,x){let v=x,b=f;typeof v>"u"&&(!f||!f.getContext)&&(v=f,f=void 0),f||(b=o()),v=i.getOptions(v);const S=i.getImageWidth(m.modules.size,v),w=b.getContext("2d"),C=w.createImageData(S,S);return i.qrToImageData(C.data,m,v),l(w,b,S),w.putImageData(C,0,0),b},e.renderToDataURL=function(m,f,x){let v=x;typeof v>"u"&&(!f||!f.getContext)&&(v=f,f=void 0),v||(v={});const b=e.render(m,f,v),S=v.type||"image/png",w=v.rendererOpts||{};return b.toDataURL(S,w.quality)}})(af)),af}var rf={},tv;function Wz(){if(tv)return rf;tv=1;const e=f_();function i(d,m){const f=d.a/255,x=m+'="'+d.hex+'"';return f<1?x+" "+m+'-opacity="'+f.toFixed(2).slice(1)+'"':x}function l(d,m,f){let x=d+m;return typeof f<"u"&&(x+=" "+f),x}function o(d,m,f){let x="",v=0,b=!1,S=0;for(let w=0;w<d.length;w++){const C=Math.floor(w%m),M=Math.floor(w/m);!C&&!b&&(b=!0),d[w]?(S++,w>0&&C>0&&d[w-1]||(x+=b?l("M",C+f,.5+M+f):l("m",v,0),v=0,b=!1),C+1<m&&d[w+1]||(x+=l("h",S),S=0)):v++}return x}return rf.render=function(m,f,x){const v=e.getOptions(f),b=m.modules.size,S=m.modules.data,w=b+v.margin*2,C=v.color.light.a?"<path "+i(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",M="<path "+i(v.color.dark,"stroke")+' d="'+o(S,b,v.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+k+' shape-rendering="crispEdges">'+C+M+`</svg>
`;return typeof x=="function"&&x(null,O),O},rf}var nv;function e3(){if(nv)return Dl;nv=1;const e=Dz(),i=Xz(),l=Jz(),o=Wz();function d(m,f,x,v,b){const S=[].slice.call(arguments,1),w=S.length,C=typeof S[w-1]=="function";if(!C&&!e())throw new Error("Callback required as last argument");if(C){if(w<2)throw new Error("Too few arguments provided");w===2?(b=x,x=f,f=v=void 0):w===3&&(f.getContext&&typeof b>"u"?(b=v,v=void 0):(b=v,v=x,x=f,f=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(x=f,f=v=void 0):w===2&&!f.getContext&&(v=x,x=f,f=void 0),new Promise(function(M,k){try{const A=i.create(x,v);M(m(A,f,v))}catch(A){k(A)}})}try{const M=i.create(x,v);b(null,m(M,f,v))}catch(M){b(M)}}return Dl.create=i.create,Dl.toCanvas=d.bind(null,l.render),Dl.toDataURL=d.bind(null,l.renderToDataURL),Dl.toString=d.bind(null,function(m,f,x){return o.render(m,x)}),Dl}var t3=e3();const Df=dd(t3),hp=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Jo(){return Object.fromEntries(hp.map(e=>[e.key,{read:!1,write:!1}]))}function n3(e){const i=Jo();return e&&hp.forEach(({key:l})=>{const o=e[l];o&&(i[l]={read:!!(o.read||o.write),write:!!o.write})}),i}function av({value:e,disabled:i=!1,onChange:l}){const o=(d,m,f)=>{const v={...e[d]??{read:!1,write:!1}};m==="read"?(v.read=f,f||(v.write=!1)):(v.write=f,f&&(v.read=!0)),l({...e,[d]:v})};return a.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2",children:"Modul"}),a.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),a.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),a.jsx("tbody",{children:hp.map(d=>{const m=e[d.key]??{read:!1,write:!1};return a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-3 py-2",children:d.label}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:m.read,disabled:i,onChange:f=>o(d.key,"read",f.target.checked)})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:m.write,disabled:i,onChange:f=>o(d.key,"write",f.target.checked)})})]},d.key)})})]})})}function iv(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Jo()}}function lf(e){return e?new Date(e).toLocaleString("tr-TR"):"-"}function a3(e){const i=(e??"").trim();return i?i.length<=80?i:`${i.slice(0,80)}...`:"-"}function i3(e){const i=e.trim();return i?i.length<=60?i:`${i.slice(0,30)}...${i.slice(-22)}`:"-"}function s3(){const e=qn(),{pushToast:i}=Zn(),{hasPermission:l,isSuperAdmin:o,user:d}=Kl(),m=l("admin_users"),f=l("admin_users","write"),[x,v]=_.useState(iv()),[b,S]=_.useState(null),[w,C]=_.useState(""),[M,k]=_.useState(""),[A,O]=_.useState(""),[B,P]=_.useState(!0),[R,G]=_.useState(!1),[V,W]=_.useState(Jo()),[Z,Y]=_.useState(null),[te,fe]=_.useState(null),[xe,de]=_.useState(null),[_e,le]=_.useState(""),[ue,q]=_.useState(""),[K,ie]=_.useState(null),[ke,$]=_.useState([]),[z,ee]=_.useState(null),D=Ue({queryKey:["admin-users"],queryFn:xb,enabled:m}),I=Ue({queryKey:["admin-user-mfa-status",te?.id],queryFn:()=>$2(te.id),enabled:!!te}),ce=Ue({queryKey:["admin-user-claim-detail",Z?.id],queryFn:()=>Z2(Z.id),enabled:!!Z}),je=Ve({mutationFn:({adminUserId:ne,claimId:Oe,nextActive:be})=>H2(ne,Oe,{is_active:be}),onSuccess:(ne,Oe)=>{i({variant:"success",title:Oe.nextActive?"Claim aktif edildi":"Claim pasife alindi",description:Oe.nextActive?"Admin cihazi yeniden aktif edildi.":"Admin cihazi manuel olarak pasife alindi."}),e.invalidateQueries({queryKey:["admin-user-claim-detail",Oe.adminUserId]}),e.invalidateQueries({queryKey:["admin-users"]})},onError:ne=>{const Oe=Pe(ne,"Claim durumu guncellenemedi.");i({variant:"error",title:"Claim guncelleme hatasi",description:Oe.message})}}),Me=Ve({mutationFn:G2,onSuccess:()=>{i({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),v(iv()),e.invalidateQueries({queryKey:["admin-users"]})},onError:ne=>{const Oe=Pe(ne,"Admin kullanici olusturulamadi.");i({variant:"error",title:"Kayit basarisiz",description:Oe.message})}}),He=Ve({mutationFn:({userId:ne,payload:Oe})=>V2(ne,Oe),onSuccess:()=>{i({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),S(null),O(""),e.invalidateQueries({queryKey:["admin-users"]})},onError:ne=>{const Oe=Pe(ne,"Admin kullanici guncellenemedi.");i({variant:"error",title:"Guncelleme basarisiz",description:Oe.message})}}),Xe=Ve({mutationFn:Y2,onSuccess:()=>{i({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),e.invalidateQueries({queryKey:["admin-users"]})},onError:ne=>{const Oe=Pe(ne,"Admin kullanici silinemedi.");i({variant:"error",title:"Silme basarisiz",description:Oe.message})}}),rt=Ve({mutationFn:ne=>X2(ne),onSuccess:ne=>{de(ne),le(""),$([]),ee(null),I.refetch(),i({variant:"success",title:"MFA kurulumu baslatildi",description:"QR kodu taratip 6 haneli kodu onaylayin."})},onError:ne=>{const Oe=Pe(ne,"MFA kurulumu baslatilamadi.");i({variant:"error",title:"MFA kurulum hatasi",description:Oe.message})}}),Se=Ve({mutationFn:({adminUserId:ne,code:Oe})=>J2(ne,{code:Oe}),onSuccess:ne=>{$(ne.recovery_codes),ee(ne.recovery_code_expires_at),de(null),le(""),e.invalidateQueries({queryKey:["admin-users"]}),I.refetch(),i({variant:"success",title:"MFA aktif edildi",description:"Recovery kodlari olusturuldu."})},onError:ne=>{const Oe=Pe(ne,"MFA kodu dogrulanamadi.");i({variant:"error",title:"MFA onay hatasi",description:Oe.message})}}),ct=Ve({mutationFn:({adminUserId:ne,currentPassword:Oe})=>W2(ne,{current_password:Oe}),onSuccess:ne=>{$(ne.recovery_codes),ee(ne.recovery_code_expires_at),q(""),I.refetch(),i({variant:"success",title:"Recovery kodlari yenilendi",description:"Eski kodlar pasif edildi."})},onError:ne=>{const Oe=Pe(ne,"Recovery kodlari yenilenemedi.");i({variant:"error",title:"Yenileme hatasi",description:Oe.message})}}),xt=Ve({mutationFn:({adminUserId:ne,currentPassword:Oe})=>eE(ne,{current_password:Oe}),onSuccess:()=>{de(null),le(""),ie(null),$([]),ee(null),q(""),e.invalidateQueries({queryKey:["admin-users"]}),I.refetch(),i({variant:"success",title:"MFA sifirlandi",description:"Kullanici tekrar MFA kurabilir."})},onError:ne=>{const Oe=Pe(ne,"MFA sifirlanamadi.");i({variant:"error",title:"Sifirlama hatasi",description:Oe.message})}});_.useEffect(()=>{if(!xe?.otpauth_uri){ie(null);return}let ne=!1;return Df.toDataURL(xe.otpauth_uri,{margin:1,width:220}).then(Oe=>{ne||ie(Oe)}).catch(()=>{ne||ie(null)}),()=>{ne=!0}},[xe]);const kt=_.useMemo(()=>[...D.data??[]].sort((Oe,be)=>Oe.username.localeCompare(be.username)),[D.data]),_t=I.data;if(!m)return a.jsx(Et,{message:"Bu alani goruntuleme yetkiniz yok."});if(D.isLoading)return a.jsx(Lt,{label:"Admin kullanicilar yukleniyor..."});if(D.isError)return a.jsx(Et,{message:"Admin kullanici listesi alinamadi."});const Ht=ne=>{if(ne.preventDefault(),!!f){if(!o){i({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}if(x.password.length<8){i({variant:"error",title:"Kayit basarisiz",description:"Sifre alani en az 8 karakter olmali."});return}Me.mutate({username:x.username.trim(),full_name:x.full_name.trim()||null,password:x.password,is_active:x.is_active,is_super_admin:x.is_super_admin,permissions:x.is_super_admin?Jo():x.permissions})}},At=ne=>{S(ne),C(ne.username),k(ne.full_name??""),O(""),P(ne.is_active),G(ne.is_super_admin),W(n3(ne.permissions))},Pt=ne=>{Y(ne)},nn=()=>{Y(null)},ae=ne=>{fe(ne),de(null),le(""),q(""),ie(null),$([]),ee(null)},Ae=()=>{fe(null),de(null),le(""),q(""),ie(null),$([]),ee(null)},$e=ne=>{if(ne.preventDefault(),!(!b||!f)){if(A.trim()&&A.trim().length<8){i({variant:"error",title:"Guncelleme basarisiz",description:"Yeni sifre en az 8 karakter olmali."});return}He.mutate({userId:b.id,payload:{username:w.trim(),full_name:M.trim()||null,password:A.trim()?A:void 0,is_active:B,is_super_admin:R,permissions:R?Jo():V}})}},it=ne=>{ne.preventDefault(),!(!te||!_e.trim())&&Se.mutate({adminUserId:te.id,code:_e.trim()})};return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),a.jsxs(Re,{children:[a.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),a.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",a.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:a.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),a.jsxs("form",{onSubmit:Ht,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",a.jsx("input",{value:x.username,onChange:ne=>v(Oe=>({...Oe,username:ne.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",a.jsx("input",{value:x.full_name,onChange:ne=>v(Oe=>({...Oe,full_name:ne.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",a.jsx("input",{type:"password",value:x.password,onChange:ne=>v(Oe=>({...Oe,password:ne.target.value})),disabled:!f||!o,minLength:8,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:x.is_active,disabled:!f||!o,onChange:ne=>v(Oe=>({...Oe,is_active:ne.target.checked}))}),"Aktif"]}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:x.is_super_admin,disabled:!f||!o,onChange:ne=>v(Oe=>({...Oe,is_super_admin:ne.target.checked}))}),"Super Admin"]})]}),x.is_super_admin?a.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):a.jsx(av,{value:x.permissions,disabled:!f||!o,onChange:ne=>v(Oe=>({...Oe,permissions:ne}))}),a.jsx("button",{type:"submit",disabled:!f||!o||Me.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Me.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"ID"}),a.jsx("th",{className:"py-2",children:"Kullanici"}),a.jsx("th",{className:"py-2",children:"Ad Soyad"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Rol"}),a.jsx("th",{className:"py-2",children:"Bagli Cihaz"}),a.jsx("th",{className:"py-2",children:"MFA"}),a.jsx("th",{className:"py-2",children:"Islem"})]})}),a.jsx("tbody",{children:kt.map(ne=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:ne.id}),a.jsx("td",{className:"py-2 font-medium text-slate-900",children:ne.username}),a.jsx("td",{className:"py-2",children:ne.full_name??"-"}),a.jsx("td",{className:"py-2",children:a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${ne.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:ne.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"py-2",children:ne.is_super_admin?"Super Admin":"Yetkili Admin"}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"text-xs text-slate-700",children:[a.jsx("span",{className:"font-semibold text-emerald-700",children:ne.claim_active_total??0})," aktif /"," ",a.jsx("span",{className:"font-semibold",children:ne.claim_total??0})," toplam"]})}),a.jsx("td",{className:"py-2",children:a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${ne.mfa_enabled?"bg-emerald-100 text-emerald-800":ne.mfa_secret_configured?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-700"}`,children:ne.mfa_enabled?"Aktif":ne.mfa_secret_configured?"Kurulum Bekliyor":"Kapali"})}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>Pt(ne),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-medium text-emerald-700 hover:bg-emerald-50",children:"Detay"}),a.jsx("button",{type:"button",disabled:!(o||(d?.admin_user_id??0)===ne.id),onClick:()=>ae(ne),className:"rounded-lg border border-brand-200 px-3 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50 disabled:opacity-50",children:"MFA"}),a.jsx("button",{type:"button",disabled:!f||!o,onClick:()=>At(ne),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),a.jsx("button",{type:"button",disabled:!f||!o||Xe.isPending,onClick:()=>{window.confirm(`${ne.username} kullanicisini silmek istediginize emin misiniz?`)&&Xe.mutate(ne.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},ne.id))})]})}),kt.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),a.jsx(Js,{open:!!Z,title:Z?`Admin Detay: ${Z.username}`:"Admin Detay",onClose:nn,children:Z?a.jsxs("div",{className:"space-y-4",children:[ce.isLoading?a.jsx("p",{className:"text-sm text-slate-500",children:"Detay yukleniyor..."}):null,ce.isError?a.jsx(Et,{message:"Admin claim detayi alinamadi."}):null,ce.data?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:["Toplam claim: ",a.jsx("strong",{children:ce.data.claim_total})]}),a.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800",children:["Aktif claim: ",a.jsx("strong",{children:ce.data.claim_active_total})]}),a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-800",children:["Pasif claim: ",a.jsx("strong",{children:ce.data.claim_inactive_total})]}),a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 px-3 py-2 text-sm text-blue-800",children:["Benzersiz cihaz: ",a.jsx("strong",{children:new Set(ce.data.claims.map(ne=>ne.endpoint_fingerprint)).size})]})]}),a.jsxs("section",{children:[a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Bagli Cihaz / Claim Listesi"}),a.jsxs("div",{className:"mt-2 max-h-60 overflow-auto rounded-lg border border-slate-200",children:[a.jsxs("table",{className:"min-w-full text-left text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-slate-50 uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2",children:"ID"}),a.jsx("th",{className:"px-2 py-2",children:"Durum"}),a.jsx("th",{className:"px-2 py-2",children:"Fingerprint"}),a.jsx("th",{className:"px-2 py-2",children:"Son Gorulme"}),a.jsx("th",{className:"px-2 py-2",children:"Hata"}),a.jsx("th",{className:"px-2 py-2",children:"Tarayici"}),a.jsx("th",{className:"px-2 py-2",children:"Endpoint"}),a.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),a.jsx("tbody",{children:ce.data.claims.map(ne=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-2 py-2",children:ne.id}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${ne.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:ne.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"px-2 py-2 font-mono text-[11px]",children:ne.endpoint_fingerprint}),a.jsx("td",{className:"px-2 py-2",children:lf(ne.last_seen_at)}),a.jsx("td",{className:"px-2 py-2",children:ne.last_error?.trim()?ne.last_error:"-"}),a.jsx("td",{className:"px-2 py-2",title:ne.user_agent??"-",children:a3(ne.user_agent)}),a.jsx("td",{className:"px-2 py-2 font-mono text-[11px]",title:ne.endpoint,children:i3(ne.endpoint)}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("button",{type:"button",disabled:!f||!o||je.isPending||!Z,onClick:()=>{if(!Z)return;if(!ne.is_active){je.mutate({adminUserId:Z.id,claimId:ne.id,nextActive:!0});return}window.confirm("Bu admin claim pasife alinsin mi?")&&je.mutate({adminUserId:Z.id,claimId:ne.id,nextActive:!1})},className:`rounded-lg border px-2 py-1 text-[11px] font-semibold disabled:opacity-50 ${ne.is_active?"border-rose-300 text-rose-700 hover:bg-rose-50":"border-emerald-300 text-emerald-700 hover:bg-emerald-50"}`,children:ne.is_active?"Pasife Al":"Aktif Et"})})]},ne.id))})]}),ce.data.claims.length===0?a.jsx("p",{className:"px-2 py-2 text-sm text-slate-500",children:"Bu kullanici icin claim kaydi yok."}):null]})]}),a.jsxs("section",{children:[a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Olusturulan Claim Davetleri"}),a.jsxs("div",{className:"mt-2 max-h-40 overflow-auto rounded-lg border border-slate-200",children:[a.jsxs("table",{className:"min-w-full text-left text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-slate-50 uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2",children:"ID"}),a.jsx("th",{className:"px-2 py-2",children:"Durum"}),a.jsx("th",{className:"px-2 py-2",children:"Deneme"}),a.jsx("th",{className:"px-2 py-2",children:"Bitis"}),a.jsx("th",{className:"px-2 py-2",children:"Kullanan"})]})}),a.jsx("tbody",{children:ce.data.created_invites.map(ne=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-2 py-2",children:ne.id}),a.jsx("td",{className:"px-2 py-2",children:ne.status}),a.jsxs("td",{className:"px-2 py-2",children:[ne.attempt_count,"/",ne.max_attempts]}),a.jsx("td",{className:"px-2 py-2",children:lf(ne.expires_at)}),a.jsx("td",{className:"px-2 py-2",children:ne.used_by_username??"-"})]},ne.id))})]}),ce.data.created_invites.length===0?a.jsx("p",{className:"px-2 py-2 text-sm text-slate-500",children:"Kayit yok."}):null]})]}),a.jsxs("section",{children:[a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Kullandigi Claim Davetleri"}),a.jsxs("div",{className:"mt-2 max-h-40 overflow-auto rounded-lg border border-slate-200",children:[a.jsxs("table",{className:"min-w-full text-left text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-slate-50 uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2",children:"ID"}),a.jsx("th",{className:"px-2 py-2",children:"Durum"}),a.jsx("th",{className:"px-2 py-2",children:"Olusturan"}),a.jsx("th",{className:"px-2 py-2",children:"Kullanilan Zaman"})]})}),a.jsx("tbody",{children:ce.data.used_invites.map(ne=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-2 py-2",children:ne.id}),a.jsx("td",{className:"px-2 py-2",children:ne.status}),a.jsx("td",{className:"px-2 py-2",children:ne.created_by_username}),a.jsx("td",{className:"px-2 py-2",children:lf(ne.used_at)})]},ne.id))})]}),ce.data.used_invites.length===0?a.jsx("p",{className:"px-2 py-2 text-sm text-slate-500",children:"Kayit yok."}):null]})]})]}):null]}):null}),a.jsx(Js,{open:!!b,title:"Admin Kullanici Duzenle",onClose:()=>{S(null),O("")},children:b?a.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",a.jsx("input",{value:w,onChange:ne=>C(ne.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",a.jsx("input",{value:M,onChange:ne=>k(ne.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",a.jsx("input",{type:"password",value:A,onChange:ne=>O(ne.target.value),disabled:!f||!o,minLength:8,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:B,disabled:!f||!o,onChange:ne=>P(ne.target.checked)}),"Aktif"]}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:R,disabled:!f||!o,onChange:ne=>G(ne.target.checked)}),"Super Admin"]})]}),R?a.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):a.jsx(av,{value:V,disabled:!f||!o,onChange:W}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{S(null),O("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),a.jsx("button",{type:"submit",disabled:!f||!o||He.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:He.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null}),a.jsx(Js,{open:!!te,title:te?`MFA Yonetimi: ${te.username}`:"MFA Yonetimi",onClose:Ae,children:te?a.jsxs("div",{className:"space-y-4",children:[I.isLoading?a.jsx("p",{className:"text-sm text-slate-500",children:"MFA durumu yukleniyor..."}):null,_t?a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-3 text-sm text-slate-700",children:[a.jsxs("p",{children:["Durum:"," ",a.jsx("strong",{children:_t.mfa_enabled?"MFA aktif":_t.has_secret?"Kurulum bekliyor":"Kapali"})]}),a.jsxs("p",{children:["Aktif recovery kodu: ",_t.recovery_code_active_count]}),a.jsxs("p",{children:["Son guncelleme:"," ",_t.updated_at?new Date(_t.updated_at).toLocaleString("tr-TR"):"-"]}),a.jsxs("p",{children:["Kod son gecerlilik:"," ",_t.recovery_code_expires_at?new Date(_t.recovery_code_expires_at).toLocaleDateString("tr-TR"):"-"]})]}):null,a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsx("button",{type:"button",disabled:rt.isPending,onClick:()=>rt.mutate(te.id),className:"rounded-lg border border-brand-300 px-3 py-2 text-xs font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:rt.isPending?"Baslatiliyor...":"Kurulumu Baslat / Yenile"})}),xe?a.jsxs("form",{onSubmit:it,className:"space-y-3 rounded-lg border border-brand-100 bg-brand-50/40 px-3 py-3",children:[a.jsx("p",{className:"text-sm font-medium text-brand-900",children:"1) Authenticator ile QR kodu tarat"}),K?a.jsx("img",{src:K,alt:"MFA QR",className:"h-44 w-44 rounded-lg border border-brand-200 bg-white p-2"}):a.jsx("p",{className:"text-xs text-slate-600",children:"QR olusturulamadi. Asagidaki anahtari manuel girin."}),a.jsxs("p",{className:"text-xs text-slate-700",children:["Secret: ",a.jsx("code",{children:xe.secret_key})]}),a.jsx("p",{className:"text-xs text-slate-600 break-all",children:xe.otpauth_uri}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["2) Uretilen 6 haneli kod",a.jsx("input",{value:_e,onChange:ne=>le(ne.target.value),inputMode:"numeric",pattern:"[0-9]*",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"123456"})]}),a.jsx("button",{type:"submit",disabled:Se.isPending||!_e.trim(),className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Se.isPending?"Onaylaniyor...":"MFA Kurulumunu Onayla"})]}):null,a.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 px-3 py-3",children:[a.jsx("p",{className:"text-sm font-medium text-slate-800",children:"Kritik Islemler (Sizin sifreniz gerekli)"}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["Mevcut sifreniz",a.jsx("input",{type:"password",value:ue,onChange:ne=>q(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Sizin admin sifreniz"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",disabled:ct.isPending||!ue.trim()||!_t?.mfa_enabled,onClick:()=>{ue.trim()&&ct.mutate({adminUserId:te.id,currentPassword:ue})},className:"rounded-lg border border-emerald-300 px-3 py-2 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:ct.isPending?"Yenileniyor...":"Recovery Kodlarini Yenile"}),a.jsx("button",{type:"button",disabled:xt.isPending||!ue.trim(),onClick:()=>{!window.confirm(`${te.username} icin MFA sifirlansin mi?`)||!ue.trim()||xt.mutate({adminUserId:te.id,currentPassword:ue})},className:"rounded-lg border border-rose-300 px-3 py-2 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:xt.isPending?"Sifirlaniyor...":"MFA Sifirla"})]})]}),ke.length>0?a.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-3 text-sm text-amber-900",children:[a.jsx("p",{className:"font-semibold",children:"Recovery kodlari (tek seferlik gosterim)"}),a.jsxs("p",{className:"mt-1 text-xs",children:["Gecerlilik:"," ",z?new Date(z).toLocaleDateString("tr-TR"):"-"]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:ke.map(ne=>a.jsx("code",{className:"rounded bg-white px-2 py-1 text-slate-900",children:ne},ne))})]}):null]}):null})]})}function sv({label:e,value:i,onCopy:l}){return a.jsxs("label",{className:"block text-sm text-slate-700",children:[e,a.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[a.jsx("input",{readOnly:!0,value:i,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),a.jsx("button",{type:"button",onClick:()=>l(i),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Xo={exports:{}};var r3=Xo.exports,rv;function l3(){return rv||(rv=1,(function(e,i){(function(l,o){o(i)})(r3,(function(l){var o="1.9.4";function d(s){var u,h,y,N;for(h=1,y=arguments.length;h<y;h++){N=arguments[h];for(u in N)s[u]=N[u]}return s}var m=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function f(s,u){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var y=h.call(arguments,2);return function(){return s.apply(u,y.length?y.concat(h.call(arguments)):arguments)}}var x=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++x),s._leaflet_id}function b(s,u,h){var y,N,E,F;return F=function(){y=!1,N&&(E.apply(h,N),N=!1)},E=function(){y?N=arguments:(s.apply(h,arguments),setTimeout(F,u),y=!0)},E}function S(s,u,h){var y=u[1],N=u[0],E=y-N;return s===y&&h?s:((s-N)%E+E)%E+N}function w(){return!1}function C(s,u){if(u===!1)return s;var h=Math.pow(10,u===void 0?6:u);return Math.round(s*h)/h}function M(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return M(s).split(/\s+/)}function A(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?m(s.options):{});for(var h in u)s.options[h]=u[h];return s.options}function O(s,u,h){var y=[];for(var N in s)y.push(encodeURIComponent(h?N.toUpperCase():N)+"="+encodeURIComponent(s[N]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function P(s,u){return s.replace(B,function(h,y){var N=u[y];if(N===void 0)throw new Error("No value provided for variable "+h);return typeof N=="function"&&(N=N(u)),N})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function G(s,u){for(var h=0;h<s.length;h++)if(s[h]===u)return h;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Z=0;function Y(s){var u=+new Date,h=Math.max(0,16-(u-Z));return Z=u+h,window.setTimeout(s,h)}var te=window.requestAnimationFrame||W("RequestAnimationFrame")||Y,fe=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function xe(s,u,h){if(h&&te===Y)s.call(u);else return te.call(window,f(s,u))}function de(s){s&&fe.call(window,s)}var _e={__proto__:null,extend:d,create:m,bind:f,get lastId(){return x},stamp:v,throttle:b,wrapNum:S,falseFn:w,formatNum:C,trim:M,splitWords:k,setOptions:A,getParamString:O,template:P,isArray:R,indexOf:G,emptyImageUrl:V,requestFn:te,cancelFn:fe,requestAnimFrame:xe,cancelAnimFrame:de};function le(){}le.extend=function(s){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,y=m(h);y.constructor=u,u.prototype=y;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(u[N]=this[N]);return s.statics&&d(u,s.statics),s.includes&&(ue(s.includes),d.apply(null,[y].concat(s.includes))),d(y,s),delete y.statics,delete y.includes,y.options&&(y.options=h.options?m(h.options):{},d(y.options,s.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,F=y._initHooks.length;E<F;E++)y._initHooks[E].call(this)}},u},le.include=function(s){var u=this.prototype.options;return d(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},le.mergeOptions=function(s){return d(this.prototype.options,s),this},le.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ue(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(s,u,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],u);else{s=k(s);for(var N=0,E=s.length;N<E;N++)this._on(s[N],u,h)}return this},off:function(s,u,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var y in s)this._off(y,s[y],u);else{s=k(s);for(var N=arguments.length===1,E=0,F=s.length;E<F;E++)N?this._off(s[E]):this._off(s[E],u,h)}return this},_on:function(s,u,h,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,h)===!1){h===this&&(h=void 0);var N={fn:u,ctx:h};y&&(N.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(N)}},_off:function(s,u,h){var y,N,E;if(this._events&&(y=this._events[s],!!y)){if(arguments.length===1){if(this._firingCount)for(N=0,E=y.length;N<E;N++)y[N].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var F=this._listens(s,u,h);if(F!==!1){var oe=y[F];this._firingCount&&(oe.fn=w,this._events[s]=y=y.slice()),y.splice(F,1)}}},fire:function(s,u,h){if(!this.listens(s,h))return this;var y=d({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var N=this._events[s];if(N){this._firingCount=this._firingCount+1||1;for(var E=0,F=N.length;E<F;E++){var oe=N[E],pe=oe.fn;oe.once&&this.off(s,pe,oe.ctx),pe.call(oe.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(s,u,h,y){typeof s!="string"&&console.warn('"string" type argument expected');var N=u;typeof u!="function"&&(y=!!u,N=void 0,h=void 0);var E=this._events&&this._events[s];if(E&&E.length&&this._listens(s,N,h)!==!1)return!0;if(y){for(var F in this._eventParents)if(this._eventParents[F].listens(s,u,h,y))return!0}return!1},_listens:function(s,u,h){if(!this._events)return!1;var y=this._events[s]||[];if(!u)return!!y.length;h===this&&(h=void 0);for(var N=0,E=y.length;N<E;N++)if(y[N].fn===u&&y[N].ctx===h)return N;return!1},once:function(s,u,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],u,!0);else{s=k(s);for(var N=0,E=s.length;N<E;N++)this._on(s[N],u,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,d({layer:s.target,propagatedFrom:s.target},s),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var K=le.extend(q);function ie(s,u,h){this.x=h?Math.round(s):s,this.y=h?Math.round(u):u}var ke=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(s){return this.clone()._add($(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract($(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ie(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ie(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ke(this.x),this.y=ke(this.y),this},distanceTo:function(s){s=$(s);var u=s.x-this.x,h=s.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(s){return s=$(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=$(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function $(s,u,h){return s instanceof ie?s:R(s)?new ie(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ie(s.x,s.y):new ie(s,u,h)}function z(s,u){if(s)for(var h=u?[s,u]:s,y=0,N=h.length;y<N;y++)this.extend(h[y])}z.prototype={extend:function(s){var u,h;if(!s)return this;if(s instanceof ie||typeof s[0]=="number"||"x"in s)u=h=$(s);else if(s=ee(s),u=s.min,h=s.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,h;return typeof s[0]=="number"||s instanceof ie?s=$(s):s=ee(s),s instanceof z?(u=s.min,h=s.max):u=h=s,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=ee(s);var u=this.min,h=this.max,y=s.min,N=s.max,E=N.x>=u.x&&y.x<=h.x,F=N.y>=u.y&&y.y<=h.y;return E&&F},overlaps:function(s){s=ee(s);var u=this.min,h=this.max,y=s.min,N=s.max,E=N.x>u.x&&y.x<h.x,F=N.y>u.y&&y.y<h.y;return E&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,h=this.max,y=Math.abs(u.x-h.x)*s,N=Math.abs(u.y-h.y)*s;return ee($(u.x-y,u.y-N),$(h.x+y,h.y+N))},equals:function(s){return s?(s=ee(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ee(s,u){return!s||s instanceof z?s:new z(s,u)}function D(s,u){if(s)for(var h=u?[s,u]:s,y=0,N=h.length;y<N;y++)this.extend(h[y])}D.prototype={extend:function(s){var u=this._southWest,h=this._northEast,y,N;if(s instanceof ce)y=s,N=s;else if(s instanceof D){if(y=s._southWest,N=s._northEast,!y||!N)return this}else return s?this.extend(je(s)||I(s)):this;return!u&&!h?(this._southWest=new ce(y.lat,y.lng),this._northEast=new ce(N.lat,N.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),h.lat=Math.max(N.lat,h.lat),h.lng=Math.max(N.lng,h.lng)),this},pad:function(s){var u=this._southWest,h=this._northEast,y=Math.abs(u.lat-h.lat)*s,N=Math.abs(u.lng-h.lng)*s;return new D(new ce(u.lat-y,u.lng-N),new ce(h.lat+y,h.lng+N))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ce||"lat"in s?s=je(s):s=I(s);var u=this._southWest,h=this._northEast,y,N;return s instanceof D?(y=s.getSouthWest(),N=s.getNorthEast()):y=N=s,y.lat>=u.lat&&N.lat<=h.lat&&y.lng>=u.lng&&N.lng<=h.lng},intersects:function(s){s=I(s);var u=this._southWest,h=this._northEast,y=s.getSouthWest(),N=s.getNorthEast(),E=N.lat>=u.lat&&y.lat<=h.lat,F=N.lng>=u.lng&&y.lng<=h.lng;return E&&F},overlaps:function(s){s=I(s);var u=this._southWest,h=this._northEast,y=s.getSouthWest(),N=s.getNorthEast(),E=N.lat>u.lat&&y.lat<h.lat,F=N.lng>u.lng&&y.lng<h.lng;return E&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=I(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function I(s,u){return s instanceof D?s:new D(s,u)}function ce(s,u,h){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,h!==void 0&&(this.alt=+h)}ce.prototype={equals:function(s,u){if(!s)return!1;s=je(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+C(this.lat,s)+", "+C(this.lng,s)+")"},distanceTo:function(s){return He.distance(this,je(s))},wrap:function(){return He.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,h=u/Math.cos(Math.PI/180*this.lat);return I([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function je(s,u,h){return s instanceof ce?s:R(s)&&typeof s[0]!="object"?s.length===3?new ce(s[0],s[1],s[2]):s.length===2?new ce(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ce(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ce(s,u,h)}var Me={latLngToPoint:function(s,u){var h=this.projection.project(s),y=this.scale(u);return this.transformation._transform(h,y)},pointToLatLng:function(s,u){var h=this.scale(u),y=this.transformation.untransform(s,h);return this.projection.unproject(y)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(s),y=this.transformation.transform(u.min,h),N=this.transformation.transform(u.max,h);return new z(y,N)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,y=s.alt;return new ce(h,u,y)},wrapLatLngBounds:function(s){var u=s.getCenter(),h=this.wrapLatLng(u),y=u.lat-h.lat,N=u.lng-h.lng;if(y===0&&N===0)return s;var E=s.getSouthWest(),F=s.getNorthEast(),oe=new ce(E.lat-y,E.lng-N),pe=new ce(F.lat-y,F.lng-N);return new D(oe,pe)}},He=d({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var h=Math.PI/180,y=s.lat*h,N=u.lat*h,E=Math.sin((u.lat-s.lat)*h/2),F=Math.sin((u.lng-s.lng)*h/2),oe=E*E+Math.cos(y)*Math.cos(N)*F*F,pe=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*pe}}),Xe=6378137,rt={R:Xe,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,s.lat),-h),N=Math.sin(y*u);return new ie(this.R*s.lng*u,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(s){var u=180/Math.PI;return new ce((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Xe*Math.PI;return new z([-s,-s],[s,s])})()};function Se(s,u,h,y){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=h,this._d=y}Se.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ie((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ct(s,u,h,y){return new Se(s,u,h,y)}var xt=d({},He,{code:"EPSG:3857",projection:rt,transformation:(function(){var s=.5/(Math.PI*rt.R);return ct(s,.5,-s,.5)})()}),kt=d({},xt,{code:"EPSG:900913"});function _t(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ht(s,u){var h="",y,N,E,F,oe,pe;for(y=0,E=s.length;y<E;y++){for(oe=s[y],N=0,F=oe.length;N<F;N++)pe=oe[N],h+=(N?"L":"M")+pe.x+" "+pe.y;h+=u?De.svg?"z":"x":""}return h||"M0 0"}var At=document.documentElement.style,Pt="ActiveXObject"in window,nn=Pt&&!document.addEventListener,ae="msLaunchUri"in navigator&&!("documentMode"in document),Ae=Rn("webkit"),$e=Rn("android"),it=Rn("android 2")||Rn("android 3"),ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oe=$e&&Rn("Google")&&ne<537&&!("AudioNode"in window),be=!!window.opera,qe=!ae&&Rn("chrome"),mt=Rn("gecko")&&!Ae&&!be&&!Pt,nt=!qe&&Rn("safari"),Tt=Rn("phantom"),se="OTransition"in At,Qe=navigator.platform.indexOf("Win")===0,J=Pt&&"transition"in At,Fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,lt="MozPerspective"in At,pt=!window.L_DISABLE_3D&&(J||Fe||lt)&&!se&&!Tt,Bt=typeof orientation<"u"||Rn("mobile"),ni=Bt&&Ae,Hn=Bt&&Fe,yn=!window.PointerEvent&&window.MSPointerEvent,Xn=!!(window.PointerEvent||yn),_a="ontouchstart"in window||!!window.TouchEvent,Kn=!window.L_NO_TOUCH&&(_a||Xn),Qn=Bt&&be,vn=Bt&&mt,xi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ms=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),yi=(function(){return!!document.createElement("canvas").getContext})(),Dn=!!(document.createElementNS&&_t("svg").createSVGRect),Bi=!!Dn&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Na=!Dn&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),vi=navigator.platform.indexOf("Mac")===0,Ui=navigator.platform.indexOf("Linux")===0;function Rn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var De={ie:Pt,ielt9:nn,edge:ae,webkit:Ae,android:$e,android23:it,androidStock:Oe,opera:be,chrome:qe,gecko:mt,safari:nt,phantom:Tt,opera12:se,win:Qe,ie3d:J,webkit3d:Fe,gecko3d:lt,any3d:pt,mobile:Bt,mobileWebkit:ni,mobileWebkit3d:Hn,msPointer:yn,pointer:Xn,touch:Kn,touchNative:_a,mobileOpera:Qn,mobileGecko:vn,retina:xi,passiveEvents:ms,canvas:yi,svg:Dn,vml:Na,inlineSvg:Bi,mac:vi,linux:Ui},bi=De.msPointer?"MSPointerDown":"pointerdown",_i=De.msPointer?"MSPointerMove":"pointermove",Jn=De.msPointer?"MSPointerUp":"pointerup",Yt=De.msPointer?"MSPointerCancel":"pointercancel",st={touchstart:bi,touchmove:_i,touchend:Jn,touchcancel:Yt},Wn={touchstart:ja,touchmove:bn,touchend:bn,touchcancel:bn},sa={},hs=!1;function Fi(s,u,h){return u==="touchstart"&&Nt(),Wn[u]?(h=Wn[u].bind(this,h),s.addEventListener(st[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function qi(s,u,h){if(!st[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(st[u],h,!1)}function ai(s){sa[s.pointerId]=s}function U(s){sa[s.pointerId]&&(sa[s.pointerId]=s)}function Ie(s){delete sa[s.pointerId]}function Nt(){hs||(document.addEventListener(bi,ai,!0),document.addEventListener(_i,U,!0),document.addEventListener(Jn,Ie,!0),document.addEventListener(Yt,Ie,!0),hs=!0)}function bn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in sa)u.touches.push(sa[h]);u.changedTouches=[u],s(u)}}function ja(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&cn(u),bn(s,u)}function Wt(s){var u={},h,y;for(y in s)h=s[y],u[y]=h&&h.bind?h.bind(s):h;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ii=200;function ar(s,u){s.addEventListener("dblclick",u);var h=0,y;function N(E){if(E.detail!==1){y=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var F=or(E);if(!(F.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!F.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var oe=Date.now();oe-h<=ii?(y++,y===2&&u(Wt(E))):y=1,h=oe}}}return s.addEventListener("click",N),{dblclick:u,simDblclick:N}}function Q(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Ke=ir(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ct=ir(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ra=Ct==="webkitTransition"||Ct==="OTransition"?Ct+"End":"transitionend";function Ni(s){return typeof s=="string"?document.getElementById(s):s}function ji(s,u){var h=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(s,null);h=y?y[u]:null}return h==="auto"?null:h}function gt(s,u,h){var y=document.createElement(s);return y.className=u||"",h&&h.appendChild(y),y}function Kt(s){var u=s.parentNode;u&&u.removeChild(s)}function la(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function En(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Zi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Gl(s,u){if(s.classList!==void 0)return s.classList.contains(u);var h=Vr(s);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function ot(s,u){if(s.classList!==void 0)for(var h=k(u),y=0,N=h.length;y<N;y++)s.classList.add(h[y]);else if(!Gl(s,u)){var E=Vr(s);fs(s,(E?E+" ":"")+u)}}function an(s,u){s.classList!==void 0?s.classList.remove(u):fs(s,M((" "+Vr(s)+" ").replace(" "+u+" "," ")))}function fs(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Vr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function en(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Vl(s,u)}function Vl(s,u){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):s.style.filter+=" progid:"+y+"(opacity="+u+")"}function ir(s){for(var u=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in u)return s[h];return!1}function si(s,u,h){var y=u||new ie(0,0);s.style[Ke]=(De.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function $t(s,u){s._leaflet_pos=u,De.any3d?si(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Si(s){return s._leaflet_pos||new ie(0,0)}var ps,Ra,Yl;if("onselectstart"in document)ps=function(){tt(window,"selectstart",cn)},Ra=function(){It(window,"selectstart",cn)};else{var gs=ir(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ps=function(){if(gs){var s=document.documentElement.style;Yl=s[gs],s[gs]="none"}},Ra=function(){gs&&(document.documentElement.style[gs]=Yl,Yl=void 0)}}function Yr(){tt(window,"dragstart",cn)}function sr(){It(window,"dragstart",cn)}var $r,$l;function xs(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(oa(),$r=s,$l=s.style.outlineStyle,s.style.outlineStyle="none",tt(window,"keydown",oa))}function oa(){$r&&($r.style.outlineStyle=$l,$r=void 0,$l=void 0,It(window,"keydown",oa))}function Xr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function rr(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ys={__proto__:null,TRANSFORM:Ke,TRANSITION:Ct,TRANSITION_END:ra,get:Ni,getStyle:ji,create:gt,remove:Kt,empty:la,toFront:En,toBack:Zi,hasClass:Gl,addClass:ot,removeClass:an,setClass:fs,getClass:Vr,setOpacity:en,testProp:ir,setTransform:si,setPosition:$t,getPosition:Si,get disableTextSelection(){return ps},get enableTextSelection(){return Ra},disableImageDrag:Yr,enableImageDrag:sr,preventOutline:xs,restoreOutline:oa,getSizedParentNode:Xr,getScale:rr};function tt(s,u,h,y){if(u&&typeof u=="object")for(var N in u)wa(s,N,u[N],h);else{u=k(u);for(var E=0,F=u.length;E<F;E++)wa(s,u[E],h,y)}return this}var Sa="_leaflet_events";function It(s,u,h,y){if(arguments.length===1)Xl(s),delete s[Sa];else if(u&&typeof u=="object")for(var N in u)lr(s,N,u[N],h);else if(u=k(u),arguments.length===2)Xl(s,function(oe){return G(u,oe)!==-1});else for(var E=0,F=u.length;E<F;E++)lr(s,u[E],h,y);return this}function Xl(s,u){for(var h in s[Sa]){var y=h.split(/\d/)[0];(!u||u(y))&&lr(s,y,null,null,h)}}var Hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function wa(s,u,h,y){var N=u+v(h)+(y?"_"+v(y):"");if(s[Sa]&&s[Sa][N])return this;var E=function(oe){return h.call(y||s,oe||window.event)},F=E;!De.touchNative&&De.pointer&&u.indexOf("touch")===0?E=Fi(s,u,E):De.touch&&u==="dblclick"?E=ar(s,E):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Hi[u]||u,E,De.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(oe){oe=oe||window.event,ri(s,oe)&&F(oe)},s.addEventListener(Hi[u],E,!1)):s.addEventListener(u,F,!1):s.attachEvent("on"+u,E),s[Sa]=s[Sa]||{},s[Sa][N]=E}function lr(s,u,h,y,N){N=N||u+v(h)+(y?"_"+v(y):"");var E=s[Sa]&&s[Sa][N];if(!E)return this;!De.touchNative&&De.pointer&&u.indexOf("touch")===0?qi(s,u,E):De.touch&&u==="dblclick"?Q(s,E):"removeEventListener"in s?s.removeEventListener(Hi[u]||u,E,!1):s.detachEvent("on"+u,E),s[Sa][N]=null}function Ea(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function La(s){return wa(s,"wheel",Ea),this}function Ki(s){return tt(s,"mousedown touchstart dblclick contextmenu",Ea),s._leaflet_disable_click=!0,this}function cn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function wi(s){return cn(s),Ea(s),this}function or(s){if(s.composedPath)return s.composedPath();for(var u=[],h=s.target;h;)u.push(h),h=h.parentNode;return u}function ur(s,u){if(!u)return new ie(s.clientX,s.clientY);var h=rr(u),y=h.boundingClientRect;return new ie((s.clientX-y.left)/h.x-u.clientLeft,(s.clientY-y.top)/h.y-u.clientTop)}var hu=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ln(s){return De.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/hu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ri(s,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Jr={__proto__:null,on:tt,off:It,stopPropagation:Ea,disableScrollPropagation:La,disableClickPropagation:Ki,preventDefault:cn,stop:wi,getPropagationPath:or,getMousePosition:ur,getWheelDelta:Ln,isExternalTarget:ri,addListener:tt,removeListener:It},vs=K.extend({run:function(s,u,h,y){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Si(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=xe(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var h=this._startPos.add(this._offset.multiplyBy(s));u&&h._round(),$t(this._el,h),this.fire("step")},_complete:function(){de(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),jt=K.extend({options:{crs:xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(je(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ct&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,ra,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(je(s),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,h.zoom):this._tryAnimatedPan(s,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,h){var y=this.getZoomScale(u),N=this.getSize().divideBy(2),E=s instanceof ie?s:this.latLngToContainerPoint(s),F=E.subtract(N).multiplyBy(1-1/y),oe=this.containerPointToLatLng(N.add(F));return this.setView(oe,u,{zoom:h})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():I(s);var h=$(u.paddingTopLeft||u.padding||[0,0]),y=$(u.paddingBottomRight||u.padding||[0,0]),N=this.getBoundsZoom(s,!1,h.add(y));if(N=typeof u.maxZoom=="number"?Math.min(u.maxZoom,N):N,N===1/0)return{center:s.getCenter(),zoom:N};var E=y.subtract(h).divideBy(2),F=this.project(s.getSouthWest(),N),oe=this.project(s.getNorthEast(),N),pe=this.unproject(F.add(oe).divideBy(2).add(E),N);return{center:pe,zoom:N}},fitBounds:function(s,u){if(s=I(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=$(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){ot(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,h){if(h=h||{},h.animate===!1||!De.any3d)return this.setView(s,u,h);this._stop();var y=this.project(this.getCenter()),N=this.project(s),E=this.getSize(),F=this._zoom;s=je(s),u=u===void 0?F:u;var oe=Math.max(E.x,E.y),pe=oe*this.getZoomScale(F,u),Te=N.distanceTo(y)||1,Le=1.42,Ye=Le*Le;function ht(on){var ci=on?-1:1,Yi=on?pe:oe,ho=pe*pe-oe*oe+ci*Ye*Ye*Te*Te,wr=2*Yi*Ye*Te,Er=ho/wr,Di=Math.sqrt(Er*Er+1)-Er,di=Di<1e-9?-18:Math.log(Di);return di}function kn(on){return(Math.exp(on)-Math.exp(-on))/2}function dn(on){return(Math.exp(on)+Math.exp(-on))/2}function ta(on){return kn(on)/dn(on)}var zt=ht(0);function Mt(on){return oe*(dn(zt)/dn(zt+Le*on))}function yt(on){return oe*(dn(zt)*ta(zt+Le*on)-kn(zt))/Ye}function Mi(on){return 1-Math.pow(1-on,1.5)}var ma=Date.now(),ml=(ht(1)-zt)/Le,Oi=h.duration?1e3*h.duration:1e3*ml*.8;function mo(){var on=(Date.now()-ma)/Oi,ci=Mi(on)*ml;on<=1?(this._flyToFrame=xe(mo,this),this._move(this.unproject(y.add(N.subtract(y).multiplyBy(yt(ci)/Te)),F),this.getScaleZoom(oe/Mt(ci),F),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),mo.call(this),this},flyToBounds:function(s,u){var h=this._getBoundsCenterZoom(s,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(s){return s=I(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,I(s));return h.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var h=$(u.paddingTopLeft||u.padding||[0,0]),y=$(u.paddingBottomRight||u.padding||[0,0]),N=this.project(this.getCenter()),E=this.project(s),F=this.getPixelBounds(),oe=ee([F.min.add(h),F.max.subtract(y)]),pe=oe.getSize();if(!oe.contains(E)){this._enforcingBounds=!0;var Te=E.subtract(oe.getCenter()),Le=oe.extend(E).getSize().subtract(pe);N.x+=Te.x<0?-Le.x:Le.x,N.y+=Te.y<0?-Le.y:Le.y,this.panTo(this.unproject(N),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=d({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=u.divideBy(2).round(),N=h.divideBy(2).round(),E=y.subtract(N);return!E.x&&!E.y?this:(s.animate&&s.pan?this.panBy(E):(s.pan&&this._rawPanBy(E),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=d({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,s):navigator.geolocation.getCurrentPosition(u,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,h=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,h=s.coords.longitude,y=new ce(u,h),N=y.toBounds(s.coords.accuracy*2),E=this._locateOptions;if(E.setView){var F=this.getBoundsZoom(N);this.setView(y,E.maxZoom?Math.min(F,E.maxZoom):F)}var oe={latlng:y,bounds:N,timestamp:s.timestamp};for(var pe in s.coords)typeof s.coords[pe]=="number"&&(oe[pe]=s.coords[pe]);this.fire("locationfound",oe)}},addHandler:function(s,u){if(!u)return this;var h=this[s]=new u(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(de(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Kt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),y=gt("div",h,u||this._mapPane);return s&&(this._panes[s]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new D(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,h){s=I(s),h=$(h||[0,0]);var y=this.getZoom()||0,N=this.getMinZoom(),E=this.getMaxZoom(),F=s.getNorthWest(),oe=s.getSouthEast(),pe=this.getSize().subtract(h),Te=ee(this.project(oe,y),this.project(F,y)).getSize(),Le=De.any3d?this.options.zoomSnap:1,Ye=pe.x/Te.x,ht=pe.y/Te.y,kn=u?Math.max(Ye,ht):Math.min(Ye,ht);return y=this.getScaleZoom(kn,y),Le&&(y=Math.round(y/(Le/100))*(Le/100),y=u?Math.ceil(y/Le)*Le:Math.floor(y/Le)*Le),Math.max(N,Math.min(E,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var h=this._getTopLeftPoint(s,u);return new z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(s)/h.scale(u)},getScaleZoom:function(s,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var y=h.zoom(s*h.scale(u));return isNaN(y)?1/0:y},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(je(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng($(s),u)},layerPointToLatLng:function(s){var u=$(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(je(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(je(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(I(s))},distance:function(s,u){return this.options.crs.distance(je(s),je(u))},containerPointToLayerPoint:function(s){return $(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return $(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint($(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(je(s)))},mouseEventToContainerPoint:function(s){return ur(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Ni(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,ot(s,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ji(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$t(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ot(s.markerPane,"leaflet-zoom-hide"),ot(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,h){$t(this._mapPane,new ie(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var N=this._zoom!==u;this._moveStart(N,h)._move(s,u)._moveEnd(N),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,h,y){u===void 0&&(u=this._zoom);var N=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),y?h&&h.pinch&&this.fire("zoom",h):((N||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return de(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){$t(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?It:tt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){de(this._resizeRequest),this._resizeRequest=xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var h=[],y,N=u==="mouseout"||u==="mouseover",E=s.target||s.srcElement,F=!1;E;){if(y=this._targets[v(E)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){F=!0;break}if(y&&y.listens(u,!0)&&(N&&!ri(E,s)||(h.push(y),N))||E===this._container)break;E=E.parentNode}return!h.length&&!F&&!N&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var h=s.type;h==="mousedown"&&xs(u),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,h){if(s.type==="click"){var y=d({},s);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var N=this._findEventTargets(s,u);if(h){for(var E=[],F=0;F<h.length;F++)h[F].listens(u,!0)&&E.push(h[F]);N=E.concat(N)}if(N.length){u==="contextmenu"&&cn(s);var oe=N[0],pe={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Te=oe.getLatLng&&(!oe._radius||oe._radius<=10);pe.containerPoint=Te?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(s),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Te?oe.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(F=0;F<N.length;F++)if(N[F].fire(u,pe,!0),pe.originalEvent._stopped||N[F].options.bubblingMouseEvents===!1&&G(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Si(this._mapPane)||new ie(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var h=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var h=this.getSize()._divideBy(2);return this.project(s,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,h){var y=this._getNewPixelOrigin(h,u);return this.project(s,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(s,u,h){var y=this._getNewPixelOrigin(h,u);return ee([this.project(s.getSouthWest(),u)._subtract(y),this.project(s.getNorthWest(),u)._subtract(y),this.project(s.getSouthEast(),u)._subtract(y),this.project(s.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,h){if(!h)return s;var y=this.project(s,u),N=this.getSize().divideBy(2),E=new z(y.subtract(N),y.add(N)),F=this._getBoundsOffset(E,h,u);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?s:this.unproject(y.add(F),u)},_limitOffset:function(s,u){if(!u)return s;var h=this.getPixelBounds(),y=new z(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(s,u,h){var y=ee(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),N=y.min.subtract(s.min),E=y.max.subtract(s.max),F=this._rebound(N.x,-E.x),oe=this._rebound(N.y,-E.y);return new ie(F,oe)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),h=this.getMaxZoom(),y=De.any3d?this.options.zoomSnap:1;return y&&(s=Math.round(s/y)*y),Math.max(u,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){an(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var h=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var s=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var h=Ke,y=this._proxy.style[h];si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();si(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),N=this._getCenterOffset(s)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(N)?!1:(xe(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&an(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jl(s,u){return new jt(s,u)}var ea=le.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),h=this.getPosition(),y=s._controlCorners[h];return ot(u,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),li=function(s){return new ea(s)};jt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",h=this._controlContainer=gt("div",u+"control-container",this._container);function y(N,E){var F=u+N+" "+u+E;s[N+E]=gt("div",F,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Kt(this._controlCorners[s]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cr=ea.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,h,y){return h<y?-1:y<h?1:0}},initialize:function(s,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in s)this._addLayer(s[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return ea.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):an(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return an(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=gt("div",s),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ki(u),La(u);var y=this._section=gt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),tt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=gt("a",s+"-toggle",u);N.href="#",N.title="Layers",N.setAttribute("role","button"),tt(N,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){cn(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=gt("div",s+"-base",y),this._separator=gt("div",s+"-separator",y),this._overlaysList=gt("div",s+"-overlays",y),u.appendChild(y)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(y,N){return this.options.sortFunction(y.layer,N.layer,y.name,N.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;la(this._baseLayersList),la(this._overlaysList),this._layerControlInputs=[];var s,u,h,y,N=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),u=u||y.overlay,s=s||!y.overlay,N+=y.overlay?0:1;return this.options.hideSingleBase&&(s=s&&N>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),h=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(s,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(s){var u=document.createElement("label"),h=this._map.hasLayer(s.layer),y;s.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(y),y.layerId=v(s.layer),tt(y,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+s.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(y),E.appendChild(N);var F=s.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,h,y=[],N=[];this._handlingClick=!0;for(var E=s.length-1;E>=0;E--)u=s[E],h=this._getLayer(u.layerId).layer,u.checked?y.push(h):u.checked||N.push(h);for(E=0;E<N.length;E++)this._map.hasLayer(N[E])&&this._map.removeLayer(N[E]);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])||this._map.addLayer(y[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,h,y=this._map.getZoom(),N=s.length-1;N>=0;N--)u=s[N],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,tt(s,"click",cn),this.expand();var u=this;setTimeout(function(){It(s,"click",cn),u._preventClick=!1})}}),fu=function(s,u,h){return new cr(s,u,h)},Wl=ea.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",h=gt("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,h,y,N){var E=gt("a",h,y);return E.innerHTML=s,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),Ki(E),tt(E,"click",wi),tt(E,"click",N,this),tt(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";an(this._zoomInButton,u),an(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ot(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ot(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});jt.mergeOptions({zoomControl:!0}),jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wl,this.addControl(this.zoomControl))});var kd=function(s){return new Wl(s)},pu=ea.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",h=gt("div",u),y=this.options;return this._addScales(y,u+"-line",h),s.on(y.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,h){s.metric&&(this._mScale=gt("div",u,h)),s.imperial&&(this._iScale=gt("div",u,h))},_update:function(){var s=this._map,u=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/s)},_updateImperial:function(s){var u=s*3.2808399,h,y,N;u>5280?(h=u/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(N=this._getRoundNum(u),this._updateScale(this._iScale,N+" ft",N/u))},_updateScale:function(s,u,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),h=s/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),eo=function(s){return new pu(s)},Td='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',to=ea.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?Td+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Ki(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});jt.mergeOptions({attributionControl:!0}),jt.addInitHook(function(){this.options.attributionControl&&new to().addTo(this)});var Cd=function(s){return new to(s)};ea.Layers=cr,ea.Zoom=Wl,ea.Scale=pu,ea.Attribution=to,li.layers=fu,li.zoom=kd,li.scale=eo,li.attribution=Cd;var Pa=le.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pa.addTo=function(s,u){return s.addHandler(u,this),this};var Ad={Events:q},no=De.touch?"touchstart mousedown":"mousedown",Ei=K.extend({options:{clickTolerance:3},initialize:function(s,u,h,y){A(this,y),this._element=s,this._dragStartTarget=u||s,this._preventOutline=h},enable:function(){this._enabled||(tt(this._dragStartTarget,no,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,no,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Gl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ei._dragging=this,this._preventOutline&&xs(this._element),Yr(),ps(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,h=Xr(this._element);this._startPoint=new ie(u.clientX,u.clientY),this._startPos=Si(this._element),this._parentScale=rr(h);var y=s.type==="mousedown";tt(document,y?"mousemove":"touchmove",this._onMove,this),tt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,h=new ie(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,cn(s),this._moved||(this.fire("dragstart"),this._moved=!0,ot(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),$t(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){an(document.body,"leaflet-dragging"),this._lastTarget&&(an(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),sr(),Ra();var u=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function gu(s,u,h){var y,N=[1,4,2,8],E,F,oe,pe,Te,Le,Ye,ht;for(E=0,Le=s.length;E<Le;E++)s[E]._code=Qi(s[E],u);for(oe=0;oe<4;oe++){for(Ye=N[oe],y=[],E=0,Le=s.length,F=Le-1;E<Le;F=E++)pe=s[E],Te=s[F],pe._code&Ye?Te._code&Ye||(ht=Wr(Te,pe,Ye,u,h),ht._code=Qi(ht,u),y.push(ht)):(Te._code&Ye&&(ht=Wr(Te,pe,Ye,u,h),ht._code=Qi(ht,u),y.push(ht)),y.push(pe));s=y}return s}function xu(s,u){var h,y,N,E,F,oe,pe,Te,Le;if(!s||s.length===0)throw new Error("latlngs not passed");ua(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ye=je([0,0]),ht=I(s),kn=ht.getNorthWest().distanceTo(ht.getSouthWest())*ht.getNorthEast().distanceTo(ht.getNorthWest());kn<1700&&(Ye=ao(s));var dn=s.length,ta=[];for(h=0;h<dn;h++){var zt=je(s[h]);ta.push(u.project(je([zt.lat-Ye.lat,zt.lng-Ye.lng])))}for(oe=pe=Te=0,h=0,y=dn-1;h<dn;y=h++)N=ta[h],E=ta[y],F=N.y*E.x-E.y*N.x,pe+=(N.x+E.x)*F,Te+=(N.y+E.y)*F,oe+=F*3;oe===0?Le=ta[0]:Le=[pe/oe,Te/oe];var Mt=u.unproject($(Le));return je([Mt.lat+Ye.lat,Mt.lng+Ye.lng])}function ao(s){for(var u=0,h=0,y=0,N=0;N<s.length;N++){var E=je(s[N]);u+=E.lat,h+=E.lng,y++}return je([u/y,h/y])}var io={__proto__:null,clipPolygon:gu,polygonCenter:xu,centroid:ao};function yu(s,u){if(!u||!s.length)return s.slice();var h=u*u;return s=Md(s,h),s=bu(s,h),s}function vu(s,u,h){return Math.sqrt(dr(s,u,h,!0))}function zd(s,u,h){return dr(s,u,h)}function bu(s,u){var h=s.length,y=typeof Uint8Array<"u"?Uint8Array:Array,N=new y(h);N[0]=N[h-1]=1,so(s,N,u,0,h-1);var E,F=[];for(E=0;E<h;E++)N[E]&&F.push(s[E]);return F}function so(s,u,h,y,N){var E=0,F,oe,pe;for(oe=y+1;oe<=N-1;oe++)pe=dr(s[oe],s[y],s[N],!0),pe>E&&(F=oe,E=pe);E>h&&(u[F]=1,so(s,u,h,y,F),so(s,u,h,F,N))}function Md(s,u){for(var h=[s[0]],y=1,N=0,E=s.length;y<E;y++)Od(s[y],s[N])>u&&(h.push(s[y]),N=y);return N<E-1&&h.push(s[E-1]),h}var _u;function Nu(s,u,h,y,N){var E=y?_u:Qi(s,h),F=Qi(u,h),oe,pe,Te;for(_u=F;;){if(!(E|F))return[s,u];if(E&F)return!1;oe=E||F,pe=Wr(s,u,oe,h,N),Te=Qi(pe,h),oe===E?(s=pe,E=Te):(u=pe,F=Te)}}function Wr(s,u,h,y,N){var E=u.x-s.x,F=u.y-s.y,oe=y.min,pe=y.max,Te,Le;return h&8?(Te=s.x+E*(pe.y-s.y)/F,Le=pe.y):h&4?(Te=s.x+E*(oe.y-s.y)/F,Le=oe.y):h&2?(Te=pe.x,Le=s.y+F*(pe.x-s.x)/E):h&1&&(Te=oe.x,Le=s.y+F*(oe.x-s.x)/E),new ie(Te,Le,N)}function Qi(s,u){var h=0;return s.x<u.min.x?h|=1:s.x>u.max.x&&(h|=2),s.y<u.min.y?h|=4:s.y>u.max.y&&(h|=8),h}function Od(s,u){var h=u.x-s.x,y=u.y-s.y;return h*h+y*y}function dr(s,u,h,y){var N=u.x,E=u.y,F=h.x-N,oe=h.y-E,pe=F*F+oe*oe,Te;return pe>0&&(Te=((s.x-N)*F+(s.y-E)*oe)/pe,Te>1?(N=h.x,E=h.y):Te>0&&(N+=F*Te,E+=oe*Te)),F=s.x-N,oe=s.y-E,y?F*F+oe*oe:new ie(N,E)}function ua(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function el(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ua(s)}function bs(s,u){var h,y,N,E,F,oe,pe,Te;if(!s||s.length===0)throw new Error("latlngs not passed");ua(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Le=je([0,0]),Ye=I(s),ht=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());ht<1700&&(Le=ao(s));var kn=s.length,dn=[];for(h=0;h<kn;h++){var ta=je(s[h]);dn.push(u.project(je([ta.lat-Le.lat,ta.lng-Le.lng])))}for(h=0,y=0;h<kn-1;h++)y+=dn[h].distanceTo(dn[h+1])/2;if(y===0)Te=dn[0];else for(h=0,E=0;h<kn-1;h++)if(F=dn[h],oe=dn[h+1],N=F.distanceTo(oe),E+=N,E>y){pe=(E-y)/N,Te=[oe.x-pe*(oe.x-F.x),oe.y-pe*(oe.y-F.y)];break}var zt=u.unproject($(Te));return je([zt.lat+Le.lat,zt.lng+Le.lng])}var Dd={__proto__:null,simplify:yu,pointToSegmentDistance:vu,closestPointOnSegment:zd,clipSegment:Nu,_getEdgeIntersection:Wr,_getBitCode:Qi,_sqClosestPointOnSegment:dr,isFlat:ua,_flat:el,polylineCenter:bs},tl={project:function(s){return new ie(s.lng,s.lat)},unproject:function(s){return new ce(s.y,s.x)},bounds:new z([-180,-90],[180,90])},nl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,h=this.R,y=s.lat*u,N=this.R_MINOR/h,E=Math.sqrt(1-N*N),F=E*Math.sin(y),oe=Math.tan(Math.PI/4-y/2)/Math.pow((1-F)/(1+F),E/2);return y=-h*Math.log(Math.max(oe,1e-10)),new ie(s.lng*u*h,y)},unproject:function(s){for(var u=180/Math.PI,h=this.R,y=this.R_MINOR/h,N=Math.sqrt(1-y*y),E=Math.exp(-s.y/h),F=Math.PI/2-2*Math.atan(E),oe=0,pe=.1,Te;oe<15&&Math.abs(pe)>1e-7;oe++)Te=N*Math.sin(F),Te=Math.pow((1-Te)/(1+Te),N/2),pe=Math.PI/2-2*Math.atan(E*Te)-F,F+=pe;return new ce(F*u,s.x*u/h)}},ju={__proto__:null,LonLat:tl,Mercator:nl,SphericalMercator:rt},Su=d({},He,{code:"EPSG:3395",projection:nl,transformation:(function(){var s=.5/(Math.PI*nl.R);return ct(s,.5,-s,.5)})()}),ro=d({},He,{code:"EPSG:4326",projection:tl,transformation:ct(1/180,1,-1/180,.5)}),_s=d({},Me,{projection:tl,transformation:ct(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var h=u.lng-s.lng,y=u.lat-s.lat;return Math.sqrt(h*h+y*y)},infinite:!0});Me.Earth=He,Me.EPSG3395=Su,Me.EPSG3857=xt,Me.EPSG900913=kt,Me.EPSG4326=ro,Me.Simple=_s;var ka=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});jt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var u=0,h=s.length;u<h;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var N=this._zoomBoundLayers[y].options;s=N.minZoom===void 0?s:Math.min(s,N.minZoom),u=N.maxZoom===void 0?u:Math.max(u,N.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ns=ka.extend({initialize:function(s,u){A(this,u),this._layers={};var h,y;if(s)for(h=0,y=s.length;h<y;h++)this.addLayer(s[h])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[s]&&y[s].apply(y,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Rd=function(s,u){return new Ns(s,u)},Ia=Ns.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ns.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ns.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new D;for(var u in this._layers){var h=this._layers[u];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),wu=function(s,u){return new Ia(s,u)},Ba=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(s,u){var h=this.options,y=h[u+"Size"];typeof y=="number"&&(y=[y,y]);var N=$(y),E=$(u==="shadow"&&h.shadowAnchor||h.iconAnchor||N&&N.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(h.className||""),E&&(s.style.marginLeft=-E.x+"px",s.style.marginTop=-E.y+"px"),N&&(s.style.width=N.x+"px",s.style.height=N.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return De.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function mr(s){return new Ba(s)}var hr=Ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof hr.imagePath!="string"&&(hr.imagePath=this._detectIconPath()),(this.options.imagePath||hr.imagePath)+Ba.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(h,y,N){var E=y.exec(h);return E&&E[N]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=gt("div","leaflet-default-icon-path",document.body),u=ji(s,"background-image")||ji(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),fr=Pa.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ei(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ot(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&an(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,h=u._map,y=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,E=Si(u._icon),F=h.getPixelBounds(),oe=h.getPixelOrigin(),pe=ee(F.min._subtract(oe).add(N),F.max._subtract(oe).subtract(N));if(!pe.contains(E)){var Te=$((Math.max(pe.max.x,E.x)-pe.max.x)/(F.max.x-pe.max.x)-(Math.min(pe.min.x,E.x)-pe.min.x)/(F.min.x-pe.min.x),(Math.max(pe.max.y,E.y)-pe.max.y)/(F.max.y-pe.max.y)-(Math.min(pe.min.y,E.y)-pe.min.y)/(F.min.y-pe.min.y)).multiplyBy(y);h.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),$t(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=xe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(de(this._panRequest),this._panRequest=xe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,h=u._shadow,y=Si(u._icon),N=u._map.layerPointToLatLng(y);h&&$t(h,y),u._latlng=N,s.latlng=N,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){de(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),pr=ka.extend({options:{icon:new hr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){A(this,u),this._latlng=je(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),ot(h,u),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(h,"focus",this._panOnFocus,this);var N=s.icon.createShadow(this._shadow),E=!1;N!==this._shadow&&(this._removeShadow(),E=!0),N&&(ot(N,u),N.alt=""),this._shadow=N,s.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&E&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&$t(this._icon,s),this._shadow&&$t(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&en(this._icon,s),this._shadow&&en(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,h=u.iconSize?$(u.iconSize):$(0,0),y=u.iconAnchor?$(u.iconAnchor):$(0,0);s.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Eu(s,u){return new pr(s,u)}var Ua=ka.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),js=Ua.extend({options:{fill:!0,radius:10},initialize:function(s,u){A(this,u),this._latlng=je(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Ua.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,h=this._clickTolerance(),y=[s+h,u+h];this._pxBounds=new z(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(s,u){return new js(s,u)}var al=js.extend({initialize:function(s,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=je(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ua.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===He.distance){var N=Math.PI/180,E=this._mRadius/He.R/N,F=h.project([u+E,s]),oe=h.project([u-E,s]),pe=F.add(oe).divideBy(2),Te=h.unproject(pe).lat,Le=Math.acos((Math.cos(E*N)-Math.sin(u*N)*Math.sin(Te*N))/(Math.cos(u*N)*Math.cos(Te*N)))/N;(isNaN(Le)||Le===0)&&(Le=E/Math.cos(Math.PI/180*u)),this._point=pe.subtract(h.getPixelOrigin()),this._radius=isNaN(Le)?0:pe.x-h.project([Te,s-Le]).x,this._radiusY=pe.y-F.y}else{var Ye=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ye).x}this._updateBounds()}});function Tu(s,u,h){return new al(s,u,h)}var oi=Ua.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){A(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,h=null,y=dr,N,E,F=0,oe=this._parts.length;F<oe;F++)for(var pe=this._parts[F],Te=1,Le=pe.length;Te<Le;Te++){N=pe[Te-1],E=pe[Te];var Ye=y(s,N,E,!0);Ye<u&&(u=Ye,h=y(s,N,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=je(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new D,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ua(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],h=ua(s),y=0,N=s.length;y<N;y++)h?(u[y]=je(s[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(s[y]);return u},_project:function(){var s=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ie(s,s);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,h){var y=s[0]instanceof ce,N=s.length,E,F;if(y){for(F=[],E=0;E<N;E++)F[E]=this._map.latLngToLayerPoint(s[E]),h.extend(F[E]);u.push(F)}else for(E=0;E<N;E++)this._projectLatlngs(s[E],u,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,y,N,E,F,oe,pe;for(h=0,N=0,E=this._rings.length;h<E;h++)for(pe=this._rings[h],y=0,F=pe.length;y<F-1;y++)oe=Nu(pe[y],pe[y+1],s,y,!0),oe&&(u[N]=u[N]||[],u[N].push(oe[0]),(oe[1]!==pe[y+1]||y===F-2)&&(u[N].push(oe[1]),N++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,h=0,y=s.length;h<y;h++)s[h]=yu(s[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var h,y,N,E,F,oe,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,E=this._parts.length;h<E;h++)for(oe=this._parts[h],y=0,F=oe.length,N=F-1;y<F;N=y++)if(!(!u&&y===0)&&vu(s,oe[N],oe[y])<=pe)return!0;return!1}});function Ld(s,u){return new oi(s,u)}oi._flat=el;var Ss=oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=oi.prototype._convertLatLngs.call(this,s),h=u.length;return h>=2&&u[0]instanceof ce&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(s){oi.prototype._setLatLngs.call(this,s),ua(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ua(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,h=new ie(u,u);if(s=new z(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,N=this._rings.length,E;y<N;y++)E=gu(this._rings[y],s,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,h,y,N,E,F,oe,pe,Te;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(E=0,pe=this._parts.length;E<pe;E++)for(h=this._parts[E],F=0,Te=h.length,oe=Te-1;F<Te;oe=F++)y=h[F],N=h[oe],y.y>s.y!=N.y>s.y&&s.x<(N.x-y.x)*(s.y-y.y)/(N.y-y.y)+y.x&&(u=!u);return u||oi.prototype._containsPoint.call(this,s,!0)}});function Pd(s,u){return new Ss(s,u)}var ui=Ia.extend({initialize:function(s,u){A(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=R(s)?s:s.features,h,y,N;if(u){for(h=0,y=u.length;h<y;h++)N=u[h],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var E=this.options;if(E.filter&&!E.filter(s))return this;var F=zn(s,E);return F?(F.feature=rl(s),F.defaultOptions=F.options,this.resetStyle(F),E.onEachFeature&&E.onEachFeature(s,F),this.addLayer(F)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=d({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function zn(s,u){var h=s.type==="Feature"?s.geometry:s,y=h?h.coordinates:null,N=[],E=u&&u.pointToLayer,F=u&&u.coordsToLatLng||il,oe,pe,Te,Le;if(!y&&!h)return null;switch(h.type){case"Point":return oe=F(y),ws(E,s,oe,u);case"MultiPoint":for(Te=0,Le=y.length;Te<Le;Te++)oe=F(y[Te]),N.push(ws(E,s,oe,u));return new Ia(N);case"LineString":case"MultiLineString":return pe=gr(y,h.type==="LineString"?0:1,F),new oi(pe,u);case"Polygon":case"MultiPolygon":return pe=gr(y,h.type==="Polygon"?1:2,F),new Ss(pe,u);case"GeometryCollection":for(Te=0,Le=h.geometries.length;Te<Le;Te++){var Ye=zn({geometry:h.geometries[Te],type:"Feature",properties:s.properties},u);Ye&&N.push(Ye)}return new Ia(N);case"FeatureCollection":for(Te=0,Le=h.features.length;Te<Le;Te++){var ht=zn(h.features[Te],u);ht&&N.push(ht)}return new Ia(N);default:throw new Error("Invalid GeoJSON object.")}}function ws(s,u,h,y){return s?s(u,h):new pr(h,y&&y.markersInheritOptions&&y)}function il(s){return new ce(s[1],s[0],s[2])}function gr(s,u,h){for(var y=[],N=0,E=s.length,F;N<E;N++)F=u?gr(s[N],u-1,h):(h||il)(s[N]),y.push(F);return y}function sl(s,u){return s=je(s),s.alt!==void 0?[C(s.lng,u),C(s.lat,u),C(s.alt,u)]:[C(s.lng,u),C(s.lat,u)]}function xr(s,u,h,y){for(var N=[],E=0,F=s.length;E<F;E++)N.push(u?xr(s[E],ua(s[E])?0:u-1,h,y):sl(s[E],y));return!u&&h&&N.length>0&&N.push(N[0].slice()),N}function ki(s,u){return s.feature?d({},s.feature,{geometry:u}):rl(u)}function rl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ti={toGeoJSON:function(s){return ki(this,{type:"Point",coordinates:sl(this.getLatLng(),s)})}};pr.include(Ti),al.include(Ti),js.include(Ti),oi.include({toGeoJSON:function(s){var u=!ua(this._latlngs),h=xr(this._latlngs,u?1:0,!1,s);return ki(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),Ss.include({toGeoJSON:function(s){var u=!ua(this._latlngs),h=u&&!ua(this._latlngs[0]),y=xr(this._latlngs,h?2:u?1:0,!0,s);return u||(y=[y]),ki(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),Ns.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(s).geometry.coordinates)}),ki(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var h=u==="GeometryCollection",y=[];return this.eachLayer(function(N){if(N.toGeoJSON){var E=N.toGeoJSON(s);if(h)y.push(E.geometry);else{var F=rl(E);F.type==="FeatureCollection"?y.push.apply(y,F.features):y.push(F)}}}),h?ki(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function ll(s,u){return new ui(s,u)}var yr=ll,Es=ka.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,h){this._url=s,this._bounds=I(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&En(this._image),this},bringToBack:function(){return this._map&&Zi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=I(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:gt("img");if(ot(u,"leaflet-image-layer"),this._zoomAnimated&&ot(u,"leaflet-zoom-animated"),this.options.className&&ot(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;si(this._image,h,u)},_reset:function(){var s=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();$t(s,u.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){en(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Cu=function(s,u,h){return new Es(s,u,h)},Ci=Es.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:gt("video");if(ot(u,"leaflet-image-layer"),this._zoomAnimated&&ot(u,"leaflet-zoom-animated"),this.options.className&&ot(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=f(this.fire,this,"load"),s){for(var h=u.getElementsByTagName("source"),y=[],N=0;N<h.length;N++)y.push(h[N].src);this._url=h.length>0?y:[u.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var F=gt("source");F.src=this._url[E],u.appendChild(F)}}});function ks(s,u,h){return new Ci(s,u,h)}var ol=Es.extend({_initImage:function(){var s=this._image=this._url;ot(s,"leaflet-image-layer"),this._zoomAnimated&&ot(s,"leaflet-zoom-animated"),this.options.className&&ot(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function Au(s,u,h){return new ol(s,u,h)}var Mn=ka.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ce||R(s))?(this._latlng=je(s),A(this,u)):(A(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&en(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&en(this._container,1),this.bringToFront(),this.options.interactive&&(ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(en(this._container,0),this._removeTimeout=setTimeout(f(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(an(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=je(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&En(this._container),this},bringToBack:function(){return this._map&&Zi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Ia){u=null;var h=this._source._layers;for(var y in h)if(h[y]._map){u=h[y];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=$(this.options.offset),h=this._getAnchor();this._zoomAnimated?$t(this._container,s.add(h)):u=u.add(s).add(h);var y=this._containerBottom=-u.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});jt.include({_initOverlay:function(s,u,h,y){var N=u;return N instanceof s||(N=new s(y).setContent(u)),h&&N.setLatLng(h),N}}),ka.include({_initOverlay:function(s,u,h,y){var N=h;return N instanceof s?(A(N,y),N._source=this):(N=u&&!y?u:new s(y,this),N.setContent(h)),N}});var vr=Mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Mn.prototype.openOn.call(this,s)},onAdd:function(s){Mn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ua||this._source.on("preclick",Ea))},onRemove:function(s){Mn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ua||this._source.off("preclick",Ea))},getEvents:function(){var s=Mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=gt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=gt("div",s+"-content-wrapper",u);if(this._contentNode=gt("div",s+"-content",h),Ki(u),La(this._contentNode),tt(u,"contextmenu",Ea),this._tipContainer=gt("div",s+"-tip-container",u),this._tip=gt("div",s+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=gt("a",s+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',tt(y,"click",function(N){cn(N),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var y=s.offsetHeight,N=this.options.maxHeight,E="leaflet-popup-scrolled";N&&y>N?(u.height=N+"px",ot(s,E)):an(s,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();$t(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(ji(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,y=this._containerWidth,N=new ie(this._containerLeft,-h-this._containerBottom);N._add(Si(this._container));var E=s.layerPointToContainerPoint(N),F=$(this.options.autoPanPadding),oe=$(this.options.autoPanPaddingTopLeft||F),pe=$(this.options.autoPanPaddingBottomRight||F),Te=s.getSize(),Le=0,Ye=0;E.x+y+pe.x>Te.x&&(Le=E.x+y-Te.x+pe.x),E.x-Le-oe.x<0&&(Le=E.x-oe.x),E.y+h+pe.y>Te.y&&(Ye=E.y+h-Te.y+pe.y),E.y-Ye-oe.y<0&&(Ye=E.y-oe.y),(Le||Ye)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Le,Ye]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zu=function(s,u){return new vr(s,u)};jt.mergeOptions({closePopupOnClick:!0}),jt.include({openPopup:function(s,u,h){return this._initOverlay(vr,s,u,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ka.include({bindPopup:function(s,u){return this._popup=this._initOverlay(vr,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ia||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){wi(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Ua)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var br=Mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Mn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Mn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Mn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,h,y=this._map,N=this._container,E=y.latLngToContainerPoint(y.getCenter()),F=y.layerPointToContainerPoint(s),oe=this.options.direction,pe=N.offsetWidth,Te=N.offsetHeight,Le=$(this.options.offset),Ye=this._getAnchor();oe==="top"?(u=pe/2,h=Te):oe==="bottom"?(u=pe/2,h=0):oe==="center"?(u=pe/2,h=Te/2):oe==="right"?(u=0,h=Te/2):oe==="left"?(u=pe,h=Te/2):F.x<E.x?(oe="right",u=0,h=Te/2):(oe="left",u=pe+(Le.x+Ye.x)*2,h=Te/2),s=s.subtract($(u,h,!0)).add(Le).add(Ye),an(N,"leaflet-tooltip-right"),an(N,"leaflet-tooltip-left"),an(N,"leaflet-tooltip-top"),an(N,"leaflet-tooltip-bottom"),ot(N,"leaflet-tooltip-"+oe),$t(N,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&en(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Id=function(s,u){return new br(s,u)};jt.include({openTooltip:function(s,u,h){return this._initOverlay(br,s,u,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ka.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(br,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ia||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(tt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),tt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,h,y;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),y=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var Mu=Ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(la(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=$(h.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Bd(s){return new Mu(s)}Ba.Default=hr;var Ts=ka.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Kt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(En(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ie?s:new ie(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,h=-s(-1/0,1/0),y=0,N=u.length,E;y<N;y++)E=u[y].style.zIndex,u[y]!==this._container&&E&&(h=s(h,+E));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){en(this._container,this.options.opacity);var s=+new Date,u=!1,h=!1;for(var y in this._tiles){var N=this._tiles[y];if(!(!N.current||!N.loaded)){var E=Math.min(1,(s-N.loaded)/200);en(N.el,E),E<1?u=!0:(N.active?h=!0:this._onOpaqueTile(N),N.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(de(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=u-Math.abs(s-h),this._onUpdateLevel(h)):(Kt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[s],N=this._map;return y||(y=this._levels[s]={},y.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=N.project(N.unproject(N.getPixelOrigin()),s).round(),y.zoom=s,this._setZoomTransform(y,N.getCenter(),N.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Kt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,h,y){var N=Math.floor(s/2),E=Math.floor(u/2),F=h-1,oe=new ie(+N,+E);oe.z=+F;var pe=this._tileCoordsToKey(oe),Te=this._tiles[pe];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),F>y?this._retainParent(N,E,F,y):!1)},_retainChildren:function(s,u,h,y){for(var N=2*s;N<2*s+2;N++)for(var E=2*u;E<2*u+2;E++){var F=new ie(N,E);F.z=h+1;var oe=this._tileCoordsToKey(F),pe=this._tiles[oe];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);h+1<y&&this._retainChildren(N,E,h+1,y)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,h,y){var N=Math.round(u);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var E=this.options.updateWhenZooming&&N!==this._tileZoom;(!y||E)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,u)},_setZoomTransform:function(s,u,h){var y=this._map.getZoomScale(h,s.zoom),N=s.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,h)).round();De.any3d?si(s.el,N,y):$t(s.el,N)},_resetGrid:function(){var s=this._map,u=s.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],y).x/h.x),Math.ceil(s.project([0,u.wrapLng[1]],y).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],y).y/h.x),Math.ceil(s.project([u.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(h,this._tileZoom),N=u.project(s,this._tileZoom).floor(),E=u.getSize().divideBy(y*2);return new z(N.subtract(E),N.add(E))},_update:function(s){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(s),N=this._pxBoundsToTileRange(y),E=N.getCenter(),F=[],oe=this.options.keepBuffer,pe=new z(N.getBottomLeft().subtract([oe,-oe]),N.getTopRight().add([oe,-oe]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Le=this._tiles[Te].coords;(Le.z!==this._tileZoom||!pe.contains(new ie(Le.x,Le.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var Ye=N.min.y;Ye<=N.max.y;Ye++)for(var ht=N.min.x;ht<=N.max.x;ht++){var kn=new ie(ht,Ye);if(kn.z=this._tileZoom,!!this._isValidTile(kn)){var dn=this._tiles[this._tileCoordsToKey(kn)];dn?dn.current=!0:F.push(kn)}}if(F.sort(function(zt,Mt){return zt.distanceTo(E)-Mt.distanceTo(E)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ta=document.createDocumentFragment();for(ht=0;ht<F.length;ht++)this._addTile(F[ht],ta);this._level.el.appendChild(ta)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!u.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(s);return I(this.options.bounds).overlaps(y)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,h=this.getTileSize(),y=s.scaleBy(h),N=y.add(h),E=u.unproject(y,s.z),F=u.unproject(N,s.z);return[E,F]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),h=new D(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),h=new ie(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(s){var u=this._tiles[s];u&&(Kt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ot(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,De.ielt9&&this.options.opacity<1&&en(s,this.options.opacity)},_addTile:function(s,u){var h=this._getTilePos(s),y=this._tileCoordsToKey(s),N=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(N),this.createTile.length<2&&xe(f(this._tileReady,this,s,null,N)),$t(N,h),this._tiles[y]={el:N,coords:s,current:!0},u.appendChild(N),this.fire("tileloadstart",{tile:N,coords:s})},_tileReady:function(s,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:s});var y=this._tileCoordsToKey(s);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(en(h.el,0),de(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(ot(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?xe(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ie(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new z(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ou(s){return new Ts(s)}var Ai=Ts.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=A(this,u),u.detectRetina&&De.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var h=document.createElement("img");return tt(h,"load",f(this._tileOnLoad,this,u,h)),tt(h,"error",f(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var u={r:De.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=h),u["-y"]=h}return P(this._url,d(u,this.options))},_tileOnLoad:function(s,u){De.ielt9?setTimeout(f(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,h){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),s(h,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(s=u-s),s+y},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=V;var h=this._tiles[s].coords;Kt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",V),Ts.prototype._removeTile.call(this,s)},_tileReady:function(s,u,h){if(!(!this._map||h&&h.getAttribute("src")===V))return Ts.prototype._tileReady.call(this,s,u,h)}});function ca(s,u){return new Ai(s,u)}var _r=Ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var h=d({},this.defaultWmsParams);for(var y in u)y in this.options||(h[y]=u[y]);u=A(this,u);var N=u.detectRetina&&De.retina?2:1,E=this.getTileSize();h.width=E.x*N,h.height=E.y*N,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ai.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),h=this._crs,y=ee(h.project(u[0]),h.project(u[1])),N=y.min,E=y.max,F=(this._wmsVersion>=1.3&&this._crs===ro?[N.y,N.x,E.y,E.x]:[N.x,N.y,E.x,E.y]).join(","),oe=Ai.prototype.getTileUrl.call(this,s);return oe+O(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(s,u){return d(this.wmsParams,s),u||this.redraw(),this}});function da(s,u){return new _r(s,u)}Ai.WMS=_r,ca.wms=da;var Gn=ka.extend({options:{padding:.1},initialize:function(s){A(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var h=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,u),E=y.multiplyBy(-h).add(N).subtract(this._map._getNewPixelOrigin(s,u));De.any3d?si(this._container,E,h):$t(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new z(h,h.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ul=Gn.extend({options:{tolerance:0},getEvents:function(){var s=Gn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");tt(s,"mousemove",this._onMouseMove,this),tt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){de(this._redrawRequest),delete this._ctx,Kt(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gn.prototype._update.call(this);var s=this._bounds,u=this._container,h=s.getSize(),y=De.retina?2:1;$t(u,s.min),u.width=y*h.x,u.height=y*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,h=u.next,y=u.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),h=[],y,N;for(N=0;N<u.length;N++){if(y=Number(u[N]),isNaN(y))return;h.push(y)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||xe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)s=y.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var h,y,N,E,F=s._parts,oe=F.length,pe=this._ctx;if(oe){for(pe.beginPath(),h=0;h<oe;h++){for(y=0,N=F[h].length;y<N;y++)E=F[h][y],pe[y?"lineTo":"moveTo"](E.x,E.y);u&&pe.closePath()}this._fillStroke(pe,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,h=this._ctx,y=Math.max(Math.round(s._radius),1),N=(Math.max(Math.round(s._radiusY),1)||y)/y;N!==1&&(h.save(),h.scale(1,N)),h.beginPath(),h.arc(u.x,u.y/N,y,0,Math.PI*2,!1),N!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,u){var h=u.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),h,y,N=this._drawFirst;N;N=N.next)h=N.layer,h.options.interactive&&h._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(an(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var h,y,N=this._drawFirst;N;N=N.next)h=N.layer,h.options.interactive&&h._containsPoint(u)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(s),y&&(ot(this._container,"leaflet-interactive"),this._fireEvent([y],s,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,h){this._map._fireDOMEvent(u,h||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var h=u.next,y=u.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var h=u.next,y=u.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Nr(s){return De.canvas?new ul(s):null}var zi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),lo={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=zi("shape");ot(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=zi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Kt(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,h=s._fill,y=s.options,N=s._container;N.stroked=!!y.stroke,N.filled=!!y.fill,y.stroke?(u||(u=s._stroke=zi("stroke")),N.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=R(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(N.removeChild(u),s._stroke=null),y.fill?(h||(h=s._fill=zi("fill")),N.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(N.removeChild(h),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),h=Math.round(s._radius),y=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){En(s._container)},_bringToBack:function(s){Zi(s._container)}},Fa=De.vml?zi:_t,Cs=Gn.extend({_initContainer:function(){this._container=Fa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),$t(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Fa("path");s.options.className&&ot(u,s.options.className),s.options.interactive&&ot(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Kt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,h=s.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ht(s._parts,u))},_updateCircle:function(s){var u=s._point,h=Math.max(Math.round(s._radius),1),y=Math.max(Math.round(s._radiusY),1)||h,N="a"+h+","+y+" 0 1,0 ",E=s._empty()?"M0 0":"M"+(u.x-h)+","+u.y+N+h*2+",0 "+N+-h*2+",0 ";this._setPath(s,E)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){En(s._path)},_bringToBack:function(s){Zi(s._path)}});De.vml&&Cs.include(lo);function jr(s){return De.svg||De.vml?new Cs(s):null}jt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Nr(s)||jr(s)}});var Gi=Ss.extend({initialize:function(s,u){Ss.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=I(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Ud(s,u){return new Gi(s,u)}Cs.create=Fa,Cs.pointsToPath=Ht,ui.geometryToLayer=zn,ui.coordsToLatLng=il,ui.coordsToLatLngs=gr,ui.latLngToCoords=sl,ui.latLngsToCoords=xr,ui.getFeature=ki,ui.asFeature=rl,jt.mergeOptions({boxZoom:!0});var Vn=Pa.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ps(),Yr(),this._startPoint=this._map.mouseEventToContainerPoint(s),tt(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new z(this._point,this._startPoint),h=u.getSize();$t(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Kt(this._box),an(this._container,"leaflet-crosshair")),Ra(),sr(),It(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jt.addInitHook("addHandler","boxZoom",Vn),jt.mergeOptions({doubleClickZoom:!0});var cl=Pa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,h=u.getZoom(),y=u.options.zoomDelta,N=s.originalEvent.shiftKey?h-y:h+y;u.options.doubleClickZoom==="center"?u.setZoom(N):u.setZoomAround(s.containerPoint,N)}});jt.addInitHook("addHandler","doubleClickZoom",cl),jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qa=Pa.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ei(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){an(this._map._container,"leaflet-grab"),an(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=I(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,N=(y-u+h)%s+u-h,E=(y+u+h)%s-u-h,F=Math.abs(N+h)<Math.abs(E+h)?N:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(s){var u=this._map,h=u.options,y=!h.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),y)u.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,F=h.easeLinearity,oe=N.multiplyBy(F/E),pe=oe.distanceTo([0,0]),Te=Math.min(h.inertiaMaxSpeed,pe),Le=oe.multiplyBy(Te/pe),Ye=Te/(h.inertiaDeceleration*F),ht=Le.multiplyBy(-Ye/2).round();!ht.x&&!ht.y?u.fire("moveend"):(ht=u._limitOffset(ht,u.options.maxBounds),xe(function(){u.panBy(ht,{duration:Ye,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});jt.addInitHook("addHandler","dragging",qa),jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var oo=Pa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),tt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,h=s.scrollTop||u.scrollTop,y=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},h=this.keyCodes,y,N;for(y=0,N=h.left.length;y<N;y++)u[h.left[y]]=[-1*s,0];for(y=0,N=h.right.length;y<N;y++)u[h.right[y]]=[s,0];for(y=0,N=h.down.length;y<N;y++)u[h.down[y]]=[0,s];for(y=0,N=h.up.length;y<N;y++)u[h.up[y]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},h=this.keyCodes,y,N;for(y=0,N=h.zoomIn.length;y<N;y++)u[h.zoomIn[y]]=s;for(y=0,N=h.zoomOut.length;y<N;y++)u[h.zoomOut[y]]=-s},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,h=this._map,y;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[u],s.shiftKey&&(y=$(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset($(y),h.options.maxBounds)),h.options.worldCopyJump){var N=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(N)}else h.panBy(y)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;wi(s)}}});jt.addInitHook("addHandler","keyboard",oo),jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sr=Pa.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Ln(s),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),y),wi(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,E=h?Math.ceil(N/h)*h:N,F=s._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,F&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+F):s.setZoomAround(this._lastMousePos,u+F))}});jt.addInitHook("addHandler","scrollWheelZoom",Sr);var Vi=600;jt.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var dl=Pa.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ie(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",cn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Vi),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){It(document,"touchend",cn),It(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ie(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});jt.addInitHook("addHandler","tapHold",dl),jt.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var uo=Pa.extend({addHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){an(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(s.touches[0]),y=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),cn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(s.touches[0]),y=u.mouseEventToContainerPoint(s.touches[1]),N=h.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(N,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&N<1||this._zoom>u.getMaxZoom()&&N>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var E=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(N===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),de(this._animRequest);var F=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=xe(F,this,!0),cn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,de(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jt.addInitHook("addHandler","touchZoom",uo),jt.BoxZoom=Vn,jt.DoubleClickZoom=cl,jt.Drag=qa,jt.Keyboard=oo,jt.ScrollWheelZoom=Sr,jt.TapHold=dl,jt.TouchZoom=uo,l.Bounds=z,l.Browser=De,l.CRS=Me,l.Canvas=ul,l.Circle=al,l.CircleMarker=js,l.Class=le,l.Control=ea,l.DivIcon=Mu,l.DivOverlay=Mn,l.DomEvent=Jr,l.DomUtil=ys,l.Draggable=Ei,l.Evented=K,l.FeatureGroup=Ia,l.GeoJSON=ui,l.GridLayer=Ts,l.Handler=Pa,l.Icon=Ba,l.ImageOverlay=Es,l.LatLng=ce,l.LatLngBounds=D,l.Layer=ka,l.LayerGroup=Ns,l.LineUtil=Dd,l.Map=jt,l.Marker=pr,l.Mixin=Ad,l.Path=Ua,l.Point=ie,l.PolyUtil=io,l.Polygon=Ss,l.Polyline=oi,l.Popup=vr,l.PosAnimation=vs,l.Projection=ju,l.Rectangle=Gi,l.Renderer=Gn,l.SVG=Cs,l.SVGOverlay=ol,l.TileLayer=Ai,l.Tooltip=br,l.Transformation=Se,l.Util=_e,l.VideoOverlay=Ci,l.bind=f,l.bounds=ee,l.canvas=Nr,l.circle=Tu,l.circleMarker=ku,l.control=li,l.divIcon=Bd,l.extend=d,l.featureGroup=wu,l.geoJSON=ll,l.geoJson=yr,l.gridLayer=Ou,l.icon=mr,l.imageOverlay=Cu,l.latLng=je,l.latLngBounds=I,l.layerGroup=Rd,l.map=Jl,l.marker=Eu,l.point=$,l.polygon=Pd,l.polyline=Ld,l.popup=zu,l.rectangle=Ud,l.setOptions=A,l.stamp=v,l.svg=jr,l.svgOverlay=Au,l.tileLayer=ca,l.tooltip=Id,l.transformation=ct,l.version=o,l.videoOverlay=ks;var co=window.L;l.noConflict=function(){return window.L=co,this},window.L=l}))})(Xo,Xo.exports)),Xo.exports}var o3=l3();const os=dd(o3);function u3(e){return e==="first"?{radius:10,color:"#7c3aed",fillColor:"#7c3aed",fillOpacity:.85,weight:2}:e==="recent"?{radius:7,color:"#1d4ed8",fillColor:"#bfdbfe",fillOpacity:.9,weight:2}:e==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:e==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function c3({markers:e}){const i=_.useRef(null),l=_.useRef(null),o=_.useRef(null);return _.useEffect(()=>{if(!i.current||l.current)return;const d=e[0]?.lat??41.015137,m=e[0]?.lon??28.97953,f=os.map(i.current,{center:[d,m],zoom:14,zoomControl:!0});return l.current=f,os.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(f),o.current=os.layerGroup().addTo(f),()=>{l.current&&(l.current.remove(),l.current=null),o.current=null}},[e]),_.useEffect(()=>{if(!l.current||!o.current)return;const d=l.current,m=o.current;if(m.clearLayers(),!e.length)return;const f=[],x=new Map;for(const b of e){const S=`${b.lat.toFixed(6)}:${b.lon.toFixed(6)}`;x.set(S,(x.get(S)??0)+1)}const v=new Map;for(const b of e){const S=`${b.lat.toFixed(6)}:${b.lon.toFixed(6)}`,w=x.get(S)??1,C=v.get(S)??0;v.set(S,C+1);let M=b.lat,k=b.lon;if(w>1){const O=2*Math.PI*C/w,B=12e-5;M=b.lat+Math.sin(O)*B,k=b.lon+Math.cos(O)*B}const A=u3(b.kind);os.circleMarker([M,k],A).bindPopup(`${b.label}<br/>${b.lat.toFixed(6)}, ${b.lon.toFixed(6)}`).addTo(m),f.push([M,k])}if(f.length===1){d.setView(f[0],16,{animate:!0});return}d.fitBounds(os.latLngBounds(f),{padding:[24,24],maxZoom:17,animate:!0})},[e]),a.jsx("div",{ref:i,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const d3=Da({home_lat:wn().min(-90),home_lon:wn().min(-180),radius_m:wn().int().positive().max(2e3)}),m3=Da({expires_in_minutes:wn().int().positive().max(1440)});function Qa(e){if(!e)return"-";const i=new Date(e);return Number.isNaN(i.getTime())?e:i.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function h3(e){return e==="OK"?"Tamam":e==="INCOMPLETE"?"Eksik":e==="LEAVE"?"Izinli":"Tatilde"}function of(e,i){return e===null||i===null?"-":`${e.toFixed(6)}, ${i.toFixed(6)}`}function f3(e){return e.length?e.map(i=>`${Ya(i).label} (${i})`).join(", "):"-"}function p3(){const e=dS(),i=Zl(),l=qn(),{pushToast:o}=Zn(),d=new Date,m=Number(e.id),f=Number.isFinite(m)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(m),[x,v]=_.useState("41.0"),[b,S]=_.useState("29.0"),[w,C]=_.useState("120"),[M,k]=_.useState(null),[A,O]=_.useState(""),[B,P]=_.useState(""),[R,G]=_.useState(""),[V,W]=_.useState(String(d.getFullYear())),[Z,Y]=_.useState(String(d.getMonth()+1)),[te,fe]=_.useState(null),[xe,de]=_.useState({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}),[_e,le]=_.useState(!1),[ue,q]=_.useState("30"),[K,ie]=_.useState(null),[ke,$]=_.useState(null),[z,ee]=_.useState(null),D=Ue({queryKey:["employee-detail",m],queryFn:()=>sE(m),enabled:Number.isFinite(m)}),I=D.data?.employee,ce=Ue({queryKey:["departments","employee-detail-edit"],queryFn:()=>er(),enabled:Number.isFinite(m)}),je=Ue({queryKey:["department-shifts",I?.department_id],queryFn:()=>mu(I?.department_id?{department_id:I.department_id,active_only:!1}:void 0),enabled:!!I?.department_id}),Me=Number(V),He=Number(Z),Xe=Number.isFinite(Me)&&Number.isFinite(He)&&He>=1&&He<=12,rt=Ue({queryKey:["employee-monthly",m,Me,He],queryFn:()=>tu({employee_id:m,year:Me,month:He}),enabled:Number.isFinite(m)&&Xe}),Se=Ue({queryKey:["employee-monthly-current",m,d.getFullYear(),d.getMonth()+1],queryFn:()=>tu({employee_id:m,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(m)}),ct=Ve({mutationFn:J=>uE(m,J),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${m} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:J=>{const Fe=Pe(J,"Konum kaydedilemedi.").message;k(Fe),o({variant:"error",title:"Konum kaydedilemedi",description:Fe})}}),xt=Ve({mutationFn:J=>yb(m,{is_active:J}),onSuccess:J=>{o({variant:"success",title:J.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${J.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:J=>{o({variant:"error",title:"Durum guncellenemedi",description:Pe(J,"Islem basarisiz.").message})}}),kt=Ve({mutationFn:J=>rE(m,J),onSuccess:J=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${J.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",J.department_id]})},onError:J=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Pe(J,"Islem basarisiz.").message})}}),_t=Ve({mutationFn:J=>lE(m,{shift_id:J}),onSuccess:J=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${J.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:J=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Pe(J,"Islem basarisiz.").message})}}),Ht=Ve({mutationFn:Tb,onSuccess:J=>{ie(null),$(J.token),ee(J.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${m} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:J=>{const Fe=Pe(J,"Cihaz daveti olusturulamadi.").message;ie(Fe),o({variant:"error",title:"Davet olusturulamadi",description:Fe})}});_.useEffect(()=>{D.data?.home_location&&(v(String(D.data.home_location.home_lat)),S(String(D.data.home_location.home_lon)),C(String(D.data.home_location.radius_m)))},[D.data?.home_location]),_.useEffect(()=>{I&&O(I.shift_id?String(I.shift_id):"")},[I]),_.useEffect(()=>{I&&(P(I.full_name),G(I.department_id?String(I.department_id):""))},[I]),_.useEffect(()=>{Number.isFinite(m)&&(f||i("/employees",{replace:!0}))},[m,f,i]);const At=async J=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(J);else{const Fe=document.createElement("textarea");Fe.value=J,document.body.appendChild(Fe),Fe.select(),document.execCommand("copy"),document.body.removeChild(Fe)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},Pt=()=>{ie(null),$(null),ee(null),q("30"),le(!0)},nn=J=>{J.preventDefault(),ie(null);const Fe=m3.safeParse({expires_in_minutes:ue});if(!Fe.success){const lt=Fe.error.issues[0]?.message??"Sure alanini kontrol edin.";ie(lt),o({variant:"error",title:"Form hatasi",description:lt});return}Ht.mutate({employee_id:m,expires_in_minutes:Fe.data.expires_in_minutes})},ae=J=>{J.preventDefault(),k(null);const Fe=d3.safeParse({home_lat:x,home_lon:b,radius_m:w});if(!Fe.success){const lt=Fe.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(lt),o({variant:"error",title:"Form hatasi",description:lt});return}ct.mutate(Fe.data)},Ae=J=>{J.preventDefault();const Fe=B.trim();if(!Fe){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const lt=R?Number(R):null;if(R&&(lt===null||!Number.isFinite(lt)||lt<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}kt.mutate({full_name:Fe,department_id:lt})},$e=rt.data?.days??[],it=_.useMemo(()=>ip($e),[$e]),ne=D.data?.ip_summary??[];_.useEffect(()=>{if(!te)return;$e.some(Fe=>Fe.date===te)||fe(null)},[$e,te]);const Oe=_.useMemo(()=>$e.find(J=>J.date===te)??null,[$e,te]),be=_.useMemo(()=>{const J=[],Fe=D.data?.latest_location??null,lt=D.data?.first_location??null,pt=D.data?.recent_locations??[];return Oe&&(Oe.in_lat!==null&&Oe.in_lon!==null&&J.push({id:`${Oe.date}-in`,lat:Oe.in_lat,lon:Oe.in_lon,label:`${Oe.date} - Mesai Baslangici`,kind:"checkin"}),Oe.out_lat!==null&&Oe.out_lon!==null&&J.push({id:`${Oe.date}-out`,lat:Oe.out_lat,lon:Oe.out_lon,label:`${Oe.date} - Mesai Bitisi`,kind:"checkout"})),lt&&J.push({id:"first",lat:lt.lat,lon:lt.lon,label:`Ilk konum kaydi - ${Qa(lt.ts_utc)}`,kind:"first"}),pt.slice(0,12).forEach((Bt,ni)=>{const Hn=Fe!==null&&Fe.ts_utc===Bt.ts_utc&&Fe.device_id===Bt.device_id,yn=lt!==null&&lt.ts_utc===Bt.ts_utc&&lt.device_id===Bt.device_id;Hn||yn||J.push({id:`recent-${Bt.ts_utc}-${Bt.device_id}-${ni}`,lat:Bt.lat,lon:Bt.lon,label:`Konum kaydi - ${Qa(Bt.ts_utc)}`,kind:"recent"})}),Fe&&J.push({id:"latest",lat:Fe.lat,lon:Fe.lon,label:"Son bildirilen konum",kind:"latest"}),J},[D.data?.first_location,D.data?.latest_location,D.data?.recent_locations,Oe]),qe=_.useMemo(()=>be.filter(J=>xe[J.kind]),[be,xe]);_.useEffect(()=>{be.length&&(qe.length||de({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}))},[qe.length,be.length]);const mt=J=>{if(!be.some(pt=>pt.kind===J)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const lt=Object.values(xe).filter(Boolean).length;if(xe[J]&&lt===1){de({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0});return}de({checkin:J==="checkin",checkout:J==="checkout",first:J==="first",recent:J==="recent",latest:J==="latest"})},nt=()=>{de({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0})},Tt=(J,Fe)=>{const lt=J.in_lat!==null&&J.in_lon!==null,pt=J.out_lat!==null&&J.out_lon!==null;if(!(Fe==="in"?lt:pt)){o({variant:"info",title:"Konum bulunamadi",description:`${J.date} icin secilen konum kaydi yok.`});return}fe(J.date),de({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0})},se=_.useMemo(()=>`${D.data?.devices.length??0} cihaz`,[D.data?.devices.length]),Qe=D.data?.recent_locations??[];return Number.isFinite(m)?f?D.isLoading?a.jsx(Lt,{}):D.isError||!I?a.jsx(Et,{message:"Calisan kaydi bulunamadi."}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:`Calisan Detayi #${I.id}`,description:`${I.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{const J=!I.is_active;window.confirm(J?`${I.full_name} arsivden cikarilsin mi?`:`${I.full_name} arsivlensin mi?`)&&xt.mutate(J)},disabled:xt.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${I.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:I.is_active?"Arsivle":"Arsivden Cikar"}),a.jsx("button",{type:"button",onClick:Pt,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),a.jsx(Re,{children:a.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),a.jsx("p",{className:"text-base font-semibold text-slate-900",children:I.full_name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",I.id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),a.jsx(Ws,{value:I.is_active?"Aktif":"Pasif"}),a.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",I.region_name??"-"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",I.department_id??"-"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:Qa(D.data?.last_portal_seen_utc)}),a.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",se]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay yasal fazla mesai"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:a.jsx(Be,{minutes:Se.data?.totals.legal_overtime_minutes??0})}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Plan ustu: ",a.jsx(Be,{minutes:Se.data?.totals.plan_overtime_minutes??0})]}),a.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),a.jsxs("form",{onSubmit:Ae,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",a.jsx("input",{value:B,onChange:J=>P(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:R,onChange:J=>G(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:ce.isLoading,children:[a.jsx("option",{value:"",children:"Atanmamis"}),(ce.data??[]).map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))]})]}),a.jsx("button",{type:"submit",disabled:kt.isPending||ce.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:kt.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),ce.isError?a.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),a.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",a.jsxs("select",{value:A,onChange:J=>O(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!I.department_id||je.isLoading,children:[a.jsx("option",{value:"",children:"Atanmamis"}),(je.data??[]).map(J=>a.jsxs("option",{value:J.id,children:[J.name," (",J.start_time_local,"-",J.end_time_local,")"]},J.id))]})]}),a.jsx("button",{type:"button",disabled:_t.isPending||!I.department_id,onClick:()=>{const J=A?Number(A):null;_t.mutate(J)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:_t.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",a.jsx("input",{type:"number",value:V,onChange:J=>W(J.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),a.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",a.jsx("input",{type:"number",min:1,max:12,value:Z,onChange:J=>Y(J.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),Xe?rt.isLoading?a.jsx(Lt,{}):rt.isError?a.jsx(Et,{message:Pe(rt.error,"Aylik puantaj alinamadi.").message}):a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-3 xl:grid-cols-7",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:a.jsx(Be,{minutes:rt.data?.totals.worked_minutes??0})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay plan ustu sure"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:a.jsx(Be,{minutes:rt.data?.totals.plan_overtime_minutes??0})}),a.jsxs("p",{className:"text-xs text-slate-500",children:[it.planOvertimeDayCount," gun"]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla sure"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:a.jsx(Be,{minutes:rt.data?.totals.legal_extra_work_minutes??0})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla mesai"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:a.jsx(Be,{minutes:rt.data?.totals.legal_overtime_minutes??0})}),a.jsxs("p",{className:"text-xs text-slate-500",children:[it.overtimeDayCount," gun fazla mesai"]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:rt.data?.totals.incomplete_days??0})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:it.workedDayCount}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",it.weekdayWorkedDayCount," gun"]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Pazar mesaisi"}),a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[it.sundayWorkedDayCount," gun"]}),a.jsx("p",{className:"text-xs text-slate-500",children:a.jsx(Be,{minutes:it.sundayWorkedMinutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Ozel gun mesaisi"}),a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[it.specialWorkedDayCount," gun"]}),a.jsx("p",{className:"text-xs text-slate-500",children:a.jsx(Be,{minutes:it.specialWorkedMinutes})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Tarih"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Gun Tipi"}),a.jsx("th",{className:"py-2",children:"Giris"}),a.jsx("th",{className:"py-2",children:"Cikis"}),a.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),a.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),a.jsx("th",{className:"py-2",children:"Net Sure"}),a.jsx("th",{className:"py-2",children:"Plan Ustu"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),a.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),a.jsx("tbody",{children:$e.map(J=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:J.date}),a.jsx("td",{className:"py-2",children:h3(J.status)}),a.jsx("td",{className:"py-2",children:_d(J).label}),a.jsx("td",{className:"py-2",children:Qa(J.in)}),a.jsx("td",{className:"py-2",children:Qa(J.out)}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs",children:of(J.in_lat,J.in_lon)}),J.in_lat!==null&&J.in_lon!==null?a.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>Tt(J,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs",children:of(J.out_lat,J.out_lon)}),J.out_lat!==null&&J.out_lon!==null?a.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>Tt(J,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:J.worked_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:J.plan_overtime_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:J.legal_extra_work_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:J.legal_overtime_minutes})}),a.jsx("td",{className:"py-2 text-xs text-slate-600",children:f3(J.flags)})]},J.date))})]})})]}):a.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),a.jsx("div",{className:"mt-3 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Cihaz ID"}),a.jsx("th",{className:"py-2",children:"Parmak Izi"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Olusma"}),a.jsx("th",{className:"py-2",children:"Son Attendance"}),a.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),a.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),a.jsx("tbody",{children:(D.data?.devices??[]).map(J=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:J.id}),a.jsx("td",{className:"py-2 font-mono text-xs",children:J.device_fingerprint}),a.jsx("td",{className:"py-2",children:a.jsx(Ws,{value:J.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"py-2",children:Qa(J.created_at)}),a.jsx("td",{className:"py-2",children:Qa(J.last_attendance_ts_utc)}),a.jsx("td",{className:"py-2",children:J.last_seen_ip??"-"}),a.jsx("td",{className:"py-2",children:Qa(J.last_seen_at_utc)})]},J.id))})]})})]}),a.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),a.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Zaman"}),a.jsx("th",{className:"py-2",children:"Islem"}),a.jsx("th",{className:"py-2",children:"IP"}),a.jsx("th",{className:"py-2",children:"User Agent"})]})}),a.jsx("tbody",{children:(D.data?.recent_activity??[]).map((J,Fe)=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Qa(J.ts_utc)}),a.jsx("td",{className:"py-2",children:J.action}),a.jsx("td",{className:"py-2",children:J.ip??"-"}),a.jsx("td",{className:"py-2 max-w-[280px] truncate",title:J.user_agent??"-",children:J.user_agent??"-"})]},`${J.ts_utc}-${Fe}`))})]})})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),a.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:ne.length?a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"IP"}),a.jsx("th",{className:"py-2",children:"Son gorulme"}),a.jsx("th",{className:"py-2",children:"Aksiyon"}),a.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),a.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),a.jsx("tbody",{children:ne.map(J=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2 font-mono text-xs",children:J.ip}),a.jsx("td",{className:"py-2",children:Qa(J.last_seen_at_utc)}),a.jsx("td",{className:"py-2",children:J.last_action}),a.jsx("td",{className:"py-2",children:J.last_lat!==null&&J.last_lon!==null?`${J.last_lat.toFixed(6)}, ${J.last_lon.toFixed(6)}`:"-"}),a.jsx("td",{className:"py-2",children:J.last_location_ts_utc?Qa(J.last_location_ts_utc):"-"})]},J.ip))})]}):a.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),te?a.jsx("button",{type:"button",onClick:()=>{fe(null),de({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),Oe?a.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",a.jsx("span",{className:"font-semibold",children:Oe.date})," gununun giris/cikis konumlari"]}):D.data?.latest_location?a.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),qe.length?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx(c3,{markers:qe}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[a.jsxs("button",{type:"button",onClick:()=>mt("first"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${xe.first?"border-violet-300 bg-violet-50 text-violet-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca ilk konum noktasini goster",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-violet-600"}),"Ilk konum"]}),a.jsxs("button",{type:"button",onClick:()=>mt("recent"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${xe.recent?"border-blue-300 bg-blue-50 text-blue-800":"border-slate-300 bg-white text-slate-500"}`,title:"Diger konum noktalarini goster",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-600"}),"Diger konumlar"]}),a.jsxs("button",{type:"button",onClick:()=>mt("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${xe.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),a.jsxs("button",{type:"button",onClick:()=>mt("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${xe.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),a.jsxs("button",{type:"button",onClick:()=>mt("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${xe.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),a.jsx("button",{type:"button",onClick:nt,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."}),a.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200",children:[a.jsx("div",{className:"border-b border-slate-200 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Konum Gecmisi (son 20)"}),Qe.length?a.jsx("div",{className:"max-h-64 overflow-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 pl-3",children:"Zaman"}),a.jsx("th",{className:"py-2",children:"Tip"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Cihaz"}),a.jsx("th",{className:"py-2 pr-3",children:"Koordinat"})]})}),a.jsx("tbody",{children:Qe.map((J,Fe)=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2 pl-3",children:Qa(J.ts_utc)}),a.jsx("td",{className:"py-2",children:J.event_type}),a.jsx("td",{className:"py-2",children:J.location_status}),a.jsxs("td",{className:"py-2",children:["#",J.device_id]}),a.jsx("td",{className:"py-2 pr-3",children:of(J.lat,J.lon)})]},`${J.ts_utc}-${J.device_id}-${Fe}`))})]})}):a.jsx("div",{className:"p-3 text-sm text-slate-500",children:"Konum gecmisi bulunamadi."})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),D.data?.home_location?null:a.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),a.jsxs("form",{onSubmit:ae,className:"mt-4 grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",a.jsx("input",{value:x,onChange:J=>v(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",a.jsx("input",{value:b,onChange:J=>S(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",a.jsx("input",{value:w,onChange:J=>C(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsx("div",{className:"md:col-span-3",children:a.jsx("button",{type:"submit",disabled:ct.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ct.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):D.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),M?a.jsx("p",{className:"form-validation",children:M}):null]}),a.jsxs(Js,{open:_e,title:"Cihaz Baglama Linki Olustur",onClose:()=>le(!1),children:[a.jsxs("form",{onSubmit:nn,className:"space-y-4",children:[a.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",a.jsx("input",{value:ue,onChange:J=>q(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsx("button",{type:"submit",disabled:Ht.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ht.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),a.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),K?a.jsx("p",{className:"form-validation",children:K}):null,ke&&z?a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx(sv,{label:"Token",value:ke,onCopy:At}),a.jsx(sv,{label:"Baglanti Linki (invite_url)",value:z,onCopy:At})]}):null]})]}):a.jsx(Lt,{}):a.jsx(Et,{message:"Gecersiz calisan id degeri."})}const g3={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},x3={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Zc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},p_="Europe/Istanbul";function uf(e){const i=[];e.status==="INCOMPLETE"&&i.push("EKSIK_GUN");for(const l of e.flags)i.push(l);return i}function y3(e){return e.length===0?void 0:`Supheli nedenleri:
${e.map((l,o)=>{const d=Ya(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function lv(e){if(!e)return"";const i=new Date(e);return Number.isNaN(i.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:p_,hour:"2-digit",minute:"2-digit",hour12:!1}).format(i)}function ov(e){if(!e)return"-";const i=new Date(e);return Number.isNaN(i.getTime())?e:new Intl.DateTimeFormat("tr-TR",{timeZone:p_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(i)}function uv(e){if(!e)return{status:"NORMAL",reason:""};const i=(e.note??"").trim(),l=i.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:i.replace(l[0],"").trim()}:e.is_absent?{status:"CALISMADI",reason:i}:{status:"NORMAL",reason:i}}function v3(e,i){const l=i.trim();if(e==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${e}]`;return l?`${o} ${l}`:o}function b3(){const e=qn(),{pushToast:i}=Zn(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,m]=_.useState(o),[f,x]=_.useState(o),[v,b]=_.useState(!1),[S,w]=_.useState(null),[C,M]=_.useState(!1),[k,A]=_.useState(!1),[O,B]=_.useState(""),[P,R]=_.useState(""),[G,V]=_.useState(""),[W,Z]=_.useState(""),[Y,te]=_.useState("NORMAL"),[fe,xe]=_.useState("AUTO"),[de,_e]=_.useState(""),[le,ue]=_.useState(null),[q,K]=_.useState(null),ie=Ue({queryKey:["employees","all"],queryFn:()=>gi({status:"all"})}),ke=Number(f.employeeId),$=Number(f.year),z=Number(f.month),ee=Number.isFinite(ke)&&ke>0&&Number.isFinite($)&&$>0&&Number.isFinite(z)&&z>=1&&z<=12,D=Ue({queryKey:["employee-monthly",ke,$,z],queryFn:()=>tu({employee_id:ke,year:$,month:z}),enabled:ee}),I=Ue({queryKey:["manual-overrides",ke,$,z],queryFn:()=>JE(ke,$,z),enabled:ee}),ce=Ve({mutationFn:({employeeId:be,dayDate:qe,inTime:mt,outTime:nt,status:Tt,ruleSource:se,ruleShiftId:Qe,reason:J})=>{const Fe=Tt!=="NORMAL";return XE(be,{day_date:qe,in_time:Fe?null:mt||null,out_time:Fe?null:nt||null,is_absent:Fe,rule_source_override:se,rule_shift_id_override:se==="SHIFT"&&Qe?Number(Qe):null,note:v3(Tt,J)})},onSuccess:()=>{i({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),K(null),_e(""),e.invalidateQueries({queryKey:["employee-monthly"]}),e.invalidateQueries({queryKey:["manual-overrides"]})},onError:be=>{i({variant:"error",title:"Duzeltme kaydedilemedi",description:Pe(be,"Islem basarisiz.").message})}}),je=Ve({mutationFn:WE,onSuccess:()=>{i({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),K(null),e.invalidateQueries({queryKey:["employee-monthly"]}),e.invalidateQueries({queryKey:["manual-overrides"]})},onError:be=>{i({variant:"error",title:"Silme islemi basarisiz",description:Pe(be,"Islem basarisiz.").message})}}),Me=_.useMemo(()=>ie.data?.find(be=>be.id===ke),[ie.data,ke]),He=Me?.full_name,Xe=Ue({queryKey:["monthly-manual-shifts",Me?.department_id],queryFn:()=>mu(Me?.department_id?{department_id:Me.department_id,active_only:!1}:void 0),enabled:!!Me?.department_id}),rt=_.useMemo(()=>{const be=new Map;for(const qe of I.data??[])be.set(qe.day_date,qe);return be},[I.data]),Se=D.data?.days??[],ct=_.useMemo(()=>Se.reduce((be,qe)=>be+(qe.missing_minutes??0),0),[Se]),xt=_.useMemo(()=>Se.filter(be=>!(v&&uf(be).length===0||S&&!be.flags.includes(S))),[Se,S,v]),kt=_.useMemo(()=>Se.filter(be=>uf(be).length>0).length,[Se]),_t=_.useMemo(()=>Se.filter(be=>be.legal_overtime_minutes>0).length,[Se]),Ht=_.useMemo(()=>{const be=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],qe=new Map;for(const mt of be)qe.set(mt,0);for(const mt of Se)for(const nt of be)mt.flags.includes(nt)&&qe.set(nt,(qe.get(nt)??0)+1);return be.map(mt=>({code:mt,count:qe.get(mt)??0}))},[Se]),At=_.useMemo(()=>{const be=[];return f.employeeId&&be.push(`Calisan: ${f.employeeId}`),be.push(`Yil: ${f.year}`),be.push(`Ay: ${f.month}`),v&&be.push("Sadece supheli gunler"),S&&be.push(`Cakisma: ${Ya(S).label}`),be},[f,S,v]),Pt=()=>x({...d}),nn=()=>{m(o),x(o),b(!1),w(null)},ae=async()=>{if(!ee){i({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{M(!0);const be=await a1({employee_id:ke,year:$,month:z}),qe=window.URL.createObjectURL(be),mt=document.createElement("a");mt.href=qe,mt.download=`puantaj-employee-${ke}-${$}-${String(z).padStart(2,"0")}.xlsx`,document.body.appendChild(mt),mt.click(),mt.remove(),window.URL.revokeObjectURL(qe)}catch(be){i({variant:"error",title:"Excel indirilemedi",description:Pe(be,"Dosya olusturulamadi.").message})}finally{M(!1)}},Ae=be=>{const qe=rt.get(be.date),mt=uv(qe);B(be.date),ue(qe?.id??null),te(mt.status),Z(mt.reason),R(qe?lv(qe.in_ts):""),V(qe?lv(qe.out_ts):""),xe(qe?.rule_source_override??"AUTO"),_e(qe?.rule_shift_id_override?String(qe.rule_shift_id_override):be.shift_id?String(be.shift_id):""),K(null),A(!0)},$e=()=>{if(!ee||Se.length===0){i({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}Ae(Se[0])},it=()=>{if(K(null),!O)return K("Duzeltme icin tarih secmelisiniz."),!1;if(Y==="NORMAL"){if(!P&&!G)return K("Normal gun icin en az bir saat bilgisi girin."),!1;if(P&&G&&G<P)return K("Cikis saati giris saatinden kucuk olamaz."),!1}return fe==="SHIFT"&&!de?(K("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},ne=be=>{be.preventDefault(),ee&&it()&&ce.mutate({employeeId:ke,dayDate:O,inTime:P,outTime:G,status:Y,ruleSource:fe,ruleShiftId:de,reason:W})};if(ie.isLoading)return a.jsx(Lt,{});if(ie.isError)return a.jsx(Et,{message:"Calisan listesi alinamadi."});const Oe=ie.data??[];return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:$e,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),a.jsx("button",{type:"button",onClick:()=>{ae()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),a.jsx(fi,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[a.jsx(Ja,{label:"Calisan",employees:Oe,value:d.employeeId,onChange:be=>m(qe=>({...qe,employeeId:be})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",a.jsx("input",{type:"number",value:d.year,onChange:be=>m(qe=>({...qe,year:be.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",a.jsx("input",{type:"number",value:d.month,onChange:be=>m(qe=>({...qe,month:be.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),a.jsx("div",{className:"mt-3",children:a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:be=>b(be.target.checked)}),"Sadece supheli gunleri goster"]})}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:Pt,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),a.jsx("button",{type:"button",onClick:nn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:At.map(be=>a.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:be},be))})]}),ee?null:a.jsx(Et,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),D.isLoading?a.jsx(Lt,{}):null,D.isError?a.jsx(Et,{message:Pe(D.error,"Aylik rapor alinamadi.").message}):null,D.data?a.jsxs(a.Fragment,{children:[a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),a.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",He??D.data.employee_id," | Donem:"," ",D.data.year,"-",D.data.month]}),a.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-7",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.totals.worked_minutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Plan Ustu Sure"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.totals.plan_overtime_minutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Sure"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.totals.legal_extra_work_minutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Mesai"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.totals.legal_overtime_minutes})}),a.jsxs("p",{className:"text-xs text-slate-500",children:[_t," gun"]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),a.jsx("p",{className:"text-lg font-semibold",children:D.data.totals.incomplete_days})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),a.jsx("p",{className:"text-lg font-semibold",children:kt})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:ct})})]})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.worked_minutes_net})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.annual_overtime_used_minutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),a.jsx("p",{className:"text-lg font-semibold",children:a.jsx(Be,{minutes:D.data.annual_overtime_remaining_minutes})})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),a.jsx("p",{className:`text-sm font-semibold ${D.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:D.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),a.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),a.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:_1().map(be=>a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",title:Ya(be).description,children:Ya(be).label})," ","(",be,"): ",Ya(be).description]},be))})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?a.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,a.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Ht.map(be=>a.jsxs("button",{type:"button",onClick:()=>{w(qe=>qe===be.code?null:be.code),b(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===be.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[a.jsx("p",{className:"text-xs text-slate-500",title:Ya(be.code).description,children:Ya(be.code).label}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:be.count})]},be.code))})]}),xt.length===0?a.jsx(Re,{children:a.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):a.jsx(Re,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Tarih"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Giris"}),a.jsx("th",{className:"py-2",children:"Cikis"}),a.jsx("th",{className:"py-2",children:"Calisma"}),a.jsx("th",{className:"py-2",children:"Plan Ustu"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),a.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),a.jsx("th",{className:"py-2",children:"Eksik Sure"}),a.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),a.jsx("th",{className:"py-2",children:"Vardiya"}),a.jsx("th",{className:"py-2",children:"Izin"}),a.jsx("th",{className:"py-2",children:"Supheli Neden"}),a.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),a.jsx("tbody",{children:xt.map(be=>{const qe=uf(be),mt=qe.length>0,nt=y3(qe),Tt=rt.get(be.date),se=uv(Tt),Qe=be.flags.includes("MANUAL_OVERRIDE")||be.flags.includes("MANUAL_EVENT")||!!Tt,J=se.status!=="NORMAL";return a.jsxs("tr",{className:`border-t border-slate-100 ${mt?"bg-amber-50/40":""}`,children:[a.jsx("td",{className:"py-2",children:be.date}),a.jsxs("td",{className:"py-2",children:[a.jsx(Ws,{value:be.status}),Qe?a.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,J?a.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:g3[se.status]}):null,a.jsx("span",{className:"ml-2",children:a.jsx(Mb,{suspicious:mt,tooltip:nt})})]}),a.jsx("td",{className:"py-2",title:be.in??void 0,children:ov(be.in)}),a.jsx("td",{className:"py-2",title:be.out??void 0,children:ov(be.out)}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:be.worked_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:be.plan_overtime_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:be.legal_extra_work_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:be.legal_overtime_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:be.missing_minutes??0})}),a.jsx("td",{className:"py-2",children:a.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${be.applied_planned_minutes} dk | Mola: ${be.applied_break_minutes} dk`,children:x3[be.rule_source]})}),a.jsx("td",{className:"py-2",children:be.shift_name??"-"}),a.jsx("td",{className:"py-2",children:be.leave_type??"-"}),a.jsx("td",{className:"py-2",children:a.jsx(Ob,{reasons:qe})}),a.jsx("td",{className:"py-2",children:a.jsx("button",{type:"button",onClick:()=>Ae(be),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},be.date)})})]})})})]}):null,a.jsx(Js,{open:k,title:O?`${O} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),placement:"right",maxWidthClass:"max-w-2xl",children:a.jsxs("form",{onSubmit:ne,className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",a.jsx("input",{type:"date",value:O,onChange:be=>B(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",a.jsxs("select",{value:Y,onChange:be=>te(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"IZINLI",children:"Izinli"}),a.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),a.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",a.jsxs("select",{value:fe,onChange:be=>{const qe=be.target.value;xe(qe),qe!=="SHIFT"&&_e("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"AUTO",children:Zc.AUTO}),a.jsx("option",{value:"SHIFT",children:Zc.SHIFT}),a.jsx("option",{value:"WEEKLY",children:Zc.WEEKLY}),a.jsx("option",{value:"WORK_RULE",children:Zc.WORK_RULE})]})]}),fe==="SHIFT"?a.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",a.jsxs("select",{value:de,onChange:be=>_e(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Vardiya seciniz"}),(Xe.data??[]).map(be=>a.jsxs("option",{value:be.id,children:[be.name," (",be.start_time_local," - ",be.end_time_local,")"]},be.id))]})]}):null,a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",a.jsx("input",{type:"time",value:P,onChange:be=>R(be.target.value),disabled:Y!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",a.jsx("input",{type:"time",value:G,onChange:be=>V(be.target.value),disabled:Y!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),Y==="NORMAL"?a.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):a.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",a.jsx("input",{type:"text",value:W,onChange:be=>Z(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),q?a.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:q}):null,a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"submit",disabled:ce.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ce.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),le?a.jsx("button",{type:"button",onClick:()=>je.mutate(le),disabled:je.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:je.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const _3=Da({full_name:Un().min(2,"Ad soyad en az 2 karakter olmali."),region_id:ud([wn().int().positive(),zf()]),department_id:ud([wn().int().positive(),zf()]),is_active:Ed()});function N3(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState(""),[f,x]=_.useState(""),[v,b]=_.useState(!0),[S,w]=_.useState(""),[C,M]=_.useState(!1),[k,A]=_.useState(!1),[O,B]=_.useState(""),[P,R]=_.useState(""),[G,V]=_.useState(null),W=Ue({queryKey:["employees",k,O,P],queryFn:()=>gi({...k?{include_inactive:!0}:{},...O?{region_id:Number(O)}:{},...P?{department_id:Number(P)}:{}})}),Z=Ue({queryKey:["departments"],queryFn:er}),Y=Ue({queryKey:["regions","employees-page"],queryFn:()=>bd({include_inactive:!0})}),te=Ve({mutationFn:iE,onSuccess:$=>{o(""),m(""),x(""),b(!0),V(null),M(!1),i({variant:"success",title:"Calisan olusturuldu",description:`${$.full_name} basariyla eklendi.`}),e.invalidateQueries({queryKey:["employees"]})},onError:$=>{const z=Pe($,"Calisan olusturulamadi.").message;V(z),i({variant:"error",title:"Calisan olusturulamadi",description:z})}}),fe=Ve({mutationFn:({employeeId:$,nextStatus:z})=>yb($,{is_active:z}),onSuccess:$=>{i({variant:"success",title:$.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${$.full_name} icin durum guncellendi.`}),e.invalidateQueries({queryKey:["employees"]})},onError:$=>{const z=Pe($,"Calisan durumu guncellenemedi.").message;i({variant:"error",title:"Islem basarisiz",description:z})}}),xe=$=>{$.preventDefault(),V(null);const z=d.trim()===""?null:Number(d),ee=f.trim()===""?null:Number(f),D=_3.safeParse({full_name:l,region_id:z,department_id:ee,is_active:v});if(!D.success){const I=D.error.issues[0]?.message??"Calisan formunu kontrol edin.";V(I),i({variant:"error",title:"Form hatasi",description:I});return}te.mutate(D.data)},de=W.data??[],_e=Z.data??[],le=Y.data??[],ue=new Map(_e.map($=>[$.id,$.name])),q=new Map(le.map($=>[$.id,$.name])),K=_.useMemo(()=>{const $=d?Number(d):null;return $?_e.filter(z=>z.region_id===$):_e},[_e,d]),ie=_.useMemo(()=>{const $=O?Number(O):null;return $?_e.filter(z=>z.region_id===$):_e},[_e,O]),ke=_.useMemo(()=>{const $=S.trim().toLowerCase();return $?de.filter(z=>z.full_name.toLowerCase().includes($)):de},[de,S]);return W.isLoading||Z.isLoading||Y.isLoading?a.jsx(Lt,{}):W.isError||Z.isError||Y.isError?a.jsx(Et,{message:"Calisan verileri alinamadi."}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:a.jsx("button",{type:"button",onClick:()=>M($=>!$),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?a.jsxs(Re,{children:[a.jsxs("form",{onSubmit:xe,className:"grid gap-3 md:grid-cols-5",children:[a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",a.jsx("input",{value:l,onChange:$=>o($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",a.jsxs("select",{value:d,onChange:$=>{m($.target.value),x("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Atanmamis"}),le.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:f,onChange:$=>x($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Atanmamis"}),K.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:$=>b($.target.checked)}),"Aktif"]}),a.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[a.jsx("button",{type:"submit",disabled:te.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:te.isPending?"Kaydediliyor...":"Kaydet"}),a.jsx("button",{type:"button",onClick:()=>{M(!1),V(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),G?a.jsx("div",{className:"form-validation",children:G}):null]}):null,a.jsxs(Re,{children:[a.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[a.jsx(cs,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",a.jsxs("select",{value:O,onChange:$=>{B($.target.value),R("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tum bolgeler"}),le.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",a.jsxs("select",{value:P,onChange:$=>R($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tum departmanlar"}),ie.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:$=>A($.target.checked)}),"Arsivdekileri goster"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Calisan ID"}),a.jsx("th",{className:"py-2",children:"Ad Soyad"}),a.jsx("th",{className:"py-2",children:"Bolge"}),a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Islem"})]})}),a.jsx("tbody",{children:ke.map($=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:$.id}),a.jsx("td",{className:"py-2",children:$.full_name}),a.jsx("td",{className:"py-2",children:$.region_name??($.region_id?q.get($.region_id):"-")??"-"}),a.jsx("td",{className:"py-2",children:$.department_id?ue.get($.department_id):"-"}),a.jsx("td",{className:"py-2",children:a.jsx(Ws,{value:$.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(fi,{to:`/employees/${$.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String($.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),a.jsx("button",{type:"button",disabled:fe.isPending,onClick:()=>{const z=!$.is_active;window.confirm(z?`${$.full_name} arsivden cikarilsin mi?`:`${$.full_name} arsivlensin mi?`)&&fe.mutate({employeeId:$.id,nextStatus:z})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${$.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:$.is_active?"Arsivle":"Arsivden Cikar"})]})})]},$.id))})]})}),ke.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const j3=Da({employee_id:wn().int().positive(),start_date:Un().min(1),end_date:Un().min(1),type:Of(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:Of(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:Un().trim().optional()}).refine(e=>e.end_date>=e.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function S3(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState(""),[f,x]=_.useState(""),[v,b]=_.useState("ANNUAL"),[S,w]=_.useState("APPROVED"),[C,M]=_.useState(""),[k,A]=_.useState(null),[O,B]=_.useState(""),[P,R]=_.useState(String(new Date().getFullYear())),[G,V]=_.useState(String(new Date().getMonth()+1)),W=Ue({queryKey:["employees"],queryFn:()=>gi({include_inactive:!0,status:"all"})}),Z=_.useMemo(()=>{const ue=Number(O),q=Number(P),K=Number(G);return{employee_id:Number.isFinite(ue)&&ue>0?ue:void 0,year:Number.isFinite(q)&&q>0?q:void 0,month:Number.isFinite(K)&&K>0?K:void 0}},[O,P,G]),Y=Ue({queryKey:["leaves",Z.employee_id??"all",Z.year??"all",Z.month??"all"],queryFn:()=>kb(Z)}),te=Ve({mutationFn:VE,onSuccess:ue=>{m(""),x(""),b("ANNUAL"),w("APPROVED"),M(""),A(null),i({variant:"success",title:"zin kayd oluturuldu",description:`zin #${ue.id} kaydedildi.`}),e.invalidateQueries({queryKey:["leaves"]})},onError:ue=>{const q=Pe(ue,"zin kayd oluturulamad.");A(q.message),i({variant:"error",title:"zin oluturulamad",description:q.message})}}),fe=Ve({mutationFn:YE,onSuccess:(ue,q)=>{i({variant:"success",title:"zin kayd silindi",description:`zin #${q} silindi.`}),e.invalidateQueries({queryKey:["leaves"]})},onError:ue=>{const q=Pe(ue,"zin silinemedi.");i({variant:"error",title:"zin silinemedi",description:q.message})}}),xe=ue=>{ue.preventDefault(),A(null);const q=j3.safeParse({employee_id:l,start_date:d,end_date:f,type:v,status:S,note:C});if(!q.success){const K=q.error.issues[0]?.message??"zin formunu kontrol edin.";A(K),i({variant:"error",title:"Form hatas",description:K});return}te.mutate({...q.data,note:q.data.note||null})};if(W.isLoading)return a.jsx(Lt,{});if(W.isError)return a.jsx(Et,{message:"alan listesi alnamad."});const de=W.data??[],_e=Y.data??[],le=new Map(de.map(ue=>[ue.id,ue.full_name]));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),a.jsxs("form",{onSubmit:xe,className:"mt-4 grid gap-3 md:grid-cols-3",children:[a.jsx(Ja,{label:"alan",employees:de,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",a.jsx("input",{type:"date",value:d,onChange:ue=>m(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",a.jsx("input",{type:"date",value:f,onChange:ue=>x(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",a.jsxs("select",{value:v,onChange:ue=>b(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),a.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),a.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),a.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),a.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",a.jsxs("select",{value:S,onChange:ue=>w(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"APPROVED",children:"ONAYLI"}),a.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),a.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",a.jsx("textarea",{value:C,onChange:ue=>M(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),a.jsx("div",{className:"md:col-span-3",children:a.jsx("button",{type:"submit",disabled:te.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:te.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?a.jsx("div",{className:"form-validation",children:k}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),a.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[a.jsx(Ja,{label:"alan",employees:de,value:O,onChange:B,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",a.jsx("input",{value:P,onChange:ue=>R(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",a.jsx("input",{value:G,onChange:ue=>V(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),Y.isLoading?a.jsx(Lt,{}):null,Y.isError?a.jsx(Et,{message:"zin listesi alnamad."}):null,!Y.isLoading&&!Y.isError?a.jsxs(Re,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"zin ID"}),a.jsx("th",{className:"py-2",children:"alan"}),a.jsx("th",{className:"py-2",children:"zin Tipi"}),a.jsx("th",{className:"py-2",children:"Tarih Aral"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"lem"})]})}),a.jsx("tbody",{children:_e.map(ue=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:ue.id}),a.jsx("td",{className:"py-2",children:le.get(ue.employee_id)??ue.employee_id}),a.jsx("td",{className:"py-2",children:ue.type}),a.jsxs("td",{className:"py-2",children:[ue.start_date," - ",ue.end_date]}),a.jsx("td",{className:"py-2",children:a.jsx(Ws,{value:ue.status})}),a.jsx("td",{className:"py-2",children:a.jsx("button",{type:"button",onClick:()=>fe.mutate(ue.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},ue.id))})]})}),_e.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const w3=Da({username:Un().min(1,"Kullanici adi gerekli."),password:Un().min(1,"Sifre gerekli."),mfaCode:Un().optional(),mfaRecoveryCode:Un().optional()});function E3(e){return e.code==="INVALID_CREDENTIALS"?"Giris bilgileri hatali":e.code==="MFA_REQUIRED"?"MFA kodu gerekli":e.code==="INVALID_MFA_CODE"?"MFA kodu gecersiz":e.code==="MFA_SETUP_REQUIRED"?"MFA kurulumu gerekli":e.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":e.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Giris basarisiz"}function k3(){const e=Zl(),i=ei(),{login:l}=Kl(),[o,d]=_.useState("admin"),[m,f]=_.useState(""),[x,v]=_.useState(""),[b,S]=_.useState(""),[w,C]=_.useState(null),[M,k]=_.useState(!1),A=_.useMemo(()=>{const B=i.state?.from,P=new URLSearchParams(i.search).get("redirect");return B??P??"/dashboard"},[i.search,i.state]),O=async B=>{B.preventDefault(),C(null);const P=w3.safeParse({username:o,password:m,mfaCode:x,mfaRecoveryCode:b});if(!P.success){C({message:P.error.issues[0]?.message??"Form alanlarini kontrol et."});return}k(!0);try{await l(P.data.username,P.data.password,P.data.mfaCode,P.data.mfaRecoveryCode),e(A,{replace:!0})}catch(R){C(Pe(R,"Giris basarisiz."))}finally{k(!1)}};return a.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:a.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giris"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj yonetim paneline giris yap."}),a.jsxs("form",{onSubmit:O,className:"mt-6 space-y-4",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),a.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:B=>d(B.target.value)})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:m,onChange:B=>f(B.target.value)})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"MFA Kodu (gerekliyse)"}),a.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:x,onChange:B=>v(B.target.value),placeholder:"6 haneli kod"})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Recovery Kodu (MFA yoksa)"}),a.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:b,onChange:B=>S(B.target.value),placeholder:"Ornek: ABCDE-FGHIJ"})]}),w?a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[a.jsx("p",{className:"font-semibold",children:E3(w)}),a.jsx("p",{className:"mt-1",children:w.message}),w.requestId?a.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",w.requestId]}):null]}):null,a.jsx("button",{type:"submit",disabled:M,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:M?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giris yapiliyor..."]}):"Giris Yap"})]}),a.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[$a.signatureText," | BUILD: ",$a.buildVersion]})]})})}const T3=[{to:"/employees",label:"alan Ynetimi",description:"Personel kart, ariv ve profil ynetimi.",code:"CMD-EMP"},{to:"/attendance-events",label:"Puantaj Kaytlar",description:"Giri-k olaylar ve manuel dzeltme.",code:"CMD-ATT"},{to:"/devices",label:"Cihaz Kontrol",description:"Cihaz aktivasyonu ve eriim denetimi.",code:"CMD-DEV"},{to:"/notifications",label:"Bildirim Merkezi",description:"Toplu/tekli push ve teslimat loglar.",code:"CMD-NOT"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",description:"alma ve fazla mesai analizi.",code:"CMD-RPT"},{to:"/audit-logs",label:"Sistem Loglar",description:"z kayd ve gvenlik denetimi.",code:"CMD-AUD"}];function Hc(e){return e?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(e)):"-"}function C3(e){const i=new Date(e);return Number.isNaN(i.getTime())?"":i.toLocaleDateString("sv-SE",{timeZone:"Europe/Istanbul"})}function A3(e){const i=new Date(`${e}T00:00:00Z`);return Number.isNaN(i.getTime())?"Hafta i":i.getUTCDay()===0?"Pazar":"Hafta i"}function z3(e){return e==="NOT_STARTED"?"Balamad":e==="IN_PROGRESS"?"Mesai Devam Ediyor":"Mesai Tamamland"}function M3(){const{pushToast:e}=Zn(),i=new Date,[l,o]=_.useState("Ynetim Konsolu Bildirimi"),[d,m]=_.useState(""),[f,x]=_.useState(""),[v,b]=_.useState("bulk"),[S,w]=_.useState(""),[C,M]=_.useState([]),[k,A]=_.useState(""),[O,B]=_.useState(String(i.getFullYear())),[P,R]=_.useState(String(i.getMonth()+1)),G=Ue({queryKey:["employees","management-console"],queryFn:()=>gi({status:"all",include_inactive:!0}),refetchInterval:3e4}),V=Ue({queryKey:["devices","management-console"],queryFn:wb,refetchInterval:3e4}),W=Ue({queryKey:["attendance-events","management-console"],queryFn:()=>np({limit:20}),refetchInterval:2e4}),Z=Ue({queryKey:["employee-device-overview","management-console"],queryFn:()=>Tf({limit:12,device_limit:2,include_inactive:!1}),refetchInterval:2e4}),Y=Ue({queryKey:["dashboard-employee-snapshot","management-console",k],queryFn:()=>Eb({employee_id:Number(k)}),enabled:!!k,staleTime:15e3}),te=Number(O),fe=Number(P),xe=Number.isInteger(te)&&Number.isInteger(fe)&&fe>=1&&fe<=12,de=Ue({queryKey:["management-console-control-monthly",k,te,fe],queryFn:()=>tu({employee_id:Number(k),year:te,month:fe}),enabled:!!k&&xe,staleTime:15e3}),_e=Ve({mutationFn:Sb,onSuccess:Se=>{e({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${Se.total_targets} / Gnderilen: ${Se.sent}`}),m(""),v==="single"&&(M([]),w(""))},onError:Se=>{const ct=Pe(Se,"Bildirim gnderimi baarsz.");e({variant:"error",title:"Gnderim baarsz",description:ct.message})}}),le=G.data??[],ue=V.data??[],q=W.data??[],K=Z.data??[],ie=de.data?.days??[],ke=_.useMemo(()=>ip(ie),[ie]),$=_.useMemo(()=>new Map(le.map(Se=>[Se.id,Se])),[le]),z=_.useMemo(()=>le.filter(Se=>Se.is_active).length,[le]),ee=_.useMemo(()=>ue.filter(Se=>Se.is_active).length,[ue]),D=_.useMemo(()=>q.filter(Se=>Se.location_status==="VERIFIED_HOME").length,[q]),I=_.useMemo(()=>le.find(Se=>String(Se.id)===S)??null,[le,S]),ce=_.useMemo(()=>new Map(ie.map(Se=>[Se.date,Se])),[ie]),je=Number(k),Me=_.useMemo(()=>q.slice(0,14).map(Se=>{const ct=C3(Se.ts_utc),xt=Se.employee_id===je&&ct?ce.get(ct):void 0;return{event:Se,dayTypeLabel:xt?_d(xt).label:A3(ct),workedMinutes:xt?.worked_minutes??null,planOvertimeMinutes:xt?.plan_overtime_minutes??null,legalOvertimeMinutes:xt?.legal_overtime_minutes??null}}),[q,je,ce]),He=()=>{const Se=Number(S);if(!Number.isInteger(Se)||Se<=0){e({variant:"error",title:"Hedef eklenemedi",description:"nce alan sein."});return}if(C.includes(Se)){e({variant:"info",title:"Hedef zaten eklendi",description:`#${Se} listede var.`});return}M(ct=>[...ct,Se]),w("")},Xe=Se=>{M(ct=>ct.filter(xt=>xt!==Se))},rt=Se=>{if(Se.preventDefault(),!l.trim()||!d.trim()||!f.trim()){e({variant:"error",title:"Eksik alan",description:"Balk, mesaj ve ynetici ifresi zorunludur."});return}if(v==="single"&&C.length===0){e({variant:"error",title:"Hedef seilmedi",description:"Tekli bildirim iin en az bir alan sein."});return}_e.mutate({title:l.trim(),message:d.trim(),password:f.trim(),target:"employees",employee_ids:v==="single"?C:void 0})};return G.isLoading||V.isLoading||W.isLoading||Z.isLoading?a.jsx(Lt,{label:"Ynetim konsolu ykleniyor..."}):G.isError||V.isError||W.isError||Z.isError?a.jsx(Et,{message:"Ynetim konsolu verileri alnamad."}):a.jsxs("div",{className:"management-console-screen space-y-4",children:[a.jsx(An,{title:"Ynetim Konsolu",description:"Tek merkezden bildirim, puantaj, konum ve cihaz operasyonlarn disiplinli akla ynetin."}),a.jsxs("div",{className:"management-console-kpi-grid",children:[a.jsxs(Re,{className:"management-console-kpi-card",children:[a.jsx("p",{className:"management-console-kpi-label",children:"Toplam alan"}),a.jsx("p",{className:"management-console-kpi-value",children:le.length}),a.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",z]})]}),a.jsxs(Re,{className:"management-console-kpi-card",children:[a.jsx("p",{className:"management-console-kpi-label",children:"Toplam Cihaz"}),a.jsx("p",{className:"management-console-kpi-value",children:ue.length}),a.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",ee]})]}),a.jsxs(Re,{className:"management-console-kpi-card",children:[a.jsx("p",{className:"management-console-kpi-label",children:"Canl Olay Ak"}),a.jsx("p",{className:"management-console-kpi-value",children:q.length}),a.jsxs("p",{className:"management-console-kpi-meta",children:["Dorulanm konum: ",D]})]}),a.jsxs(Re,{className:"management-console-kpi-card",children:[a.jsx("p",{className:"management-console-kpi-label",children:"Cihaz Grnm Satr"}),a.jsx("p",{className:"management-console-kpi-value",children:K.length}),a.jsxs("p",{className:"management-console-kpi-meta",children:["Son yenileme: ",Hc(new Date().toISOString())]})]})]}),a.jsxs(Re,{className:"management-console-panel",children:[a.jsx("h4",{className:"management-console-title",children:"Komut Merkezi"}),a.jsx("p",{className:"management-console-subtitle",children:"Dank ekranlar arasnda dolamak yerine kritik ynetim modllerine tek panelden eriin."}),a.jsx("div",{className:"management-console-command-grid",children:T3.map(Se=>a.jsxs(fi,{to:Se.to,className:"management-console-command-card",children:[a.jsx("span",{className:"management-console-command-code",children:Se.code}),a.jsx("p",{className:"management-console-command-label",children:Se.label}),a.jsx("p",{className:"management-console-command-desc",children:Se.description})]},Se.to))})]}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.06fr_1.35fr]",children:[a.jsxs(Re,{className:"management-console-panel",children:[a.jsx("h4",{className:"management-console-title",children:"Bildirim Terminali"}),a.jsx("p",{className:"management-console-subtitle",children:"Toplu veya tekli bildirim gnderimini ayn terminalden yrtn."}),a.jsxs("form",{className:"management-console-terminal mt-3 space-y-3",onSubmit:rt,children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"text-sm",children:[a.jsx("span",{className:"management-console-field-label",children:"Gnderim Modu"}),a.jsxs("select",{value:v,onChange:Se=>b(Se.target.value),className:"management-console-input mt-1",children:[a.jsx("option",{value:"bulk",children:"Toplu (Tm alanlar)"}),a.jsx("option",{value:"single",children:"Tekli (Seili alanlar)"})]})]}),a.jsxs("label",{className:"text-sm",children:[a.jsx("span",{className:"management-console-field-label",children:"Ynetici ifresi"}),a.jsx("input",{type:"password",value:f,onChange:Se=>x(Se.target.value),className:"management-console-input mt-1",placeholder:"ifre"})]})]}),a.jsxs("label",{className:"text-sm",children:[a.jsx("span",{className:"management-console-field-label",children:"Balk"}),a.jsx("input",{value:l,onChange:Se=>o(Se.target.value),className:"management-console-input mt-1",placeholder:"Bildirim bal"})]}),a.jsxs("label",{className:"text-sm",children:[a.jsx("span",{className:"management-console-field-label",children:"Mesaj"}),a.jsx("textarea",{rows:4,value:d,onChange:Se=>m(Se.target.value),className:"management-console-input mt-1",placeholder:"Mesaj ierii"})]}),v==="single"?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ja,{label:"Hedef alan",employees:le,value:S,onChange:w,helperText:"alan seip listeye ekleyin."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:He,className:"management-console-action-button",children:"Hedefe Ekle"}),I?a.jsxs("span",{className:"management-console-inline-note",children:["Seili: #",I.id," - ",I.full_name]}):null]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:C.length===0?a.jsx("span",{className:"management-console-inline-note",children:"Henz hedef alan eklenmedi."}):C.map(Se=>a.jsxs("button",{type:"button",onClick:()=>Xe(Se),className:"management-console-chip",children:["#",Se," - ",$.get(Se)?.full_name??"alan"," "]},Se))})]}):a.jsx("p",{className:"management-console-inline-note",children:"Toplu mod: Aktif/Pasif ayrm olmadan tm alanlara gnderilir."}),a.jsx("button",{type:"submit",disabled:_e.isPending,className:"management-console-send-button",children:_e.isPending?"Gnderiliyor...":"Bildirimi Gnder"})]})]}),a.jsxs(Re,{className:"management-console-panel",children:[a.jsx("h4",{className:"management-console-title",children:"alan Kontrol Odas"}),a.jsx("p",{className:"management-console-subtitle",children:"Tek alan iin puantaj, konum ve cihaz metriklerini anlk izleyin."}),a.jsxs("div",{className:"management-console-terminal mt-3 space-y-3",children:[a.jsx(Ja,{label:"Kontrol edilecek alan",employees:le,value:k,onChange:A,helperText:"Seildiinde puantaj ve konum panelleri otomatik gncellenir."}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("label",{className:"text-sm",children:[a.jsx("span",{className:"management-console-field-label",children:"Yl"}),a.jsx("input",{type:"number",value:O,onChange:Se=>B(Se.target.value),className:"management-console-input mt-1"})]}),a.jsxs("label",{className:"text-sm",children:[a.jsx("span",{className:"management-console-field-label",children:"Ay"}),a.jsx("input",{type:"number",min:1,max:12,value:P,onChange:Se=>R(Se.target.value),className:"management-console-input mt-1"})]})]}),k?null:a.jsx("p",{className:"management-console-inline-note",children:"alan seildiinde canl zet burada grnr."}),k&&!xe?a.jsx("p",{className:"management-console-inline-note",children:"Yl/ay deeri geersiz."}):null,k&&Y.isLoading?a.jsx(Lt,{label:"Canl zet ykleniyor..."}):null,k&&Y.isError?a.jsx(Et,{message:"alan zeti alnamad."}):null,Y.data?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"management-console-strip",children:[a.jsx("span",{className:"management-console-strip-tag",children:"Durum"}),a.jsx("span",{children:z3(Y.data.today_status)})]}),a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"Bu Ay"}),a.jsxs("p",{children:["Net alma: ",a.jsx(Be,{minutes:Y.data.current_month.worked_minutes})]}),a.jsxs("p",{children:["Plan Ustu Sure: ",a.jsx(Be,{minutes:Y.data.current_month.plan_overtime_minutes})]}),a.jsxs("p",{children:["Yasal Fazla Sure: ",a.jsx(Be,{minutes:Y.data.current_month.extra_work_minutes})]}),a.jsxs("p",{children:["Yasal Fazla Mesai: ",a.jsx(Be,{minutes:Y.data.current_month.overtime_minutes})]})]}),a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"nceki Ay"}),a.jsxs("p",{children:["Net alma: ",a.jsx(Be,{minutes:Y.data.previous_month.worked_minutes})]}),a.jsxs("p",{children:["Plan Ustu Sure: ",a.jsx(Be,{minutes:Y.data.previous_month.plan_overtime_minutes})]}),a.jsxs("p",{children:["Yasal Fazla Sure: ",a.jsx(Be,{minutes:Y.data.previous_month.extra_work_minutes})]}),a.jsxs("p",{children:["Yasal Fazla Mesai: ",a.jsx(Be,{minutes:Y.data.previous_month.overtime_minutes})]})]})]}),de.isLoading?a.jsx(Lt,{label:"Aylk puantaj ykleniyor..."}):null,de.isError?a.jsx(Et,{message:"Aylk puantaj alnamad."}):null,de.data?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"allan Gn"}),a.jsxs("p",{children:[ke.workedDayCount," gn"]}),a.jsxs("p",{children:["Hafta i: ",ke.weekdayWorkedDayCount]})]}),a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"Pazar Mesaisi"}),a.jsxs("p",{children:[ke.sundayWorkedDayCount," gn"]}),a.jsx("p",{children:a.jsx(Be,{minutes:ke.sundayWorkedMinutes})})]}),a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"zel Gn Mesaisi"}),a.jsxs("p",{children:[ke.specialWorkedDayCount," gn"]}),a.jsx("p",{children:a.jsx(Be,{minutes:ke.specialWorkedMinutes})})]})]}):null,a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"Son Puantaj"}),Y.data.last_event?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Tip: ",Y.data.last_event.event_type]}),a.jsxs("p",{children:["Zaman: ",Hc(Y.data.last_event.ts_utc)]}),a.jsxs("p",{children:["Konum Durumu: ",Y.data.last_event.location_status]})]}):a.jsx("p",{children:"Kayt bulunmuyor."})]}),a.jsxs("div",{className:"management-console-block",children:[a.jsx("p",{className:"management-console-block-title",children:"Son Konum"}),Y.data.latest_location?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Koordinat: ",Y.data.latest_location.lat.toFixed(6),", ",Y.data.latest_location.lon.toFixed(6)]}),a.jsxs("p",{children:["Doruluk: ",Y.data.latest_location.accuracy_m??"-"," m"]}),a.jsxs("p",{children:["Zaman: ",Hc(Y.data.latest_location.ts_utc)]})]}):a.jsx("p",{children:"Konum verisi yok."})]})]}),a.jsxs("div",{className:"management-console-strip",children:[a.jsx("span",{className:"management-console-strip-tag",children:"Cihaz"}),a.jsxs("span",{children:["Aktif ",Y.data.active_devices," / Toplam ",Y.data.total_devices]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(fi,{to:`/employees/${Y.data.employee.id}`,className:"management-console-action-button",children:"alan Detayn A"}),a.jsx(fi,{to:"/attendance-events",className:"management-console-action-button",children:"Puantaj Olaylarna Git"}),a.jsx(fi,{to:"/devices",className:"management-console-action-button",children:"Cihaz Paneline Git"})]})]}):null]})]})]}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[a.jsxs(Re,{className:"management-console-panel",children:[a.jsx("h4",{className:"management-console-title",children:"Cihaz Eriim Ak"}),a.jsx("p",{className:"management-console-subtitle",children:"alan baznda cihaz younluu ve aktif cihaz oran."}),a.jsx("div",{className:"management-console-table-wrap mt-3",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"alan"}),a.jsx("th",{children:"Departman"}),a.jsx("th",{children:"Aktif/Toplam"}),a.jsx("th",{children:"lem"})]})}),a.jsx("tbody",{children:K.slice(0,10).map(Se=>a.jsxs("tr",{children:[a.jsxs("td",{className:"py-2",children:["#",Se.employee_id," - ",Se.employee_name]}),a.jsx("td",{children:Se.department_name??"-"}),a.jsxs("td",{children:[Se.active_devices,"/",Se.total_devices]}),a.jsx("td",{children:a.jsx(fi,{className:"management-console-link",to:`/employees/${Se.employee_id}`,children:"Detay"})})]},Se.employee_id))})]})})]}),a.jsxs(Re,{className:"management-console-panel",children:[a.jsx("h4",{className:"management-console-title",children:"Canl Puantaj Kayd"}),a.jsx("p",{className:"management-console-subtitle",children:"Son giri-k olaylar ile gn tipi, gnlk alma, plan st sre ve yasal fazla mesai grnm."}),a.jsx("div",{className:"management-console-table-wrap mt-3",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Zaman"}),a.jsx("th",{children:"alan"}),a.jsx("th",{children:"Gn Tipi"}),a.jsx("th",{children:"Tip"}),a.jsx("th",{children:"Konum"}),a.jsx("th",{children:"Gnlk alma"}),a.jsx("th",{children:"Plan st"}),a.jsx("th",{children:"Yasal FM"})]})}),a.jsx("tbody",{children:Me.map(Se=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2",children:Hc(Se.event.ts_utc)}),a.jsxs("td",{children:["#",Se.event.employee_id," - ",$.get(Se.event.employee_id)?.full_name??"alan"]}),a.jsx("td",{children:Se.dayTypeLabel}),a.jsx("td",{children:Se.event.type}),a.jsx("td",{children:Se.event.location_status}),a.jsx("td",{children:Se.workedMinutes===null?"-":a.jsx(Be,{minutes:Se.workedMinutes})}),a.jsx("td",{children:Se.planOvertimeMinutes===null?"-":a.jsx(Be,{minutes:Se.planOvertimeMinutes})}),a.jsx("td",{children:Se.legalOvertimeMinutes===null?"-":a.jsx(Be,{minutes:Se.legalOvertimeMinutes})})]},Se.event.id))})]})})]})]})]})}function O3(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[a.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),a.jsx(fi,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),a.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:$a.signatureText})]})})}function cv(e,i){const l=URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=i,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function D3(){const{pushToast:e}=Zn(),i=new Date,[l,o]=_.useState("employee"),[d,m]=_.useState(""),[f,x]=_.useState(""),[v,b]=_.useState(String(i.getFullYear())),[S,w]=_.useState(String(i.getMonth()+1)),[C,M]=_.useState(""),[k,A]=_.useState(""),[O,B]=_.useState(!0),[P,R]=_.useState(!1),[G,V]=_.useState(""),[W,Z]=_.useState(""),[Y,te]=_.useState("consolidated"),[fe,xe]=_.useState(""),[de,_e]=_.useState(""),le=Ue({queryKey:["employees","all"],queryFn:()=>gi({status:"all",include_inactive:!0})}),ue=Ue({queryKey:["departments"],queryFn:er}),q=Ve({mutationFn:n1,onSuccess:I=>{cv(I,`puantaj-${l}-${Date.now()}.xlsx`),e({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:I=>{e({variant:"error",title:"Da aktarma baarsz",description:Pe(I,"Excel dosyas retilemedi.").message})}}),K=Ve({mutationFn:r1,onSuccess:I=>{cv(I,`puantaj-range-${Y}-${Date.now()}.xlsx`),e({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:I=>{e({variant:"error",title:"Tarih aral da aktarma baarsz",description:Pe(I,"Excel dosyas retilemedi.").message})}}),ie=_.useMemo(()=>{const I=Number(v),ce=Number(S),je=Number(d),Me=Number(f);return l==="employee"?!je||!I||!ce?null:{mode:l,employee_id:je,year:I,month:ce}:l==="department"?!Me||!I||!ce?null:{mode:l,department_id:Me,year:I,month:ce,include_daily_sheet:O,include_inactive:P}:l==="all"?!I||!ce?null:{mode:l,year:I,month:ce,include_daily_sheet:O,include_inactive:P}:!C||!k?null:{mode:l,start_date:C,end_date:k,employee_id:je||void 0,department_id:Me||void 0,include_inactive:P}},[l,d,f,v,S,C,k,O,P]),ke=_.useMemo(()=>{const I=Number(de),ce=Number(fe);return!G||!W?null:{start_date:G,end_date:W,mode:Y,employee_id:I>0?I:void 0,department_id:ce>0?ce:void 0}},[G,W,Y,de,fe]),$=()=>{if(!ie){e({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}q.mutate(ie)},z=()=>{if(!ke){e({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}K.mutate(ke)};if(le.isLoading||ue.isLoading)return a.jsx(Lt,{});if(le.isError||ue.isError)return a.jsx(Et,{message:"alan/departman bilgileri alnamad."});const ee=le.data??[],D=ue.data??[];return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",a.jsxs("select",{value:l,onChange:I=>o(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"employee",children:"alan Bazl"}),a.jsx("option",{value:"department",children:"Departman Bazl"}),a.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),a.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&a.jsx(Ja,{label:"alan",employees:ee,value:d,onChange:m,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:f,onChange:I=>x(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seiniz"}),D.map(I=>a.jsxs("option",{value:I.id,children:["#",I.id," - ",I.name]},I.id))]})]}),(l==="employee"||l==="department"||l==="all")&&a.jsxs(a.Fragment,{children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",a.jsx("input",{type:"number",value:v,onChange:I=>b(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",a.jsx("input",{type:"number",value:S,onChange:I=>w(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&a.jsxs(a.Fragment,{children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",a.jsx("input",{type:"date",value:C,onChange:I=>M(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",a.jsx("input",{type:"date",value:k,onChange:I=>A(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&a.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:O,onChange:I=>B(I.target.checked)}),"Gnlk sheetleri de ekle"]}),a.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:I=>R(I.target.checked)}),"Arivdeki alanlar dahil et"]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{type:"button",onClick:$,disabled:q.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:q.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),a.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",a.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",a.jsx("input",{type:"date",value:G,onChange:I=>V(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",a.jsx("input",{type:"date",value:W,onChange:I=>Z(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",a.jsxs("select",{value:Y,onChange:I=>te(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),a.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),a.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",a.jsxs("select",{value:fe,onChange:I=>xe(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tm"}),D.map(I=>a.jsxs("option",{value:I.id,children:["#",I.id," - ",I.name]},I.id))]})]}),a.jsx(Ja,{label:"alan (opsiyonel)",employees:ee,value:de,onChange:_e,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{type:"button",onClick:z,disabled:K.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}const R3=[41.0082,28.9784];function $s(e){return e.toFixed(6)}function L3({lat:e,lon:i,radiusM:l,onSelect:o}){const d=_.useRef(null),m=_.useRef(null),f=_.useRef(null),x=_.useRef(null),[v,b]=_.useState(!1),[S,w]=_.useState(""),[C,M]=_.useState(!1),[k,A]=_.useState(null),[O,B]=_.useState(null),P=_.useMemo(()=>e!==null&&i!==null?[e,i]:R3,[e,i]);_.useEffect(()=>{if(!(!d.current||m.current)){try{const V=os.map(d.current,{center:P,zoom:e!==null&&i!==null?17:12,zoomControl:!0});m.current=V,os.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo(V);const W=os.circleMarker(P,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo(V);f.current=W;const Z=os.circle(P,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo(V);x.current=Z,V.on("click",Y=>{const te=Y.latlng.lat,fe=Y.latlng.lng;o(te,fe),B(`Haritadan secildi: ${$s(te)}, ${$s(fe)}`)}),b(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),b(!1)}return()=>{m.current&&(m.current.remove(),m.current=null),f.current=null,x.current=null,b(!1)}}},[P,e,i,o,l]),_.useEffect(()=>{if(!m.current||!f.current||!x.current)return;const V=m.current,W=f.current,Z=x.current;if(e!==null&&i!==null){const te=[e,i];W.setLatLng(te),Z.setLatLng(te),V.panTo(te,{animate:!0})}const Y=Number.isFinite(l)&&l>0?l:75;Z.setRadius(Y)},[e,i,l]);const R=_.useCallback(async()=>{if(!v||!m.current)return;const V=S.trim();if(!V){B("Lutfen adres veya lokasyon adi girin.");return}M(!0);try{const W=new URL("https://nominatim.openstreetmap.org/search");W.searchParams.set("q",V),W.searchParams.set("format","json"),W.searchParams.set("limit","1"),W.searchParams.set("addressdetails","1"),W.searchParams.set("accept-language","tr");const Z=await fetch(W.toString(),{headers:{Accept:"application/json"}});if(!Z.ok)throw new Error("search_failed");const Y=await Z.json();if(!Array.isArray(Y)||Y.length===0){B("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const te=Y[0],fe=Number(te.lat),xe=Number(te.lon);if(!Number.isFinite(fe)||!Number.isFinite(xe)){B("Adres koordinata cevrilemedi.");return}o(fe,xe),m.current.setView([fe,xe],17,{animate:!0}),B(`Adres bulundu: ${$s(fe)}, ${$s(xe)}${te.display_name?` (${te.display_name})`:""}`)}catch{B("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{M(!1)}},[v,o,S]),G=_.useCallback(()=>{if(!navigator.geolocation){B("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition(V=>{const W=V.coords.latitude,Z=V.coords.longitude;o(W,Z),B(`Mevcut konum alindi: ${$s(W)}, ${$s(Z)}`)},()=>{B("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return a.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),a.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?a.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):a.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),a.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[a.jsx("input",{value:S,onChange:V=>w(V.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),a.jsx("button",{type:"button",onClick:()=>{R()},disabled:!v||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),a.jsx("button",{type:"button",onClick:G,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),a.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[a.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",e!==null?$s(e):"-"]}),a.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",i!==null?$s(i):"-"]}),a.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),O?a.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:O}):null]})}const Kc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Qc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},P3={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function dv(e){return e==="CHECKIN"?"CHECKIN (Giris)":e==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function mv(e,i){return e.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||i}function I3(e){return e==="CHECKIN"?"IN":e==="CHECKOUT"?"OUT":"BOTH"}function B3(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(null),[d,m]=_.useState(null),[f,x]=_.useState(null),[v,b]=_.useState(""),[S,w]=_.useState(""),[C,M]=_.useState(""),[k,A]=_.useState(Kc),[O,B]=_.useState(P3),[P,R]=_.useState(Qc),[G,V]=_.useState([]),[W,Z]=_.useState(null),Y=Ue({queryKey:["qr-codes"],queryFn:()=>mE()}),te=Ue({queryKey:["qr-points"],queryFn:()=>xE()}),fe=Ve({mutationFn:hE,onSuccess:ae=>{i({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${ae.id}`}),A(Kc),o(ae.id),e.invalidateQueries({queryKey:["qr-codes"]})},onError:ae=>{i({variant:"error",title:"QR kod olusturulamadi",description:Pe(ae,"Islem basarisiz.").message})}}),xe=Ve({mutationFn:({codeId:ae,payload:Ae})=>fE(ae,Ae),onSuccess:ae=>{i({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${ae.id}`}),m(null),A(Kc),e.invalidateQueries({queryKey:["qr-codes"]})},onError:ae=>{i({variant:"error",title:"QR kod guncellenemedi",description:Pe(ae,"Islem basarisiz.").message})}}),de=Ve({mutationFn:({codeId:ae,pointIds:Ae})=>pE(ae,{point_ids:Ae}),onSuccess:()=>{i({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),V([]),e.invalidateQueries({queryKey:["qr-codes"]}),e.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{i({variant:"error",title:"Atama basarisiz",description:Pe(ae,"Nokta atamasi yapilamadi.").message})}}),_e=Ve({mutationFn:({codeId:ae,pointId:Ae})=>gE(ae,Ae),onSuccess:()=>{i({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),e.invalidateQueries({queryKey:["qr-codes"]}),e.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{i({variant:"error",title:"Islem basarisiz",description:Pe(ae,"Nokta kaldirilamadi.").message})}}),le=Ve({mutationFn:yE,onSuccess:ae=>{i({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${ae.id}`}),R(Qc),e.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{i({variant:"error",title:"QR nokta olusturulamadi",description:Pe(ae,"Islem basarisiz.").message})}}),ue=Ve({mutationFn:({pointId:ae,payload:Ae})=>vE(ae,Ae),onSuccess:()=>{i({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),x(null),R(Qc),e.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{i({variant:"error",title:"QR nokta guncellenemedi",description:Pe(ae,"Islem basarisiz.").message})}}),q=Ve({mutationFn:bE,onSuccess:()=>{i({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),e.invalidateQueries({queryKey:["qr-points"]}),e.invalidateQueries({queryKey:["qr-codes"]})},onError:ae=>{i({variant:"error",title:"Islem basarisiz",description:Pe(ae,"Nokta pasife alinamadi.").message})}}),K=Y.data??[],ie=te.data??[];_.useEffect(()=>{l===null&&K.length>0&&o(K[0].id),l!==null&&!K.some(ae=>ae.id===l)&&o(K.length>0?K[0].id:null)},[K,l]);const ke=_.useMemo(()=>K.find(ae=>ae.id===l)??null,[K,l]);_.useEffect(()=>{if(!ke){Z(null);return}let ae=!1;return Df.toDataURL(ke.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Ae=>{ae||Z(Ae)}).catch(()=>{ae||Z(null)}),()=>{ae=!0}},[ke?.id,ke?.code_value]);const $=_.useMemo(()=>{const ae=new Map;for(const Ae of ie)ae.set(Ae.id,Ae);return ae},[ie]),z=_.useMemo(()=>ke?ke.point_ids.map(ae=>$.get(ae)??null).filter(ae=>ae!==null):[],[ke,$]),ee=_.useMemo(()=>{const ae=v.trim().toLowerCase();return ae?K.filter(Ae=>String(Ae.id).includes(ae)||(Ae.name??"").toLowerCase().includes(ae)||Ae.code_value.toLowerCase().includes(ae)):K},[K,v]),D=_.useMemo(()=>{const ae=S.trim().toLowerCase();return ae?ie.filter(Ae=>String(Ae.id).includes(ae)||Ae.name.toLowerCase().includes(ae)||String(Ae.department_id??"").includes(ae)||String(Ae.region_id??"").includes(ae)):ie},[ie,S]),I=_.useMemo(()=>{const ae=ie.filter($e=>$e.is_active),Ae=C.trim().toLowerCase();return Ae?ae.filter($e=>String($e.id).includes(Ae)||$e.name.toLowerCase().includes(Ae)||String($e.department_id??"").includes(Ae)||String($e.region_id??"").includes(Ae)):ae},[ie,C]),ce=_.useMemo(()=>{const ae=K.filter(it=>it.is_active).length,Ae=ie.filter(it=>it.is_active).length,$e=K.filter(it=>it.point_ids.length===0).length;return{codeCount:K.length,activeCodes:ae,pointCount:ie.length,activePoints:Ae,codesWithoutPoint:$e}},[K,ie]),je=_.useMemo(()=>{const ae=Number(P.lat);return Number.isFinite(ae)?ae:null},[P.lat]),Me=_.useMemo(()=>{const ae=Number(P.lon);return Number.isFinite(ae)?ae:null},[P.lon]),He=_.useMemo(()=>{const ae=Number(P.radiusM);return Number.isFinite(ae)&&ae>0?ae:75},[P.radiusM]),Xe=ae=>{V(Ae=>Ae.includes(ae)?Ae.filter($e=>$e!==ae):[...Ae,ae])},rt=ae=>{m(ae.id),A({name:ae.name??"",codeValue:ae.code_value,codeType:ae.code_type,isActive:ae.is_active})},Se=()=>{m(null),A(Kc)},ct=()=>{const ae=mv(O.regionCode,"GEN"),Ae=mv(O.locationCode,"LOKASYON"),$e=Number(O.serialNo),it=Number.isFinite($e)&&$e>0?Math.floor($e):1,ne=I3(k.codeType),Oe=`PF-${ae}-${Ae}-${ne}-${String(it).padStart(6,"0")}`;A(be=>({...be,codeValue:Oe}))},xt=ae=>{x(ae.id),R({name:ae.name,lat:String(ae.lat),lon:String(ae.lon),radiusM:String(ae.radius_m),isActive:ae.is_active})},kt=()=>{x(null),R(Qc)},_t=ae=>{ae.preventDefault();const Ae=k.codeValue.trim();if(!Ae){i({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const $e={name:k.name.trim()||null,code_value:Ae,code_type:k.codeType,is_active:k.isActive};if(d===null){fe.mutate($e);return}xe.mutate({codeId:d,payload:$e})},Ht=ae=>{ae.preventDefault();const Ae=P.name.trim(),$e=Number(P.lat),it=Number(P.lon),ne=Number(P.radiusM);if(!Ae){i({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite($e)||!Number.isFinite(it)||!Number.isFinite(ne)||ne<=0){i({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const Oe={name:Ae,lat:$e,lon:it,radius_m:ne,is_active:P.isActive};if(f===null){le.mutate(Oe);return}ue.mutate({pointId:f,payload:Oe})},At=()=>{if(!ke){i({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(G.length===0){i({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}de.mutate({codeId:ke.id,pointIds:G})},Pt=async ae=>{try{await navigator.clipboard.writeText(ae),i({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{i({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},nn=async ae=>{try{const Ae=await Df.toDataURL(ae.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),$e=document.createElement("a");$e.href=Ae,$e.download=`qr-kod-${ae.id}.png`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),i({variant:"success",title:"PNG indirildi",description:`QR kod #${ae.id} dosyasi indirildi.`})}catch{i({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return Y.isLoading||te.isLoading?a.jsx(Lt,{}):Y.isError||te.isError?a.jsx(Re,{children:a.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):a.jsxs("div",{className:"mx-auto w-full max-w-[1320px] space-y-4",children:[a.jsx(An,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),a.jsx(Re,{className:"min-w-0",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.45fr)_minmax(260px,0.95fr)]",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),a.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[a.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),a.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),a.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),a.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),a.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ce.codeCount}),a.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ce.activeCodes]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ce.pointCount}),a.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ce.activePoints]})]}),a.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[a.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),a.jsx("p",{className:"text-lg font-semibold text-rose-800",children:ce.codesWithoutPoint}),a.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[a.jsxs(Re,{className:"min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),a.jsxs("form",{className:"mt-3 space-y-3",onSubmit:_t,children:[a.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",a.jsx("input",{value:k.name,onChange:ae=>A(Ae=>({...Ae,name:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),a.jsxs("div",{className:"mt-2 grid gap-2 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx("input",{value:O.regionCode,onChange:ae=>B(Ae=>({...Ae,regionCode:ae.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),a.jsx("input",{value:O.locationCode,onChange:ae=>B(Ae=>({...Ae,locationCode:ae.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),a.jsx("input",{type:"number",min:1,value:O.serialNo,onChange:ae=>B(Ae=>({...Ae,serialNo:ae.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),a.jsx("button",{type:"button",onClick:ct,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",a.jsx("input",{value:k.codeValue,onChange:ae=>A(Ae=>({...Ae,codeValue:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",a.jsxs("select",{value:k.codeType,onChange:ae=>A(Ae=>({...Ae,codeType:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),a.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),a.jsx("option",{value:"BOTH",children:"BOTH"})]}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:k.isActive,onChange:ae=>A(Ae=>({...Ae,isActive:ae.target.checked}))}),"Aktif"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"submit",disabled:fe.isPending||xe.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?a.jsx("button",{type:"button",onClick:Se,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),a.jsxs(Re,{className:"min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),a.jsx("div",{className:"mt-3",children:a.jsx(cs,{value:v,onChange:b,placeholder:"Kod adi / degeri / ID ara"})}),a.jsx("div",{className:"mt-3 max-h-80 overflow-auto overscroll-contain rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-[980px] text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2",children:"ID"}),a.jsx("th",{className:"px-3 py-2",children:"Kod"}),a.jsx("th",{className:"px-3 py-2",children:"Tip"}),a.jsx("th",{className:"px-3 py-2",children:"Durum"}),a.jsx("th",{className:"px-3 py-2",children:"Nokta"}),a.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),a.jsxs("tbody",{children:[ee.map(ae=>a.jsxs("tr",{className:`border-t border-slate-100 ${l===ae.id?"bg-brand-50/60":""}`,children:[a.jsx("td",{className:"px-3 py-2",children:ae.id}),a.jsxs("td",{className:"px-3 py-2",children:[a.jsx("button",{type:"button",onClick:()=>o(ae.id),className:"font-medium text-brand-700 hover:underline",children:ae.name||"-"}),a.jsx("div",{className:"max-w-[340px] break-all text-xs text-slate-500",children:ae.code_value})]}),a.jsx("td",{className:"px-3 py-2",children:dv(ae.code_type)}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ae.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ae.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"px-3 py-2",children:ae.point_ids.length}),a.jsx("td",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx("button",{type:"button",onClick:()=>rt(ae),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),a.jsx("button",{type:"button",onClick:()=>{nn(ae)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},ae.id)),ee.length===0?a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[a.jsxs(Re,{className:"min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:ke?`3) QR Kod Detay (#${ke.id})`:"3) QR Kod Detay"}),ke?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Ad:"})," ",ke.name||"-"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",ke.code_value]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Tip:"})," ",dv(ke.code_type)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Durum:"})," ",ke.is_active?"Aktif":"Pasif"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",ke.point_ids.length]})]}),ke.point_ids.length===0?a.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,a.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),a.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:ke.code_value}),W?a.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[a.jsx("img",{src:W,alt:`QR Kod ${ke.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{nn(ke)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),a.jsx("button",{type:"button",onClick:()=>{Pt(ke.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):a.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),a.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),z.length===0?a.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):a.jsx("div",{className:"space-y-2",children:z.map(ae=>a.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800",children:["#",ae.id," - ",ae.name]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",ae.lat,", ",ae.lon," | radius: ",ae.radius_m,"m"]})]}),a.jsx("button",{type:"button",onClick:()=>_e.mutate({codeId:ke.id,pointId:ae.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},ae.id))})]}):a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),a.jsxs(Re,{className:"min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),a.jsx("div",{className:"mt-3",children:a.jsx(cs,{value:C,onChange:M,placeholder:"Nokta adi / ID ara"})}),a.jsx("div",{className:"mt-3 max-h-56 overflow-auto overscroll-contain rounded-lg border border-slate-200 p-2",children:I.length===0?a.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):a.jsx("div",{className:"space-y-1",children:I.map(ae=>a.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[a.jsx("input",{type:"checkbox",checked:G.includes(ae.id),onChange:()=>Xe(ae.id)}),a.jsxs("span",{children:["#",ae.id," - ",ae.name," (",ae.radius_m,"m)"]})]},ae.id))})}),a.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",G.length]}),a.jsx("button",{type:"button",onClick:At,disabled:de.isPending||ke===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[a.jsxs(Re,{className:"min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:f===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${f})`}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),a.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Ht,children:[a.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",a.jsx("input",{value:P.name,onChange:ae=>R(Ae=>({...Ae,name:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",a.jsx("input",{type:"number",step:"any",value:P.lat,onChange:ae=>R(Ae=>({...Ae,lat:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",a.jsx("input",{type:"number",step:"any",value:P.lon,onChange:ae=>R(Ae=>({...Ae,lon:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),a.jsx(L3,{lat:je,lon:Me,radiusM:He,onSelect:(ae,Ae)=>R($e=>({...$e,lat:String(ae),lon:String(Ae)}))}),a.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",a.jsx("input",{type:"number",min:1,value:P.radiusM,onChange:ae=>R(Ae=>({...Ae,radiusM:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:P.isActive,onChange:ae=>R(Ae=>({...Ae,isActive:ae.target.checked}))}),"Aktif"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"submit",disabled:le.isPending||ue.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:f===null?"Olustur":"Guncelle"}),f!==null?a.jsx("button",{type:"button",onClick:kt,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),a.jsxs(Re,{className:"min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),a.jsx("div",{className:"mt-3",children:a.jsx(cs,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),a.jsx("div",{className:"mt-3 max-h-96 overflow-auto overscroll-contain rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-[920px] text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2",children:"ID"}),a.jsx("th",{className:"px-3 py-2",children:"Nokta"}),a.jsx("th",{className:"px-3 py-2",children:"Konum"}),a.jsx("th",{className:"px-3 py-2",children:"Durum"}),a.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),a.jsxs("tbody",{children:[D.map(ae=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-3 py-2",children:ae.id}),a.jsxs("td",{className:"px-3 py-2",children:[a.jsx("p",{className:"font-medium text-slate-800",children:ae.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",ae.radius_m,"m"]})]}),a.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[ae.lat,", ",ae.lon]}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ae.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ae.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx("button",{type:"button",onClick:()=>xt(ae),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),ae.is_active?a.jsx("button",{type:"button",onClick:()=>q.mutate(ae.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},ae.id)),D.length===0?a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const hv=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function U3(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState(""),[f,x]=_.useState(""),[v,b]=_.useState({}),[S,w]=_.useState(""),[C,M]=_.useState("09:00"),[k,A]=_.useState("17:30"),[O,B]=_.useState("60"),[P,R]=_.useState(!0),[G,V]=_.useState(null),W=Ue({queryKey:["departments"],queryFn:er}),Z=Ue({queryKey:["employees","all-for-quick-setup"],queryFn:()=>gi({include_inactive:!0,status:"all"})}),Y=Ue({queryKey:["department-weekly-rules"],queryFn:()=>vb()}),te=Ue({queryKey:["department-shifts"],queryFn:()=>mu({active_only:!1})}),fe=l?Number(l):null,xe=Ve({mutationFn:({employeeId:D,departmentId:I})=>oE(D,{department_id:I}),onSuccess:D=>{i({variant:"success",title:"Departman atamas gncellendi",description:`${D.full_name} iin departman kayd gncellendi.`}),e.invalidateQueries({queryKey:["employees"]}),e.invalidateQueries({queryKey:["employee-device-overview"]})},onError:D=>{i({variant:"error",title:"Departman gncellenemedi",description:Pe(D,"lem baarsz.").message})}}),de=Ve({mutationFn:bb,onSuccess:()=>{i({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),e.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:D=>{i({variant:"error",title:"Haftalk kural kaydedilemedi",description:Pe(D,"lem baarsz.").message})}}),_e=Ve({mutationFn:id,onSuccess:()=>{i({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),M("09:00"),A("17:30"),B("60"),R(!0),V(null),e.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{i({variant:"error",title:"Vardiya kaydedilemedi",description:Pe(D,"lem baarsz.").message})}}),le=Ve({mutationFn:_b,onSuccess:()=>{i({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),G!==null&&(V(null),w(""),M("09:00"),A("17:30"),B("60"),R(!0)),e.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{i({variant:"error",title:"Vardiya pasife alnamad",description:Pe(D,"lem baarsz.").message})}}),ue=Ve({mutationFn:({shift:D,nextActive:I})=>id({id:D.id,department_id:D.department_id,name:D.name,start_time_local:D.start_time_local,end_time_local:D.end_time_local,break_minutes:D.break_minutes,is_active:I}),onSuccess:(D,I)=>{i({variant:"success",title:I.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:I.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{i({variant:"error",title:"Vardiya durumu gncellenemedi",description:Pe(D,"lem baarsz.").message})}}),q=W.data??[],K=Z.data??[],ie=Y.data??[],ke=te.data??[],$=_.useMemo(()=>new Map(q.map(D=>[D.id,D.name])),[q]),z=_.useMemo(()=>fe?ke.filter(D=>D.department_id===fe):[],[fe,ke]),ee=_.useMemo(()=>K.find(D=>String(D.id)===d),[K,d]);return _.useEffect(()=>{if(!fe){b({});return}const D=new Map(ie.filter(ce=>ce.department_id===fe).map(ce=>[ce.weekday,ce])),I={};for(const ce of hv){const je=D.get(ce.value);I[ce.value]={is_workday:je?.is_workday??!0,planned_minutes:String(je?.planned_minutes??540),break_minutes:String(je?.break_minutes??60)}}b(I)},[fe,ie]),W.isLoading||Z.isLoading||Y.isLoading||te.isLoading?a.jsx(Lt,{}):W.isError||Z.isError||Y.isError||te.isError?a.jsx(Et,{message:"Hzl ayarlar verileri alnamad."}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[a.jsx(Ja,{label:"alan",employees:K,value:d,onChange:D=>{m(D);const I=K.find(ce=>String(ce.id)===D);x(I?.department_id?String(I.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",a.jsxs("select",{value:f,onChange:D=>x(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Atanmam"}),q.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[a.jsxs("div",{children:[a.jsxs("p",{children:["Seili alan:"," ",ee?`#${ee.id} - ${ee.full_name}`:"-"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",ee?.department_id?$.get(ee.department_id)??"-":"Atanmam"]})]}),a.jsx("button",{type:"button",disabled:!ee||xe.isPending,onClick:()=>{ee&&xe.mutate({employeeId:ee.id,departmentId:f?Number(f):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),a.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seiniz"}),q.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})]})}),fe?a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Gn"}),a.jsx("th",{className:"py-2",children:"alma Gn"}),a.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),a.jsx("th",{className:"py-2",children:"Mola Dakika"}),a.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),a.jsx("tbody",{children:hv.map(D=>{const I=v[D.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:D.label}),a.jsx("td",{className:"py-2",children:a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:I.is_workday,onChange:ce=>b(je=>({...je,[D.value]:{...I,is_workday:ce.target.checked}}))}),"alma gn"]})}),a.jsx("td",{className:"py-2",children:a.jsx("input",{value:I.planned_minutes,onChange:ce=>b(je=>({...je,[D.value]:{...I,planned_minutes:ce.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),a.jsx("td",{className:"py-2",children:a.jsx("input",{value:I.break_minutes,onChange:ce=>b(je=>({...je,[D.value]:{...I,break_minutes:ce.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),a.jsx("td",{className:"py-2 text-right",children:a.jsx("button",{type:"button",disabled:de.isPending,onClick:()=>{const ce=Number(I.planned_minutes),je=Number(I.break_minutes);if(!Number.isFinite(ce)||ce<0){i({variant:"error",title:"Geersiz planlanan dakika",description:`${D.label} iin say giriniz.`});return}if(!Number.isFinite(je)||je<0){i({variant:"error",title:"Geersiz mola dakikas",description:`${D.label} iin say giriniz.`});return}de.mutate({department_id:fe,weekday:D.value,is_workday:I.is_workday,planned_minutes:Math.trunc(ce),break_minutes:Math.trunc(je)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},D.value)})})]})}):a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),fe?a.jsxs(a.Fragment,{children:[a.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:D=>{if(D.preventDefault(),!S.trim()){i({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const I=Number(O);if(!Number.isFinite(I)||I<0){i({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}_e.mutate({id:G??void 0,department_id:fe,name:S.trim(),start_time_local:C,end_time_local:k,break_minutes:Math.trunc(I),is_active:P})},children:[G?a.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",G]}):null,a.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",a.jsx("input",{value:S,onChange:D=>w(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",a.jsx("input",{type:"time",value:C,onChange:D=>M(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",a.jsx("input",{type:"time",value:k,onChange:D=>A(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",a.jsx("input",{value:O,onChange:D=>B(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:D=>R(D.target.checked)}),"Aktif"]}),a.jsx("button",{type:"submit",disabled:_e.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_e.isPending?"Kaydediliyor...":G?"Vardiya Gncelle":"Vardiya Kaydet"}),G?a.jsx("button",{type:"button",onClick:()=>{V(null),w(""),M("09:00"),A("17:30"),B("60"),R(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Vardiya"}),a.jsx("th",{className:"py-2",children:"Saat Aral"}),a.jsx("th",{className:"py-2",children:"Mola"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),a.jsx("tbody",{children:z.map(D=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:D.name}),a.jsxs("td",{className:"py-2",children:[D.start_time_local," - ",D.end_time_local]}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:D.break_minutes})}),a.jsx("td",{className:"py-2",children:D.is_active?"Aktif":"Pasif"}),a.jsx("td",{className:"py-2 text-right",children:a.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{V(D.id),w(D.name),M(D.start_time_local),A(D.end_time_local),B(String(D.break_minutes)),R(D.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),D.is_active?a.jsx("button",{type:"button",disabled:le.isPending||ue.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&le.mutate(D.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):a.jsx("button",{type:"button",disabled:ue.isPending||le.isPending,onClick:()=>ue.mutate({shift:D,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},D.id))})]})}),z.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const fv=Da({name:Un().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:Ed()});function pv(e){return Jt.isAxiosError(e)&&e.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Pe(e,"Bolge islemi basarisiz.").message}function F3(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState(!0),[f,x]=_.useState(""),[v,b]=_.useState(!0),[S,w]=_.useState(null),[C,M]=_.useState(""),[k,A]=_.useState(!0),[O,B]=_.useState(null),P=Ue({queryKey:["regions",v],queryFn:()=>bd({include_inactive:v})}),R=Ve({mutationFn:K2,onSuccess:Y=>{o(""),m(!0),B(null),i({variant:"success",title:"Bolge olusturuldu",description:`${Y.name} basariyla eklendi.`}),e.invalidateQueries({queryKey:["regions"]})},onError:Y=>{const te=pv(Y);B(te),i({variant:"error",title:"Bolge olusturulamadi",description:te})}}),G=Ve({mutationFn:({regionId:Y,payload:te})=>Q2(Y,te),onSuccess:Y=>{B(null),w(null),M(""),A(!0),i({variant:"success",title:"Bolge guncellendi",description:`${Y.name} guncellendi.`}),e.invalidateQueries({queryKey:["regions"]})},onError:Y=>{const te=pv(Y);B(te),i({variant:"error",title:"Bolge guncellenemedi",description:te})}}),V=Y=>{Y.preventDefault(),B(null);const te=fv.safeParse({name:l,is_active:d});if(!te.success){const fe=te.error.issues[0]?.message??"Bolge formunu kontrol edin.";B(fe);return}R.mutate(te.data)},W=Y=>{if(Y.preventDefault(),B(null),!S)return;const te=fv.safeParse({name:C,is_active:k});if(!te.success){const fe=te.error.issues[0]?.message??"Bolge formunu kontrol edin.";B(fe);return}G.mutate({regionId:S,payload:te.data})},Z=_.useMemo(()=>{const Y=P.data??[],te=f.trim().toLowerCase();return te?Y.filter(fe=>fe.name.toLowerCase().includes(te)):Y},[P.data,f]);return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),a.jsxs(Re,{children:[a.jsxs("form",{onSubmit:V,className:"grid gap-3 md:grid-cols-4",children:[a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",a.jsx("input",{value:l,onChange:Y=>o(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:Y=>m(Y.target.checked)}),"Aktif"]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"submit",disabled:R.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:R.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),O?a.jsx("p",{className:"form-validation mt-2",children:O}):null]}),S?a.jsxs(Re,{children:[a.jsxs("form",{onSubmit:W,className:"grid gap-3 md:grid-cols-4",children:[a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",a.jsx("input",{value:C,onChange:Y=>M(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:Y=>A(Y.target.checked)}),"Aktif"]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{type:"submit",disabled:G.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Guncelleniyor...":"Kaydet"}),a.jsx("button",{type:"button",onClick:()=>{w(null),M(""),A(!0),B(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),O?a.jsx("p",{className:"form-validation mt-2",children:O}):null]}):null,P.isLoading?a.jsx(Lt,{}):null,P.isError?a.jsx(Et,{message:"Bolge listesi alinamadi."}):null,!P.isLoading&&!P.isError?a.jsxs(Re,{children:[a.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[a.jsx(cs,{value:f,onChange:x,placeholder:"Bolge adina gore ara..."}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:Y=>b(Y.target.checked)}),"Pasif bolgeleri goster"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Bolge ID"}),a.jsx("th",{className:"py-2",children:"Bolge Adi"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Islem"})]})}),a.jsx("tbody",{children:Z.map(Y=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Y.id}),a.jsx("td",{className:"py-2",children:Y.name}),a.jsx("td",{className:"py-2",children:a.jsx(Ws,{value:Y.is_active?"Aktif":"Pasif"})}),a.jsx("td",{className:"py-2",children:a.jsx("button",{type:"button",onClick:()=>{w(Y.id),M(Y.name),A(Y.is_active),B(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},Y.id))})]})}),Z.length===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function Lr(e){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(e))}function q3(e){return e==="SENT"?"bg-emerald-100 text-emerald-700":e==="FAILED"?"bg-rose-100 text-rose-700":e==="CANCELED"?"bg-slate-200 text-slate-700":e==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function Z3(e){return e==="SENT"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}function gv(e){return e==="admins"?"ADMIN":e==="employees"?"CALISAN":e==="both"?"HER IKISI":e.toUpperCase()}function H3(e){return e==="DAILY_REPORT_JOB_MISSING"?"Job olusmamis":e==="DAILY_REPORT_ARCHIVE_MISSING"?"Arsiv olusmamis":e==="DAILY_REPORT_JOB_STUCK"?"Job takilmis":e==="DAILY_REPORT_JOB_FAILED"?"Job hatali":e==="DAILY_REPORT_DELIVERY_EMPTY"?"Teslimat bos":e==="DAILY_REPORT_TARGET_ZERO"?"Hedef 0":e==="DAILY_REPORT_ARCHIVE_MISMATCH"?"Arsiv eslesmiyor":e==="DAILY_REPORT_HEALTH_QUERY_FAILED"?"Health sorgusu hatali":e}function K3(e){return e?(e.alarms??[]).length>0?"border-rose-200 bg-rose-50 text-rose-800":!e.job_exists||!e.archive_exists?"border-amber-200 bg-amber-50 text-amber-800":e.status==="SENT"&&e.delivery_succeeded?"border-emerald-200 bg-emerald-50 text-emerald-800":e.status==="FAILED"?"border-rose-200 bg-rose-50 text-rose-800":"border-sky-200 bg-sky-50 text-sky-800":"border-slate-200 bg-slate-50 text-slate-700"}function Q3(e,i){const l=window.URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=i,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}const Ga=35,g_="pf_admin_push_vapid_public_key";async function G3(e){if(!("serviceWorker"in navigator)||!("PushManager"in window))throw new Error("Bu tarayici push bildirimlerini desteklemiyor.");if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted")throw new Error("Bildirim izni verilmedi.");const o=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let d=await o.pushManager.getSubscription();const m=window.localStorage.getItem(g_);if(d&&m&&m!==e){try{await d.unsubscribe()}catch{}d=null}return d||(d=await o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ap(e)})),d}function V3(){const e=qn(),{pushToast:i}=Zn(),{user:l}=Kl(),[o,d]=fd(),[m,f]=_.useState("Puantaj Bildirimi"),[x,v]=_.useState(""),[b,S]=_.useState(""),[w,C]=_.useState("employees"),[M,k]=_.useState(15),[A,O]=_.useState(""),[B,P]=_.useState(1),[R,G]=_.useState(1),[V,W]=_.useState(""),[Z,Y]=_.useState(""),[te,fe]=_.useState([]),[xe,de]=_.useState([]),[_e,le]=_.useState(null),[ue,q]=_.useState(!1),[K,ie]=_.useState(""),[ke,$]=_.useState(""),[z,ee]=_.useState(""),[D,I]=_.useState(1),[ce,je]=_.useState(""),[Me,He]=_.useState(null),[Xe,rt]=_.useState(""),[Se,ct]=_.useState(""),[xt,kt]=_.useState("Puantaj test email bildirimi"),[_t,Ht]=_.useState("Bu mesaj admin bildirim email testidir."),At=Ue({queryKey:["employees","notify"],queryFn:()=>gi({status:"active"})}),Pt=Ue({queryKey:["admin-users","notify"],queryFn:xb}),nn=Ue({queryKey:["admin-push-config"],queryFn:kf}),ae=Ue({queryKey:["admin-daily-report-health"],queryFn:ME,refetchInterval:3e4,retry:!1}),Ae=Ue({queryKey:["admin-notification-email-targets"],queryFn:OE,retry:!1}),$e=Ue({queryKey:["admin-push-self-check"],queryFn:LE,refetchInterval:15e3,retry:!1}),it=Ue({queryKey:["notification-jobs",A,B],queryFn:()=>EE({status:A||void 0,offset:(B-1)*Ga,limit:Ga}),refetchInterval:1e4}),ne=Ue({queryKey:["notification-delivery-logs",R],queryFn:()=>kE({offset:(R-1)*Ga,limit:Ga}),refetchInterval:15e3}),Oe=Ue({queryKey:["notify-subs-emp"],queryFn:()=>CE({}),refetchInterval:15e3}),be=Ue({queryKey:["notify-subs-admin"],queryFn:()=>AE({}),refetchInterval:15e3}),qe=Ue({queryKey:["daily-archives",K,ke,z,D],queryFn:()=>UE({offset:(D-1)*Ga,limit:Ga,start_date:K||void 0,end_date:ke||void 0,employee_query:z.trim()||void 0})}),mt=_.useMemo(()=>{const Q=V.trim().toLowerCase();return Q?(At.data??[]).filter(Ke=>`${Ke.id} ${Ke.full_name}`.toLowerCase().includes(Q)):At.data??[]},[At.data,V]),nt=_.useMemo(()=>{const Q=Z.trim().toLowerCase();return Q?(Pt.data??[]).filter(Ke=>`${Ke.id} ${Ke.username}`.toLowerCase().includes(Q)):Pt.data??[]},[Pt.data,Z]),Tt=_.useMemo(()=>{const Q=ce.trim().toLowerCase(),Ke=ne.data?.items??[];return Q?Ke.filter(Ct=>[Ct.recipient_name??"",String(Ct.recipient_id??""),String(Ct.device_id??""),Ct.ip??"",Ct.status,Ct.target,Ct.title??"",Ct.sender_admin].join(" ").toLowerCase().includes(Q)):Ke},[ne.data,ce]),se=_.useMemo(()=>Tt.filter(Q=>Q.status==="SENT").length,[Tt]),Qe=_.useMemo(()=>Tt.filter(Q=>Q.status==="FAILED").length,[Tt]),J=_.useMemo(()=>Tt.find(Q=>Q.audit_id===Me)??null,[Tt,Me]),Fe=it.data?.items??[],lt=it.data?.total??0,pt=Math.max(1,Math.ceil(lt/Ga)),Bt=lt===0?0:(B-1)*Ga+1,ni=Fe.length===0?0:Bt+Fe.length-1,Hn=ne.data?.total??0,yn=Math.max(1,Math.ceil(Hn/Ga)),Xn=Hn===0?0:(R-1)*Ga+1,_a=Tt.length===0?0:Xn+Tt.length-1,Kn=qe.data?.items??[],Qn=qe.data?.total??0,vn=Math.max(1,Math.ceil(Qn/Ga)),xi=Qn===0?0:(D-1)*Ga+1,ms=Kn.length===0?0:xi+Kn.length-1,yi=(be.data??[]).length,Dn=yi>0,Bi=(l?.username??"").trim().toLowerCase(),Na=typeof l?.admin_user_id=="number"&&l.admin_user_id>0?l.admin_user_id:null,vi=_.useMemo(()=>{const Q=be.data??[];let Ke=0,Ct=0,ra=0;for(const Ni of Q){const ji=Na!==null&&Ni.admin_user_id===Na,gt=Bi.length>0&&(Ni.admin_username||"").trim().toLowerCase()===Bi;ji&&(Ke+=1),gt&&(Ct+=1),(ji||gt)&&(ra+=1)}return{total:ra,byId:Ke,byUsername:Ct}},[be.data,Na,Bi]),Ui=$e.data,De=Ui?.self_check_ok!==!1?Ui:void 0,bi=De?.active_claims_for_actor??vi.total,_i=De?.active_claims_for_actor_by_id??vi.byId,Jn=De?.active_claims_for_actor_by_username??vi.byUsername,Yt=bi>0,st=ae.data,Wn=st?.alarms?.length??0,sa=st?.status??(st?.job_exists?"BILINMIYOR":"YOK"),hs=Wn===0&&!!st?.job_exists&&!!st?.archive_exists&&st?.status==="SENT"&&!!st?.delivery_succeeded,Fi=Ae.data?.active_recipients??[],qi=Ae.data?.active_count??0;_.useEffect(()=>{Ae.data&&rt(Q=>Q.trim().length>0?Q:Fi.join(`
`))},[Ae.data,Fi]);const ai=Ve({mutationFn:IE,onSuccess:Q=>{le(Q),i({variant:"success",title:"Davet hazir",description:"Link admin cihaza gonderildi."}),navigator.clipboard.writeText(Q.invite_url)},onError:Q=>i({variant:"error",title:"Davet hatasi",description:Pe(Q,"Davet olusturulamadi").message})}),U=Ve({mutationFn:PE,onSuccess:Q=>{Q.total_targets<=0||Q.sent<=0?i({variant:"error",title:"Self-test basarisiz",description:`Hedef: ${Q.total_targets} | Gonderilen: ${Q.sent} | Hata: ${Q.failed}`}):i({variant:"success",title:"Self-test bildirimi gonderildi",description:`Hedef: ${Q.total_targets} | Gonderilen: ${Q.sent}`}),e.invalidateQueries({queryKey:["admin-push-self-check"]}),e.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:Q=>{const Ke=Pe(Q,"Self-test bildirimi gonderilemedi.");i({variant:"error",title:"Self-test hatasi",description:Ke.message})}}),Ie=Ve({mutationFn:async()=>{const Q=await kf();if(!Q.enabled||!Q.vapid_public_key)throw new Error("Push bildirim servisi yapilandirilmamis.");const Ke=await G3(Q.vapid_public_key),Ct=await jb({subscription:Ke.toJSON(),send_test:!0});return window.localStorage.setItem(g_,Q.vapid_public_key),Ct},onSuccess:Q=>{i({variant:Q.test_push_ok?"success":"error",title:Q.test_push_ok?"Heal tamamlandi":"Heal tamamlandi ama test hatali",description:Q.test_push_ok?`Abonelik yenilendi (#${Q.subscription_id}) ve test bildirimi gonderildi.`:`Abonelik yenilendi (#${Q.subscription_id}) ancak test bildirimi hatali.`}),e.invalidateQueries({queryKey:["admin-push-self-check"]}),e.invalidateQueries({queryKey:["notify-subs-admin"]}),e.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:Q=>{if(Q instanceof Error&&!("response"in Q)){i({variant:"error",title:"Heal hatasi",description:Q.message});return}const Ke=Pe(Q,"Cihaz heal islemi basarisiz oldu.");i({variant:"error",title:"Heal hatasi",description:Ke.message})}}),Nt=Ve({mutationFn:async()=>{const Q=Array.from(new Set(Xe.split(/[\n,;]+/g).map(Ke=>Ke.trim().toLowerCase()).filter(Ke=>Ke.length>0)));return DE({emails:Q})},onSuccess:Q=>{rt((Q.active_recipients??[]).join(`
`)),i({variant:"success",title:"Mail alicilari guncellendi",description:`Aktif alici: ${Q.active_count}`}),e.invalidateQueries({queryKey:["admin-notification-email-targets"]})},onError:Q=>{const Ke=Pe(Q,"Mail alicilari kaydedilemedi.");i({variant:"error",title:"Kayit hatasi",description:Ke.message})}}),bn=Ve({mutationFn:async()=>{const Q=Se.trim();return RE({recipients:Q?[Q]:void 0,subject:xt.trim()||void 0,message:_t.trim()||void 0})},onSuccess:Q=>{if(!Q.ok){i({variant:"error",title:"Test mail gonderilemedi",description:`${Q.error??Q.mode} | Alici: ${Q.recipients.join(", ")||"-"}`});return}i({variant:"success",title:"Test mail gonderildi",description:`Alici: ${Q.recipients.join(", ")} | Sent: ${Q.sent}`})},onError:Q=>{const Ke=Pe(Q,"Test mail gonderilemedi.");i({variant:"error",title:"Test mail hatasi",description:Ke.message})}}),ja=Ve({mutationFn:Sb,onSuccess:(Q,Ke)=>{const Ct=Ke.target==="admins"||Ke.target==="both";Q.total_targets<=0?i({variant:"error",title:"Bildirim gonderilemedi",description:"Hedef 0. Aktif abonelik yok; once cihaz claim edin."}):Q.sent<=0?i({variant:"error",title:"Bildirim gonderilemedi",description:`Hedef: ${Q.total_targets} / Gonderilen: ${Q.sent} / Hata: ${Q.failed}`}):(i({variant:"success",title:"Bildirim gonderildi",description:`Hedef: ${Q.total_targets} / Gonderilen: ${Q.sent}`}),Ct&&!Yt&&i({variant:"error",title:"Bu hesapta claim eksik",description:"Admin hedefli gonderim yapildi ancak bu hesapta aktif claim olmadigi icin sana dusmeyebilir."})),Ct&&Q.admin_target_missing&&i({variant:"error",title:"Admin hedefi 0",description:"Calisan bildirimi gitmis olabilir ama admin hedefinde aktif abonelik yok. Admin claim zorunlu."}),e.invalidateQueries({queryKey:["notification-jobs"]}),e.invalidateQueries({queryKey:["notification-delivery-logs"]}),e.invalidateQueries({queryKey:["admin-push-self-check"]})},onError:Q=>i({variant:"error",title:"Gonderim hatasi",description:Pe(Q,"Bildirim gonderilemedi").message})}),Wt=Ve({mutationFn:TE,onSuccess:()=>{e.invalidateQueries({queryKey:["notification-jobs"]})}}),ii=Ve({mutationFn:qE,onSuccess:(Q,Ke)=>{const Ct=(qe.data?.items??[]).find(ra=>ra.id===Ke);Q3(Q,Ct?.file_name??`arsiv-${Ke}.xlsx`)}}),ar=Ve({mutationFn:Q=>QE(Q),onSuccess:Q=>{Q.total_targets<=0||Q.sent<=0?i({variant:"error",title:"Arsiv bildirimi gonderilemedi",description:`Hedef: ${Q.total_targets} | Gonderilen: ${Q.sent} | Hata: ${Q.failed}. Aktif admin cihazi claim edilmeli.`}):(i({variant:"success",title:"Arsiv bildirimi gonderildi",description:`Hedef: ${Q.total_targets} | Gonderilen: ${Q.sent} | Hata: ${Q.failed}`}),Yt||i({variant:"error",title:"Bu hesapta claim eksik",description:"Bildirim gitti ama bu admin hesabinda aktif cihaz claim olmadigi icin sana dusmeyebilir."})),e.invalidateQueries({queryKey:["notification-jobs"]}),e.invalidateQueries({queryKey:["admin-daily-report-health"]})},onError:Q=>{const Ke=Pe(Q,"Arsiv bildirimi gonderilemedi.");Ke.code==="ADMIN_PUSH_SUBSCRIPTION_REQUIRED"?i({variant:"error",title:"Admin hedefi 0",description:"Aktif admin push aboneligi yok. Once admin cihazini claim edip tekrar deneyin."}):i({variant:"error",title:"Arsiv bildirimi basarisiz",description:Ke.message}),e.invalidateQueries({queryKey:["admin-daily-report-health"]})}});return _.useEffect(()=>{if(ue)return;const Q=o.get("archive_id");if(!Q)return;const Ke=Number(Q);if(!Number.isInteger(Ke)||Ke<=0){q(!0);return}if(!(qe.data?.items??[]).find(Ni=>Ni.id===Ke))return;q(!0),ii.mutate(Ke);const ra=new URLSearchParams(o);ra.delete("archive_id"),d(ra,{replace:!0})},[ue,qe.data,ii,o,d]),_.useEffect(()=>{P(1)},[A]),_.useEffect(()=>{it.data&&P(Q=>Q<1?1:Q>pt?pt:Q)},[it.data,pt]),_.useEffect(()=>{G(1)},[ce]),_.useEffect(()=>{ne.data&&G(Q=>Q<1?1:Q>yn?yn:Q)},[ne.data,yn]),_.useEffect(()=>{I(1)},[K,ke,z]),_.useEffect(()=>{if(Tt.length===0){He(null);return}(Me===null||!Tt.some(Q=>Q.audit_id===Me))&&He(Tt[0].audit_id)},[Tt,Me]),_.useEffect(()=>{qe.data&&I(Q=>Q<1?1:Q>vn?vn:Q)},[qe.data,vn]),a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Bildirim Merkezi",description:"Push, claim daveti, job yonetimi ve gunluk Excel arsivi."}),a.jsxs(Re,{children:[a.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet suresi (dk)",a.jsx("input",{type:"number",min:1,max:1440,value:M,onChange:Q=>k(Number(Q.target.value||15)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),a.jsx("button",{type:"button",onClick:()=>ai.mutate({expires_in_minutes:M}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki uret"}),a.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",nn.data?.enabled?"Aktif":"Pasif"]})]}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link otomatik kopyalanir. Guvenlik icin kisa sure onerilir (ornegin 10-30 dk). Ekran: /admin-panel/device-claim?token=..."}),_e?a.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[a.jsxs("p",{children:["Token: ",_e.token]}),a.jsxs("p",{className:"break-all",children:["Link: ",_e.invite_url]}),a.jsxs("p",{children:["Bitis: ",Lr(_e.expires_at)]})]}):null]}),a.jsx(Re,{children:a.jsxs("form",{className:"space-y-3",onSubmit:Q=>{Q.preventDefault(),ja.mutate({title:m.trim(),message:x.trim(),password:b.trim(),target:w,employee_ids:w!=="admins"&&te.length>0?te:void 0,admin_user_ids:w!=="employees"&&xe.length>0?xe:void 0})},children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gonder"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[a.jsx("input",{value:m,onChange:Q=>f(Q.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Baslik"}),a.jsx("input",{type:"password",value:b,onChange:Q=>S(Q.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin sifresi"}),a.jsxs("select",{value:w,onChange:Q=>C(Q.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"employees",children:"Calisanlara"}),a.jsx("option",{value:"admins",children:"Adminlere"}),a.jsx("option",{value:"both",children:"Her ikisine"})]})]}),a.jsx("textarea",{value:x,onChange:Q=>v(Q.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),w!=="admins"?a.jsxs("div",{children:[a.jsx(cs,{value:V,onChange:W,placeholder:"Calisan filtrele..."}),a.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:mt.map(Q=>a.jsxs("label",{className:"flex items-center justify-between py-1",children:[a.jsxs("span",{children:["#",Q.id," - ",Q.full_name]}),a.jsx("input",{type:"checkbox",checked:te.includes(Q.id),onChange:()=>fe(Ke=>Ke.includes(Q.id)?Ke.filter(Ct=>Ct!==Q.id):[...Ke,Q.id])})]},Q.id))})]}):null,w!=="employees"?a.jsxs("div",{children:[a.jsx(cs,{value:Z,onChange:Y,placeholder:"Admin filtrele..."}),a.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:nt.map(Q=>a.jsxs("label",{className:"flex items-center justify-between py-1",children:[a.jsxs("span",{children:["#",Q.id," - ",Q.username]}),a.jsx("input",{type:"checkbox",checked:xe.includes(Q.id),onChange:()=>de(Ke=>Ke.includes(Q.id)?Ke.filter(Ct=>Ct!==Q.id):[...Ke,Q.id])})]},Q.id))})]}):null,a.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gonder"})]})}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Isleri"}),a.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[a.jsxs("select",{value:A,onChange:Q=>O(Q.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"Tumu"}),a.jsx("option",{value:"PENDING",children:"PENDING"}),a.jsx("option",{value:"SENDING",children:"SENDING"}),a.jsx("option",{value:"SENT",children:"SENT"}),a.jsx("option",{value:"FAILED",children:"FAILED"}),a.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),a.jsx("button",{type:"button",onClick:()=>{it.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),it.isLoading?a.jsx(Lt,{label:"Yukleniyor..."}):null,it.isError?a.jsx(Et,{message:"Job listesi alinamadi."}):null,!it.isLoading&&!it.isError?a.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[a.jsxs("span",{children:["Gosterilen satir: ",Bt,"-",ni," / ",lt]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>P(Q=>Math.max(1,Q-1)),disabled:B<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),a.jsxs("span",{children:["Sayfa ",B," / ",pt]}),a.jsx("button",{type:"button",onClick:()=>P(Q=>Math.min(pt,Q+1)),disabled:B>=pt,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,a.jsx("div",{className:"mt-2 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"sticky top-0 bg-white",children:a.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[a.jsx("th",{className:"px-2 py-2",children:"Sira"}),a.jsx("th",{className:"px-2 py-2",children:"ID"}),a.jsx("th",{className:"px-2 py-2",children:"Tur"}),a.jsx("th",{className:"px-2 py-2",children:"Durum"}),a.jsx("th",{className:"px-2 py-2",children:"Planlanan"}),a.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),a.jsx("tbody",{children:Fe.map((Q,Ke)=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-2 py-2 text-slate-500",children:Bt+Ke}),a.jsx("td",{className:"px-2 py-2",children:Q.id}),a.jsx("td",{className:"px-2 py-2",children:Q.job_type}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("span",{className:`rounded px-2 py-1 text-xs ${q3(Q.status)}`,children:Q.status})}),a.jsx("td",{className:"px-2 py-2",children:Lr(Q.scheduled_at_utc)}),a.jsx("td",{className:"px-2 py-2",children:Q.status==="PENDING"||Q.status==="SENDING"?a.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>Wt.mutate(Q.id),children:"Iptal"}):"-"})]},Q.id))})]})}),!it.isLoading&&!it.isError&&lt===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun bildirim isi bulunamadi."}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik Ozeti"}),a.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Calisan abonelik: ",(Oe.data??[]).length]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(be.data??[]).length]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv dosyasi: ",Qn]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat log satiri: ",Hn]})]}),Dn?null:a.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:'Aktif admin push aboneligi yok. "Admin cihaz claim linki uret" adimini tamamlamadan bildirim gonderilemez.'})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Admin Push Self-Check"}),a.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin: ",a.jsx("strong",{children:l?.username??"-"})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin ID: ",a.jsx("strong",{children:l?.admin_user_id??"-"})]}),a.jsxs("div",{className:`rounded border p-3 text-sm ${Yt?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Bu hesap claim: ",a.jsx("strong",{children:bi})," (id:",_i," / user:",Jn,")"]}),a.jsxs("div",{className:`rounded border p-3 text-sm ${De?.push_enabled??nn.data?.enabled?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Push config:"," ",a.jsx("strong",{children:De?.push_enabled??nn.data?.enabled?"Aktif":"Pasif"})]})]}),a.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam aktif admin claim: ",a.jsx("strong",{children:De?.active_total_subscriptions??yi})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Son claim gorulme:"," ",a.jsx("strong",{children:De?.latest_claim_seen_at?Lr(De.latest_claim_seen_at):"-"})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Claim saglik:"," ",a.jsxs("strong",{children:["saglikli ",De?.active_claims_healthy??0," / ","hatali ",De?.active_claims_with_error??0," / ","stale ",De?.active_claims_stale??0]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>U.mutate(),disabled:U.isPending||Ie.isPending,className:"rounded border border-brand-300 px-3 py-2 text-sm text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:U.isPending?"Self-test gonderiliyor...":"Kendime test bildirimi gonder"}),a.jsx("button",{type:"button",onClick:()=>Ie.mutate(),disabled:Ie.isPending||U.isPending,className:"rounded border border-emerald-300 px-3 py-2 text-sm text-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:Ie.isPending?"Heal calisiyor...":"Bu cihazi heal et"})]})})]}),a.jsxs("div",{className:"mt-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:["Son self-test:"," ",a.jsx("strong",{children:De?.last_self_test_at?Lr(De.last_self_test_at):"-"})," | ","Durum:"," ",a.jsx("strong",{children:De?.last_self_test_success===null?"-":De?.last_self_test_success?"BASARILI":"HATALI"})," | ","Hedef:"," ",a.jsx("strong",{children:De?.last_self_test_total_targets??"-"})," | ","Gonderilen:"," ",a.jsx("strong",{children:De?.last_self_test_sent??"-"})," | ","Hata:"," ",a.jsx("strong",{children:De?.last_self_test_failed??"-"})]}),$e.isError?a.jsx("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Self-check verisi alinamadi. Fallback olarak abonelik listesi kullaniliyor."}):null,$e.data?.self_check_ok===!1?a.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Self-check degradasyona dustu: ",$e.data.self_check_error||"bilinmeyen hata",". Fallback olarak abonelik listesi kullaniliyor."]}):null,Yt?null:a.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Bu admin hesabinda aktif cihaz claim gorunmuyor. Bildirim almak icin telefonda claim linkini acip izin adimini tamamla."}),De?.latest_claim_error?a.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Son claim hatasi: ",De.latest_claim_error]}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mail Bildirim Ayarlari"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gece gunluk Excel arsiv job'unda mail gonderimi zorunludur. Alicilari burada yonetin."}),a.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Aktif mail alicisi: ",a.jsx("strong",{children:qi})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Son health email: ",a.jsx("strong",{children:st?.email_sent??0})]}),a.jsx("button",{type:"button",onClick:()=>{Ae.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Mail listesini yenile"})]}),Ae.isError?a.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Mail hedefleri yuklenemedi."}):null,qi<=0?a.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Aktif mail alicisi yok. Gece rapor maili zorunlu oldugu icin job hata verir."}):null,a.jsxs("label",{className:"mt-3 block text-xs text-slate-600",children:["Alici listesi (satir satir veya virgul ile)",a.jsx("textarea",{value:Xe,onChange:Q=>rt(Q.target.value),rows:5,placeholder:`ornek@domain.com
destek@domain.com`,className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>Nt.mutate(),disabled:Nt.isPending,className:"rounded border border-brand-300 bg-brand-50 px-3 py-2 text-sm text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:Nt.isPending?"Kaydediliyor...":"Mail alicilarini kaydet"}),a.jsx("button",{type:"button",onClick:()=>rt(Fi.join(`
`)),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Listeyi geri al"})]}),a.jsxs("div",{className:"mt-4 rounded border border-slate-200 bg-slate-50 p-3",children:[a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Test mail gonder"}),a.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"Alici bos birakilirsa kayitli tum aktif adreslere test mail gonderilir."}),a.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-3",children:[a.jsxs("label",{className:"text-xs text-slate-600",children:["Test alici (opsiyonel)",a.jsx("input",{value:Se,onChange:Q=>ct(Q.target.value),placeholder:"tekbir@adres.com",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),a.jsxs("label",{className:"text-xs text-slate-600 md:col-span-2",children:["Konu",a.jsx("input",{value:xt,onChange:Q=>kt(Q.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]})]}),a.jsxs("label",{className:"mt-2 block text-xs text-slate-600",children:["Mesaj",a.jsx("textarea",{value:_t,onChange:Q=>Ht(Q.target.value),rows:3,className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),a.jsx("button",{type:"button",onClick:()=>bn.mutate(),disabled:bn.isPending,className:"mt-2 rounded border border-slate-300 px-3 py-2 text-sm disabled:cursor-not-allowed disabled:opacity-60",children:bn.isPending?"Test gonderiliyor...":"Test mail gonder"})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Teslimat Logu"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Kime gitti / gitmedi, isim-ID, cihaz, IP ve hata bilgisini izleyin."}),a.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam satir: ",Hn]}),a.jsxs("div",{className:"rounded border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Gonderildi: ",se]}),a.jsxs("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:["Gonderilemedi: ",Qe]}),a.jsx("button",{type:"button",onClick:()=>{ne.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Logu yenile"})]}),a.jsx("div",{className:"mt-3",children:a.jsx(cs,{value:ce,onChange:je,placeholder:"Isim, ID, cihaz, IP, baslik, durum ara..."})}),!ne.isLoading&&!ne.isError?a.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[a.jsxs("span",{children:["Gosterilen satir: ",Xn,"-",_a," / ",Hn]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>G(Q=>Math.max(1,Q-1)),disabled:R<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),a.jsxs("span",{children:["Sayfa ",R," / ",yn]}),a.jsx("button",{type:"button",onClick:()=>G(Q=>Math.min(yn,Q+1)),disabled:R>=yn,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,ne.isLoading?a.jsx(Lt,{label:"Teslimat logu yukleniyor..."}):null,ne.isError?a.jsx(Et,{message:"Teslimat logu alinamadi."}):null,!ne.isLoading&&!ne.isError?a.jsxs("div",{className:"mt-3 grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[a.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),a.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"delivery-terminal"})]}),a.jsxs("span",{className:"text-[11px] text-slate-400",children:[Xn,"-",_a," / ",Hn]})]}),a.jsxs("div",{className:"max-h-[520px] overflow-auto",children:[a.jsxs("table",{className:"min-w-full table-fixed text-left text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-slate-900/95 text-[11px] uppercase text-slate-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-36 px-2 py-2",children:"Zaman"}),a.jsx("th",{className:"w-24 px-2 py-2",children:"Durum"}),a.jsx("th",{className:"w-24 px-2 py-2",children:"Hedef"}),a.jsx("th",{className:"w-56 px-2 py-2",children:"Kisi"}),a.jsx("th",{className:"w-20 px-2 py-2",children:"Cihaz"}),a.jsx("th",{className:"w-36 px-2 py-2",children:"IP"}),a.jsx("th",{className:"w-48 px-2 py-2",children:"Baslik"}),a.jsx("th",{className:"w-64 px-2 py-2",children:"Hata"})]})}),a.jsx("tbody",{children:Tt.map((Q,Ke)=>{const Ct=Q.audit_id===Me;return a.jsxs("tr",{onClick:()=>He(Q.audit_id),className:`cursor-pointer border-t border-slate-800 ${Ct?"bg-cyan-900/35":"hover:bg-slate-800/55"}`,children:[a.jsx("td",{className:"px-2 py-2 text-slate-300",children:Lr(Q.sent_at_utc)}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("span",{className:`rounded px-2 py-0.5 text-[11px] font-semibold ${Z3(Q.status)}`,children:Q.status})}),a.jsx("td",{className:"px-2 py-2 text-slate-300",children:gv(Q.target)}),a.jsxs("td",{className:"px-2 py-2 text-slate-300 truncate",title:`#${Q.recipient_id??"-"} - ${Q.recipient_name??"-"}`,children:["#",Q.recipient_id??"-"," - ",Q.recipient_name??"-"]}),a.jsx("td",{className:"px-2 py-2 text-slate-300",children:Q.device_id??"-"}),a.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:Q.ip??"-",children:Q.ip??"-"}),a.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:Q.title??"-",children:Q.title??"-"}),a.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:Q.error??"-",children:Q.error??"-"})]},`${Q.audit_id}-${Q.recipient_type}-${Q.recipient_id??0}-${Q.device_id??0}-${Ke}`)})})]}),Tt.length===0?a.jsx("p",{className:"px-3 py-3 text-sm text-amber-300",children:"Filtreye uygun teslimat kaydi bulunamadi."}):null]})]}),a.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Secili teslimat detayi"}),J===null?a.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayit secin."}):a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",Lr(J.sent_at_utc)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Durum:"})," ",J.status]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Hedef tipi:"})," ",J.recipient_type==="employee"?"CALISAN":"ADMIN"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Hedef:"})," ",gv(J.target)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Kisi:"})," #",J.recipient_id??"-"," -"," ",J.recipient_name??"-"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Cihaz:"})," ",J.device_id??"-"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"IP:"})," ",J.ip??"-"]}),a.jsxs("p",{className:"break-words",children:[a.jsx("span",{className:"font-semibold",children:"Baslik:"})," ",J.title??"-"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Gonderen:"})," ",J.sender_admin]}),a.jsxs("p",{className:"break-all",children:[a.jsx("span",{className:"font-semibold",children:"Endpoint:"})," ",J.endpoint??"-"]}),a.jsxs("p",{className:"break-all",children:[a.jsx("span",{className:"font-semibold",children:"Hata:"})," ",J.error??"-"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),a.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(J,null,2)})]})]})]})]}):null]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gunluk Excel Arsivi"}),a.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:`rounded border p-3 text-sm ${K3(st)}`,children:["Gece job durumu: ",a.jsx("strong",{children:sa}),a.jsxs("div",{className:"mt-1 text-xs",children:["Alarm: ",a.jsx("strong",{children:Wn})]})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Rapor tarihi: ",a.jsx("strong",{children:st?.report_date??"-"}),a.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Son kontrol: ",st?.evaluated_at_utc?Lr(st.evaluated_at_utc):"-"]})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat: ",a.jsx("strong",{children:st?.push_sent??0})," / ",st?.push_total_targets??0,a.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Push hata: ",st?.push_failed??0," | Email: ",st?.email_sent??0]})]}),a.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv: ",a.jsx("strong",{children:st?.archive_exists?`#${st.archive_id}`:"YOK"}),a.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Calisan: ",st?.archive_employee_count??0," | Boyut: ",((st?.archive_file_size_bytes??0)/1024).toFixed(1)," KB"]})]})]}),ae.isError?a.jsx("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Gece 00:00 job health verisi alinamadi."}):null,!ae.isError&&st?a.jsx("div",{className:"mt-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:Wn>0?a.jsx("div",{className:"flex flex-wrap gap-1",children:st.alarms.map(Q=>a.jsx("span",{className:"rounded border border-rose-300 bg-rose-100 px-2 py-0.5 text-rose-800",children:H3(Q)},Q))}):a.jsx("span",{className:"text-emerald-700",children:"Alarm yok. Gece arsiv job durumu saglikli."})}):null,st?.target_zero?a.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Gece job hedefi 0 gorunuyor. Push claim veya mail alici listesi bos olabilir."}):null,st?.last_error?a.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Son job hatasi: ",st.last_error]}):null,st&&hs?a.jsx("p",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"Gece 00:00 job olustu, teslimat yapildi ve alarm bulunmuyor."}):null,a.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[a.jsxs("label",{className:"text-xs text-slate-600",children:["Baslangic",a.jsx("input",{type:"date",value:K,onChange:Q=>ie(Q.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),a.jsxs("label",{className:"text-xs text-slate-600",children:["Bitis",a.jsx("input",{type:"date",value:ke,onChange:Q=>$(Q.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),a.jsxs("label",{className:"text-xs text-slate-600",children:["Calisan icerigi",a.jsx("input",{value:z,onChange:Q=>ee(Q.target.value),placeholder:"ad veya ID",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>{qe.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Arsivi yenile"})})]}),qe.isLoading?a.jsx(Lt,{label:"Arsiv yukleniyor..."}):null,qe.isError?a.jsx(Et,{message:"Arsiv listesi alinamadi."}):null,!qe.isLoading&&!qe.isError?a.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[a.jsxs("span",{children:["Gosterilen satir: ",xi,"-",ms," / ",Qn]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>I(Q=>Math.max(1,Q-1)),disabled:D<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),a.jsxs("span",{children:["Sayfa ",D," / ",vn]}),a.jsx("button",{type:"button",onClick:()=>I(Q=>Math.min(vn,Q+1)),disabled:D>=vn,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,a.jsx("div",{className:"mt-2 max-h-[520px] overflow-auto rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"sticky top-0 bg-white",children:a.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[a.jsx("th",{className:"px-2 py-2",children:"Sira"}),a.jsx("th",{className:"px-2 py-2",children:"ID"}),a.jsx("th",{className:"px-2 py-2",children:"Tarih"}),a.jsx("th",{className:"px-2 py-2",children:"Dosya"}),a.jsx("th",{className:"px-2 py-2",children:"Calisan"}),a.jsx("th",{className:"px-2 py-2",children:"Boyut"}),a.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),a.jsx("tbody",{children:Kn.map((Q,Ke)=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"px-2 py-2 text-slate-500",children:xi+Ke}),a.jsx("td",{className:"px-2 py-2",children:Q.id}),a.jsx("td",{className:"px-2 py-2",children:Q.report_date}),a.jsx("td",{className:"px-2 py-2",children:Q.file_name}),a.jsx("td",{className:"px-2 py-2",children:Q.employee_count}),a.jsxs("td",{className:"px-2 py-2",children:[(Q.file_size_bytes/1024).toFixed(1)," KB"]}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>ii.mutate(Q.id),children:"Excel indir"}),a.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",title:Dn?void 0:"Aktif admin push aboneligi yok",onClick:()=>ar.mutate(Q.id),disabled:ar.isPending||!Dn,children:"Adminlere bildir"})]})})]},Q.id))})]})}),!qe.isLoading&&!qe.isError&&Qn===0?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun arsiv kaydi bulunamadi."}):null]})]})}const Rl={action:"",entityType:"",entityId:"",success:"all"},cd=35,Y3=[{value:"",label:"Tum aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giris basarili"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giris basarisiz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin cikis yapti"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kaydi olusturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti olusturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eslestirildi"},{value:"LEAVE_CREATED",label:"Izin olusturuldu"},{value:"LEAVE_DELETED",label:"Izin silindi"}],$3={ADMIN_LOGIN_SUCCESS:"Admin giris basarili",ADMIN_LOGIN_FAIL:"Admin giris basarisiz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin cikis yapti",ATTENDANCE_EVENT_CREATED:"Yoklama kaydi olusturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti olusturuldu",DEVICE_CLAIMED:"Cihaz eslestirildi",LEAVE_CREATED:"Izin olusturuldu",LEAVE_DELETED:"Izin silindi"};function X3(e){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(e))}function J3(e){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(e))}function W3(e){return e?"Basarili":"Hata"}function eM(e){const i=Object.entries(e);return i.length===0?"-":i.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function tM(e){return $3[e]??e}function nM(e,i){const l=Number.isInteger(i)&&i>0?i:1;return{action:e.action||void 0,entity_type:e.entityType||void 0,entity_id:e.entityId||void 0,success:e.success==="all"?void 0:e.success==="success",offset:(l-1)*cd,limit:cd}}function aM(e){const i=`${e.actor_type}:${e.actor_id}`,l=e.entity_type?`${e.entity_type}${e.entity_id?`#${e.entity_id}`:""}`:"-",o=e.ip??"-";return`[${J3(e.ts_utc)}] ${e.action} actor=${i} entity=${l} ip=${o}`}function iM(e){return e==="success"?"text-emerald-300":e==="warning"?"text-amber-300":e==="error"?"text-rose-300":"text-cyan-300"}function sM(){const[e,i]=_.useState(Rl),[l,o]=_.useState(Rl),[d,m]=_.useState(1),[f,x]=_.useState(""),[v,b]=_.useState(!0),[S,w]=_.useState(""),[C,M]=_.useState(null),[k,A]=_.useState([{id:1,level:"info",text:'Log terminali hazir. Yardim icin "help" yazin.'}]),O=_.useRef(2),B=_.useRef(null),P=_.useMemo(()=>nM(l,d),[l,d]),R=Ue({queryKey:["audit-logs",P],queryFn:()=>Nb(P),refetchInterval:v?8e3:!1,refetchIntervalInBackground:!0}),G=R.data?.items??[],V=R.data?.total??0,W=Math.max(1,Math.ceil(V/cd)),Z=V===0?0:(d-1)*cd+1,Y=G.length===0?0:Z+G.length-1,te=_.useMemo(()=>{if(!f.trim())return G;const K=f.trim().toLowerCase();return G.filter(ie=>[ie.action,ie.actor_type,ie.actor_id,ie.entity_type??"",ie.entity_id??"",ie.ip??"",ie.user_agent??"",JSON.stringify(ie.details)].join(" ").toLowerCase().includes(K))},[G,f]),fe=_.useMemo(()=>{if(C!==null){const K=te.find(ie=>ie.id===C);if(K)return K}return te[0]??null},[C,te]),xe=_.useMemo(()=>{const K=G.filter($=>!$.success).length,ie=G.filter($=>$.action.startsWith("ADMIN_LOGIN")).length,ke=G.filter($=>$.action==="ATTENDANCE_EVENT_CREATED").length;return{total:V,failed:K,loginEvents:ie,attendanceEvents:ke}},[G,V]);_.useEffect(()=>{!fe&&C!==null&&M(null)},[fe,C]),_.useEffect(()=>{R.data&&m(K=>K<1?1:K>W?W:K)},[R.data,W]),_.useEffect(()=>{!v||B.current===null||(B.current.scrollTop=B.current.scrollHeight)},[v,te,k]);const de=(K,ie)=>{A(ke=>{const $=[...ke,{id:O.current,level:K,text:ie}];return O.current+=1,$.slice(-120)})},_e=K=>{K.preventDefault(),o({...e}),m(1),de("success","Filtreler uygulandi.")},le=()=>{i(Rl),o(Rl),m(1),x(""),de("info","Filtreler temizlendi.")},ue=K=>{const ie=K.trim();if(!ie)return;de("info",`$ ${ie}`);const[ke,...$]=ie.split(/\s+/),z=ke.toLowerCase(),ee=ie.slice(ke.length).trim();if(z==="help"||z==="yardim"){de("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, page <N>");return}if(z==="clear"||z==="temizle"){A([]),O.current=1,de("success","Terminal cikti gecmisi temizlendi.");return}if(z==="apply"||z==="uygula"){o({...e}),m(1),de("success","Taslak filtreler uygulandi.");return}if(z==="reset"||z==="sifirla"){i(Rl),o(Rl),m(1),x(""),de("warning","Filtreler sifirlandi.");return}if(z==="refresh"||z==="yenile"){R.refetch(),de("success","Log verisi yeniden cekiliyor.");return}if(z==="follow"||z==="takip"){const D=$[0]?.toLowerCase();if(D==="on"||D==="ac"){b(!0),de("success","Canli takip acildi.");return}if(D==="off"||D==="kapat"){b(!1),de("warning","Canli takip kapatildi.");return}de("error","Kullanim: follow on|off");return}if(z==="status"||z==="durum"){const D=$[0]?.toLowerCase();let I=null;if((D==="all"||D==="tum")&&(I="all"),(D==="success"||D==="ok"||D==="basarili")&&(I="success"),(D==="failed"||D==="error"||D==="hata")&&(I="failed"),I===null){de("error","Kullanim: status all|success|failed");return}i(ce=>({...ce,success:I})),o(ce=>({...ce,success:I})),m(1),de("success",`Durum filtresi guncellendi: ${I}`);return}if(z==="action"||z==="aksiyon"){if(!ee){de("error","Kullanim: action <AKSIYON_KODU>");return}i(D=>({...D,action:ee})),o(D=>({...D,action:ee})),m(1),de("success",`Aksiyon filtresi guncellendi: ${ee}`);return}if(z==="search"||z==="ara"){x(ee),de("success",ee?`Metin aramasi uygulandi: "${ee}"`:"Metin aramasi temizlendi.");return}if(z==="page"||z==="sayfa"){const D=Number($[0]);if(!Number.isFinite(D)||D<=0){de("error","Kullanim: page <1-n>");return}const I=Math.max(Math.trunc(D),1);m(I),de("success",`Sayfa guncellendi: ${I}`);return}de("error",`Bilinmeyen komut: ${z}. Yardim icin "help" yazin.`)},q=K=>{K.preventDefault(),ue(S),w("")};return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Sistem Loglari",description:"Program hareketleri, hata kayitlari, giris/cikis ve yoklama islemlerini terminal gorunumunde izleyin."}),a.jsxs(Re,{children:[a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:xe.total})]}),a.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),a.jsx("p",{className:"text-sm font-semibold text-rose-800",children:xe.failed})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylari"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:xe.loginEvents})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:xe.attendanceEvents})]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{const K=!v;b(K),de("info",K?"Canli takip acildi.":"Canli takip kapatildi.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${v?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:v?"Canli takip: Acik":"Canli takip: Kapali"}),a.jsx("button",{type:"button",onClick:()=>{R.refetch(),de("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),a.jsx("button",{type:"button",onClick:le,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[a.jsxs("span",{children:["Gosterilen satir: ",Z,"-",Y," / ",V]}),a.jsx("button",{type:"button",onClick:()=>m(K=>Math.max(1,K-1)),disabled:d<=1,className:"rounded border border-slate-300 px-2 py-1 disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),a.jsxs("span",{children:["Sayfa ",d," / ",W]}),a.jsx("button",{type:"button",onClick:()=>m(K=>Math.min(W,K+1)),disabled:d>=W,className:"rounded border border-slate-300 px-2 py-1 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),a.jsxs("form",{className:"mt-3 space-y-3",onSubmit:_e,children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",a.jsx("select",{value:e.action,onChange:K=>i(ie=>({...ie,action:K.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:Y3.map(K=>a.jsx("option",{value:K.value,children:K.label},K.label))})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Varlik turu",a.jsx("input",{type:"text",value:e.entityType,onChange:K=>i(ie=>({...ie,entityType:K.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Varlik ID",a.jsx("input",{type:"text",value:e.entityId,onChange:K=>i(ie=>({...ie,entityId:K.target.value})),placeholder:"Orn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",a.jsxs("select",{value:e.success,onChange:K=>i(ie=>({...ie,success:K.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"all",children:"Tumu"}),a.jsx("option",{value:"success",children:"Basarili"}),a.jsx("option",{value:"failed",children:"Hata"})]})]})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",a.jsx("input",{type:"text",value:f,onChange:K=>x(K.target.value),placeholder:"Aksiyon, kullanici, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),a.jsx("button",{type:"button",onClick:le,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),a.jsxs(Re,{children:[R.isLoading?a.jsx(Lt,{label:"Log kayitlari yukleniyor..."}):null,R.isError?a.jsx(Et,{message:Pe(R.error,"Log kayitlari alinamadi.").message}):null,!R.isLoading&&!R.isError?a.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[a.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),a.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),a.jsxs("span",{className:"text-[11px] text-slate-400",children:[v?"FOLLOW MODE":"MANUAL MODE","  ",Z,"-",Y," / ",V]})]}),a.jsx("form",{onSubmit:q,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:a.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[a.jsx("span",{children:"admin@audit:~$"}),a.jsx("input",{value:S,onChange:K=>w(K.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, page 2...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),a.jsxs("div",{ref:B,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[k.map(K=>a.jsx("p",{className:`leading-6 ${iM(K.level)}`,children:K.text},K.id)),te.map(K=>{const ie=fe?.id===K.id;return a.jsxs("button",{type:"button",onClick:()=>M(K.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${ie?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[a.jsx("span",{className:K.success?"text-emerald-300":"text-rose-300",children:K.success?"[OK]":"[ERR]"})," ",a.jsx("span",{className:"text-slate-200",children:aM(K)})]},K.id)}),te.length===0?a.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kaydi bulunamadi."}):null]})]}),a.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Secili log detayi"}),fe===null?a.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayit secin."}):a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:tM(fe.action)}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:fe.action})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",X3(fe.ts_utc)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Aktor:"})," ",fe.actor_type,":",fe.actor_id]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Durum:"})," ",W3(fe.success)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Varlik:"})," ",fe.entity_type??"-",fe.entity_id?` #${fe.entity_id}`:""]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"IP:"})," ",fe.ip??"-"]}),a.jsxs("p",{className:"break-all",children:[a.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",fe.user_agent??"-"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Detay ozeti:"})," ",eM(fe.details)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),a.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(fe.details,null,2)})]})]})]})]}):null]})]})}const rM=Da({department_id:wn().int().positive(),daily_minutes_planned:wn().int().nonnegative(),break_minutes:wn().int().nonnegative(),grace_minutes:wn().int().nonnegative()}),lM=Da({department_id:wn().int().positive(),weekday:wn().int().min(0).max(6),is_workday:Ed(),planned_minutes:wn().int().nonnegative(),break_minutes:wn().int().nonnegative()}),oM=Da({department_id:wn().int().positive(),name:Un().min(1).max(100),start_time_local:Un().regex(/^\d{2}:\d{2}$/),end_time_local:Un().regex(/^\d{2}:\d{2}$/),break_minutes:wn().int().nonnegative(),is_active:Ed()}),xv=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],uM=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],cM={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function cf(e){const i=e.trim();if(!i)return null;const l=Number(i);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function dM(e,i){const l=e.target_employee_ids&&e.target_employee_ids.length>0?e.target_employee_ids:e.target_employee_id?[e.target_employee_id]:[];return{id:e.id,department_id:e.department_id,target_type:e.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:e.shift_id,daily_minutes_planned:e.daily_minutes_planned,break_minutes:e.break_minutes,grace_minutes:e.grace_minutes,start_date:e.start_date,end_date:e.end_date,is_locked:e.is_locked,is_active:i,note:e.note}}function mM(){const e=qn(),{pushToast:i}=Zn(),[l,o]=_.useState(""),[d,m]=_.useState("540"),[f,x]=_.useState("60"),[v,b]=_.useState("5"),[S,w]=_.useState(""),[C,M]=_.useState("0"),[k,A]=_.useState(!0),[O,B]=_.useState("540"),[P,R]=_.useState("60"),[G,V]=_.useState(""),[W,Z]=_.useState(""),[Y,te]=_.useState("10:00"),[fe,xe]=_.useState("18:00"),[de,_e]=_.useState("60"),[le,ue]=_.useState(!0),[q,K]=_.useState(null),[ie,ke]=_.useState(null),[$,z]=_.useState(""),[ee,D]=_.useState("DEPARTMENT"),[I,ce]=_.useState([]),[je,Me]=_.useState(""),[He,Xe]=_.useState(""),[rt,Se]=_.useState(""),[ct,xt]=_.useState(""),[kt,_t]=_.useState(""),[Ht,At]=_.useState(new Date().toISOString().slice(0,10)),[Pt,nn]=_.useState(new Date().toISOString().slice(0,10)),[ae,Ae]=_.useState(!1),[$e,it]=_.useState(!0),[ne,Oe]=_.useState(""),[be,qe]=_.useState(!0),[mt,nt]=_.useState(null),Tt=Ue({queryKey:["departments"],queryFn:er}),se=Ue({queryKey:["employees","all"],queryFn:()=>gi({status:"all"})}),Qe=Ue({queryKey:["work-rules"],queryFn:cE}),J=Ue({queryKey:["department-weekly-rules"],queryFn:()=>vb()}),Fe=Ue({queryKey:["department-shifts"],queryFn:()=>mu()}),lt=Ue({queryKey:["schedule-plans","all"],queryFn:()=>_E({active_only:!1})}),pt=Ve({mutationFn:dE,onSuccess:()=>{nt(null),i({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),e.invalidateQueries({queryKey:["work-rules"]})},onError:U=>{const Ie=Pe(U,"Mesai kurali kaydedilemedi.");nt(Ie.message),i({variant:"error",title:"Mesai kurali kaydedilemedi",description:Ie.message})}}),Bt=Ve({mutationFn:bb,onSuccess:()=>{nt(null),i({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),e.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:U=>{const Ie=Pe(U,"Haftalik plan kaydedilemedi.");nt(Ie.message),i({variant:"error",title:"Haftalik plan kaydedilemedi",description:Ie.message})}}),ni=Ve({mutationFn:id,onSuccess:()=>{nt(null),K(null),Z(""),te("10:00"),xe("18:00"),_e("60"),ue(!0),i({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:U=>{const Ie=Pe(U,"Vardiya kaydedilemedi.");nt(Ie.message),i({variant:"error",title:"Vardiya kaydedilemedi",description:Ie.message})}}),Hn=Ve({mutationFn:_b,onSuccess:()=>{nt(null),q!==null&&(K(null),Z(""),te("10:00"),xe("18:00"),_e("60"),ue(!0)),i({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:U=>{const Ie=Pe(U,"Vardiya pasife alinamadi.");nt(Ie.message),i({variant:"error",title:"Vardiya pasife alinamadi",description:Ie.message})}}),yn=Ve({mutationFn:({shift:U,nextActive:Ie})=>id({id:U.id,department_id:U.department_id,name:U.name,start_time_local:U.start_time_local,end_time_local:U.end_time_local,break_minutes:U.break_minutes,is_active:Ie}),onSuccess:(U,Ie)=>{nt(null),i({variant:"success",title:Ie.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Ie.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:U=>{const Ie=Pe(U,"Vardiya durumu guncellenemedi.");nt(Ie.message),i({variant:"error",title:"Vardiya durumu guncellenemedi",description:Ie.message})}}),Xn=Ve({mutationFn:Jy,onSuccess:()=>{nt(null),i({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),e.invalidateQueries({queryKey:["schedule-plans"]}),ke(null),ce([]),Xe(""),Se(""),xt(""),_t(""),Ae(!1),it(!0),Oe("")},onError:U=>{const Ie=Pe(U,"Planlama kaydedilemedi.");nt(Ie.message),i({variant:"error",title:"Planlama kaydedilemedi",description:Ie.message})}}),_a=Ve({mutationFn:NE,onSuccess:()=>{nt(null),i({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),e.invalidateQueries({queryKey:["schedule-plans"]})},onError:U=>{const Ie=Pe(U,"Planlama iptal edilemedi.");nt(Ie.message),i({variant:"error",title:"Planlama iptal edilemedi",description:Ie.message})}}),Kn=Ve({mutationFn:U=>Jy(dM(U,!0)),onSuccess:()=>{nt(null),i({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),e.invalidateQueries({queryKey:["schedule-plans"]})},onError:U=>{const Ie=Pe(U,"Plan aktif edilemedi.");nt(Ie.message),i({variant:"error",title:"Plan aktif edilemedi",description:Ie.message})}}),Qn=_.useMemo(()=>{const U=Number(d),Ie=Number(f),Nt=Number(v);return{daily:Jc(U),breakValue:Jc(Ie),grace:Jc(Nt)}},[d,f,v]);if(Tt.isLoading||se.isLoading||Qe.isLoading||J.isLoading||Fe.isLoading||lt.isLoading)return a.jsx(Lt,{});if(Tt.isError||se.isError||Qe.isError||J.isError||Fe.isError||lt.isError)return a.jsx(Et,{message:"Mesai kurali verileri alinamadi."});const vn=Tt.data??[],xi=se.data??[],ms=Qe.data??[],yi=J.data??[],Dn=Fe.data??[],Bi=lt.data??[],Na=new Map(vn.map(U=>[U.id,U.name])),vi=new Map(xi.map(U=>[U.id,U.full_name])),Ui=new Map(Dn.map(U=>[U.id,U.name])),Rn=Bi.filter(U=>be||U.is_active),De=Number($),bi=Number.isFinite(De)?Dn.filter(U=>U.department_id===De):[],_i=Number.isFinite(De)?xi.filter(U=>U.department_id===De):[],Jn=je.trim()?_i.filter(U=>{const Ie=je.trim().toLowerCase();return U.full_name.toLowerCase().includes(Ie)||String(U.id).includes(Ie.replace("#",""))}):_i,Yt=()=>{ke(null),D("DEPARTMENT"),ce([]),Me(""),Xe(""),Se(""),xt(""),_t(""),At(new Date().toISOString().slice(0,10)),nn(new Date().toISOString().slice(0,10)),Ae(!1),it(!0),Oe("")},st=U=>{const Ie=U.target_employee_ids&&U.target_employee_ids.length>0?U.target_employee_ids:U.target_employee_id?[U.target_employee_id]:[];ke(U.id),z(String(U.department_id)),D(U.target_type),ce(Ie),Me(""),Xe(U.shift_id?String(U.shift_id):""),Se(U.daily_minutes_planned!==null?String(U.daily_minutes_planned):""),xt(U.break_minutes!==null?String(U.break_minutes):""),_t(U.grace_minutes!==null?String(U.grace_minutes):""),At(U.start_date),nn(U.end_date),Ae(U.is_locked),it(U.is_active),Oe(U.note??"")},Wn=U=>{U.preventDefault(),nt(null);const Ie=rM.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:f,grace_minutes:v});if(!Ie.success){const Nt=Ie.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";nt(Nt),i({variant:"error",title:"Form hatasi",description:Nt});return}pt.mutate(Ie.data)},sa=U=>{U.preventDefault(),nt(null);const Ie=lM.safeParse({department_id:S,weekday:C,is_workday:k,planned_minutes:O,break_minutes:P});if(!Ie.success){const Nt=Ie.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";nt(Nt),i({variant:"error",title:"Form hatasi",description:Nt});return}Bt.mutate(Ie.data)},hs=U=>{U.preventDefault(),nt(null);const Ie=oM.safeParse({department_id:G,name:W.trim(),start_time_local:Y,end_time_local:fe,break_minutes:de,is_active:le});if(!Ie.success){const Nt=Ie.error.issues[0]?.message??"Vardiya formunu kontrol edin.";nt(Nt),i({variant:"error",title:"Form hatasi",description:Nt});return}ni.mutate({id:q??void 0,...Ie.data})},Fi=U=>{K(U.id),V(String(U.department_id)),Z(U.name),te(U.start_time_local),xe(U.end_time_local),_e(String(U.break_minutes)),ue(U.is_active),nt(null)},qi=()=>{K(null),Z(""),te("10:00"),xe("18:00"),_e("60"),ue(!0),nt(null)},ai=U=>{U.preventDefault(),nt(null);const Ie=Number($);if(!Number.isFinite(Ie)||Ie<=0){nt("Planlama icin departman secmelisiniz.");return}if(!Ht||!Pt){nt("Baslangic ve bitis tarihi zorunludur.");return}if(Ht>Pt){nt("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const Nt=ee==="DEPARTMENT"?[]:[...I];if(ee!=="DEPARTMENT"&&Nt.length===0){nt("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const bn=He?Number(He):null,ja=cf(rt),Wt=cf(ct),ii=cf(kt);if(!bn&&ja===null&&Wt===null&&ii===null){nt("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}Xn.mutate({id:ie??void 0,department_id:Ie,target_type:ee,target_employee_id:Nt.length>0?Nt[0]:null,target_employee_ids:Nt,shift_id:bn,daily_minutes_planned:ja,break_minutes:Wt,grace_minutes:ii,start_date:Ht,end_date:Pt,is_locked:ae,is_active:$e,note:ne.trim()||null})};return a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),a.jsxs("form",{onSubmit:Wn,className:"mt-3 grid gap-3 md:grid-cols-4",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:l,onChange:U=>o(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seciniz"}),vn.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",a.jsx("input",{value:d,onChange:U=>m(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",a.jsx("input",{value:f,onChange:U=>x(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",a.jsx("input",{value:v,onChange:U=>b(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",Qn.daily," | Mola ",Qn.breakValue," | Tolerans ",Qn.grace]}),a.jsx("div",{className:"md:col-span-4",children:a.jsx("button",{type:"submit",disabled:pt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:pt.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),a.jsxs("form",{onSubmit:sa,className:"mt-3 grid gap-3 md:grid-cols-5",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:S,onChange:U=>w(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seciniz"}),vn.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",a.jsx("select",{value:C,onChange:U=>M(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:xv.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",a.jsx("input",{value:O,onChange:U=>B(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",a.jsx("input",{value:P,onChange:U=>R(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:U=>A(U.target.checked)}),"Calisma Gunu"]}),a.jsx("div",{className:"md:col-span-5",children:a.jsx("button",{type:"submit",disabled:Bt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Bt.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"Gun"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Planlanan Sure"}),a.jsx("th",{className:"py-2",children:"Mola"})]})}),a.jsx("tbody",{children:yi.map(U=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Na.get(U.department_id)??U.department_id}),a.jsx("td",{className:"py-2",children:xv.find(Ie=>Ie.value===U.weekday)?.label??U.weekday}),a.jsx("td",{className:"py-2",children:U.is_workday?"Calisma":"Off"}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:U.planned_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:U.break_minutes})})]},U.id))})]})})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),q?a.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",q]}):null,a.jsxs("form",{onSubmit:hs,className:"mt-3 grid gap-3 md:grid-cols-6",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:G,onChange:U=>V(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seciniz"}),vn.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",a.jsx("input",{value:W,onChange:U=>Z(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",a.jsx("input",{type:"time",value:Y,onChange:U=>te(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",a.jsx("input",{type:"time",value:fe,onChange:U=>xe(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",a.jsx("input",{value:de,onChange:U=>_e(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:le,onChange:U=>ue(U.target.checked)}),"Aktif"]}),a.jsx("div",{className:"md:col-span-6",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"submit",disabled:ni.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ni.isPending?"Kaydediliyor...":q?"Vardiya Guncelle":"Vardiya Kaydet"}),q?a.jsx("button",{type:"button",onClick:qi,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"Vardiya"}),a.jsx("th",{className:"py-2",children:"Saat"}),a.jsx("th",{className:"py-2",children:"Mola"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),a.jsx("tbody",{children:Dn.map(U=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Na.get(U.department_id)??U.department_id}),a.jsx("td",{className:"py-2",children:U.name}),a.jsxs("td",{className:"py-2",children:[U.start_time_local," - ",U.end_time_local]}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:U.break_minutes})}),a.jsx("td",{className:"py-2",children:U.is_active?"Aktif":"Pasif"}),a.jsx("td",{className:"py-2 text-right",children:a.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>Fi(U),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),U.is_active?a.jsx("button",{type:"button",disabled:Hn.isPending||yn.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Hn.mutate(U.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):a.jsx("button",{type:"button",disabled:yn.isPending||Hn.isPending,onClick:()=>yn.mutate({shift:U,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},U.id))})]})})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:be,onChange:U=>qe(U.target.checked)}),"Pasif planlari goster"]})]}),a.jsxs("form",{onSubmit:ai,className:"mt-4 grid gap-3 md:grid-cols-4",children:[a.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",a.jsxs("select",{value:$,onChange:U=>{z(U.target.value),ce([]),Xe("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seciniz"}),vn.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",a.jsx("select",{value:ee,onChange:U=>{const Ie=U.target.value;D(Ie),Ie==="DEPARTMENT"&&ce([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:uM.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",a.jsx("input",{type:"text",value:je,onChange:U=>Me(U.target.value),disabled:ee==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),a.jsx("select",{multiple:!0,value:I.map(String),onChange:U=>{const Ie=Array.from(U.target.selectedOptions).map(Nt=>Number(Nt.value));ce(Ie.filter(Nt=>Number.isFinite(Nt)&&Nt>0))},disabled:ee==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:Jn.map(U=>a.jsxs("option",{value:U.id,children:["#",U.id," - ",U.full_name]},U.id))}),a.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",a.jsxs("select",{value:He,onChange:U=>Xe(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Seciniz"}),bi.map(U=>a.jsxs("option",{value:U.id,children:[U.name," (",U.start_time_local," - ",U.end_time_local,")"]},U.id))]})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",a.jsx("input",{value:rt,onChange:U=>Se(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",a.jsx("input",{value:ct,onChange:U=>xt(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",a.jsx("input",{value:kt,onChange:U=>_t(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",a.jsx("input",{type:"date",value:Ht,onChange:U=>At(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",a.jsx("input",{type:"date",value:Pt,onChange:U=>nn(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:ae,onChange:U=>Ae(U.target.checked)}),"Vardiya kilitli"]}),a.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:$e,onChange:U=>it(U.target.checked)}),"Aktif"]}),a.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",a.jsx("input",{value:ne,onChange:U=>Oe(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[a.jsx("button",{type:"submit",disabled:Xn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Xn.isPending?"Kaydediliyor...":ie?"Plani Guncelle":"Plan Olustur"}),a.jsx("button",{type:"button",onClick:Yt,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"Hedef"}),a.jsx("th",{className:"py-2",children:"Vardiya"}),a.jsx("th",{className:"py-2",children:"Plan/Mola"}),a.jsx("th",{className:"py-2",children:"Tarih Araligi"}),a.jsx("th",{className:"py-2",children:"Kilit"}),a.jsx("th",{className:"py-2",children:"Durum"}),a.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),a.jsx("tbody",{children:Rn.map(U=>{const Nt=(U.target_employee_ids&&U.target_employee_ids.length>0?U.target_employee_ids:U.target_employee_id?[U.target_employee_id]:[]).map(bn=>vi.get(bn)??`#${bn}`);return a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Na.get(U.department_id)??U.department_id}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:cM[U.target_type]}),Nt.length>0?a.jsx("span",{className:"text-xs text-slate-500",children:Nt.join(", ")}):null]})}),a.jsx("td",{className:"py-2",children:U.shift_id?Ui.get(U.shift_id)??`#${U.shift_id}`:"-"}),a.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[a.jsxs("div",{children:["Plan: ",U.daily_minutes_planned!==null?`${U.daily_minutes_planned} dk`:"-"]}),a.jsxs("div",{children:["Mola: ",U.break_minutes!==null?`${U.break_minutes} dk`:"-"]}),a.jsxs("div",{children:["Tolerans: ",U.grace_minutes!==null?`${U.grace_minutes} dk`:"-"]})]}),a.jsxs("td",{className:"py-2",children:[U.start_date," - ",U.end_date]}),a.jsx("td",{className:"py-2",children:U.is_locked?"Kilitli":"Serbest"}),a.jsx("td",{className:"py-2",children:U.is_active?"Aktif":"Pasif"}),a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>st(U),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),U.is_active?a.jsx("button",{type:"button",onClick:()=>_a.mutate(U.id),disabled:_a.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):a.jsx("button",{type:"button",onClick:()=>Kn.mutate(U),disabled:Kn.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},U.id)})})]})})]}),a.jsxs(Re,{children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-left text-sm",children:[a.jsx("thead",{className:"text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2",children:"Departman"}),a.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),a.jsx("th",{className:"py-2",children:"Mola Suresi"}),a.jsx("th",{className:"py-2",children:"Tolerans"})]})}),a.jsx("tbody",{children:ms.map(U=>a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"py-2",children:Na.get(U.department_id)??U.department_id}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:U.daily_minutes_planned})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:U.break_minutes})}),a.jsx("td",{className:"py-2",children:a.jsx(Be,{minutes:U.grace_minutes})})]},U.id))})]})})]}),mt?a.jsx("p",{className:"form-validation",children:mt}):null]})}function hM(){return a.jsxs(ES,{children:[a.jsx(qt,{element:a.jsx(f1,{}),children:a.jsx(qt,{path:"/login",element:a.jsx(k3,{})})}),a.jsx(qt,{path:"/device-claim",element:a.jsx(g1,{})}),a.jsx(qt,{path:"/archive-download",element:a.jsx(Cz,{})}),a.jsx(qt,{path:"/attendance-extra-checkin-approval",element:a.jsx(Oz,{})}),a.jsx(qt,{element:a.jsx(h1,{}),children:a.jsxs(qt,{element:a.jsx(m1,{}),children:[a.jsx(qt,{path:"/",element:a.jsx(Qf,{to:"/dashboard",replace:!0})}),a.jsx(qt,{path:"/management-console",element:a.jsx(M3,{})}),a.jsx(qt,{path:"/dashboard",element:a.jsx(vz,{})}),a.jsx(qt,{path:"/regions",element:a.jsx(F3,{})}),a.jsx(qt,{path:"/departments",element:a.jsx(Nz,{})}),a.jsx(qt,{path:"/employees",element:a.jsx(N3,{})}),a.jsx(qt,{path:"/employees/:id",element:a.jsx(p3,{})}),a.jsx(qt,{path:"/quick-setup",element:a.jsx(U3,{})}),a.jsx(qt,{path:"/work-rules",element:a.jsx(mM,{})}),a.jsx(qt,{path:"/attendance-events",element:a.jsx(D1,{})}),a.jsx(qt,{path:"/devices",element:a.jsx(Sz,{})}),a.jsx(qt,{path:"/compliance-settings",element:a.jsx(wz,{})}),a.jsx(qt,{path:"/leaves",element:a.jsx(S3,{})}),a.jsx(qt,{path:"/qr-kodlar",element:a.jsx(B3,{})}),a.jsx(qt,{path:"/reports/employee-monthly",element:a.jsx(b3,{})}),a.jsx(qt,{path:"/reports/department-summary",element:a.jsx(_z,{})}),a.jsx(qt,{path:"/reports/excel-export",element:a.jsx(D3,{})}),a.jsx(qt,{path:"/notifications",element:a.jsx(V3,{})}),a.jsx(qt,{path:"/audit-logs",element:a.jsx(sM,{})}),a.jsx(qt,{path:"/admin-users",element:a.jsx(s3,{})})]})}),a.jsx(qt,{path:"*",element:a.jsx(O3,{})})]})}const fM=new fj({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});HN.createRoot(document.getElementById("root")).render(a.jsx(LN.StrictMode,{children:a.jsx(pj,{client:fM,children:a.jsx(XS,{basename:"/admin-panel/",children:a.jsx(S1,{children:a.jsx(l1,{children:a.jsx(hM,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
