(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();function cd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ph={exports:{}},qo={};var ty;function SN(){if(ty)return qo;ty=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var y in d)y!=="key"&&(m[y]=d[y])}else m=d;return d=m.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:m}}return qo.Fragment=a,qo.jsx=l,qo.jsxs=l,qo}var ny;function wN(){return ny||(ny=1,ph.exports=SN()),ph.exports}var i=wN(),gh={exports:{}},rt={};var ay;function EN(){if(ay)return rt;ay=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function U(O,ne,R){this.props=O,this.context=ne,this.refs=M,this.updater=R||k}U.prototype.isReactComponent={},U.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=U.prototype;function P(O,ne,R){this.props=O,this.context=ne,this.refs=M,this.updater=R||k}var G=P.prototype=new D;G.constructor=P,A(G,U.prototype),G.isPureReactComponent=!0;var J=Array.isArray;function V(){}var K={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function re(O,ne,R){var H=R.ref;return{$$typeof:t,type:O,key:ne,ref:H!==void 0?H:null,props:R}}function ye(O,ne){return re(O.type,ne,O.props)}function te(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function oe(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(R){return ne[R]})}var be=/\/+/g;function q(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?oe(""+O.key):ne.toString(36)}function Y(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,ne,R,H,pe){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(je){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case t:case a:Me=!0;break;case S:return Me=O._init,Z(Me(O._payload),ne,R,H,pe)}}if(Me)return pe=pe(O),Me=H===""?"."+q(O,0):H,J(pe)?(R="",Me!=null&&(R=Me.replace(be,"$&/")+"/"),Z(pe,ne,R,"",function(Fe){return Fe})):pe!=null&&(te(pe)&&(pe=ye(pe,R+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(be,"$&/")+"/")+Me)),ne.push(pe)),1;Me=0;var qe=H===""?".":H+":";if(J(O))for(var Ye=0;Ye<O.length;Ye++)H=O[Ye],je=qe+q(H,Ye),Me+=Z(H,ne,R,je,pe);else if(Ye=z(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(H=O.next()).done;)H=H.value,je=qe+q(H,Ye++),Me+=Z(H,ne,R,je,pe);else if(je==="object"){if(typeof O.then=="function")return Z(Y(O),ne,R,H,pe);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Me}function W(O,ne,R){if(O==null)return O;var H=[],pe=0;return Z(O,H,"","",function(je){return ne.call(R,je,pe++)}),H}function ce(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(R){(O._status===0||O._status===-1)&&(O._status=1,O._result=R)},function(R){(O._status===0||O._status===-1)&&(O._status=2,O._result=R)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var Te=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ee={map:W,forEach:function(O,ne,R){W(O,function(){ne.apply(this,arguments)},R)},count:function(O){var ne=0;return W(O,function(){ne++}),ne},toArray:function(O){return W(O,function(ne){return ne})||[]},only:function(O){if(!te(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return rt.Activity=w,rt.Children=ee,rt.Component=U,rt.Fragment=l,rt.Profiler=d,rt.PureComponent=P,rt.StrictMode=o,rt.Suspense=v,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return K.H.useMemoCache(O)}},rt.cache=function(O){return function(){return O.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(O,ne,R){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var H=A({},O.props),pe=O.key;if(ne!=null)for(je in ne.key!==void 0&&(pe=""+ne.key),ne)!Q.call(ne,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ne.ref===void 0||(H[je]=ne[je]);var je=arguments.length-2;if(je===1)H.children=R;else if(1<je){for(var Me=Array(je),qe=0;qe<je;qe++)Me[qe]=arguments[qe+2];H.children=Me}return re(O.type,pe,H)},rt.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:m,_context:O},O},rt.createElement=function(O,ne,R){var H,pe={},je=null;if(ne!=null)for(H in ne.key!==void 0&&(je=""+ne.key),ne)Q.call(ne,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(pe[H]=ne[H]);var Me=arguments.length-2;if(Me===1)pe.children=R;else if(1<Me){for(var qe=Array(Me),Ye=0;Ye<Me;Ye++)qe[Ye]=arguments[Ye+2];pe.children=qe}if(O&&O.defaultProps)for(H in Me=O.defaultProps,Me)pe[H]===void 0&&(pe[H]=Me[H]);return re(O,je,pe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(O){return{$$typeof:y,render:O}},rt.isValidElement=te,rt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ce}},rt.memo=function(O,ne){return{$$typeof:b,type:O,compare:ne===void 0?null:ne}},rt.startTransition=function(O){var ne=K.T,R={};K.T=R;try{var H=O(),pe=K.S;pe!==null&&pe(R,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(V,Te)}catch(je){Te(je)}finally{ne!==null&&R.types!==null&&(ne.types=R.types),K.T=ne}},rt.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},rt.use=function(O){return K.H.use(O)},rt.useActionState=function(O,ne,R){return K.H.useActionState(O,ne,R)},rt.useCallback=function(O,ne){return K.H.useCallback(O,ne)},rt.useContext=function(O){return K.H.useContext(O)},rt.useDebugValue=function(){},rt.useDeferredValue=function(O,ne){return K.H.useDeferredValue(O,ne)},rt.useEffect=function(O,ne){return K.H.useEffect(O,ne)},rt.useEffectEvent=function(O){return K.H.useEffectEvent(O)},rt.useId=function(){return K.H.useId()},rt.useImperativeHandle=function(O,ne,R){return K.H.useImperativeHandle(O,ne,R)},rt.useInsertionEffect=function(O,ne){return K.H.useInsertionEffect(O,ne)},rt.useLayoutEffect=function(O,ne){return K.H.useLayoutEffect(O,ne)},rt.useMemo=function(O,ne){return K.H.useMemo(O,ne)},rt.useOptimistic=function(O,ne){return K.H.useOptimistic(O,ne)},rt.useReducer=function(O,ne,R){return K.H.useReducer(O,ne,R)},rt.useRef=function(O){return K.H.useRef(O)},rt.useState=function(O){return K.H.useState(O)},rt.useSyncExternalStore=function(O,ne,R){return K.H.useSyncExternalStore(O,ne,R)},rt.useTransition=function(){return K.H.useTransition()},rt.version="19.2.4",rt}var iy;function Tf(){return iy||(iy=1,gh.exports=EN()),gh.exports}var N=Tf();const kN=cd(N);var xh={exports:{}},Fo={},yh={exports:{}},vh={};var sy;function TN(){return sy||(sy=1,(function(t){function a(Z,W){var ce=Z.length;Z.push(W);e:for(;0<ce;){var Te=ce-1>>>1,ee=Z[Te];if(0<d(ee,W))Z[Te]=W,Z[ce]=ee,ce=Te;else break e}}function l(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var W=Z[0],ce=Z.pop();if(ce!==W){Z[0]=ce;e:for(var Te=0,ee=Z.length,O=ee>>>1;Te<O;){var ne=2*(Te+1)-1,R=Z[ne],H=ne+1,pe=Z[H];if(0>d(R,ce))H<ee&&0>d(pe,R)?(Z[Te]=pe,Z[H]=ce,Te=H):(Z[Te]=R,Z[ne]=ce,Te=ne);else if(H<ee&&0>d(pe,ce))Z[Te]=pe,Z[H]=ce,Te=H;else break e}}return W}function d(Z,W){var ce=Z.sortIndex-W.sortIndex;return ce!==0?ce:Z.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var p=Date,y=p.now();t.unstable_now=function(){return p.now()-y}}var v=[],b=[],S=1,w=null,C=3,z=!1,k=!1,A=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function G(Z){for(var W=l(b);W!==null;){if(W.callback===null)o(b);else if(W.startTime<=Z)o(b),W.sortIndex=W.expirationTime,a(v,W);else break;W=l(b)}}function J(Z){if(A=!1,G(Z),!k)if(l(v)!==null)k=!0,V||(V=!0,oe());else{var W=l(b);W!==null&&Y(J,W.startTime-Z)}}var V=!1,K=-1,Q=5,re=-1;function ye(){return M?!0:!(t.unstable_now()-re<Q)}function te(){if(M=!1,V){var Z=t.unstable_now();re=Z;var W=!0;try{e:{k=!1,A&&(A=!1,D(K),K=-1),z=!0;var ce=C;try{t:{for(G(Z),w=l(v);w!==null&&!(w.expirationTime>Z&&ye());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,C=w.priorityLevel;var ee=Te(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof ee=="function"){w.callback=ee,G(Z),W=!0;break t}w===l(v)&&o(v),G(Z)}else o(v);w=l(v)}if(w!==null)W=!0;else{var O=l(b);O!==null&&Y(J,O.startTime-Z),W=!1}}break e}finally{w=null,C=ce,z=!1}W=void 0}}finally{W?oe():V=!1}}}var oe;if(typeof P=="function")oe=function(){P(te)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,q=be.port2;be.port1.onmessage=te,oe=function(){q.postMessage(null)}}else oe=function(){U(te,0)};function Y(Z,W){K=U(function(){Z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(Z){switch(C){case 1:case 2:case 3:var W=3;break;default:W=C}var ce=C;C=W;try{return Z()}finally{C=ce}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Z,W){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=C;C=Z;try{return W()}finally{C=ce}},t.unstable_scheduleCallback=function(Z,W,ce){var Te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,Z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ce+ee,Z={id:S++,callback:W,priorityLevel:Z,startTime:ce,expirationTime:ee,sortIndex:-1},ce>Te?(Z.sortIndex=ce,a(b,Z),l(v)===null&&Z===l(b)&&(A?(D(K),K=-1):A=!0,Y(J,ce-Te))):(Z.sortIndex=ee,a(v,Z),k||z||(k=!0,V||(V=!0,oe()))),Z},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(Z){var W=C;return function(){var ce=C;C=W;try{return Z.apply(this,arguments)}finally{C=ce}}}})(vh)),vh}var ry;function CN(){return ry||(ry=1,yh.exports=TN()),yh.exports}var bh={exports:{}},Hn={};var ly;function AN(){if(ly)return Hn;ly=1;var t=Tf();function a(v){var b="https://react.dev/errors/"+v;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(v,b,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:b,implementation:S}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,b){if(v==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Hn.createPortal=function(v,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(a(299));return m(v,b,null,S)},Hn.flushSync=function(v){var b=p.T,S=o.p;try{if(p.T=null,o.p=2,v)return v()}finally{p.T=b,o.p=S,o.d.f()}},Hn.preconnect=function(v,b){typeof v=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(v,b))},Hn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Hn.preinit=function(v,b){if(typeof v=="string"&&b&&typeof b.as=="string"){var S=b.as,w=y(S,b.crossOrigin),C=typeof b.integrity=="string"?b.integrity:void 0,z=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?o.d.S(v,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:z}):S==="script"&&o.d.X(v,{crossOrigin:w,integrity:C,fetchPriority:z,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Hn.preinitModule=function(v,b){if(typeof v=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=y(b.as,b.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(v)},Hn.preload=function(v,b){if(typeof v=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,w=y(S,b.crossOrigin);o.d.L(v,S,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Hn.preloadModule=function(v,b){if(typeof v=="string")if(b){var S=y(b.as,b.crossOrigin);o.d.m(v,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(v)},Hn.requestFormReset=function(v){o.d.r(v)},Hn.unstable_batchedUpdates=function(v,b){return v(b)},Hn.useFormState=function(v,b,S){return p.H.useFormState(v,b,S)},Hn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Hn.version="19.2.4",Hn}var oy;function zN(){if(oy)return bh.exports;oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),bh.exports=AN(),bh.exports}var uy;function MN(){if(uy)return Fo;uy=1;var t=CN(),a=Tf(),l=zN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(m(e)!==e)throw Error(o(188))}function b(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,c=n;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return v(f),e;if(g===c)return v(f),n;g=g.sibling}throw Error(o(188))}if(r.return!==c.return)r=f,c=g;else{for(var j=!1,T=f.child;T;){if(T===r){j=!0,r=f,c=g;break}if(T===c){j=!0,c=f,r=g;break}T=T.sibling}if(!j){for(T=g.child;T;){if(T===r){j=!0,r=g,c=f;break}if(T===c){j=!0,c=g,r=f;break}T=T.sibling}if(!j)throw Error(o(189))}}if(r.alternate!==c)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case V:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case P:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case G:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:q(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return q(e(n))}catch{}}return null}var Y=Array.isArray,Z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],ee=-1;function O(e){return{current:e}}function ne(e){0>ee||(e.current=Te[ee],Te[ee]=null,ee--)}function R(e,n){ee++,Te[ee]=e.current,e.current=n}var H=O(null),pe=O(null),je=O(null),Me=O(null);function qe(e,n){switch(R(je,n),R(pe,e),R(H,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sx(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sx(n),e=wx(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(H),R(H,e)}function Ye(){ne(H),ne(pe),ne(je)}function Fe(e){e.memoizedState!==null&&R(Me,e);var n=H.current,r=wx(n,e.type);n!==r&&(R(pe,e),R(H,r))}function Ne(e){pe.current===e&&(ne(H),ne(pe)),Me.current===e&&(ne(Me),Io._currentValue=ce)}var nt,St;function Nt(e){if(nt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);nt=n&&n[1]||"",St=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+e+St}var yt=!1;function Qt(e,n){if(!e||yt)return"";yt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ge){var fe=ge}Reflect.construct(e,[],ke)}else{try{ke.call()}catch(ge){fe=ge}e.call(ke.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(ke=e())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),j=g[0],T=g[1];if(j&&T){var F=j.split(`
`),me=T.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<me.length&&!me[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===me.length)for(c=F.length-1,f=me.length-1;1<=c&&0<=f&&F[c]!==me[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==me[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==me[f]){var _e=`
`+F[c].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=c&&0<=f);break}}}finally{yt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Nt(r):""}function It(e,n){switch(e.tag){case 26:case 27:case 5:return Nt(e.type);case 16:return Nt("Lazy");case 13:return e.child!==n&&n!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Qt(e.type,!1);case 11:return Qt(e.type.render,!1);case 1:return Qt(e.type,!0);case 31:return Nt("Activity");default:return""}}function mt(e){try{var n="",r=null;do n+=It(e,r),r=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var pn=Object.prototype.hasOwnProperty,ae=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,He=t.unstable_shouldYield,ct=t.unstable_requestPaint,wt=t.unstable_now,dt=t.unstable_getCurrentPriorityLevel,ve=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,it=t.unstable_NormalPriority,We=t.unstable_LowPriority,tn=t.unstable_IdlePriority,ie=t.log,$=t.unstable_setDisableYieldValue,Qe=null,at=null;function Vt(e){if(typeof ie=="function"&&$(e),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Qe,e)}catch{}}var Et=Math.clz32?Math.clz32:ki,An=Math.log,Ei=Math.LN2;function ki(e){return e>>>=0,e===0?32:31-(An(e)/Ei|0)|0}var Bn=256,ga=262144,Jn=4194304;function Xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ta(e,n,r){var c=e.pendingLanes;if(c===0)return 0;var f=0,g=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?f=Xn(c):(j&=T,j!==0?f=Xn(j):r||(r=T&~e,r!==0&&(f=Xn(r))))):(T=c&~g,T!==0?f=Xn(T):j!==0?f=Xn(j):r||(r=c&~e,r!==0&&(f=Xn(r)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:f}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ti(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var e=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),e}function et(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ht(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wn(e,n,r,c,f,g){var j=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,F=e.expirationTimes,me=e.hiddenUpdates;for(r=j&~r;0<r;){var _e=31-Et(r),ke=1<<_e;T[_e]=0,F[_e]=-1;var fe=me[_e];if(fe!==null)for(me[_e]=null,_e=0;_e<fe.length;_e++){var ge=fe[_e];ge!==null&&(ge.lane&=-536870913)}r&=~ke}c!==0&&ea(e,c,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(j&~n))}function ea(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Et(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Ci(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var c=31-Et(r),f=1<<c;f&n|e[c]&n&&(e[c]|=n),r&=~f}}function Ai(e,n){var r=n&-n;return r=(r&42)!==0?1:Un(r),(r&(e.suspendedLanes|n))!==0?0:r}function Un(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qs(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Vx(e.type))}function as(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var xa=Math.random().toString(36).slice(2),rn="__reactFiber$"+xa,gn="__reactProps$"+xa,Va="__reactContainer$"+xa,Ca="__reactEvents$"+xa,Ur="__reactListeners$"+xa,ql="__reactHandles$"+xa,Zr="__reactResources$"+xa,zi="__reactMarker$"+xa;function I(e){delete e[rn],delete e[gn],delete e[Ca],delete e[Ur],delete e[ql]}function Re(e){var n=e[rn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Va]||r[rn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Mx(e);e!==null;){if(r=e[rn])return r;e=Mx(e)}return n}e=r,r=e.parentNode}return null}function kt(e){if(e=e[rn]||e[Va]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Zn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Ya(e){var n=e[Zr];return n||(n=e[Zr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nn(e){e[zi]=!0}var Gs=new Set,mu={};function Mi(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mu[e]=n,e=0;e<n.length;e++)Gs.add(n[e])}var Vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Hl={};function Ys(e){return pn.call(Hl,e)?!0:pn.call(Fl,e)?!1:Vs.test(e)?Hl[e]=!0:(Fl[e]=!0,!1)}function ft(e,n,r){if(Ys(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Bt(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ta(e,n,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+c)}}function Nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kl(e,n,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(j){r=""+j,g.call(this,j)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(j){r=""+j},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function st(e){if(!e._valueTracker){var n=Oi(e)?"checked":"value";e._valueTracker=Kl(e,n,""+e[n])}}function Jt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),c="";return e&&(c=Oi(e)?e.checked?"true":"false":e.value),e=c,e!==r?(n.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qr=/[\n"\\]/g;function Yt(e){return e.replace(qr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ql(e,n,r,c,f,g,j,T){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),n!=null?j==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nn(n)):e.value!==""+Nn(n)&&(e.value=""+Nn(n)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),n!=null?$a(e,j,Nn(n)):r!=null?$a(e,j,Nn(r)):c!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Nn(T):e.removeAttribute("name")}function $s(e,n,r,c,f,g,j,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){st(e);return}r=r!=null?""+Nn(r):"",n=n!=null?""+Nn(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),st(e)}function $a(e,n,r){n==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ht(e,n,r,c){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Nn(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ui(e,n,r){if(n!=null&&(n=""+Nn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Nn(r):""}function ss(e,n,r,c){if(n==null){if(c!=null){if(r!=null)throw Error(o(92));if(Y(c)){if(1<c.length)throw Error(o(93));c=c[0]}r=c}r==null&&(r=""),n=r}r=Nn(n),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),st(e)}function Aa(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rs(e,n,r){var c=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,r):typeof r!="number"||r===0||Gl.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Fr(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&r[f]!==c&&rs(e,f,c)}else for(var g in n)n.hasOwnProperty(g)&&rs(e,g,n[g])}function Js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(e){return Vl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function na(){}var Kr=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,Xe=null;function ya(e){var n=kt(e);if(n&&(e=n.stateNode)){var r=e[gn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ql(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Yt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var c=r[n];if(c!==e&&c.form===e.form){var f=c[gn]||null;if(!f)throw Error(o(90));Ql(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)c=r[n],c.form===e.form&&Jt(c)}break e;case"textarea":ui(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ht(e,!!r.multiple,n,!1)}}}var Dt=!1;function Yl(e,n,r){if(Dt)return e(n,r);Dt=!0;try{var c=e(n);return c}finally{if(Dt=!1,(os!==null||Xe!==null)&&(oc(),os&&(n=os,e=Xe,Xe=os=null,ya(n),e)))for(n=0;n<e.length;n++)ya(e[n])}}function Di(e,n){var r=e.stateNode;if(r===null)return null;var c=r[gn]||null;if(c===null)return null;r=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(va)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Ws=!1}var za=null,Ri=null,ln=null;function ci(){if(ln)return ln;var e,n=Ri,r=n.length,c,f="value"in za?za.value:za.textContent,g=f.length;for(e=0;e<r&&n[e]===f[e];e++);var j=r-e;for(c=1;c<=j&&n[r-c]===f[g-c];c++);return ln=f.slice(e,1<c?1-c:void 0)}function er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function tr(){return!0}function hu(){return!1}function Mn(e){function n(r,c,f,g,j){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?tr:hu,this.isPropagationStopped=hu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),n}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=Mn(Ja),us=w({},Ja,{view:0,detail:0}),vt=Mn(us),$l,Qn,Xa,nr=w({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xa&&(Xa&&e.type==="mousemove"?($l=e.screenX-Xa.screenX,Qn=e.screenY-Xa.screenY):Qn=$l=0,Xa=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Qn}}),fu=Mn(nr),Jl=w({},nr,{dataTransfer:0}),wd=Mn(Jl),pu=w({},us,{relatedTarget:0}),Xl=Mn(pu),Ed=w({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=Mn(Ed),kd=w({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ma=Mn(kd),Td=w({},Ja,{data:0}),eo=Mn(Td),di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function to(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xu[e])?!!n[e]:!1}function no(){return to}var yu=w({},us,{key:function(e){if(e.key){var n=di[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(e){return e.type==="keypress"?er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Mn(yu),Cd=w({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Mn(Cd),ao=w({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),Ad=Mn(ao),_u=w({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Mn(_u),Gr=w({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=Mn(Gr),zd=w({},Ja,{newState:0,oldState:0}),ar=Mn(zd),aa=[9,13,27,32],Vr=va&&"CompositionEvent"in window,cs=null;va&&"documentMode"in document&&(cs=document.documentMode);var Md=va&&"TextEvent"in window&&!cs,Yr=va&&(!Vr||cs&&8<cs&&11>=cs),$r=" ",ju=!1;function Su(e,n){switch(e){case"keyup":return aa.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function _a(e,n){switch(e){case"compositionend":return io(n);case"keypress":return n.which!==32?null:(ju=!0,$r);case"textInput":return e=n.data,e===$r&&ju?null:e;default:return null}}function ms(e,n){if(ds)return e==="compositionend"||!Vr&&Su(e,n)?(e=ci(),ln=Ri=za=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Yr&&n.locale!=="ko"?null:n.data;default:return null}}var Od={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Od[e.type]:n==="textarea"}function wu(e,n,r,c){os?Xe?Xe.push(c):Xe=[c]:os=c,n=pc(n,"onChange"),0<n.length&&(r=new Qr("onChange","change",null,r,c),e.push({event:r,listeners:n}))}var Da=null,ir=null;function sr(e){yx(e,0)}function rr(e){var n=Zn(e);if(Jt(n))return e}function lr(e,n){if(e==="change")return n}var Eu=!1;if(va){var Ra;if(va){var hs="oninput"in document;if(!hs){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),hs=typeof ku.oninput=="function"}Ra=hs}else Ra=!1;Eu=Ra&&(!document.documentMode||9<document.documentMode)}function Jr(){Da&&(Da.detachEvent("onpropertychange",Tu),ir=Da=null)}function Tu(e){if(e.propertyName==="value"&&rr(ir)){var n=[];wu(n,ir,e,Xs(e)),Yl(sr,n)}}function Wa(e,n,r){e==="focusin"?(Jr(),Da=n,ir=r,Da.attachEvent("onpropertychange",Tu)):e==="focusout"&&Jr()}function Dd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rr(ir)}function fs(e,n){if(e==="click")return rr(n)}function Rd(e,n){if(e==="input"||e==="change")return rr(n)}function ei(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:ei;function ps(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),c=Object.keys(n);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!pn.call(n,f)||!kn(e[f],n[f]))return!1}return!0}function Xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,n){var r=Xr(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=n&&c>=n)return{node:r,offset:n-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xr(r)}}function Wr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Wr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ur(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=is(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=is(e.document)}return n}function mi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var el=va&&"documentMode"in document&&11>=document.documentMode,hi=null,tl=null,cr=null,gs=!1;function Cu(e,n,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gs||hi==null||hi!==is(c)||(c=hi,"selectionStart"in c&&mi(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cr&&ps(cr,c)||(cr=c,c=pc(tl,"onSelect"),0<c.length&&(n=new Qr("onSelect","select",null,n,r),e.push({event:n,listeners:c}),n.target=hi)))}function fi(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var xs={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},nl={},Au={};va&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Tn(e){if(nl[e])return nl[e];if(!xs[e])return e;var n=xs[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Au)return nl[e]=n[r];return e}var dr=Tn("animationend"),zu=Tn("animationiteration"),mr=Tn("animationstart"),Ld=Tn("transitionrun"),Mu=Tn("transitionstart"),Pd=Tn("transitioncancel"),ys=Tn("transitionend"),Ou=new Map,pi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pi.push("scrollEnd");function ia(e,n){Ou.set(e,n),Mi(n,[e])}var hr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sa=[],qn=0,al=0;function fr(){for(var e=qn,n=al=qn=0;n<e;){var r=sa[n];sa[n++]=null;var c=sa[n];sa[n++]=null;var f=sa[n];sa[n++]=null;var g=sa[n];if(sa[n++]=null,c!==null&&f!==null){var j=c.pending;j===null?f.next=f:(f.next=j.next,j.next=f),c.pending=f}g!==0&&vs(r,f,g)}}function gi(e,n,r,c){sa[qn++]=e,sa[qn++]=n,sa[qn++]=r,sa[qn++]=c,al|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function so(e,n,r,c){return gi(e,n,r,c),pr(e)}function La(e,n){return gi(e,null,null,n),pr(e)}function vs(e,n,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var f=!1,g=e.return;g!==null;)g.childLanes|=r,c=g.alternate,c!==null&&(c.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-Et(r),e=g.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=r|536870912),g):null}function pr(e){if(50<zo)throw zo=0,Bm=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pi={};function Id(e,n,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,n,r,c){return new Id(e,n,r,c)}function il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pa(e,n){var r=e.alternate;return r===null?(r=Fn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function ro(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function gr(e,n,r,c,f,g){var j=0;if(c=e,typeof e=="function")il(e)&&(j=1);else if(typeof e=="string")j=mN(e,r,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Fn(31,r,n,f),e.elementType=re,e.lanes=g,e;case A:return Ii(r.children,f,g,n);case M:j=8,f|=24;break;case U:return e=Fn(12,r,n,f|2),e.elementType=U,e.lanes=g,e;case J:return e=Fn(13,r,n,f),e.elementType=J,e.lanes=g,e;case V:return e=Fn(19,r,n,f),e.elementType=V,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:j=10;break e;case D:j=9;break e;case G:j=11;break e;case K:j=14;break e;case Q:j=16,c=null;break e}j=29,r=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=Fn(j,r,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function Ii(e,n,r,c){return e=Fn(7,e,c,n),e.lanes=r,e}function sl(e,n,r){return e=Fn(6,e,null,n),e.lanes=r,e}function lo(e){var n=Fn(18,null,null,0);return n.stateNode=e,n}function oo(e,n,r){return n=Fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var s=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var r=s.get(e);return r!==void 0?r:(n={value:e,source:n,stack:mt(n)},s.set(e,n),n)}return{value:e,source:n,stack:mt(n)}}var h=[],x=0,_=null,E=0,B=[],le=0,he=null,Ee=1,Oe="";function Ke(e,n){h[x++]=E,h[x++]=_,_=e,E=n}function ot(e,n,r){B[le++]=Ee,B[le++]=Oe,B[le++]=he,he=e;var c=Ee;e=Oe;var f=32-Et(c)-1;c&=~(1<<f),r+=1;var g=32-Et(n)+f;if(30<g){var j=f-f%5;g=(c&(1<<j)-1).toString(32),c>>=j,f-=j,Ee=1<<32-Et(n)+f|r<<f|c,Oe=g+e}else Ee=1<<g|r<<f|c,Oe=e}function jn(e){e.return!==null&&(Ke(e,1),ot(e,1,0))}function on(e){for(;e===_;)_=h[--x],h[x]=null,E=h[--x],h[x]=null;for(;e===he;)he=B[--le],B[le]=null,Oe=B[--le],B[le]=null,Ee=B[--le],B[le]=null}function Gn(e,n){B[le++]=Ee,B[le++]=Oe,B[le++]=he,Ee=n.id,Oe=n.overflow,he=e}var Tt=null,Ct=null,pt=!1,xi=null,ra=!1,rl=Error(o(519));function yi(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xr(u(n,e)),rl}function uo(e){var n=e.stateNode,r=e.type,c=e.memoizedProps;switch(n[rn]=e,n[gn]=c,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<Oo.length;r++)xt(Oo[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),$s(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),ss(n,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||c.suppressHydrationWarning===!0||Nx(n.textContent,r)?(c.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),c.onScroll!=null&&xt("scroll",n),c.onScrollEnd!=null&&xt("scrollend",n),c.onClick!=null&&(n.onclick=na),n=!0):n=!1,n||yi(e,!0)}function an(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:Tt=Tt.return}}function ti(e){if(e!==Tt)return!1;if(!pt)return an(e),pt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||eh(e.type,e.memoizedProps)),r=!r),r&&Ct&&yi(e),an(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ct=zx(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ct=zx(e)}else n===27?(n=Ct,Os(e.type)?(e=sh,sh=null,Ct=e):Ct=n):Ct=Tt?Ba(e.stateNode.nextSibling):null;return!0}function Bi(){Ct=Tt=null,pt=!1}function co(){var e=xi;return e!==null&&(ca===null?ca=e:ca.push.apply(ca,e),xi=null),e}function xr(e){xi===null?xi=[e]:xi.push(e)}var yr=O(null),vi=null,ni=null;function bs(e,n,r){R(yr,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=yr.current,ne(yr)}function Bd(e,n,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===r)break;e=e.return}}function Ud(e,n,r,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var j=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var F=0;F<n.length;F++)if(T.context===n[F]){g.lanes|=r,T=g.alternate,T!==null&&(T.lanes|=r),Bd(g.return,r,e),c||(j=null);break e}g=T.next}}else if(f.tag===18){if(j=f.return,j===null)throw Error(o(341));j.lanes|=r,g=j.alternate,g!==null&&(g.lanes|=r),Bd(j,r,e),j=null}else j=f.child;if(j!==null)j.return=f;else for(j=f;j!==null;){if(j===e){j=null;break}if(f=j.sibling,f!==null){f.return=j.return,j=f;break}j=j.return}f=j}}function ll(e,n,r,c){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var j=f.alternate;if(j===null)throw Error(o(387));if(j=j.memoizedProps,j!==null){var T=f.type;kn(f.pendingProps.value,j.value)||(e!==null?e.push(T):e=[T])}}else if(f===Me.current){if(j=f.alternate,j===null)throw Error(o(387));j.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Io):e=[Io])}f=f.return}e!==null&&Ud(n,e,r,c),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vr(e){vi=e,ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function On(e){return lp(vi,e)}function Ru(e,n){return vi===null&&vr(e),lp(e,n)}function lp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ni===null){if(e===null)throw Error(o(308));ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ni=ni.next=n;return r}var o_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},u_=t.unstable_scheduleCallback,c_=t.unstable_NormalPriority,xn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new o_,data:new Map,refCount:0}}function mo(e){e.refCount--,e.refCount===0&&u_(c_,function(){e.controller.abort()})}var ho=null,qd=0,ol=0,ul=null;function d_(e,n){if(ho===null){var r=ho=[];qd=0,ol=Km(),ul={status:"pending",value:void 0,then:function(c){r.push(c)}}}return qd++,n.then(op,op),n}function op(){if(--qd===0&&ho!==null){ul!==null&&(ul.status="fulfilled");var e=ho;ho=null,ol=0,ul=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m_(e,n){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var up=Z.S;Z.S=function(e,n){Qg=wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d_(e,n),up!==null&&up(e,n)};var br=O(null);function Fd(){var e=br.current;return e!==null?e:Kt.pooledCache}function Lu(e,n){n===null?R(br,br.current):R(br,n.pool)}function cp(){var e=Fd();return e===null?null:{parent:xn._currentValue,pool:e}}var cl=Error(o(460)),Hd=Error(o(474)),Pu=Error(o(542)),Iu={then:function(){}};function dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(na,na),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fp(e),e;default:if(typeof n.status=="string")n.then(na,na);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fp(e),e}throw Nr=n,cl}}function _r(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Nr=r,cl):r}}var Nr=null;function hp(){if(Nr===null)throw Error(o(459));var e=Nr;return Nr=null,e}function fp(e){if(e===cl||e===Pu)throw Error(o(483))}var dl=null,fo=0;function Bu(e){var n=fo;return fo+=1,dl===null&&(dl=[]),mp(dl,e,n)}function po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pp(e){function n(se,X){if(e){var de=se.deletions;de===null?(se.deletions=[X],se.flags|=16):de.push(X)}}function r(se,X){if(!e)return null;for(;X!==null;)n(se,X),X=X.sibling;return null}function c(se){for(var X=new Map;se!==null;)se.key!==null?X.set(se.key,se):X.set(se.index,se),se=se.sibling;return X}function f(se,X){return se=Pa(se,X),se.index=0,se.sibling=null,se}function g(se,X,de){return se.index=de,e?(de=se.alternate,de!==null?(de=de.index,de<X?(se.flags|=67108866,X):de):(se.flags|=67108866,X)):(se.flags|=1048576,X)}function j(se){return e&&se.alternate===null&&(se.flags|=67108866),se}function T(se,X,de,Se){return X===null||X.tag!==6?(X=sl(de,se.mode,Se),X.return=se,X):(X=f(X,de),X.return=se,X)}function F(se,X,de,Se){var Ge=de.type;return Ge===A?_e(se,X,de.props.children,Se,de.key):X!==null&&(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Q&&_r(Ge)===X.type)?(X=f(X,de.props),po(X,de),X.return=se,X):(X=gr(de.type,de.key,de.props,null,se.mode,Se),po(X,de),X.return=se,X)}function me(se,X,de,Se){return X===null||X.tag!==4||X.stateNode.containerInfo!==de.containerInfo||X.stateNode.implementation!==de.implementation?(X=oo(de,se.mode,Se),X.return=se,X):(X=f(X,de.children||[]),X.return=se,X)}function _e(se,X,de,Se,Ge){return X===null||X.tag!==7?(X=Ii(de,se.mode,Se,Ge),X.return=se,X):(X=f(X,de),X.return=se,X)}function ke(se,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=sl(""+X,se.mode,de),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case z:return de=gr(X.type,X.key,X.props,null,se.mode,de),po(de,X),de.return=se,de;case k:return X=oo(X,se.mode,de),X.return=se,X;case Q:return X=_r(X),ke(se,X,de)}if(Y(X)||oe(X))return X=Ii(X,se.mode,de,null),X.return=se,X;if(typeof X.then=="function")return ke(se,Bu(X),de);if(X.$$typeof===P)return ke(se,Ru(se,X),de);Uu(se,X)}return null}function fe(se,X,de,Se){var Ge=X!==null?X.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ge!==null?null:T(se,X,""+de,Se);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case z:return de.key===Ge?F(se,X,de,Se):null;case k:return de.key===Ge?me(se,X,de,Se):null;case Q:return de=_r(de),fe(se,X,de,Se)}if(Y(de)||oe(de))return Ge!==null?null:_e(se,X,de,Se,null);if(typeof de.then=="function")return fe(se,X,Bu(de),Se);if(de.$$typeof===P)return fe(se,X,Ru(se,de),Se);Uu(se,de)}return null}function ge(se,X,de,Se,Ge){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return se=se.get(de)||null,T(X,se,""+Se,Ge);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case z:return se=se.get(Se.key===null?de:Se.key)||null,F(X,se,Se,Ge);case k:return se=se.get(Se.key===null?de:Se.key)||null,me(X,se,Se,Ge);case Q:return Se=_r(Se),ge(se,X,de,Se,Ge)}if(Y(Se)||oe(Se))return se=se.get(de)||null,_e(X,se,Se,Ge,null);if(typeof Se.then=="function")return ge(se,X,de,Bu(Se),Ge);if(Se.$$typeof===P)return ge(se,X,de,Ru(X,Se),Ge);Uu(X,Se)}return null}function Ie(se,X,de,Se){for(var Ge=null,At=null,Ze=X,ut=X=0,_t=null;Ze!==null&&ut<de.length;ut++){Ze.index>ut?(_t=Ze,Ze=null):_t=Ze.sibling;var zt=fe(se,Ze,de[ut],Se);if(zt===null){Ze===null&&(Ze=_t);break}e&&Ze&&zt.alternate===null&&n(se,Ze),X=g(zt,X,ut),At===null?Ge=zt:At.sibling=zt,At=zt,Ze=_t}if(ut===de.length)return r(se,Ze),pt&&Ke(se,ut),Ge;if(Ze===null){for(;ut<de.length;ut++)Ze=ke(se,de[ut],Se),Ze!==null&&(X=g(Ze,X,ut),At===null?Ge=Ze:At.sibling=Ze,At=Ze);return pt&&Ke(se,ut),Ge}for(Ze=c(Ze);ut<de.length;ut++)_t=ge(Ze,se,ut,de[ut],Se),_t!==null&&(e&&_t.alternate!==null&&Ze.delete(_t.key===null?ut:_t.key),X=g(_t,X,ut),At===null?Ge=_t:At.sibling=_t,At=_t);return e&&Ze.forEach(function(Is){return n(se,Is)}),pt&&Ke(se,ut),Ge}function Je(se,X,de,Se){if(de==null)throw Error(o(151));for(var Ge=null,At=null,Ze=X,ut=X=0,_t=null,zt=de.next();Ze!==null&&!zt.done;ut++,zt=de.next()){Ze.index>ut?(_t=Ze,Ze=null):_t=Ze.sibling;var Is=fe(se,Ze,zt.value,Se);if(Is===null){Ze===null&&(Ze=_t);break}e&&Ze&&Is.alternate===null&&n(se,Ze),X=g(Is,X,ut),At===null?Ge=Is:At.sibling=Is,At=Is,Ze=_t}if(zt.done)return r(se,Ze),pt&&Ke(se,ut),Ge;if(Ze===null){for(;!zt.done;ut++,zt=de.next())zt=ke(se,zt.value,Se),zt!==null&&(X=g(zt,X,ut),At===null?Ge=zt:At.sibling=zt,At=zt);return pt&&Ke(se,ut),Ge}for(Ze=c(Ze);!zt.done;ut++,zt=de.next())zt=ge(Ze,se,ut,zt.value,Se),zt!==null&&(e&&zt.alternate!==null&&Ze.delete(zt.key===null?ut:zt.key),X=g(zt,X,ut),At===null?Ge=zt:At.sibling=zt,At=zt);return e&&Ze.forEach(function(jN){return n(se,jN)}),pt&&Ke(se,ut),Ge}function qt(se,X,de,Se){if(typeof de=="object"&&de!==null&&de.type===A&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case z:e:{for(var Ge=de.key;X!==null;){if(X.key===Ge){if(Ge=de.type,Ge===A){if(X.tag===7){r(se,X.sibling),Se=f(X,de.props.children),Se.return=se,se=Se;break e}}else if(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Q&&_r(Ge)===X.type){r(se,X.sibling),Se=f(X,de.props),po(Se,de),Se.return=se,se=Se;break e}r(se,X);break}else n(se,X);X=X.sibling}de.type===A?(Se=Ii(de.props.children,se.mode,Se,de.key),Se.return=se,se=Se):(Se=gr(de.type,de.key,de.props,null,se.mode,Se),po(Se,de),Se.return=se,se=Se)}return j(se);case k:e:{for(Ge=de.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===de.containerInfo&&X.stateNode.implementation===de.implementation){r(se,X.sibling),Se=f(X,de.children||[]),Se.return=se,se=Se;break e}else{r(se,X);break}else n(se,X);X=X.sibling}Se=oo(de,se.mode,Se),Se.return=se,se=Se}return j(se);case Q:return de=_r(de),qt(se,X,de,Se)}if(Y(de))return Ie(se,X,de,Se);if(oe(de)){if(Ge=oe(de),typeof Ge!="function")throw Error(o(150));return de=Ge.call(de),Je(se,X,de,Se)}if(typeof de.then=="function")return qt(se,X,Bu(de),Se);if(de.$$typeof===P)return qt(se,X,Ru(se,de),Se);Uu(se,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,X!==null&&X.tag===6?(r(se,X.sibling),Se=f(X,de),Se.return=se,se=Se):(r(se,X),Se=sl(de,se.mode,Se),Se.return=se,se=Se),j(se)):r(se,X)}return function(se,X,de,Se){try{fo=0;var Ge=qt(se,X,de,Se);return dl=null,Ge}catch(Ze){if(Ze===cl||Ze===Pu)throw Ze;var At=Fn(29,Ze,null,se.mode);return At.lanes=Se,At.return=se,At}}}var jr=pp(!0),gp=pp(!1),_s=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function js(e,n,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Mt&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=pr(e),vs(e,null,r),n}return gi(e,c,n,r),pr(e)}function go(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Ci(e,r)}}function Gd(e,n){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=j:g=g.next=j,r=r.next}while(r!==null);g===null?f=g=n:g=g.next=n}else f=g=n;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Vd=!1;function xo(){if(Vd){var e=ul;if(e!==null)throw e}}function yo(e,n,r,c){Vd=!1;var f=e.updateQueue;_s=!1;var g=f.firstBaseUpdate,j=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var F=T,me=F.next;F.next=null,j===null?g=me:j.next=me,j=F;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,T=_e.lastBaseUpdate,T!==j&&(T===null?_e.firstBaseUpdate=me:T.next=me,_e.lastBaseUpdate=F))}if(g!==null){var ke=f.baseState;j=0,_e=me=F=null,T=g;do{var fe=T.lane&-536870913,ge=fe!==T.lane;if(ge?(bt&fe)===fe:(c&fe)===fe){fe!==0&&fe===ol&&(Vd=!0),_e!==null&&(_e=_e.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ie=e,Je=T;fe=n;var qt=r;switch(Je.tag){case 1:if(Ie=Je.payload,typeof Ie=="function"){ke=Ie.call(qt,ke,fe);break e}ke=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Je.payload,fe=typeof Ie=="function"?Ie.call(qt,ke,fe):Ie,fe==null)break e;ke=w({},ke,fe);break e;case 2:_s=!0}}fe=T.callback,fe!==null&&(e.flags|=64,ge&&(e.flags|=8192),ge=f.callbacks,ge===null?f.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},_e===null?(me=_e=ge,F=ke):_e=_e.next=ge,j|=fe;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ge=T,T=ge.next,ge.next=null,f.lastBaseUpdate=ge,f.shared.pending=null}}while(!0);_e===null&&(F=ke),f.baseState=F,f.firstBaseUpdate=me,f.lastBaseUpdate=_e,g===null&&(f.shared.lanes=0),Ts|=j,e.lanes=j,e.memoizedState=ke}}function xp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function yp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)xp(r[e],n)}var ml=O(null),Zu=O(0);function vp(e,n){e=Yi,R(Zu,e),R(ml,n),Yi=e|n.baseLanes}function Yd(){R(Zu,Yi),R(ml,ml.current)}function $d(){Yi=Zu.current,ne(ml),ne(Zu)}var Na=O(null),Ia=null;function Ss(e){var n=e.alternate;R(hn,hn.current&1),R(Na,e),Ia===null&&(n===null||ml.current!==null||n.memoizedState!==null)&&(Ia=e)}function Jd(e){R(hn,hn.current),R(Na,e),Ia===null&&(Ia=e)}function bp(e){e.tag===22?(R(hn,hn.current),R(Na,e),Ia===null&&(Ia=e)):ws()}function ws(){R(hn,hn.current),R(Na,Na.current)}function ja(e){ne(Na),Ia===e&&(Ia=null),ne(hn)}var hn=O(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ah(r)||ih(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,lt=null,Ut=null,yn=null,Fu=!1,hl=!1,Sr=!1,Hu=0,vo=0,fl=null,h_=0;function un(){throw Error(o(321))}function Xd(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!kn(e[r],n[r]))return!1;return!0}function Wd(e,n,r,c,f,g){return Zi=g,lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?ag:fm,Sr=!1,g=r(c,f),Sr=!1,hl&&(g=Np(n,r,c,f)),_p(e),g}function _p(e){Z.H=No;var n=Ut!==null&&Ut.next!==null;if(Zi=0,yn=Ut=lt=null,Fu=!1,vo=0,fl=null,n)throw Error(o(300));e===null||vn||(e=e.dependencies,e!==null&&Du(e)&&(vn=!0))}function Np(e,n,r,c){lt=e;var f=0;do{if(hl&&(fl=null),vo=0,hl=!1,25<=f)throw Error(o(301));if(f+=1,yn=Ut=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=ig,g=n(r,c)}while(hl);return g}function f_(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?bo(n):n,e=e.useState()[0],(Ut!==null?Ut.memoizedState:null)!==e&&(lt.flags|=1024),n}function em(){var e=Hu!==0;return Hu=0,e}function tm(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function nm(e){if(Fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fu=!1}Zi=0,yn=Ut=lt=null,hl=!1,vo=Hu=0,fl=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?lt.memoizedState=yn=e:yn=yn.next=e,yn}function fn(){if(Ut===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var n=yn===null?lt.memoizedState:yn.next;if(n!==null)yn=n,Ut=e;else{if(e===null)throw lt.alternate===null?Error(o(467)):Error(o(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},yn===null?lt.memoizedState=yn=e:yn=yn.next=e}return yn}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(e){var n=vo;return vo+=1,fl===null&&(fl=[]),e=mp(fl,e,n),n=lt,(yn===null?n.memoizedState:yn.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?ag:fm),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bo(e);if(e.$$typeof===P)return On(e)}throw Error(o(438,String(e)))}function am(e){var n=null,r=lt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var c=lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ku(),lt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),c=0;c<e;c++)r[c]=ye;return n.index++,r}function qi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=fn();return im(n,Ut,e)}function im(e,n,r){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var f=e.baseQueue,g=c.pending;if(g!==null){if(f!==null){var j=f.next;f.next=g.next,g.next=j}n.baseQueue=f=g,c.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var T=j=null,F=null,me=n,_e=!1;do{var ke=me.lane&-536870913;if(ke!==me.lane?(bt&ke)===ke:(Zi&ke)===ke){var fe=me.revertLane;if(fe===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),ke===ol&&(_e=!0);else if((Zi&fe)===fe){me=me.next,fe===ol&&(_e=!0);continue}else ke={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},F===null?(T=F=ke,j=g):F=F.next=ke,lt.lanes|=fe,Ts|=fe;ke=me.action,Sr&&r(g,ke),g=me.hasEagerState?me.eagerState:r(g,ke)}else fe={lane:ke,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},F===null?(T=F=fe,j=g):F=F.next=fe,lt.lanes|=ke,Ts|=ke;me=me.next}while(me!==null&&me!==n);if(F===null?j=g:F.next=T,!kn(g,e.memoizedState)&&(vn=!0,_e&&(r=ul,r!==null)))throw r;e.memoizedState=g,e.baseState=j,e.baseQueue=F,c.lastRenderedState=g}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function sm(e){var n=fn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var c=r.dispatch,f=r.pending,g=n.memoizedState;if(f!==null){r.pending=null;var j=f=f.next;do g=e(g,j.action),j=j.next;while(j!==f);kn(g,n.memoizedState)||(vn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,c]}function jp(e,n,r){var c=lt,f=fn(),g=pt;if(g){if(r===void 0)throw Error(o(407));r=r()}else r=n();var j=!kn((Ut||f).memoizedState,r);if(j&&(f.memoizedState=r,vn=!0),f=f.queue,om(Ep.bind(null,c,f,e),[e]),f.getSnapshot!==n||j||yn!==null&&yn.memoizedState.tag&1){if(c.flags|=2048,pl(9,{destroy:void 0},wp.bind(null,c,f,r,n),null),Kt===null)throw Error(o(349));g||(Zi&127)!==0||Sp(c,n,r)}return r}function Sp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=lt.updateQueue,n===null?(n=Ku(),lt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function wp(e,n,r,c){n.value=r,n.getSnapshot=c,kp(n)&&Tp(e)}function Ep(e,n,r){return r(function(){kp(n)&&Tp(e)})}function kp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!kn(e,r)}catch{return!0}}function Tp(e){var n=La(e,2);n!==null&&da(n,e,2)}function rm(e){var n=Vn();if(typeof e=="function"){var r=e;if(e=r(),Sr){Vt(!0);try{r()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function Cp(e,n,r,c){return e.baseState=r,im(e,Ut,typeof c=="function"?c:qi)}function p_(e,n,r,c,f){if($u(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){g.listeners.push(j)}};Z.T!==null?r(!0):g.isTransition=!1,c(g),r=n.pending,r===null?(g.next=n.pending=g,Ap(n,g)):(g.next=r.next,n.pending=r.next=g)}}function Ap(e,n){var r=n.action,c=n.payload,f=e.state;if(n.isTransition){var g=Z.T,j={};Z.T=j;try{var T=r(f,c),F=Z.S;F!==null&&F(j,T),zp(e,n,T)}catch(me){lm(e,n,me)}finally{g!==null&&j.types!==null&&(g.types=j.types),Z.T=g}}else try{g=r(f,c),zp(e,n,g)}catch(me){lm(e,n,me)}}function zp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Mp(e,n,c)},function(c){return lm(e,n,c)}):Mp(e,n,r)}function Mp(e,n,r){n.status="fulfilled",n.value=r,Op(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Ap(e,r)))}function lm(e,n,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=r,Op(n),n=n.next;while(n!==c)}e.action=null}function Op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dp(e,n){return n}function Rp(e,n){if(pt){var r=Kt.formState;if(r!==null){e:{var c=lt;if(pt){if(Ct){t:{for(var f=Ct,g=ra;f.nodeType!==8;){if(!g){f=null;break t}if(f=Ba(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ct=Ba(f.nextSibling),c=f.data==="F!";break e}}yi(c)}c=!1}c&&(n=r[0])}}return r=Vn(),r.memoizedState=r.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},r.queue=c,r=eg.bind(null,lt,c),c.dispatch=r,c=rm(!1),g=hm.bind(null,lt,!1,c.queue),c=Vn(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,r=p_.bind(null,lt,f,g,r),f.dispatch=r,c.memoizedState=e,[n,r,!1]}function Lp(e){var n=fn();return Pp(n,Ut,e)}function Pp(e,n,r){if(n=im(e,n,Dp)[0],e=Gu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=bo(n)}catch(j){throw j===cl?Pu:j}else c=n;n=fn();var f=n.queue,g=f.dispatch;return r!==n.memoizedState&&(lt.flags|=2048,pl(9,{destroy:void 0},g_.bind(null,f,r),null)),[c,g,e]}function g_(e,n){e.action=n}function Ip(e){var n=fn(),r=Ut;if(r!==null)return Pp(n,r,e);fn(),n=n.memoizedState,r=fn();var c=r.queue.dispatch;return r.memoizedState=e,[n,c,!1]}function pl(e,n,r,c){return e={tag:e,create:r,deps:c,inst:n,next:null},n=lt.updateQueue,n===null&&(n=Ku(),lt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,n.lastEffect=e),e}function Bp(){return fn().memoizedState}function Vu(e,n,r,c){var f=Vn();lt.flags|=e,f.memoizedState=pl(1|n,{destroy:void 0},r,c===void 0?null:c)}function Yu(e,n,r,c){var f=fn();c=c===void 0?null:c;var g=f.memoizedState.inst;Ut!==null&&c!==null&&Xd(c,Ut.memoizedState.deps)?f.memoizedState=pl(n,g,r,c):(lt.flags|=e,f.memoizedState=pl(1|n,g,r,c))}function Up(e,n){Vu(8390656,8,e,n)}function om(e,n){Yu(2048,8,e,n)}function x_(e){lt.flags|=4;var n=lt.updateQueue;if(n===null)n=Ku(),lt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Zp(e){var n=fn().memoizedState;return x_({ref:n,nextImpl:e}),function(){if((Mt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function qp(e,n){return Yu(4,2,e,n)}function Fp(e,n){return Yu(4,4,e,n)}function Hp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kp(e,n,r){r=r!=null?r.concat([e]):null,Yu(4,4,Hp.bind(null,n,e),r)}function um(){}function Qp(e,n){var r=fn();n=n===void 0?null:n;var c=r.memoizedState;return n!==null&&Xd(n,c[1])?c[0]:(r.memoizedState=[e,n],e)}function Gp(e,n){var r=fn();n=n===void 0?null:n;var c=r.memoizedState;if(n!==null&&Xd(n,c[1]))return c[0];if(c=e(),Sr){Vt(!0);try{e()}finally{Vt(!1)}}return r.memoizedState=[c,n],c}function cm(e,n,r){return r===void 0||(Zi&1073741824)!==0&&(bt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Vg(),lt.lanes|=e,Ts|=e,r)}function Vp(e,n,r,c){return kn(r,n)?r:ml.current!==null?(e=cm(e,r,c),kn(e,n)||(vn=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(bt&261930)===0?(vn=!0,e.memoizedState=r):(e=Vg(),lt.lanes|=e,Ts|=e,n)}function Yp(e,n,r,c,f){var g=W.p;W.p=g!==0&&8>g?g:8;var j=Z.T,T={};Z.T=T,hm(e,!1,n,r);try{var F=f(),me=Z.S;if(me!==null&&me(T,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var _e=m_(F,c);_o(e,n,_e,Ea(e))}else _o(e,n,c,Ea(e))}catch(ke){_o(e,n,{then:function(){},status:"rejected",reason:ke},Ea())}finally{W.p=g,j!==null&&T.types!==null&&(j.types=T.types),Z.T=j}}function y_(){}function dm(e,n,r,c){if(e.tag!==5)throw Error(o(476));var f=$p(e).queue;Yp(e,f,n,ce,r===null?y_:function(){return Jp(e),r(c)})}function $p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Jp(e){var n=$p(e);n.next===null&&(n=e.alternate.memoizedState),_o(e,n.next.queue,{},Ea())}function mm(){return On(Io)}function Xp(){return fn().memoizedState}function Wp(){return fn().memoizedState}function v_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ea();e=Ns(r);var c=js(n,e,r);c!==null&&(da(c,n,r),go(c,n,r)),n={cache:Zd()},e.payload=n;return}n=n.return}}function b_(e,n,r){var c=Ea();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(e)?tg(n,r):(r=so(e,n,r,c),r!==null&&(da(r,e,c),ng(r,n,c)))}function eg(e,n,r){var c=Ea();_o(e,n,r,c)}function _o(e,n,r,c){var f={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(e))tg(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var j=n.lastRenderedState,T=g(j,r);if(f.hasEagerState=!0,f.eagerState=T,kn(T,j))return gi(e,n,f,0),Kt===null&&fr(),!1}catch{}if(r=so(e,n,f,c),r!==null)return da(r,e,c),ng(r,n,c),!0}return!1}function hm(e,n,r,c){if(c={lane:2,revertLane:Km(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(o(479))}else n=so(e,r,c,2),n!==null&&da(n,e,2)}function $u(e){var n=e.alternate;return e===lt||n!==null&&n===lt}function tg(e,n){hl=Fu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function ng(e,n,r){if((r&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Ci(e,r)}}var No={readContext:On,use:Qu,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};No.useEffectEvent=un;var ag={readContext:On,use:Qu,useCallback:function(e,n){return Vn().memoizedState=[e,n===void 0?null:n],e},useContext:On,useEffect:Up,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Vu(4194308,4,Hp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var r=Vn();n=n===void 0?null:n;var c=e();if(Sr){Vt(!0);try{e()}finally{Vt(!1)}}return r.memoizedState=[c,n],c},useReducer:function(e,n,r){var c=Vn();if(r!==void 0){var f=r(n);if(Sr){Vt(!0);try{r(n)}finally{Vt(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=b_.bind(null,lt,e),[c.memoizedState,e]},useRef:function(e){var n=Vn();return e={current:e},n.memoizedState=e},useState:function(e){e=rm(e);var n=e.queue,r=eg.bind(null,lt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:um,useDeferredValue:function(e,n){var r=Vn();return cm(r,e,n)},useTransition:function(){var e=rm(!1);return e=Yp.bind(null,lt,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var c=lt,f=Vn();if(pt){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Kt===null)throw Error(o(349));(bt&127)!==0||Sp(c,n,r)}f.memoizedState=r;var g={value:r,getSnapshot:n};return f.queue=g,Up(Ep.bind(null,c,g,e),[e]),c.flags|=2048,pl(9,{destroy:void 0},wp.bind(null,c,g,r,n),null),r},useId:function(){var e=Vn(),n=Kt.identifierPrefix;if(pt){var r=Oe,c=Ee;r=(c&~(1<<32-Et(c)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=h_++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mm,useFormState:Rp,useActionState:Rp,useOptimistic:function(e){var n=Vn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hm.bind(null,lt,!0,r),r.dispatch=n,[e,n]},useMemoCache:am,useCacheRefresh:function(){return Vn().memoizedState=v_.bind(null,lt)},useEffectEvent:function(e){var n=Vn(),r={impl:e};return n.memoizedState=r,function(){if((Mt&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},fm={readContext:On,use:Qu,useCallback:Qp,useContext:On,useEffect:om,useImperativeHandle:Kp,useInsertionEffect:qp,useLayoutEffect:Fp,useMemo:Gp,useReducer:Gu,useRef:Bp,useState:function(){return Gu(qi)},useDebugValue:um,useDeferredValue:function(e,n){var r=fn();return Vp(r,Ut.memoizedState,e,n)},useTransition:function(){var e=Gu(qi)[0],n=fn().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:jp,useId:Xp,useHostTransitionStatus:mm,useFormState:Lp,useActionState:Lp,useOptimistic:function(e,n){var r=fn();return Cp(r,Ut,e,n)},useMemoCache:am,useCacheRefresh:Wp};fm.useEffectEvent=Zp;var ig={readContext:On,use:Qu,useCallback:Qp,useContext:On,useEffect:om,useImperativeHandle:Kp,useInsertionEffect:qp,useLayoutEffect:Fp,useMemo:Gp,useReducer:sm,useRef:Bp,useState:function(){return sm(qi)},useDebugValue:um,useDeferredValue:function(e,n){var r=fn();return Ut===null?cm(r,e,n):Vp(r,Ut.memoizedState,e,n)},useTransition:function(){var e=sm(qi)[0],n=fn().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:jp,useId:Xp,useHostTransitionStatus:mm,useFormState:Ip,useActionState:Ip,useOptimistic:function(e,n){var r=fn();return Ut!==null?Cp(r,Ut,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:am,useCacheRefresh:Wp};ig.useEffectEvent=Zp;function pm(e,n,r,c){n=e.memoizedState,r=r(c,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gm={enqueueSetState:function(e,n,r){e=e._reactInternals;var c=Ea(),f=Ns(c);f.payload=n,r!=null&&(f.callback=r),n=js(e,f,c),n!==null&&(da(n,e,c),go(n,e,c))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var c=Ea(),f=Ns(c);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=js(e,f,c),n!==null&&(da(n,e,c),go(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Ea(),c=Ns(r);c.tag=2,n!=null&&(c.callback=n),n=js(e,c,r),n!==null&&(da(n,e,r),go(n,e,r))}};function sg(e,n,r,c,f,g,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,j):n.prototype&&n.prototype.isPureReactComponent?!ps(r,c)||!ps(f,g):!0}function rg(e,n,r,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,c),n.state!==e&&gm.enqueueReplaceState(n,n.state,null)}function wr(e,n){var r=n;if("ref"in n){r={};for(var c in n)c!=="ref"&&(r[c]=n[c])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function lg(e){hr(e)}function og(e){console.error(e)}function ug(e){hr(e)}function Ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function cg(e,n,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xm(e,n,r){return r=Ns(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(e,n)},r}function dg(e){return e=Ns(e),e.tag=3,e}function mg(e,n,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;e.payload=function(){return f(g)},e.callback=function(){cg(n,r,c)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){cg(n,r,c),typeof f!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function __(e,n,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=r.alternate,n!==null&&ll(n,r,f,!0),r=Na.current,r!==null){switch(r.tag){case 31:case 13:return Ia===null?uc():r.alternate===null&&cn===0&&(cn=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===Iu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([c]):n.add(c),qm(e,c,f)),!1;case 22:return r.flags|=65536,c===Iu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([c]):r.add(c)),qm(e,c,f)),!1}throw Error(o(435,r.tag))}return qm(e,c,f),uc(),!1}if(pt)return n=Na.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==rl&&(e=Error(o(422),{cause:c}),xr(u(e,r)))):(c!==rl&&(n=Error(o(423),{cause:c}),xr(u(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=u(c,r),f=xm(e.stateNode,c,f),Gd(e,f),cn!==4&&(cn=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,r),Ao===null?Ao=[g]:Ao.push(g),cn!==4&&(cn=2),n===null)return!0;c=u(c,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=xm(r.stateNode,c,e),Gd(r,e),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=dg(f),mg(f,e,r,c),Gd(r,f),!1}r=r.return}while(r!==null);return!1}var ym=Error(o(461)),vn=!1;function Dn(e,n,r,c){n.child=e===null?gp(n,null,r,c):jr(n,e.child,r,c)}function hg(e,n,r,c,f){r=r.render;var g=n.ref;if("ref"in c){var j={};for(var T in c)T!=="ref"&&(j[T]=c[T])}else j=c;return vr(n),c=Wd(e,n,r,j,g,f),T=em(),e!==null&&!vn?(tm(e,n,f),Fi(e,n,f)):(pt&&T&&jn(n),n.flags|=1,Dn(e,n,c,f),n.child)}function fg(e,n,r,c,f){if(e===null){var g=r.type;return typeof g=="function"&&!il(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,pg(e,n,g,c,f)):(e=gr(r.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Em(e,f)){var j=g.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(j,c)&&e.ref===n.ref)return Fi(e,n,f)}return n.flags|=1,e=Pa(g,c),e.ref=n.ref,e.return=n,n.child=e}function pg(e,n,r,c,f){if(e!==null){var g=e.memoizedProps;if(ps(g,c)&&e.ref===n.ref)if(vn=!1,n.pendingProps=c=g,Em(e,f))(e.flags&131072)!==0&&(vn=!0);else return n.lanes=e.lanes,Fi(e,n,f)}return vm(e,n,r,c,f)}function gg(e,n,r,c){var f=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,n.child=null;return xg(e,n,g,r,c)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(n,g!==null?g.cachePool:null),g!==null?vp(n,g):Yd(),bp(n);else return c=n.lanes=536870912,xg(e,n,g!==null?g.baseLanes|r:r,r,c)}else g!==null?(Lu(n,g.cachePool),vp(n,g),ws(),n.memoizedState=null):(e!==null&&Lu(n,null),Yd(),ws());return Dn(e,n,f,r),n.child}function jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xg(e,n,r,c,f){var g=Fd();return g=g===null?null:{parent:xn._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},e!==null&&Lu(n,null),Yd(),bp(n),e!==null&&ll(e,n,c,!0),n.childLanes=f,null}function Xu(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yg(e,n,r){return jr(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,ja(n),n.memoizedState=null,e}function N_(e,n,r){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(pt){if(c.mode==="hidden")return e=Xu(n,c),n.lanes=536870912,jo(null,e);if(Jd(n),(e=Ct)?(e=Ax(e,ra),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:he!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},r=lo(e),r.return=n,n.child=r,Tt=n,Ct=null)):e=null,e===null)throw yi(n);return n.lanes=536870912,null}return Xu(n,c)}var g=e.memoizedState;if(g!==null){var j=g.dehydrated;if(Jd(n),f)if(n.flags&256)n.flags&=-257,n=yg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(vn||ll(e,n,r,!1),f=(r&e.childLanes)!==0,vn||f){if(c=Kt,c!==null&&(j=Ai(c,r),j!==0&&j!==g.retryLane))throw g.retryLane=j,La(e,j),da(c,e,j),ym;uc(),n=yg(e,n,r)}else e=g.treeContext,Ct=Ba(j.nextSibling),Tt=n,pt=!0,xi=null,ra=!1,e!==null&&Gn(n,e),n=Xu(n,c),n.flags|=4096;return n}return e=Pa(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function vm(e,n,r,c,f){return vr(n),r=Wd(e,n,r,c,void 0,f),c=em(),e!==null&&!vn?(tm(e,n,f),Fi(e,n,f)):(pt&&c&&jn(n),n.flags|=1,Dn(e,n,r,f),n.child)}function vg(e,n,r,c,f,g){return vr(n),n.updateQueue=null,r=Np(n,c,r,f),_p(e),c=em(),e!==null&&!vn?(tm(e,n,g),Fi(e,n,g)):(pt&&c&&jn(n),n.flags|=1,Dn(e,n,r,g),n.child)}function bg(e,n,r,c,f){if(vr(n),n.stateNode===null){var g=Pi,j=r.contextType;typeof j=="object"&&j!==null&&(g=On(j)),g=new r(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gm,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Kd(n),j=r.contextType,g.context=typeof j=="object"&&j!==null?On(j):Pi,g.state=n.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(pm(n,r,j,c),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(j=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),j!==g.state&&gm.enqueueReplaceState(g,g.state,null),yo(n,c,g,f),xo(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,F=wr(r,T);g.props=F;var me=g.context,_e=r.contextType;j=Pi,typeof _e=="object"&&_e!==null&&(j=On(_e));var ke=r.getDerivedStateFromProps;_e=typeof ke=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||me!==j)&&rg(n,g,c,j),_s=!1;var fe=n.memoizedState;g.state=fe,yo(n,c,g,f),xo(),me=n.memoizedState,T||fe!==me||_s?(typeof ke=="function"&&(pm(n,r,ke,c),me=n.memoizedState),(F=_s||sg(n,r,F,c,fe,me,j))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=me),g.props=c,g.state=me,g.context=j,c=F):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Qd(e,n),j=n.memoizedProps,_e=wr(r,j),g.props=_e,ke=n.pendingProps,fe=g.context,me=r.contextType,F=Pi,typeof me=="object"&&me!==null&&(F=On(me)),T=r.getDerivedStateFromProps,(me=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==ke||fe!==F)&&rg(n,g,c,F),_s=!1,fe=n.memoizedState,g.state=fe,yo(n,c,g,f),xo();var ge=n.memoizedState;j!==ke||fe!==ge||_s||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(pm(n,r,T,c),ge=n.memoizedState),(_e=_s||sg(n,r,_e,c,fe,ge,F)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(me||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ge,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ge,F)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===e.memoizedProps&&fe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&fe===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ge),g.props=c,g.state=ge,g.context=F,c=_e):(typeof g.componentDidUpdate!="function"||j===e.memoizedProps&&fe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&fe===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Wu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=jr(n,e.child,null,f),n.child=jr(n,null,r,f)):Dn(e,n,r,f),n.memoizedState=g.state,e=n.child):e=Fi(e,n,f),e}function _g(e,n,r,c){return Bi(),n.flags|=256,Dn(e,n,r,c),n.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(e){return{baseLanes:e,cachePool:cp()}}function Nm(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=wa),e}function Ng(e,n,r){var c=n.pendingProps,f=!1,g=(n.flags&128)!==0,j;if((j=g)||(j=e!==null&&e.memoizedState===null?!1:(hn.current&2)!==0),j&&(f=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,e===null){if(pt){if(f?Ss(n):ws(),(e=Ct)?(e=Ax(e,ra),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:he!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},r=lo(e),r.return=n,n.child=r,Tt=n,Ct=null)):e=null,e===null)throw yi(n);return ih(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(ws(),f=n.mode,T=ec({mode:"hidden",children:T},f),c=Ii(c,f,r,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=_m(r),c.childLanes=Nm(e,j,r),n.memoizedState=bm,jo(null,c)):(Ss(n),jm(n,T))}var F=e.memoizedState;if(F!==null&&(T=F.dehydrated,T!==null)){if(g)n.flags&256?(Ss(n),n.flags&=-257,n=Sm(e,n,r)):n.memoizedState!==null?(ws(),n.child=e.child,n.flags|=128,n=null):(ws(),T=c.fallback,f=n.mode,c=ec({mode:"visible",children:c.children},f),T=Ii(T,f,r,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,jr(n,e.child,null,r),c=n.child,c.memoizedState=_m(r),c.childLanes=Nm(e,j,r),n.memoizedState=bm,n=jo(null,c));else if(Ss(n),ih(T)){if(j=T.nextSibling&&T.nextSibling.dataset,j)var me=j.dgst;j=me,c=Error(o(419)),c.stack="",c.digest=j,xr({value:c,source:null,stack:null}),n=Sm(e,n,r)}else if(vn||ll(e,n,r,!1),j=(r&e.childLanes)!==0,vn||j){if(j=Kt,j!==null&&(c=Ai(j,r),c!==0&&c!==F.retryLane))throw F.retryLane=c,La(e,c),da(j,e,c),ym;ah(T)||uc(),n=Sm(e,n,r)}else ah(T)?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,Ct=Ba(T.nextSibling),Tt=n,pt=!0,xi=null,ra=!1,e!==null&&Gn(n,e),n=jm(n,c.children),n.flags|=4096);return n}return f?(ws(),T=c.fallback,f=n.mode,F=e.child,me=F.sibling,c=Pa(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,me!==null?T=Pa(me,T):(T=Ii(T,f,r,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,jo(null,c),c=n.child,T=e.child.memoizedState,T===null?T=_m(r):(f=T.cachePool,f!==null?(F=xn._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=cp(),T={baseLanes:T.baseLanes|r,cachePool:f}),c.memoizedState=T,c.childLanes=Nm(e,j,r),n.memoizedState=bm,jo(e.child,c)):(Ss(n),r=e.child,e=r.sibling,r=Pa(r,{mode:"visible",children:c.children}),r.return=n,r.sibling=null,e!==null&&(j=n.deletions,j===null?(n.deletions=[e],n.flags|=16):j.push(e)),n.child=r,n.memoizedState=null,r)}function jm(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=Fn(22,e,null,n),e.lanes=0,e}function Sm(e,n,r){return jr(n,e.child,null,r),e=jm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jg(e,n,r){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Bd(e.return,n,r)}function wm(e,n,r,c,f,g){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f,treeForkCount:g}:(j.isBackwards=n,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=r,j.tailMode=f,j.treeForkCount=g)}function Sg(e,n,r){var c=n.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var j=hn.current,T=(j&2)!==0;if(T?(j=j&1|2,n.flags|=128):j&=1,R(hn,j),Dn(e,n,c,r),c=pt?E:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,r,n);else if(e.tag===19)jg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&qu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),wm(n,!1,f,r,g,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&qu(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}wm(n,!0,r,null,g,c);break;case"together":wm(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Fi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ts|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ll(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Pa(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Pa(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Em(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function j_(e,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),bs(n,xn,e.memoizedState.cache),Bi();break;case 27:case 5:Fe(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ss(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ng(e,n,r):(Ss(n),e=Fi(e,n,r),e!==null?e.sibling:null);Ss(n);break;case 19:var f=(e.flags&128)!==0;if(c=(r&n.childLanes)!==0,c||(ll(e,n,r,!1),c=(r&n.childLanes)!==0),f){if(c)return Sg(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),R(hn,hn.current),c)break;return null;case 22:return n.lanes=0,gg(e,n,r,n.pendingProps);case 24:bs(n,xn,e.memoizedState.cache)}return Fi(e,n,r)}function wg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)vn=!0;else{if(!Em(e,r)&&(n.flags&128)===0)return vn=!1,j_(e,n,r);vn=(e.flags&131072)!==0}else vn=!1,pt&&(n.flags&1048576)!==0&&ot(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=_r(n.elementType),n.type=e,typeof e=="function")il(e)?(c=wr(e,c),n.tag=1,n=bg(null,n,e,c,r)):(n.tag=0,n=vm(null,n,e,c,r));else{if(e!=null){var f=e.$$typeof;if(f===G){n.tag=11,n=hg(null,n,e,c,r);break e}else if(f===K){n.tag=14,n=fg(null,n,e,c,r);break e}}throw n=q(e)||e,Error(o(306,n,""))}}return n;case 0:return vm(e,n,n.type,n.pendingProps,r);case 1:return c=n.type,f=wr(c,n.pendingProps),bg(e,n,c,f,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;f=g.element,Qd(e,n),yo(n,c,null,r);var j=n.memoizedState;if(c=j.cache,bs(n,xn,c),c!==g.cache&&Ud(n,[xn],r,!0),xo(),c=j.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=_g(e,n,c,r);break e}else if(c!==f){f=u(Error(o(424)),n),xr(f),n=_g(e,n,c,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ct=Ba(e.firstChild),Tt=n,pt=!0,xi=null,ra=!0,r=gp(n,null,c,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bi(),c===f){n=Fi(e,n,r);break e}Dn(e,n,c,r)}n=n.child}return n;case 26:return Wu(e,n),e===null?(r=Lx(n.type,null,n.pendingProps,null))?n.memoizedState=r:pt||(r=n.type,e=n.pendingProps,c=gc(je.current).createElement(r),c[rn]=n,c[gn]=e,Rn(c,r,e),nn(c),n.stateNode=c):n.memoizedState=Lx(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fe(n),e===null&&pt&&(c=n.stateNode=Ox(n.type,n.pendingProps,je.current),Tt=n,ra=!0,f=Ct,Os(n.type)?(sh=f,Ct=Ba(c.firstChild)):Ct=f),Dn(e,n,n.pendingProps.children,r),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&pt&&((f=c=Ct)&&(c=W_(c,n.type,n.pendingProps,ra),c!==null?(n.stateNode=c,Tt=n,Ct=Ba(c.firstChild),ra=!1,f=!0):f=!1),f||yi(n)),Fe(n),f=n.type,g=n.pendingProps,j=e!==null?e.memoizedProps:null,c=g.children,eh(f,g)?c=null:j!==null&&eh(f,j)&&(n.flags|=32),n.memoizedState!==null&&(f=Wd(e,n,f_,null,null,r),Io._currentValue=f),Wu(e,n),Dn(e,n,c,r),n.child;case 6:return e===null&&pt&&((e=r=Ct)&&(r=eN(r,n.pendingProps,ra),r!==null?(n.stateNode=r,Tt=n,Ct=null,e=!0):e=!1),e||yi(n)),null;case 13:return Ng(e,n,r);case 4:return qe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=jr(n,null,c,r):Dn(e,n,c,r),n.child;case 11:return hg(e,n,n.type,n.pendingProps,r);case 7:return Dn(e,n,n.pendingProps,r),n.child;case 8:return Dn(e,n,n.pendingProps.children,r),n.child;case 12:return Dn(e,n,n.pendingProps.children,r),n.child;case 10:return c=n.pendingProps,bs(n,n.type,c.value),Dn(e,n,c.children,r),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,vr(n),f=On(f),c=c(f),n.flags|=1,Dn(e,n,c,r),n.child;case 14:return fg(e,n,n.type,n.pendingProps,r);case 15:return pg(e,n,n.type,n.pendingProps,r);case 19:return Sg(e,n,r);case 31:return N_(e,n,r);case 22:return gg(e,n,r,n.pendingProps);case 24:return vr(n),c=On(xn),e===null?(f=Fd(),f===null&&(f=Kt,g=Zd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),n.memoizedState={parent:c,cache:f},Kd(n),bs(n,xn,f)):((e.lanes&r)!==0&&(Qd(e,n),yo(n,null,null,r),xo()),f=e.memoizedState,g=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),bs(n,xn,c)):(c=g.cache,bs(n,xn,c),c!==f.cache&&Ud(n,[xn],r,!0))),Dn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Hi(e){e.flags|=4}function km(e,n,r,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Xg())e.flags|=8192;else throw Nr=Iu,Hd}else e.flags&=-16777217}function Eg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zx(n))if(Xg())e.flags|=8192;else throw Nr=Iu,Hd}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ue():536870912,e.lanes|=n,vl|=n)}function So(e,n){if(!pt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function $t(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=r,n}function S_(e,n,r){var c=n.pendingProps;switch(on(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Ui(xn),Ye(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ti(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,co())),$t(n),null;case 26:var f=n.type,g=n.memoizedState;return e===null?(Hi(n),g!==null?($t(n),Eg(n,g)):($t(n),km(n,f,null,c,r))):g?g!==e.memoizedState?(Hi(n),$t(n),Eg(n,g)):($t(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Hi(n),$t(n),km(n,f,e,c,r)),null;case 27:if(Ne(n),r=je.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Hi(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return $t(n),null}e=H.current,ti(n)?uo(n):(e=Ox(f,c,r),n.stateNode=e,Hi(n))}return $t(n),null;case 5:if(Ne(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Hi(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return $t(n),null}if(g=H.current,ti(n))uo(n);else{var j=gc(je.current);switch(g){case 1:g=j.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=j.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=j.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?j.createElement(f,{is:c.is}):j.createElement(f)}}g[rn]=n,g[gn]=c;e:for(j=n.child;j!==null;){if(j.tag===5||j.tag===6)g.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}n.stateNode=g;e:switch(Rn(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Hi(n)}}return $t(n),km(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Hi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=je.current,ti(n)){if(e=n.stateNode,r=n.memoizedProps,c=null,f=Tt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[rn]=n,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Nx(e.nodeValue,r)),e||yi(n,!0)}else e=gc(e).createTextNode(c),e[rn]=n,n.stateNode=e}return $t(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(c=ti(n),r!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[rn]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),e=!1}else r=co(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(ja(n),n):(ja(n),null);if((n.flags&128)!==0)throw Error(o(558))}return $t(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ti(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[rn]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),f=!1}else f=co(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ja(n),n):(ja(n),null)}return ja(n),(n.flags&128)!==0?(n.lanes=r,n):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),$t(n),null);case 4:return Ye(),e===null&&Ym(n.stateNode.containerInfo),$t(n),null;case 10:return Ui(n.type),$t(n),null;case 19:if(ne(hn),c=n.memoizedState,c===null)return $t(n),null;if(f=(n.flags&128)!==0,g=c.rendering,g===null)if(f)So(c,!1);else{if(cn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=qu(e),g!==null){for(n.flags|=128,So(c,!1),e=g.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)ro(r,e),r=r.sibling;return R(hn,hn.current&1|2),pt&&Ke(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&wt()>rc&&(n.flags|=128,f=!0,So(c,!1),n.lanes=4194304)}else{if(!f)if(e=qu(g),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),So(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!pt)return $t(n),null}else 2*wt()-c.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,f=!0,So(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=wt(),e.sibling=null,r=hn.current,R(hn,f?r&1|2:r&1),pt&&Ke(n,c.treeForkCount),e):($t(n),null);case 22:case 23:return ja(n),$d(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(r&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048),e!==null&&ne(br),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(xn),$t(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function w_(e,n){switch(on(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(xn),Ye(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ne(n),null;case 31:if(n.memoizedState!==null){if(ja(n),n.alternate===null)throw Error(o(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ja(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ne(hn),null;case 4:return Ye(),null;case 10:return Ui(n.type),null;case 22:case 23:return ja(n),$d(),e!==null&&ne(br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(xn),null;case 25:return null;default:return null}}function kg(e,n){switch(on(n),n.tag){case 3:Ui(xn),Ye();break;case 26:case 27:case 5:Ne(n);break;case 4:Ye();break;case 31:n.memoizedState!==null&&ja(n);break;case 13:ja(n);break;case 19:ne(hn);break;case 10:Ui(n.type);break;case 22:case 23:ja(n),$d(),e!==null&&ne(br);break;case 24:Ui(xn)}}function wo(e,n){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){c=void 0;var g=r.create,j=r.inst;c=g(),j.destroy=c}r=r.next}while(r!==f)}}catch(T){Lt(n,n.return,T)}}function Es(e,n,r){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&e)===e){var j=c.inst,T=j.destroy;if(T!==void 0){j.destroy=void 0,f=n;var F=r,me=T;try{me()}catch(_e){Lt(f,F,_e)}}}c=c.next}while(c!==g)}}catch(_e){Lt(n,n.return,_e)}}function Tg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{yp(n,r)}catch(c){Lt(e,e.return,c)}}}function Cg(e,n,r){r.props=wr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Lt(e,n,c)}}function Eo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(f){Lt(e,n,f)}}function bi(e,n){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Lt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Lt(e,n,f)}else r.current=null}function Ag(e){var n=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Lt(e,e.return,f)}}function Tm(e,n,r){try{var c=e.stateNode;G_(c,e.type,r,n),c[gn]=n}catch(f){Lt(e,e.return,f)}}function zg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Am(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=na));else if(c!==4&&(c===27&&Os(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Am(e,n,r),e=e.sibling;e!==null;)Am(e,n,r),e=e.sibling}function nc(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(c!==4&&(c===27&&Os(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(nc(e,n,r),e=e.sibling;e!==null;)nc(e,n,r),e=e.sibling}function Mg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Rn(n,c,r),n[rn]=e,n[gn]=r}catch(g){Lt(e,e.return,g)}}var Ki=!1,bn=!1,zm=!1,Og=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function E_(e,n){if(e=e.containerInfo,Xm=jc,e=ur(e),mi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var j=0,T=-1,F=-1,me=0,_e=0,ke=e,fe=null;t:for(;;){for(var ge;ke!==r||f!==0&&ke.nodeType!==3||(T=j+f),ke!==g||c!==0&&ke.nodeType!==3||(F=j+c),ke.nodeType===3&&(j+=ke.nodeValue.length),(ge=ke.firstChild)!==null;)fe=ke,ke=ge;for(;;){if(ke===e)break t;if(fe===r&&++me===f&&(T=j),fe===g&&++_e===c&&(F=j),(ge=ke.nextSibling)!==null)break;ke=fe,fe=ke.parentNode}ke=ge}r=T===-1||F===-1?null:{start:T,end:F}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wm={focusedElem:e,selectionRange:r},jc=!1,Cn=n;Cn!==null;)if(n=Cn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Cn=e;else for(;Cn!==null;){switch(n=Cn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=n,f=g.memoizedProps,g=g.memoizedState,c=r.stateNode;try{var Ie=wr(r.type,f);e=c.getSnapshotBeforeUpdate(Ie,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Je){Lt(r,r.return,Je)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)nh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Cn=e;break}Cn=n.return}}function Dg(e,n,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(e,r),c&4&&wo(5,r);break;case 1:if(Gi(e,r),c&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(j){Lt(r,r.return,j)}else{var f=wr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(j){Lt(r,r.return,j)}}c&64&&Tg(r),c&512&&Eo(r,r.return);break;case 3:if(Gi(e,r),c&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yp(e,n)}catch(j){Lt(r,r.return,j)}}break;case 27:n===null&&c&4&&Mg(r);case 26:case 5:Gi(e,r),n===null&&c&4&&Ag(r),c&512&&Eo(r,r.return);break;case 12:Gi(e,r);break;case 31:Gi(e,r),c&4&&Pg(e,r);break;case 13:Gi(e,r),c&4&&Ig(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=R_.bind(null,r),tN(e,r))));break;case 22:if(c=r.memoizedState!==null||Ki,!c){n=n!==null&&n.memoizedState!==null||bn,f=Ki;var g=bn;Ki=c,(bn=n)&&!g?Vi(e,r,(r.subtreeFlags&8772)!==0):Gi(e,r),Ki=f,bn=g}break;case 30:break;default:Gi(e,r)}}function Rg(e){var n=e.alternate;n!==null&&(e.alternate=null,Rg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&I(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xt=null,la=!1;function Qi(e,n,r){for(r=r.child;r!==null;)Lg(e,n,r),r=r.sibling}function Lg(e,n,r){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Qe,r)}catch{}switch(r.tag){case 26:bn||bi(r,n),Qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:bn||bi(r,n);var c=Xt,f=la;Os(r.type)&&(Xt=r.stateNode,la=!1),Qi(e,n,r),Ro(r.stateNode),Xt=c,la=f;break;case 5:bn||bi(r,n);case 6:if(c=Xt,f=la,Xt=null,Qi(e,n,r),Xt=c,la=f,Xt!==null)if(la)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(r.stateNode)}catch(g){Lt(r,n,g)}else try{Xt.removeChild(r.stateNode)}catch(g){Lt(r,n,g)}break;case 18:Xt!==null&&(la?(e=Xt,Tx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),kl(e)):Tx(Xt,r.stateNode));break;case 4:c=Xt,f=la,Xt=r.stateNode.containerInfo,la=!0,Qi(e,n,r),Xt=c,la=f;break;case 0:case 11:case 14:case 15:Es(2,r,n),bn||Es(4,r,n),Qi(e,n,r);break;case 1:bn||(bi(r,n),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Cg(r,n,c)),Qi(e,n,r);break;case 21:Qi(e,n,r);break;case 22:bn=(c=bn)||r.memoizedState!==null,Qi(e,n,r),bn=c;break;default:Qi(e,n,r)}}function Pg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{kl(e)}catch(r){Lt(n,n.return,r)}}}function Ig(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(r){Lt(n,n.return,r)}}function k_(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Og),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Og),n;default:throw Error(o(435,e.tag))}}function ac(e,n){var r=k_(e);n.forEach(function(c){if(!r.has(c)){r.add(c);var f=L_.bind(null,e,c);c.then(f,f)}})}function oa(e,n){var r=n.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],g=e,j=n,T=j;e:for(;T!==null;){switch(T.tag){case 27:if(Os(T.type)){Xt=T.stateNode,la=!1;break e}break;case 5:Xt=T.stateNode,la=!1;break e;case 3:case 4:Xt=T.stateNode.containerInfo,la=!0;break e}T=T.return}if(Xt===null)throw Error(o(160));Lg(g,j,f),Xt=null,la=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bg(n,e),n=n.sibling}var ai=null;function Bg(e,n){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:oa(n,e),ua(e),c&4&&(Es(3,e,e.return),wo(3,e),Es(5,e,e.return));break;case 1:oa(n,e),ua(e),c&512&&(bn||r===null||bi(r,r.return)),c&64&&Ki&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=ai;if(oa(n,e),ua(e),c&512&&(bn||r===null||bi(r,r.return)),c&4){var g=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[zi]||g[rn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),Rn(g,c,r),g[rn]=e,nn(g),c=g;break e;case"link":var j=Bx("link","href",f).get(c+(r.href||""));if(j){for(var T=0;T<j.length;T++)if(g=j[T],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(T,1);break t}}g=f.createElement(c),Rn(g,c,r),f.head.appendChild(g);break;case"meta":if(j=Bx("meta","content",f).get(c+(r.content||""))){for(T=0;T<j.length;T++)if(g=j[T],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(T,1);break t}}g=f.createElement(c),Rn(g,c,r),f.head.appendChild(g);break;default:throw Error(o(468,c))}g[rn]=e,nn(g),c=g}e.stateNode=c}else Ux(f,e.type,e.stateNode);else e.stateNode=Ix(f,c,e.memoizedProps);else g!==c?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,c===null?Ux(f,e.type,e.stateNode):Ix(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Tm(e,e.memoizedProps,r.memoizedProps)}break;case 27:oa(n,e),ua(e),c&512&&(bn||r===null||bi(r,r.return)),r!==null&&c&4&&Tm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(oa(n,e),ua(e),c&512&&(bn||r===null||bi(r,r.return)),e.flags&32){f=e.stateNode;try{Aa(f,"")}catch(Ie){Lt(e,e.return,Ie)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,Tm(e,f,r!==null?r.memoizedProps:f)),c&1024&&(zm=!0);break;case 6:if(oa(n,e),ua(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Ie){Lt(e,e.return,Ie)}}break;case 3:if(vc=null,f=ai,ai=xc(n.containerInfo),oa(n,e),ai=f,ua(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(Ie){Lt(e,e.return,Ie)}zm&&(zm=!1,Ug(e));break;case 4:c=ai,ai=xc(e.stateNode.containerInfo),oa(n,e),ua(e),ai=c;break;case 12:oa(n,e),ua(e);break;case 31:oa(n,e),ua(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ac(e,c)));break;case 13:oa(n,e),ua(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=wt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ac(e,c)));break;case 22:f=e.memoizedState!==null;var F=r!==null&&r.memoizedState!==null,me=Ki,_e=bn;if(Ki=me||f,bn=_e||F,oa(n,e),bn=_e,Ki=me,ua(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||F||Ki||bn||Er(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){F=r=n;try{if(g=F.stateNode,f)j=g.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{T=F.stateNode;var ke=F.memoizedProps.style,fe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;T.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ie){Lt(F,F.return,Ie)}}}else if(n.tag===6){if(r===null){F=n;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(Ie){Lt(F,F.return,Ie)}}}else if(n.tag===18){if(r===null){F=n;try{var ge=F.stateNode;f?Cx(ge,!0):Cx(F.stateNode,!1)}catch(Ie){Lt(F,F.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,ac(e,r))));break;case 19:oa(n,e),ua(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ac(e,c)));break;case 30:break;case 21:break;default:oa(n,e),ua(e)}}function ua(e){var n=e.flags;if(n&2){try{for(var r,c=e.return;c!==null;){if(zg(c)){r=c;break}c=c.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var f=r.stateNode,g=Cm(e);nc(e,g,f);break;case 5:var j=r.stateNode;r.flags&32&&(Aa(j,""),r.flags&=-33);var T=Cm(e);nc(e,T,j);break;case 3:case 4:var F=r.stateNode.containerInfo,me=Cm(e);Am(e,me,F);break;default:throw Error(o(161))}}catch(_e){Lt(e,e.return,_e)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dg(e,n.alternate,n),n=n.sibling}function Er(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Es(4,n,n.return),Er(n);break;case 1:bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cg(n,n.return,r),Er(n);break;case 27:Ro(n.stateNode);case 26:case 5:bi(n,n.return),Er(n);break;case 22:n.memoizedState===null&&Er(n);break;case 30:Er(n);break;default:Er(n)}e=e.sibling}}function Vi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,g=n,j=g.flags;switch(g.tag){case 0:case 11:case 15:Vi(f,g,r),wo(4,g);break;case 1:if(Vi(f,g,r),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(me){Lt(c,c.return,me)}if(c=g,f=c.updateQueue,f!==null){var T=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)xp(F[f],T)}catch(me){Lt(c,c.return,me)}}r&&j&64&&Tg(g),Eo(g,g.return);break;case 27:Mg(g);case 26:case 5:Vi(f,g,r),r&&c===null&&j&4&&Ag(g),Eo(g,g.return);break;case 12:Vi(f,g,r);break;case 31:Vi(f,g,r),r&&j&4&&Pg(f,g);break;case 13:Vi(f,g,r),r&&j&4&&Ig(f,g);break;case 22:g.memoizedState===null&&Vi(f,g,r),Eo(g,g.return);break;case 30:break;default:Vi(f,g,r)}n=n.sibling}}function Mm(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&mo(r))}function Om(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&mo(e))}function ii(e,n,r,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(e,n,r,c),n=n.sibling}function Zg(e,n,r,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,r,c),f&2048&&wo(9,n);break;case 1:ii(e,n,r,c);break;case 3:ii(e,n,r,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&mo(e)));break;case 12:if(f&2048){ii(e,n,r,c),e=n.stateNode;try{var g=n.memoizedProps,j=g.id,T=g.onPostCommit;typeof T=="function"&&T(j,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){Lt(n,n.return,F)}}else ii(e,n,r,c);break;case 31:ii(e,n,r,c);break;case 13:ii(e,n,r,c);break;case 23:break;case 22:g=n.stateNode,j=n.alternate,n.memoizedState!==null?g._visibility&2?ii(e,n,r,c):ko(e,n):g._visibility&2?ii(e,n,r,c):(g._visibility|=2,gl(e,n,r,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Mm(j,n);break;case 24:ii(e,n,r,c),f&2048&&Om(n.alternate,n);break;default:ii(e,n,r,c)}}function gl(e,n,r,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,j=n,T=r,F=c,me=j.flags;switch(j.tag){case 0:case 11:case 15:gl(g,j,T,F,f),wo(8,j);break;case 23:break;case 22:var _e=j.stateNode;j.memoizedState!==null?_e._visibility&2?gl(g,j,T,F,f):ko(g,j):(_e._visibility|=2,gl(g,j,T,F,f)),f&&me&2048&&Mm(j.alternate,j);break;case 24:gl(g,j,T,F,f),f&&me&2048&&Om(j.alternate,j);break;default:gl(g,j,T,F,f)}n=n.sibling}}function ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,c=n,f=c.flags;switch(c.tag){case 22:ko(r,c),f&2048&&Mm(c.alternate,c);break;case 24:ko(r,c),f&2048&&Om(c.alternate,c);break;default:ko(r,c)}n=n.sibling}}var To=8192;function xl(e,n,r){if(e.subtreeFlags&To)for(e=e.child;e!==null;)qg(e,n,r),e=e.sibling}function qg(e,n,r){switch(e.tag){case 26:xl(e,n,r),e.flags&To&&e.memoizedState!==null&&hN(r,ai,e.memoizedState,e.memoizedProps);break;case 5:xl(e,n,r);break;case 3:case 4:var c=ai;ai=xc(e.stateNode.containerInfo),xl(e,n,r),ai=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=To,To=16777216,xl(e,n,r),To=c):xl(e,n,r));break;default:xl(e,n,r)}}function Fg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];Cn=c,Kg(c,e)}Fg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hg(e),e=e.sibling}function Hg(e){switch(e.tag){case 0:case 11:case 15:Co(e),e.flags&2048&&Es(9,e,e.return);break;case 3:Co(e);break;case 12:Co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):Co(e);break;default:Co(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];Cn=c,Kg(c,e)}Fg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Es(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function Kg(e,n){for(;Cn!==null;){var r=Cn;switch(r.tag){case 0:case 11:case 15:Es(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mo(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Cn=c;else e:for(r=e;Cn!==null;){c=Cn;var f=c.sibling,g=c.return;if(Rg(c),c===r){Cn=null;break e}if(f!==null){f.return=g,Cn=f;break e}Cn=g}}}var T_={getCacheForType:function(e){var n=On(xn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return On(xn).controller.signal}},C_=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Kt=null,gt=null,bt=0,Rt=0,Sa=null,ks=!1,yl=!1,Dm=!1,Yi=0,cn=0,Ts=0,kr=0,Rm=0,wa=0,vl=0,Ao=null,ca=null,Lm=!1,sc=0,Qg=0,rc=1/0,lc=null,Cs=null,Sn=0,As=null,bl=null,$i=0,Pm=0,Im=null,Gg=null,zo=0,Bm=null;function Ea(){return(Mt&2)!==0&&bt!==0?bt&-bt:Z.T!==null?Km():Qs()}function Vg(){if(wa===0)if((bt&536870912)===0||pt){var e=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),wa=e}else wa=536870912;return e=Na.current,e!==null&&(e.flags|=32),wa}function da(e,n,r){(e===Kt&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(_l(e,0),zs(e,bt,wa,!1)),ht(e,r),((Mt&2)===0||e!==Kt)&&(e===Kt&&((Mt&2)===0&&(kr|=r),cn===4&&zs(e,bt,wa,!1)),_i(e))}function Yg(e,n,r){if((Mt&6)!==0)throw Error(o(327));var c=!r&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),f=c?M_(e,n):Zm(e,n,!0),g=c;do{if(f===0){yl&&!c&&zs(e,n,0,!1);break}else{if(r=e.current.alternate,g&&!A_(r)){f=Zm(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var T=e;f=Ao;var F=T.current.memoizedState.isDehydrated;if(F&&(_l(T,j).flags|=256),j=Zm(T,j,!1),j!==2){if(Dm&&!F){T.errorRecoveryDisabledLanes|=g,kr|=g,f=4;break e}g=ca,ca=f,g!==null&&(ca===null?ca=g:ca.push.apply(ca,g))}f=j}if(g=!1,f!==2)continue}}if(f===1){_l(e,0),zs(e,n,0,!0);break}e:{switch(c=e,g=f,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:zs(c,n,wa,!ks);break e;case 2:ca=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=sc+300-wt(),10<f)){if(zs(c,n,wa,!ks),Ta(c,0,!0)!==0)break e;$i=n,c.timeoutHandle=Ex($g.bind(null,c,r,ca,lc,Lm,n,wa,kr,vl,ks,g,"Throttled",-0,0),f);break e}$g(c,r,ca,lc,Lm,n,wa,kr,vl,ks,g,null,-0,0)}}break}while(!0);_i(e)}function $g(e,n,r,c,f,g,j,T,F,me,_e,ke,fe,ge){if(e.timeoutHandle=-1,ke=n.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},qg(n,g,ke);var Ie=(g&62914560)===g?sc-wt():(g&4194048)===g?Qg-wt():0;if(Ie=fN(ke,Ie),Ie!==null){$i=g,e.cancelPendingCommit=Ie(ix.bind(null,e,n,g,r,c,f,j,T,F,_e,ke,null,fe,ge)),zs(e,g,j,!me);return}}ix(e,n,g,r,c,f,j,T,F)}function A_(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],g=f.getSnapshot;f=f.value;try{if(!kn(g(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,r,c){n&=~Rm,n&=~kr,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var g=31-Et(f),j=1<<g;c[g]=-1,f&=~j}r!==0&&ea(e,r,n)}function oc(){return(Mt&6)===0?(Mo(0),!1):!0}function Um(){if(gt!==null){if(Rt===0)var e=gt.return;else e=gt,ni=vi=null,nm(e),dl=null,fo=0,e=gt;for(;e!==null;)kg(e.alternate,e),e=e.return;gt=null}}function _l(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,$_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),$i=0,Um(),Kt=e,gt=r=Pa(e.current,null),bt=n,Rt=0,Sa=null,ks=!1,yl=zn(e,n),Dm=!1,vl=wa=Rm=kr=Ts=cn=0,ca=Ao=null,Lm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-Et(c),g=1<<f;n|=e[f],c&=~g}return Yi=n,fr(),r}function Jg(e,n){lt=null,Z.H=No,n===cl||n===Pu?(n=hp(),Rt=3):n===Hd?(n=hp(),Rt=4):Rt=n===ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sa=n,gt===null&&(cn=1,Ju(e,u(n,e.current)))}function Xg(){var e=Na.current;return e===null?!0:(bt&4194048)===bt?Ia===null:(bt&62914560)===bt||(bt&536870912)!==0?e===Ia:!1}function Wg(){var e=Z.H;return Z.H=No,e===null?No:e}function ex(){var e=Z.A;return Z.A=T_,e}function uc(){cn=4,ks||(bt&4194048)!==bt&&Na.current!==null||(yl=!0),(Ts&134217727)===0&&(kr&134217727)===0||Kt===null||zs(Kt,bt,wa,!1)}function Zm(e,n,r){var c=Mt;Mt|=2;var f=Wg(),g=ex();(Kt!==e||bt!==n)&&(lc=null,_l(e,n)),n=!1;var j=cn;e:do try{if(Rt!==0&&gt!==null){var T=gt,F=Sa;switch(Rt){case 8:Um(),j=6;break e;case 3:case 2:case 9:case 6:Na.current===null&&(n=!0);var me=Rt;if(Rt=0,Sa=null,Nl(e,T,F,me),r&&yl){j=0;break e}break;default:me=Rt,Rt=0,Sa=null,Nl(e,T,F,me)}}z_(),j=cn;break}catch(_e){Jg(e,_e)}while(!0);return n&&e.shellSuspendCounter++,ni=vi=null,Mt=c,Z.H=f,Z.A=g,gt===null&&(Kt=null,bt=0,fr()),j}function z_(){for(;gt!==null;)tx(gt)}function M_(e,n){var r=Mt;Mt|=2;var c=Wg(),f=ex();Kt!==e||bt!==n?(lc=null,rc=wt()+500,_l(e,n)):yl=zn(e,n);e:do try{if(Rt!==0&&gt!==null){n=gt;var g=Sa;t:switch(Rt){case 1:Rt=0,Sa=null,Nl(e,n,g,1);break;case 2:case 9:if(dp(g)){Rt=0,Sa=null,nx(n);break}n=function(){Rt!==2&&Rt!==9||Kt!==e||(Rt=7),_i(e)},g.then(n,n);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:dp(g)?(Rt=0,Sa=null,nx(n)):(Rt=0,Sa=null,Nl(e,n,g,7));break;case 5:var j=null;switch(gt.tag){case 26:j=gt.memoizedState;case 5:case 27:var T=gt;if(j?Zx(j):T.stateNode.complete){Rt=0,Sa=null;var F=T.sibling;if(F!==null)gt=F;else{var me=T.return;me!==null?(gt=me,cc(me)):gt=null}break t}}Rt=0,Sa=null,Nl(e,n,g,5);break;case 6:Rt=0,Sa=null,Nl(e,n,g,6);break;case 8:Um(),cn=6;break e;default:throw Error(o(462))}}O_();break}catch(_e){Jg(e,_e)}while(!0);return ni=vi=null,Z.H=c,Z.A=f,Mt=r,gt!==null?0:(Kt=null,bt=0,fr(),cn)}function O_(){for(;gt!==null&&!He();)tx(gt)}function tx(e){var n=wg(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?cc(e):gt=n}function nx(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=vg(r,n,n.pendingProps,n.type,void 0,bt);break;case 11:n=vg(r,n,n.pendingProps,n.type.render,n.ref,bt);break;case 5:nm(n);default:kg(r,n),n=gt=ro(n,Yi),n=wg(r,n,Yi)}e.memoizedProps=e.pendingProps,n===null?cc(e):gt=n}function Nl(e,n,r,c){ni=vi=null,nm(n),dl=null,fo=0;var f=n.return;try{if(__(e,f,n,r,bt)){cn=1,Ju(e,u(r,e.current)),gt=null;return}}catch(g){if(f!==null)throw gt=f,g;cn=1,Ju(e,u(r,e.current)),gt=null;return}n.flags&32768?(pt||c===1?e=!0:yl||(bt&536870912)!==0?e=!1:(ks=e=!0,(c===2||c===9||c===3||c===6)&&(c=Na.current,c!==null&&c.tag===13&&(c.flags|=16384))),ax(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){ax(n,ks);return}e=n.return;var r=S_(n.alternate,n,Yi);if(r!==null){gt=r;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);cn===0&&(cn=5)}function ax(e,n){do{var r=w_(e.alternate,e);if(r!==null){r.flags&=32767,gt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){gt=e;return}gt=e=r}while(e!==null);cn=6,gt=null}function ix(e,n,r,c,f,g,j,T,F){e.cancelPendingCommit=null;do dc();while(Sn!==0);if((Mt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=al,Wn(e,r,g,j,T,F),e===Kt&&(gt=Kt=null,bt=0),bl=n,As=e,$i=r,Pm=g,Im=f,Gg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P_(it,function(){return ux(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,f=W.p,W.p=2,j=Mt,Mt|=4;try{E_(e,n,r)}finally{Mt=j,W.p=f,Z.T=c}}Sn=1,sx(),rx(),lx()}}function sx(){if(Sn===1){Sn=0;var e=As,n=bl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Z.T,Z.T=null;var c=W.p;W.p=2;var f=Mt;Mt|=4;try{Bg(n,e);var g=Wm,j=ur(e.containerInfo),T=g.focusedElem,F=g.selectionRange;if(j!==T&&T&&T.ownerDocument&&Wr(T.ownerDocument.documentElement,T)){if(F!==null&&mi(T)){var me=F.start,_e=F.end;if(_e===void 0&&(_e=me),"selectionStart"in T)T.selectionStart=me,T.selectionEnd=Math.min(_e,T.value.length);else{var ke=T.ownerDocument||document,fe=ke&&ke.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),Ie=T.textContent.length,Je=Math.min(F.start,Ie),qt=F.end===void 0?Je:Math.min(F.end,Ie);!ge.extend&&Je>qt&&(j=qt,qt=Je,Je=j);var se=or(T,Je),X=or(T,qt);if(se&&X&&(ge.rangeCount!==1||ge.anchorNode!==se.node||ge.anchorOffset!==se.offset||ge.focusNode!==X.node||ge.focusOffset!==X.offset)){var de=ke.createRange();de.setStart(se.node,se.offset),ge.removeAllRanges(),Je>qt?(ge.addRange(de),ge.extend(X.node,X.offset)):(de.setEnd(X.node,X.offset),ge.addRange(de))}}}}for(ke=[],ge=T;ge=ge.parentNode;)ge.nodeType===1&&ke.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ke.length;T++){var Se=ke[T];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}jc=!!Xm,Wm=Xm=null}finally{Mt=f,W.p=c,Z.T=r}}e.current=n,Sn=2}}function rx(){if(Sn===2){Sn=0;var e=As,n=bl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Z.T,Z.T=null;var c=W.p;W.p=2;var f=Mt;Mt|=4;try{Dg(e,n.alternate,n)}finally{Mt=f,W.p=c,Z.T=r}}Sn=3}}function lx(){if(Sn===4||Sn===3){Sn=0,ct();var e=As,n=bl,r=$i,c=Gg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sn=5:(Sn=0,bl=As=null,ox(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Cs=null),Pe(r),n=n.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Qe,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Z.T,f=W.p,W.p=2,Z.T=null;try{for(var g=e.onRecoverableError,j=0;j<c.length;j++){var T=c[j];g(T.value,{componentStack:T.stack})}}finally{Z.T=n,W.p=f}}($i&3)!==0&&dc(),_i(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===Bm?zo++:(zo=0,Bm=e):zo=0,Mo(0)}}function ox(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,mo(n)))}function dc(){return sx(),rx(),lx(),ux()}function ux(){if(Sn!==5)return!1;var e=As,n=Pm;Pm=0;var r=Pe($i),c=Z.T,f=W.p;try{W.p=32>r?32:r,Z.T=null,r=Im,Im=null;var g=As,j=$i;if(Sn=0,bl=As=null,$i=0,(Mt&6)!==0)throw Error(o(331));var T=Mt;if(Mt|=4,Hg(g.current),Zg(g,g.current,j,r),Mt=T,Mo(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Qe,g)}catch{}return!0}finally{W.p=f,Z.T=c,ox(e,n)}}function cx(e,n,r){n=u(r,n),n=xm(e.stateNode,n,2),e=js(e,n,2),e!==null&&(ht(e,2),_i(e))}function Lt(e,n,r){if(e.tag===3)cx(e,e,r);else for(;n!==null;){if(n.tag===3){cx(n,e,r);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Cs===null||!Cs.has(c))){e=u(r,e),r=dg(2),c=js(n,r,2),c!==null&&(mg(r,c,n,e),ht(c,2),_i(c));break}}n=n.return}}function qm(e,n,r){var c=e.pingCache;if(c===null){c=e.pingCache=new C_;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(r)||(Dm=!0,f.add(r),e=D_.bind(null,e,n,r),n.then(e,e))}function D_(e,n,r){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Kt===e&&(bt&r)===r&&(cn===4||cn===3&&(bt&62914560)===bt&&300>wt()-sc?(Mt&2)===0&&_l(e,0):Rm|=r,vl===bt&&(vl=0)),_i(e)}function dx(e,n){n===0&&(n=ue()),e=La(e,n),e!==null&&(ht(e,n),_i(e))}function R_(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),dx(e,r)}function L_(e,n){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),dx(e,r)}function P_(e,n){return ae(e,n)}var mc=null,jl=null,Fm=!1,hc=!1,Hm=!1,Ms=0;function _i(e){e!==jl&&e.next===null&&(jl===null?mc=jl=e:jl=jl.next=e),hc=!0,Fm||(Fm=!0,B_())}function Mo(e,n){if(!Hm&&hc){Hm=!0;do for(var r=!1,c=mc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var j=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-Et(42|e)+1)-1,g&=f&~(j&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,px(c,g))}else g=bt,g=Ta(c,c===Kt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||zn(c,g)||(r=!0,px(c,g));c=c.next}while(r);Hm=!1}}function I_(){mx()}function mx(){hc=Fm=!1;var e=0;Ms!==0&&Y_()&&(e=Ms);for(var n=wt(),r=null,c=mc;c!==null;){var f=c.next,g=hx(c,n);g===0?(c.next=null,r===null?mc=f:r.next=f,f===null&&(jl=r)):(r=c,(e!==0||(g&3)!==0)&&(hc=!0)),c=f}Sn!==0&&Sn!==5||Mo(e),Ms!==0&&(Ms=0)}function hx(e,n){for(var r=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var j=31-Et(g),T=1<<j,F=f[j];F===-1?((T&r)===0||(T&c)!==0)&&(f[j]=Ti(T,n)):F<=n&&(e.expiredLanes|=T),g&=~T}if(n=Kt,r=bt,r=Ta(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===n&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||zn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(c!==null&&Ce(c),Pe(r)){case 2:case 8:r=Ue;break;case 32:r=it;break;case 268435456:r=tn;break;default:r=it}return c=fx.bind(null,e),r=ae(r,c),e.callbackPriority=n,e.callbackNode=r,n}return c!==null&&c!==null&&Ce(c),e.callbackPriority=2,e.callbackNode=null,2}function fx(e,n){if(Sn!==0&&Sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(dc()&&e.callbackNode!==r)return null;var c=bt;return c=Ta(e,e===Kt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Yg(e,c,n),hx(e,wt()),e.callbackNode!=null&&e.callbackNode===r?fx.bind(null,e):null)}function px(e,n){if(dc())return null;Yg(e,n,!0)}function B_(){J_(function(){(Mt&6)!==0?ae(ve,I_):mx()})}function Km(){if(Ms===0){var e=ol;e===0&&(e=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Ms=e}return Ms}function gx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ls(""+e)}function xx(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function U_(e,n,r,c,f){if(n==="submit"&&r&&r.stateNode===f){var g=gx((f[gn]||null).action),j=c.submitter;j&&(n=(n=j[gn]||null)?gx(n.formAction):j.getAttribute("formAction"),n!==null&&(g=n,j=null));var T=new Qr("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ms!==0){var F=j?xx(f,j):new FormData(f);dm(r,{pending:!0,data:F,method:f.method,action:g},null,F)}}else typeof g=="function"&&(T.preventDefault(),F=j?xx(f,j):new FormData(f),dm(r,{pending:!0,data:F,method:f.method,action:g},g,F))},currentTarget:f}]})}}for(var Qm=0;Qm<pi.length;Qm++){var Gm=pi[Qm],Z_=Gm.toLowerCase(),q_=Gm[0].toUpperCase()+Gm.slice(1);ia(Z_,"on"+q_)}ia(dr,"onAnimationEnd"),ia(zu,"onAnimationIteration"),ia(mr,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(Ld,"onTransitionRun"),ia(Mu,"onTransitionStart"),ia(Pd,"onTransitionCancel"),ia(ys,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function yx(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var j=c.length-1;0<=j;j--){var T=c[j],F=T.instance,me=T.currentTarget;if(T=T.listener,F!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=me;try{g(f)}catch(_e){hr(_e)}f.currentTarget=null,g=F}else for(j=0;j<c.length;j++){if(T=c[j],F=T.instance,me=T.currentTarget,T=T.listener,F!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=me;try{g(f)}catch(_e){hr(_e)}f.currentTarget=null,g=F}}}}function xt(e,n){var r=n[Ca];r===void 0&&(r=n[Ca]=new Set);var c=e+"__bubble";r.has(c)||(vx(n,e,2,!1),r.add(c))}function Vm(e,n,r){var c=0;n&&(c|=4),vx(r,e,c,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Ym(e){if(!e[fc]){e[fc]=!0,Gs.forEach(function(r){r!=="selectionchange"&&(F_.has(r)||Vm(r,!1,e),Vm(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,Vm("selectionchange",!1,n))}}function vx(e,n,r,c){switch(Vx(n)){case 2:var f=xN;break;case 8:f=yN;break;default:f=ch}r=f.bind(null,n,r,e),f=void 0,!Ws||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function $m(e,n,r,c,f){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var T=c.stateNode.containerInfo;if(T===f)break;if(j===4)for(j=c.return;j!==null;){var F=j.tag;if((F===3||F===4)&&j.stateNode.containerInfo===f)return;j=j.return}for(;T!==null;){if(j=Re(T),j===null)return;if(F=j.tag,F===5||F===6||F===26||F===27){c=g=j;continue e}T=T.parentNode}}c=c.return}Yl(function(){var me=g,_e=Xs(r),ke=[];e:{var fe=Ou.get(e);if(fe!==void 0){var ge=Qr,Ie=e;switch(e){case"keypress":if(er(r)===0)break e;case"keydown":case"keyup":ge=vu;break;case"focusin":Ie="focus",ge=Xl;break;case"focusout":Ie="blur",ge=Xl;break;case"beforeblur":case"afterblur":ge=Xl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ad;break;case dr:case zu:case mr:ge=Wl;break;case ys:ge=Nu;break;case"scroll":case"scrollend":ge=vt;break;case"wheel":ge=Li;break;case"copy":case"cut":case"paste":ge=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=bu;break;case"toggle":case"beforetoggle":ge=ar}var Je=(n&4)!==0,qt=!Je&&(e==="scroll"||e==="scrollend"),se=Je?fe!==null?fe+"Capture":null:fe;Je=[];for(var X=me,de;X!==null;){var Se=X;if(de=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||de===null||se===null||(Se=Di(X,se),Se!=null&&Je.push(Do(X,Se,de))),qt)break;X=X.return}0<Je.length&&(fe=new ge(fe,Ie,null,r,_e),ke.push({event:fe,listeners:Je}))}}if((n&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",fe&&r!==Kr&&(Ie=r.relatedTarget||r.fromElement)&&(Re(Ie)||Ie[Va]))break e;if((ge||fe)&&(fe=_e.window===_e?_e:(fe=_e.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(Ie=r.relatedTarget||r.toElement,ge=me,Ie=Ie?Re(Ie):null,Ie!==null&&(qt=m(Ie),Je=Ie.tag,Ie!==qt||Je!==5&&Je!==27&&Je!==6)&&(Ie=null)):(ge=null,Ie=me),ge!==Ie)){if(Je=fu,Se="onMouseLeave",se="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Je=bu,Se="onPointerLeave",se="onPointerEnter",X="pointer"),qt=ge==null?fe:Zn(ge),de=Ie==null?fe:Zn(Ie),fe=new Je(Se,X+"leave",ge,r,_e),fe.target=qt,fe.relatedTarget=de,Se=null,Re(_e)===me&&(Je=new Je(se,X+"enter",Ie,r,_e),Je.target=de,Je.relatedTarget=qt,Se=Je),qt=Se,ge&&Ie)t:{for(Je=H_,se=ge,X=Ie,de=0,Se=se;Se;Se=Je(Se))de++;Se=0;for(var Ge=X;Ge;Ge=Je(Ge))Se++;for(;0<de-Se;)se=Je(se),de--;for(;0<Se-de;)X=Je(X),Se--;for(;de--;){if(se===X||X!==null&&se===X.alternate){Je=se;break t}se=Je(se),X=Je(X)}Je=null}else Je=null;ge!==null&&bx(ke,fe,ge,Je,!1),Ie!==null&&qt!==null&&bx(ke,qt,Ie,Je,!0)}}e:{if(fe=me?Zn(me):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var At=lr;else if(Oa(fe))if(Eu)At=Rd;else{At=Dd;var Ze=Wa}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?me&&Js(me.elementType)&&(At=lr):At=fs;if(At&&(At=At(e,me))){wu(ke,At,r,_e);break e}Ze&&Ze(e,fe,me),e==="focusout"&&me&&fe.type==="number"&&me.memoizedProps.value!=null&&$a(fe,"number",fe.value)}switch(Ze=me?Zn(me):window,e){case"focusin":(Oa(Ze)||Ze.contentEditable==="true")&&(hi=Ze,tl=me,cr=null);break;case"focusout":cr=tl=hi=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,Cu(ke,r,_e);break;case"selectionchange":if(el)break;case"keydown":case"keyup":Cu(ke,r,_e)}var ut;if(Vr)e:{switch(e){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ds?Su(e,r)&&(_t="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(Yr&&r.locale!=="ko"&&(ds||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ds&&(ut=ci()):(za=_e,Ri="value"in za?za.value:za.textContent,ds=!0)),Ze=pc(me,_t),0<Ze.length&&(_t=new eo(_t,e,null,r,_e),ke.push({event:_t,listeners:Ze}),ut?_t.data=ut:(ut=io(r),ut!==null&&(_t.data=ut)))),(ut=Md?_a(e,r):ms(e,r))&&(_t=pc(me,"onBeforeInput"),0<_t.length&&(Ze=new eo("onBeforeInput","beforeinput",null,r,_e),ke.push({event:Ze,listeners:_t}),Ze.data=ut)),U_(ke,e,me,r,_e)}yx(ke,n)})}function Do(e,n,r){return{instance:e,listener:n,currentTarget:r}}function pc(e,n){for(var r=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Di(e,r),f!=null&&c.unshift(Do(e,f,g)),f=Di(e,n),f!=null&&c.push(Do(e,f,g))),e.tag===3)return c;e=e.return}return[]}function H_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bx(e,n,r,c,f){for(var g=n._reactName,j=[];r!==null&&r!==c;){var T=r,F=T.alternate,me=T.stateNode;if(T=T.tag,F!==null&&F===c)break;T!==5&&T!==26&&T!==27||me===null||(F=me,f?(me=Di(r,g),me!=null&&j.unshift(Do(r,me,F))):f||(me=Di(r,g),me!=null&&j.push(Do(r,me,F)))),r=r.return}j.length!==0&&e.push({event:n,listeners:j})}var K_=/\r\n?/g,Q_=/\u0000|\uFFFD/g;function _x(e){return(typeof e=="string"?e:""+e).replace(K_,`
`).replace(Q_,"")}function Nx(e,n){return n=_x(n),_x(e)===n}function Zt(e,n,r,c,f,g){switch(r){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Aa(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Aa(e,""+c);break;case"className":Bt(e,"class",c);break;case"tabIndex":Bt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bt(e,r,c);break;case"style":Fr(e,c,g);break;case"data":if(n!=="object"){Bt(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=ls(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",f.name,f,null),Zt(e,n,"formEncType",f.formEncType,f,null),Zt(e,n,"formMethod",f.formMethod,f,null),Zt(e,n,"formTarget",f.formTarget,f,null)):(Zt(e,n,"encType",f.encType,f,null),Zt(e,n,"method",f.method,f,null),Zt(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=ls(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=na);break;case"onScroll":c!=null&&xt("scroll",e);break;case"onScrollEnd":c!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=ls(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ft(e,"popover",c);break;case"xlinkActuate":ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ta(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ta(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ta(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ta(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ft(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Hr.get(r)||r,ft(e,r,c))}}function Jm(e,n,r,c,f,g){switch(r){case"style":Fr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof c=="string"?Aa(e,c):(typeof c=="number"||typeof c=="bigint")&&Aa(e,""+c);break;case"onScroll":c!=null&&xt("scroll",e);break;case"onScrollEnd":c!=null&&xt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),g=e[gn]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,c,f);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):ft(e,r,c)}}}function Rn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var c=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var j=r[g];if(j!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Zt(e,n,g,j,r,null)}}f&&Zt(e,n,"srcSet",r.srcSet,r,null),c&&Zt(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var T=g=j=f=null,F=null,me=null;for(c in r)if(r.hasOwnProperty(c)){var _e=r[c];if(_e!=null)switch(c){case"name":f=_e;break;case"type":j=_e;break;case"checked":F=_e;break;case"defaultChecked":me=_e;break;case"value":g=_e;break;case"defaultValue":T=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(o(137,n));break;default:Zt(e,n,c,_e,r,null)}}$s(e,g,T,F,me,j,f,!1);return;case"select":xt("invalid",e),c=j=g=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":j=T;break;case"multiple":c=T;default:Zt(e,n,f,T,r,null)}n=g,r=j,e.multiple=!!c,n!=null?Ht(e,!!c,n,!1):r!=null&&Ht(e,!!c,r,!0);return;case"textarea":xt("invalid",e),g=f=c=null;for(j in r)if(r.hasOwnProperty(j)&&(T=r[j],T!=null))switch(j){case"value":c=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Zt(e,n,j,T,r,null)}ss(e,c,f,g);return;case"option":for(F in r)r.hasOwnProperty(F)&&(c=r[F],c!=null)&&(F==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Zt(e,n,F,c,r,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(c=0;c<Oo.length;c++)xt(Oo[c],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in r)if(r.hasOwnProperty(me)&&(c=r[me],c!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Zt(e,n,me,c,r,null)}return;default:if(Js(n)){for(_e in r)r.hasOwnProperty(_e)&&(c=r[_e],c!==void 0&&Jm(e,n,_e,c,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(c=r[T],c!=null&&Zt(e,n,T,c,r,null))}function G_(e,n,r,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,j=null,T=null,F=null,me=null,_e=null;for(ge in r){var ke=r[ge];if(r.hasOwnProperty(ge)&&ke!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":F=ke;default:c.hasOwnProperty(ge)||Zt(e,n,ge,null,c,ke)}}for(var fe in c){var ge=c[fe];if(ke=r[fe],c.hasOwnProperty(fe)&&(ge!=null||ke!=null))switch(fe){case"type":g=ge;break;case"name":f=ge;break;case"checked":me=ge;break;case"defaultChecked":_e=ge;break;case"value":j=ge;break;case"defaultValue":T=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(o(137,n));break;default:ge!==ke&&Zt(e,n,fe,ge,c,ke)}}Ql(e,j,T,F,me,_e,g,f);return;case"select":ge=j=T=fe=null;for(g in r)if(F=r[g],r.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":ge=F;default:c.hasOwnProperty(g)||Zt(e,n,g,null,c,F)}for(f in c)if(g=c[f],F=r[f],c.hasOwnProperty(f)&&(g!=null||F!=null))switch(f){case"value":fe=g;break;case"defaultValue":T=g;break;case"multiple":j=g;default:g!==F&&Zt(e,n,f,g,c,F)}n=T,r=j,c=ge,fe!=null?Ht(e,!!r,fe,!1):!!c!=!!r&&(n!=null?Ht(e,!!r,n,!0):Ht(e,!!r,r?[]:"",!1));return;case"textarea":ge=fe=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,c,f)}for(j in c)if(f=c[j],g=r[j],c.hasOwnProperty(j)&&(f!=null||g!=null))switch(j){case"value":fe=f;break;case"defaultValue":ge=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==g&&Zt(e,n,j,f,c,g)}ui(e,fe,ge);return;case"option":for(var Ie in r)fe=r[Ie],r.hasOwnProperty(Ie)&&fe!=null&&!c.hasOwnProperty(Ie)&&(Ie==="selected"?e.selected=!1:Zt(e,n,Ie,null,c,fe));for(F in c)fe=c[F],ge=r[F],c.hasOwnProperty(F)&&fe!==ge&&(fe!=null||ge!=null)&&(F==="selected"?e.selected=fe&&typeof fe!="function"&&typeof fe!="symbol":Zt(e,n,F,fe,c,ge));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in r)fe=r[Je],r.hasOwnProperty(Je)&&fe!=null&&!c.hasOwnProperty(Je)&&Zt(e,n,Je,null,c,fe);for(me in c)if(fe=c[me],ge=r[me],c.hasOwnProperty(me)&&fe!==ge&&(fe!=null||ge!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,n));break;default:Zt(e,n,me,fe,c,ge)}return;default:if(Js(n)){for(var qt in r)fe=r[qt],r.hasOwnProperty(qt)&&fe!==void 0&&!c.hasOwnProperty(qt)&&Jm(e,n,qt,void 0,c,fe);for(_e in c)fe=c[_e],ge=r[_e],!c.hasOwnProperty(_e)||fe===ge||fe===void 0&&ge===void 0||Jm(e,n,_e,fe,c,ge);return}}for(var se in r)fe=r[se],r.hasOwnProperty(se)&&fe!=null&&!c.hasOwnProperty(se)&&Zt(e,n,se,null,c,fe);for(ke in c)fe=c[ke],ge=r[ke],!c.hasOwnProperty(ke)||fe===ge||fe==null&&ge==null||Zt(e,n,ke,fe,c,ge)}function jx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function V_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var f=r[c],g=f.transferSize,j=f.initiatorType,T=f.duration;if(g&&T&&jx(j)){for(j=0,T=f.responseEnd,c+=1;c<r.length;c++){var F=r[c],me=F.startTime;if(me>T)break;var _e=F.transferSize,ke=F.initiatorType;_e&&jx(ke)&&(F=F.responseEnd,j+=_e*(F<T?1:(T-me)/(F-me)))}if(--c,n+=8*(g+j)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xm=null,Wm=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function Sx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function eh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var th=null;function Y_(){var e=window.event;return e&&e.type==="popstate"?e===th?!1:(th=e,!0):(th=null,!1)}var Ex=typeof setTimeout=="function"?setTimeout:void 0,$_=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(e){return kx.resolve(null).then(e).catch(X_)}:Ex;function X_(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Tx(e,n){var r=n,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(f),kl(n);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Ro(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ro(r);for(var g=r.firstChild;g;){var j=g.nextSibling,T=g.nodeName;g[zi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=j}}else r==="body"&&Ro(e.ownerDocument.body);r=f}while(r);kl(n)}function Cx(e,n){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function nh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nh(r),I(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function W_(e,n,r,c){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[zi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Ba(e.nextSibling),e===null)break}return null}function eN(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ba(e.nextSibling),e===null))return null;return e}function Ax(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ba(e.nextSibling),e===null))return null;return e}function ah(e){return e.data==="$?"||e.data==="$~"}function ih(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tN(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var c=function(){n(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ba(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sh=null;function zx(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Ba(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Mx(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Ox(e,n,r){switch(n=gc(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);I(e)}var Ua=new Map,Dx=new Set;function xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=W.d;W.d={f:nN,r:aN,D:iN,C:sN,L:rN,m:lN,X:uN,S:oN,M:cN};function nN(){var e=Ji.f(),n=oc();return e||n}function aN(e){var n=kt(e);n!==null&&n.tag===5&&n.type==="form"?Jp(n):Ji.r(e)}var Sl=typeof document>"u"?null:document;function Rx(e,n,r){var c=Sl;if(c&&typeof n=="string"&&n){var f=Yt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Dx.has(f)||(Dx.add(f),e={rel:e,crossOrigin:r,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),Rn(n,"link",e),nn(n),c.head.appendChild(n)))}}function iN(e){Ji.D(e),Rx("dns-prefetch",e,null)}function sN(e,n){Ji.C(e,n),Rx("preconnect",e,n)}function rN(e,n,r){Ji.L(e,n,r);var c=Sl;if(c&&e&&n){var f='link[rel="preload"][as="'+Yt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Yt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Yt(r.imageSizes)+'"]')):f+='[href="'+Yt(e)+'"]';var g=f;switch(n){case"style":g=wl(e);break;case"script":g=El(e)}Ua.has(g)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Ua.set(g,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Lo(g))||n==="script"&&c.querySelector(Po(g))||(n=c.createElement("link"),Rn(n,"link",e),nn(n),c.head.appendChild(n)))}}function lN(e,n){Ji.m(e,n);var r=Sl;if(r&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Yt(c)+'"][href="'+Yt(e)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=El(e)}if(!Ua.has(g)&&(e=w({rel:"modulepreload",href:e},n),Ua.set(g,e),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Po(g)))return}c=r.createElement("link"),Rn(c,"link",e),nn(c),r.head.appendChild(c)}}}function oN(e,n,r){Ji.S(e,n,r);var c=Sl;if(c&&e){var f=Ya(c).hoistableStyles,g=wl(e);n=n||"default";var j=f.get(g);if(!j){var T={loading:0,preload:null};if(j=c.querySelector(Lo(g)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Ua.get(g))&&rh(e,r);var F=j=c.createElement("link");nn(F),Rn(F,"link",e),F._p=new Promise(function(me,_e){F.onload=me,F.onerror=_e}),F.addEventListener("load",function(){T.loading|=1}),F.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(j,n,c)}j={type:"stylesheet",instance:j,count:1,state:T},f.set(g,j)}}}function uN(e,n){Ji.X(e,n);var r=Sl;if(r&&e){var c=Ya(r).hoistableScripts,f=El(e),g=c.get(f);g||(g=r.querySelector(Po(f)),g||(e=w({src:e,async:!0},n),(n=Ua.get(f))&&lh(e,n),g=r.createElement("script"),nn(g),Rn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function cN(e,n){Ji.M(e,n);var r=Sl;if(r&&e){var c=Ya(r).hoistableScripts,f=El(e),g=c.get(f);g||(g=r.querySelector(Po(f)),g||(e=w({src:e,async:!0,type:"module"},n),(n=Ua.get(f))&&lh(e,n),g=r.createElement("script"),nn(g),Rn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Lx(e,n,r,c){var f=(f=je.current)?xc(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=wl(r.href),r=Ya(f).hoistableStyles,c=r.get(n),c||(c={type:"style",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=wl(r.href);var g=Ya(f).hoistableStyles,j=g.get(e);if(j||(f=f.ownerDocument||f,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,j),(g=f.querySelector(Lo(e)))&&!g._p&&(j.instance=g,j.state.loading=5),Ua.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ua.set(e,r),g||dN(f,e,r,j.state))),n&&c===null)throw Error(o(528,""));return j}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=El(r),r=Ya(f).hoistableScripts,c=r.get(n),c||(c={type:"script",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function wl(e){return'href="'+Yt(e)+'"'}function Lo(e){return'link[rel="stylesheet"]['+e+"]"}function Px(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function dN(e,n,r,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Rn(n,"link",r),nn(n),e.head.appendChild(n))}function El(e){return'[src="'+Yt(e)+'"]'}function Po(e){return"script[async]"+e}function Ix(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Yt(r.href)+'"]');if(c)return n.instance=c,nn(c),c;var f=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),nn(c),Rn(c,"style",f),yc(c,r.precedence,e),n.instance=c;case"stylesheet":f=wl(r.href);var g=e.querySelector(Lo(f));if(g)return n.state.loading|=4,n.instance=g,nn(g),g;c=Px(r),(f=Ua.get(f))&&rh(c,f),g=(e.ownerDocument||e).createElement("link"),nn(g);var j=g;return j._p=new Promise(function(T,F){j.onload=T,j.onerror=F}),Rn(g,"link",c),n.state.loading|=4,yc(g,r.precedence,e),n.instance=g;case"script":return g=El(r.src),(f=e.querySelector(Po(g)))?(n.instance=f,nn(f),f):(c=r,(f=Ua.get(g))&&(c=w({},r),lh(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),nn(f),Rn(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,yc(c,r.precedence,e));return n.instance}function yc(e,n,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,j=0;j<c.length;j++){var T=c[j];if(T.dataset.precedence===n)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function rh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function lh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function Bx(e,n,r){if(vc===null){var c=new Map,f=vc=new Map;f.set(r,c)}else f=vc,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var g=r[f];if(!(g[zi]||g[rn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var j=g.getAttribute(n)||"";j=e+j;var T=c.get(j);T?T.push(g):c.set(j,[g])}}return c}function Ux(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function mN(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hN(e,n,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=wl(c.href),g=n.querySelector(Lo(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=g,nn(g);return}g=n.ownerDocument||n,c=Px(c),(f=Ua.get(f))&&rh(c,f),g=g.createElement("link"),nn(g);var j=g;j._p=new Promise(function(T,F){j.onload=T,j.onerror=F}),Rn(g,"link",c),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=bc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var oh=0;function fN(e,n){return e.stylesheets&&e.count===0&&Nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&oh===0&&(oh=62500*V_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>oh?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function Nc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(pN,e),_c=null,bc.call(e))}function pN(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var c=r.get(null);else{r=new Map,_c.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var j=f[g];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),c=j)}c&&r.set(null,c)}f=n.instance,j=f.getAttribute("data-precedence"),g=r.get(j)||c,g===c&&r.set(null,f),r.set(j,f),this.count++,c=bc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Io={$$typeof:P,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function gN(e,n,r,c,f,g,j,T,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0),this.hiddenUpdates=et(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function qx(e,n,r,c,f,g,j,T,F,me,_e,ke){return e=new gN(e,n,r,j,F,me,_e,ke,T),n=1,g===!0&&(n|=24),g=Fn(3,null,null,n),e.current=g,g.stateNode=e,n=Zd(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:r,cache:n},Kd(g),e}function Fx(e){return e?(e=Pi,e):Pi}function Hx(e,n,r,c,f,g){f=Fx(f),c.context===null?c.context=f:c.pendingContext=f,c=Ns(n),c.payload={element:r},g=g===void 0?null:g,g!==null&&(c.callback=g),r=js(e,c,n),r!==null&&(da(r,e,n),go(r,e,n))}function Kx(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function uh(e,n){Kx(e,n),(e=e.alternate)&&Kx(e,n)}function Qx(e){if(e.tag===13||e.tag===31){var n=La(e,67108864);n!==null&&da(n,e,67108864),uh(e,67108864)}}function Gx(e){if(e.tag===13||e.tag===31){var n=Ea();n=Un(n);var r=La(e,n);r!==null&&da(r,e,n),uh(e,n)}}var jc=!0;function xN(e,n,r,c){var f=Z.T;Z.T=null;var g=W.p;try{W.p=2,ch(e,n,r,c)}finally{W.p=g,Z.T=f}}function yN(e,n,r,c){var f=Z.T;Z.T=null;var g=W.p;try{W.p=8,ch(e,n,r,c)}finally{W.p=g,Z.T=f}}function ch(e,n,r,c){if(jc){var f=dh(c);if(f===null)$m(e,n,c,Sc,r),Yx(e,c);else if(bN(f,e,n,r,c))c.stopPropagation();else if(Yx(e,c),n&4&&-1<vN.indexOf(e)){for(;f!==null;){var g=kt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var j=Xn(g.pendingLanes);if(j!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;j;){var F=1<<31-Et(j);T.entanglements[1]|=F,j&=~F}_i(g),(Mt&6)===0&&(rc=wt()+500,Mo(0))}}break;case 31:case 13:T=La(g,2),T!==null&&da(T,g,2),oc(),uh(g,2)}if(g=dh(c),g===null&&$m(e,n,c,Sc,r),g===f)break;f=g}f!==null&&c.stopPropagation()}else $m(e,n,c,null,r)}}function dh(e){return e=Xs(e),mh(e)}var Sc=null;function mh(e){if(Sc=null,e=Re(e),e!==null){var n=m(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=p(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function Vx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case ve:return 2;case Ue:return 8;case it:case We:return 32;case tn:return 268435456;default:return 32}default:return 32}}var hh=!1,Ds=null,Rs=null,Ls=null,Bo=new Map,Uo=new Map,Ps=[],vN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yx(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(n.pointerId)}}function Zo(e,n,r,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:r,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=kt(n),n!==null&&Qx(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function bN(e,n,r,c,f){switch(n){case"focusin":return Ds=Zo(Ds,e,n,r,c,f),!0;case"dragenter":return Rs=Zo(Rs,e,n,r,c,f),!0;case"mouseover":return Ls=Zo(Ls,e,n,r,c,f),!0;case"pointerover":var g=f.pointerId;return Bo.set(g,Zo(Bo.get(g)||null,e,n,r,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Uo.set(g,Zo(Uo.get(g)||null,e,n,r,c,f)),!0}return!1}function $x(e){var n=Re(e.target);if(n!==null){var r=m(n);if(r!==null){if(n=r.tag,n===13){if(n=p(r),n!==null){e.blockedOn=n,as(e.priority,function(){Gx(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,as(e.priority,function(){Gx(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=dh(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Kr=c,r.target.dispatchEvent(c),Kr=null}else return n=kt(r),n!==null&&Qx(n),e.blockedOn=r,!1;n.shift()}return!0}function Jx(e,n,r){wc(e)&&r.delete(n)}function _N(){hh=!1,Ds!==null&&wc(Ds)&&(Ds=null),Rs!==null&&wc(Rs)&&(Rs=null),Ls!==null&&wc(Ls)&&(Ls=null),Bo.forEach(Jx),Uo.forEach(Jx)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,hh||(hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_N)))}var kc=null;function Xx(e){kc!==e&&(kc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var n=0;n<e.length;n+=3){var r=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(mh(c||r)===null)continue;break}var g=kt(r);g!==null&&(e.splice(n,3),n-=3,dm(g,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function kl(e){function n(F){return Ec(F,e)}Ds!==null&&Ec(Ds,e),Rs!==null&&Ec(Rs,e),Ls!==null&&Ec(Ls,e),Bo.forEach(n),Uo.forEach(n);for(var r=0;r<Ps.length;r++){var c=Ps[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)$x(r),r.blockedOn===null&&Ps.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],g=r[c+1],j=f[gn]||null;if(typeof g=="function")j||Xx(r);else if(j){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,j=g[gn]||null)T=j.formAction;else if(mh(f)!==null)continue}else T=j.action;typeof T=="function"?r[c+1]=T:(r.splice(c,3),c-=3),Xx(r)}}}function Wx(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(j){return f=j})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function fh(e){this._internalRoot=e}Tc.prototype.render=fh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,c=Ea();Hx(r,c,e,n,null,null)},Tc.prototype.unmount=fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hx(e.current,2,null,e,null,null),oc(),n[Va]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qs();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ps.length&&n!==0&&n<Ps[r].priority;r++);Ps.splice(r,0,e),r===0&&$x(e)}};var ey=a.version;if(ey!=="19.2.4")throw Error(o(527,ey,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=b(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var NN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Qe=Cc.inject(NN),at=Cc}catch{}}return Fo.createRoot=function(e,n){if(!d(e))throw Error(o(299));var r=!1,c="",f=lg,g=og,j=ug;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError)),n=qx(e,1,!1,null,null,r,c,null,f,g,j,Wx),e[Va]=n.current,Ym(e),new fh(n)},Fo.hydrateRoot=function(e,n,r){if(!d(e))throw Error(o(299));var c=!1,f="",g=lg,j=og,T=ug,F=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(F=r.formState)),n=qx(e,1,!0,n,r??null,c,f,F,g,j,T,Wx),n.context=Fx(null),r=n.current,c=Ea(),c=Un(c),f=Ns(c),f.callback=null,js(r,f,c),r=c,n.current.lanes=r,ht(n,r),_i(n),e[Va]=n.current,Ym(e),new Tc(n)},Fo.version="19.2.4",Fo}var cy;function ON(){if(cy)return xh.exports;cy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),xh.exports=MN(),xh.exports}var DN=ON();const RN=cd(DN);var Rl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LN={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},PN=class{#e=LN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},Tr=new PN;function IN(t){setTimeout(t,0)}var zr=typeof window>"u"||"Deno"in globalThis;function $n(){}function BN(t,a){return typeof t=="function"?t(a):t}function rf(t){return typeof t=="number"&&t>=0&&t!==1/0}function d0(t,a){return Math.max(t+(a||0)-Date.now(),0)}function Zs(t,a){return typeof t=="function"?t(a):t}function Za(t,a){return typeof t=="function"?t(a):t}function dy(t,a){const{type:l="all",exact:o,fetchStatus:d,predicate:m,queryKey:p,stale:y}=t;if(p){if(o){if(a.queryHash!==Cf(p,a.options))return!1}else if(!Wo(a.queryKey,p))return!1}if(l!=="all"){const v=a.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof y=="boolean"&&a.isStale()!==y||d&&d!==a.state.fetchStatus||m&&!m(a))}function my(t,a){const{exact:l,status:o,predicate:d,mutationKey:m}=t;if(m){if(!a.options.mutationKey)return!1;if(l){if(Mr(a.options.mutationKey)!==Mr(m))return!1}else if(!Wo(a.options.mutationKey,m))return!1}return!(o&&a.state.status!==o||d&&!d(a))}function Cf(t,a){return(a?.queryKeyHashFn||Mr)(t)}function Mr(t){return JSON.stringify(t,(a,l)=>lf(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Wo(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>Wo(t[l],a[l])):!1}var UN=Object.prototype.hasOwnProperty;function m0(t,a,l=0){if(t===a)return t;if(l>500)return a;const o=hy(t)&&hy(a);if(!o&&!(lf(t)&&lf(a)))return a;const m=(o?t:Object.keys(t)).length,p=o?a:Object.keys(a),y=p.length,v=o?new Array(y):{};let b=0;for(let S=0;S<y;S++){const w=o?S:p[S],C=t[w],z=a[w];if(C===z){v[w]=C,(o?S<m:UN.call(t,w))&&b++;continue}if(C===null||z===null||typeof C!="object"||typeof z!="object"){v[w]=z;continue}const k=m0(C,z,l+1);v[w]=k,k===C&&b++}return m===y&&b===m?t:v}function Wc(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function hy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lf(t){if(!fy(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!fy(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fy(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZN(t){return new Promise(a=>{Tr.setTimeout(a,t)})}function of(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?m0(t,a):a}function qN(t,a,l=0){const o=[...t,a];return l&&o.length>l?o.slice(1):o}function FN(t,a,l=0){const o=[a,...t];return l&&o.length>l?o.slice(0,-1):o}var Af=Symbol();function h0(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===Af?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function zf(t,a){return typeof t=="function"?t(...a):!!t}function HN(t,a,l){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=a(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),t}var KN=class extends Rl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!zr&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mf=new KN;function uf(){let t,a;const l=new Promise((d,m)=>{t=d,a=m});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},l.reject=d=>{o({status:"rejected",reason:d}),a(d)},l}var QN=IN;function GN(){let t=[],a=0,l=y=>{y()},o=y=>{y()},d=QN;const m=y=>{a?t.push(y):d(()=>{l(y)})},p=()=>{const y=t;t=[],y.length&&d(()=>{o(()=>{y.forEach(v=>{l(v)})})})};return{batch:y=>{let v;a++;try{v=y()}finally{a--,a||p()}return v},batchCalls:y=>(...v)=>{m(()=>{y(...v)})},schedule:m,setNotifyFunction:y=>{l=y},setBatchNotifyFunction:y=>{o=y},setScheduler:y=>{d=y}}}var wn=GN(),VN=class extends Rl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!zr&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},ed=new VN;function YN(t){return Math.min(1e3*2**t,3e4)}function f0(t){return(t??"online")==="online"?ed.isOnline():!0}var cf=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function p0(t){let a=!1,l=0,o;const d=uf(),m=()=>d.status!=="pending",p=A=>{if(!m()){const M=new cf(A);C(M),t.onCancel?.(M)}},y=()=>{a=!0},v=()=>{a=!1},b=()=>Mf.isFocused()&&(t.networkMode==="always"||ed.isOnline())&&t.canRun(),S=()=>f0(t.networkMode)&&t.canRun(),w=A=>{m()||(o?.(),d.resolve(A))},C=A=>{m()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=M=>{(m()||b())&&A(M)},t.onPause?.()}).then(()=>{o=void 0,m()||t.onContinue?.()}),k=()=>{if(m())return;let A;const M=l===0?t.initialPromise:void 0;try{A=M??t.fn()}catch(U){A=Promise.reject(U)}Promise.resolve(A).then(w).catch(U=>{if(m())return;const D=t.retry??(zr?0:3),P=t.retryDelay??YN,G=typeof P=="function"?P(l,U):P,J=D===!0||typeof D=="number"&&l<D||typeof D=="function"&&D(l,U);if(a||!J){C(U);return}l++,t.onFail?.(l,U),ZN(G).then(()=>b()?void 0:z()).then(()=>{a?C(U):k()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:y,continueRetry:v,canStart:S,start:()=>(S()?k():z().then(k),d)}}var g0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rf(this.gcTime)&&(this.#e=Tr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Tr.clearTimeout(this.#e),this.#e=void 0)}},$N=class extends g0{#e;#t;#n;#i;#a;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=gy(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=gy(this.options);a.data!==void 0&&(this.setState(py(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const l=of(this.state.data,t,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#s({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Za(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Af||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!d0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const l=new AbortController,o=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const y=h0(this.options,a),b=(()=>{const S={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(y,b,this):y(b)},p=(()=>{const y={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:d};return o(y),y})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#a=p0({initialPromise:a?.initialPromise,fn:p.fetchFn,onCancel:y=>{y instanceof cf&&y.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(y,v)=>{this.#s({type:"failed",failureCount:y,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const y=await this.#a.start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),this.#n.config.onSuccess?.(y,this),this.#n.config.onSettled?.(y,this.state.error,this),y}catch(y){if(y instanceof cf){if(y.silent)return this.#a.promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw this.#s({type:"error",error:y}),this.#n.config.onError?.(y,this),this.#n.config.onSettled?.(this.state.data,y,this),y}finally{this.scheduleGc()}}#s(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...x0(l.data,this.options),fetchMeta:t.meta??null};case"success":const o={...l,...py(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),wn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function x0(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f0(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function py(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gy(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,o=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var JN=class extends Rl{constructor(t,a){super(),this.options=a,this.#e=t,this.#s=null,this.#l=uf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#r;#l;#s;#p;#m;#h;#u;#c;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),xy(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return df(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return df(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Za(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Wc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&yy(this.#t,l,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Za(this.options.enabled,this.#t)!==Za(a.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(a.staleTime,this.#t))&&this.#g();const d=this.#x();o&&(this.#t!==l||Za(this.options.enabled,this.#t)!==Za(a.enabled,this.#t)||d!==this.#o)&&this.#y(d)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return WN(this,l)&&(this.#i=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#i}trackResult(t,a){return new Proxy(t,{get:(l,o)=>(this.trackProp(o),a?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch($n)),a}#g(){this.#b();const t=Zs(this.options.staleTime,this.#t);if(zr||this.#i.isStale||!rf(t))return;const l=d0(this.#i.dataUpdatedAt,t)+1;this.#u=Tr.setTimeout(()=>{this.#i.isStale||this.updateResult()},l)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#_(),this.#o=t,!(zr||Za(this.options.enabled,this.#t)===!1||!rf(this.#o)||this.#o===0)&&(this.#c=Tr.setInterval(()=>{(this.options.refetchIntervalInBackground||Mf.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#u&&(Tr.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(Tr.clearInterval(this.#c),this.#c=void 0)}createResult(t,a){const l=this.#t,o=this.options,d=this.#i,m=this.#a,p=this.#r,v=t!==l?t.state:this.#n,{state:b}=t;let S={...b},w=!1,C;if(a._optimisticResults){const Q=this.hasListeners(),re=!Q&&xy(t,a),ye=Q&&yy(t,l,a,o);(re||ye)&&(S={...S,...x0(b.data,t.options)}),a._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:k,status:A}=S;C=S.data;let M=!1;if(a.placeholderData!==void 0&&C===void 0&&A==="pending"){let Q;d?.isPlaceholderData&&a.placeholderData===p?.placeholderData?(Q=d.data,M=!0):Q=typeof a.placeholderData=="function"?a.placeholderData(this.#h?.state.data,this.#h):a.placeholderData,Q!==void 0&&(A="success",C=of(d?.data,Q,a),w=!0)}if(a.select&&C!==void 0&&!M)if(d&&C===m?.data&&a.select===this.#p)C=this.#m;else try{this.#p=a.select,C=a.select(C),C=of(d?.data,C,a),this.#m=C,this.#s=null}catch(Q){this.#s=Q}this.#s&&(z=this.#s,C=this.#m,k=Date.now(),A="error");const U=S.fetchStatus==="fetching",D=A==="pending",P=A==="error",G=D&&U,J=C!==void 0,K={status:A,fetchStatus:S.fetchStatus,isPending:D,isSuccess:A==="success",isError:P,isInitialLoading:G,isLoading:G,data:C,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>v.dataUpdateCount||S.errorUpdateCount>v.errorUpdateCount,isFetching:U,isRefetching:U&&!D,isLoadingError:P&&!J,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:P&&J,isStale:Of(t,a),refetch:this.refetch,promise:this.#l,isEnabled:Za(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Q=K.data!==void 0,re=K.status==="error"&&!Q,ye=be=>{re?be.reject(K.error):Q&&be.resolve(K.data)},te=()=>{const be=this.#l=K.promise=uf();ye(be)},oe=this.#l;switch(oe.status){case"pending":t.queryHash===l.queryHash&&ye(oe);break;case"fulfilled":(re||K.data!==oe.value)&&te();break;case"rejected":(!re||K.error!==oe.reason)&&te();break}}return K}updateResult(){const t=this.#i,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Wc(a,t))return;this.#i=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#f.size)return!0;const m=new Set(d??this.#f);return this.options.throwOnError&&m.add("error"),Object.keys(this.#i).some(p=>{const y=p;return this.#i[y]!==t[y]&&m.has(y)})};this.#j({listeners:l()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function XN(t,a){return Za(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function xy(t,a){return XN(t,a)||t.state.data!==void 0&&df(t,a,a.refetchOnMount)}function df(t,a,l){if(Za(a.enabled,t)!==!1&&Zs(a.staleTime,t)!=="static"){const o=typeof l=="function"?l(t):l;return o==="always"||o!==!1&&Of(t,a)}return!1}function yy(t,a,l,o){return(t!==a||Za(o.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&Of(t,l)}function Of(t,a){return Za(a.enabled,t)!==!1&&t.isStaleByTime(Zs(a.staleTime,t))}function WN(t,a){return!Wc(t.getCurrentResult(),a)}function vy(t){return{onFetch:(a,l)=>{const o=a.options,d=a.fetchOptions?.meta?.fetchMore?.direction,m=a.state.data?.pages||[],p=a.state.data?.pageParams||[];let y={pages:[],pageParams:[]},v=0;const b=async()=>{let S=!1;const w=k=>{HN(k,()=>a.signal,()=>S=!0)},C=h0(a.options,a.fetchOptions),z=async(k,A,M)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const D=(()=>{const V={client:a.client,queryKey:a.queryKey,pageParam:A,direction:M?"backward":"forward",meta:a.options.meta};return w(V),V})(),P=await C(D),{maxPages:G}=a.options,J=M?FN:qN;return{pages:J(k.pages,P,G),pageParams:J(k.pageParams,A,G)}};if(d&&m.length){const k=d==="backward",A=k?ej:by,M={pages:m,pageParams:p},U=A(o,M);y=await z(M,U,k)}else{const k=t??m.length;do{const A=v===0?p[0]??o.initialPageParam:by(o,y);if(v>0&&A==null)break;y=await z(y,A),v++}while(v<k)}return y};a.options.persister?a.fetchFn=()=>a.options.persister?.(b,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=b}}}function by(t,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,l[o],l):void 0}function ej(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var tj=class extends g0{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||y0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=p0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(m,p)=>{this.#a({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#i.canStart();try{if(o)a();else{this.#a({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,l);const p=await this.options.onMutate?.(t,l);p!==this.state.context&&this.#a({type:"pending",context:p,variables:t,isPaused:d})}const m=await this.#i.start();return await this.#n.config.onSuccess?.(m,t,this.state.context,this,l),await this.options.onSuccess?.(m,t,this.state.context,l),await this.#n.config.onSettled?.(m,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(m,null,t,this.state.context,l),this.#a({type:"success",data:m}),m}catch(m){try{await this.#n.config.onError?.(m,t,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onError?.(m,t,this.state.context,l)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,m,t,this.state.context,l)}catch(p){Promise.reject(p)}throw this.#a({type:"error",error:m}),m}finally{this.#n.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),wn.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function y0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nj=class extends Rl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,l){const o=new tj({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:l});return this.add(o),o}add(t){this.#e.add(t);const a=Ac(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Ac(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const o=l.indexOf(t);o!==-1&&l.splice(o,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Ac(t);if(typeof a=="string"){const o=this.#t.get(a)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=Ac(t);return typeof a=="string"?this.#t.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){wn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>my(a,l))}findAll(t={}){return this.getAll().filter(a=>my(t,a))}notify(t){wn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return wn.batch(()=>Promise.all(t.map(a=>a.continue().catch($n))))}};function Ac(t){return t.options.scope?.id}var aj=class extends Rl{#e;#t=void 0;#n;#i;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),Wc(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&Mr(l.mutationKey)!==Mr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#r(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(a,l){return this.#i=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??y0();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#r(a){wn.batch(()=>{if(this.#i&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#i.onSuccess?.(a.data,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(a.data,null,l,o,d)}catch(m){Promise.reject(m)}}else if(a?.type==="error"){try{this.#i.onError?.(a.error,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(void 0,a.error,l,o,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(l=>{l(this.#t)})})}},ij=class extends Rl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const o=a.queryKey,d=a.queryHash??Cf(o,a);let m=this.get(d);return m||(m=new $N({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(o)}),this.add(m)),m}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>dy(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>dy(t,l)):a}notify(t){wn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sj=class{#e;#t;#n;#i;#a;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new ij,this.#t=t.mutationCache||new nj,this.#n=t.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Mf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ed.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(Zs(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(t,a,l){const o=this.defaultQueryOptions({queryKey:t}),m=this.#e.get(o.queryHash)?.state.data,p=BN(a,m);if(p!==void 0)return this.#e.build(this,o).setData(p,{...l,manual:!0})}setQueriesData(t,a,l){return wn.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;wn.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return wn.batch(()=>(l.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},o=wn.batch(()=>this.#e.findAll(t).map(d=>d.cancel(l)));return Promise.all(o).then($n).catch($n)}invalidateQueries(t,a={}){return wn.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=wn.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let m=d.fetch(void 0,l);return l.throwOnError||(m=m.catch($n)),d.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(o).then($n)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(Zs(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($n).catch($n)}fetchInfiniteQuery(t){return t.behavior=vy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($n).catch($n)}ensureInfiniteQueryData(t){return t.behavior=vy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ed.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#i.set(Mr(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#i.values()],l={};return a.forEach(o=>{Wo(t,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(Mr(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(o=>{Wo(t,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=Cf(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Af&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},v0=N.createContext(void 0),Pn=t=>{const a=N.useContext(v0);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},rj=({client:t,children:a})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(v0.Provider,{value:t,children:a})),b0=N.createContext(!1),lj=()=>N.useContext(b0);b0.Provider;function oj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var uj=N.createContext(oj()),cj=()=>N.useContext(uj),dj=(t,a,l)=>{const o=l?.state.error&&typeof t.throwOnError=="function"?zf(t.throwOnError,[l.state.error,l]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(a.isReset()||(t.retryOnMount=!1))},mj=t=>{N.useEffect(()=>{t.clearReset()},[t])},hj=({result:t,errorResetBoundary:a,throwOnError:l,query:o,suspense:d})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||zf(l,[t.error,o])),fj=t=>{if(t.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},pj=(t,a)=>t.isLoading&&t.isFetching&&!a,gj=(t,a)=>t?.suspense&&a.isPending,_y=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function xj(t,a,l){const o=lj(),d=cj(),m=Pn(),p=m.defaultQueryOptions(t);m.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const y=m.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",fj(p),dj(p,d,y),mj(d);const v=!m.getQueryCache().get(p.queryHash),[b]=N.useState(()=>new a(m,p)),S=b.getOptimisticResult(p),w=!o&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(C=>{const z=w?b.subscribe(wn.batchCalls(C)):$n;return b.updateResult(),z},[b,w]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),N.useEffect(()=>{b.setOptions(p)},[p,b]),gj(p,S))throw _y(p,b,d);if(hj({result:S,errorResetBoundary:d,throwOnError:p.throwOnError,query:y,suspense:p.suspense}))throw S.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(p,S),p.experimental_prefetchInRender&&!zr&&pj(S,o)&&(v?_y(p,b,d):y?.promise)?.catch($n).finally(()=>{b.updateResult()}),p.notifyOnChangeProps?S:b.trackResult(S)}function Le(t,a){return xj(t,JN)}function $e(t,a){const l=Pn(),[o]=N.useState(()=>new aj(l,t));N.useEffect(()=>{o.setOptions(t)},[o,t]);const d=N.useSyncExternalStore(N.useCallback(p=>o.subscribe(wn.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m=N.useCallback((p,y)=>{o.mutate(p,y).catch($n)},[o]);if(d.error&&zf(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:m,mutateAsync:d.mutate}}var Ny="popstate";function yj(t={}){function a(o,d){let{pathname:m,search:p,hash:y}=o.location;return mf("",{pathname:m,search:p,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:eu(d)}return bj(a,l,null,t)}function Wt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function qa(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function vj(){return Math.random().toString(36).substring(2,10)}function jy(t,a){return{usr:t.state,key:t.key,idx:a}}function mf(t,a,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Ll(a):a,state:l,key:a&&a.key||o||vj()}}function eu({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Ll(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function bj(t,a,l,o={}){let{window:d=document.defaultView,v5Compat:m=!1}=o,p=d.history,y="POP",v=null,b=S();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function S(){return(p.state||{idx:null}).idx}function w(){y="POP";let M=S(),U=M==null?null:M-b;b=M,v&&v({action:y,location:A.location,delta:U})}function C(M,U){y="PUSH";let D=mf(A.location,M,U);b=S()+1;let P=jy(D,b),G=A.createHref(D);try{p.pushState(P,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;d.location.assign(G)}m&&v&&v({action:y,location:A.location,delta:1})}function z(M,U){y="REPLACE";let D=mf(A.location,M,U);b=S();let P=jy(D,b),G=A.createHref(D);p.replaceState(P,"",G),m&&v&&v({action:y,location:A.location,delta:0})}function k(M){return _j(M)}let A={get action(){return y},get location(){return t(d,p)},listen(M){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(Ny,w),v=M,()=>{d.removeEventListener(Ny,w),v=null}},createHref(M){return a(d,M)},createURL:k,encodeLocation(M){let U=k(M);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:C,replace:z,go(M){return p.go(M)}};return A}function _j(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:eu(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function _0(t,a,l="/"){return Nj(t,a,l,!1)}function Nj(t,a,l,o){let d=typeof a=="string"?Ll(a):a,m=ns(d.pathname||"/",l);if(m==null)return null;let p=N0(t);jj(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let b=Dj(m);y=Mj(p[v],b,o)}return y}function N0(t,a=[],l=[],o="",d=!1){let m=(p,y,v=d,b)=>{let S={relativePath:b===void 0?p.path||"":b,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&v)return;Wt(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=es([o,S.relativePath]),C=l.concat(S);p.children&&p.children.length>0&&(Wt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),N0(p.children,a,C,w,v)),!(p.path==null&&!p.index)&&a.push({path:w,score:Aj(w,p.index),routesMeta:C})};return t.forEach((p,y)=>{if(p.path===""||!p.path?.includes("?"))m(p,y);else for(let v of j0(p.path))m(p,y,!0,v)}),a}function j0(t){let a=t.split("/");if(a.length===0)return[];let[l,...o]=a,d=l.endsWith("?"),m=l.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let p=j0(o.join("/")),y=[];return y.push(...p.map(v=>v===""?m:[m,v].join("/"))),d&&y.push(...p),y.map(v=>t.startsWith("/")&&v===""?"/":v)}function jj(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:zj(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var Sj=/^:[\w-]+$/,wj=3,Ej=2,kj=1,Tj=10,Cj=-2,Sy=t=>t==="*";function Aj(t,a){let l=t.split("/"),o=l.length;return l.some(Sy)&&(o+=Cj),a&&(o+=Ej),l.filter(d=>!Sy(d)).reduce((d,m)=>d+(Sj.test(m)?wj:m===""?kj:Tj),o)}function zj(t,a){return t.length===a.length&&t.slice(0,-1).every((o,d)=>o===a[d])?t[t.length-1]-a[a.length-1]:0}function Mj(t,a,l=!1){let{routesMeta:o}=t,d={},m="/",p=[];for(let y=0;y<o.length;++y){let v=o[y],b=y===o.length-1,S=m==="/"?a:a.slice(m.length)||"/",w=td({path:v.relativePath,caseSensitive:v.caseSensitive,end:b},S),C=v.route;if(!w&&b&&l&&!o[o.length-1].route.index&&(w=td({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),p.push({params:d,pathname:es([m,w.pathname]),pathnameBase:Ij(es([m,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(m=es([m,w.pathnameBase]))}return p}function td(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=Oj(t.path,t.caseSensitive,t.end),d=a.match(l);if(!d)return null;let m=d[0],p=m.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:o.reduce((b,{paramName:S,isOptional:w},C)=>{if(S==="*"){let k=y[C]||"";p=m.slice(0,m.length-k.length).replace(/(.)\/+$/,"$1")}const z=y[C];return w&&!z?b[S]=void 0:b[S]=(z||"").replace(/%2F/g,"/"),b},{}),pathname:m,pathnameBase:p,pattern:t}}function Oj(t,a=!1,l=!0){qa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function Dj(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return qa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function ns(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var Rj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Lj(t,a="/"){let{pathname:l,search:o="",hash:d=""}=typeof t=="string"?Ll(t):t,m;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?m=wy(l.substring(1),"/"):m=wy(l,a)):m=a,{pathname:m,search:Bj(o),hash:Uj(d)}}function wy(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function _h(t,a,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pj(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Df(t){let a=Pj(t);return a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase)}function Rf(t,a,l,o=!1){let d;typeof t=="string"?d=Ll(t):(d={...t},Wt(!d.pathname||!d.pathname.includes("?"),_h("?","pathname","search",d)),Wt(!d.pathname||!d.pathname.includes("#"),_h("#","pathname","hash",d)),Wt(!d.search||!d.search.includes("#"),_h("#","search","hash",d)));let m=t===""||d.pathname==="",p=m?"/":d.pathname,y;if(p==null)y=l;else{let w=a.length-1;if(!o&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),w-=1;d.pathname=C.join("/")}y=w>=0?a[w]:"/"}let v=Lj(d,y),b=p&&p!=="/"&&p.endsWith("/"),S=(m||p===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(b||S)&&(v.pathname+="/"),v}var es=t=>t.join("/").replace(/\/\/+/g,"/"),Ij=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Uj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zj=class{constructor(t,a,l,o=!1){this.status=t,this.statusText=a||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function qj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Fj(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var S0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function w0(t,a){let l=t;if(typeof l!="string"||!Rj.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(S0)try{let m=new URL(window.location.href),p=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=ns(p.pathname,a);p.origin===m.origin&&y!=null?l=y+p.search+p.hash:d=!0}catch{qa(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E0=["POST","PUT","PATCH","DELETE"];new Set(E0);var Hj=["GET",...E0];new Set(Hj);var Pl=N.createContext(null);Pl.displayName="DataRouter";var dd=N.createContext(null);dd.displayName="DataRouterState";var Kj=N.createContext(!1),k0=N.createContext({isTransitioning:!1});k0.displayName="ViewTransition";var Qj=N.createContext(new Map);Qj.displayName="Fetchers";var Gj=N.createContext(null);Gj.displayName="Await";var ka=N.createContext(null);ka.displayName="Navigation";var iu=N.createContext(null);iu.displayName="Location";var Ha=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var Lf=N.createContext(null);Lf.displayName="RouteError";var T0="REACT_ROUTER_ERROR",Vj="REDIRECT",Yj="ROUTE_ERROR_RESPONSE";function $j(t){if(t.startsWith(`${T0}:${Vj}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Jj(t){if(t.startsWith(`${T0}:${Yj}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Zj(a.status,a.statusText,a.data)}catch{}}function Xj(t,{relative:a}={}){Wt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=N.useContext(ka),{hash:d,pathname:m,search:p}=su(t,{relative:a}),y=m;return l!=="/"&&(y=m==="/"?l:es([l,m])),o.createHref({pathname:y,search:p,hash:d})}function Il(){return N.useContext(iu)!=null}function Ka(){return Wt(Il(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(iu).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A0(t){N.useContext(ka).static||N.useLayoutEffect(t)}function Bl(){let{isDataRoute:t}=N.useContext(Ha);return t?fS():Wj()}function Wj(){Wt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Pl),{basename:a,navigator:l}=N.useContext(ka),{matches:o}=N.useContext(Ha),{pathname:d}=Ka(),m=JSON.stringify(Df(o)),p=N.useRef(!1);return A0(()=>{p.current=!0}),N.useCallback((v,b={})=>{if(qa(p.current,C0),!p.current)return;if(typeof v=="number"){l.go(v);return}let S=Rf(v,JSON.parse(m),d,b.relative==="path");t==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:es([a,S.pathname])),(b.replace?l.replace:l.push)(S,b.state,b)},[a,l,m,d,t])}var eS=N.createContext(null);function tS(t){let a=N.useContext(Ha).outlet;return N.useMemo(()=>a&&N.createElement(eS.Provider,{value:t},a),[a,t])}function nS(){let{matches:t}=N.useContext(Ha),a=t[t.length-1];return a?a.params:{}}function su(t,{relative:a}={}){let{matches:l}=N.useContext(Ha),{pathname:o}=Ka(),d=JSON.stringify(Df(l));return N.useMemo(()=>Rf(t,JSON.parse(d),o,a==="path"),[t,d,o,a])}function aS(t,a){return z0(t,a)}function z0(t,a,l,o,d){Wt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=N.useContext(ka),{matches:p}=N.useContext(Ha),y=p[p.length-1],v=y?y.params:{},b=y?y.pathname:"/",S=y?y.pathnameBase:"/",w=y&&y.route;{let D=w&&w.path||"";O0(b,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let C=Ka(),z;if(a){let D=typeof a=="string"?Ll(a):a;Wt(S==="/"||D.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${D.pathname}" was given in the \`location\` prop.`),z=D}else z=C;let k=z.pathname||"/",A=k;if(S!=="/"){let D=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(D.length).join("/")}let M=_0(t,{pathname:A});qa(w||M!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),qa(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=oS(M&&M.map(D=>Object.assign({},D,{params:Object.assign({},v,D.params),pathname:es([S,m.encodeLocation?m.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?S:es([S,m.encodeLocation?m.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),p,l,o,d);return a&&U?N.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},U):U}function iS(){let t=hS(),a=qj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:m},"ErrorBoundary")," or"," ",N.createElement("code",{style:m},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},a),l?N.createElement("pre",{style:d},l):null,p)}var sS=N.createElement(iS,null),M0=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=Jj(t.digest);l&&(t=l)}let a=t!==void 0?N.createElement(Ha.Provider,{value:this.props.routeContext},N.createElement(Lf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(rS,{error:t},a):a}};M0.contextType=Kj;var Nh=new WeakMap;function rS({children:t,error:a}){let{basename:l}=N.useContext(ka);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=$j(a.digest);if(o){let d=Nh.get(a);if(d)throw d;let m=w0(o.location,l);if(S0&&!Nh.get(a))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw Nh.set(a,p),p}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return t}function lS({routeContext:t,match:a,children:l}){let o=N.useContext(Pl);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),N.createElement(Ha.Provider,{value:t},l)}function oS(t,a=[],l=null,o=null,d=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let m=t,p=l?.errors;if(p!=null){let S=m.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);Wt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let y=!1,v=-1;if(l)for(let S=0;S<m.length;S++){let w=m[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:C,errors:z}=l,k=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||k){y=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}let b=l&&o?(S,w)=>{o(S,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:Fj(l.matches),errorInfo:w})}:void 0;return m.reduceRight((S,w,C)=>{let z,k=!1,A=null,M=null;l&&(z=p&&w.route.id?p[w.route.id]:void 0,A=w.route.errorElement||sS,y&&(v<0&&C===0?(O0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):v===C&&(k=!0,M=w.route.hydrateFallbackElement||null)));let U=a.concat(m.slice(0,C+1)),D=()=>{let P;return z?P=A:k?P=M:w.route.Component?P=N.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=S,N.createElement(lS,{match:w,routeContext:{outlet:S,matches:U,isDataRoute:l!=null},children:P})};return l&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?N.createElement(M0,{location:l.location,revalidation:l.revalidation,component:A,error:z,children:D(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:b}):D()},null)}function Pf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uS(t){let a=N.useContext(Pl);return Wt(a,Pf(t)),a}function cS(t){let a=N.useContext(dd);return Wt(a,Pf(t)),a}function dS(t){let a=N.useContext(Ha);return Wt(a,Pf(t)),a}function If(t){let a=dS(t),l=a.matches[a.matches.length-1];return Wt(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function mS(){return If("useRouteId")}function hS(){let t=N.useContext(Lf),a=cS("useRouteError"),l=If("useRouteError");return t!==void 0?t:a.errors?.[l]}function fS(){let{router:t}=uS("useNavigate"),a=If("useNavigate"),l=N.useRef(!1);return A0(()=>{l.current=!0}),N.useCallback(async(d,m={})=>{qa(l.current,C0),l.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:a,...m}))},[t,a])}var Ey={};function O0(t,a,l){!a&&!Ey[t]&&(Ey[t]=!0,qa(!1,l))}N.memo(pS);function pS({routes:t,future:a,state:l,onError:o}){return z0(t,void 0,l,o,a)}function Bf({to:t,replace:a,state:l,relative:o}){Wt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=N.useContext(ka);qa(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=N.useContext(Ha),{pathname:p}=Ka(),y=Bl(),v=Rf(t,Df(m),p,o==="path"),b=JSON.stringify(v);return N.useEffect(()=>{y(JSON.parse(b),{replace:a,state:l,relative:o})},[y,b,o,a,l]),null}function Uf(t){return tS(t.context)}function Ft(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gS({basename:t="/",children:a=null,location:l,navigationType:o="POP",navigator:d,static:m=!1,unstable_useTransitions:p}){Wt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=t.replace(/^\/*/,"/"),v=N.useMemo(()=>({basename:y,navigator:d,static:m,unstable_useTransitions:p,future:{}}),[y,d,m,p]);typeof l=="string"&&(l=Ll(l));let{pathname:b="/",search:S="",hash:w="",state:C=null,key:z="default"}=l,k=N.useMemo(()=>{let A=ns(b,y);return A==null?null:{location:{pathname:A,search:S,hash:w,state:C,key:z},navigationType:o}},[y,b,S,w,C,z,o]);return qa(k!=null,`<Router basename="${y}"> is not able to match the URL "${b}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:N.createElement(ka.Provider,{value:v},N.createElement(iu.Provider,{children:a,value:k}))}function xS({children:t,location:a}){return aS(hf(t),a)}function hf(t,a=[]){let l=[];return N.Children.forEach(t,(o,d)=>{if(!N.isValidElement(o))return;let m=[...a,d];if(o.type===N.Fragment){l.push.apply(l,hf(o.props.children,m));return}Wt(o.type===Ft,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=hf(o.props.children,m)),l.push(p)}),l}var Gc="get",Vc="application/x-www-form-urlencoded";function md(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yS(t){return md(t)&&t.tagName.toLowerCase()==="button"}function vS(t){return md(t)&&t.tagName.toLowerCase()==="form"}function bS(t){return md(t)&&t.tagName.toLowerCase()==="input"}function _S(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NS(t,a){return t.button===0&&(!a||a==="_self")&&!_S(t)}function ff(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let o=t[l];return a.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function jS(t,a){let l=ff(t);return a&&a.forEach((o,d)=>{l.has(d)||a.getAll(d).forEach(m=>{l.append(d,m)})}),l}var zc=null;function SS(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var wS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jh(t){return t!=null&&!wS.has(t)?(qa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):t}function ES(t,a){let l,o,d,m,p;if(vS(t)){let y=t.getAttribute("action");o=y?ns(y,a):null,l=t.getAttribute("method")||Gc,d=jh(t.getAttribute("enctype"))||Vc,m=new FormData(t)}else if(yS(t)||bS(t)&&(t.type==="submit"||t.type==="image")){let y=t.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||y.getAttribute("action");if(o=v?ns(v,a):null,l=t.getAttribute("formmethod")||y.getAttribute("method")||Gc,d=jh(t.getAttribute("formenctype"))||jh(y.getAttribute("enctype"))||Vc,m=new FormData(y,t),!SS()){let{name:b,type:S,value:w}=t;if(S==="image"){let C=b?`${b}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else b&&m.append(b,w)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Gc,o=null,d=Vc,p=t}return m&&d==="text/plain"&&(p=m,m=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:m,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zf(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function kS(t,a,l,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:a&&ns(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function TS(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AS(t,a,l){let o=await Promise.all(t.map(async d=>{let m=a.routes[d.route.id];if(m){let p=await TS(m,l);return p.links?p.links():[]}return[]}));return DS(o.flat(1).filter(CS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function ky(t,a,l,o,d,m){let p=(v,b)=>l[b]?v.route.id!==l[b].route.id:!0,y=(v,b)=>l[b].pathname!==v.pathname||l[b].route.path?.endsWith("*")&&l[b].params["*"]!==v.params["*"];return m==="assets"?a.filter((v,b)=>p(v,b)||y(v,b)):m==="data"?a.filter((v,b)=>{let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(p(v,b)||y(v,b))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function zS(t,a,{includeHydrateFallback:l}={}){return MS(t.map(o=>{let d=a.routes[o.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function MS(t){return[...new Set(t)]}function OS(t){let a={},l=Object.keys(t).sort();for(let o of l)a[o]=t[o];return a}function DS(t,a){let l=new Set;return new Set(a),t.reduce((o,d)=>{let m=JSON.stringify(OS(d));return l.has(m)||(l.add(m),o.push({key:m,link:d})),o},[])}function D0(){let t=N.useContext(Pl);return Zf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RS(){let t=N.useContext(dd);return Zf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qf=N.createContext(void 0);qf.displayName="FrameworkContext";function R0(){let t=N.useContext(qf);return Zf(t,"You must render this element inside a <HydratedRouter> element"),t}function LS(t,a){let l=N.useContext(qf),[o,d]=N.useState(!1),[m,p]=N.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:b,onMouseLeave:S,onTouchStart:w}=a,C=N.useRef(null);N.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let A=U=>{U.forEach(D=>{p(D.isIntersecting)})},M=new IntersectionObserver(A,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[t]),N.useEffect(()=>{if(o){let A=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},k=()=>{d(!1),p(!1)};return l?t!=="intent"?[m,C,{}]:[m,C,{onFocus:Ho(y,z),onBlur:Ho(v,k),onMouseEnter:Ho(b,z),onMouseLeave:Ho(S,k),onTouchStart:Ho(w,z)}]:[!1,C,{}]}function Ho(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function PS({page:t,...a}){let{router:l}=D0(),o=N.useMemo(()=>_0(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?N.createElement(BS,{page:t,matches:o,...a}):null}function IS(t){let{manifest:a,routeModules:l}=R0(),[o,d]=N.useState([]);return N.useEffect(()=>{let m=!1;return AS(t,a,l).then(p=>{m||d(p)}),()=>{m=!0}},[t,a,l]),o}function BS({page:t,matches:a,...l}){let o=Ka(),{future:d,manifest:m,routeModules:p}=R0(),{basename:y}=D0(),{loaderData:v,matches:b}=RS(),S=N.useMemo(()=>ky(t,a,b,m,o,"data"),[t,a,b,m,o]),w=N.useMemo(()=>ky(t,a,b,m,o,"assets"),[t,a,b,m,o]),C=N.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,M=!1;if(a.forEach(D=>{let P=m.routes[D.route.id];!P||!P.hasLoader||(!S.some(G=>G.route.id===D.route.id)&&D.route.id in v&&p[D.route.id]?.shouldRevalidate||P.hasClientLoader?M=!0:A.add(D.route.id))}),A.size===0)return[];let U=kS(t,y,d.unstable_trailingSlashAwareDataRequests,"data");return M&&A.size>0&&U.searchParams.set("_routes",a.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[U.pathname+U.search]},[y,d.unstable_trailingSlashAwareDataRequests,v,o,m,S,a,t,p]),z=N.useMemo(()=>zS(w,m),[w,m]),k=IS(w);return N.createElement(N.Fragment,null,C.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),z.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),k.map(({key:A,link:M})=>N.createElement("link",{key:A,nonce:l.nonce,...M,crossOrigin:M.crossOrigin??l.crossOrigin})))}function US(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var ZS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZS&&(window.__reactRouterVersion="7.13.0")}catch{}function qS({basename:t,children:a,unstable_useTransitions:l,window:o}){let d=N.useRef();d.current==null&&(d.current=yj({window:o,v5Compat:!0}));let m=d.current,[p,y]=N.useState({action:m.action,location:m.location}),v=N.useCallback(b=>{l===!1?y(b):N.startTransition(()=>y(b))},[l]);return N.useLayoutEffect(()=>m.listen(v),[m,v]),N.createElement(gS,{basename:t,children:a,location:p.location,navigationType:p.action,navigator:m,unstable_useTransitions:l})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=N.forwardRef(function({onClick:a,discover:l="render",prefetch:o="none",relative:d,reloadDocument:m,replace:p,state:y,target:v,to:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k){let{basename:A,unstable_useTransitions:M}=N.useContext(ka),U=typeof b=="string"&&L0.test(b),D=w0(b,A);b=D.to;let P=Xj(b,{relative:d}),[G,J,V]=LS(o,z),K=KS(b,{replace:p,state:y,target:v,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:C,unstable_useTransitions:M});function Q(ye){a&&a(ye),ye.defaultPrevented||K(ye)}let re=N.createElement("a",{...z,...V,href:D.absoluteURL||P,onClick:D.isExternal||m?a:Q,ref:US(k,J),target:v,"data-discover":!U&&l==="render"?"true":void 0});return G&&!U?N.createElement(N.Fragment,null,re,N.createElement(PS,{page:P})):re});si.displayName="Link";var P0=N.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:o="",end:d=!1,style:m,to:p,viewTransition:y,children:v,...b},S){let w=su(p,{relative:b.relative}),C=Ka(),z=N.useContext(dd),{navigator:k,basename:A}=N.useContext(ka),M=z!=null&&$S(w)&&y===!0,U=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,D=C.pathname,P=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;l||(D=D.toLowerCase(),P=P?P.toLowerCase():null,U=U.toLowerCase()),P&&A&&(P=ns(P,A)||P);const G=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let J=D===U||!d&&D.startsWith(U)&&D.charAt(G)==="/",V=P!=null&&(P===U||!d&&P.startsWith(U)&&P.charAt(U.length)==="/"),K={isActive:J,isPending:V,isTransitioning:M},Q=J?a:void 0,re;typeof o=="function"?re=o(K):re=[o,J?"active":null,V?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ye=typeof m=="function"?m(K):m;return N.createElement(si,{...b,"aria-current":Q,className:re,ref:S,style:ye,to:p,viewTransition:y},typeof v=="function"?v(K):v)});P0.displayName="NavLink";var FS=N.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:o,replace:d,state:m,method:p=Gc,action:y,onSubmit:v,relative:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k)=>{let{unstable_useTransitions:A}=N.useContext(ka),M=VS(),U=YS(y,{relative:b}),D=p.toLowerCase()==="get"?"get":"post",P=typeof y=="string"&&L0.test(y),G=J=>{if(v&&v(J),J.defaultPrevented)return;J.preventDefault();let V=J.nativeEvent.submitter,K=V?.getAttribute("formmethod")||p,Q=()=>M(V||J.currentTarget,{fetcherKey:a,method:K,navigate:l,replace:d,state:m,relative:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C});A&&l!==!1?N.startTransition(()=>Q()):Q()};return N.createElement("form",{ref:k,method:D,action:U,onSubmit:o?v:G,...z,"data-discover":!P&&t==="render"?"true":void 0})});FS.displayName="Form";function HS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(t){let a=N.useContext(Pl);return Wt(a,HS(t)),a}function KS(t,{target:a,replace:l,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let b=Bl(),S=Ka(),w=su(t,{relative:m});return N.useCallback(C=>{if(NS(C,a)){C.preventDefault();let z=l!==void 0?l:eu(S)===eu(w),k=()=>b(t,{replace:z,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:y});v?N.startTransition(()=>k()):k()}},[S,b,w,l,o,a,t,d,m,p,y,v])}function Ff(t){qa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=N.useRef(ff(t)),l=N.useRef(!1),o=Ka(),d=N.useMemo(()=>jS(o.search,l.current?null:a.current),[o.search]),m=Bl(),p=N.useCallback((y,v)=>{const b=ff(typeof y=="function"?y(new URLSearchParams(d)):y);l.current=!0,m("?"+b,v)},[m,d]);return[d,p]}var QS=0,GS=()=>`__${String(++QS)}__`;function VS(){let{router:t}=I0("useSubmit"),{basename:a}=N.useContext(ka),l=mS(),o=t.fetch,d=t.navigate;return N.useCallback(async(m,p={})=>{let{action:y,method:v,encType:b,formData:S,body:w}=ES(m,a);if(p.navigate===!1){let C=p.fetcherKey||GS();await o(C,l,p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||b,flushSync:p.flushSync})}else await d(p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||b,replace:p.replace,state:p.state,fromRouteId:l,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,a,l])}function YS(t,{relative:a}={}){let{basename:l}=N.useContext(ka),o=N.useContext(Ha);Wt(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),m={...su(t||".",{relative:a})},p=Ka();if(t==null){m.search=p.search;let y=new URLSearchParams(m.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();m.search=S?`?${S}`:""}}return(!t||t===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:es([l,m.pathname])),eu(m)}function $S(t,{relative:a}={}){let l=N.useContext(k0);Wt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=I0("useViewTransitionState"),d=su(t,{relative:a});if(!l.isTransitioning)return!1;let m=ns(l.currentLocation.pathname,o)||l.currentLocation.pathname,p=ns(l.nextLocation.pathname,o)||l.nextLocation.pathname;return td(d.pathname,p)!=null||td(d.pathname,m)!=null}const wi={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"};function B0(t,a){return function(){return t.apply(a,arguments)}}const{toString:JS}=Object.prototype,{getPrototypeOf:Hf}=Object,{iterator:hd,toStringTag:U0}=Symbol,fd=(t=>a=>{const l=JS.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ri=t=>(t=t.toLowerCase(),a=>fd(a)===t),pd=t=>a=>typeof a===t,{isArray:Ul}=Array,Ol=pd("undefined");function ru(t){return t!==null&&!Ol(t)&&t.constructor!==null&&!Ol(t.constructor)&&ma(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Z0=ri("ArrayBuffer");function XS(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&Z0(t.buffer),a}const WS=pd("string"),ma=pd("function"),q0=pd("number"),lu=t=>t!==null&&typeof t=="object",ew=t=>t===!0||t===!1,Yc=t=>{if(fd(t)!=="object")return!1;const a=Hf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(U0 in t)&&!(hd in t)},tw=t=>{if(!lu(t)||ru(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},nw=ri("Date"),aw=ri("File"),iw=ri("Blob"),sw=ri("FileList"),rw=t=>lu(t)&&ma(t.pipe),lw=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||ma(t.append)&&((a=fd(t))==="formdata"||a==="object"&&ma(t.toString)&&t.toString()==="[object FormData]"))},ow=ri("URLSearchParams"),[uw,cw,dw,mw]=["ReadableStream","Request","Response","Headers"].map(ri),hw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ou(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Ul(t))for(o=0,d=t.length;o<d;o++)a.call(null,t[o],o,t);else{if(ru(t))return;const m=l?Object.getOwnPropertyNames(t):Object.keys(t),p=m.length;let y;for(o=0;o<p;o++)y=m[o],a.call(null,t[y],y,t)}}function F0(t,a){if(ru(t))return null;a=a.toLowerCase();const l=Object.keys(t);let o=l.length,d;for(;o-- >0;)if(d=l[o],a===d.toLowerCase())return d;return null}const Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H0=t=>!Ol(t)&&t!==Cr;function pf(){const{caseless:t,skipUndefined:a}=H0(this)&&this||{},l={},o=(d,m)=>{const p=t&&F0(l,m)||m;Yc(l[p])&&Yc(d)?l[p]=pf(l[p],d):Yc(d)?l[p]=pf({},d):Ul(d)?l[p]=d.slice():(!a||!Ol(d))&&(l[p]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&ou(arguments[d],o);return l}const fw=(t,a,l,{allOwnKeys:o}={})=>(ou(a,(d,m)=>{l&&ma(d)?Object.defineProperty(t,m,{value:B0(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),pw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gw=(t,a,l,o)=>{t.prototype=Object.create(a.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},xw=(t,a,l,o)=>{let d,m,p;const y={};if(a=a||{},t==null)return a;do{for(d=Object.getOwnPropertyNames(t),m=d.length;m-- >0;)p=d[m],(!o||o(p,t,a))&&!y[p]&&(a[p]=t[p],y[p]=!0);t=l!==!1&&Hf(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},yw=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const o=t.indexOf(a,l);return o!==-1&&o===l},vw=t=>{if(!t)return null;if(Ul(t))return t;let a=t.length;if(!q0(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},bw=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Hf(Uint8Array)),_w=(t,a)=>{const o=(t&&t[hd]).call(t);let d;for(;(d=o.next())&&!d.done;){const m=d.value;a.call(t,m[0],m[1])}},Nw=(t,a)=>{let l;const o=[];for(;(l=t.exec(a))!==null;)o.push(l);return o},jw=ri("HTMLFormElement"),Sw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),Ty=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),ww=ri("RegExp"),K0=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),o={};ou(l,(d,m)=>{let p;(p=a(d,m,t))!==!1&&(o[m]=p||d)}),Object.defineProperties(t,o)},Ew=t=>{K0(t,(a,l)=>{if(ma(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=t[l];if(ma(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},kw=(t,a)=>{const l={},o=d=>{d.forEach(m=>{l[m]=!0})};return Ul(t)?o(t):o(String(t).split(a)),l},Tw=()=>{},Cw=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function Aw(t){return!!(t&&ma(t.append)&&t[U0]==="FormData"&&t[hd])}const zw=t=>{const a=new Array(10),l=(o,d)=>{if(lu(o)){if(a.indexOf(o)>=0)return;if(ru(o))return o;if(!("toJSON"in o)){a[d]=o;const m=Ul(o)?[]:{};return ou(o,(p,y)=>{const v=l(p,d+1);!Ol(v)&&(m[y]=v)}),a[d]=void 0,m}}return o};return l(t,0)},Mw=ri("AsyncFunction"),Ow=t=>t&&(lu(t)||ma(t))&&ma(t.then)&&ma(t.catch),Q0=((t,a)=>t?setImmediate:a?((l,o)=>(Cr.addEventListener("message",({source:d,data:m})=>{d===Cr&&m===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Cr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",ma(Cr.postMessage)),Dw=typeof queueMicrotask<"u"?queueMicrotask.bind(Cr):typeof process<"u"&&process.nextTick||Q0,Rw=t=>t!=null&&ma(t[hd]),xe={isArray:Ul,isArrayBuffer:Z0,isBuffer:ru,isFormData:lw,isArrayBufferView:XS,isString:WS,isNumber:q0,isBoolean:ew,isObject:lu,isPlainObject:Yc,isEmptyObject:tw,isReadableStream:uw,isRequest:cw,isResponse:dw,isHeaders:mw,isUndefined:Ol,isDate:nw,isFile:aw,isBlob:iw,isRegExp:ww,isFunction:ma,isStream:rw,isURLSearchParams:ow,isTypedArray:bw,isFileList:sw,forEach:ou,merge:pf,extend:fw,trim:hw,stripBOM:pw,inherits:gw,toFlatObject:xw,kindOf:fd,kindOfTest:ri,endsWith:yw,toArray:vw,forEachEntry:_w,matchAll:Nw,isHTMLForm:jw,hasOwnProperty:Ty,hasOwnProp:Ty,reduceDescriptors:K0,freezeMethods:Ew,toObjectSet:kw,toCamelCase:Sw,noop:Tw,toFiniteNumber:Cw,findKey:F0,global:Cr,isContextDefined:H0,isSpecCompliantForm:Aw,toJSONObject:zw,isAsyncFn:Mw,isThenable:Ow,setImmediate:Q0,asap:Dw,isIterable:Rw};let tt=class G0 extends Error{static from(a,l,o,d,m,p){const y=new G0(a.message,l||a.code,o,d,m);return y.cause=a,y.name=a.name,p&&Object.assign(y,p),y}constructor(a,l,o,d,m){super(a),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}};tt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";tt.ERR_BAD_OPTION="ERR_BAD_OPTION";tt.ECONNABORTED="ECONNABORTED";tt.ETIMEDOUT="ETIMEDOUT";tt.ERR_NETWORK="ERR_NETWORK";tt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";tt.ERR_DEPRECATED="ERR_DEPRECATED";tt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";tt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";tt.ERR_CANCELED="ERR_CANCELED";tt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";tt.ERR_INVALID_URL="ERR_INVALID_URL";const Lw=null;function gf(t){return xe.isPlainObject(t)||xe.isArray(t)}function V0(t){return xe.endsWith(t,"[]")?t.slice(0,-2):t}function Cy(t,a,l){return t?t.concat(a).map(function(d,m){return d=V0(d),!l&&m?"["+d+"]":d}).join(l?".":""):a}function Pw(t){return xe.isArray(t)&&!t.some(gf)}const Iw=xe.toFlatObject(xe,{},null,function(a){return/^is[A-Z]/.test(a)});function gd(t,a,l){if(!xe.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=xe.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,M){return!xe.isUndefined(M[A])});const o=l.metaTokens,d=l.visitor||S,m=l.dots,p=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(a);if(!xe.isFunction(d))throw new TypeError("visitor must be a function");function b(k){if(k===null)return"";if(xe.isDate(k))return k.toISOString();if(xe.isBoolean(k))return k.toString();if(!v&&xe.isBlob(k))throw new tt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(k)||xe.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,M){let U=k;if(k&&!M&&typeof k=="object"){if(xe.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(xe.isArray(k)&&Pw(k)||(xe.isFileList(k)||xe.endsWith(A,"[]"))&&(U=xe.toArray(k)))return A=V0(A),U.forEach(function(P,G){!(xe.isUndefined(P)||P===null)&&a.append(p===!0?Cy([A],G,m):p===null?A:A+"[]",b(P))}),!1}return gf(k)?!0:(a.append(Cy(M,A,m),b(k)),!1)}const w=[],C=Object.assign(Iw,{defaultVisitor:S,convertValue:b,isVisitable:gf});function z(k,A){if(!xe.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),xe.forEach(k,function(U,D){(!(xe.isUndefined(U)||U===null)&&d.call(a,U,xe.isString(D)?D.trim():D,A,C))===!0&&z(U,A?A.concat(D):[D])}),w.pop()}}if(!xe.isObject(t))throw new TypeError("data must be an object");return z(t),a}function Ay(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function Kf(t,a){this._pairs=[],t&&gd(t,this,a)}const Y0=Kf.prototype;Y0.append=function(a,l){this._pairs.push([a,l])};Y0.toString=function(a){const l=a?function(o){return a.call(this,o,Ay)}:Ay;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Bw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $0(t,a,l){if(!a)return t;const o=l&&l.encode||Bw,d=xe.isFunction(l)?{serialize:l}:l,m=d&&d.serialize;let p;if(m?p=m(a,d):p=xe.isURLSearchParams(a)?a.toString():new Kf(a,d).toString(o),p){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class zy{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){xe.forEach(this.handlers,function(o){o!==null&&a(o)})}}const J0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uw=typeof URLSearchParams<"u"?URLSearchParams:Kf,Zw=typeof FormData<"u"?FormData:null,qw=typeof Blob<"u"?Blob:null,Fw={isBrowser:!0,classes:{URLSearchParams:Uw,FormData:Zw,Blob:qw},protocols:["http","https","file","blob","url","data"]},Qf=typeof window<"u"&&typeof document<"u",xf=typeof navigator=="object"&&navigator||void 0,Hw=Qf&&(!xf||["ReactNative","NativeScript","NS"].indexOf(xf.product)<0),Kw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qw=Qf&&window.location.href||"http://localhost",Gw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qf,hasStandardBrowserEnv:Hw,hasStandardBrowserWebWorkerEnv:Kw,navigator:xf,origin:Qw},Symbol.toStringTag,{value:"Module"})),Kn={...Gw,...Fw};function Vw(t,a){return gd(t,new Kn.classes.URLSearchParams,{visitor:function(l,o,d,m){return Kn.isNode&&xe.isBuffer(l)?(this.append(o,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...a})}function Yw(t){return xe.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function $w(t){const a={},l=Object.keys(t);let o;const d=l.length;let m;for(o=0;o<d;o++)m=l[o],a[m]=t[m];return a}function X0(t){function a(l,o,d,m){let p=l[m++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),v=m>=l.length;return p=!p&&xe.isArray(d)?d.length:p,v?(xe.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!y):((!d[p]||!xe.isObject(d[p]))&&(d[p]=[]),a(l,o,d[p],m)&&xe.isArray(d[p])&&(d[p]=$w(d[p])),!y)}if(xe.isFormData(t)&&xe.isFunction(t.entries)){const l={};return xe.forEachEntry(t,(o,d)=>{a(Yw(o),d,l,0)}),l}return null}function Jw(t,a,l){if(xe.isString(t))try{return(a||JSON.parse)(t),xe.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(t)}const uu={transitional:J0,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,m=xe.isObject(a);if(m&&xe.isHTMLForm(a)&&(a=new FormData(a)),xe.isFormData(a))return d?JSON.stringify(X0(a)):a;if(xe.isArrayBuffer(a)||xe.isBuffer(a)||xe.isStream(a)||xe.isFile(a)||xe.isBlob(a)||xe.isReadableStream(a))return a;if(xe.isArrayBufferView(a))return a.buffer;if(xe.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let y;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Vw(a,this.formSerializer).toString();if((y=xe.isFileList(a))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return gd(y?{"files[]":a}:a,v&&new v,this.formSerializer)}}return m||d?(l.setContentType("application/json",!1),Jw(a)):a}],transformResponse:[function(a){const l=this.transitional||uu.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(xe.isResponse(a)||xe.isReadableStream(a))return a;if(a&&xe.isString(a)&&(o&&!this.responseType||d)){const p=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(y){if(p)throw y.name==="SyntaxError"?tt.from(y,tt.ERR_BAD_RESPONSE,this,null,this.response):y}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],t=>{uu.headers[t]={}});const Xw=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ww=t=>{const a={};let l,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),l=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!l||a[l]&&Xw[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},My=Symbol("internals");function Ko(t){return t&&String(t).trim().toLowerCase()}function $c(t){return t===!1||t==null?t:xe.isArray(t)?t.map($c):String(t)}function e2(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(t);)a[o[1]]=o[2];return a}const t2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sh(t,a,l,o,d){if(xe.isFunction(o))return o.call(this,a,l);if(d&&(a=l),!!xe.isString(a)){if(xe.isString(o))return a.indexOf(o)!==-1;if(xe.isRegExp(o))return o.test(a)}}function n2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function a2(t,a){const l=xe.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+l,{value:function(d,m,p){return this[o].call(this,a,d,m,p)},configurable:!0})})}let ha=class{constructor(a){a&&this.set(a)}set(a,l,o){const d=this;function m(y,v,b){const S=Ko(v);if(!S)throw new Error("header name must be a non-empty string");const w=xe.findKey(d,S);(!w||d[w]===void 0||b===!0||b===void 0&&d[w]!==!1)&&(d[w||v]=$c(y))}const p=(y,v)=>xe.forEach(y,(b,S)=>m(b,S,v));if(xe.isPlainObject(a)||a instanceof this.constructor)p(a,l);else if(xe.isString(a)&&(a=a.trim())&&!t2(a))p(Ww(a),l);else if(xe.isObject(a)&&xe.isIterable(a)){let y={},v,b;for(const S of a){if(!xe.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[b=S[0]]=(v=y[b])?xe.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}p(y,l)}else a!=null&&m(l,a,o);return this}get(a,l){if(a=Ko(a),a){const o=xe.findKey(this,a);if(o){const d=this[o];if(!l)return d;if(l===!0)return e2(d);if(xe.isFunction(l))return l.call(this,d,o);if(xe.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Ko(a),a){const o=xe.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||Sh(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let d=!1;function m(p){if(p=Ko(p),p){const y=xe.findKey(o,p);y&&(!l||Sh(o,o[y],y,l))&&(delete o[y],d=!0)}}return xe.isArray(a)?a.forEach(m):m(a),d}clear(a){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const m=l[o];(!a||Sh(this,this[m],m,a,!0))&&(delete this[m],d=!0)}return d}normalize(a){const l=this,o={};return xe.forEach(this,(d,m)=>{const p=xe.findKey(o,m);if(p){l[p]=$c(d),delete l[m];return}const y=a?n2(m):String(m).trim();y!==m&&delete l[m],l[y]=$c(d),o[y]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return xe.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=a&&xe.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[My]=this[My]={accessors:{}}).accessors,d=this.prototype;function m(p){const y=Ko(p);o[y]||(a2(d,p),o[y]=!0)}return xe.isArray(a)?a.forEach(m):m(a),this}};ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(ha.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[l]=o}}});xe.freezeMethods(ha);function wh(t,a){const l=this||uu,o=a||l,d=ha.from(o.headers);let m=o.data;return xe.forEach(t,function(y){m=y.call(l,m,d.normalize(),a?a.status:void 0)}),d.normalize(),m}function W0(t){return!!(t&&t.__CANCEL__)}let cu=class extends tt{constructor(a,l,o){super(a??"canceled",tt.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function eb(t,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?t(l):a(new tt("Request failed with status code "+l.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function i2(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function s2(t,a){t=t||10;const l=new Array(t),o=new Array(t);let d=0,m=0,p;return a=a!==void 0?a:1e3,function(v){const b=Date.now(),S=o[m];p||(p=b),l[d]=v,o[d]=b;let w=m,C=0;for(;w!==d;)C+=l[w++],w=w%t;if(d=(d+1)%t,d===m&&(m=(m+1)%t),b-p<a)return;const z=S&&b-S;return z?Math.round(C*1e3/z):void 0}}function r2(t,a){let l=0,o=1e3/a,d,m;const p=(b,S=Date.now())=>{l=S,d=null,m&&(clearTimeout(m),m=null),t(...b)};return[(...b)=>{const S=Date.now(),w=S-l;w>=o?p(b,S):(d=b,m||(m=setTimeout(()=>{m=null,p(d)},o-w)))},()=>d&&p(d)]}const nd=(t,a,l=3)=>{let o=0;const d=s2(50,250);return r2(m=>{const p=m.loaded,y=m.lengthComputable?m.total:void 0,v=p-o,b=d(v),S=p<=y;o=p;const w={loaded:p,total:y,progress:y?p/y:void 0,bytes:v,rate:b||void 0,estimated:b&&y&&S?(y-p)/b:void 0,event:m,lengthComputable:y!=null,[a?"download":"upload"]:!0};t(w)},l)},Oy=(t,a)=>{const l=t!=null;return[o=>a[0]({lengthComputable:l,total:t,loaded:o}),a[1]]},Dy=t=>(...a)=>xe.asap(()=>t(...a)),l2=Kn.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,Kn.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,o2=Kn.hasStandardBrowserEnv?{write(t,a,l,o,d,m,p){if(typeof document>"u")return;const y=[`${t}=${encodeURIComponent(a)}`];xe.isNumber(l)&&y.push(`expires=${new Date(l).toUTCString()}`),xe.isString(o)&&y.push(`path=${o}`),xe.isString(d)&&y.push(`domain=${d}`),m===!0&&y.push("secure"),xe.isString(p)&&y.push(`SameSite=${p}`),document.cookie=y.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function u2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function c2(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function tb(t,a,l){let o=!u2(a);return t&&(o||l==!1)?c2(t,a):a}const Ry=t=>t instanceof ha?{...t}:t;function Or(t,a){a=a||{};const l={};function o(b,S,w,C){return xe.isPlainObject(b)&&xe.isPlainObject(S)?xe.merge.call({caseless:C},b,S):xe.isPlainObject(S)?xe.merge({},S):xe.isArray(S)?S.slice():S}function d(b,S,w,C){if(xe.isUndefined(S)){if(!xe.isUndefined(b))return o(void 0,b,w,C)}else return o(b,S,w,C)}function m(b,S){if(!xe.isUndefined(S))return o(void 0,S)}function p(b,S){if(xe.isUndefined(S)){if(!xe.isUndefined(b))return o(void 0,b)}else return o(void 0,S)}function y(b,S,w){if(w in a)return o(b,S);if(w in t)return o(void 0,b)}const v={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(b,S,w)=>d(Ry(b),Ry(S),w,!0)};return xe.forEach(Object.keys({...t,...a}),function(S){const w=v[S]||d,C=w(t[S],a[S],S);xe.isUndefined(C)&&w!==y||(l[S]=C)}),l}const nb=t=>{const a=Or({},t);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:p,auth:y}=a;if(a.headers=p=ha.from(p),a.url=$0(tb(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),xe.isFormData(l)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(xe.isFunction(l.getHeaders)){const v=l.getHeaders(),b=["content-type","content-length"];Object.entries(v).forEach(([S,w])=>{b.includes(S.toLowerCase())&&p.set(S,w)})}}if(Kn.hasStandardBrowserEnv&&(o&&xe.isFunction(o)&&(o=o(a)),o||o!==!1&&l2(a.url))){const v=d&&m&&o2.read(m);v&&p.set(d,v)}return a},d2=typeof XMLHttpRequest<"u",m2=d2&&function(t){return new Promise(function(l,o){const d=nb(t);let m=d.data;const p=ha.from(d.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:b}=d,S,w,C,z,k;function A(){z&&z(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let M=new XMLHttpRequest;M.open(d.method.toUpperCase(),d.url,!0),M.timeout=d.timeout;function U(){if(!M)return;const P=ha.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),J={data:!y||y==="text"||y==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:P,config:t,request:M};eb(function(K){l(K),A()},function(K){o(K),A()},J),M=null}"onloadend"in M?M.onloadend=U:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(U)},M.onabort=function(){M&&(o(new tt("Request aborted",tt.ECONNABORTED,t,M)),M=null)},M.onerror=function(G){const J=G&&G.message?G.message:"Network Error",V=new tt(J,tt.ERR_NETWORK,t,M);V.event=G||null,o(V),M=null},M.ontimeout=function(){let G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const J=d.transitional||J0;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),o(new tt(G,J.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,t,M)),M=null},m===void 0&&p.setContentType(null),"setRequestHeader"in M&&xe.forEach(p.toJSON(),function(G,J){M.setRequestHeader(J,G)}),xe.isUndefined(d.withCredentials)||(M.withCredentials=!!d.withCredentials),y&&y!=="json"&&(M.responseType=d.responseType),b&&([C,k]=nd(b,!0),M.addEventListener("progress",C)),v&&M.upload&&([w,z]=nd(v),M.upload.addEventListener("progress",w),M.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(S=P=>{M&&(o(!P||P.type?new cu(null,t,M):P),M.abort(),M=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const D=i2(d.url);if(D&&Kn.protocols.indexOf(D)===-1){o(new tt("Unsupported protocol "+D+":",tt.ERR_BAD_REQUEST,t));return}M.send(m||null)})},h2=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let o=new AbortController,d;const m=function(b){if(!d){d=!0,y();const S=b instanceof Error?b:this.reason;o.abort(S instanceof tt?S:new cu(S instanceof Error?S.message:S))}};let p=a&&setTimeout(()=>{p=null,m(new tt(`timeout of ${a}ms exceeded`,tt.ETIMEDOUT))},a);const y=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(b=>{b.unsubscribe?b.unsubscribe(m):b.removeEventListener("abort",m)}),t=null)};t.forEach(b=>b.addEventListener("abort",m));const{signal:v}=o;return v.unsubscribe=()=>xe.asap(y),v}},f2=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let o=0,d;for(;o<l;)d=o+a,yield t.slice(o,d),o=d},p2=async function*(t,a){for await(const l of g2(t))yield*f2(l,a)},g2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},Ly=(t,a,l,o)=>{const d=p2(t,a);let m=0,p,y=v=>{p||(p=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:b,value:S}=await d.next();if(b){y(),v.close();return}let w=S.byteLength;if(l){let C=m+=w;l(C)}v.enqueue(new Uint8Array(S))}catch(b){throw y(b),b}},cancel(v){return y(v),d.return()}},{highWaterMark:2})},Py=64*1024,{isFunction:Mc}=xe,x2=(({Request:t,Response:a})=>({Request:t,Response:a}))(xe.global),{ReadableStream:Iy,TextEncoder:By}=xe.global,Uy=(t,...a)=>{try{return!!t(...a)}catch{return!1}},y2=t=>{t=xe.merge.call({skipUndefined:!0},x2,t);const{fetch:a,Request:l,Response:o}=t,d=a?Mc(a):typeof fetch=="function",m=Mc(l),p=Mc(o);if(!d)return!1;const y=d&&Mc(Iy),v=d&&(typeof By=="function"?(k=>A=>k.encode(A))(new By):async k=>new Uint8Array(await new l(k).arrayBuffer())),b=m&&y&&Uy(()=>{let k=!1;const A=new l(Kn.origin,{body:new Iy,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=p&&y&&Uy(()=>xe.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,M)=>{let U=A&&A[k];if(U)return U.call(A);throw new tt(`Response type '${k}' is not supported`,tt.ERR_NOT_SUPPORT,M)})});const C=async k=>{if(k==null)return 0;if(xe.isBlob(k))return k.size;if(xe.isSpecCompliantForm(k))return(await new l(Kn.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(k)||xe.isArrayBuffer(k))return k.byteLength;if(xe.isURLSearchParams(k)&&(k=k+""),xe.isString(k))return(await v(k)).byteLength},z=async(k,A)=>{const M=xe.toFiniteNumber(k.getContentLength());return M??C(A)};return async k=>{let{url:A,method:M,data:U,signal:D,cancelToken:P,timeout:G,onDownloadProgress:J,onUploadProgress:V,responseType:K,headers:Q,withCredentials:re="same-origin",fetchOptions:ye}=nb(k),te=a||fetch;K=K?(K+"").toLowerCase():"text";let oe=h2([D,P&&P.toAbortSignal()],G),be=null;const q=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let Y;try{if(V&&b&&M!=="get"&&M!=="head"&&(Y=await z(Q,U))!==0){let O=new l(A,{method:"POST",body:U,duplex:"half"}),ne;if(xe.isFormData(U)&&(ne=O.headers.get("content-type"))&&Q.setContentType(ne),O.body){const[R,H]=Oy(Y,nd(Dy(V)));U=Ly(O.body,Py,R,H)}}xe.isString(re)||(re=re?"include":"omit");const Z=m&&"credentials"in l.prototype,W={...ye,signal:oe,method:M.toUpperCase(),headers:Q.normalize().toJSON(),body:U,duplex:"half",credentials:Z?re:void 0};be=m&&new l(A,W);let ce=await(m?te(be,ye):te(A,W));const Te=S&&(K==="stream"||K==="response");if(S&&(J||Te&&q)){const O={};["status","statusText","headers"].forEach(pe=>{O[pe]=ce[pe]});const ne=xe.toFiniteNumber(ce.headers.get("content-length")),[R,H]=J&&Oy(ne,nd(Dy(J),!0))||[];ce=new o(Ly(ce.body,Py,R,()=>{H&&H(),q&&q()}),O)}K=K||"text";let ee=await w[xe.findKey(w,K)||"text"](ce,k);return!Te&&q&&q(),await new Promise((O,ne)=>{eb(O,ne,{data:ee,headers:ha.from(ce.headers),status:ce.status,statusText:ce.statusText,config:k,request:be})})}catch(Z){throw q&&q(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,k,be),{cause:Z.cause||Z}):tt.from(Z,Z&&Z.code,k,be)}}},v2=new Map,ab=t=>{let a=t&&t.env||{};const{fetch:l,Request:o,Response:d}=a,m=[o,d,l];let p=m.length,y=p,v,b,S=v2;for(;y--;)v=m[y],b=S.get(v),b===void 0&&S.set(v,b=y?new Map:y2(a)),S=b;return b};ab();const Gf={http:Lw,xhr:m2,fetch:{get:ab}};xe.forEach(Gf,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Zy=t=>`- ${t}`,b2=t=>xe.isFunction(t)||t===null||t===!1;function _2(t,a){t=xe.isArray(t)?t:[t];const{length:l}=t;let o,d;const m={};for(let p=0;p<l;p++){o=t[p];let y;if(d=o,!b2(o)&&(d=Gf[(y=String(o)).toLowerCase()],d===void 0))throw new tt(`Unknown adapter '${y}'`);if(d&&(xe.isFunction(d)||(d=d.get(a))))break;m[y||"#"+p]=d}if(!d){const p=Object.entries(m).map(([v,b])=>`adapter ${v} `+(b===!1?"is not supported by the environment":"is not available in the build"));let y=l?p.length>1?`since :
`+p.map(Zy).join(`
`):" "+Zy(p[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d}const ib={getAdapter:_2,adapters:Gf};function Eh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cu(null,t)}function qy(t){return Eh(t),t.headers=ha.from(t.headers),t.data=wh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ib.getAdapter(t.adapter||uu.adapter,t)(t).then(function(o){return Eh(t),o.data=wh.call(t,t.transformResponse,o),o.headers=ha.from(o.headers),o},function(o){return W0(o)||(Eh(t),o&&o.response&&(o.response.data=wh.call(t,t.transformResponse,o.response),o.response.headers=ha.from(o.response.headers))),Promise.reject(o)})}const sb="1.13.4",xd={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{xd[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Fy={};xd.transitional=function(a,l,o){function d(m,p){return"[Axios v"+sb+"] Transitional option '"+m+"'"+p+(o?". "+o:"")}return(m,p,y)=>{if(a===!1)throw new tt(d(p," has been removed"+(l?" in "+l:"")),tt.ERR_DEPRECATED);return l&&!Fy[p]&&(Fy[p]=!0,console.warn(d(p," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(m,p,y):!0}};xd.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function N2(t,a,l){if(typeof t!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const m=o[d],p=a[m];if(p){const y=t[m],v=y===void 0||p(y,m,t);if(v!==!0)throw new tt("option "+m+" must be "+v,tt.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new tt("Unknown option "+m,tt.ERR_BAD_OPTION)}}const Jc={assertOptions:N2,validators:xd},Ni=Jc.validators;let Ar=class{constructor(a){this.defaults=a||{},this.interceptors={request:new zy,response:new zy}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Or(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:m}=l;o!==void 0&&Jc.assertOptions(o,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),d!=null&&(xe.isFunction(d)?l.paramsSerializer={serialize:d}:Jc.assertOptions(d,{encode:Ni.function,serialize:Ni.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Jc.assertOptions(l,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=m&&xe.merge(m.common,m[l.method]);m&&xe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete m[k]}),l.headers=ha.concat(p,m);const y=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,y.unshift(A.fulfilled,A.rejected))});const b=[];this.interceptors.response.forEach(function(A){b.push(A.fulfilled,A.rejected)});let S,w=0,C;if(!v){const k=[qy.bind(this),void 0];for(k.unshift(...y),k.push(...b),C=k.length,S=Promise.resolve(l);w<C;)S=S.then(k[w++],k[w++]);return S}C=y.length;let z=l;for(;w<C;){const k=y[w++],A=y[w++];try{z=k(z)}catch(M){A.call(this,M);break}}try{S=qy.call(this,z)}catch(k){return Promise.reject(k)}for(w=0,C=b.length;w<C;)S=S.then(b[w++],b[w++]);return S}getUri(a){a=Or(this.defaults,a);const l=tb(a.baseURL,a.url,a.allowAbsoluteUrls);return $0(l,a.params,a.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(a){Ar.prototype[a]=function(l,o){return this.request(Or(o||{},{method:a,url:l,data:(o||{}).data}))}});xe.forEach(["post","put","patch"],function(a){function l(o){return function(m,p,y){return this.request(Or(y||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}Ar.prototype[a]=l(),Ar.prototype[a+"Form"]=l(!0)});let j2=class rb{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const p=new Promise(y=>{o.subscribe(y),m=y}).then(d);return p.cancel=function(){o.unsubscribe(m)},p},a(function(m,p,y){o.reason||(o.reason=new cu(m,p,y),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new rb(function(d){a=d}),cancel:a}}};function S2(t){return function(l){return t.apply(null,l)}}function w2(t){return xe.isObject(t)&&t.isAxiosError===!0}const yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yf).forEach(([t,a])=>{yf[a]=t});function lb(t){const a=new Ar(t),l=B0(Ar.prototype.request,a);return xe.extend(l,Ar.prototype,a,{allOwnKeys:!0}),xe.extend(l,a,null,{allOwnKeys:!0}),l.create=function(d){return lb(Or(t,d))},l}const Gt=lb(uu);Gt.Axios=Ar;Gt.CanceledError=cu;Gt.CancelToken=j2;Gt.isCancel=W0;Gt.VERSION=sb;Gt.toFormData=gd;Gt.AxiosError=tt;Gt.Cancel=Gt.CanceledError;Gt.all=function(a){return Promise.all(a)};Gt.spread=S2;Gt.isAxiosError=w2;Gt.mergeConfig=Or;Gt.AxiosHeaders=ha;Gt.formToJSON=t=>X0(xe.isHTMLForm(t)?new FormData(t):t);Gt.getAdapter=ib.getAdapter;Gt.HttpStatusCode=yf;Gt.default=Gt;const{Axios:I3,AxiosError:B3,CanceledError:U3,isCancel:Z3,CancelToken:q3,VERSION:F3,all:H3,Cancel:K3,isAxiosError:Q3,spread:G3,toFormData:V3,AxiosHeaders:Y3,HttpStatusCode:$3,formToJSON:J3,getAdapter:X3,mergeConfig:W3}=Gt,Vf="puantaj_access_token",ad="puantaj_refresh_token";function ob(){return localStorage.getItem(Vf)}function vf(){return localStorage.getItem(ad)}function bf(t,a){if(localStorage.setItem(Vf,t),a){localStorage.setItem(ad,a);return}localStorage.removeItem(ad)}function ub(){localStorage.removeItem(Vf),localStorage.removeItem(ad)}function E2(t){try{const a=t.split(".")[1];if(!a)return null;const l=a.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function k2(t){if(!t)return!1;const a=E2(t);if(!a?.exp)return!1;const l=Math.floor(Date.now()/1e3);return a.exp>l+10}const _f="http://127.0.0.1:8000",T2=_f.includes("127.0.0.1")||_f.includes("localhost"),C2=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Yf=C2&&T2?window.location.origin:_f,kh="/admin-panel/",Oc=kh.endsWith("/")?kh.slice(0,-1):kh,ze=Gt.create({baseURL:Yf,headers:{"Content-Type":"application/json"}}),A2=Gt.create({baseURL:Yf,headers:{"Content-Type":"application/json"}});function Hy(){if(ub(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,a=Oc&&t.startsWith(Oc)?t.slice(Oc.length)||"/":t;if(a==="/login"||a.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Oc}/login?redirect=${encodeURIComponent(a)}`;window.location.replace(l)}ze.interceptors.request.use(t=>{const a=ob();return a&&(t.headers.Authorization=`Bearer ${a}`),t});let Dc=null;async function z2(){const t=vf();if(!t)return Hy(),null;try{const a=await Gt.post(`${Yf}/api/admin/auth/refresh`,{refresh_token:t});return bf(a.data.access_token,a.data.refresh_token??t),a.data.access_token}catch{return Hy(),null}}ze.interceptors.response.use(t=>t,async t=>{const a=t.config;if(!a||t.response?.status!==401||a._retry)return Promise.reject(t);const o=a.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);a._retry=!0,Dc||(Dc=z2().finally(()=>{Dc=null}));const m=await Dc;return m?(a.headers.Authorization=`Bearer ${m}`,ze(a)):Promise.reject(t)});async function M2(t){return(await ze.post("/api/admin/auth/login",t)).data}async function O2(t){return(await ze.post("/api/admin/auth/refresh",t)).data}async function D2(t){return(await ze.post("/api/admin/auth/logout",t)).data}async function Th(){return(await ze.get("/api/admin/auth/me")).data}async function cb(){return(await ze.get("/api/admin/admin-users")).data}async function yd(t){return(await ze.get("/api/admin/regions",{params:t})).data}async function R2(t){return(await ze.post("/api/admin/regions",t)).data}async function L2(t,a){return(await ze.patch(`/api/admin/regions/${t}`,a)).data}async function P2(t){return(await ze.post("/api/admin/admin-users",t)).data}async function I2(t,a){return(await ze.patch(`/api/admin/admin-users/${t}`,a)).data}async function B2(t){await ze.delete(`/api/admin/admin-users/${t}`)}async function Fs(){return(await ze.get("/admin/departments")).data}async function U2(t){return(await ze.get("/admin/departments",{params:t})).data}async function Z2(t){return(await ze.post("/admin/departments",t)).data}async function q2(t,a){return(await ze.patch(`/admin/departments/${t}`,a)).data}async function li(t={}){return(await ze.get("/admin/employees",{params:t})).data}async function F2(t){return(await ze.post("/admin/employees",t)).data}async function H2(t){return(await ze.get(`/api/admin/employees/${t}/detail`)).data}async function K2(t,a){return(await ze.patch(`/api/admin/employees/${t}`,a)).data}async function db(t,a){return(await ze.patch(`/api/admin/employees/${t}/active`,a)).data}async function Q2(t,a){return(await ze.patch(`/api/admin/employees/${t}/shift`,a)).data}async function G2(t,a){return(await ze.patch(`/api/admin/employees/${t}/department`,a)).data}async function V2(t,a){return(await ze.put(`/admin/employee-locations/${t}`,a)).data}async function Y2(){return(await ze.get("/admin/work-rules")).data}async function $2(t){return(await ze.post("/admin/work-rules",t)).data}async function mb(t){return(await ze.get("/admin/department-weekly-rules",{params:t})).data}async function hb(t){return(await ze.post("/admin/department-weekly-rules",t)).data}async function du(t){return(await ze.get("/admin/department-shifts",{params:t})).data}async function id(t){return(await ze.post("/admin/department-shifts",t)).data}async function fb(t){return(await ze.delete(`/admin/department-shifts/${t}`)).data}async function J2(t={}){return(await ze.get("/api/admin/qr/codes",{params:t})).data}async function X2(t){return(await ze.post("/api/admin/qr/codes",t)).data}async function W2(t,a){return(await ze.patch(`/api/admin/qr/codes/${t}`,a)).data}async function eE(t,a){return(await ze.post(`/api/admin/qr/codes/${t}/points`,a)).data}async function tE(t,a){return(await ze.delete(`/api/admin/qr/codes/${t}/points/${a}`)).data}async function nE(t={}){return(await ze.get("/api/admin/qr/points",{params:t})).data}async function aE(t){return(await ze.post("/api/admin/qr/points",t)).data}async function iE(t,a){return(await ze.patch(`/api/admin/qr/points/${t}`,a)).data}async function sE(t){return(await ze.delete(`/api/admin/qr/points/${t}`)).data}async function Ky(t){return(await ze.post("/api/admin/schedule-plans",t)).data}async function rE(t={}){return(await ze.get("/api/admin/schedule-plans",{params:t})).data}async function lE(t){return(await ze.delete(`/api/admin/schedule-plans/${t}`)).data}async function $f(t={}){return(await ze.get("/admin/attendance-events",{params:t})).data}async function oE(t){return(await ze.post("/api/admin/attendance-events",t)).data}async function uE(t,a){return(await ze.patch(`/api/admin/attendance-events/${t}`,a)).data}async function cE(t,a=!1){return(await ze.delete(`/api/admin/attendance-events/${t}`,{params:{force:a}})).data}async function pb(t={}){return(await ze.get("/api/admin/audit-logs",{params:t})).data}async function dE(t={}){return(await ze.get("/api/admin/notifications/jobs",{params:t})).data}async function mE(t={}){return(await ze.get("/api/admin/notifications/delivery-logs",{params:t})).data}async function hE(t){return(await ze.post(`/api/admin/notifications/jobs/${t}/cancel`)).data}async function fE(t={}){return(await ze.get("/api/admin/notifications/subscriptions",{params:t})).data}async function pE(t={}){return(await ze.get("/api/admin/notifications/admin-subscriptions",{params:t})).data}async function gb(){return(await ze.get("/api/admin/notifications/push/config")).data}async function gE(){return(await ze.get("/api/admin/notifications/admin-self-check")).data}async function xE(){return(await ze.post("/api/admin/notifications/admin-self-test")).data}async function yE(t){return(await ze.post("/api/admin/notifications/admin-device-invite",t)).data}async function vE(t){return(await ze.post("/api/admin/notifications/admin-device-claim",t)).data}async function xb(t){return(await ze.post("/api/admin/notifications/send",t)).data}async function bE(t={}){return(await ze.get("/api/admin/daily-report-archives",{params:t})).data}function _E(t){if(!t)return null;const a=t.match(/filename\*=UTF-8''([^;]+)/i);if(a?.[1])try{return decodeURIComponent(a[1].trim())}catch{return a[1].trim()}const l=t.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function NE(t){return(await ze.get(`/api/admin/daily-report-archives/${t}/download`,{responseType:"blob"})).data}async function jE(t,a){const l=await A2.post(`/api/admin/daily-report-archives/${t}/password-download`,a,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:_E(o)}}async function SE(t,a={}){return(await ze.post(`/api/admin/daily-report-archives/${t}/notify`,a)).data}async function yb(){return(await ze.get("/admin/devices")).data}async function Nf(t={}){return(await ze.get("/api/admin/employee-device-overview",{params:t})).data}async function vb(t){return(await ze.get("/api/admin/dashboard/employee-snapshot",{params:t})).data}async function wE(t,a){return(await ze.patch(`/api/admin/devices/${t}/active`,a)).data}async function bb(t={}){return(await ze.get("/api/admin/leaves",{params:t})).data}async function EE(t){return(await ze.post("/api/admin/leaves",t)).data}async function kE(t){await ze.delete(`/api/admin/leaves/${t}`)}async function _b(t){return(await ze.post("/api/admin/device-invite",t)).data}async function tu(t){return(await ze.get("/api/admin/monthly/employee",{params:t})).data}async function TE(t){return(await ze.get("/api/admin/monthly/department-summary",{params:t})).data}async function CE(t,a){return(await ze.post("/api/admin/manual-overrides/day",a,{params:{employee_id:t}})).data}async function AE(t,a,l){return(await ze.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:a,month:l}})).data}async function zE(t){await ze.delete(`/api/admin/manual-overrides/day/${t}`)}async function ME(){return(await ze.get("/api/admin/compliance-settings")).data}async function OE(t){return(await ze.put("/api/admin/compliance-settings",t)).data}async function DE(t){return(await ze.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function RE(t){return(await ze.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function LE(t){return(await ze.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function PE(t){return(await ze.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function IE(t){return(await ze.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const Nb=N.createContext(void 0);function BE({children:t}){const[a,l]=N.useState(null),[o,d]=N.useState(!0),m=N.useCallback(()=>{ub(),l(null)},[]),p=N.useCallback(async()=>{const w=vf();if(!w)return m(),!1;try{const C=await O2({refresh_token:w});bf(C.access_token,C.refresh_token??w);const z=await Th();return l(z),!0}catch{return m(),!1}},[m]),y=N.useCallback(async()=>{const w=ob();if(!w){l(null),d(!1);return}if(k2(w)){try{const C=await Th();l(C)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);N.useEffect(()=>{y()},[y]),N.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=N.useCallback(async(w,C,z)=>{const k=await M2({username:w,password:C,mfa_code:z?.trim()||void 0});bf(k.access_token,k.refresh_token);const A=await Th();l(A)},[]),b=N.useCallback(async()=>{const w=vf();if(w)try{await D2({refresh_token:w})}catch{}m()},[m]),S=N.useMemo(()=>({user:a,isAuthenticated:!!a,isBootstrapping:o,isSuperAdmin:!!a?.is_super_admin,login:v,logout:b,refreshSession:p,hasPermission:(w,C="read")=>{if(!a)return!1;if(a.is_super_admin)return!0;const z=a.permissions?.[w];return z?C==="write"?!!z.write:!!(z.read||z.write):!1}}),[a,o,v,b,p]);return i.jsx(Nb.Provider,{value:S,children:t})}function Lr(){const t=N.useContext(Nb);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const UE=[{to:"/management-console",label:"Ynetim Konsolu"},{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Blgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],ZE={"/management-console":"Ynetim Konsolu","/dashboard":"Genel Bak","/regions":"Blgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function qE(){const t=Ka(),{user:a,logout:l,hasPermission:o}=Lr(),d=N.useRef(null),m=N.useRef(null),p=N.useRef(!1),y=N.useRef(null),[v,b]=N.useState(!1),[S,w]=N.useState("erie geiliyor..."),C=UE.filter(P=>!P.permission||o(P.permission)),z=ZE[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel"),k=()=>typeof window<"u"&&window.innerWidth<1024,A=()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},M=(P,G)=>{w(G),b(!0),P==="content"?m.current?.scrollIntoView({behavior:"smooth",block:"start"}):d.current?.scrollIntoView({behavior:"smooth",block:"start"}),A(),y.current=window.setTimeout(()=>{b(!1)},1200)},U=P=>{if(k()){if(t.pathname===P){window.requestAnimationFrame(()=>{M("content","erie geiliyor...")});return}w("erie geiliyor..."),b(!0),p.current=!0}},D=()=>{k()&&window.requestAnimationFrame(()=>{M("sidebar","Sidebar'a dnlyor...")})};return N.useEffect(()=>{k()&&window.scrollTo({top:0})},[]),N.useEffect(()=>{p.current&&(p.current=!1,window.requestAnimationFrame(()=>{M("content","erie geiliyor...")}))},[t.pathname]),N.useEffect(()=>()=>{A()},[]),i.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[v?i.jsxs("div",{className:"mobile-nav-loader lg:hidden",role:"status","aria-live":"polite","aria-label":"Sayfa geii",children:[i.jsxs("div",{className:"mobile-nav-loader-logo","aria-hidden":"true",children:[i.jsx("div",{className:"mobile-nav-loader-halo"}),i.jsx("div",{className:"mobile-nav-loader-ring"}),i.jsx("div",{className:"mobile-nav-loader-spark"}),i.jsxs("div",{className:"mobile-nav-loader-core",children:[i.jsx("span",{className:"mobile-nav-loader-brand",children:"YABUJIN"}),i.jsx("span",{className:"mobile-nav-loader-sub",children:"CONTROL CORE"})]})]}),i.jsx("p",{className:"mobile-nav-loader-text",children:S})]}):null,i.jsxs("aside",{ref:d,className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[i.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),i.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),i.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:C.map(P=>i.jsx(P0,{to:P.to,onClick:()=>U(P.to),className:({isActive:G})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${G?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:P.label},P.to))}),i.jsxs("div",{className:"admin-signature",children:[i.jsx("p",{className:"admin-signature-main",children:wi.signatureText}),i.jsx("p",{className:"admin-signature-sub",children:wi.signatureTagline})]})]}),i.jsxs("div",{ref:m,className:"flex min-h-screen flex-col",children:[i.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-4 py-4 backdrop-blur sm:px-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:z}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",a?.username??a?.sub??"admin"," / Rol: ",a?.role??"admin"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:D,className:"btn-animated rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100 lg:hidden",children:"Sidebar'a Git"}),i.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})]})}),i.jsx("main",{className:"admin-main flex-1 p-4 sm:p-6",children:i.jsx(Uf,{})}),i.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[i.jsx("span",{className:"admin-footer-brand",children:wi.signatureText}),i.jsx("span",{className:"admin-footer-sub",children:wi.signatureTagline}),i.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",wi.buildVersion]})]})]})]})}function FE(){const{isAuthenticated:t,isBootstrapping:a}=Lr(),l=Ka();if(a)return i.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${l.pathname}${l.search}`;return i.jsx(Bf,{to:"/login",replace:!0,state:{from:o}})}return i.jsx(Uf,{})}function HE(){const{isAuthenticated:t,isBootstrapping:a}=Lr();return a?i.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?i.jsx(Bf,{to:"/dashboard",replace:!0}):i.jsx(Uf,{})}const Qy={INVALID_CREDENTIALS:"Kullanici adi veya sifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giris yapin.",FORBIDDEN:"Bu islem icin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin.",MFA_REQUIRED:"MFA kodu zorunlu. Authenticator kodunu girin.",INVALID_MFA_CODE:"MFA kodu gecersiz. Tekrar deneyin.",ARCHIVE_DECRYPT_FAILED:"Arsiv dosyasi acilamadi. Sunucu anahtarini kontrol edin."};function Be(t,a){if(Gt.isAxiosError(t)){const l=t.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,m=l?.error?.message;if(o&&Qy[o])return{code:o,requestId:d,message:Qy[o]};if(m)return{code:o,requestId:d,message:m};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:a}}function KE(t,a){return Be(t,a).message}function QE(t){const a="=".repeat((4-t.length%4)%4),l=`${t}${a}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let m=0;m<o.length;m+=1)d[m]=o.charCodeAt(m);return d}const Gy="pf_admin_push_vapid_public_key";function GE(){const t=Bl(),[a]=Ff(),{login:l}=Lr(),o=N.useMemo(()=>a.get("token")?.trim()??"",[a]),[d,m]=N.useState("admin"),[p,y]=N.useState(""),[v,b]=N.useState(!1),[S,w]=N.useState(null),[C,z]=N.useState(null),[k,A]=N.useState(null),M=async U=>{if(U.preventDefault(),z(null),A(null),w(null),!o){z("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const D=d.trim(),P=p.trim();if(!D||!P){z("Admin kullanc ad ve ifre zorunludur.");return}try{b(!0),await l(D,P);const G=await gb();if(!G.enabled||!G.vapid_public_key){z("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){z("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){z("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const K=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let Q=await K.pushManager.getSubscription();const re=window.localStorage.getItem(Gy);if(Q&&re&&re!==G.vapid_public_key){try{await Q.unsubscribe()}catch{}Q=null}Q||(Q=await K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:QE(G.vapid_public_key)})),await vE({token:o,subscription:Q.toJSON()}),window.localStorage.setItem(Gy,G.vapid_public_key),w("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{t("/notifications",{replace:!0})},1e3)}catch(G){const J=Be(G,"Cihaz balama ilemi baarsz oldu.");z(J.message),A(J.requestId??null)}finally{b(!1)}};return i.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[i.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),i.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),i.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",o||"Bulunamad"]}),i.jsxs("form",{className:"mt-4 space-y-3",onSubmit:M,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",i.jsx("input",{value:d,onChange:U=>m(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",i.jsx("input",{type:"password",value:p,onChange:U=>y(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),C?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[i.jsx("p",{children:C}),k?i.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",k]}):null]}):null,S?i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:S}):null,i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"submit",disabled:v,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:v?"Balanyor...":"Cihaz Bala"}),i.jsx(si,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function Rc(t){return`#${t.id} - ${t.full_name}`}function Fa({label:t,employees:a,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:m="Seiniz",helperText:p,disabled:y=!1,className:v=""}){const b=N.useMemo(()=>a.find(M=>String(M.id)===l),[a,l]),[S,w]=N.useState(b?Rc(b):""),[C,z]=N.useState(!1);N.useEffect(()=>{if(b){w(Rc(b));return}l||w("")},[b,l]);const k=N.useMemo(()=>{const M=S.trim().toLowerCase();return(M?a.filter(D=>{const P=D.full_name.toLowerCase().includes(M),G=String(D.id).includes(M.replace("#",""));return P||G}):a).slice(0,60)},[a,S]),A=M=>{o(String(M.id)),w(Rc(M)),z(!1)};return i.jsxs("div",{className:v,children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[t,i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:S,disabled:y,onFocus:()=>z(!0),onChange:M=>{const U=M.target.value;w(U),z(!0),U.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),i.jsx("button",{type:"button",disabled:y,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?i.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[i.jsx("button",{type:"button",onMouseDown:M=>M.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:i.jsx("span",{children:m})}),k.map(M=>i.jsxs("button",{type:"button",onMouseDown:U=>U.preventDefault(),onClick:()=>A(M),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[i.jsx("span",{children:Rc(M)}),M.is_active?null:i.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},M.id)),k.length===0?i.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function jt({message:t}){return i.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function Ot({label:t="Ykleniyor..."}){return i.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[i.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),i.jsx("span",{children:t})]})}function VE(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function jb(t){const a=VE(t),l=Math.floor(a/60),o=a%60;return{hours:l,minutes:o}}function YE(t){const{hours:a,minutes:l}=jb(t),o=String(a).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function $E(t){const{hours:a,minutes:l}=jb(t);return a===0?`${l}dk`:`${a}s ${l}dk`}function Xc(t){return`${YE(t)} (${$E(t)})`}function De({minutes:t}){return i.jsx("span",{className:"whitespace-nowrap",children:Xc(t)})}function Dl({open:t,title:a,onClose:l,children:o}){return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:i.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:a}),i.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function En({title:t,description:a,action:l}){return i.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),a?i.jsx("p",{className:"mt-1 text-sm text-slate-600",children:a}):null]}),l]})}function Ae({children:t,className:a=""}){return i.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${a}`,children:t})}function Sb({suspicious:t,label:a="Supheli",tooltip:l}){return t?i.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:a}):i.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const JE={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function Si(t){return JE[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function XE(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function WE(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function wb({reasons:t}){return t.length===0?i.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):i.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(a=>i.jsx("span",{title:Si(a).description,className:WE(Si(a).tone),children:Si(a).label},a))})}const Eb=N.createContext(void 0);function e1(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function t1({children:t}){const[a,l]=N.useState([]),o=N.useCallback(p=>{l(y=>y.map(v=>v.id===p?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(y=>y.filter(v=>v.id!==p))},170)},[]),d=N.useCallback(p=>{const y=crypto.randomUUID(),v={id:y,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};l(b=>[...b,v]),window.setTimeout(()=>{o(y)},v.durationMs)},[o]),m=N.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return i.jsxs(Eb.Provider,{value:m,children:[t,i.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:a.map(p=>i.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${e1(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?i.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),i.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function In(){const t=N.useContext(Eb);return t||{pushToast:()=>{},removeToast:()=>{}}}function n1(t){const[a,l,o]=t.split("-"),d=Number(a),m=Number(l),p=Number(o);return!Number.isInteger(d)||!Number.isInteger(m)||!Number.isInteger(p)?new Date("invalid"):new Date(Date.UTC(d,m-1,p))}function a1(t){return t.leave_type==="PUBLIC_HOLIDAY"||t.flags.includes("PUBLIC_HOLIDAY")}function i1(t){return t.worked_minutes>0?!0:!!(t.in||t.out)}function vd(t){if(a1(t))return{key:"SPECIAL",label:"zel Gn"};const a=n1(t.date);return!Number.isNaN(a.getTime())&&a.getUTCDay()===0?{key:"SUNDAY",label:"Pazar"}:{key:"WEEKDAY",label:"Hafta i"}}function Jf(t){const a={workedMinutes:0,overtimeMinutes:0,planOvertimeMinutes:0,legalExtraWorkMinutes:0,workedDayCount:0,overtimeDayCount:0,planOvertimeDayCount:0,sundayWorkedDayCount:0,weekdayWorkedDayCount:0,specialWorkedDayCount:0,sundayWorkedMinutes:0,weekdayWorkedMinutes:0,specialWorkedMinutes:0};for(const l of t){const o=l.plan_overtime_minutes??l.overtime_minutes,d=l.legal_extra_work_minutes??0,m=l.legal_overtime_minutes??l.overtime_minutes;if(a.workedMinutes+=l.worked_minutes,a.planOvertimeMinutes+=o,a.legalExtraWorkMinutes+=d,a.overtimeMinutes+=m,i1(l)){a.workedDayCount+=1;const y=vd(l);y.key==="SPECIAL"?(a.specialWorkedDayCount+=1,a.specialWorkedMinutes+=l.worked_minutes):y.key==="SUNDAY"?(a.sundayWorkedDayCount+=1,a.sundayWorkedMinutes+=l.worked_minutes):(a.weekdayWorkedDayCount+=1,a.weekdayWorkedMinutes+=l.worked_minutes)}o>0&&(a.planOvertimeDayCount+=1),m>0&&(a.overtimeDayCount+=1)}return a}const s1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],r1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Lc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function Yo(t,a){return t[a]===!0}function Vy(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const a=Number(t.trim());if(Number.isInteger(a)&&a>0)return a}return null}function Pc(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function l1(t){const a=new Date(t);return new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function o1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function Ch(t){const a=[],l=t.flags.reason==="home_location_not_set";return Yo(t.flags,"DUPLICATE_EVENT")&&a.push("DUPLICATE_EVENT"),Yo(t.flags,"MANUAL_CHECKOUT")&&a.push("MANUAL_CHECKOUT"),Yo(t.flags,"NEEDS_SHIFT_REVIEW")&&a.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&a.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&!l&&a.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||Yo(t.flags,"ADMIN_MANUAL"))&&a.push("ADMIN_MANUAL_EVENT"),a}function Ah(t){const a=Number(t);return Number.isInteger(a)&&a>0?a:null}function u1(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(Lc),[d,m]=N.useState(Lc),[p,y]=N.useState(""),[v,b]=N.useState("IN"),[S,w]=N.useState(""),[C,z]=N.useState(""),[k,A]=N.useState(""),[M,U]=N.useState(!1),[D,P]=N.useState(null),[G,J]=N.useState("IN"),[V,K]=N.useState(""),[Q,re]=N.useState(""),[ye,te]=N.useState(""),[oe,be]=N.useState(!1),[q,Y]=N.useState(!1),[Z,W]=N.useState(null),[ce,Te]=N.useState(!1),ee=Le({queryKey:["employees","all"],queryFn:()=>li({status:"all",include_inactive:!0})}),O=Le({queryKey:["departments"],queryFn:Fs}),ne=Le({queryKey:["department-shifts","all"],queryFn:()=>du({active_only:!1})}),R=N.useMemo(()=>{const ie=Number(d.employeeId),$=Number(d.departmentId),Qe=Number(d.limit);return{employee_id:ie>0?ie:void 0,department_id:$>0?$:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:Qe>0?Qe:200}},[d]),H=Le({queryKey:["attendance-events",R],queryFn:()=>$f(R)}),pe=Le({queryKey:["audit-logs","attendance-events"],queryFn:()=>pb({entity_type:"attendance_event",limit:50})}),je=Number(d.employeeId),Me=N.useMemo(()=>{const ie=d.dateFrom||d.dateTo;if(!ie)return new Date;const $=new Date(`${ie}T00:00:00`);return Number.isNaN($.getTime())?new Date:$},[d.dateFrom,d.dateTo]),qe=Le({queryKey:["attendance-events-monthly-summary",je,Me.getFullYear(),Me.getMonth()+1],queryFn:()=>tu({employee_id:je,year:Me.getFullYear(),month:Me.getMonth()+1}),enabled:Number.isInteger(je)&&je>0,staleTime:15e3}),Ye=$e({mutationFn:oE,onSuccess:()=>{a({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),U(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:ie=>{a({variant:"error",title:"Kayt oluturulamad",description:Be(ie,"lem baarsz.").message})}}),Fe=$e({mutationFn:({eventId:ie,payload:$})=>uE(ie,$),onSuccess:()=>{a({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),P(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:ie=>{a({variant:"error",title:"Event gncellenemedi",description:Be(ie,"lem baarsz.").message})}}),Ne=$e({mutationFn:({eventId:ie,force:$})=>cE(ie,$),onSuccess:()=>{a({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),W(null),Te(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:ie=>{a({variant:"error",title:"Silme baarsz",description:Be(ie,"lem baarsz.").message})}}),nt=ee.data??[],St=O.data??[],Nt=ne.data??[],yt=H.data??[],Qt=N.useMemo(()=>(qe.data?.days??[]).filter($=>!(d.dateFrom&&$.date<d.dateFrom||d.dateTo&&$.date>d.dateTo)),[qe.data?.days,d.dateFrom,d.dateTo]),It=N.useMemo(()=>Jf(Qt),[Qt]),mt=N.useMemo(()=>new Map(nt.map(ie=>[ie.id,ie])),[nt]),pn=N.useMemo(()=>new Map(nt.map(ie=>[ie.id,ie.full_name])),[nt]),ae=N.useMemo(()=>new Map(St.map(ie=>[ie.id,ie.name])),[St]),Ce=N.useMemo(()=>new Map(Nt.map(ie=>[ie.id,ie])),[Nt]),He=N.useMemo(()=>mt.get(Number(p)),[mt,p]),ct=N.useMemo(()=>He?.department_id?Nt.filter(ie=>ie.department_id===He.department_id):Nt,[He?.department_id,Nt]),wt=N.useMemo(()=>{if(!D)return Nt;const ie=mt.get(D.employee_id);return ie?.department_id?Nt.filter($=>$.department_id===ie.department_id):Nt},[mt,D,Nt]),dt=N.useMemo(()=>d.suspiciousOnly?yt.filter(ie=>Ch(ie).length>0):yt,[yt,d.suspiciousOnly]),ve=()=>m({...l}),Ue=()=>{o(Lc),m(Lc)},it=ie=>{ie.preventDefault();const $=Ah(p);if(!$||!S){a({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const Qe=Ah(k);Ye.mutate({employee_id:$,type:v,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:Qe??void 0,allow_duplicate:M})},We=ie=>{P(ie),J(ie.type),K(l1(ie.ts_utc)),re(ie.note??""),be(!1),Y(!1),te(String(Vy(ie.flags.SHIFT_ID)??""))},tn=ie=>{if(ie.preventDefault(),!D||!V)return;const $=Ah(ye);Fe.mutate({eventId:D.id,payload:{type:G,ts_utc:new Date(V).toISOString(),note:Q||null,shift_id:$??void 0,allow_duplicate:oe,force_edit:q}})};return ee.isLoading||O.isLoading||ne.isLoading?i.jsx(Ot,{}):ee.isError||O.isError||ne.isError?i.jsx(jt,{message:"alan/departman/vardiya bilgileri alnamad."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[i.jsx(Fa,{label:"alan",employees:nt,value:l.employeeId,onChange:ie=>o($=>({...$,employeeId:ie})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l.departmentId,onChange:ie=>o($=>({...$,departmentId:ie.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tm"}),St.map(ie=>i.jsxs("option",{value:ie.id,children:["#",ie.id," - ",ie.name]},ie.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",i.jsx("input",{type:"date",value:l.dateFrom,onChange:ie=>o($=>({...$,dateFrom:ie.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",i.jsx("input",{type:"date",value:l.dateTo,onChange:ie=>o($=>({...$,dateTo:ie.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsx("select",{value:l.eventType,onChange:ie=>o($=>({...$,eventType:ie.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:r1.map(ie=>i.jsx("option",{value:ie.value,children:ie.label},ie.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",i.jsx("select",{value:l.locationStatus,onChange:ie=>o($=>({...$,locationStatus:ie.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:s1.map(ie=>i.jsx("option",{value:ie.value,children:ie.label},ie.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",i.jsx("input",{type:"number",value:l.limit,onChange:ie=>o($=>({...$,limit:ie.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:ie=>o($=>({...$,duplicatesOnly:ie.target.checked}))}),"Sadece mkerrer"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:ie=>o($=>({...$,suspiciousOnly:ie.target.checked}))}),"Sadece pheli"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:ie=>o($=>({...$,includeDeleted:ie.target.checked}))}),"Silinenleri gster"]})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx("button",{type:"button",onClick:ve,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:Ue,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),i.jsxs("form",{onSubmit:it,className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsx(Fa,{label:"alan",employees:nt,value:p,onChange:y,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsxs("select",{value:v,onChange:ie=>b(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"IN",children:"IN (Giri)"}),i.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",i.jsx("input",{type:"datetime-local",value:S,onChange:ie=>w(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:k,onChange:ie=>A(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Otomatik/bo"}),ct.map(ie=>i.jsxs("option",{value:ie.id,children:["#",ie.id," - ",ie.name," (",ie.start_time_local,"-",ie.end_time_local,")"]},ie.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",i.jsx("input",{type:"text",value:C,onChange:ie=>z(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[i.jsx("input",{type:"checkbox",checked:M,onChange:ie=>U(ie.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:Ye.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ye.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Puantaj Analiz Ozeti"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Secili calisan icin saat bazli net calisma, fazla mesai ve gun tipi kirilimlari."})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Ay: ",Me.getFullYear(),"-",String(Me.getMonth()+1).padStart(2,"0")]})]}),je?qe.isLoading?i.jsx(Ot,{}):qe.isError?i.jsx(jt,{message:Be(qe.error,"Puantaj analiz ozeti alinamadi.").message}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-5",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Net calisma"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:It.workedMinutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Plan ustu sure"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:It.planOvertimeMinutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[It.planOvertimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal fazla mesai"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:It.overtimeMinutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[It.overtimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:It.workedDayCount}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",It.weekdayWorkedDayCount]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Pazar / Ozel"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[It.sundayWorkedDayCount," / ",It.specialWorkedDayCount," gun"]})]})]}),i.jsxs("div",{className:"max-h-[44vh] overflow-auto overscroll-contain",children:[i.jsxs("table",{className:"min-w-[1100px] text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Gun Tipi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Calisma"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),i.jsx("tbody",{children:Qt.map(ie=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ie.date}),i.jsx("td",{className:"py-2",children:vd(ie).label}),i.jsx("td",{className:"py-2",children:ie.status}),i.jsx("td",{className:"py-2",children:ie.in?Pc(ie.in):"-"}),i.jsx("td",{className:"py-2",children:ie.out?Pc(ie.out):"-"}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ie.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ie.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ie.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ie.legal_overtime_minutes})}),i.jsx("td",{className:"py-2 text-xs text-slate-600",children:ie.flags.length?ie.flags.join(", "):"-"})]},ie.date))})]}),Qt.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Secili aralikta puantaj gun kaydi bulunamadi."}):null]})]}):i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Analiz gormek icin filtrelerden bir calisan secin."})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:dt.length})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:dt.filter(ie=>Ch(ie).length>0).length})]})]}),H.isLoading?i.jsx(Ot,{}):null,H.isError?i.jsx(jt,{message:Be(H.error,"Yoklama kaytlar alnamad.").message}):null,!H.isLoading&&!H.isError?i.jsxs("div",{className:"max-h-[66vh] overflow-auto overscroll-contain",children:[i.jsxs("table",{className:"min-w-[1320px] text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Tip"}),i.jsx("th",{className:"py-2",children:"Kaynak"}),i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Konum"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Not"}),i.jsx("th",{className:"py-2",children:"Bayraklar"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:dt.map(ie=>{const $=Ch(ie),Qe=mt.get(ie.employee_id),at=Qe?.department_id!=null?ae.get(Qe.department_id):"-",Vt=ie.source==="MANUAL"||ie.created_by_admin||Yo(ie.flags,"ADMIN_MANUAL"),Et=Vy(ie.flags.SHIFT_ID),An=typeof ie.flags.SHIFT_NAME=="string"?ie.flags.SHIFT_NAME:Et&&Ce.get(Et)?Ce.get(Et)?.name:null;return i.jsxs("tr",{className:`border-t border-slate-100 ${$.length>0?"bg-amber-50/40":""}`,children:[i.jsx("td",{className:"py-2",children:ie.id}),i.jsxs("td",{className:"py-2",children:["#",ie.employee_id," - ",pn.get(ie.employee_id)??"-"]}),i.jsx("td",{className:"py-2",children:at??"-"}),i.jsx("td",{className:"py-2",children:ie.type}),i.jsxs("td",{className:"py-2",children:[Vt?i.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",ie.deleted_at?i.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),i.jsx("td",{className:"py-2",children:Pc(ie.ts_utc)}),i.jsx("td",{className:"py-2",children:o1(ie.location_status)}),i.jsx("td",{className:"py-2",children:An?i.jsxs("span",{children:[An,Et?` (#${Et})`:""]}):Et?i.jsxs("span",{children:["#",Et]}):"-"}),i.jsx("td",{className:"py-2",children:ie.note||"-"}),i.jsx("td",{className:"py-2",children:i.jsx(wb,{reasons:$})}),i.jsx("td",{className:"py-2",children:i.jsx(Sb,{suspicious:$.length>0,label:"pheli"})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>We(ie),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),i.jsx("button",{type:"button",onClick:()=>W(ie),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},ie.id)})})]}),dt.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),pe.isLoading?i.jsx(Ot,{}):null,pe.isError?i.jsx(jt,{message:Be(pe.error,"Audit loglar alnamad.").message}):null,!pe.isLoading&&!pe.isError?i.jsx("div",{className:"mt-3 max-h-[40vh] overflow-auto overscroll-contain",children:i.jsxs("table",{className:"min-w-[980px] text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Aksiyon"}),i.jsx("th",{className:"py-2",children:"Kullanc"}),i.jsx("th",{className:"py-2",children:"Entity"}),i.jsx("th",{className:"py-2",children:"Durum"})]})}),i.jsx("tbody",{children:(pe.data??[]).map(ie=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Pc(ie.ts_utc)}),i.jsx("td",{className:"py-2",children:ie.action}),i.jsxs("td",{className:"py-2",children:[ie.actor_type,":",ie.actor_id]}),i.jsxs("td",{className:"py-2",children:[ie.entity_type??"-"," ",ie.entity_id?`#${ie.entity_id}`:""]}),i.jsx("td",{className:"py-2",children:ie.success?"Baarl":"Hatal"})]},ie.id))})]})}):null]}),i.jsx(Dl,{open:D!==null,title:D?`Event #${D.id} dzenle`:"Event dzenle",onClose:()=>P(null),children:i.jsxs("form",{onSubmit:tn,className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsxs("select",{value:G,onChange:ie=>J(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"IN",children:"IN (Giri)"}),i.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",i.jsx("input",{type:"datetime-local",value:V,onChange:ie=>K(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:ye,onChange:ie=>te(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Deitirme"}),wt.map(ie=>i.jsxs("option",{value:ie.id,children:["#",ie.id," - ",ie.name," (",ie.start_time_local,"-",ie.end_time_local,")"]},ie.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Not",i.jsx("input",{type:"text",value:Q,onChange:ie=>re(ie.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:oe,onChange:ie=>be(ie.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:q,onChange:ie=>Y(ie.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),i.jsx("button",{type:"submit",disabled:Fe.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Fe.isPending?"Kaydediliyor...":"Kaydet"})]})}),i.jsx(Dl,{open:Z!==null,title:Z?`Event #${Z.id} soft sil`:"Event soft sil",onClose:()=>W(null),children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:ce,onChange:ie=>Te(ie.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),i.jsx("button",{type:"button",onClick:()=>Z&&Ne.mutate({eventId:Z.id,force:ce}),disabled:Ne.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Ne.isPending?"Siliniyor...":"Soft sil"})]})})]})}function we(t,a,l){function o(y,v){if(y._zod||Object.defineProperty(y,"_zod",{value:{def:v,constr:p,traits:new Set},enumerable:!1}),y._zod.traits.has(t))return;y._zod.traits.add(t),a(y,v);const b=p.prototype,S=Object.keys(b);for(let w=0;w<S.length;w++){const C=S[w];C in y||(y[C]=b[C].bind(y))}}const d=l?.Parent??Object;class m extends d{}Object.defineProperty(m,"name",{value:t});function p(y){var v;const b=l?.Parent?new m:this;o(b,y),(v=b._zod).deferred??(v.deferred=[]);for(const S of b._zod.deferred)S();return b}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:y=>l?.Parent&&y instanceof l.Parent?!0:y?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class Ml extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class kb extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const Tb={};function Dr(t){return Tb}function Cb(t){const a=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>a.indexOf(+o)===-1).map(([o,d])=>d)}function jf(t,a){return typeof a=="bigint"?a.toString():a}function Xf(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function Wf(t){return t==null}function ep(t){const a=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;return t.slice(a,l)}function c1(t,a){const l=(t.toString().split(".")[1]||"").length,o=a.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const m=l>d?l:d,p=Number.parseInt(t.toFixed(m).replace(".","")),y=Number.parseInt(a.toFixed(m).replace(".",""));return p%y/10**m}const Yy=Symbol("evaluating");function Pt(t,a,l){let o;Object.defineProperty(t,a,{get(){if(o!==Yy)return o===void 0&&(o=Yy,o=l()),o},set(d){Object.defineProperty(t,a,{value:d})},configurable:!0})}function Pr(t,a,l){Object.defineProperty(t,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}function Hs(...t){const a={};for(const l of t){const o=Object.getOwnPropertyDescriptors(l);Object.assign(a,o)}return Object.defineProperties({},a)}function $y(t){return JSON.stringify(t)}function d1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Ab="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function sd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const m1=Xf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function nu(t){if(sd(t)===!1)return!1;const a=t.constructor;if(a===void 0||typeof a!="function")return!0;const l=a.prototype;return!(sd(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function zb(t){return nu(t)?{...t}:Array.isArray(t)?[...t]:t}const h1=new Set(["string","number","symbol"]);function bd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ks(t,a,l){const o=new t._zod.constr(a??t._zod.def);return(!a||l?.parent)&&(o._zod.parent=t),o}function Ve(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function f1(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const p1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function g1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const m=Hs(t._zod.def,{get shape(){const p={};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&(p[y]=l.shape[y])}return Pr(this,"shape",p),p},checks:[]});return Ks(t,m)}function x1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const m=Hs(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&delete p[y]}return Pr(this,"shape",p),p},checks:[]});return Ks(t,m)}function y1(t,a){if(!nu(a))throw new Error("Invalid input to extend: expected a plain object");const l=t._zod.def.checks;if(l&&l.length>0){const m=t._zod.def.shape;for(const p in a)if(Object.getOwnPropertyDescriptor(m,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=Hs(t._zod.def,{get shape(){const m={...t._zod.def.shape,...a};return Pr(this,"shape",m),m}});return Ks(t,d)}function v1(t,a){if(!nu(a))throw new Error("Invalid input to safeExtend: expected a plain object");const l=Hs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a};return Pr(this,"shape",o),o}});return Ks(t,l)}function b1(t,a){const l=Hs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a._zod.def.shape};return Pr(this,"shape",o),o},get catchall(){return a._zod.def.catchall},checks:[]});return Ks(t,l)}function _1(t,a,l){const d=a._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=Hs(a._zod.def,{get shape(){const y=a._zod.def.shape,v={...y};if(l)for(const b in l){if(!(b in y))throw new Error(`Unrecognized key: "${b}"`);l[b]&&(v[b]=t?new t({type:"optional",innerType:y[b]}):y[b])}else for(const b in y)v[b]=t?new t({type:"optional",innerType:y[b]}):y[b];return Pr(this,"shape",v),v},checks:[]});return Ks(a,p)}function N1(t,a,l){const o=Hs(a._zod.def,{get shape(){const d=a._zod.def.shape,m={...d};if(l)for(const p in l){if(!(p in m))throw new Error(`Unrecognized key: "${p}"`);l[p]&&(m[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)m[p]=new t({type:"nonoptional",innerType:d[p]});return Pr(this,"shape",m),m}});return Ks(a,o)}function zl(t,a=0){if(t.aborted===!0)return!0;for(let l=a;l<t.issues.length;l++)if(t.issues[l]?.continue!==!0)return!0;return!1}function Mb(t,a){return a.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(t),l})}function Ic(t){return typeof t=="string"?t:t?.message}function Rr(t,a,l){const o={...t,path:t.path??[]};if(!t.message){const d=Ic(t.inst?._zod.def?.error?.(t))??Ic(a?.error?.(t))??Ic(l.customError?.(t))??Ic(l.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,a?.reportInput||delete o.input,o}function tp(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function au(...t){const[a,l,o]=t;return typeof a=="string"?{message:a,code:"custom",input:l,inst:o}:{...a}}const Ob=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,jf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Db=we("$ZodError",Ob),Rb=we("$ZodError",Ob,{Parent:Error});function j1(t,a=l=>l.message){const l={},o=[];for(const d of t.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(a(d))):o.push(a(d));return{formErrors:o,fieldErrors:l}}function S1(t,a=l=>l.message){const l={_errors:[]},o=d=>{for(const m of d.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(p=>o({issues:p}));else if(m.code==="invalid_key")o({issues:m.issues});else if(m.code==="invalid_element")o({issues:m.issues});else if(m.path.length===0)l._errors.push(a(m));else{let p=l,y=0;for(;y<m.path.length;){const v=m.path[y];y===m.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(a(m))):p[v]=p[v]||{_errors:[]},p=p[v],y++}}};return o(t),l}const np=t=>(a,l,o,d)=>{const m=o?Object.assign(o,{async:!1}):{async:!1},p=a._zod.run({value:l,issues:[]},m);if(p instanceof Promise)throw new Ml;if(p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Rr(v,m,Dr())));throw Ab(y,d?.callee),y}return p.value},ap=t=>async(a,l,o,d)=>{const m=o?Object.assign(o,{async:!0}):{async:!0};let p=a._zod.run({value:l,issues:[]},m);if(p instanceof Promise&&(p=await p),p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Rr(v,m,Dr())));throw Ab(y,d?.callee),y}return p.value},_d=t=>(a,l,o)=>{const d=o?{...o,async:!1}:{async:!1},m=a._zod.run({value:l,issues:[]},d);if(m instanceof Promise)throw new Ml;return m.issues.length?{success:!1,error:new(t??Db)(m.issues.map(p=>Rr(p,d,Dr())))}:{success:!0,data:m.value}},w1=_d(Rb),Nd=t=>async(a,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let m=a._zod.run({value:l,issues:[]},d);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new t(m.issues.map(p=>Rr(p,d,Dr())))}:{success:!0,data:m.value}},E1=Nd(Rb),k1=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return np(t)(a,l,d)},T1=t=>(a,l,o)=>np(t)(a,l,o),C1=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ap(t)(a,l,d)},A1=t=>async(a,l,o)=>ap(t)(a,l,o),z1=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return _d(t)(a,l,d)},M1=t=>(a,l,o)=>_d(t)(a,l,o),O1=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Nd(t)(a,l,d)},D1=t=>async(a,l,o)=>Nd(t)(a,l,o),R1=/^[cC][^\s-]{8,}$/,L1=/^[0-9a-z]+$/,P1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,I1=/^[0-9a-vA-V]{20}$/,B1=/^[A-Za-z0-9]{27}$/,U1=/^[a-zA-Z0-9_-]{21}$/,Z1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,q1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Jy=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,F1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,H1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function K1(){return new RegExp(H1,"u")}const Q1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,V1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Y1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Lb=/^[A-Za-z0-9_-]*$/,J1=/^\+[1-9]\d{6,14}$/,Pb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",X1=new RegExp(`^${Pb}$`);function Ib(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function W1(t){return new RegExp(`^${Ib(t)}$`)}function ek(t){const a=Ib({precision:t.precision}),l=["Z"];t.local&&l.push(""),t.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${a}(?:${l.join("|")})`;return new RegExp(`^${Pb}T(?:${o})$`)}const tk=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},nk=/^-?\d+$/,ak=/^-?\d+(?:\.\d+)?$/,ik=/^(?:true|false)$/i,sk=/^null$/i,rk=/^[^A-Z]*$/,lk=/^[^a-z]*$/,pa=we("$ZodCheck",(t,a)=>{var l;t._zod??(t._zod={}),t._zod.def=a,(l=t._zod).onattach??(l.onattach=[])}),Bb={number:"number",bigint:"bigint",object:"date"},Ub=we("$ZodCheckLessThan",(t,a)=>{pa.init(t,a);const l=Bb[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(a.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<m&&(a.inclusive?d.maximum=a.value:d.exclusiveMaximum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value<=a.value:o.value<a.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),Zb=we("$ZodCheckGreaterThan",(t,a)=>{pa.init(t,a);const l=Bb[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(a.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>m&&(a.inclusive?d.minimum=a.value:d.exclusiveMinimum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value>=a.value:o.value>a.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),ok=we("$ZodCheckMultipleOf",(t,a)=>{pa.init(t,a),t._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=a.value)}),t._zod.check=l=>{if(typeof l.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%a.value===BigInt(0):c1(l.value,a.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:a.value,input:l.value,inst:t,continue:!a.abort})}}),uk=we("$ZodCheckNumberFormat",(t,a)=>{pa.init(t,a),a.format=a.format||"float64";const l=a.format?.includes("int"),o=l?"int":"number",[d,m]=p1[a.format];t._zod.onattach.push(p=>{const y=p._zod.bag;y.format=a.format,y.minimum=d,y.maximum=m,l&&(y.pattern=nk)}),t._zod.check=p=>{const y=p.value;if(l){if(!Number.isInteger(y)){p.issues.push({expected:o,format:a.format,code:"invalid_type",continue:!1,input:y,inst:t});return}if(!Number.isSafeInteger(y)){y>0?p.issues.push({input:y,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort}):p.issues.push({input:y,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort});return}}y<d&&p.issues.push({origin:"number",input:y,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!a.abort}),y>m&&p.issues.push({origin:"number",input:y,code:"too_big",maximum:m,inclusive:!0,inst:t,continue:!a.abort})}}),ck=we("$ZodCheckMaxLength",(t,a)=>{var l;pa.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Wf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<d&&(o._zod.bag.maximum=a.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=a.maximum)return;const p=tp(d);o.issues.push({origin:p,code:"too_big",maximum:a.maximum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),dk=we("$ZodCheckMinLength",(t,a)=>{var l;pa.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Wf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>d&&(o._zod.bag.minimum=a.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=a.minimum)return;const p=tp(d);o.issues.push({origin:p,code:"too_small",minimum:a.minimum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),mk=we("$ZodCheckLengthEquals",(t,a)=>{var l;pa.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Wf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=a.length,d.maximum=a.length,d.length=a.length}),t._zod.check=o=>{const d=o.value,m=d.length;if(m===a.length)return;const p=tp(d),y=m>a.length;o.issues.push({origin:p,...y?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!a.abort})}}),jd=we("$ZodCheckStringFormat",(t,a)=>{var l,o;pa.init(t,a),t._zod.onattach.push(d=>{const m=d._zod.bag;m.format=a.format,a.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(a.pattern))}),a.pattern?(l=t._zod).check??(l.check=d=>{a.pattern.lastIndex=0,!a.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:a.format,input:d.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(o=t._zod).check??(o.check=()=>{})}),hk=we("$ZodCheckRegex",(t,a)=>{jd.init(t,a),t._zod.check=l=>{a.pattern.lastIndex=0,!a.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),fk=we("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=rk),jd.init(t,a)}),pk=we("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=lk),jd.init(t,a)}),gk=we("$ZodCheckIncludes",(t,a)=>{pa.init(t,a);const l=bd(a.includes),o=new RegExp(typeof a.position=="number"?`^.{${a.position}}${l}`:l);a.pattern=o,t._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(o)}),t._zod.check=d=>{d.value.includes(a.includes,a.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:d.value,inst:t,continue:!a.abort})}}),xk=we("$ZodCheckStartsWith",(t,a)=>{pa.init(t,a);const l=new RegExp(`^${bd(a.prefix)}.*`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.startsWith(a.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:o.value,inst:t,continue:!a.abort})}}),yk=we("$ZodCheckEndsWith",(t,a)=>{pa.init(t,a);const l=new RegExp(`.*${bd(a.suffix)}$`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.endsWith(a.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:o.value,inst:t,continue:!a.abort})}}),vk=we("$ZodCheckOverwrite",(t,a)=>{pa.init(t,a),t._zod.check=l=>{l.value=a.tx(l.value)}});class bk{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const o=a.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),m=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of m)this.content.push(p)}compile(){const a=Function,l=this?.args,d=[...(this?.content??[""]).map(m=>`  ${m}`)];return new a(...l,d.join(`
`))}}const _k={major:4,minor:3,patch:6},dn=we("$ZodType",(t,a)=>{var l;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=_k;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const m of d._zod.onattach)m(t);if(o.length===0)(l=t._zod).deferred??(l.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,y,v)=>{let b=zl(p),S;for(const w of y){if(w._zod.def.when){if(!w._zod.def.when(p))continue}else if(b)continue;const C=p.issues.length,z=w._zod.check(p);if(z instanceof Promise&&v?.async===!1)throw new Ml;if(S||z instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await z,p.issues.length!==C&&(b||(b=zl(p,C)))});else{if(p.issues.length===C)continue;b||(b=zl(p,C))}}return S?S.then(()=>p):p},m=(p,y,v)=>{if(zl(p))return p.aborted=!0,p;const b=d(y,o,v);if(b instanceof Promise){if(v.async===!1)throw new Ml;return b.then(S=>t._zod.parse(S,v))}return t._zod.parse(b,v)};t._zod.run=(p,y)=>{if(y.skipChecks)return t._zod.parse(p,y);if(y.direction==="backward"){const b=t._zod.parse({value:p.value,issues:[]},{...y,skipChecks:!0});return b instanceof Promise?b.then(S=>m(S,p,y)):m(b,p,y)}const v=t._zod.parse(p,y);if(v instanceof Promise){if(y.async===!1)throw new Ml;return v.then(b=>d(b,o,y))}return d(v,o,y)}}Pt(t,"~standard",()=>({validate:d=>{try{const m=w1(t,d);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return E1(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),ip=we("$ZodString",(t,a)=>{dn.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??tk(t._zod.bag),t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:t}),l}}),en=we("$ZodStringFormat",(t,a)=>{jd.init(t,a),ip.init(t,a)}),Nk=we("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=q1),en.init(t,a)}),jk=we("$ZodUUID",(t,a)=>{if(a.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(o===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Jy(o))}else a.pattern??(a.pattern=Jy());en.init(t,a)}),Sk=we("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=F1),en.init(t,a)}),wk=we("$ZodURL",(t,a)=>{en.init(t,a),t._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:a.hostname.source,input:l.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:l.value,inst:t,continue:!a.abort})),a.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:t,continue:!a.abort})}}}),Ek=we("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=K1()),en.init(t,a)}),kk=we("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=U1),en.init(t,a)}),Tk=we("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=R1),en.init(t,a)}),Ck=we("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=L1),en.init(t,a)}),Ak=we("$ZodULID",(t,a)=>{a.pattern??(a.pattern=P1),en.init(t,a)}),zk=we("$ZodXID",(t,a)=>{a.pattern??(a.pattern=I1),en.init(t,a)}),Mk=we("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=B1),en.init(t,a)}),Ok=we("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=ek(a)),en.init(t,a)}),Dk=we("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=X1),en.init(t,a)}),Rk=we("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=W1(a)),en.init(t,a)}),Lk=we("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=Z1),en.init(t,a)}),Pk=we("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=Q1),en.init(t,a),t._zod.bag.format="ipv4"}),Ik=we("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=G1),en.init(t,a),t._zod.bag.format="ipv6",t._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:t,continue:!a.abort})}}}),Bk=we("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=V1),en.init(t,a)}),Uk=we("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=Y1),en.init(t,a),t._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,m]=o;if(!m)throw new Error;const p=Number(m);if(`${p}`!==m)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:t,continue:!a.abort})}}});function qb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Zk=we("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=$1),en.init(t,a),t._zod.bag.contentEncoding="base64",t._zod.check=l=>{qb(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:t,continue:!a.abort})}});function qk(t){if(!Lb.test(t))return!1;const a=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=a.padEnd(Math.ceil(a.length/4)*4,"=");return qb(l)}const Fk=we("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=Lb),en.init(t,a),t._zod.bag.contentEncoding="base64url",t._zod.check=l=>{qk(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:t,continue:!a.abort})}}),Hk=we("$ZodE164",(t,a)=>{a.pattern??(a.pattern=J1),en.init(t,a)});function Kk(t,a=null){try{const l=t.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||a&&(!("alg"in d)||d.alg!==a))}catch{return!1}}const Qk=we("$ZodJWT",(t,a)=>{en.init(t,a),t._zod.check=l=>{Kk(l.value,a.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:t,continue:!a.abort})}}),Fb=we("$ZodNumber",(t,a)=>{dn.init(t,a),t._zod.pattern=t._zod.bag.pattern??ak,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const m=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...m?{received:m}:{}}),l}}),Gk=we("$ZodNumberFormat",(t,a)=>{uk.init(t,a),Fb.init(t,a)}),Vk=we("$ZodBoolean",(t,a)=>{dn.init(t,a),t._zod.pattern=ik,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),l}}),Yk=we("$ZodNull",(t,a)=>{dn.init(t,a),t._zod.pattern=sk,t._zod.values=new Set([null]),t._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),l}}),$k=we("$ZodUnknown",(t,a)=>{dn.init(t,a),t._zod.parse=l=>l}),Jk=we("$ZodNever",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:t}),l)});function Xy(t,a,l){t.issues.length&&a.issues.push(...Mb(l,t.issues)),a.value[l]=t.value}const Xk=we("$ZodArray",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),l;l.value=Array(d.length);const m=[];for(let p=0;p<d.length;p++){const y=d[p],v=a.element._zod.run({value:y,issues:[]},o);v instanceof Promise?m.push(v.then(b=>Xy(b,l,p))):Xy(v,l,p)}return m.length?Promise.all(m).then(()=>l):l}});function rd(t,a,l,o,d){if(t.issues.length){if(d&&!(l in o))return;a.issues.push(...Mb(l,t.issues))}t.value===void 0?l in o&&(a.value[l]=void 0):a.value[l]=t.value}function Hb(t){const a=Object.keys(t.shape);for(const o of a)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=f1(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(l)}}function Kb(t,a,l,o,d,m){const p=[],y=d.keySet,v=d.catchall._zod,b=v.def.type,S=v.optout==="optional";for(const w in a){if(y.has(w))continue;if(b==="never"){p.push(w);continue}const C=v.run({value:a[w],issues:[]},o);C instanceof Promise?t.push(C.then(z=>rd(z,l,w,a,S))):rd(C,l,w,a,S)}return p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:a,inst:m}),t.length?Promise.all(t).then(()=>l):l}const Wk=we("$ZodObject",(t,a)=>{if(dn.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const y=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...y};return Object.defineProperty(a,"shape",{value:v}),v}})}const o=Xf(()=>Hb(a));Pt(t._zod,"propValues",()=>{const y=a.shape,v={};for(const b in y){const S=y[b]._zod;if(S.values){v[b]??(v[b]=new Set);for(const w of S.values)v[b].add(w)}}return v});const d=sd,m=a.catchall;let p;t._zod.parse=(y,v)=>{p??(p=o.value);const b=y.value;if(!d(b))return y.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),y;y.value={};const S=[],w=p.shape;for(const C of p.keys){const z=w[C],k=z._zod.optout==="optional",A=z._zod.run({value:b[C],issues:[]},v);A instanceof Promise?S.push(A.then(M=>rd(M,y,C,b,k))):rd(A,y,C,b,k)}return m?Kb(S,b,y,v,o.value,t):S.length?Promise.all(S).then(()=>y):y}}),eT=we("$ZodObjectJIT",(t,a)=>{Wk.init(t,a);const l=t._zod.parse,o=Xf(()=>Hb(a)),d=C=>{const z=new bk(["shape","payload","ctx"]),k=o.value,A=P=>{const G=$y(P);return`shape[${G}]._zod.run({ value: input[${G}], issues: [] }, ctx)`};z.write("const input = payload.value;");const M=Object.create(null);let U=0;for(const P of k.keys)M[P]=`key_${U++}`;z.write("const newResult = {};");for(const P of k.keys){const G=M[P],J=$y(P),K=C[P]?._zod?.optout==="optional";z.write(`const ${G} = ${A(P)};`),K?z.write(`
        if (${G}.issues.length) {
          if (${J} in input) {
            payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${J}, ...iss.path] : [${J}]
            })));
          }
        }
        
        if (${G}.value === undefined) {
          if (${J} in input) {
            newResult[${J}] = undefined;
          }
        } else {
          newResult[${J}] = ${G}.value;
        }
        
      `):z.write(`
        if (${G}.issues.length) {
          payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${J}, ...iss.path] : [${J}]
          })));
        }
        
        if (${G}.value === undefined) {
          if (${J} in input) {
            newResult[${J}] = undefined;
          }
        } else {
          newResult[${J}] = ${G}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const D=z.compile();return(P,G)=>D(C,P,G)};let m;const p=sd,y=!Tb.jitless,b=y&&m1.value,S=a.catchall;let w;t._zod.parse=(C,z)=>{w??(w=o.value);const k=C.value;return p(k)?y&&b&&z?.async===!1&&z.jitless!==!0?(m||(m=d(a.shape)),C=m(C,z),S?Kb([],k,C,z,w,t):C):l(C,z):(C.issues.push({expected:"object",code:"invalid_type",input:k,inst:t}),C)}});function Wy(t,a,l,o){for(const m of t)if(m.issues.length===0)return a.value=m.value,a;const d=t.filter(m=>!zl(m));return d.length===1?(a.value=d[0].value,d[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:l,errors:t.map(m=>m.issues.map(p=>Rr(p,o,Dr())))}),a)}const tT=we("$ZodUnion",(t,a)=>{dn.init(t,a),Pt(t._zod,"optin",()=>a.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Pt(t._zod,"optout",()=>a.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Pt(t._zod,"values",()=>{if(a.options.every(d=>d._zod.values))return new Set(a.options.flatMap(d=>Array.from(d._zod.values)))}),Pt(t._zod,"pattern",()=>{if(a.options.every(d=>d._zod.pattern)){const d=a.options.map(m=>m._zod.pattern);return new RegExp(`^(${d.map(m=>ep(m.source)).join("|")})$`)}});const l=a.options.length===1,o=a.options[0]._zod.run;t._zod.parse=(d,m)=>{if(l)return o(d,m);let p=!1;const y=[];for(const v of a.options){const b=v._zod.run({value:d.value,issues:[]},m);if(b instanceof Promise)y.push(b),p=!0;else{if(b.issues.length===0)return b;y.push(b)}}return p?Promise.all(y).then(v=>Wy(v,d,t,m)):Wy(y,d,t,m)}}),nT=we("$ZodIntersection",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value,m=a.left._zod.run({value:d,issues:[]},o),p=a.right._zod.run({value:d,issues:[]},o);return m instanceof Promise||p instanceof Promise?Promise.all([m,p]).then(([v,b])=>ev(l,v,b)):ev(l,m,p)}});function Sf(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(nu(t)&&nu(a)){const l=Object.keys(a),o=Object.keys(t).filter(m=>l.indexOf(m)!==-1),d={...t,...a};for(const m of o){const p=Sf(t[m],a[m]);if(!p.valid)return{valid:!1,mergeErrorPath:[m,...p.mergeErrorPath]};d[m]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<t.length;o++){const d=t[o],m=a[o],p=Sf(d,m);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};l.push(p.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function ev(t,a,l){const o=new Map;let d;for(const y of a.issues)if(y.code==="unrecognized_keys"){d??(d=y);for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else t.issues.push(y);for(const y of l.issues)if(y.code==="unrecognized_keys")for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else t.issues.push(y);const m=[...o].filter(([,y])=>y.l&&y.r).map(([y])=>y);if(m.length&&d&&t.issues.push({...d,keys:m}),zl(t))return t;const p=Sf(a.value,l.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const aT=we("$ZodEnum",(t,a)=>{dn.init(t,a);const l=Cb(a.entries),o=new Set(l);t._zod.values=o,t._zod.pattern=new RegExp(`^(${l.filter(d=>h1.has(typeof d)).map(d=>typeof d=="string"?bd(d):d.toString()).join("|")})$`),t._zod.parse=(d,m)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:l,input:p,inst:t}),d}}),iT=we("$ZodTransform",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new kb(t.constructor.name);const d=a.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(l.value=p,l));if(d instanceof Promise)throw new Ml;return l.value=d,l}});function tv(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const Qb=we("$ZodOptional",(t,a)=>{dn.init(t,a),t._zod.optin="optional",t._zod.optout="optional",Pt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Pt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${ep(l.source)})?$`):void 0}),t._zod.parse=(l,o)=>{if(a.innerType._zod.optin==="optional"){const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>tv(m,l.value)):tv(d,l.value)}return l.value===void 0?l:a.innerType._zod.run(l,o)}}),sT=we("$ZodExactOptional",(t,a)=>{Qb.init(t,a),Pt(t._zod,"values",()=>a.innerType._zod.values),Pt(t._zod,"pattern",()=>a.innerType._zod.pattern),t._zod.parse=(l,o)=>a.innerType._zod.run(l,o)}),rT=we("$ZodNullable",(t,a)=>{dn.init(t,a),Pt(t._zod,"optin",()=>a.innerType._zod.optin),Pt(t._zod,"optout",()=>a.innerType._zod.optout),Pt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${ep(l.source)}|null)$`):void 0}),Pt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(l,o)=>l.value===null?l:a.innerType._zod.run(l,o)}),lT=we("$ZodDefault",(t,a)=>{dn.init(t,a),t._zod.optin="optional",Pt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);if(l.value===void 0)return l.value=a.defaultValue,l;const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>nv(m,a)):nv(d,a)}});function nv(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const oT=we("$ZodPrefault",(t,a)=>{dn.init(t,a),t._zod.optin="optional",Pt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=a.defaultValue),a.innerType._zod.run(l,o))}),uT=we("$ZodNonOptional",(t,a)=>{dn.init(t,a),Pt(t._zod,"values",()=>{const l=a.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),t._zod.parse=(l,o)=>{const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>av(m,t)):av(d,t)}});function av(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const cT=we("$ZodCatch",(t,a)=>{dn.init(t,a),Pt(t._zod,"optin",()=>a.innerType._zod.optin),Pt(t._zod,"optout",()=>a.innerType._zod.optout),Pt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>(l.value=m.value,m.issues.length&&(l.value=a.catchValue({...l,error:{issues:m.issues.map(p=>Rr(p,o,Dr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=a.catchValue({...l,error:{issues:d.issues.map(m=>Rr(m,o,Dr()))},input:l.value}),l.issues=[]),l)}}),dT=we("$ZodPipe",(t,a)=>{dn.init(t,a),Pt(t._zod,"values",()=>a.in._zod.values),Pt(t._zod,"optin",()=>a.in._zod.optin),Pt(t._zod,"optout",()=>a.out._zod.optout),Pt(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(l,o)=>{if(o.direction==="backward"){const m=a.out._zod.run(l,o);return m instanceof Promise?m.then(p=>Bc(p,a.in,o)):Bc(m,a.in,o)}const d=a.in._zod.run(l,o);return d instanceof Promise?d.then(m=>Bc(m,a.out,o)):Bc(d,a.out,o)}});function Bc(t,a,l){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},l)}const mT=we("$ZodReadonly",(t,a)=>{dn.init(t,a),Pt(t._zod,"propValues",()=>a.innerType._zod.propValues),Pt(t._zod,"values",()=>a.innerType._zod.values),Pt(t._zod,"optin",()=>a.innerType?._zod?.optin),Pt(t._zod,"optout",()=>a.innerType?._zod?.optout),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(iv):iv(d)}});function iv(t){return t.value=Object.freeze(t.value),t}const hT=we("$ZodCustom",(t,a)=>{pa.init(t,a),dn.init(t,a),t._zod.parse=(l,o)=>l,t._zod.check=l=>{const o=l.value,d=a.fn(o);if(d instanceof Promise)return d.then(m=>sv(m,l,o,t));sv(d,l,o,t)}});function sv(t,a,l,o){if(!t){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),a.issues.push(au(d))}}var rv;class fT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...l){const o=l[0];return this._map.set(a,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const l=this._map.get(a);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(a),this}get(a){const l=a._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function pT(){return new fT}(rv=globalThis).__zod_globalRegistry??(rv.__zod_globalRegistry=pT());const $o=globalThis.__zod_globalRegistry;function gT(t,a){return new t({type:"string",...Ve(a)})}function xT(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ve(a)})}function lv(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(a)})}function yT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(a)})}function vT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(a)})}function bT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(a)})}function _T(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(a)})}function NT(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ve(a)})}function jT(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(a)})}function ST(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(a)})}function wT(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(a)})}function ET(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(a)})}function kT(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(a)})}function TT(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(a)})}function CT(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(a)})}function AT(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(a)})}function zT(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(a)})}function MT(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(a)})}function OT(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(a)})}function DT(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(a)})}function RT(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(a)})}function LT(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(a)})}function PT(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(a)})}function IT(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(a)})}function BT(t,a){return new t({type:"string",format:"date",check:"string_format",...Ve(a)})}function UT(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ve(a)})}function ZT(t,a){return new t({type:"string",format:"duration",check:"string_format",...Ve(a)})}function qT(t,a){return new t({type:"number",coerce:!0,checks:[],...Ve(a)})}function FT(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(a)})}function HT(t,a){return new t({type:"boolean",...Ve(a)})}function KT(t,a){return new t({type:"null",...Ve(a)})}function QT(t){return new t({type:"unknown"})}function GT(t,a){return new t({type:"never",...Ve(a)})}function ov(t,a){return new Ub({check:"less_than",...Ve(a),value:t,inclusive:!1})}function zh(t,a){return new Ub({check:"less_than",...Ve(a),value:t,inclusive:!0})}function uv(t,a){return new Zb({check:"greater_than",...Ve(a),value:t,inclusive:!1})}function Mh(t,a){return new Zb({check:"greater_than",...Ve(a),value:t,inclusive:!0})}function cv(t,a){return new ok({check:"multiple_of",...Ve(a),value:t})}function Gb(t,a){return new ck({check:"max_length",...Ve(a),maximum:t})}function ld(t,a){return new dk({check:"min_length",...Ve(a),minimum:t})}function Vb(t,a){return new mk({check:"length_equals",...Ve(a),length:t})}function VT(t,a){return new hk({check:"string_format",format:"regex",...Ve(a),pattern:t})}function YT(t){return new fk({check:"string_format",format:"lowercase",...Ve(t)})}function $T(t){return new pk({check:"string_format",format:"uppercase",...Ve(t)})}function JT(t,a){return new gk({check:"string_format",format:"includes",...Ve(a),includes:t})}function XT(t,a){return new xk({check:"string_format",format:"starts_with",...Ve(a),prefix:t})}function WT(t,a){return new yk({check:"string_format",format:"ends_with",...Ve(a),suffix:t})}function Zl(t){return new vk({check:"overwrite",tx:t})}function eC(t){return Zl(a=>a.normalize(t))}function tC(){return Zl(t=>t.trim())}function nC(){return Zl(t=>t.toLowerCase())}function aC(){return Zl(t=>t.toUpperCase())}function iC(){return Zl(t=>d1(t))}function sC(t,a,l){return new t({type:"array",element:a,...Ve(l)})}function rC(t,a,l){return new t({type:"custom",check:"custom",fn:a,...Ve(l)})}function lC(t){const a=oC(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(au(o,l.value,a._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=a),d.continue??(d.continue=!a._zod.def.abort),l.issues.push(au(d))}},t(l.value,l)));return a}function oC(t,a){const l=new pa({check:"custom",...Ve(a)});return l._zod.check=t,l}function Yb(t){let a=t?.target??"draft-2020-12";return a==="draft-4"&&(a="draft-04"),a==="draft-7"&&(a="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??$o,target:a,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Ln(t,a,l={path:[],schemaPath:[]}){var o;const d=t._zod.def,m=a.seen.get(t);if(m)return m.count++,l.schemaPath.includes(t)&&(m.cycle=l.path),m.schema;const p={schema:{},count:1,cycle:void 0,path:l.path};a.seen.set(t,p);const y=t._zod.toJSONSchema?.();if(y)p.schema=y;else{const S={...l,schemaPath:[...l.schemaPath,t],path:l.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(a,p.schema,S);else{const C=p.schema,z=a.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(t,a,C,S)}const w=t._zod.parent;w&&(p.ref||(p.ref=w),Ln(w,a,S),a.seen.get(w).isParent=!0)}const v=a.metadataRegistry.get(t);return v&&Object.assign(p.schema,v),a.io==="input"&&Yn(t)&&(delete p.schema.examples,delete p.schema.default),a.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,a.seen.get(t).schema}function $b(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const y=t.metadataRegistry.get(p[0])?.id;if(y){const v=o.get(y);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(y,p[0])}}const d=p=>{const y=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const w=t.external.registry.get(p[0])?.id,C=t.external.uri??(k=>k);if(w)return{ref:C(w)};const z=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=z,{defId:z,ref:`${C("__shared")}#/${y}/${z}`}}if(p[1]===l)return{ref:"#"};const b=`#/${y}/`,S=p[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:b+S}},m=p=>{if(p[1].schema.$ref)return;const y=p[1],{ref:v,defId:b}=d(p);y.def={...y.schema},b&&(y.defId=b);const S=y.schema;for(const w in S)delete S[w];S.$ref=v};if(t.cycles==="throw")for(const p of t.seen.entries()){const y=p[1];if(y.cycle)throw new Error(`Cycle detected: #/${y.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const y=p[1];if(a===p[0]){m(p);continue}if(t.external){const b=t.external.registry.get(p[0])?.id;if(a!==p[0]&&b){m(p);continue}}if(t.metadataRegistry.get(p[0])?.id){m(p);continue}if(y.cycle){m(p);continue}if(y.count>1&&t.reused==="ref"){m(p);continue}}}function Jb(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const y=t.seen.get(p);if(y.ref===null)return;const v=y.def??y.schema,b={...v},S=y.ref;if(y.ref=null,S){o(S);const C=t.seen.get(S),z=C.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(z)):Object.assign(v,z),Object.assign(v,b),p._zod.parent===S)for(const A in v)A==="$ref"||A==="allOf"||A in b||delete v[A];if(z.$ref&&C.def)for(const A in v)A==="$ref"||A==="allOf"||A in C.def&&JSON.stringify(v[A])===JSON.stringify(C.def[A])&&delete v[A]}const w=p._zod.parent;if(w&&w!==S){o(w);const C=t.seen.get(w);if(C?.schema.$ref&&(v.$ref=C.schema.$ref,C.def))for(const z in v)z==="$ref"||z==="allOf"||z in C.def&&JSON.stringify(v[z])===JSON.stringify(C.def[z])&&delete v[z]}t.override({zodSchema:p,jsonSchema:v,path:y.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(a)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,l.def??l.schema);const m=t.external?.defs??{};for(const p of t.seen.entries()){const y=p[1];y.def&&y.defId&&(m[y.defId]=y.def)}t.external||Object.keys(m).length>0&&(t.target==="draft-2020-12"?d.$defs=m:d.definitions=m);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...a["~standard"],jsonSchema:{input:od(a,"input",t.processors),output:od(a,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Yn(t,a){const l=a??{seen:new Set};if(l.seen.has(t))return!1;l.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Yn(o.element,l);if(o.type==="set")return Yn(o.valueType,l);if(o.type==="lazy")return Yn(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Yn(o.innerType,l);if(o.type==="intersection")return Yn(o.left,l)||Yn(o.right,l);if(o.type==="record"||o.type==="map")return Yn(o.keyType,l)||Yn(o.valueType,l);if(o.type==="pipe")return Yn(o.in,l)||Yn(o.out,l);if(o.type==="object"){for(const d in o.shape)if(Yn(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(Yn(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(Yn(d,l))return!0;return!!(o.rest&&Yn(o.rest,l))}return!1}const uC=(t,a={})=>l=>{const o=Yb({...l,processors:a});return Ln(t,o),$b(o,t),Jb(o,t)},od=(t,a,l={})=>o=>{const{libraryOptions:d,target:m}=o??{},p=Yb({...d??{},target:m,io:a,processors:l});return Ln(t,p),$b(p,t),Jb(p,t)},cC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},dC=(t,a,l,o)=>{const d=l;d.type="string";const{minimum:m,maximum:p,format:y,patterns:v,contentEncoding:b}=t._zod.bag;if(typeof m=="number"&&(d.minLength=m),typeof p=="number"&&(d.maxLength=p),y&&(d.format=cC[y]??y,d.format===""&&delete d.format,y==="time"&&delete d.format),b&&(d.contentEncoding=b),v&&v.size>0){const S=[...v];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...a.target==="draft-07"||a.target==="draft-04"||a.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},mC=(t,a,l,o)=>{const d=l,{minimum:m,maximum:p,format:y,multipleOf:v,exclusiveMaximum:b,exclusiveMinimum:S}=t._zod.bag;typeof y=="string"&&y.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof m=="number"&&(d.minimum=m,typeof S=="number"&&a.target!=="draft-04"&&(S>=m?delete d.minimum:delete d.exclusiveMinimum)),typeof b=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.maximum=b,d.exclusiveMaximum=!0):d.exclusiveMaximum=b),typeof p=="number"&&(d.maximum=p,typeof b=="number"&&a.target!=="draft-04"&&(b<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},hC=(t,a,l,o)=>{l.type="boolean"},fC=(t,a,l,o)=>{a.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},pC=(t,a,l,o)=>{l.not={}},gC=(t,a,l,o)=>{},xC=(t,a,l,o)=>{const d=t._zod.def,m=Cb(d.entries);m.every(p=>typeof p=="number")&&(l.type="number"),m.every(p=>typeof p=="string")&&(l.type="string"),l.enum=m},yC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},vC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},bC=(t,a,l,o)=>{const d=l,m=t._zod.def,{minimum:p,maximum:y}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof y=="number"&&(d.maxItems=y),d.type="array",d.items=Ln(m.element,a,{...o,path:[...o.path,"items"]})},_C=(t,a,l,o)=>{const d=l,m=t._zod.def;d.type="object",d.properties={};const p=m.shape;for(const b in p)d.properties[b]=Ln(p[b],a,{...o,path:[...o.path,"properties",b]});const y=new Set(Object.keys(p)),v=new Set([...y].filter(b=>{const S=m.shape[b]._zod;return a.io==="input"?S.optin===void 0:S.optout===void 0}));v.size>0&&(d.required=Array.from(v)),m.catchall?._zod.def.type==="never"?d.additionalProperties=!1:m.catchall?m.catchall&&(d.additionalProperties=Ln(m.catchall,a,{...o,path:[...o.path,"additionalProperties"]})):a.io==="output"&&(d.additionalProperties=!1)},NC=(t,a,l,o)=>{const d=t._zod.def,m=d.inclusive===!1,p=d.options.map((y,v)=>Ln(y,a,{...o,path:[...o.path,m?"oneOf":"anyOf",v]}));m?l.oneOf=p:l.anyOf=p},jC=(t,a,l,o)=>{const d=t._zod.def,m=Ln(d.left,a,{...o,path:[...o.path,"allOf",0]}),p=Ln(d.right,a,{...o,path:[...o.path,"allOf",1]}),y=b=>"allOf"in b&&Object.keys(b).length===1,v=[...y(m)?m.allOf:[m],...y(p)?p.allOf:[p]];l.allOf=v},SC=(t,a,l,o)=>{const d=t._zod.def,m=Ln(d.innerType,a,o),p=a.seen.get(t);a.target==="openapi-3.0"?(p.ref=d.innerType,l.nullable=!0):l.anyOf=[m,{type:"null"}]},wC=(t,a,l,o)=>{const d=t._zod.def;Ln(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType},EC=(t,a,l,o)=>{const d=t._zod.def;Ln(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},kC=(t,a,l,o)=>{const d=t._zod.def;Ln(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,a.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},TC=(t,a,l,o)=>{const d=t._zod.def;Ln(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=p},CC=(t,a,l,o)=>{const d=t._zod.def,m=a.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;Ln(m,a,o);const p=a.seen.get(t);p.ref=m},AC=(t,a,l,o)=>{const d=t._zod.def;Ln(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,l.readOnly=!0},Xb=(t,a,l,o)=>{const d=t._zod.def;Ln(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType},zC=we("ZodISODateTime",(t,a)=>{Ok.init(t,a),sn.init(t,a)});function MC(t){return IT(zC,t)}const OC=we("ZodISODate",(t,a)=>{Dk.init(t,a),sn.init(t,a)});function DC(t){return BT(OC,t)}const RC=we("ZodISOTime",(t,a)=>{Rk.init(t,a),sn.init(t,a)});function LC(t){return UT(RC,t)}const PC=we("ZodISODuration",(t,a)=>{Lk.init(t,a),sn.init(t,a)});function IC(t){return ZT(PC,t)}const BC=(t,a)=>{Db.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:l=>S1(t,l)},flatten:{value:l=>j1(t,l)},addIssue:{value:l=>{t.issues.push(l),t.message=JSON.stringify(t.issues,jf,2)}},addIssues:{value:l=>{t.issues.push(...l),t.message=JSON.stringify(t.issues,jf,2)}},isEmpty:{get(){return t.issues.length===0}}})},Qa=we("ZodError",BC,{Parent:Error}),UC=np(Qa),ZC=ap(Qa),qC=_d(Qa),FC=Nd(Qa),HC=k1(Qa),KC=T1(Qa),QC=C1(Qa),GC=A1(Qa),VC=z1(Qa),YC=M1(Qa),$C=O1(Qa),JC=D1(Qa),mn=we("ZodType",(t,a)=>(dn.init(t,a),Object.assign(t["~standard"],{jsonSchema:{input:od(t,"input"),output:od(t,"output")}}),t.toJSONSchema=uC(t,{}),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...l)=>t.clone(Hs(a,{checks:[...a.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(l,o)=>Ks(t,l,o),t.brand=()=>t,t.register=((l,o)=>(l.add(t,o),t)),t.parse=(l,o)=>UC(t,l,o,{callee:t.parse}),t.safeParse=(l,o)=>qC(t,l,o),t.parseAsync=async(l,o)=>ZC(t,l,o,{callee:t.parseAsync}),t.safeParseAsync=async(l,o)=>FC(t,l,o),t.spa=t.safeParseAsync,t.encode=(l,o)=>HC(t,l,o),t.decode=(l,o)=>KC(t,l,o),t.encodeAsync=async(l,o)=>QC(t,l,o),t.decodeAsync=async(l,o)=>GC(t,l,o),t.safeEncode=(l,o)=>VC(t,l,o),t.safeDecode=(l,o)=>YC(t,l,o),t.safeEncodeAsync=async(l,o)=>$C(t,l,o),t.safeDecodeAsync=async(l,o)=>JC(t,l,o),t.refine=(l,o)=>t.check(HA(l,o)),t.superRefine=l=>t.check(KA(l)),t.overwrite=l=>t.check(Zl(l)),t.optional=()=>fv(t),t.exactOptional=()=>zA(t),t.nullable=()=>pv(t),t.nullish=()=>fv(pv(t)),t.nonoptional=l=>PA(t,l),t.array=()=>jA(t),t.or=l=>ud([t,l]),t.and=l=>kA(t,l),t.transform=l=>gv(t,CA(l)),t.default=l=>DA(t,l),t.prefault=l=>LA(t,l),t.catch=l=>BA(t,l),t.pipe=l=>gv(t,l),t.readonly=()=>qA(t),t.describe=l=>{const o=t.clone();return $o.add(o,{description:l}),o},Object.defineProperty(t,"description",{get(){return $o.get(t)?.description},configurable:!0}),t.meta=(...l)=>{if(l.length===0)return $o.get(t);const o=t.clone();return $o.add(o,l[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=l=>l(t),t)),Wb=we("_ZodString",(t,a)=>{ip.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(o,d,m)=>dC(t,o,d);const l=t._zod.bag;t.format=l.format??null,t.minLength=l.minimum??null,t.maxLength=l.maximum??null,t.regex=(...o)=>t.check(VT(...o)),t.includes=(...o)=>t.check(JT(...o)),t.startsWith=(...o)=>t.check(XT(...o)),t.endsWith=(...o)=>t.check(WT(...o)),t.min=(...o)=>t.check(ld(...o)),t.max=(...o)=>t.check(Gb(...o)),t.length=(...o)=>t.check(Vb(...o)),t.nonempty=(...o)=>t.check(ld(1,...o)),t.lowercase=o=>t.check(YT(o)),t.uppercase=o=>t.check($T(o)),t.trim=()=>t.check(tC()),t.normalize=(...o)=>t.check(eC(...o)),t.toLowerCase=()=>t.check(nC()),t.toUpperCase=()=>t.check(aC()),t.slugify=()=>t.check(iC())}),XC=we("ZodString",(t,a)=>{ip.init(t,a),Wb.init(t,a),t.email=l=>t.check(xT(WC,l)),t.url=l=>t.check(NT(eA,l)),t.jwt=l=>t.check(PT(pA,l)),t.emoji=l=>t.check(jT(tA,l)),t.guid=l=>t.check(lv(dv,l)),t.uuid=l=>t.check(yT(Uc,l)),t.uuidv4=l=>t.check(vT(Uc,l)),t.uuidv6=l=>t.check(bT(Uc,l)),t.uuidv7=l=>t.check(_T(Uc,l)),t.nanoid=l=>t.check(ST(nA,l)),t.guid=l=>t.check(lv(dv,l)),t.cuid=l=>t.check(wT(aA,l)),t.cuid2=l=>t.check(ET(iA,l)),t.ulid=l=>t.check(kT(sA,l)),t.base64=l=>t.check(DT(mA,l)),t.base64url=l=>t.check(RT(hA,l)),t.xid=l=>t.check(TT(rA,l)),t.ksuid=l=>t.check(CT(lA,l)),t.ipv4=l=>t.check(AT(oA,l)),t.ipv6=l=>t.check(zT(uA,l)),t.cidrv4=l=>t.check(MT(cA,l)),t.cidrv6=l=>t.check(OT(dA,l)),t.e164=l=>t.check(LT(fA,l)),t.datetime=l=>t.check(MC(l)),t.date=l=>t.check(DC(l)),t.time=l=>t.check(LC(l)),t.duration=l=>t.check(IC(l))});function fa(t){return gT(XC,t)}const sn=we("ZodStringFormat",(t,a)=>{en.init(t,a),Wb.init(t,a)}),WC=we("ZodEmail",(t,a)=>{Sk.init(t,a),sn.init(t,a)}),dv=we("ZodGUID",(t,a)=>{Nk.init(t,a),sn.init(t,a)}),Uc=we("ZodUUID",(t,a)=>{jk.init(t,a),sn.init(t,a)}),eA=we("ZodURL",(t,a)=>{wk.init(t,a),sn.init(t,a)}),tA=we("ZodEmoji",(t,a)=>{Ek.init(t,a),sn.init(t,a)}),nA=we("ZodNanoID",(t,a)=>{kk.init(t,a),sn.init(t,a)}),aA=we("ZodCUID",(t,a)=>{Tk.init(t,a),sn.init(t,a)}),iA=we("ZodCUID2",(t,a)=>{Ck.init(t,a),sn.init(t,a)}),sA=we("ZodULID",(t,a)=>{Ak.init(t,a),sn.init(t,a)}),rA=we("ZodXID",(t,a)=>{zk.init(t,a),sn.init(t,a)}),lA=we("ZodKSUID",(t,a)=>{Mk.init(t,a),sn.init(t,a)}),oA=we("ZodIPv4",(t,a)=>{Pk.init(t,a),sn.init(t,a)}),uA=we("ZodIPv6",(t,a)=>{Ik.init(t,a),sn.init(t,a)}),cA=we("ZodCIDRv4",(t,a)=>{Bk.init(t,a),sn.init(t,a)}),dA=we("ZodCIDRv6",(t,a)=>{Uk.init(t,a),sn.init(t,a)}),mA=we("ZodBase64",(t,a)=>{Zk.init(t,a),sn.init(t,a)}),hA=we("ZodBase64URL",(t,a)=>{Fk.init(t,a),sn.init(t,a)}),fA=we("ZodE164",(t,a)=>{Hk.init(t,a),sn.init(t,a)}),pA=we("ZodJWT",(t,a)=>{Qk.init(t,a),sn.init(t,a)}),e_=we("ZodNumber",(t,a)=>{Fb.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(o,d,m)=>mC(t,o,d),t.gt=(o,d)=>t.check(uv(o,d)),t.gte=(o,d)=>t.check(Mh(o,d)),t.min=(o,d)=>t.check(Mh(o,d)),t.lt=(o,d)=>t.check(ov(o,d)),t.lte=(o,d)=>t.check(zh(o,d)),t.max=(o,d)=>t.check(zh(o,d)),t.int=o=>t.check(mv(o)),t.safe=o=>t.check(mv(o)),t.positive=o=>t.check(uv(0,o)),t.nonnegative=o=>t.check(Mh(0,o)),t.negative=o=>t.check(ov(0,o)),t.nonpositive=o=>t.check(zh(0,o)),t.multipleOf=(o,d)=>t.check(cv(o,d)),t.step=(o,d)=>t.check(cv(o,d)),t.finite=()=>t;const l=t._zod.bag;t.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),t.isFinite=!0,t.format=l.format??null}),gA=we("ZodNumberFormat",(t,a)=>{Gk.init(t,a),e_.init(t,a)});function mv(t){return FT(gA,t)}const xA=we("ZodBoolean",(t,a)=>{Vk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>hC(t,l,o)});function Sd(t){return HT(xA,t)}const yA=we("ZodNull",(t,a)=>{Yk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>fC(t,l,o)});function wf(t){return KT(yA,t)}const vA=we("ZodUnknown",(t,a)=>{$k.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>gC()});function hv(){return QT(vA)}const bA=we("ZodNever",(t,a)=>{Jk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>pC(t,l,o)});function _A(t){return GT(bA,t)}const NA=we("ZodArray",(t,a)=>{Xk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>bC(t,l,o,d),t.element=a.element,t.min=(l,o)=>t.check(ld(l,o)),t.nonempty=l=>t.check(ld(1,l)),t.max=(l,o)=>t.check(Gb(l,o)),t.length=(l,o)=>t.check(Vb(l,o)),t.unwrap=()=>t.element});function jA(t,a){return sC(NA,t,a)}const SA=we("ZodObject",(t,a)=>{eT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>_C(t,l,o,d),Pt(t,"shape",()=>a.shape),t.keyof=()=>kf(Object.keys(t._zod.def.shape)),t.catchall=l=>t.clone({...t._zod.def,catchall:l}),t.passthrough=()=>t.clone({...t._zod.def,catchall:hv()}),t.loose=()=>t.clone({...t._zod.def,catchall:hv()}),t.strict=()=>t.clone({...t._zod.def,catchall:_A()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=l=>y1(t,l),t.safeExtend=l=>v1(t,l),t.merge=l=>b1(t,l),t.pick=l=>g1(t,l),t.omit=l=>x1(t,l),t.partial=(...l)=>_1(t_,t,l[0]),t.required=(...l)=>N1(n_,t,l[0])});function Ga(t,a){const l={type:"object",shape:t??{},...Ve(a)};return new SA(l)}const wA=we("ZodUnion",(t,a)=>{tT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>NC(t,l,o,d),t.options=a.options});function ud(t,a){return new wA({type:"union",options:t,...Ve(a)})}const EA=we("ZodIntersection",(t,a)=>{nT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>jC(t,l,o,d)});function kA(t,a){return new EA({type:"intersection",left:t,right:a})}const Ef=we("ZodEnum",(t,a)=>{aT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(o,d,m)=>xC(t,o,d),t.enum=a.entries,t.options=Object.values(a.entries);const l=new Set(Object.keys(a.entries));t.extract=(o,d)=>{const m={};for(const p of o)if(l.has(p))m[p]=a.entries[p];else throw new Error(`Key ${p} not found in enum`);return new Ef({...a,checks:[],...Ve(d),entries:m})},t.exclude=(o,d)=>{const m={...a.entries};for(const p of o)if(l.has(p))delete m[p];else throw new Error(`Key ${p} not found in enum`);return new Ef({...a,checks:[],...Ve(d),entries:m})}});function kf(t,a){const l=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new Ef({type:"enum",entries:l,...Ve(a)})}const TA=we("ZodTransform",(t,a)=>{iT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>vC(t,l),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new kb(t.constructor.name);l.addIssue=m=>{if(typeof m=="string")l.issues.push(au(m,l.value,a));else{const p=m;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=l.value),p.inst??(p.inst=t),l.issues.push(au(p))}};const d=a.transform(l.value,l);return d instanceof Promise?d.then(m=>(l.value=m,l)):(l.value=d,l)}});function CA(t){return new TA({type:"transform",transform:t})}const t_=we("ZodOptional",(t,a)=>{Qb.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Xb(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function fv(t){return new t_({type:"optional",innerType:t})}const AA=we("ZodExactOptional",(t,a)=>{sT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Xb(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function zA(t){return new AA({type:"optional",innerType:t})}const MA=we("ZodNullable",(t,a)=>{rT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>SC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function pv(t){return new MA({type:"nullable",innerType:t})}const OA=we("ZodDefault",(t,a)=>{lT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>EC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function DA(t,a){return new OA({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():zb(a)}})}const RA=we("ZodPrefault",(t,a)=>{oT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>kC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function LA(t,a){return new RA({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():zb(a)}})}const n_=we("ZodNonOptional",(t,a)=>{uT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>wC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function PA(t,a){return new n_({type:"nonoptional",innerType:t,...Ve(a)})}const IA=we("ZodCatch",(t,a)=>{cT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>TC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function BA(t,a){return new IA({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const UA=we("ZodPipe",(t,a)=>{dT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>CC(t,l,o,d),t.in=a.in,t.out=a.out});function gv(t,a){return new UA({type:"pipe",in:t,out:a})}const ZA=we("ZodReadonly",(t,a)=>{mT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>AC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function qA(t){return new ZA({type:"readonly",innerType:t})}const FA=we("ZodCustom",(t,a)=>{hT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>yC(t,l)});function HA(t,a={}){return rC(FA,t,a)}function KA(t){return lC(t)}function _n(t){return qT(e_,t)}const QA=Ga({employee_id:_n().int().positive(),expires_in_minutes:_n().int().positive().max(1440)});function Zc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function xv(t,a){return`${new Intl.DateTimeFormat("tr-TR",{month:"long"}).format(new Date(Date.UTC(t,a-1,1)))} ${t}`}function GA(t){return t==="FINISHED"?"status-badge status-badge-ok":t==="IN_PROGRESS"?"status-badge status-badge-pending":"status-badge status-badge-neutral"}function VA(){const t=Pn(),[a,l]=N.useState(""),[o,d]=N.useState("60"),[m,p]=N.useState(null),[y,v]=N.useState(null),b=Le({queryKey:["departments"],queryFn:Fs}),S=Le({queryKey:["employees"],queryFn:()=>li({status:"active"})}),w=Le({queryKey:["devices"],queryFn:yb}),C=Le({queryKey:["leaves","dashboard"],queryFn:()=>bb({})}),z=Le({queryKey:["attendance-events","dashboard"],queryFn:()=>$f({limit:8})}),k=Le({queryKey:["dashboard-employee-snapshot",a],queryFn:()=>vb({employee_id:Number(a)}),enabled:!!a,staleTime:2e4}),A=$e({mutationFn:_b,onSuccess:K=>{p({token:K.token,invite_url:K.invite_url}),v(null),t.invalidateQueries({queryKey:["devices"]})},onError:K=>{v(KE(K,"Claim token olusturulamadi."))}}),M=()=>{p(null),v(null);const K=QA.safeParse({employee_id:a,expires_in_minutes:o});if(!K.success){v(K.error.issues[0]?.message??"Form alanlarini kontrol et.");return}A.mutate(K.data)},U=b.data??[],D=S.data??[],P=w.data??[],G=C.data??[],J=z.data??[],V=N.useMemo(()=>D.find(K=>String(K.id)===a)??null,[D,a]);return b.isLoading||S.isLoading||w.isLoading||C.isLoading||z.isLoading?i.jsx(Ot,{}):b.isError||S.isError||w.isError||C.isError||z.isError?i.jsx(jt,{message:"Dashboard verileri alinamadi."}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(En,{title:"Genel Bakis",description:"Calisan odakli claim token operasyonu ve anlik puantaj gorunumu."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Departman"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:U.length})]}),i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Calisan"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:D.length})]}),i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Cihaz"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:P.length})]}),i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Izin Kaydi"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:G.length})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.05fr_1.3fr]",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Claim Token Uretimi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Calisan adi veya ID secip employee claim URL olustur."}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(Fa,{label:"Calisan",employees:D,value:a,onChange:l,placeholder:"Calisan adi veya #ID",helperText:"Tek bir calisan secildiginde dashboard ozet kartlari otomatik dolar."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Token suresi (dakika)",i.jsx("input",{value:o,onChange:K=>d(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),V?i.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[i.jsxs("p",{children:["Secili: #",V.id," - ",V.full_name]}),i.jsxs("p",{children:["Departman: ",V.department_id??"-"]})]}):null,i.jsx("button",{type:"button",onClick:M,disabled:A.isPending||!a,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Olusturuluyor...":"Claim Token Olustur"}),m?i.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[i.jsxs("p",{className:"font-semibold",children:["Token: ",m.token]}),i.jsxs("p",{className:"mt-1 break-all",children:["URL: ",m.invite_url]})]}):null,y?i.jsx("div",{className:"form-validation",children:y}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Canli Ozet"}),a?null:i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bir calisan secildiginde bu ay/gecen ay mesai, cihaz ve konum bilgisi gorunur."}),a&&k.isLoading?i.jsx(Ot,{label:"Calisan ozeti yukleniyor..."}):null,a&&k.isError?i.jsx(jt,{message:"Calisan ozeti alinamadi."}):null,k.data?i.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:GA(k.data.today_status),children:k.data.today_status}),i.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Aktif cihaz: ",k.data.active_devices,"/",k.data.total_devices]}),i.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Son guncelleme: ",Zc(k.data.generated_at_utc)]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:xv(k.data.current_month.year,k.data.current_month.month)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",i.jsx(De,{minutes:k.data.current_month.worked_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",i.jsx(De,{minutes:k.data.current_month.plan_overtime_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",i.jsx(De,{minutes:k.data.current_month.extra_work_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",i.jsx(De,{minutes:k.data.current_month.overtime_minutes})]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:xv(k.data.previous_month.year,k.data.previous_month.month)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",i.jsx(De,{minutes:k.data.previous_month.worked_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",i.jsx(De,{minutes:k.data.previous_month.plan_overtime_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",i.jsx(De,{minutes:k.data.previous_month.extra_work_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",i.jsx(De,{minutes:k.data.previous_month.overtime_minutes})]})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Puantaj Olayi"}),k.data.last_event?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Tip: ",k.data.last_event.event_type]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Zc(k.data.last_event.ts_utc)]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Konum: ",k.data.last_event.location_status]})]}):i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Kayit bulunamadi."})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Konum"}),k.data.latest_location?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Lat/Lon: ",k.data.latest_location.lat.toFixed(6),", ",k.data.latest_location.lon.toFixed(6)]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Zc(k.data.latest_location.ts_utc)]})]}):i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Konum verisi yok."})]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cihazlar"}),k.data.devices.length===0?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cihaz kaydi bulunamadi."}):i.jsx("div",{className:"mt-2 space-y-1 text-xs text-slate-700",children:k.data.devices.slice(0,8).map(K=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded border border-slate-100 px-2 py-1",children:[i.jsxs("span",{children:["#",K.id," - ",K.device_fingerprint]}),i.jsx("span",{className:K.is_active?"status-badge status-badge-ok":"status-badge status-badge-danger",children:K.is_active?"AKTIF":"PASIF"})]},K.id))})]})]}):null]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Son Attendance Eventleri"}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"Calisan"}),i.jsx("th",{className:"py-2",children:"Tip"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Zaman"})]})}),i.jsx("tbody",{children:J.map(K=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:K.id}),i.jsx("td",{className:"py-2",children:K.employee_id}),i.jsx("td",{className:"py-2",children:K.type}),i.jsx("td",{className:"py-2",children:K.location_status}),i.jsx("td",{className:"py-2",children:Zc(K.ts_utc)})]},K.id))})]})})]})]})}function YA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function $A(){const t=new Date,{pushToast:a}=In(),l={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=N.useState(l),[m,p]=N.useState(l),[y,v]=N.useState(!1),b=Le({queryKey:["departments"],queryFn:Fs}),S=Number(m.year),w=Number(m.month),C=Number(m.departmentId),z=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=Le({queryKey:["department-summary",S,w,m.departmentId||"all",m.includeInactive?"with-inactive":"active-only"],queryFn:()=>TE({year:S,month:w,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:m.includeInactive}),enabled:z}),A=k.data??[],M=N.useMemo(()=>A.reduce((J,V)=>(J.worked+=V.worked_minutes,J.planOvertime+=V.plan_overtime_minutes,J.legalExtra+=V.legal_extra_work_minutes,J.legalOvertime+=V.legal_overtime_minutes,J.employeeCount+=V.employee_count,J),{worked:0,planOvertime:0,legalExtra:0,legalOvertime:0,employeeCount:0}),[A]),U=N.useMemo(()=>{const J=[`Yl: ${m.year}`,`Ay: ${m.month}`];if(m.departmentId){const V=b.data?.find(K=>K.id===Number(m.departmentId));J.push(`Departman: ${V?.name??m.departmentId}`)}return m.includeInactive&&J.push("Arivdekiler dahil"),J},[m,b.data]),D=()=>p({...o}),P=()=>{d(l),p(l)},G=async()=>{if(!z){a({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const J=Number.isFinite(C)&&C>0?await LE({department_id:C,year:S,month:w,include_inactive:m.includeInactive}):await PE({year:S,month:w,include_inactive:m.includeInactive}),V=Number.isFinite(C)&&C>0?`department-${C}`:"all";YA(J,`puantaj-${V}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch(J){a({variant:"error",title:"Excel indirilemedi",description:Be(J,"Dosya oluturulamad.").message})}finally{v(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma, plan st sre ve yasal fazla mesai deerlerini karlatrn.",action:i.jsx("button",{type:"button",onClick:()=>{G()},disabled:y,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:y?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{type:"number",value:o.year,onChange:J=>d(V=>({...V,year:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:o.month,onChange:J=>d(V=>({...V,month:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",i.jsxs("select",{value:o.departmentId,onChange:J=>d(V=>({...V,departmentId:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:b.isLoading,children:[i.jsx("option",{value:"",children:"Tm"}),(b.data??[]).map(J=>i.jsxs("option",{value:J.id,children:["#",J.id," - ",J.name]},J.id))]})]})]}),i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:J=>d(V=>({...V,includeInactive:J.target.checked}))}),"Arivdeki alanlar dahil et"]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:D,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:P,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:U.map(J=>i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:J},J))})]}),z?null:i.jsx(jt,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?i.jsx(Ot,{}):null,k.isError?i.jsx(jt,{message:Be(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?i.jsxs(i.Fragment,{children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-5",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:M.worked})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Plan st Sre"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:M.planOvertime})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Sre"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:M.legalExtra})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:M.legalOvertime})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),i.jsx("p",{className:"text-lg font-semibold",children:M.employeeCount})]})]})]}),A.length===0?i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):i.jsx(Ae,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"alan Says"}),i.jsx("th",{className:"py-2",children:"Toplam alma"}),i.jsx("th",{className:"py-2",children:"Plan st"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sre"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"})]})}),i.jsx("tbody",{children:A.map(J=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsxs("td",{className:"py-2",children:["#",J.department_id," - ",J.department_name]}),i.jsx("td",{className:"py-2",children:J.employee_count}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:J.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:J.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:J.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:J.legal_overtime_minutes})})]},J.department_id))})]})})})]}):null]})}function ts({value:t,onChange:a,placeholder:l="Isme gore ara..."}){return i.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",i.jsx("input",{value:t,onChange:o=>a(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const yv=Ga({name:fa().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:ud([_n().int().positive(),wf()])});function vv(t){if(Gt.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const a=Be(t,"Departman olusturulamadi.");return a.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":a.message}function JA(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState(!1),[S,w]=N.useState(""),[C,z]=N.useState(null),[k,A]=N.useState(""),[M,U]=N.useState(""),[D,P]=N.useState(null),G=Le({queryKey:["departments",S],queryFn:()=>U2(S?{region_id:Number(S)}:void 0)}),J=Le({queryKey:["regions","departments-page"],queryFn:()=>yd({include_inactive:!0})}),V=$e({mutationFn:Z2,onSuccess:q=>{o(""),m(""),P(null),b(!1),a({variant:"success",title:"Departman olusturuldu",description:`${q.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:q=>{const Y=vv(q);P(Y),a({variant:"error",title:"Departman olusturulamadi",description:Y})}}),K=$e({mutationFn:({departmentId:q,name:Y,regionIdValue:Z})=>q2(q,{name:Y,region_id:Z}),onSuccess:q=>{P(null),z(null),A(""),U(""),a({variant:"success",title:"Departman guncellendi",description:`${q.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:q=>{const Y=vv(q);P(Y),a({variant:"error",title:"Departman guncellenemedi",description:Y})}}),Q=q=>{q.preventDefault(),P(null);const Y=d.trim()===""?null:Number(d),Z=yv.safeParse({name:l,region_id:Y});if(!Z.success){const W=Z.error.issues[0]?.message??"Departman alanlarini kontrol edin.";P(W),a({variant:"error",title:"Form hatasi",description:W});return}V.mutate({name:Z.data.name,region_id:Z.data.region_id})},re=q=>{if(q.preventDefault(),P(null),!C)return;const Y=M.trim()===""?null:Number(M),Z=yv.safeParse({name:k,region_id:Y});if(!Z.success){const W=Z.error.issues[0]?.message??"Departman alanlarini kontrol edin.";P(W),a({variant:"error",title:"Form hatasi",description:W});return}K.mutate({departmentId:C,name:Z.data.name,regionIdValue:Z.data.region_id})},ye=G.data??[],te=J.data??[],oe=N.useMemo(()=>new Map(te.map(q=>[q.id,q.name])),[te]),be=N.useMemo(()=>{const q=p.trim().toLowerCase();return q?ye.filter(Y=>Y.name.toLowerCase().includes(q)):ye},[ye,p]);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:i.jsx("button",{type:"button",onClick:()=>b(q=>!q),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:Q,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",i.jsx("input",{value:l,onChange:q=>o(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:d,onChange:q=>m(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Bolge yok"}),te.map(q=>i.jsx("option",{value:q.id,children:q.name},q.id))]})]}),i.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[i.jsx("button",{type:"submit",disabled:V.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:V.isPending?"Kaydediliyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{b(!1),P(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),D?i.jsx("div",{className:"form-validation",children:D}):null]}):null,C?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:re,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",i.jsx("input",{value:k,onChange:q=>A(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:M,onChange:q=>U(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Bolge yok"}),te.map(q=>i.jsx("option",{value:q.id,children:q.name},q.id))]})]}),i.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[i.jsx("button",{type:"submit",disabled:K.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?"Guncelleniyor...":"Guncelle"}),i.jsx("button",{type:"button",onClick:()=>{z(null),A(""),U(""),P(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),D?i.jsx("div",{className:"form-validation",children:D}):null]}):null,G.isLoading||J.isLoading?i.jsx(Ot,{}):null,G.isError||J.isError?i.jsx(jt,{message:"Departman verileri alinamadi."}):null,!G.isLoading&&!G.isError&&!J.isLoading&&!J.isError?i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[i.jsx(ts,{value:p,onChange:y,placeholder:"Departman adina gore ara..."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:S,onChange:q=>w(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),te.map(q=>i.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman ID"}),i.jsx("th",{className:"py-2",children:"Departman Adi"}),i.jsx("th",{className:"py-2",children:"Bolge"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:be.map(q=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:q.id}),i.jsx("td",{className:"py-2",children:q.name}),i.jsx("td",{className:"py-2",children:q.region_name??(q.region_id?oe.get(q.region_id):"-")??"-"}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>{z(q.id),A(q.name),U(q.region_id?String(q.region_id):""),P(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},q.id))})]})}),be.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function qs({value:t}){const a=t.toUpperCase();return a==="OK"||a==="AKTIF"||a==="APPROVED"?i.jsx("span",{className:"status-badge status-badge-ok",children:t}):a==="INCOMPLETE"?i.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):a==="LEAVE"?i.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):a==="OFF"?i.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):a==="PENDING"?i.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):a==="REJECTED"||a==="PASIF"?i.jsx("span",{className:"status-badge status-badge-danger",children:t}):i.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function Oh(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function XA(t){return t==="ACTIVE"?"Aktif":"Kullanildi/Suresi Doldu"}function WA(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(!0),[v,b]=N.useState(""),[S,w]=N.useState(1),[C,z]=N.useState(50),[k,A]=N.useState(null),[M,U]=N.useState(null),D=l?Number(l):void 0,P=D?0:(S-1)*C,G=Le({queryKey:["employee-device-overview-summary",D??null,d,p,v,S,C],queryFn:()=>Nf({employee_id:D,region_id:d?Number(d):void 0,include_inactive:p,q:v.trim()||void 0,offset:P,limit:D?1:C,device_limit:1})}),J=Le({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>Nf({employee_id:k??void 0,include_inactive:!0,include_recovery_secrets:!0,offset:0,limit:1,device_limit:100})}),V=Le({queryKey:["employees","all-for-devices"],queryFn:()=>li({include_inactive:!0,status:"all"})}),K=Le({queryKey:["regions","devices-page"],queryFn:()=>yd({include_inactive:!0})}),Q=$e({mutationFn:({deviceId:Y,isActive:Z})=>wE(Y,{is_active:Z}),onSuccess:Y=>{a({variant:"success",title:Y.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${Y.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:Y=>{a({variant:"error",title:"Cihaz durumu gncellenemedi",description:Be(Y,"lem baarsz.").message})}}),re=V.data??[],ye=K.data??[],te=G.data??[],oe=J.data?.[0],be=!D&&te.length===C,q=!D&&S>1;return G.isLoading||V.isLoading||K.isLoading?i.jsx(Ot,{}):G.isError?i.jsx(jt,{message:Be(G.error,"Cihaz verisi alnamad.").message}):V.isError?i.jsx(jt,{message:Be(V.error,"alan listesi alnamad.").message}):K.isError?i.jsx(jt,{message:Be(K.error,"Bolge listesi alinamadi.").message}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[i.jsx(Fa,{label:"alan filtresi",employees:re,value:l,onChange:Y=>{o(Y),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",i.jsx("input",{type:"text",value:v,onChange:Y=>{b(Y.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",i.jsxs("select",{value:C,onChange:Y=>{z(Number(Y.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:d,onChange:Y=>{m(Y.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),ye.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:Y=>{y(Y.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),D?null:i.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",disabled:!q,onClick:()=>{w(Y=>Math.max(1,Y-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),i.jsx("button",{type:"button",disabled:!be,onClick:()=>{w(Y=>Y+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),i.jsxs(Ae,{children:[i.jsx("div",{className:"max-h-[68vh] overflow-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-2",children:"alan"}),i.jsx("th",{className:"px-2 py-2",children:"Departman"}),i.jsx("th",{className:"px-2 py-2",children:"Durum"}),i.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),i.jsx("th",{className:"px-2 py-2",children:"Token"}),i.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:te.map(Y=>{const Z=k===Y.employee_id;return i.jsxs(N.Fragment,{children:[i.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"font-medium text-slate-900",children:["#",Y.employee_id," - ",Y.employee_name]})}),i.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:Y.department_name??Y.department_id??"-"}),i.jsx("td",{className:"px-2 py-2",children:i.jsx(qs,{value:Y.is_employee_active?"Aktif":"Pasif"})}),i.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:Y.active_devices})," aktif / ",Y.total_devices," toplam"]}),i.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",Y.token_used," B:",Y.token_pending," D:",Y.token_expired," T:",Y.token_total]}),i.jsx("td",{className:"px-2 py-2 text-right",children:i.jsx("button",{type:"button",onClick:()=>{A(W=>W===Y.employee_id?null:Y.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:Z?"Kapat":"Cihazlar Ynet"})})]}),Z?i.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:i.jsx("td",{colSpan:6,className:"px-2 py-3",children:J.isLoading?i.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):J.isError?i.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):oe?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-xs",children:[i.jsx("thead",{className:"uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Cihaz ID"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Fingerprint"}),i.jsx("th",{className:"py-2",children:"Recovery"}),i.jsx("th",{className:"py-2",children:"Oluturulma"}),i.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:oe.devices.map(W=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:W.id}),i.jsx("td",{className:"py-2",children:i.jsx(qs,{value:W.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2 font-mono",children:W.device_fingerprint}),i.jsx("td",{className:"py-2 text-[11px] text-slate-700",children:W.recovery_ready?i.jsxs("span",{className:"rounded-full bg-emerald-100 px-2 py-1 font-semibold text-emerald-700",children:["Hazir (",W.recovery_code_active_count,")"]}):i.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-1 font-semibold text-amber-700",children:"Kurulu Degil"})}),i.jsx("td",{className:"py-2",children:Oh(W.created_at)}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>U(W),className:"rounded-lg border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Detay"}),i.jsx("button",{type:"button",disabled:Q.isPending,onClick:()=>Q.mutate({deviceId:W.id,isActive:!W.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${W.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:W.is_active?"Pasife Al":"Aktif Et"})]})})]},W.id))})]}),oe.has_more_devices?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,oe.devices.length===0?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):i.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},Y.employee_id)})})]})}),te.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]}),i.jsx(Dl,{open:M!==null,title:M?`Cihaz #${M.id} Recovery Detayi`:"Recovery Detayi",onClose:()=>U(null),children:M?i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Fingerprint"}),i.jsx("p",{className:"mt-1 break-all font-mono text-xs text-slate-800",children:M.device_fingerprint})]}),i.jsxs("div",{className:"grid gap-2 rounded-lg border border-slate-200 p-3 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery Durumu"}),i.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:M.recovery_ready?"Hazir":"Kurulu Degil"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Aktif Kod"}),i.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:M.recovery_code_active_count})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"PIN Son Guncelleme"}),i.jsx("p",{className:"mt-1 text-slate-800",children:Oh(M.recovery_pin_updated_at)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Kod Son Gecerlilik"}),i.jsx("p",{className:"mt-1 text-slate-800",children:Oh(M.recovery_expires_at)})]})]}),i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-rose-700",children:"Recovery PIN"}),i.jsx("p",{className:"mt-1 font-mono text-lg font-semibold text-rose-900",children:M.recovery_pin_plain??"-"})]}),M.recovery_code_entries.length>0?i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery Kodlari"}),i.jsx("div",{className:"mt-2 space-y-2",children:M.recovery_code_entries.map(Y=>i.jsxs("div",{className:"flex items-center justify-between rounded border border-slate-200 px-3 py-2",children:[i.jsx("span",{className:"font-mono text-slate-900",children:Y.code}),i.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${Y.status==="ACTIVE"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:XA(Y.status)})]},`${M.id}-${Y.code}`))})]}):i.jsx("p",{className:"text-xs text-slate-500",children:"Bu cihaz icin kayitli recovery kodu bulunamadi."})]}):null})]})}function ez(){const t=Pn(),{pushToast:a}=In(),l=Le({queryKey:["compliance-settings"],queryFn:ME}),[o,d]=N.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});N.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const m=$e({mutationFn:OE,onSuccess:()=>{a({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{a({variant:"error",title:"Kayit hatasi",description:Be(p,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?i.jsx(Ot,{}):l.isError?i.jsx(jt,{message:Be(l.error,"Uyumluluk ayarlari alinamadi.").message}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),i.jsx(Ae,{children:i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),m.mutate(o)},children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",i.jsx("input",{value:o.name,onChange:p=>d(y=>({...y,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(y=>({...y,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(y=>({...y,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(y=>({...y,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",i.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(y=>({...y,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",i.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(y=>({...y,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",i.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(y=>({...y,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",i.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(y=>({...y,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"OFF",children:"OFF"}),i.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[i.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(y=>({...y,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[i.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(y=>({...y,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),i.jsx("div",{className:"md:col-span-2",children:i.jsx("button",{type:"submit",disabled:m.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:m.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.weekly_normal_minutes_default})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.daily_max_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const tz=Ga({username:fa().min(1,"Kullanici adi gerekli."),password:fa().min(1,"Sifre gerekli.")});function nz(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function az(t){return t.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":t.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function iz(){const[t]=Ff(),[a,l]=N.useState("admin"),[o,d]=N.useState(""),[m,p]=N.useState(null),[y,v]=N.useState(null),[b,S]=N.useState(!1),w=N.useMemo(()=>{const z=t.get("archive_id");if(!z)return null;const k=Number(z);return!Number.isInteger(k)||k<=0?null:k},[t]),C=async z=>{if(z.preventDefault(),p(null),v(null),!w){p({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const k=tz.safeParse({username:a,password:o});if(!k.success){p({message:k.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}S(!0);try{const A=await jE(w,k.data),M=A.file_name??`arsiv-${w}.xlsx`;nz(A.blob,M),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){p(Be(A,"Excel dosyasi indirilemedi."))}finally{S(!1)}};return i.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),i.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:a,onChange:z=>l(z.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),i.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),m?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[i.jsx("p",{className:"font-semibold",children:az(m)}),i.jsx("p",{className:"mt-1",children:m.message}),m.requestId?i.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",m.requestId]}):null]}):null,y?i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:y}):null,i.jsx("button",{type:"submit",disabled:b||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:b?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),i.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[wi.signatureText," | BUILD: ",wi.buildVersion]})]})})}const sp=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Xo(){return Object.fromEntries(sp.map(t=>[t.key,{read:!1,write:!1}]))}function sz(t){const a=Xo();return t&&sp.forEach(({key:l})=>{const o=t[l];o&&(a[l]={read:!!(o.read||o.write),write:!!o.write})}),a}function bv({value:t,disabled:a=!1,onChange:l}){const o=(d,m,p)=>{const v={...t[d]??{read:!1,write:!1}};m==="read"?(v.read=p,p||(v.write=!1)):(v.write=p,p&&(v.read=!0)),l({...t,[d]:v})};return i.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"Modul"}),i.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),i.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),i.jsx("tbody",{children:sp.map(d=>{const m=t[d.key]??{read:!1,write:!1};return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-3 py-2",children:d.label}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("input",{type:"checkbox",checked:m.read,disabled:a,onChange:p=>o(d.key,"read",p.target.checked)})}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("input",{type:"checkbox",checked:m.write,disabled:a,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function _v(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Xo()}}function rz(){const t=Pn(),{pushToast:a}=In(),{hasPermission:l,isSuperAdmin:o}=Lr(),d=l("admin_users"),m=l("admin_users","write"),[p,y]=N.useState(_v()),[v,b]=N.useState(null),[S,w]=N.useState(""),[C,z]=N.useState(""),[k,A]=N.useState(""),[M,U]=N.useState(!0),[D,P]=N.useState(!1),[G,J]=N.useState(Xo()),V=Le({queryKey:["admin-users"],queryFn:cb,enabled:d}),K=$e({mutationFn:P2,onSuccess:()=>{a({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),y(_v()),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const Y=Be(q,"Admin kullanici olusturulamadi.");a({variant:"error",title:"Kayit basarisiz",description:Y.message})}}),Q=$e({mutationFn:({userId:q,payload:Y})=>I2(q,Y),onSuccess:()=>{a({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),b(null),A(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const Y=Be(q,"Admin kullanici guncellenemedi.");a({variant:"error",title:"Guncelleme basarisiz",description:Y.message})}}),re=$e({mutationFn:B2,onSuccess:()=>{a({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const Y=Be(q,"Admin kullanici silinemedi.");a({variant:"error",title:"Silme basarisiz",description:Y.message})}}),ye=N.useMemo(()=>[...V.data??[]].sort((Y,Z)=>Y.username.localeCompare(Z.username)),[V.data]);if(!d)return i.jsx(jt,{message:"Bu alani goruntuleme yetkiniz yok."});if(V.isLoading)return i.jsx(Ot,{label:"Admin kullanicilar yukleniyor..."});if(V.isError)return i.jsx(jt,{message:"Admin kullanici listesi alinamadi."});const te=q=>{if(q.preventDefault(),!!m){if(!o){a({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}if(p.password.length<8){a({variant:"error",title:"Kayit basarisiz",description:"Sifre alani en az 8 karakter olmali."});return}K.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?Xo():p.permissions})}},oe=q=>{b(q),w(q.username),z(q.full_name??""),A(""),U(q.is_active),P(q.is_super_admin),J(sz(q.permissions))},be=q=>{if(q.preventDefault(),!(!v||!m)){if(k.trim()&&k.trim().length<8){a({variant:"error",title:"Guncelleme basarisiz",description:"Yeni sifre en az 8 karakter olmali."});return}Q.mutate({userId:v.id,payload:{username:S.trim(),full_name:C.trim()||null,password:k.trim()?k:void 0,is_active:M,is_super_admin:D,permissions:D?Xo():G}})}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),i.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",i.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:i.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),i.jsxs("form",{onSubmit:te,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",i.jsx("input",{value:p.username,onChange:q=>y(Y=>({...Y,username:q.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:p.full_name,onChange:q=>y(Y=>({...Y,full_name:q.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",i.jsx("input",{type:"password",value:p.password,onChange:q=>y(Y=>({...Y,password:q.target.value})),disabled:!m||!o,minLength:8,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!m||!o,onChange:q=>y(Y=>({...Y,is_active:q.target.checked}))}),"Aktif"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!m||!o,onChange:q=>y(Y=>({...Y,is_super_admin:q.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?i.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):i.jsx(bv,{value:p.permissions,disabled:!m||!o,onChange:q=>y(Y=>({...Y,permissions:q}))}),i.jsx("button",{type:"submit",disabled:!m||!o||K.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"Kullanici"}),i.jsx("th",{className:"py-2",children:"Ad Soyad"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Rol"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:ye.map(q=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:q.id}),i.jsx("td",{className:"py-2 font-medium text-slate-900",children:q.username}),i.jsx("td",{className:"py-2",children:q.full_name??"-"}),i.jsx("td",{className:"py-2",children:i.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${q.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:q.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:q.is_super_admin?"Super Admin":"Yetkili Admin"}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",disabled:!m||!o,onClick:()=>oe(q),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),i.jsx("button",{type:"button",disabled:!m||!o||re.isPending,onClick:()=>{window.confirm(`${q.username} kullanicisini silmek istediginize emin misiniz?`)&&re.mutate(q.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},q.id))})]})}),ye.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),i.jsx(Dl,{open:!!v,title:"Admin Kullanici Duzenle",onClose:()=>{b(null),A("")},children:v?i.jsxs("form",{onSubmit:be,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",i.jsx("input",{value:S,onChange:q=>w(q.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:C,onChange:q=>z(q.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",i.jsx("input",{type:"password",value:k,onChange:q=>A(q.target.value),disabled:!m||!o,minLength:8,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:M,disabled:!m||!o,onChange:q=>U(q.target.checked)}),"Aktif"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:D,disabled:!m||!o,onChange:q=>P(q.target.checked)}),"Super Admin"]})]}),D?i.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):i.jsx(bv,{value:G,disabled:!m||!o,onChange:J}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{b(null),A("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),i.jsx("button",{type:"submit",disabled:!m||!o||Q.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Q.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function Nv({label:t,value:a,onCopy:l}){return i.jsxs("label",{className:"block text-sm text-slate-700",children:[t,i.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[i.jsx("input",{readOnly:!0,value:a,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),i.jsx("button",{type:"button",onClick:()=>l(a),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Jo={exports:{}};var lz=Jo.exports,jv;function oz(){return jv||(jv=1,(function(t,a){(function(l,o){o(a)})(lz,(function(l){var o="1.9.4";function d(s){var u,h,x,_;for(h=1,x=arguments.length;h<x;h++){_=arguments[h];for(u in _)s[u]=_[u]}return s}var m=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var x=h.call(arguments,2);return function(){return s.apply(u,x.length?x.concat(h.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function b(s,u,h){var x,_,E,B;return B=function(){x=!1,_&&(E.apply(h,_),_=!1)},E=function(){x?_=arguments:(s.apply(h,arguments),setTimeout(B,u),x=!0)},E}function S(s,u,h){var x=u[1],_=u[0],E=x-_;return s===x&&h?s:((s-_)%E+E)%E+_}function w(){return!1}function C(s,u){if(u===!1)return s;var h=Math.pow(10,u===void 0?6:u);return Math.round(s*h)/h}function z(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return z(s).split(/\s+/)}function A(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?m(s.options):{});for(var h in u)s.options[h]=u[h];return s.options}function M(s,u,h){var x=[];for(var _ in s)x.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function D(s,u){return s.replace(U,function(h,x){var _=u[x];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(u)),_})}var P=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function G(s,u){for(var h=0;h<s.length;h++)if(s[h]===u)return h;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var K=0;function Q(s){var u=+new Date,h=Math.max(0,16-(u-K));return K=u+h,window.setTimeout(s,h)}var re=window.requestAnimationFrame||V("RequestAnimationFrame")||Q,ye=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function te(s,u,h){if(h&&re===Q)s.call(u);else return re.call(window,p(s,u))}function oe(s){s&&ye.call(window,s)}var be={__proto__:null,extend:d,create:m,bind:p,get lastId(){return y},stamp:v,throttle:b,wrapNum:S,falseFn:w,formatNum:C,trim:z,splitWords:k,setOptions:A,getParamString:M,template:D,isArray:P,indexOf:G,emptyImageUrl:J,requestFn:re,cancelFn:ye,requestAnimFrame:te,cancelAnimFrame:oe};function q(){}q.extend=function(s){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,x=m(h);x.constructor=u,u.prototype=x;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(u[_]=this[_]);return s.statics&&d(u,s.statics),s.includes&&(Y(s.includes),d.apply(null,[x].concat(s.includes))),d(x,s),delete x.statics,delete x.includes,x.options&&(x.options=h.options?m(h.options):{},d(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,B=x._initHooks.length;E<B;E++)x._initHooks[E].call(this)}},u},q.include=function(s){var u=this.prototype.options;return d(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},q.mergeOptions=function(s){return d(this.prototype.options,s),this},q.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Y(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=P(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(s,u,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],u);else{s=k(s);for(var _=0,E=s.length;_<E;_++)this._on(s[_],u,h)}return this},off:function(s,u,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],u);else{s=k(s);for(var _=arguments.length===1,E=0,B=s.length;E<B;E++)_?this._off(s[E]):this._off(s[E],u,h)}return this},_on:function(s,u,h,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,h)===!1){h===this&&(h=void 0);var _={fn:u,ctx:h};x&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,u,h){var x,_,E;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(_=0,E=x.length;_<E;_++)x[_].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var B=this._listens(s,u,h);if(B!==!1){var le=x[B];this._firingCount&&(le.fn=w,this._events[s]=x=x.slice()),x.splice(B,1)}}},fire:function(s,u,h){if(!this.listens(s,h))return this;var x=d({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var E=0,B=_.length;E<B;E++){var le=_[E],he=le.fn;le.once&&this.off(s,he,le.ctx),he.call(le.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(s,u,h,x){typeof s!="string"&&console.warn('"string" type argument expected');var _=u;typeof u!="function"&&(x=!!u,_=void 0,h=void 0);var E=this._events&&this._events[s];if(E&&E.length&&this._listens(s,_,h)!==!1)return!0;if(x){for(var B in this._eventParents)if(this._eventParents[B].listens(s,u,h,x))return!0}return!1},_listens:function(s,u,h){if(!this._events)return!1;var x=this._events[s]||[];if(!u)return!!x.length;h===this&&(h=void 0);for(var _=0,E=x.length;_<E;_++)if(x[_].fn===u&&x[_].ctx===h)return _;return!1},once:function(s,u,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],u,!0);else{s=k(s);for(var _=0,E=s.length;_<E;_++)this._on(s[_],u,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,d({layer:s.target,propagatedFrom:s.target},s),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var W=q.extend(Z);function ce(s,u,h){this.x=h?Math.round(s):s,this.y=h?Math.round(u):u}var Te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(s){return this.clone()._add(ee(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ee(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ce(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ce(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(s){s=ee(s);var u=s.x-this.x,h=s.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(s){return s=ee(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ee(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function ee(s,u,h){return s instanceof ce?s:P(s)?new ce(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ce(s.x,s.y):new ce(s,u,h)}function O(s,u){if(s)for(var h=u?[s,u]:s,x=0,_=h.length;x<_;x++)this.extend(h[x])}O.prototype={extend:function(s){var u,h;if(!s)return this;if(s instanceof ce||typeof s[0]=="number"||"x"in s)u=h=ee(s);else if(s=ne(s),u=s.min,h=s.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,h;return typeof s[0]=="number"||s instanceof ce?s=ee(s):s=ne(s),s instanceof O?(u=s.min,h=s.max):u=h=s,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=ne(s);var u=this.min,h=this.max,x=s.min,_=s.max,E=_.x>=u.x&&x.x<=h.x,B=_.y>=u.y&&x.y<=h.y;return E&&B},overlaps:function(s){s=ne(s);var u=this.min,h=this.max,x=s.min,_=s.max,E=_.x>u.x&&x.x<h.x,B=_.y>u.y&&x.y<h.y;return E&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,h=this.max,x=Math.abs(u.x-h.x)*s,_=Math.abs(u.y-h.y)*s;return ne(ee(u.x-x,u.y-_),ee(h.x+x,h.y+_))},equals:function(s){return s?(s=ne(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ne(s,u){return!s||s instanceof O?s:new O(s,u)}function R(s,u){if(s)for(var h=u?[s,u]:s,x=0,_=h.length;x<_;x++)this.extend(h[x])}R.prototype={extend:function(s){var u=this._southWest,h=this._northEast,x,_;if(s instanceof pe)x=s,_=s;else if(s instanceof R){if(x=s._southWest,_=s._northEast,!x||!_)return this}else return s?this.extend(je(s)||H(s)):this;return!u&&!h?(this._southWest=new pe(x.lat,x.lng),this._northEast=new pe(_.lat,_.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(s){var u=this._southWest,h=this._northEast,x=Math.abs(u.lat-h.lat)*s,_=Math.abs(u.lng-h.lng)*s;return new R(new pe(u.lat-x,u.lng-_),new pe(h.lat+x,h.lng+_))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof pe||"lat"in s?s=je(s):s=H(s);var u=this._southWest,h=this._northEast,x,_;return s instanceof R?(x=s.getSouthWest(),_=s.getNorthEast()):x=_=s,x.lat>=u.lat&&_.lat<=h.lat&&x.lng>=u.lng&&_.lng<=h.lng},intersects:function(s){s=H(s);var u=this._southWest,h=this._northEast,x=s.getSouthWest(),_=s.getNorthEast(),E=_.lat>=u.lat&&x.lat<=h.lat,B=_.lng>=u.lng&&x.lng<=h.lng;return E&&B},overlaps:function(s){s=H(s);var u=this._southWest,h=this._northEast,x=s.getSouthWest(),_=s.getNorthEast(),E=_.lat>u.lat&&x.lat<h.lat,B=_.lng>u.lng&&x.lng<h.lng;return E&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=H(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(s,u){return s instanceof R?s:new R(s,u)}function pe(s,u,h){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,h!==void 0&&(this.alt=+h)}pe.prototype={equals:function(s,u){if(!s)return!1;s=je(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+C(this.lat,s)+", "+C(this.lng,s)+")"},distanceTo:function(s){return qe.distance(this,je(s))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,h=u/Math.cos(Math.PI/180*this.lat);return H([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function je(s,u,h){return s instanceof pe?s:P(s)&&typeof s[0]!="object"?s.length===3?new pe(s[0],s[1],s[2]):s.length===2?new pe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new pe(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new pe(s,u,h)}var Me={latLngToPoint:function(s,u){var h=this.projection.project(s),x=this.scale(u);return this.transformation._transform(h,x)},pointToLatLng:function(s,u){var h=this.scale(u),x=this.transformation.untransform(s,h);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(s),x=this.transformation.transform(u.min,h),_=this.transformation.transform(u.max,h);return new O(x,_)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new pe(h,u,x)},wrapLatLngBounds:function(s){var u=s.getCenter(),h=this.wrapLatLng(u),x=u.lat-h.lat,_=u.lng-h.lng;if(x===0&&_===0)return s;var E=s.getSouthWest(),B=s.getNorthEast(),le=new pe(E.lat-x,E.lng-_),he=new pe(B.lat-x,B.lng-_);return new R(le,he)}},qe=d({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var h=Math.PI/180,x=s.lat*h,_=u.lat*h,E=Math.sin((u.lat-s.lat)*h/2),B=Math.sin((u.lng-s.lng)*h/2),le=E*E+Math.cos(x)*Math.cos(_)*B*B,he=2*Math.atan2(Math.sqrt(le),Math.sqrt(1-le));return this.R*he}}),Ye=6378137,Fe={R:Ye,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,s.lat),-h),_=Math.sin(x*u);return new ce(this.R*s.lng*u,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var u=180/Math.PI;return new pe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ye*Math.PI;return new O([-s,-s],[s,s])})()};function Ne(s,u,h,x){if(P(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=h,this._d=x}Ne.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ce((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function nt(s,u,h,x){return new Ne(s,u,h,x)}var St=d({},qe,{code:"EPSG:3857",projection:Fe,transformation:(function(){var s=.5/(Math.PI*Fe.R);return nt(s,.5,-s,.5)})()}),Nt=d({},St,{code:"EPSG:900913"});function yt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Qt(s,u){var h="",x,_,E,B,le,he;for(x=0,E=s.length;x<E;x++){for(le=s[x],_=0,B=le.length;_<B;_++)he=le[_],h+=(_?"L":"M")+he.x+" "+he.y;h+=u?Pe.svg?"z":"x":""}return h||"M0 0"}var It=document.documentElement.style,mt="ActiveXObject"in window,pn=mt&&!document.addEventListener,ae="msLaunchUri"in navigator&&!("documentMode"in document),Ce=Un("webkit"),He=Un("android"),ct=Un("android 2")||Un("android 3"),wt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dt=He&&Un("Google")&&wt<537&&!("AudioNode"in window),ve=!!window.opera,Ue=!ae&&Un("chrome"),it=Un("gecko")&&!Ce&&!ve&&!mt,We=!Ue&&Un("safari"),tn=Un("phantom"),ie="OTransition"in It,$=navigator.platform.indexOf("Win")===0,Qe=mt&&"transition"in It,at="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ct,Vt="MozPerspective"in It,Et=!window.L_DISABLE_3D&&(Qe||at||Vt)&&!ie&&!tn,An=typeof orientation<"u"||Un("mobile"),Ei=An&&Ce,ki=An&&at,Bn=!window.PointerEvent&&window.MSPointerEvent,ga=!!(window.PointerEvent||Bn),Jn="ontouchstart"in window||!!window.TouchEvent,Xn=!window.L_NO_TOUCH&&(Jn||ga),Ta=An&&ve,zn=An&&it,Ti=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ue=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),et=(function(){return!!document.createElement("canvas").getContext})(),ht=!!(document.createElementNS&&yt("svg").createSVGRect),Wn=!!ht&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ea=!ht&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Ci=navigator.platform.indexOf("Mac")===0,Ai=navigator.platform.indexOf("Linux")===0;function Un(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Pe={ie:mt,ielt9:pn,edge:ae,webkit:Ce,android:He,android23:ct,androidStock:dt,opera:ve,chrome:Ue,gecko:it,safari:We,phantom:tn,opera12:ie,win:$,ie3d:Qe,webkit3d:at,gecko3d:Vt,any3d:Et,mobile:An,mobileWebkit:Ei,mobileWebkit3d:ki,msPointer:Bn,pointer:ga,touch:Xn,touchNative:Jn,mobileOpera:Ta,mobileGecko:zn,retina:Ti,passiveEvents:ue,canvas:et,svg:ht,vml:ea,inlineSvg:Wn,mac:Ci,linux:Ai},Qs=Pe.msPointer?"MSPointerDown":"pointerdown",as=Pe.msPointer?"MSPointerMove":"pointermove",xa=Pe.msPointer?"MSPointerUp":"pointerup",rn=Pe.msPointer?"MSPointerCancel":"pointercancel",gn={touchstart:Qs,touchmove:as,touchend:xa,touchcancel:rn},Va={touchstart:Ya,touchmove:Zn,touchend:Zn,touchcancel:Zn},Ca={},Ur=!1;function ql(s,u,h){return u==="touchstart"&&kt(),Va[u]?(h=Va[u].bind(this,h),s.addEventListener(gn[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function Zr(s,u,h){if(!gn[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(gn[u],h,!1)}function zi(s){Ca[s.pointerId]=s}function I(s){Ca[s.pointerId]&&(Ca[s.pointerId]=s)}function Re(s){delete Ca[s.pointerId]}function kt(){Ur||(document.addEventListener(Qs,zi,!0),document.addEventListener(as,I,!0),document.addEventListener(xa,Re,!0),document.addEventListener(rn,Re,!0),Ur=!0)}function Zn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in Ca)u.touches.push(Ca[h]);u.changedTouches=[u],s(u)}}function Ya(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ln(u),Zn(s,u)}function nn(s){var u={},h,x;for(x in s)h=s[x],u[x]=h&&h.bind?h.bind(s):h;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Gs=200;function mu(s,u){s.addEventListener("dblclick",u);var h=0,x;function _(E){if(E.detail!==1){x=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var B=er(E);if(!(B.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!B.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var le=Date.now();le-h<=Gs?(x++,x===2&&u(nn(E))):x=1,h=le}}}return s.addEventListener("click",_),{dblclick:u,simDblclick:_}}function Mi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var oi=$s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vs=$s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fl=Vs==="webkitTransition"||Vs==="OTransition"?Vs+"End":"transitionend";function Hl(s){return typeof s=="string"?document.getElementById(s):s}function Ys(s,u){var h=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);h=x?x[u]:null}return h==="auto"?null:h}function ft(s,u,h){var x=document.createElement(s);return x.className=u||"",h&&h.appendChild(x),x}function Bt(s){var u=s.parentNode;u&&u.removeChild(s)}function ta(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Nn(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Oi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Kl(s,u){if(s.classList!==void 0)return s.classList.contains(u);var h=qr(s);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function st(s,u){if(s.classList!==void 0)for(var h=k(u),x=0,_=h.length;x<_;x++)s.classList.add(h[x]);else if(!Kl(s,u)){var E=qr(s);is(s,(E?E+" ":"")+u)}}function Jt(s,u){s.classList!==void 0?s.classList.remove(u):is(s,z((" "+qr(s)+" ").replace(" "+u+" "," ")))}function is(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function qr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Yt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Ql(s,u)}function Ql(s,u){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):s.style.filter+=" progid:"+x+"(opacity="+u+")"}function $s(s){for(var u=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in u)return s[h];return!1}function $a(s,u,h){var x=u||new ce(0,0);s.style[oi]=(Pe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function Ht(s,u){s._leaflet_pos=u,Pe.any3d?$a(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function ui(s){return s._leaflet_pos||new ce(0,0)}var ss,Aa,Gl;if("onselectstart"in document)ss=function(){Xe(window,"selectstart",ln)},Aa=function(){Dt(window,"selectstart",ln)};else{var rs=$s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ss=function(){if(rs){var s=document.documentElement.style;Gl=s[rs],s[rs]="none"}},Aa=function(){rs&&(document.documentElement.style[rs]=Gl,Gl=void 0)}}function Fr(){Xe(window,"dragstart",ln)}function Js(){Dt(window,"dragstart",ln)}var Hr,Vl;function ls(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(na(),Hr=s,Vl=s.style.outlineStyle,s.style.outlineStyle="none",Xe(window,"keydown",na))}function na(){Hr&&(Hr.style.outlineStyle=Vl,Hr=void 0,Vl=void 0,Dt(window,"keydown",na))}function Kr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Xs(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var os={__proto__:null,TRANSFORM:oi,TRANSITION:Vs,TRANSITION_END:Fl,get:Hl,getStyle:Ys,create:ft,remove:Bt,empty:ta,toFront:Nn,toBack:Oi,hasClass:Kl,addClass:st,removeClass:Jt,setClass:is,getClass:qr,setOpacity:Yt,testProp:$s,setTransform:$a,setPosition:Ht,getPosition:ui,get disableTextSelection(){return ss},get enableTextSelection(){return Aa},disableImageDrag:Fr,enableImageDrag:Js,preventOutline:ls,restoreOutline:na,getSizedParentNode:Kr,getScale:Xs};function Xe(s,u,h,x){if(u&&typeof u=="object")for(var _ in u)va(s,_,u[_],h);else{u=k(u);for(var E=0,B=u.length;E<B;E++)va(s,u[E],h,x)}return this}var ya="_leaflet_events";function Dt(s,u,h,x){if(arguments.length===1)Yl(s),delete s[ya];else if(u&&typeof u=="object")for(var _ in u)Ws(s,_,u[_],h);else if(u=k(u),arguments.length===2)Yl(s,function(le){return G(u,le)!==-1});else for(var E=0,B=u.length;E<B;E++)Ws(s,u[E],h,x);return this}function Yl(s,u){for(var h in s[ya]){var x=h.split(/\d/)[0];(!u||u(x))&&Ws(s,x,null,null,h)}}var Di={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function va(s,u,h,x){var _=u+v(h)+(x?"_"+v(x):"");if(s[ya]&&s[ya][_])return this;var E=function(le){return h.call(x||s,le||window.event)},B=E;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?E=ql(s,u,E):Pe.touch&&u==="dblclick"?E=mu(s,E):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Di[u]||u,E,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(le){le=le||window.event,Ja(s,le)&&B(le)},s.addEventListener(Di[u],E,!1)):s.addEventListener(u,B,!1):s.attachEvent("on"+u,E),s[ya]=s[ya]||{},s[ya][_]=E}function Ws(s,u,h,x,_){_=_||u+v(h)+(x?"_"+v(x):"");var E=s[ya]&&s[ya][_];if(!E)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?Zr(s,u,E):Pe.touch&&u==="dblclick"?Mi(s,E):"removeEventListener"in s?s.removeEventListener(Di[u]||u,E,!1):s.detachEvent("on"+u,E),s[ya][_]=null}function ba(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function za(s){return va(s,"wheel",ba),this}function Ri(s){return Xe(s,"mousedown touchstart dblclick contextmenu",ba),s._leaflet_disable_click=!0,this}function ln(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ci(s){return ln(s),ba(s),this}function er(s){if(s.composedPath)return s.composedPath();for(var u=[],h=s.target;h;)u.push(h),h=h.parentNode;return u}function tr(s,u){if(!u)return new ce(s.clientX,s.clientY);var h=Xs(u),x=h.boundingClientRect;return new ce((s.clientX-x.left)/h.x-u.clientLeft,(s.clientY-x.top)/h.y-u.clientTop)}var hu=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mn(s){return Pe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/hu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ja(s,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Qr={__proto__:null,on:Xe,off:Dt,stopPropagation:ba,disableScrollPropagation:za,disableClickPropagation:Ri,preventDefault:ln,stop:ci,getPropagationPath:er,getMousePosition:tr,getWheelDelta:Mn,isExternalTarget:Ja,addListener:Xe,removeListener:Dt},us=W.extend({run:function(s,u,h,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ui(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var h=this._startPos.add(this._offset.multiplyBy(s));u&&h._round(),Ht(this._el,h),this.fire("step")},_complete:function(){oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),vt=W.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(je(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vs&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xe(this._proxy,Fl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(je(s),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,h.zoom):this._tryAnimatedPan(s,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,h){var x=this.getZoomScale(u),_=this.getSize().divideBy(2),E=s instanceof ce?s:this.latLngToContainerPoint(s),B=E.subtract(_).multiplyBy(1-1/x),le=this.containerPointToLatLng(_.add(B));return this.setView(le,u,{zoom:h})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():H(s);var h=ee(u.paddingTopLeft||u.padding||[0,0]),x=ee(u.paddingBottomRight||u.padding||[0,0]),_=this.getBoundsZoom(s,!1,h.add(x));if(_=typeof u.maxZoom=="number"?Math.min(u.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var E=x.subtract(h).divideBy(2),B=this.project(s.getSouthWest(),_),le=this.project(s.getNorthEast(),_),he=this.unproject(B.add(le).divideBy(2).add(E),_);return{center:he,zoom:_}},fitBounds:function(s,u){if(s=H(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=ee(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){st(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,h){if(h=h||{},h.animate===!1||!Pe.any3d)return this.setView(s,u,h);this._stop();var x=this.project(this.getCenter()),_=this.project(s),E=this.getSize(),B=this._zoom;s=je(s),u=u===void 0?B:u;var le=Math.max(E.x,E.y),he=le*this.getZoomScale(B,u),Ee=_.distanceTo(x)||1,Oe=1.42,Ke=Oe*Oe;function ot(an){var ti=an?-1:1,Bi=an?he:le,co=he*he-le*le+ti*Ke*Ke*Ee*Ee,xr=2*Bi*Ke*Ee,yr=co/xr,vi=Math.sqrt(yr*yr+1)-yr,ni=vi<1e-9?-18:Math.log(vi);return ni}function jn(an){return(Math.exp(an)-Math.exp(-an))/2}function on(an){return(Math.exp(an)+Math.exp(-an))/2}function Gn(an){return jn(an)/on(an)}var Tt=ot(0);function Ct(an){return le*(on(Tt)/on(Tt+Oe*an))}function pt(an){return le*(on(Tt)*Gn(Tt+Oe*an)-jn(Tt))/Ke}function xi(an){return 1-Math.pow(1-an,1.5)}var ra=Date.now(),rl=(ot(1)-Tt)/Oe,yi=h.duration?1e3*h.duration:1e3*rl*.8;function uo(){var an=(Date.now()-ra)/yi,ti=xi(an)*rl;an<=1?(this._flyToFrame=te(uo,this),this._move(this.unproject(x.add(_.subtract(x).multiplyBy(pt(ti)/Ee)),B),this.getScaleZoom(le/Ct(ti),B),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),uo.call(this),this},flyToBounds:function(s,u){var h=this._getBoundsCenterZoom(s,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(s){return s=H(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,H(s));return h.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var h=ee(u.paddingTopLeft||u.padding||[0,0]),x=ee(u.paddingBottomRight||u.padding||[0,0]),_=this.project(this.getCenter()),E=this.project(s),B=this.getPixelBounds(),le=ne([B.min.add(h),B.max.subtract(x)]),he=le.getSize();if(!le.contains(E)){this._enforcingBounds=!0;var Ee=E.subtract(le.getCenter()),Oe=le.extend(E).getSize().subtract(he);_.x+=Ee.x<0?-Oe.x:Oe.x,_.y+=Ee.y<0?-Oe.y:Oe.y,this.panTo(this.unproject(_),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=d({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=u.divideBy(2).round(),_=h.divideBy(2).round(),E=x.subtract(_);return!E.x&&!E.y?this:(s.animate&&s.pan?this.panBy(E):(s.pan&&this._rawPanBy(E),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=d({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,s):navigator.geolocation.getCurrentPosition(u,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,h=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,h=s.coords.longitude,x=new pe(u,h),_=x.toBounds(s.coords.accuracy*2),E=this._locateOptions;if(E.setView){var B=this.getBoundsZoom(_);this.setView(x,E.maxZoom?Math.min(B,E.maxZoom):B)}var le={latlng:x,bounds:_,timestamp:s.timestamp};for(var he in s.coords)typeof s.coords[he]=="number"&&(le[he]=s.coords[he]);this.fire("locationfound",le)}},addHandler:function(s,u){if(!u)return this;var h=this[s]=new u(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Bt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=ft("div",h,u||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new R(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,h){s=H(s),h=ee(h||[0,0]);var x=this.getZoom()||0,_=this.getMinZoom(),E=this.getMaxZoom(),B=s.getNorthWest(),le=s.getSouthEast(),he=this.getSize().subtract(h),Ee=ne(this.project(le,x),this.project(B,x)).getSize(),Oe=Pe.any3d?this.options.zoomSnap:1,Ke=he.x/Ee.x,ot=he.y/Ee.y,jn=u?Math.max(Ke,ot):Math.min(Ke,ot);return x=this.getScaleZoom(jn,x),Oe&&(x=Math.round(x/(Oe/100))*(Oe/100),x=u?Math.ceil(x/Oe)*Oe:Math.floor(x/Oe)*Oe),Math.max(_,Math.min(E,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var h=this._getTopLeftPoint(s,u);return new O(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(s)/h.scale(u)},getScaleZoom:function(s,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var x=h.zoom(s*h.scale(u));return isNaN(x)?1/0:x},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(je(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ee(s),u)},layerPointToLatLng:function(s){var u=ee(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(je(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(je(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(H(s))},distance:function(s,u){return this.options.crs.distance(je(s),je(u))},containerPointToLayerPoint:function(s){return ee(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ee(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(ee(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(je(s)))},mouseEventToContainerPoint:function(s){return tr(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Hl(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xe(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,st(s,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ys(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(st(s.markerPane,"leaflet-zoom-hide"),st(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,h){Ht(this._mapPane,new ce(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var _=this._zoom!==u;this._moveStart(_,h)._move(s,u)._moveEnd(_),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,h,x){u===void 0&&(u=this._zoom);var _=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ht(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?Dt:Xe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){oe(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var h=[],x,_=u==="mouseout"||u==="mouseover",E=s.target||s.srcElement,B=!1;E;){if(x=this._targets[v(E)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){B=!0;break}if(x&&x.listens(u,!0)&&(_&&!Ja(E,s)||(h.push(x),_))||E===this._container)break;E=E.parentNode}return!h.length&&!B&&!_&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var h=s.type;h==="mousedown"&&ls(u),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,h){if(s.type==="click"){var x=d({},s);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var _=this._findEventTargets(s,u);if(h){for(var E=[],B=0;B<h.length;B++)h[B].listens(u,!0)&&E.push(h[B]);_=E.concat(_)}if(_.length){u==="contextmenu"&&ln(s);var le=_[0],he={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Ee=le.getLatLng&&(!le._radius||le._radius<=10);he.containerPoint=Ee?this.latLngToContainerPoint(le.getLatLng()):this.mouseEventToContainerPoint(s),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=Ee?le.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(B=0;B<_.length;B++)if(_[B].fire(u,he,!0),he.originalEvent._stopped||_[B].options.bubblingMouseEvents===!1&&G(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return ui(this._mapPane)||new ce(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var h=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var h=this.getSize()._divideBy(2);return this.project(s,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,h){var x=this._getNewPixelOrigin(h,u);return this.project(s,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,u,h){var x=this._getNewPixelOrigin(h,u);return ne([this.project(s.getSouthWest(),u)._subtract(x),this.project(s.getNorthWest(),u)._subtract(x),this.project(s.getSouthEast(),u)._subtract(x),this.project(s.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,h){if(!h)return s;var x=this.project(s,u),_=this.getSize().divideBy(2),E=new O(x.subtract(_),x.add(_)),B=this._getBoundsOffset(E,h,u);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?s:this.unproject(x.add(B),u)},_limitOffset:function(s,u){if(!u)return s;var h=this.getPixelBounds(),x=new O(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(s,u,h){var x=ne(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),_=x.min.subtract(s.min),E=x.max.subtract(s.max),B=this._rebound(_.x,-E.x),le=this._rebound(_.y,-E.y);return new ce(B,le)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),h=this.getMaxZoom(),x=Pe.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(u,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var h=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var s=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var h=oi,x=this._proxy.style[h];$a(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();$a(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),_=this._getCenterOffset(s)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(_)?!1:(te(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,st(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $l(s,u){return new vt(s,u)}var Qn=q.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),h=this.getPosition(),x=s._controlCorners[h];return st(u,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Xa=function(s){return new Qn(s)};vt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",h=this._controlContainer=ft("div",u+"control-container",this._container);function x(_,E){var B=u+_+" "+u+E;s[_+E]=ft("div",B,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Bt(this._controlCorners[s]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nr=Qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,h,x){return h<x?-1:x<h?1:0}},initialize:function(s,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Qn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){st(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(st(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=ft("div",s),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ri(u),za(u);var x=this._section=ft("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Xe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ft("a",s+"-toggle",u);_.href="#",_.title="Layers",_.setAttribute("role","button"),Xe(_,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){ln(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ft("div",s+"-base",x),this._separator=ft("div",s+"-separator",x),this._overlaysList=ft("div",s+"-overlays",x),u.appendChild(x)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(x,_){return this.options.sortFunction(x.layer,_.layer,x.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ta(this._baseLayersList),ta(this._overlaysList),this._layerControlInputs=[];var s,u,h,x,_=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),u=u||x.overlay,s=s||!x.overlay,_+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),h=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(s,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(s){var u=document.createElement("label"),h=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(x),x.layerId=v(s.layer),Xe(x,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(x),E.appendChild(_);var B=s.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,h,x=[],_=[];this._handlingClick=!0;for(var E=s.length-1;E>=0;E--)u=s[E],h=this._getLayer(u.layerId).layer,u.checked?x.push(h):u.checked||_.push(h);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])&&this._map.removeLayer(_[E]);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])||this._map.addLayer(x[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,h,x=this._map.getZoom(),_=s.length-1;_>=0;_--)u=s[_],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Xe(s,"click",ln),this.expand();var u=this;setTimeout(function(){Dt(s,"click",ln),u._preventClick=!1})}}),fu=function(s,u,h){return new nr(s,u,h)},Jl=Qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",h=ft("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,h,x,_){var E=ft("a",h,x);return E.innerHTML=s,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),Ri(E),Xe(E,"click",ci),Xe(E,"click",_,this),Xe(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";Jt(this._zoomInButton,u),Jt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(st(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(st(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});vt.mergeOptions({zoomControl:!0}),vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jl,this.addControl(this.zoomControl))});var wd=function(s){return new Jl(s)},pu=Qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",h=ft("div",u),x=this.options;return this._addScales(x,u+"-line",h),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,h){s.metric&&(this._mScale=ft("div",u,h)),s.imperial&&(this._iScale=ft("div",u,h))},_update:function(){var s=this._map,u=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/s)},_updateImperial:function(s){var u=s*3.2808399,h,x,_;u>5280?(h=u/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(_=this._getRoundNum(u),this._updateScale(this._iScale,_+" ft",_/u))},_updateScale:function(s,u,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),h=s/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),Xl=function(s){return new pu(s)},Ed='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wl=Qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?Ed+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Ri(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});vt.mergeOptions({attributionControl:!0}),vt.addInitHook(function(){this.options.attributionControl&&new Wl().addTo(this)});var kd=function(s){return new Wl(s)};Qn.Layers=nr,Qn.Zoom=Jl,Qn.Scale=pu,Qn.Attribution=Wl,Xa.layers=fu,Xa.zoom=wd,Xa.scale=Xl,Xa.attribution=kd;var Ma=q.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ma.addTo=function(s,u){return s.addHandler(u,this),this};var Td={Events:Z},eo=Pe.touch?"touchstart mousedown":"mousedown",di=W.extend({options:{clickTolerance:3},initialize:function(s,u,h,x){A(this,x),this._element=s,this._dragStartTarget=u||s,this._preventOutline=h},enable:function(){this._enabled||(Xe(this._dragStartTarget,eo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(di._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,eo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Kl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){di._dragging===this&&this.finishDrag();return}if(!(di._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(di._dragging=this,this._preventOutline&&ls(this._element),Fr(),ss(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,h=Kr(this._element);this._startPoint=new ce(u.clientX,u.clientY),this._startPos=ui(this._element),this._parentScale=Xs(h);var x=s.type==="mousedown";Xe(document,x?"mousemove":"touchmove",this._onMove,this),Xe(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,h=new ce(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,ln(s),this._moved||(this.fire("dragstart"),this._moved=!0,st(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),st(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ht(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Js(),Aa();var u=this._moved&&this._moving;this._moving=!1,di._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function gu(s,u,h){var x,_=[1,4,2,8],E,B,le,he,Ee,Oe,Ke,ot;for(E=0,Oe=s.length;E<Oe;E++)s[E]._code=Li(s[E],u);for(le=0;le<4;le++){for(Ke=_[le],x=[],E=0,Oe=s.length,B=Oe-1;E<Oe;B=E++)he=s[E],Ee=s[B],he._code&Ke?Ee._code&Ke||(ot=Gr(Ee,he,Ke,u,h),ot._code=Li(ot,u),x.push(ot)):(Ee._code&Ke&&(ot=Gr(Ee,he,Ke,u,h),ot._code=Li(ot,u),x.push(ot)),x.push(he));s=x}return s}function xu(s,u){var h,x,_,E,B,le,he,Ee,Oe;if(!s||s.length===0)throw new Error("latlngs not passed");aa(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ke=je([0,0]),ot=H(s),jn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());jn<1700&&(Ke=to(s));var on=s.length,Gn=[];for(h=0;h<on;h++){var Tt=je(s[h]);Gn.push(u.project(je([Tt.lat-Ke.lat,Tt.lng-Ke.lng])))}for(le=he=Ee=0,h=0,x=on-1;h<on;x=h++)_=Gn[h],E=Gn[x],B=_.y*E.x-E.y*_.x,he+=(_.x+E.x)*B,Ee+=(_.y+E.y)*B,le+=B*3;le===0?Oe=Gn[0]:Oe=[he/le,Ee/le];var Ct=u.unproject(ee(Oe));return je([Ct.lat+Ke.lat,Ct.lng+Ke.lng])}function to(s){for(var u=0,h=0,x=0,_=0;_<s.length;_++){var E=je(s[_]);u+=E.lat,h+=E.lng,x++}return je([u/x,h/x])}var no={__proto__:null,clipPolygon:gu,polygonCenter:xu,centroid:to};function yu(s,u){if(!u||!s.length)return s.slice();var h=u*u;return s=Ad(s,h),s=bu(s,h),s}function vu(s,u,h){return Math.sqrt(ar(s,u,h,!0))}function Cd(s,u,h){return ar(s,u,h)}function bu(s,u){var h=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,_=new x(h);_[0]=_[h-1]=1,ao(s,_,u,0,h-1);var E,B=[];for(E=0;E<h;E++)_[E]&&B.push(s[E]);return B}function ao(s,u,h,x,_){var E=0,B,le,he;for(le=x+1;le<=_-1;le++)he=ar(s[le],s[x],s[_],!0),he>E&&(B=le,E=he);E>h&&(u[B]=1,ao(s,u,h,x,B),ao(s,u,h,B,_))}function Ad(s,u){for(var h=[s[0]],x=1,_=0,E=s.length;x<E;x++)zd(s[x],s[_])>u&&(h.push(s[x]),_=x);return _<E-1&&h.push(s[E-1]),h}var _u;function Nu(s,u,h,x,_){var E=x?_u:Li(s,h),B=Li(u,h),le,he,Ee;for(_u=B;;){if(!(E|B))return[s,u];if(E&B)return!1;le=E||B,he=Gr(s,u,le,h,_),Ee=Li(he,h),le===E?(s=he,E=Ee):(u=he,B=Ee)}}function Gr(s,u,h,x,_){var E=u.x-s.x,B=u.y-s.y,le=x.min,he=x.max,Ee,Oe;return h&8?(Ee=s.x+E*(he.y-s.y)/B,Oe=he.y):h&4?(Ee=s.x+E*(le.y-s.y)/B,Oe=le.y):h&2?(Ee=he.x,Oe=s.y+B*(he.x-s.x)/E):h&1&&(Ee=le.x,Oe=s.y+B*(le.x-s.x)/E),new ce(Ee,Oe,_)}function Li(s,u){var h=0;return s.x<u.min.x?h|=1:s.x>u.max.x&&(h|=2),s.y<u.min.y?h|=4:s.y>u.max.y&&(h|=8),h}function zd(s,u){var h=u.x-s.x,x=u.y-s.y;return h*h+x*x}function ar(s,u,h,x){var _=u.x,E=u.y,B=h.x-_,le=h.y-E,he=B*B+le*le,Ee;return he>0&&(Ee=((s.x-_)*B+(s.y-E)*le)/he,Ee>1?(_=h.x,E=h.y):Ee>0&&(_+=B*Ee,E+=le*Ee)),B=s.x-_,le=s.y-E,x?B*B+le*le:new ce(_,E)}function aa(s){return!P(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Vr(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),aa(s)}function cs(s,u){var h,x,_,E,B,le,he,Ee;if(!s||s.length===0)throw new Error("latlngs not passed");aa(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Oe=je([0,0]),Ke=H(s),ot=Ke.getNorthWest().distanceTo(Ke.getSouthWest())*Ke.getNorthEast().distanceTo(Ke.getNorthWest());ot<1700&&(Oe=to(s));var jn=s.length,on=[];for(h=0;h<jn;h++){var Gn=je(s[h]);on.push(u.project(je([Gn.lat-Oe.lat,Gn.lng-Oe.lng])))}for(h=0,x=0;h<jn-1;h++)x+=on[h].distanceTo(on[h+1])/2;if(x===0)Ee=on[0];else for(h=0,E=0;h<jn-1;h++)if(B=on[h],le=on[h+1],_=B.distanceTo(le),E+=_,E>x){he=(E-x)/_,Ee=[le.x-he*(le.x-B.x),le.y-he*(le.y-B.y)];break}var Tt=u.unproject(ee(Ee));return je([Tt.lat+Oe.lat,Tt.lng+Oe.lng])}var Md={__proto__:null,simplify:yu,pointToSegmentDistance:vu,closestPointOnSegment:Cd,clipSegment:Nu,_getEdgeIntersection:Gr,_getBitCode:Li,_sqClosestPointOnSegment:ar,isFlat:aa,_flat:Vr,polylineCenter:cs},Yr={project:function(s){return new ce(s.lng,s.lat)},unproject:function(s){return new pe(s.y,s.x)},bounds:new O([-180,-90],[180,90])},$r={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,h=this.R,x=s.lat*u,_=this.R_MINOR/h,E=Math.sqrt(1-_*_),B=E*Math.sin(x),le=Math.tan(Math.PI/4-x/2)/Math.pow((1-B)/(1+B),E/2);return x=-h*Math.log(Math.max(le,1e-10)),new ce(s.lng*u*h,x)},unproject:function(s){for(var u=180/Math.PI,h=this.R,x=this.R_MINOR/h,_=Math.sqrt(1-x*x),E=Math.exp(-s.y/h),B=Math.PI/2-2*Math.atan(E),le=0,he=.1,Ee;le<15&&Math.abs(he)>1e-7;le++)Ee=_*Math.sin(B),Ee=Math.pow((1-Ee)/(1+Ee),_/2),he=Math.PI/2-2*Math.atan(E*Ee)-B,B+=he;return new pe(B*u,s.x*u/h)}},ju={__proto__:null,LonLat:Yr,Mercator:$r,SphericalMercator:Fe},Su=d({},qe,{code:"EPSG:3395",projection:$r,transformation:(function(){var s=.5/(Math.PI*$r.R);return nt(s,.5,-s,.5)})()}),io=d({},qe,{code:"EPSG:4326",projection:Yr,transformation:nt(1/180,1,-1/180,.5)}),ds=d({},Me,{projection:Yr,transformation:nt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var h=u.lng-s.lng,x=u.lat-s.lat;return Math.sqrt(h*h+x*x)},infinite:!0});Me.Earth=qe,Me.EPSG3395=Su,Me.EPSG3857=St,Me.EPSG900913=Nt,Me.EPSG4326=io,Me.Simple=ds;var _a=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});vt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},_addLayers:function(s){s=s?P(s)?s:[s]:[];for(var u=0,h=s.length;u<h;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var _=this._zoomBoundLayers[x].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),u=_.maxZoom===void 0?u:Math.max(u,_.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ms=_a.extend({initialize:function(s,u){A(this,u),this._layers={};var h,x;if(s)for(h=0,x=s.length;h<x;h++)this.addLayer(s[h])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[s]&&x[s].apply(x,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Od=function(s,u){return new ms(s,u)},Oa=ms.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ms.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ms.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new R;for(var u in this._layers){var h=this._layers[u];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),wu=function(s,u){return new Oa(s,u)},Da=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,u){var h=this.options,x=h[u+"Size"];typeof x=="number"&&(x=[x,x]);var _=ee(x),E=ee(u==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(h.className||""),E&&(s.style.marginLeft=-E.x+"px",s.style.marginTop=-E.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Pe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ir(s){return new Da(s)}var sr=Da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof sr.imagePath!="string"&&(sr.imagePath=this._detectIconPath()),(this.options.imagePath||sr.imagePath)+Da.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(h,x,_){var E=x.exec(h);return E&&E[_]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ft("div","leaflet-default-icon-path",document.body),u=Ys(s,"background-image")||Ys(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),rr=Ma.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new di(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),st(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,h=u._map,x=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,E=ui(u._icon),B=h.getPixelBounds(),le=h.getPixelOrigin(),he=ne(B.min._subtract(le).add(_),B.max._subtract(le).subtract(_));if(!he.contains(E)){var Ee=ee((Math.max(he.max.x,E.x)-he.max.x)/(B.max.x-he.max.x)-(Math.min(he.min.x,E.x)-he.min.x)/(B.min.x-he.min.x),(Math.max(he.max.y,E.y)-he.max.y)/(B.max.y-he.max.y)-(Math.min(he.min.y,E.y)-he.min.y)/(B.min.y-he.min.y)).multiplyBy(x);h.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),Ht(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=te(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(oe(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,h=u._shadow,x=ui(u._icon),_=u._map.layerPointToLatLng(x);h&&Ht(h,x),u._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),lr=_a.extend({options:{icon:new sr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){A(this,u),this._latlng=je(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),st(h,u),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(h,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),E=!1;_!==this._shadow&&(this._removeShadow(),E=!0),_&&(st(_,u),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&E&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ht(this._icon,s),this._shadow&&Ht(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(st(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Yt(this._icon,s),this._shadow&&Yt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,h=u.iconSize?ee(u.iconSize):ee(0,0),x=u.iconAnchor?ee(u.iconAnchor):ee(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Eu(s,u){return new lr(s,u)}var Ra=_a.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hs=Ra.extend({options:{fill:!0,radius:10},initialize:function(s,u){A(this,u),this._latlng=je(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Ra.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,h=this._clickTolerance(),x=[s+h,u+h];this._pxBounds=new O(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(s,u){return new hs(s,u)}var Jr=hs.extend({initialize:function(s,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=je(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ra.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===qe.distance){var _=Math.PI/180,E=this._mRadius/qe.R/_,B=h.project([u+E,s]),le=h.project([u-E,s]),he=B.add(le).divideBy(2),Ee=h.unproject(he).lat,Oe=Math.acos((Math.cos(E*_)-Math.sin(u*_)*Math.sin(Ee*_))/(Math.cos(u*_)*Math.cos(Ee*_)))/_;(isNaN(Oe)||Oe===0)&&(Oe=E/Math.cos(Math.PI/180*u)),this._point=he.subtract(h.getPixelOrigin()),this._radius=isNaN(Oe)?0:he.x-h.project([Ee,s-Oe]).x,this._radiusY=he.y-B.y}else{var Ke=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ke).x}this._updateBounds()}});function Tu(s,u,h){return new Jr(s,u,h)}var Wa=Ra.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){A(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,h=null,x=ar,_,E,B=0,le=this._parts.length;B<le;B++)for(var he=this._parts[B],Ee=1,Oe=he.length;Ee<Oe;Ee++){_=he[Ee-1],E=he[Ee];var Ke=x(s,_,E,!0);Ke<u&&(u=Ke,h=x(s,_,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=je(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new R,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return aa(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],h=aa(s),x=0,_=s.length;x<_;x++)h?(u[x]=je(s[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(s[x]);return u},_project:function(){var s=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ce(s,s);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,h){var x=s[0]instanceof pe,_=s.length,E,B;if(x){for(B=[],E=0;E<_;E++)B[E]=this._map.latLngToLayerPoint(s[E]),h.extend(B[E]);u.push(B)}else for(E=0;E<_;E++)this._projectLatlngs(s[E],u,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,x,_,E,B,le,he;for(h=0,_=0,E=this._rings.length;h<E;h++)for(he=this._rings[h],x=0,B=he.length;x<B-1;x++)le=Nu(he[x],he[x+1],s,x,!0),le&&(u[_]=u[_]||[],u[_].push(le[0]),(le[1]!==he[x+1]||x===B-2)&&(u[_].push(le[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,h=0,x=s.length;h<x;h++)s[h]=yu(s[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var h,x,_,E,B,le,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,E=this._parts.length;h<E;h++)for(le=this._parts[h],x=0,B=le.length,_=B-1;x<B;_=x++)if(!(!u&&x===0)&&vu(s,le[_],le[x])<=he)return!0;return!1}});function Dd(s,u){return new Wa(s,u)}Wa._flat=Vr;var fs=Wa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Wa.prototype._convertLatLngs.call(this,s),h=u.length;return h>=2&&u[0]instanceof pe&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(s){Wa.prototype._setLatLngs.call(this,s),aa(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return aa(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,h=new ce(u,u);if(s=new O(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,_=this._rings.length,E;x<_;x++)E=gu(this._rings[x],s,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,h,x,_,E,B,le,he,Ee;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(E=0,he=this._parts.length;E<he;E++)for(h=this._parts[E],B=0,Ee=h.length,le=Ee-1;B<Ee;le=B++)x=h[B],_=h[le],x.y>s.y!=_.y>s.y&&s.x<(_.x-x.x)*(s.y-x.y)/(_.y-x.y)+x.x&&(u=!u);return u||Wa.prototype._containsPoint.call(this,s,!0)}});function Rd(s,u){return new fs(s,u)}var ei=Oa.extend({initialize:function(s,u){A(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=P(s)?s:s.features,h,x,_;if(u){for(h=0,x=u.length;h<x;h++)_=u[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var E=this.options;if(E.filter&&!E.filter(s))return this;var B=kn(s,E);return B?(B.feature=el(s),B.defaultOptions=B.options,this.resetStyle(B),E.onEachFeature&&E.onEachFeature(s,B),this.addLayer(B)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=d({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function kn(s,u){var h=s.type==="Feature"?s.geometry:s,x=h?h.coordinates:null,_=[],E=u&&u.pointToLayer,B=u&&u.coordsToLatLng||Xr,le,he,Ee,Oe;if(!x&&!h)return null;switch(h.type){case"Point":return le=B(x),ps(E,s,le,u);case"MultiPoint":for(Ee=0,Oe=x.length;Ee<Oe;Ee++)le=B(x[Ee]),_.push(ps(E,s,le,u));return new Oa(_);case"LineString":case"MultiLineString":return he=or(x,h.type==="LineString"?0:1,B),new Wa(he,u);case"Polygon":case"MultiPolygon":return he=or(x,h.type==="Polygon"?1:2,B),new fs(he,u);case"GeometryCollection":for(Ee=0,Oe=h.geometries.length;Ee<Oe;Ee++){var Ke=kn({geometry:h.geometries[Ee],type:"Feature",properties:s.properties},u);Ke&&_.push(Ke)}return new Oa(_);case"FeatureCollection":for(Ee=0,Oe=h.features.length;Ee<Oe;Ee++){var ot=kn(h.features[Ee],u);ot&&_.push(ot)}return new Oa(_);default:throw new Error("Invalid GeoJSON object.")}}function ps(s,u,h,x){return s?s(u,h):new lr(h,x&&x.markersInheritOptions&&x)}function Xr(s){return new pe(s[1],s[0],s[2])}function or(s,u,h){for(var x=[],_=0,E=s.length,B;_<E;_++)B=u?or(s[_],u-1,h):(h||Xr)(s[_]),x.push(B);return x}function Wr(s,u){return s=je(s),s.alt!==void 0?[C(s.lng,u),C(s.lat,u),C(s.alt,u)]:[C(s.lng,u),C(s.lat,u)]}function ur(s,u,h,x){for(var _=[],E=0,B=s.length;E<B;E++)_.push(u?ur(s[E],aa(s[E])?0:u-1,h,x):Wr(s[E],x));return!u&&h&&_.length>0&&_.push(_[0].slice()),_}function mi(s,u){return s.feature?d({},s.feature,{geometry:u}):el(u)}function el(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var hi={toGeoJSON:function(s){return mi(this,{type:"Point",coordinates:Wr(this.getLatLng(),s)})}};lr.include(hi),Jr.include(hi),hs.include(hi),Wa.include({toGeoJSON:function(s){var u=!aa(this._latlngs),h=ur(this._latlngs,u?1:0,!1,s);return mi(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),fs.include({toGeoJSON:function(s){var u=!aa(this._latlngs),h=u&&!aa(this._latlngs[0]),x=ur(this._latlngs,h?2:u?1:0,!0,s);return u||(x=[x]),mi(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),ms.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(s).geometry.coordinates)}),mi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var h=u==="GeometryCollection",x=[];return this.eachLayer(function(_){if(_.toGeoJSON){var E=_.toGeoJSON(s);if(h)x.push(E.geometry);else{var B=el(E);B.type==="FeatureCollection"?x.push.apply(x,B.features):x.push(B)}}}),h?mi(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function tl(s,u){return new ei(s,u)}var cr=tl,gs=_a.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,h){this._url=s,this._bounds=H(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(st(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Nn(this._image),this},bringToBack:function(){return this._map&&Oi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=H(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:ft("img");if(st(u,"leaflet-image-layer"),this._zoomAnimated&&st(u,"leaflet-zoom-animated"),this.options.className&&st(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;$a(this._image,h,u)},_reset:function(){var s=this._image,u=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();Ht(s,u.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Cu=function(s,u,h){return new gs(s,u,h)},fi=gs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:ft("video");if(st(u,"leaflet-image-layer"),this._zoomAnimated&&st(u,"leaflet-zoom-animated"),this.options.className&&st(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=p(this.fire,this,"load"),s){for(var h=u.getElementsByTagName("source"),x=[],_=0;_<h.length;_++)x.push(h[_].src);this._url=h.length>0?x:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var B=ft("source");B.src=this._url[E],u.appendChild(B)}}});function xs(s,u,h){return new fi(s,u,h)}var nl=gs.extend({_initImage:function(){var s=this._image=this._url;st(s,"leaflet-image-layer"),this._zoomAnimated&&st(s,"leaflet-zoom-animated"),this.options.className&&st(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function Au(s,u,h){return new nl(s,u,h)}var Tn=_a.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof pe||P(s))?(this._latlng=je(s),A(this,u)):(A(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(p(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=je(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Nn(this._container),this},bringToBack:function(){return this._map&&Oi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Oa){u=null;var h=this._source._layers;for(var x in h)if(h[x]._map){u=h[x];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=ee(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ht(this._container,s.add(h)):u=u.add(s).add(h);var x=this._containerBottom=-u.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});vt.include({_initOverlay:function(s,u,h,x){var _=u;return _ instanceof s||(_=new s(x).setContent(u)),h&&_.setLatLng(h),_}}),_a.include({_initOverlay:function(s,u,h,x){var _=h;return _ instanceof s?(A(_,x),_._source=this):(_=u&&!x?u:new s(x,this),_.setContent(h)),_}});var dr=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ra||this._source.on("preclick",ba))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ra||this._source.off("preclick",ba))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=ft("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ft("div",s+"-content-wrapper",u);if(this._contentNode=ft("div",s+"-content",h),Ri(u),za(this._contentNode),Xe(u,"contextmenu",ba),this._tipContainer=ft("div",s+"-tip-container",u),this._tip=ft("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ft("a",s+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Xe(x,"click",function(_){ln(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var x=s.offsetHeight,_=this.options.maxHeight,E="leaflet-popup-scrolled";_&&x>_?(u.height=_+"px",st(s,E)):Jt(s,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Ht(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Ys(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,x=this._containerWidth,_=new ce(this._containerLeft,-h-this._containerBottom);_._add(ui(this._container));var E=s.layerPointToContainerPoint(_),B=ee(this.options.autoPanPadding),le=ee(this.options.autoPanPaddingTopLeft||B),he=ee(this.options.autoPanPaddingBottomRight||B),Ee=s.getSize(),Oe=0,Ke=0;E.x+x+he.x>Ee.x&&(Oe=E.x+x-Ee.x+he.x),E.x-Oe-le.x<0&&(Oe=E.x-le.x),E.y+h+he.y>Ee.y&&(Ke=E.y+h-Ee.y+he.y),E.y-Ke-le.y<0&&(Ke=E.y-le.y),(Oe||Ke)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Oe,Ke]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zu=function(s,u){return new dr(s,u)};vt.mergeOptions({closePopupOnClick:!0}),vt.include({openPopup:function(s,u,h){return this._initOverlay(dr,s,u,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),_a.include({bindPopup:function(s,u){return this._popup=this._initOverlay(dr,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Oa||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ci(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Ra)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var mr=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,h,x=this._map,_=this._container,E=x.latLngToContainerPoint(x.getCenter()),B=x.layerPointToContainerPoint(s),le=this.options.direction,he=_.offsetWidth,Ee=_.offsetHeight,Oe=ee(this.options.offset),Ke=this._getAnchor();le==="top"?(u=he/2,h=Ee):le==="bottom"?(u=he/2,h=0):le==="center"?(u=he/2,h=Ee/2):le==="right"?(u=0,h=Ee/2):le==="left"?(u=he,h=Ee/2):B.x<E.x?(le="right",u=0,h=Ee/2):(le="left",u=he+(Oe.x+Ke.x)*2,h=Ee/2),s=s.subtract(ee(u,h,!0)).add(Oe).add(Ke),Jt(_,"leaflet-tooltip-right"),Jt(_,"leaflet-tooltip-left"),Jt(_,"leaflet-tooltip-top"),Jt(_,"leaflet-tooltip-bottom"),st(_,"leaflet-tooltip-"+le),Ht(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Yt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ld=function(s,u){return new mr(s,u)};vt.include({openTooltip:function(s,u,h){return this._initOverlay(mr,s,u,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),_a.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mr,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Oa||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Xe(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Xe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,h,x;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Mu=Da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ta(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=ee(h.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Pd(s){return new Mu(s)}Da.Default=sr;var ys=_a.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Bt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Nn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ce?s:new ce(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,h=-s(-1/0,1/0),x=0,_=u.length,E;x<_;x++)E=u[x].style.zIndex,u[x]!==this._container&&E&&(h=s(h,+E));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){Yt(this._container,this.options.opacity);var s=+new Date,u=!1,h=!1;for(var x in this._tiles){var _=this._tiles[x];if(!(!_.current||!_.loaded)){var E=Math.min(1,(s-_.loaded)/200);Yt(_.el,E),E<1?u=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(oe(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=u-Math.abs(s-h),this._onUpdateLevel(h)):(Bt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[s],_=this._map;return x||(x=this._levels[s]={},x.el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,_.getCenter(),_.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Bt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,h,x){var _=Math.floor(s/2),E=Math.floor(u/2),B=h-1,le=new ce(+_,+E);le.z=+B;var he=this._tileCoordsToKey(le),Ee=this._tiles[he];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),B>x?this._retainParent(_,E,B,x):!1)},_retainChildren:function(s,u,h,x){for(var _=2*s;_<2*s+2;_++)for(var E=2*u;E<2*u+2;E++){var B=new ce(_,E);B.z=h+1;var le=this._tileCoordsToKey(B),he=this._tiles[le];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);h+1<x&&this._retainChildren(_,E,h+1,x)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,h,x){var _=Math.round(u);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var E=this.options.updateWhenZooming&&_!==this._tileZoom;(!x||E)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,u)},_setZoomTransform:function(s,u,h){var x=this._map.getZoomScale(h,s.zoom),_=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,h)).round();Pe.any3d?$a(s.el,_,x):Ht(s.el,_)},_resetGrid:function(){var s=this._map,u=s.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],x).x/h.x),Math.ceil(s.project([0,u.wrapLng[1]],x).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],x).y/h.x),Math.ceil(s.project([u.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(h,this._tileZoom),_=u.project(s,this._tileZoom).floor(),E=u.getSize().divideBy(x*2);return new O(_.subtract(E),_.add(E))},_update:function(s){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(x),E=_.getCenter(),B=[],le=this.options.keepBuffer,he=new O(_.getBottomLeft().subtract([le,-le]),_.getTopRight().add([le,-le]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Oe=this._tiles[Ee].coords;(Oe.z!==this._tileZoom||!he.contains(new ce(Oe.x,Oe.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var Ke=_.min.y;Ke<=_.max.y;Ke++)for(var ot=_.min.x;ot<=_.max.x;ot++){var jn=new ce(ot,Ke);if(jn.z=this._tileZoom,!!this._isValidTile(jn)){var on=this._tiles[this._tileCoordsToKey(jn)];on?on.current=!0:B.push(jn)}}if(B.sort(function(Tt,Ct){return Tt.distanceTo(E)-Ct.distanceTo(E)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(ot=0;ot<B.length;ot++)this._addTile(B[ot],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!u.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return H(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,h=this.getTileSize(),x=s.scaleBy(h),_=x.add(h),E=u.unproject(x,s.z),B=u.unproject(_,s.z);return[E,B]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),h=new R(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),h=new ce(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(s){var u=this._tiles[s];u&&(Bt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){st(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,Pe.ielt9&&this.options.opacity<1&&Yt(s,this.options.opacity)},_addTile:function(s,u){var h=this._getTilePos(s),x=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&te(p(this._tileReady,this,s,null,_)),Ht(_,h),this._tiles[x]={el:_,coords:s,current:!0},u.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:s});var x=this._tileCoordsToKey(s);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Yt(h.el,0),oe(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(st(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ce(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new O(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ou(s){return new ys(s)}var pi=ys.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=A(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var h=document.createElement("img");return Xe(h,"load",p(this._tileOnLoad,this,u,h)),Xe(h,"error",p(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=h),u["-y"]=h}return D(this._url,d(u,this.options))},_tileOnLoad:function(s,u){Pe.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,h){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),s(h,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(s=u-s),s+x},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=J;var h=this._tiles[s].coords;Bt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",J),ys.prototype._removeTile.call(this,s)},_tileReady:function(s,u,h){if(!(!this._map||h&&h.getAttribute("src")===J))return ys.prototype._tileReady.call(this,s,u,h)}});function ia(s,u){return new pi(s,u)}var hr=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var h=d({},this.defaultWmsParams);for(var x in u)x in this.options||(h[x]=u[x]);u=A(this,u);var _=u.detectRetina&&Pe.retina?2:1,E=this.getTileSize();h.width=E.x*_,h.height=E.y*_,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,pi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),h=this._crs,x=ne(h.project(u[0]),h.project(u[1])),_=x.min,E=x.max,B=(this._wmsVersion>=1.3&&this._crs===io?[_.y,_.x,E.y,E.x]:[_.x,_.y,E.x,E.y]).join(","),le=pi.prototype.getTileUrl.call(this,s);return le+M(this.wmsParams,le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(s,u){return d(this.wmsParams,s),u||this.redraw(),this}});function sa(s,u){return new hr(s,u)}pi.WMS=hr,ia.wms=sa;var qn=_a.extend({options:{padding:.1},initialize:function(s){A(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),st(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var h=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,u),E=x.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(s,u));Pe.any3d?$a(this._container,E,h):Ht(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new O(h,h.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),al=qn.extend({options:{tolerance:0},getEvents:function(){var s=qn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Xe(s,"mousemove",this._onMouseMove,this),Xe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){oe(this._redrawRequest),delete this._ctx,Bt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var s=this._bounds,u=this._container,h=s.getSize(),x=Pe.retina?2:1;Ht(u,s.min),u.width=x*h.x,u.height=x*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,h=u.next,x=u.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),h=[],x,_;for(_=0;_<u.length;_++){if(x=Number(u[_]),isNaN(x))return;h.push(x)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var h,x,_,E,B=s._parts,le=B.length,he=this._ctx;if(le){for(he.beginPath(),h=0;h<le;h++){for(x=0,_=B[h].length;x<_;x++)E=B[h][x],he[x?"lineTo":"moveTo"](E.x,E.y);u&&he.closePath()}this._fillStroke(he,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,h=this._ctx,x=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||x)/x;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(u.x,u.y/_,x,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,u){var h=u.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),h,x,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var h,x,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(st(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,h){this._map._fireDOMEvent(u,h||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var h=u.next,x=u.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var h=u.next,x=u.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function fr(s){return Pe.canvas?new al(s):null}var gi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),so={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=gi("shape");st(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=gi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Bt(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,h=s._fill,x=s.options,_=s._container;_.stroked=!!x.stroke,_.filled=!!x.fill,x.stroke?(u||(u=s._stroke=gi("stroke")),_.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=P(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(_.removeChild(u),s._stroke=null),x.fill?(h||(h=s._fill=gi("fill")),_.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(_.removeChild(h),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),h=Math.round(s._radius),x=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Nn(s._container)},_bringToBack:function(s){Oi(s._container)}},La=Pe.vml?gi:yt,vs=qn.extend({_initContainer:function(){this._container=La("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=La("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),Ht(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=La("path");s.options.className&&st(u,s.options.className),s.options.interactive&&st(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Bt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,h=s.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Qt(s._parts,u))},_updateCircle:function(s){var u=s._point,h=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||h,_="a"+h+","+x+" 0 1,0 ",E=s._empty()?"M0 0":"M"+(u.x-h)+","+u.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(s,E)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Nn(s._path)},_bringToBack:function(s){Oi(s._path)}});Pe.vml&&vs.include(so);function pr(s){return Pe.svg||Pe.vml?new vs(s):null}vt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&fr(s)||pr(s)}});var Pi=fs.extend({initialize:function(s,u){fs.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=H(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Id(s,u){return new Pi(s,u)}vs.create=La,vs.pointsToPath=Qt,ei.geometryToLayer=kn,ei.coordsToLatLng=Xr,ei.coordsToLatLngs=or,ei.latLngToCoords=Wr,ei.latLngsToCoords=ur,ei.getFeature=mi,ei.asFeature=el,vt.mergeOptions({boxZoom:!0});var Fn=Ma.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ss(),Fr(),this._startPoint=this._map.mouseEventToContainerPoint(s),Xe(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),st(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new O(this._point,this._startPoint),h=u.getSize();Ht(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Jt(this._container,"leaflet-crosshair")),Aa(),Js(),Dt(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vt.addInitHook("addHandler","boxZoom",Fn),vt.mergeOptions({doubleClickZoom:!0});var il=Ma.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,h=u.getZoom(),x=u.options.zoomDelta,_=s.originalEvent.shiftKey?h-x:h+x;u.options.doubleClickZoom==="center"?u.setZoom(_):u.setZoomAround(s.containerPoint,_)}});vt.addInitHook("addHandler","doubleClickZoom",il),vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pa=Ma.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new di(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}st(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=H(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,_=(x-u+h)%s+u-h,E=(x+u+h)%s-u-h,B=Math.abs(_+h)<Math.abs(E+h)?_:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(s){var u=this._map,h=u.options,x=!h.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),x)u.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,B=h.easeLinearity,le=_.multiplyBy(B/E),he=le.distanceTo([0,0]),Ee=Math.min(h.inertiaMaxSpeed,he),Oe=le.multiplyBy(Ee/he),Ke=Ee/(h.inertiaDeceleration*B),ot=Oe.multiplyBy(-Ke/2).round();!ot.x&&!ot.y?u.fire("moveend"):(ot=u._limitOffset(ot,u.options.maxBounds),te(function(){u.panBy(ot,{duration:Ke,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});vt.addInitHook("addHandler","dragging",Pa),vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ro=Ma.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Xe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,h=s.scrollTop||u.scrollTop,x=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},h=this.keyCodes,x,_;for(x=0,_=h.left.length;x<_;x++)u[h.left[x]]=[-1*s,0];for(x=0,_=h.right.length;x<_;x++)u[h.right[x]]=[s,0];for(x=0,_=h.down.length;x<_;x++)u[h.down[x]]=[0,s];for(x=0,_=h.up.length;x<_;x++)u[h.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},h=this.keyCodes,x,_;for(x=0,_=h.zoomIn.length;x<_;x++)u[h.zoomIn[x]]=s;for(x=0,_=h.zoomOut.length;x<_;x++)u[h.zoomOut[x]]=-s},_addHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,h=this._map,x;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[u],s.shiftKey&&(x=ee(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(ee(x),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(_)}else h.panBy(x)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ci(s)}}});vt.addInitHook("addHandler","keyboard",ro),vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gr=Ma.extend({addHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Mn(s),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),x),ci(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,E=h?Math.ceil(_/h)*h:_,B=s._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,B&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+B):s.setZoomAround(this._lastMousePos,u+B))}});vt.addInitHook("addHandler","scrollWheelZoom",gr);var Ii=600;vt.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var sl=Ma.extend({addHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ce(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Xe(document,"touchend",ln),Xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ii),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Dt(document,"touchend",ln),Dt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ce(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});vt.addInitHook("addHandler","tapHold",sl),vt.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var lo=Ma.extend({addHooks:function(){st(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),ln(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]),_=h.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(_,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&_<1||this._zoom>u.getMaxZoom()&&_>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var E=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(_===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),oe(this._animRequest);var B=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(B,this,!0),ln(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,oe(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vt.addInitHook("addHandler","touchZoom",lo),vt.BoxZoom=Fn,vt.DoubleClickZoom=il,vt.Drag=Pa,vt.Keyboard=ro,vt.ScrollWheelZoom=gr,vt.TapHold=sl,vt.TouchZoom=lo,l.Bounds=O,l.Browser=Pe,l.CRS=Me,l.Canvas=al,l.Circle=Jr,l.CircleMarker=hs,l.Class=q,l.Control=Qn,l.DivIcon=Mu,l.DivOverlay=Tn,l.DomEvent=Qr,l.DomUtil=os,l.Draggable=di,l.Evented=W,l.FeatureGroup=Oa,l.GeoJSON=ei,l.GridLayer=ys,l.Handler=Ma,l.Icon=Da,l.ImageOverlay=gs,l.LatLng=pe,l.LatLngBounds=R,l.Layer=_a,l.LayerGroup=ms,l.LineUtil=Md,l.Map=vt,l.Marker=lr,l.Mixin=Td,l.Path=Ra,l.Point=ce,l.PolyUtil=no,l.Polygon=fs,l.Polyline=Wa,l.Popup=dr,l.PosAnimation=us,l.Projection=ju,l.Rectangle=Pi,l.Renderer=qn,l.SVG=vs,l.SVGOverlay=nl,l.TileLayer=pi,l.Tooltip=mr,l.Transformation=Ne,l.Util=be,l.VideoOverlay=fi,l.bind=p,l.bounds=ne,l.canvas=fr,l.circle=Tu,l.circleMarker=ku,l.control=Xa,l.divIcon=Pd,l.extend=d,l.featureGroup=wu,l.geoJSON=tl,l.geoJson=cr,l.gridLayer=Ou,l.icon=ir,l.imageOverlay=Cu,l.latLng=je,l.latLngBounds=H,l.layerGroup=Od,l.map=$l,l.marker=Eu,l.point=ee,l.polygon=Rd,l.polyline=Dd,l.popup=zu,l.rectangle=Id,l.setOptions=A,l.stamp=v,l.svg=pr,l.svgOverlay=Au,l.tileLayer=ia,l.tooltip=Ld,l.transformation=nt,l.version=o,l.videoOverlay=xs;var oo=window.L;l.noConflict=function(){return window.L=oo,this},window.L=l}))})(Jo,Jo.exports)),Jo.exports}var uz=oz();const Wi=cd(uz);function cz(t){return t==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:t==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function dz({markers:t}){const a=N.useRef(null),l=N.useRef(null),o=N.useRef(null);return N.useEffect(()=>{if(!a.current||l.current)return;const d=t[0]?.lat??41.015137,m=t[0]?.lon??28.97953,p=Wi.map(a.current,{center:[d,m],zoom:14,zoomControl:!0});return l.current=p,Wi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(p),o.current=Wi.layerGroup().addTo(p),()=>{l.current&&(l.current.remove(),l.current=null),o.current=null}},[t]),N.useEffect(()=>{if(!l.current||!o.current)return;const d=l.current,m=o.current;if(m.clearLayers(),!t.length)return;const p=[],y=new Map;for(const b of t){const S=`${b.lat.toFixed(6)}:${b.lon.toFixed(6)}`;y.set(S,(y.get(S)??0)+1)}const v=new Map;for(const b of t){const S=`${b.lat.toFixed(6)}:${b.lon.toFixed(6)}`,w=y.get(S)??1,C=v.get(S)??0;v.set(S,C+1);let z=b.lat,k=b.lon;if(w>1){const M=2*Math.PI*C/w,U=12e-5;z=b.lat+Math.sin(M)*U,k=b.lon+Math.cos(M)*U}const A=cz(b.kind);Wi.circleMarker([z,k],A).bindPopup(`${b.label}<br/>${b.lat.toFixed(6)}, ${b.lon.toFixed(6)}`).addTo(m),p.push([z,k])}if(p.length===1){d.setView(p[0],16,{animate:!0});return}d.fitBounds(Wi.latLngBounds(p),{padding:[24,24],maxZoom:17,animate:!0})},[t]),i.jsx("div",{ref:a,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const mz=Ga({home_lat:_n().min(-90),home_lon:_n().min(-180),radius_m:_n().int().positive().max(2e3)}),hz=Ga({expires_in_minutes:_n().int().positive().max(1440)});function Xi(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function fz(t){return t==="OK"?"Tamam":t==="INCOMPLETE"?"Eksik":t==="LEAVE"?"Izinli":"Tatilde"}function Sv(t,a){return t===null||a===null?"-":`${t.toFixed(6)}, ${a.toFixed(6)}`}function pz(){const t=nS(),a=Bl(),l=Pn(),{pushToast:o}=In(),d=new Date,m=Number(t.id),p=Number.isFinite(m)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(m),[y,v]=N.useState("41.0"),[b,S]=N.useState("29.0"),[w,C]=N.useState("120"),[z,k]=N.useState(null),[A,M]=N.useState(""),[U,D]=N.useState(""),[P,G]=N.useState(""),[J,V]=N.useState(String(d.getFullYear())),[K,Q]=N.useState(String(d.getMonth()+1)),[re,ye]=N.useState(null),[te,oe]=N.useState({checkin:!0,checkout:!0,latest:!0}),[be,q]=N.useState(!1),[Y,Z]=N.useState("60"),[W,ce]=N.useState(null),[Te,ee]=N.useState(null),[O,ne]=N.useState(null),R=Le({queryKey:["employee-detail",m],queryFn:()=>H2(m),enabled:Number.isFinite(m)}),H=R.data?.employee,pe=Le({queryKey:["departments","employee-detail-edit"],queryFn:()=>Fs(),enabled:Number.isFinite(m)}),je=Le({queryKey:["department-shifts",H?.department_id],queryFn:()=>du(H?.department_id?{department_id:H.department_id,active_only:!1}:void 0),enabled:!!H?.department_id}),Me=Number(J),qe=Number(K),Ye=Number.isFinite(Me)&&Number.isFinite(qe)&&qe>=1&&qe<=12,Fe=Le({queryKey:["employee-monthly",m,Me,qe],queryFn:()=>tu({employee_id:m,year:Me,month:qe}),enabled:Number.isFinite(m)&&Ye}),Ne=Le({queryKey:["employee-monthly-current",m,d.getFullYear(),d.getMonth()+1],queryFn:()=>tu({employee_id:m,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(m)}),nt=$e({mutationFn:$=>V2(m,$),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${m} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:$=>{const Qe=Be($,"Konum kaydedilemedi.").message;k(Qe),o({variant:"error",title:"Konum kaydedilemedi",description:Qe})}}),St=$e({mutationFn:$=>db(m,{is_active:$}),onSuccess:$=>{o({variant:"success",title:$.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${$.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:$=>{o({variant:"error",title:"Durum guncellenemedi",description:Be($,"Islem basarisiz.").message})}}),Nt=$e({mutationFn:$=>K2(m,$),onSuccess:$=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${$.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",$.department_id]})},onError:$=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Be($,"Islem basarisiz.").message})}}),yt=$e({mutationFn:$=>Q2(m,{shift_id:$}),onSuccess:$=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${$.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:$=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Be($,"Islem basarisiz.").message})}}),Qt=$e({mutationFn:_b,onSuccess:$=>{ce(null),ee($.token),ne($.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${m} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:$=>{const Qe=Be($,"Cihaz daveti olusturulamadi.").message;ce(Qe),o({variant:"error",title:"Davet olusturulamadi",description:Qe})}});N.useEffect(()=>{R.data?.home_location&&(v(String(R.data.home_location.home_lat)),S(String(R.data.home_location.home_lon)),C(String(R.data.home_location.radius_m)))},[R.data?.home_location]),N.useEffect(()=>{H&&M(H.shift_id?String(H.shift_id):"")},[H]),N.useEffect(()=>{H&&(D(H.full_name),G(H.department_id?String(H.department_id):""))},[H]),N.useEffect(()=>{Number.isFinite(m)&&(p||a("/employees",{replace:!0}))},[m,p,a]);const It=async $=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText($);else{const Qe=document.createElement("textarea");Qe.value=$,document.body.appendChild(Qe),Qe.select(),document.execCommand("copy"),document.body.removeChild(Qe)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},mt=()=>{ce(null),ee(null),ne(null),Z("60"),q(!0)},pn=$=>{$.preventDefault(),ce(null);const Qe=hz.safeParse({expires_in_minutes:Y});if(!Qe.success){const at=Qe.error.issues[0]?.message??"Sure alanini kontrol edin.";ce(at),o({variant:"error",title:"Form hatasi",description:at});return}Qt.mutate({employee_id:m,expires_in_minutes:Qe.data.expires_in_minutes})},ae=$=>{$.preventDefault(),k(null);const Qe=mz.safeParse({home_lat:y,home_lon:b,radius_m:w});if(!Qe.success){const at=Qe.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(at),o({variant:"error",title:"Form hatasi",description:at});return}nt.mutate(Qe.data)},Ce=$=>{$.preventDefault();const Qe=U.trim();if(!Qe){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const at=P?Number(P):null;if(P&&(at===null||!Number.isFinite(at)||at<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}Nt.mutate({full_name:Qe,department_id:at})},He=Fe.data?.days??[],ct=N.useMemo(()=>Jf(He),[He]),wt=R.data?.ip_summary??[];N.useEffect(()=>{if(!re)return;He.some(Qe=>Qe.date===re)||ye(null)},[He,re]);const dt=N.useMemo(()=>He.find($=>$.date===re)??null,[He,re]),ve=N.useMemo(()=>{const $=[];return dt&&(dt.in_lat!==null&&dt.in_lon!==null&&$.push({id:`${dt.date}-in`,lat:dt.in_lat,lon:dt.in_lon,label:`${dt.date} - Mesai Baslangici`,kind:"checkin"}),dt.out_lat!==null&&dt.out_lon!==null&&$.push({id:`${dt.date}-out`,lat:dt.out_lat,lon:dt.out_lon,label:`${dt.date} - Mesai Bitisi`,kind:"checkout"})),R.data?.latest_location&&$.push({id:"latest",lat:R.data.latest_location.lat,lon:R.data.latest_location.lon,label:"Son bildirilen konum",kind:"latest"}),$},[R.data?.latest_location,dt]),Ue=N.useMemo(()=>ve.filter($=>te[$.kind]),[ve,te]);N.useEffect(()=>{ve.length&&(Ue.length||oe({checkin:!0,checkout:!0,latest:!0}))},[Ue.length,ve.length]);const it=$=>{if(!ve.some(Vt=>Vt.kind===$)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const at=Object.values(te).filter(Boolean).length;if(te[$]&&at===1){oe({checkin:!0,checkout:!0,latest:!0});return}oe({checkin:$==="checkin",checkout:$==="checkout",latest:$==="latest"})},We=()=>{oe({checkin:!0,checkout:!0,latest:!0})},tn=($,Qe)=>{const at=$.in_lat!==null&&$.in_lon!==null,Vt=$.out_lat!==null&&$.out_lon!==null;if(!(Qe==="in"?at:Vt)){o({variant:"info",title:"Konum bulunamadi",description:`${$.date} icin secilen konum kaydi yok.`});return}ye($.date),oe({checkin:!0,checkout:!0,latest:!0})},ie=N.useMemo(()=>`${R.data?.devices.length??0} cihaz`,[R.data?.devices.length]);return Number.isFinite(m)?p?R.isLoading?i.jsx(Ot,{}):R.isError||!H?i.jsx(jt,{message:"Calisan kaydi bulunamadi."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:`Calisan Detayi #${H.id}`,description:`${H.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{const $=!H.is_active;window.confirm($?`${H.full_name} arsivden cikarilsin mi?`:`${H.full_name} arsivlensin mi?`)&&St.mutate($)},disabled:St.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${H.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:H.is_active?"Arsivle":"Arsivden Cikar"}),i.jsx("button",{type:"button",onClick:mt,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),i.jsx("p",{className:"text-base font-semibold text-slate-900",children:H.full_name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",H.id]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),i.jsx(qs,{value:H.is_active?"Aktif":"Pasif"}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",H.region_name??"-"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",H.department_id??"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),i.jsx("p",{className:"text-sm font-medium text-slate-800",children:Xi(R.data?.last_portal_seen_utc)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",ie]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay yasal fazla mesai"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:Ne.data?.totals.legal_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Plan ustu: ",i.jsx(De,{minutes:Ne.data?.totals.plan_overtime_minutes??0})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),i.jsxs("form",{onSubmit:Ce,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:U,onChange:$=>D($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:P,onChange:$=>G($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:pe.isLoading,children:[i.jsx("option",{value:"",children:"Atanmamis"}),(pe.data??[]).map($=>i.jsx("option",{value:$.id,children:$.name},$.id))]})]}),i.jsx("button",{type:"submit",disabled:Nt.isPending||pe.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Nt.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),pe.isError?i.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",i.jsxs("select",{value:A,onChange:$=>M($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!H.department_id||je.isLoading,children:[i.jsx("option",{value:"",children:"Atanmamis"}),(je.data??[]).map($=>i.jsxs("option",{value:$.id,children:[$.name," (",$.start_time_local,"-",$.end_time_local,")"]},$.id))]})]}),i.jsx("button",{type:"button",disabled:yt.isPending||!H.department_id,onClick:()=>{const $=A?Number(A):null;yt.mutate($)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:yt.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",i.jsx("input",{type:"number",value:J,onChange:$=>V($.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",i.jsx("input",{type:"number",min:1,max:12,value:K,onChange:$=>Q($.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),Ye?Fe.isLoading?i.jsx(Ot,{}):Fe.isError?i.jsx(jt,{message:Be(Fe.error,"Aylik puantaj alinamadi.").message}):i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-3 xl:grid-cols-7",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:Fe.data?.totals.worked_minutes??0})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay plan ustu sure"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:Fe.data?.totals.plan_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[ct.planOvertimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla sure"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:Fe.data?.totals.legal_extra_work_minutes??0})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla mesai"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:Fe.data?.totals.legal_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[ct.overtimeDayCount," gun fazla mesai"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Fe.data?.totals.incomplete_days??0})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ct.workedDayCount}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",ct.weekdayWorkedDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Pazar mesaisi"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[ct.sundayWorkedDayCount," gun"]}),i.jsx("p",{className:"text-xs text-slate-500",children:i.jsx(De,{minutes:ct.sundayWorkedMinutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Ozel gun mesaisi"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[ct.specialWorkedDayCount," gun"]}),i.jsx("p",{className:"text-xs text-slate-500",children:i.jsx(De,{minutes:ct.specialWorkedMinutes})})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Gun Tipi"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Net Sure"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),i.jsx("tbody",{children:He.map($=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:$.date}),i.jsx("td",{className:"py-2",children:fz($.status)}),i.jsx("td",{className:"py-2",children:vd($).label}),i.jsx("td",{className:"py-2",children:Xi($.in)}),i.jsx("td",{className:"py-2",children:Xi($.out)}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs",children:Sv($.in_lat,$.in_lon)}),$.in_lat!==null&&$.in_lon!==null?i.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>tn($,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs",children:Sv($.out_lat,$.out_lon)}),$.out_lat!==null&&$.out_lon!==null?i.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>tn($,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.legal_overtime_minutes})}),i.jsx("td",{className:"py-2 text-xs text-slate-600",children:$.flags.length?$.flags.join(", "):"-"})]},$.date))})]})})]}):i.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),i.jsx("div",{className:"mt-3 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Cihaz ID"}),i.jsx("th",{className:"py-2",children:"Parmak Izi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Olusma"}),i.jsx("th",{className:"py-2",children:"Son Attendance"}),i.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),i.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),i.jsx("tbody",{children:(R.data?.devices??[]).map($=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:$.id}),i.jsx("td",{className:"py-2 font-mono text-xs",children:$.device_fingerprint}),i.jsx("td",{className:"py-2",children:i.jsx(qs,{value:$.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:Xi($.created_at)}),i.jsx("td",{className:"py-2",children:Xi($.last_attendance_ts_utc)}),i.jsx("td",{className:"py-2",children:$.last_seen_ip??"-"}),i.jsx("td",{className:"py-2",children:Xi($.last_seen_at_utc)})]},$.id))})]})})]}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),i.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Islem"}),i.jsx("th",{className:"py-2",children:"IP"}),i.jsx("th",{className:"py-2",children:"User Agent"})]})}),i.jsx("tbody",{children:(R.data?.recent_activity??[]).map(($,Qe)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Xi($.ts_utc)}),i.jsx("td",{className:"py-2",children:$.action}),i.jsx("td",{className:"py-2",children:$.ip??"-"}),i.jsx("td",{className:"py-2 max-w-[280px] truncate",title:$.user_agent??"-",children:$.user_agent??"-"})]},`${$.ts_utc}-${Qe}`))})]})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),i.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:wt.length?i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"IP"}),i.jsx("th",{className:"py-2",children:"Son gorulme"}),i.jsx("th",{className:"py-2",children:"Aksiyon"}),i.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),i.jsx("tbody",{children:wt.map($=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2 font-mono text-xs",children:$.ip}),i.jsx("td",{className:"py-2",children:Xi($.last_seen_at_utc)}),i.jsx("td",{className:"py-2",children:$.last_action}),i.jsx("td",{className:"py-2",children:$.last_lat!==null&&$.last_lon!==null?`${$.last_lat.toFixed(6)}, ${$.last_lon.toFixed(6)}`:"-"}),i.jsx("td",{className:"py-2",children:$.last_location_ts_utc?Xi($.last_location_ts_utc):"-"})]},$.ip))})]}):i.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),re?i.jsx("button",{type:"button",onClick:()=>{ye(null),oe({checkin:!0,checkout:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),dt?i.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",i.jsx("span",{className:"font-semibold",children:dt.date})," gununun giris/cikis konumlari"]}):R.data?.latest_location?i.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):i.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),Ue.length?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsx(dz,{markers:Ue}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[i.jsxs("button",{type:"button",onClick:()=>it("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${te.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),i.jsxs("button",{type:"button",onClick:()=>it("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${te.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),i.jsxs("button",{type:"button",onClick:()=>it("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${te.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),i.jsx("button",{type:"button",onClick:We,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):i.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),R.data?.home_location?null:i.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),i.jsxs("form",{onSubmit:ae,className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",i.jsx("input",{value:y,onChange:$=>v($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",i.jsx("input",{value:b,onChange:$=>S($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",i.jsx("input",{value:w,onChange:$=>C($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:nt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:nt.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):R.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?i.jsx("p",{className:"form-validation",children:z}):null]}),i.jsxs(Dl,{open:be,title:"Cihaz Baglama Linki Olustur",onClose:()=>q(!1),children:[i.jsxs("form",{onSubmit:pn,className:"space-y-4",children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",i.jsx("input",{value:Y,onChange:$=>Z($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"submit",disabled:Qt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Qt.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),i.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),W?i.jsx("p",{className:"form-validation",children:W}):null,Te&&O?i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(Nv,{label:"Token",value:Te,onCopy:It}),i.jsx(Nv,{label:"Baglanti Linki (invite_url)",value:O,onCopy:It})]}):null]})]}):i.jsx(Ot,{}):i.jsx(jt,{message:"Gecersiz calisan id degeri."})}const gz={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},xz={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},qc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},a_="Europe/Istanbul";function Dh(t){const a=[];t.status==="INCOMPLETE"&&a.push("EKSIK_GUN");for(const l of t.flags)a.push(l);return a}function yz(t){return t.length===0?void 0:`Supheli nedenleri:
${t.map((l,o)=>{const d=Si(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function wv(t){if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:a_,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)}function Ev(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:a_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(a)}function kv(t){if(!t)return{status:"NORMAL",reason:""};const a=(t.note??"").trim(),l=a.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:a.replace(l[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:a}:{status:"NORMAL",reason:a}}function vz(t,a){const l=a.trim();if(t==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${t}]`;return l?`${o} ${l}`:o}function bz(){const t=Pn(),{pushToast:a}=In(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,m]=N.useState(o),[p,y]=N.useState(o),[v,b]=N.useState(!1),[S,w]=N.useState(null),[C,z]=N.useState(!1),[k,A]=N.useState(!1),[M,U]=N.useState(""),[D,P]=N.useState(""),[G,J]=N.useState(""),[V,K]=N.useState(""),[Q,re]=N.useState("NORMAL"),[ye,te]=N.useState("AUTO"),[oe,be]=N.useState(""),[q,Y]=N.useState(null),[Z,W]=N.useState(null),ce=Le({queryKey:["employees","all"],queryFn:()=>li({status:"all"})}),Te=Number(p.employeeId),ee=Number(p.year),O=Number(p.month),ne=Number.isFinite(Te)&&Te>0&&Number.isFinite(ee)&&ee>0&&Number.isFinite(O)&&O>=1&&O<=12,R=Le({queryKey:["employee-monthly",Te,ee,O],queryFn:()=>tu({employee_id:Te,year:ee,month:O}),enabled:ne}),H=Le({queryKey:["manual-overrides",Te,ee,O],queryFn:()=>AE(Te,ee,O),enabled:ne}),pe=$e({mutationFn:({employeeId:ve,dayDate:Ue,inTime:it,outTime:We,status:tn,ruleSource:ie,ruleShiftId:$,reason:Qe})=>{const at=tn!=="NORMAL";return CE(ve,{day_date:Ue,in_time:at?null:it||null,out_time:at?null:We||null,is_absent:at,rule_source_override:ie,rule_shift_id_override:ie==="SHIFT"&&$?Number($):null,note:vz(tn,Qe)})},onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),W(null),be(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:ve=>{a({variant:"error",title:"Duzeltme kaydedilemedi",description:Be(ve,"Islem basarisiz.").message})}}),je=$e({mutationFn:zE,onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),W(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:ve=>{a({variant:"error",title:"Silme islemi basarisiz",description:Be(ve,"Islem basarisiz.").message})}}),Me=N.useMemo(()=>ce.data?.find(ve=>ve.id===Te),[ce.data,Te]),qe=Me?.full_name,Ye=Le({queryKey:["monthly-manual-shifts",Me?.department_id],queryFn:()=>du(Me?.department_id?{department_id:Me.department_id,active_only:!1}:void 0),enabled:!!Me?.department_id}),Fe=N.useMemo(()=>{const ve=new Map;for(const Ue of H.data??[])ve.set(Ue.day_date,Ue);return ve},[H.data]),Ne=R.data?.days??[],nt=N.useMemo(()=>Ne.reduce((ve,Ue)=>ve+(Ue.missing_minutes??0),0),[Ne]),St=N.useMemo(()=>Ne.filter(ve=>!(v&&Dh(ve).length===0||S&&!ve.flags.includes(S))),[Ne,S,v]),Nt=N.useMemo(()=>Ne.filter(ve=>Dh(ve).length>0).length,[Ne]),yt=N.useMemo(()=>Ne.filter(ve=>ve.legal_overtime_minutes>0).length,[Ne]),Qt=N.useMemo(()=>{const ve=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],Ue=new Map;for(const it of ve)Ue.set(it,0);for(const it of Ne)for(const We of ve)it.flags.includes(We)&&Ue.set(We,(Ue.get(We)??0)+1);return ve.map(it=>({code:it,count:Ue.get(it)??0}))},[Ne]),It=N.useMemo(()=>{const ve=[];return p.employeeId&&ve.push(`Calisan: ${p.employeeId}`),ve.push(`Yil: ${p.year}`),ve.push(`Ay: ${p.month}`),v&&ve.push("Sadece supheli gunler"),S&&ve.push(`Cakisma: ${Si(S).label}`),ve},[p,S,v]),mt=()=>y({...d}),pn=()=>{m(o),y(o),b(!1),w(null)},ae=async()=>{if(!ne){a({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const ve=await RE({employee_id:Te,year:ee,month:O}),Ue=window.URL.createObjectURL(ve),it=document.createElement("a");it.href=Ue,it.download=`puantaj-employee-${Te}-${ee}-${String(O).padStart(2,"0")}.xlsx`,document.body.appendChild(it),it.click(),it.remove(),window.URL.revokeObjectURL(Ue)}catch(ve){a({variant:"error",title:"Excel indirilemedi",description:Be(ve,"Dosya olusturulamadi.").message})}finally{z(!1)}},Ce=ve=>{const Ue=Fe.get(ve.date),it=kv(Ue);U(ve.date),Y(Ue?.id??null),re(it.status),K(it.reason),P(Ue?wv(Ue.in_ts):""),J(Ue?wv(Ue.out_ts):""),te(Ue?.rule_source_override??"AUTO"),be(Ue?.rule_shift_id_override?String(Ue.rule_shift_id_override):ve.shift_id?String(ve.shift_id):""),W(null),A(!0)},He=()=>{if(!ne||Ne.length===0){a({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}Ce(Ne[0])},ct=()=>{if(W(null),!M)return W("Duzeltme icin tarih secmelisiniz."),!1;if(Q==="NORMAL"){if(!D&&!G)return W("Normal gun icin en az bir saat bilgisi girin."),!1;if(D&&G&&G<D)return W("Cikis saati giris saatinden kucuk olamaz."),!1}return ye==="SHIFT"&&!oe?(W("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},wt=ve=>{ve.preventDefault(),ne&&ct()&&pe.mutate({employeeId:Te,dayDate:M,inTime:D,outTime:G,status:Q,ruleSource:ye,ruleShiftId:oe,reason:V})};if(ce.isLoading)return i.jsx(Ot,{});if(ce.isError)return i.jsx(jt,{message:"Calisan listesi alinamadi."});const dt=ce.data??[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:He,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),i.jsx("button",{type:"button",onClick:()=>{ae()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),i.jsx(si,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsx(Fa,{label:"Calisan",employees:dt,value:d.employeeId,onChange:ve=>m(Ue=>({...Ue,employeeId:ve})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",i.jsx("input",{type:"number",value:d.year,onChange:ve=>m(Ue=>({...Ue,year:ve.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:d.month,onChange:ve=>m(Ue=>({...Ue,month:ve.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsx("div",{className:"mt-3",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:ve=>b(ve.target.checked)}),"Sadece supheli gunleri goster"]})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:mt,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:pn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:It.map(ve=>i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:ve},ve))})]}),ne?null:i.jsx(jt,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),R.isLoading?i.jsx(Ot,{}):null,R.isError?i.jsx(jt,{message:Be(R.error,"Aylik rapor alinamadi.").message}):null,R.data?i.jsxs(i.Fragment,{children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),i.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",qe??R.data.employee_id," | Donem:"," ",R.data.year,"-",R.data.month]}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-7",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.totals.worked_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Plan Ustu Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.totals.plan_overtime_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.totals.legal_extra_work_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.totals.legal_overtime_minutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[yt," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),i.jsx("p",{className:"text-lg font-semibold",children:R.data.totals.incomplete_days})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),i.jsx("p",{className:"text-lg font-semibold",children:Nt})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:nt})})]})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.worked_minutes_net})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.annual_overtime_used_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:R.data.annual_overtime_remaining_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),i.jsx("p",{className:`text-sm font-semibold ${R.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:R.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),i.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),i.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:XE().map(ve=>i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",title:Si(ve).description,children:Si(ve).label})," ","(",ve,"): ",Si(ve).description]},ve))})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?i.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,i.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Qt.map(ve=>i.jsxs("button",{type:"button",onClick:()=>{w(Ue=>Ue===ve.code?null:ve.code),b(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===ve.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[i.jsx("p",{className:"text-xs text-slate-500",title:Si(ve.code).description,children:Si(ve.code).label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ve.count})]},ve.code))})]}),St.length===0?i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):i.jsx(Ae,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Calisma"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Eksik Sure"}),i.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Izin"}),i.jsx("th",{className:"py-2",children:"Supheli Neden"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:St.map(ve=>{const Ue=Dh(ve),it=Ue.length>0,We=yz(Ue),tn=Fe.get(ve.date),ie=kv(tn),$=ve.flags.includes("MANUAL_OVERRIDE")||ve.flags.includes("MANUAL_EVENT")||!!tn,Qe=ie.status!=="NORMAL";return i.jsxs("tr",{className:`border-t border-slate-100 ${it?"bg-amber-50/40":""}`,children:[i.jsx("td",{className:"py-2",children:ve.date}),i.jsxs("td",{className:"py-2",children:[i.jsx(qs,{value:ve.status}),$?i.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,Qe?i.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:gz[ie.status]}):null,i.jsx("span",{className:"ml-2",children:i.jsx(Sb,{suspicious:it,tooltip:We})})]}),i.jsx("td",{className:"py-2",title:ve.in??void 0,children:Ev(ve.in)}),i.jsx("td",{className:"py-2",title:ve.out??void 0,children:Ev(ve.out)}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ve.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ve.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ve.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ve.legal_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ve.missing_minutes??0})}),i.jsx("td",{className:"py-2",children:i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${ve.applied_planned_minutes} dk | Mola: ${ve.applied_break_minutes} dk`,children:xz[ve.rule_source]})}),i.jsx("td",{className:"py-2",children:ve.shift_name??"-"}),i.jsx("td",{className:"py-2",children:ve.leave_type??"-"}),i.jsx("td",{className:"py-2",children:i.jsx(wb,{reasons:Ue})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>Ce(ve),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},ve.date)})})]})})})]}):null,i.jsx(Dl,{open:k,title:M?`${M} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),children:i.jsxs("form",{onSubmit:wt,className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",i.jsx("input",{type:"date",value:M,onChange:ve=>U(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",i.jsxs("select",{value:Q,onChange:ve=>re(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"NORMAL",children:"Normal"}),i.jsx("option",{value:"IZINLI",children:"Izinli"}),i.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),i.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",i.jsxs("select",{value:ye,onChange:ve=>{const Ue=ve.target.value;te(Ue),Ue!=="SHIFT"&&be("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"AUTO",children:qc.AUTO}),i.jsx("option",{value:"SHIFT",children:qc.SHIFT}),i.jsx("option",{value:"WEEKLY",children:qc.WEEKLY}),i.jsx("option",{value:"WORK_RULE",children:qc.WORK_RULE})]})]}),ye==="SHIFT"?i.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",i.jsxs("select",{value:oe,onChange:ve=>be(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Vardiya seciniz"}),(Ye.data??[]).map(ve=>i.jsxs("option",{value:ve.id,children:[ve.name," (",ve.start_time_local," - ",ve.end_time_local,")"]},ve.id))]})]}):null,i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",i.jsx("input",{type:"time",value:D,onChange:ve=>P(ve.target.value),disabled:Q!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",i.jsx("input",{type:"time",value:G,onChange:ve=>J(ve.target.value),disabled:Q!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),Q==="NORMAL"?i.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):i.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",i.jsx("input",{type:"text",value:V,onChange:ve=>K(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),Z?i.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:Z}):null,i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:pe.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:pe.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),q?i.jsx("button",{type:"button",onClick:()=>je.mutate(q),disabled:je.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:je.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const _z=Ga({full_name:fa().min(2,"Ad soyad en az 2 karakter olmali."),region_id:ud([_n().int().positive(),wf()]),department_id:ud([_n().int().positive(),wf()]),is_active:Sd()});function Nz(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState(!0),[S,w]=N.useState(""),[C,z]=N.useState(!1),[k,A]=N.useState(!1),[M,U]=N.useState(""),[D,P]=N.useState(""),[G,J]=N.useState(null),V=Le({queryKey:["employees",k,M,D],queryFn:()=>li({...k?{include_inactive:!0}:{},...M?{region_id:Number(M)}:{},...D?{department_id:Number(D)}:{}})}),K=Le({queryKey:["departments"],queryFn:Fs}),Q=Le({queryKey:["regions","employees-page"],queryFn:()=>yd({include_inactive:!0})}),re=$e({mutationFn:F2,onSuccess:ee=>{o(""),m(""),y(""),b(!0),J(null),z(!1),a({variant:"success",title:"Calisan olusturuldu",description:`${ee.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:ee=>{const O=Be(ee,"Calisan olusturulamadi.").message;J(O),a({variant:"error",title:"Calisan olusturulamadi",description:O})}}),ye=$e({mutationFn:({employeeId:ee,nextStatus:O})=>db(ee,{is_active:O}),onSuccess:ee=>{a({variant:"success",title:ee.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${ee.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:ee=>{const O=Be(ee,"Calisan durumu guncellenemedi.").message;a({variant:"error",title:"Islem basarisiz",description:O})}}),te=ee=>{ee.preventDefault(),J(null);const O=d.trim()===""?null:Number(d),ne=p.trim()===""?null:Number(p),R=_z.safeParse({full_name:l,region_id:O,department_id:ne,is_active:v});if(!R.success){const H=R.error.issues[0]?.message??"Calisan formunu kontrol edin.";J(H),a({variant:"error",title:"Form hatasi",description:H});return}re.mutate(R.data)},oe=V.data??[],be=K.data??[],q=Q.data??[],Y=new Map(be.map(ee=>[ee.id,ee.name])),Z=new Map(q.map(ee=>[ee.id,ee.name])),W=N.useMemo(()=>{const ee=d?Number(d):null;return ee?be.filter(O=>O.region_id===ee):be},[be,d]),ce=N.useMemo(()=>{const ee=M?Number(M):null;return ee?be.filter(O=>O.region_id===ee):be},[be,M]),Te=N.useMemo(()=>{const ee=S.trim().toLowerCase();return ee?oe.filter(O=>O.full_name.toLowerCase().includes(ee)):oe},[oe,S]);return V.isLoading||K.isLoading||Q.isLoading?i.jsx(Ot,{}):V.isError||K.isError||Q.isError?i.jsx(jt,{message:"Calisan verileri alinamadi."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:i.jsx("button",{type:"button",onClick:()=>z(ee=>!ee),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:te,className:"grid gap-3 md:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",i.jsx("input",{value:l,onChange:ee=>o(ee.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:d,onChange:ee=>{m(ee.target.value),y("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmamis"}),q.map(ee=>i.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:p,onChange:ee=>y(ee.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmamis"}),W.map(ee=>i.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),i.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:ee=>b(ee.target.checked)}),"Aktif"]}),i.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[i.jsx("button",{type:"submit",disabled:re.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:re.isPending?"Kaydediliyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{z(!1),J(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),G?i.jsx("div",{className:"form-validation",children:G}):null]}):null,i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[i.jsx(ts,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:M,onChange:ee=>{U(ee.target.value),P("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),q.map(ee=>i.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",i.jsxs("select",{value:D,onChange:ee=>P(ee.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum departmanlar"}),ce.map(ee=>i.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:ee=>A(ee.target.checked)}),"Arsivdekileri goster"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Calisan ID"}),i.jsx("th",{className:"py-2",children:"Ad Soyad"}),i.jsx("th",{className:"py-2",children:"Bolge"}),i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:Te.map(ee=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ee.id}),i.jsx("td",{className:"py-2",children:ee.full_name}),i.jsx("td",{className:"py-2",children:ee.region_name??(ee.region_id?Z.get(ee.region_id):"-")??"-"}),i.jsx("td",{className:"py-2",children:ee.department_id?Y.get(ee.department_id):"-"}),i.jsx("td",{className:"py-2",children:i.jsx(qs,{value:ee.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(si,{to:`/employees/${ee.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(ee.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),i.jsx("button",{type:"button",disabled:ye.isPending,onClick:()=>{const O=!ee.is_active;window.confirm(O?`${ee.full_name} arsivden cikarilsin mi?`:`${ee.full_name} arsivlensin mi?`)&&ye.mutate({employeeId:ee.id,nextStatus:O})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${ee.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:ee.is_active?"Arsivle":"Arsivden Cikar"})]})})]},ee.id))})]})}),Te.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const jz=Ga({employee_id:_n().int().positive(),start_date:fa().min(1),end_date:fa().min(1),type:kf(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:kf(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:fa().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function Sz(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState("ANNUAL"),[S,w]=N.useState("APPROVED"),[C,z]=N.useState(""),[k,A]=N.useState(null),[M,U]=N.useState(""),[D,P]=N.useState(String(new Date().getFullYear())),[G,J]=N.useState(String(new Date().getMonth()+1)),V=Le({queryKey:["employees"],queryFn:()=>li({include_inactive:!0,status:"all"})}),K=N.useMemo(()=>{const Y=Number(M),Z=Number(D),W=Number(G);return{employee_id:Number.isFinite(Y)&&Y>0?Y:void 0,year:Number.isFinite(Z)&&Z>0?Z:void 0,month:Number.isFinite(W)&&W>0?W:void 0}},[M,D,G]),Q=Le({queryKey:["leaves",K.employee_id??"all",K.year??"all",K.month??"all"],queryFn:()=>bb(K)}),re=$e({mutationFn:EE,onSuccess:Y=>{m(""),y(""),b("ANNUAL"),w("APPROVED"),z(""),A(null),a({variant:"success",title:"zin kayd oluturuldu",description:`zin #${Y.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:Y=>{const Z=Be(Y,"zin kayd oluturulamad.");A(Z.message),a({variant:"error",title:"zin oluturulamad",description:Z.message})}}),ye=$e({mutationFn:kE,onSuccess:(Y,Z)=>{a({variant:"success",title:"zin kayd silindi",description:`zin #${Z} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:Y=>{const Z=Be(Y,"zin silinemedi.");a({variant:"error",title:"zin silinemedi",description:Z.message})}}),te=Y=>{Y.preventDefault(),A(null);const Z=jz.safeParse({employee_id:l,start_date:d,end_date:p,type:v,status:S,note:C});if(!Z.success){const W=Z.error.issues[0]?.message??"zin formunu kontrol edin.";A(W),a({variant:"error",title:"Form hatas",description:W});return}re.mutate({...Z.data,note:Z.data.note||null})};if(V.isLoading)return i.jsx(Ot,{});if(V.isError)return i.jsx(jt,{message:"alan listesi alnamad."});const oe=V.data??[],be=Q.data??[],q=new Map(oe.map(Y=>[Y.id,Y.full_name]));return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),i.jsxs("form",{onSubmit:te,className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Fa,{label:"alan",employees:oe,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:d,onChange:Y=>m(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:p,onChange:Y=>y(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",i.jsxs("select",{value:v,onChange:Y=>b(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),i.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),i.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),i.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),i.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",i.jsxs("select",{value:S,onChange:Y=>w(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"APPROVED",children:"ONAYLI"}),i.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),i.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",i.jsx("textarea",{value:C,onChange:Y=>z(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:re.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:re.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?i.jsx("div",{className:"form-validation",children:k}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),i.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Fa,{label:"alan",employees:oe,value:M,onChange:U,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{value:D,onChange:Y=>P(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{value:G,onChange:Y=>J(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),Q.isLoading?i.jsx(Ot,{}):null,Q.isError?i.jsx(jt,{message:"zin listesi alnamad."}):null,!Q.isLoading&&!Q.isError?i.jsxs(Ae,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"zin ID"}),i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{className:"py-2",children:"zin Tipi"}),i.jsx("th",{className:"py-2",children:"Tarih Aral"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"lem"})]})}),i.jsx("tbody",{children:be.map(Y=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Y.id}),i.jsx("td",{className:"py-2",children:q.get(Y.employee_id)??Y.employee_id}),i.jsx("td",{className:"py-2",children:Y.type}),i.jsxs("td",{className:"py-2",children:[Y.start_date," - ",Y.end_date]}),i.jsx("td",{className:"py-2",children:i.jsx(qs,{value:Y.status})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>ye.mutate(Y.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},Y.id))})]})}),be.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const wz=Ga({username:fa().min(1,"Kullanici adi gerekli."),password:fa().min(1,"Sifre gerekli."),mfaCode:fa().optional()});function Ez(t){return t.code==="INVALID_CREDENTIALS"?"Giris bilgileri hatali":t.code==="MFA_REQUIRED"?"MFA kodu gerekli":t.code==="INVALID_MFA_CODE"?"MFA kodu gecersiz":t.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Giris basarisiz"}function kz(){const t=Bl(),a=Ka(),{login:l}=Lr(),[o,d]=N.useState("admin"),[m,p]=N.useState(""),[y,v]=N.useState(""),[b,S]=N.useState(null),[w,C]=N.useState(!1),z=N.useMemo(()=>{const A=a.state?.from,M=new URLSearchParams(a.search).get("redirect");return A??M??"/dashboard"},[a.search,a.state]),k=async A=>{A.preventDefault(),S(null);const M=wz.safeParse({username:o,password:m,mfaCode:y});if(!M.success){S({message:M.error.issues[0]?.message??"Form alanlarini kontrol et."});return}C(!0);try{await l(M.data.username,M.data.password,M.data.mfaCode),t(z,{replace:!0})}catch(U){S(Be(U,"Giris basarisiz."))}finally{C(!1)}};return i.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giris"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj yonetim paneline giris yap."}),i.jsxs("form",{onSubmit:k,className:"mt-6 space-y-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:A=>d(A.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),i.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:m,onChange:A=>p(A.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"MFA Kodu (gerekliyse)"}),i.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:y,onChange:A=>v(A.target.value),placeholder:"6 haneli kod"})]}),b?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[i.jsx("p",{className:"font-semibold",children:Ez(b)}),i.jsx("p",{className:"mt-1",children:b.message}),b.requestId?i.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",b.requestId]}):null]}):null,i.jsx("button",{type:"submit",disabled:w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:w?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giris yapiliyor..."]}):"Giris Yap"})]}),i.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[wi.signatureText," | BUILD: ",wi.buildVersion]})]})})}const Tz=[{to:"/employees",label:"alan Ynetimi",description:"Personel kart, ariv ve profil ynetimi.",code:"CMD-EMP"},{to:"/attendance-events",label:"Puantaj Kaytlar",description:"Giri-k olaylar ve manuel dzeltme.",code:"CMD-ATT"},{to:"/devices",label:"Cihaz Kontrol",description:"Cihaz aktivasyonu ve eriim denetimi.",code:"CMD-DEV"},{to:"/notifications",label:"Bildirim Merkezi",description:"Toplu/tekli push ve teslimat loglar.",code:"CMD-NOT"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",description:"alma ve fazla mesai analizi.",code:"CMD-RPT"},{to:"/audit-logs",label:"Sistem Loglar",description:"z kayd ve gvenlik denetimi.",code:"CMD-AUD"}];function Fc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function Cz(t){const a=new Date(t);return Number.isNaN(a.getTime())?"":a.toLocaleDateString("sv-SE",{timeZone:"Europe/Istanbul"})}function Az(t){const a=new Date(`${t}T00:00:00Z`);return Number.isNaN(a.getTime())?"Hafta i":a.getUTCDay()===0?"Pazar":"Hafta i"}function zz(t){return t==="NOT_STARTED"?"Balamad":t==="IN_PROGRESS"?"Mesai Devam Ediyor":"Mesai Tamamland"}function Mz(){const{pushToast:t}=In(),a=new Date,[l,o]=N.useState("Ynetim Konsolu Bildirimi"),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState("bulk"),[S,w]=N.useState(""),[C,z]=N.useState([]),[k,A]=N.useState(""),[M,U]=N.useState(String(a.getFullYear())),[D,P]=N.useState(String(a.getMonth()+1)),G=Le({queryKey:["employees","management-console"],queryFn:()=>li({status:"all",include_inactive:!0}),refetchInterval:3e4}),J=Le({queryKey:["devices","management-console"],queryFn:yb,refetchInterval:3e4}),V=Le({queryKey:["attendance-events","management-console"],queryFn:()=>$f({limit:20}),refetchInterval:2e4}),K=Le({queryKey:["employee-device-overview","management-console"],queryFn:()=>Nf({limit:12,device_limit:2,include_inactive:!1}),refetchInterval:2e4}),Q=Le({queryKey:["dashboard-employee-snapshot","management-console",k],queryFn:()=>vb({employee_id:Number(k)}),enabled:!!k,staleTime:15e3}),re=Number(M),ye=Number(D),te=Number.isInteger(re)&&Number.isInteger(ye)&&ye>=1&&ye<=12,oe=Le({queryKey:["management-console-control-monthly",k,re,ye],queryFn:()=>tu({employee_id:Number(k),year:re,month:ye}),enabled:!!k&&te,staleTime:15e3}),be=$e({mutationFn:xb,onSuccess:Ne=>{t({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${Ne.total_targets} / Gnderilen: ${Ne.sent}`}),m(""),v==="single"&&(z([]),w(""))},onError:Ne=>{const nt=Be(Ne,"Bildirim gnderimi baarsz.");t({variant:"error",title:"Gnderim baarsz",description:nt.message})}}),q=G.data??[],Y=J.data??[],Z=V.data??[],W=K.data??[],ce=oe.data?.days??[],Te=N.useMemo(()=>Jf(ce),[ce]),ee=N.useMemo(()=>new Map(q.map(Ne=>[Ne.id,Ne])),[q]),O=N.useMemo(()=>q.filter(Ne=>Ne.is_active).length,[q]),ne=N.useMemo(()=>Y.filter(Ne=>Ne.is_active).length,[Y]),R=N.useMemo(()=>Z.filter(Ne=>Ne.location_status==="VERIFIED_HOME").length,[Z]),H=N.useMemo(()=>q.find(Ne=>String(Ne.id)===S)??null,[q,S]),pe=N.useMemo(()=>new Map(ce.map(Ne=>[Ne.date,Ne])),[ce]),je=Number(k),Me=N.useMemo(()=>Z.slice(0,14).map(Ne=>{const nt=Cz(Ne.ts_utc),St=Ne.employee_id===je&&nt?pe.get(nt):void 0;return{event:Ne,dayTypeLabel:St?vd(St).label:Az(nt),workedMinutes:St?.worked_minutes??null,planOvertimeMinutes:St?.plan_overtime_minutes??null,legalOvertimeMinutes:St?.legal_overtime_minutes??null}}),[Z,je,pe]),qe=()=>{const Ne=Number(S);if(!Number.isInteger(Ne)||Ne<=0){t({variant:"error",title:"Hedef eklenemedi",description:"nce alan sein."});return}if(C.includes(Ne)){t({variant:"info",title:"Hedef zaten eklendi",description:`#${Ne} listede var.`});return}z(nt=>[...nt,Ne]),w("")},Ye=Ne=>{z(nt=>nt.filter(St=>St!==Ne))},Fe=Ne=>{if(Ne.preventDefault(),!l.trim()||!d.trim()||!p.trim()){t({variant:"error",title:"Eksik alan",description:"Balk, mesaj ve ynetici ifresi zorunludur."});return}if(v==="single"&&C.length===0){t({variant:"error",title:"Hedef seilmedi",description:"Tekli bildirim iin en az bir alan sein."});return}be.mutate({title:l.trim(),message:d.trim(),password:p.trim(),target:"employees",employee_ids:v==="single"?C:void 0})};return G.isLoading||J.isLoading||V.isLoading||K.isLoading?i.jsx(Ot,{label:"Ynetim konsolu ykleniyor..."}):G.isError||J.isError||V.isError||K.isError?i.jsx(jt,{message:"Ynetim konsolu verileri alnamad."}):i.jsxs("div",{className:"management-console-screen space-y-4",children:[i.jsx(En,{title:"Ynetim Konsolu",description:"Tek merkezden bildirim, puantaj, konum ve cihaz operasyonlarn disiplinli akla ynetin."}),i.jsxs("div",{className:"management-console-kpi-grid",children:[i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Toplam alan"}),i.jsx("p",{className:"management-console-kpi-value",children:q.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",O]})]}),i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Toplam Cihaz"}),i.jsx("p",{className:"management-console-kpi-value",children:Y.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",ne]})]}),i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Canl Olay Ak"}),i.jsx("p",{className:"management-console-kpi-value",children:Z.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Dorulanm konum: ",R]})]}),i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Cihaz Grnm Satr"}),i.jsx("p",{className:"management-console-kpi-value",children:W.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Son yenileme: ",Fc(new Date().toISOString())]})]})]}),i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Komut Merkezi"}),i.jsx("p",{className:"management-console-subtitle",children:"Dank ekranlar arasnda dolamak yerine kritik ynetim modllerine tek panelden eriin."}),i.jsx("div",{className:"management-console-command-grid",children:Tz.map(Ne=>i.jsxs(si,{to:Ne.to,className:"management-console-command-card",children:[i.jsx("span",{className:"management-console-command-code",children:Ne.code}),i.jsx("p",{className:"management-console-command-label",children:Ne.label}),i.jsx("p",{className:"management-console-command-desc",children:Ne.description})]},Ne.to))})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.06fr_1.35fr]",children:[i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Bildirim Terminali"}),i.jsx("p",{className:"management-console-subtitle",children:"Toplu veya tekli bildirim gnderimini ayn terminalden yrtn."}),i.jsxs("form",{className:"management-console-terminal mt-3 space-y-3",onSubmit:Fe,children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Gnderim Modu"}),i.jsxs("select",{value:v,onChange:Ne=>b(Ne.target.value),className:"management-console-input mt-1",children:[i.jsx("option",{value:"bulk",children:"Toplu (Tm alanlar)"}),i.jsx("option",{value:"single",children:"Tekli (Seili alanlar)"})]})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Ynetici ifresi"}),i.jsx("input",{type:"password",value:p,onChange:Ne=>y(Ne.target.value),className:"management-console-input mt-1",placeholder:"ifre"})]})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Balk"}),i.jsx("input",{value:l,onChange:Ne=>o(Ne.target.value),className:"management-console-input mt-1",placeholder:"Bildirim bal"})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Mesaj"}),i.jsx("textarea",{rows:4,value:d,onChange:Ne=>m(Ne.target.value),className:"management-console-input mt-1",placeholder:"Mesaj ierii"})]}),v==="single"?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fa,{label:"Hedef alan",employees:q,value:S,onChange:w,helperText:"alan seip listeye ekleyin."}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:qe,className:"management-console-action-button",children:"Hedefe Ekle"}),H?i.jsxs("span",{className:"management-console-inline-note",children:["Seili: #",H.id," - ",H.full_name]}):null]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:C.length===0?i.jsx("span",{className:"management-console-inline-note",children:"Henz hedef alan eklenmedi."}):C.map(Ne=>i.jsxs("button",{type:"button",onClick:()=>Ye(Ne),className:"management-console-chip",children:["#",Ne," - ",ee.get(Ne)?.full_name??"alan"," "]},Ne))})]}):i.jsx("p",{className:"management-console-inline-note",children:"Toplu mod: Aktif/Pasif ayrm olmadan tm alanlara gnderilir."}),i.jsx("button",{type:"submit",disabled:be.isPending,className:"management-console-send-button",children:be.isPending?"Gnderiliyor...":"Bildirimi Gnder"})]})]}),i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"alan Kontrol Odas"}),i.jsx("p",{className:"management-console-subtitle",children:"Tek alan iin puantaj, konum ve cihaz metriklerini anlk izleyin."}),i.jsxs("div",{className:"management-console-terminal mt-3 space-y-3",children:[i.jsx(Fa,{label:"Kontrol edilecek alan",employees:q,value:k,onChange:A,helperText:"Seildiinde puantaj ve konum panelleri otomatik gncellenir."}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Yl"}),i.jsx("input",{type:"number",value:M,onChange:Ne=>U(Ne.target.value),className:"management-console-input mt-1"})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Ay"}),i.jsx("input",{type:"number",min:1,max:12,value:D,onChange:Ne=>P(Ne.target.value),className:"management-console-input mt-1"})]})]}),k?null:i.jsx("p",{className:"management-console-inline-note",children:"alan seildiinde canl zet burada grnr."}),k&&!te?i.jsx("p",{className:"management-console-inline-note",children:"Yl/ay deeri geersiz."}):null,k&&Q.isLoading?i.jsx(Ot,{label:"Canl zet ykleniyor..."}):null,k&&Q.isError?i.jsx(jt,{message:"alan zeti alnamad."}):null,Q.data?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"management-console-strip",children:[i.jsx("span",{className:"management-console-strip-tag",children:"Durum"}),i.jsx("span",{children:zz(Q.data.today_status)})]}),i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Bu Ay"}),i.jsxs("p",{children:["Net alma: ",i.jsx(De,{minutes:Q.data.current_month.worked_minutes})]}),i.jsxs("p",{children:["Plan Ustu Sure: ",i.jsx(De,{minutes:Q.data.current_month.plan_overtime_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Sure: ",i.jsx(De,{minutes:Q.data.current_month.extra_work_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Mesai: ",i.jsx(De,{minutes:Q.data.current_month.overtime_minutes})]})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"nceki Ay"}),i.jsxs("p",{children:["Net alma: ",i.jsx(De,{minutes:Q.data.previous_month.worked_minutes})]}),i.jsxs("p",{children:["Plan Ustu Sure: ",i.jsx(De,{minutes:Q.data.previous_month.plan_overtime_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Sure: ",i.jsx(De,{minutes:Q.data.previous_month.extra_work_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Mesai: ",i.jsx(De,{minutes:Q.data.previous_month.overtime_minutes})]})]})]}),oe.isLoading?i.jsx(Ot,{label:"Aylk puantaj ykleniyor..."}):null,oe.isError?i.jsx(jt,{message:"Aylk puantaj alnamad."}):null,oe.data?i.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"allan Gn"}),i.jsxs("p",{children:[Te.workedDayCount," gn"]}),i.jsxs("p",{children:["Hafta i: ",Te.weekdayWorkedDayCount]})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Pazar Mesaisi"}),i.jsxs("p",{children:[Te.sundayWorkedDayCount," gn"]}),i.jsx("p",{children:i.jsx(De,{minutes:Te.sundayWorkedMinutes})})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"zel Gn Mesaisi"}),i.jsxs("p",{children:[Te.specialWorkedDayCount," gn"]}),i.jsx("p",{children:i.jsx(De,{minutes:Te.specialWorkedMinutes})})]})]}):null,i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Son Puantaj"}),Q.data.last_event?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Tip: ",Q.data.last_event.event_type]}),i.jsxs("p",{children:["Zaman: ",Fc(Q.data.last_event.ts_utc)]}),i.jsxs("p",{children:["Konum Durumu: ",Q.data.last_event.location_status]})]}):i.jsx("p",{children:"Kayt bulunmuyor."})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Son Konum"}),Q.data.latest_location?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Koordinat: ",Q.data.latest_location.lat.toFixed(6),", ",Q.data.latest_location.lon.toFixed(6)]}),i.jsxs("p",{children:["Doruluk: ",Q.data.latest_location.accuracy_m??"-"," m"]}),i.jsxs("p",{children:["Zaman: ",Fc(Q.data.latest_location.ts_utc)]})]}):i.jsx("p",{children:"Konum verisi yok."})]})]}),i.jsxs("div",{className:"management-console-strip",children:[i.jsx("span",{className:"management-console-strip-tag",children:"Cihaz"}),i.jsxs("span",{children:["Aktif ",Q.data.active_devices," / Toplam ",Q.data.total_devices]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(si,{to:`/employees/${Q.data.employee.id}`,className:"management-console-action-button",children:"alan Detayn A"}),i.jsx(si,{to:"/attendance-events",className:"management-console-action-button",children:"Puantaj Olaylarna Git"}),i.jsx(si,{to:"/devices",className:"management-console-action-button",children:"Cihaz Paneline Git"})]})]}):null]})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Cihaz Eriim Ak"}),i.jsx("p",{className:"management-console-subtitle",children:"alan baznda cihaz younluu ve aktif cihaz oran."}),i.jsx("div",{className:"management-console-table-wrap mt-3",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{children:"Departman"}),i.jsx("th",{children:"Aktif/Toplam"}),i.jsx("th",{children:"lem"})]})}),i.jsx("tbody",{children:W.slice(0,10).map(Ne=>i.jsxs("tr",{children:[i.jsxs("td",{className:"py-2",children:["#",Ne.employee_id," - ",Ne.employee_name]}),i.jsx("td",{children:Ne.department_name??"-"}),i.jsxs("td",{children:[Ne.active_devices,"/",Ne.total_devices]}),i.jsx("td",{children:i.jsx(si,{className:"management-console-link",to:`/employees/${Ne.employee_id}`,children:"Detay"})})]},Ne.employee_id))})]})})]}),i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Canl Puantaj Kayd"}),i.jsx("p",{className:"management-console-subtitle",children:"Son giri-k olaylar ile gn tipi, gnlk alma, plan st sre ve yasal fazla mesai grnm."}),i.jsx("div",{className:"management-console-table-wrap mt-3",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{children:"alan"}),i.jsx("th",{children:"Gn Tipi"}),i.jsx("th",{children:"Tip"}),i.jsx("th",{children:"Konum"}),i.jsx("th",{children:"Gnlk alma"}),i.jsx("th",{children:"Plan st"}),i.jsx("th",{children:"Yasal FM"})]})}),i.jsx("tbody",{children:Me.map(Ne=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:Fc(Ne.event.ts_utc)}),i.jsxs("td",{children:["#",Ne.event.employee_id," - ",ee.get(Ne.event.employee_id)?.full_name??"alan"]}),i.jsx("td",{children:Ne.dayTypeLabel}),i.jsx("td",{children:Ne.event.type}),i.jsx("td",{children:Ne.event.location_status}),i.jsx("td",{children:Ne.workedMinutes===null?"-":i.jsx(De,{minutes:Ne.workedMinutes})}),i.jsx("td",{children:Ne.planOvertimeMinutes===null?"-":i.jsx(De,{minutes:Ne.planOvertimeMinutes})}),i.jsx("td",{children:Ne.legalOvertimeMinutes===null?"-":i.jsx(De,{minutes:Ne.legalOvertimeMinutes})})]},Ne.event.id))})]})})]})]})]})}function Oz(){return i.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[i.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),i.jsx(si,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),i.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:wi.signatureText})]})})}function Tv(t,a){const l=URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function Dz(){const{pushToast:t}=In(),a=new Date,[l,o]=N.useState("employee"),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState(String(a.getFullYear())),[S,w]=N.useState(String(a.getMonth()+1)),[C,z]=N.useState(""),[k,A]=N.useState(""),[M,U]=N.useState(!0),[D,P]=N.useState(!1),[G,J]=N.useState(""),[V,K]=N.useState(""),[Q,re]=N.useState("consolidated"),[ye,te]=N.useState(""),[oe,be]=N.useState(""),q=Le({queryKey:["employees","all"],queryFn:()=>li({status:"all",include_inactive:!0})}),Y=Le({queryKey:["departments"],queryFn:Fs}),Z=$e({mutationFn:DE,onSuccess:H=>{Tv(H,`puantaj-${l}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:H=>{t({variant:"error",title:"Da aktarma baarsz",description:Be(H,"Excel dosyas retilemedi.").message})}}),W=$e({mutationFn:IE,onSuccess:H=>{Tv(H,`puantaj-range-${Q}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:H=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:Be(H,"Excel dosyas retilemedi.").message})}}),ce=N.useMemo(()=>{const H=Number(v),pe=Number(S),je=Number(d),Me=Number(p);return l==="employee"?!je||!H||!pe?null:{mode:l,employee_id:je,year:H,month:pe}:l==="department"?!Me||!H||!pe?null:{mode:l,department_id:Me,year:H,month:pe,include_daily_sheet:M,include_inactive:D}:l==="all"?!H||!pe?null:{mode:l,year:H,month:pe,include_daily_sheet:M,include_inactive:D}:!C||!k?null:{mode:l,start_date:C,end_date:k,employee_id:je||void 0,department_id:Me||void 0,include_inactive:D}},[l,d,p,v,S,C,k,M,D]),Te=N.useMemo(()=>{const H=Number(oe),pe=Number(ye);return!G||!V?null:{start_date:G,end_date:V,mode:Q,employee_id:H>0?H:void 0,department_id:pe>0?pe:void 0}},[G,V,Q,oe,ye]),ee=()=>{if(!ce){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}Z.mutate(ce)},O=()=>{if(!Te){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}W.mutate(Te)};if(q.isLoading||Y.isLoading)return i.jsx(Ot,{});if(q.isError||Y.isError)return i.jsx(jt,{message:"alan/departman bilgileri alnamad."});const ne=q.data??[],R=Y.data??[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",i.jsxs("select",{value:l,onChange:H=>o(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"employee",children:"alan Bazl"}),i.jsx("option",{value:"department",children:"Departman Bazl"}),i.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),i.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&i.jsx(Fa,{label:"alan",employees:ne,value:d,onChange:m,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:p,onChange:H=>y(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seiniz"}),R.map(H=>i.jsxs("option",{value:H.id,children:["#",H.id," - ",H.name]},H.id))]})]}),(l==="employee"||l==="department"||l==="all")&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{type:"number",value:v,onChange:H=>b(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:S,onChange:H=>w(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:C,onChange:H=>z(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:k,onChange:H=>A(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:M,onChange:H=>U(H.target.checked)}),"Gnlk sheetleri de ekle"]}),i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:D,onChange:H=>P(H.target.checked)}),"Arivdeki alanlar dahil et"]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{type:"button",onClick:ee,disabled:Z.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Z.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),i.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",i.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:G,onChange:H=>J(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:V,onChange:H=>K(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",i.jsxs("select",{value:Q,onChange:H=>re(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),i.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),i.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",i.jsxs("select",{value:ye,onChange:H=>te(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tm"}),R.map(H=>i.jsxs("option",{value:H.id,children:["#",H.id," - ",H.name]},H.id))]})]}),i.jsx(Fa,{label:"alan (opsiyonel)",employees:ne,value:oe,onChange:be,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{type:"button",onClick:O,disabled:W.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:W.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var Tl={},Rh,Cv;function Rz(){return Cv||(Cv=1,Rh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Rh}var Lh={},Bs={},Av;function Ir(){if(Av)return Bs;Av=1;let t;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Bs.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Bs.getSymbolTotalCodewords=function(o){return a[o]},Bs.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},Bs.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},Bs.isKanjiModeEnabled=function(){return typeof t<"u"},Bs.toSJIS=function(o){return t(o)},Bs}var Ph={},zv;function rp(){return zv||(zv=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function a(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return a(o)}catch{return d}}})(Ph)),Ph}var Ih,Mv;function Lz(){if(Mv)return Ih;Mv=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(a){const l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)===1},put:function(a,l){for(let o=0;o<l;o++)this.putBit((a>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Ih=t,Ih}var Bh,Ov;function Pz(){if(Ov)return Bh;Ov=1;function t(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return t.prototype.set=function(a,l,o,d){const m=a*this.size+l;this.data[m]=o,d&&(this.reservedBit[m]=!0)},t.prototype.get=function(a,l){return this.data[a*this.size+l]},t.prototype.xor=function(a,l,o){this.data[a*this.size+l]^=o},t.prototype.isReserved=function(a,l){return this.reservedBit[a*this.size+l]},Bh=t,Bh}var Uh={},Dv;function Iz(){return Dv||(Dv=1,(function(t){const a=Ir().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,m=a(o),p=m===145?26:Math.ceil((m-13)/(2*d-2))*2,y=[m-7];for(let v=1;v<d-1;v++)y[v]=y[v-1]-p;return y.push(6),y.reverse()},t.getPositions=function(o){const d=[],m=t.getRowColCoords(o),p=m.length;for(let y=0;y<p;y++)for(let v=0;v<p;v++)y===0&&v===0||y===0&&v===p-1||y===p-1&&v===0||d.push([m[y],m[v]]);return d}})(Uh)),Uh}var Zh={},Rv;function Bz(){if(Rv)return Zh;Rv=1;const t=Ir().getSymbolSize,a=7;return Zh.getPositions=function(o){const d=t(o);return[[0,0],[d-a,0],[0,d-a]]},Zh}var qh={},Lv;function Uz(){return Lv||(Lv=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const m=d.size;let p=0,y=0,v=0,b=null,S=null;for(let w=0;w<m;w++){y=v=0,b=S=null;for(let C=0;C<m;C++){let z=d.get(w,C);z===b?y++:(y>=5&&(p+=a.N1+(y-5)),b=z,y=1),z=d.get(C,w),z===S?v++:(v>=5&&(p+=a.N1+(v-5)),S=z,v=1)}y>=5&&(p+=a.N1+(y-5)),v>=5&&(p+=a.N1+(v-5))}return p},t.getPenaltyN2=function(d){const m=d.size;let p=0;for(let y=0;y<m-1;y++)for(let v=0;v<m-1;v++){const b=d.get(y,v)+d.get(y,v+1)+d.get(y+1,v)+d.get(y+1,v+1);(b===4||b===0)&&p++}return p*a.N2},t.getPenaltyN3=function(d){const m=d.size;let p=0,y=0,v=0;for(let b=0;b<m;b++){y=v=0;for(let S=0;S<m;S++)y=y<<1&2047|d.get(b,S),S>=10&&(y===1488||y===93)&&p++,v=v<<1&2047|d.get(S,b),S>=10&&(v===1488||v===93)&&p++}return p*a.N3},t.getPenaltyN4=function(d){let m=0;const p=d.data.length;for(let v=0;v<p;v++)m+=d.data[v];return Math.abs(Math.ceil(m*100/p/5)-10)*a.N4};function l(o,d,m){switch(o){case t.Patterns.PATTERN000:return(d+m)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return m%3===0;case t.Patterns.PATTERN011:return(d+m)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(m/3))%2===0;case t.Patterns.PATTERN101:return d*m%2+d*m%3===0;case t.Patterns.PATTERN110:return(d*m%2+d*m%3)%2===0;case t.Patterns.PATTERN111:return(d*m%3+(d+m)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,m){const p=m.size;for(let y=0;y<p;y++)for(let v=0;v<p;v++)m.isReserved(v,y)||m.xor(v,y,l(d,v,y))},t.getBestMask=function(d,m){const p=Object.keys(t.Patterns).length;let y=0,v=1/0;for(let b=0;b<p;b++){m(b),t.applyMask(b,d);const S=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(b,d),S<v&&(v=S,y=b)}return y}})(qh)),qh}var Hc={},Pv;function i_(){if(Pv)return Hc;Pv=1;const t=rp(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Hc.getBlocksCount=function(d,m){switch(m){case t.L:return a[(d-1)*4+0];case t.M:return a[(d-1)*4+1];case t.Q:return a[(d-1)*4+2];case t.H:return a[(d-1)*4+3];default:return}},Hc.getTotalCodewordsCount=function(d,m){switch(m){case t.L:return l[(d-1)*4+0];case t.M:return l[(d-1)*4+1];case t.Q:return l[(d-1)*4+2];case t.H:return l[(d-1)*4+3];default:return}},Hc}var Fh={},Qo={},Iv;function Zz(){if(Iv)return Qo;Iv=1;const t=new Uint8Array(512),a=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,a[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Qo.log=function(o){if(o<1)throw new Error("log("+o+")");return a[o]},Qo.exp=function(o){return t[o]},Qo.mul=function(o,d){return o===0||d===0?0:t[a[o]+a[d]]},Qo}var Bv;function qz(){return Bv||(Bv=1,(function(t){const a=Zz();t.mul=function(o,d){const m=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let y=0;y<d.length;y++)m[p+y]^=a.mul(o[p],d[y]);return m},t.mod=function(o,d){let m=new Uint8Array(o);for(;m.length-d.length>=0;){const p=m[0];for(let v=0;v<d.length;v++)m[v]^=a.mul(d[v],p);let y=0;for(;y<m.length&&m[y]===0;)y++;m=m.slice(y)}return m},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let m=0;m<o;m++)d=t.mul(d,new Uint8Array([1,a.exp(m)]));return d}})(Fh)),Fh}var Hh,Uv;function Fz(){if(Uv)return Hh;Uv=1;const t=qz();function a(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},a.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const m=t.mod(d,this.genPoly),p=this.degree-m.length;if(p>0){const y=new Uint8Array(this.degree);return y.set(m,p),y}return m},Hh=a,Hh}var Kh={},Qh={},Gh={},Zv;function s_(){return Zv||(Zv=1,Gh.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),Gh}var ji={},qv;function r_(){if(qv)return ji;qv=1;const t="[0-9]+",a="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;ji.KANJI=new RegExp(l,"g"),ji.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ji.BYTE=new RegExp(o,"g"),ji.NUMERIC=new RegExp(t,"g"),ji.ALPHANUMERIC=new RegExp(a,"g");const d=new RegExp("^"+l+"$"),m=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ji.testKanji=function(v){return d.test(v)},ji.testNumeric=function(v){return m.test(v)},ji.testAlphanumeric=function(v){return p.test(v)},ji}var Fv;function Br(){return Fv||(Fv=1,(function(t){const a=s_(),l=r_();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(m,p){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!a.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?m.ccBits[0]:p<27?m.ccBits[1]:m.ccBits[2]},t.getBestModeForData=function(m){return l.testNumeric(m)?t.NUMERIC:l.testAlphanumeric(m)?t.ALPHANUMERIC:l.testKanji(m)?t.KANJI:t.BYTE},t.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},t.isValid=function(m){return m&&m.bit&&m.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(m,p){if(t.isValid(m))return m;try{return o(m)}catch{return p}}})(Qh)),Qh}var Hv;function Hz(){return Hv||(Hv=1,(function(t){const a=Ir(),l=i_(),o=rp(),d=Br(),m=s_(),p=7973,y=a.getBCHDigit(p);function v(C,z,k){for(let A=1;A<=40;A++)if(z<=t.getCapacity(A,k,C))return A}function b(C,z){return d.getCharCountIndicator(C,z)+4}function S(C,z){let k=0;return C.forEach(function(A){const M=b(A.mode,z);k+=M+A.getBitsLength()}),k}function w(C,z){for(let k=1;k<=40;k++)if(S(C,k)<=t.getCapacity(k,z,d.MIXED))return k}t.from=function(z,k){return m.isValid(z)?parseInt(z,10):k},t.getCapacity=function(z,k,A){if(!m.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const M=a.getSymbolTotalCodewords(z),U=l.getTotalCodewordsCount(z,k),D=(M-U)*8;if(A===d.MIXED)return D;const P=D-b(A,z);switch(A){case d.NUMERIC:return Math.floor(P/10*3);case d.ALPHANUMERIC:return Math.floor(P/11*2);case d.KANJI:return Math.floor(P/13);case d.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(z,k){let A;const M=o.from(k,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,M);if(z.length===0)return 1;A=z[0]}else A=z;return v(A.mode,A.getLength(),M)},t.getEncodedBits=function(z){if(!m.isValid(z)||z<7)throw new Error("Invalid QR Code version");let k=z<<12;for(;a.getBCHDigit(k)-y>=0;)k^=p<<a.getBCHDigit(k)-y;return z<<12|k}})(Kh)),Kh}var Vh={},Kv;function Kz(){if(Kv)return Vh;Kv=1;const t=Ir(),a=1335,l=21522,o=t.getBCHDigit(a);return Vh.getEncodedBits=function(m,p){const y=m.bit<<3|p;let v=y<<10;for(;t.getBCHDigit(v)-o>=0;)v^=a<<t.getBCHDigit(v)-o;return(y<<10|v)^l},Vh}var Yh={},$h,Qv;function Qz(){if(Qv)return $h;Qv=1;const t=Br();function a(l){this.mode=t.NUMERIC,this.data=l.toString()}return a.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){let d,m,p;for(d=0;d+3<=this.data.length;d+=3)m=this.data.substr(d,3),p=parseInt(m,10),o.put(p,10);const y=this.data.length-d;y>0&&(m=this.data.substr(d),p=parseInt(m,10),o.put(p,y*3+1))},$h=a,$h}var Jh,Gv;function Gz(){if(Gv)return Jh;Gv=1;const t=Br(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=t.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let m;for(m=0;m+2<=this.data.length;m+=2){let p=a.indexOf(this.data[m])*45;p+=a.indexOf(this.data[m+1]),d.put(p,11)}this.data.length%2&&d.put(a.indexOf(this.data[m]),6)},Jh=l,Jh}var Xh,Vv;function Vz(){if(Vv)return Xh;Vv=1;const t=Br();function a(l){this.mode=t.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return a.getBitsLength=function(o){return o*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},Xh=a,Xh}var Wh,Yv;function Yz(){if(Yv)return Wh;Yv=1;const t=Br(),a=Ir();function l(o){this.mode=t.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let m=a.toSJIS(this.data[d]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),o.put(m,13)}},Wh=l,Wh}var ef={exports:{}},$v;function $z(){return $v||($v=1,(function(t){var a={single_source_shortest_paths:function(l,o,d){var m={},p={};p[o]=0;var y=a.PriorityQueue.make();y.push(o,0);for(var v,b,S,w,C,z,k,A,M;!y.empty();){v=y.pop(),b=v.value,w=v.cost,C=l[b]||{};for(S in C)C.hasOwnProperty(S)&&(z=C[S],k=w+z,A=p[S],M=typeof p[S]>"u",(M||A>k)&&(p[S]=k,y.push(S,k),m[S]=b))}if(typeof d<"u"&&typeof p[d]>"u"){var U=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(U)}return m},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],m=o;m;)d.push(m),l[m],m=l[m];return d.reverse(),d},find_path:function(l,o,d){var m=a.single_source_shortest_paths(l,o,d);return a.extract_shortest_path_from_predecessor_list(m,d)},PriorityQueue:{make:function(l){var o=a.PriorityQueue,d={},m;l=l||{};for(m in o)o.hasOwnProperty(m)&&(d[m]=o[m]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=a})(ef)),ef.exports}var Jv;function Jz(){return Jv||(Jv=1,(function(t){const a=Br(),l=Qz(),o=Gz(),d=Vz(),m=Yz(),p=r_(),y=Ir(),v=$z();function b(U){return unescape(encodeURIComponent(U)).length}function S(U,D,P){const G=[];let J;for(;(J=U.exec(P))!==null;)G.push({data:J[0],index:J.index,mode:D,length:J[0].length});return G}function w(U){const D=S(p.NUMERIC,a.NUMERIC,U),P=S(p.ALPHANUMERIC,a.ALPHANUMERIC,U);let G,J;return y.isKanjiModeEnabled()?(G=S(p.BYTE,a.BYTE,U),J=S(p.KANJI,a.KANJI,U)):(G=S(p.BYTE_KANJI,a.BYTE,U),J=[]),D.concat(P,G,J).sort(function(K,Q){return K.index-Q.index}).map(function(K){return{data:K.data,mode:K.mode,length:K.length}})}function C(U,D){switch(D){case a.NUMERIC:return l.getBitsLength(U);case a.ALPHANUMERIC:return o.getBitsLength(U);case a.KANJI:return m.getBitsLength(U);case a.BYTE:return d.getBitsLength(U)}}function z(U){return U.reduce(function(D,P){const G=D.length-1>=0?D[D.length-1]:null;return G&&G.mode===P.mode?(D[D.length-1].data+=P.data,D):(D.push(P),D)},[])}function k(U){const D=[];for(let P=0;P<U.length;P++){const G=U[P];switch(G.mode){case a.NUMERIC:D.push([G,{data:G.data,mode:a.ALPHANUMERIC,length:G.length},{data:G.data,mode:a.BYTE,length:G.length}]);break;case a.ALPHANUMERIC:D.push([G,{data:G.data,mode:a.BYTE,length:G.length}]);break;case a.KANJI:D.push([G,{data:G.data,mode:a.BYTE,length:b(G.data)}]);break;case a.BYTE:D.push([{data:G.data,mode:a.BYTE,length:b(G.data)}])}}return D}function A(U,D){const P={},G={start:{}};let J=["start"];for(let V=0;V<U.length;V++){const K=U[V],Q=[];for(let re=0;re<K.length;re++){const ye=K[re],te=""+V+re;Q.push(te),P[te]={node:ye,lastCount:0},G[te]={};for(let oe=0;oe<J.length;oe++){const be=J[oe];P[be]&&P[be].node.mode===ye.mode?(G[be][te]=C(P[be].lastCount+ye.length,ye.mode)-C(P[be].lastCount,ye.mode),P[be].lastCount+=ye.length):(P[be]&&(P[be].lastCount=ye.length),G[be][te]=C(ye.length,ye.mode)+4+a.getCharCountIndicator(ye.mode,D))}}J=Q}for(let V=0;V<J.length;V++)G[J[V]].end=0;return{map:G,table:P}}function M(U,D){let P;const G=a.getBestModeForData(U);if(P=a.from(D,G),P!==a.BYTE&&P.bit<G.bit)throw new Error('"'+U+'" cannot be encoded with mode '+a.toString(P)+`.
 Suggested mode is: `+a.toString(G));switch(P===a.KANJI&&!y.isKanjiModeEnabled()&&(P=a.BYTE),P){case a.NUMERIC:return new l(U);case a.ALPHANUMERIC:return new o(U);case a.KANJI:return new m(U);case a.BYTE:return new d(U)}}t.fromArray=function(D){return D.reduce(function(P,G){return typeof G=="string"?P.push(M(G,null)):G.data&&P.push(M(G.data,G.mode)),P},[])},t.fromString=function(D,P){const G=w(D,y.isKanjiModeEnabled()),J=k(G),V=A(J,P),K=v.find_path(V.map,"start","end"),Q=[];for(let re=1;re<K.length-1;re++)Q.push(V.table[K[re]].node);return t.fromArray(z(Q))},t.rawSplit=function(D){return t.fromArray(w(D,y.isKanjiModeEnabled()))}})(Yh)),Yh}var Xv;function Xz(){if(Xv)return Lh;Xv=1;const t=Ir(),a=rp(),l=Lz(),o=Pz(),d=Iz(),m=Bz(),p=Uz(),y=i_(),v=Fz(),b=Hz(),S=Kz(),w=Br(),C=Jz();function z(V,K){const Q=V.size,re=m.getPositions(K);for(let ye=0;ye<re.length;ye++){const te=re[ye][0],oe=re[ye][1];for(let be=-1;be<=7;be++)if(!(te+be<=-1||Q<=te+be))for(let q=-1;q<=7;q++)oe+q<=-1||Q<=oe+q||(be>=0&&be<=6&&(q===0||q===6)||q>=0&&q<=6&&(be===0||be===6)||be>=2&&be<=4&&q>=2&&q<=4?V.set(te+be,oe+q,!0,!0):V.set(te+be,oe+q,!1,!0))}}function k(V){const K=V.size;for(let Q=8;Q<K-8;Q++){const re=Q%2===0;V.set(Q,6,re,!0),V.set(6,Q,re,!0)}}function A(V,K){const Q=d.getPositions(K);for(let re=0;re<Q.length;re++){const ye=Q[re][0],te=Q[re][1];for(let oe=-2;oe<=2;oe++)for(let be=-2;be<=2;be++)oe===-2||oe===2||be===-2||be===2||oe===0&&be===0?V.set(ye+oe,te+be,!0,!0):V.set(ye+oe,te+be,!1,!0)}}function M(V,K){const Q=V.size,re=b.getEncodedBits(K);let ye,te,oe;for(let be=0;be<18;be++)ye=Math.floor(be/3),te=be%3+Q-8-3,oe=(re>>be&1)===1,V.set(ye,te,oe,!0),V.set(te,ye,oe,!0)}function U(V,K,Q){const re=V.size,ye=S.getEncodedBits(K,Q);let te,oe;for(te=0;te<15;te++)oe=(ye>>te&1)===1,te<6?V.set(te,8,oe,!0):te<8?V.set(te+1,8,oe,!0):V.set(re-15+te,8,oe,!0),te<8?V.set(8,re-te-1,oe,!0):te<9?V.set(8,15-te-1+1,oe,!0):V.set(8,15-te-1,oe,!0);V.set(re-8,8,1,!0)}function D(V,K){const Q=V.size;let re=-1,ye=Q-1,te=7,oe=0;for(let be=Q-1;be>0;be-=2)for(be===6&&be--;;){for(let q=0;q<2;q++)if(!V.isReserved(ye,be-q)){let Y=!1;oe<K.length&&(Y=(K[oe]>>>te&1)===1),V.set(ye,be-q,Y),te--,te===-1&&(oe++,te=7)}if(ye+=re,ye<0||Q<=ye){ye-=re,re=-re;break}}}function P(V,K,Q){const re=new l;Q.forEach(function(q){re.put(q.mode.bit,4),re.put(q.getLength(),w.getCharCountIndicator(q.mode,V)),q.write(re)});const ye=t.getSymbolTotalCodewords(V),te=y.getTotalCodewordsCount(V,K),oe=(ye-te)*8;for(re.getLengthInBits()+4<=oe&&re.put(0,4);re.getLengthInBits()%8!==0;)re.putBit(0);const be=(oe-re.getLengthInBits())/8;for(let q=0;q<be;q++)re.put(q%2?17:236,8);return G(re,V,K)}function G(V,K,Q){const re=t.getSymbolTotalCodewords(K),ye=y.getTotalCodewordsCount(K,Q),te=re-ye,oe=y.getBlocksCount(K,Q),be=re%oe,q=oe-be,Y=Math.floor(re/oe),Z=Math.floor(te/oe),W=Z+1,ce=Y-Z,Te=new v(ce);let ee=0;const O=new Array(oe),ne=new Array(oe);let R=0;const H=new Uint8Array(V.buffer);for(let Ye=0;Ye<oe;Ye++){const Fe=Ye<q?Z:W;O[Ye]=H.slice(ee,ee+Fe),ne[Ye]=Te.encode(O[Ye]),ee+=Fe,R=Math.max(R,Fe)}const pe=new Uint8Array(re);let je=0,Me,qe;for(Me=0;Me<R;Me++)for(qe=0;qe<oe;qe++)Me<O[qe].length&&(pe[je++]=O[qe][Me]);for(Me=0;Me<ce;Me++)for(qe=0;qe<oe;qe++)pe[je++]=ne[qe][Me];return pe}function J(V,K,Q,re){let ye;if(Array.isArray(V))ye=C.fromArray(V);else if(typeof V=="string"){let Y=K;if(!Y){const Z=C.rawSplit(V);Y=b.getBestVersionForData(Z,Q)}ye=C.fromString(V,Y||40)}else throw new Error("Invalid data");const te=b.getBestVersionForData(ye,Q);if(!te)throw new Error("The amount of data is too big to be stored in a QR Code");if(!K)K=te;else if(K<te)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+te+`.
`);const oe=P(K,Q,ye),be=t.getSymbolSize(K),q=new o(be);return z(q,K),k(q),A(q,K),U(q,Q,0),K>=7&&M(q,K),D(q,oe),isNaN(re)&&(re=p.getBestMask(q,U.bind(null,q,Q))),p.applyMask(re,q),U(q,Q,re),{modules:q,version:K,errorCorrectionLevel:Q,maskPattern:re,segments:ye}}return Lh.create=function(K,Q){if(typeof K>"u"||K==="")throw new Error("No input text");let re=a.M,ye,te;return typeof Q<"u"&&(re=a.from(Q.errorCorrectionLevel,a.M),ye=b.from(Q.version),te=p.from(Q.maskPattern),Q.toSJISFunc&&t.setToSJISFunction(Q.toSJISFunc)),J(K,ye,re,te)},Lh}var tf={},nf={},Wv;function l_(){return Wv||(Wv=1,(function(t){function a(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(m){return[m,m]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,m=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:m,scale:m?4:p,margin:d,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const m=t.getScale(o,d);return Math.floor((o+d.margin*2)*m)},t.qrToImageData=function(o,d,m){const p=d.modules.size,y=d.modules.data,v=t.getScale(p,m),b=Math.floor((p+m.margin*2)*v),S=m.margin*v,w=[m.color.light,m.color.dark];for(let C=0;C<b;C++)for(let z=0;z<b;z++){let k=(C*b+z)*4,A=m.color.light;if(C>=S&&z>=S&&C<b-S&&z<b-S){const M=Math.floor((C-S)/v),U=Math.floor((z-S)/v);A=w[y[M*p+U]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(nf)),nf}var e0;function Wz(){return e0||(e0=1,(function(t){const a=l_();function l(d,m,p){d.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=p,m.width=p,m.style.height=p+"px",m.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(m,p,y){let v=y,b=p;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),p||(b=o()),v=a.getOptions(v);const S=a.getImageWidth(m.modules.size,v),w=b.getContext("2d"),C=w.createImageData(S,S);return a.qrToImageData(C.data,m,v),l(w,b,S),w.putImageData(C,0,0),b},t.renderToDataURL=function(m,p,y){let v=y;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),v||(v={});const b=t.render(m,p,v),S=v.type||"image/png",w=v.rendererOpts||{};return b.toDataURL(S,w.quality)}})(tf)),tf}var af={},t0;function e3(){if(t0)return af;t0=1;const t=l_();function a(d,m){const p=d.a/255,y=m+'="'+d.hex+'"';return p<1?y+" "+m+'-opacity="'+p.toFixed(2).slice(1)+'"':y}function l(d,m,p){let y=d+m;return typeof p<"u"&&(y+=" "+p),y}function o(d,m,p){let y="",v=0,b=!1,S=0;for(let w=0;w<d.length;w++){const C=Math.floor(w%m),z=Math.floor(w/m);!C&&!b&&(b=!0),d[w]?(S++,w>0&&C>0&&d[w-1]||(y+=b?l("M",C+p,.5+z+p):l("m",v,0),v=0,b=!1),C+1<m&&d[w+1]||(y+=l("h",S),S=0)):v++}return y}return af.render=function(m,p,y){const v=t.getOptions(p),b=m.modules.size,S=m.modules.data,w=b+v.margin*2,C=v.color.light.a?"<path "+a(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+a(v.color.dark,"stroke")+' d="'+o(S,b,v.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',M='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+k+' shape-rendering="crispEdges">'+C+z+`</svg>
`;return typeof y=="function"&&y(null,M),M},af}var n0;function t3(){if(n0)return Tl;n0=1;const t=Rz(),a=Xz(),l=Wz(),o=e3();function d(m,p,y,v,b){const S=[].slice.call(arguments,1),w=S.length,C=typeof S[w-1]=="function";if(!C&&!t())throw new Error("Callback required as last argument");if(C){if(w<2)throw new Error("Too few arguments provided");w===2?(b=y,y=p,p=v=void 0):w===3&&(p.getContext&&typeof b>"u"?(b=v,v=void 0):(b=v,v=y,y=p,p=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(y=p,p=v=void 0):w===2&&!p.getContext&&(v=y,y=p,p=void 0),new Promise(function(z,k){try{const A=a.create(y,v);z(m(A,p,v))}catch(A){k(A)}})}try{const z=a.create(y,v);b(null,m(z,p,v))}catch(z){b(z)}}return Tl.create=a.create,Tl.toCanvas=d.bind(null,l.render),Tl.toDataURL=d.bind(null,l.renderToDataURL),Tl.toString=d.bind(null,function(m,p,y){return o.render(m,y)}),Tl}var n3=t3();const a0=cd(n3),a3=[41.0082,28.9784];function Us(t){return t.toFixed(6)}function i3({lat:t,lon:a,radiusM:l,onSelect:o}){const d=N.useRef(null),m=N.useRef(null),p=N.useRef(null),y=N.useRef(null),[v,b]=N.useState(!1),[S,w]=N.useState(""),[C,z]=N.useState(!1),[k,A]=N.useState(null),[M,U]=N.useState(null),D=N.useMemo(()=>t!==null&&a!==null?[t,a]:a3,[t,a]);N.useEffect(()=>{if(!(!d.current||m.current)){try{const J=Wi.map(d.current,{center:D,zoom:t!==null&&a!==null?17:12,zoomControl:!0});m.current=J,Wi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo(J);const V=Wi.circleMarker(D,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo(J);p.current=V;const K=Wi.circle(D,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo(J);y.current=K,J.on("click",Q=>{const re=Q.latlng.lat,ye=Q.latlng.lng;o(re,ye),U(`Haritadan secildi: ${Us(re)}, ${Us(ye)}`)}),b(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),b(!1)}return()=>{m.current&&(m.current.remove(),m.current=null),p.current=null,y.current=null,b(!1)}}},[D,t,a,o,l]),N.useEffect(()=>{if(!m.current||!p.current||!y.current)return;const J=m.current,V=p.current,K=y.current;if(t!==null&&a!==null){const re=[t,a];V.setLatLng(re),K.setLatLng(re),J.panTo(re,{animate:!0})}const Q=Number.isFinite(l)&&l>0?l:75;K.setRadius(Q)},[t,a,l]);const P=N.useCallback(async()=>{if(!v||!m.current)return;const J=S.trim();if(!J){U("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const V=new URL("https://nominatim.openstreetmap.org/search");V.searchParams.set("q",J),V.searchParams.set("format","json"),V.searchParams.set("limit","1"),V.searchParams.set("addressdetails","1"),V.searchParams.set("accept-language","tr");const K=await fetch(V.toString(),{headers:{Accept:"application/json"}});if(!K.ok)throw new Error("search_failed");const Q=await K.json();if(!Array.isArray(Q)||Q.length===0){U("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const re=Q[0],ye=Number(re.lat),te=Number(re.lon);if(!Number.isFinite(ye)||!Number.isFinite(te)){U("Adres koordinata cevrilemedi.");return}o(ye,te),m.current.setView([ye,te],17,{animate:!0}),U(`Adres bulundu: ${Us(ye)}, ${Us(te)}${re.display_name?` (${re.display_name})`:""}`)}catch{U("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[v,o,S]),G=N.useCallback(()=>{if(!navigator.geolocation){U("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition(J=>{const V=J.coords.latitude,K=J.coords.longitude;o(V,K),U(`Mevcut konum alindi: ${Us(V)}, ${Us(K)}`)},()=>{U("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return i.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?i.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):i.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[i.jsx("input",{value:S,onChange:J=>w(J.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),i.jsx("button",{type:"button",onClick:()=>{P()},disabled:!v||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),i.jsx("button",{type:"button",onClick:G,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),i.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?Us(t):"-"]}),i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",a!==null?Us(a):"-"]}),i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),M?i.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:M}):null]})}const Kc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Qc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},s3={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function i0(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function s0(t,a){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a}function r3(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function l3(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(null),[d,m]=N.useState(null),[p,y]=N.useState(null),[v,b]=N.useState(""),[S,w]=N.useState(""),[C,z]=N.useState(""),[k,A]=N.useState(Kc),[M,U]=N.useState(s3),[D,P]=N.useState(Qc),[G,J]=N.useState([]),[V,K]=N.useState(null),Q=Le({queryKey:["qr-codes"],queryFn:()=>J2()}),re=Le({queryKey:["qr-points"],queryFn:()=>nE()}),ye=$e({mutationFn:X2,onSuccess:ae=>{a({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${ae.id}`}),A(Kc),o(ae.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:ae=>{a({variant:"error",title:"QR kod olusturulamadi",description:Be(ae,"Islem basarisiz.").message})}}),te=$e({mutationFn:({codeId:ae,payload:Ce})=>W2(ae,Ce),onSuccess:ae=>{a({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${ae.id}`}),m(null),A(Kc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:ae=>{a({variant:"error",title:"QR kod guncellenemedi",description:Be(ae,"Islem basarisiz.").message})}}),oe=$e({mutationFn:({codeId:ae,pointIds:Ce})=>eE(ae,{point_ids:Ce}),onSuccess:()=>{a({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),J([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{a({variant:"error",title:"Atama basarisiz",description:Be(ae,"Nokta atamasi yapilamadi.").message})}}),be=$e({mutationFn:({codeId:ae,pointId:Ce})=>tE(ae,Ce),onSuccess:()=>{a({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{a({variant:"error",title:"Islem basarisiz",description:Be(ae,"Nokta kaldirilamadi.").message})}}),q=$e({mutationFn:aE,onSuccess:ae=>{a({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${ae.id}`}),P(Qc),t.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{a({variant:"error",title:"QR nokta olusturulamadi",description:Be(ae,"Islem basarisiz.").message})}}),Y=$e({mutationFn:({pointId:ae,payload:Ce})=>iE(ae,Ce),onSuccess:()=>{a({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),y(null),P(Qc),t.invalidateQueries({queryKey:["qr-points"]})},onError:ae=>{a({variant:"error",title:"QR nokta guncellenemedi",description:Be(ae,"Islem basarisiz.").message})}}),Z=$e({mutationFn:sE,onSuccess:()=>{a({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:ae=>{a({variant:"error",title:"Islem basarisiz",description:Be(ae,"Nokta pasife alinamadi.").message})}}),W=Q.data??[],ce=re.data??[];N.useEffect(()=>{l===null&&W.length>0&&o(W[0].id),l!==null&&!W.some(ae=>ae.id===l)&&o(W.length>0?W[0].id:null)},[W,l]);const Te=N.useMemo(()=>W.find(ae=>ae.id===l)??null,[W,l]);N.useEffect(()=>{if(!Te){K(null);return}let ae=!1;return a0.toDataURL(Te.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Ce=>{ae||K(Ce)}).catch(()=>{ae||K(null)}),()=>{ae=!0}},[Te?.id,Te?.code_value]);const ee=N.useMemo(()=>{const ae=new Map;for(const Ce of ce)ae.set(Ce.id,Ce);return ae},[ce]),O=N.useMemo(()=>Te?Te.point_ids.map(ae=>ee.get(ae)??null).filter(ae=>ae!==null):[],[Te,ee]),ne=N.useMemo(()=>{const ae=v.trim().toLowerCase();return ae?W.filter(Ce=>String(Ce.id).includes(ae)||(Ce.name??"").toLowerCase().includes(ae)||Ce.code_value.toLowerCase().includes(ae)):W},[W,v]),R=N.useMemo(()=>{const ae=S.trim().toLowerCase();return ae?ce.filter(Ce=>String(Ce.id).includes(ae)||Ce.name.toLowerCase().includes(ae)||String(Ce.department_id??"").includes(ae)||String(Ce.region_id??"").includes(ae)):ce},[ce,S]),H=N.useMemo(()=>{const ae=ce.filter(He=>He.is_active),Ce=C.trim().toLowerCase();return Ce?ae.filter(He=>String(He.id).includes(Ce)||He.name.toLowerCase().includes(Ce)||String(He.department_id??"").includes(Ce)||String(He.region_id??"").includes(Ce)):ae},[ce,C]),pe=N.useMemo(()=>{const ae=W.filter(ct=>ct.is_active).length,Ce=ce.filter(ct=>ct.is_active).length,He=W.filter(ct=>ct.point_ids.length===0).length;return{codeCount:W.length,activeCodes:ae,pointCount:ce.length,activePoints:Ce,codesWithoutPoint:He}},[W,ce]),je=N.useMemo(()=>{const ae=Number(D.lat);return Number.isFinite(ae)?ae:null},[D.lat]),Me=N.useMemo(()=>{const ae=Number(D.lon);return Number.isFinite(ae)?ae:null},[D.lon]),qe=N.useMemo(()=>{const ae=Number(D.radiusM);return Number.isFinite(ae)&&ae>0?ae:75},[D.radiusM]),Ye=ae=>{J(Ce=>Ce.includes(ae)?Ce.filter(He=>He!==ae):[...Ce,ae])},Fe=ae=>{m(ae.id),A({name:ae.name??"",codeValue:ae.code_value,codeType:ae.code_type,isActive:ae.is_active})},Ne=()=>{m(null),A(Kc)},nt=()=>{const ae=s0(M.regionCode,"GEN"),Ce=s0(M.locationCode,"LOKASYON"),He=Number(M.serialNo),ct=Number.isFinite(He)&&He>0?Math.floor(He):1,wt=r3(k.codeType),dt=`PF-${ae}-${Ce}-${wt}-${String(ct).padStart(6,"0")}`;A(ve=>({...ve,codeValue:dt}))},St=ae=>{y(ae.id),P({name:ae.name,lat:String(ae.lat),lon:String(ae.lon),radiusM:String(ae.radius_m),isActive:ae.is_active})},Nt=()=>{y(null),P(Qc)},yt=ae=>{ae.preventDefault();const Ce=k.codeValue.trim();if(!Ce){a({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const He={name:k.name.trim()||null,code_value:Ce,code_type:k.codeType,is_active:k.isActive};if(d===null){ye.mutate(He);return}te.mutate({codeId:d,payload:He})},Qt=ae=>{ae.preventDefault();const Ce=D.name.trim(),He=Number(D.lat),ct=Number(D.lon),wt=Number(D.radiusM);if(!Ce){a({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(He)||!Number.isFinite(ct)||!Number.isFinite(wt)||wt<=0){a({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const dt={name:Ce,lat:He,lon:ct,radius_m:wt,is_active:D.isActive};if(p===null){q.mutate(dt);return}Y.mutate({pointId:p,payload:dt})},It=()=>{if(!Te){a({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(G.length===0){a({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}oe.mutate({codeId:Te.id,pointIds:G})},mt=async ae=>{try{await navigator.clipboard.writeText(ae),a({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{a({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},pn=async ae=>{try{const Ce=await a0.toDataURL(ae.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),He=document.createElement("a");He.href=Ce,He.download=`qr-kod-${ae.id}.png`,document.body.appendChild(He),He.click(),document.body.removeChild(He),a({variant:"success",title:"PNG indirildi",description:`QR kod #${ae.id} dosyasi indirildi.`})}catch{a({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return Q.isLoading||re.isLoading?i.jsx(Ot,{}):Q.isError||re.isError?i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):i.jsxs("div",{className:"mx-auto w-full max-w-[1320px] space-y-4",children:[i.jsx(En,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),i.jsx(Ae,{className:"min-w-0",children:i.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.45fr)_minmax(260px,0.95fr)]",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),i.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[i.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),i.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),i.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),i.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),i.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm sm:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:pe.codeCount}),i.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",pe.activeCodes]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:pe.pointCount}),i.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",pe.activePoints]})]}),i.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[i.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),i.jsx("p",{className:"text-lg font-semibold text-rose-800",children:pe.codesWithoutPoint}),i.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[i.jsxs(Ae,{className:"min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:yt,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",i.jsx("input",{value:k.name,onChange:ae=>A(Ce=>({...Ce,name:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),i.jsxs("div",{className:"mt-2 grid gap-2 sm:grid-cols-2 xl:grid-cols-4",children:[i.jsx("input",{value:M.regionCode,onChange:ae=>U(Ce=>({...Ce,regionCode:ae.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),i.jsx("input",{value:M.locationCode,onChange:ae=>U(Ce=>({...Ce,locationCode:ae.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),i.jsx("input",{type:"number",min:1,value:M.serialNo,onChange:ae=>U(Ce=>({...Ce,serialNo:ae.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),i.jsx("button",{type:"button",onClick:nt,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",i.jsx("input",{value:k.codeValue,onChange:ae=>A(Ce=>({...Ce,codeValue:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",i.jsxs("select",{value:k.codeType,onChange:ae=>A(Ce=>({...Ce,codeType:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),i.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),i.jsx("option",{value:"BOTH",children:"BOTH"})]}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k.isActive,onChange:ae=>A(Ce=>({...Ce,isActive:ae.target.checked}))}),"Aktif"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:ye.isPending||te.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?i.jsx("button",{type:"button",onClick:Ne,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),i.jsxs(Ae,{className:"min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),i.jsx("div",{className:"mt-3",children:i.jsx(ts,{value:v,onChange:b,placeholder:"Kod adi / degeri / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-80 overflow-auto overscroll-contain rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-[980px] text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"ID"}),i.jsx("th",{className:"px-3 py-2",children:"Kod"}),i.jsx("th",{className:"px-3 py-2",children:"Tip"}),i.jsx("th",{className:"px-3 py-2",children:"Durum"}),i.jsx("th",{className:"px-3 py-2",children:"Nokta"}),i.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),i.jsxs("tbody",{children:[ne.map(ae=>i.jsxs("tr",{className:`border-t border-slate-100 ${l===ae.id?"bg-brand-50/60":""}`,children:[i.jsx("td",{className:"px-3 py-2",children:ae.id}),i.jsxs("td",{className:"px-3 py-2",children:[i.jsx("button",{type:"button",onClick:()=>o(ae.id),className:"font-medium text-brand-700 hover:underline",children:ae.name||"-"}),i.jsx("div",{className:"max-w-[340px] break-all text-xs text-slate-500",children:ae.code_value})]}),i.jsx("td",{className:"px-3 py-2",children:i0(ae.code_type)}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ae.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ae.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"px-3 py-2",children:ae.point_ids.length}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{type:"button",onClick:()=>Fe(ae),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),i.jsx("button",{type:"button",onClick:()=>{pn(ae)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},ae.id)),ne.length===0?i.jsx("tr",{children:i.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[i.jsxs(Ae,{className:"min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Te?`3) QR Kod Detay (#${Te.id})`:"3) QR Kod Detay"}),Te?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Te.name||"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Te.code_value]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Tip:"})," ",i0(Te.code_type)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Te.is_active?"Aktif":"Pasif"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Te.point_ids.length]})]}),Te.point_ids.length===0?i.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,i.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),i.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Te.code_value}),V?i.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[i.jsx("img",{src:V,alt:`QR Kod ${Te.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{pn(Te)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),i.jsx("button",{type:"button",onClick:()=>{mt(Te.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):i.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),i.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),O.length===0?i.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):i.jsx("div",{className:"space-y-2",children:O.map(ae=>i.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-slate-800",children:["#",ae.id," - ",ae.name]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",ae.lat,", ",ae.lon," | radius: ",ae.radius_m,"m"]})]}),i.jsx("button",{type:"button",onClick:()=>be.mutate({codeId:Te.id,pointId:ae.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},ae.id))})]}):i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),i.jsxs(Ae,{className:"min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),i.jsx("div",{className:"mt-3",children:i.jsx(ts,{value:C,onChange:z,placeholder:"Nokta adi / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-56 overflow-auto overscroll-contain rounded-lg border border-slate-200 p-2",children:H.length===0?i.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):i.jsx("div",{className:"space-y-1",children:H.map(ae=>i.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[i.jsx("input",{type:"checkbox",checked:G.includes(ae.id),onChange:()=>Ye(ae.id)}),i.jsxs("span",{children:["#",ae.id," - ",ae.name," (",ae.radius_m,"m)"]})]},ae.id))})}),i.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[i.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",G.length]}),i.jsx("button",{type:"button",onClick:It,disabled:oe.isPending||Te===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[i.jsxs(Ae,{className:"min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Qt,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",i.jsx("input",{value:D.name,onChange:ae=>P(Ce=>({...Ce,name:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",i.jsx("input",{type:"number",step:"any",value:D.lat,onChange:ae=>P(Ce=>({...Ce,lat:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",i.jsx("input",{type:"number",step:"any",value:D.lon,onChange:ae=>P(Ce=>({...Ce,lon:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsx(i3,{lat:je,lon:Me,radiusM:qe,onSelect:(ae,Ce)=>P(He=>({...He,lat:String(ae),lon:String(Ce)}))}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",i.jsx("input",{type:"number",min:1,value:D.radiusM,onChange:ae=>P(Ce=>({...Ce,radiusM:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:D.isActive,onChange:ae=>P(Ce=>({...Ce,isActive:ae.target.checked}))}),"Aktif"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:q.isPending||Y.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?i.jsx("button",{type:"button",onClick:Nt,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),i.jsxs(Ae,{className:"min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),i.jsx("div",{className:"mt-3",children:i.jsx(ts,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-96 overflow-auto overscroll-contain rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-[920px] text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"ID"}),i.jsx("th",{className:"px-3 py-2",children:"Nokta"}),i.jsx("th",{className:"px-3 py-2",children:"Konum"}),i.jsx("th",{className:"px-3 py-2",children:"Durum"}),i.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),i.jsxs("tbody",{children:[R.map(ae=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-3 py-2",children:ae.id}),i.jsxs("td",{className:"px-3 py-2",children:[i.jsx("p",{className:"font-medium text-slate-800",children:ae.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",ae.radius_m,"m"]})]}),i.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[ae.lat,", ",ae.lon]}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ae.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ae.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{type:"button",onClick:()=>St(ae),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),ae.is_active?i.jsx("button",{type:"button",onClick:()=>Z.mutate(ae.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},ae.id)),R.length===0?i.jsx("tr",{children:i.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const r0=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function o3(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState({}),[S,w]=N.useState(""),[C,z]=N.useState("09:00"),[k,A]=N.useState("17:30"),[M,U]=N.useState("60"),[D,P]=N.useState(!0),[G,J]=N.useState(null),V=Le({queryKey:["departments"],queryFn:Fs}),K=Le({queryKey:["employees","all-for-quick-setup"],queryFn:()=>li({include_inactive:!0,status:"all"})}),Q=Le({queryKey:["department-weekly-rules"],queryFn:()=>mb()}),re=Le({queryKey:["department-shifts"],queryFn:()=>du({active_only:!1})}),ye=l?Number(l):null,te=$e({mutationFn:({employeeId:R,departmentId:H})=>G2(R,{department_id:H}),onSuccess:R=>{a({variant:"success",title:"Departman atamas gncellendi",description:`${R.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:R=>{a({variant:"error",title:"Departman gncellenemedi",description:Be(R,"lem baarsz.").message})}}),oe=$e({mutationFn:hb,onSuccess:()=>{a({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:R=>{a({variant:"error",title:"Haftalk kural kaydedilemedi",description:Be(R,"lem baarsz.").message})}}),be=$e({mutationFn:id,onSuccess:()=>{a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),U("60"),P(!0),J(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{a({variant:"error",title:"Vardiya kaydedilemedi",description:Be(R,"lem baarsz.").message})}}),q=$e({mutationFn:fb,onSuccess:()=>{a({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),G!==null&&(J(null),w(""),z("09:00"),A("17:30"),U("60"),P(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{a({variant:"error",title:"Vardiya pasife alnamad",description:Be(R,"lem baarsz.").message})}}),Y=$e({mutationFn:({shift:R,nextActive:H})=>id({id:R.id,department_id:R.department_id,name:R.name,start_time_local:R.start_time_local,end_time_local:R.end_time_local,break_minutes:R.break_minutes,is_active:H}),onSuccess:(R,H)=>{a({variant:"success",title:H.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:H.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{a({variant:"error",title:"Vardiya durumu gncellenemedi",description:Be(R,"lem baarsz.").message})}}),Z=V.data??[],W=K.data??[],ce=Q.data??[],Te=re.data??[],ee=N.useMemo(()=>new Map(Z.map(R=>[R.id,R.name])),[Z]),O=N.useMemo(()=>ye?Te.filter(R=>R.department_id===ye):[],[ye,Te]),ne=N.useMemo(()=>W.find(R=>String(R.id)===d),[W,d]);return N.useEffect(()=>{if(!ye){b({});return}const R=new Map(ce.filter(pe=>pe.department_id===ye).map(pe=>[pe.weekday,pe])),H={};for(const pe of r0){const je=R.get(pe.value);H[pe.value]={is_workday:je?.is_workday??!0,planned_minutes:String(je?.planned_minutes??540),break_minutes:String(je?.break_minutes??60)}}b(H)},[ye,ce]),V.isLoading||K.isLoading||Q.isLoading||re.isLoading?i.jsx(Ot,{}):V.isError||K.isError||Q.isError||re.isError?i.jsx(jt,{message:"Hzl ayarlar verileri alnamad."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsx(Fa,{label:"alan",employees:W,value:d,onChange:R=>{m(R);const H=W.find(pe=>String(pe.id)===R);y(H?.department_id?String(H.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",i.jsxs("select",{value:p,onChange:R=>y(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmam"}),Z.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[i.jsxs("div",{children:[i.jsxs("p",{children:["Seili alan:"," ",ne?`#${ne.id} - ${ne.full_name}`:"-"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",ne?.department_id?ee.get(ne.department_id)??"-":"Atanmam"]})]}),i.jsx("button",{type:"button",disabled:!ne||te.isPending,onClick:()=>{ne&&te.mutate({employeeId:ne.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),i.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l,onChange:R=>o(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seiniz"}),Z.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]})]})}),ye?i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Gn"}),i.jsx("th",{className:"py-2",children:"alma Gn"}),i.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),i.jsx("th",{className:"py-2",children:"Mola Dakika"}),i.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:r0.map(R=>{const H=v[R.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:R.label}),i.jsx("td",{className:"py-2",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:H.is_workday,onChange:pe=>b(je=>({...je,[R.value]:{...H,is_workday:pe.target.checked}}))}),"alma gn"]})}),i.jsx("td",{className:"py-2",children:i.jsx("input",{value:H.planned_minutes,onChange:pe=>b(je=>({...je,[R.value]:{...H,planned_minutes:pe.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),i.jsx("td",{className:"py-2",children:i.jsx("input",{value:H.break_minutes,onChange:pe=>b(je=>({...je,[R.value]:{...H,break_minutes:pe.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),i.jsx("td",{className:"py-2 text-right",children:i.jsx("button",{type:"button",disabled:oe.isPending,onClick:()=>{const pe=Number(H.planned_minutes),je=Number(H.break_minutes);if(!Number.isFinite(pe)||pe<0){a({variant:"error",title:"Geersiz planlanan dakika",description:`${R.label} iin say giriniz.`});return}if(!Number.isFinite(je)||je<0){a({variant:"error",title:"Geersiz mola dakikas",description:`${R.label} iin say giriniz.`});return}oe.mutate({department_id:ye,weekday:R.value,is_workday:H.is_workday,planned_minutes:Math.trunc(pe),break_minutes:Math.trunc(je)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},R.value)})})]})}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),ye?i.jsxs(i.Fragment,{children:[i.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:R=>{if(R.preventDefault(),!S.trim()){a({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const H=Number(M);if(!Number.isFinite(H)||H<0){a({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}be.mutate({id:G??void 0,department_id:ye,name:S.trim(),start_time_local:C,end_time_local:k,break_minutes:Math.trunc(H),is_active:D})},children:[G?i.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",G]}):null,i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",i.jsx("input",{value:S,onChange:R=>w(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",i.jsx("input",{type:"time",value:C,onChange:R=>z(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",i.jsx("input",{type:"time",value:k,onChange:R=>A(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",i.jsx("input",{value:M,onChange:R=>U(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:D,onChange:R=>P(R.target.checked)}),"Aktif"]}),i.jsx("button",{type:"submit",disabled:be.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:be.isPending?"Kaydediliyor...":G?"Vardiya Gncelle":"Vardiya Kaydet"}),G?i.jsx("button",{type:"button",onClick:()=>{J(null),w(""),z("09:00"),A("17:30"),U("60"),P(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Saat Aral"}),i.jsx("th",{className:"py-2",children:"Mola"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),i.jsx("tbody",{children:O.map(R=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:R.name}),i.jsxs("td",{className:"py-2",children:[R.start_time_local," - ",R.end_time_local]}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:R.break_minutes})}),i.jsx("td",{className:"py-2",children:R.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{J(R.id),w(R.name),z(R.start_time_local),A(R.end_time_local),U(String(R.break_minutes)),P(R.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),R.is_active?i.jsx("button",{type:"button",disabled:q.isPending||Y.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&q.mutate(R.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):i.jsx("button",{type:"button",disabled:Y.isPending||q.isPending,onClick:()=>Y.mutate({shift:R,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},R.id))})]})}),O.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const l0=Ga({name:fa().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:Sd()});function o0(t){return Gt.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Be(t,"Bolge islemi basarisiz.").message}function u3(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState(!0),[p,y]=N.useState(""),[v,b]=N.useState(!0),[S,w]=N.useState(null),[C,z]=N.useState(""),[k,A]=N.useState(!0),[M,U]=N.useState(null),D=Le({queryKey:["regions",v],queryFn:()=>yd({include_inactive:v})}),P=$e({mutationFn:R2,onSuccess:Q=>{o(""),m(!0),U(null),a({variant:"success",title:"Bolge olusturuldu",description:`${Q.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:Q=>{const re=o0(Q);U(re),a({variant:"error",title:"Bolge olusturulamadi",description:re})}}),G=$e({mutationFn:({regionId:Q,payload:re})=>L2(Q,re),onSuccess:Q=>{U(null),w(null),z(""),A(!0),a({variant:"success",title:"Bolge guncellendi",description:`${Q.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:Q=>{const re=o0(Q);U(re),a({variant:"error",title:"Bolge guncellenemedi",description:re})}}),J=Q=>{Q.preventDefault(),U(null);const re=l0.safeParse({name:l,is_active:d});if(!re.success){const ye=re.error.issues[0]?.message??"Bolge formunu kontrol edin.";U(ye);return}P.mutate(re.data)},V=Q=>{if(Q.preventDefault(),U(null),!S)return;const re=l0.safeParse({name:C,is_active:k});if(!re.success){const ye=re.error.issues[0]?.message??"Bolge formunu kontrol edin.";U(ye);return}G.mutate({regionId:S,payload:re.data})},K=N.useMemo(()=>{const Q=D.data??[],re=p.trim().toLowerCase();return re?Q.filter(ye=>ye.name.toLowerCase().includes(re)):Q},[D.data,p]);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:J,className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",i.jsx("input",{value:l,onChange:Q=>o(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:d,onChange:Q=>m(Q.target.checked)}),"Aktif"]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"submit",disabled:P.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:P.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),M?i.jsx("p",{className:"form-validation mt-2",children:M}):null]}),S?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:V,className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",i.jsx("input",{value:C,onChange:Q=>z(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:Q=>A(Q.target.checked)}),"Aktif"]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("button",{type:"submit",disabled:G.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Guncelleniyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),U(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),M?i.jsx("p",{className:"form-validation mt-2",children:M}):null]}):null,D.isLoading?i.jsx(Ot,{}):null,D.isError?i.jsx(jt,{message:"Bolge listesi alinamadi."}):null,!D.isLoading&&!D.isError?i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsx(ts,{value:p,onChange:y,placeholder:"Bolge adina gore ara..."}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:Q=>b(Q.target.checked)}),"Pasif bolgeleri goster"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Bolge ID"}),i.jsx("th",{className:"py-2",children:"Bolge Adi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:K.map(Q=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Q.id}),i.jsx("td",{className:"py-2",children:Q.name}),i.jsx("td",{className:"py-2",children:i.jsx(qs,{value:Q.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>{w(Q.id),z(Q.name),A(Q.is_active),U(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},Q.id))})]})}),K.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function Cl(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function c3(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":t==="FAILED"?"bg-rose-100 text-rose-700":t==="CANCELED"?"bg-slate-200 text-slate-700":t==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function d3(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}function u0(t){return t==="admins"?"ADMIN":t==="employees"?"CALISAN":t==="both"?"HER IKISI":t.toUpperCase()}function m3(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}const Go=25,Vo=50;function h3(){const t=Pn(),{pushToast:a}=In(),{user:l}=Lr(),[o,d]=Ff(),[m,p]=N.useState("Puantaj Bildirimi"),[y,v]=N.useState(""),[b,S]=N.useState(""),[w,C]=N.useState("employees"),[z,k]=N.useState(60),[A,M]=N.useState(""),[U,D]=N.useState(1),[P,G]=N.useState(""),[J,V]=N.useState(""),[K,Q]=N.useState([]),[re,ye]=N.useState([]),[te,oe]=N.useState(null),[be,q]=N.useState(!1),[Y,Z]=N.useState(""),[W,ce]=N.useState(""),[Te,ee]=N.useState(""),[O,ne]=N.useState(1),[R,H]=N.useState(""),[pe,je]=N.useState(null),Me=Le({queryKey:["employees","notify"],queryFn:()=>li({status:"active"})}),qe=Le({queryKey:["admin-users","notify"],queryFn:cb}),Ye=Le({queryKey:["admin-push-config"],queryFn:gb}),Fe=Le({queryKey:["admin-push-self-check"],queryFn:gE,refetchInterval:15e3}),Ne=Le({queryKey:["notification-jobs",A],queryFn:()=>dE({status:A||void 0,limit:100}),refetchInterval:1e4}),nt=Le({queryKey:["notification-delivery-logs"],queryFn:()=>mE({limit:400}),refetchInterval:15e3}),St=Le({queryKey:["notify-subs-emp"],queryFn:()=>fE({}),refetchInterval:15e3}),Nt=Le({queryKey:["notify-subs-admin"],queryFn:()=>pE({}),refetchInterval:15e3}),yt=Le({queryKey:["daily-archives",Y,W,Te],queryFn:()=>bE({limit:180,start_date:Y||void 0,end_date:W||void 0,employee_query:Te.trim()||void 0})}),Qt=N.useMemo(()=>{const ue=P.trim().toLowerCase();return ue?(Me.data??[]).filter(et=>`${et.id} ${et.full_name}`.toLowerCase().includes(ue)):Me.data??[]},[Me.data,P]),It=N.useMemo(()=>{const ue=J.trim().toLowerCase();return ue?(qe.data??[]).filter(et=>`${et.id} ${et.username}`.toLowerCase().includes(ue)):qe.data??[]},[qe.data,J]),mt=N.useMemo(()=>{const ue=R.trim().toLowerCase(),et=nt.data??[];return ue?et.filter(ht=>[ht.recipient_name??"",String(ht.recipient_id??""),String(ht.device_id??""),ht.ip??"",ht.status,ht.target,ht.title??"",ht.sender_admin].join(" ").toLowerCase().includes(ue)):et},[nt.data,R]),pn=N.useMemo(()=>mt.filter(ue=>ue.status==="SENT").length,[mt]),ae=N.useMemo(()=>mt.filter(ue=>ue.status==="FAILED").length,[mt]),Ce=N.useMemo(()=>mt.find(ue=>ue.audit_id===pe)??null,[mt,pe]),He=Ne.data??[],ct=N.useMemo(()=>Math.max(1,Math.ceil(He.length/Go)),[He.length]),wt=N.useMemo(()=>{const ue=(U-1)*Go;return He.slice(ue,ue+Go)},[U,He]),dt=He.length===0?0:(U-1)*Go+1,ve=Math.min(U*Go,He.length),Ue=yt.data??[],it=N.useMemo(()=>Math.max(1,Math.ceil(Ue.length/Vo)),[Ue.length]),We=N.useMemo(()=>{const ue=(O-1)*Vo;return Ue.slice(ue,ue+Vo)},[O,Ue]),tn=Ue.length===0?0:(O-1)*Vo+1,ie=Math.min(O*Vo,Ue.length),$=(Nt.data??[]).length,Qe=$>0,at=(l?.username??"").trim().toLowerCase(),Vt=typeof l?.admin_user_id=="number"&&l.admin_user_id>0?l.admin_user_id:null,Et=N.useMemo(()=>{const ue=Nt.data??[];let et=0,ht=0,Wn=0;for(const ea of ue){const Ci=Vt!==null&&ea.admin_user_id===Vt,Ai=at.length>0&&(ea.admin_username||"").trim().toLowerCase()===at;Ci&&(et+=1),Ai&&(ht+=1),(Ci||Ai)&&(Wn+=1)}return{total:Wn,byId:et,byUsername:ht}},[Nt.data,Vt,at]),An=Fe.data?.active_claims_for_actor??Et.total,Ei=Fe.data?.active_claims_for_actor_by_id??Et.byId,ki=Fe.data?.active_claims_for_actor_by_username??Et.byUsername,Bn=An>0,ga=$e({mutationFn:yE,onSuccess:ue=>{oe(ue),a({variant:"success",title:"Davet hazir",description:"Link admin cihaza gonderildi."}),navigator.clipboard.writeText(ue.invite_url)},onError:ue=>a({variant:"error",title:"Davet hatasi",description:Be(ue,"Davet olusturulamadi").message})}),Jn=$e({mutationFn:xE,onSuccess:ue=>{ue.total_targets<=0||ue.sent<=0?a({variant:"error",title:"Self-test basarisiz",description:`Hedef: ${ue.total_targets} | Gonderilen: ${ue.sent} | Hata: ${ue.failed}`}):a({variant:"success",title:"Self-test bildirimi gonderildi",description:`Hedef: ${ue.total_targets} | Gonderilen: ${ue.sent}`}),t.invalidateQueries({queryKey:["admin-push-self-check"]}),t.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:ue=>{const et=Be(ue,"Self-test bildirimi gonderilemedi.");a({variant:"error",title:"Self-test hatasi",description:et.message})}}),Xn=$e({mutationFn:xb,onSuccess:(ue,et)=>{const ht=et.target==="admins"||et.target==="both";ue.total_targets<=0?a({variant:"error",title:"Bildirim gonderilemedi",description:"Hedef 0. Aktif abonelik yok; once cihaz claim edin."}):ue.sent<=0?a({variant:"error",title:"Bildirim gonderilemedi",description:`Hedef: ${ue.total_targets} / Gonderilen: ${ue.sent} / Hata: ${ue.failed}`}):(a({variant:"success",title:"Bildirim gonderildi",description:`Hedef: ${ue.total_targets} / Gonderilen: ${ue.sent}`}),ht&&!Bn&&a({variant:"error",title:"Bu hesapta claim eksik",description:"Admin hedefli gonderim yapildi ancak bu hesapta aktif claim olmadigi icin sana dusmeyebilir."})),ht&&ue.admin_target_missing&&a({variant:"error",title:"Admin hedefi 0",description:"Calisan bildirimi gitmis olabilir ama admin hedefinde aktif abonelik yok. Admin claim zorunlu."}),t.invalidateQueries({queryKey:["notification-jobs"]}),t.invalidateQueries({queryKey:["notification-delivery-logs"]}),t.invalidateQueries({queryKey:["admin-push-self-check"]})},onError:ue=>a({variant:"error",title:"Gonderim hatasi",description:Be(ue,"Bildirim gonderilemedi").message})}),Ta=$e({mutationFn:hE,onSuccess:()=>{t.invalidateQueries({queryKey:["notification-jobs"]})}}),zn=$e({mutationFn:NE,onSuccess:(ue,et)=>{const ht=(yt.data??[]).find(Wn=>Wn.id===et);m3(ue,ht?.file_name??`arsiv-${et}.xlsx`)}}),Ti=$e({mutationFn:ue=>SE(ue),onSuccess:ue=>{ue.total_targets<=0||ue.sent<=0?a({variant:"error",title:"Arsiv bildirimi gonderilemedi",description:`Hedef: ${ue.total_targets} | Gonderilen: ${ue.sent} | Hata: ${ue.failed}. Aktif admin cihazi claim edilmeli.`}):(a({variant:"success",title:"Arsiv bildirimi gonderildi",description:`Hedef: ${ue.total_targets} | Gonderilen: ${ue.sent} | Hata: ${ue.failed}`}),Bn||a({variant:"error",title:"Bu hesapta claim eksik",description:"Bildirim gitti ama bu admin hesabinda aktif cihaz claim olmadigi icin sana dusmeyebilir."})),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:ue=>{const et=Be(ue,"Arsiv bildirimi gonderilemedi.");a({variant:"error",title:"Arsiv bildirimi basarisiz",description:et.message})}});return N.useEffect(()=>{if(be)return;const ue=o.get("archive_id");if(!ue)return;const et=Number(ue);if(!Number.isInteger(et)||et<=0){q(!0);return}if(!(yt.data??[]).find(ea=>ea.id===et))return;q(!0),zn.mutate(et);const Wn=new URLSearchParams(o);Wn.delete("archive_id"),d(Wn,{replace:!0})},[be,yt.data,zn,o,d]),N.useEffect(()=>{D(1)},[A]),N.useEffect(()=>{D(ue=>ue<1?1:ue>ct?ct:ue)},[ct]),N.useEffect(()=>{ne(1)},[Y,W,Te]),N.useEffect(()=>{if(mt.length===0){je(null);return}(pe===null||!mt.some(ue=>ue.audit_id===pe))&&je(mt[0].audit_id)},[mt,pe]),N.useEffect(()=>{ne(ue=>ue<1?1:ue>it?it:ue)},[it]),i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Bildirim Merkezi",description:"Push, claim daveti, job yonetimi ve gunluk Excel arsivi."}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet suresi (dk)",i.jsx("input",{type:"number",min:1,max:1440,value:z,onChange:ue=>k(Number(ue.target.value||60)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"button",onClick:()=>ga.mutate({expires_in_minutes:z}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki uret"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",Ye.data?.enabled?"Aktif":"Pasif"]})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link otomatik kopyalanir. Ekran: /admin-panel/device-claim?token=..."}),te?i.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[i.jsxs("p",{children:["Token: ",te.token]}),i.jsxs("p",{className:"break-all",children:["Link: ",te.invite_url]}),i.jsxs("p",{children:["Bitis: ",Cl(te.expires_at)]})]}):null]}),i.jsx(Ae,{children:i.jsxs("form",{className:"space-y-3",onSubmit:ue=>{ue.preventDefault(),Xn.mutate({title:m.trim(),message:y.trim(),password:b.trim(),target:w,employee_ids:w!=="admins"&&K.length>0?K:void 0,admin_user_ids:w!=="employees"&&re.length>0?re:void 0})},children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gonder"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[i.jsx("input",{value:m,onChange:ue=>p(ue.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Baslik"}),i.jsx("input",{type:"password",value:b,onChange:ue=>S(ue.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin sifresi"}),i.jsxs("select",{value:w,onChange:ue=>C(ue.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"employees",children:"Calisanlara"}),i.jsx("option",{value:"admins",children:"Adminlere"}),i.jsx("option",{value:"both",children:"Her ikisine"})]})]}),i.jsx("textarea",{value:y,onChange:ue=>v(ue.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),w!=="admins"?i.jsxs("div",{children:[i.jsx(ts,{value:P,onChange:G,placeholder:"Calisan filtrele..."}),i.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:Qt.map(ue=>i.jsxs("label",{className:"flex items-center justify-between py-1",children:[i.jsxs("span",{children:["#",ue.id," - ",ue.full_name]}),i.jsx("input",{type:"checkbox",checked:K.includes(ue.id),onChange:()=>Q(et=>et.includes(ue.id)?et.filter(ht=>ht!==ue.id):[...et,ue.id])})]},ue.id))})]}):null,w!=="employees"?i.jsxs("div",{children:[i.jsx(ts,{value:J,onChange:V,placeholder:"Admin filtrele..."}),i.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:It.map(ue=>i.jsxs("label",{className:"flex items-center justify-between py-1",children:[i.jsxs("span",{children:["#",ue.id," - ",ue.username]}),i.jsx("input",{type:"checkbox",checked:re.includes(ue.id),onChange:()=>ye(et=>et.includes(ue.id)?et.filter(ht=>ht!==ue.id):[...et,ue.id])})]},ue.id))})]}):null,i.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gonder"})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Isleri"}),i.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[i.jsxs("select",{value:A,onChange:ue=>M(ue.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[i.jsx("option",{value:"",children:"Tumu"}),i.jsx("option",{value:"PENDING",children:"PENDING"}),i.jsx("option",{value:"SENDING",children:"SENDING"}),i.jsx("option",{value:"SENT",children:"SENT"}),i.jsx("option",{value:"FAILED",children:"FAILED"}),i.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),i.jsx("button",{type:"button",onClick:()=>{Ne.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),Ne.isLoading?i.jsx(Ot,{label:"Yukleniyor..."}):null,Ne.isError?i.jsx(jt,{message:"Job listesi alinamadi."}):null,!Ne.isLoading&&!Ne.isError?i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[i.jsxs("span",{children:["Gosterilen satir: ",dt,"-",ve," / ",He.length]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>D(ue=>Math.max(1,ue-1)),disabled:U<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),i.jsxs("span",{children:["Sayfa ",U," / ",ct]}),i.jsx("button",{type:"button",onClick:()=>D(ue=>Math.min(ct,ue+1)),disabled:U>=ct,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,i.jsx("div",{className:"mt-2 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 bg-white",children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"px-2 py-2",children:"Sira"}),i.jsx("th",{className:"px-2 py-2",children:"ID"}),i.jsx("th",{className:"px-2 py-2",children:"Tur"}),i.jsx("th",{className:"px-2 py-2",children:"Durum"}),i.jsx("th",{className:"px-2 py-2",children:"Planlanan"}),i.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),i.jsx("tbody",{children:wt.map((ue,et)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-2 py-2 text-slate-500",children:dt+et}),i.jsx("td",{className:"px-2 py-2",children:ue.id}),i.jsx("td",{className:"px-2 py-2",children:ue.job_type}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("span",{className:`rounded px-2 py-1 text-xs ${c3(ue.status)}`,children:ue.status})}),i.jsx("td",{className:"px-2 py-2",children:Cl(ue.scheduled_at_utc)}),i.jsx("td",{className:"px-2 py-2",children:ue.status==="PENDING"||ue.status==="SENDING"?i.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>Ta.mutate(ue.id),children:"Iptal"}):"-"})]},ue.id))})]})}),!Ne.isLoading&&!Ne.isError&&He.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun bildirim isi bulunamadi."}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik Ozeti"}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Calisan abonelik: ",(St.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(Nt.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv dosyasi: ",(yt.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat log satiri: ",(nt.data??[]).length]})]}),Qe?null:i.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:'Aktif admin push aboneligi yok. "Admin cihaz claim linki uret" adimini tamamlamadan bildirim gonderilemez.'})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Admin Push Self-Check"}),i.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin: ",i.jsx("strong",{children:l?.username??"-"})]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin ID: ",i.jsx("strong",{children:l?.admin_user_id??"-"})]}),i.jsxs("div",{className:`rounded border p-3 text-sm ${Bn?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Bu hesap claim: ",i.jsx("strong",{children:An})," (id:",Ei," / user:",ki,")"]}),i.jsxs("div",{className:`rounded border p-3 text-sm ${Fe.data?.push_enabled??Ye.data?.enabled?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Push config:"," ",i.jsx("strong",{children:Fe.data?.push_enabled??Ye.data?.enabled?"Aktif":"Pasif"})]})]}),i.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam aktif admin claim: ",i.jsx("strong",{children:Fe.data?.active_total_subscriptions??$})]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Son claim gorulme:"," ",i.jsx("strong",{children:Fe.data?.latest_claim_seen_at?Cl(Fe.data.latest_claim_seen_at):"-"})]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Claim saglik:"," ",i.jsxs("strong",{children:["saglikli ",Fe.data?.active_claims_healthy??0," / ","hatali ",Fe.data?.active_claims_with_error??0," / ","stale ",Fe.data?.active_claims_stale??0]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:()=>Jn.mutate(),disabled:Jn.isPending,className:"rounded border border-brand-300 px-3 py-2 text-sm text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:Jn.isPending?"Self-test gonderiliyor...":"Kendime test bildirimi gonder"})})]}),i.jsxs("div",{className:"mt-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:["Son self-test:"," ",i.jsx("strong",{children:Fe.data?.last_self_test_at?Cl(Fe.data.last_self_test_at):"-"})," | ","Durum:"," ",i.jsx("strong",{children:Fe.data?.last_self_test_success===null?"-":Fe.data?.last_self_test_success?"BASARILI":"HATALI"})," | ","Hedef:"," ",i.jsx("strong",{children:Fe.data?.last_self_test_total_targets??"-"})," | ","Gonderilen:"," ",i.jsx("strong",{children:Fe.data?.last_self_test_sent??"-"})," | ","Hata:"," ",i.jsx("strong",{children:Fe.data?.last_self_test_failed??"-"})]}),Fe.isError?i.jsx("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Self-check verisi alinamadi. Fallback olarak abonelik listesi kullaniliyor."}):null,Bn?null:i.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Bu admin hesabinda aktif cihaz claim gorunmuyor. Bildirim almak icin telefonda claim linkini acip izin adimini tamamla."}),Fe.data?.latest_claim_error?i.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Son claim hatasi: ",Fe.data.latest_claim_error]}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Teslimat Logu"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Kime gitti / gitmedi, isim-ID, cihaz, IP ve hata bilgisini izleyin."}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam satir: ",mt.length]}),i.jsxs("div",{className:"rounded border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Gonderildi: ",pn]}),i.jsxs("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:["Gonderilemedi: ",ae]}),i.jsx("button",{type:"button",onClick:()=>{nt.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Logu yenile"})]}),i.jsx("div",{className:"mt-3",children:i.jsx(ts,{value:R,onChange:H,placeholder:"Isim, ID, cihaz, IP, baslik, durum ara..."})}),nt.isLoading?i.jsx(Ot,{label:"Teslimat logu yukleniyor..."}):null,nt.isError?i.jsx(jt,{message:"Teslimat logu alinamadi."}):null,!nt.isLoading&&!nt.isError?i.jsxs("div",{className:"mt-3 grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[i.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),i.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"delivery-terminal"})]}),i.jsxs("span",{className:"text-[11px] text-slate-400",children:[mt.length," kayit"]})]}),i.jsxs("div",{className:"max-h-[520px] overflow-auto",children:[i.jsxs("table",{className:"min-w-full table-fixed text-left text-xs",children:[i.jsx("thead",{className:"sticky top-0 bg-slate-900/95 text-[11px] uppercase text-slate-400",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-36 px-2 py-2",children:"Zaman"}),i.jsx("th",{className:"w-24 px-2 py-2",children:"Durum"}),i.jsx("th",{className:"w-24 px-2 py-2",children:"Hedef"}),i.jsx("th",{className:"w-56 px-2 py-2",children:"Kisi"}),i.jsx("th",{className:"w-20 px-2 py-2",children:"Cihaz"}),i.jsx("th",{className:"w-36 px-2 py-2",children:"IP"}),i.jsx("th",{className:"w-48 px-2 py-2",children:"Baslik"}),i.jsx("th",{className:"w-64 px-2 py-2",children:"Hata"})]})}),i.jsx("tbody",{children:mt.map((ue,et)=>{const ht=ue.audit_id===pe;return i.jsxs("tr",{onClick:()=>je(ue.audit_id),className:`cursor-pointer border-t border-slate-800 ${ht?"bg-cyan-900/35":"hover:bg-slate-800/55"}`,children:[i.jsx("td",{className:"px-2 py-2 text-slate-300",children:Cl(ue.sent_at_utc)}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("span",{className:`rounded px-2 py-0.5 text-[11px] font-semibold ${d3(ue.status)}`,children:ue.status})}),i.jsx("td",{className:"px-2 py-2 text-slate-300",children:u0(ue.target)}),i.jsxs("td",{className:"px-2 py-2 text-slate-300 truncate",title:`#${ue.recipient_id??"-"} - ${ue.recipient_name??"-"}`,children:["#",ue.recipient_id??"-"," - ",ue.recipient_name??"-"]}),i.jsx("td",{className:"px-2 py-2 text-slate-300",children:ue.device_id??"-"}),i.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:ue.ip??"-",children:ue.ip??"-"}),i.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:ue.title??"-",children:ue.title??"-"}),i.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:ue.error??"-",children:ue.error??"-"})]},`${ue.audit_id}-${ue.recipient_type}-${ue.recipient_id??0}-${ue.device_id??0}-${et}`)})})]}),mt.length===0?i.jsx("p",{className:"px-3 py-3 text-sm text-amber-300",children:"Filtreye uygun teslimat kaydi bulunamadi."}):null]})]}),i.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Secili teslimat detayi"}),Ce===null?i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayit secin."}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",Cl(Ce.sent_at_utc)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Ce.status]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Hedef tipi:"})," ",Ce.recipient_type==="employee"?"CALISAN":"ADMIN"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Hedef:"})," ",u0(Ce.target)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Kisi:"})," #",Ce.recipient_id??"-"," -"," ",Ce.recipient_name??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Cihaz:"})," ",Ce.device_id??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"IP:"})," ",Ce.ip??"-"]}),i.jsxs("p",{className:"break-words",children:[i.jsx("span",{className:"font-semibold",children:"Baslik:"})," ",Ce.title??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Gonderen:"})," ",Ce.sender_admin]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"Endpoint:"})," ",Ce.endpoint??"-"]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"Hata:"})," ",Ce.error??"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),i.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(Ce,null,2)})]})]})]})]}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gunluk Excel Arsivi"}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[i.jsxs("label",{className:"text-xs text-slate-600",children:["Baslangic",i.jsx("input",{type:"date",value:Y,onChange:ue=>Z(ue.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Bitis",i.jsx("input",{type:"date",value:W,onChange:ue=>ce(ue.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Calisan icerigi",i.jsx("input",{value:Te,onChange:ue=>ee(ue.target.value),placeholder:"ad veya ID",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:()=>{yt.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Arsivi yenile"})})]}),yt.isLoading?i.jsx(Ot,{label:"Arsiv yukleniyor..."}):null,yt.isError?i.jsx(jt,{message:"Arsiv listesi alinamadi."}):null,!yt.isLoading&&!yt.isError?i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[i.jsxs("span",{children:["Gosterilen satir: ",tn,"-",ie," / ",Ue.length]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>ne(ue=>Math.max(1,ue-1)),disabled:O<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),i.jsxs("span",{children:["Sayfa ",O," / ",it]}),i.jsx("button",{type:"button",onClick:()=>ne(ue=>Math.min(it,ue+1)),disabled:O>=it,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,i.jsx("div",{className:"mt-2 max-h-[520px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 bg-white",children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"px-2 py-2",children:"Sira"}),i.jsx("th",{className:"px-2 py-2",children:"ID"}),i.jsx("th",{className:"px-2 py-2",children:"Tarih"}),i.jsx("th",{className:"px-2 py-2",children:"Dosya"}),i.jsx("th",{className:"px-2 py-2",children:"Calisan"}),i.jsx("th",{className:"px-2 py-2",children:"Boyut"}),i.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),i.jsx("tbody",{children:We.map((ue,et)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-2 py-2 text-slate-500",children:tn+et}),i.jsx("td",{className:"px-2 py-2",children:ue.id}),i.jsx("td",{className:"px-2 py-2",children:ue.report_date}),i.jsx("td",{className:"px-2 py-2",children:ue.file_name}),i.jsx("td",{className:"px-2 py-2",children:ue.employee_count}),i.jsxs("td",{className:"px-2 py-2",children:[(ue.file_size_bytes/1024).toFixed(1)," KB"]}),i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>zn.mutate(ue.id),children:"Excel indir"}),i.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",title:Qe?void 0:"Aktif admin push aboneligi yok",onClick:()=>Ti.mutate(ue.id),disabled:Ti.isPending||!Qe,children:"Adminlere bildir"})]})})]},ue.id))})]})}),!yt.isLoading&&!yt.isError&&Ue.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun arsiv kaydi bulunamadi."}):null]})]})}const Al={action:"",entityType:"",entityId:"",success:"all",limit:"300"},f3=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],p3={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function g3(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function x3(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function y3(t){return t?"Baarl":"Hata"}function v3(t){const a=Object.entries(t);return a.length===0?"-":a.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function b3(t){return p3[t]??t}function _3(t){const a=Number(t.limit),l=Number.isInteger(a)&&a>0?Math.min(a,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:l}}function N3(t){const a=`${t.actor_type}:${t.actor_id}`,l=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${x3(t.ts_utc)}] ${t.action} actor=${a} entity=${l} ip=${o}`}function j3(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function S3(){const[t,a]=N.useState(Al),[l,o]=N.useState(Al),[d,m]=N.useState(""),[p,y]=N.useState(!0),[v,b]=N.useState(""),[S,w]=N.useState(null),[C,z]=N.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),k=N.useRef(2),A=N.useRef(null),M=N.useMemo(()=>_3(l),[l]),U=Le({queryKey:["audit-logs",M],queryFn:()=>pb(M),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),D=U.data??[],P=N.useMemo(()=>{if(!d.trim())return D;const te=d.trim().toLowerCase();return D.filter(oe=>[oe.action,oe.actor_type,oe.actor_id,oe.entity_type??"",oe.entity_id??"",oe.ip??"",oe.user_agent??"",JSON.stringify(oe.details)].join(" ").toLowerCase().includes(te))},[D,d]),G=N.useMemo(()=>{if(S!==null){const te=P.find(oe=>oe.id===S);if(te)return te}return P[0]??null},[S,P]),J=N.useMemo(()=>{const te=D.filter(q=>!q.success).length,oe=D.filter(q=>q.action.startsWith("ADMIN_LOGIN")).length,be=D.filter(q=>q.action==="ATTENDANCE_EVENT_CREATED").length;return{total:D.length,failed:te,loginEvents:oe,attendanceEvents:be}},[D]);N.useEffect(()=>{!G&&S!==null&&w(null)},[G,S]),N.useEffect(()=>{!p||A.current===null||(A.current.scrollTop=A.current.scrollHeight)},[p,P,C]);const V=(te,oe)=>{z(be=>{const q=[...be,{id:k.current,level:te,text:oe}];return k.current+=1,q.slice(-120)})},K=te=>{te.preventDefault(),o({...t}),V("success","Filtreler uyguland.")},Q=()=>{a(Al),o(Al),m(""),V("info","Filtreler temizlendi.")},re=te=>{const oe=te.trim();if(!oe)return;V("info",`$ ${oe}`);const[be,...q]=oe.split(/\s+/),Y=be.toLowerCase(),Z=oe.slice(be.length).trim();if(Y==="help"||Y==="yardim"||Y==="yardm"){V("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(Y==="clear"||Y==="temizle"){z([]),k.current=1,V("success","Terminal kt gemii temizlendi.");return}if(Y==="apply"||Y==="uygula"){o({...t}),V("success","Taslak filtreler uyguland.");return}if(Y==="reset"||Y==="sifirla"||Y==="sfrla"){a(Al),o(Al),m(""),V("warning","Filtreler sfrland.");return}if(Y==="refresh"||Y==="yenile"){U.refetch(),V("success","Log verisi yeniden ekiliyor.");return}if(Y==="follow"||Y==="takip"){const W=q[0]?.toLowerCase();if(W==="on"||W==="ac"||W==="a"){y(!0),V("success","Canl takip ald.");return}if(W==="off"||W==="kapat"){y(!1),V("warning","Canl takip kapatld.");return}V("error","Kullanm: follow on|off");return}if(Y==="status"||Y==="durum"){const W=q[0]?.toLowerCase();let ce=null;if((W==="all"||W==="tum"||W==="tm")&&(ce="all"),(W==="success"||W==="ok"||W==="basarili"||W==="baarl")&&(ce="success"),(W==="failed"||W==="error"||W==="hata")&&(ce="failed"),ce===null){V("error","Kullanm: status all|success|failed");return}a(Te=>({...Te,success:ce})),o(Te=>({...Te,success:ce})),V("success",`Durum filtresi gncellendi: ${ce}`);return}if(Y==="action"||Y==="aksiyon"){if(!Z){V("error","Kullanm: action <AKSIYON_KODU>");return}a(W=>({...W,action:Z})),o(W=>({...W,action:Z})),V("success",`Aksiyon filtresi gncellendi: ${Z}`);return}if(Y==="search"||Y==="ara"){m(Z),V("success",Z?`Metin aramas uyguland: "${Z}"`:"Metin aramas temizlendi.");return}if(Y==="limit"){const W=Number(q[0]);if(!Number.isFinite(W)||W<=0){V("error","Kullanm: limit <1-500>");return}const ce=Math.min(Math.max(Math.trunc(W),1),500);a(Te=>({...Te,limit:String(ce)})),o(Te=>({...Te,limit:String(ce)})),V("success",`Limit gncellendi: ${ce}`);return}V("error",`Bilinmeyen komut: ${Y}. Yardm iin "help" yazn.`)},ye=te=>{te.preventDefault(),re(v),b("")};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:J.total})]}),i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),i.jsx("p",{className:"text-sm font-semibold text-rose-800",children:J.failed})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:J.loginEvents})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:J.attendanceEvents})]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{y(te=>!te),V("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),i.jsx("button",{type:"button",onClick:()=>{U.refetch(),V("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),i.jsx("button",{type:"button",onClick:Q,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:K,children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",i.jsx("select",{value:t.action,onChange:te=>a(oe=>({...oe,action:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:f3.map(te=>i.jsx("option",{value:te.value,children:te.label},te.label))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",i.jsx("input",{type:"text",value:t.entityType,onChange:te=>a(oe=>({...oe,entityType:te.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",i.jsx("input",{type:"text",value:t.entityId,onChange:te=>a(oe=>({...oe,entityId:te.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",i.jsxs("select",{value:t.success,onChange:te=>a(oe=>({...oe,success:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"all",children:"Tm"}),i.jsx("option",{value:"success",children:"Baarl"}),i.jsx("option",{value:"failed",children:"Hata"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",i.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:te=>a(oe=>({...oe,limit:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",i.jsx("input",{type:"text",value:d,onChange:te=>m(te.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:Q,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),i.jsxs(Ae,{children:[U.isLoading?i.jsx(Ot,{label:"Log kaytlar ykleniyor..."}):null,U.isError?i.jsx(jt,{message:Be(U.error,"Log kaytlar alnamad.").message}):null,!U.isLoading&&!U.isError?i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[i.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),i.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),i.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",P.length," kayt"]})]}),i.jsx("form",{onSubmit:ye,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:i.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[i.jsx("span",{children:"admin@audit:~$"}),i.jsx("input",{value:v,onChange:te=>b(te.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),i.jsxs("div",{ref:A,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[C.map(te=>i.jsx("p",{className:`leading-6 ${j3(te.level)}`,children:te.text},te.id)),P.map(te=>{const oe=G?.id===te.id;return i.jsxs("button",{type:"button",onClick:()=>w(te.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${oe?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[i.jsx("span",{className:te.success?"text-emerald-300":"text-rose-300",children:te.success?"[OK]":"[ERR]"})," ",i.jsx("span",{className:"text-slate-200",children:N3(te)})]},te.id)}),P.length===0?i.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),i.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),G===null?i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:b3(G.action)}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:G.action})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",g3(G.ts_utc)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",G.actor_type,":",G.actor_id]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",y3(G.success)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",G.entity_type??"-",G.entity_id?` #${G.entity_id}`:""]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"IP:"})," ",G.ip??"-"]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",G.user_agent??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",v3(G.details)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),i.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(G.details,null,2)})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[i.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),i.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const w3=Ga({department_id:_n().int().positive(),daily_minutes_planned:_n().int().nonnegative(),break_minutes:_n().int().nonnegative(),grace_minutes:_n().int().nonnegative()}),E3=Ga({department_id:_n().int().positive(),weekday:_n().int().min(0).max(6),is_workday:Sd(),planned_minutes:_n().int().nonnegative(),break_minutes:_n().int().nonnegative()}),k3=Ga({department_id:_n().int().positive(),name:fa().min(1).max(100),start_time_local:fa().regex(/^\d{2}:\d{2}$/),end_time_local:fa().regex(/^\d{2}:\d{2}$/),break_minutes:_n().int().nonnegative(),is_active:Sd()}),c0=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],T3=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],C3={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function sf(t){const a=t.trim();if(!a)return null;const l=Number(a);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function A3(t,a){const l=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:a,note:t.note}}function z3(){const t=Pn(),{pushToast:a}=In(),[l,o]=N.useState(""),[d,m]=N.useState("540"),[p,y]=N.useState("60"),[v,b]=N.useState("5"),[S,w]=N.useState(""),[C,z]=N.useState("0"),[k,A]=N.useState(!0),[M,U]=N.useState("540"),[D,P]=N.useState("60"),[G,J]=N.useState(""),[V,K]=N.useState(""),[Q,re]=N.useState("10:00"),[ye,te]=N.useState("18:00"),[oe,be]=N.useState("60"),[q,Y]=N.useState(!0),[Z,W]=N.useState(null),[ce,Te]=N.useState(null),[ee,O]=N.useState(""),[ne,R]=N.useState("DEPARTMENT"),[H,pe]=N.useState([]),[je,Me]=N.useState(""),[qe,Ye]=N.useState(""),[Fe,Ne]=N.useState(""),[nt,St]=N.useState(""),[Nt,yt]=N.useState(""),[Qt,It]=N.useState(new Date().toISOString().slice(0,10)),[mt,pn]=N.useState(new Date().toISOString().slice(0,10)),[ae,Ce]=N.useState(!1),[He,ct]=N.useState(!0),[wt,dt]=N.useState(""),[ve,Ue]=N.useState(!0),[it,We]=N.useState(null),tn=Le({queryKey:["departments"],queryFn:Fs}),ie=Le({queryKey:["employees","all"],queryFn:()=>li({status:"all"})}),$=Le({queryKey:["work-rules"],queryFn:Y2}),Qe=Le({queryKey:["department-weekly-rules"],queryFn:()=>mb()}),at=Le({queryKey:["department-shifts"],queryFn:()=>du()}),Vt=Le({queryKey:["schedule-plans","all"],queryFn:()=>rE({active_only:!1})}),Et=$e({mutationFn:$2,onSuccess:()=>{We(null),a({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:I=>{const Re=Be(I,"Mesai kurali kaydedilemedi.");We(Re.message),a({variant:"error",title:"Mesai kurali kaydedilemedi",description:Re.message})}}),An=$e({mutationFn:hb,onSuccess:()=>{We(null),a({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:I=>{const Re=Be(I,"Haftalik plan kaydedilemedi.");We(Re.message),a({variant:"error",title:"Haftalik plan kaydedilemedi",description:Re.message})}}),Ei=$e({mutationFn:id,onSuccess:()=>{We(null),W(null),K(""),re("10:00"),te("18:00"),be("60"),Y(!0),a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:I=>{const Re=Be(I,"Vardiya kaydedilemedi.");We(Re.message),a({variant:"error",title:"Vardiya kaydedilemedi",description:Re.message})}}),ki=$e({mutationFn:fb,onSuccess:()=>{We(null),Z!==null&&(W(null),K(""),re("10:00"),te("18:00"),be("60"),Y(!0)),a({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:I=>{const Re=Be(I,"Vardiya pasife alinamadi.");We(Re.message),a({variant:"error",title:"Vardiya pasife alinamadi",description:Re.message})}}),Bn=$e({mutationFn:({shift:I,nextActive:Re})=>id({id:I.id,department_id:I.department_id,name:I.name,start_time_local:I.start_time_local,end_time_local:I.end_time_local,break_minutes:I.break_minutes,is_active:Re}),onSuccess:(I,Re)=>{We(null),a({variant:"success",title:Re.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Re.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:I=>{const Re=Be(I,"Vardiya durumu guncellenemedi.");We(Re.message),a({variant:"error",title:"Vardiya durumu guncellenemedi",description:Re.message})}}),ga=$e({mutationFn:Ky,onSuccess:()=>{We(null),a({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),Te(null),pe([]),Ye(""),Ne(""),St(""),yt(""),Ce(!1),ct(!0),dt("")},onError:I=>{const Re=Be(I,"Planlama kaydedilemedi.");We(Re.message),a({variant:"error",title:"Planlama kaydedilemedi",description:Re.message})}}),Jn=$e({mutationFn:lE,onSuccess:()=>{We(null),a({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:I=>{const Re=Be(I,"Planlama iptal edilemedi.");We(Re.message),a({variant:"error",title:"Planlama iptal edilemedi",description:Re.message})}}),Xn=$e({mutationFn:I=>Ky(A3(I,!0)),onSuccess:()=>{We(null),a({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:I=>{const Re=Be(I,"Plan aktif edilemedi.");We(Re.message),a({variant:"error",title:"Plan aktif edilemedi",description:Re.message})}}),Ta=N.useMemo(()=>{const I=Number(d),Re=Number(p),kt=Number(v);return{daily:Xc(I),breakValue:Xc(Re),grace:Xc(kt)}},[d,p,v]);if(tn.isLoading||ie.isLoading||$.isLoading||Qe.isLoading||at.isLoading||Vt.isLoading)return i.jsx(Ot,{});if(tn.isError||ie.isError||$.isError||Qe.isError||at.isError||Vt.isError)return i.jsx(jt,{message:"Mesai kurali verileri alinamadi."});const zn=tn.data??[],Ti=ie.data??[],ue=$.data??[],et=Qe.data??[],ht=at.data??[],Wn=Vt.data??[],ea=new Map(zn.map(I=>[I.id,I.name])),Ci=new Map(Ti.map(I=>[I.id,I.full_name])),Ai=new Map(ht.map(I=>[I.id,I.name])),Un=Wn.filter(I=>ve||I.is_active),Pe=Number(ee),Qs=Number.isFinite(Pe)?ht.filter(I=>I.department_id===Pe):[],as=Number.isFinite(Pe)?Ti.filter(I=>I.department_id===Pe):[],xa=je.trim()?as.filter(I=>{const Re=je.trim().toLowerCase();return I.full_name.toLowerCase().includes(Re)||String(I.id).includes(Re.replace("#",""))}):as,rn=()=>{Te(null),R("DEPARTMENT"),pe([]),Me(""),Ye(""),Ne(""),St(""),yt(""),It(new Date().toISOString().slice(0,10)),pn(new Date().toISOString().slice(0,10)),Ce(!1),ct(!0),dt("")},gn=I=>{const Re=I.target_employee_ids&&I.target_employee_ids.length>0?I.target_employee_ids:I.target_employee_id?[I.target_employee_id]:[];Te(I.id),O(String(I.department_id)),R(I.target_type),pe(Re),Me(""),Ye(I.shift_id?String(I.shift_id):""),Ne(I.daily_minutes_planned!==null?String(I.daily_minutes_planned):""),St(I.break_minutes!==null?String(I.break_minutes):""),yt(I.grace_minutes!==null?String(I.grace_minutes):""),It(I.start_date),pn(I.end_date),Ce(I.is_locked),ct(I.is_active),dt(I.note??"")},Va=I=>{I.preventDefault(),We(null);const Re=w3.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:p,grace_minutes:v});if(!Re.success){const kt=Re.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";We(kt),a({variant:"error",title:"Form hatasi",description:kt});return}Et.mutate(Re.data)},Ca=I=>{I.preventDefault(),We(null);const Re=E3.safeParse({department_id:S,weekday:C,is_workday:k,planned_minutes:M,break_minutes:D});if(!Re.success){const kt=Re.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";We(kt),a({variant:"error",title:"Form hatasi",description:kt});return}An.mutate(Re.data)},Ur=I=>{I.preventDefault(),We(null);const Re=k3.safeParse({department_id:G,name:V.trim(),start_time_local:Q,end_time_local:ye,break_minutes:oe,is_active:q});if(!Re.success){const kt=Re.error.issues[0]?.message??"Vardiya formunu kontrol edin.";We(kt),a({variant:"error",title:"Form hatasi",description:kt});return}Ei.mutate({id:Z??void 0,...Re.data})},ql=I=>{W(I.id),J(String(I.department_id)),K(I.name),re(I.start_time_local),te(I.end_time_local),be(String(I.break_minutes)),Y(I.is_active),We(null)},Zr=()=>{W(null),K(""),re("10:00"),te("18:00"),be("60"),Y(!0),We(null)},zi=I=>{I.preventDefault(),We(null);const Re=Number(ee);if(!Number.isFinite(Re)||Re<=0){We("Planlama icin departman secmelisiniz.");return}if(!Qt||!mt){We("Baslangic ve bitis tarihi zorunludur.");return}if(Qt>mt){We("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const kt=ne==="DEPARTMENT"?[]:[...H];if(ne!=="DEPARTMENT"&&kt.length===0){We("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Zn=qe?Number(qe):null,Ya=sf(Fe),nn=sf(nt),Gs=sf(Nt);if(!Zn&&Ya===null&&nn===null&&Gs===null){We("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}ga.mutate({id:ce??void 0,department_id:Re,target_type:ne,target_employee_id:kt.length>0?kt[0]:null,target_employee_ids:kt,shift_id:Zn,daily_minutes_planned:Ya,break_minutes:nn,grace_minutes:Gs,start_date:Qt,end_date:mt,is_locked:ae,is_active:He,note:wt.trim()||null})};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),i.jsxs("form",{onSubmit:Va,className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l,onChange:I=>o(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),zn.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",i.jsx("input",{value:d,onChange:I=>m(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:p,onChange:I=>y(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",i.jsx("input",{value:v,onChange:I=>b(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",Ta.daily," | Mola ",Ta.breakValue," | Tolerans ",Ta.grace]}),i.jsx("div",{className:"md:col-span-4",children:i.jsx("button",{type:"submit",disabled:Et.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Et.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),i.jsxs("form",{onSubmit:Ca,className:"mt-3 grid gap-3 md:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:S,onChange:I=>w(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),zn.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",i.jsx("select",{value:C,onChange:I=>z(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:c0.map(I=>i.jsx("option",{value:I.value,children:I.label},I.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",i.jsx("input",{value:M,onChange:I=>U(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:D,onChange:I=>P(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:I=>A(I.target.checked)}),"Calisma Gunu"]}),i.jsx("div",{className:"md:col-span-5",children:i.jsx("button",{type:"submit",disabled:An.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:An.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Gun"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Planlanan Sure"}),i.jsx("th",{className:"py-2",children:"Mola"})]})}),i.jsx("tbody",{children:et.map(I=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ea.get(I.department_id)??I.department_id}),i.jsx("td",{className:"py-2",children:c0.find(Re=>Re.value===I.weekday)?.label??I.weekday}),i.jsx("td",{className:"py-2",children:I.is_workday?"Calisma":"Off"}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:I.planned_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:I.break_minutes})})]},I.id))})]})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),Z?i.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",Z]}):null,i.jsxs("form",{onSubmit:Ur,className:"mt-3 grid gap-3 md:grid-cols-6",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:G,onChange:I=>J(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),zn.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",i.jsx("input",{value:V,onChange:I=>K(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",i.jsx("input",{type:"time",value:Q,onChange:I=>re(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",i.jsx("input",{type:"time",value:ye,onChange:I=>te(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:oe,onChange:I=>be(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:q,onChange:I=>Y(I.target.checked)}),"Aktif"]}),i.jsx("div",{className:"md:col-span-6",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"submit",disabled:Ei.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ei.isPending?"Kaydediliyor...":Z?"Vardiya Guncelle":"Vardiya Kaydet"}),Z?i.jsx("button",{type:"button",onClick:Zr,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Saat"}),i.jsx("th",{className:"py-2",children:"Mola"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),i.jsx("tbody",{children:ht.map(I=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ea.get(I.department_id)??I.department_id}),i.jsx("td",{className:"py-2",children:I.name}),i.jsxs("td",{className:"py-2",children:[I.start_time_local," - ",I.end_time_local]}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:I.break_minutes})}),i.jsx("td",{className:"py-2",children:I.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>ql(I),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),I.is_active?i.jsx("button",{type:"button",disabled:ki.isPending||Bn.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&ki.mutate(I.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):i.jsx("button",{type:"button",disabled:Bn.isPending||ki.isPending,onClick:()=>Bn.mutate({shift:I,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},I.id))})]})})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:ve,onChange:I=>Ue(I.target.checked)}),"Pasif planlari goster"]})]}),i.jsxs("form",{onSubmit:zi,className:"mt-4 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:ee,onChange:I=>{O(I.target.value),pe([]),Ye("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),zn.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",i.jsx("select",{value:ne,onChange:I=>{const Re=I.target.value;R(Re),Re==="DEPARTMENT"&&pe([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:T3.map(I=>i.jsx("option",{value:I.value,children:I.label},I.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",i.jsx("input",{type:"text",value:je,onChange:I=>Me(I.target.value),disabled:ne==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),i.jsx("select",{multiple:!0,value:H.map(String),onChange:I=>{const Re=Array.from(I.target.selectedOptions).map(kt=>Number(kt.value));pe(Re.filter(kt=>Number.isFinite(kt)&&kt>0))},disabled:ne==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:xa.map(I=>i.jsxs("option",{value:I.id,children:["#",I.id," - ",I.full_name]},I.id))}),i.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:qe,onChange:I=>Ye(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Qs.map(I=>i.jsxs("option",{value:I.id,children:[I.name," (",I.start_time_local," - ",I.end_time_local,")"]},I.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",i.jsx("input",{value:Fe,onChange:I=>Ne(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",i.jsx("input",{value:nt,onChange:I=>St(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",i.jsx("input",{value:Nt,onChange:I=>yt(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",i.jsx("input",{type:"date",value:Qt,onChange:I=>It(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",i.jsx("input",{type:"date",value:mt,onChange:I=>pn(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:ae,onChange:I=>Ce(I.target.checked)}),"Vardiya kilitli"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:He,onChange:I=>ct(I.target.checked)}),"Aktif"]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",i.jsx("input",{value:wt,onChange:I=>dt(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:ga.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ga.isPending?"Kaydediliyor...":ce?"Plani Guncelle":"Plan Olustur"}),i.jsx("button",{type:"button",onClick:rn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Hedef"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Plan/Mola"}),i.jsx("th",{className:"py-2",children:"Tarih Araligi"}),i.jsx("th",{className:"py-2",children:"Kilit"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:Un.map(I=>{const kt=(I.target_employee_ids&&I.target_employee_ids.length>0?I.target_employee_ids:I.target_employee_id?[I.target_employee_id]:[]).map(Zn=>Ci.get(Zn)??`#${Zn}`);return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ea.get(I.department_id)??I.department_id}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:C3[I.target_type]}),kt.length>0?i.jsx("span",{className:"text-xs text-slate-500",children:kt.join(", ")}):null]})}),i.jsx("td",{className:"py-2",children:I.shift_id?Ai.get(I.shift_id)??`#${I.shift_id}`:"-"}),i.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[i.jsxs("div",{children:["Plan: ",I.daily_minutes_planned!==null?`${I.daily_minutes_planned} dk`:"-"]}),i.jsxs("div",{children:["Mola: ",I.break_minutes!==null?`${I.break_minutes} dk`:"-"]}),i.jsxs("div",{children:["Tolerans: ",I.grace_minutes!==null?`${I.grace_minutes} dk`:"-"]})]}),i.jsxs("td",{className:"py-2",children:[I.start_date," - ",I.end_date]}),i.jsx("td",{className:"py-2",children:I.is_locked?"Kilitli":"Serbest"}),i.jsx("td",{className:"py-2",children:I.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>gn(I),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),I.is_active?i.jsx("button",{type:"button",onClick:()=>Jn.mutate(I.id),disabled:Jn.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):i.jsx("button",{type:"button",onClick:()=>Xn.mutate(I),disabled:Xn.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},I.id)})})]})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),i.jsx("th",{className:"py-2",children:"Mola Suresi"}),i.jsx("th",{className:"py-2",children:"Tolerans"})]})}),i.jsx("tbody",{children:ue.map(I=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ea.get(I.department_id)??I.department_id}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:I.daily_minutes_planned})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:I.break_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:I.grace_minutes})})]},I.id))})]})})]}),it?i.jsx("p",{className:"form-validation",children:it}):null]})}function M3(){return i.jsxs(xS,{children:[i.jsx(Ft,{element:i.jsx(HE,{}),children:i.jsx(Ft,{path:"/login",element:i.jsx(kz,{})})}),i.jsx(Ft,{path:"/device-claim",element:i.jsx(GE,{})}),i.jsx(Ft,{path:"/archive-download",element:i.jsx(iz,{})}),i.jsx(Ft,{element:i.jsx(FE,{}),children:i.jsxs(Ft,{element:i.jsx(qE,{}),children:[i.jsx(Ft,{path:"/",element:i.jsx(Bf,{to:"/dashboard",replace:!0})}),i.jsx(Ft,{path:"/management-console",element:i.jsx(Mz,{})}),i.jsx(Ft,{path:"/dashboard",element:i.jsx(VA,{})}),i.jsx(Ft,{path:"/regions",element:i.jsx(u3,{})}),i.jsx(Ft,{path:"/departments",element:i.jsx(JA,{})}),i.jsx(Ft,{path:"/employees",element:i.jsx(Nz,{})}),i.jsx(Ft,{path:"/employees/:id",element:i.jsx(pz,{})}),i.jsx(Ft,{path:"/quick-setup",element:i.jsx(o3,{})}),i.jsx(Ft,{path:"/work-rules",element:i.jsx(z3,{})}),i.jsx(Ft,{path:"/attendance-events",element:i.jsx(u1,{})}),i.jsx(Ft,{path:"/devices",element:i.jsx(WA,{})}),i.jsx(Ft,{path:"/compliance-settings",element:i.jsx(ez,{})}),i.jsx(Ft,{path:"/leaves",element:i.jsx(Sz,{})}),i.jsx(Ft,{path:"/qr-kodlar",element:i.jsx(l3,{})}),i.jsx(Ft,{path:"/reports/employee-monthly",element:i.jsx(bz,{})}),i.jsx(Ft,{path:"/reports/department-summary",element:i.jsx($A,{})}),i.jsx(Ft,{path:"/reports/excel-export",element:i.jsx(Dz,{})}),i.jsx(Ft,{path:"/notifications",element:i.jsx(h3,{})}),i.jsx(Ft,{path:"/audit-logs",element:i.jsx(S3,{})}),i.jsx(Ft,{path:"/admin-users",element:i.jsx(rz,{})})]})}),i.jsx(Ft,{path:"*",element:i.jsx(Oz,{})})]})}const O3=new sj({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});RN.createRoot(document.getElementById("root")).render(i.jsx(kN.StrictMode,{children:i.jsx(rj,{client:O3,children:i.jsx(qS,{basename:"/admin-panel/",children:i.jsx(t1,{children:i.jsx(BE,{children:i.jsx(M3,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
