(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();function cd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ph={exports:{}},Uo={};var ex;function jN(){if(ex)return Uo;ex=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var y in d)y!=="key"&&(m[y]=d[y])}else m=d;return d=m.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:m}}return Uo.Fragment=a,Uo.jsx=l,Uo.jsxs=l,Uo}var tx;function SN(){return tx||(tx=1,ph.exports=jN()),ph.exports}var i=SN(),gh={exports:{}},at={};var nx;function wN(){if(nx)return at;nx=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function Z(M,te,D){this.props=M,this.context=te,this.refs=O,this.updater=D||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},Z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function R(){}R.prototype=Z.prototype;function P(M,te,D){this.props=M,this.context=te,this.refs=O,this.updater=D||k}var G=P.prototype=new R;G.constructor=P,A(G,Z.prototype),G.isPureReactComponent=!0;var $=Array.isArray;function Y(){}var K={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function ae(M,te,D){var H=D.ref;return{$$typeof:t,type:M,key:te,ref:H!==void 0?H:null,props:D}}function ye(M,te){return ae(M.type,te,M.props)}function ee(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ue(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(D){return te[D]})}var oe=/\/+/g;function U(M,te){return typeof M=="object"&&M!==null&&M.key!=null?ue(""+M.key):te.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Y,Y):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,te,D,H,ge){var je=typeof M;(je==="undefined"||je==="boolean")&&(M=null);var ze=!1;if(M===null)ze=!0;else switch(je){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(M.$$typeof){case t:case a:ze=!0;break;case S:return ze=M._init,q(ze(M._payload),te,D,H,ge)}}if(ze)return ge=ge(M),ze=H===""?"."+U(M,0):H,$(ge)?(D="",ze!=null&&(D=ze.replace(oe,"$&/")+"/"),q(ge,te,D,"",function(et){return et})):ge!=null&&(ee(ge)&&(ge=ye(ge,D+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(oe,"$&/")+"/")+ze)),te.push(ge)),1;ze=0;var qe=H===""?".":H+":";if($(M))for(var Ve=0;Ve<M.length;Ve++)H=M[Ve],je=qe+U(H,Ve),ze+=q(H,te,D,je,ge);else if(Ve=z(M),typeof Ve=="function")for(M=Ve.call(M),Ve=0;!(H=M.next()).done;)H=H.value,je=qe+U(H,Ve++),ze+=q(H,te,D,je,ge);else if(je==="object"){if(typeof M.then=="function")return q(le(M),te,D,H,ge);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ie(M,te,D){if(M==null)return M;var H=[],ge=0;return q(M,H,"","",function(je){return te.call(D,je,ge++)}),H}function de(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(D){(M._status===0||M._status===-1)&&(M._status=1,M._result=D)},function(D){(M._status===0||M._status===-1)&&(M._status=2,M._result=D)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var Te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},W={map:ie,forEach:function(M,te,D){ie(M,function(){te.apply(this,arguments)},D)},count:function(M){var te=0;return ie(M,function(){te++}),te},toArray:function(M){return ie(M,function(te){return te})||[]},only:function(M){if(!ee(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return at.Activity=w,at.Children=W,at.Component=Z,at.Fragment=l,at.Profiler=d,at.PureComponent=P,at.StrictMode=o,at.Suspense=v,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,at.__COMPILER_RUNTIME={__proto__:null,c:function(M){return K.H.useMemoCache(M)}},at.cache=function(M){return function(){return M.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(M,te,D){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var H=A({},M.props),ge=M.key;if(te!=null)for(je in te.key!==void 0&&(ge=""+te.key),te)!Q.call(te,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&te.ref===void 0||(H[je]=te[je]);var je=arguments.length-2;if(je===1)H.children=D;else if(1<je){for(var ze=Array(je),qe=0;qe<je;qe++)ze[qe]=arguments[qe+2];H.children=ze}return ae(M.type,ge,H)},at.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:m,_context:M},M},at.createElement=function(M,te,D){var H,ge={},je=null;if(te!=null)for(H in te.key!==void 0&&(je=""+te.key),te)Q.call(te,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ge[H]=te[H]);var ze=arguments.length-2;if(ze===1)ge.children=D;else if(1<ze){for(var qe=Array(ze),Ve=0;Ve<ze;Ve++)qe[Ve]=arguments[Ve+2];ge.children=qe}if(M&&M.defaultProps)for(H in ze=M.defaultProps,ze)ge[H]===void 0&&(ge[H]=ze[H]);return ae(M,je,ge)},at.createRef=function(){return{current:null}},at.forwardRef=function(M){return{$$typeof:y,render:M}},at.isValidElement=ee,at.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:de}},at.memo=function(M,te){return{$$typeof:b,type:M,compare:te===void 0?null:te}},at.startTransition=function(M){var te=K.T,D={};K.T=D;try{var H=M(),ge=K.S;ge!==null&&ge(D,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Y,Te)}catch(je){Te(je)}finally{te!==null&&D.types!==null&&(te.types=D.types),K.T=te}},at.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},at.use=function(M){return K.H.use(M)},at.useActionState=function(M,te,D){return K.H.useActionState(M,te,D)},at.useCallback=function(M,te){return K.H.useCallback(M,te)},at.useContext=function(M){return K.H.useContext(M)},at.useDebugValue=function(){},at.useDeferredValue=function(M,te){return K.H.useDeferredValue(M,te)},at.useEffect=function(M,te){return K.H.useEffect(M,te)},at.useEffectEvent=function(M){return K.H.useEffectEvent(M)},at.useId=function(){return K.H.useId()},at.useImperativeHandle=function(M,te,D){return K.H.useImperativeHandle(M,te,D)},at.useInsertionEffect=function(M,te){return K.H.useInsertionEffect(M,te)},at.useLayoutEffect=function(M,te){return K.H.useLayoutEffect(M,te)},at.useMemo=function(M,te){return K.H.useMemo(M,te)},at.useOptimistic=function(M,te){return K.H.useOptimistic(M,te)},at.useReducer=function(M,te,D){return K.H.useReducer(M,te,D)},at.useRef=function(M){return K.H.useRef(M)},at.useState=function(M){return K.H.useState(M)},at.useSyncExternalStore=function(M,te,D){return K.H.useSyncExternalStore(M,te,D)},at.useTransition=function(){return K.H.useTransition()},at.version="19.2.4",at}var ax;function kf(){return ax||(ax=1,gh.exports=wN()),gh.exports}var N=kf();const EN=cd(N);var yh={exports:{}},Zo={},xh={exports:{}},vh={};var ix;function kN(){return ix||(ix=1,(function(t){function a(q,ie){var de=q.length;q.push(ie);e:for(;0<de;){var Te=de-1>>>1,W=q[Te];if(0<d(W,ie))q[Te]=ie,q[de]=W,de=Te;else break e}}function l(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var ie=q[0],de=q.pop();if(de!==ie){q[0]=de;e:for(var Te=0,W=q.length,M=W>>>1;Te<M;){var te=2*(Te+1)-1,D=q[te],H=te+1,ge=q[H];if(0>d(D,de))H<W&&0>d(ge,D)?(q[Te]=ge,q[H]=de,Te=H):(q[Te]=D,q[te]=de,Te=te);else if(H<W&&0>d(ge,de))q[Te]=ge,q[H]=de,Te=H;else break e}}return ie}function d(q,ie){var de=q.sortIndex-ie.sortIndex;return de!==0?de:q.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var p=Date,y=p.now();t.unstable_now=function(){return p.now()-y}}var v=[],b=[],S=1,w=null,C=3,z=!1,k=!1,A=!1,O=!1,Z=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function G(q){for(var ie=l(b);ie!==null;){if(ie.callback===null)o(b);else if(ie.startTime<=q)o(b),ie.sortIndex=ie.expirationTime,a(v,ie);else break;ie=l(b)}}function $(q){if(A=!1,G(q),!k)if(l(v)!==null)k=!0,Y||(Y=!0,ue());else{var ie=l(b);ie!==null&&le($,ie.startTime-q)}}var Y=!1,K=-1,Q=5,ae=-1;function ye(){return O?!0:!(t.unstable_now()-ae<Q)}function ee(){if(O=!1,Y){var q=t.unstable_now();ae=q;var ie=!0;try{e:{k=!1,A&&(A=!1,R(K),K=-1),z=!0;var de=C;try{t:{for(G(q),w=l(v);w!==null&&!(w.expirationTime>q&&ye());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,C=w.priorityLevel;var W=Te(w.expirationTime<=q);if(q=t.unstable_now(),typeof W=="function"){w.callback=W,G(q),ie=!0;break t}w===l(v)&&o(v),G(q)}else o(v);w=l(v)}if(w!==null)ie=!0;else{var M=l(b);M!==null&&le($,M.startTime-q),ie=!1}}break e}finally{w=null,C=de,z=!1}ie=void 0}}finally{ie?ue():Y=!1}}}var ue;if(typeof P=="function")ue=function(){P(ee)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,U=oe.port2;oe.port1.onmessage=ee,ue=function(){U.postMessage(null)}}else ue=function(){Z(ee,0)};function le(q,ie){K=Z(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(q){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var de=C;C=ie;try{return q()}finally{C=de}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=C;C=q;try{return ie()}finally{C=de}},t.unstable_scheduleCallback=function(q,ie,de){var Te=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Te+de:Te):de=Te,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=de+W,q={id:S++,callback:ie,priorityLevel:q,startTime:de,expirationTime:W,sortIndex:-1},de>Te?(q.sortIndex=de,a(b,q),l(v)===null&&q===l(b)&&(A?(R(K),K=-1):A=!0,le($,de-Te))):(q.sortIndex=W,a(v,q),k||z||(k=!0,Y||(Y=!0,ue()))),q},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(q){var ie=C;return function(){var de=C;C=ie;try{return q.apply(this,arguments)}finally{C=de}}}})(vh)),vh}var sx;function TN(){return sx||(sx=1,xh.exports=kN()),xh.exports}var bh={exports:{}},Fn={};var rx;function CN(){if(rx)return Fn;rx=1;var t=kf();function a(v){var b="https://react.dev/errors/"+v;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(v,b,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:b,implementation:S}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,b){if(v==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Fn.createPortal=function(v,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(a(299));return m(v,b,null,S)},Fn.flushSync=function(v){var b=p.T,S=o.p;try{if(p.T=null,o.p=2,v)return v()}finally{p.T=b,o.p=S,o.d.f()}},Fn.preconnect=function(v,b){typeof v=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(v,b))},Fn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Fn.preinit=function(v,b){if(typeof v=="string"&&b&&typeof b.as=="string"){var S=b.as,w=y(S,b.crossOrigin),C=typeof b.integrity=="string"?b.integrity:void 0,z=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?o.d.S(v,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:z}):S==="script"&&o.d.X(v,{crossOrigin:w,integrity:C,fetchPriority:z,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Fn.preinitModule=function(v,b){if(typeof v=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=y(b.as,b.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(v)},Fn.preload=function(v,b){if(typeof v=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,w=y(S,b.crossOrigin);o.d.L(v,S,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Fn.preloadModule=function(v,b){if(typeof v=="string")if(b){var S=y(b.as,b.crossOrigin);o.d.m(v,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(v)},Fn.requestFormReset=function(v){o.d.r(v)},Fn.unstable_batchedUpdates=function(v,b){return v(b)},Fn.useFormState=function(v,b,S){return p.H.useFormState(v,b,S)},Fn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Fn.version="19.2.4",Fn}var lx;function AN(){if(lx)return bh.exports;lx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),bh.exports=CN(),bh.exports}var ox;function zN(){if(ox)return Zo;ox=1;var t=TN(),a=kf(),l=AN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(m(e)!==e)throw Error(o(188))}function b(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,c=n;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return v(f),e;if(g===c)return v(f),n;g=g.sibling}throw Error(o(188))}if(r.return!==c.return)r=f,c=g;else{for(var j=!1,T=f.child;T;){if(T===r){j=!0,r=f,c=g;break}if(T===c){j=!0,c=f,r=g;break}T=T.sibling}if(!j){for(T=g.child;T;){if(T===r){j=!0,r=g,c=f;break}if(T===c){j=!0,c=g,r=f;break}T=T.sibling}if(!j)throw Error(o(189))}}if(r.alternate!==c)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case Z:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case Y:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case P:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case G:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:U(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return U(e(n))}catch{}}return null}var le=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Te=[],W=-1;function M(e){return{current:e}}function te(e){0>W||(e.current=Te[W],Te[W]=null,W--)}function D(e,n){W++,Te[W]=e.current,e.current=n}var H=M(null),ge=M(null),je=M(null),ze=M(null);function qe(e,n){switch(D(je,n),D(ge,e),D(H,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jy(n),e=Sy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(H),D(H,e)}function Ve(){te(H),te(ge),te(je)}function et(e){e.memoizedState!==null&&D(ze,e);var n=H.current,r=Sy(n,e.type);n!==r&&(D(ge,e),D(H,r))}function Ne(e){ge.current===e&&(te(H),te(ge)),ze.current===e&&(te(ze),Lo._currentValue=de)}var ct,yt;function it(e){if(ct===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ct=n&&n[1]||"",yt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+e+yt}var Gt=!1;function Ht(e,n){if(!e||Gt)return"";Gt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(xe){var pe=xe}Reflect.construct(e,[],ke)}else{try{ke.call()}catch(xe){pe=xe}e.call(ke.prototype)}}else{try{throw Error()}catch(xe){pe=xe}(ke=e())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(xe){if(xe&&pe&&typeof xe.stack=="string")return[xe.stack,pe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),j=g[0],T=g[1];if(j&&T){var F=j.split(`
`),he=T.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<he.length&&!he[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===he.length)for(c=F.length-1,f=he.length-1;1<=c&&0<=f&&F[c]!==he[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==he[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==he[f]){var _e=`
`+F[c].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=c&&0<=f);break}}}finally{Gt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?it(r):""}function lt(e,n){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return e.child!==n&&n!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Ht(e.type,!1);case 11:return Ht(e.type.render,!1);case 1:return Ht(e.type,!0);case 31:return it("Activity");default:return""}}function Kt(e){try{var n="",r=null;do n+=lt(e,r),r=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var pn=Object.prototype.hasOwnProperty,X=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,_t=t.unstable_requestPaint,jt=t.unstable_now,dt=t.unstable_getCurrentPriorityLevel,be=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,mt=t.unstable_NormalPriority,Je=t.unstable_LowPriority,sn=t.unstable_IdlePriority,ne=t.log,V=t.unstable_setDisableYieldValue,He=null,tt=null;function Vt(e){if(typeof ne=="function"&&V(e),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(He,e)}catch{}}var zt=Math.clz32?Math.clz32:Ha,Pn=Math.log,ji=Math.LN2;function Ha(e){return e>>>=0,e===0?32:31-(Pn(e)/ji|0)|0}var Jn=256,ce=262144,st=4194304;function Mt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bn(e,n,r){var c=e.pendingLanes;if(c===0)return 0;var f=0,g=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?f=Mt(c):(j&=T,j!==0?f=Mt(j):r||(r=T&~e,r!==0&&(f=Mt(r))))):(T=c&~g,T!==0?f=Mt(T):j!==0?f=Mt(j):r||(r=c&~e,r!==0&&(f=Mt(r)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:f}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var e=st;return st<<=1,(st&62914560)===0&&(st=4194304),e}function Us(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ma(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Il(e,n,r,c,f,g){var j=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,F=e.expirationTimes,he=e.hiddenUpdates;for(r=j&~r;0<r;){var _e=31-zt(r),ke=1<<_e;T[_e]=0,F[_e]=-1;var pe=he[_e];if(pe!==null)for(he[_e]=null,_e=0;_e<pe.length;_e++){var xe=pe[_e];xe!==null&&(xe.lane&=-536870913)}r&=~ke}c!==0&&Si(e,c,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(j&~n))}function Si(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-zt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Pr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var c=31-zt(r),f=1<<c;f&n|e[c]&n&&(e[c]|=n),r&=~f}}function Br(e,n){var r=n&-n;return r=(r&42)!==0?1:In(r),(r&(e.suspendedLanes|n))!==0?0:r}function In(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zs(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Gy(e.type))}function Ji(e,n){var r=ie.p;try{return ie.p=e,n()}finally{ie.p=r}}var ha=Math.random().toString(36).slice(2),rn="__reactFiber$"+ha,gn="__reactProps$"+ha,Ka="__reactContainer$"+ha,wa="__reactEvents$"+ha,Ir="__reactListeners$"+ha,Ul="__reactHandles$"+ha,Ur="__reactResources$"+ha,wi="__reactMarker$"+ha;function B(e){delete e[rn],delete e[gn],delete e[wa],delete e[Ir],delete e[Ul]}function Re(e){var n=e[rn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ka]||r[rn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=zy(e);e!==null;){if(r=e[rn])return r;e=zy(e)}return n}e=r,r=e.parentNode}return null}function St(e){if(e=e[rn]||e[Ka]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Qa(e){var n=e[Ur];return n||(n=e[Ur]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tn(e){e[wi]=!0}var qs=new Set,du={};function Ei(e,n){si(e,n),si(e+"Capture",n)}function si(e,n){for(du[e]=n,e=0;e<n.length;e++)qs.add(n[e])}var Fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},ql={};function Hs(e){return pn.call(ql,e)?!0:pn.call(Zl,e)?!1:Fs.test(e)?ql[e]=!0:(Zl[e]=!0,!1)}function ht(e,n,r){if(Hs(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Pt(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Xn(e,n,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+c)}}function Nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ki(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(e,n,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(j){r=""+j,g.call(this,j)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(j){r=""+j},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function nt(e){if(!e._valueTracker){var n=ki(e)?"checked":"value";e._valueTracker=Fl(e,n,""+e[n])}}function Jt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),c="";return e&&(c=ki(e)?e.checked?"true":"false":e.value),e=c,e!==r?(n.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zr=/[\n"\\]/g;function Yt(e){return e.replace(Zr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hl(e,n,r,c,f,g,j,T){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),n!=null?j==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nn(n)):e.value!==""+Nn(n)&&(e.value=""+Nn(n)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),n!=null?Ga(e,j,Nn(n)):r!=null?Ga(e,j,Nn(r)):c!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Nn(T):e.removeAttribute("name")}function Ks(e,n,r,c,f,g,j,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){nt(e);return}r=r!=null?""+Nn(r):"",n=n!=null?""+Nn(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),nt(e)}function Ga(e,n,r){n==="number"&&Xi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function qt(e,n,r,c){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Nn(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ri(e,n,r){if(n!=null&&(n=""+Nn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Nn(r):""}function Wi(e,n,r,c){if(n==null){if(c!=null){if(r!=null)throw Error(o(92));if(le(c)){if(1<c.length)throw Error(o(93));c=c[0]}r=c}r==null&&(r=""),n=r}r=Nn(n),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),nt(e)}function Ea(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function es(e,n,r){var c=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,r):typeof r!="number"||r===0||Kl.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function qr(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&r[f]!==c&&es(e,f,c)}else for(var g in n)n.hasOwnProperty(g)&&es(e,g,n[g])}function Qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ts(e){return Ql.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Hr=null;function Gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,Xe=null;function fa(e){var n=St(e);if(n&&(e=n.stateNode)){var r=e[gn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Hl(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Yt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var c=r[n];if(c!==e&&c.form===e.form){var f=c[gn]||null;if(!f)throw Error(o(90));Hl(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)c=r[n],c.form===e.form&&Jt(c)}break e;case"textarea":ri(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&qt(e,!!r.multiple,n,!1)}}}var Ot=!1;function Gl(e,n,r){if(Ot)return e(n,r);Ot=!0;try{var c=e(n);return c}finally{if(Ot=!1,(ns!==null||Xe!==null)&&(lc(),ns&&(n=ns,e=Xe,Xe=ns=null,fa(n),e)))for(n=0;n<e.length;n++)fa(e[n])}}function Ti(e,n){var r=e.stateNode;if(r===null)return null;var c=r[gn]||null;if(c===null)return null;r=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(pa)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Vs=!1}var ka=null,Ci=null,ln=null;function li(){if(ln)return ln;var e,n=Ci,r=n.length,c,f="value"in ka?ka.value:ka.textContent,g=f.length;for(e=0;e<r&&n[e]===f[e];e++);var j=r-e;for(c=1;c<=j&&n[r-c]===f[g-c];c++);return ln=f.slice(e,1<c?1-c:void 0)}function Ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function mu(){return!1}function An(e){function n(r,c,f,g,j){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$s:mu,this.isPropagationStopped=mu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),n}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=An(Va),as=w({},Va,{view:0,detail:0}),xt=An(as),Vl,Qn,Ya,Js=w({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ya&&(Ya&&e.type==="mousemove"?(Vl=e.screenX-Ya.screenX,Qn=e.screenY-Ya.screenY):Qn=Vl=0,Ya=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Qn}}),hu=An(Js),Yl=w({},Js,{dataTransfer:0}),wd=An(Yl),fu=w({},as,{relatedTarget:0}),$l=An(fu),Ed=w({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=An(Ed),kd=w({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ta=An(kd),Td=w({},Va,{data:0}),Xl=An(Td),oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function eo(){return Wl}var yu=w({},as,{key:function(e){if(e.key){var n=oi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=An(yu),Cd=w({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=An(Cd),to=w({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Ad=An(to),bu=w({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=An(bu),Qr=w({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ai=An(Qr),zd=w({},Va,{newState:0,oldState:0}),Xs=An(zd),ea=[9,13,27,32],Gr=pa&&"CompositionEvent"in window,is=null;pa&&"documentMode"in document&&(is=document.documentMode);var Md=pa&&"TextEvent"in window&&!is,Vr=pa&&(!Gr||is&&8<is&&11>=is),Yr=" ",Nu=!1;function ju(e,n){switch(e){case"keyup":return ea.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function ya(e,n){switch(e){case"compositionend":return no(n);case"keypress":return n.which!==32?null:(Nu=!0,Yr);case"textInput":return e=n.data,e===Yr&&Nu?null:e;default:return null}}function rs(e,n){if(ss)return e==="compositionend"||!Gr&&ju(e,n)?(e=li(),ln=Ci=ka=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vr&&n.locale!=="ko"?null:n.data;default:return null}}var Od={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ca(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Od[e.type]:n==="textarea"}function Su(e,n,r,c){ns?Xe?Xe.push(c):Xe=[c]:ns=c,n=fc(n,"onChange"),0<n.length&&(r=new Kr("onChange","change",null,r,c),e.push({event:r,listeners:n}))}var Aa=null,Ws=null;function er(e){yy(e,0)}function tr(e){var n=Un(e);if(Jt(n))return e}function nr(e,n){if(e==="change")return n}var wu=!1;if(pa){var za;if(pa){var ls="oninput"in document;if(!ls){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),ls=typeof Eu.oninput=="function"}za=ls}else za=!1;wu=za&&(!document.documentMode||9<document.documentMode)}function $r(){Aa&&(Aa.detachEvent("onpropertychange",ku),Ws=Aa=null)}function ku(e){if(e.propertyName==="value"&&tr(Ws)){var n=[];Su(n,Ws,e,Gs(e)),Gl(er,n)}}function $a(e,n,r){e==="focusin"?($r(),Aa=n,Ws=r,Aa.attachEvent("onpropertychange",ku)):e==="focusout"&&$r()}function Dd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(Ws)}function os(e,n){if(e==="click")return tr(n)}function Rd(e,n){if(e==="input"||e==="change")return tr(n)}function Ja(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:Ja;function us(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),c=Object.keys(n);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!pn.call(n,f)||!kn(e[f],n[f]))return!1}return!0}function Jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,n){var r=Jr(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=n&&c>=n)return{node:r,offset:n-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jr(r)}}function Xr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Xi(e.document)}return n}function ui(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Wr=pa&&"documentMode"in document&&11>=document.documentMode,ci=null,el=null,sr=null,cs=!1;function Tu(e,n,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cs||ci==null||ci!==Xi(c)||(c=ci,"selectionStart"in c&&ui(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),sr&&us(sr,c)||(sr=c,c=fc(el,"onSelect"),0<c.length&&(n=new Kr("onSelect","select",null,n,r),e.push({event:n,listeners:c}),n.target=ci)))}function di(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ds={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},tl={},Cu={};pa&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Tn(e){if(tl[e])return tl[e];if(!ds[e])return e;var n=ds[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cu)return tl[e]=n[r];return e}var rr=Tn("animationend"),Au=Tn("animationiteration"),lr=Tn("animationstart"),Ld=Tn("transitionrun"),zu=Tn("transitionstart"),Pd=Tn("transitioncancel"),ms=Tn("transitionend"),Mu=new Map,mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mi.push("scrollEnd");function ta(e,n){Mu.set(e,n),Ei(n,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},na=[],Zn=0,nl=0;function ur(){for(var e=Zn,n=nl=Zn=0;n<e;){var r=na[n];na[n++]=null;var c=na[n];na[n++]=null;var f=na[n];na[n++]=null;var g=na[n];if(na[n++]=null,c!==null&&f!==null){var j=c.pending;j===null?f.next=f:(f.next=j.next,j.next=f),c.pending=f}g!==0&&hs(r,f,g)}}function hi(e,n,r,c){na[Zn++]=e,na[Zn++]=n,na[Zn++]=r,na[Zn++]=c,nl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ao(e,n,r,c){return hi(e,n,r,c),cr(e)}function Ma(e,n){return hi(e,null,null,n),cr(e)}function hs(e,n,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var f=!1,g=e.return;g!==null;)g.childLanes|=r,c=g.alternate,c!==null&&(c.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-zt(r),e=g.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=r|536870912),g):null}function cr(e){if(50<Co)throw Co=0,Im=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var zi={};function Bd(e,n,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,n,r,c){return new Bd(e,n,r,c)}function al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oa(e,n){var r=e.alternate;return r===null?(r=qn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function io(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function dr(e,n,r,c,f,g){var j=0;if(c=e,typeof e=="function")al(e)&&(j=1);else if(typeof e=="string")j=dN(e,r,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=qn(31,r,n,f),e.elementType=ae,e.lanes=g,e;case A:return Mi(r.children,f,g,n);case O:j=8,f|=24;break;case Z:return e=qn(12,r,n,f|2),e.elementType=Z,e.lanes=g,e;case $:return e=qn(13,r,n,f),e.elementType=$,e.lanes=g,e;case Y:return e=qn(19,r,n,f),e.elementType=Y,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:j=10;break e;case R:j=9;break e;case G:j=11;break e;case K:j=14;break e;case Q:j=16,c=null;break e}j=29,r=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=qn(j,r,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function Mi(e,n,r,c){return e=qn(7,e,c,n),e.lanes=r,e}function il(e,n,r){return e=qn(6,e,null,n),e.lanes=r,e}function so(e){var n=qn(18,null,null,0);return n.stateNode=e,n}function ro(e,n,r){return n=qn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var s=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var r=s.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Kt(n)},s.set(e,n),n)}return{value:e,source:n,stack:Kt(n)}}var h=[],x=0,_=null,E=0,I=[],re=0,fe=null,Ee=1,Oe="";function Fe(e,n){h[x++]=E,h[x++]=_,_=e,E=n}function ot(e,n,r){I[re++]=Ee,I[re++]=Oe,I[re++]=fe,fe=e;var c=Ee;e=Oe;var f=32-zt(c)-1;c&=~(1<<f),r+=1;var g=32-zt(n)+f;if(30<g){var j=f-f%5;g=(c&(1<<j)-1).toString(32),c>>=j,f-=j,Ee=1<<32-zt(n)+f|r<<f|c,Oe=g+e}else Ee=1<<g|r<<f|c,Oe=e}function jn(e){e.return!==null&&(Fe(e,1),ot(e,1,0))}function on(e){for(;e===_;)_=h[--x],h[x]=null,E=h[--x],h[x]=null;for(;e===fe;)fe=I[--re],I[re]=null,Oe=I[--re],I[re]=null,Ee=I[--re],I[re]=null}function Gn(e,n){I[re++]=Ee,I[re++]=Oe,I[re++]=fe,Ee=n.id,Oe=n.overflow,fe=e}var wt=null,Et=null,ft=!1,fi=null,aa=!1,sl=Error(o(519));function pi(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mr(u(n,e)),sl}function lo(e){var n=e.stateNode,r=e.type,c=e.memoizedProps;switch(n[rn]=e,n[gn]=c,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(r=0;r<zo.length;r++)gt(zo[r],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":gt("invalid",n),Ks(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":gt("invalid",n);break;case"textarea":gt("invalid",n),Wi(n,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||c.suppressHydrationWarning===!0||_y(n.textContent,r)?(c.popover!=null&&(gt("beforetoggle",n),gt("toggle",n)),c.onScroll!=null&&gt("scroll",n),c.onScrollEnd!=null&&gt("scrollend",n),c.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||pi(e,!0)}function nn(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:wt=wt.return}}function Xa(e){if(e!==wt)return!1;if(!ft)return nn(e),ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||eh(e.type,e.memoizedProps)),r=!r),r&&Et&&pi(e),nn(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Et=Ay(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Et=Ay(e)}else n===27?(n=Et,ks(e.type)?(e=sh,sh=null,Et=e):Et=n):Et=wt?Ra(e.stateNode.nextSibling):null;return!0}function Oi(){Et=wt=null,ft=!1}function oo(){var e=fi;return e!==null&&(la===null?la=e:la.push.apply(la,e),fi=null),e}function mr(e){fi===null?fi=[e]:fi.push(e)}var hr=M(null),gi=null,Wa=null;function fs(e,n,r){D(hr,n._currentValue),n._currentValue=r}function Di(e){e._currentValue=hr.current,te(hr)}function Id(e,n,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===r)break;e=e.return}}function Ud(e,n,r,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var j=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var F=0;F<n.length;F++)if(T.context===n[F]){g.lanes|=r,T=g.alternate,T!==null&&(T.lanes|=r),Id(g.return,r,e),c||(j=null);break e}g=T.next}}else if(f.tag===18){if(j=f.return,j===null)throw Error(o(341));j.lanes|=r,g=j.alternate,g!==null&&(g.lanes|=r),Id(j,r,e),j=null}else j=f.child;if(j!==null)j.return=f;else for(j=f;j!==null;){if(j===e){j=null;break}if(f=j.sibling,f!==null){f.return=j.return,j=f;break}j=j.return}f=j}}function rl(e,n,r,c){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var j=f.alternate;if(j===null)throw Error(o(387));if(j=j.memoizedProps,j!==null){var T=f.type;kn(f.pendingProps.value,j.value)||(e!==null?e.push(T):e=[T])}}else if(f===ze.current){if(j=f.alternate,j===null)throw Error(o(387));j.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Lo):e=[Lo])}f=f.return}e!==null&&Ud(n,e,r,c),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fr(e){gi=e,Wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return rp(gi,e)}function Du(e,n){return gi===null&&fr(e),rp(e,n)}function rp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wa===null){if(e===null)throw Error(o(308));Wa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wa=Wa.next=n;return r}var l_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},o_=t.unstable_scheduleCallback,u_=t.unstable_NormalPriority,yn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new l_,data:new Map,refCount:0}}function uo(e){e.refCount--,e.refCount===0&&o_(u_,function(){e.controller.abort()})}var co=null,qd=0,ll=0,ol=null;function c_(e,n){if(co===null){var r=co=[];qd=0,ll=Km(),ol={status:"pending",value:void 0,then:function(c){r.push(c)}}}return qd++,n.then(lp,lp),n}function lp(){if(--qd===0&&co!==null){ol!==null&&(ol.status="fulfilled");var e=co;co=null,ll=0,ol=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d_(e,n){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var op=q.S;q.S=function(e,n){Kg=jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c_(e,n),op!==null&&op(e,n)};var pr=M(null);function Fd(){var e=pr.current;return e!==null?e:Ft.pooledCache}function Ru(e,n){n===null?D(pr,pr.current):D(pr,n.pool)}function up(){var e=Fd();return e===null?null:{parent:yn._currentValue,pool:e}}var ul=Error(o(460)),Hd=Error(o(474)),Lu=Error(o(542)),Pu={then:function(){}};function cp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Wn,Wn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(e=Ft,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e}throw yr=n,ul}}function gr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(yr=r,ul):r}}var yr=null;function mp(){if(yr===null)throw Error(o(459));var e=yr;return yr=null,e}function hp(e){if(e===ul||e===Lu)throw Error(o(483))}var cl=null,mo=0;function Bu(e){var n=mo;return mo+=1,cl===null&&(cl=[]),dp(cl,e,n)}function ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fp(e){function n(se,J){if(e){var me=se.deletions;me===null?(se.deletions=[J],se.flags|=16):me.push(J)}}function r(se,J){if(!e)return null;for(;J!==null;)n(se,J),J=J.sibling;return null}function c(se){for(var J=new Map;se!==null;)se.key!==null?J.set(se.key,se):J.set(se.index,se),se=se.sibling;return J}function f(se,J){return se=Oa(se,J),se.index=0,se.sibling=null,se}function g(se,J,me){return se.index=me,e?(me=se.alternate,me!==null?(me=me.index,me<J?(se.flags|=67108866,J):me):(se.flags|=67108866,J)):(se.flags|=1048576,J)}function j(se){return e&&se.alternate===null&&(se.flags|=67108866),se}function T(se,J,me,Se){return J===null||J.tag!==6?(J=il(me,se.mode,Se),J.return=se,J):(J=f(J,me),J.return=se,J)}function F(se,J,me,Se){var Qe=me.type;return Qe===A?_e(se,J,me.props.children,Se,me.key):J!==null&&(J.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Q&&gr(Qe)===J.type)?(J=f(J,me.props),ho(J,me),J.return=se,J):(J=dr(me.type,me.key,me.props,null,se.mode,Se),ho(J,me),J.return=se,J)}function he(se,J,me,Se){return J===null||J.tag!==4||J.stateNode.containerInfo!==me.containerInfo||J.stateNode.implementation!==me.implementation?(J=ro(me,se.mode,Se),J.return=se,J):(J=f(J,me.children||[]),J.return=se,J)}function _e(se,J,me,Se,Qe){return J===null||J.tag!==7?(J=Mi(me,se.mode,Se,Qe),J.return=se,J):(J=f(J,me),J.return=se,J)}function ke(se,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=il(""+J,se.mode,me),J.return=se,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return me=dr(J.type,J.key,J.props,null,se.mode,me),ho(me,J),me.return=se,me;case k:return J=ro(J,se.mode,me),J.return=se,J;case Q:return J=gr(J),ke(se,J,me)}if(le(J)||ue(J))return J=Mi(J,se.mode,me,null),J.return=se,J;if(typeof J.then=="function")return ke(se,Bu(J),me);if(J.$$typeof===P)return ke(se,Du(se,J),me);Iu(se,J)}return null}function pe(se,J,me,Se){var Qe=J!==null?J.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Qe!==null?null:T(se,J,""+me,Se);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case z:return me.key===Qe?F(se,J,me,Se):null;case k:return me.key===Qe?he(se,J,me,Se):null;case Q:return me=gr(me),pe(se,J,me,Se)}if(le(me)||ue(me))return Qe!==null?null:_e(se,J,me,Se,null);if(typeof me.then=="function")return pe(se,J,Bu(me),Se);if(me.$$typeof===P)return pe(se,J,Du(se,me),Se);Iu(se,me)}return null}function xe(se,J,me,Se,Qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return se=se.get(me)||null,T(J,se,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case z:return se=se.get(Se.key===null?me:Se.key)||null,F(J,se,Se,Qe);case k:return se=se.get(Se.key===null?me:Se.key)||null,he(J,se,Se,Qe);case Q:return Se=gr(Se),xe(se,J,me,Se,Qe)}if(le(Se)||ue(Se))return se=se.get(me)||null,_e(J,se,Se,Qe,null);if(typeof Se.then=="function")return xe(se,J,me,Bu(Se),Qe);if(Se.$$typeof===P)return xe(se,J,me,Du(J,Se),Qe);Iu(J,Se)}return null}function Be(se,J,me,Se){for(var Qe=null,kt=null,Ze=J,ut=J=0,bt=null;Ze!==null&&ut<me.length;ut++){Ze.index>ut?(bt=Ze,Ze=null):bt=Ze.sibling;var Tt=pe(se,Ze,me[ut],Se);if(Tt===null){Ze===null&&(Ze=bt);break}e&&Ze&&Tt.alternate===null&&n(se,Ze),J=g(Tt,J,ut),kt===null?Qe=Tt:kt.sibling=Tt,kt=Tt,Ze=bt}if(ut===me.length)return r(se,Ze),ft&&Fe(se,ut),Qe;if(Ze===null){for(;ut<me.length;ut++)Ze=ke(se,me[ut],Se),Ze!==null&&(J=g(Ze,J,ut),kt===null?Qe=Ze:kt.sibling=Ze,kt=Ze);return ft&&Fe(se,ut),Qe}for(Ze=c(Ze);ut<me.length;ut++)bt=xe(Ze,se,ut,me[ut],Se),bt!==null&&(e&&bt.alternate!==null&&Ze.delete(bt.key===null?ut:bt.key),J=g(bt,J,ut),kt===null?Qe=bt:kt.sibling=bt,kt=bt);return e&&Ze.forEach(function(Ms){return n(se,Ms)}),ft&&Fe(se,ut),Qe}function $e(se,J,me,Se){if(me==null)throw Error(o(151));for(var Qe=null,kt=null,Ze=J,ut=J=0,bt=null,Tt=me.next();Ze!==null&&!Tt.done;ut++,Tt=me.next()){Ze.index>ut?(bt=Ze,Ze=null):bt=Ze.sibling;var Ms=pe(se,Ze,Tt.value,Se);if(Ms===null){Ze===null&&(Ze=bt);break}e&&Ze&&Ms.alternate===null&&n(se,Ze),J=g(Ms,J,ut),kt===null?Qe=Ms:kt.sibling=Ms,kt=Ms,Ze=bt}if(Tt.done)return r(se,Ze),ft&&Fe(se,ut),Qe;if(Ze===null){for(;!Tt.done;ut++,Tt=me.next())Tt=ke(se,Tt.value,Se),Tt!==null&&(J=g(Tt,J,ut),kt===null?Qe=Tt:kt.sibling=Tt,kt=Tt);return ft&&Fe(se,ut),Qe}for(Ze=c(Ze);!Tt.done;ut++,Tt=me.next())Tt=xe(Ze,se,ut,Tt.value,Se),Tt!==null&&(e&&Tt.alternate!==null&&Ze.delete(Tt.key===null?ut:Tt.key),J=g(Tt,J,ut),kt===null?Qe=Tt:kt.sibling=Tt,kt=Tt);return e&&Ze.forEach(function(NN){return n(se,NN)}),ft&&Fe(se,ut),Qe}function Ut(se,J,me,Se){if(typeof me=="object"&&me!==null&&me.type===A&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case z:e:{for(var Qe=me.key;J!==null;){if(J.key===Qe){if(Qe=me.type,Qe===A){if(J.tag===7){r(se,J.sibling),Se=f(J,me.props.children),Se.return=se,se=Se;break e}}else if(J.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Q&&gr(Qe)===J.type){r(se,J.sibling),Se=f(J,me.props),ho(Se,me),Se.return=se,se=Se;break e}r(se,J);break}else n(se,J);J=J.sibling}me.type===A?(Se=Mi(me.props.children,se.mode,Se,me.key),Se.return=se,se=Se):(Se=dr(me.type,me.key,me.props,null,se.mode,Se),ho(Se,me),Se.return=se,se=Se)}return j(se);case k:e:{for(Qe=me.key;J!==null;){if(J.key===Qe)if(J.tag===4&&J.stateNode.containerInfo===me.containerInfo&&J.stateNode.implementation===me.implementation){r(se,J.sibling),Se=f(J,me.children||[]),Se.return=se,se=Se;break e}else{r(se,J);break}else n(se,J);J=J.sibling}Se=ro(me,se.mode,Se),Se.return=se,se=Se}return j(se);case Q:return me=gr(me),Ut(se,J,me,Se)}if(le(me))return Be(se,J,me,Se);if(ue(me)){if(Qe=ue(me),typeof Qe!="function")throw Error(o(150));return me=Qe.call(me),$e(se,J,me,Se)}if(typeof me.then=="function")return Ut(se,J,Bu(me),Se);if(me.$$typeof===P)return Ut(se,J,Du(se,me),Se);Iu(se,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,J!==null&&J.tag===6?(r(se,J.sibling),Se=f(J,me),Se.return=se,se=Se):(r(se,J),Se=il(me,se.mode,Se),Se.return=se,se=Se),j(se)):r(se,J)}return function(se,J,me,Se){try{mo=0;var Qe=Ut(se,J,me,Se);return cl=null,Qe}catch(Ze){if(Ze===ul||Ze===Lu)throw Ze;var kt=qn(29,Ze,null,se.mode);return kt.lanes=Se,kt.return=se,kt}}}var xr=fp(!0),pp=fp(!1),ps=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ys(e,n,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ct&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=cr(e),hs(e,null,r),n}return hi(e,c,n,r),cr(e)}function fo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Pr(e,r)}}function Gd(e,n){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=j:g=g.next=j,r=r.next}while(r!==null);g===null?f=g=n:g=g.next=n}else f=g=n;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Vd=!1;function po(){if(Vd){var e=ol;if(e!==null)throw e}}function go(e,n,r,c){Vd=!1;var f=e.updateQueue;ps=!1;var g=f.firstBaseUpdate,j=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var F=T,he=F.next;F.next=null,j===null?g=he:j.next=he,j=F;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,T=_e.lastBaseUpdate,T!==j&&(T===null?_e.firstBaseUpdate=he:T.next=he,_e.lastBaseUpdate=F))}if(g!==null){var ke=f.baseState;j=0,_e=he=F=null,T=g;do{var pe=T.lane&-536870913,xe=pe!==T.lane;if(xe?(vt&pe)===pe:(c&pe)===pe){pe!==0&&pe===ll&&(Vd=!0),_e!==null&&(_e=_e.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Be=e,$e=T;pe=n;var Ut=r;switch($e.tag){case 1:if(Be=$e.payload,typeof Be=="function"){ke=Be.call(Ut,ke,pe);break e}ke=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=$e.payload,pe=typeof Be=="function"?Be.call(Ut,ke,pe):Be,pe==null)break e;ke=w({},ke,pe);break e;case 2:ps=!0}}pe=T.callback,pe!==null&&(e.flags|=64,xe&&(e.flags|=8192),xe=f.callbacks,xe===null?f.callbacks=[pe]:xe.push(pe))}else xe={lane:pe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},_e===null?(he=_e=xe,F=ke):_e=_e.next=xe,j|=pe;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;xe=T,T=xe.next,xe.next=null,f.lastBaseUpdate=xe,f.shared.pending=null}}while(!0);_e===null&&(F=ke),f.baseState=F,f.firstBaseUpdate=he,f.lastBaseUpdate=_e,g===null&&(f.shared.lanes=0),Ns|=j,e.lanes=j,e.memoizedState=ke}}function gp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function yp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)gp(r[e],n)}var dl=M(null),Uu=M(0);function xp(e,n){e=Fi,D(Uu,e),D(dl,n),Fi=e|n.baseLanes}function Yd(){D(Uu,Fi),D(dl,dl.current)}function $d(){Fi=Uu.current,te(dl),te(Uu)}var xa=M(null),Da=null;function xs(e){var n=e.alternate;D(hn,hn.current&1),D(xa,e),Da===null&&(n===null||dl.current!==null||n.memoizedState!==null)&&(Da=e)}function Jd(e){D(hn,hn.current),D(xa,e),Da===null&&(Da=e)}function vp(e){e.tag===22?(D(hn,hn.current),D(xa,e),Da===null&&(Da=e)):vs()}function vs(){D(hn,hn.current),D(xa,xa.current)}function va(e){te(xa),Da===e&&(Da=null),te(hn)}var hn=M(0);function Zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ah(r)||ih(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ri=0,rt=null,Bt=null,xn=null,qu=!1,ml=!1,vr=!1,Fu=0,yo=0,hl=null,m_=0;function un(){throw Error(o(321))}function Xd(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!kn(e[r],n[r]))return!1;return!0}function Wd(e,n,r,c,f,g){return Ri=g,rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?ng:fm,vr=!1,g=r(c,f),vr=!1,ml&&(g=_p(n,r,c,f)),bp(e),g}function bp(e){q.H=bo;var n=Bt!==null&&Bt.next!==null;if(Ri=0,xn=Bt=rt=null,qu=!1,yo=0,hl=null,n)throw Error(o(300));e===null||vn||(e=e.dependencies,e!==null&&Ou(e)&&(vn=!0))}function _p(e,n,r,c){rt=e;var f=0;do{if(ml&&(hl=null),yo=0,ml=!1,25<=f)throw Error(o(301));if(f+=1,xn=Bt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=ag,g=n(r,c)}while(ml);return g}function h_(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?xo(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(rt.flags|=1024),n}function em(){var e=Fu!==0;return Fu=0,e}function tm(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function nm(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Ri=0,xn=Bt=rt=null,ml=!1,yo=Fu=0,hl=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?rt.memoizedState=xn=e:xn=xn.next=e,xn}function fn(){if(Bt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=xn===null?rt.memoizedState:xn.next;if(n!==null)xn=n,Bt=e;else{if(e===null)throw rt.alternate===null?Error(o(467)):Error(o(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},xn===null?rt.memoizedState=xn=e:xn=xn.next=e}return xn}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(e){var n=yo;return yo+=1,hl===null&&(hl=[]),e=dp(hl,e,n),n=rt,(xn===null?n.memoizedState:xn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?ng:fm),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===P)return zn(e)}throw Error(o(438,String(e)))}function am(e){var n=null,r=rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var c=rt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),c=0;c<e;c++)r[c]=ye;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=fn();return im(n,Bt,e)}function im(e,n,r){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var f=e.baseQueue,g=c.pending;if(g!==null){if(f!==null){var j=f.next;f.next=g.next,g.next=j}n.baseQueue=f=g,c.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var T=j=null,F=null,he=n,_e=!1;do{var ke=he.lane&-536870913;if(ke!==he.lane?(vt&ke)===ke:(Ri&ke)===ke){var pe=he.revertLane;if(pe===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),ke===ll&&(_e=!0);else if((Ri&pe)===pe){he=he.next,pe===ll&&(_e=!0);continue}else ke={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},F===null?(T=F=ke,j=g):F=F.next=ke,rt.lanes|=pe,Ns|=pe;ke=he.action,vr&&r(g,ke),g=he.hasEagerState?he.eagerState:r(g,ke)}else pe={lane:ke,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},F===null?(T=F=pe,j=g):F=F.next=pe,rt.lanes|=ke,Ns|=ke;he=he.next}while(he!==null&&he!==n);if(F===null?j=g:F.next=T,!kn(g,e.memoizedState)&&(vn=!0,_e&&(r=ol,r!==null)))throw r;e.memoizedState=g,e.baseState=j,e.baseQueue=F,c.lastRenderedState=g}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function sm(e){var n=fn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var c=r.dispatch,f=r.pending,g=n.memoizedState;if(f!==null){r.pending=null;var j=f=f.next;do g=e(g,j.action),j=j.next;while(j!==f);kn(g,n.memoizedState)||(vn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,c]}function Np(e,n,r){var c=rt,f=fn(),g=ft;if(g){if(r===void 0)throw Error(o(407));r=r()}else r=n();var j=!kn((Bt||f).memoizedState,r);if(j&&(f.memoizedState=r,vn=!0),f=f.queue,om(wp.bind(null,c,f,e),[e]),f.getSnapshot!==n||j||xn!==null&&xn.memoizedState.tag&1){if(c.flags|=2048,fl(9,{destroy:void 0},Sp.bind(null,c,f,r,n),null),Ft===null)throw Error(o(349));g||(Ri&127)!==0||jp(c,n,r)}return r}function jp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=rt.updateQueue,n===null?(n=Hu(),rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Sp(e,n,r,c){n.value=r,n.getSnapshot=c,Ep(n)&&kp(e)}function wp(e,n,r){return r(function(){Ep(n)&&kp(e)})}function Ep(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!kn(e,r)}catch{return!0}}function kp(e){var n=Ma(e,2);n!==null&&oa(n,e,2)}function rm(e){var n=Vn();if(typeof e=="function"){var r=e;if(e=r(),vr){Vt(!0);try{r()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Tp(e,n,r,c){return e.baseState=r,im(e,Bt,typeof c=="function"?c:Li)}function f_(e,n,r,c,f){if(Yu(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){g.listeners.push(j)}};q.T!==null?r(!0):g.isTransition=!1,c(g),r=n.pending,r===null?(g.next=n.pending=g,Cp(n,g)):(g.next=r.next,n.pending=r.next=g)}}function Cp(e,n){var r=n.action,c=n.payload,f=e.state;if(n.isTransition){var g=q.T,j={};q.T=j;try{var T=r(f,c),F=q.S;F!==null&&F(j,T),Ap(e,n,T)}catch(he){lm(e,n,he)}finally{g!==null&&j.types!==null&&(g.types=j.types),q.T=g}}else try{g=r(f,c),Ap(e,n,g)}catch(he){lm(e,n,he)}}function Ap(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){zp(e,n,c)},function(c){return lm(e,n,c)}):zp(e,n,r)}function zp(e,n,r){n.status="fulfilled",n.value=r,Mp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Cp(e,r)))}function lm(e,n,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=r,Mp(n),n=n.next;while(n!==c)}e.action=null}function Mp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Op(e,n){return n}function Dp(e,n){if(ft){var r=Ft.formState;if(r!==null){e:{var c=rt;if(ft){if(Et){t:{for(var f=Et,g=aa;f.nodeType!==8;){if(!g){f=null;break t}if(f=Ra(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Et=Ra(f.nextSibling),c=f.data==="F!";break e}}pi(c)}c=!1}c&&(n=r[0])}}return r=Vn(),r.memoizedState=r.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},r.queue=c,r=Wp.bind(null,rt,c),c.dispatch=r,c=rm(!1),g=hm.bind(null,rt,!1,c.queue),c=Vn(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,r=f_.bind(null,rt,f,g,r),f.dispatch=r,c.memoizedState=e,[n,r,!1]}function Rp(e){var n=fn();return Lp(n,Bt,e)}function Lp(e,n,r){if(n=im(e,n,Op)[0],e=Qu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=xo(n)}catch(j){throw j===ul?Lu:j}else c=n;n=fn();var f=n.queue,g=f.dispatch;return r!==n.memoizedState&&(rt.flags|=2048,fl(9,{destroy:void 0},p_.bind(null,f,r),null)),[c,g,e]}function p_(e,n){e.action=n}function Pp(e){var n=fn(),r=Bt;if(r!==null)return Lp(n,r,e);fn(),n=n.memoizedState,r=fn();var c=r.queue.dispatch;return r.memoizedState=e,[n,c,!1]}function fl(e,n,r,c){return e={tag:e,create:r,deps:c,inst:n,next:null},n=rt.updateQueue,n===null&&(n=Hu(),rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,n.lastEffect=e),e}function Bp(){return fn().memoizedState}function Gu(e,n,r,c){var f=Vn();rt.flags|=e,f.memoizedState=fl(1|n,{destroy:void 0},r,c===void 0?null:c)}function Vu(e,n,r,c){var f=fn();c=c===void 0?null:c;var g=f.memoizedState.inst;Bt!==null&&c!==null&&Xd(c,Bt.memoizedState.deps)?f.memoizedState=fl(n,g,r,c):(rt.flags|=e,f.memoizedState=fl(1|n,g,r,c))}function Ip(e,n){Gu(8390656,8,e,n)}function om(e,n){Vu(2048,8,e,n)}function g_(e){rt.flags|=4;var n=rt.updateQueue;if(n===null)n=Hu(),rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Up(e){var n=fn().memoizedState;return g_({ref:n,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Zp(e,n){return Vu(4,2,e,n)}function qp(e,n){return Vu(4,4,e,n)}function Fp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hp(e,n,r){r=r!=null?r.concat([e]):null,Vu(4,4,Fp.bind(null,n,e),r)}function um(){}function Kp(e,n){var r=fn();n=n===void 0?null:n;var c=r.memoizedState;return n!==null&&Xd(n,c[1])?c[0]:(r.memoizedState=[e,n],e)}function Qp(e,n){var r=fn();n=n===void 0?null:n;var c=r.memoizedState;if(n!==null&&Xd(n,c[1]))return c[0];if(c=e(),vr){Vt(!0);try{e()}finally{Vt(!1)}}return r.memoizedState=[c,n],c}function cm(e,n,r){return r===void 0||(Ri&1073741824)!==0&&(vt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Gg(),rt.lanes|=e,Ns|=e,r)}function Gp(e,n,r,c){return kn(r,n)?r:dl.current!==null?(e=cm(e,r,c),kn(e,n)||(vn=!0),e):(Ri&42)===0||(Ri&1073741824)!==0&&(vt&261930)===0?(vn=!0,e.memoizedState=r):(e=Gg(),rt.lanes|=e,Ns|=e,n)}function Vp(e,n,r,c,f){var g=ie.p;ie.p=g!==0&&8>g?g:8;var j=q.T,T={};q.T=T,hm(e,!1,n,r);try{var F=f(),he=q.S;if(he!==null&&he(T,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var _e=d_(F,c);vo(e,n,_e,Na(e))}else vo(e,n,c,Na(e))}catch(ke){vo(e,n,{then:function(){},status:"rejected",reason:ke},Na())}finally{ie.p=g,j!==null&&T.types!==null&&(j.types=T.types),q.T=j}}function y_(){}function dm(e,n,r,c){if(e.tag!==5)throw Error(o(476));var f=Yp(e).queue;Vp(e,f,n,de,r===null?y_:function(){return $p(e),r(c)})}function Yp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $p(e){var n=Yp(e);n.next===null&&(n=e.alternate.memoizedState),vo(e,n.next.queue,{},Na())}function mm(){return zn(Lo)}function Jp(){return fn().memoizedState}function Xp(){return fn().memoizedState}function x_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Na();e=gs(r);var c=ys(n,e,r);c!==null&&(oa(c,n,r),fo(c,n,r)),n={cache:Zd()},e.payload=n;return}n=n.return}}function v_(e,n,r){var c=Na();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?eg(n,r):(r=ao(e,n,r,c),r!==null&&(oa(r,e,c),tg(r,n,c)))}function Wp(e,n,r){var c=Na();vo(e,n,r,c)}function vo(e,n,r,c){var f={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))eg(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var j=n.lastRenderedState,T=g(j,r);if(f.hasEagerState=!0,f.eagerState=T,kn(T,j))return hi(e,n,f,0),Ft===null&&ur(),!1}catch{}if(r=ao(e,n,f,c),r!==null)return oa(r,e,c),tg(r,n,c),!0}return!1}function hm(e,n,r,c){if(c={lane:2,revertLane:Km(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(o(479))}else n=ao(e,r,c,2),n!==null&&oa(n,e,2)}function Yu(e){var n=e.alternate;return e===rt||n!==null&&n===rt}function eg(e,n){ml=qu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function tg(e,n,r){if((r&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Pr(e,r)}}var bo={readContext:zn,use:Ku,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};bo.useEffectEvent=un;var ng={readContext:zn,use:Ku,useCallback:function(e,n){return Vn().memoizedState=[e,n===void 0?null:n],e},useContext:zn,useEffect:Ip,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,Fp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=Vn();n=n===void 0?null:n;var c=e();if(vr){Vt(!0);try{e()}finally{Vt(!1)}}return r.memoizedState=[c,n],c},useReducer:function(e,n,r){var c=Vn();if(r!==void 0){var f=r(n);if(vr){Vt(!0);try{r(n)}finally{Vt(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=v_.bind(null,rt,e),[c.memoizedState,e]},useRef:function(e){var n=Vn();return e={current:e},n.memoizedState=e},useState:function(e){e=rm(e);var n=e.queue,r=Wp.bind(null,rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:um,useDeferredValue:function(e,n){var r=Vn();return cm(r,e,n)},useTransition:function(){var e=rm(!1);return e=Vp.bind(null,rt,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var c=rt,f=Vn();if(ft){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Ft===null)throw Error(o(349));(vt&127)!==0||jp(c,n,r)}f.memoizedState=r;var g={value:r,getSnapshot:n};return f.queue=g,Ip(wp.bind(null,c,g,e),[e]),c.flags|=2048,fl(9,{destroy:void 0},Sp.bind(null,c,g,r,n),null),r},useId:function(){var e=Vn(),n=Ft.identifierPrefix;if(ft){var r=Oe,c=Ee;r=(c&~(1<<32-zt(c)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=m_++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mm,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=Vn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hm.bind(null,rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:am,useCacheRefresh:function(){return Vn().memoizedState=x_.bind(null,rt)},useEffectEvent:function(e){var n=Vn(),r={impl:e};return n.memoizedState=r,function(){if((Ct&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},fm={readContext:zn,use:Ku,useCallback:Kp,useContext:zn,useEffect:om,useImperativeHandle:Hp,useInsertionEffect:Zp,useLayoutEffect:qp,useMemo:Qp,useReducer:Qu,useRef:Bp,useState:function(){return Qu(Li)},useDebugValue:um,useDeferredValue:function(e,n){var r=fn();return Gp(r,Bt.memoizedState,e,n)},useTransition:function(){var e=Qu(Li)[0],n=fn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:Np,useId:Jp,useHostTransitionStatus:mm,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var r=fn();return Tp(r,Bt,e,n)},useMemoCache:am,useCacheRefresh:Xp};fm.useEffectEvent=Up;var ag={readContext:zn,use:Ku,useCallback:Kp,useContext:zn,useEffect:om,useImperativeHandle:Hp,useInsertionEffect:Zp,useLayoutEffect:qp,useMemo:Qp,useReducer:sm,useRef:Bp,useState:function(){return sm(Li)},useDebugValue:um,useDeferredValue:function(e,n){var r=fn();return Bt===null?cm(r,e,n):Gp(r,Bt.memoizedState,e,n)},useTransition:function(){var e=sm(Li)[0],n=fn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:Np,useId:Jp,useHostTransitionStatus:mm,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,n){var r=fn();return Bt!==null?Tp(r,Bt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:am,useCacheRefresh:Xp};ag.useEffectEvent=Up;function pm(e,n,r,c){n=e.memoizedState,r=r(c,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gm={enqueueSetState:function(e,n,r){e=e._reactInternals;var c=Na(),f=gs(c);f.payload=n,r!=null&&(f.callback=r),n=ys(e,f,c),n!==null&&(oa(n,e,c),fo(n,e,c))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var c=Na(),f=gs(c);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=ys(e,f,c),n!==null&&(oa(n,e,c),fo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Na(),c=gs(r);c.tag=2,n!=null&&(c.callback=n),n=ys(e,c,r),n!==null&&(oa(n,e,r),fo(n,e,r))}};function ig(e,n,r,c,f,g,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,j):n.prototype&&n.prototype.isPureReactComponent?!us(r,c)||!us(f,g):!0}function sg(e,n,r,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,c),n.state!==e&&gm.enqueueReplaceState(n,n.state,null)}function br(e,n){var r=n;if("ref"in n){r={};for(var c in n)c!=="ref"&&(r[c]=n[c])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function rg(e){or(e)}function lg(e){console.error(e)}function og(e){or(e)}function $u(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function ug(e,n,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ym(e,n,r){return r=gs(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(e,n)},r}function cg(e){return e=gs(e),e.tag=3,e}function dg(e,n,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;e.payload=function(){return f(g)},e.callback=function(){ug(n,r,c)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){ug(n,r,c),typeof f!="function"&&(js===null?js=new Set([this]):js.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function b_(e,n,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=r.alternate,n!==null&&rl(n,r,f,!0),r=xa.current,r!==null){switch(r.tag){case 31:case 13:return Da===null?oc():r.alternate===null&&cn===0&&(cn=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([c]):n.add(c),qm(e,c,f)),!1;case 22:return r.flags|=65536,c===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([c]):r.add(c)),qm(e,c,f)),!1}throw Error(o(435,r.tag))}return qm(e,c,f),oc(),!1}if(ft)return n=xa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==sl&&(e=Error(o(422),{cause:c}),mr(u(e,r)))):(c!==sl&&(n=Error(o(423),{cause:c}),mr(u(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=u(c,r),f=ym(e.stateNode,c,f),Gd(e,f),cn!==4&&(cn=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,r),To===null?To=[g]:To.push(g),cn!==4&&(cn=2),n===null)return!0;c=u(c,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=ym(r.stateNode,c,e),Gd(r,e),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(js===null||!js.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=cg(f),dg(f,e,r,c),Gd(r,f),!1}r=r.return}while(r!==null);return!1}var xm=Error(o(461)),vn=!1;function Mn(e,n,r,c){n.child=e===null?pp(n,null,r,c):xr(n,e.child,r,c)}function mg(e,n,r,c,f){r=r.render;var g=n.ref;if("ref"in c){var j={};for(var T in c)T!=="ref"&&(j[T]=c[T])}else j=c;return fr(n),c=Wd(e,n,r,j,g,f),T=em(),e!==null&&!vn?(tm(e,n,f),Pi(e,n,f)):(ft&&T&&jn(n),n.flags|=1,Mn(e,n,c,f),n.child)}function hg(e,n,r,c,f){if(e===null){var g=r.type;return typeof g=="function"&&!al(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,fg(e,n,g,c,f)):(e=dr(r.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Em(e,f)){var j=g.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(j,c)&&e.ref===n.ref)return Pi(e,n,f)}return n.flags|=1,e=Oa(g,c),e.ref=n.ref,e.return=n,n.child=e}function fg(e,n,r,c,f){if(e!==null){var g=e.memoizedProps;if(us(g,c)&&e.ref===n.ref)if(vn=!1,n.pendingProps=c=g,Em(e,f))(e.flags&131072)!==0&&(vn=!0);else return n.lanes=e.lanes,Pi(e,n,f)}return vm(e,n,r,c,f)}function pg(e,n,r,c){var f=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,n.child=null;return gg(e,n,g,r,c)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,g!==null?g.cachePool:null),g!==null?xp(n,g):Yd(),vp(n);else return c=n.lanes=536870912,gg(e,n,g!==null?g.baseLanes|r:r,r,c)}else g!==null?(Ru(n,g.cachePool),xp(n,g),vs(),n.memoizedState=null):(e!==null&&Ru(n,null),Yd(),vs());return Mn(e,n,f,r),n.child}function _o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gg(e,n,r,c,f){var g=Fd();return g=g===null?null:{parent:yn._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},e!==null&&Ru(n,null),Yd(),vp(n),e!==null&&rl(e,n,c,!0),n.childLanes=f,null}function Ju(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yg(e,n,r){return xr(n,e.child,null,r),e=Ju(n,n.pendingProps),e.flags|=2,va(n),n.memoizedState=null,e}function __(e,n,r){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ft){if(c.mode==="hidden")return e=Ju(n,c),n.lanes=536870912,_o(null,e);if(Jd(n),(e=Et)?(e=Cy(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fe!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},r=so(e),r.return=n,n.child=r,wt=n,Et=null)):e=null,e===null)throw pi(n);return n.lanes=536870912,null}return Ju(n,c)}var g=e.memoizedState;if(g!==null){var j=g.dehydrated;if(Jd(n),f)if(n.flags&256)n.flags&=-257,n=yg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(vn||rl(e,n,r,!1),f=(r&e.childLanes)!==0,vn||f){if(c=Ft,c!==null&&(j=Br(c,r),j!==0&&j!==g.retryLane))throw g.retryLane=j,Ma(e,j),oa(c,e,j),xm;oc(),n=yg(e,n,r)}else e=g.treeContext,Et=Ra(j.nextSibling),wt=n,ft=!0,fi=null,aa=!1,e!==null&&Gn(n,e),n=Ju(n,c),n.flags|=4096;return n}return e=Oa(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function vm(e,n,r,c,f){return fr(n),r=Wd(e,n,r,c,void 0,f),c=em(),e!==null&&!vn?(tm(e,n,f),Pi(e,n,f)):(ft&&c&&jn(n),n.flags|=1,Mn(e,n,r,f),n.child)}function xg(e,n,r,c,f,g){return fr(n),n.updateQueue=null,r=_p(n,c,r,f),bp(e),c=em(),e!==null&&!vn?(tm(e,n,g),Pi(e,n,g)):(ft&&c&&jn(n),n.flags|=1,Mn(e,n,r,g),n.child)}function vg(e,n,r,c,f){if(fr(n),n.stateNode===null){var g=zi,j=r.contextType;typeof j=="object"&&j!==null&&(g=zn(j)),g=new r(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gm,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Kd(n),j=r.contextType,g.context=typeof j=="object"&&j!==null?zn(j):zi,g.state=n.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(pm(n,r,j,c),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(j=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),j!==g.state&&gm.enqueueReplaceState(g,g.state,null),go(n,c,g,f),po(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,F=br(r,T);g.props=F;var he=g.context,_e=r.contextType;j=zi,typeof _e=="object"&&_e!==null&&(j=zn(_e));var ke=r.getDerivedStateFromProps;_e=typeof ke=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||he!==j)&&sg(n,g,c,j),ps=!1;var pe=n.memoizedState;g.state=pe,go(n,c,g,f),po(),he=n.memoizedState,T||pe!==he||ps?(typeof ke=="function"&&(pm(n,r,ke,c),he=n.memoizedState),(F=ps||ig(n,r,F,c,pe,he,j))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=he),g.props=c,g.state=he,g.context=j,c=F):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Qd(e,n),j=n.memoizedProps,_e=br(r,j),g.props=_e,ke=n.pendingProps,pe=g.context,he=r.contextType,F=zi,typeof he=="object"&&he!==null&&(F=zn(he)),T=r.getDerivedStateFromProps,(he=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==ke||pe!==F)&&sg(n,g,c,F),ps=!1,pe=n.memoizedState,g.state=pe,go(n,c,g,f),po();var xe=n.memoizedState;j!==ke||pe!==xe||ps||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof T=="function"&&(pm(n,r,T,c),xe=n.memoizedState),(_e=ps||ig(n,r,_e,c,pe,xe,F)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(he||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,xe,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,xe,F)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===e.memoizedProps&&pe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&pe===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=xe),g.props=c,g.state=xe,g.context=F,c=_e):(typeof g.componentDidUpdate!="function"||j===e.memoizedProps&&pe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&pe===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Xu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=xr(n,e.child,null,f),n.child=xr(n,null,r,f)):Mn(e,n,r,f),n.memoizedState=g.state,e=n.child):e=Pi(e,n,f),e}function bg(e,n,r,c){return Oi(),n.flags|=256,Mn(e,n,r,c),n.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(e){return{baseLanes:e,cachePool:up()}}function Nm(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_a),e}function _g(e,n,r){var c=n.pendingProps,f=!1,g=(n.flags&128)!==0,j;if((j=g)||(j=e!==null&&e.memoizedState===null?!1:(hn.current&2)!==0),j&&(f=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,e===null){if(ft){if(f?xs(n):vs(),(e=Et)?(e=Cy(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fe!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},r=so(e),r.return=n,n.child=r,wt=n,Et=null)):e=null,e===null)throw pi(n);return ih(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(vs(),f=n.mode,T=Wu({mode:"hidden",children:T},f),c=Mi(c,f,r,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=_m(r),c.childLanes=Nm(e,j,r),n.memoizedState=bm,_o(null,c)):(xs(n),jm(n,T))}var F=e.memoizedState;if(F!==null&&(T=F.dehydrated,T!==null)){if(g)n.flags&256?(xs(n),n.flags&=-257,n=Sm(e,n,r)):n.memoizedState!==null?(vs(),n.child=e.child,n.flags|=128,n=null):(vs(),T=c.fallback,f=n.mode,c=Wu({mode:"visible",children:c.children},f),T=Mi(T,f,r,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,xr(n,e.child,null,r),c=n.child,c.memoizedState=_m(r),c.childLanes=Nm(e,j,r),n.memoizedState=bm,n=_o(null,c));else if(xs(n),ih(T)){if(j=T.nextSibling&&T.nextSibling.dataset,j)var he=j.dgst;j=he,c=Error(o(419)),c.stack="",c.digest=j,mr({value:c,source:null,stack:null}),n=Sm(e,n,r)}else if(vn||rl(e,n,r,!1),j=(r&e.childLanes)!==0,vn||j){if(j=Ft,j!==null&&(c=Br(j,r),c!==0&&c!==F.retryLane))throw F.retryLane=c,Ma(e,c),oa(j,e,c),xm;ah(T)||oc(),n=Sm(e,n,r)}else ah(T)?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,Et=Ra(T.nextSibling),wt=n,ft=!0,fi=null,aa=!1,e!==null&&Gn(n,e),n=jm(n,c.children),n.flags|=4096);return n}return f?(vs(),T=c.fallback,f=n.mode,F=e.child,he=F.sibling,c=Oa(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,he!==null?T=Oa(he,T):(T=Mi(T,f,r,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,_o(null,c),c=n.child,T=e.child.memoizedState,T===null?T=_m(r):(f=T.cachePool,f!==null?(F=yn._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=up(),T={baseLanes:T.baseLanes|r,cachePool:f}),c.memoizedState=T,c.childLanes=Nm(e,j,r),n.memoizedState=bm,_o(e.child,c)):(xs(n),r=e.child,e=r.sibling,r=Oa(r,{mode:"visible",children:c.children}),r.return=n,r.sibling=null,e!==null&&(j=n.deletions,j===null?(n.deletions=[e],n.flags|=16):j.push(e)),n.child=r,n.memoizedState=null,r)}function jm(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=qn(22,e,null,n),e.lanes=0,e}function Sm(e,n,r){return xr(n,e.child,null,r),e=jm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ng(e,n,r){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Id(e.return,n,r)}function wm(e,n,r,c,f,g){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f,treeForkCount:g}:(j.isBackwards=n,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=r,j.tailMode=f,j.treeForkCount=g)}function jg(e,n,r){var c=n.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var j=hn.current,T=(j&2)!==0;if(T?(j=j&1|2,n.flags|=128):j&=1,D(hn,j),Mn(e,n,c,r),c=ft?E:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ng(e,r,n);else if(e.tag===19)Ng(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Zu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),wm(n,!1,f,r,g,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Zu(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}wm(n,!0,r,null,g,c);break;case"together":wm(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Pi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(rl(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Oa(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oa(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Em(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function N_(e,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),fs(n,yn,e.memoizedState.cache),Oi();break;case 27:case 5:et(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(xs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_g(e,n,r):(xs(n),e=Pi(e,n,r),e!==null?e.sibling:null);xs(n);break;case 19:var f=(e.flags&128)!==0;if(c=(r&n.childLanes)!==0,c||(rl(e,n,r,!1),c=(r&n.childLanes)!==0),f){if(c)return jg(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),D(hn,hn.current),c)break;return null;case 22:return n.lanes=0,pg(e,n,r,n.pendingProps);case 24:fs(n,yn,e.memoizedState.cache)}return Pi(e,n,r)}function Sg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)vn=!0;else{if(!Em(e,r)&&(n.flags&128)===0)return vn=!1,N_(e,n,r);vn=(e.flags&131072)!==0}else vn=!1,ft&&(n.flags&1048576)!==0&&ot(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=gr(n.elementType),n.type=e,typeof e=="function")al(e)?(c=br(e,c),n.tag=1,n=vg(null,n,e,c,r)):(n.tag=0,n=vm(null,n,e,c,r));else{if(e!=null){var f=e.$$typeof;if(f===G){n.tag=11,n=mg(null,n,e,c,r);break e}else if(f===K){n.tag=14,n=hg(null,n,e,c,r);break e}}throw n=U(e)||e,Error(o(306,n,""))}}return n;case 0:return vm(e,n,n.type,n.pendingProps,r);case 1:return c=n.type,f=br(c,n.pendingProps),vg(e,n,c,f,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;f=g.element,Qd(e,n),go(n,c,null,r);var j=n.memoizedState;if(c=j.cache,fs(n,yn,c),c!==g.cache&&Ud(n,[yn],r,!0),po(),c=j.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=bg(e,n,c,r);break e}else if(c!==f){f=u(Error(o(424)),n),mr(f),n=bg(e,n,c,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Et=Ra(e.firstChild),wt=n,ft=!0,fi=null,aa=!0,r=pp(n,null,c,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Oi(),c===f){n=Pi(e,n,r);break e}Mn(e,n,c,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=Ry(n.type,null,n.pendingProps,null))?n.memoizedState=r:ft||(r=n.type,e=n.pendingProps,c=pc(je.current).createElement(r),c[rn]=n,c[gn]=e,On(c,r,e),tn(c),n.stateNode=c):n.memoizedState=Ry(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return et(n),e===null&&ft&&(c=n.stateNode=My(n.type,n.pendingProps,je.current),wt=n,aa=!0,f=Et,ks(n.type)?(sh=f,Et=Ra(c.firstChild)):Et=f),Mn(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ft&&((f=c=Et)&&(c=X_(c,n.type,n.pendingProps,aa),c!==null?(n.stateNode=c,wt=n,Et=Ra(c.firstChild),aa=!1,f=!0):f=!1),f||pi(n)),et(n),f=n.type,g=n.pendingProps,j=e!==null?e.memoizedProps:null,c=g.children,eh(f,g)?c=null:j!==null&&eh(f,j)&&(n.flags|=32),n.memoizedState!==null&&(f=Wd(e,n,h_,null,null,r),Lo._currentValue=f),Xu(e,n),Mn(e,n,c,r),n.child;case 6:return e===null&&ft&&((e=r=Et)&&(r=W_(r,n.pendingProps,aa),r!==null?(n.stateNode=r,wt=n,Et=null,e=!0):e=!1),e||pi(n)),null;case 13:return _g(e,n,r);case 4:return qe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=xr(n,null,c,r):Mn(e,n,c,r),n.child;case 11:return mg(e,n,n.type,n.pendingProps,r);case 7:return Mn(e,n,n.pendingProps,r),n.child;case 8:return Mn(e,n,n.pendingProps.children,r),n.child;case 12:return Mn(e,n,n.pendingProps.children,r),n.child;case 10:return c=n.pendingProps,fs(n,n.type,c.value),Mn(e,n,c.children,r),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,fr(n),f=zn(f),c=c(f),n.flags|=1,Mn(e,n,c,r),n.child;case 14:return hg(e,n,n.type,n.pendingProps,r);case 15:return fg(e,n,n.type,n.pendingProps,r);case 19:return jg(e,n,r);case 31:return __(e,n,r);case 22:return pg(e,n,r,n.pendingProps);case 24:return fr(n),c=zn(yn),e===null?(f=Fd(),f===null&&(f=Ft,g=Zd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),n.memoizedState={parent:c,cache:f},Kd(n),fs(n,yn,f)):((e.lanes&r)!==0&&(Qd(e,n),go(n,null,null,r),po()),f=e.memoizedState,g=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),fs(n,yn,c)):(c=g.cache,fs(n,yn,c),c!==f.cache&&Ud(n,[yn],r,!0))),Mn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Bi(e){e.flags|=4}function km(e,n,r,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Jg())e.flags|=8192;else throw yr=Pu,Hd}else e.flags&=-16777217}function wg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Uy(n))if(Jg())e.flags|=8192;else throw yr=Pu,Hd}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Lr():536870912,e.lanes|=n,xl|=n)}function No(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function $t(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=r,n}function j_(e,n,r){var c=n.pendingProps;switch(on(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Di(yn),Ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,oo())),$t(n),null;case 26:var f=n.type,g=n.memoizedState;return e===null?(Bi(n),g!==null?($t(n),wg(n,g)):($t(n),km(n,f,null,c,r))):g?g!==e.memoizedState?(Bi(n),$t(n),wg(n,g)):($t(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Bi(n),$t(n),km(n,f,e,c,r)),null;case 27:if(Ne(n),r=je.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Bi(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return $t(n),null}e=H.current,Xa(n)?lo(n):(e=My(f,c,r),n.stateNode=e,Bi(n))}return $t(n),null;case 5:if(Ne(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Bi(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return $t(n),null}if(g=H.current,Xa(n))lo(n);else{var j=pc(je.current);switch(g){case 1:g=j.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=j.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=j.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?j.createElement(f,{is:c.is}):j.createElement(f)}}g[rn]=n,g[gn]=c;e:for(j=n.child;j!==null;){if(j.tag===5||j.tag===6)g.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}n.stateNode=g;e:switch(On(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Bi(n)}}return $t(n),km(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Bi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=je.current,Xa(n)){if(e=n.stateNode,r=n.memoizedProps,c=null,f=wt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[rn]=n,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||_y(e.nodeValue,r)),e||pi(n,!0)}else e=pc(e).createTextNode(c),e[rn]=n,n.stateNode=e}return $t(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(c=Xa(n),r!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[rn]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),e=!1}else r=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(va(n),n):(va(n),null);if((n.flags&128)!==0)throw Error(o(558))}return $t(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Xa(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[rn]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),f=!1}else f=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(va(n),n):(va(n),null)}return va(n),(n.flags&128)!==0?(n.lanes=r,n):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ec(n,n.updateQueue),$t(n),null);case 4:return Ve(),e===null&&Ym(n.stateNode.containerInfo),$t(n),null;case 10:return Di(n.type),$t(n),null;case 19:if(te(hn),c=n.memoizedState,c===null)return $t(n),null;if(f=(n.flags&128)!==0,g=c.rendering,g===null)if(f)No(c,!1);else{if(cn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Zu(e),g!==null){for(n.flags|=128,No(c,!1),e=g.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)io(r,e),r=r.sibling;return D(hn,hn.current&1|2),ft&&Fe(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&jt()>sc&&(n.flags|=128,f=!0,No(c,!1),n.lanes=4194304)}else{if(!f)if(e=Zu(g),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),No(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ft)return $t(n),null}else 2*jt()-c.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,f=!0,No(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=jt(),e.sibling=null,r=hn.current,D(hn,f?r&1|2:r&1),ft&&Fe(n,c.treeForkCount),e):($t(n),null);case 22:case 23:return va(n),$d(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(r&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&ec(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048),e!==null&&te(pr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Di(yn),$t(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function S_(e,n){switch(on(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(yn),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ne(n),null;case 31:if(n.memoizedState!==null){if(va(n),n.alternate===null)throw Error(o(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(va(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return te(hn),null;case 4:return Ve(),null;case 10:return Di(n.type),null;case 22:case 23:return va(n),$d(),e!==null&&te(pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(yn),null;case 25:return null;default:return null}}function Eg(e,n){switch(on(n),n.tag){case 3:Di(yn),Ve();break;case 26:case 27:case 5:Ne(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&va(n);break;case 13:va(n);break;case 19:te(hn);break;case 10:Di(n.type);break;case 22:case 23:va(n),$d(),e!==null&&te(pr);break;case 24:Di(yn)}}function jo(e,n){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){c=void 0;var g=r.create,j=r.inst;c=g(),j.destroy=c}r=r.next}while(r!==f)}}catch(T){Rt(n,n.return,T)}}function bs(e,n,r){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&e)===e){var j=c.inst,T=j.destroy;if(T!==void 0){j.destroy=void 0,f=n;var F=r,he=T;try{he()}catch(_e){Rt(f,F,_e)}}}c=c.next}while(c!==g)}}catch(_e){Rt(n,n.return,_e)}}function kg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{yp(n,r)}catch(c){Rt(e,e.return,c)}}}function Tg(e,n,r){r.props=br(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Rt(e,n,c)}}function So(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(f){Rt(e,n,f)}}function yi(e,n){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Rt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Rt(e,n,f)}else r.current=null}function Cg(e){var n=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Rt(e,e.return,f)}}function Tm(e,n,r){try{var c=e.stateNode;Q_(c,e.type,r,n),c[gn]=n}catch(f){Rt(e,e.return,f)}}function Ag(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Am(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Wn));else if(c!==4&&(c===27&&ks(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Am(e,n,r),e=e.sibling;e!==null;)Am(e,n,r),e=e.sibling}function tc(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(c!==4&&(c===27&&ks(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function zg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);On(n,c,r),n[rn]=e,n[gn]=r}catch(g){Rt(e,e.return,g)}}var Ii=!1,bn=!1,zm=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function w_(e,n){if(e=e.containerInfo,Xm=Nc,e=ir(e),ui(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var j=0,T=-1,F=-1,he=0,_e=0,ke=e,pe=null;t:for(;;){for(var xe;ke!==r||f!==0&&ke.nodeType!==3||(T=j+f),ke!==g||c!==0&&ke.nodeType!==3||(F=j+c),ke.nodeType===3&&(j+=ke.nodeValue.length),(xe=ke.firstChild)!==null;)pe=ke,ke=xe;for(;;){if(ke===e)break t;if(pe===r&&++he===f&&(T=j),pe===g&&++_e===c&&(F=j),(xe=ke.nextSibling)!==null)break;ke=pe,pe=ke.parentNode}ke=xe}r=T===-1||F===-1?null:{start:T,end:F}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wm={focusedElem:e,selectionRange:r},Nc=!1,Cn=n;Cn!==null;)if(n=Cn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Cn=e;else for(;Cn!==null;){switch(n=Cn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=n,f=g.memoizedProps,g=g.memoizedState,c=r.stateNode;try{var Be=br(r.type,f);e=c.getSnapshotBeforeUpdate(Be,g),c.__reactInternalSnapshotBeforeUpdate=e}catch($e){Rt(r,r.return,$e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)nh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Cn=e;break}Cn=n.return}}function Og(e,n,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(e,r),c&4&&jo(5,r);break;case 1:if(Zi(e,r),c&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(j){Rt(r,r.return,j)}else{var f=br(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(j){Rt(r,r.return,j)}}c&64&&kg(r),c&512&&So(r,r.return);break;case 3:if(Zi(e,r),c&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yp(e,n)}catch(j){Rt(r,r.return,j)}}break;case 27:n===null&&c&4&&zg(r);case 26:case 5:Zi(e,r),n===null&&c&4&&Cg(r),c&512&&So(r,r.return);break;case 12:Zi(e,r);break;case 31:Zi(e,r),c&4&&Lg(e,r);break;case 13:Zi(e,r),c&4&&Pg(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=D_.bind(null,r),eN(e,r))));break;case 22:if(c=r.memoizedState!==null||Ii,!c){n=n!==null&&n.memoizedState!==null||bn,f=Ii;var g=bn;Ii=c,(bn=n)&&!g?qi(e,r,(r.subtreeFlags&8772)!==0):Zi(e,r),Ii=f,bn=g}break;case 30:break;default:Zi(e,r)}}function Dg(e){var n=e.alternate;n!==null&&(e.alternate=null,Dg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&B(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xt=null,ia=!1;function Ui(e,n,r){for(r=r.child;r!==null;)Rg(e,n,r),r=r.sibling}function Rg(e,n,r){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(He,r)}catch{}switch(r.tag){case 26:bn||yi(r,n),Ui(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:bn||yi(r,n);var c=Xt,f=ia;ks(r.type)&&(Xt=r.stateNode,ia=!1),Ui(e,n,r),Oo(r.stateNode),Xt=c,ia=f;break;case 5:bn||yi(r,n);case 6:if(c=Xt,f=ia,Xt=null,Ui(e,n,r),Xt=c,ia=f,Xt!==null)if(ia)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(r.stateNode)}catch(g){Rt(r,n,g)}else try{Xt.removeChild(r.stateNode)}catch(g){Rt(r,n,g)}break;case 18:Xt!==null&&(ia?(e=Xt,ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),El(e)):ky(Xt,r.stateNode));break;case 4:c=Xt,f=ia,Xt=r.stateNode.containerInfo,ia=!0,Ui(e,n,r),Xt=c,ia=f;break;case 0:case 11:case 14:case 15:bs(2,r,n),bn||bs(4,r,n),Ui(e,n,r);break;case 1:bn||(yi(r,n),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Tg(r,n,c)),Ui(e,n,r);break;case 21:Ui(e,n,r);break;case 22:bn=(c=bn)||r.memoizedState!==null,Ui(e,n,r),bn=c;break;default:Ui(e,n,r)}}function Lg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{El(e)}catch(r){Rt(n,n.return,r)}}}function Pg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(r){Rt(n,n.return,r)}}function E_(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Mg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Mg),n;default:throw Error(o(435,e.tag))}}function nc(e,n){var r=E_(e);n.forEach(function(c){if(!r.has(c)){r.add(c);var f=R_.bind(null,e,c);c.then(f,f)}})}function sa(e,n){var r=n.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],g=e,j=n,T=j;e:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){Xt=T.stateNode,ia=!1;break e}break;case 5:Xt=T.stateNode,ia=!1;break e;case 3:case 4:Xt=T.stateNode.containerInfo,ia=!0;break e}T=T.return}if(Xt===null)throw Error(o(160));Rg(g,j,f),Xt=null,ia=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bg(n,e),n=n.sibling}var ei=null;function Bg(e,n){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sa(n,e),ra(e),c&4&&(bs(3,e,e.return),jo(3,e),bs(5,e,e.return));break;case 1:sa(n,e),ra(e),c&512&&(bn||r===null||yi(r,r.return)),c&64&&Ii&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=ei;if(sa(n,e),ra(e),c&512&&(bn||r===null||yi(r,r.return)),c&4){var g=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[wi]||g[rn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),On(g,c,r),g[rn]=e,tn(g),c=g;break e;case"link":var j=By("link","href",f).get(c+(r.href||""));if(j){for(var T=0;T<j.length;T++)if(g=j[T],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(T,1);break t}}g=f.createElement(c),On(g,c,r),f.head.appendChild(g);break;case"meta":if(j=By("meta","content",f).get(c+(r.content||""))){for(T=0;T<j.length;T++)if(g=j[T],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(T,1);break t}}g=f.createElement(c),On(g,c,r),f.head.appendChild(g);break;default:throw Error(o(468,c))}g[rn]=e,tn(g),c=g}e.stateNode=c}else Iy(f,e.type,e.stateNode);else e.stateNode=Py(f,c,e.memoizedProps);else g!==c?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,c===null?Iy(f,e.type,e.stateNode):Py(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Tm(e,e.memoizedProps,r.memoizedProps)}break;case 27:sa(n,e),ra(e),c&512&&(bn||r===null||yi(r,r.return)),r!==null&&c&4&&Tm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sa(n,e),ra(e),c&512&&(bn||r===null||yi(r,r.return)),e.flags&32){f=e.stateNode;try{Ea(f,"")}catch(Be){Rt(e,e.return,Be)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,Tm(e,f,r!==null?r.memoizedProps:f)),c&1024&&(zm=!0);break;case 6:if(sa(n,e),ra(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Be){Rt(e,e.return,Be)}}break;case 3:if(xc=null,f=ei,ei=gc(n.containerInfo),sa(n,e),ei=f,ra(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{El(n.containerInfo)}catch(Be){Rt(e,e.return,Be)}zm&&(zm=!1,Ig(e));break;case 4:c=ei,ei=gc(e.stateNode.containerInfo),sa(n,e),ra(e),ei=c;break;case 12:sa(n,e),ra(e);break;case 31:sa(n,e),ra(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nc(e,c)));break;case 13:sa(n,e),ra(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=jt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nc(e,c)));break;case 22:f=e.memoizedState!==null;var F=r!==null&&r.memoizedState!==null,he=Ii,_e=bn;if(Ii=he||f,bn=_e||F,sa(n,e),bn=_e,Ii=he,ra(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||F||Ii||bn||_r(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){F=r=n;try{if(g=F.stateNode,f)j=g.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{T=F.stateNode;var ke=F.memoizedProps.style,pe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;T.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Be){Rt(F,F.return,Be)}}}else if(n.tag===6){if(r===null){F=n;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(Be){Rt(F,F.return,Be)}}}else if(n.tag===18){if(r===null){F=n;try{var xe=F.stateNode;f?Ty(xe,!0):Ty(F.stateNode,!1)}catch(Be){Rt(F,F.return,Be)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,nc(e,r))));break;case 19:sa(n,e),ra(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nc(e,c)));break;case 30:break;case 21:break;default:sa(n,e),ra(e)}}function ra(e){var n=e.flags;if(n&2){try{for(var r,c=e.return;c!==null;){if(Ag(c)){r=c;break}c=c.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var f=r.stateNode,g=Cm(e);tc(e,g,f);break;case 5:var j=r.stateNode;r.flags&32&&(Ea(j,""),r.flags&=-33);var T=Cm(e);tc(e,T,j);break;case 3:case 4:var F=r.stateNode.containerInfo,he=Cm(e);Am(e,he,F);break;default:throw Error(o(161))}}catch(_e){Rt(e,e.return,_e)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ig(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Og(e,n.alternate,n),n=n.sibling}function _r(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),_r(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Tg(n,n.return,r),_r(n);break;case 27:Oo(n.stateNode);case 26:case 5:yi(n,n.return),_r(n);break;case 22:n.memoizedState===null&&_r(n);break;case 30:_r(n);break;default:_r(n)}e=e.sibling}}function qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,g=n,j=g.flags;switch(g.tag){case 0:case 11:case 15:qi(f,g,r),jo(4,g);break;case 1:if(qi(f,g,r),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(he){Rt(c,c.return,he)}if(c=g,f=c.updateQueue,f!==null){var T=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)gp(F[f],T)}catch(he){Rt(c,c.return,he)}}r&&j&64&&kg(g),So(g,g.return);break;case 27:zg(g);case 26:case 5:qi(f,g,r),r&&c===null&&j&4&&Cg(g),So(g,g.return);break;case 12:qi(f,g,r);break;case 31:qi(f,g,r),r&&j&4&&Lg(f,g);break;case 13:qi(f,g,r),r&&j&4&&Pg(f,g);break;case 22:g.memoizedState===null&&qi(f,g,r),So(g,g.return);break;case 30:break;default:qi(f,g,r)}n=n.sibling}}function Mm(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&uo(r))}function Om(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e))}function ti(e,n,r,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ug(e,n,r,c),n=n.sibling}function Ug(e,n,r,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,r,c),f&2048&&jo(9,n);break;case 1:ti(e,n,r,c);break;case 3:ti(e,n,r,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e)));break;case 12:if(f&2048){ti(e,n,r,c),e=n.stateNode;try{var g=n.memoizedProps,j=g.id,T=g.onPostCommit;typeof T=="function"&&T(j,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){Rt(n,n.return,F)}}else ti(e,n,r,c);break;case 31:ti(e,n,r,c);break;case 13:ti(e,n,r,c);break;case 23:break;case 22:g=n.stateNode,j=n.alternate,n.memoizedState!==null?g._visibility&2?ti(e,n,r,c):wo(e,n):g._visibility&2?ti(e,n,r,c):(g._visibility|=2,pl(e,n,r,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Mm(j,n);break;case 24:ti(e,n,r,c),f&2048&&Om(n.alternate,n);break;default:ti(e,n,r,c)}}function pl(e,n,r,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,j=n,T=r,F=c,he=j.flags;switch(j.tag){case 0:case 11:case 15:pl(g,j,T,F,f),jo(8,j);break;case 23:break;case 22:var _e=j.stateNode;j.memoizedState!==null?_e._visibility&2?pl(g,j,T,F,f):wo(g,j):(_e._visibility|=2,pl(g,j,T,F,f)),f&&he&2048&&Mm(j.alternate,j);break;case 24:pl(g,j,T,F,f),f&&he&2048&&Om(j.alternate,j);break;default:pl(g,j,T,F,f)}n=n.sibling}}function wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,c=n,f=c.flags;switch(c.tag){case 22:wo(r,c),f&2048&&Mm(c.alternate,c);break;case 24:wo(r,c),f&2048&&Om(c.alternate,c);break;default:wo(r,c)}n=n.sibling}}var Eo=8192;function gl(e,n,r){if(e.subtreeFlags&Eo)for(e=e.child;e!==null;)Zg(e,n,r),e=e.sibling}function Zg(e,n,r){switch(e.tag){case 26:gl(e,n,r),e.flags&Eo&&e.memoizedState!==null&&mN(r,ei,e.memoizedState,e.memoizedProps);break;case 5:gl(e,n,r);break;case 3:case 4:var c=ei;ei=gc(e.stateNode.containerInfo),gl(e,n,r),ei=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Eo,Eo=16777216,gl(e,n,r),Eo=c):gl(e,n,r));break;default:gl(e,n,r)}}function qg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];Cn=c,Hg(c,e)}qg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fg(e),e=e.sibling}function Fg(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&bs(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):ko(e);break;default:ko(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];Cn=c,Hg(c,e)}qg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function Hg(e,n){for(;Cn!==null;){var r=Cn;switch(r.tag){case 0:case 11:case 15:bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uo(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Cn=c;else e:for(r=e;Cn!==null;){c=Cn;var f=c.sibling,g=c.return;if(Dg(c),c===r){Cn=null;break e}if(f!==null){f.return=g,Cn=f;break e}Cn=g}}}var k_={getCacheForType:function(e){var n=zn(yn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return zn(yn).controller.signal}},T_=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ft=null,pt=null,vt=0,Dt=0,ba=null,_s=!1,yl=!1,Dm=!1,Fi=0,cn=0,Ns=0,Nr=0,Rm=0,_a=0,xl=0,To=null,la=null,Lm=!1,ic=0,Kg=0,sc=1/0,rc=null,js=null,Sn=0,Ss=null,vl=null,Hi=0,Pm=0,Bm=null,Qg=null,Co=0,Im=null;function Na(){return(Ct&2)!==0&&vt!==0?vt&-vt:q.T!==null?Km():Zs()}function Gg(){if(_a===0)if((vt&536870912)===0||ft){var e=ce;ce<<=1,(ce&3932160)===0&&(ce=262144),_a=e}else _a=536870912;return e=xa.current,e!==null&&(e.flags|=32),_a}function oa(e,n,r){(e===Ft&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)&&(bl(e,0),ws(e,vt,_a,!1)),ma(e,r),((Ct&2)===0||e!==Ft)&&(e===Ft&&((Ct&2)===0&&(Nr|=r),cn===4&&ws(e,vt,_a,!1)),xi(e))}function Vg(e,n,r){if((Ct&6)!==0)throw Error(o(327));var c=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),f=c?z_(e,n):Zm(e,n,!0),g=c;do{if(f===0){yl&&!c&&ws(e,n,0,!1);break}else{if(r=e.current.alternate,g&&!C_(r)){f=Zm(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var T=e;f=To;var F=T.current.memoizedState.isDehydrated;if(F&&(bl(T,j).flags|=256),j=Zm(T,j,!1),j!==2){if(Dm&&!F){T.errorRecoveryDisabledLanes|=g,Nr|=g,f=4;break e}g=la,la=f,g!==null&&(la===null?la=g:la.push.apply(la,g))}f=j}if(g=!1,f!==2)continue}}if(f===1){bl(e,0),ws(e,n,0,!0);break}e:{switch(c=e,g=f,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:ws(c,n,_a,!_s);break e;case 2:la=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=ic+300-jt(),10<f)){if(ws(c,n,_a,!_s),Bn(c,0,!0)!==0)break e;Hi=n,c.timeoutHandle=wy(Yg.bind(null,c,r,la,rc,Lm,n,_a,Nr,xl,_s,g,"Throttled",-0,0),f);break e}Yg(c,r,la,rc,Lm,n,_a,Nr,xl,_s,g,null,-0,0)}}break}while(!0);xi(e)}function Yg(e,n,r,c,f,g,j,T,F,he,_e,ke,pe,xe){if(e.timeoutHandle=-1,ke=n.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Zg(n,g,ke);var Be=(g&62914560)===g?ic-jt():(g&4194048)===g?Kg-jt():0;if(Be=hN(ke,Be),Be!==null){Hi=g,e.cancelPendingCommit=Be(ay.bind(null,e,n,g,r,c,f,j,T,F,_e,ke,null,pe,xe)),ws(e,g,j,!he);return}}ay(e,n,g,r,c,f,j,T,F)}function C_(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],g=f.getSnapshot;f=f.value;try{if(!kn(g(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ws(e,n,r,c){n&=~Rm,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var g=31-zt(f),j=1<<g;c[g]=-1,f&=~j}r!==0&&Si(e,r,n)}function lc(){return(Ct&6)===0?(Ao(0),!1):!0}function Um(){if(pt!==null){if(Dt===0)var e=pt.return;else e=pt,Wa=gi=null,nm(e),cl=null,mo=0,e=pt;for(;e!==null;)Eg(e.alternate,e),e=e.return;pt=null}}function bl(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Y_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Hi=0,Um(),Ft=e,pt=r=Oa(e.current,null),vt=n,Dt=0,ba=null,_s=!1,yl=Kn(e,n),Dm=!1,xl=_a=Rm=Nr=Ns=cn=0,la=To=null,Lm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-zt(c),g=1<<f;n|=e[f],c&=~g}return Fi=n,ur(),r}function $g(e,n){rt=null,q.H=bo,n===ul||n===Lu?(n=mp(),Dt=3):n===Hd?(n=mp(),Dt=4):Dt=n===xm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ba=n,pt===null&&(cn=1,$u(e,u(n,e.current)))}function Jg(){var e=xa.current;return e===null?!0:(vt&4194048)===vt?Da===null:(vt&62914560)===vt||(vt&536870912)!==0?e===Da:!1}function Xg(){var e=q.H;return q.H=bo,e===null?bo:e}function Wg(){var e=q.A;return q.A=k_,e}function oc(){cn=4,_s||(vt&4194048)!==vt&&xa.current!==null||(yl=!0),(Ns&134217727)===0&&(Nr&134217727)===0||Ft===null||ws(Ft,vt,_a,!1)}function Zm(e,n,r){var c=Ct;Ct|=2;var f=Xg(),g=Wg();(Ft!==e||vt!==n)&&(rc=null,bl(e,n)),n=!1;var j=cn;e:do try{if(Dt!==0&&pt!==null){var T=pt,F=ba;switch(Dt){case 8:Um(),j=6;break e;case 3:case 2:case 9:case 6:xa.current===null&&(n=!0);var he=Dt;if(Dt=0,ba=null,_l(e,T,F,he),r&&yl){j=0;break e}break;default:he=Dt,Dt=0,ba=null,_l(e,T,F,he)}}A_(),j=cn;break}catch(_e){$g(e,_e)}while(!0);return n&&e.shellSuspendCounter++,Wa=gi=null,Ct=c,q.H=f,q.A=g,pt===null&&(Ft=null,vt=0,ur()),j}function A_(){for(;pt!==null;)ey(pt)}function z_(e,n){var r=Ct;Ct|=2;var c=Xg(),f=Wg();Ft!==e||vt!==n?(rc=null,sc=jt()+500,bl(e,n)):yl=Kn(e,n);e:do try{if(Dt!==0&&pt!==null){n=pt;var g=ba;t:switch(Dt){case 1:Dt=0,ba=null,_l(e,n,g,1);break;case 2:case 9:if(cp(g)){Dt=0,ba=null,ty(n);break}n=function(){Dt!==2&&Dt!==9||Ft!==e||(Dt=7),xi(e)},g.then(n,n);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:cp(g)?(Dt=0,ba=null,ty(n)):(Dt=0,ba=null,_l(e,n,g,7));break;case 5:var j=null;switch(pt.tag){case 26:j=pt.memoizedState;case 5:case 27:var T=pt;if(j?Uy(j):T.stateNode.complete){Dt=0,ba=null;var F=T.sibling;if(F!==null)pt=F;else{var he=T.return;he!==null?(pt=he,uc(he)):pt=null}break t}}Dt=0,ba=null,_l(e,n,g,5);break;case 6:Dt=0,ba=null,_l(e,n,g,6);break;case 8:Um(),cn=6;break e;default:throw Error(o(462))}}M_();break}catch(_e){$g(e,_e)}while(!0);return Wa=gi=null,q.H=c,q.A=f,Ct=r,pt!==null?0:(Ft=null,vt=0,ur(),cn)}function M_(){for(;pt!==null&&!Ke();)ey(pt)}function ey(e){var n=Sg(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?uc(e):pt=n}function ty(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=xg(r,n,n.pendingProps,n.type,void 0,vt);break;case 11:n=xg(r,n,n.pendingProps,n.type.render,n.ref,vt);break;case 5:nm(n);default:Eg(r,n),n=pt=io(n,Fi),n=Sg(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?uc(e):pt=n}function _l(e,n,r,c){Wa=gi=null,nm(n),cl=null,mo=0;var f=n.return;try{if(b_(e,f,n,r,vt)){cn=1,$u(e,u(r,e.current)),pt=null;return}}catch(g){if(f!==null)throw pt=f,g;cn=1,$u(e,u(r,e.current)),pt=null;return}n.flags&32768?(ft||c===1?e=!0:yl||(vt&536870912)!==0?e=!1:(_s=e=!0,(c===2||c===9||c===3||c===6)&&(c=xa.current,c!==null&&c.tag===13&&(c.flags|=16384))),ny(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){ny(n,_s);return}e=n.return;var r=j_(n.alternate,n,Fi);if(r!==null){pt=r;return}if(n=n.sibling,n!==null){pt=n;return}pt=n=e}while(n!==null);cn===0&&(cn=5)}function ny(e,n){do{var r=S_(e.alternate,e);if(r!==null){r.flags&=32767,pt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){pt=e;return}pt=e=r}while(e!==null);cn=6,pt=null}function ay(e,n,r,c,f,g,j,T,F){e.cancelPendingCommit=null;do cc();while(Sn!==0);if((Ct&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=nl,Il(e,r,g,j,T,F),e===Ft&&(pt=Ft=null,vt=0),vl=n,Ss=e,Hi=r,Pm=g,Bm=f,Qg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L_(mt,function(){return oy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,f=ie.p,ie.p=2,j=Ct,Ct|=4;try{w_(e,n,r)}finally{Ct=j,ie.p=f,q.T=c}}Sn=1,iy(),sy(),ry()}}function iy(){if(Sn===1){Sn=0;var e=Ss,n=vl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var c=ie.p;ie.p=2;var f=Ct;Ct|=4;try{Bg(n,e);var g=Wm,j=ir(e.containerInfo),T=g.focusedElem,F=g.selectionRange;if(j!==T&&T&&T.ownerDocument&&Xr(T.ownerDocument.documentElement,T)){if(F!==null&&ui(T)){var he=F.start,_e=F.end;if(_e===void 0&&(_e=he),"selectionStart"in T)T.selectionStart=he,T.selectionEnd=Math.min(_e,T.value.length);else{var ke=T.ownerDocument||document,pe=ke&&ke.defaultView||window;if(pe.getSelection){var xe=pe.getSelection(),Be=T.textContent.length,$e=Math.min(F.start,Be),Ut=F.end===void 0?$e:Math.min(F.end,Be);!xe.extend&&$e>Ut&&(j=Ut,Ut=$e,$e=j);var se=ar(T,$e),J=ar(T,Ut);if(se&&J&&(xe.rangeCount!==1||xe.anchorNode!==se.node||xe.anchorOffset!==se.offset||xe.focusNode!==J.node||xe.focusOffset!==J.offset)){var me=ke.createRange();me.setStart(se.node,se.offset),xe.removeAllRanges(),$e>Ut?(xe.addRange(me),xe.extend(J.node,J.offset)):(me.setEnd(J.node,J.offset),xe.addRange(me))}}}}for(ke=[],xe=T;xe=xe.parentNode;)xe.nodeType===1&&ke.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ke.length;T++){var Se=ke[T];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Nc=!!Xm,Wm=Xm=null}finally{Ct=f,ie.p=c,q.T=r}}e.current=n,Sn=2}}function sy(){if(Sn===2){Sn=0;var e=Ss,n=vl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var c=ie.p;ie.p=2;var f=Ct;Ct|=4;try{Og(e,n.alternate,n)}finally{Ct=f,ie.p=c,q.T=r}}Sn=3}}function ry(){if(Sn===4||Sn===3){Sn=0,_t();var e=Ss,n=vl,r=Hi,c=Qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sn=5:(Sn=0,vl=Ss=null,ly(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(js=null),Pe(r),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(He,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=q.T,f=ie.p,ie.p=2,q.T=null;try{for(var g=e.onRecoverableError,j=0;j<c.length;j++){var T=c[j];g(T.value,{componentStack:T.stack})}}finally{q.T=n,ie.p=f}}(Hi&3)!==0&&cc(),xi(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===Im?Co++:(Co=0,Im=e):Co=0,Ao(0)}}function ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,uo(n)))}function cc(){return iy(),sy(),ry(),oy()}function oy(){if(Sn!==5)return!1;var e=Ss,n=Pm;Pm=0;var r=Pe(Hi),c=q.T,f=ie.p;try{ie.p=32>r?32:r,q.T=null,r=Bm,Bm=null;var g=Ss,j=Hi;if(Sn=0,vl=Ss=null,Hi=0,(Ct&6)!==0)throw Error(o(331));var T=Ct;if(Ct|=4,Fg(g.current),Ug(g,g.current,j,r),Ct=T,Ao(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(He,g)}catch{}return!0}finally{ie.p=f,q.T=c,ly(e,n)}}function uy(e,n,r){n=u(r,n),n=ym(e.stateNode,n,2),e=ys(e,n,2),e!==null&&(ma(e,2),xi(e))}function Rt(e,n,r){if(e.tag===3)uy(e,e,r);else for(;n!==null;){if(n.tag===3){uy(n,e,r);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(js===null||!js.has(c))){e=u(r,e),r=cg(2),c=ys(n,r,2),c!==null&&(dg(r,c,n,e),ma(c,2),xi(c));break}}n=n.return}}function qm(e,n,r){var c=e.pingCache;if(c===null){c=e.pingCache=new T_;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(r)||(Dm=!0,f.add(r),e=O_.bind(null,e,n,r),n.then(e,e))}function O_(e,n,r){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ft===e&&(vt&r)===r&&(cn===4||cn===3&&(vt&62914560)===vt&&300>jt()-ic?(Ct&2)===0&&bl(e,0):Rm|=r,xl===vt&&(xl=0)),xi(e)}function cy(e,n){n===0&&(n=Lr()),e=Ma(e,n),e!==null&&(ma(e,n),xi(e))}function D_(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),cy(e,r)}function R_(e,n){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),cy(e,r)}function L_(e,n){return X(e,n)}var dc=null,Nl=null,Fm=!1,mc=!1,Hm=!1,Es=0;function xi(e){e!==Nl&&e.next===null&&(Nl===null?dc=Nl=e:Nl=Nl.next=e),mc=!0,Fm||(Fm=!0,B_())}function Ao(e,n){if(!Hm&&mc){Hm=!0;do for(var r=!1,c=dc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var j=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-zt(42|e)+1)-1,g&=f&~(j&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,fy(c,g))}else g=vt,g=Bn(c,c===Ft?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Kn(c,g)||(r=!0,fy(c,g));c=c.next}while(r);Hm=!1}}function P_(){dy()}function dy(){mc=Fm=!1;var e=0;Es!==0&&V_()&&(e=Es);for(var n=jt(),r=null,c=dc;c!==null;){var f=c.next,g=my(c,n);g===0?(c.next=null,r===null?dc=f:r.next=f,f===null&&(Nl=r)):(r=c,(e!==0||(g&3)!==0)&&(mc=!0)),c=f}Sn!==0&&Sn!==5||Ao(e),Es!==0&&(Es=0)}function my(e,n){for(var r=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var j=31-zt(g),T=1<<j,F=f[j];F===-1?((T&r)===0||(T&c)!==0)&&(f[j]=Rr(T,n)):F<=n&&(e.expiredLanes|=T),g&=~T}if(n=Ft,r=vt,r=Bn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===n&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(c!==null&&Ce(c),Pe(r)){case 2:case 8:r=Ue;break;case 32:r=mt;break;case 268435456:r=sn;break;default:r=mt}return c=hy.bind(null,e),r=X(r,c),e.callbackPriority=n,e.callbackNode=r,n}return c!==null&&c!==null&&Ce(c),e.callbackPriority=2,e.callbackNode=null,2}function hy(e,n){if(Sn!==0&&Sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var c=vt;return c=Bn(e,e===Ft?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Vg(e,c,n),my(e,jt()),e.callbackNode!=null&&e.callbackNode===r?hy.bind(null,e):null)}function fy(e,n){if(cc())return null;Vg(e,n,!0)}function B_(){$_(function(){(Ct&6)!==0?X(be,P_):dy()})}function Km(){if(Es===0){var e=ll;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Es=e}return Es}function py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ts(""+e)}function gy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function I_(e,n,r,c,f){if(n==="submit"&&r&&r.stateNode===f){var g=py((f[gn]||null).action),j=c.submitter;j&&(n=(n=j[gn]||null)?py(n.formAction):j.getAttribute("formAction"),n!==null&&(g=n,j=null));var T=new Kr("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Es!==0){var F=j?gy(f,j):new FormData(f);dm(r,{pending:!0,data:F,method:f.method,action:g},null,F)}}else typeof g=="function"&&(T.preventDefault(),F=j?gy(f,j):new FormData(f),dm(r,{pending:!0,data:F,method:f.method,action:g},g,F))},currentTarget:f}]})}}for(var Qm=0;Qm<mi.length;Qm++){var Gm=mi[Qm],U_=Gm.toLowerCase(),Z_=Gm[0].toUpperCase()+Gm.slice(1);ta(U_,"on"+Z_)}ta(rr,"onAnimationEnd"),ta(Au,"onAnimationIteration"),ta(lr,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(Ld,"onTransitionRun"),ta(zu,"onTransitionStart"),ta(Pd,"onTransitionCancel"),ta(ms,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function yy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var j=c.length-1;0<=j;j--){var T=c[j],F=T.instance,he=T.currentTarget;if(T=T.listener,F!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=he;try{g(f)}catch(_e){or(_e)}f.currentTarget=null,g=F}else for(j=0;j<c.length;j++){if(T=c[j],F=T.instance,he=T.currentTarget,T=T.listener,F!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=he;try{g(f)}catch(_e){or(_e)}f.currentTarget=null,g=F}}}}function gt(e,n){var r=n[wa];r===void 0&&(r=n[wa]=new Set);var c=e+"__bubble";r.has(c)||(xy(n,e,2,!1),r.add(c))}function Vm(e,n,r){var c=0;n&&(c|=4),xy(r,e,c,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ym(e){if(!e[hc]){e[hc]=!0,qs.forEach(function(r){r!=="selectionchange"&&(q_.has(r)||Vm(r,!1,e),Vm(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,Vm("selectionchange",!1,n))}}function xy(e,n,r,c){switch(Gy(n)){case 2:var f=gN;break;case 8:f=yN;break;default:f=ch}r=f.bind(null,n,r,e),f=void 0,!Vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function $m(e,n,r,c,f){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var T=c.stateNode.containerInfo;if(T===f)break;if(j===4)for(j=c.return;j!==null;){var F=j.tag;if((F===3||F===4)&&j.stateNode.containerInfo===f)return;j=j.return}for(;T!==null;){if(j=Re(T),j===null)return;if(F=j.tag,F===5||F===6||F===26||F===27){c=g=j;continue e}T=T.parentNode}}c=c.return}Gl(function(){var he=g,_e=Gs(r),ke=[];e:{var pe=Mu.get(e);if(pe!==void 0){var xe=Kr,Be=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":xe=xu;break;case"focusin":Be="focus",xe=$l;break;case"focusout":Be="blur",xe=$l;break;case"beforeblur":case"afterblur":xe=$l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Ad;break;case rr:case Au:case lr:xe=Jl;break;case ms:xe=_u;break;case"scroll":case"scrollend":xe=xt;break;case"wheel":xe=Ai;break;case"copy":case"cut":case"paste":xe=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=vu;break;case"toggle":case"beforetoggle":xe=Xs}var $e=(n&4)!==0,Ut=!$e&&(e==="scroll"||e==="scrollend"),se=$e?pe!==null?pe+"Capture":null:pe;$e=[];for(var J=he,me;J!==null;){var Se=J;if(me=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||me===null||se===null||(Se=Ti(J,se),Se!=null&&$e.push(Mo(J,Se,me))),Ut)break;J=J.return}0<$e.length&&(pe=new xe(pe,Be,null,r,_e),ke.push({event:pe,listeners:$e}))}}if((n&7)===0){e:{if(pe=e==="mouseover"||e==="pointerover",xe=e==="mouseout"||e==="pointerout",pe&&r!==Hr&&(Be=r.relatedTarget||r.fromElement)&&(Re(Be)||Be[Ka]))break e;if((xe||pe)&&(pe=_e.window===_e?_e:(pe=_e.ownerDocument)?pe.defaultView||pe.parentWindow:window,xe?(Be=r.relatedTarget||r.toElement,xe=he,Be=Be?Re(Be):null,Be!==null&&(Ut=m(Be),$e=Be.tag,Be!==Ut||$e!==5&&$e!==27&&$e!==6)&&(Be=null)):(xe=null,Be=he),xe!==Be)){if($e=hu,Se="onMouseLeave",se="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&($e=vu,Se="onPointerLeave",se="onPointerEnter",J="pointer"),Ut=xe==null?pe:Un(xe),me=Be==null?pe:Un(Be),pe=new $e(Se,J+"leave",xe,r,_e),pe.target=Ut,pe.relatedTarget=me,Se=null,Re(_e)===he&&($e=new $e(se,J+"enter",Be,r,_e),$e.target=me,$e.relatedTarget=Ut,Se=$e),Ut=Se,xe&&Be)t:{for($e=F_,se=xe,J=Be,me=0,Se=se;Se;Se=$e(Se))me++;Se=0;for(var Qe=J;Qe;Qe=$e(Qe))Se++;for(;0<me-Se;)se=$e(se),me--;for(;0<Se-me;)J=$e(J),Se--;for(;me--;){if(se===J||J!==null&&se===J.alternate){$e=se;break t}se=$e(se),J=$e(J)}$e=null}else $e=null;xe!==null&&vy(ke,pe,xe,$e,!1),Be!==null&&Ut!==null&&vy(ke,Ut,Be,$e,!0)}}e:{if(pe=he?Un(he):window,xe=pe.nodeName&&pe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&pe.type==="file")var kt=nr;else if(Ca(pe))if(wu)kt=Rd;else{kt=Dd;var Ze=$a}else xe=pe.nodeName,!xe||xe.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&Qs(he.elementType)&&(kt=nr):kt=os;if(kt&&(kt=kt(e,he))){Su(ke,kt,r,_e);break e}Ze&&Ze(e,pe,he),e==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&Ga(pe,"number",pe.value)}switch(Ze=he?Un(he):window,e){case"focusin":(Ca(Ze)||Ze.contentEditable==="true")&&(ci=Ze,el=he,sr=null);break;case"focusout":sr=el=ci=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,Tu(ke,r,_e);break;case"selectionchange":if(Wr)break;case"keydown":case"keyup":Tu(ke,r,_e)}var ut;if(Gr)e:{switch(e){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else ss?ju(e,r)&&(bt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(bt="onCompositionStart");bt&&(Vr&&r.locale!=="ko"&&(ss||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ss&&(ut=li()):(ka=_e,Ci="value"in ka?ka.value:ka.textContent,ss=!0)),Ze=fc(he,bt),0<Ze.length&&(bt=new Xl(bt,e,null,r,_e),ke.push({event:bt,listeners:Ze}),ut?bt.data=ut:(ut=no(r),ut!==null&&(bt.data=ut)))),(ut=Md?ya(e,r):rs(e,r))&&(bt=fc(he,"onBeforeInput"),0<bt.length&&(Ze=new Xl("onBeforeInput","beforeinput",null,r,_e),ke.push({event:Ze,listeners:bt}),Ze.data=ut)),I_(ke,e,he,r,_e)}yy(ke,n)})}function Mo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ti(e,r),f!=null&&c.unshift(Mo(e,f,g)),f=Ti(e,n),f!=null&&c.push(Mo(e,f,g))),e.tag===3)return c;e=e.return}return[]}function F_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vy(e,n,r,c,f){for(var g=n._reactName,j=[];r!==null&&r!==c;){var T=r,F=T.alternate,he=T.stateNode;if(T=T.tag,F!==null&&F===c)break;T!==5&&T!==26&&T!==27||he===null||(F=he,f?(he=Ti(r,g),he!=null&&j.unshift(Mo(r,he,F))):f||(he=Ti(r,g),he!=null&&j.push(Mo(r,he,F)))),r=r.return}j.length!==0&&e.push({event:n,listeners:j})}var H_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(H_,`
`).replace(K_,"")}function _y(e,n){return n=by(n),by(e)===n}function It(e,n,r,c,f,g){switch(r){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Ea(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Ea(e,""+c);break;case"className":Pt(e,"class",c);break;case"tabIndex":Pt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pt(e,r,c);break;case"style":qr(e,c,g);break;case"data":if(n!=="object"){Pt(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=ts(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&It(e,n,"name",f.name,f,null),It(e,n,"formEncType",f.formEncType,f,null),It(e,n,"formMethod",f.formMethod,f,null),It(e,n,"formTarget",f.formTarget,f,null)):(It(e,n,"encType",f.encType,f,null),It(e,n,"method",f.method,f,null),It(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=ts(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=Wn);break;case"onScroll":c!=null&&gt("scroll",e);break;case"onScrollEnd":c!=null&&gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=ts(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":gt("beforetoggle",e),gt("toggle",e),ht(e,"popover",c);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ht(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Fr.get(r)||r,ht(e,r,c))}}function Jm(e,n,r,c,f,g){switch(r){case"style":qr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof c=="string"?Ea(e,c):(typeof c=="number"||typeof c=="bigint")&&Ea(e,""+c);break;case"onScroll":c!=null&&gt("scroll",e);break;case"onScrollEnd":c!=null&&gt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!du.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),g=e[gn]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,c,f);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):ht(e,r,c)}}}function On(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",e),gt("load",e);var c=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var j=r[g];if(j!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:It(e,n,g,j,r,null)}}f&&It(e,n,"srcSet",r.srcSet,r,null),c&&It(e,n,"src",r.src,r,null);return;case"input":gt("invalid",e);var T=g=j=f=null,F=null,he=null;for(c in r)if(r.hasOwnProperty(c)){var _e=r[c];if(_e!=null)switch(c){case"name":f=_e;break;case"type":j=_e;break;case"checked":F=_e;break;case"defaultChecked":he=_e;break;case"value":g=_e;break;case"defaultValue":T=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(o(137,n));break;default:It(e,n,c,_e,r,null)}}Ks(e,g,T,F,he,j,f,!1);return;case"select":gt("invalid",e),c=j=g=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":j=T;break;case"multiple":c=T;default:It(e,n,f,T,r,null)}n=g,r=j,e.multiple=!!c,n!=null?qt(e,!!c,n,!1):r!=null&&qt(e,!!c,r,!0);return;case"textarea":gt("invalid",e),g=f=c=null;for(j in r)if(r.hasOwnProperty(j)&&(T=r[j],T!=null))switch(j){case"value":c=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:It(e,n,j,T,r,null)}Wi(e,c,f,g);return;case"option":for(F in r)r.hasOwnProperty(F)&&(c=r[F],c!=null)&&(F==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":It(e,n,F,c,r,null));return;case"dialog":gt("beforetoggle",e),gt("toggle",e),gt("cancel",e),gt("close",e);break;case"iframe":case"object":gt("load",e);break;case"video":case"audio":for(c=0;c<zo.length;c++)gt(zo[c],e);break;case"image":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"embed":case"source":case"link":gt("error",e),gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in r)if(r.hasOwnProperty(he)&&(c=r[he],c!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:It(e,n,he,c,r,null)}return;default:if(Qs(n)){for(_e in r)r.hasOwnProperty(_e)&&(c=r[_e],c!==void 0&&Jm(e,n,_e,c,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(c=r[T],c!=null&&It(e,n,T,c,r,null))}function Q_(e,n,r,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,j=null,T=null,F=null,he=null,_e=null;for(xe in r){var ke=r[xe];if(r.hasOwnProperty(xe)&&ke!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":F=ke;default:c.hasOwnProperty(xe)||It(e,n,xe,null,c,ke)}}for(var pe in c){var xe=c[pe];if(ke=r[pe],c.hasOwnProperty(pe)&&(xe!=null||ke!=null))switch(pe){case"type":g=xe;break;case"name":f=xe;break;case"checked":he=xe;break;case"defaultChecked":_e=xe;break;case"value":j=xe;break;case"defaultValue":T=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,n));break;default:xe!==ke&&It(e,n,pe,xe,c,ke)}}Hl(e,j,T,F,he,_e,g,f);return;case"select":xe=j=T=pe=null;for(g in r)if(F=r[g],r.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":xe=F;default:c.hasOwnProperty(g)||It(e,n,g,null,c,F)}for(f in c)if(g=c[f],F=r[f],c.hasOwnProperty(f)&&(g!=null||F!=null))switch(f){case"value":pe=g;break;case"defaultValue":T=g;break;case"multiple":j=g;default:g!==F&&It(e,n,f,g,c,F)}n=T,r=j,c=xe,pe!=null?qt(e,!!r,pe,!1):!!c!=!!r&&(n!=null?qt(e,!!r,n,!0):qt(e,!!r,r?[]:"",!1));return;case"textarea":xe=pe=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:It(e,n,T,null,c,f)}for(j in c)if(f=c[j],g=r[j],c.hasOwnProperty(j)&&(f!=null||g!=null))switch(j){case"value":pe=f;break;case"defaultValue":xe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==g&&It(e,n,j,f,c,g)}ri(e,pe,xe);return;case"option":for(var Be in r)pe=r[Be],r.hasOwnProperty(Be)&&pe!=null&&!c.hasOwnProperty(Be)&&(Be==="selected"?e.selected=!1:It(e,n,Be,null,c,pe));for(F in c)pe=c[F],xe=r[F],c.hasOwnProperty(F)&&pe!==xe&&(pe!=null||xe!=null)&&(F==="selected"?e.selected=pe&&typeof pe!="function"&&typeof pe!="symbol":It(e,n,F,pe,c,xe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in r)pe=r[$e],r.hasOwnProperty($e)&&pe!=null&&!c.hasOwnProperty($e)&&It(e,n,$e,null,c,pe);for(he in c)if(pe=c[he],xe=r[he],c.hasOwnProperty(he)&&pe!==xe&&(pe!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(o(137,n));break;default:It(e,n,he,pe,c,xe)}return;default:if(Qs(n)){for(var Ut in r)pe=r[Ut],r.hasOwnProperty(Ut)&&pe!==void 0&&!c.hasOwnProperty(Ut)&&Jm(e,n,Ut,void 0,c,pe);for(_e in c)pe=c[_e],xe=r[_e],!c.hasOwnProperty(_e)||pe===xe||pe===void 0&&xe===void 0||Jm(e,n,_e,pe,c,xe);return}}for(var se in r)pe=r[se],r.hasOwnProperty(se)&&pe!=null&&!c.hasOwnProperty(se)&&It(e,n,se,null,c,pe);for(ke in c)pe=c[ke],xe=r[ke],!c.hasOwnProperty(ke)||pe===xe||pe==null&&xe==null||It(e,n,ke,pe,c,xe)}function Ny(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var f=r[c],g=f.transferSize,j=f.initiatorType,T=f.duration;if(g&&T&&Ny(j)){for(j=0,T=f.responseEnd,c+=1;c<r.length;c++){var F=r[c],he=F.startTime;if(he>T)break;var _e=F.transferSize,ke=F.initiatorType;_e&&Ny(ke)&&(F=F.responseEnd,j+=_e*(F<T?1:(T-he)/(F-he)))}if(--c,n+=8*(g+j)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xm=null,Wm=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function eh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var th=null;function V_(){var e=window.event;return e&&e.type==="popstate"?e===th?!1:(th=e,!0):(th=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,$_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(e){return Ey.resolve(null).then(e).catch(J_)}:wy;function J_(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function ky(e,n){var r=n,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(f),El(n);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Oo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Oo(r);for(var g=r.firstChild;g;){var j=g.nextSibling,T=g.nodeName;g[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=j}}else r==="body"&&Oo(e.ownerDocument.body);r=f}while(r);El(n)}function Ty(e,n){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function nh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nh(r),B(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function X_(e,n,r,c){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[wi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Ra(e.nextSibling),e===null)break}return null}function W_(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ra(e.nextSibling),e===null))return null;return e}function Cy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ra(e.nextSibling),e===null))return null;return e}function ah(e){return e.data==="$?"||e.data==="$~"}function ih(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eN(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var c=function(){n(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ra(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sh=null;function Ay(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Ra(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function My(e,n,r){switch(n=pc(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Oo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);B(e)}var La=new Map,Oy=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=ie.d;ie.d={f:tN,r:nN,D:aN,C:iN,L:sN,m:rN,X:oN,S:lN,M:uN};function tN(){var e=Ki.f(),n=lc();return e||n}function nN(e){var n=St(e);n!==null&&n.tag===5&&n.type==="form"?$p(n):Ki.r(e)}var jl=typeof document>"u"?null:document;function Dy(e,n,r){var c=jl;if(c&&typeof n=="string"&&n){var f=Yt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Oy.has(f)||(Oy.add(f),e={rel:e,crossOrigin:r,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),On(n,"link",e),tn(n),c.head.appendChild(n)))}}function aN(e){Ki.D(e),Dy("dns-prefetch",e,null)}function iN(e,n){Ki.C(e,n),Dy("preconnect",e,n)}function sN(e,n,r){Ki.L(e,n,r);var c=jl;if(c&&e&&n){var f='link[rel="preload"][as="'+Yt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Yt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Yt(r.imageSizes)+'"]')):f+='[href="'+Yt(e)+'"]';var g=f;switch(n){case"style":g=Sl(e);break;case"script":g=wl(e)}La.has(g)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),La.set(g,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Do(g))||n==="script"&&c.querySelector(Ro(g))||(n=c.createElement("link"),On(n,"link",e),tn(n),c.head.appendChild(n)))}}function rN(e,n){Ki.m(e,n);var r=jl;if(r&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Yt(c)+'"][href="'+Yt(e)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wl(e)}if(!La.has(g)&&(e=w({rel:"modulepreload",href:e},n),La.set(g,e),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ro(g)))return}c=r.createElement("link"),On(c,"link",e),tn(c),r.head.appendChild(c)}}}function lN(e,n,r){Ki.S(e,n,r);var c=jl;if(c&&e){var f=Qa(c).hoistableStyles,g=Sl(e);n=n||"default";var j=f.get(g);if(!j){var T={loading:0,preload:null};if(j=c.querySelector(Do(g)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=La.get(g))&&rh(e,r);var F=j=c.createElement("link");tn(F),On(F,"link",e),F._p=new Promise(function(he,_e){F.onload=he,F.onerror=_e}),F.addEventListener("load",function(){T.loading|=1}),F.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(j,n,c)}j={type:"stylesheet",instance:j,count:1,state:T},f.set(g,j)}}}function oN(e,n){Ki.X(e,n);var r=jl;if(r&&e){var c=Qa(r).hoistableScripts,f=wl(e),g=c.get(f);g||(g=r.querySelector(Ro(f)),g||(e=w({src:e,async:!0},n),(n=La.get(f))&&lh(e,n),g=r.createElement("script"),tn(g),On(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function uN(e,n){Ki.M(e,n);var r=jl;if(r&&e){var c=Qa(r).hoistableScripts,f=wl(e),g=c.get(f);g||(g=r.querySelector(Ro(f)),g||(e=w({src:e,async:!0,type:"module"},n),(n=La.get(f))&&lh(e,n),g=r.createElement("script"),tn(g),On(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Ry(e,n,r,c){var f=(f=je.current)?gc(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Sl(r.href),r=Qa(f).hoistableStyles,c=r.get(n),c||(c={type:"style",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Sl(r.href);var g=Qa(f).hoistableStyles,j=g.get(e);if(j||(f=f.ownerDocument||f,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,j),(g=f.querySelector(Do(e)))&&!g._p&&(j.instance=g,j.state.loading=5),La.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},La.set(e,r),g||cN(f,e,r,j.state))),n&&c===null)throw Error(o(528,""));return j}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wl(r),r=Qa(f).hoistableScripts,c=r.get(n),c||(c={type:"script",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Sl(e){return'href="'+Yt(e)+'"'}function Do(e){return'link[rel="stylesheet"]['+e+"]"}function Ly(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function cN(e,n,r,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),On(n,"link",r),tn(n),e.head.appendChild(n))}function wl(e){return'[src="'+Yt(e)+'"]'}function Ro(e){return"script[async]"+e}function Py(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Yt(r.href)+'"]');if(c)return n.instance=c,tn(c),c;var f=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),tn(c),On(c,"style",f),yc(c,r.precedence,e),n.instance=c;case"stylesheet":f=Sl(r.href);var g=e.querySelector(Do(f));if(g)return n.state.loading|=4,n.instance=g,tn(g),g;c=Ly(r),(f=La.get(f))&&rh(c,f),g=(e.ownerDocument||e).createElement("link"),tn(g);var j=g;return j._p=new Promise(function(T,F){j.onload=T,j.onerror=F}),On(g,"link",c),n.state.loading|=4,yc(g,r.precedence,e),n.instance=g;case"script":return g=wl(r.src),(f=e.querySelector(Ro(g)))?(n.instance=f,tn(f),f):(c=r,(f=La.get(g))&&(c=w({},r),lh(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),tn(f),On(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,yc(c,r.precedence,e));return n.instance}function yc(e,n,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,j=0;j<c.length;j++){var T=c[j];if(T.dataset.precedence===n)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function rh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function lh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xc=null;function By(e,n,r){if(xc===null){var c=new Map,f=xc=new Map;f.set(r,c)}else f=xc,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var g=r[f];if(!(g[wi]||g[rn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var j=g.getAttribute(n)||"";j=e+j;var T=c.get(j);T?T.push(g):c.set(j,[g])}}return c}function Iy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function dN(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Uy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mN(e,n,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Sl(c.href),g=n.querySelector(Do(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=g,tn(g);return}g=n.ownerDocument||n,c=Ly(c),(f=La.get(f))&&rh(c,f),g=g.createElement("link"),tn(g);var j=g;j._p=new Promise(function(T,F){j.onload=T,j.onerror=F}),On(g,"link",c),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=vc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var oh=0;function hN(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&oh===0&&(oh=62500*G_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>oh?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,n.forEach(fN,e),bc=null,vc.call(e))}function fN(e,n){if(!(n.state.loading&4)){var r=bc.get(e);if(r)var c=r.get(null);else{r=new Map,bc.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var j=f[g];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),c=j)}c&&r.set(null,c)}f=n.instance,j=f.getAttribute("data-precedence"),g=r.get(j)||c,g===c&&r.set(null,f),r.set(j,f),this.count++,c=vc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Lo={$$typeof:P,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function pN(e,n,r,c,f,g,j,T,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Zy(e,n,r,c,f,g,j,T,F,he,_e,ke){return e=new pN(e,n,r,j,F,he,_e,ke,T),n=1,g===!0&&(n|=24),g=qn(3,null,null,n),e.current=g,g.stateNode=e,n=Zd(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:r,cache:n},Kd(g),e}function qy(e){return e?(e=zi,e):zi}function Fy(e,n,r,c,f,g){f=qy(f),c.context===null?c.context=f:c.pendingContext=f,c=gs(n),c.payload={element:r},g=g===void 0?null:g,g!==null&&(c.callback=g),r=ys(e,c,n),r!==null&&(oa(r,e,n),fo(r,e,n))}function Hy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function uh(e,n){Hy(e,n),(e=e.alternate)&&Hy(e,n)}function Ky(e){if(e.tag===13||e.tag===31){var n=Ma(e,67108864);n!==null&&oa(n,e,67108864),uh(e,67108864)}}function Qy(e){if(e.tag===13||e.tag===31){var n=Na();n=In(n);var r=Ma(e,n);r!==null&&oa(r,e,n),uh(e,n)}}var Nc=!0;function gN(e,n,r,c){var f=q.T;q.T=null;var g=ie.p;try{ie.p=2,ch(e,n,r,c)}finally{ie.p=g,q.T=f}}function yN(e,n,r,c){var f=q.T;q.T=null;var g=ie.p;try{ie.p=8,ch(e,n,r,c)}finally{ie.p=g,q.T=f}}function ch(e,n,r,c){if(Nc){var f=dh(c);if(f===null)$m(e,n,c,jc,r),Vy(e,c);else if(vN(f,e,n,r,c))c.stopPropagation();else if(Vy(e,c),n&4&&-1<xN.indexOf(e)){for(;f!==null;){var g=St(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var j=Mt(g.pendingLanes);if(j!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;j;){var F=1<<31-zt(j);T.entanglements[1]|=F,j&=~F}xi(g),(Ct&6)===0&&(sc=jt()+500,Ao(0))}}break;case 31:case 13:T=Ma(g,2),T!==null&&oa(T,g,2),lc(),uh(g,2)}if(g=dh(c),g===null&&$m(e,n,c,jc,r),g===f)break;f=g}f!==null&&c.stopPropagation()}else $m(e,n,c,null,r)}}function dh(e){return e=Gs(e),mh(e)}var jc=null;function mh(e){if(jc=null,e=Re(e),e!==null){var n=m(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=p(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return jc=e,null}function Gy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case be:return 2;case Ue:return 8;case mt:case Je:return 32;case sn:return 268435456;default:return 32}default:return 32}}var hh=!1,Ts=null,Cs=null,As=null,Po=new Map,Bo=new Map,zs=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(e,n){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(n.pointerId)}}function Io(e,n,r,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:r,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=St(n),n!==null&&Ky(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function vN(e,n,r,c,f){switch(n){case"focusin":return Ts=Io(Ts,e,n,r,c,f),!0;case"dragenter":return Cs=Io(Cs,e,n,r,c,f),!0;case"mouseover":return As=Io(As,e,n,r,c,f),!0;case"pointerover":var g=f.pointerId;return Po.set(g,Io(Po.get(g)||null,e,n,r,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Bo.set(g,Io(Bo.get(g)||null,e,n,r,c,f)),!0}return!1}function Yy(e){var n=Re(e.target);if(n!==null){var r=m(n);if(r!==null){if(n=r.tag,n===13){if(n=p(r),n!==null){e.blockedOn=n,Ji(e.priority,function(){Qy(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,Ji(e.priority,function(){Qy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=dh(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Hr=c,r.target.dispatchEvent(c),Hr=null}else return n=St(r),n!==null&&Ky(n),e.blockedOn=r,!1;n.shift()}return!0}function $y(e,n,r){Sc(e)&&r.delete(n)}function bN(){hh=!1,Ts!==null&&Sc(Ts)&&(Ts=null),Cs!==null&&Sc(Cs)&&(Cs=null),As!==null&&Sc(As)&&(As=null),Po.forEach($y),Bo.forEach($y)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,hh||(hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bN)))}var Ec=null;function Jy(e){Ec!==e&&(Ec=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var r=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(mh(c||r)===null)continue;break}var g=St(r);g!==null&&(e.splice(n,3),n-=3,dm(g,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function El(e){function n(F){return wc(F,e)}Ts!==null&&wc(Ts,e),Cs!==null&&wc(Cs,e),As!==null&&wc(As,e),Po.forEach(n),Bo.forEach(n);for(var r=0;r<zs.length;r++){var c=zs[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)Yy(r),r.blockedOn===null&&zs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],g=r[c+1],j=f[gn]||null;if(typeof g=="function")j||Jy(r);else if(j){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,j=g[gn]||null)T=j.formAction;else if(mh(f)!==null)continue}else T=j.action;typeof T=="function"?r[c+1]=T:(r.splice(c,3),c-=3),Jy(r)}}}function Xy(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(j){return f=j})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function fh(e){this._internalRoot=e}kc.prototype.render=fh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,c=Na();Fy(r,c,e,n,null,null)},kc.prototype.unmount=fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Fy(e.current,2,null,e,null,null),lc(),n[Ka]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zs();e={blockedOn:null,target:e,priority:n};for(var r=0;r<zs.length&&n!==0&&n<zs[r].priority;r++);zs.splice(r,0,e),r===0&&Yy(e)}};var Wy=a.version;if(Wy!=="19.2.4")throw Error(o(527,Wy,"19.2.4"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=b(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var _N={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{He=Tc.inject(_N),tt=Tc}catch{}}return Zo.createRoot=function(e,n){if(!d(e))throw Error(o(299));var r=!1,c="",f=rg,g=lg,j=og;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError)),n=Zy(e,1,!1,null,null,r,c,null,f,g,j,Xy),e[Ka]=n.current,Ym(e),new fh(n)},Zo.hydrateRoot=function(e,n,r){if(!d(e))throw Error(o(299));var c=!1,f="",g=rg,j=lg,T=og,F=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(F=r.formState)),n=Zy(e,1,!0,n,r??null,c,f,F,g,j,T,Xy),n.context=qy(null),r=n.current,c=Na(),c=In(c),f=gs(c),f.callback=null,ys(r,f,c),r=c,n.current.lanes=r,ma(n,r),xi(n),e[Ka]=n.current,Ym(e),new kc(n)},Zo.version="19.2.4",Zo}var ux;function MN(){if(ux)return yh.exports;ux=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),yh.exports=zN(),yh.exports}var ON=MN();const DN=cd(ON);var Ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},RN={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},LN=class{#e=RN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},jr=new LN;function PN(t){setTimeout(t,0)}var Er=typeof window>"u"||"Deno"in globalThis;function $n(){}function BN(t,a){return typeof t=="function"?t(a):t}function sf(t){return typeof t=="number"&&t>=0&&t!==1/0}function c0(t,a){return Math.max(t+(a||0)-Date.now(),0)}function Rs(t,a){return typeof t=="function"?t(a):t}function Pa(t,a){return typeof t=="function"?t(a):t}function cx(t,a){const{type:l="all",exact:o,fetchStatus:d,predicate:m,queryKey:p,stale:y}=t;if(p){if(o){if(a.queryHash!==Tf(p,a.options))return!1}else if(!Jo(a.queryKey,p))return!1}if(l!=="all"){const v=a.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof y=="boolean"&&a.isStale()!==y||d&&d!==a.state.fetchStatus||m&&!m(a))}function dx(t,a){const{exact:l,status:o,predicate:d,mutationKey:m}=t;if(m){if(!a.options.mutationKey)return!1;if(l){if(kr(a.options.mutationKey)!==kr(m))return!1}else if(!Jo(a.options.mutationKey,m))return!1}return!(o&&a.state.status!==o||d&&!d(a))}function Tf(t,a){return(a?.queryKeyHashFn||kr)(t)}function kr(t){return JSON.stringify(t,(a,l)=>rf(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Jo(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>Jo(t[l],a[l])):!1}var IN=Object.prototype.hasOwnProperty;function d0(t,a,l=0){if(t===a)return t;if(l>500)return a;const o=mx(t)&&mx(a);if(!o&&!(rf(t)&&rf(a)))return a;const m=(o?t:Object.keys(t)).length,p=o?a:Object.keys(a),y=p.length,v=o?new Array(y):{};let b=0;for(let S=0;S<y;S++){const w=o?S:p[S],C=t[w],z=a[w];if(C===z){v[w]=C,(o?S<m:IN.call(t,w))&&b++;continue}if(C===null||z===null||typeof C!="object"||typeof z!="object"){v[w]=z;continue}const k=d0(C,z,l+1);v[w]=k,k===C&&b++}return m===y&&b===m?t:v}function Wc(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function mx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rf(t){if(!hx(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!hx(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hx(t){return Object.prototype.toString.call(t)==="[object Object]"}function UN(t){return new Promise(a=>{jr.setTimeout(a,t)})}function lf(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?d0(t,a):a}function ZN(t,a,l=0){const o=[...t,a];return l&&o.length>l?o.slice(1):o}function qN(t,a,l=0){const o=[a,...t];return l&&o.length>l?o.slice(0,-1):o}var Cf=Symbol();function m0(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===Cf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Af(t,a){return typeof t=="function"?t(...a):!!t}function FN(t,a,l){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=a(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),t}var HN=class extends Ml{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Er&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zf=new HN;function of(){let t,a;const l=new Promise((d,m)=>{t=d,a=m});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},l.reject=d=>{o({status:"rejected",reason:d}),a(d)},l}var KN=PN;function QN(){let t=[],a=0,l=y=>{y()},o=y=>{y()},d=KN;const m=y=>{a?t.push(y):d(()=>{l(y)})},p=()=>{const y=t;t=[],y.length&&d(()=>{o(()=>{y.forEach(v=>{l(v)})})})};return{batch:y=>{let v;a++;try{v=y()}finally{a--,a||p()}return v},batchCalls:y=>(...v)=>{m(()=>{y(...v)})},schedule:m,setNotifyFunction:y=>{l=y},setBatchNotifyFunction:y=>{o=y},setScheduler:y=>{d=y}}}var wn=QN(),GN=class extends Ml{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Er&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},ed=new GN;function VN(t){return Math.min(1e3*2**t,3e4)}function h0(t){return(t??"online")==="online"?ed.isOnline():!0}var uf=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function f0(t){let a=!1,l=0,o;const d=of(),m=()=>d.status!=="pending",p=A=>{if(!m()){const O=new uf(A);C(O),t.onCancel?.(O)}},y=()=>{a=!0},v=()=>{a=!1},b=()=>zf.isFocused()&&(t.networkMode==="always"||ed.isOnline())&&t.canRun(),S=()=>h0(t.networkMode)&&t.canRun(),w=A=>{m()||(o?.(),d.resolve(A))},C=A=>{m()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=O=>{(m()||b())&&A(O)},t.onPause?.()}).then(()=>{o=void 0,m()||t.onContinue?.()}),k=()=>{if(m())return;let A;const O=l===0?t.initialPromise:void 0;try{A=O??t.fn()}catch(Z){A=Promise.reject(Z)}Promise.resolve(A).then(w).catch(Z=>{if(m())return;const R=t.retry??(Er?0:3),P=t.retryDelay??VN,G=typeof P=="function"?P(l,Z):P,$=R===!0||typeof R=="number"&&l<R||typeof R=="function"&&R(l,Z);if(a||!$){C(Z);return}l++,t.onFail?.(l,Z),UN(G).then(()=>b()?void 0:z()).then(()=>{a?C(Z):k()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:y,continueRetry:v,canStart:S,start:()=>(S()?k():z().then(k),d)}}var p0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sf(this.gcTime)&&(this.#e=jr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Er?1/0:300*1e3))}clearGcTimeout(){this.#e&&(jr.clearTimeout(this.#e),this.#e=void 0)}},YN=class extends p0{#e;#t;#n;#i;#a;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=px(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=px(this.options);a.data!==void 0&&(this.setState(fx(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const l=lf(this.state.data,t,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#s({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Pa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!c0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const l=new AbortController,o=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const y=m0(this.options,a),b=(()=>{const S={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(y,b,this):y(b)},p=(()=>{const y={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:d};return o(y),y})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#a=f0({initialPromise:a?.initialPromise,fn:p.fetchFn,onCancel:y=>{y instanceof uf&&y.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(y,v)=>{this.#s({type:"failed",failureCount:y,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const y=await this.#a.start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),this.#n.config.onSuccess?.(y,this),this.#n.config.onSettled?.(y,this.state.error,this),y}catch(y){if(y instanceof uf){if(y.silent)return this.#a.promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw this.#s({type:"error",error:y}),this.#n.config.onError?.(y,this),this.#n.config.onSettled?.(this.state.data,y,this),y}finally{this.scheduleGc()}}#s(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...g0(l.data,this.options),fetchMeta:t.meta??null};case"success":const o={...l,...fx(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),wn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function g0(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h0(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fx(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function px(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,o=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var $N=class extends Ml{constructor(t,a){super(),this.options=a,this.#e=t,this.#s=null,this.#l=of(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#r;#l;#s;#p;#m;#h;#u;#c;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),gx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Wc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&yx(this.#t,l,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Pa(this.options.enabled,this.#t)!==Pa(a.enabled,this.#t)||Rs(this.options.staleTime,this.#t)!==Rs(a.staleTime,this.#t))&&this.#g();const d=this.#y();o&&(this.#t!==l||Pa(this.options.enabled,this.#t)!==Pa(a.enabled,this.#t)||d!==this.#o)&&this.#x(d)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return XN(this,l)&&(this.#i=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#i}trackResult(t,a){return new Proxy(t,{get:(l,o)=>(this.trackProp(o),a?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch($n)),a}#g(){this.#b();const t=Rs(this.options.staleTime,this.#t);if(Er||this.#i.isStale||!sf(t))return;const l=c0(this.#i.dataUpdatedAt,t)+1;this.#u=jr.setTimeout(()=>{this.#i.isStale||this.updateResult()},l)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#_(),this.#o=t,!(Er||Pa(this.options.enabled,this.#t)===!1||!sf(this.#o)||this.#o===0)&&(this.#c=jr.setInterval(()=>{(this.options.refetchIntervalInBackground||zf.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#u&&(jr.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(jr.clearInterval(this.#c),this.#c=void 0)}createResult(t,a){const l=this.#t,o=this.options,d=this.#i,m=this.#a,p=this.#r,v=t!==l?t.state:this.#n,{state:b}=t;let S={...b},w=!1,C;if(a._optimisticResults){const Q=this.hasListeners(),ae=!Q&&gx(t,a),ye=Q&&yx(t,l,a,o);(ae||ye)&&(S={...S,...g0(b.data,t.options)}),a._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:k,status:A}=S;C=S.data;let O=!1;if(a.placeholderData!==void 0&&C===void 0&&A==="pending"){let Q;d?.isPlaceholderData&&a.placeholderData===p?.placeholderData?(Q=d.data,O=!0):Q=typeof a.placeholderData=="function"?a.placeholderData(this.#h?.state.data,this.#h):a.placeholderData,Q!==void 0&&(A="success",C=lf(d?.data,Q,a),w=!0)}if(a.select&&C!==void 0&&!O)if(d&&C===m?.data&&a.select===this.#p)C=this.#m;else try{this.#p=a.select,C=a.select(C),C=lf(d?.data,C,a),this.#m=C,this.#s=null}catch(Q){this.#s=Q}this.#s&&(z=this.#s,C=this.#m,k=Date.now(),A="error");const Z=S.fetchStatus==="fetching",R=A==="pending",P=A==="error",G=R&&Z,$=C!==void 0,K={status:A,fetchStatus:S.fetchStatus,isPending:R,isSuccess:A==="success",isError:P,isInitialLoading:G,isLoading:G,data:C,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>v.dataUpdateCount||S.errorUpdateCount>v.errorUpdateCount,isFetching:Z,isRefetching:Z&&!R,isLoadingError:P&&!$,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:P&&$,isStale:Mf(t,a),refetch:this.refetch,promise:this.#l,isEnabled:Pa(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Q=K.data!==void 0,ae=K.status==="error"&&!Q,ye=oe=>{ae?oe.reject(K.error):Q&&oe.resolve(K.data)},ee=()=>{const oe=this.#l=K.promise=of();ye(oe)},ue=this.#l;switch(ue.status){case"pending":t.queryHash===l.queryHash&&ye(ue);break;case"fulfilled":(ae||K.data!==ue.value)&&ee();break;case"rejected":(!ae||K.error!==ue.reason)&&ee();break}}return K}updateResult(){const t=this.#i,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Wc(a,t))return;this.#i=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#f.size)return!0;const m=new Set(d??this.#f);return this.options.throwOnError&&m.add("error"),Object.keys(this.#i).some(p=>{const y=p;return this.#i[y]!==t[y]&&m.has(y)})};this.#j({listeners:l()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function JN(t,a){return Pa(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function gx(t,a){return JN(t,a)||t.state.data!==void 0&&cf(t,a,a.refetchOnMount)}function cf(t,a,l){if(Pa(a.enabled,t)!==!1&&Rs(a.staleTime,t)!=="static"){const o=typeof l=="function"?l(t):l;return o==="always"||o!==!1&&Mf(t,a)}return!1}function yx(t,a,l,o){return(t!==a||Pa(o.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&Mf(t,l)}function Mf(t,a){return Pa(a.enabled,t)!==!1&&t.isStaleByTime(Rs(a.staleTime,t))}function XN(t,a){return!Wc(t.getCurrentResult(),a)}function xx(t){return{onFetch:(a,l)=>{const o=a.options,d=a.fetchOptions?.meta?.fetchMore?.direction,m=a.state.data?.pages||[],p=a.state.data?.pageParams||[];let y={pages:[],pageParams:[]},v=0;const b=async()=>{let S=!1;const w=k=>{FN(k,()=>a.signal,()=>S=!0)},C=m0(a.options,a.fetchOptions),z=async(k,A,O)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const R=(()=>{const Y={client:a.client,queryKey:a.queryKey,pageParam:A,direction:O?"backward":"forward",meta:a.options.meta};return w(Y),Y})(),P=await C(R),{maxPages:G}=a.options,$=O?qN:ZN;return{pages:$(k.pages,P,G),pageParams:$(k.pageParams,A,G)}};if(d&&m.length){const k=d==="backward",A=k?WN:vx,O={pages:m,pageParams:p},Z=A(o,O);y=await z(O,Z,k)}else{const k=t??m.length;do{const A=v===0?p[0]??o.initialPageParam:vx(o,y);if(v>0&&A==null)break;y=await z(y,A),v++}while(v<k)}return y};a.options.persister?a.fetchFn=()=>a.options.persister?.(b,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=b}}}function vx(t,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,l[o],l):void 0}function WN(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var ej=class extends p0{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||y0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=f0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(m,p)=>{this.#a({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#i.canStart();try{if(o)a();else{this.#a({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,l);const p=await this.options.onMutate?.(t,l);p!==this.state.context&&this.#a({type:"pending",context:p,variables:t,isPaused:d})}const m=await this.#i.start();return await this.#n.config.onSuccess?.(m,t,this.state.context,this,l),await this.options.onSuccess?.(m,t,this.state.context,l),await this.#n.config.onSettled?.(m,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(m,null,t,this.state.context,l),this.#a({type:"success",data:m}),m}catch(m){try{await this.#n.config.onError?.(m,t,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onError?.(m,t,this.state.context,l)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,m,t,this.state.context,l)}catch(p){Promise.reject(p)}throw this.#a({type:"error",error:m}),m}finally{this.#n.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),wn.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function y0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tj=class extends Ml{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,l){const o=new ej({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:l});return this.add(o),o}add(t){this.#e.add(t);const a=Cc(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Cc(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const o=l.indexOf(t);o!==-1&&l.splice(o,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Cc(t);if(typeof a=="string"){const o=this.#t.get(a)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=Cc(t);return typeof a=="string"?this.#t.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){wn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>dx(a,l))}findAll(t={}){return this.getAll().filter(a=>dx(t,a))}notify(t){wn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return wn.batch(()=>Promise.all(t.map(a=>a.continue().catch($n))))}};function Cc(t){return t.options.scope?.id}var nj=class extends Ml{#e;#t=void 0;#n;#i;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),Wc(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&kr(l.mutationKey)!==kr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#r(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(a,l){return this.#i=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??y0();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#r(a){wn.batch(()=>{if(this.#i&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#i.onSuccess?.(a.data,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(a.data,null,l,o,d)}catch(m){Promise.reject(m)}}else if(a?.type==="error"){try{this.#i.onError?.(a.error,l,o,d)}catch(m){Promise.reject(m)}try{this.#i.onSettled?.(void 0,a.error,l,o,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(l=>{l(this.#t)})})}},aj=class extends Ml{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const o=a.queryKey,d=a.queryHash??Tf(o,a);let m=this.get(d);return m||(m=new YN({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(o)}),this.add(m)),m}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>cx(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>cx(t,l)):a}notify(t){wn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ij=class{#e;#t;#n;#i;#a;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new aj,this.#t=t.mutationCache||new tj,this.#n=t.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=zf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ed.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(Rs(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(t,a,l){const o=this.defaultQueryOptions({queryKey:t}),m=this.#e.get(o.queryHash)?.state.data,p=BN(a,m);if(p!==void 0)return this.#e.build(this,o).setData(p,{...l,manual:!0})}setQueriesData(t,a,l){return wn.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;wn.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return wn.batch(()=>(l.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},o=wn.batch(()=>this.#e.findAll(t).map(d=>d.cancel(l)));return Promise.all(o).then($n).catch($n)}invalidateQueries(t,a={}){return wn.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=wn.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let m=d.fetch(void 0,l);return l.throwOnError||(m=m.catch($n)),d.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(o).then($n)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(Rs(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($n).catch($n)}fetchInfiniteQuery(t){return t.behavior=xx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($n).catch($n)}ensureInfiniteQueryData(t){return t.behavior=xx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ed.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#i.set(kr(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#i.values()],l={};return a.forEach(o=>{Jo(t,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(kr(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(o=>{Jo(t,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=Tf(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Cf&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},x0=N.createContext(void 0),Rn=t=>{const a=N.useContext(x0);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},sj=({client:t,children:a})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(x0.Provider,{value:t,children:a})),v0=N.createContext(!1),rj=()=>N.useContext(v0);v0.Provider;function lj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var oj=N.createContext(lj()),uj=()=>N.useContext(oj),cj=(t,a,l)=>{const o=l?.state.error&&typeof t.throwOnError=="function"?Af(t.throwOnError,[l.state.error,l]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(a.isReset()||(t.retryOnMount=!1))},dj=t=>{N.useEffect(()=>{t.clearReset()},[t])},mj=({result:t,errorResetBoundary:a,throwOnError:l,query:o,suspense:d})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||Af(l,[t.error,o])),hj=t=>{if(t.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},fj=(t,a)=>t.isLoading&&t.isFetching&&!a,pj=(t,a)=>t?.suspense&&a.isPending,bx=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function gj(t,a,l){const o=rj(),d=uj(),m=Rn(),p=m.defaultQueryOptions(t);m.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const y=m.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",hj(p),cj(p,d,y),dj(d);const v=!m.getQueryCache().get(p.queryHash),[b]=N.useState(()=>new a(m,p)),S=b.getOptimisticResult(p),w=!o&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(C=>{const z=w?b.subscribe(wn.batchCalls(C)):$n;return b.updateResult(),z},[b,w]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),N.useEffect(()=>{b.setOptions(p)},[p,b]),pj(p,S))throw bx(p,b,d);if(mj({result:S,errorResetBoundary:d,throwOnError:p.throwOnError,query:y,suspense:p.suspense}))throw S.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(p,S),p.experimental_prefetchInRender&&!Er&&fj(S,o)&&(v?bx(p,b,d):y?.promise)?.catch($n).finally(()=>{b.updateResult()}),p.notifyOnChangeProps?S:b.trackResult(S)}function Le(t,a){return gj(t,$N)}function Ye(t,a){const l=Rn(),[o]=N.useState(()=>new nj(l,t));N.useEffect(()=>{o.setOptions(t)},[o,t]);const d=N.useSyncExternalStore(N.useCallback(p=>o.subscribe(wn.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m=N.useCallback((p,y)=>{o.mutate(p,y).catch($n)},[o]);if(d.error&&Af(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:m,mutateAsync:d.mutate}}var _x="popstate";function yj(t={}){function a(o,d){let{pathname:m,search:p,hash:y}=o.location;return df("",{pathname:m,search:p,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:Xo(d)}return vj(a,l,null,t)}function Wt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Ba(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function xj(){return Math.random().toString(36).substring(2,10)}function Nx(t,a){return{usr:t.state,key:t.key,idx:a}}function df(t,a,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Ol(a):a,state:l,key:a&&a.key||o||xj()}}function Xo({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Ol(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function vj(t,a,l,o={}){let{window:d=document.defaultView,v5Compat:m=!1}=o,p=d.history,y="POP",v=null,b=S();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function S(){return(p.state||{idx:null}).idx}function w(){y="POP";let O=S(),Z=O==null?null:O-b;b=O,v&&v({action:y,location:A.location,delta:Z})}function C(O,Z){y="PUSH";let R=df(A.location,O,Z);b=S()+1;let P=Nx(R,b),G=A.createHref(R);try{p.pushState(P,"",G)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;d.location.assign(G)}m&&v&&v({action:y,location:A.location,delta:1})}function z(O,Z){y="REPLACE";let R=df(A.location,O,Z);b=S();let P=Nx(R,b),G=A.createHref(R);p.replaceState(P,"",G),m&&v&&v({action:y,location:A.location,delta:0})}function k(O){return bj(O)}let A={get action(){return y},get location(){return t(d,p)},listen(O){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(_x,w),v=O,()=>{d.removeEventListener(_x,w),v=null}},createHref(O){return a(d,O)},createURL:k,encodeLocation(O){let Z=k(O);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:C,replace:z,go(O){return p.go(O)}};return A}function bj(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Xo(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function b0(t,a,l="/"){return _j(t,a,l,!1)}function _j(t,a,l,o){let d=typeof a=="string"?Ol(a):a,m=$i(d.pathname||"/",l);if(m==null)return null;let p=_0(t);Nj(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let b=Oj(m);y=zj(p[v],b,o)}return y}function _0(t,a=[],l=[],o="",d=!1){let m=(p,y,v=d,b)=>{let S={relativePath:b===void 0?p.path||"":b,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&v)return;Wt(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=Vi([o,S.relativePath]),C=l.concat(S);p.children&&p.children.length>0&&(Wt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),_0(p.children,a,C,w,v)),!(p.path==null&&!p.index)&&a.push({path:w,score:Cj(w,p.index),routesMeta:C})};return t.forEach((p,y)=>{if(p.path===""||!p.path?.includes("?"))m(p,y);else for(let v of N0(p.path))m(p,y,!0,v)}),a}function N0(t){let a=t.split("/");if(a.length===0)return[];let[l,...o]=a,d=l.endsWith("?"),m=l.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let p=N0(o.join("/")),y=[];return y.push(...p.map(v=>v===""?m:[m,v].join("/"))),d&&y.push(...p),y.map(v=>t.startsWith("/")&&v===""?"/":v)}function Nj(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:Aj(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var jj=/^:[\w-]+$/,Sj=3,wj=2,Ej=1,kj=10,Tj=-2,jx=t=>t==="*";function Cj(t,a){let l=t.split("/"),o=l.length;return l.some(jx)&&(o+=Tj),a&&(o+=wj),l.filter(d=>!jx(d)).reduce((d,m)=>d+(jj.test(m)?Sj:m===""?Ej:kj),o)}function Aj(t,a){return t.length===a.length&&t.slice(0,-1).every((o,d)=>o===a[d])?t[t.length-1]-a[a.length-1]:0}function zj(t,a,l=!1){let{routesMeta:o}=t,d={},m="/",p=[];for(let y=0;y<o.length;++y){let v=o[y],b=y===o.length-1,S=m==="/"?a:a.slice(m.length)||"/",w=td({path:v.relativePath,caseSensitive:v.caseSensitive,end:b},S),C=v.route;if(!w&&b&&l&&!o[o.length-1].route.index&&(w=td({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),p.push({params:d,pathname:Vi([m,w.pathname]),pathnameBase:Pj(Vi([m,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(m=Vi([m,w.pathnameBase]))}return p}function td(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=Mj(t.path,t.caseSensitive,t.end),d=a.match(l);if(!d)return null;let m=d[0],p=m.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:o.reduce((b,{paramName:S,isOptional:w},C)=>{if(S==="*"){let k=y[C]||"";p=m.slice(0,m.length-k.length).replace(/(.)\/+$/,"$1")}const z=y[C];return w&&!z?b[S]=void 0:b[S]=(z||"").replace(/%2F/g,"/"),b},{}),pathname:m,pathnameBase:p,pattern:t}}function Mj(t,a=!1,l=!0){Ba(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function Oj(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ba(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function $i(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var Dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Rj(t,a="/"){let{pathname:l,search:o="",hash:d=""}=typeof t=="string"?Ol(t):t,m;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?m=Sx(l.substring(1),"/"):m=Sx(l,a)):m=a,{pathname:m,search:Bj(o),hash:Ij(d)}}function Sx(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function _h(t,a,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lj(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Of(t){let a=Lj(t);return a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase)}function Df(t,a,l,o=!1){let d;typeof t=="string"?d=Ol(t):(d={...t},Wt(!d.pathname||!d.pathname.includes("?"),_h("?","pathname","search",d)),Wt(!d.pathname||!d.pathname.includes("#"),_h("#","pathname","hash",d)),Wt(!d.search||!d.search.includes("#"),_h("#","search","hash",d)));let m=t===""||d.pathname==="",p=m?"/":d.pathname,y;if(p==null)y=l;else{let w=a.length-1;if(!o&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),w-=1;d.pathname=C.join("/")}y=w>=0?a[w]:"/"}let v=Rj(d,y),b=p&&p!=="/"&&p.endsWith("/"),S=(m||p===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(b||S)&&(v.pathname+="/"),v}var Vi=t=>t.join("/").replace(/\/\/+/g,"/"),Pj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ij=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Uj=class{constructor(t,a,l,o=!1){this.status=t,this.statusText=a||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Zj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function qj(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function S0(t,a){let l=t;if(typeof l!="string"||!Dj.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(j0)try{let m=new URL(window.location.href),p=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=$i(p.pathname,a);p.origin===m.origin&&y!=null?l=y+p.search+p.hash:d=!0}catch{Ba(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w0=["POST","PUT","PATCH","DELETE"];new Set(w0);var Fj=["GET",...w0];new Set(Fj);var Dl=N.createContext(null);Dl.displayName="DataRouter";var dd=N.createContext(null);dd.displayName="DataRouterState";var Hj=N.createContext(!1),E0=N.createContext({isTransitioning:!1});E0.displayName="ViewTransition";var Kj=N.createContext(new Map);Kj.displayName="Fetchers";var Qj=N.createContext(null);Qj.displayName="Await";var Sa=N.createContext(null);Sa.displayName="Navigation";var au=N.createContext(null);au.displayName="Location";var Ua=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Rf=N.createContext(null);Rf.displayName="RouteError";var k0="REACT_ROUTER_ERROR",Gj="REDIRECT",Vj="ROUTE_ERROR_RESPONSE";function Yj(t){if(t.startsWith(`${k0}:${Gj}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function $j(t){if(t.startsWith(`${k0}:${Vj}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Uj(a.status,a.statusText,a.data)}catch{}}function Jj(t,{relative:a}={}){Wt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=N.useContext(Sa),{hash:d,pathname:m,search:p}=iu(t,{relative:a}),y=m;return l!=="/"&&(y=m==="/"?l:Vi([l,m])),o.createHref({pathname:y,search:p,hash:d})}function Rl(){return N.useContext(au)!=null}function Za(){return Wt(Rl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(au).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(t){N.useContext(Sa).static||N.useLayoutEffect(t)}function Ll(){let{isDataRoute:t}=N.useContext(Ua);return t?hS():Xj()}function Xj(){Wt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Dl),{basename:a,navigator:l}=N.useContext(Sa),{matches:o}=N.useContext(Ua),{pathname:d}=Za(),m=JSON.stringify(Of(o)),p=N.useRef(!1);return C0(()=>{p.current=!0}),N.useCallback((v,b={})=>{if(Ba(p.current,T0),!p.current)return;if(typeof v=="number"){l.go(v);return}let S=Df(v,JSON.parse(m),d,b.relative==="path");t==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:Vi([a,S.pathname])),(b.replace?l.replace:l.push)(S,b.state,b)},[a,l,m,d,t])}var Wj=N.createContext(null);function eS(t){let a=N.useContext(Ua).outlet;return N.useMemo(()=>a&&N.createElement(Wj.Provider,{value:t},a),[a,t])}function tS(){let{matches:t}=N.useContext(Ua),a=t[t.length-1];return a?a.params:{}}function iu(t,{relative:a}={}){let{matches:l}=N.useContext(Ua),{pathname:o}=Za(),d=JSON.stringify(Of(l));return N.useMemo(()=>Df(t,JSON.parse(d),o,a==="path"),[t,d,o,a])}function nS(t,a){return A0(t,a)}function A0(t,a,l,o,d){Wt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=N.useContext(Sa),{matches:p}=N.useContext(Ua),y=p[p.length-1],v=y?y.params:{},b=y?y.pathname:"/",S=y?y.pathnameBase:"/",w=y&&y.route;{let R=w&&w.path||"";M0(b,!w||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let C=Za(),z;if(a){let R=typeof a=="string"?Ol(a):a;Wt(S==="/"||R.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${R.pathname}" was given in the \`location\` prop.`),z=R}else z=C;let k=z.pathname||"/",A=k;if(S!=="/"){let R=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let O=b0(t,{pathname:A});Ba(w||O!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Ba(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=lS(O&&O.map(R=>Object.assign({},R,{params:Object.assign({},v,R.params),pathname:Vi([S,m.encodeLocation?m.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?S:Vi([S,m.encodeLocation?m.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),p,l,o,d);return a&&Z?N.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},Z):Z}function aS(){let t=mS(),a=Zj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:m},"ErrorBoundary")," or"," ",N.createElement("code",{style:m},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},a),l?N.createElement("pre",{style:d},l):null,p)}var iS=N.createElement(aS,null),z0=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=$j(t.digest);l&&(t=l)}let a=t!==void 0?N.createElement(Ua.Provider,{value:this.props.routeContext},N.createElement(Rf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(sS,{error:t},a):a}};z0.contextType=Hj;var Nh=new WeakMap;function sS({children:t,error:a}){let{basename:l}=N.useContext(Sa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=Yj(a.digest);if(o){let d=Nh.get(a);if(d)throw d;let m=S0(o.location,l);if(j0&&!Nh.get(a))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw Nh.set(a,p),p}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return t}function rS({routeContext:t,match:a,children:l}){let o=N.useContext(Dl);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),N.createElement(Ua.Provider,{value:t},l)}function lS(t,a=[],l=null,o=null,d=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let m=t,p=l?.errors;if(p!=null){let S=m.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);Wt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let y=!1,v=-1;if(l)for(let S=0;S<m.length;S++){let w=m[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:C,errors:z}=l,k=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||k){y=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}let b=l&&o?(S,w)=>{o(S,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:qj(l.matches),errorInfo:w})}:void 0;return m.reduceRight((S,w,C)=>{let z,k=!1,A=null,O=null;l&&(z=p&&w.route.id?p[w.route.id]:void 0,A=w.route.errorElement||iS,y&&(v<0&&C===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,O=null):v===C&&(k=!0,O=w.route.hydrateFallbackElement||null)));let Z=a.concat(m.slice(0,C+1)),R=()=>{let P;return z?P=A:k?P=O:w.route.Component?P=N.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=S,N.createElement(rS,{match:w,routeContext:{outlet:S,matches:Z,isDataRoute:l!=null},children:P})};return l&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?N.createElement(z0,{location:l.location,revalidation:l.revalidation,component:A,error:z,children:R(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:b}):R()},null)}function Lf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(t){let a=N.useContext(Dl);return Wt(a,Lf(t)),a}function uS(t){let a=N.useContext(dd);return Wt(a,Lf(t)),a}function cS(t){let a=N.useContext(Ua);return Wt(a,Lf(t)),a}function Pf(t){let a=cS(t),l=a.matches[a.matches.length-1];return Wt(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function dS(){return Pf("useRouteId")}function mS(){let t=N.useContext(Rf),a=uS("useRouteError"),l=Pf("useRouteError");return t!==void 0?t:a.errors?.[l]}function hS(){let{router:t}=oS("useNavigate"),a=Pf("useNavigate"),l=N.useRef(!1);return C0(()=>{l.current=!0}),N.useCallback(async(d,m={})=>{Ba(l.current,T0),l.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:a,...m}))},[t,a])}var wx={};function M0(t,a,l){!a&&!wx[t]&&(wx[t]=!0,Ba(!1,l))}N.memo(fS);function fS({routes:t,future:a,state:l,onError:o}){return A0(t,void 0,l,o,a)}function Bf({to:t,replace:a,state:l,relative:o}){Wt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=N.useContext(Sa);Ba(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=N.useContext(Ua),{pathname:p}=Za(),y=Ll(),v=Df(t,Of(m),p,o==="path"),b=JSON.stringify(v);return N.useEffect(()=>{y(JSON.parse(b),{replace:a,state:l,relative:o})},[y,b,o,a,l]),null}function If(t){return eS(t.context)}function Zt(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({basename:t="/",children:a=null,location:l,navigationType:o="POP",navigator:d,static:m=!1,unstable_useTransitions:p}){Wt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=t.replace(/^\/*/,"/"),v=N.useMemo(()=>({basename:y,navigator:d,static:m,unstable_useTransitions:p,future:{}}),[y,d,m,p]);typeof l=="string"&&(l=Ol(l));let{pathname:b="/",search:S="",hash:w="",state:C=null,key:z="default"}=l,k=N.useMemo(()=>{let A=$i(b,y);return A==null?null:{location:{pathname:A,search:S,hash:w,state:C,key:z},navigationType:o}},[y,b,S,w,C,z,o]);return Ba(k!=null,`<Router basename="${y}"> is not able to match the URL "${b}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:N.createElement(Sa.Provider,{value:v},N.createElement(au.Provider,{children:a,value:k}))}function gS({children:t,location:a}){return nS(mf(t),a)}function mf(t,a=[]){let l=[];return N.Children.forEach(t,(o,d)=>{if(!N.isValidElement(o))return;let m=[...a,d];if(o.type===N.Fragment){l.push.apply(l,mf(o.props.children,m));return}Wt(o.type===Zt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=mf(o.props.children,m)),l.push(p)}),l}var Gc="get",Vc="application/x-www-form-urlencoded";function md(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yS(t){return md(t)&&t.tagName.toLowerCase()==="button"}function xS(t){return md(t)&&t.tagName.toLowerCase()==="form"}function vS(t){return md(t)&&t.tagName.toLowerCase()==="input"}function bS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _S(t,a){return t.button===0&&(!a||a==="_self")&&!bS(t)}function hf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let o=t[l];return a.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function NS(t,a){let l=hf(t);return a&&a.forEach((o,d)=>{l.has(d)||a.getAll(d).forEach(m=>{l.append(d,m)})}),l}var Ac=null;function jS(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var SS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jh(t){return t!=null&&!SS.has(t)?(Ba(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):t}function wS(t,a){let l,o,d,m,p;if(xS(t)){let y=t.getAttribute("action");o=y?$i(y,a):null,l=t.getAttribute("method")||Gc,d=jh(t.getAttribute("enctype"))||Vc,m=new FormData(t)}else if(yS(t)||vS(t)&&(t.type==="submit"||t.type==="image")){let y=t.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||y.getAttribute("action");if(o=v?$i(v,a):null,l=t.getAttribute("formmethod")||y.getAttribute("method")||Gc,d=jh(t.getAttribute("formenctype"))||jh(y.getAttribute("enctype"))||Vc,m=new FormData(y,t),!jS()){let{name:b,type:S,value:w}=t;if(S==="image"){let C=b?`${b}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else b&&m.append(b,w)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Gc,o=null,d=Vc,p=t}return m&&d==="text/plain"&&(p=m,m=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:m,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uf(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function ES(t,a,l,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:a&&$i(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function kS(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CS(t,a,l){let o=await Promise.all(t.map(async d=>{let m=a.routes[d.route.id];if(m){let p=await kS(m,l);return p.links?p.links():[]}return[]}));return OS(o.flat(1).filter(TS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Ex(t,a,l,o,d,m){let p=(v,b)=>l[b]?v.route.id!==l[b].route.id:!0,y=(v,b)=>l[b].pathname!==v.pathname||l[b].route.path?.endsWith("*")&&l[b].params["*"]!==v.params["*"];return m==="assets"?a.filter((v,b)=>p(v,b)||y(v,b)):m==="data"?a.filter((v,b)=>{let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(p(v,b)||y(v,b))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function AS(t,a,{includeHydrateFallback:l}={}){return zS(t.map(o=>{let d=a.routes[o.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function zS(t){return[...new Set(t)]}function MS(t){let a={},l=Object.keys(t).sort();for(let o of l)a[o]=t[o];return a}function OS(t,a){let l=new Set;return new Set(a),t.reduce((o,d)=>{let m=JSON.stringify(MS(d));return l.has(m)||(l.add(m),o.push({key:m,link:d})),o},[])}function O0(){let t=N.useContext(Dl);return Uf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DS(){let t=N.useContext(dd);return Uf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zf=N.createContext(void 0);Zf.displayName="FrameworkContext";function D0(){let t=N.useContext(Zf);return Uf(t,"You must render this element inside a <HydratedRouter> element"),t}function RS(t,a){let l=N.useContext(Zf),[o,d]=N.useState(!1),[m,p]=N.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:b,onMouseLeave:S,onTouchStart:w}=a,C=N.useRef(null);N.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let A=Z=>{Z.forEach(R=>{p(R.isIntersecting)})},O=new IntersectionObserver(A,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(o){let A=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},k=()=>{d(!1),p(!1)};return l?t!=="intent"?[m,C,{}]:[m,C,{onFocus:qo(y,z),onBlur:qo(v,k),onMouseEnter:qo(b,z),onMouseLeave:qo(S,k),onTouchStart:qo(w,z)}]:[!1,C,{}]}function qo(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function LS({page:t,...a}){let{router:l}=O0(),o=N.useMemo(()=>b0(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?N.createElement(BS,{page:t,matches:o,...a}):null}function PS(t){let{manifest:a,routeModules:l}=D0(),[o,d]=N.useState([]);return N.useEffect(()=>{let m=!1;return CS(t,a,l).then(p=>{m||d(p)}),()=>{m=!0}},[t,a,l]),o}function BS({page:t,matches:a,...l}){let o=Za(),{future:d,manifest:m,routeModules:p}=D0(),{basename:y}=O0(),{loaderData:v,matches:b}=DS(),S=N.useMemo(()=>Ex(t,a,b,m,o,"data"),[t,a,b,m,o]),w=N.useMemo(()=>Ex(t,a,b,m,o,"assets"),[t,a,b,m,o]),C=N.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,O=!1;if(a.forEach(R=>{let P=m.routes[R.route.id];!P||!P.hasLoader||(!S.some(G=>G.route.id===R.route.id)&&R.route.id in v&&p[R.route.id]?.shouldRevalidate||P.hasClientLoader?O=!0:A.add(R.route.id))}),A.size===0)return[];let Z=ES(t,y,d.unstable_trailingSlashAwareDataRequests,"data");return O&&A.size>0&&Z.searchParams.set("_routes",a.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[Z.pathname+Z.search]},[y,d.unstable_trailingSlashAwareDataRequests,v,o,m,S,a,t,p]),z=N.useMemo(()=>AS(w,m),[w,m]),k=PS(w);return N.createElement(N.Fragment,null,C.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),z.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),k.map(({key:A,link:O})=>N.createElement("link",{key:A,nonce:l.nonce,...O,crossOrigin:O.crossOrigin??l.crossOrigin})))}function IS(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.13.0")}catch{}function ZS({basename:t,children:a,unstable_useTransitions:l,window:o}){let d=N.useRef();d.current==null&&(d.current=yj({window:o,v5Compat:!0}));let m=d.current,[p,y]=N.useState({action:m.action,location:m.location}),v=N.useCallback(b=>{l===!1?y(b):N.startTransition(()=>y(b))},[l]);return N.useLayoutEffect(()=>m.listen(v),[m,v]),N.createElement(pS,{basename:t,children:a,location:p.location,navigationType:p.action,navigator:m,unstable_useTransitions:l})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni=N.forwardRef(function({onClick:a,discover:l="render",prefetch:o="none",relative:d,reloadDocument:m,replace:p,state:y,target:v,to:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k){let{basename:A,unstable_useTransitions:O}=N.useContext(Sa),Z=typeof b=="string"&&R0.test(b),R=S0(b,A);b=R.to;let P=Jj(b,{relative:d}),[G,$,Y]=RS(o,z),K=HS(b,{replace:p,state:y,target:v,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:C,unstable_useTransitions:O});function Q(ye){a&&a(ye),ye.defaultPrevented||K(ye)}let ae=N.createElement("a",{...z,...Y,href:R.absoluteURL||P,onClick:R.isExternal||m?a:Q,ref:IS(k,$),target:v,"data-discover":!Z&&l==="render"?"true":void 0});return G&&!Z?N.createElement(N.Fragment,null,ae,N.createElement(LS,{page:P})):ae});ni.displayName="Link";var L0=N.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:o="",end:d=!1,style:m,to:p,viewTransition:y,children:v,...b},S){let w=iu(p,{relative:b.relative}),C=Za(),z=N.useContext(dd),{navigator:k,basename:A}=N.useContext(Sa),O=z!=null&&YS(w)&&y===!0,Z=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,R=C.pathname,P=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;l||(R=R.toLowerCase(),P=P?P.toLowerCase():null,Z=Z.toLowerCase()),P&&A&&(P=$i(P,A)||P);const G=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let $=R===Z||!d&&R.startsWith(Z)&&R.charAt(G)==="/",Y=P!=null&&(P===Z||!d&&P.startsWith(Z)&&P.charAt(Z.length)==="/"),K={isActive:$,isPending:Y,isTransitioning:O},Q=$?a:void 0,ae;typeof o=="function"?ae=o(K):ae=[o,$?"active":null,Y?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ye=typeof m=="function"?m(K):m;return N.createElement(ni,{...b,"aria-current":Q,className:ae,ref:S,style:ye,to:p,viewTransition:y},typeof v=="function"?v(K):v)});L0.displayName="NavLink";var qS=N.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:o,replace:d,state:m,method:p=Gc,action:y,onSubmit:v,relative:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k)=>{let{unstable_useTransitions:A}=N.useContext(Sa),O=GS(),Z=VS(y,{relative:b}),R=p.toLowerCase()==="get"?"get":"post",P=typeof y=="string"&&R0.test(y),G=$=>{if(v&&v($),$.defaultPrevented)return;$.preventDefault();let Y=$.nativeEvent.submitter,K=Y?.getAttribute("formmethod")||p,Q=()=>O(Y||$.currentTarget,{fetcherKey:a,method:K,navigate:l,replace:d,state:m,relative:b,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C});A&&l!==!1?N.startTransition(()=>Q()):Q()};return N.createElement("form",{ref:k,method:R,action:Z,onSubmit:o?v:G,...z,"data-discover":!P&&t==="render"?"true":void 0})});qS.displayName="Form";function FS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(t){let a=N.useContext(Dl);return Wt(a,FS(t)),a}function HS(t,{target:a,replace:l,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let b=Ll(),S=Za(),w=iu(t,{relative:m});return N.useCallback(C=>{if(_S(C,a)){C.preventDefault();let z=l!==void 0?l:Xo(S)===Xo(w),k=()=>b(t,{replace:z,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:y});v?N.startTransition(()=>k()):k()}},[S,b,w,l,o,a,t,d,m,p,y,v])}function qf(t){Ba(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=N.useRef(hf(t)),l=N.useRef(!1),o=Za(),d=N.useMemo(()=>NS(o.search,l.current?null:a.current),[o.search]),m=Ll(),p=N.useCallback((y,v)=>{const b=hf(typeof y=="function"?y(new URLSearchParams(d)):y);l.current=!0,m("?"+b,v)},[m,d]);return[d,p]}var KS=0,QS=()=>`__${String(++KS)}__`;function GS(){let{router:t}=P0("useSubmit"),{basename:a}=N.useContext(Sa),l=dS(),o=t.fetch,d=t.navigate;return N.useCallback(async(m,p={})=>{let{action:y,method:v,encType:b,formData:S,body:w}=wS(m,a);if(p.navigate===!1){let C=p.fetcherKey||QS();await o(C,l,p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||b,flushSync:p.flushSync})}else await d(p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||b,replace:p.replace,state:p.state,fromRouteId:l,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,a,l])}function VS(t,{relative:a}={}){let{basename:l}=N.useContext(Sa),o=N.useContext(Ua);Wt(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),m={...iu(t||".",{relative:a})},p=Za();if(t==null){m.search=p.search;let y=new URLSearchParams(m.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();m.search=S?`?${S}`:""}}return(!t||t===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:Vi([l,m.pathname])),Xo(m)}function YS(t,{relative:a}={}){let l=N.useContext(E0);Wt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=P0("useViewTransitionState"),d=iu(t,{relative:a});if(!l.isTransitioning)return!1;let m=$i(l.currentLocation.pathname,o)||l.currentLocation.pathname,p=$i(l.nextLocation.pathname,o)||l.nextLocation.pathname;return td(d.pathname,p)!=null||td(d.pathname,m)!=null}const Ni={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"};function B0(t,a){return function(){return t.apply(a,arguments)}}const{toString:$S}=Object.prototype,{getPrototypeOf:Ff}=Object,{iterator:hd,toStringTag:I0}=Symbol,fd=(t=>a=>{const l=$S.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ai=t=>(t=t.toLowerCase(),a=>fd(a)===t),pd=t=>a=>typeof a===t,{isArray:Pl}=Array,zl=pd("undefined");function su(t){return t!==null&&!zl(t)&&t.constructor!==null&&!zl(t.constructor)&&ua(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const U0=ai("ArrayBuffer");function JS(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&U0(t.buffer),a}const XS=pd("string"),ua=pd("function"),Z0=pd("number"),ru=t=>t!==null&&typeof t=="object",WS=t=>t===!0||t===!1,Yc=t=>{if(fd(t)!=="object")return!1;const a=Ff(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(I0 in t)&&!(hd in t)},ew=t=>{if(!ru(t)||su(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},tw=ai("Date"),nw=ai("File"),aw=ai("Blob"),iw=ai("FileList"),sw=t=>ru(t)&&ua(t.pipe),rw=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||ua(t.append)&&((a=fd(t))==="formdata"||a==="object"&&ua(t.toString)&&t.toString()==="[object FormData]"))},lw=ai("URLSearchParams"),[ow,uw,cw,dw]=["ReadableStream","Request","Response","Headers"].map(ai),mw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lu(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Pl(t))for(o=0,d=t.length;o<d;o++)a.call(null,t[o],o,t);else{if(su(t))return;const m=l?Object.getOwnPropertyNames(t):Object.keys(t),p=m.length;let y;for(o=0;o<p;o++)y=m[o],a.call(null,t[y],y,t)}}function q0(t,a){if(su(t))return null;a=a.toLowerCase();const l=Object.keys(t);let o=l.length,d;for(;o-- >0;)if(d=l[o],a===d.toLowerCase())return d;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F0=t=>!zl(t)&&t!==Sr;function ff(){const{caseless:t,skipUndefined:a}=F0(this)&&this||{},l={},o=(d,m)=>{const p=t&&q0(l,m)||m;Yc(l[p])&&Yc(d)?l[p]=ff(l[p],d):Yc(d)?l[p]=ff({},d):Pl(d)?l[p]=d.slice():(!a||!zl(d))&&(l[p]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&lu(arguments[d],o);return l}const hw=(t,a,l,{allOwnKeys:o}={})=>(lu(a,(d,m)=>{l&&ua(d)?Object.defineProperty(t,m,{value:B0(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),fw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pw=(t,a,l,o)=>{t.prototype=Object.create(a.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},gw=(t,a,l,o)=>{let d,m,p;const y={};if(a=a||{},t==null)return a;do{for(d=Object.getOwnPropertyNames(t),m=d.length;m-- >0;)p=d[m],(!o||o(p,t,a))&&!y[p]&&(a[p]=t[p],y[p]=!0);t=l!==!1&&Ff(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},yw=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const o=t.indexOf(a,l);return o!==-1&&o===l},xw=t=>{if(!t)return null;if(Pl(t))return t;let a=t.length;if(!Z0(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},vw=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Ff(Uint8Array)),bw=(t,a)=>{const o=(t&&t[hd]).call(t);let d;for(;(d=o.next())&&!d.done;){const m=d.value;a.call(t,m[0],m[1])}},_w=(t,a)=>{let l;const o=[];for(;(l=t.exec(a))!==null;)o.push(l);return o},Nw=ai("HTMLFormElement"),jw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),kx=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),Sw=ai("RegExp"),H0=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),o={};lu(l,(d,m)=>{let p;(p=a(d,m,t))!==!1&&(o[m]=p||d)}),Object.defineProperties(t,o)},ww=t=>{H0(t,(a,l)=>{if(ua(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=t[l];if(ua(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Ew=(t,a)=>{const l={},o=d=>{d.forEach(m=>{l[m]=!0})};return Pl(t)?o(t):o(String(t).split(a)),l},kw=()=>{},Tw=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function Cw(t){return!!(t&&ua(t.append)&&t[I0]==="FormData"&&t[hd])}const Aw=t=>{const a=new Array(10),l=(o,d)=>{if(ru(o)){if(a.indexOf(o)>=0)return;if(su(o))return o;if(!("toJSON"in o)){a[d]=o;const m=Pl(o)?[]:{};return lu(o,(p,y)=>{const v=l(p,d+1);!zl(v)&&(m[y]=v)}),a[d]=void 0,m}}return o};return l(t,0)},zw=ai("AsyncFunction"),Mw=t=>t&&(ru(t)||ua(t))&&ua(t.then)&&ua(t.catch),K0=((t,a)=>t?setImmediate:a?((l,o)=>(Sr.addEventListener("message",({source:d,data:m})=>{d===Sr&&m===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Sr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",ua(Sr.postMessage)),Ow=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||K0,Dw=t=>t!=null&&ua(t[hd]),ve={isArray:Pl,isArrayBuffer:U0,isBuffer:su,isFormData:rw,isArrayBufferView:JS,isString:XS,isNumber:Z0,isBoolean:WS,isObject:ru,isPlainObject:Yc,isEmptyObject:ew,isReadableStream:ow,isRequest:uw,isResponse:cw,isHeaders:dw,isUndefined:zl,isDate:tw,isFile:nw,isBlob:aw,isRegExp:Sw,isFunction:ua,isStream:sw,isURLSearchParams:lw,isTypedArray:vw,isFileList:iw,forEach:lu,merge:ff,extend:hw,trim:mw,stripBOM:fw,inherits:pw,toFlatObject:gw,kindOf:fd,kindOfTest:ai,endsWith:yw,toArray:xw,forEachEntry:bw,matchAll:_w,isHTMLForm:Nw,hasOwnProperty:kx,hasOwnProp:kx,reduceDescriptors:H0,freezeMethods:ww,toObjectSet:Ew,toCamelCase:jw,noop:kw,toFiniteNumber:Tw,findKey:q0,global:Sr,isContextDefined:F0,isSpecCompliantForm:Cw,toJSONObject:Aw,isAsyncFn:zw,isThenable:Mw,setImmediate:K0,asap:Ow,isIterable:Dw};let We=class Q0 extends Error{static from(a,l,o,d,m,p){const y=new Q0(a.message,l||a.code,o,d,m);return y.cause=a,y.name=a.name,p&&Object.assign(y,p),y}constructor(a,l,o,d,m){super(a),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}};We.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";We.ERR_BAD_OPTION="ERR_BAD_OPTION";We.ECONNABORTED="ECONNABORTED";We.ETIMEDOUT="ETIMEDOUT";We.ERR_NETWORK="ERR_NETWORK";We.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";We.ERR_DEPRECATED="ERR_DEPRECATED";We.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";We.ERR_BAD_REQUEST="ERR_BAD_REQUEST";We.ERR_CANCELED="ERR_CANCELED";We.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";We.ERR_INVALID_URL="ERR_INVALID_URL";const Rw=null;function pf(t){return ve.isPlainObject(t)||ve.isArray(t)}function G0(t){return ve.endsWith(t,"[]")?t.slice(0,-2):t}function Tx(t,a,l){return t?t.concat(a).map(function(d,m){return d=G0(d),!l&&m?"["+d+"]":d}).join(l?".":""):a}function Lw(t){return ve.isArray(t)&&!t.some(pf)}const Pw=ve.toFlatObject(ve,{},null,function(a){return/^is[A-Z]/.test(a)});function gd(t,a,l){if(!ve.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=ve.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,O){return!ve.isUndefined(O[A])});const o=l.metaTokens,d=l.visitor||S,m=l.dots,p=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(a);if(!ve.isFunction(d))throw new TypeError("visitor must be a function");function b(k){if(k===null)return"";if(ve.isDate(k))return k.toISOString();if(ve.isBoolean(k))return k.toString();if(!v&&ve.isBlob(k))throw new We("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(k)||ve.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,O){let Z=k;if(k&&!O&&typeof k=="object"){if(ve.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(ve.isArray(k)&&Lw(k)||(ve.isFileList(k)||ve.endsWith(A,"[]"))&&(Z=ve.toArray(k)))return A=G0(A),Z.forEach(function(P,G){!(ve.isUndefined(P)||P===null)&&a.append(p===!0?Tx([A],G,m):p===null?A:A+"[]",b(P))}),!1}return pf(k)?!0:(a.append(Tx(O,A,m),b(k)),!1)}const w=[],C=Object.assign(Pw,{defaultVisitor:S,convertValue:b,isVisitable:pf});function z(k,A){if(!ve.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),ve.forEach(k,function(Z,R){(!(ve.isUndefined(Z)||Z===null)&&d.call(a,Z,ve.isString(R)?R.trim():R,A,C))===!0&&z(Z,A?A.concat(R):[R])}),w.pop()}}if(!ve.isObject(t))throw new TypeError("data must be an object");return z(t),a}function Cx(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function Hf(t,a){this._pairs=[],t&&gd(t,this,a)}const V0=Hf.prototype;V0.append=function(a,l){this._pairs.push([a,l])};V0.toString=function(a){const l=a?function(o){return a.call(this,o,Cx)}:Cx;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Bw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Y0(t,a,l){if(!a)return t;const o=l&&l.encode||Bw,d=ve.isFunction(l)?{serialize:l}:l,m=d&&d.serialize;let p;if(m?p=m(a,d):p=ve.isURLSearchParams(a)?a.toString():new Hf(a,d).toString(o),p){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class Ax{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ve.forEach(this.handlers,function(o){o!==null&&a(o)})}}const $0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iw=typeof URLSearchParams<"u"?URLSearchParams:Hf,Uw=typeof FormData<"u"?FormData:null,Zw=typeof Blob<"u"?Blob:null,qw={isBrowser:!0,classes:{URLSearchParams:Iw,FormData:Uw,Blob:Zw},protocols:["http","https","file","blob","url","data"]},Kf=typeof window<"u"&&typeof document<"u",gf=typeof navigator=="object"&&navigator||void 0,Fw=Kf&&(!gf||["ReactNative","NativeScript","NS"].indexOf(gf.product)<0),Hw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kw=Kf&&window.location.href||"http://localhost",Qw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kf,hasStandardBrowserEnv:Fw,hasStandardBrowserWebWorkerEnv:Hw,navigator:gf,origin:Kw},Symbol.toStringTag,{value:"Module"})),Hn={...Qw,...qw};function Gw(t,a){return gd(t,new Hn.classes.URLSearchParams,{visitor:function(l,o,d,m){return Hn.isNode&&ve.isBuffer(l)?(this.append(o,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...a})}function Vw(t){return ve.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Yw(t){const a={},l=Object.keys(t);let o;const d=l.length;let m;for(o=0;o<d;o++)m=l[o],a[m]=t[m];return a}function J0(t){function a(l,o,d,m){let p=l[m++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),v=m>=l.length;return p=!p&&ve.isArray(d)?d.length:p,v?(ve.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!y):((!d[p]||!ve.isObject(d[p]))&&(d[p]=[]),a(l,o,d[p],m)&&ve.isArray(d[p])&&(d[p]=Yw(d[p])),!y)}if(ve.isFormData(t)&&ve.isFunction(t.entries)){const l={};return ve.forEachEntry(t,(o,d)=>{a(Vw(o),d,l,0)}),l}return null}function $w(t,a,l){if(ve.isString(t))try{return(a||JSON.parse)(t),ve.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(t)}const ou={transitional:$0,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,m=ve.isObject(a);if(m&&ve.isHTMLForm(a)&&(a=new FormData(a)),ve.isFormData(a))return d?JSON.stringify(J0(a)):a;if(ve.isArrayBuffer(a)||ve.isBuffer(a)||ve.isStream(a)||ve.isFile(a)||ve.isBlob(a)||ve.isReadableStream(a))return a;if(ve.isArrayBufferView(a))return a.buffer;if(ve.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let y;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Gw(a,this.formSerializer).toString();if((y=ve.isFileList(a))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return gd(y?{"files[]":a}:a,v&&new v,this.formSerializer)}}return m||d?(l.setContentType("application/json",!1),$w(a)):a}],transformResponse:[function(a){const l=this.transitional||ou.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(ve.isResponse(a)||ve.isReadableStream(a))return a;if(a&&ve.isString(a)&&(o&&!this.responseType||d)){const p=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(y){if(p)throw y.name==="SyntaxError"?We.from(y,We.ERR_BAD_RESPONSE,this,null,this.response):y}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],t=>{ou.headers[t]={}});const Jw=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xw=t=>{const a={};let l,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),l=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!l||a[l]&&Jw[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},zx=Symbol("internals");function Fo(t){return t&&String(t).trim().toLowerCase()}function $c(t){return t===!1||t==null?t:ve.isArray(t)?t.map($c):String(t)}function Ww(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(t);)a[o[1]]=o[2];return a}const e2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sh(t,a,l,o,d){if(ve.isFunction(o))return o.call(this,a,l);if(d&&(a=l),!!ve.isString(a)){if(ve.isString(o))return a.indexOf(o)!==-1;if(ve.isRegExp(o))return o.test(a)}}function t2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function n2(t,a){const l=ve.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+l,{value:function(d,m,p){return this[o].call(this,a,d,m,p)},configurable:!0})})}let ca=class{constructor(a){a&&this.set(a)}set(a,l,o){const d=this;function m(y,v,b){const S=Fo(v);if(!S)throw new Error("header name must be a non-empty string");const w=ve.findKey(d,S);(!w||d[w]===void 0||b===!0||b===void 0&&d[w]!==!1)&&(d[w||v]=$c(y))}const p=(y,v)=>ve.forEach(y,(b,S)=>m(b,S,v));if(ve.isPlainObject(a)||a instanceof this.constructor)p(a,l);else if(ve.isString(a)&&(a=a.trim())&&!e2(a))p(Xw(a),l);else if(ve.isObject(a)&&ve.isIterable(a)){let y={},v,b;for(const S of a){if(!ve.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[b=S[0]]=(v=y[b])?ve.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}p(y,l)}else a!=null&&m(l,a,o);return this}get(a,l){if(a=Fo(a),a){const o=ve.findKey(this,a);if(o){const d=this[o];if(!l)return d;if(l===!0)return Ww(d);if(ve.isFunction(l))return l.call(this,d,o);if(ve.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Fo(a),a){const o=ve.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||Sh(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let d=!1;function m(p){if(p=Fo(p),p){const y=ve.findKey(o,p);y&&(!l||Sh(o,o[y],y,l))&&(delete o[y],d=!0)}}return ve.isArray(a)?a.forEach(m):m(a),d}clear(a){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const m=l[o];(!a||Sh(this,this[m],m,a,!0))&&(delete this[m],d=!0)}return d}normalize(a){const l=this,o={};return ve.forEach(this,(d,m)=>{const p=ve.findKey(o,m);if(p){l[p]=$c(d),delete l[m];return}const y=a?t2(m):String(m).trim();y!==m&&delete l[m],l[y]=$c(d),o[y]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return ve.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=a&&ve.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[zx]=this[zx]={accessors:{}}).accessors,d=this.prototype;function m(p){const y=Fo(p);o[y]||(n2(d,p),o[y]=!0)}return ve.isArray(a)?a.forEach(m):m(a),this}};ca.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(ca.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[l]=o}}});ve.freezeMethods(ca);function wh(t,a){const l=this||ou,o=a||l,d=ca.from(o.headers);let m=o.data;return ve.forEach(t,function(y){m=y.call(l,m,d.normalize(),a?a.status:void 0)}),d.normalize(),m}function X0(t){return!!(t&&t.__CANCEL__)}let uu=class extends We{constructor(a,l,o){super(a??"canceled",We.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function W0(t,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?t(l):a(new We("Request failed with status code "+l.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function a2(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function i2(t,a){t=t||10;const l=new Array(t),o=new Array(t);let d=0,m=0,p;return a=a!==void 0?a:1e3,function(v){const b=Date.now(),S=o[m];p||(p=b),l[d]=v,o[d]=b;let w=m,C=0;for(;w!==d;)C+=l[w++],w=w%t;if(d=(d+1)%t,d===m&&(m=(m+1)%t),b-p<a)return;const z=S&&b-S;return z?Math.round(C*1e3/z):void 0}}function s2(t,a){let l=0,o=1e3/a,d,m;const p=(b,S=Date.now())=>{l=S,d=null,m&&(clearTimeout(m),m=null),t(...b)};return[(...b)=>{const S=Date.now(),w=S-l;w>=o?p(b,S):(d=b,m||(m=setTimeout(()=>{m=null,p(d)},o-w)))},()=>d&&p(d)]}const nd=(t,a,l=3)=>{let o=0;const d=i2(50,250);return s2(m=>{const p=m.loaded,y=m.lengthComputable?m.total:void 0,v=p-o,b=d(v),S=p<=y;o=p;const w={loaded:p,total:y,progress:y?p/y:void 0,bytes:v,rate:b||void 0,estimated:b&&y&&S?(y-p)/b:void 0,event:m,lengthComputable:y!=null,[a?"download":"upload"]:!0};t(w)},l)},Mx=(t,a)=>{const l=t!=null;return[o=>a[0]({lengthComputable:l,total:t,loaded:o}),a[1]]},Ox=t=>(...a)=>ve.asap(()=>t(...a)),r2=Hn.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,Hn.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,l2=Hn.hasStandardBrowserEnv?{write(t,a,l,o,d,m,p){if(typeof document>"u")return;const y=[`${t}=${encodeURIComponent(a)}`];ve.isNumber(l)&&y.push(`expires=${new Date(l).toUTCString()}`),ve.isString(o)&&y.push(`path=${o}`),ve.isString(d)&&y.push(`domain=${d}`),m===!0&&y.push("secure"),ve.isString(p)&&y.push(`SameSite=${p}`),document.cookie=y.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function o2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function u2(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function eb(t,a,l){let o=!o2(a);return t&&(o||l==!1)?u2(t,a):a}const Dx=t=>t instanceof ca?{...t}:t;function Tr(t,a){a=a||{};const l={};function o(b,S,w,C){return ve.isPlainObject(b)&&ve.isPlainObject(S)?ve.merge.call({caseless:C},b,S):ve.isPlainObject(S)?ve.merge({},S):ve.isArray(S)?S.slice():S}function d(b,S,w,C){if(ve.isUndefined(S)){if(!ve.isUndefined(b))return o(void 0,b,w,C)}else return o(b,S,w,C)}function m(b,S){if(!ve.isUndefined(S))return o(void 0,S)}function p(b,S){if(ve.isUndefined(S)){if(!ve.isUndefined(b))return o(void 0,b)}else return o(void 0,S)}function y(b,S,w){if(w in a)return o(b,S);if(w in t)return o(void 0,b)}const v={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(b,S,w)=>d(Dx(b),Dx(S),w,!0)};return ve.forEach(Object.keys({...t,...a}),function(S){const w=v[S]||d,C=w(t[S],a[S],S);ve.isUndefined(C)&&w!==y||(l[S]=C)}),l}const tb=t=>{const a=Tr({},t);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:p,auth:y}=a;if(a.headers=p=ca.from(p),a.url=Y0(eb(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),ve.isFormData(l)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ve.isFunction(l.getHeaders)){const v=l.getHeaders(),b=["content-type","content-length"];Object.entries(v).forEach(([S,w])=>{b.includes(S.toLowerCase())&&p.set(S,w)})}}if(Hn.hasStandardBrowserEnv&&(o&&ve.isFunction(o)&&(o=o(a)),o||o!==!1&&r2(a.url))){const v=d&&m&&l2.read(m);v&&p.set(d,v)}return a},c2=typeof XMLHttpRequest<"u",d2=c2&&function(t){return new Promise(function(l,o){const d=tb(t);let m=d.data;const p=ca.from(d.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:b}=d,S,w,C,z,k;function A(){z&&z(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let O=new XMLHttpRequest;O.open(d.method.toUpperCase(),d.url,!0),O.timeout=d.timeout;function Z(){if(!O)return;const P=ca.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),$={data:!y||y==="text"||y==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:P,config:t,request:O};W0(function(K){l(K),A()},function(K){o(K),A()},$),O=null}"onloadend"in O?O.onloadend=Z:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(Z)},O.onabort=function(){O&&(o(new We("Request aborted",We.ECONNABORTED,t,O)),O=null)},O.onerror=function(G){const $=G&&G.message?G.message:"Network Error",Y=new We($,We.ERR_NETWORK,t,O);Y.event=G||null,o(Y),O=null},O.ontimeout=function(){let G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const $=d.transitional||$0;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),o(new We(G,$.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,O)),O=null},m===void 0&&p.setContentType(null),"setRequestHeader"in O&&ve.forEach(p.toJSON(),function(G,$){O.setRequestHeader($,G)}),ve.isUndefined(d.withCredentials)||(O.withCredentials=!!d.withCredentials),y&&y!=="json"&&(O.responseType=d.responseType),b&&([C,k]=nd(b,!0),O.addEventListener("progress",C)),v&&O.upload&&([w,z]=nd(v),O.upload.addEventListener("progress",w),O.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(S=P=>{O&&(o(!P||P.type?new uu(null,t,O):P),O.abort(),O=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const R=a2(d.url);if(R&&Hn.protocols.indexOf(R)===-1){o(new We("Unsupported protocol "+R+":",We.ERR_BAD_REQUEST,t));return}O.send(m||null)})},m2=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let o=new AbortController,d;const m=function(b){if(!d){d=!0,y();const S=b instanceof Error?b:this.reason;o.abort(S instanceof We?S:new uu(S instanceof Error?S.message:S))}};let p=a&&setTimeout(()=>{p=null,m(new We(`timeout of ${a}ms exceeded`,We.ETIMEDOUT))},a);const y=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(b=>{b.unsubscribe?b.unsubscribe(m):b.removeEventListener("abort",m)}),t=null)};t.forEach(b=>b.addEventListener("abort",m));const{signal:v}=o;return v.unsubscribe=()=>ve.asap(y),v}},h2=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let o=0,d;for(;o<l;)d=o+a,yield t.slice(o,d),o=d},f2=async function*(t,a){for await(const l of p2(t))yield*h2(l,a)},p2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},Rx=(t,a,l,o)=>{const d=f2(t,a);let m=0,p,y=v=>{p||(p=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:b,value:S}=await d.next();if(b){y(),v.close();return}let w=S.byteLength;if(l){let C=m+=w;l(C)}v.enqueue(new Uint8Array(S))}catch(b){throw y(b),b}},cancel(v){return y(v),d.return()}},{highWaterMark:2})},Lx=64*1024,{isFunction:zc}=ve,g2=(({Request:t,Response:a})=>({Request:t,Response:a}))(ve.global),{ReadableStream:Px,TextEncoder:Bx}=ve.global,Ix=(t,...a)=>{try{return!!t(...a)}catch{return!1}},y2=t=>{t=ve.merge.call({skipUndefined:!0},g2,t);const{fetch:a,Request:l,Response:o}=t,d=a?zc(a):typeof fetch=="function",m=zc(l),p=zc(o);if(!d)return!1;const y=d&&zc(Px),v=d&&(typeof Bx=="function"?(k=>A=>k.encode(A))(new Bx):async k=>new Uint8Array(await new l(k).arrayBuffer())),b=m&&y&&Ix(()=>{let k=!1;const A=new l(Hn.origin,{body:new Px,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=p&&y&&Ix(()=>ve.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,O)=>{let Z=A&&A[k];if(Z)return Z.call(A);throw new We(`Response type '${k}' is not supported`,We.ERR_NOT_SUPPORT,O)})});const C=async k=>{if(k==null)return 0;if(ve.isBlob(k))return k.size;if(ve.isSpecCompliantForm(k))return(await new l(Hn.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(k)||ve.isArrayBuffer(k))return k.byteLength;if(ve.isURLSearchParams(k)&&(k=k+""),ve.isString(k))return(await v(k)).byteLength},z=async(k,A)=>{const O=ve.toFiniteNumber(k.getContentLength());return O??C(A)};return async k=>{let{url:A,method:O,data:Z,signal:R,cancelToken:P,timeout:G,onDownloadProgress:$,onUploadProgress:Y,responseType:K,headers:Q,withCredentials:ae="same-origin",fetchOptions:ye}=tb(k),ee=a||fetch;K=K?(K+"").toLowerCase():"text";let ue=m2([R,P&&P.toAbortSignal()],G),oe=null;const U=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let le;try{if(Y&&b&&O!=="get"&&O!=="head"&&(le=await z(Q,Z))!==0){let M=new l(A,{method:"POST",body:Z,duplex:"half"}),te;if(ve.isFormData(Z)&&(te=M.headers.get("content-type"))&&Q.setContentType(te),M.body){const[D,H]=Mx(le,nd(Ox(Y)));Z=Rx(M.body,Lx,D,H)}}ve.isString(ae)||(ae=ae?"include":"omit");const q=m&&"credentials"in l.prototype,ie={...ye,signal:ue,method:O.toUpperCase(),headers:Q.normalize().toJSON(),body:Z,duplex:"half",credentials:q?ae:void 0};oe=m&&new l(A,ie);let de=await(m?ee(oe,ye):ee(A,ie));const Te=S&&(K==="stream"||K==="response");if(S&&($||Te&&U)){const M={};["status","statusText","headers"].forEach(ge=>{M[ge]=de[ge]});const te=ve.toFiniteNumber(de.headers.get("content-length")),[D,H]=$&&Mx(te,nd(Ox($),!0))||[];de=new o(Rx(de.body,Lx,D,()=>{H&&H(),U&&U()}),M)}K=K||"text";let W=await w[ve.findKey(w,K)||"text"](de,k);return!Te&&U&&U(),await new Promise((M,te)=>{W0(M,te,{data:W,headers:ca.from(de.headers),status:de.status,statusText:de.statusText,config:k,request:oe})})}catch(q){throw U&&U(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,k,oe),{cause:q.cause||q}):We.from(q,q&&q.code,k,oe)}}},x2=new Map,nb=t=>{let a=t&&t.env||{};const{fetch:l,Request:o,Response:d}=a,m=[o,d,l];let p=m.length,y=p,v,b,S=x2;for(;y--;)v=m[y],b=S.get(v),b===void 0&&S.set(v,b=y?new Map:y2(a)),S=b;return b};nb();const Qf={http:Rw,xhr:d2,fetch:{get:nb}};ve.forEach(Qf,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Ux=t=>`- ${t}`,v2=t=>ve.isFunction(t)||t===null||t===!1;function b2(t,a){t=ve.isArray(t)?t:[t];const{length:l}=t;let o,d;const m={};for(let p=0;p<l;p++){o=t[p];let y;if(d=o,!v2(o)&&(d=Qf[(y=String(o)).toLowerCase()],d===void 0))throw new We(`Unknown adapter '${y}'`);if(d&&(ve.isFunction(d)||(d=d.get(a))))break;m[y||"#"+p]=d}if(!d){const p=Object.entries(m).map(([v,b])=>`adapter ${v} `+(b===!1?"is not supported by the environment":"is not available in the build"));let y=l?p.length>1?`since :
`+p.map(Ux).join(`
`):" "+Ux(p[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d}const ab={getAdapter:b2,adapters:Qf};function Eh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new uu(null,t)}function Zx(t){return Eh(t),t.headers=ca.from(t.headers),t.data=wh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ab.getAdapter(t.adapter||ou.adapter,t)(t).then(function(o){return Eh(t),o.data=wh.call(t,t.transformResponse,o),o.headers=ca.from(o.headers),o},function(o){return X0(o)||(Eh(t),o&&o.response&&(o.response.data=wh.call(t,t.transformResponse,o.response),o.response.headers=ca.from(o.response.headers))),Promise.reject(o)})}const ib="1.13.4",yd={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{yd[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const qx={};yd.transitional=function(a,l,o){function d(m,p){return"[Axios v"+ib+"] Transitional option '"+m+"'"+p+(o?". "+o:"")}return(m,p,y)=>{if(a===!1)throw new We(d(p," has been removed"+(l?" in "+l:"")),We.ERR_DEPRECATED);return l&&!qx[p]&&(qx[p]=!0,console.warn(d(p," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(m,p,y):!0}};yd.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function _2(t,a,l){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const m=o[d],p=a[m];if(p){const y=t[m],v=y===void 0||p(y,m,t);if(v!==!0)throw new We("option "+m+" must be "+v,We.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new We("Unknown option "+m,We.ERR_BAD_OPTION)}}const Jc={assertOptions:_2,validators:yd},vi=Jc.validators;let wr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Ax,response:new Ax}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Tr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:m}=l;o!==void 0&&Jc.assertOptions(o,{silentJSONParsing:vi.transitional(vi.boolean),forcedJSONParsing:vi.transitional(vi.boolean),clarifyTimeoutError:vi.transitional(vi.boolean)},!1),d!=null&&(ve.isFunction(d)?l.paramsSerializer={serialize:d}:Jc.assertOptions(d,{encode:vi.function,serialize:vi.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Jc.assertOptions(l,{baseUrl:vi.spelling("baseURL"),withXsrfToken:vi.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=m&&ve.merge(m.common,m[l.method]);m&&ve.forEach(["delete","get","head","post","put","patch","common"],k=>{delete m[k]}),l.headers=ca.concat(p,m);const y=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,y.unshift(A.fulfilled,A.rejected))});const b=[];this.interceptors.response.forEach(function(A){b.push(A.fulfilled,A.rejected)});let S,w=0,C;if(!v){const k=[Zx.bind(this),void 0];for(k.unshift(...y),k.push(...b),C=k.length,S=Promise.resolve(l);w<C;)S=S.then(k[w++],k[w++]);return S}C=y.length;let z=l;for(;w<C;){const k=y[w++],A=y[w++];try{z=k(z)}catch(O){A.call(this,O);break}}try{S=Zx.call(this,z)}catch(k){return Promise.reject(k)}for(w=0,C=b.length;w<C;)S=S.then(b[w++],b[w++]);return S}getUri(a){a=Tr(this.defaults,a);const l=eb(a.baseURL,a.url,a.allowAbsoluteUrls);return Y0(l,a.params,a.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(a){wr.prototype[a]=function(l,o){return this.request(Tr(o||{},{method:a,url:l,data:(o||{}).data}))}});ve.forEach(["post","put","patch"],function(a){function l(o){return function(m,p,y){return this.request(Tr(y||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}wr.prototype[a]=l(),wr.prototype[a+"Form"]=l(!0)});let N2=class sb{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const p=new Promise(y=>{o.subscribe(y),m=y}).then(d);return p.cancel=function(){o.unsubscribe(m)},p},a(function(m,p,y){o.reason||(o.reason=new uu(m,p,y),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new sb(function(d){a=d}),cancel:a}}};function j2(t){return function(l){return t.apply(null,l)}}function S2(t){return ve.isObject(t)&&t.isAxiosError===!0}const yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yf).forEach(([t,a])=>{yf[a]=t});function rb(t){const a=new wr(t),l=B0(wr.prototype.request,a);return ve.extend(l,wr.prototype,a,{allOwnKeys:!0}),ve.extend(l,a,null,{allOwnKeys:!0}),l.create=function(d){return rb(Tr(t,d))},l}const Qt=rb(ou);Qt.Axios=wr;Qt.CanceledError=uu;Qt.CancelToken=N2;Qt.isCancel=X0;Qt.VERSION=ib;Qt.toFormData=gd;Qt.AxiosError=We;Qt.Cancel=Qt.CanceledError;Qt.all=function(a){return Promise.all(a)};Qt.spread=j2;Qt.isAxiosError=S2;Qt.mergeConfig=Tr;Qt.AxiosHeaders=ca;Qt.formToJSON=t=>J0(ve.isHTMLForm(t)?new FormData(t):t);Qt.getAdapter=ab.getAdapter;Qt.HttpStatusCode=yf;Qt.default=Qt;const{Axios:R3,AxiosError:L3,CanceledError:P3,isCancel:B3,CancelToken:I3,VERSION:U3,all:Z3,Cancel:q3,isAxiosError:F3,spread:H3,toFormData:K3,AxiosHeaders:Q3,HttpStatusCode:G3,formToJSON:V3,getAdapter:Y3,mergeConfig:$3}=Qt,Gf="puantaj_access_token",ad="puantaj_refresh_token";function lb(){return localStorage.getItem(Gf)}function xf(){return localStorage.getItem(ad)}function vf(t,a){if(localStorage.setItem(Gf,t),a){localStorage.setItem(ad,a);return}localStorage.removeItem(ad)}function ob(){localStorage.removeItem(Gf),localStorage.removeItem(ad)}function w2(t){try{const a=t.split(".")[1];if(!a)return null;const l=a.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function E2(t){if(!t)return!1;const a=w2(t);if(!a?.exp)return!1;const l=Math.floor(Date.now()/1e3);return a.exp>l+10}const bf="http://127.0.0.1:8000",k2=bf.includes("127.0.0.1")||bf.includes("localhost"),T2=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Vf=T2&&k2?window.location.origin:bf,kh="/admin-panel/",Mc=kh.endsWith("/")?kh.slice(0,-1):kh,Me=Qt.create({baseURL:Vf,headers:{"Content-Type":"application/json"}}),C2=Qt.create({baseURL:Vf,headers:{"Content-Type":"application/json"}});function Fx(){if(ob(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,a=Mc&&t.startsWith(Mc)?t.slice(Mc.length)||"/":t;if(a==="/login"||a.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Mc}/login?redirect=${encodeURIComponent(a)}`;window.location.replace(l)}Me.interceptors.request.use(t=>{const a=lb();return a&&(t.headers.Authorization=`Bearer ${a}`),t});let Oc=null;async function A2(){const t=xf();if(!t)return Fx(),null;try{const a=await Qt.post(`${Vf}/api/admin/auth/refresh`,{refresh_token:t});return vf(a.data.access_token,a.data.refresh_token??t),a.data.access_token}catch{return Fx(),null}}Me.interceptors.response.use(t=>t,async t=>{const a=t.config;if(!a||t.response?.status!==401||a._retry)return Promise.reject(t);const o=a.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);a._retry=!0,Oc||(Oc=A2().finally(()=>{Oc=null}));const m=await Oc;return m?(a.headers.Authorization=`Bearer ${m}`,Me(a)):Promise.reject(t)});async function z2(t){return(await Me.post("/api/admin/auth/login",t)).data}async function M2(t){return(await Me.post("/api/admin/auth/refresh",t)).data}async function O2(t){return(await Me.post("/api/admin/auth/logout",t)).data}async function Th(){return(await Me.get("/api/admin/auth/me")).data}async function ub(){return(await Me.get("/api/admin/admin-users")).data}async function xd(t){return(await Me.get("/api/admin/regions",{params:t})).data}async function D2(t){return(await Me.post("/api/admin/regions",t)).data}async function R2(t,a){return(await Me.patch(`/api/admin/regions/${t}`,a)).data}async function L2(t){return(await Me.post("/api/admin/admin-users",t)).data}async function P2(t,a){return(await Me.patch(`/api/admin/admin-users/${t}`,a)).data}async function B2(t){await Me.delete(`/api/admin/admin-users/${t}`)}async function Ps(){return(await Me.get("/admin/departments")).data}async function I2(t){return(await Me.get("/admin/departments",{params:t})).data}async function U2(t){return(await Me.post("/admin/departments",t)).data}async function Z2(t,a){return(await Me.patch(`/admin/departments/${t}`,a)).data}async function ii(t={}){return(await Me.get("/admin/employees",{params:t})).data}async function q2(t){return(await Me.post("/admin/employees",t)).data}async function F2(t){return(await Me.get(`/api/admin/employees/${t}/detail`)).data}async function H2(t,a){return(await Me.patch(`/api/admin/employees/${t}`,a)).data}async function cb(t,a){return(await Me.patch(`/api/admin/employees/${t}/active`,a)).data}async function K2(t,a){return(await Me.patch(`/api/admin/employees/${t}/shift`,a)).data}async function Q2(t,a){return(await Me.patch(`/api/admin/employees/${t}/department`,a)).data}async function G2(t,a){return(await Me.put(`/admin/employee-locations/${t}`,a)).data}async function V2(){return(await Me.get("/admin/work-rules")).data}async function Y2(t){return(await Me.post("/admin/work-rules",t)).data}async function db(t){return(await Me.get("/admin/department-weekly-rules",{params:t})).data}async function mb(t){return(await Me.post("/admin/department-weekly-rules",t)).data}async function cu(t){return(await Me.get("/admin/department-shifts",{params:t})).data}async function id(t){return(await Me.post("/admin/department-shifts",t)).data}async function hb(t){return(await Me.delete(`/admin/department-shifts/${t}`)).data}async function $2(t={}){return(await Me.get("/api/admin/qr/codes",{params:t})).data}async function J2(t){return(await Me.post("/api/admin/qr/codes",t)).data}async function X2(t,a){return(await Me.patch(`/api/admin/qr/codes/${t}`,a)).data}async function W2(t,a){return(await Me.post(`/api/admin/qr/codes/${t}/points`,a)).data}async function eE(t,a){return(await Me.delete(`/api/admin/qr/codes/${t}/points/${a}`)).data}async function tE(t={}){return(await Me.get("/api/admin/qr/points",{params:t})).data}async function nE(t){return(await Me.post("/api/admin/qr/points",t)).data}async function aE(t,a){return(await Me.patch(`/api/admin/qr/points/${t}`,a)).data}async function iE(t){return(await Me.delete(`/api/admin/qr/points/${t}`)).data}async function Hx(t){return(await Me.post("/api/admin/schedule-plans",t)).data}async function sE(t={}){return(await Me.get("/api/admin/schedule-plans",{params:t})).data}async function rE(t){return(await Me.delete(`/api/admin/schedule-plans/${t}`)).data}async function Yf(t={}){return(await Me.get("/admin/attendance-events",{params:t})).data}async function lE(t){return(await Me.post("/api/admin/attendance-events",t)).data}async function oE(t,a){return(await Me.patch(`/api/admin/attendance-events/${t}`,a)).data}async function uE(t,a=!1){return(await Me.delete(`/api/admin/attendance-events/${t}`,{params:{force:a}})).data}async function fb(t={}){return(await Me.get("/api/admin/audit-logs",{params:t})).data}async function cE(t={}){return(await Me.get("/api/admin/notifications/jobs",{params:t})).data}async function dE(t={}){return(await Me.get("/api/admin/notifications/delivery-logs",{params:t})).data}async function mE(t){return(await Me.post(`/api/admin/notifications/jobs/${t}/cancel`)).data}async function hE(t={}){return(await Me.get("/api/admin/notifications/subscriptions",{params:t})).data}async function fE(t={}){return(await Me.get("/api/admin/notifications/admin-subscriptions",{params:t})).data}async function pb(){return(await Me.get("/api/admin/notifications/push/config")).data}async function pE(t){return(await Me.post("/api/admin/notifications/admin-device-invite",t)).data}async function gE(t){return(await Me.post("/api/admin/notifications/admin-device-claim",t)).data}async function gb(t){return(await Me.post("/api/admin/notifications/send",t)).data}async function yE(t={}){return(await Me.get("/api/admin/daily-report-archives",{params:t})).data}function xE(t){if(!t)return null;const a=t.match(/filename\*=UTF-8''([^;]+)/i);if(a?.[1])try{return decodeURIComponent(a[1].trim())}catch{return a[1].trim()}const l=t.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function vE(t){return(await Me.get(`/api/admin/daily-report-archives/${t}/download`,{responseType:"blob"})).data}async function bE(t,a){const l=await C2.post(`/api/admin/daily-report-archives/${t}/password-download`,a,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:xE(o)}}async function _E(t,a={}){return(await Me.post(`/api/admin/daily-report-archives/${t}/notify`,a)).data}async function yb(){return(await Me.get("/admin/devices")).data}async function _f(t={}){return(await Me.get("/api/admin/employee-device-overview",{params:t})).data}async function xb(t){return(await Me.get("/api/admin/dashboard/employee-snapshot",{params:t})).data}async function NE(t,a){return(await Me.patch(`/api/admin/devices/${t}/active`,a)).data}async function vb(t={}){return(await Me.get("/api/admin/leaves",{params:t})).data}async function jE(t){return(await Me.post("/api/admin/leaves",t)).data}async function SE(t){await Me.delete(`/api/admin/leaves/${t}`)}async function bb(t){return(await Me.post("/api/admin/device-invite",t)).data}async function Wo(t){return(await Me.get("/api/admin/monthly/employee",{params:t})).data}async function wE(t){return(await Me.get("/api/admin/monthly/department-summary",{params:t})).data}async function EE(t,a){return(await Me.post("/api/admin/manual-overrides/day",a,{params:{employee_id:t}})).data}async function kE(t,a,l){return(await Me.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:a,month:l}})).data}async function TE(t){await Me.delete(`/api/admin/manual-overrides/day/${t}`)}async function CE(){return(await Me.get("/api/admin/compliance-settings")).data}async function AE(t){return(await Me.put("/api/admin/compliance-settings",t)).data}async function zE(t){return(await Me.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function ME(t){return(await Me.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function OE(t){return(await Me.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function DE(t){return(await Me.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function RE(t){return(await Me.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const _b=N.createContext(void 0);function LE({children:t}){const[a,l]=N.useState(null),[o,d]=N.useState(!0),m=N.useCallback(()=>{ob(),l(null)},[]),p=N.useCallback(async()=>{const w=xf();if(!w)return m(),!1;try{const C=await M2({refresh_token:w});vf(C.access_token,C.refresh_token??w);const z=await Th();return l(z),!0}catch{return m(),!1}},[m]),y=N.useCallback(async()=>{const w=lb();if(!w){l(null),d(!1);return}if(E2(w)){try{const C=await Th();l(C)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);N.useEffect(()=>{y()},[y]),N.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=N.useCallback(async(w,C)=>{const z=await z2({username:w,password:C});vf(z.access_token,z.refresh_token);const k=await Th();l(k)},[]),b=N.useCallback(async()=>{const w=xf();if(w)try{await O2({refresh_token:w})}catch{}m()},[m]),S=N.useMemo(()=>({user:a,isAuthenticated:!!a,isBootstrapping:o,isSuperAdmin:!!a?.is_super_admin,login:v,logout:b,refreshSession:p,hasPermission:(w,C="read")=>{if(!a)return!1;if(a.is_super_admin)return!0;const z=a.permissions?.[w];return z?C==="write"?!!z.write:!!(z.read||z.write):!1}}),[a,o,v,b,p]);return i.jsx(_b.Provider,{value:S,children:t})}function zr(){const t=N.useContext(_b);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const PE=[{to:"/management-console",label:"Ynetim Konsolu"},{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Blgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],BE={"/management-console":"Ynetim Konsolu","/dashboard":"Genel Bak","/regions":"Blgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function IE(){const t=Za(),{user:a,logout:l,hasPermission:o}=zr(),d=N.useRef(null),m=N.useRef(null),p=N.useRef(!1),y=N.useRef(null),[v,b]=N.useState(!1),[S,w]=N.useState("erie geiliyor..."),C=PE.filter(P=>!P.permission||o(P.permission)),z=BE[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel"),k=()=>typeof window<"u"&&window.innerWidth<1024,A=()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},O=(P,G)=>{w(G),b(!0),P==="content"?m.current?.scrollIntoView({behavior:"smooth",block:"start"}):d.current?.scrollIntoView({behavior:"smooth",block:"start"}),A(),y.current=window.setTimeout(()=>{b(!1)},1200)},Z=P=>{if(k()){if(t.pathname===P){window.requestAnimationFrame(()=>{O("content","erie geiliyor...")});return}w("erie geiliyor..."),b(!0),p.current=!0}},R=()=>{k()&&window.requestAnimationFrame(()=>{O("sidebar","Sidebar'a dnlyor...")})};return N.useEffect(()=>{k()&&window.scrollTo({top:0})},[]),N.useEffect(()=>{p.current&&(p.current=!1,window.requestAnimationFrame(()=>{O("content","erie geiliyor...")}))},[t.pathname]),N.useEffect(()=>()=>{A()},[]),i.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[v?i.jsxs("div",{className:"mobile-nav-loader lg:hidden",role:"status","aria-live":"polite","aria-label":"Sayfa geii",children:[i.jsxs("div",{className:"mobile-nav-loader-logo","aria-hidden":"true",children:[i.jsx("div",{className:"mobile-nav-loader-halo"}),i.jsx("div",{className:"mobile-nav-loader-ring"}),i.jsx("div",{className:"mobile-nav-loader-spark"}),i.jsxs("div",{className:"mobile-nav-loader-core",children:[i.jsx("span",{className:"mobile-nav-loader-brand",children:"YABUJIN"}),i.jsx("span",{className:"mobile-nav-loader-sub",children:"CONTROL CORE"})]})]}),i.jsx("p",{className:"mobile-nav-loader-text",children:S})]}):null,i.jsxs("aside",{ref:d,className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[i.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),i.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),i.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:C.map(P=>i.jsx(L0,{to:P.to,onClick:()=>Z(P.to),className:({isActive:G})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${G?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:P.label},P.to))}),i.jsxs("div",{className:"admin-signature",children:[i.jsx("p",{className:"admin-signature-main",children:Ni.signatureText}),i.jsx("p",{className:"admin-signature-sub",children:Ni.signatureTagline})]})]}),i.jsxs("div",{ref:m,className:"flex min-h-screen flex-col",children:[i.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-4 py-4 backdrop-blur sm:px-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:z}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",a?.username??a?.sub??"admin"," / Rol: ",a?.role??"admin"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:R,className:"btn-animated rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100 lg:hidden",children:"Sidebar'a Git"}),i.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})]})}),i.jsx("main",{className:"admin-main flex-1 p-4 sm:p-6",children:i.jsx(If,{})}),i.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[i.jsx("span",{className:"admin-footer-brand",children:Ni.signatureText}),i.jsx("span",{className:"admin-footer-sub",children:Ni.signatureTagline}),i.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",Ni.buildVersion]})]})]})]})}function UE(){const{isAuthenticated:t,isBootstrapping:a}=zr(),l=Za();if(a)return i.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${l.pathname}${l.search}`;return i.jsx(Bf,{to:"/login",replace:!0,state:{from:o}})}return i.jsx(If,{})}function ZE(){const{isAuthenticated:t,isBootstrapping:a}=zr();return a?i.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?i.jsx(Bf,{to:"/dashboard",replace:!0}):i.jsx(If,{})}const Kx={INVALID_CREDENTIALS:"Kullanc adi veya ifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giri yapin.",FORBIDDEN:"Bu islem iin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin."};function Ie(t,a){if(Qt.isAxiosError(t)){const l=t.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,m=l?.error?.message;if(o&&Kx[o])return{code:o,requestId:d,message:Kx[o]};if(m)return{code:o,requestId:d,message:m};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:a}}function qE(t,a){return Ie(t,a).message}function FE(t){const a="=".repeat((4-t.length%4)%4),l=`${t}${a}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let m=0;m<o.length;m+=1)d[m]=o.charCodeAt(m);return d}const Qx="pf_admin_push_vapid_public_key";function HE(){const t=Ll(),[a]=qf(),{login:l}=zr(),o=N.useMemo(()=>a.get("token")?.trim()??"",[a]),[d,m]=N.useState("admin"),[p,y]=N.useState(""),[v,b]=N.useState(!1),[S,w]=N.useState(null),[C,z]=N.useState(null),[k,A]=N.useState(null),O=async Z=>{if(Z.preventDefault(),z(null),A(null),w(null),!o){z("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const R=d.trim(),P=p.trim();if(!R||!P){z("Admin kullanc ad ve ifre zorunludur.");return}try{b(!0),await l(R,P);const G=await pb();if(!G.enabled||!G.vapid_public_key){z("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){z("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){z("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const K=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let Q=await K.pushManager.getSubscription();const ae=window.localStorage.getItem(Qx);if(Q&&ae&&ae!==G.vapid_public_key){try{await Q.unsubscribe()}catch{}Q=null}Q||(Q=await K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FE(G.vapid_public_key)})),await gE({token:o,subscription:Q.toJSON()}),window.localStorage.setItem(Qx,G.vapid_public_key),w("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{t("/notifications",{replace:!0})},1e3)}catch(G){const $=Ie(G,"Cihaz balama ilemi baarsz oldu.");z($.message),A($.requestId??null)}finally{b(!1)}};return i.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[i.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),i.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),i.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",o||"Bulunamad"]}),i.jsxs("form",{className:"mt-4 space-y-3",onSubmit:O,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",i.jsx("input",{value:d,onChange:Z=>m(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",i.jsx("input",{type:"password",value:p,onChange:Z=>y(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),C?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[i.jsx("p",{children:C}),k?i.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",k]}):null]}):null,S?i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:S}):null,i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"submit",disabled:v,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:v?"Balanyor...":"Cihaz Bala"}),i.jsx(ni,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function Dc(t){return`#${t.id} - ${t.full_name}`}function Ia({label:t,employees:a,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:m="Seiniz",helperText:p,disabled:y=!1,className:v=""}){const b=N.useMemo(()=>a.find(O=>String(O.id)===l),[a,l]),[S,w]=N.useState(b?Dc(b):""),[C,z]=N.useState(!1);N.useEffect(()=>{if(b){w(Dc(b));return}l||w("")},[b,l]);const k=N.useMemo(()=>{const O=S.trim().toLowerCase();return(O?a.filter(R=>{const P=R.full_name.toLowerCase().includes(O),G=String(R.id).includes(O.replace("#",""));return P||G}):a).slice(0,60)},[a,S]),A=O=>{o(String(O.id)),w(Dc(O)),z(!1)};return i.jsxs("div",{className:v,children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[t,i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:S,disabled:y,onFocus:()=>z(!0),onChange:O=>{const Z=O.target.value;w(Z),z(!0),Z.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),i.jsx("button",{type:"button",disabled:y,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?i.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[i.jsx("button",{type:"button",onMouseDown:O=>O.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:i.jsx("span",{children:m})}),k.map(O=>i.jsxs("button",{type:"button",onMouseDown:Z=>Z.preventDefault(),onClick:()=>A(O),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[i.jsx("span",{children:Dc(O)}),O.is_active?null:i.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},O.id)),k.length===0?i.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function Nt({message:t}){return i.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function At({label:t="Ykleniyor..."}){return i.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[i.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),i.jsx("span",{children:t})]})}function KE(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function Nb(t){const a=KE(t),l=Math.floor(a/60),o=a%60;return{hours:l,minutes:o}}function QE(t){const{hours:a,minutes:l}=Nb(t),o=String(a).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function GE(t){const{hours:a,minutes:l}=Nb(t);return a===0?`${l}dk`:`${a}s ${l}dk`}function Xc(t){return`${QE(t)} (${GE(t)})`}function De({minutes:t}){return i.jsx("span",{className:"whitespace-nowrap",children:Xc(t)})}function eu({open:t,title:a,onClose:l,children:o}){return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:i.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:a}),i.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function En({title:t,description:a,action:l}){return i.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),a?i.jsx("p",{className:"mt-1 text-sm text-slate-600",children:a}):null]}),l]})}function Ae({children:t,className:a=""}){return i.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${a}`,children:t})}function jb({suspicious:t,label:a="Supheli",tooltip:l}){return t?i.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:a}):i.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const VE={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function _i(t){return VE[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function YE(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function $E(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function Sb({reasons:t}){return t.length===0?i.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):i.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(a=>i.jsx("span",{title:_i(a).description,className:$E(_i(a).tone),children:_i(a).label},a))})}const wb=N.createContext(void 0);function JE(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function XE({children:t}){const[a,l]=N.useState([]),o=N.useCallback(p=>{l(y=>y.map(v=>v.id===p?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(y=>y.filter(v=>v.id!==p))},170)},[]),d=N.useCallback(p=>{const y=crypto.randomUUID(),v={id:y,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};l(b=>[...b,v]),window.setTimeout(()=>{o(y)},v.durationMs)},[o]),m=N.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return i.jsxs(wb.Provider,{value:m,children:[t,i.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:a.map(p=>i.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${JE(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?i.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),i.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function Ln(){const t=N.useContext(wb);return t||{pushToast:()=>{},removeToast:()=>{}}}function WE(t){const[a,l,o]=t.split("-"),d=Number(a),m=Number(l),p=Number(o);return!Number.isInteger(d)||!Number.isInteger(m)||!Number.isInteger(p)?new Date("invalid"):new Date(Date.UTC(d,m-1,p))}function e1(t){return t.leave_type==="PUBLIC_HOLIDAY"||t.flags.includes("PUBLIC_HOLIDAY")}function t1(t){return t.worked_minutes>0?!0:!!(t.in||t.out)}function vd(t){if(e1(t))return{key:"SPECIAL",label:"zel Gn"};const a=WE(t.date);return!Number.isNaN(a.getTime())&&a.getUTCDay()===0?{key:"SUNDAY",label:"Pazar"}:{key:"WEEKDAY",label:"Hafta i"}}function $f(t){const a={workedMinutes:0,overtimeMinutes:0,planOvertimeMinutes:0,legalExtraWorkMinutes:0,workedDayCount:0,overtimeDayCount:0,planOvertimeDayCount:0,sundayWorkedDayCount:0,weekdayWorkedDayCount:0,specialWorkedDayCount:0,sundayWorkedMinutes:0,weekdayWorkedMinutes:0,specialWorkedMinutes:0};for(const l of t){const o=l.plan_overtime_minutes??l.overtime_minutes,d=l.legal_extra_work_minutes??0,m=l.legal_overtime_minutes??l.overtime_minutes;if(a.workedMinutes+=l.worked_minutes,a.planOvertimeMinutes+=o,a.legalExtraWorkMinutes+=d,a.overtimeMinutes+=m,t1(l)){a.workedDayCount+=1;const y=vd(l);y.key==="SPECIAL"?(a.specialWorkedDayCount+=1,a.specialWorkedMinutes+=l.worked_minutes):y.key==="SUNDAY"?(a.sundayWorkedDayCount+=1,a.sundayWorkedMinutes+=l.worked_minutes):(a.weekdayWorkedDayCount+=1,a.weekdayWorkedMinutes+=l.worked_minutes)}o>0&&(a.planOvertimeDayCount+=1),m>0&&(a.overtimeDayCount+=1)}return a}const n1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],a1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Rc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function Go(t,a){return t[a]===!0}function Gx(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const a=Number(t.trim());if(Number.isInteger(a)&&a>0)return a}return null}function Lc(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function i1(t){const a=new Date(t);return new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function s1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function Ch(t){const a=[],l=t.flags.reason==="home_location_not_set";return Go(t.flags,"DUPLICATE_EVENT")&&a.push("DUPLICATE_EVENT"),Go(t.flags,"MANUAL_CHECKOUT")&&a.push("MANUAL_CHECKOUT"),Go(t.flags,"NEEDS_SHIFT_REVIEW")&&a.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&a.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&!l&&a.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||Go(t.flags,"ADMIN_MANUAL"))&&a.push("ADMIN_MANUAL_EVENT"),a}function Ah(t){const a=Number(t);return Number.isInteger(a)&&a>0?a:null}function r1(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(Rc),[d,m]=N.useState(Rc),[p,y]=N.useState(""),[v,b]=N.useState("IN"),[S,w]=N.useState(""),[C,z]=N.useState(""),[k,A]=N.useState(""),[O,Z]=N.useState(!1),[R,P]=N.useState(null),[G,$]=N.useState("IN"),[Y,K]=N.useState(""),[Q,ae]=N.useState(""),[ye,ee]=N.useState(""),[ue,oe]=N.useState(!1),[U,le]=N.useState(!1),[q,ie]=N.useState(null),[de,Te]=N.useState(!1),W=Le({queryKey:["employees","all"],queryFn:()=>ii({status:"all",include_inactive:!0})}),M=Le({queryKey:["departments"],queryFn:Ps}),te=Le({queryKey:["department-shifts","all"],queryFn:()=>cu({active_only:!1})}),D=N.useMemo(()=>{const ne=Number(d.employeeId),V=Number(d.departmentId),He=Number(d.limit);return{employee_id:ne>0?ne:void 0,department_id:V>0?V:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:He>0?He:200}},[d]),H=Le({queryKey:["attendance-events",D],queryFn:()=>Yf(D)}),ge=Le({queryKey:["audit-logs","attendance-events"],queryFn:()=>fb({entity_type:"attendance_event",limit:50})}),je=Number(d.employeeId),ze=N.useMemo(()=>{const ne=d.dateFrom||d.dateTo;if(!ne)return new Date;const V=new Date(`${ne}T00:00:00`);return Number.isNaN(V.getTime())?new Date:V},[d.dateFrom,d.dateTo]),qe=Le({queryKey:["attendance-events-monthly-summary",je,ze.getFullYear(),ze.getMonth()+1],queryFn:()=>Wo({employee_id:je,year:ze.getFullYear(),month:ze.getMonth()+1}),enabled:Number.isInteger(je)&&je>0,staleTime:15e3}),Ve=Ye({mutationFn:lE,onSuccess:()=>{a({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),Z(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:ne=>{a({variant:"error",title:"Kayt oluturulamad",description:Ie(ne,"lem baarsz.").message})}}),et=Ye({mutationFn:({eventId:ne,payload:V})=>oE(ne,V),onSuccess:()=>{a({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),P(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:ne=>{a({variant:"error",title:"Event gncellenemedi",description:Ie(ne,"lem baarsz.").message})}}),Ne=Ye({mutationFn:({eventId:ne,force:V})=>uE(ne,V),onSuccess:()=>{a({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),ie(null),Te(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:ne=>{a({variant:"error",title:"Silme baarsz",description:Ie(ne,"lem baarsz.").message})}}),ct=W.data??[],yt=M.data??[],it=te.data??[],Gt=H.data??[],Ht=N.useMemo(()=>(qe.data?.days??[]).filter(V=>!(d.dateFrom&&V.date<d.dateFrom||d.dateTo&&V.date>d.dateTo)),[qe.data?.days,d.dateFrom,d.dateTo]),lt=N.useMemo(()=>$f(Ht),[Ht]),Kt=N.useMemo(()=>new Map(ct.map(ne=>[ne.id,ne])),[ct]),pn=N.useMemo(()=>new Map(ct.map(ne=>[ne.id,ne.full_name])),[ct]),X=N.useMemo(()=>new Map(yt.map(ne=>[ne.id,ne.name])),[yt]),Ce=N.useMemo(()=>new Map(it.map(ne=>[ne.id,ne])),[it]),Ke=N.useMemo(()=>Kt.get(Number(p)),[Kt,p]),_t=N.useMemo(()=>Ke?.department_id?it.filter(ne=>ne.department_id===Ke.department_id):it,[Ke?.department_id,it]),jt=N.useMemo(()=>{if(!R)return it;const ne=Kt.get(R.employee_id);return ne?.department_id?it.filter(V=>V.department_id===ne.department_id):it},[Kt,R,it]),dt=N.useMemo(()=>d.suspiciousOnly?Gt.filter(ne=>Ch(ne).length>0):Gt,[Gt,d.suspiciousOnly]),be=()=>m({...l}),Ue=()=>{o(Rc),m(Rc)},mt=ne=>{ne.preventDefault();const V=Ah(p);if(!V||!S){a({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const He=Ah(k);Ve.mutate({employee_id:V,type:v,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:He??void 0,allow_duplicate:O})},Je=ne=>{P(ne),$(ne.type),K(i1(ne.ts_utc)),ae(ne.note??""),oe(!1),le(!1),ee(String(Gx(ne.flags.SHIFT_ID)??""))},sn=ne=>{if(ne.preventDefault(),!R||!Y)return;const V=Ah(ye);et.mutate({eventId:R.id,payload:{type:G,ts_utc:new Date(Y).toISOString(),note:Q||null,shift_id:V??void 0,allow_duplicate:ue,force_edit:U}})};return W.isLoading||M.isLoading||te.isLoading?i.jsx(At,{}):W.isError||M.isError||te.isError?i.jsx(Nt,{message:"alan/departman/vardiya bilgileri alnamad."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[i.jsx(Ia,{label:"alan",employees:ct,value:l.employeeId,onChange:ne=>o(V=>({...V,employeeId:ne})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l.departmentId,onChange:ne=>o(V=>({...V,departmentId:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tm"}),yt.map(ne=>i.jsxs("option",{value:ne.id,children:["#",ne.id," - ",ne.name]},ne.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",i.jsx("input",{type:"date",value:l.dateFrom,onChange:ne=>o(V=>({...V,dateFrom:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",i.jsx("input",{type:"date",value:l.dateTo,onChange:ne=>o(V=>({...V,dateTo:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsx("select",{value:l.eventType,onChange:ne=>o(V=>({...V,eventType:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:a1.map(ne=>i.jsx("option",{value:ne.value,children:ne.label},ne.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",i.jsx("select",{value:l.locationStatus,onChange:ne=>o(V=>({...V,locationStatus:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:n1.map(ne=>i.jsx("option",{value:ne.value,children:ne.label},ne.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",i.jsx("input",{type:"number",value:l.limit,onChange:ne=>o(V=>({...V,limit:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:ne=>o(V=>({...V,duplicatesOnly:ne.target.checked}))}),"Sadece mkerrer"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:ne=>o(V=>({...V,suspiciousOnly:ne.target.checked}))}),"Sadece pheli"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:ne=>o(V=>({...V,includeDeleted:ne.target.checked}))}),"Silinenleri gster"]})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx("button",{type:"button",onClick:be,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:Ue,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),i.jsxs("form",{onSubmit:mt,className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsx(Ia,{label:"alan",employees:ct,value:p,onChange:y,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsxs("select",{value:v,onChange:ne=>b(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"IN",children:"IN (Giri)"}),i.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",i.jsx("input",{type:"datetime-local",value:S,onChange:ne=>w(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:k,onChange:ne=>A(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Otomatik/bo"}),_t.map(ne=>i.jsxs("option",{value:ne.id,children:["#",ne.id," - ",ne.name," (",ne.start_time_local,"-",ne.end_time_local,")"]},ne.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",i.jsx("input",{type:"text",value:C,onChange:ne=>z(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[i.jsx("input",{type:"checkbox",checked:O,onChange:ne=>Z(ne.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:Ve.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ve.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Puantaj Analiz Ozeti"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Secili calisan icin saat bazli net calisma, fazla mesai ve gun tipi kirilimlari."})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Ay: ",ze.getFullYear(),"-",String(ze.getMonth()+1).padStart(2,"0")]})]}),je?qe.isLoading?i.jsx(At,{}):qe.isError?i.jsx(Nt,{message:Ie(qe.error,"Puantaj analiz ozeti alinamadi.").message}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-5",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Net calisma"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:lt.workedMinutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Plan ustu sure"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:lt.planOvertimeMinutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[lt.planOvertimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal fazla mesai"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:lt.overtimeMinutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[lt.overtimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:lt.workedDayCount}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",lt.weekdayWorkedDayCount]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Pazar / Ozel"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[lt.sundayWorkedDayCount," / ",lt.specialWorkedDayCount," gun"]})]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Gun Tipi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Calisma"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),i.jsx("tbody",{children:Ht.map(ne=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ne.date}),i.jsx("td",{className:"py-2",children:vd(ne).label}),i.jsx("td",{className:"py-2",children:ne.status}),i.jsx("td",{className:"py-2",children:ne.in?Lc(ne.in):"-"}),i.jsx("td",{className:"py-2",children:ne.out?Lc(ne.out):"-"}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ne.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ne.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ne.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:ne.legal_overtime_minutes})}),i.jsx("td",{className:"py-2 text-xs text-slate-600",children:ne.flags.length?ne.flags.join(", "):"-"})]},ne.date))})]}),Ht.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Secili aralikta puantaj gun kaydi bulunamadi."}):null]})]}):i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Analiz gormek icin filtrelerden bir calisan secin."})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:dt.length})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:dt.filter(ne=>Ch(ne).length>0).length})]})]}),H.isLoading?i.jsx(At,{}):null,H.isError?i.jsx(Nt,{message:Ie(H.error,"Yoklama kaytlar alnamad.").message}):null,!H.isLoading&&!H.isError?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Tip"}),i.jsx("th",{className:"py-2",children:"Kaynak"}),i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Konum"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Not"}),i.jsx("th",{className:"py-2",children:"Bayraklar"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:dt.map(ne=>{const V=Ch(ne),He=Kt.get(ne.employee_id),tt=He?.department_id!=null?X.get(He.department_id):"-",Vt=ne.source==="MANUAL"||ne.created_by_admin||Go(ne.flags,"ADMIN_MANUAL"),zt=Gx(ne.flags.SHIFT_ID),Pn=typeof ne.flags.SHIFT_NAME=="string"?ne.flags.SHIFT_NAME:zt&&Ce.get(zt)?Ce.get(zt)?.name:null;return i.jsxs("tr",{className:`border-t border-slate-100 ${V.length>0?"bg-amber-50/40":""}`,children:[i.jsx("td",{className:"py-2",children:ne.id}),i.jsxs("td",{className:"py-2",children:["#",ne.employee_id," - ",pn.get(ne.employee_id)??"-"]}),i.jsx("td",{className:"py-2",children:tt??"-"}),i.jsx("td",{className:"py-2",children:ne.type}),i.jsxs("td",{className:"py-2",children:[Vt?i.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",ne.deleted_at?i.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),i.jsx("td",{className:"py-2",children:Lc(ne.ts_utc)}),i.jsx("td",{className:"py-2",children:s1(ne.location_status)}),i.jsx("td",{className:"py-2",children:Pn?i.jsxs("span",{children:[Pn,zt?` (#${zt})`:""]}):zt?i.jsxs("span",{children:["#",zt]}):"-"}),i.jsx("td",{className:"py-2",children:ne.note||"-"}),i.jsx("td",{className:"py-2",children:i.jsx(Sb,{reasons:V})}),i.jsx("td",{className:"py-2",children:i.jsx(jb,{suspicious:V.length>0,label:"pheli"})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>Je(ne),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),i.jsx("button",{type:"button",onClick:()=>ie(ne),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},ne.id)})})]}),dt.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),ge.isLoading?i.jsx(At,{}):null,ge.isError?i.jsx(Nt,{message:Ie(ge.error,"Audit loglar alnamad.").message}):null,!ge.isLoading&&!ge.isError?i.jsx("div",{className:"mt-3 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Aksiyon"}),i.jsx("th",{className:"py-2",children:"Kullanc"}),i.jsx("th",{className:"py-2",children:"Entity"}),i.jsx("th",{className:"py-2",children:"Durum"})]})}),i.jsx("tbody",{children:(ge.data??[]).map(ne=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Lc(ne.ts_utc)}),i.jsx("td",{className:"py-2",children:ne.action}),i.jsxs("td",{className:"py-2",children:[ne.actor_type,":",ne.actor_id]}),i.jsxs("td",{className:"py-2",children:[ne.entity_type??"-"," ",ne.entity_id?`#${ne.entity_id}`:""]}),i.jsx("td",{className:"py-2",children:ne.success?"Baarl":"Hatal"})]},ne.id))})]})}):null]}),i.jsx(eu,{open:R!==null,title:R?`Event #${R.id} dzenle`:"Event dzenle",onClose:()=>P(null),children:i.jsxs("form",{onSubmit:sn,className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsxs("select",{value:G,onChange:ne=>$(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"IN",children:"IN (Giri)"}),i.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",i.jsx("input",{type:"datetime-local",value:Y,onChange:ne=>K(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:ye,onChange:ne=>ee(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Deitirme"}),jt.map(ne=>i.jsxs("option",{value:ne.id,children:["#",ne.id," - ",ne.name," (",ne.start_time_local,"-",ne.end_time_local,")"]},ne.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Not",i.jsx("input",{type:"text",value:Q,onChange:ne=>ae(ne.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:ue,onChange:ne=>oe(ne.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:U,onChange:ne=>le(ne.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),i.jsx("button",{type:"submit",disabled:et.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:et.isPending?"Kaydediliyor...":"Kaydet"})]})}),i.jsx(eu,{open:q!==null,title:q?`Event #${q.id} soft sil`:"Event soft sil",onClose:()=>ie(null),children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:de,onChange:ne=>Te(ne.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),i.jsx("button",{type:"button",onClick:()=>q&&Ne.mutate({eventId:q.id,force:de}),disabled:Ne.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Ne.isPending?"Siliniyor...":"Soft sil"})]})})]})}function we(t,a,l){function o(y,v){if(y._zod||Object.defineProperty(y,"_zod",{value:{def:v,constr:p,traits:new Set},enumerable:!1}),y._zod.traits.has(t))return;y._zod.traits.add(t),a(y,v);const b=p.prototype,S=Object.keys(b);for(let w=0;w<S.length;w++){const C=S[w];C in y||(y[C]=b[C].bind(y))}}const d=l?.Parent??Object;class m extends d{}Object.defineProperty(m,"name",{value:t});function p(y){var v;const b=l?.Parent?new m:this;o(b,y),(v=b._zod).deferred??(v.deferred=[]);for(const S of b._zod.deferred)S();return b}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:y=>l?.Parent&&y instanceof l.Parent?!0:y?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class Al extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Eb extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const kb={};function Cr(t){return kb}function Tb(t){const a=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>a.indexOf(+o)===-1).map(([o,d])=>d)}function Nf(t,a){return typeof a=="bigint"?a.toString():a}function Jf(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function Xf(t){return t==null}function Wf(t){const a=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;return t.slice(a,l)}function l1(t,a){const l=(t.toString().split(".")[1]||"").length,o=a.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const m=l>d?l:d,p=Number.parseInt(t.toFixed(m).replace(".","")),y=Number.parseInt(a.toFixed(m).replace(".",""));return p%y/10**m}const Vx=Symbol("evaluating");function Lt(t,a,l){let o;Object.defineProperty(t,a,{get(){if(o!==Vx)return o===void 0&&(o=Vx,o=l()),o},set(d){Object.defineProperty(t,a,{value:d})},configurable:!0})}function Mr(t,a,l){Object.defineProperty(t,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}function Bs(...t){const a={};for(const l of t){const o=Object.getOwnPropertyDescriptors(l);Object.assign(a,o)}return Object.defineProperties({},a)}function Yx(t){return JSON.stringify(t)}function o1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Cb="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function sd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const u1=Jf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function tu(t){if(sd(t)===!1)return!1;const a=t.constructor;if(a===void 0||typeof a!="function")return!0;const l=a.prototype;return!(sd(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function Ab(t){return tu(t)?{...t}:Array.isArray(t)?[...t]:t}const c1=new Set(["string","number","symbol"]);function bd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Is(t,a,l){const o=new t._zod.constr(a??t._zod.def);return(!a||l?.parent)&&(o._zod.parent=t),o}function Ge(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function d1(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const m1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function h1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const m=Bs(t._zod.def,{get shape(){const p={};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&(p[y]=l.shape[y])}return Mr(this,"shape",p),p},checks:[]});return Is(t,m)}function f1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const m=Bs(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&delete p[y]}return Mr(this,"shape",p),p},checks:[]});return Is(t,m)}function p1(t,a){if(!tu(a))throw new Error("Invalid input to extend: expected a plain object");const l=t._zod.def.checks;if(l&&l.length>0){const m=t._zod.def.shape;for(const p in a)if(Object.getOwnPropertyDescriptor(m,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=Bs(t._zod.def,{get shape(){const m={...t._zod.def.shape,...a};return Mr(this,"shape",m),m}});return Is(t,d)}function g1(t,a){if(!tu(a))throw new Error("Invalid input to safeExtend: expected a plain object");const l=Bs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a};return Mr(this,"shape",o),o}});return Is(t,l)}function y1(t,a){const l=Bs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a._zod.def.shape};return Mr(this,"shape",o),o},get catchall(){return a._zod.def.catchall},checks:[]});return Is(t,l)}function x1(t,a,l){const d=a._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=Bs(a._zod.def,{get shape(){const y=a._zod.def.shape,v={...y};if(l)for(const b in l){if(!(b in y))throw new Error(`Unrecognized key: "${b}"`);l[b]&&(v[b]=t?new t({type:"optional",innerType:y[b]}):y[b])}else for(const b in y)v[b]=t?new t({type:"optional",innerType:y[b]}):y[b];return Mr(this,"shape",v),v},checks:[]});return Is(a,p)}function v1(t,a,l){const o=Bs(a._zod.def,{get shape(){const d=a._zod.def.shape,m={...d};if(l)for(const p in l){if(!(p in m))throw new Error(`Unrecognized key: "${p}"`);l[p]&&(m[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)m[p]=new t({type:"nonoptional",innerType:d[p]});return Mr(this,"shape",m),m}});return Is(a,o)}function Cl(t,a=0){if(t.aborted===!0)return!0;for(let l=a;l<t.issues.length;l++)if(t.issues[l]?.continue!==!0)return!0;return!1}function zb(t,a){return a.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(t),l})}function Pc(t){return typeof t=="string"?t:t?.message}function Ar(t,a,l){const o={...t,path:t.path??[]};if(!t.message){const d=Pc(t.inst?._zod.def?.error?.(t))??Pc(a?.error?.(t))??Pc(l.customError?.(t))??Pc(l.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,a?.reportInput||delete o.input,o}function ep(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function nu(...t){const[a,l,o]=t;return typeof a=="string"?{message:a,code:"custom",input:l,inst:o}:{...a}}const Mb=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,Nf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Ob=we("$ZodError",Mb),Db=we("$ZodError",Mb,{Parent:Error});function b1(t,a=l=>l.message){const l={},o=[];for(const d of t.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(a(d))):o.push(a(d));return{formErrors:o,fieldErrors:l}}function _1(t,a=l=>l.message){const l={_errors:[]},o=d=>{for(const m of d.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(p=>o({issues:p}));else if(m.code==="invalid_key")o({issues:m.issues});else if(m.code==="invalid_element")o({issues:m.issues});else if(m.path.length===0)l._errors.push(a(m));else{let p=l,y=0;for(;y<m.path.length;){const v=m.path[y];y===m.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(a(m))):p[v]=p[v]||{_errors:[]},p=p[v],y++}}};return o(t),l}const tp=t=>(a,l,o,d)=>{const m=o?Object.assign(o,{async:!1}):{async:!1},p=a._zod.run({value:l,issues:[]},m);if(p instanceof Promise)throw new Al;if(p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Ar(v,m,Cr())));throw Cb(y,d?.callee),y}return p.value},np=t=>async(a,l,o,d)=>{const m=o?Object.assign(o,{async:!0}):{async:!0};let p=a._zod.run({value:l,issues:[]},m);if(p instanceof Promise&&(p=await p),p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Ar(v,m,Cr())));throw Cb(y,d?.callee),y}return p.value},_d=t=>(a,l,o)=>{const d=o?{...o,async:!1}:{async:!1},m=a._zod.run({value:l,issues:[]},d);if(m instanceof Promise)throw new Al;return m.issues.length?{success:!1,error:new(t??Ob)(m.issues.map(p=>Ar(p,d,Cr())))}:{success:!0,data:m.value}},N1=_d(Db),Nd=t=>async(a,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let m=a._zod.run({value:l,issues:[]},d);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new t(m.issues.map(p=>Ar(p,d,Cr())))}:{success:!0,data:m.value}},j1=Nd(Db),S1=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return tp(t)(a,l,d)},w1=t=>(a,l,o)=>tp(t)(a,l,o),E1=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return np(t)(a,l,d)},k1=t=>async(a,l,o)=>np(t)(a,l,o),T1=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return _d(t)(a,l,d)},C1=t=>(a,l,o)=>_d(t)(a,l,o),A1=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Nd(t)(a,l,d)},z1=t=>async(a,l,o)=>Nd(t)(a,l,o),M1=/^[cC][^\s-]{8,}$/,O1=/^[0-9a-z]+$/,D1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,R1=/^[0-9a-vA-V]{20}$/,L1=/^[A-Za-z0-9]{27}$/,P1=/^[a-zA-Z0-9_-]{21}$/,B1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,I1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,$x=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,U1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Z1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function q1(){return new RegExp(Z1,"u")}const F1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,K1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Q1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Rb=/^[A-Za-z0-9_-]*$/,V1=/^\+[1-9]\d{6,14}$/,Lb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Y1=new RegExp(`^${Lb}$`);function Pb(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function $1(t){return new RegExp(`^${Pb(t)}$`)}function J1(t){const a=Pb({precision:t.precision}),l=["Z"];t.local&&l.push(""),t.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${a}(?:${l.join("|")})`;return new RegExp(`^${Lb}T(?:${o})$`)}const X1=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},W1=/^-?\d+$/,ek=/^-?\d+(?:\.\d+)?$/,tk=/^(?:true|false)$/i,nk=/^null$/i,ak=/^[^A-Z]*$/,ik=/^[^a-z]*$/,da=we("$ZodCheck",(t,a)=>{var l;t._zod??(t._zod={}),t._zod.def=a,(l=t._zod).onattach??(l.onattach=[])}),Bb={number:"number",bigint:"bigint",object:"date"},Ib=we("$ZodCheckLessThan",(t,a)=>{da.init(t,a);const l=Bb[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(a.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<m&&(a.inclusive?d.maximum=a.value:d.exclusiveMaximum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value<=a.value:o.value<a.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),Ub=we("$ZodCheckGreaterThan",(t,a)=>{da.init(t,a);const l=Bb[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(a.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>m&&(a.inclusive?d.minimum=a.value:d.exclusiveMinimum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value>=a.value:o.value>a.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),sk=we("$ZodCheckMultipleOf",(t,a)=>{da.init(t,a),t._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=a.value)}),t._zod.check=l=>{if(typeof l.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%a.value===BigInt(0):l1(l.value,a.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:a.value,input:l.value,inst:t,continue:!a.abort})}}),rk=we("$ZodCheckNumberFormat",(t,a)=>{da.init(t,a),a.format=a.format||"float64";const l=a.format?.includes("int"),o=l?"int":"number",[d,m]=m1[a.format];t._zod.onattach.push(p=>{const y=p._zod.bag;y.format=a.format,y.minimum=d,y.maximum=m,l&&(y.pattern=W1)}),t._zod.check=p=>{const y=p.value;if(l){if(!Number.isInteger(y)){p.issues.push({expected:o,format:a.format,code:"invalid_type",continue:!1,input:y,inst:t});return}if(!Number.isSafeInteger(y)){y>0?p.issues.push({input:y,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort}):p.issues.push({input:y,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort});return}}y<d&&p.issues.push({origin:"number",input:y,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!a.abort}),y>m&&p.issues.push({origin:"number",input:y,code:"too_big",maximum:m,inclusive:!0,inst:t,continue:!a.abort})}}),lk=we("$ZodCheckMaxLength",(t,a)=>{var l;da.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Xf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<d&&(o._zod.bag.maximum=a.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=a.maximum)return;const p=ep(d);o.issues.push({origin:p,code:"too_big",maximum:a.maximum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),ok=we("$ZodCheckMinLength",(t,a)=>{var l;da.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Xf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>d&&(o._zod.bag.minimum=a.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=a.minimum)return;const p=ep(d);o.issues.push({origin:p,code:"too_small",minimum:a.minimum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),uk=we("$ZodCheckLengthEquals",(t,a)=>{var l;da.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!Xf(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=a.length,d.maximum=a.length,d.length=a.length}),t._zod.check=o=>{const d=o.value,m=d.length;if(m===a.length)return;const p=ep(d),y=m>a.length;o.issues.push({origin:p,...y?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!a.abort})}}),jd=we("$ZodCheckStringFormat",(t,a)=>{var l,o;da.init(t,a),t._zod.onattach.push(d=>{const m=d._zod.bag;m.format=a.format,a.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(a.pattern))}),a.pattern?(l=t._zod).check??(l.check=d=>{a.pattern.lastIndex=0,!a.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:a.format,input:d.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(o=t._zod).check??(o.check=()=>{})}),ck=we("$ZodCheckRegex",(t,a)=>{jd.init(t,a),t._zod.check=l=>{a.pattern.lastIndex=0,!a.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),dk=we("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=ak),jd.init(t,a)}),mk=we("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=ik),jd.init(t,a)}),hk=we("$ZodCheckIncludes",(t,a)=>{da.init(t,a);const l=bd(a.includes),o=new RegExp(typeof a.position=="number"?`^.{${a.position}}${l}`:l);a.pattern=o,t._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(o)}),t._zod.check=d=>{d.value.includes(a.includes,a.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:d.value,inst:t,continue:!a.abort})}}),fk=we("$ZodCheckStartsWith",(t,a)=>{da.init(t,a);const l=new RegExp(`^${bd(a.prefix)}.*`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.startsWith(a.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:o.value,inst:t,continue:!a.abort})}}),pk=we("$ZodCheckEndsWith",(t,a)=>{da.init(t,a);const l=new RegExp(`.*${bd(a.suffix)}$`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.endsWith(a.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:o.value,inst:t,continue:!a.abort})}}),gk=we("$ZodCheckOverwrite",(t,a)=>{da.init(t,a),t._zod.check=l=>{l.value=a.tx(l.value)}});class yk{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const o=a.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),m=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of m)this.content.push(p)}compile(){const a=Function,l=this?.args,d=[...(this?.content??[""]).map(m=>`  ${m}`)];return new a(...l,d.join(`
`))}}const xk={major:4,minor:3,patch:6},dn=we("$ZodType",(t,a)=>{var l;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=xk;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const m of d._zod.onattach)m(t);if(o.length===0)(l=t._zod).deferred??(l.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,y,v)=>{let b=Cl(p),S;for(const w of y){if(w._zod.def.when){if(!w._zod.def.when(p))continue}else if(b)continue;const C=p.issues.length,z=w._zod.check(p);if(z instanceof Promise&&v?.async===!1)throw new Al;if(S||z instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await z,p.issues.length!==C&&(b||(b=Cl(p,C)))});else{if(p.issues.length===C)continue;b||(b=Cl(p,C))}}return S?S.then(()=>p):p},m=(p,y,v)=>{if(Cl(p))return p.aborted=!0,p;const b=d(y,o,v);if(b instanceof Promise){if(v.async===!1)throw new Al;return b.then(S=>t._zod.parse(S,v))}return t._zod.parse(b,v)};t._zod.run=(p,y)=>{if(y.skipChecks)return t._zod.parse(p,y);if(y.direction==="backward"){const b=t._zod.parse({value:p.value,issues:[]},{...y,skipChecks:!0});return b instanceof Promise?b.then(S=>m(S,p,y)):m(b,p,y)}const v=t._zod.parse(p,y);if(v instanceof Promise){if(y.async===!1)throw new Al;return v.then(b=>d(b,o,y))}return d(v,o,y)}}Lt(t,"~standard",()=>({validate:d=>{try{const m=N1(t,d);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return j1(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),ap=we("$ZodString",(t,a)=>{dn.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??X1(t._zod.bag),t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:t}),l}}),en=we("$ZodStringFormat",(t,a)=>{jd.init(t,a),ap.init(t,a)}),vk=we("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=I1),en.init(t,a)}),bk=we("$ZodUUID",(t,a)=>{if(a.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(o===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=$x(o))}else a.pattern??(a.pattern=$x());en.init(t,a)}),_k=we("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=U1),en.init(t,a)}),Nk=we("$ZodURL",(t,a)=>{en.init(t,a),t._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:a.hostname.source,input:l.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:l.value,inst:t,continue:!a.abort})),a.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:t,continue:!a.abort})}}}),jk=we("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=q1()),en.init(t,a)}),Sk=we("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=P1),en.init(t,a)}),wk=we("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=M1),en.init(t,a)}),Ek=we("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=O1),en.init(t,a)}),kk=we("$ZodULID",(t,a)=>{a.pattern??(a.pattern=D1),en.init(t,a)}),Tk=we("$ZodXID",(t,a)=>{a.pattern??(a.pattern=R1),en.init(t,a)}),Ck=we("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=L1),en.init(t,a)}),Ak=we("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=J1(a)),en.init(t,a)}),zk=we("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=Y1),en.init(t,a)}),Mk=we("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=$1(a)),en.init(t,a)}),Ok=we("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=B1),en.init(t,a)}),Dk=we("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=F1),en.init(t,a),t._zod.bag.format="ipv4"}),Rk=we("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=H1),en.init(t,a),t._zod.bag.format="ipv6",t._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:t,continue:!a.abort})}}}),Lk=we("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=K1),en.init(t,a)}),Pk=we("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=Q1),en.init(t,a),t._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,m]=o;if(!m)throw new Error;const p=Number(m);if(`${p}`!==m)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:t,continue:!a.abort})}}});function Zb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Bk=we("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=G1),en.init(t,a),t._zod.bag.contentEncoding="base64",t._zod.check=l=>{Zb(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:t,continue:!a.abort})}});function Ik(t){if(!Rb.test(t))return!1;const a=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=a.padEnd(Math.ceil(a.length/4)*4,"=");return Zb(l)}const Uk=we("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=Rb),en.init(t,a),t._zod.bag.contentEncoding="base64url",t._zod.check=l=>{Ik(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:t,continue:!a.abort})}}),Zk=we("$ZodE164",(t,a)=>{a.pattern??(a.pattern=V1),en.init(t,a)});function qk(t,a=null){try{const l=t.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||a&&(!("alg"in d)||d.alg!==a))}catch{return!1}}const Fk=we("$ZodJWT",(t,a)=>{en.init(t,a),t._zod.check=l=>{qk(l.value,a.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:t,continue:!a.abort})}}),qb=we("$ZodNumber",(t,a)=>{dn.init(t,a),t._zod.pattern=t._zod.bag.pattern??ek,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const m=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...m?{received:m}:{}}),l}}),Hk=we("$ZodNumberFormat",(t,a)=>{rk.init(t,a),qb.init(t,a)}),Kk=we("$ZodBoolean",(t,a)=>{dn.init(t,a),t._zod.pattern=tk,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),l}}),Qk=we("$ZodNull",(t,a)=>{dn.init(t,a),t._zod.pattern=nk,t._zod.values=new Set([null]),t._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),l}}),Gk=we("$ZodUnknown",(t,a)=>{dn.init(t,a),t._zod.parse=l=>l}),Vk=we("$ZodNever",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:t}),l)});function Jx(t,a,l){t.issues.length&&a.issues.push(...zb(l,t.issues)),a.value[l]=t.value}const Yk=we("$ZodArray",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),l;l.value=Array(d.length);const m=[];for(let p=0;p<d.length;p++){const y=d[p],v=a.element._zod.run({value:y,issues:[]},o);v instanceof Promise?m.push(v.then(b=>Jx(b,l,p))):Jx(v,l,p)}return m.length?Promise.all(m).then(()=>l):l}});function rd(t,a,l,o,d){if(t.issues.length){if(d&&!(l in o))return;a.issues.push(...zb(l,t.issues))}t.value===void 0?l in o&&(a.value[l]=void 0):a.value[l]=t.value}function Fb(t){const a=Object.keys(t.shape);for(const o of a)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=d1(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(l)}}function Hb(t,a,l,o,d,m){const p=[],y=d.keySet,v=d.catchall._zod,b=v.def.type,S=v.optout==="optional";for(const w in a){if(y.has(w))continue;if(b==="never"){p.push(w);continue}const C=v.run({value:a[w],issues:[]},o);C instanceof Promise?t.push(C.then(z=>rd(z,l,w,a,S))):rd(C,l,w,a,S)}return p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:a,inst:m}),t.length?Promise.all(t).then(()=>l):l}const $k=we("$ZodObject",(t,a)=>{if(dn.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const y=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...y};return Object.defineProperty(a,"shape",{value:v}),v}})}const o=Jf(()=>Fb(a));Lt(t._zod,"propValues",()=>{const y=a.shape,v={};for(const b in y){const S=y[b]._zod;if(S.values){v[b]??(v[b]=new Set);for(const w of S.values)v[b].add(w)}}return v});const d=sd,m=a.catchall;let p;t._zod.parse=(y,v)=>{p??(p=o.value);const b=y.value;if(!d(b))return y.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),y;y.value={};const S=[],w=p.shape;for(const C of p.keys){const z=w[C],k=z._zod.optout==="optional",A=z._zod.run({value:b[C],issues:[]},v);A instanceof Promise?S.push(A.then(O=>rd(O,y,C,b,k))):rd(A,y,C,b,k)}return m?Hb(S,b,y,v,o.value,t):S.length?Promise.all(S).then(()=>y):y}}),Jk=we("$ZodObjectJIT",(t,a)=>{$k.init(t,a);const l=t._zod.parse,o=Jf(()=>Fb(a)),d=C=>{const z=new yk(["shape","payload","ctx"]),k=o.value,A=P=>{const G=Yx(P);return`shape[${G}]._zod.run({ value: input[${G}], issues: [] }, ctx)`};z.write("const input = payload.value;");const O=Object.create(null);let Z=0;for(const P of k.keys)O[P]=`key_${Z++}`;z.write("const newResult = {};");for(const P of k.keys){const G=O[P],$=Yx(P),K=C[P]?._zod?.optout==="optional";z.write(`const ${G} = ${A(P)};`),K?z.write(`
        if (${G}.issues.length) {
          if (${$} in input) {
            payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$}, ...iss.path] : [${$}]
            })));
          }
        }
        
        if (${G}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${G}.value;
        }
        
      `):z.write(`
        if (${G}.issues.length) {
          payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        if (${G}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${G}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const R=z.compile();return(P,G)=>R(C,P,G)};let m;const p=sd,y=!kb.jitless,b=y&&u1.value,S=a.catchall;let w;t._zod.parse=(C,z)=>{w??(w=o.value);const k=C.value;return p(k)?y&&b&&z?.async===!1&&z.jitless!==!0?(m||(m=d(a.shape)),C=m(C,z),S?Hb([],k,C,z,w,t):C):l(C,z):(C.issues.push({expected:"object",code:"invalid_type",input:k,inst:t}),C)}});function Xx(t,a,l,o){for(const m of t)if(m.issues.length===0)return a.value=m.value,a;const d=t.filter(m=>!Cl(m));return d.length===1?(a.value=d[0].value,d[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:l,errors:t.map(m=>m.issues.map(p=>Ar(p,o,Cr())))}),a)}const Xk=we("$ZodUnion",(t,a)=>{dn.init(t,a),Lt(t._zod,"optin",()=>a.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Lt(t._zod,"optout",()=>a.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Lt(t._zod,"values",()=>{if(a.options.every(d=>d._zod.values))return new Set(a.options.flatMap(d=>Array.from(d._zod.values)))}),Lt(t._zod,"pattern",()=>{if(a.options.every(d=>d._zod.pattern)){const d=a.options.map(m=>m._zod.pattern);return new RegExp(`^(${d.map(m=>Wf(m.source)).join("|")})$`)}});const l=a.options.length===1,o=a.options[0]._zod.run;t._zod.parse=(d,m)=>{if(l)return o(d,m);let p=!1;const y=[];for(const v of a.options){const b=v._zod.run({value:d.value,issues:[]},m);if(b instanceof Promise)y.push(b),p=!0;else{if(b.issues.length===0)return b;y.push(b)}}return p?Promise.all(y).then(v=>Xx(v,d,t,m)):Xx(y,d,t,m)}}),Wk=we("$ZodIntersection",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value,m=a.left._zod.run({value:d,issues:[]},o),p=a.right._zod.run({value:d,issues:[]},o);return m instanceof Promise||p instanceof Promise?Promise.all([m,p]).then(([v,b])=>Wx(l,v,b)):Wx(l,m,p)}});function jf(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(tu(t)&&tu(a)){const l=Object.keys(a),o=Object.keys(t).filter(m=>l.indexOf(m)!==-1),d={...t,...a};for(const m of o){const p=jf(t[m],a[m]);if(!p.valid)return{valid:!1,mergeErrorPath:[m,...p.mergeErrorPath]};d[m]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<t.length;o++){const d=t[o],m=a[o],p=jf(d,m);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};l.push(p.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Wx(t,a,l){const o=new Map;let d;for(const y of a.issues)if(y.code==="unrecognized_keys"){d??(d=y);for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else t.issues.push(y);for(const y of l.issues)if(y.code==="unrecognized_keys")for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else t.issues.push(y);const m=[...o].filter(([,y])=>y.l&&y.r).map(([y])=>y);if(m.length&&d&&t.issues.push({...d,keys:m}),Cl(t))return t;const p=jf(a.value,l.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const eT=we("$ZodEnum",(t,a)=>{dn.init(t,a);const l=Tb(a.entries),o=new Set(l);t._zod.values=o,t._zod.pattern=new RegExp(`^(${l.filter(d=>c1.has(typeof d)).map(d=>typeof d=="string"?bd(d):d.toString()).join("|")})$`),t._zod.parse=(d,m)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:l,input:p,inst:t}),d}}),tT=we("$ZodTransform",(t,a)=>{dn.init(t,a),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Eb(t.constructor.name);const d=a.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(l.value=p,l));if(d instanceof Promise)throw new Al;return l.value=d,l}});function ev(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const Kb=we("$ZodOptional",(t,a)=>{dn.init(t,a),t._zod.optin="optional",t._zod.optout="optional",Lt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Lt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Wf(l.source)})?$`):void 0}),t._zod.parse=(l,o)=>{if(a.innerType._zod.optin==="optional"){const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>ev(m,l.value)):ev(d,l.value)}return l.value===void 0?l:a.innerType._zod.run(l,o)}}),nT=we("$ZodExactOptional",(t,a)=>{Kb.init(t,a),Lt(t._zod,"values",()=>a.innerType._zod.values),Lt(t._zod,"pattern",()=>a.innerType._zod.pattern),t._zod.parse=(l,o)=>a.innerType._zod.run(l,o)}),aT=we("$ZodNullable",(t,a)=>{dn.init(t,a),Lt(t._zod,"optin",()=>a.innerType._zod.optin),Lt(t._zod,"optout",()=>a.innerType._zod.optout),Lt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Wf(l.source)}|null)$`):void 0}),Lt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(l,o)=>l.value===null?l:a.innerType._zod.run(l,o)}),iT=we("$ZodDefault",(t,a)=>{dn.init(t,a),t._zod.optin="optional",Lt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);if(l.value===void 0)return l.value=a.defaultValue,l;const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>tv(m,a)):tv(d,a)}});function tv(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const sT=we("$ZodPrefault",(t,a)=>{dn.init(t,a),t._zod.optin="optional",Lt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=a.defaultValue),a.innerType._zod.run(l,o))}),rT=we("$ZodNonOptional",(t,a)=>{dn.init(t,a),Lt(t._zod,"values",()=>{const l=a.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),t._zod.parse=(l,o)=>{const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>nv(m,t)):nv(d,t)}});function nv(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const lT=we("$ZodCatch",(t,a)=>{dn.init(t,a),Lt(t._zod,"optin",()=>a.innerType._zod.optin),Lt(t._zod,"optout",()=>a.innerType._zod.optout),Lt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>(l.value=m.value,m.issues.length&&(l.value=a.catchValue({...l,error:{issues:m.issues.map(p=>Ar(p,o,Cr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=a.catchValue({...l,error:{issues:d.issues.map(m=>Ar(m,o,Cr()))},input:l.value}),l.issues=[]),l)}}),oT=we("$ZodPipe",(t,a)=>{dn.init(t,a),Lt(t._zod,"values",()=>a.in._zod.values),Lt(t._zod,"optin",()=>a.in._zod.optin),Lt(t._zod,"optout",()=>a.out._zod.optout),Lt(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(l,o)=>{if(o.direction==="backward"){const m=a.out._zod.run(l,o);return m instanceof Promise?m.then(p=>Bc(p,a.in,o)):Bc(m,a.in,o)}const d=a.in._zod.run(l,o);return d instanceof Promise?d.then(m=>Bc(m,a.out,o)):Bc(d,a.out,o)}});function Bc(t,a,l){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},l)}const uT=we("$ZodReadonly",(t,a)=>{dn.init(t,a),Lt(t._zod,"propValues",()=>a.innerType._zod.propValues),Lt(t._zod,"values",()=>a.innerType._zod.values),Lt(t._zod,"optin",()=>a.innerType?._zod?.optin),Lt(t._zod,"optout",()=>a.innerType?._zod?.optout),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(av):av(d)}});function av(t){return t.value=Object.freeze(t.value),t}const cT=we("$ZodCustom",(t,a)=>{da.init(t,a),dn.init(t,a),t._zod.parse=(l,o)=>l,t._zod.check=l=>{const o=l.value,d=a.fn(o);if(d instanceof Promise)return d.then(m=>iv(m,l,o,t));iv(d,l,o,t)}});function iv(t,a,l,o){if(!t){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),a.issues.push(nu(d))}}var sv;class dT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...l){const o=l[0];return this._map.set(a,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const l=this._map.get(a);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(a),this}get(a){const l=a._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function mT(){return new dT}(sv=globalThis).__zod_globalRegistry??(sv.__zod_globalRegistry=mT());const Vo=globalThis.__zod_globalRegistry;function hT(t,a){return new t({type:"string",...Ge(a)})}function fT(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ge(a)})}function rv(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ge(a)})}function pT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ge(a)})}function gT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ge(a)})}function yT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ge(a)})}function xT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ge(a)})}function vT(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ge(a)})}function bT(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ge(a)})}function _T(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ge(a)})}function NT(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ge(a)})}function jT(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ge(a)})}function ST(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ge(a)})}function wT(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ge(a)})}function ET(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ge(a)})}function kT(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ge(a)})}function TT(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ge(a)})}function CT(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ge(a)})}function AT(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ge(a)})}function zT(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ge(a)})}function MT(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ge(a)})}function OT(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ge(a)})}function DT(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ge(a)})}function RT(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ge(a)})}function LT(t,a){return new t({type:"string",format:"date",check:"string_format",...Ge(a)})}function PT(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ge(a)})}function BT(t,a){return new t({type:"string",format:"duration",check:"string_format",...Ge(a)})}function IT(t,a){return new t({type:"number",coerce:!0,checks:[],...Ge(a)})}function UT(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ge(a)})}function ZT(t,a){return new t({type:"boolean",...Ge(a)})}function qT(t,a){return new t({type:"null",...Ge(a)})}function FT(t){return new t({type:"unknown"})}function HT(t,a){return new t({type:"never",...Ge(a)})}function lv(t,a){return new Ib({check:"less_than",...Ge(a),value:t,inclusive:!1})}function zh(t,a){return new Ib({check:"less_than",...Ge(a),value:t,inclusive:!0})}function ov(t,a){return new Ub({check:"greater_than",...Ge(a),value:t,inclusive:!1})}function Mh(t,a){return new Ub({check:"greater_than",...Ge(a),value:t,inclusive:!0})}function uv(t,a){return new sk({check:"multiple_of",...Ge(a),value:t})}function Qb(t,a){return new lk({check:"max_length",...Ge(a),maximum:t})}function ld(t,a){return new ok({check:"min_length",...Ge(a),minimum:t})}function Gb(t,a){return new uk({check:"length_equals",...Ge(a),length:t})}function KT(t,a){return new ck({check:"string_format",format:"regex",...Ge(a),pattern:t})}function QT(t){return new dk({check:"string_format",format:"lowercase",...Ge(t)})}function GT(t){return new mk({check:"string_format",format:"uppercase",...Ge(t)})}function VT(t,a){return new hk({check:"string_format",format:"includes",...Ge(a),includes:t})}function YT(t,a){return new fk({check:"string_format",format:"starts_with",...Ge(a),prefix:t})}function $T(t,a){return new pk({check:"string_format",format:"ends_with",...Ge(a),suffix:t})}function Bl(t){return new gk({check:"overwrite",tx:t})}function JT(t){return Bl(a=>a.normalize(t))}function XT(){return Bl(t=>t.trim())}function WT(){return Bl(t=>t.toLowerCase())}function eC(){return Bl(t=>t.toUpperCase())}function tC(){return Bl(t=>o1(t))}function nC(t,a,l){return new t({type:"array",element:a,...Ge(l)})}function aC(t,a,l){return new t({type:"custom",check:"custom",fn:a,...Ge(l)})}function iC(t){const a=sC(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(nu(o,l.value,a._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=a),d.continue??(d.continue=!a._zod.def.abort),l.issues.push(nu(d))}},t(l.value,l)));return a}function sC(t,a){const l=new da({check:"custom",...Ge(a)});return l._zod.check=t,l}function Vb(t){let a=t?.target??"draft-2020-12";return a==="draft-4"&&(a="draft-04"),a==="draft-7"&&(a="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Vo,target:a,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Dn(t,a,l={path:[],schemaPath:[]}){var o;const d=t._zod.def,m=a.seen.get(t);if(m)return m.count++,l.schemaPath.includes(t)&&(m.cycle=l.path),m.schema;const p={schema:{},count:1,cycle:void 0,path:l.path};a.seen.set(t,p);const y=t._zod.toJSONSchema?.();if(y)p.schema=y;else{const S={...l,schemaPath:[...l.schemaPath,t],path:l.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(a,p.schema,S);else{const C=p.schema,z=a.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(t,a,C,S)}const w=t._zod.parent;w&&(p.ref||(p.ref=w),Dn(w,a,S),a.seen.get(w).isParent=!0)}const v=a.metadataRegistry.get(t);return v&&Object.assign(p.schema,v),a.io==="input"&&Yn(t)&&(delete p.schema.examples,delete p.schema.default),a.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,a.seen.get(t).schema}function Yb(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const y=t.metadataRegistry.get(p[0])?.id;if(y){const v=o.get(y);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(y,p[0])}}const d=p=>{const y=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const w=t.external.registry.get(p[0])?.id,C=t.external.uri??(k=>k);if(w)return{ref:C(w)};const z=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=z,{defId:z,ref:`${C("__shared")}#/${y}/${z}`}}if(p[1]===l)return{ref:"#"};const b=`#/${y}/`,S=p[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:b+S}},m=p=>{if(p[1].schema.$ref)return;const y=p[1],{ref:v,defId:b}=d(p);y.def={...y.schema},b&&(y.defId=b);const S=y.schema;for(const w in S)delete S[w];S.$ref=v};if(t.cycles==="throw")for(const p of t.seen.entries()){const y=p[1];if(y.cycle)throw new Error(`Cycle detected: #/${y.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const y=p[1];if(a===p[0]){m(p);continue}if(t.external){const b=t.external.registry.get(p[0])?.id;if(a!==p[0]&&b){m(p);continue}}if(t.metadataRegistry.get(p[0])?.id){m(p);continue}if(y.cycle){m(p);continue}if(y.count>1&&t.reused==="ref"){m(p);continue}}}function $b(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const y=t.seen.get(p);if(y.ref===null)return;const v=y.def??y.schema,b={...v},S=y.ref;if(y.ref=null,S){o(S);const C=t.seen.get(S),z=C.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(z)):Object.assign(v,z),Object.assign(v,b),p._zod.parent===S)for(const A in v)A==="$ref"||A==="allOf"||A in b||delete v[A];if(z.$ref&&C.def)for(const A in v)A==="$ref"||A==="allOf"||A in C.def&&JSON.stringify(v[A])===JSON.stringify(C.def[A])&&delete v[A]}const w=p._zod.parent;if(w&&w!==S){o(w);const C=t.seen.get(w);if(C?.schema.$ref&&(v.$ref=C.schema.$ref,C.def))for(const z in v)z==="$ref"||z==="allOf"||z in C.def&&JSON.stringify(v[z])===JSON.stringify(C.def[z])&&delete v[z]}t.override({zodSchema:p,jsonSchema:v,path:y.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(a)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,l.def??l.schema);const m=t.external?.defs??{};for(const p of t.seen.entries()){const y=p[1];y.def&&y.defId&&(m[y.defId]=y.def)}t.external||Object.keys(m).length>0&&(t.target==="draft-2020-12"?d.$defs=m:d.definitions=m);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...a["~standard"],jsonSchema:{input:od(a,"input",t.processors),output:od(a,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Yn(t,a){const l=a??{seen:new Set};if(l.seen.has(t))return!1;l.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Yn(o.element,l);if(o.type==="set")return Yn(o.valueType,l);if(o.type==="lazy")return Yn(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Yn(o.innerType,l);if(o.type==="intersection")return Yn(o.left,l)||Yn(o.right,l);if(o.type==="record"||o.type==="map")return Yn(o.keyType,l)||Yn(o.valueType,l);if(o.type==="pipe")return Yn(o.in,l)||Yn(o.out,l);if(o.type==="object"){for(const d in o.shape)if(Yn(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(Yn(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(Yn(d,l))return!0;return!!(o.rest&&Yn(o.rest,l))}return!1}const rC=(t,a={})=>l=>{const o=Vb({...l,processors:a});return Dn(t,o),Yb(o,t),$b(o,t)},od=(t,a,l={})=>o=>{const{libraryOptions:d,target:m}=o??{},p=Vb({...d??{},target:m,io:a,processors:l});return Dn(t,p),Yb(p,t),$b(p,t)},lC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},oC=(t,a,l,o)=>{const d=l;d.type="string";const{minimum:m,maximum:p,format:y,patterns:v,contentEncoding:b}=t._zod.bag;if(typeof m=="number"&&(d.minLength=m),typeof p=="number"&&(d.maxLength=p),y&&(d.format=lC[y]??y,d.format===""&&delete d.format,y==="time"&&delete d.format),b&&(d.contentEncoding=b),v&&v.size>0){const S=[...v];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...a.target==="draft-07"||a.target==="draft-04"||a.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},uC=(t,a,l,o)=>{const d=l,{minimum:m,maximum:p,format:y,multipleOf:v,exclusiveMaximum:b,exclusiveMinimum:S}=t._zod.bag;typeof y=="string"&&y.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof m=="number"&&(d.minimum=m,typeof S=="number"&&a.target!=="draft-04"&&(S>=m?delete d.minimum:delete d.exclusiveMinimum)),typeof b=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.maximum=b,d.exclusiveMaximum=!0):d.exclusiveMaximum=b),typeof p=="number"&&(d.maximum=p,typeof b=="number"&&a.target!=="draft-04"&&(b<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},cC=(t,a,l,o)=>{l.type="boolean"},dC=(t,a,l,o)=>{a.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},mC=(t,a,l,o)=>{l.not={}},hC=(t,a,l,o)=>{},fC=(t,a,l,o)=>{const d=t._zod.def,m=Tb(d.entries);m.every(p=>typeof p=="number")&&(l.type="number"),m.every(p=>typeof p=="string")&&(l.type="string"),l.enum=m},pC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},gC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},yC=(t,a,l,o)=>{const d=l,m=t._zod.def,{minimum:p,maximum:y}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof y=="number"&&(d.maxItems=y),d.type="array",d.items=Dn(m.element,a,{...o,path:[...o.path,"items"]})},xC=(t,a,l,o)=>{const d=l,m=t._zod.def;d.type="object",d.properties={};const p=m.shape;for(const b in p)d.properties[b]=Dn(p[b],a,{...o,path:[...o.path,"properties",b]});const y=new Set(Object.keys(p)),v=new Set([...y].filter(b=>{const S=m.shape[b]._zod;return a.io==="input"?S.optin===void 0:S.optout===void 0}));v.size>0&&(d.required=Array.from(v)),m.catchall?._zod.def.type==="never"?d.additionalProperties=!1:m.catchall?m.catchall&&(d.additionalProperties=Dn(m.catchall,a,{...o,path:[...o.path,"additionalProperties"]})):a.io==="output"&&(d.additionalProperties=!1)},vC=(t,a,l,o)=>{const d=t._zod.def,m=d.inclusive===!1,p=d.options.map((y,v)=>Dn(y,a,{...o,path:[...o.path,m?"oneOf":"anyOf",v]}));m?l.oneOf=p:l.anyOf=p},bC=(t,a,l,o)=>{const d=t._zod.def,m=Dn(d.left,a,{...o,path:[...o.path,"allOf",0]}),p=Dn(d.right,a,{...o,path:[...o.path,"allOf",1]}),y=b=>"allOf"in b&&Object.keys(b).length===1,v=[...y(m)?m.allOf:[m],...y(p)?p.allOf:[p]];l.allOf=v},_C=(t,a,l,o)=>{const d=t._zod.def,m=Dn(d.innerType,a,o),p=a.seen.get(t);a.target==="openapi-3.0"?(p.ref=d.innerType,l.nullable=!0):l.anyOf=[m,{type:"null"}]},NC=(t,a,l,o)=>{const d=t._zod.def;Dn(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType},jC=(t,a,l,o)=>{const d=t._zod.def;Dn(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},SC=(t,a,l,o)=>{const d=t._zod.def;Dn(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,a.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},wC=(t,a,l,o)=>{const d=t._zod.def;Dn(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=p},EC=(t,a,l,o)=>{const d=t._zod.def,m=a.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;Dn(m,a,o);const p=a.seen.get(t);p.ref=m},kC=(t,a,l,o)=>{const d=t._zod.def;Dn(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType,l.readOnly=!0},Jb=(t,a,l,o)=>{const d=t._zod.def;Dn(d.innerType,a,o);const m=a.seen.get(t);m.ref=d.innerType},TC=we("ZodISODateTime",(t,a)=>{Ak.init(t,a),an.init(t,a)});function CC(t){return RT(TC,t)}const AC=we("ZodISODate",(t,a)=>{zk.init(t,a),an.init(t,a)});function zC(t){return LT(AC,t)}const MC=we("ZodISOTime",(t,a)=>{Mk.init(t,a),an.init(t,a)});function OC(t){return PT(MC,t)}const DC=we("ZodISODuration",(t,a)=>{Ok.init(t,a),an.init(t,a)});function RC(t){return BT(DC,t)}const LC=(t,a)=>{Ob.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:l=>_1(t,l)},flatten:{value:l=>b1(t,l)},addIssue:{value:l=>{t.issues.push(l),t.message=JSON.stringify(t.issues,Nf,2)}},addIssues:{value:l=>{t.issues.push(...l),t.message=JSON.stringify(t.issues,Nf,2)}},isEmpty:{get(){return t.issues.length===0}}})},qa=we("ZodError",LC,{Parent:Error}),PC=tp(qa),BC=np(qa),IC=_d(qa),UC=Nd(qa),ZC=S1(qa),qC=w1(qa),FC=E1(qa),HC=k1(qa),KC=T1(qa),QC=C1(qa),GC=A1(qa),VC=z1(qa),mn=we("ZodType",(t,a)=>(dn.init(t,a),Object.assign(t["~standard"],{jsonSchema:{input:od(t,"input"),output:od(t,"output")}}),t.toJSONSchema=rC(t,{}),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...l)=>t.clone(Bs(a,{checks:[...a.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(l,o)=>Is(t,l,o),t.brand=()=>t,t.register=((l,o)=>(l.add(t,o),t)),t.parse=(l,o)=>PC(t,l,o,{callee:t.parse}),t.safeParse=(l,o)=>IC(t,l,o),t.parseAsync=async(l,o)=>BC(t,l,o,{callee:t.parseAsync}),t.safeParseAsync=async(l,o)=>UC(t,l,o),t.spa=t.safeParseAsync,t.encode=(l,o)=>ZC(t,l,o),t.decode=(l,o)=>qC(t,l,o),t.encodeAsync=async(l,o)=>FC(t,l,o),t.decodeAsync=async(l,o)=>HC(t,l,o),t.safeEncode=(l,o)=>KC(t,l,o),t.safeDecode=(l,o)=>QC(t,l,o),t.safeEncodeAsync=async(l,o)=>GC(t,l,o),t.safeDecodeAsync=async(l,o)=>VC(t,l,o),t.refine=(l,o)=>t.check(ZA(l,o)),t.superRefine=l=>t.check(qA(l)),t.overwrite=l=>t.check(Bl(l)),t.optional=()=>hv(t),t.exactOptional=()=>TA(t),t.nullable=()=>fv(t),t.nullish=()=>hv(fv(t)),t.nonoptional=l=>DA(t,l),t.array=()=>bA(t),t.or=l=>ud([t,l]),t.and=l=>SA(t,l),t.transform=l=>pv(t,EA(l)),t.default=l=>zA(t,l),t.prefault=l=>OA(t,l),t.catch=l=>LA(t,l),t.pipe=l=>pv(t,l),t.readonly=()=>IA(t),t.describe=l=>{const o=t.clone();return Vo.add(o,{description:l}),o},Object.defineProperty(t,"description",{get(){return Vo.get(t)?.description},configurable:!0}),t.meta=(...l)=>{if(l.length===0)return Vo.get(t);const o=t.clone();return Vo.add(o,l[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=l=>l(t),t)),Xb=we("_ZodString",(t,a)=>{ap.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(o,d,m)=>oC(t,o,d);const l=t._zod.bag;t.format=l.format??null,t.minLength=l.minimum??null,t.maxLength=l.maximum??null,t.regex=(...o)=>t.check(KT(...o)),t.includes=(...o)=>t.check(VT(...o)),t.startsWith=(...o)=>t.check(YT(...o)),t.endsWith=(...o)=>t.check($T(...o)),t.min=(...o)=>t.check(ld(...o)),t.max=(...o)=>t.check(Qb(...o)),t.length=(...o)=>t.check(Gb(...o)),t.nonempty=(...o)=>t.check(ld(1,...o)),t.lowercase=o=>t.check(QT(o)),t.uppercase=o=>t.check(GT(o)),t.trim=()=>t.check(XT()),t.normalize=(...o)=>t.check(JT(...o)),t.toLowerCase=()=>t.check(WT()),t.toUpperCase=()=>t.check(eC()),t.slugify=()=>t.check(tC())}),YC=we("ZodString",(t,a)=>{ap.init(t,a),Xb.init(t,a),t.email=l=>t.check(fT($C,l)),t.url=l=>t.check(vT(JC,l)),t.jwt=l=>t.check(DT(mA,l)),t.emoji=l=>t.check(bT(XC,l)),t.guid=l=>t.check(rv(cv,l)),t.uuid=l=>t.check(pT(Ic,l)),t.uuidv4=l=>t.check(gT(Ic,l)),t.uuidv6=l=>t.check(yT(Ic,l)),t.uuidv7=l=>t.check(xT(Ic,l)),t.nanoid=l=>t.check(_T(WC,l)),t.guid=l=>t.check(rv(cv,l)),t.cuid=l=>t.check(NT(eA,l)),t.cuid2=l=>t.check(jT(tA,l)),t.ulid=l=>t.check(ST(nA,l)),t.base64=l=>t.check(zT(uA,l)),t.base64url=l=>t.check(MT(cA,l)),t.xid=l=>t.check(wT(aA,l)),t.ksuid=l=>t.check(ET(iA,l)),t.ipv4=l=>t.check(kT(sA,l)),t.ipv6=l=>t.check(TT(rA,l)),t.cidrv4=l=>t.check(CT(lA,l)),t.cidrv6=l=>t.check(AT(oA,l)),t.e164=l=>t.check(OT(dA,l)),t.datetime=l=>t.check(CC(l)),t.date=l=>t.check(zC(l)),t.time=l=>t.check(OC(l)),t.duration=l=>t.check(RC(l))});function ja(t){return hT(YC,t)}const an=we("ZodStringFormat",(t,a)=>{en.init(t,a),Xb.init(t,a)}),$C=we("ZodEmail",(t,a)=>{_k.init(t,a),an.init(t,a)}),cv=we("ZodGUID",(t,a)=>{vk.init(t,a),an.init(t,a)}),Ic=we("ZodUUID",(t,a)=>{bk.init(t,a),an.init(t,a)}),JC=we("ZodURL",(t,a)=>{Nk.init(t,a),an.init(t,a)}),XC=we("ZodEmoji",(t,a)=>{jk.init(t,a),an.init(t,a)}),WC=we("ZodNanoID",(t,a)=>{Sk.init(t,a),an.init(t,a)}),eA=we("ZodCUID",(t,a)=>{wk.init(t,a),an.init(t,a)}),tA=we("ZodCUID2",(t,a)=>{Ek.init(t,a),an.init(t,a)}),nA=we("ZodULID",(t,a)=>{kk.init(t,a),an.init(t,a)}),aA=we("ZodXID",(t,a)=>{Tk.init(t,a),an.init(t,a)}),iA=we("ZodKSUID",(t,a)=>{Ck.init(t,a),an.init(t,a)}),sA=we("ZodIPv4",(t,a)=>{Dk.init(t,a),an.init(t,a)}),rA=we("ZodIPv6",(t,a)=>{Rk.init(t,a),an.init(t,a)}),lA=we("ZodCIDRv4",(t,a)=>{Lk.init(t,a),an.init(t,a)}),oA=we("ZodCIDRv6",(t,a)=>{Pk.init(t,a),an.init(t,a)}),uA=we("ZodBase64",(t,a)=>{Bk.init(t,a),an.init(t,a)}),cA=we("ZodBase64URL",(t,a)=>{Uk.init(t,a),an.init(t,a)}),dA=we("ZodE164",(t,a)=>{Zk.init(t,a),an.init(t,a)}),mA=we("ZodJWT",(t,a)=>{Fk.init(t,a),an.init(t,a)}),Wb=we("ZodNumber",(t,a)=>{qb.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(o,d,m)=>uC(t,o,d),t.gt=(o,d)=>t.check(ov(o,d)),t.gte=(o,d)=>t.check(Mh(o,d)),t.min=(o,d)=>t.check(Mh(o,d)),t.lt=(o,d)=>t.check(lv(o,d)),t.lte=(o,d)=>t.check(zh(o,d)),t.max=(o,d)=>t.check(zh(o,d)),t.int=o=>t.check(dv(o)),t.safe=o=>t.check(dv(o)),t.positive=o=>t.check(ov(0,o)),t.nonnegative=o=>t.check(Mh(0,o)),t.negative=o=>t.check(lv(0,o)),t.nonpositive=o=>t.check(zh(0,o)),t.multipleOf=(o,d)=>t.check(uv(o,d)),t.step=(o,d)=>t.check(uv(o,d)),t.finite=()=>t;const l=t._zod.bag;t.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),t.isFinite=!0,t.format=l.format??null}),hA=we("ZodNumberFormat",(t,a)=>{Hk.init(t,a),Wb.init(t,a)});function dv(t){return UT(hA,t)}const fA=we("ZodBoolean",(t,a)=>{Kk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>cC(t,l,o)});function Sd(t){return ZT(fA,t)}const pA=we("ZodNull",(t,a)=>{Qk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>dC(t,l,o)});function Sf(t){return qT(pA,t)}const gA=we("ZodUnknown",(t,a)=>{Gk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>hC()});function mv(){return FT(gA)}const yA=we("ZodNever",(t,a)=>{Vk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>mC(t,l,o)});function xA(t){return HT(yA,t)}const vA=we("ZodArray",(t,a)=>{Yk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>yC(t,l,o,d),t.element=a.element,t.min=(l,o)=>t.check(ld(l,o)),t.nonempty=l=>t.check(ld(1,l)),t.max=(l,o)=>t.check(Qb(l,o)),t.length=(l,o)=>t.check(Gb(l,o)),t.unwrap=()=>t.element});function bA(t,a){return nC(vA,t,a)}const _A=we("ZodObject",(t,a)=>{Jk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>xC(t,l,o,d),Lt(t,"shape",()=>a.shape),t.keyof=()=>Ef(Object.keys(t._zod.def.shape)),t.catchall=l=>t.clone({...t._zod.def,catchall:l}),t.passthrough=()=>t.clone({...t._zod.def,catchall:mv()}),t.loose=()=>t.clone({...t._zod.def,catchall:mv()}),t.strict=()=>t.clone({...t._zod.def,catchall:xA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=l=>p1(t,l),t.safeExtend=l=>g1(t,l),t.merge=l=>y1(t,l),t.pick=l=>h1(t,l),t.omit=l=>f1(t,l),t.partial=(...l)=>x1(e_,t,l[0]),t.required=(...l)=>v1(t_,t,l[0])});function Fa(t,a){const l={type:"object",shape:t??{},...Ge(a)};return new _A(l)}const NA=we("ZodUnion",(t,a)=>{Xk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>vC(t,l,o,d),t.options=a.options});function ud(t,a){return new NA({type:"union",options:t,...Ge(a)})}const jA=we("ZodIntersection",(t,a)=>{Wk.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>bC(t,l,o,d)});function SA(t,a){return new jA({type:"intersection",left:t,right:a})}const wf=we("ZodEnum",(t,a)=>{eT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(o,d,m)=>fC(t,o,d),t.enum=a.entries,t.options=Object.values(a.entries);const l=new Set(Object.keys(a.entries));t.extract=(o,d)=>{const m={};for(const p of o)if(l.has(p))m[p]=a.entries[p];else throw new Error(`Key ${p} not found in enum`);return new wf({...a,checks:[],...Ge(d),entries:m})},t.exclude=(o,d)=>{const m={...a.entries};for(const p of o)if(l.has(p))delete m[p];else throw new Error(`Key ${p} not found in enum`);return new wf({...a,checks:[],...Ge(d),entries:m})}});function Ef(t,a){const l=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new wf({type:"enum",entries:l,...Ge(a)})}const wA=we("ZodTransform",(t,a)=>{tT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>gC(t,l),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Eb(t.constructor.name);l.addIssue=m=>{if(typeof m=="string")l.issues.push(nu(m,l.value,a));else{const p=m;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=l.value),p.inst??(p.inst=t),l.issues.push(nu(p))}};const d=a.transform(l.value,l);return d instanceof Promise?d.then(m=>(l.value=m,l)):(l.value=d,l)}});function EA(t){return new wA({type:"transform",transform:t})}const e_=we("ZodOptional",(t,a)=>{Kb.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Jb(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function hv(t){return new e_({type:"optional",innerType:t})}const kA=we("ZodExactOptional",(t,a)=>{nT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Jb(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function TA(t){return new kA({type:"optional",innerType:t})}const CA=we("ZodNullable",(t,a)=>{aT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>_C(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function fv(t){return new CA({type:"nullable",innerType:t})}const AA=we("ZodDefault",(t,a)=>{iT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>jC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function zA(t,a){return new AA({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():Ab(a)}})}const MA=we("ZodPrefault",(t,a)=>{sT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>SC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function OA(t,a){return new MA({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():Ab(a)}})}const t_=we("ZodNonOptional",(t,a)=>{rT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>NC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function DA(t,a){return new t_({type:"nonoptional",innerType:t,...Ge(a)})}const RA=we("ZodCatch",(t,a)=>{lT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>wC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function LA(t,a){return new RA({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const PA=we("ZodPipe",(t,a)=>{oT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>EC(t,l,o,d),t.in=a.in,t.out=a.out});function pv(t,a){return new PA({type:"pipe",in:t,out:a})}const BA=we("ZodReadonly",(t,a)=>{uT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>kC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function IA(t){return new BA({type:"readonly",innerType:t})}const UA=we("ZodCustom",(t,a)=>{cT.init(t,a),mn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>pC(t,l)});function ZA(t,a={}){return aC(UA,t,a)}function qA(t){return iC(t)}function _n(t){return IT(Wb,t)}const FA=Fa({employee_id:_n().int().positive(),expires_in_minutes:_n().int().positive().max(43200)});function Uc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function gv(t,a){return`${new Intl.DateTimeFormat("tr-TR",{month:"long"}).format(new Date(Date.UTC(t,a-1,1)))} ${t}`}function HA(t){return t==="FINISHED"?"status-badge status-badge-ok":t==="IN_PROGRESS"?"status-badge status-badge-pending":"status-badge status-badge-neutral"}function KA(){const t=Rn(),[a,l]=N.useState(""),[o,d]=N.useState("60"),[m,p]=N.useState(null),[y,v]=N.useState(null),b=Le({queryKey:["departments"],queryFn:Ps}),S=Le({queryKey:["employees"],queryFn:()=>ii({status:"active"})}),w=Le({queryKey:["devices"],queryFn:yb}),C=Le({queryKey:["leaves","dashboard"],queryFn:()=>vb({})}),z=Le({queryKey:["attendance-events","dashboard"],queryFn:()=>Yf({limit:8})}),k=Le({queryKey:["dashboard-employee-snapshot",a],queryFn:()=>xb({employee_id:Number(a)}),enabled:!!a,staleTime:2e4}),A=Ye({mutationFn:bb,onSuccess:K=>{p({token:K.token,invite_url:K.invite_url}),v(null),t.invalidateQueries({queryKey:["devices"]})},onError:K=>{v(qE(K,"Claim token olusturulamadi."))}}),O=()=>{p(null),v(null);const K=FA.safeParse({employee_id:a,expires_in_minutes:o});if(!K.success){v(K.error.issues[0]?.message??"Form alanlarini kontrol et.");return}A.mutate(K.data)},Z=b.data??[],R=S.data??[],P=w.data??[],G=C.data??[],$=z.data??[],Y=N.useMemo(()=>R.find(K=>String(K.id)===a)??null,[R,a]);return b.isLoading||S.isLoading||w.isLoading||C.isLoading||z.isLoading?i.jsx(At,{}):b.isError||S.isError||w.isError||C.isError||z.isError?i.jsx(Nt,{message:"Dashboard verileri alinamadi."}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(En,{title:"Genel Bakis",description:"Calisan odakli claim token operasyonu ve anlik puantaj gorunumu."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Departman"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:Z.length})]}),i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Calisan"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:R.length})]}),i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Cihaz"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:P.length})]}),i.jsxs(Ae,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Izin Kaydi"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:G.length})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.05fr_1.3fr]",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Claim Token Uretimi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Calisan adi veya ID secip employee claim URL olustur."}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(Ia,{label:"Calisan",employees:R,value:a,onChange:l,placeholder:"Calisan adi veya #ID",helperText:"Tek bir calisan secildiginde dashboard ozet kartlari otomatik dolar."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Token suresi (dakika)",i.jsx("input",{value:o,onChange:K=>d(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),Y?i.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[i.jsxs("p",{children:["Secili: #",Y.id," - ",Y.full_name]}),i.jsxs("p",{children:["Departman: ",Y.department_id??"-"]})]}):null,i.jsx("button",{type:"button",onClick:O,disabled:A.isPending||!a,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Olusturuluyor...":"Claim Token Olustur"}),m?i.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[i.jsxs("p",{className:"font-semibold",children:["Token: ",m.token]}),i.jsxs("p",{className:"mt-1 break-all",children:["URL: ",m.invite_url]})]}):null,y?i.jsx("div",{className:"form-validation",children:y}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Canli Ozet"}),a?null:i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bir calisan secildiginde bu ay/gecen ay mesai, cihaz ve konum bilgisi gorunur."}),a&&k.isLoading?i.jsx(At,{label:"Calisan ozeti yukleniyor..."}):null,a&&k.isError?i.jsx(Nt,{message:"Calisan ozeti alinamadi."}):null,k.data?i.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:HA(k.data.today_status),children:k.data.today_status}),i.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Aktif cihaz: ",k.data.active_devices,"/",k.data.total_devices]}),i.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Son guncelleme: ",Uc(k.data.generated_at_utc)]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:gv(k.data.current_month.year,k.data.current_month.month)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",i.jsx(De,{minutes:k.data.current_month.worked_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",i.jsx(De,{minutes:k.data.current_month.plan_overtime_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",i.jsx(De,{minutes:k.data.current_month.extra_work_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",i.jsx(De,{minutes:k.data.current_month.overtime_minutes})]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:gv(k.data.previous_month.year,k.data.previous_month.month)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",i.jsx(De,{minutes:k.data.previous_month.worked_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",i.jsx(De,{minutes:k.data.previous_month.plan_overtime_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",i.jsx(De,{minutes:k.data.previous_month.extra_work_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",i.jsx(De,{minutes:k.data.previous_month.overtime_minutes})]})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Puantaj Olayi"}),k.data.last_event?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Tip: ",k.data.last_event.event_type]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Uc(k.data.last_event.ts_utc)]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Konum: ",k.data.last_event.location_status]})]}):i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Kayit bulunamadi."})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Konum"}),k.data.latest_location?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Lat/Lon: ",k.data.latest_location.lat.toFixed(6),", ",k.data.latest_location.lon.toFixed(6)]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Uc(k.data.latest_location.ts_utc)]})]}):i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Konum verisi yok."})]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cihazlar"}),k.data.devices.length===0?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cihaz kaydi bulunamadi."}):i.jsx("div",{className:"mt-2 space-y-1 text-xs text-slate-700",children:k.data.devices.slice(0,8).map(K=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded border border-slate-100 px-2 py-1",children:[i.jsxs("span",{children:["#",K.id," - ",K.device_fingerprint]}),i.jsx("span",{className:K.is_active?"status-badge status-badge-ok":"status-badge status-badge-danger",children:K.is_active?"AKTIF":"PASIF"})]},K.id))})]})]}):null]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Son Attendance Eventleri"}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"Calisan"}),i.jsx("th",{className:"py-2",children:"Tip"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Zaman"})]})}),i.jsx("tbody",{children:$.map(K=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:K.id}),i.jsx("td",{className:"py-2",children:K.employee_id}),i.jsx("td",{className:"py-2",children:K.type}),i.jsx("td",{className:"py-2",children:K.location_status}),i.jsx("td",{className:"py-2",children:Uc(K.ts_utc)})]},K.id))})]})})]})]})}function QA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function GA(){const t=new Date,{pushToast:a}=Ln(),l={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=N.useState(l),[m,p]=N.useState(l),[y,v]=N.useState(!1),b=Le({queryKey:["departments"],queryFn:Ps}),S=Number(m.year),w=Number(m.month),C=Number(m.departmentId),z=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=Le({queryKey:["department-summary",S,w,m.departmentId||"all",m.includeInactive?"with-inactive":"active-only"],queryFn:()=>wE({year:S,month:w,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:m.includeInactive}),enabled:z}),A=k.data??[],O=N.useMemo(()=>A.reduce(($,Y)=>($.worked+=Y.worked_minutes,$.planOvertime+=Y.plan_overtime_minutes,$.legalExtra+=Y.legal_extra_work_minutes,$.legalOvertime+=Y.legal_overtime_minutes,$.employeeCount+=Y.employee_count,$),{worked:0,planOvertime:0,legalExtra:0,legalOvertime:0,employeeCount:0}),[A]),Z=N.useMemo(()=>{const $=[`Yl: ${m.year}`,`Ay: ${m.month}`];if(m.departmentId){const Y=b.data?.find(K=>K.id===Number(m.departmentId));$.push(`Departman: ${Y?.name??m.departmentId}`)}return m.includeInactive&&$.push("Arivdekiler dahil"),$},[m,b.data]),R=()=>p({...o}),P=()=>{d(l),p(l)},G=async()=>{if(!z){a({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const $=Number.isFinite(C)&&C>0?await OE({department_id:C,year:S,month:w,include_inactive:m.includeInactive}):await DE({year:S,month:w,include_inactive:m.includeInactive}),Y=Number.isFinite(C)&&C>0?`department-${C}`:"all";QA($,`puantaj-${Y}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch($){a({variant:"error",title:"Excel indirilemedi",description:Ie($,"Dosya oluturulamad.").message})}finally{v(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma, plan st sre ve yasal fazla mesai deerlerini karlatrn.",action:i.jsx("button",{type:"button",onClick:()=>{G()},disabled:y,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:y?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{type:"number",value:o.year,onChange:$=>d(Y=>({...Y,year:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:o.month,onChange:$=>d(Y=>({...Y,month:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",i.jsxs("select",{value:o.departmentId,onChange:$=>d(Y=>({...Y,departmentId:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:b.isLoading,children:[i.jsx("option",{value:"",children:"Tm"}),(b.data??[]).map($=>i.jsxs("option",{value:$.id,children:["#",$.id," - ",$.name]},$.id))]})]})]}),i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:$=>d(Y=>({...Y,includeInactive:$.target.checked}))}),"Arivdeki alanlar dahil et"]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:R,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:P,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Z.map($=>i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:$},$))})]}),z?null:i.jsx(Nt,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?i.jsx(At,{}):null,k.isError?i.jsx(Nt,{message:Ie(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?i.jsxs(i.Fragment,{children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-5",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.worked})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Plan st Sre"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.planOvertime})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Sre"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.legalExtra})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.legalOvertime})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),i.jsx("p",{className:"text-lg font-semibold",children:O.employeeCount})]})]})]}),A.length===0?i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):i.jsx(Ae,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"alan Says"}),i.jsx("th",{className:"py-2",children:"Toplam alma"}),i.jsx("th",{className:"py-2",children:"Plan st"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sre"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"})]})}),i.jsx("tbody",{children:A.map($=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsxs("td",{className:"py-2",children:["#",$.department_id," - ",$.department_name]}),i.jsx("td",{className:"py-2",children:$.employee_count}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.legal_overtime_minutes})})]},$.department_id))})]})})})]}):null]})}function Yi({value:t,onChange:a,placeholder:l="Isme gore ara..."}){return i.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",i.jsx("input",{value:t,onChange:o=>a(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const yv=Fa({name:ja().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:ud([_n().int().positive(),Sf()])});function xv(t){if(Qt.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const a=Ie(t,"Departman olusturulamadi.");return a.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":a.message}function VA(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState(!1),[S,w]=N.useState(""),[C,z]=N.useState(null),[k,A]=N.useState(""),[O,Z]=N.useState(""),[R,P]=N.useState(null),G=Le({queryKey:["departments",S],queryFn:()=>I2(S?{region_id:Number(S)}:void 0)}),$=Le({queryKey:["regions","departments-page"],queryFn:()=>xd({include_inactive:!0})}),Y=Ye({mutationFn:U2,onSuccess:U=>{o(""),m(""),P(null),b(!1),a({variant:"success",title:"Departman olusturuldu",description:`${U.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:U=>{const le=xv(U);P(le),a({variant:"error",title:"Departman olusturulamadi",description:le})}}),K=Ye({mutationFn:({departmentId:U,name:le,regionIdValue:q})=>Z2(U,{name:le,region_id:q}),onSuccess:U=>{P(null),z(null),A(""),Z(""),a({variant:"success",title:"Departman guncellendi",description:`${U.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:U=>{const le=xv(U);P(le),a({variant:"error",title:"Departman guncellenemedi",description:le})}}),Q=U=>{U.preventDefault(),P(null);const le=d.trim()===""?null:Number(d),q=yv.safeParse({name:l,region_id:le});if(!q.success){const ie=q.error.issues[0]?.message??"Departman alanlarini kontrol edin.";P(ie),a({variant:"error",title:"Form hatasi",description:ie});return}Y.mutate({name:q.data.name,region_id:q.data.region_id})},ae=U=>{if(U.preventDefault(),P(null),!C)return;const le=O.trim()===""?null:Number(O),q=yv.safeParse({name:k,region_id:le});if(!q.success){const ie=q.error.issues[0]?.message??"Departman alanlarini kontrol edin.";P(ie),a({variant:"error",title:"Form hatasi",description:ie});return}K.mutate({departmentId:C,name:q.data.name,regionIdValue:q.data.region_id})},ye=G.data??[],ee=$.data??[],ue=N.useMemo(()=>new Map(ee.map(U=>[U.id,U.name])),[ee]),oe=N.useMemo(()=>{const U=p.trim().toLowerCase();return U?ye.filter(le=>le.name.toLowerCase().includes(U)):ye},[ye,p]);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:i.jsx("button",{type:"button",onClick:()=>b(U=>!U),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:Q,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",i.jsx("input",{value:l,onChange:U=>o(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:d,onChange:U=>m(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Bolge yok"}),ee.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]}),i.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[i.jsx("button",{type:"submit",disabled:Y.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Y.isPending?"Kaydediliyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{b(!1),P(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),R?i.jsx("div",{className:"form-validation",children:R}):null]}):null,C?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:ae,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",i.jsx("input",{value:k,onChange:U=>A(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:O,onChange:U=>Z(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Bolge yok"}),ee.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]}),i.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[i.jsx("button",{type:"submit",disabled:K.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?"Guncelleniyor...":"Guncelle"}),i.jsx("button",{type:"button",onClick:()=>{z(null),A(""),Z(""),P(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),R?i.jsx("div",{className:"form-validation",children:R}):null]}):null,G.isLoading||$.isLoading?i.jsx(At,{}):null,G.isError||$.isError?i.jsx(Nt,{message:"Departman verileri alinamadi."}):null,!G.isLoading&&!G.isError&&!$.isLoading&&!$.isError?i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Yi,{value:p,onChange:y,placeholder:"Departman adina gore ara..."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:S,onChange:U=>w(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),ee.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman ID"}),i.jsx("th",{className:"py-2",children:"Departman Adi"}),i.jsx("th",{className:"py-2",children:"Bolge"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:oe.map(U=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:U.id}),i.jsx("td",{className:"py-2",children:U.name}),i.jsx("td",{className:"py-2",children:U.region_name??(U.region_id?ue.get(U.region_id):"-")??"-"}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>{z(U.id),A(U.name),Z(U.region_id?String(U.region_id):""),P(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},U.id))})]})}),oe.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Ls({value:t}){const a=t.toUpperCase();return a==="OK"||a==="AKTIF"||a==="APPROVED"?i.jsx("span",{className:"status-badge status-badge-ok",children:t}):a==="INCOMPLETE"?i.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):a==="LEAVE"?i.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):a==="OFF"?i.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):a==="PENDING"?i.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):a==="REJECTED"||a==="PASIF"?i.jsx("span",{className:"status-badge status-badge-danger",children:t}):i.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function YA(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function $A(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(!0),[v,b]=N.useState(""),[S,w]=N.useState(1),[C,z]=N.useState(50),[k,A]=N.useState(null),O=l?Number(l):void 0,Z=O?0:(S-1)*C,R=Le({queryKey:["employee-device-overview-summary",O??null,d,p,v,S,C],queryFn:()=>_f({employee_id:O,region_id:d?Number(d):void 0,include_inactive:p,q:v.trim()||void 0,offset:Z,limit:O?1:C,device_limit:1})}),P=Le({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>_f({employee_id:k??void 0,include_inactive:!0,offset:0,limit:1,device_limit:100})}),G=Le({queryKey:["employees","all-for-devices"],queryFn:()=>ii({include_inactive:!0,status:"all"})}),$=Le({queryKey:["regions","devices-page"],queryFn:()=>xd({include_inactive:!0})}),Y=Ye({mutationFn:({deviceId:oe,isActive:U})=>NE(oe,{is_active:U}),onSuccess:oe=>{a({variant:"success",title:oe.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${oe.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:oe=>{a({variant:"error",title:"Cihaz durumu gncellenemedi",description:Ie(oe,"lem baarsz.").message})}}),K=G.data??[],Q=$.data??[],ae=R.data??[],ye=P.data?.[0],ee=!O&&ae.length===C,ue=!O&&S>1;return R.isLoading||G.isLoading||$.isLoading?i.jsx(At,{}):R.isError?i.jsx(Nt,{message:Ie(R.error,"Cihaz verisi alnamad.").message}):G.isError?i.jsx(Nt,{message:Ie(G.error,"alan listesi alnamad.").message}):$.isError?i.jsx(Nt,{message:Ie($.error,"Bolge listesi alinamadi.").message}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[i.jsx(Ia,{label:"alan filtresi",employees:K,value:l,onChange:oe=>{o(oe),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",i.jsx("input",{type:"text",value:v,onChange:oe=>{b(oe.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",i.jsxs("select",{value:C,onChange:oe=>{z(Number(oe.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:d,onChange:oe=>{m(oe.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),Q.map(oe=>i.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:oe=>{y(oe.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),O?null:i.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",disabled:!ue,onClick:()=>{w(oe=>Math.max(1,oe-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),i.jsx("button",{type:"button",disabled:!ee,onClick:()=>{w(oe=>oe+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),i.jsxs(Ae,{children:[i.jsx("div",{className:"max-h-[68vh] overflow-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-2",children:"alan"}),i.jsx("th",{className:"px-2 py-2",children:"Departman"}),i.jsx("th",{className:"px-2 py-2",children:"Durum"}),i.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),i.jsx("th",{className:"px-2 py-2",children:"Token"}),i.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:ae.map(oe=>{const U=k===oe.employee_id;return i.jsxs(N.Fragment,{children:[i.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"font-medium text-slate-900",children:["#",oe.employee_id," - ",oe.employee_name]})}),i.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:oe.department_name??oe.department_id??"-"}),i.jsx("td",{className:"px-2 py-2",children:i.jsx(Ls,{value:oe.is_employee_active?"Aktif":"Pasif"})}),i.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:oe.active_devices})," aktif / ",oe.total_devices," toplam"]}),i.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",oe.token_used," B:",oe.token_pending," D:",oe.token_expired," T:",oe.token_total]}),i.jsx("td",{className:"px-2 py-2 text-right",children:i.jsx("button",{type:"button",onClick:()=>{A(le=>le===oe.employee_id?null:oe.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:U?"Kapat":"Cihazlar Ynet"})})]}),U?i.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:i.jsx("td",{colSpan:6,className:"px-2 py-3",children:P.isLoading?i.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):P.isError?i.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):ye?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-xs",children:[i.jsx("thead",{className:"uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Cihaz ID"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Fingerprint"}),i.jsx("th",{className:"py-2",children:"Oluturulma"}),i.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:ye.devices.map(le=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:le.id}),i.jsx("td",{className:"py-2",children:i.jsx(Ls,{value:le.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2 font-mono",children:le.device_fingerprint}),i.jsx("td",{className:"py-2",children:YA(le.created_at)}),i.jsx("td",{className:"py-2 text-right",children:i.jsx("button",{type:"button",disabled:Y.isPending,onClick:()=>Y.mutate({deviceId:le.id,isActive:!le.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${le.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:le.is_active?"Pasife Al":"Aktif Et"})})]},le.id))})]}),ye.has_more_devices?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,ye.devices.length===0?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):i.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},oe.employee_id)})})]})}),ae.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]})]})}function JA(){const t=Rn(),{pushToast:a}=Ln(),l=Le({queryKey:["compliance-settings"],queryFn:CE}),[o,d]=N.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});N.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const m=Ye({mutationFn:AE,onSuccess:()=>{a({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{a({variant:"error",title:"Kayit hatasi",description:Ie(p,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?i.jsx(At,{}):l.isError?i.jsx(Nt,{message:Ie(l.error,"Uyumluluk ayarlari alinamadi.").message}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),i.jsx(Ae,{children:i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),m.mutate(o)},children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",i.jsx("input",{value:o.name,onChange:p=>d(y=>({...y,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(y=>({...y,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(y=>({...y,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(y=>({...y,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",i.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(y=>({...y,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",i.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(y=>({...y,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",i.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(y=>({...y,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",i.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(y=>({...y,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"OFF",children:"OFF"}),i.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[i.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(y=>({...y,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[i.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(y=>({...y,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),i.jsx("div",{className:"md:col-span-2",children:i.jsx("button",{type:"submit",disabled:m.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:m.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.weekly_normal_minutes_default})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.daily_max_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const XA=Fa({username:ja().min(1,"Kullanici adi gerekli."),password:ja().min(1,"Sifre gerekli.")});function WA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function ez(t){return t.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":t.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function tz(){const[t]=qf(),[a,l]=N.useState("admin"),[o,d]=N.useState(""),[m,p]=N.useState(null),[y,v]=N.useState(null),[b,S]=N.useState(!1),w=N.useMemo(()=>{const z=t.get("archive_id");if(!z)return null;const k=Number(z);return!Number.isInteger(k)||k<=0?null:k},[t]),C=async z=>{if(z.preventDefault(),p(null),v(null),!w){p({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const k=XA.safeParse({username:a,password:o});if(!k.success){p({message:k.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}S(!0);try{const A=await bE(w,k.data),O=A.file_name??`arsiv-${w}.xlsx`;WA(A.blob,O),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){p(Ie(A,"Excel dosyasi indirilemedi."))}finally{S(!1)}};return i.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),i.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:a,onChange:z=>l(z.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),i.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),m?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[i.jsx("p",{className:"font-semibold",children:ez(m)}),i.jsx("p",{className:"mt-1",children:m.message}),m.requestId?i.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",m.requestId]}):null]}):null,y?i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:y}):null,i.jsx("button",{type:"submit",disabled:b||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:b?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),i.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[Ni.signatureText," | BUILD: ",Ni.buildVersion]})]})})}const ip=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function $o(){return Object.fromEntries(ip.map(t=>[t.key,{read:!1,write:!1}]))}function nz(t){const a=$o();return t&&ip.forEach(({key:l})=>{const o=t[l];o&&(a[l]={read:!!(o.read||o.write),write:!!o.write})}),a}function vv({value:t,disabled:a=!1,onChange:l}){const o=(d,m,p)=>{const v={...t[d]??{read:!1,write:!1}};m==="read"?(v.read=p,p||(v.write=!1)):(v.write=p,p&&(v.read=!0)),l({...t,[d]:v})};return i.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"Modul"}),i.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),i.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),i.jsx("tbody",{children:ip.map(d=>{const m=t[d.key]??{read:!1,write:!1};return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-3 py-2",children:d.label}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("input",{type:"checkbox",checked:m.read,disabled:a,onChange:p=>o(d.key,"read",p.target.checked)})}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("input",{type:"checkbox",checked:m.write,disabled:a,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function bv(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:$o()}}function az(){const t=Rn(),{pushToast:a}=Ln(),{hasPermission:l,isSuperAdmin:o}=zr(),d=l("admin_users"),m=l("admin_users","write"),[p,y]=N.useState(bv()),[v,b]=N.useState(null),[S,w]=N.useState(""),[C,z]=N.useState(""),[k,A]=N.useState(""),[O,Z]=N.useState(!0),[R,P]=N.useState(!1),[G,$]=N.useState($o()),Y=Le({queryKey:["admin-users"],queryFn:ub,enabled:d}),K=Ye({mutationFn:L2,onSuccess:()=>{a({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),y(bv()),t.invalidateQueries({queryKey:["admin-users"]})},onError:U=>{const le=Ie(U,"Admin kullanici olusturulamadi.");a({variant:"error",title:"Kayit basarisiz",description:le.message})}}),Q=Ye({mutationFn:({userId:U,payload:le})=>P2(U,le),onSuccess:()=>{a({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),b(null),A(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:U=>{const le=Ie(U,"Admin kullanici guncellenemedi.");a({variant:"error",title:"Guncelleme basarisiz",description:le.message})}}),ae=Ye({mutationFn:B2,onSuccess:()=>{a({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:U=>{const le=Ie(U,"Admin kullanici silinemedi.");a({variant:"error",title:"Silme basarisiz",description:le.message})}}),ye=N.useMemo(()=>[...Y.data??[]].sort((le,q)=>le.username.localeCompare(q.username)),[Y.data]);if(!d)return i.jsx(Nt,{message:"Bu alani goruntuleme yetkiniz yok."});if(Y.isLoading)return i.jsx(At,{label:"Admin kullanicilar yukleniyor..."});if(Y.isError)return i.jsx(Nt,{message:"Admin kullanici listesi alinamadi."});const ee=U=>{if(U.preventDefault(),!!m){if(!o){a({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}K.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?$o():p.permissions})}},ue=U=>{b(U),w(U.username),z(U.full_name??""),A(""),Z(U.is_active),P(U.is_super_admin),$(nz(U.permissions))},oe=U=>{U.preventDefault(),!(!v||!m)&&Q.mutate({userId:v.id,payload:{username:S.trim(),full_name:C.trim()||null,password:k.trim()?k:void 0,is_active:O,is_super_admin:R,permissions:R?$o():G}})};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),i.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",i.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:i.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),i.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",i.jsx("input",{value:p.username,onChange:U=>y(le=>({...le,username:U.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:p.full_name,onChange:U=>y(le=>({...le,full_name:U.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",i.jsx("input",{type:"password",value:p.password,onChange:U=>y(le=>({...le,password:U.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!m||!o,onChange:U=>y(le=>({...le,is_active:U.target.checked}))}),"Aktif"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!m||!o,onChange:U=>y(le=>({...le,is_super_admin:U.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?i.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):i.jsx(vv,{value:p.permissions,disabled:!m||!o,onChange:U=>y(le=>({...le,permissions:U}))}),i.jsx("button",{type:"submit",disabled:!m||!o||K.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"Kullanici"}),i.jsx("th",{className:"py-2",children:"Ad Soyad"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Rol"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:ye.map(U=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:U.id}),i.jsx("td",{className:"py-2 font-medium text-slate-900",children:U.username}),i.jsx("td",{className:"py-2",children:U.full_name??"-"}),i.jsx("td",{className:"py-2",children:i.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${U.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:U.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:U.is_super_admin?"Super Admin":"Yetkili Admin"}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",disabled:!m||!o,onClick:()=>ue(U),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),i.jsx("button",{type:"button",disabled:!m||!o||ae.isPending,onClick:()=>{window.confirm(`${U.username} kullanicisini silmek istediginize emin misiniz?`)&&ae.mutate(U.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},U.id))})]})}),ye.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),i.jsx(eu,{open:!!v,title:"Admin Kullanici Duzenle",onClose:()=>{b(null),A("")},children:v?i.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",i.jsx("input",{value:S,onChange:U=>w(U.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:C,onChange:U=>z(U.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",i.jsx("input",{type:"password",value:k,onChange:U=>A(U.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:O,disabled:!m||!o,onChange:U=>Z(U.target.checked)}),"Aktif"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:R,disabled:!m||!o,onChange:U=>P(U.target.checked)}),"Super Admin"]})]}),R?i.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):i.jsx(vv,{value:G,disabled:!m||!o,onChange:$}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{b(null),A("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),i.jsx("button",{type:"submit",disabled:!m||!o||Q.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Q.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function _v({label:t,value:a,onCopy:l}){return i.jsxs("label",{className:"block text-sm text-slate-700",children:[t,i.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[i.jsx("input",{readOnly:!0,value:a,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),i.jsx("button",{type:"button",onClick:()=>l(a),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Yo={exports:{}};var iz=Yo.exports,Nv;function sz(){return Nv||(Nv=1,(function(t,a){(function(l,o){o(a)})(iz,(function(l){var o="1.9.4";function d(s){var u,h,x,_;for(h=1,x=arguments.length;h<x;h++){_=arguments[h];for(u in _)s[u]=_[u]}return s}var m=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var x=h.call(arguments,2);return function(){return s.apply(u,x.length?x.concat(h.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function b(s,u,h){var x,_,E,I;return I=function(){x=!1,_&&(E.apply(h,_),_=!1)},E=function(){x?_=arguments:(s.apply(h,arguments),setTimeout(I,u),x=!0)},E}function S(s,u,h){var x=u[1],_=u[0],E=x-_;return s===x&&h?s:((s-_)%E+E)%E+_}function w(){return!1}function C(s,u){if(u===!1)return s;var h=Math.pow(10,u===void 0?6:u);return Math.round(s*h)/h}function z(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return z(s).split(/\s+/)}function A(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?m(s.options):{});for(var h in u)s.options[h]=u[h];return s.options}function O(s,u,h){var x=[];for(var _ in s)x.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function R(s,u){return s.replace(Z,function(h,x){var _=u[x];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(u)),_})}var P=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function G(s,u){for(var h=0;h<s.length;h++)if(s[h]===u)return h;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var K=0;function Q(s){var u=+new Date,h=Math.max(0,16-(u-K));return K=u+h,window.setTimeout(s,h)}var ae=window.requestAnimationFrame||Y("RequestAnimationFrame")||Q,ye=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ee(s,u,h){if(h&&ae===Q)s.call(u);else return ae.call(window,p(s,u))}function ue(s){s&&ye.call(window,s)}var oe={__proto__:null,extend:d,create:m,bind:p,get lastId(){return y},stamp:v,throttle:b,wrapNum:S,falseFn:w,formatNum:C,trim:z,splitWords:k,setOptions:A,getParamString:O,template:R,isArray:P,indexOf:G,emptyImageUrl:$,requestFn:ae,cancelFn:ye,requestAnimFrame:ee,cancelAnimFrame:ue};function U(){}U.extend=function(s){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,x=m(h);x.constructor=u,u.prototype=x;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(u[_]=this[_]);return s.statics&&d(u,s.statics),s.includes&&(le(s.includes),d.apply(null,[x].concat(s.includes))),d(x,s),delete x.statics,delete x.includes,x.options&&(x.options=h.options?m(h.options):{},d(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,I=x._initHooks.length;E<I;E++)x._initHooks[E].call(this)}},u},U.include=function(s){var u=this.prototype.options;return d(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},U.mergeOptions=function(s){return d(this.prototype.options,s),this},U.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function le(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=P(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(s,u,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],u);else{s=k(s);for(var _=0,E=s.length;_<E;_++)this._on(s[_],u,h)}return this},off:function(s,u,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],u);else{s=k(s);for(var _=arguments.length===1,E=0,I=s.length;E<I;E++)_?this._off(s[E]):this._off(s[E],u,h)}return this},_on:function(s,u,h,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,h)===!1){h===this&&(h=void 0);var _={fn:u,ctx:h};x&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,u,h){var x,_,E;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(_=0,E=x.length;_<E;_++)x[_].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var I=this._listens(s,u,h);if(I!==!1){var re=x[I];this._firingCount&&(re.fn=w,this._events[s]=x=x.slice()),x.splice(I,1)}}},fire:function(s,u,h){if(!this.listens(s,h))return this;var x=d({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var E=0,I=_.length;E<I;E++){var re=_[E],fe=re.fn;re.once&&this.off(s,fe,re.ctx),fe.call(re.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(s,u,h,x){typeof s!="string"&&console.warn('"string" type argument expected');var _=u;typeof u!="function"&&(x=!!u,_=void 0,h=void 0);var E=this._events&&this._events[s];if(E&&E.length&&this._listens(s,_,h)!==!1)return!0;if(x){for(var I in this._eventParents)if(this._eventParents[I].listens(s,u,h,x))return!0}return!1},_listens:function(s,u,h){if(!this._events)return!1;var x=this._events[s]||[];if(!u)return!!x.length;h===this&&(h=void 0);for(var _=0,E=x.length;_<E;_++)if(x[_].fn===u&&x[_].ctx===h)return _;return!1},once:function(s,u,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],u,!0);else{s=k(s);for(var _=0,E=s.length;_<E;_++)this._on(s[_],u,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,d({layer:s.target,propagatedFrom:s.target},s),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var ie=U.extend(q);function de(s,u,h){this.x=h?Math.round(s):s,this.y=h?Math.round(u):u}var Te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};de.prototype={clone:function(){return new de(this.x,this.y)},add:function(s){return this.clone()._add(W(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(W(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new de(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new de(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(s){s=W(s);var u=s.x-this.x,h=s.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(s){return s=W(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=W(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function W(s,u,h){return s instanceof de?s:P(s)?new de(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new de(s.x,s.y):new de(s,u,h)}function M(s,u){if(s)for(var h=u?[s,u]:s,x=0,_=h.length;x<_;x++)this.extend(h[x])}M.prototype={extend:function(s){var u,h;if(!s)return this;if(s instanceof de||typeof s[0]=="number"||"x"in s)u=h=W(s);else if(s=te(s),u=s.min,h=s.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,h;return typeof s[0]=="number"||s instanceof de?s=W(s):s=te(s),s instanceof M?(u=s.min,h=s.max):u=h=s,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=te(s);var u=this.min,h=this.max,x=s.min,_=s.max,E=_.x>=u.x&&x.x<=h.x,I=_.y>=u.y&&x.y<=h.y;return E&&I},overlaps:function(s){s=te(s);var u=this.min,h=this.max,x=s.min,_=s.max,E=_.x>u.x&&x.x<h.x,I=_.y>u.y&&x.y<h.y;return E&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,h=this.max,x=Math.abs(u.x-h.x)*s,_=Math.abs(u.y-h.y)*s;return te(W(u.x-x,u.y-_),W(h.x+x,h.y+_))},equals:function(s){return s?(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function te(s,u){return!s||s instanceof M?s:new M(s,u)}function D(s,u){if(s)for(var h=u?[s,u]:s,x=0,_=h.length;x<_;x++)this.extend(h[x])}D.prototype={extend:function(s){var u=this._southWest,h=this._northEast,x,_;if(s instanceof ge)x=s,_=s;else if(s instanceof D){if(x=s._southWest,_=s._northEast,!x||!_)return this}else return s?this.extend(je(s)||H(s)):this;return!u&&!h?(this._southWest=new ge(x.lat,x.lng),this._northEast=new ge(_.lat,_.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(s){var u=this._southWest,h=this._northEast,x=Math.abs(u.lat-h.lat)*s,_=Math.abs(u.lng-h.lng)*s;return new D(new ge(u.lat-x,u.lng-_),new ge(h.lat+x,h.lng+_))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ge||"lat"in s?s=je(s):s=H(s);var u=this._southWest,h=this._northEast,x,_;return s instanceof D?(x=s.getSouthWest(),_=s.getNorthEast()):x=_=s,x.lat>=u.lat&&_.lat<=h.lat&&x.lng>=u.lng&&_.lng<=h.lng},intersects:function(s){s=H(s);var u=this._southWest,h=this._northEast,x=s.getSouthWest(),_=s.getNorthEast(),E=_.lat>=u.lat&&x.lat<=h.lat,I=_.lng>=u.lng&&x.lng<=h.lng;return E&&I},overlaps:function(s){s=H(s);var u=this._southWest,h=this._northEast,x=s.getSouthWest(),_=s.getNorthEast(),E=_.lat>u.lat&&x.lat<h.lat,I=_.lng>u.lng&&x.lng<h.lng;return E&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=H(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(s,u){return s instanceof D?s:new D(s,u)}function ge(s,u,h){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,h!==void 0&&(this.alt=+h)}ge.prototype={equals:function(s,u){if(!s)return!1;s=je(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+C(this.lat,s)+", "+C(this.lng,s)+")"},distanceTo:function(s){return qe.distance(this,je(s))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,h=u/Math.cos(Math.PI/180*this.lat);return H([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function je(s,u,h){return s instanceof ge?s:P(s)&&typeof s[0]!="object"?s.length===3?new ge(s[0],s[1],s[2]):s.length===2?new ge(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ge(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ge(s,u,h)}var ze={latLngToPoint:function(s,u){var h=this.projection.project(s),x=this.scale(u);return this.transformation._transform(h,x)},pointToLatLng:function(s,u){var h=this.scale(u),x=this.transformation.untransform(s,h);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(s),x=this.transformation.transform(u.min,h),_=this.transformation.transform(u.max,h);return new M(x,_)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new ge(h,u,x)},wrapLatLngBounds:function(s){var u=s.getCenter(),h=this.wrapLatLng(u),x=u.lat-h.lat,_=u.lng-h.lng;if(x===0&&_===0)return s;var E=s.getSouthWest(),I=s.getNorthEast(),re=new ge(E.lat-x,E.lng-_),fe=new ge(I.lat-x,I.lng-_);return new D(re,fe)}},qe=d({},ze,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var h=Math.PI/180,x=s.lat*h,_=u.lat*h,E=Math.sin((u.lat-s.lat)*h/2),I=Math.sin((u.lng-s.lng)*h/2),re=E*E+Math.cos(x)*Math.cos(_)*I*I,fe=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*fe}}),Ve=6378137,et={R:Ve,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,s.lat),-h),_=Math.sin(x*u);return new de(this.R*s.lng*u,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ve*Math.PI;return new M([-s,-s],[s,s])})()};function Ne(s,u,h,x){if(P(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=h,this._d=x}Ne.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new de((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ct(s,u,h,x){return new Ne(s,u,h,x)}var yt=d({},qe,{code:"EPSG:3857",projection:et,transformation:(function(){var s=.5/(Math.PI*et.R);return ct(s,.5,-s,.5)})()}),it=d({},yt,{code:"EPSG:900913"});function Gt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ht(s,u){var h="",x,_,E,I,re,fe;for(x=0,E=s.length;x<E;x++){for(re=s[x],_=0,I=re.length;_<I;_++)fe=re[_],h+=(_?"L":"M")+fe.x+" "+fe.y;h+=u?Pe.svg?"z":"x":""}return h||"M0 0"}var lt=document.documentElement.style,Kt="ActiveXObject"in window,pn=Kt&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),Ce=In("webkit"),Ke=In("android"),_t=In("android 2")||In("android 3"),jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dt=Ke&&In("Google")&&jt<537&&!("AudioNode"in window),be=!!window.opera,Ue=!X&&In("chrome"),mt=In("gecko")&&!Ce&&!be&&!Kt,Je=!Ue&&In("safari"),sn=In("phantom"),ne="OTransition"in lt,V=navigator.platform.indexOf("Win")===0,He=Kt&&"transition"in lt,tt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,Vt="MozPerspective"in lt,zt=!window.L_DISABLE_3D&&(He||tt||Vt)&&!ne&&!sn,Pn=typeof orientation<"u"||In("mobile"),ji=Pn&&Ce,Ha=Pn&&tt,Jn=!window.PointerEvent&&window.MSPointerEvent,ce=!!(window.PointerEvent||Jn),st="ontouchstart"in window||!!window.TouchEvent,Mt=!window.L_NO_TOUCH&&(st||ce),Bn=Pn&&be,Kn=Pn&&mt,Rr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lr=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),Us=(function(){return!!document.createElement("canvas").getContext})(),ma=!!(document.createElementNS&&Gt("svg").createSVGRect),Il=!!ma&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Si=!ma&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Pr=navigator.platform.indexOf("Mac")===0,Br=navigator.platform.indexOf("Linux")===0;function In(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Pe={ie:Kt,ielt9:pn,edge:X,webkit:Ce,android:Ke,android23:_t,androidStock:dt,opera:be,chrome:Ue,gecko:mt,safari:Je,phantom:sn,opera12:ne,win:V,ie3d:He,webkit3d:tt,gecko3d:Vt,any3d:zt,mobile:Pn,mobileWebkit:ji,mobileWebkit3d:Ha,msPointer:Jn,pointer:ce,touch:Mt,touchNative:st,mobileOpera:Bn,mobileGecko:Kn,retina:Rr,passiveEvents:Lr,canvas:Us,svg:ma,vml:Si,inlineSvg:Il,mac:Pr,linux:Br},Zs=Pe.msPointer?"MSPointerDown":"pointerdown",Ji=Pe.msPointer?"MSPointerMove":"pointermove",ha=Pe.msPointer?"MSPointerUp":"pointerup",rn=Pe.msPointer?"MSPointerCancel":"pointercancel",gn={touchstart:Zs,touchmove:Ji,touchend:ha,touchcancel:rn},Ka={touchstart:Qa,touchmove:Un,touchend:Un,touchcancel:Un},wa={},Ir=!1;function Ul(s,u,h){return u==="touchstart"&&St(),Ka[u]?(h=Ka[u].bind(this,h),s.addEventListener(gn[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function Ur(s,u,h){if(!gn[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(gn[u],h,!1)}function wi(s){wa[s.pointerId]=s}function B(s){wa[s.pointerId]&&(wa[s.pointerId]=s)}function Re(s){delete wa[s.pointerId]}function St(){Ir||(document.addEventListener(Zs,wi,!0),document.addEventListener(Ji,B,!0),document.addEventListener(ha,Re,!0),document.addEventListener(rn,Re,!0),Ir=!0)}function Un(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in wa)u.touches.push(wa[h]);u.changedTouches=[u],s(u)}}function Qa(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ln(u),Un(s,u)}function tn(s){var u={},h,x;for(x in s)h=s[x],u[x]=h&&h.bind?h.bind(s):h;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var qs=200;function du(s,u){s.addEventListener("dblclick",u);var h=0,x;function _(E){if(E.detail!==1){x=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var I=Ys(E);if(!(I.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!I.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var re=Date.now();re-h<=qs?(x++,x===2&&u(tn(E))):x=1,h=re}}}return s.addEventListener("click",_),{dblclick:u,simDblclick:_}}function Ei(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var si=Ks(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fs=Ks(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zl=Fs==="webkitTransition"||Fs==="OTransition"?Fs+"End":"transitionend";function ql(s){return typeof s=="string"?document.getElementById(s):s}function Hs(s,u){var h=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);h=x?x[u]:null}return h==="auto"?null:h}function ht(s,u,h){var x=document.createElement(s);return x.className=u||"",h&&h.appendChild(x),x}function Pt(s){var u=s.parentNode;u&&u.removeChild(s)}function Xn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Nn(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function ki(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Fl(s,u){if(s.classList!==void 0)return s.classList.contains(u);var h=Zr(s);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function nt(s,u){if(s.classList!==void 0)for(var h=k(u),x=0,_=h.length;x<_;x++)s.classList.add(h[x]);else if(!Fl(s,u)){var E=Zr(s);Xi(s,(E?E+" ":"")+u)}}function Jt(s,u){s.classList!==void 0?s.classList.remove(u):Xi(s,z((" "+Zr(s)+" ").replace(" "+u+" "," ")))}function Xi(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Zr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Yt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Hl(s,u)}function Hl(s,u){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):s.style.filter+=" progid:"+x+"(opacity="+u+")"}function Ks(s){for(var u=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in u)return s[h];return!1}function Ga(s,u,h){var x=u||new de(0,0);s.style[si]=(Pe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function qt(s,u){s._leaflet_pos=u,Pe.any3d?Ga(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function ri(s){return s._leaflet_pos||new de(0,0)}var Wi,Ea,Kl;if("onselectstart"in document)Wi=function(){Xe(window,"selectstart",ln)},Ea=function(){Ot(window,"selectstart",ln)};else{var es=Ks(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wi=function(){if(es){var s=document.documentElement.style;Kl=s[es],s[es]="none"}},Ea=function(){es&&(document.documentElement.style[es]=Kl,Kl=void 0)}}function qr(){Xe(window,"dragstart",ln)}function Qs(){Ot(window,"dragstart",ln)}var Fr,Ql;function ts(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Wn(),Fr=s,Ql=s.style.outlineStyle,s.style.outlineStyle="none",Xe(window,"keydown",Wn))}function Wn(){Fr&&(Fr.style.outlineStyle=Ql,Fr=void 0,Ql=void 0,Ot(window,"keydown",Wn))}function Hr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Gs(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ns={__proto__:null,TRANSFORM:si,TRANSITION:Fs,TRANSITION_END:Zl,get:ql,getStyle:Hs,create:ht,remove:Pt,empty:Xn,toFront:Nn,toBack:ki,hasClass:Fl,addClass:nt,removeClass:Jt,setClass:Xi,getClass:Zr,setOpacity:Yt,testProp:Ks,setTransform:Ga,setPosition:qt,getPosition:ri,get disableTextSelection(){return Wi},get enableTextSelection(){return Ea},disableImageDrag:qr,enableImageDrag:Qs,preventOutline:ts,restoreOutline:Wn,getSizedParentNode:Hr,getScale:Gs};function Xe(s,u,h,x){if(u&&typeof u=="object")for(var _ in u)pa(s,_,u[_],h);else{u=k(u);for(var E=0,I=u.length;E<I;E++)pa(s,u[E],h,x)}return this}var fa="_leaflet_events";function Ot(s,u,h,x){if(arguments.length===1)Gl(s),delete s[fa];else if(u&&typeof u=="object")for(var _ in u)Vs(s,_,u[_],h);else if(u=k(u),arguments.length===2)Gl(s,function(re){return G(u,re)!==-1});else for(var E=0,I=u.length;E<I;E++)Vs(s,u[E],h,x);return this}function Gl(s,u){for(var h in s[fa]){var x=h.split(/\d/)[0];(!u||u(x))&&Vs(s,x,null,null,h)}}var Ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pa(s,u,h,x){var _=u+v(h)+(x?"_"+v(x):"");if(s[fa]&&s[fa][_])return this;var E=function(re){return h.call(x||s,re||window.event)},I=E;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?E=Ul(s,u,E):Pe.touch&&u==="dblclick"?E=du(s,E):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Ti[u]||u,E,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(re){re=re||window.event,Va(s,re)&&I(re)},s.addEventListener(Ti[u],E,!1)):s.addEventListener(u,I,!1):s.attachEvent("on"+u,E),s[fa]=s[fa]||{},s[fa][_]=E}function Vs(s,u,h,x,_){_=_||u+v(h)+(x?"_"+v(x):"");var E=s[fa]&&s[fa][_];if(!E)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?Ur(s,u,E):Pe.touch&&u==="dblclick"?Ei(s,E):"removeEventListener"in s?s.removeEventListener(Ti[u]||u,E,!1):s.detachEvent("on"+u,E),s[fa][_]=null}function ga(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ka(s){return pa(s,"wheel",ga),this}function Ci(s){return Xe(s,"mousedown touchstart dblclick contextmenu",ga),s._leaflet_disable_click=!0,this}function ln(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function li(s){return ln(s),ga(s),this}function Ys(s){if(s.composedPath)return s.composedPath();for(var u=[],h=s.target;h;)u.push(h),h=h.parentNode;return u}function $s(s,u){if(!u)return new de(s.clientX,s.clientY);var h=Gs(u),x=h.boundingClientRect;return new de((s.clientX-x.left)/h.x-u.clientLeft,(s.clientY-x.top)/h.y-u.clientTop)}var mu=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function An(s){return Pe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/mu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Va(s,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Kr={__proto__:null,on:Xe,off:Ot,stopPropagation:ga,disableScrollPropagation:ka,disableClickPropagation:Ci,preventDefault:ln,stop:li,getPropagationPath:Ys,getMousePosition:$s,getWheelDelta:An,isExternalTarget:Va,addListener:Xe,removeListener:Ot},as=ie.extend({run:function(s,u,h,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ri(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var h=this._startPos.add(this._offset.multiplyBy(s));u&&h._round(),qt(this._el,h),this.fire("step")},_complete:function(){ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),xt=ie.extend({options:{crs:yt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(je(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fs&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xe(this._proxy,Zl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(je(s),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,h.zoom):this._tryAnimatedPan(s,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,h){var x=this.getZoomScale(u),_=this.getSize().divideBy(2),E=s instanceof de?s:this.latLngToContainerPoint(s),I=E.subtract(_).multiplyBy(1-1/x),re=this.containerPointToLatLng(_.add(I));return this.setView(re,u,{zoom:h})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():H(s);var h=W(u.paddingTopLeft||u.padding||[0,0]),x=W(u.paddingBottomRight||u.padding||[0,0]),_=this.getBoundsZoom(s,!1,h.add(x));if(_=typeof u.maxZoom=="number"?Math.min(u.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var E=x.subtract(h).divideBy(2),I=this.project(s.getSouthWest(),_),re=this.project(s.getNorthEast(),_),fe=this.unproject(I.add(re).divideBy(2).add(E),_);return{center:fe,zoom:_}},fitBounds:function(s,u){if(s=H(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=W(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new as,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,h){if(h=h||{},h.animate===!1||!Pe.any3d)return this.setView(s,u,h);this._stop();var x=this.project(this.getCenter()),_=this.project(s),E=this.getSize(),I=this._zoom;s=je(s),u=u===void 0?I:u;var re=Math.max(E.x,E.y),fe=re*this.getZoomScale(I,u),Ee=_.distanceTo(x)||1,Oe=1.42,Fe=Oe*Oe;function ot(nn){var Xa=nn?-1:1,Oi=nn?fe:re,oo=fe*fe-re*re+Xa*Fe*Fe*Ee*Ee,mr=2*Oi*Fe*Ee,hr=oo/mr,gi=Math.sqrt(hr*hr+1)-hr,Wa=gi<1e-9?-18:Math.log(gi);return Wa}function jn(nn){return(Math.exp(nn)-Math.exp(-nn))/2}function on(nn){return(Math.exp(nn)+Math.exp(-nn))/2}function Gn(nn){return jn(nn)/on(nn)}var wt=ot(0);function Et(nn){return re*(on(wt)/on(wt+Oe*nn))}function ft(nn){return re*(on(wt)*Gn(wt+Oe*nn)-jn(wt))/Fe}function fi(nn){return 1-Math.pow(1-nn,1.5)}var aa=Date.now(),sl=(ot(1)-wt)/Oe,pi=h.duration?1e3*h.duration:1e3*sl*.8;function lo(){var nn=(Date.now()-aa)/pi,Xa=fi(nn)*sl;nn<=1?(this._flyToFrame=ee(lo,this),this._move(this.unproject(x.add(_.subtract(x).multiplyBy(ft(Xa)/Ee)),I),this.getScaleZoom(re/Et(Xa),I),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),lo.call(this),this},flyToBounds:function(s,u){var h=this._getBoundsCenterZoom(s,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(s){return s=H(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,H(s));return h.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var h=W(u.paddingTopLeft||u.padding||[0,0]),x=W(u.paddingBottomRight||u.padding||[0,0]),_=this.project(this.getCenter()),E=this.project(s),I=this.getPixelBounds(),re=te([I.min.add(h),I.max.subtract(x)]),fe=re.getSize();if(!re.contains(E)){this._enforcingBounds=!0;var Ee=E.subtract(re.getCenter()),Oe=re.extend(E).getSize().subtract(fe);_.x+=Ee.x<0?-Oe.x:Oe.x,_.y+=Ee.y<0?-Oe.y:Oe.y,this.panTo(this.unproject(_),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=d({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=u.divideBy(2).round(),_=h.divideBy(2).round(),E=x.subtract(_);return!E.x&&!E.y?this:(s.animate&&s.pan?this.panBy(E):(s.pan&&this._rawPanBy(E),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=d({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,s):navigator.geolocation.getCurrentPosition(u,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,h=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,h=s.coords.longitude,x=new ge(u,h),_=x.toBounds(s.coords.accuracy*2),E=this._locateOptions;if(E.setView){var I=this.getBoundsZoom(_);this.setView(x,E.maxZoom?Math.min(I,E.maxZoom):I)}var re={latlng:x,bounds:_,timestamp:s.timestamp};for(var fe in s.coords)typeof s.coords[fe]=="number"&&(re[fe]=s.coords[fe]);this.fire("locationfound",re)}},addHandler:function(s,u){if(!u)return this;var h=this[s]=new u(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Pt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=ht("div",h,u||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new D(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,h){s=H(s),h=W(h||[0,0]);var x=this.getZoom()||0,_=this.getMinZoom(),E=this.getMaxZoom(),I=s.getNorthWest(),re=s.getSouthEast(),fe=this.getSize().subtract(h),Ee=te(this.project(re,x),this.project(I,x)).getSize(),Oe=Pe.any3d?this.options.zoomSnap:1,Fe=fe.x/Ee.x,ot=fe.y/Ee.y,jn=u?Math.max(Fe,ot):Math.min(Fe,ot);return x=this.getScaleZoom(jn,x),Oe&&(x=Math.round(x/(Oe/100))*(Oe/100),x=u?Math.ceil(x/Oe)*Oe:Math.floor(x/Oe)*Oe),Math.max(_,Math.min(E,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new de(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var h=this._getTopLeftPoint(s,u);return new M(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(s)/h.scale(u)},getScaleZoom:function(s,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var x=h.zoom(s*h.scale(u));return isNaN(x)?1/0:x},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(je(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(W(s),u)},layerPointToLatLng:function(s){var u=W(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(je(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(je(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(H(s))},distance:function(s,u){return this.options.crs.distance(je(s),je(u))},containerPointToLayerPoint:function(s){return W(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return W(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(W(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(je(s)))},mouseEventToContainerPoint:function(s){return $s(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=ql(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xe(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,nt(s,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Hs(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new de(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(s.markerPane,"leaflet-zoom-hide"),nt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,h){qt(this._mapPane,new de(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var _=this._zoom!==u;this._moveStart(_,h)._move(s,u)._moveEnd(_),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,h,x){u===void 0&&(u=this._zoom);var _=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){qt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?Ot:Xe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ue(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var h=[],x,_=u==="mouseout"||u==="mouseover",E=s.target||s.srcElement,I=!1;E;){if(x=this._targets[v(E)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){I=!0;break}if(x&&x.listens(u,!0)&&(_&&!Va(E,s)||(h.push(x),_))||E===this._container)break;E=E.parentNode}return!h.length&&!I&&!_&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var h=s.type;h==="mousedown"&&ts(u),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,h){if(s.type==="click"){var x=d({},s);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var _=this._findEventTargets(s,u);if(h){for(var E=[],I=0;I<h.length;I++)h[I].listens(u,!0)&&E.push(h[I]);_=E.concat(_)}if(_.length){u==="contextmenu"&&ln(s);var re=_[0],fe={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Ee=re.getLatLng&&(!re._radius||re._radius<=10);fe.containerPoint=Ee?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(s),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=Ee?re.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(I=0;I<_.length;I++)if(_[I].fire(u,fe,!0),fe.originalEvent._stopped||_[I].options.bubblingMouseEvents===!1&&G(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return ri(this._mapPane)||new de(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var h=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var h=this.getSize()._divideBy(2);return this.project(s,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,h){var x=this._getNewPixelOrigin(h,u);return this.project(s,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,u,h){var x=this._getNewPixelOrigin(h,u);return te([this.project(s.getSouthWest(),u)._subtract(x),this.project(s.getNorthWest(),u)._subtract(x),this.project(s.getSouthEast(),u)._subtract(x),this.project(s.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,h){if(!h)return s;var x=this.project(s,u),_=this.getSize().divideBy(2),E=new M(x.subtract(_),x.add(_)),I=this._getBoundsOffset(E,h,u);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(x.add(I),u)},_limitOffset:function(s,u){if(!u)return s;var h=this.getPixelBounds(),x=new M(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(s,u,h){var x=te(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),_=x.min.subtract(s.min),E=x.max.subtract(s.max),I=this._rebound(_.x,-E.x),re=this._rebound(_.y,-E.y);return new de(I,re)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),h=this.getMaxZoom(),x=Pe.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(u,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var h=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var s=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var h=si,x=this._proxy.style[h];Ga(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Ga(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),_=this._getCenterOffset(s)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(_)?!1:(ee(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vl(s,u){return new xt(s,u)}var Qn=U.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),h=this.getPosition(),x=s._controlCorners[h];return nt(u,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ya=function(s){return new Qn(s)};xt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",h=this._controlContainer=ht("div",u+"control-container",this._container);function x(_,E){var I=u+_+" "+u+E;s[_+E]=ht("div",I,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Pt(this._controlCorners[s]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Js=Qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,h,x){return h<x?-1:x<h?1:0}},initialize:function(s,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Qn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=ht("div",s),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ci(u),ka(u);var x=this._section=ht("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Xe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ht("a",s+"-toggle",u);_.href="#",_.title="Layers",_.setAttribute("role","button"),Xe(_,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){ln(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ht("div",s+"-base",x),this._separator=ht("div",s+"-separator",x),this._overlaysList=ht("div",s+"-overlays",x),u.appendChild(x)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(x,_){return this.options.sortFunction(x.layer,_.layer,x.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xn(this._baseLayersList),Xn(this._overlaysList),this._layerControlInputs=[];var s,u,h,x,_=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),u=u||x.overlay,s=s||!x.overlay,_+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),h=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(s,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(s){var u=document.createElement("label"),h=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(x),x.layerId=v(s.layer),Xe(x,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(x),E.appendChild(_);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,h,x=[],_=[];this._handlingClick=!0;for(var E=s.length-1;E>=0;E--)u=s[E],h=this._getLayer(u.layerId).layer,u.checked?x.push(h):u.checked||_.push(h);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])&&this._map.removeLayer(_[E]);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])||this._map.addLayer(x[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,h,x=this._map.getZoom(),_=s.length-1;_>=0;_--)u=s[_],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Xe(s,"click",ln),this.expand();var u=this;setTimeout(function(){Ot(s,"click",ln),u._preventClick=!1})}}),hu=function(s,u,h){return new Js(s,u,h)},Yl=Qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",h=ht("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,h,x,_){var E=ht("a",h,x);return E.innerHTML=s,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),Ci(E),Xe(E,"click",li),Xe(E,"click",_,this),Xe(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";Jt(this._zoomInButton,u),Jt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(nt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(nt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yl,this.addControl(this.zoomControl))});var wd=function(s){return new Yl(s)},fu=Qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",h=ht("div",u),x=this.options;return this._addScales(x,u+"-line",h),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,h){s.metric&&(this._mScale=ht("div",u,h)),s.imperial&&(this._iScale=ht("div",u,h))},_update:function(){var s=this._map,u=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/s)},_updateImperial:function(s){var u=s*3.2808399,h,x,_;u>5280?(h=u/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(_=this._getRoundNum(u),this._updateScale(this._iScale,_+" ft",_/u))},_updateScale:function(s,u,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),h=s/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),$l=function(s){return new fu(s)},Ed='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jl=Qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?Ed+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),Ci(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Jl().addTo(this)});var kd=function(s){return new Jl(s)};Qn.Layers=Js,Qn.Zoom=Yl,Qn.Scale=fu,Qn.Attribution=Jl,Ya.layers=hu,Ya.zoom=wd,Ya.scale=$l,Ya.attribution=kd;var Ta=U.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ta.addTo=function(s,u){return s.addHandler(u,this),this};var Td={Events:q},Xl=Pe.touch?"touchstart mousedown":"mousedown",oi=ie.extend({options:{clickTolerance:3},initialize:function(s,u,h,x){A(this,x),this._element=s,this._dragStartTarget=u||s,this._preventOutline=h},enable:function(){this._enabled||(Xe(this._dragStartTarget,Xl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oi._dragging===this&&this.finishDrag(!0),Ot(this._dragStartTarget,Xl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Fl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){oi._dragging===this&&this.finishDrag();return}if(!(oi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(oi._dragging=this,this._preventOutline&&ts(this._element),qr(),Wi(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,h=Hr(this._element);this._startPoint=new de(u.clientX,u.clientY),this._startPos=ri(this._element),this._parentScale=Gs(h);var x=s.type==="mousedown";Xe(document,x?"mousemove":"touchmove",this._onMove,this),Xe(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,h=new de(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,ln(s),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),qt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ot(document,"mousemove touchmove",this._onMove,this),Ot(document,"mouseup touchend touchcancel",this._onUp,this),Qs(),Ea();var u=this._moved&&this._moving;this._moving=!1,oi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function pu(s,u,h){var x,_=[1,4,2,8],E,I,re,fe,Ee,Oe,Fe,ot;for(E=0,Oe=s.length;E<Oe;E++)s[E]._code=Ai(s[E],u);for(re=0;re<4;re++){for(Fe=_[re],x=[],E=0,Oe=s.length,I=Oe-1;E<Oe;I=E++)fe=s[E],Ee=s[I],fe._code&Fe?Ee._code&Fe||(ot=Qr(Ee,fe,Fe,u,h),ot._code=Ai(ot,u),x.push(ot)):(Ee._code&Fe&&(ot=Qr(Ee,fe,Fe,u,h),ot._code=Ai(ot,u),x.push(ot)),x.push(fe));s=x}return s}function gu(s,u){var h,x,_,E,I,re,fe,Ee,Oe;if(!s||s.length===0)throw new Error("latlngs not passed");ea(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Fe=je([0,0]),ot=H(s),jn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());jn<1700&&(Fe=Wl(s));var on=s.length,Gn=[];for(h=0;h<on;h++){var wt=je(s[h]);Gn.push(u.project(je([wt.lat-Fe.lat,wt.lng-Fe.lng])))}for(re=fe=Ee=0,h=0,x=on-1;h<on;x=h++)_=Gn[h],E=Gn[x],I=_.y*E.x-E.y*_.x,fe+=(_.x+E.x)*I,Ee+=(_.y+E.y)*I,re+=I*3;re===0?Oe=Gn[0]:Oe=[fe/re,Ee/re];var Et=u.unproject(W(Oe));return je([Et.lat+Fe.lat,Et.lng+Fe.lng])}function Wl(s){for(var u=0,h=0,x=0,_=0;_<s.length;_++){var E=je(s[_]);u+=E.lat,h+=E.lng,x++}return je([u/x,h/x])}var eo={__proto__:null,clipPolygon:pu,polygonCenter:gu,centroid:Wl};function yu(s,u){if(!u||!s.length)return s.slice();var h=u*u;return s=Ad(s,h),s=vu(s,h),s}function xu(s,u,h){return Math.sqrt(Xs(s,u,h,!0))}function Cd(s,u,h){return Xs(s,u,h)}function vu(s,u){var h=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,_=new x(h);_[0]=_[h-1]=1,to(s,_,u,0,h-1);var E,I=[];for(E=0;E<h;E++)_[E]&&I.push(s[E]);return I}function to(s,u,h,x,_){var E=0,I,re,fe;for(re=x+1;re<=_-1;re++)fe=Xs(s[re],s[x],s[_],!0),fe>E&&(I=re,E=fe);E>h&&(u[I]=1,to(s,u,h,x,I),to(s,u,h,I,_))}function Ad(s,u){for(var h=[s[0]],x=1,_=0,E=s.length;x<E;x++)zd(s[x],s[_])>u&&(h.push(s[x]),_=x);return _<E-1&&h.push(s[E-1]),h}var bu;function _u(s,u,h,x,_){var E=x?bu:Ai(s,h),I=Ai(u,h),re,fe,Ee;for(bu=I;;){if(!(E|I))return[s,u];if(E&I)return!1;re=E||I,fe=Qr(s,u,re,h,_),Ee=Ai(fe,h),re===E?(s=fe,E=Ee):(u=fe,I=Ee)}}function Qr(s,u,h,x,_){var E=u.x-s.x,I=u.y-s.y,re=x.min,fe=x.max,Ee,Oe;return h&8?(Ee=s.x+E*(fe.y-s.y)/I,Oe=fe.y):h&4?(Ee=s.x+E*(re.y-s.y)/I,Oe=re.y):h&2?(Ee=fe.x,Oe=s.y+I*(fe.x-s.x)/E):h&1&&(Ee=re.x,Oe=s.y+I*(re.x-s.x)/E),new de(Ee,Oe,_)}function Ai(s,u){var h=0;return s.x<u.min.x?h|=1:s.x>u.max.x&&(h|=2),s.y<u.min.y?h|=4:s.y>u.max.y&&(h|=8),h}function zd(s,u){var h=u.x-s.x,x=u.y-s.y;return h*h+x*x}function Xs(s,u,h,x){var _=u.x,E=u.y,I=h.x-_,re=h.y-E,fe=I*I+re*re,Ee;return fe>0&&(Ee=((s.x-_)*I+(s.y-E)*re)/fe,Ee>1?(_=h.x,E=h.y):Ee>0&&(_+=I*Ee,E+=re*Ee)),I=s.x-_,re=s.y-E,x?I*I+re*re:new de(_,E)}function ea(s){return!P(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Gr(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ea(s)}function is(s,u){var h,x,_,E,I,re,fe,Ee;if(!s||s.length===0)throw new Error("latlngs not passed");ea(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Oe=je([0,0]),Fe=H(s),ot=Fe.getNorthWest().distanceTo(Fe.getSouthWest())*Fe.getNorthEast().distanceTo(Fe.getNorthWest());ot<1700&&(Oe=Wl(s));var jn=s.length,on=[];for(h=0;h<jn;h++){var Gn=je(s[h]);on.push(u.project(je([Gn.lat-Oe.lat,Gn.lng-Oe.lng])))}for(h=0,x=0;h<jn-1;h++)x+=on[h].distanceTo(on[h+1])/2;if(x===0)Ee=on[0];else for(h=0,E=0;h<jn-1;h++)if(I=on[h],re=on[h+1],_=I.distanceTo(re),E+=_,E>x){fe=(E-x)/_,Ee=[re.x-fe*(re.x-I.x),re.y-fe*(re.y-I.y)];break}var wt=u.unproject(W(Ee));return je([wt.lat+Oe.lat,wt.lng+Oe.lng])}var Md={__proto__:null,simplify:yu,pointToSegmentDistance:xu,closestPointOnSegment:Cd,clipSegment:_u,_getEdgeIntersection:Qr,_getBitCode:Ai,_sqClosestPointOnSegment:Xs,isFlat:ea,_flat:Gr,polylineCenter:is},Vr={project:function(s){return new de(s.lng,s.lat)},unproject:function(s){return new ge(s.y,s.x)},bounds:new M([-180,-90],[180,90])},Yr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,h=this.R,x=s.lat*u,_=this.R_MINOR/h,E=Math.sqrt(1-_*_),I=E*Math.sin(x),re=Math.tan(Math.PI/4-x/2)/Math.pow((1-I)/(1+I),E/2);return x=-h*Math.log(Math.max(re,1e-10)),new de(s.lng*u*h,x)},unproject:function(s){for(var u=180/Math.PI,h=this.R,x=this.R_MINOR/h,_=Math.sqrt(1-x*x),E=Math.exp(-s.y/h),I=Math.PI/2-2*Math.atan(E),re=0,fe=.1,Ee;re<15&&Math.abs(fe)>1e-7;re++)Ee=_*Math.sin(I),Ee=Math.pow((1-Ee)/(1+Ee),_/2),fe=Math.PI/2-2*Math.atan(E*Ee)-I,I+=fe;return new ge(I*u,s.x*u/h)}},Nu={__proto__:null,LonLat:Vr,Mercator:Yr,SphericalMercator:et},ju=d({},qe,{code:"EPSG:3395",projection:Yr,transformation:(function(){var s=.5/(Math.PI*Yr.R);return ct(s,.5,-s,.5)})()}),no=d({},qe,{code:"EPSG:4326",projection:Vr,transformation:ct(1/180,1,-1/180,.5)}),ss=d({},ze,{projection:Vr,transformation:ct(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var h=u.lng-s.lng,x=u.lat-s.lat;return Math.sqrt(h*h+x*x)},infinite:!0});ze.Earth=qe,ze.EPSG3395=ju,ze.EPSG3857=yt,ze.EPSG900913=it,ze.EPSG4326=no,ze.Simple=ss;var ya=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},_addLayers:function(s){s=s?P(s)?s:[s]:[];for(var u=0,h=s.length;u<h;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var _=this._zoomBoundLayers[x].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),u=_.maxZoom===void 0?u:Math.max(u,_.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rs=ya.extend({initialize:function(s,u){A(this,u),this._layers={};var h,x;if(s)for(h=0,x=s.length;h<x;h++)this.addLayer(s[h])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[s]&&x[s].apply(x,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Od=function(s,u){return new rs(s,u)},Ca=rs.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),rs.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),rs.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new D;for(var u in this._layers){var h=this._layers[u];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Su=function(s,u){return new Ca(s,u)},Aa=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,u){var h=this.options,x=h[u+"Size"];typeof x=="number"&&(x=[x,x]);var _=W(x),E=W(u==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(h.className||""),E&&(s.style.marginLeft=-E.x+"px",s.style.marginTop=-E.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Pe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ws(s){return new Aa(s)}var er=Aa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof er.imagePath!="string"&&(er.imagePath=this._detectIconPath()),(this.options.imagePath||er.imagePath)+Aa.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(h,x,_){var E=x.exec(h);return E&&E[_]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ht("div","leaflet-default-icon-path",document.body),u=Hs(s,"background-image")||Hs(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),tr=Ta.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new oi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,h=u._map,x=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,E=ri(u._icon),I=h.getPixelBounds(),re=h.getPixelOrigin(),fe=te(I.min._subtract(re).add(_),I.max._subtract(re).subtract(_));if(!fe.contains(E)){var Ee=W((Math.max(fe.max.x,E.x)-fe.max.x)/(I.max.x-fe.max.x)-(Math.min(fe.min.x,E.x)-fe.min.x)/(I.min.x-fe.min.x),(Math.max(fe.max.y,E.y)-fe.max.y)/(I.max.y-fe.max.y)-(Math.min(fe.min.y,E.y)-fe.min.y)/(I.min.y-fe.min.y)).multiplyBy(x);h.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),qt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ee(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ue(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,h=u._shadow,x=ri(u._icon),_=u._map.layerPointToLatLng(x);h&&qt(h,x),u._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),nr=ya.extend({options:{icon:new er,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){A(this,u),this._latlng=je(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),nt(h,u),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(h,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),E=!1;_!==this._shadow&&(this._removeShadow(),E=!0),_&&(nt(_,u),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&E&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&qt(this._icon,s),this._shadow&&qt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Yt(this._icon,s),this._shadow&&Yt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,h=u.iconSize?W(u.iconSize):W(0,0),x=u.iconAnchor?W(u.iconAnchor):W(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wu(s,u){return new nr(s,u)}var za=ya.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ls=za.extend({options:{fill:!0,radius:10},initialize:function(s,u){A(this,u),this._latlng=je(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return za.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,h=this._clickTolerance(),x=[s+h,u+h];this._pxBounds=new M(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Eu(s,u){return new ls(s,u)}var $r=ls.extend({initialize:function(s,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=je(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:za.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===qe.distance){var _=Math.PI/180,E=this._mRadius/qe.R/_,I=h.project([u+E,s]),re=h.project([u-E,s]),fe=I.add(re).divideBy(2),Ee=h.unproject(fe).lat,Oe=Math.acos((Math.cos(E*_)-Math.sin(u*_)*Math.sin(Ee*_))/(Math.cos(u*_)*Math.cos(Ee*_)))/_;(isNaN(Oe)||Oe===0)&&(Oe=E/Math.cos(Math.PI/180*u)),this._point=fe.subtract(h.getPixelOrigin()),this._radius=isNaN(Oe)?0:fe.x-h.project([Ee,s-Oe]).x,this._radiusY=fe.y-I.y}else{var Fe=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Fe).x}this._updateBounds()}});function ku(s,u,h){return new $r(s,u,h)}var $a=za.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){A(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,h=null,x=Xs,_,E,I=0,re=this._parts.length;I<re;I++)for(var fe=this._parts[I],Ee=1,Oe=fe.length;Ee<Oe;Ee++){_=fe[Ee-1],E=fe[Ee];var Fe=x(s,_,E,!0);Fe<u&&(u=Fe,h=x(s,_,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return is(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=je(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new D,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ea(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],h=ea(s),x=0,_=s.length;x<_;x++)h?(u[x]=je(s[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(s[x]);return u},_project:function(){var s=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new de(s,s);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,h){var x=s[0]instanceof ge,_=s.length,E,I;if(x){for(I=[],E=0;E<_;E++)I[E]=this._map.latLngToLayerPoint(s[E]),h.extend(I[E]);u.push(I)}else for(E=0;E<_;E++)this._projectLatlngs(s[E],u,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,x,_,E,I,re,fe;for(h=0,_=0,E=this._rings.length;h<E;h++)for(fe=this._rings[h],x=0,I=fe.length;x<I-1;x++)re=_u(fe[x],fe[x+1],s,x,!0),re&&(u[_]=u[_]||[],u[_].push(re[0]),(re[1]!==fe[x+1]||x===I-2)&&(u[_].push(re[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,h=0,x=s.length;h<x;h++)s[h]=yu(s[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var h,x,_,E,I,re,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,E=this._parts.length;h<E;h++)for(re=this._parts[h],x=0,I=re.length,_=I-1;x<I;_=x++)if(!(!u&&x===0)&&xu(s,re[_],re[x])<=fe)return!0;return!1}});function Dd(s,u){return new $a(s,u)}$a._flat=Gr;var os=$a.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=$a.prototype._convertLatLngs.call(this,s),h=u.length;return h>=2&&u[0]instanceof ge&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(s){$a.prototype._setLatLngs.call(this,s),ea(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ea(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,h=new de(u,u);if(s=new M(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,_=this._rings.length,E;x<_;x++)E=pu(this._rings[x],s,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,h,x,_,E,I,re,fe,Ee;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(E=0,fe=this._parts.length;E<fe;E++)for(h=this._parts[E],I=0,Ee=h.length,re=Ee-1;I<Ee;re=I++)x=h[I],_=h[re],x.y>s.y!=_.y>s.y&&s.x<(_.x-x.x)*(s.y-x.y)/(_.y-x.y)+x.x&&(u=!u);return u||$a.prototype._containsPoint.call(this,s,!0)}});function Rd(s,u){return new os(s,u)}var Ja=Ca.extend({initialize:function(s,u){A(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=P(s)?s:s.features,h,x,_;if(u){for(h=0,x=u.length;h<x;h++)_=u[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var E=this.options;if(E.filter&&!E.filter(s))return this;var I=kn(s,E);return I?(I.feature=Wr(s),I.defaultOptions=I.options,this.resetStyle(I),E.onEachFeature&&E.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=d({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function kn(s,u){var h=s.type==="Feature"?s.geometry:s,x=h?h.coordinates:null,_=[],E=u&&u.pointToLayer,I=u&&u.coordsToLatLng||Jr,re,fe,Ee,Oe;if(!x&&!h)return null;switch(h.type){case"Point":return re=I(x),us(E,s,re,u);case"MultiPoint":for(Ee=0,Oe=x.length;Ee<Oe;Ee++)re=I(x[Ee]),_.push(us(E,s,re,u));return new Ca(_);case"LineString":case"MultiLineString":return fe=ar(x,h.type==="LineString"?0:1,I),new $a(fe,u);case"Polygon":case"MultiPolygon":return fe=ar(x,h.type==="Polygon"?1:2,I),new os(fe,u);case"GeometryCollection":for(Ee=0,Oe=h.geometries.length;Ee<Oe;Ee++){var Fe=kn({geometry:h.geometries[Ee],type:"Feature",properties:s.properties},u);Fe&&_.push(Fe)}return new Ca(_);case"FeatureCollection":for(Ee=0,Oe=h.features.length;Ee<Oe;Ee++){var ot=kn(h.features[Ee],u);ot&&_.push(ot)}return new Ca(_);default:throw new Error("Invalid GeoJSON object.")}}function us(s,u,h,x){return s?s(u,h):new nr(h,x&&x.markersInheritOptions&&x)}function Jr(s){return new ge(s[1],s[0],s[2])}function ar(s,u,h){for(var x=[],_=0,E=s.length,I;_<E;_++)I=u?ar(s[_],u-1,h):(h||Jr)(s[_]),x.push(I);return x}function Xr(s,u){return s=je(s),s.alt!==void 0?[C(s.lng,u),C(s.lat,u),C(s.alt,u)]:[C(s.lng,u),C(s.lat,u)]}function ir(s,u,h,x){for(var _=[],E=0,I=s.length;E<I;E++)_.push(u?ir(s[E],ea(s[E])?0:u-1,h,x):Xr(s[E],x));return!u&&h&&_.length>0&&_.push(_[0].slice()),_}function ui(s,u){return s.feature?d({},s.feature,{geometry:u}):Wr(u)}function Wr(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ci={toGeoJSON:function(s){return ui(this,{type:"Point",coordinates:Xr(this.getLatLng(),s)})}};nr.include(ci),$r.include(ci),ls.include(ci),$a.include({toGeoJSON:function(s){var u=!ea(this._latlngs),h=ir(this._latlngs,u?1:0,!1,s);return ui(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),os.include({toGeoJSON:function(s){var u=!ea(this._latlngs),h=u&&!ea(this._latlngs[0]),x=ir(this._latlngs,h?2:u?1:0,!0,s);return u||(x=[x]),ui(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),rs.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(s).geometry.coordinates)}),ui(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var h=u==="GeometryCollection",x=[];return this.eachLayer(function(_){if(_.toGeoJSON){var E=_.toGeoJSON(s);if(h)x.push(E.geometry);else{var I=Wr(E);I.type==="FeatureCollection"?x.push.apply(x,I.features):x.push(I)}}}),h?ui(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function el(s,u){return new Ja(s,u)}var sr=el,cs=ya.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,h){this._url=s,this._bounds=H(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Nn(this._image),this},bringToBack:function(){return this._map&&ki(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=H(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:ht("img");if(nt(u,"leaflet-image-layer"),this._zoomAnimated&&nt(u,"leaflet-zoom-animated"),this.options.className&&nt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ga(this._image,h,u)},_reset:function(){var s=this._image,u=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();qt(s,u.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Tu=function(s,u,h){return new cs(s,u,h)},di=cs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:ht("video");if(nt(u,"leaflet-image-layer"),this._zoomAnimated&&nt(u,"leaflet-zoom-animated"),this.options.className&&nt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=p(this.fire,this,"load"),s){for(var h=u.getElementsByTagName("source"),x=[],_=0;_<h.length;_++)x.push(h[_].src);this._url=h.length>0?x:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var I=ht("source");I.src=this._url[E],u.appendChild(I)}}});function ds(s,u,h){return new di(s,u,h)}var tl=cs.extend({_initImage:function(){var s=this._image=this._url;nt(s,"leaflet-image-layer"),this._zoomAnimated&&nt(s,"leaflet-zoom-animated"),this.options.className&&nt(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function Cu(s,u,h){return new tl(s,u,h)}var Tn=ya.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ge||P(s))?(this._latlng=je(s),A(this,u)):(A(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(p(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=je(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Nn(this._container),this},bringToBack:function(){return this._map&&ki(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Ca){u=null;var h=this._source._layers;for(var x in h)if(h[x]._map){u=h[x];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=W(this.options.offset),h=this._getAnchor();this._zoomAnimated?qt(this._container,s.add(h)):u=u.add(s).add(h);var x=this._containerBottom=-u.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(s,u,h,x){var _=u;return _ instanceof s||(_=new s(x).setContent(u)),h&&_.setLatLng(h),_}}),ya.include({_initOverlay:function(s,u,h,x){var _=h;return _ instanceof s?(A(_,x),_._source=this):(_=u&&!x?u:new s(x,this),_.setContent(h)),_}});var rr=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof za||this._source.on("preclick",ga))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof za||this._source.off("preclick",ga))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=ht("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ht("div",s+"-content-wrapper",u);if(this._contentNode=ht("div",s+"-content",h),Ci(u),ka(this._contentNode),Xe(u,"contextmenu",ga),this._tipContainer=ht("div",s+"-tip-container",u),this._tip=ht("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ht("a",s+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Xe(x,"click",function(_){ln(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var x=s.offsetHeight,_=this.options.maxHeight,E="leaflet-popup-scrolled";_&&x>_?(u.height=_+"px",nt(s,E)):Jt(s,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();qt(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Hs(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,x=this._containerWidth,_=new de(this._containerLeft,-h-this._containerBottom);_._add(ri(this._container));var E=s.layerPointToContainerPoint(_),I=W(this.options.autoPanPadding),re=W(this.options.autoPanPaddingTopLeft||I),fe=W(this.options.autoPanPaddingBottomRight||I),Ee=s.getSize(),Oe=0,Fe=0;E.x+x+fe.x>Ee.x&&(Oe=E.x+x-Ee.x+fe.x),E.x-Oe-re.x<0&&(Oe=E.x-re.x),E.y+h+fe.y>Ee.y&&(Fe=E.y+h-Ee.y+fe.y),E.y-Fe-re.y<0&&(Fe=E.y-re.y),(Oe||Fe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Oe,Fe]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Au=function(s,u){return new rr(s,u)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(s,u,h){return this._initOverlay(rr,s,u,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ya.include({bindPopup:function(s,u){return this._popup=this._initOverlay(rr,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ca||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){li(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof za)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var lr=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,h,x=this._map,_=this._container,E=x.latLngToContainerPoint(x.getCenter()),I=x.layerPointToContainerPoint(s),re=this.options.direction,fe=_.offsetWidth,Ee=_.offsetHeight,Oe=W(this.options.offset),Fe=this._getAnchor();re==="top"?(u=fe/2,h=Ee):re==="bottom"?(u=fe/2,h=0):re==="center"?(u=fe/2,h=Ee/2):re==="right"?(u=0,h=Ee/2):re==="left"?(u=fe,h=Ee/2):I.x<E.x?(re="right",u=0,h=Ee/2):(re="left",u=fe+(Oe.x+Fe.x)*2,h=Ee/2),s=s.subtract(W(u,h,!0)).add(Oe).add(Fe),Jt(_,"leaflet-tooltip-right"),Jt(_,"leaflet-tooltip-left"),Jt(_,"leaflet-tooltip-top"),Jt(_,"leaflet-tooltip-bottom"),nt(_,"leaflet-tooltip-"+re),qt(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Yt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ld=function(s,u){return new lr(s,u)};xt.include({openTooltip:function(s,u,h){return this._initOverlay(lr,s,u,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ya.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lr,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ca||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Xe(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Xe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,h,x;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var zu=Aa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Xn(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=W(h.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Pd(s){return new zu(s)}Aa.Default=er;var ms=ya.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Pt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Nn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof de?s:new de(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,h=-s(-1/0,1/0),x=0,_=u.length,E;x<_;x++)E=u[x].style.zIndex,u[x]!==this._container&&E&&(h=s(h,+E));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){Yt(this._container,this.options.opacity);var s=+new Date,u=!1,h=!1;for(var x in this._tiles){var _=this._tiles[x];if(!(!_.current||!_.loaded)){var E=Math.min(1,(s-_.loaded)/200);Yt(_.el,E),E<1?u=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(ue(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=u-Math.abs(s-h),this._onUpdateLevel(h)):(Pt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[s],_=this._map;return x||(x=this._levels[s]={},x.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,_.getCenter(),_.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Pt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,h,x){var _=Math.floor(s/2),E=Math.floor(u/2),I=h-1,re=new de(+_,+E);re.z=+I;var fe=this._tileCoordsToKey(re),Ee=this._tiles[fe];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),I>x?this._retainParent(_,E,I,x):!1)},_retainChildren:function(s,u,h,x){for(var _=2*s;_<2*s+2;_++)for(var E=2*u;E<2*u+2;E++){var I=new de(_,E);I.z=h+1;var re=this._tileCoordsToKey(I),fe=this._tiles[re];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);h+1<x&&this._retainChildren(_,E,h+1,x)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,h,x){var _=Math.round(u);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var E=this.options.updateWhenZooming&&_!==this._tileZoom;(!x||E)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,u)},_setZoomTransform:function(s,u,h){var x=this._map.getZoomScale(h,s.zoom),_=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,h)).round();Pe.any3d?Ga(s.el,_,x):qt(s.el,_)},_resetGrid:function(){var s=this._map,u=s.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],x).x/h.x),Math.ceil(s.project([0,u.wrapLng[1]],x).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],x).y/h.x),Math.ceil(s.project([u.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(h,this._tileZoom),_=u.project(s,this._tileZoom).floor(),E=u.getSize().divideBy(x*2);return new M(_.subtract(E),_.add(E))},_update:function(s){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(x),E=_.getCenter(),I=[],re=this.options.keepBuffer,fe=new M(_.getBottomLeft().subtract([re,-re]),_.getTopRight().add([re,-re]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Oe=this._tiles[Ee].coords;(Oe.z!==this._tileZoom||!fe.contains(new de(Oe.x,Oe.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var Fe=_.min.y;Fe<=_.max.y;Fe++)for(var ot=_.min.x;ot<=_.max.x;ot++){var jn=new de(ot,Fe);if(jn.z=this._tileZoom,!!this._isValidTile(jn)){var on=this._tiles[this._tileCoordsToKey(jn)];on?on.current=!0:I.push(jn)}}if(I.sort(function(wt,Et){return wt.distanceTo(E)-Et.distanceTo(E)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(ot=0;ot<I.length;ot++)this._addTile(I[ot],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!u.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return H(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,h=this.getTileSize(),x=s.scaleBy(h),_=x.add(h),E=u.unproject(x,s.z),I=u.unproject(_,s.z);return[E,I]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),h=new D(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),h=new de(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(s){var u=this._tiles[s];u&&(Pt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){nt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,Pe.ielt9&&this.options.opacity<1&&Yt(s,this.options.opacity)},_addTile:function(s,u){var h=this._getTilePos(s),x=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&ee(p(this._tileReady,this,s,null,_)),qt(_,h),this._tiles[x]={el:_,coords:s,current:!0},u.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:s});var x=this._tileCoordsToKey(s);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Yt(h.el,0),ue(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(nt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new de(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new M(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Mu(s){return new ms(s)}var mi=ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=A(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var h=document.createElement("img");return Xe(h,"load",p(this._tileOnLoad,this,u,h)),Xe(h,"error",p(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=h),u["-y"]=h}return R(this._url,d(u,this.options))},_tileOnLoad:function(s,u){Pe.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,h){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),s(h,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(s=u-s),s+x},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=$;var h=this._tiles[s].coords;Pt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",$),ms.prototype._removeTile.call(this,s)},_tileReady:function(s,u,h){if(!(!this._map||h&&h.getAttribute("src")===$))return ms.prototype._tileReady.call(this,s,u,h)}});function ta(s,u){return new mi(s,u)}var or=mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var h=d({},this.defaultWmsParams);for(var x in u)x in this.options||(h[x]=u[x]);u=A(this,u);var _=u.detectRetina&&Pe.retina?2:1,E=this.getTileSize();h.width=E.x*_,h.height=E.y*_,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,mi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),h=this._crs,x=te(h.project(u[0]),h.project(u[1])),_=x.min,E=x.max,I=(this._wmsVersion>=1.3&&this._crs===no?[_.y,_.x,E.y,E.x]:[_.x,_.y,E.x,E.y]).join(","),re=mi.prototype.getTileUrl.call(this,s);return re+O(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,u){return d(this.wmsParams,s),u||this.redraw(),this}});function na(s,u){return new or(s,u)}mi.WMS=or,ta.wms=na;var Zn=ya.extend({options:{padding:.1},initialize:function(s){A(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var h=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,u),E=x.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(s,u));Pe.any3d?Ga(this._container,E,h):qt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new M(h,h.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nl=Zn.extend({options:{tolerance:0},getEvents:function(){var s=Zn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Xe(s,"mousemove",this._onMouseMove,this),Xe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ue(this._redrawRequest),delete this._ctx,Pt(this._container),Ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var s=this._bounds,u=this._container,h=s.getSize(),x=Pe.retina?2:1;qt(u,s.min),u.width=x*h.x,u.height=x*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,h=u.next,x=u.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),h=[],x,_;for(_=0;_<u.length;_++){if(x=Number(u[_]),isNaN(x))return;h.push(x)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var h,x,_,E,I=s._parts,re=I.length,fe=this._ctx;if(re){for(fe.beginPath(),h=0;h<re;h++){for(x=0,_=I[h].length;x<_;x++)E=I[h][x],fe[x?"lineTo":"moveTo"](E.x,E.y);u&&fe.closePath()}this._fillStroke(fe,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,h=this._ctx,x=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||x)/x;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(u.x,u.y/_,x,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,u){var h=u.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),h,x,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var h,x,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(nt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,h){this._map._fireDOMEvent(u,h||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var h=u.next,x=u.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var h=u.next,x=u.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function ur(s){return Pe.canvas?new nl(s):null}var hi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ao={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=hi("shape");nt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=hi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Pt(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,h=s._fill,x=s.options,_=s._container;_.stroked=!!x.stroke,_.filled=!!x.fill,x.stroke?(u||(u=s._stroke=hi("stroke")),_.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=P(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(_.removeChild(u),s._stroke=null),x.fill?(h||(h=s._fill=hi("fill")),_.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(_.removeChild(h),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),h=Math.round(s._radius),x=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Nn(s._container)},_bringToBack:function(s){ki(s._container)}},Ma=Pe.vml?hi:Gt,hs=Zn.extend({_initContainer:function(){this._container=Ma("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ma("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),Ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),qt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Ma("path");s.options.className&&nt(u,s.options.className),s.options.interactive&&nt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Pt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,h=s.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ht(s._parts,u))},_updateCircle:function(s){var u=s._point,h=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||h,_="a"+h+","+x+" 0 1,0 ",E=s._empty()?"M0 0":"M"+(u.x-h)+","+u.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(s,E)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Nn(s._path)},_bringToBack:function(s){ki(s._path)}});Pe.vml&&hs.include(ao);function cr(s){return Pe.svg||Pe.vml?new hs(s):null}xt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&ur(s)||cr(s)}});var zi=os.extend({initialize:function(s,u){os.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=H(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Bd(s,u){return new zi(s,u)}hs.create=Ma,hs.pointsToPath=Ht,Ja.geometryToLayer=kn,Ja.coordsToLatLng=Jr,Ja.coordsToLatLngs=ar,Ja.latLngToCoords=Xr,Ja.latLngsToCoords=ir,Ja.getFeature=ui,Ja.asFeature=Wr,xt.mergeOptions({boxZoom:!0});var qn=Ta.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wi(),qr(),this._startPoint=this._map.mouseEventToContainerPoint(s),Xe(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new M(this._point,this._startPoint),h=u.getSize();qt(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Pt(this._box),Jt(this._container,"leaflet-crosshair")),Ea(),Qs(),Ot(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",qn),xt.mergeOptions({doubleClickZoom:!0});var al=Ta.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,h=u.getZoom(),x=u.options.zoomDelta,_=s.originalEvent.shiftKey?h-x:h+x;u.options.doubleClickZoom==="center"?u.setZoom(_):u.setZoomAround(s.containerPoint,_)}});xt.addInitHook("addHandler","doubleClickZoom",al),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Oa=Ta.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new oi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=H(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,_=(x-u+h)%s+u-h,E=(x+u+h)%s-u-h,I=Math.abs(_+h)<Math.abs(E+h)?_:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var u=this._map,h=u.options,x=!h.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),x)u.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,I=h.easeLinearity,re=_.multiplyBy(I/E),fe=re.distanceTo([0,0]),Ee=Math.min(h.inertiaMaxSpeed,fe),Oe=re.multiplyBy(Ee/fe),Fe=Ee/(h.inertiaDeceleration*I),ot=Oe.multiplyBy(-Fe/2).round();!ot.x&&!ot.y?u.fire("moveend"):(ot=u._limitOffset(ot,u.options.maxBounds),ee(function(){u.panBy(ot,{duration:Fe,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",Oa),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=Ta.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Xe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,h=s.scrollTop||u.scrollTop,x=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},h=this.keyCodes,x,_;for(x=0,_=h.left.length;x<_;x++)u[h.left[x]]=[-1*s,0];for(x=0,_=h.right.length;x<_;x++)u[h.right[x]]=[s,0];for(x=0,_=h.down.length;x<_;x++)u[h.down[x]]=[0,s];for(x=0,_=h.up.length;x<_;x++)u[h.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},h=this.keyCodes,x,_;for(x=0,_=h.zoomIn.length;x<_;x++)u[h.zoomIn[x]]=s;for(x=0,_=h.zoomOut.length;x<_;x++)u[h.zoomOut[x]]=-s},_addHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,h=this._map,x;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[u],s.shiftKey&&(x=W(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(W(x),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(_)}else h.panBy(x)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;li(s)}}});xt.addInitHook("addHandler","keyboard",io),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dr=Ta.extend({addHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=An(s),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),x),li(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,E=h?Math.ceil(_/h)*h:_,I=s._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+I):s.setZoomAround(this._lastMousePos,u+I))}});xt.addInitHook("addHandler","scrollWheelZoom",dr);var Mi=600;xt.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var il=Ta.extend({addHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new de(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Xe(document,"touchend",ln),Xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Mi),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ot(document,"touchend",ln),Ot(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new de(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});xt.addInitHook("addHandler","tapHold",il),xt.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var so=Ta.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),ln(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]),_=h.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(_,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&_<1||this._zoom>u.getMaxZoom()&&_>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var E=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(_===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ue(this._animRequest);var I=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(I,this,!0),ln(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ue(this._animRequest),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",so),xt.BoxZoom=qn,xt.DoubleClickZoom=al,xt.Drag=Oa,xt.Keyboard=io,xt.ScrollWheelZoom=dr,xt.TapHold=il,xt.TouchZoom=so,l.Bounds=M,l.Browser=Pe,l.CRS=ze,l.Canvas=nl,l.Circle=$r,l.CircleMarker=ls,l.Class=U,l.Control=Qn,l.DivIcon=zu,l.DivOverlay=Tn,l.DomEvent=Kr,l.DomUtil=ns,l.Draggable=oi,l.Evented=ie,l.FeatureGroup=Ca,l.GeoJSON=Ja,l.GridLayer=ms,l.Handler=Ta,l.Icon=Aa,l.ImageOverlay=cs,l.LatLng=ge,l.LatLngBounds=D,l.Layer=ya,l.LayerGroup=rs,l.LineUtil=Md,l.Map=xt,l.Marker=nr,l.Mixin=Td,l.Path=za,l.Point=de,l.PolyUtil=eo,l.Polygon=os,l.Polyline=$a,l.Popup=rr,l.PosAnimation=as,l.Projection=Nu,l.Rectangle=zi,l.Renderer=Zn,l.SVG=hs,l.SVGOverlay=tl,l.TileLayer=mi,l.Tooltip=lr,l.Transformation=Ne,l.Util=oe,l.VideoOverlay=di,l.bind=p,l.bounds=te,l.canvas=ur,l.circle=ku,l.circleMarker=Eu,l.control=Ya,l.divIcon=Pd,l.extend=d,l.featureGroup=Su,l.geoJSON=el,l.geoJson=sr,l.gridLayer=Mu,l.icon=Ws,l.imageOverlay=Tu,l.latLng=je,l.latLngBounds=H,l.layerGroup=Od,l.map=Vl,l.marker=wu,l.point=W,l.polygon=Rd,l.polyline=Dd,l.popup=Au,l.rectangle=Bd,l.setOptions=A,l.stamp=v,l.svg=cr,l.svgOverlay=Cu,l.tileLayer=ta,l.tooltip=Ld,l.transformation=ct,l.version=o,l.videoOverlay=ds;var ro=window.L;l.noConflict=function(){return window.L=ro,this},window.L=l}))})(Yo,Yo.exports)),Yo.exports}var rz=sz();const Gi=cd(rz);function lz(t){return t==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:t==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function oz({markers:t}){const a=N.useRef(null),l=N.useRef(null),o=N.useRef(null);return N.useEffect(()=>{if(!a.current||l.current)return;const d=t[0]?.lat??41.015137,m=t[0]?.lon??28.97953,p=Gi.map(a.current,{center:[d,m],zoom:14,zoomControl:!0});return l.current=p,Gi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(p),o.current=Gi.layerGroup().addTo(p),()=>{l.current&&(l.current.remove(),l.current=null),o.current=null}},[t]),N.useEffect(()=>{if(!l.current||!o.current)return;const d=l.current,m=o.current;if(m.clearLayers(),!t.length)return;const p=[],y=new Map;for(const b of t){const S=`${b.lat.toFixed(6)}:${b.lon.toFixed(6)}`;y.set(S,(y.get(S)??0)+1)}const v=new Map;for(const b of t){const S=`${b.lat.toFixed(6)}:${b.lon.toFixed(6)}`,w=y.get(S)??1,C=v.get(S)??0;v.set(S,C+1);let z=b.lat,k=b.lon;if(w>1){const O=2*Math.PI*C/w,Z=12e-5;z=b.lat+Math.sin(O)*Z,k=b.lon+Math.cos(O)*Z}const A=lz(b.kind);Gi.circleMarker([z,k],A).bindPopup(`${b.label}<br/>${b.lat.toFixed(6)}, ${b.lon.toFixed(6)}`).addTo(m),p.push([z,k])}if(p.length===1){d.setView(p[0],16,{animate:!0});return}d.fitBounds(Gi.latLngBounds(p),{padding:[24,24],maxZoom:17,animate:!0})},[t]),i.jsx("div",{ref:a,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const uz=Fa({home_lat:_n().min(-90),home_lon:_n().min(-180),radius_m:_n().int().positive().max(2e3)}),cz=Fa({expires_in_minutes:_n().int().positive().max(1440)});function Qi(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function dz(t){return t==="OK"?"Tamam":t==="INCOMPLETE"?"Eksik":t==="LEAVE"?"Izinli":"Tatilde"}function jv(t,a){return t===null||a===null?"-":`${t.toFixed(6)}, ${a.toFixed(6)}`}function mz(){const t=tS(),a=Ll(),l=Rn(),{pushToast:o}=Ln(),d=new Date,m=Number(t.id),p=Number.isFinite(m)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(m),[y,v]=N.useState("41.0"),[b,S]=N.useState("29.0"),[w,C]=N.useState("120"),[z,k]=N.useState(null),[A,O]=N.useState(""),[Z,R]=N.useState(""),[P,G]=N.useState(""),[$,Y]=N.useState(String(d.getFullYear())),[K,Q]=N.useState(String(d.getMonth()+1)),[ae,ye]=N.useState(null),[ee,ue]=N.useState({checkin:!0,checkout:!0,latest:!0}),[oe,U]=N.useState(!1),[le,q]=N.useState("60"),[ie,de]=N.useState(null),[Te,W]=N.useState(null),[M,te]=N.useState(null),D=Le({queryKey:["employee-detail",m],queryFn:()=>F2(m),enabled:Number.isFinite(m)}),H=D.data?.employee,ge=Le({queryKey:["departments","employee-detail-edit"],queryFn:()=>Ps(),enabled:Number.isFinite(m)}),je=Le({queryKey:["department-shifts",H?.department_id],queryFn:()=>cu(H?.department_id?{department_id:H.department_id,active_only:!1}:void 0),enabled:!!H?.department_id}),ze=Number($),qe=Number(K),Ve=Number.isFinite(ze)&&Number.isFinite(qe)&&qe>=1&&qe<=12,et=Le({queryKey:["employee-monthly",m,ze,qe],queryFn:()=>Wo({employee_id:m,year:ze,month:qe}),enabled:Number.isFinite(m)&&Ve}),Ne=Le({queryKey:["employee-monthly-current",m,d.getFullYear(),d.getMonth()+1],queryFn:()=>Wo({employee_id:m,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(m)}),ct=Ye({mutationFn:V=>G2(m,V),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${m} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:V=>{const He=Ie(V,"Konum kaydedilemedi.").message;k(He),o({variant:"error",title:"Konum kaydedilemedi",description:He})}}),yt=Ye({mutationFn:V=>cb(m,{is_active:V}),onSuccess:V=>{o({variant:"success",title:V.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${V.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:V=>{o({variant:"error",title:"Durum guncellenemedi",description:Ie(V,"Islem basarisiz.").message})}}),it=Ye({mutationFn:V=>H2(m,V),onSuccess:V=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${V.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",V.department_id]})},onError:V=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Ie(V,"Islem basarisiz.").message})}}),Gt=Ye({mutationFn:V=>K2(m,{shift_id:V}),onSuccess:V=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${V.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:V=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Ie(V,"Islem basarisiz.").message})}}),Ht=Ye({mutationFn:bb,onSuccess:V=>{de(null),W(V.token),te(V.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${m} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:V=>{const He=Ie(V,"Cihaz daveti olusturulamadi.").message;de(He),o({variant:"error",title:"Davet olusturulamadi",description:He})}});N.useEffect(()=>{D.data?.home_location&&(v(String(D.data.home_location.home_lat)),S(String(D.data.home_location.home_lon)),C(String(D.data.home_location.radius_m)))},[D.data?.home_location]),N.useEffect(()=>{H&&O(H.shift_id?String(H.shift_id):"")},[H]),N.useEffect(()=>{H&&(R(H.full_name),G(H.department_id?String(H.department_id):""))},[H]),N.useEffect(()=>{Number.isFinite(m)&&(p||a("/employees",{replace:!0}))},[m,p,a]);const lt=async V=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(V);else{const He=document.createElement("textarea");He.value=V,document.body.appendChild(He),He.select(),document.execCommand("copy"),document.body.removeChild(He)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},Kt=()=>{de(null),W(null),te(null),q("60"),U(!0)},pn=V=>{V.preventDefault(),de(null);const He=cz.safeParse({expires_in_minutes:le});if(!He.success){const tt=He.error.issues[0]?.message??"Sure alanini kontrol edin.";de(tt),o({variant:"error",title:"Form hatasi",description:tt});return}Ht.mutate({employee_id:m,expires_in_minutes:He.data.expires_in_minutes})},X=V=>{V.preventDefault(),k(null);const He=uz.safeParse({home_lat:y,home_lon:b,radius_m:w});if(!He.success){const tt=He.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(tt),o({variant:"error",title:"Form hatasi",description:tt});return}ct.mutate(He.data)},Ce=V=>{V.preventDefault();const He=Z.trim();if(!He){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const tt=P?Number(P):null;if(P&&(tt===null||!Number.isFinite(tt)||tt<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}it.mutate({full_name:He,department_id:tt})},Ke=et.data?.days??[],_t=N.useMemo(()=>$f(Ke),[Ke]),jt=D.data?.ip_summary??[];N.useEffect(()=>{if(!ae)return;Ke.some(He=>He.date===ae)||ye(null)},[Ke,ae]);const dt=N.useMemo(()=>Ke.find(V=>V.date===ae)??null,[Ke,ae]),be=N.useMemo(()=>{const V=[];return dt&&(dt.in_lat!==null&&dt.in_lon!==null&&V.push({id:`${dt.date}-in`,lat:dt.in_lat,lon:dt.in_lon,label:`${dt.date} - Mesai Baslangici`,kind:"checkin"}),dt.out_lat!==null&&dt.out_lon!==null&&V.push({id:`${dt.date}-out`,lat:dt.out_lat,lon:dt.out_lon,label:`${dt.date} - Mesai Bitisi`,kind:"checkout"})),D.data?.latest_location&&V.push({id:"latest",lat:D.data.latest_location.lat,lon:D.data.latest_location.lon,label:"Son bildirilen konum",kind:"latest"}),V},[D.data?.latest_location,dt]),Ue=N.useMemo(()=>be.filter(V=>ee[V.kind]),[be,ee]);N.useEffect(()=>{be.length&&(Ue.length||ue({checkin:!0,checkout:!0,latest:!0}))},[Ue.length,be.length]);const mt=V=>{if(!be.some(Vt=>Vt.kind===V)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const tt=Object.values(ee).filter(Boolean).length;if(ee[V]&&tt===1){ue({checkin:!0,checkout:!0,latest:!0});return}ue({checkin:V==="checkin",checkout:V==="checkout",latest:V==="latest"})},Je=()=>{ue({checkin:!0,checkout:!0,latest:!0})},sn=(V,He)=>{const tt=V.in_lat!==null&&V.in_lon!==null,Vt=V.out_lat!==null&&V.out_lon!==null;if(!(He==="in"?tt:Vt)){o({variant:"info",title:"Konum bulunamadi",description:`${V.date} icin secilen konum kaydi yok.`});return}ye(V.date),ue({checkin:!0,checkout:!0,latest:!0})},ne=N.useMemo(()=>`${D.data?.devices.length??0} cihaz`,[D.data?.devices.length]);return Number.isFinite(m)?p?D.isLoading?i.jsx(At,{}):D.isError||!H?i.jsx(Nt,{message:"Calisan kaydi bulunamadi."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:`Calisan Detayi #${H.id}`,description:`${H.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{const V=!H.is_active;window.confirm(V?`${H.full_name} arsivden cikarilsin mi?`:`${H.full_name} arsivlensin mi?`)&&yt.mutate(V)},disabled:yt.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${H.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:H.is_active?"Arsivle":"Arsivden Cikar"}),i.jsx("button",{type:"button",onClick:Kt,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),i.jsx("p",{className:"text-base font-semibold text-slate-900",children:H.full_name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",H.id]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),i.jsx(Ls,{value:H.is_active?"Aktif":"Pasif"}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",H.region_name??"-"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",H.department_id??"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),i.jsx("p",{className:"text-sm font-medium text-slate-800",children:Qi(D.data?.last_portal_seen_utc)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",ne]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay yasal fazla mesai"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:Ne.data?.totals.legal_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Plan ustu: ",i.jsx(De,{minutes:Ne.data?.totals.plan_overtime_minutes??0})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),i.jsxs("form",{onSubmit:Ce,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:Z,onChange:V=>R(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:P,onChange:V=>G(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:ge.isLoading,children:[i.jsx("option",{value:"",children:"Atanmamis"}),(ge.data??[]).map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]})]}),i.jsx("button",{type:"submit",disabled:it.isPending||ge.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:it.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),ge.isError?i.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",i.jsxs("select",{value:A,onChange:V=>O(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!H.department_id||je.isLoading,children:[i.jsx("option",{value:"",children:"Atanmamis"}),(je.data??[]).map(V=>i.jsxs("option",{value:V.id,children:[V.name," (",V.start_time_local,"-",V.end_time_local,")"]},V.id))]})]}),i.jsx("button",{type:"button",disabled:Gt.isPending||!H.department_id,onClick:()=>{const V=A?Number(A):null;Gt.mutate(V)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Gt.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",i.jsx("input",{type:"number",value:$,onChange:V=>Y(V.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",i.jsx("input",{type:"number",min:1,max:12,value:K,onChange:V=>Q(V.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),Ve?et.isLoading?i.jsx(At,{}):et.isError?i.jsx(Nt,{message:Ie(et.error,"Aylik puantaj alinamadi.").message}):i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-3 xl:grid-cols-7",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:et.data?.totals.worked_minutes??0})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay plan ustu sure"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:et.data?.totals.plan_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[_t.planOvertimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla sure"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:et.data?.totals.legal_extra_work_minutes??0})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla mesai"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:et.data?.totals.legal_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[_t.overtimeDayCount," gun fazla mesai"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:et.data?.totals.incomplete_days??0})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:_t.workedDayCount}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",_t.weekdayWorkedDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Pazar mesaisi"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[_t.sundayWorkedDayCount," gun"]}),i.jsx("p",{className:"text-xs text-slate-500",children:i.jsx(De,{minutes:_t.sundayWorkedMinutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Ozel gun mesaisi"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[_t.specialWorkedDayCount," gun"]}),i.jsx("p",{className:"text-xs text-slate-500",children:i.jsx(De,{minutes:_t.specialWorkedMinutes})})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Gun Tipi"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Net Sure"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),i.jsx("tbody",{children:Ke.map(V=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:V.date}),i.jsx("td",{className:"py-2",children:dz(V.status)}),i.jsx("td",{className:"py-2",children:vd(V).label}),i.jsx("td",{className:"py-2",children:Qi(V.in)}),i.jsx("td",{className:"py-2",children:Qi(V.out)}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs",children:jv(V.in_lat,V.in_lon)}),V.in_lat!==null&&V.in_lon!==null?i.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>sn(V,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs",children:jv(V.out_lat,V.out_lon)}),V.out_lat!==null&&V.out_lon!==null?i.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>sn(V,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:V.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:V.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:V.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:V.legal_overtime_minutes})}),i.jsx("td",{className:"py-2 text-xs text-slate-600",children:V.flags.length?V.flags.join(", "):"-"})]},V.date))})]})})]}):i.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),i.jsx("div",{className:"mt-3 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Cihaz ID"}),i.jsx("th",{className:"py-2",children:"Parmak Izi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Olusma"}),i.jsx("th",{className:"py-2",children:"Son Attendance"}),i.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),i.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),i.jsx("tbody",{children:(D.data?.devices??[]).map(V=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:V.id}),i.jsx("td",{className:"py-2 font-mono text-xs",children:V.device_fingerprint}),i.jsx("td",{className:"py-2",children:i.jsx(Ls,{value:V.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:Qi(V.created_at)}),i.jsx("td",{className:"py-2",children:Qi(V.last_attendance_ts_utc)}),i.jsx("td",{className:"py-2",children:V.last_seen_ip??"-"}),i.jsx("td",{className:"py-2",children:Qi(V.last_seen_at_utc)})]},V.id))})]})})]}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),i.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Islem"}),i.jsx("th",{className:"py-2",children:"IP"}),i.jsx("th",{className:"py-2",children:"User Agent"})]})}),i.jsx("tbody",{children:(D.data?.recent_activity??[]).map((V,He)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Qi(V.ts_utc)}),i.jsx("td",{className:"py-2",children:V.action}),i.jsx("td",{className:"py-2",children:V.ip??"-"}),i.jsx("td",{className:"py-2 max-w-[280px] truncate",title:V.user_agent??"-",children:V.user_agent??"-"})]},`${V.ts_utc}-${He}`))})]})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),i.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:jt.length?i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"IP"}),i.jsx("th",{className:"py-2",children:"Son gorulme"}),i.jsx("th",{className:"py-2",children:"Aksiyon"}),i.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),i.jsx("tbody",{children:jt.map(V=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2 font-mono text-xs",children:V.ip}),i.jsx("td",{className:"py-2",children:Qi(V.last_seen_at_utc)}),i.jsx("td",{className:"py-2",children:V.last_action}),i.jsx("td",{className:"py-2",children:V.last_lat!==null&&V.last_lon!==null?`${V.last_lat.toFixed(6)}, ${V.last_lon.toFixed(6)}`:"-"}),i.jsx("td",{className:"py-2",children:V.last_location_ts_utc?Qi(V.last_location_ts_utc):"-"})]},V.ip))})]}):i.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),ae?i.jsx("button",{type:"button",onClick:()=>{ye(null),ue({checkin:!0,checkout:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),dt?i.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",i.jsx("span",{className:"font-semibold",children:dt.date})," gununun giris/cikis konumlari"]}):D.data?.latest_location?i.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):i.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),Ue.length?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsx(oz,{markers:Ue}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[i.jsxs("button",{type:"button",onClick:()=>mt("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ee.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),i.jsxs("button",{type:"button",onClick:()=>mt("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ee.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),i.jsxs("button",{type:"button",onClick:()=>mt("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ee.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),i.jsx("button",{type:"button",onClick:Je,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):i.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),D.data?.home_location?null:i.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),i.jsxs("form",{onSubmit:X,className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",i.jsx("input",{value:y,onChange:V=>v(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",i.jsx("input",{value:b,onChange:V=>S(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",i.jsx("input",{value:w,onChange:V=>C(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:ct.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ct.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):D.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?i.jsx("p",{className:"form-validation",children:z}):null]}),i.jsxs(eu,{open:oe,title:"Cihaz Baglama Linki Olustur",onClose:()=>U(!1),children:[i.jsxs("form",{onSubmit:pn,className:"space-y-4",children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",i.jsx("input",{value:le,onChange:V=>q(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"submit",disabled:Ht.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ht.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),i.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),ie?i.jsx("p",{className:"form-validation",children:ie}):null,Te&&M?i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(_v,{label:"Token",value:Te,onCopy:lt}),i.jsx(_v,{label:"Baglanti Linki (invite_url)",value:M,onCopy:lt})]}):null]})]}):i.jsx(At,{}):i.jsx(Nt,{message:"Gecersiz calisan id degeri."})}const hz={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},fz={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Zc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},n_="Europe/Istanbul";function Oh(t){const a=[];t.status==="INCOMPLETE"&&a.push("EKSIK_GUN");for(const l of t.flags)a.push(l);return a}function pz(t){return t.length===0?void 0:`Supheli nedenleri:
${t.map((l,o)=>{const d=_i(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function Sv(t){if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:n_,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)}function wv(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:n_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(a)}function Ev(t){if(!t)return{status:"NORMAL",reason:""};const a=(t.note??"").trim(),l=a.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:a.replace(l[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:a}:{status:"NORMAL",reason:a}}function gz(t,a){const l=a.trim();if(t==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${t}]`;return l?`${o} ${l}`:o}function yz(){const t=Rn(),{pushToast:a}=Ln(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,m]=N.useState(o),[p,y]=N.useState(o),[v,b]=N.useState(!1),[S,w]=N.useState(null),[C,z]=N.useState(!1),[k,A]=N.useState(!1),[O,Z]=N.useState(""),[R,P]=N.useState(""),[G,$]=N.useState(""),[Y,K]=N.useState(""),[Q,ae]=N.useState("NORMAL"),[ye,ee]=N.useState("AUTO"),[ue,oe]=N.useState(""),[U,le]=N.useState(null),[q,ie]=N.useState(null),de=Le({queryKey:["employees","all"],queryFn:()=>ii({status:"all"})}),Te=Number(p.employeeId),W=Number(p.year),M=Number(p.month),te=Number.isFinite(Te)&&Te>0&&Number.isFinite(W)&&W>0&&Number.isFinite(M)&&M>=1&&M<=12,D=Le({queryKey:["employee-monthly",Te,W,M],queryFn:()=>Wo({employee_id:Te,year:W,month:M}),enabled:te}),H=Le({queryKey:["manual-overrides",Te,W,M],queryFn:()=>kE(Te,W,M),enabled:te}),ge=Ye({mutationFn:({employeeId:be,dayDate:Ue,inTime:mt,outTime:Je,status:sn,ruleSource:ne,ruleShiftId:V,reason:He})=>{const tt=sn!=="NORMAL";return EE(be,{day_date:Ue,in_time:tt?null:mt||null,out_time:tt?null:Je||null,is_absent:tt,rule_source_override:ne,rule_shift_id_override:ne==="SHIFT"&&V?Number(V):null,note:gz(sn,He)})},onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),ie(null),oe(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:be=>{a({variant:"error",title:"Duzeltme kaydedilemedi",description:Ie(be,"Islem basarisiz.").message})}}),je=Ye({mutationFn:TE,onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),ie(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:be=>{a({variant:"error",title:"Silme islemi basarisiz",description:Ie(be,"Islem basarisiz.").message})}}),ze=N.useMemo(()=>de.data?.find(be=>be.id===Te),[de.data,Te]),qe=ze?.full_name,Ve=Le({queryKey:["monthly-manual-shifts",ze?.department_id],queryFn:()=>cu(ze?.department_id?{department_id:ze.department_id,active_only:!1}:void 0),enabled:!!ze?.department_id}),et=N.useMemo(()=>{const be=new Map;for(const Ue of H.data??[])be.set(Ue.day_date,Ue);return be},[H.data]),Ne=D.data?.days??[],ct=N.useMemo(()=>Ne.reduce((be,Ue)=>be+(Ue.missing_minutes??0),0),[Ne]),yt=N.useMemo(()=>Ne.filter(be=>!(v&&Oh(be).length===0||S&&!be.flags.includes(S))),[Ne,S,v]),it=N.useMemo(()=>Ne.filter(be=>Oh(be).length>0).length,[Ne]),Gt=N.useMemo(()=>Ne.filter(be=>be.legal_overtime_minutes>0).length,[Ne]),Ht=N.useMemo(()=>{const be=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],Ue=new Map;for(const mt of be)Ue.set(mt,0);for(const mt of Ne)for(const Je of be)mt.flags.includes(Je)&&Ue.set(Je,(Ue.get(Je)??0)+1);return be.map(mt=>({code:mt,count:Ue.get(mt)??0}))},[Ne]),lt=N.useMemo(()=>{const be=[];return p.employeeId&&be.push(`Calisan: ${p.employeeId}`),be.push(`Yil: ${p.year}`),be.push(`Ay: ${p.month}`),v&&be.push("Sadece supheli gunler"),S&&be.push(`Cakisma: ${_i(S).label}`),be},[p,S,v]),Kt=()=>y({...d}),pn=()=>{m(o),y(o),b(!1),w(null)},X=async()=>{if(!te){a({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const be=await ME({employee_id:Te,year:W,month:M}),Ue=window.URL.createObjectURL(be),mt=document.createElement("a");mt.href=Ue,mt.download=`puantaj-employee-${Te}-${W}-${String(M).padStart(2,"0")}.xlsx`,document.body.appendChild(mt),mt.click(),mt.remove(),window.URL.revokeObjectURL(Ue)}catch(be){a({variant:"error",title:"Excel indirilemedi",description:Ie(be,"Dosya olusturulamadi.").message})}finally{z(!1)}},Ce=be=>{const Ue=et.get(be.date),mt=Ev(Ue);Z(be.date),le(Ue?.id??null),ae(mt.status),K(mt.reason),P(Ue?Sv(Ue.in_ts):""),$(Ue?Sv(Ue.out_ts):""),ee(Ue?.rule_source_override??"AUTO"),oe(Ue?.rule_shift_id_override?String(Ue.rule_shift_id_override):be.shift_id?String(be.shift_id):""),ie(null),A(!0)},Ke=()=>{if(!te||Ne.length===0){a({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}Ce(Ne[0])},_t=()=>{if(ie(null),!O)return ie("Duzeltme icin tarih secmelisiniz."),!1;if(Q==="NORMAL"){if(!R&&!G)return ie("Normal gun icin en az bir saat bilgisi girin."),!1;if(R&&G&&G<R)return ie("Cikis saati giris saatinden kucuk olamaz."),!1}return ye==="SHIFT"&&!ue?(ie("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},jt=be=>{be.preventDefault(),te&&_t()&&ge.mutate({employeeId:Te,dayDate:O,inTime:R,outTime:G,status:Q,ruleSource:ye,ruleShiftId:ue,reason:Y})};if(de.isLoading)return i.jsx(At,{});if(de.isError)return i.jsx(Nt,{message:"Calisan listesi alinamadi."});const dt=de.data??[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:Ke,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),i.jsx("button",{type:"button",onClick:()=>{X()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),i.jsx(ni,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsx(Ia,{label:"Calisan",employees:dt,value:d.employeeId,onChange:be=>m(Ue=>({...Ue,employeeId:be})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",i.jsx("input",{type:"number",value:d.year,onChange:be=>m(Ue=>({...Ue,year:be.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:d.month,onChange:be=>m(Ue=>({...Ue,month:be.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsx("div",{className:"mt-3",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:be=>b(be.target.checked)}),"Sadece supheli gunleri goster"]})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:Kt,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:pn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:lt.map(be=>i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:be},be))})]}),te?null:i.jsx(Nt,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),D.isLoading?i.jsx(At,{}):null,D.isError?i.jsx(Nt,{message:Ie(D.error,"Aylik rapor alinamadi.").message}):null,D.data?i.jsxs(i.Fragment,{children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),i.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",qe??D.data.employee_id," | Donem:"," ",D.data.year,"-",D.data.month]}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-7",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.worked_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Plan Ustu Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.plan_overtime_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.legal_extra_work_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.legal_overtime_minutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[Gt," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),i.jsx("p",{className:"text-lg font-semibold",children:D.data.totals.incomplete_days})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),i.jsx("p",{className:"text-lg font-semibold",children:it})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:ct})})]})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.worked_minutes_net})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.annual_overtime_used_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.annual_overtime_remaining_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),i.jsx("p",{className:`text-sm font-semibold ${D.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:D.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),i.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),i.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:YE().map(be=>i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",title:_i(be).description,children:_i(be).label})," ","(",be,"): ",_i(be).description]},be))})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?i.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,i.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Ht.map(be=>i.jsxs("button",{type:"button",onClick:()=>{w(Ue=>Ue===be.code?null:be.code),b(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===be.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[i.jsx("p",{className:"text-xs text-slate-500",title:_i(be.code).description,children:_i(be.code).label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:be.count})]},be.code))})]}),yt.length===0?i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):i.jsx(Ae,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Calisma"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Eksik Sure"}),i.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Izin"}),i.jsx("th",{className:"py-2",children:"Supheli Neden"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:yt.map(be=>{const Ue=Oh(be),mt=Ue.length>0,Je=pz(Ue),sn=et.get(be.date),ne=Ev(sn),V=be.flags.includes("MANUAL_OVERRIDE")||be.flags.includes("MANUAL_EVENT")||!!sn,He=ne.status!=="NORMAL";return i.jsxs("tr",{className:`border-t border-slate-100 ${mt?"bg-amber-50/40":""}`,children:[i.jsx("td",{className:"py-2",children:be.date}),i.jsxs("td",{className:"py-2",children:[i.jsx(Ls,{value:be.status}),V?i.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,He?i.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:hz[ne.status]}):null,i.jsx("span",{className:"ml-2",children:i.jsx(jb,{suspicious:mt,tooltip:Je})})]}),i.jsx("td",{className:"py-2",title:be.in??void 0,children:wv(be.in)}),i.jsx("td",{className:"py-2",title:be.out??void 0,children:wv(be.out)}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:be.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:be.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:be.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:be.legal_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:be.missing_minutes??0})}),i.jsx("td",{className:"py-2",children:i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${be.applied_planned_minutes} dk | Mola: ${be.applied_break_minutes} dk`,children:fz[be.rule_source]})}),i.jsx("td",{className:"py-2",children:be.shift_name??"-"}),i.jsx("td",{className:"py-2",children:be.leave_type??"-"}),i.jsx("td",{className:"py-2",children:i.jsx(Sb,{reasons:Ue})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>Ce(be),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},be.date)})})]})})})]}):null,i.jsx(eu,{open:k,title:O?`${O} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),children:i.jsxs("form",{onSubmit:jt,className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",i.jsx("input",{type:"date",value:O,onChange:be=>Z(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",i.jsxs("select",{value:Q,onChange:be=>ae(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"NORMAL",children:"Normal"}),i.jsx("option",{value:"IZINLI",children:"Izinli"}),i.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),i.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",i.jsxs("select",{value:ye,onChange:be=>{const Ue=be.target.value;ee(Ue),Ue!=="SHIFT"&&oe("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"AUTO",children:Zc.AUTO}),i.jsx("option",{value:"SHIFT",children:Zc.SHIFT}),i.jsx("option",{value:"WEEKLY",children:Zc.WEEKLY}),i.jsx("option",{value:"WORK_RULE",children:Zc.WORK_RULE})]})]}),ye==="SHIFT"?i.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",i.jsxs("select",{value:ue,onChange:be=>oe(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Vardiya seciniz"}),(Ve.data??[]).map(be=>i.jsxs("option",{value:be.id,children:[be.name," (",be.start_time_local," - ",be.end_time_local,")"]},be.id))]})]}):null,i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",i.jsx("input",{type:"time",value:R,onChange:be=>P(be.target.value),disabled:Q!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",i.jsx("input",{type:"time",value:G,onChange:be=>$(be.target.value),disabled:Q!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),Q==="NORMAL"?i.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):i.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",i.jsx("input",{type:"text",value:Y,onChange:be=>K(be.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),q?i.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:q}):null,i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:ge.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ge.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),U?i.jsx("button",{type:"button",onClick:()=>je.mutate(U),disabled:je.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:je.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const xz=Fa({full_name:ja().min(2,"Ad soyad en az 2 karakter olmali."),region_id:ud([_n().int().positive(),Sf()]),department_id:ud([_n().int().positive(),Sf()]),is_active:Sd()});function vz(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState(!0),[S,w]=N.useState(""),[C,z]=N.useState(!1),[k,A]=N.useState(!1),[O,Z]=N.useState(""),[R,P]=N.useState(""),[G,$]=N.useState(null),Y=Le({queryKey:["employees",k,O,R],queryFn:()=>ii({...k?{include_inactive:!0}:{},...O?{region_id:Number(O)}:{},...R?{department_id:Number(R)}:{}})}),K=Le({queryKey:["departments"],queryFn:Ps}),Q=Le({queryKey:["regions","employees-page"],queryFn:()=>xd({include_inactive:!0})}),ae=Ye({mutationFn:q2,onSuccess:W=>{o(""),m(""),y(""),b(!0),$(null),z(!1),a({variant:"success",title:"Calisan olusturuldu",description:`${W.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const M=Ie(W,"Calisan olusturulamadi.").message;$(M),a({variant:"error",title:"Calisan olusturulamadi",description:M})}}),ye=Ye({mutationFn:({employeeId:W,nextStatus:M})=>cb(W,{is_active:M}),onSuccess:W=>{a({variant:"success",title:W.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${W.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const M=Ie(W,"Calisan durumu guncellenemedi.").message;a({variant:"error",title:"Islem basarisiz",description:M})}}),ee=W=>{W.preventDefault(),$(null);const M=d.trim()===""?null:Number(d),te=p.trim()===""?null:Number(p),D=xz.safeParse({full_name:l,region_id:M,department_id:te,is_active:v});if(!D.success){const H=D.error.issues[0]?.message??"Calisan formunu kontrol edin.";$(H),a({variant:"error",title:"Form hatasi",description:H});return}ae.mutate(D.data)},ue=Y.data??[],oe=K.data??[],U=Q.data??[],le=new Map(oe.map(W=>[W.id,W.name])),q=new Map(U.map(W=>[W.id,W.name])),ie=N.useMemo(()=>{const W=d?Number(d):null;return W?oe.filter(M=>M.region_id===W):oe},[oe,d]),de=N.useMemo(()=>{const W=O?Number(O):null;return W?oe.filter(M=>M.region_id===W):oe},[oe,O]),Te=N.useMemo(()=>{const W=S.trim().toLowerCase();return W?ue.filter(M=>M.full_name.toLowerCase().includes(W)):ue},[ue,S]);return Y.isLoading||K.isLoading||Q.isLoading?i.jsx(At,{}):Y.isError||K.isError||Q.isError?i.jsx(Nt,{message:"Calisan verileri alinamadi."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:i.jsx("button",{type:"button",onClick:()=>z(W=>!W),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:ee,className:"grid gap-3 md:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",i.jsx("input",{value:l,onChange:W=>o(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:d,onChange:W=>{m(W.target.value),y("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmamis"}),U.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:p,onChange:W=>y(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmamis"}),ie.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:W=>b(W.target.checked)}),"Aktif"]}),i.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[i.jsx("button",{type:"submit",disabled:ae.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ae.isPending?"Kaydediliyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{z(!1),$(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),G?i.jsx("div",{className:"form-validation",children:G}):null]}):null,i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[i.jsx(Yi,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:O,onChange:W=>{Z(W.target.value),P("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),U.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",i.jsxs("select",{value:R,onChange:W=>P(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum departmanlar"}),de.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:W=>A(W.target.checked)}),"Arsivdekileri goster"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Calisan ID"}),i.jsx("th",{className:"py-2",children:"Ad Soyad"}),i.jsx("th",{className:"py-2",children:"Bolge"}),i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:Te.map(W=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:W.id}),i.jsx("td",{className:"py-2",children:W.full_name}),i.jsx("td",{className:"py-2",children:W.region_name??(W.region_id?q.get(W.region_id):"-")??"-"}),i.jsx("td",{className:"py-2",children:W.department_id?le.get(W.department_id):"-"}),i.jsx("td",{className:"py-2",children:i.jsx(Ls,{value:W.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(ni,{to:`/employees/${W.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(W.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),i.jsx("button",{type:"button",disabled:ye.isPending,onClick:()=>{const M=!W.is_active;window.confirm(M?`${W.full_name} arsivden cikarilsin mi?`:`${W.full_name} arsivlensin mi?`)&&ye.mutate({employeeId:W.id,nextStatus:M})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${W.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:W.is_active?"Arsivle":"Arsivden Cikar"})]})})]},W.id))})]})}),Te.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const bz=Fa({employee_id:_n().int().positive(),start_date:ja().min(1),end_date:ja().min(1),type:Ef(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:Ef(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:ja().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function _z(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState("ANNUAL"),[S,w]=N.useState("APPROVED"),[C,z]=N.useState(""),[k,A]=N.useState(null),[O,Z]=N.useState(""),[R,P]=N.useState(String(new Date().getFullYear())),[G,$]=N.useState(String(new Date().getMonth()+1)),Y=Le({queryKey:["employees"],queryFn:()=>ii({include_inactive:!0,status:"all"})}),K=N.useMemo(()=>{const le=Number(O),q=Number(R),ie=Number(G);return{employee_id:Number.isFinite(le)&&le>0?le:void 0,year:Number.isFinite(q)&&q>0?q:void 0,month:Number.isFinite(ie)&&ie>0?ie:void 0}},[O,R,G]),Q=Le({queryKey:["leaves",K.employee_id??"all",K.year??"all",K.month??"all"],queryFn:()=>vb(K)}),ae=Ye({mutationFn:jE,onSuccess:le=>{m(""),y(""),b("ANNUAL"),w("APPROVED"),z(""),A(null),a({variant:"success",title:"zin kayd oluturuldu",description:`zin #${le.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:le=>{const q=Ie(le,"zin kayd oluturulamad.");A(q.message),a({variant:"error",title:"zin oluturulamad",description:q.message})}}),ye=Ye({mutationFn:SE,onSuccess:(le,q)=>{a({variant:"success",title:"zin kayd silindi",description:`zin #${q} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:le=>{const q=Ie(le,"zin silinemedi.");a({variant:"error",title:"zin silinemedi",description:q.message})}}),ee=le=>{le.preventDefault(),A(null);const q=bz.safeParse({employee_id:l,start_date:d,end_date:p,type:v,status:S,note:C});if(!q.success){const ie=q.error.issues[0]?.message??"zin formunu kontrol edin.";A(ie),a({variant:"error",title:"Form hatas",description:ie});return}ae.mutate({...q.data,note:q.data.note||null})};if(Y.isLoading)return i.jsx(At,{});if(Y.isError)return i.jsx(Nt,{message:"alan listesi alnamad."});const ue=Y.data??[],oe=Q.data??[],U=new Map(ue.map(le=>[le.id,le.full_name]));return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),i.jsxs("form",{onSubmit:ee,className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Ia,{label:"alan",employees:ue,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:d,onChange:le=>m(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:p,onChange:le=>y(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",i.jsxs("select",{value:v,onChange:le=>b(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),i.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),i.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),i.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),i.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",i.jsxs("select",{value:S,onChange:le=>w(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"APPROVED",children:"ONAYLI"}),i.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),i.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",i.jsx("textarea",{value:C,onChange:le=>z(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:ae.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ae.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?i.jsx("div",{className:"form-validation",children:k}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),i.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Ia,{label:"alan",employees:ue,value:O,onChange:Z,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{value:R,onChange:le=>P(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{value:G,onChange:le=>$(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),Q.isLoading?i.jsx(At,{}):null,Q.isError?i.jsx(Nt,{message:"zin listesi alnamad."}):null,!Q.isLoading&&!Q.isError?i.jsxs(Ae,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"zin ID"}),i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{className:"py-2",children:"zin Tipi"}),i.jsx("th",{className:"py-2",children:"Tarih Aral"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"lem"})]})}),i.jsx("tbody",{children:oe.map(le=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:le.id}),i.jsx("td",{className:"py-2",children:U.get(le.employee_id)??le.employee_id}),i.jsx("td",{className:"py-2",children:le.type}),i.jsxs("td",{className:"py-2",children:[le.start_date," - ",le.end_date]}),i.jsx("td",{className:"py-2",children:i.jsx(Ls,{value:le.status})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>ye.mutate(le.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},le.id))})]})}),oe.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const Nz=Fa({username:ja().min(1,"Kullanc ad gerekli."),password:ja().min(1,"ifre gerekli.")});function jz(t){return t.code==="INVALID_CREDENTIALS"?"Giri bilgileri hatal":t.code==="TOO_MANY_ATTEMPTS"?"ok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatas":"Giri baarsz"}function Sz(){const t=Ll(),a=Za(),{login:l}=zr(),[o,d]=N.useState("admin"),[m,p]=N.useState(""),[y,v]=N.useState(null),[b,S]=N.useState(!1),w=N.useMemo(()=>{const z=a.state?.from,k=new URLSearchParams(a.search).get("redirect");return z??k??"/dashboard"},[a.search,a.state]),C=async z=>{z.preventDefault(),v(null);const k=Nz.safeParse({username:o,password:m});if(!k.success){v({message:k.error.issues[0]?.message??"Form alanlarn kontrol et."});return}S(!0);try{await l(k.data.username,k.data.password),t(w,{replace:!0})}catch(A){v(Ie(A,"Giri baarsz."))}finally{S(!1)}};return i.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giri"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj ynetim paneline giri yap."}),i.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanc Ad"}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"ifre"}),i.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:m,onChange:z=>p(z.target.value)})]}),y?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[i.jsx("p",{className:"font-semibold",children:jz(y)}),i.jsx("p",{className:"mt-1",children:y.message}),y.requestId?i.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",y.requestId]}):null]}):null,i.jsx("button",{type:"submit",disabled:b,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:b?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giri yaplyor..."]}):"Giri Yap"})]}),i.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[Ni.signatureText," | BUILD: ",Ni.buildVersion]})]})})}const wz=[{to:"/employees",label:"alan Ynetimi",description:"Personel kart, ariv ve profil ynetimi.",code:"CMD-EMP"},{to:"/attendance-events",label:"Puantaj Kaytlar",description:"Giri-k olaylar ve manuel dzeltme.",code:"CMD-ATT"},{to:"/devices",label:"Cihaz Kontrol",description:"Cihaz aktivasyonu ve eriim denetimi.",code:"CMD-DEV"},{to:"/notifications",label:"Bildirim Merkezi",description:"Toplu/tekli push ve teslimat loglar.",code:"CMD-NOT"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",description:"alma ve fazla mesai analizi.",code:"CMD-RPT"},{to:"/audit-logs",label:"Sistem Loglar",description:"z kayd ve gvenlik denetimi.",code:"CMD-AUD"}];function qc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function Ez(t){const a=new Date(t);return Number.isNaN(a.getTime())?"":a.toLocaleDateString("sv-SE",{timeZone:"Europe/Istanbul"})}function kz(t){const a=new Date(`${t}T00:00:00Z`);return Number.isNaN(a.getTime())?"Hafta i":a.getUTCDay()===0?"Pazar":"Hafta i"}function Tz(t){return t==="NOT_STARTED"?"Balamad":t==="IN_PROGRESS"?"Mesai Devam Ediyor":"Mesai Tamamland"}function Cz(){const{pushToast:t}=Ln(),a=new Date,[l,o]=N.useState("Ynetim Konsolu Bildirimi"),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState("bulk"),[S,w]=N.useState(""),[C,z]=N.useState([]),[k,A]=N.useState(""),[O,Z]=N.useState(String(a.getFullYear())),[R,P]=N.useState(String(a.getMonth()+1)),G=Le({queryKey:["employees","management-console"],queryFn:()=>ii({status:"all",include_inactive:!0}),refetchInterval:3e4}),$=Le({queryKey:["devices","management-console"],queryFn:yb,refetchInterval:3e4}),Y=Le({queryKey:["attendance-events","management-console"],queryFn:()=>Yf({limit:20}),refetchInterval:2e4}),K=Le({queryKey:["employee-device-overview","management-console"],queryFn:()=>_f({limit:12,device_limit:2,include_inactive:!1}),refetchInterval:2e4}),Q=Le({queryKey:["dashboard-employee-snapshot","management-console",k],queryFn:()=>xb({employee_id:Number(k)}),enabled:!!k,staleTime:15e3}),ae=Number(O),ye=Number(R),ee=Number.isInteger(ae)&&Number.isInteger(ye)&&ye>=1&&ye<=12,ue=Le({queryKey:["management-console-control-monthly",k,ae,ye],queryFn:()=>Wo({employee_id:Number(k),year:ae,month:ye}),enabled:!!k&&ee,staleTime:15e3}),oe=Ye({mutationFn:gb,onSuccess:Ne=>{t({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${Ne.total_targets} / Gnderilen: ${Ne.sent}`}),m(""),v==="single"&&(z([]),w(""))},onError:Ne=>{const ct=Ie(Ne,"Bildirim gnderimi baarsz.");t({variant:"error",title:"Gnderim baarsz",description:ct.message})}}),U=G.data??[],le=$.data??[],q=Y.data??[],ie=K.data??[],de=ue.data?.days??[],Te=N.useMemo(()=>$f(de),[de]),W=N.useMemo(()=>new Map(U.map(Ne=>[Ne.id,Ne])),[U]),M=N.useMemo(()=>U.filter(Ne=>Ne.is_active).length,[U]),te=N.useMemo(()=>le.filter(Ne=>Ne.is_active).length,[le]),D=N.useMemo(()=>q.filter(Ne=>Ne.location_status==="VERIFIED_HOME").length,[q]),H=N.useMemo(()=>U.find(Ne=>String(Ne.id)===S)??null,[U,S]),ge=N.useMemo(()=>new Map(de.map(Ne=>[Ne.date,Ne])),[de]),je=Number(k),ze=N.useMemo(()=>q.slice(0,14).map(Ne=>{const ct=Ez(Ne.ts_utc),yt=Ne.employee_id===je&&ct?ge.get(ct):void 0;return{event:Ne,dayTypeLabel:yt?vd(yt).label:kz(ct),workedMinutes:yt?.worked_minutes??null,planOvertimeMinutes:yt?.plan_overtime_minutes??null,legalOvertimeMinutes:yt?.legal_overtime_minutes??null}}),[q,je,ge]),qe=()=>{const Ne=Number(S);if(!Number.isInteger(Ne)||Ne<=0){t({variant:"error",title:"Hedef eklenemedi",description:"nce alan sein."});return}if(C.includes(Ne)){t({variant:"info",title:"Hedef zaten eklendi",description:`#${Ne} listede var.`});return}z(ct=>[...ct,Ne]),w("")},Ve=Ne=>{z(ct=>ct.filter(yt=>yt!==Ne))},et=Ne=>{if(Ne.preventDefault(),!l.trim()||!d.trim()||!p.trim()){t({variant:"error",title:"Eksik alan",description:"Balk, mesaj ve ynetici ifresi zorunludur."});return}if(v==="single"&&C.length===0){t({variant:"error",title:"Hedef seilmedi",description:"Tekli bildirim iin en az bir alan sein."});return}oe.mutate({title:l.trim(),message:d.trim(),password:p.trim(),target:"employees",employee_ids:v==="single"?C:void 0})};return G.isLoading||$.isLoading||Y.isLoading||K.isLoading?i.jsx(At,{label:"Ynetim konsolu ykleniyor..."}):G.isError||$.isError||Y.isError||K.isError?i.jsx(Nt,{message:"Ynetim konsolu verileri alnamad."}):i.jsxs("div",{className:"management-console-screen space-y-4",children:[i.jsx(En,{title:"Ynetim Konsolu",description:"Tek merkezden bildirim, puantaj, konum ve cihaz operasyonlarn disiplinli akla ynetin."}),i.jsxs("div",{className:"management-console-kpi-grid",children:[i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Toplam alan"}),i.jsx("p",{className:"management-console-kpi-value",children:U.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",M]})]}),i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Toplam Cihaz"}),i.jsx("p",{className:"management-console-kpi-value",children:le.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",te]})]}),i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Canl Olay Ak"}),i.jsx("p",{className:"management-console-kpi-value",children:q.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Dorulanm konum: ",D]})]}),i.jsxs(Ae,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Cihaz Grnm Satr"}),i.jsx("p",{className:"management-console-kpi-value",children:ie.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Son yenileme: ",qc(new Date().toISOString())]})]})]}),i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Komut Merkezi"}),i.jsx("p",{className:"management-console-subtitle",children:"Dank ekranlar arasnda dolamak yerine kritik ynetim modllerine tek panelden eriin."}),i.jsx("div",{className:"management-console-command-grid",children:wz.map(Ne=>i.jsxs(ni,{to:Ne.to,className:"management-console-command-card",children:[i.jsx("span",{className:"management-console-command-code",children:Ne.code}),i.jsx("p",{className:"management-console-command-label",children:Ne.label}),i.jsx("p",{className:"management-console-command-desc",children:Ne.description})]},Ne.to))})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.06fr_1.35fr]",children:[i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Bildirim Terminali"}),i.jsx("p",{className:"management-console-subtitle",children:"Toplu veya tekli bildirim gnderimini ayn terminalden yrtn."}),i.jsxs("form",{className:"management-console-terminal mt-3 space-y-3",onSubmit:et,children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Gnderim Modu"}),i.jsxs("select",{value:v,onChange:Ne=>b(Ne.target.value),className:"management-console-input mt-1",children:[i.jsx("option",{value:"bulk",children:"Toplu (Tm alanlar)"}),i.jsx("option",{value:"single",children:"Tekli (Seili alanlar)"})]})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Ynetici ifresi"}),i.jsx("input",{type:"password",value:p,onChange:Ne=>y(Ne.target.value),className:"management-console-input mt-1",placeholder:"ifre"})]})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Balk"}),i.jsx("input",{value:l,onChange:Ne=>o(Ne.target.value),className:"management-console-input mt-1",placeholder:"Bildirim bal"})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Mesaj"}),i.jsx("textarea",{rows:4,value:d,onChange:Ne=>m(Ne.target.value),className:"management-console-input mt-1",placeholder:"Mesaj ierii"})]}),v==="single"?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ia,{label:"Hedef alan",employees:U,value:S,onChange:w,helperText:"alan seip listeye ekleyin."}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:qe,className:"management-console-action-button",children:"Hedefe Ekle"}),H?i.jsxs("span",{className:"management-console-inline-note",children:["Seili: #",H.id," - ",H.full_name]}):null]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:C.length===0?i.jsx("span",{className:"management-console-inline-note",children:"Henz hedef alan eklenmedi."}):C.map(Ne=>i.jsxs("button",{type:"button",onClick:()=>Ve(Ne),className:"management-console-chip",children:["#",Ne," - ",W.get(Ne)?.full_name??"alan"," "]},Ne))})]}):i.jsx("p",{className:"management-console-inline-note",children:"Toplu mod: Aktif/Pasif ayrm olmadan tm alanlara gnderilir."}),i.jsx("button",{type:"submit",disabled:oe.isPending,className:"management-console-send-button",children:oe.isPending?"Gnderiliyor...":"Bildirimi Gnder"})]})]}),i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"alan Kontrol Odas"}),i.jsx("p",{className:"management-console-subtitle",children:"Tek alan iin puantaj, konum ve cihaz metriklerini anlk izleyin."}),i.jsxs("div",{className:"management-console-terminal mt-3 space-y-3",children:[i.jsx(Ia,{label:"Kontrol edilecek alan",employees:U,value:k,onChange:A,helperText:"Seildiinde puantaj ve konum panelleri otomatik gncellenir."}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Yl"}),i.jsx("input",{type:"number",value:O,onChange:Ne=>Z(Ne.target.value),className:"management-console-input mt-1"})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Ay"}),i.jsx("input",{type:"number",min:1,max:12,value:R,onChange:Ne=>P(Ne.target.value),className:"management-console-input mt-1"})]})]}),k?null:i.jsx("p",{className:"management-console-inline-note",children:"alan seildiinde canl zet burada grnr."}),k&&!ee?i.jsx("p",{className:"management-console-inline-note",children:"Yl/ay deeri geersiz."}):null,k&&Q.isLoading?i.jsx(At,{label:"Canl zet ykleniyor..."}):null,k&&Q.isError?i.jsx(Nt,{message:"alan zeti alnamad."}):null,Q.data?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"management-console-strip",children:[i.jsx("span",{className:"management-console-strip-tag",children:"Durum"}),i.jsx("span",{children:Tz(Q.data.today_status)})]}),i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Bu Ay"}),i.jsxs("p",{children:["Net alma: ",i.jsx(De,{minutes:Q.data.current_month.worked_minutes})]}),i.jsxs("p",{children:["Plan Ustu Sure: ",i.jsx(De,{minutes:Q.data.current_month.plan_overtime_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Sure: ",i.jsx(De,{minutes:Q.data.current_month.extra_work_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Mesai: ",i.jsx(De,{minutes:Q.data.current_month.overtime_minutes})]})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"nceki Ay"}),i.jsxs("p",{children:["Net alma: ",i.jsx(De,{minutes:Q.data.previous_month.worked_minutes})]}),i.jsxs("p",{children:["Plan Ustu Sure: ",i.jsx(De,{minutes:Q.data.previous_month.plan_overtime_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Sure: ",i.jsx(De,{minutes:Q.data.previous_month.extra_work_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Mesai: ",i.jsx(De,{minutes:Q.data.previous_month.overtime_minutes})]})]})]}),ue.isLoading?i.jsx(At,{label:"Aylk puantaj ykleniyor..."}):null,ue.isError?i.jsx(Nt,{message:"Aylk puantaj alnamad."}):null,ue.data?i.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"allan Gn"}),i.jsxs("p",{children:[Te.workedDayCount," gn"]}),i.jsxs("p",{children:["Hafta i: ",Te.weekdayWorkedDayCount]})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Pazar Mesaisi"}),i.jsxs("p",{children:[Te.sundayWorkedDayCount," gn"]}),i.jsx("p",{children:i.jsx(De,{minutes:Te.sundayWorkedMinutes})})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"zel Gn Mesaisi"}),i.jsxs("p",{children:[Te.specialWorkedDayCount," gn"]}),i.jsx("p",{children:i.jsx(De,{minutes:Te.specialWorkedMinutes})})]})]}):null,i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Son Puantaj"}),Q.data.last_event?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Tip: ",Q.data.last_event.event_type]}),i.jsxs("p",{children:["Zaman: ",qc(Q.data.last_event.ts_utc)]}),i.jsxs("p",{children:["Konum Durumu: ",Q.data.last_event.location_status]})]}):i.jsx("p",{children:"Kayt bulunmuyor."})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Son Konum"}),Q.data.latest_location?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Koordinat: ",Q.data.latest_location.lat.toFixed(6),", ",Q.data.latest_location.lon.toFixed(6)]}),i.jsxs("p",{children:["Doruluk: ",Q.data.latest_location.accuracy_m??"-"," m"]}),i.jsxs("p",{children:["Zaman: ",qc(Q.data.latest_location.ts_utc)]})]}):i.jsx("p",{children:"Konum verisi yok."})]})]}),i.jsxs("div",{className:"management-console-strip",children:[i.jsx("span",{className:"management-console-strip-tag",children:"Cihaz"}),i.jsxs("span",{children:["Aktif ",Q.data.active_devices," / Toplam ",Q.data.total_devices]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(ni,{to:`/employees/${Q.data.employee.id}`,className:"management-console-action-button",children:"alan Detayn A"}),i.jsx(ni,{to:"/attendance-events",className:"management-console-action-button",children:"Puantaj Olaylarna Git"}),i.jsx(ni,{to:"/devices",className:"management-console-action-button",children:"Cihaz Paneline Git"})]})]}):null]})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Cihaz Eriim Ak"}),i.jsx("p",{className:"management-console-subtitle",children:"alan baznda cihaz younluu ve aktif cihaz oran."}),i.jsx("div",{className:"management-console-table-wrap mt-3",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{children:"Departman"}),i.jsx("th",{children:"Aktif/Toplam"}),i.jsx("th",{children:"lem"})]})}),i.jsx("tbody",{children:ie.slice(0,10).map(Ne=>i.jsxs("tr",{children:[i.jsxs("td",{className:"py-2",children:["#",Ne.employee_id," - ",Ne.employee_name]}),i.jsx("td",{children:Ne.department_name??"-"}),i.jsxs("td",{children:[Ne.active_devices,"/",Ne.total_devices]}),i.jsx("td",{children:i.jsx(ni,{className:"management-console-link",to:`/employees/${Ne.employee_id}`,children:"Detay"})})]},Ne.employee_id))})]})})]}),i.jsxs(Ae,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Canl Puantaj Kayd"}),i.jsx("p",{className:"management-console-subtitle",children:"Son giri-k olaylar ile gn tipi, gnlk alma, plan st sre ve yasal fazla mesai grnm."}),i.jsx("div",{className:"management-console-table-wrap mt-3",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{children:"alan"}),i.jsx("th",{children:"Gn Tipi"}),i.jsx("th",{children:"Tip"}),i.jsx("th",{children:"Konum"}),i.jsx("th",{children:"Gnlk alma"}),i.jsx("th",{children:"Plan st"}),i.jsx("th",{children:"Yasal FM"})]})}),i.jsx("tbody",{children:ze.map(Ne=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:qc(Ne.event.ts_utc)}),i.jsxs("td",{children:["#",Ne.event.employee_id," - ",W.get(Ne.event.employee_id)?.full_name??"alan"]}),i.jsx("td",{children:Ne.dayTypeLabel}),i.jsx("td",{children:Ne.event.type}),i.jsx("td",{children:Ne.event.location_status}),i.jsx("td",{children:Ne.workedMinutes===null?"-":i.jsx(De,{minutes:Ne.workedMinutes})}),i.jsx("td",{children:Ne.planOvertimeMinutes===null?"-":i.jsx(De,{minutes:Ne.planOvertimeMinutes})}),i.jsx("td",{children:Ne.legalOvertimeMinutes===null?"-":i.jsx(De,{minutes:Ne.legalOvertimeMinutes})})]},Ne.event.id))})]})})]})]})]})}function Az(){return i.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[i.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),i.jsx(ni,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),i.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:Ni.signatureText})]})})}function kv(t,a){const l=URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function zz(){const{pushToast:t}=Ln(),a=new Date,[l,o]=N.useState("employee"),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState(String(a.getFullYear())),[S,w]=N.useState(String(a.getMonth()+1)),[C,z]=N.useState(""),[k,A]=N.useState(""),[O,Z]=N.useState(!0),[R,P]=N.useState(!1),[G,$]=N.useState(""),[Y,K]=N.useState(""),[Q,ae]=N.useState("consolidated"),[ye,ee]=N.useState(""),[ue,oe]=N.useState(""),U=Le({queryKey:["employees","all"],queryFn:()=>ii({status:"all",include_inactive:!0})}),le=Le({queryKey:["departments"],queryFn:Ps}),q=Ye({mutationFn:zE,onSuccess:H=>{kv(H,`puantaj-${l}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:H=>{t({variant:"error",title:"Da aktarma baarsz",description:Ie(H,"Excel dosyas retilemedi.").message})}}),ie=Ye({mutationFn:RE,onSuccess:H=>{kv(H,`puantaj-range-${Q}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:H=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:Ie(H,"Excel dosyas retilemedi.").message})}}),de=N.useMemo(()=>{const H=Number(v),ge=Number(S),je=Number(d),ze=Number(p);return l==="employee"?!je||!H||!ge?null:{mode:l,employee_id:je,year:H,month:ge}:l==="department"?!ze||!H||!ge?null:{mode:l,department_id:ze,year:H,month:ge,include_daily_sheet:O,include_inactive:R}:l==="all"?!H||!ge?null:{mode:l,year:H,month:ge,include_daily_sheet:O,include_inactive:R}:!C||!k?null:{mode:l,start_date:C,end_date:k,employee_id:je||void 0,department_id:ze||void 0,include_inactive:R}},[l,d,p,v,S,C,k,O,R]),Te=N.useMemo(()=>{const H=Number(ue),ge=Number(ye);return!G||!Y?null:{start_date:G,end_date:Y,mode:Q,employee_id:H>0?H:void 0,department_id:ge>0?ge:void 0}},[G,Y,Q,ue,ye]),W=()=>{if(!de){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}q.mutate(de)},M=()=>{if(!Te){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}ie.mutate(Te)};if(U.isLoading||le.isLoading)return i.jsx(At,{});if(U.isError||le.isError)return i.jsx(Nt,{message:"alan/departman bilgileri alnamad."});const te=U.data??[],D=le.data??[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",i.jsxs("select",{value:l,onChange:H=>o(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"employee",children:"alan Bazl"}),i.jsx("option",{value:"department",children:"Departman Bazl"}),i.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),i.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&i.jsx(Ia,{label:"alan",employees:te,value:d,onChange:m,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:p,onChange:H=>y(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seiniz"}),D.map(H=>i.jsxs("option",{value:H.id,children:["#",H.id," - ",H.name]},H.id))]})]}),(l==="employee"||l==="department"||l==="all")&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{type:"number",value:v,onChange:H=>b(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:S,onChange:H=>w(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:C,onChange:H=>z(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:k,onChange:H=>A(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:O,onChange:H=>Z(H.target.checked)}),"Gnlk sheetleri de ekle"]}),i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:R,onChange:H=>P(H.target.checked)}),"Arivdeki alanlar dahil et"]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{type:"button",onClick:W,disabled:q.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:q.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),i.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",i.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:G,onChange:H=>$(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:Y,onChange:H=>K(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",i.jsxs("select",{value:Q,onChange:H=>ae(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),i.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),i.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",i.jsxs("select",{value:ye,onChange:H=>ee(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tm"}),D.map(H=>i.jsxs("option",{value:H.id,children:["#",H.id," - ",H.name]},H.id))]})]}),i.jsx(Ia,{label:"alan (opsiyonel)",employees:te,value:ue,onChange:oe,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{type:"button",onClick:M,disabled:ie.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ie.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var kl={},Dh,Tv;function Mz(){return Tv||(Tv=1,Dh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Dh}var Rh={},Os={},Cv;function Or(){if(Cv)return Os;Cv=1;let t;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Os.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Os.getSymbolTotalCodewords=function(o){return a[o]},Os.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},Os.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},Os.isKanjiModeEnabled=function(){return typeof t<"u"},Os.toSJIS=function(o){return t(o)},Os}var Lh={},Av;function sp(){return Av||(Av=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function a(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return a(o)}catch{return d}}})(Lh)),Lh}var Ph,zv;function Oz(){if(zv)return Ph;zv=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(a){const l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)===1},put:function(a,l){for(let o=0;o<l;o++)this.putBit((a>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Ph=t,Ph}var Bh,Mv;function Dz(){if(Mv)return Bh;Mv=1;function t(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return t.prototype.set=function(a,l,o,d){const m=a*this.size+l;this.data[m]=o,d&&(this.reservedBit[m]=!0)},t.prototype.get=function(a,l){return this.data[a*this.size+l]},t.prototype.xor=function(a,l,o){this.data[a*this.size+l]^=o},t.prototype.isReserved=function(a,l){return this.reservedBit[a*this.size+l]},Bh=t,Bh}var Ih={},Ov;function Rz(){return Ov||(Ov=1,(function(t){const a=Or().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,m=a(o),p=m===145?26:Math.ceil((m-13)/(2*d-2))*2,y=[m-7];for(let v=1;v<d-1;v++)y[v]=y[v-1]-p;return y.push(6),y.reverse()},t.getPositions=function(o){const d=[],m=t.getRowColCoords(o),p=m.length;for(let y=0;y<p;y++)for(let v=0;v<p;v++)y===0&&v===0||y===0&&v===p-1||y===p-1&&v===0||d.push([m[y],m[v]]);return d}})(Ih)),Ih}var Uh={},Dv;function Lz(){if(Dv)return Uh;Dv=1;const t=Or().getSymbolSize,a=7;return Uh.getPositions=function(o){const d=t(o);return[[0,0],[d-a,0],[0,d-a]]},Uh}var Zh={},Rv;function Pz(){return Rv||(Rv=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const m=d.size;let p=0,y=0,v=0,b=null,S=null;for(let w=0;w<m;w++){y=v=0,b=S=null;for(let C=0;C<m;C++){let z=d.get(w,C);z===b?y++:(y>=5&&(p+=a.N1+(y-5)),b=z,y=1),z=d.get(C,w),z===S?v++:(v>=5&&(p+=a.N1+(v-5)),S=z,v=1)}y>=5&&(p+=a.N1+(y-5)),v>=5&&(p+=a.N1+(v-5))}return p},t.getPenaltyN2=function(d){const m=d.size;let p=0;for(let y=0;y<m-1;y++)for(let v=0;v<m-1;v++){const b=d.get(y,v)+d.get(y,v+1)+d.get(y+1,v)+d.get(y+1,v+1);(b===4||b===0)&&p++}return p*a.N2},t.getPenaltyN3=function(d){const m=d.size;let p=0,y=0,v=0;for(let b=0;b<m;b++){y=v=0;for(let S=0;S<m;S++)y=y<<1&2047|d.get(b,S),S>=10&&(y===1488||y===93)&&p++,v=v<<1&2047|d.get(S,b),S>=10&&(v===1488||v===93)&&p++}return p*a.N3},t.getPenaltyN4=function(d){let m=0;const p=d.data.length;for(let v=0;v<p;v++)m+=d.data[v];return Math.abs(Math.ceil(m*100/p/5)-10)*a.N4};function l(o,d,m){switch(o){case t.Patterns.PATTERN000:return(d+m)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return m%3===0;case t.Patterns.PATTERN011:return(d+m)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(m/3))%2===0;case t.Patterns.PATTERN101:return d*m%2+d*m%3===0;case t.Patterns.PATTERN110:return(d*m%2+d*m%3)%2===0;case t.Patterns.PATTERN111:return(d*m%3+(d+m)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,m){const p=m.size;for(let y=0;y<p;y++)for(let v=0;v<p;v++)m.isReserved(v,y)||m.xor(v,y,l(d,v,y))},t.getBestMask=function(d,m){const p=Object.keys(t.Patterns).length;let y=0,v=1/0;for(let b=0;b<p;b++){m(b),t.applyMask(b,d);const S=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(b,d),S<v&&(v=S,y=b)}return y}})(Zh)),Zh}var Fc={},Lv;function a_(){if(Lv)return Fc;Lv=1;const t=sp(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Fc.getBlocksCount=function(d,m){switch(m){case t.L:return a[(d-1)*4+0];case t.M:return a[(d-1)*4+1];case t.Q:return a[(d-1)*4+2];case t.H:return a[(d-1)*4+3];default:return}},Fc.getTotalCodewordsCount=function(d,m){switch(m){case t.L:return l[(d-1)*4+0];case t.M:return l[(d-1)*4+1];case t.Q:return l[(d-1)*4+2];case t.H:return l[(d-1)*4+3];default:return}},Fc}var qh={},Ho={},Pv;function Bz(){if(Pv)return Ho;Pv=1;const t=new Uint8Array(512),a=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,a[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Ho.log=function(o){if(o<1)throw new Error("log("+o+")");return a[o]},Ho.exp=function(o){return t[o]},Ho.mul=function(o,d){return o===0||d===0?0:t[a[o]+a[d]]},Ho}var Bv;function Iz(){return Bv||(Bv=1,(function(t){const a=Bz();t.mul=function(o,d){const m=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let y=0;y<d.length;y++)m[p+y]^=a.mul(o[p],d[y]);return m},t.mod=function(o,d){let m=new Uint8Array(o);for(;m.length-d.length>=0;){const p=m[0];for(let v=0;v<d.length;v++)m[v]^=a.mul(d[v],p);let y=0;for(;y<m.length&&m[y]===0;)y++;m=m.slice(y)}return m},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let m=0;m<o;m++)d=t.mul(d,new Uint8Array([1,a.exp(m)]));return d}})(qh)),qh}var Fh,Iv;function Uz(){if(Iv)return Fh;Iv=1;const t=Iz();function a(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},a.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const m=t.mod(d,this.genPoly),p=this.degree-m.length;if(p>0){const y=new Uint8Array(this.degree);return y.set(m,p),y}return m},Fh=a,Fh}var Hh={},Kh={},Qh={},Uv;function i_(){return Uv||(Uv=1,Qh.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),Qh}var bi={},Zv;function s_(){if(Zv)return bi;Zv=1;const t="[0-9]+",a="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;bi.KANJI=new RegExp(l,"g"),bi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),bi.BYTE=new RegExp(o,"g"),bi.NUMERIC=new RegExp(t,"g"),bi.ALPHANUMERIC=new RegExp(a,"g");const d=new RegExp("^"+l+"$"),m=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return bi.testKanji=function(v){return d.test(v)},bi.testNumeric=function(v){return m.test(v)},bi.testAlphanumeric=function(v){return p.test(v)},bi}var qv;function Dr(){return qv||(qv=1,(function(t){const a=i_(),l=s_();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(m,p){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!a.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?m.ccBits[0]:p<27?m.ccBits[1]:m.ccBits[2]},t.getBestModeForData=function(m){return l.testNumeric(m)?t.NUMERIC:l.testAlphanumeric(m)?t.ALPHANUMERIC:l.testKanji(m)?t.KANJI:t.BYTE},t.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},t.isValid=function(m){return m&&m.bit&&m.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(m,p){if(t.isValid(m))return m;try{return o(m)}catch{return p}}})(Kh)),Kh}var Fv;function Zz(){return Fv||(Fv=1,(function(t){const a=Or(),l=a_(),o=sp(),d=Dr(),m=i_(),p=7973,y=a.getBCHDigit(p);function v(C,z,k){for(let A=1;A<=40;A++)if(z<=t.getCapacity(A,k,C))return A}function b(C,z){return d.getCharCountIndicator(C,z)+4}function S(C,z){let k=0;return C.forEach(function(A){const O=b(A.mode,z);k+=O+A.getBitsLength()}),k}function w(C,z){for(let k=1;k<=40;k++)if(S(C,k)<=t.getCapacity(k,z,d.MIXED))return k}t.from=function(z,k){return m.isValid(z)?parseInt(z,10):k},t.getCapacity=function(z,k,A){if(!m.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const O=a.getSymbolTotalCodewords(z),Z=l.getTotalCodewordsCount(z,k),R=(O-Z)*8;if(A===d.MIXED)return R;const P=R-b(A,z);switch(A){case d.NUMERIC:return Math.floor(P/10*3);case d.ALPHANUMERIC:return Math.floor(P/11*2);case d.KANJI:return Math.floor(P/13);case d.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(z,k){let A;const O=o.from(k,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,O);if(z.length===0)return 1;A=z[0]}else A=z;return v(A.mode,A.getLength(),O)},t.getEncodedBits=function(z){if(!m.isValid(z)||z<7)throw new Error("Invalid QR Code version");let k=z<<12;for(;a.getBCHDigit(k)-y>=0;)k^=p<<a.getBCHDigit(k)-y;return z<<12|k}})(Hh)),Hh}var Gh={},Hv;function qz(){if(Hv)return Gh;Hv=1;const t=Or(),a=1335,l=21522,o=t.getBCHDigit(a);return Gh.getEncodedBits=function(m,p){const y=m.bit<<3|p;let v=y<<10;for(;t.getBCHDigit(v)-o>=0;)v^=a<<t.getBCHDigit(v)-o;return(y<<10|v)^l},Gh}var Vh={},Yh,Kv;function Fz(){if(Kv)return Yh;Kv=1;const t=Dr();function a(l){this.mode=t.NUMERIC,this.data=l.toString()}return a.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){let d,m,p;for(d=0;d+3<=this.data.length;d+=3)m=this.data.substr(d,3),p=parseInt(m,10),o.put(p,10);const y=this.data.length-d;y>0&&(m=this.data.substr(d),p=parseInt(m,10),o.put(p,y*3+1))},Yh=a,Yh}var $h,Qv;function Hz(){if(Qv)return $h;Qv=1;const t=Dr(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=t.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let m;for(m=0;m+2<=this.data.length;m+=2){let p=a.indexOf(this.data[m])*45;p+=a.indexOf(this.data[m+1]),d.put(p,11)}this.data.length%2&&d.put(a.indexOf(this.data[m]),6)},$h=l,$h}var Jh,Gv;function Kz(){if(Gv)return Jh;Gv=1;const t=Dr();function a(l){this.mode=t.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return a.getBitsLength=function(o){return o*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},Jh=a,Jh}var Xh,Vv;function Qz(){if(Vv)return Xh;Vv=1;const t=Dr(),a=Or();function l(o){this.mode=t.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let m=a.toSJIS(this.data[d]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),o.put(m,13)}},Xh=l,Xh}var Wh={exports:{}},Yv;function Gz(){return Yv||(Yv=1,(function(t){var a={single_source_shortest_paths:function(l,o,d){var m={},p={};p[o]=0;var y=a.PriorityQueue.make();y.push(o,0);for(var v,b,S,w,C,z,k,A,O;!y.empty();){v=y.pop(),b=v.value,w=v.cost,C=l[b]||{};for(S in C)C.hasOwnProperty(S)&&(z=C[S],k=w+z,A=p[S],O=typeof p[S]>"u",(O||A>k)&&(p[S]=k,y.push(S,k),m[S]=b))}if(typeof d<"u"&&typeof p[d]>"u"){var Z=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(Z)}return m},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],m=o;m;)d.push(m),l[m],m=l[m];return d.reverse(),d},find_path:function(l,o,d){var m=a.single_source_shortest_paths(l,o,d);return a.extract_shortest_path_from_predecessor_list(m,d)},PriorityQueue:{make:function(l){var o=a.PriorityQueue,d={},m;l=l||{};for(m in o)o.hasOwnProperty(m)&&(d[m]=o[m]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=a})(Wh)),Wh.exports}var $v;function Vz(){return $v||($v=1,(function(t){const a=Dr(),l=Fz(),o=Hz(),d=Kz(),m=Qz(),p=s_(),y=Or(),v=Gz();function b(Z){return unescape(encodeURIComponent(Z)).length}function S(Z,R,P){const G=[];let $;for(;($=Z.exec(P))!==null;)G.push({data:$[0],index:$.index,mode:R,length:$[0].length});return G}function w(Z){const R=S(p.NUMERIC,a.NUMERIC,Z),P=S(p.ALPHANUMERIC,a.ALPHANUMERIC,Z);let G,$;return y.isKanjiModeEnabled()?(G=S(p.BYTE,a.BYTE,Z),$=S(p.KANJI,a.KANJI,Z)):(G=S(p.BYTE_KANJI,a.BYTE,Z),$=[]),R.concat(P,G,$).sort(function(K,Q){return K.index-Q.index}).map(function(K){return{data:K.data,mode:K.mode,length:K.length}})}function C(Z,R){switch(R){case a.NUMERIC:return l.getBitsLength(Z);case a.ALPHANUMERIC:return o.getBitsLength(Z);case a.KANJI:return m.getBitsLength(Z);case a.BYTE:return d.getBitsLength(Z)}}function z(Z){return Z.reduce(function(R,P){const G=R.length-1>=0?R[R.length-1]:null;return G&&G.mode===P.mode?(R[R.length-1].data+=P.data,R):(R.push(P),R)},[])}function k(Z){const R=[];for(let P=0;P<Z.length;P++){const G=Z[P];switch(G.mode){case a.NUMERIC:R.push([G,{data:G.data,mode:a.ALPHANUMERIC,length:G.length},{data:G.data,mode:a.BYTE,length:G.length}]);break;case a.ALPHANUMERIC:R.push([G,{data:G.data,mode:a.BYTE,length:G.length}]);break;case a.KANJI:R.push([G,{data:G.data,mode:a.BYTE,length:b(G.data)}]);break;case a.BYTE:R.push([{data:G.data,mode:a.BYTE,length:b(G.data)}])}}return R}function A(Z,R){const P={},G={start:{}};let $=["start"];for(let Y=0;Y<Z.length;Y++){const K=Z[Y],Q=[];for(let ae=0;ae<K.length;ae++){const ye=K[ae],ee=""+Y+ae;Q.push(ee),P[ee]={node:ye,lastCount:0},G[ee]={};for(let ue=0;ue<$.length;ue++){const oe=$[ue];P[oe]&&P[oe].node.mode===ye.mode?(G[oe][ee]=C(P[oe].lastCount+ye.length,ye.mode)-C(P[oe].lastCount,ye.mode),P[oe].lastCount+=ye.length):(P[oe]&&(P[oe].lastCount=ye.length),G[oe][ee]=C(ye.length,ye.mode)+4+a.getCharCountIndicator(ye.mode,R))}}$=Q}for(let Y=0;Y<$.length;Y++)G[$[Y]].end=0;return{map:G,table:P}}function O(Z,R){let P;const G=a.getBestModeForData(Z);if(P=a.from(R,G),P!==a.BYTE&&P.bit<G.bit)throw new Error('"'+Z+'" cannot be encoded with mode '+a.toString(P)+`.
 Suggested mode is: `+a.toString(G));switch(P===a.KANJI&&!y.isKanjiModeEnabled()&&(P=a.BYTE),P){case a.NUMERIC:return new l(Z);case a.ALPHANUMERIC:return new o(Z);case a.KANJI:return new m(Z);case a.BYTE:return new d(Z)}}t.fromArray=function(R){return R.reduce(function(P,G){return typeof G=="string"?P.push(O(G,null)):G.data&&P.push(O(G.data,G.mode)),P},[])},t.fromString=function(R,P){const G=w(R,y.isKanjiModeEnabled()),$=k(G),Y=A($,P),K=v.find_path(Y.map,"start","end"),Q=[];for(let ae=1;ae<K.length-1;ae++)Q.push(Y.table[K[ae]].node);return t.fromArray(z(Q))},t.rawSplit=function(R){return t.fromArray(w(R,y.isKanjiModeEnabled()))}})(Vh)),Vh}var Jv;function Yz(){if(Jv)return Rh;Jv=1;const t=Or(),a=sp(),l=Oz(),o=Dz(),d=Rz(),m=Lz(),p=Pz(),y=a_(),v=Uz(),b=Zz(),S=qz(),w=Dr(),C=Vz();function z(Y,K){const Q=Y.size,ae=m.getPositions(K);for(let ye=0;ye<ae.length;ye++){const ee=ae[ye][0],ue=ae[ye][1];for(let oe=-1;oe<=7;oe++)if(!(ee+oe<=-1||Q<=ee+oe))for(let U=-1;U<=7;U++)ue+U<=-1||Q<=ue+U||(oe>=0&&oe<=6&&(U===0||U===6)||U>=0&&U<=6&&(oe===0||oe===6)||oe>=2&&oe<=4&&U>=2&&U<=4?Y.set(ee+oe,ue+U,!0,!0):Y.set(ee+oe,ue+U,!1,!0))}}function k(Y){const K=Y.size;for(let Q=8;Q<K-8;Q++){const ae=Q%2===0;Y.set(Q,6,ae,!0),Y.set(6,Q,ae,!0)}}function A(Y,K){const Q=d.getPositions(K);for(let ae=0;ae<Q.length;ae++){const ye=Q[ae][0],ee=Q[ae][1];for(let ue=-2;ue<=2;ue++)for(let oe=-2;oe<=2;oe++)ue===-2||ue===2||oe===-2||oe===2||ue===0&&oe===0?Y.set(ye+ue,ee+oe,!0,!0):Y.set(ye+ue,ee+oe,!1,!0)}}function O(Y,K){const Q=Y.size,ae=b.getEncodedBits(K);let ye,ee,ue;for(let oe=0;oe<18;oe++)ye=Math.floor(oe/3),ee=oe%3+Q-8-3,ue=(ae>>oe&1)===1,Y.set(ye,ee,ue,!0),Y.set(ee,ye,ue,!0)}function Z(Y,K,Q){const ae=Y.size,ye=S.getEncodedBits(K,Q);let ee,ue;for(ee=0;ee<15;ee++)ue=(ye>>ee&1)===1,ee<6?Y.set(ee,8,ue,!0):ee<8?Y.set(ee+1,8,ue,!0):Y.set(ae-15+ee,8,ue,!0),ee<8?Y.set(8,ae-ee-1,ue,!0):ee<9?Y.set(8,15-ee-1+1,ue,!0):Y.set(8,15-ee-1,ue,!0);Y.set(ae-8,8,1,!0)}function R(Y,K){const Q=Y.size;let ae=-1,ye=Q-1,ee=7,ue=0;for(let oe=Q-1;oe>0;oe-=2)for(oe===6&&oe--;;){for(let U=0;U<2;U++)if(!Y.isReserved(ye,oe-U)){let le=!1;ue<K.length&&(le=(K[ue]>>>ee&1)===1),Y.set(ye,oe-U,le),ee--,ee===-1&&(ue++,ee=7)}if(ye+=ae,ye<0||Q<=ye){ye-=ae,ae=-ae;break}}}function P(Y,K,Q){const ae=new l;Q.forEach(function(U){ae.put(U.mode.bit,4),ae.put(U.getLength(),w.getCharCountIndicator(U.mode,Y)),U.write(ae)});const ye=t.getSymbolTotalCodewords(Y),ee=y.getTotalCodewordsCount(Y,K),ue=(ye-ee)*8;for(ae.getLengthInBits()+4<=ue&&ae.put(0,4);ae.getLengthInBits()%8!==0;)ae.putBit(0);const oe=(ue-ae.getLengthInBits())/8;for(let U=0;U<oe;U++)ae.put(U%2?17:236,8);return G(ae,Y,K)}function G(Y,K,Q){const ae=t.getSymbolTotalCodewords(K),ye=y.getTotalCodewordsCount(K,Q),ee=ae-ye,ue=y.getBlocksCount(K,Q),oe=ae%ue,U=ue-oe,le=Math.floor(ae/ue),q=Math.floor(ee/ue),ie=q+1,de=le-q,Te=new v(de);let W=0;const M=new Array(ue),te=new Array(ue);let D=0;const H=new Uint8Array(Y.buffer);for(let Ve=0;Ve<ue;Ve++){const et=Ve<U?q:ie;M[Ve]=H.slice(W,W+et),te[Ve]=Te.encode(M[Ve]),W+=et,D=Math.max(D,et)}const ge=new Uint8Array(ae);let je=0,ze,qe;for(ze=0;ze<D;ze++)for(qe=0;qe<ue;qe++)ze<M[qe].length&&(ge[je++]=M[qe][ze]);for(ze=0;ze<de;ze++)for(qe=0;qe<ue;qe++)ge[je++]=te[qe][ze];return ge}function $(Y,K,Q,ae){let ye;if(Array.isArray(Y))ye=C.fromArray(Y);else if(typeof Y=="string"){let le=K;if(!le){const q=C.rawSplit(Y);le=b.getBestVersionForData(q,Q)}ye=C.fromString(Y,le||40)}else throw new Error("Invalid data");const ee=b.getBestVersionForData(ye,Q);if(!ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(!K)K=ee;else if(K<ee)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ee+`.
`);const ue=P(K,Q,ye),oe=t.getSymbolSize(K),U=new o(oe);return z(U,K),k(U),A(U,K),Z(U,Q,0),K>=7&&O(U,K),R(U,ue),isNaN(ae)&&(ae=p.getBestMask(U,Z.bind(null,U,Q))),p.applyMask(ae,U),Z(U,Q,ae),{modules:U,version:K,errorCorrectionLevel:Q,maskPattern:ae,segments:ye}}return Rh.create=function(K,Q){if(typeof K>"u"||K==="")throw new Error("No input text");let ae=a.M,ye,ee;return typeof Q<"u"&&(ae=a.from(Q.errorCorrectionLevel,a.M),ye=b.from(Q.version),ee=p.from(Q.maskPattern),Q.toSJISFunc&&t.setToSJISFunction(Q.toSJISFunc)),$(K,ye,ae,ee)},Rh}var ef={},tf={},Xv;function r_(){return Xv||(Xv=1,(function(t){function a(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(m){return[m,m]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,m=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:m,scale:m?4:p,margin:d,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const m=t.getScale(o,d);return Math.floor((o+d.margin*2)*m)},t.qrToImageData=function(o,d,m){const p=d.modules.size,y=d.modules.data,v=t.getScale(p,m),b=Math.floor((p+m.margin*2)*v),S=m.margin*v,w=[m.color.light,m.color.dark];for(let C=0;C<b;C++)for(let z=0;z<b;z++){let k=(C*b+z)*4,A=m.color.light;if(C>=S&&z>=S&&C<b-S&&z<b-S){const O=Math.floor((C-S)/v),Z=Math.floor((z-S)/v);A=w[y[O*p+Z]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(tf)),tf}var Wv;function $z(){return Wv||(Wv=1,(function(t){const a=r_();function l(d,m,p){d.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=p,m.width=p,m.style.height=p+"px",m.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(m,p,y){let v=y,b=p;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),p||(b=o()),v=a.getOptions(v);const S=a.getImageWidth(m.modules.size,v),w=b.getContext("2d"),C=w.createImageData(S,S);return a.qrToImageData(C.data,m,v),l(w,b,S),w.putImageData(C,0,0),b},t.renderToDataURL=function(m,p,y){let v=y;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),v||(v={});const b=t.render(m,p,v),S=v.type||"image/png",w=v.rendererOpts||{};return b.toDataURL(S,w.quality)}})(ef)),ef}var nf={},e0;function Jz(){if(e0)return nf;e0=1;const t=r_();function a(d,m){const p=d.a/255,y=m+'="'+d.hex+'"';return p<1?y+" "+m+'-opacity="'+p.toFixed(2).slice(1)+'"':y}function l(d,m,p){let y=d+m;return typeof p<"u"&&(y+=" "+p),y}function o(d,m,p){let y="",v=0,b=!1,S=0;for(let w=0;w<d.length;w++){const C=Math.floor(w%m),z=Math.floor(w/m);!C&&!b&&(b=!0),d[w]?(S++,w>0&&C>0&&d[w-1]||(y+=b?l("M",C+p,.5+z+p):l("m",v,0),v=0,b=!1),C+1<m&&d[w+1]||(y+=l("h",S),S=0)):v++}return y}return nf.render=function(m,p,y){const v=t.getOptions(p),b=m.modules.size,S=m.modules.data,w=b+v.margin*2,C=v.color.light.a?"<path "+a(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+a(v.color.dark,"stroke")+' d="'+o(S,b,v.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+k+' shape-rendering="crispEdges">'+C+z+`</svg>
`;return typeof y=="function"&&y(null,O),O},nf}var t0;function Xz(){if(t0)return kl;t0=1;const t=Mz(),a=Yz(),l=$z(),o=Jz();function d(m,p,y,v,b){const S=[].slice.call(arguments,1),w=S.length,C=typeof S[w-1]=="function";if(!C&&!t())throw new Error("Callback required as last argument");if(C){if(w<2)throw new Error("Too few arguments provided");w===2?(b=y,y=p,p=v=void 0):w===3&&(p.getContext&&typeof b>"u"?(b=v,v=void 0):(b=v,v=y,y=p,p=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(y=p,p=v=void 0):w===2&&!p.getContext&&(v=y,y=p,p=void 0),new Promise(function(z,k){try{const A=a.create(y,v);z(m(A,p,v))}catch(A){k(A)}})}try{const z=a.create(y,v);b(null,m(z,p,v))}catch(z){b(z)}}return kl.create=a.create,kl.toCanvas=d.bind(null,l.render),kl.toDataURL=d.bind(null,l.renderToDataURL),kl.toString=d.bind(null,function(m,p,y){return o.render(m,y)}),kl}var Wz=Xz();const n0=cd(Wz),e3=[41.0082,28.9784];function Ds(t){return t.toFixed(6)}function t3({lat:t,lon:a,radiusM:l,onSelect:o}){const d=N.useRef(null),m=N.useRef(null),p=N.useRef(null),y=N.useRef(null),[v,b]=N.useState(!1),[S,w]=N.useState(""),[C,z]=N.useState(!1),[k,A]=N.useState(null),[O,Z]=N.useState(null),R=N.useMemo(()=>t!==null&&a!==null?[t,a]:e3,[t,a]);N.useEffect(()=>{if(!(!d.current||m.current)){try{const $=Gi.map(d.current,{center:R,zoom:t!==null&&a!==null?17:12,zoomControl:!0});m.current=$,Gi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo($);const Y=Gi.circleMarker(R,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo($);p.current=Y;const K=Gi.circle(R,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo($);y.current=K,$.on("click",Q=>{const ae=Q.latlng.lat,ye=Q.latlng.lng;o(ae,ye),Z(`Haritadan secildi: ${Ds(ae)}, ${Ds(ye)}`)}),b(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),b(!1)}return()=>{m.current&&(m.current.remove(),m.current=null),p.current=null,y.current=null,b(!1)}}},[R,t,a,o,l]),N.useEffect(()=>{if(!m.current||!p.current||!y.current)return;const $=m.current,Y=p.current,K=y.current;if(t!==null&&a!==null){const ae=[t,a];Y.setLatLng(ae),K.setLatLng(ae),$.panTo(ae,{animate:!0})}const Q=Number.isFinite(l)&&l>0?l:75;K.setRadius(Q)},[t,a,l]);const P=N.useCallback(async()=>{if(!v||!m.current)return;const $=S.trim();if(!$){Z("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const Y=new URL("https://nominatim.openstreetmap.org/search");Y.searchParams.set("q",$),Y.searchParams.set("format","json"),Y.searchParams.set("limit","1"),Y.searchParams.set("addressdetails","1"),Y.searchParams.set("accept-language","tr");const K=await fetch(Y.toString(),{headers:{Accept:"application/json"}});if(!K.ok)throw new Error("search_failed");const Q=await K.json();if(!Array.isArray(Q)||Q.length===0){Z("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const ae=Q[0],ye=Number(ae.lat),ee=Number(ae.lon);if(!Number.isFinite(ye)||!Number.isFinite(ee)){Z("Adres koordinata cevrilemedi.");return}o(ye,ee),m.current.setView([ye,ee],17,{animate:!0}),Z(`Adres bulundu: ${Ds(ye)}, ${Ds(ee)}${ae.display_name?` (${ae.display_name})`:""}`)}catch{Z("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[v,o,S]),G=N.useCallback(()=>{if(!navigator.geolocation){Z("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition($=>{const Y=$.coords.latitude,K=$.coords.longitude;o(Y,K),Z(`Mevcut konum alindi: ${Ds(Y)}, ${Ds(K)}`)},()=>{Z("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return i.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?i.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):i.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[i.jsx("input",{value:S,onChange:$=>w($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),i.jsx("button",{type:"button",onClick:()=>{P()},disabled:!v||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),i.jsx("button",{type:"button",onClick:G,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),i.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?Ds(t):"-"]}),i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",a!==null?Ds(a):"-"]}),i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),O?i.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:O}):null]})}const Hc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Kc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},n3={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function a0(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function i0(t,a){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a}function a3(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function i3(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(null),[d,m]=N.useState(null),[p,y]=N.useState(null),[v,b]=N.useState(""),[S,w]=N.useState(""),[C,z]=N.useState(""),[k,A]=N.useState(Hc),[O,Z]=N.useState(n3),[R,P]=N.useState(Kc),[G,$]=N.useState([]),[Y,K]=N.useState(null),Q=Le({queryKey:["qr-codes"],queryFn:()=>$2()}),ae=Le({queryKey:["qr-points"],queryFn:()=>tE()}),ye=Ye({mutationFn:J2,onSuccess:X=>{a({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${X.id}`}),A(Hc),o(X.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:X=>{a({variant:"error",title:"QR kod olusturulamadi",description:Ie(X,"Islem basarisiz.").message})}}),ee=Ye({mutationFn:({codeId:X,payload:Ce})=>X2(X,Ce),onSuccess:X=>{a({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${X.id}`}),m(null),A(Hc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:X=>{a({variant:"error",title:"QR kod guncellenemedi",description:Ie(X,"Islem basarisiz.").message})}}),ue=Ye({mutationFn:({codeId:X,pointIds:Ce})=>W2(X,{point_ids:Ce}),onSuccess:()=>{a({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),$([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:X=>{a({variant:"error",title:"Atama basarisiz",description:Ie(X,"Nokta atamasi yapilamadi.").message})}}),oe=Ye({mutationFn:({codeId:X,pointId:Ce})=>eE(X,Ce),onSuccess:()=>{a({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:X=>{a({variant:"error",title:"Islem basarisiz",description:Ie(X,"Nokta kaldirilamadi.").message})}}),U=Ye({mutationFn:nE,onSuccess:X=>{a({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${X.id}`}),P(Kc),t.invalidateQueries({queryKey:["qr-points"]})},onError:X=>{a({variant:"error",title:"QR nokta olusturulamadi",description:Ie(X,"Islem basarisiz.").message})}}),le=Ye({mutationFn:({pointId:X,payload:Ce})=>aE(X,Ce),onSuccess:()=>{a({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),y(null),P(Kc),t.invalidateQueries({queryKey:["qr-points"]})},onError:X=>{a({variant:"error",title:"QR nokta guncellenemedi",description:Ie(X,"Islem basarisiz.").message})}}),q=Ye({mutationFn:iE,onSuccess:()=>{a({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:X=>{a({variant:"error",title:"Islem basarisiz",description:Ie(X,"Nokta pasife alinamadi.").message})}}),ie=Q.data??[],de=ae.data??[];N.useEffect(()=>{l===null&&ie.length>0&&o(ie[0].id),l!==null&&!ie.some(X=>X.id===l)&&o(ie.length>0?ie[0].id:null)},[ie,l]);const Te=N.useMemo(()=>ie.find(X=>X.id===l)??null,[ie,l]);N.useEffect(()=>{if(!Te){K(null);return}let X=!1;return n0.toDataURL(Te.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Ce=>{X||K(Ce)}).catch(()=>{X||K(null)}),()=>{X=!0}},[Te?.id,Te?.code_value]);const W=N.useMemo(()=>{const X=new Map;for(const Ce of de)X.set(Ce.id,Ce);return X},[de]),M=N.useMemo(()=>Te?Te.point_ids.map(X=>W.get(X)??null).filter(X=>X!==null):[],[Te,W]),te=N.useMemo(()=>{const X=v.trim().toLowerCase();return X?ie.filter(Ce=>String(Ce.id).includes(X)||(Ce.name??"").toLowerCase().includes(X)||Ce.code_value.toLowerCase().includes(X)):ie},[ie,v]),D=N.useMemo(()=>{const X=S.trim().toLowerCase();return X?de.filter(Ce=>String(Ce.id).includes(X)||Ce.name.toLowerCase().includes(X)||String(Ce.department_id??"").includes(X)||String(Ce.region_id??"").includes(X)):de},[de,S]),H=N.useMemo(()=>{const X=de.filter(Ke=>Ke.is_active),Ce=C.trim().toLowerCase();return Ce?X.filter(Ke=>String(Ke.id).includes(Ce)||Ke.name.toLowerCase().includes(Ce)||String(Ke.department_id??"").includes(Ce)||String(Ke.region_id??"").includes(Ce)):X},[de,C]),ge=N.useMemo(()=>{const X=ie.filter(_t=>_t.is_active).length,Ce=de.filter(_t=>_t.is_active).length,Ke=ie.filter(_t=>_t.point_ids.length===0).length;return{codeCount:ie.length,activeCodes:X,pointCount:de.length,activePoints:Ce,codesWithoutPoint:Ke}},[ie,de]),je=N.useMemo(()=>{const X=Number(R.lat);return Number.isFinite(X)?X:null},[R.lat]),ze=N.useMemo(()=>{const X=Number(R.lon);return Number.isFinite(X)?X:null},[R.lon]),qe=N.useMemo(()=>{const X=Number(R.radiusM);return Number.isFinite(X)&&X>0?X:75},[R.radiusM]),Ve=X=>{$(Ce=>Ce.includes(X)?Ce.filter(Ke=>Ke!==X):[...Ce,X])},et=X=>{m(X.id),A({name:X.name??"",codeValue:X.code_value,codeType:X.code_type,isActive:X.is_active})},Ne=()=>{m(null),A(Hc)},ct=()=>{const X=i0(O.regionCode,"GEN"),Ce=i0(O.locationCode,"LOKASYON"),Ke=Number(O.serialNo),_t=Number.isFinite(Ke)&&Ke>0?Math.floor(Ke):1,jt=a3(k.codeType),dt=`PF-${X}-${Ce}-${jt}-${String(_t).padStart(6,"0")}`;A(be=>({...be,codeValue:dt}))},yt=X=>{y(X.id),P({name:X.name,lat:String(X.lat),lon:String(X.lon),radiusM:String(X.radius_m),isActive:X.is_active})},it=()=>{y(null),P(Kc)},Gt=X=>{X.preventDefault();const Ce=k.codeValue.trim();if(!Ce){a({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const Ke={name:k.name.trim()||null,code_value:Ce,code_type:k.codeType,is_active:k.isActive};if(d===null){ye.mutate(Ke);return}ee.mutate({codeId:d,payload:Ke})},Ht=X=>{X.preventDefault();const Ce=R.name.trim(),Ke=Number(R.lat),_t=Number(R.lon),jt=Number(R.radiusM);if(!Ce){a({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(Ke)||!Number.isFinite(_t)||!Number.isFinite(jt)||jt<=0){a({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const dt={name:Ce,lat:Ke,lon:_t,radius_m:jt,is_active:R.isActive};if(p===null){U.mutate(dt);return}le.mutate({pointId:p,payload:dt})},lt=()=>{if(!Te){a({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(G.length===0){a({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}ue.mutate({codeId:Te.id,pointIds:G})},Kt=async X=>{try{await navigator.clipboard.writeText(X),a({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{a({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},pn=async X=>{try{const Ce=await n0.toDataURL(X.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),Ke=document.createElement("a");Ke.href=Ce,Ke.download=`qr-kod-${X.id}.png`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),a({variant:"success",title:"PNG indirildi",description:`QR kod #${X.id} dosyasi indirildi.`})}catch{a({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return Q.isLoading||ae.isLoading?i.jsx(At,{}):Q.isError||ae.isError?i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),i.jsx(Ae,{children:i.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_1fr]",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),i.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[i.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),i.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),i.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),i.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),i.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.codeCount}),i.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activeCodes]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.pointCount}),i.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activePoints]})]}),i.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[i.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),i.jsx("p",{className:"text-lg font-semibold text-rose-800",children:ge.codesWithoutPoint}),i.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Gt,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",i.jsx("input",{value:k.name,onChange:X=>A(Ce=>({...Ce,name:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),i.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[i.jsx("input",{value:O.regionCode,onChange:X=>Z(Ce=>({...Ce,regionCode:X.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),i.jsx("input",{value:O.locationCode,onChange:X=>Z(Ce=>({...Ce,locationCode:X.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),i.jsx("input",{type:"number",min:1,value:O.serialNo,onChange:X=>Z(Ce=>({...Ce,serialNo:X.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),i.jsx("button",{type:"button",onClick:ct,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",i.jsx("input",{value:k.codeValue,onChange:X=>A(Ce=>({...Ce,codeValue:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",i.jsxs("select",{value:k.codeType,onChange:X=>A(Ce=>({...Ce,codeType:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),i.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),i.jsx("option",{value:"BOTH",children:"BOTH"})]}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k.isActive,onChange:X=>A(Ce=>({...Ce,isActive:X.target.checked}))}),"Aktif"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:ye.isPending||ee.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?i.jsx("button",{type:"button",onClick:Ne,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),i.jsx("div",{className:"mt-3",children:i.jsx(Yi,{value:v,onChange:b,placeholder:"Kod adi / degeri / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-80 overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"ID"}),i.jsx("th",{className:"px-3 py-2",children:"Kod"}),i.jsx("th",{className:"px-3 py-2",children:"Tip"}),i.jsx("th",{className:"px-3 py-2",children:"Durum"}),i.jsx("th",{className:"px-3 py-2",children:"Nokta"}),i.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),i.jsxs("tbody",{children:[te.map(X=>i.jsxs("tr",{className:`border-t border-slate-100 ${l===X.id?"bg-brand-50/60":""}`,children:[i.jsx("td",{className:"px-3 py-2",children:X.id}),i.jsxs("td",{className:"px-3 py-2",children:[i.jsx("button",{type:"button",onClick:()=>o(X.id),className:"font-medium text-brand-700 hover:underline",children:X.name||"-"}),i.jsx("div",{className:"text-xs text-slate-500",children:X.code_value})]}),i.jsx("td",{className:"px-3 py-2",children:a0(X.code_type)}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${X.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:X.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"px-3 py-2",children:X.point_ids.length}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{type:"button",onClick:()=>et(X),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),i.jsx("button",{type:"button",onClick:()=>{pn(X)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},X.id)),te.length===0?i.jsx("tr",{children:i.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Te?`3) QR Kod Detay (#${Te.id})`:"3) QR Kod Detay"}),Te?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Te.name||"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Te.code_value]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Tip:"})," ",a0(Te.code_type)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Te.is_active?"Aktif":"Pasif"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Te.point_ids.length]})]}),Te.point_ids.length===0?i.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,i.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),i.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Te.code_value}),Y?i.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[i.jsx("img",{src:Y,alt:`QR Kod ${Te.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{pn(Te)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),i.jsx("button",{type:"button",onClick:()=>{Kt(Te.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):i.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),i.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),M.length===0?i.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):i.jsx("div",{className:"space-y-2",children:M.map(X=>i.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-slate-800",children:["#",X.id," - ",X.name]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",X.lat,", ",X.lon," | radius: ",X.radius_m,"m"]})]}),i.jsx("button",{type:"button",onClick:()=>oe.mutate({codeId:Te.id,pointId:X.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},X.id))})]}):i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),i.jsx("div",{className:"mt-3",children:i.jsx(Yi,{value:C,onChange:z,placeholder:"Nokta adi / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-56 overflow-auto rounded-lg border border-slate-200 p-2",children:H.length===0?i.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):i.jsx("div",{className:"space-y-1",children:H.map(X=>i.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[i.jsx("input",{type:"checkbox",checked:G.includes(X.id),onChange:()=>Ve(X.id)}),i.jsxs("span",{children:["#",X.id," - ",X.name," (",X.radius_m,"m)"]})]},X.id))})}),i.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[i.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",G.length]}),i.jsx("button",{type:"button",onClick:lt,disabled:ue.isPending||Te===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Ht,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",i.jsx("input",{value:R.name,onChange:X=>P(Ce=>({...Ce,name:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",i.jsx("input",{type:"number",step:"any",value:R.lat,onChange:X=>P(Ce=>({...Ce,lat:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",i.jsx("input",{type:"number",step:"any",value:R.lon,onChange:X=>P(Ce=>({...Ce,lon:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsx(t3,{lat:je,lon:ze,radiusM:qe,onSelect:(X,Ce)=>P(Ke=>({...Ke,lat:String(X),lon:String(Ce)}))}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",i.jsx("input",{type:"number",min:1,value:R.radiusM,onChange:X=>P(Ce=>({...Ce,radiusM:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:R.isActive,onChange:X=>P(Ce=>({...Ce,isActive:X.target.checked}))}),"Aktif"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:U.isPending||le.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?i.jsx("button",{type:"button",onClick:it,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),i.jsx("div",{className:"mt-3",children:i.jsx(Yi,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-96 overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"ID"}),i.jsx("th",{className:"px-3 py-2",children:"Nokta"}),i.jsx("th",{className:"px-3 py-2",children:"Konum"}),i.jsx("th",{className:"px-3 py-2",children:"Durum"}),i.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),i.jsxs("tbody",{children:[D.map(X=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-3 py-2",children:X.id}),i.jsxs("td",{className:"px-3 py-2",children:[i.jsx("p",{className:"font-medium text-slate-800",children:X.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",X.radius_m,"m"]})]}),i.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[X.lat,", ",X.lon]}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${X.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:X.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{type:"button",onClick:()=>yt(X),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),X.is_active?i.jsx("button",{type:"button",onClick:()=>q.mutate(X.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},X.id)),D.length===0?i.jsx("tr",{children:i.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const s0=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function s3(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState(""),[p,y]=N.useState(""),[v,b]=N.useState({}),[S,w]=N.useState(""),[C,z]=N.useState("09:00"),[k,A]=N.useState("17:30"),[O,Z]=N.useState("60"),[R,P]=N.useState(!0),[G,$]=N.useState(null),Y=Le({queryKey:["departments"],queryFn:Ps}),K=Le({queryKey:["employees","all-for-quick-setup"],queryFn:()=>ii({include_inactive:!0,status:"all"})}),Q=Le({queryKey:["department-weekly-rules"],queryFn:()=>db()}),ae=Le({queryKey:["department-shifts"],queryFn:()=>cu({active_only:!1})}),ye=l?Number(l):null,ee=Ye({mutationFn:({employeeId:D,departmentId:H})=>Q2(D,{department_id:H}),onSuccess:D=>{a({variant:"success",title:"Departman atamas gncellendi",description:`${D.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:D=>{a({variant:"error",title:"Departman gncellenemedi",description:Ie(D,"lem baarsz.").message})}}),ue=Ye({mutationFn:mb,onSuccess:()=>{a({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:D=>{a({variant:"error",title:"Haftalk kural kaydedilemedi",description:Ie(D,"lem baarsz.").message})}}),oe=Ye({mutationFn:id,onSuccess:()=>{a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),Z("60"),P(!0),$(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{a({variant:"error",title:"Vardiya kaydedilemedi",description:Ie(D,"lem baarsz.").message})}}),U=Ye({mutationFn:hb,onSuccess:()=>{a({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),G!==null&&($(null),w(""),z("09:00"),A("17:30"),Z("60"),P(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{a({variant:"error",title:"Vardiya pasife alnamad",description:Ie(D,"lem baarsz.").message})}}),le=Ye({mutationFn:({shift:D,nextActive:H})=>id({id:D.id,department_id:D.department_id,name:D.name,start_time_local:D.start_time_local,end_time_local:D.end_time_local,break_minutes:D.break_minutes,is_active:H}),onSuccess:(D,H)=>{a({variant:"success",title:H.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:H.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{a({variant:"error",title:"Vardiya durumu gncellenemedi",description:Ie(D,"lem baarsz.").message})}}),q=Y.data??[],ie=K.data??[],de=Q.data??[],Te=ae.data??[],W=N.useMemo(()=>new Map(q.map(D=>[D.id,D.name])),[q]),M=N.useMemo(()=>ye?Te.filter(D=>D.department_id===ye):[],[ye,Te]),te=N.useMemo(()=>ie.find(D=>String(D.id)===d),[ie,d]);return N.useEffect(()=>{if(!ye){b({});return}const D=new Map(de.filter(ge=>ge.department_id===ye).map(ge=>[ge.weekday,ge])),H={};for(const ge of s0){const je=D.get(ge.value);H[ge.value]={is_workday:je?.is_workday??!0,planned_minutes:String(je?.planned_minutes??540),break_minutes:String(je?.break_minutes??60)}}b(H)},[ye,de]),Y.isLoading||K.isLoading||Q.isLoading||ae.isLoading?i.jsx(At,{}):Y.isError||K.isError||Q.isError||ae.isError?i.jsx(Nt,{message:"Hzl ayarlar verileri alnamad."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsx(Ia,{label:"alan",employees:ie,value:d,onChange:D=>{m(D);const H=ie.find(ge=>String(ge.id)===D);y(H?.department_id?String(H.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",i.jsxs("select",{value:p,onChange:D=>y(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmam"}),q.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[i.jsxs("div",{children:[i.jsxs("p",{children:["Seili alan:"," ",te?`#${te.id} - ${te.full_name}`:"-"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",te?.department_id?W.get(te.department_id)??"-":"Atanmam"]})]}),i.jsx("button",{type:"button",disabled:!te||ee.isPending,onClick:()=>{te&&ee.mutate({employeeId:te.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),i.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seiniz"}),q.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]})}),ye?i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Gn"}),i.jsx("th",{className:"py-2",children:"alma Gn"}),i.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),i.jsx("th",{className:"py-2",children:"Mola Dakika"}),i.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:s0.map(D=>{const H=v[D.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:D.label}),i.jsx("td",{className:"py-2",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:H.is_workday,onChange:ge=>b(je=>({...je,[D.value]:{...H,is_workday:ge.target.checked}}))}),"alma gn"]})}),i.jsx("td",{className:"py-2",children:i.jsx("input",{value:H.planned_minutes,onChange:ge=>b(je=>({...je,[D.value]:{...H,planned_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),i.jsx("td",{className:"py-2",children:i.jsx("input",{value:H.break_minutes,onChange:ge=>b(je=>({...je,[D.value]:{...H,break_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),i.jsx("td",{className:"py-2 text-right",children:i.jsx("button",{type:"button",disabled:ue.isPending,onClick:()=>{const ge=Number(H.planned_minutes),je=Number(H.break_minutes);if(!Number.isFinite(ge)||ge<0){a({variant:"error",title:"Geersiz planlanan dakika",description:`${D.label} iin say giriniz.`});return}if(!Number.isFinite(je)||je<0){a({variant:"error",title:"Geersiz mola dakikas",description:`${D.label} iin say giriniz.`});return}ue.mutate({department_id:ye,weekday:D.value,is_workday:H.is_workday,planned_minutes:Math.trunc(ge),break_minutes:Math.trunc(je)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},D.value)})})]})}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),ye?i.jsxs(i.Fragment,{children:[i.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:D=>{if(D.preventDefault(),!S.trim()){a({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const H=Number(O);if(!Number.isFinite(H)||H<0){a({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}oe.mutate({id:G??void 0,department_id:ye,name:S.trim(),start_time_local:C,end_time_local:k,break_minutes:Math.trunc(H),is_active:R})},children:[G?i.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",G]}):null,i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",i.jsx("input",{value:S,onChange:D=>w(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",i.jsx("input",{type:"time",value:C,onChange:D=>z(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",i.jsx("input",{type:"time",value:k,onChange:D=>A(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",i.jsx("input",{value:O,onChange:D=>Z(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:R,onChange:D=>P(D.target.checked)}),"Aktif"]}),i.jsx("button",{type:"submit",disabled:oe.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:oe.isPending?"Kaydediliyor...":G?"Vardiya Gncelle":"Vardiya Kaydet"}),G?i.jsx("button",{type:"button",onClick:()=>{$(null),w(""),z("09:00"),A("17:30"),Z("60"),P(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Saat Aral"}),i.jsx("th",{className:"py-2",children:"Mola"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),i.jsx("tbody",{children:M.map(D=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:D.name}),i.jsxs("td",{className:"py-2",children:[D.start_time_local," - ",D.end_time_local]}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:D.break_minutes})}),i.jsx("td",{className:"py-2",children:D.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{$(D.id),w(D.name),z(D.start_time_local),A(D.end_time_local),Z(String(D.break_minutes)),P(D.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),D.is_active?i.jsx("button",{type:"button",disabled:U.isPending||le.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&U.mutate(D.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):i.jsx("button",{type:"button",disabled:le.isPending||U.isPending,onClick:()=>le.mutate({shift:D,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},D.id))})]})}),M.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const r0=Fa({name:ja().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:Sd()});function l0(t){return Qt.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Ie(t,"Bolge islemi basarisiz.").message}function r3(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState(!0),[p,y]=N.useState(""),[v,b]=N.useState(!0),[S,w]=N.useState(null),[C,z]=N.useState(""),[k,A]=N.useState(!0),[O,Z]=N.useState(null),R=Le({queryKey:["regions",v],queryFn:()=>xd({include_inactive:v})}),P=Ye({mutationFn:D2,onSuccess:Q=>{o(""),m(!0),Z(null),a({variant:"success",title:"Bolge olusturuldu",description:`${Q.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:Q=>{const ae=l0(Q);Z(ae),a({variant:"error",title:"Bolge olusturulamadi",description:ae})}}),G=Ye({mutationFn:({regionId:Q,payload:ae})=>R2(Q,ae),onSuccess:Q=>{Z(null),w(null),z(""),A(!0),a({variant:"success",title:"Bolge guncellendi",description:`${Q.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:Q=>{const ae=l0(Q);Z(ae),a({variant:"error",title:"Bolge guncellenemedi",description:ae})}}),$=Q=>{Q.preventDefault(),Z(null);const ae=r0.safeParse({name:l,is_active:d});if(!ae.success){const ye=ae.error.issues[0]?.message??"Bolge formunu kontrol edin.";Z(ye);return}P.mutate(ae.data)},Y=Q=>{if(Q.preventDefault(),Z(null),!S)return;const ae=r0.safeParse({name:C,is_active:k});if(!ae.success){const ye=ae.error.issues[0]?.message??"Bolge formunu kontrol edin.";Z(ye);return}G.mutate({regionId:S,payload:ae.data})},K=N.useMemo(()=>{const Q=R.data??[],ae=p.trim().toLowerCase();return ae?Q.filter(ye=>ye.name.toLowerCase().includes(ae)):Q},[R.data,p]);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:$,className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",i.jsx("input",{value:l,onChange:Q=>o(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:d,onChange:Q=>m(Q.target.checked)}),"Aktif"]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"submit",disabled:P.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:P.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),O?i.jsx("p",{className:"form-validation mt-2",children:O}):null]}),S?i.jsxs(Ae,{children:[i.jsxs("form",{onSubmit:Y,className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",i.jsx("input",{value:C,onChange:Q=>z(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:Q=>A(Q.target.checked)}),"Aktif"]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("button",{type:"submit",disabled:G.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Guncelleniyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),Z(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),O?i.jsx("p",{className:"form-validation mt-2",children:O}):null]}):null,R.isLoading?i.jsx(At,{}):null,R.isError?i.jsx(Nt,{message:"Bolge listesi alinamadi."}):null,!R.isLoading&&!R.isError?i.jsxs(Ae,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsx(Yi,{value:p,onChange:y,placeholder:"Bolge adina gore ara..."}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:Q=>b(Q.target.checked)}),"Pasif bolgeleri goster"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Bolge ID"}),i.jsx("th",{className:"py-2",children:"Bolge Adi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:K.map(Q=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Q.id}),i.jsx("td",{className:"py-2",children:Q.name}),i.jsx("td",{className:"py-2",children:i.jsx(Ls,{value:Q.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>{w(Q.id),z(Q.name),A(Q.is_active),Z(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},Q.id))})]})}),K.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function Qc(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function l3(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":t==="FAILED"?"bg-rose-100 text-rose-700":t==="CANCELED"?"bg-slate-200 text-slate-700":t==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function o3(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}function o0(t){return t==="admins"?"ADMIN":t==="employees"?"CALISAN":t==="both"?"HER IKISI":t.toUpperCase()}function u3(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}const Ko=25,Qo=50;function c3(){const t=Rn(),{pushToast:a}=Ln(),{user:l}=zr(),[o,d]=qf(),[m,p]=N.useState("Puantaj Bildirimi"),[y,v]=N.useState(""),[b,S]=N.useState(""),[w,C]=N.useState("employees"),[z,k]=N.useState(60),[A,O]=N.useState(""),[Z,R]=N.useState(1),[P,G]=N.useState(""),[$,Y]=N.useState(""),[K,Q]=N.useState([]),[ae,ye]=N.useState([]),[ee,ue]=N.useState(null),[oe,U]=N.useState(!1),[le,q]=N.useState(""),[ie,de]=N.useState(""),[Te,W]=N.useState(""),[M,te]=N.useState(1),[D,H]=N.useState(""),[ge,je]=N.useState(null),ze=Le({queryKey:["employees","notify"],queryFn:()=>ii({status:"active"})}),qe=Le({queryKey:["admin-users","notify"],queryFn:ub}),Ve=Le({queryKey:["admin-push-config"],queryFn:pb}),et=Le({queryKey:["notification-jobs",A],queryFn:()=>cE({status:A||void 0,limit:100}),refetchInterval:1e4}),Ne=Le({queryKey:["notification-delivery-logs"],queryFn:()=>dE({limit:400}),refetchInterval:15e3}),ct=Le({queryKey:["notify-subs-emp"],queryFn:()=>hE({}),refetchInterval:15e3}),yt=Le({queryKey:["notify-subs-admin"],queryFn:()=>fE({}),refetchInterval:15e3}),it=Le({queryKey:["daily-archives",le,ie,Te],queryFn:()=>yE({limit:180,start_date:le||void 0,end_date:ie||void 0,employee_query:Te.trim()||void 0})}),Gt=N.useMemo(()=>{const ce=P.trim().toLowerCase();return ce?(ze.data??[]).filter(st=>`${st.id} ${st.full_name}`.toLowerCase().includes(ce)):ze.data??[]},[ze.data,P]),Ht=N.useMemo(()=>{const ce=$.trim().toLowerCase();return ce?(qe.data??[]).filter(st=>`${st.id} ${st.username}`.toLowerCase().includes(ce)):qe.data??[]},[qe.data,$]),lt=N.useMemo(()=>{const ce=D.trim().toLowerCase(),st=Ne.data??[];return ce?st.filter(Mt=>[Mt.recipient_name??"",String(Mt.recipient_id??""),String(Mt.device_id??""),Mt.ip??"",Mt.status,Mt.target,Mt.title??"",Mt.sender_admin].join(" ").toLowerCase().includes(ce)):st},[Ne.data,D]),Kt=N.useMemo(()=>lt.filter(ce=>ce.status==="SENT").length,[lt]),pn=N.useMemo(()=>lt.filter(ce=>ce.status==="FAILED").length,[lt]),X=N.useMemo(()=>lt.find(ce=>ce.audit_id===ge)??null,[lt,ge]),Ce=et.data??[],Ke=N.useMemo(()=>Math.max(1,Math.ceil(Ce.length/Ko)),[Ce.length]),_t=N.useMemo(()=>{const ce=(Z-1)*Ko;return Ce.slice(ce,ce+Ko)},[Z,Ce]),jt=Ce.length===0?0:(Z-1)*Ko+1,dt=Math.min(Z*Ko,Ce.length),be=it.data??[],Ue=N.useMemo(()=>Math.max(1,Math.ceil(be.length/Qo)),[be.length]),mt=N.useMemo(()=>{const ce=(M-1)*Qo;return be.slice(ce,ce+Qo)},[M,be]),Je=be.length===0?0:(M-1)*Qo+1,sn=Math.min(M*Qo,be.length),V=(yt.data??[]).length>0,He=(l?.username??"").trim().toLowerCase(),tt=N.useMemo(()=>He?(yt.data??[]).filter(ce=>(ce.admin_username||"").trim().toLowerCase()===He).length:0,[yt.data,He]),Vt=tt>0,zt=Ye({mutationFn:pE,onSuccess:ce=>{ue(ce),a({variant:"success",title:"Davet hazir",description:"Link admin cihaza gonderildi."}),navigator.clipboard.writeText(ce.invite_url)},onError:ce=>a({variant:"error",title:"Davet hatasi",description:Ie(ce,"Davet olusturulamadi").message})}),Pn=Ye({mutationFn:gb,onSuccess:ce=>{ce.total_targets<=0?a({variant:"error",title:"Bildirim gonderilemedi",description:"Hedef 0. Aktif abonelik yok; once cihaz claim edin."}):ce.sent<=0?a({variant:"error",title:"Bildirim gonderilemedi",description:`Hedef: ${ce.total_targets} / Gonderilen: ${ce.sent} / Hata: ${ce.failed}`}):a({variant:"success",title:"Bildirim gonderildi",description:`Hedef: ${ce.total_targets} / Gonderilen: ${ce.sent}`}),t.invalidateQueries({queryKey:["notification-jobs"]}),t.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:ce=>a({variant:"error",title:"Gonderim hatasi",description:Ie(ce,"Bildirim gonderilemedi").message})}),ji=Ye({mutationFn:mE,onSuccess:()=>{t.invalidateQueries({queryKey:["notification-jobs"]})}}),Ha=Ye({mutationFn:vE,onSuccess:(ce,st)=>{const Mt=(it.data??[]).find(Bn=>Bn.id===st);u3(ce,Mt?.file_name??`arsiv-${st}.xlsx`)}}),Jn=Ye({mutationFn:ce=>_E(ce),onSuccess:ce=>{ce.total_targets<=0||ce.sent<=0?a({variant:"error",title:"Arsiv bildirimi gonderilemedi",description:`Hedef: ${ce.total_targets} | Gonderilen: ${ce.sent} | Hata: ${ce.failed}. Aktif admin cihazi claim edilmeli.`}):(a({variant:"success",title:"Arsiv bildirimi gonderildi",description:`Hedef: ${ce.total_targets} | Gonderilen: ${ce.sent} | Hata: ${ce.failed}`}),Vt||a({variant:"error",title:"Bu hesapta claim eksik",description:"Bildirim gitti ama bu admin hesabinda aktif cihaz claim olmadigi icin sana dusmeyebilir."})),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:ce=>{const st=Ie(ce,"Arsiv bildirimi gonderilemedi.");a({variant:"error",title:"Arsiv bildirimi basarisiz",description:st.message})}});return N.useEffect(()=>{if(oe)return;const ce=o.get("archive_id");if(!ce)return;const st=Number(ce);if(!Number.isInteger(st)||st<=0){U(!0);return}if(!(it.data??[]).find(Kn=>Kn.id===st))return;U(!0),Ha.mutate(st);const Bn=new URLSearchParams(o);Bn.delete("archive_id"),d(Bn,{replace:!0})},[oe,it.data,Ha,o,d]),N.useEffect(()=>{R(1)},[A]),N.useEffect(()=>{R(ce=>ce<1?1:ce>Ke?Ke:ce)},[Ke]),N.useEffect(()=>{te(1)},[le,ie,Te]),N.useEffect(()=>{if(lt.length===0){je(null);return}(ge===null||!lt.some(ce=>ce.audit_id===ge))&&je(lt[0].audit_id)},[lt,ge]),N.useEffect(()=>{te(ce=>ce<1?1:ce>Ue?Ue:ce)},[Ue]),i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Bildirim Merkezi",description:"Push, claim daveti, job yonetimi ve gunluk Excel arsivi."}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet suresi (dk)",i.jsx("input",{type:"number",min:1,max:43200,value:z,onChange:ce=>k(Number(ce.target.value||60)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"button",onClick:()=>zt.mutate({expires_in_minutes:z}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki uret"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",Ve.data?.enabled?"Aktif":"Pasif"]})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link otomatik kopyalanir. Ekran: /admin-panel/device-claim?token=..."}),ee?i.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[i.jsxs("p",{children:["Token: ",ee.token]}),i.jsxs("p",{className:"break-all",children:["Link: ",ee.invite_url]}),i.jsxs("p",{children:["Bitis: ",Qc(ee.expires_at)]})]}):null]}),i.jsx(Ae,{children:i.jsxs("form",{className:"space-y-3",onSubmit:ce=>{ce.preventDefault(),Pn.mutate({title:m.trim(),message:y.trim(),password:b.trim(),target:w,employee_ids:w!=="admins"&&K.length>0?K:void 0,admin_user_ids:w!=="employees"&&ae.length>0?ae:void 0})},children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gonder"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[i.jsx("input",{value:m,onChange:ce=>p(ce.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Baslik"}),i.jsx("input",{type:"password",value:b,onChange:ce=>S(ce.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin sifresi"}),i.jsxs("select",{value:w,onChange:ce=>C(ce.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"employees",children:"Calisanlara"}),i.jsx("option",{value:"admins",children:"Adminlere"}),i.jsx("option",{value:"both",children:"Her ikisine"})]})]}),i.jsx("textarea",{value:y,onChange:ce=>v(ce.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),w!=="admins"?i.jsxs("div",{children:[i.jsx(Yi,{value:P,onChange:G,placeholder:"Calisan filtrele..."}),i.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:Gt.map(ce=>i.jsxs("label",{className:"flex items-center justify-between py-1",children:[i.jsxs("span",{children:["#",ce.id," - ",ce.full_name]}),i.jsx("input",{type:"checkbox",checked:K.includes(ce.id),onChange:()=>Q(st=>st.includes(ce.id)?st.filter(Mt=>Mt!==ce.id):[...st,ce.id])})]},ce.id))})]}):null,w!=="employees"?i.jsxs("div",{children:[i.jsx(Yi,{value:$,onChange:Y,placeholder:"Admin filtrele..."}),i.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:Ht.map(ce=>i.jsxs("label",{className:"flex items-center justify-between py-1",children:[i.jsxs("span",{children:["#",ce.id," - ",ce.username]}),i.jsx("input",{type:"checkbox",checked:ae.includes(ce.id),onChange:()=>ye(st=>st.includes(ce.id)?st.filter(Mt=>Mt!==ce.id):[...st,ce.id])})]},ce.id))})]}):null,i.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gonder"})]})}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Isleri"}),i.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[i.jsxs("select",{value:A,onChange:ce=>O(ce.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[i.jsx("option",{value:"",children:"Tumu"}),i.jsx("option",{value:"PENDING",children:"PENDING"}),i.jsx("option",{value:"SENDING",children:"SENDING"}),i.jsx("option",{value:"SENT",children:"SENT"}),i.jsx("option",{value:"FAILED",children:"FAILED"}),i.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),i.jsx("button",{type:"button",onClick:()=>{et.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),et.isLoading?i.jsx(At,{label:"Yukleniyor..."}):null,et.isError?i.jsx(Nt,{message:"Job listesi alinamadi."}):null,!et.isLoading&&!et.isError?i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[i.jsxs("span",{children:["Gosterilen satir: ",jt,"-",dt," / ",Ce.length]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>R(ce=>Math.max(1,ce-1)),disabled:Z<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),i.jsxs("span",{children:["Sayfa ",Z," / ",Ke]}),i.jsx("button",{type:"button",onClick:()=>R(ce=>Math.min(Ke,ce+1)),disabled:Z>=Ke,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,i.jsx("div",{className:"mt-2 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 bg-white",children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"px-2 py-2",children:"Sira"}),i.jsx("th",{className:"px-2 py-2",children:"ID"}),i.jsx("th",{className:"px-2 py-2",children:"Tur"}),i.jsx("th",{className:"px-2 py-2",children:"Durum"}),i.jsx("th",{className:"px-2 py-2",children:"Planlanan"}),i.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),i.jsx("tbody",{children:_t.map((ce,st)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-2 py-2 text-slate-500",children:jt+st}),i.jsx("td",{className:"px-2 py-2",children:ce.id}),i.jsx("td",{className:"px-2 py-2",children:ce.job_type}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("span",{className:`rounded px-2 py-1 text-xs ${l3(ce.status)}`,children:ce.status})}),i.jsx("td",{className:"px-2 py-2",children:Qc(ce.scheduled_at_utc)}),i.jsx("td",{className:"px-2 py-2",children:ce.status==="PENDING"||ce.status==="SENDING"?i.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>ji.mutate(ce.id),children:"Iptal"}):"-"})]},ce.id))})]})}),!et.isLoading&&!et.isError&&Ce.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun bildirim isi bulunamadi."}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik Ozeti"}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Calisan abonelik: ",(ct.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(yt.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv dosyasi: ",(it.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat log satiri: ",(Ne.data??[]).length]})]}),V?null:i.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:'Aktif admin push aboneligi yok. "Admin cihaz claim linki uret" adimini tamamlamadan bildirim gonderilemez.'})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Admin Push Self-Check"}),i.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin: ",i.jsx("strong",{children:l?.username??"-"})]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Push config: ",i.jsx("strong",{children:Ve.data?.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{className:`rounded border p-3 text-sm ${Vt?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Bu hesap claim: ",i.jsx("strong",{children:tt})]}),i.jsxs("div",{className:`rounded border p-3 text-sm ${V?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Gonderim hazirligi: ",i.jsx("strong",{children:V?"Hazir":"Eksik"})]})]}),Vt?null:i.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Bu admin hesabinda aktif cihaz claim gorunmuyor. Bildirim almak icin telefonda claim linkini acip izin adimini tamamla."})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Teslimat Logu"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Kime gitti / gitmedi, isim-ID, cihaz, IP ve hata bilgisini izleyin."}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam satir: ",lt.length]}),i.jsxs("div",{className:"rounded border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Gonderildi: ",Kt]}),i.jsxs("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:["Gonderilemedi: ",pn]}),i.jsx("button",{type:"button",onClick:()=>{Ne.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Logu yenile"})]}),i.jsx("div",{className:"mt-3",children:i.jsx(Yi,{value:D,onChange:H,placeholder:"Isim, ID, cihaz, IP, baslik, durum ara..."})}),Ne.isLoading?i.jsx(At,{label:"Teslimat logu yukleniyor..."}):null,Ne.isError?i.jsx(Nt,{message:"Teslimat logu alinamadi."}):null,!Ne.isLoading&&!Ne.isError?i.jsxs("div",{className:"mt-3 grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[i.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),i.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"delivery-terminal"})]}),i.jsxs("span",{className:"text-[11px] text-slate-400",children:[lt.length," kayit"]})]}),i.jsxs("div",{className:"max-h-[520px] overflow-auto",children:[i.jsxs("table",{className:"min-w-full table-fixed text-left text-xs",children:[i.jsx("thead",{className:"sticky top-0 bg-slate-900/95 text-[11px] uppercase text-slate-400",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-36 px-2 py-2",children:"Zaman"}),i.jsx("th",{className:"w-24 px-2 py-2",children:"Durum"}),i.jsx("th",{className:"w-24 px-2 py-2",children:"Hedef"}),i.jsx("th",{className:"w-56 px-2 py-2",children:"Kisi"}),i.jsx("th",{className:"w-20 px-2 py-2",children:"Cihaz"}),i.jsx("th",{className:"w-36 px-2 py-2",children:"IP"}),i.jsx("th",{className:"w-48 px-2 py-2",children:"Baslik"}),i.jsx("th",{className:"w-64 px-2 py-2",children:"Hata"})]})}),i.jsx("tbody",{children:lt.map((ce,st)=>{const Mt=ce.audit_id===ge;return i.jsxs("tr",{onClick:()=>je(ce.audit_id),className:`cursor-pointer border-t border-slate-800 ${Mt?"bg-cyan-900/35":"hover:bg-slate-800/55"}`,children:[i.jsx("td",{className:"px-2 py-2 text-slate-300",children:Qc(ce.sent_at_utc)}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("span",{className:`rounded px-2 py-0.5 text-[11px] font-semibold ${o3(ce.status)}`,children:ce.status})}),i.jsx("td",{className:"px-2 py-2 text-slate-300",children:o0(ce.target)}),i.jsxs("td",{className:"px-2 py-2 text-slate-300 truncate",title:`#${ce.recipient_id??"-"} - ${ce.recipient_name??"-"}`,children:["#",ce.recipient_id??"-"," - ",ce.recipient_name??"-"]}),i.jsx("td",{className:"px-2 py-2 text-slate-300",children:ce.device_id??"-"}),i.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:ce.ip??"-",children:ce.ip??"-"}),i.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:ce.title??"-",children:ce.title??"-"}),i.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:ce.error??"-",children:ce.error??"-"})]},`${ce.audit_id}-${ce.recipient_type}-${ce.recipient_id??0}-${ce.device_id??0}-${st}`)})})]}),lt.length===0?i.jsx("p",{className:"px-3 py-3 text-sm text-amber-300",children:"Filtreye uygun teslimat kaydi bulunamadi."}):null]})]}),i.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Secili teslimat detayi"}),X===null?i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayit secin."}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",Qc(X.sent_at_utc)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",X.status]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Hedef tipi:"})," ",X.recipient_type==="employee"?"CALISAN":"ADMIN"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Hedef:"})," ",o0(X.target)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Kisi:"})," #",X.recipient_id??"-"," -"," ",X.recipient_name??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Cihaz:"})," ",X.device_id??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"IP:"})," ",X.ip??"-"]}),i.jsxs("p",{className:"break-words",children:[i.jsx("span",{className:"font-semibold",children:"Baslik:"})," ",X.title??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Gonderen:"})," ",X.sender_admin]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"Endpoint:"})," ",X.endpoint??"-"]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"Hata:"})," ",X.error??"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),i.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(X,null,2)})]})]})]})]}):null]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gunluk Excel Arsivi"}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[i.jsxs("label",{className:"text-xs text-slate-600",children:["Baslangic",i.jsx("input",{type:"date",value:le,onChange:ce=>q(ce.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Bitis",i.jsx("input",{type:"date",value:ie,onChange:ce=>de(ce.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Calisan icerigi",i.jsx("input",{value:Te,onChange:ce=>W(ce.target.value),placeholder:"ad veya ID",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:()=>{it.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Arsivi yenile"})})]}),it.isLoading?i.jsx(At,{label:"Arsiv yukleniyor..."}):null,it.isError?i.jsx(Nt,{message:"Arsiv listesi alinamadi."}):null,!it.isLoading&&!it.isError?i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[i.jsxs("span",{children:["Gosterilen satir: ",Je,"-",sn," / ",be.length]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>te(ce=>Math.max(1,ce-1)),disabled:M<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),i.jsxs("span",{children:["Sayfa ",M," / ",Ue]}),i.jsx("button",{type:"button",onClick:()=>te(ce=>Math.min(Ue,ce+1)),disabled:M>=Ue,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,i.jsx("div",{className:"mt-2 max-h-[520px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 bg-white",children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"px-2 py-2",children:"Sira"}),i.jsx("th",{className:"px-2 py-2",children:"ID"}),i.jsx("th",{className:"px-2 py-2",children:"Tarih"}),i.jsx("th",{className:"px-2 py-2",children:"Dosya"}),i.jsx("th",{className:"px-2 py-2",children:"Calisan"}),i.jsx("th",{className:"px-2 py-2",children:"Boyut"}),i.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),i.jsx("tbody",{children:mt.map((ce,st)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-2 py-2 text-slate-500",children:Je+st}),i.jsx("td",{className:"px-2 py-2",children:ce.id}),i.jsx("td",{className:"px-2 py-2",children:ce.report_date}),i.jsx("td",{className:"px-2 py-2",children:ce.file_name}),i.jsx("td",{className:"px-2 py-2",children:ce.employee_count}),i.jsxs("td",{className:"px-2 py-2",children:[(ce.file_size_bytes/1024).toFixed(1)," KB"]}),i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>Ha.mutate(ce.id),children:"Excel indir"}),i.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",title:V?void 0:"Aktif admin push aboneligi yok",onClick:()=>Jn.mutate(ce.id),disabled:Jn.isPending||!V,children:"Adminlere bildir"})]})})]},ce.id))})]})}),!it.isLoading&&!it.isError&&be.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun arsiv kaydi bulunamadi."}):null]})]})}const Tl={action:"",entityType:"",entityId:"",success:"all",limit:"300"},d3=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],m3={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function h3(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function f3(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function p3(t){return t?"Baarl":"Hata"}function g3(t){const a=Object.entries(t);return a.length===0?"-":a.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function y3(t){return m3[t]??t}function x3(t){const a=Number(t.limit),l=Number.isInteger(a)&&a>0?Math.min(a,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:l}}function v3(t){const a=`${t.actor_type}:${t.actor_id}`,l=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${f3(t.ts_utc)}] ${t.action} actor=${a} entity=${l} ip=${o}`}function b3(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function _3(){const[t,a]=N.useState(Tl),[l,o]=N.useState(Tl),[d,m]=N.useState(""),[p,y]=N.useState(!0),[v,b]=N.useState(""),[S,w]=N.useState(null),[C,z]=N.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),k=N.useRef(2),A=N.useRef(null),O=N.useMemo(()=>x3(l),[l]),Z=Le({queryKey:["audit-logs",O],queryFn:()=>fb(O),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),R=Z.data??[],P=N.useMemo(()=>{if(!d.trim())return R;const ee=d.trim().toLowerCase();return R.filter(ue=>[ue.action,ue.actor_type,ue.actor_id,ue.entity_type??"",ue.entity_id??"",ue.ip??"",ue.user_agent??"",JSON.stringify(ue.details)].join(" ").toLowerCase().includes(ee))},[R,d]),G=N.useMemo(()=>{if(S!==null){const ee=P.find(ue=>ue.id===S);if(ee)return ee}return P[0]??null},[S,P]),$=N.useMemo(()=>{const ee=R.filter(U=>!U.success).length,ue=R.filter(U=>U.action.startsWith("ADMIN_LOGIN")).length,oe=R.filter(U=>U.action==="ATTENDANCE_EVENT_CREATED").length;return{total:R.length,failed:ee,loginEvents:ue,attendanceEvents:oe}},[R]);N.useEffect(()=>{!G&&S!==null&&w(null)},[G,S]),N.useEffect(()=>{!p||A.current===null||(A.current.scrollTop=A.current.scrollHeight)},[p,P,C]);const Y=(ee,ue)=>{z(oe=>{const U=[...oe,{id:k.current,level:ee,text:ue}];return k.current+=1,U.slice(-120)})},K=ee=>{ee.preventDefault(),o({...t}),Y("success","Filtreler uyguland.")},Q=()=>{a(Tl),o(Tl),m(""),Y("info","Filtreler temizlendi.")},ae=ee=>{const ue=ee.trim();if(!ue)return;Y("info",`$ ${ue}`);const[oe,...U]=ue.split(/\s+/),le=oe.toLowerCase(),q=ue.slice(oe.length).trim();if(le==="help"||le==="yardim"||le==="yardm"){Y("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(le==="clear"||le==="temizle"){z([]),k.current=1,Y("success","Terminal kt gemii temizlendi.");return}if(le==="apply"||le==="uygula"){o({...t}),Y("success","Taslak filtreler uyguland.");return}if(le==="reset"||le==="sifirla"||le==="sfrla"){a(Tl),o(Tl),m(""),Y("warning","Filtreler sfrland.");return}if(le==="refresh"||le==="yenile"){Z.refetch(),Y("success","Log verisi yeniden ekiliyor.");return}if(le==="follow"||le==="takip"){const ie=U[0]?.toLowerCase();if(ie==="on"||ie==="ac"||ie==="a"){y(!0),Y("success","Canl takip ald.");return}if(ie==="off"||ie==="kapat"){y(!1),Y("warning","Canl takip kapatld.");return}Y("error","Kullanm: follow on|off");return}if(le==="status"||le==="durum"){const ie=U[0]?.toLowerCase();let de=null;if((ie==="all"||ie==="tum"||ie==="tm")&&(de="all"),(ie==="success"||ie==="ok"||ie==="basarili"||ie==="baarl")&&(de="success"),(ie==="failed"||ie==="error"||ie==="hata")&&(de="failed"),de===null){Y("error","Kullanm: status all|success|failed");return}a(Te=>({...Te,success:de})),o(Te=>({...Te,success:de})),Y("success",`Durum filtresi gncellendi: ${de}`);return}if(le==="action"||le==="aksiyon"){if(!q){Y("error","Kullanm: action <AKSIYON_KODU>");return}a(ie=>({...ie,action:q})),o(ie=>({...ie,action:q})),Y("success",`Aksiyon filtresi gncellendi: ${q}`);return}if(le==="search"||le==="ara"){m(q),Y("success",q?`Metin aramas uyguland: "${q}"`:"Metin aramas temizlendi.");return}if(le==="limit"){const ie=Number(U[0]);if(!Number.isFinite(ie)||ie<=0){Y("error","Kullanm: limit <1-500>");return}const de=Math.min(Math.max(Math.trunc(ie),1),500);a(Te=>({...Te,limit:String(de)})),o(Te=>({...Te,limit:String(de)})),Y("success",`Limit gncellendi: ${de}`);return}Y("error",`Bilinmeyen komut: ${le}. Yardm iin "help" yazn.`)},ye=ee=>{ee.preventDefault(),ae(v),b("")};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.total})]}),i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),i.jsx("p",{className:"text-sm font-semibold text-rose-800",children:$.failed})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.loginEvents})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.attendanceEvents})]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{y(ee=>!ee),Y("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),i.jsx("button",{type:"button",onClick:()=>{Z.refetch(),Y("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),i.jsx("button",{type:"button",onClick:Q,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:K,children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",i.jsx("select",{value:t.action,onChange:ee=>a(ue=>({...ue,action:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:d3.map(ee=>i.jsx("option",{value:ee.value,children:ee.label},ee.label))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",i.jsx("input",{type:"text",value:t.entityType,onChange:ee=>a(ue=>({...ue,entityType:ee.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",i.jsx("input",{type:"text",value:t.entityId,onChange:ee=>a(ue=>({...ue,entityId:ee.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",i.jsxs("select",{value:t.success,onChange:ee=>a(ue=>({...ue,success:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"all",children:"Tm"}),i.jsx("option",{value:"success",children:"Baarl"}),i.jsx("option",{value:"failed",children:"Hata"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",i.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:ee=>a(ue=>({...ue,limit:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",i.jsx("input",{type:"text",value:d,onChange:ee=>m(ee.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:Q,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),i.jsxs(Ae,{children:[Z.isLoading?i.jsx(At,{label:"Log kaytlar ykleniyor..."}):null,Z.isError?i.jsx(Nt,{message:Ie(Z.error,"Log kaytlar alnamad.").message}):null,!Z.isLoading&&!Z.isError?i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[i.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),i.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),i.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",P.length," kayt"]})]}),i.jsx("form",{onSubmit:ye,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:i.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[i.jsx("span",{children:"admin@audit:~$"}),i.jsx("input",{value:v,onChange:ee=>b(ee.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),i.jsxs("div",{ref:A,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[C.map(ee=>i.jsx("p",{className:`leading-6 ${b3(ee.level)}`,children:ee.text},ee.id)),P.map(ee=>{const ue=G?.id===ee.id;return i.jsxs("button",{type:"button",onClick:()=>w(ee.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${ue?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[i.jsx("span",{className:ee.success?"text-emerald-300":"text-rose-300",children:ee.success?"[OK]":"[ERR]"})," ",i.jsx("span",{className:"text-slate-200",children:v3(ee)})]},ee.id)}),P.length===0?i.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),i.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),G===null?i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:y3(G.action)}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:G.action})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",h3(G.ts_utc)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",G.actor_type,":",G.actor_id]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",p3(G.success)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",G.entity_type??"-",G.entity_id?` #${G.entity_id}`:""]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"IP:"})," ",G.ip??"-"]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",G.user_agent??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",g3(G.details)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),i.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(G.details,null,2)})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[i.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),i.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const N3=Fa({department_id:_n().int().positive(),daily_minutes_planned:_n().int().nonnegative(),break_minutes:_n().int().nonnegative(),grace_minutes:_n().int().nonnegative()}),j3=Fa({department_id:_n().int().positive(),weekday:_n().int().min(0).max(6),is_workday:Sd(),planned_minutes:_n().int().nonnegative(),break_minutes:_n().int().nonnegative()}),S3=Fa({department_id:_n().int().positive(),name:ja().min(1).max(100),start_time_local:ja().regex(/^\d{2}:\d{2}$/),end_time_local:ja().regex(/^\d{2}:\d{2}$/),break_minutes:_n().int().nonnegative(),is_active:Sd()}),u0=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],w3=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],E3={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function af(t){const a=t.trim();if(!a)return null;const l=Number(a);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function k3(t,a){const l=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:a,note:t.note}}function T3(){const t=Rn(),{pushToast:a}=Ln(),[l,o]=N.useState(""),[d,m]=N.useState("540"),[p,y]=N.useState("60"),[v,b]=N.useState("5"),[S,w]=N.useState(""),[C,z]=N.useState("0"),[k,A]=N.useState(!0),[O,Z]=N.useState("540"),[R,P]=N.useState("60"),[G,$]=N.useState(""),[Y,K]=N.useState(""),[Q,ae]=N.useState("10:00"),[ye,ee]=N.useState("18:00"),[ue,oe]=N.useState("60"),[U,le]=N.useState(!0),[q,ie]=N.useState(null),[de,Te]=N.useState(null),[W,M]=N.useState(""),[te,D]=N.useState("DEPARTMENT"),[H,ge]=N.useState([]),[je,ze]=N.useState(""),[qe,Ve]=N.useState(""),[et,Ne]=N.useState(""),[ct,yt]=N.useState(""),[it,Gt]=N.useState(""),[Ht,lt]=N.useState(new Date().toISOString().slice(0,10)),[Kt,pn]=N.useState(new Date().toISOString().slice(0,10)),[X,Ce]=N.useState(!1),[Ke,_t]=N.useState(!0),[jt,dt]=N.useState(""),[be,Ue]=N.useState(!0),[mt,Je]=N.useState(null),sn=Le({queryKey:["departments"],queryFn:Ps}),ne=Le({queryKey:["employees","all"],queryFn:()=>ii({status:"all"})}),V=Le({queryKey:["work-rules"],queryFn:V2}),He=Le({queryKey:["department-weekly-rules"],queryFn:()=>db()}),tt=Le({queryKey:["department-shifts"],queryFn:()=>cu()}),Vt=Le({queryKey:["schedule-plans","all"],queryFn:()=>sE({active_only:!1})}),zt=Ye({mutationFn:Y2,onSuccess:()=>{Je(null),a({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:B=>{const Re=Ie(B,"Mesai kurali kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Mesai kurali kaydedilemedi",description:Re.message})}}),Pn=Ye({mutationFn:mb,onSuccess:()=>{Je(null),a({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:B=>{const Re=Ie(B,"Haftalik plan kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Haftalik plan kaydedilemedi",description:Re.message})}}),ji=Ye({mutationFn:id,onSuccess:()=>{Je(null),ie(null),K(""),ae("10:00"),ee("18:00"),oe("60"),le(!0),a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Ie(B,"Vardiya kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Vardiya kaydedilemedi",description:Re.message})}}),Ha=Ye({mutationFn:hb,onSuccess:()=>{Je(null),q!==null&&(ie(null),K(""),ae("10:00"),ee("18:00"),oe("60"),le(!0)),a({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Ie(B,"Vardiya pasife alinamadi.");Je(Re.message),a({variant:"error",title:"Vardiya pasife alinamadi",description:Re.message})}}),Jn=Ye({mutationFn:({shift:B,nextActive:Re})=>id({id:B.id,department_id:B.department_id,name:B.name,start_time_local:B.start_time_local,end_time_local:B.end_time_local,break_minutes:B.break_minutes,is_active:Re}),onSuccess:(B,Re)=>{Je(null),a({variant:"success",title:Re.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Re.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Ie(B,"Vardiya durumu guncellenemedi.");Je(Re.message),a({variant:"error",title:"Vardiya durumu guncellenemedi",description:Re.message})}}),ce=Ye({mutationFn:Hx,onSuccess:()=>{Je(null),a({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),Te(null),ge([]),Ve(""),Ne(""),yt(""),Gt(""),Ce(!1),_t(!0),dt("")},onError:B=>{const Re=Ie(B,"Planlama kaydedilemedi.");Je(Re.message),a({variant:"error",title:"Planlama kaydedilemedi",description:Re.message})}}),st=Ye({mutationFn:rE,onSuccess:()=>{Je(null),a({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:B=>{const Re=Ie(B,"Planlama iptal edilemedi.");Je(Re.message),a({variant:"error",title:"Planlama iptal edilemedi",description:Re.message})}}),Mt=Ye({mutationFn:B=>Hx(k3(B,!0)),onSuccess:()=>{Je(null),a({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:B=>{const Re=Ie(B,"Plan aktif edilemedi.");Je(Re.message),a({variant:"error",title:"Plan aktif edilemedi",description:Re.message})}}),Bn=N.useMemo(()=>{const B=Number(d),Re=Number(p),St=Number(v);return{daily:Xc(B),breakValue:Xc(Re),grace:Xc(St)}},[d,p,v]);if(sn.isLoading||ne.isLoading||V.isLoading||He.isLoading||tt.isLoading||Vt.isLoading)return i.jsx(At,{});if(sn.isError||ne.isError||V.isError||He.isError||tt.isError||Vt.isError)return i.jsx(Nt,{message:"Mesai kurali verileri alinamadi."});const Kn=sn.data??[],Rr=ne.data??[],Lr=V.data??[],Us=He.data??[],ma=tt.data??[],Il=Vt.data??[],Si=new Map(Kn.map(B=>[B.id,B.name])),Pr=new Map(Rr.map(B=>[B.id,B.full_name])),Br=new Map(ma.map(B=>[B.id,B.name])),In=Il.filter(B=>be||B.is_active),Pe=Number(W),Zs=Number.isFinite(Pe)?ma.filter(B=>B.department_id===Pe):[],Ji=Number.isFinite(Pe)?Rr.filter(B=>B.department_id===Pe):[],ha=je.trim()?Ji.filter(B=>{const Re=je.trim().toLowerCase();return B.full_name.toLowerCase().includes(Re)||String(B.id).includes(Re.replace("#",""))}):Ji,rn=()=>{Te(null),D("DEPARTMENT"),ge([]),ze(""),Ve(""),Ne(""),yt(""),Gt(""),lt(new Date().toISOString().slice(0,10)),pn(new Date().toISOString().slice(0,10)),Ce(!1),_t(!0),dt("")},gn=B=>{const Re=B.target_employee_ids&&B.target_employee_ids.length>0?B.target_employee_ids:B.target_employee_id?[B.target_employee_id]:[];Te(B.id),M(String(B.department_id)),D(B.target_type),ge(Re),ze(""),Ve(B.shift_id?String(B.shift_id):""),Ne(B.daily_minutes_planned!==null?String(B.daily_minutes_planned):""),yt(B.break_minutes!==null?String(B.break_minutes):""),Gt(B.grace_minutes!==null?String(B.grace_minutes):""),lt(B.start_date),pn(B.end_date),Ce(B.is_locked),_t(B.is_active),dt(B.note??"")},Ka=B=>{B.preventDefault(),Je(null);const Re=N3.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:p,grace_minutes:v});if(!Re.success){const St=Re.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";Je(St),a({variant:"error",title:"Form hatasi",description:St});return}zt.mutate(Re.data)},wa=B=>{B.preventDefault(),Je(null);const Re=j3.safeParse({department_id:S,weekday:C,is_workday:k,planned_minutes:O,break_minutes:R});if(!Re.success){const St=Re.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";Je(St),a({variant:"error",title:"Form hatasi",description:St});return}Pn.mutate(Re.data)},Ir=B=>{B.preventDefault(),Je(null);const Re=S3.safeParse({department_id:G,name:Y.trim(),start_time_local:Q,end_time_local:ye,break_minutes:ue,is_active:U});if(!Re.success){const St=Re.error.issues[0]?.message??"Vardiya formunu kontrol edin.";Je(St),a({variant:"error",title:"Form hatasi",description:St});return}ji.mutate({id:q??void 0,...Re.data})},Ul=B=>{ie(B.id),$(String(B.department_id)),K(B.name),ae(B.start_time_local),ee(B.end_time_local),oe(String(B.break_minutes)),le(B.is_active),Je(null)},Ur=()=>{ie(null),K(""),ae("10:00"),ee("18:00"),oe("60"),le(!0),Je(null)},wi=B=>{B.preventDefault(),Je(null);const Re=Number(W);if(!Number.isFinite(Re)||Re<=0){Je("Planlama icin departman secmelisiniz.");return}if(!Ht||!Kt){Je("Baslangic ve bitis tarihi zorunludur.");return}if(Ht>Kt){Je("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const St=te==="DEPARTMENT"?[]:[...H];if(te!=="DEPARTMENT"&&St.length===0){Je("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Un=qe?Number(qe):null,Qa=af(et),tn=af(ct),qs=af(it);if(!Un&&Qa===null&&tn===null&&qs===null){Je("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}ce.mutate({id:de??void 0,department_id:Re,target_type:te,target_employee_id:St.length>0?St[0]:null,target_employee_ids:St,shift_id:Un,daily_minutes_planned:Qa,break_minutes:tn,grace_minutes:qs,start_date:Ht,end_date:Kt,is_locked:X,is_active:Ke,note:jt.trim()||null})};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(En,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),i.jsxs("form",{onSubmit:Ka,className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l,onChange:B=>o(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Kn.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",i.jsx("input",{value:d,onChange:B=>m(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:p,onChange:B=>y(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",i.jsx("input",{value:v,onChange:B=>b(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",Bn.daily," | Mola ",Bn.breakValue," | Tolerans ",Bn.grace]}),i.jsx("div",{className:"md:col-span-4",children:i.jsx("button",{type:"submit",disabled:zt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:zt.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),i.jsxs("form",{onSubmit:wa,className:"mt-3 grid gap-3 md:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:S,onChange:B=>w(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Kn.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",i.jsx("select",{value:C,onChange:B=>z(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:u0.map(B=>i.jsx("option",{value:B.value,children:B.label},B.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",i.jsx("input",{value:O,onChange:B=>Z(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:R,onChange:B=>P(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:B=>A(B.target.checked)}),"Calisma Gunu"]}),i.jsx("div",{className:"md:col-span-5",children:i.jsx("button",{type:"submit",disabled:Pn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Pn.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Gun"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Planlanan Sure"}),i.jsx("th",{className:"py-2",children:"Mola"})]})}),i.jsx("tbody",{children:Us.map(B=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Si.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:u0.find(Re=>Re.value===B.weekday)?.label??B.weekday}),i.jsx("td",{className:"py-2",children:B.is_workday?"Calisma":"Off"}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.planned_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.break_minutes})})]},B.id))})]})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),q?i.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",q]}):null,i.jsxs("form",{onSubmit:Ir,className:"mt-3 grid gap-3 md:grid-cols-6",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:G,onChange:B=>$(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Kn.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",i.jsx("input",{value:Y,onChange:B=>K(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",i.jsx("input",{type:"time",value:Q,onChange:B=>ae(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",i.jsx("input",{type:"time",value:ye,onChange:B=>ee(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:ue,onChange:B=>oe(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:U,onChange:B=>le(B.target.checked)}),"Aktif"]}),i.jsx("div",{className:"md:col-span-6",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"submit",disabled:ji.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ji.isPending?"Kaydediliyor...":q?"Vardiya Guncelle":"Vardiya Kaydet"}),q?i.jsx("button",{type:"button",onClick:Ur,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Saat"}),i.jsx("th",{className:"py-2",children:"Mola"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),i.jsx("tbody",{children:ma.map(B=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Si.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:B.name}),i.jsxs("td",{className:"py-2",children:[B.start_time_local," - ",B.end_time_local]}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.break_minutes})}),i.jsx("td",{className:"py-2",children:B.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>Ul(B),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),B.is_active?i.jsx("button",{type:"button",disabled:Ha.isPending||Jn.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Ha.mutate(B.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):i.jsx("button",{type:"button",disabled:Jn.isPending||Ha.isPending,onClick:()=>Jn.mutate({shift:B,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},B.id))})]})})]}),i.jsxs(Ae,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:be,onChange:B=>Ue(B.target.checked)}),"Pasif planlari goster"]})]}),i.jsxs("form",{onSubmit:wi,className:"mt-4 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:W,onChange:B=>{M(B.target.value),ge([]),Ve("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Kn.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",i.jsx("select",{value:te,onChange:B=>{const Re=B.target.value;D(Re),Re==="DEPARTMENT"&&ge([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:w3.map(B=>i.jsx("option",{value:B.value,children:B.label},B.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",i.jsx("input",{type:"text",value:je,onChange:B=>ze(B.target.value),disabled:te==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),i.jsx("select",{multiple:!0,value:H.map(String),onChange:B=>{const Re=Array.from(B.target.selectedOptions).map(St=>Number(St.value));ge(Re.filter(St=>Number.isFinite(St)&&St>0))},disabled:te==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:ha.map(B=>i.jsxs("option",{value:B.id,children:["#",B.id," - ",B.full_name]},B.id))}),i.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:qe,onChange:B=>Ve(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Zs.map(B=>i.jsxs("option",{value:B.id,children:[B.name," (",B.start_time_local," - ",B.end_time_local,")"]},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",i.jsx("input",{value:et,onChange:B=>Ne(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",i.jsx("input",{value:ct,onChange:B=>yt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",i.jsx("input",{value:it,onChange:B=>Gt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",i.jsx("input",{type:"date",value:Ht,onChange:B=>lt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",i.jsx("input",{type:"date",value:Kt,onChange:B=>pn(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:X,onChange:B=>Ce(B.target.checked)}),"Vardiya kilitli"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:Ke,onChange:B=>_t(B.target.checked)}),"Aktif"]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",i.jsx("input",{value:jt,onChange:B=>dt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:ce.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ce.isPending?"Kaydediliyor...":de?"Plani Guncelle":"Plan Olustur"}),i.jsx("button",{type:"button",onClick:rn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Hedef"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Plan/Mola"}),i.jsx("th",{className:"py-2",children:"Tarih Araligi"}),i.jsx("th",{className:"py-2",children:"Kilit"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:In.map(B=>{const St=(B.target_employee_ids&&B.target_employee_ids.length>0?B.target_employee_ids:B.target_employee_id?[B.target_employee_id]:[]).map(Un=>Pr.get(Un)??`#${Un}`);return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Si.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:E3[B.target_type]}),St.length>0?i.jsx("span",{className:"text-xs text-slate-500",children:St.join(", ")}):null]})}),i.jsx("td",{className:"py-2",children:B.shift_id?Br.get(B.shift_id)??`#${B.shift_id}`:"-"}),i.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[i.jsxs("div",{children:["Plan: ",B.daily_minutes_planned!==null?`${B.daily_minutes_planned} dk`:"-"]}),i.jsxs("div",{children:["Mola: ",B.break_minutes!==null?`${B.break_minutes} dk`:"-"]}),i.jsxs("div",{children:["Tolerans: ",B.grace_minutes!==null?`${B.grace_minutes} dk`:"-"]})]}),i.jsxs("td",{className:"py-2",children:[B.start_date," - ",B.end_date]}),i.jsx("td",{className:"py-2",children:B.is_locked?"Kilitli":"Serbest"}),i.jsx("td",{className:"py-2",children:B.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>gn(B),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),B.is_active?i.jsx("button",{type:"button",onClick:()=>st.mutate(B.id),disabled:st.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):i.jsx("button",{type:"button",onClick:()=>Mt.mutate(B),disabled:Mt.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},B.id)})})]})})]}),i.jsxs(Ae,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),i.jsx("th",{className:"py-2",children:"Mola Suresi"}),i.jsx("th",{className:"py-2",children:"Tolerans"})]})}),i.jsx("tbody",{children:Lr.map(B=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Si.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.daily_minutes_planned})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.break_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.grace_minutes})})]},B.id))})]})})]}),mt?i.jsx("p",{className:"form-validation",children:mt}):null]})}function C3(){return i.jsxs(gS,{children:[i.jsx(Zt,{element:i.jsx(ZE,{}),children:i.jsx(Zt,{path:"/login",element:i.jsx(Sz,{})})}),i.jsx(Zt,{path:"/device-claim",element:i.jsx(HE,{})}),i.jsx(Zt,{path:"/archive-download",element:i.jsx(tz,{})}),i.jsx(Zt,{element:i.jsx(UE,{}),children:i.jsxs(Zt,{element:i.jsx(IE,{}),children:[i.jsx(Zt,{path:"/",element:i.jsx(Bf,{to:"/dashboard",replace:!0})}),i.jsx(Zt,{path:"/management-console",element:i.jsx(Cz,{})}),i.jsx(Zt,{path:"/dashboard",element:i.jsx(KA,{})}),i.jsx(Zt,{path:"/regions",element:i.jsx(r3,{})}),i.jsx(Zt,{path:"/departments",element:i.jsx(VA,{})}),i.jsx(Zt,{path:"/employees",element:i.jsx(vz,{})}),i.jsx(Zt,{path:"/employees/:id",element:i.jsx(mz,{})}),i.jsx(Zt,{path:"/quick-setup",element:i.jsx(s3,{})}),i.jsx(Zt,{path:"/work-rules",element:i.jsx(T3,{})}),i.jsx(Zt,{path:"/attendance-events",element:i.jsx(r1,{})}),i.jsx(Zt,{path:"/devices",element:i.jsx($A,{})}),i.jsx(Zt,{path:"/compliance-settings",element:i.jsx(JA,{})}),i.jsx(Zt,{path:"/leaves",element:i.jsx(_z,{})}),i.jsx(Zt,{path:"/qr-kodlar",element:i.jsx(i3,{})}),i.jsx(Zt,{path:"/reports/employee-monthly",element:i.jsx(yz,{})}),i.jsx(Zt,{path:"/reports/department-summary",element:i.jsx(GA,{})}),i.jsx(Zt,{path:"/reports/excel-export",element:i.jsx(zz,{})}),i.jsx(Zt,{path:"/notifications",element:i.jsx(c3,{})}),i.jsx(Zt,{path:"/audit-logs",element:i.jsx(_3,{})}),i.jsx(Zt,{path:"/admin-users",element:i.jsx(az,{})})]})}),i.jsx(Zt,{path:"*",element:i.jsx(Az,{})})]})}const A3=new ij({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});DN.createRoot(document.getElementById("root")).render(i.jsx(EN.StrictMode,{children:i.jsx(sj,{client:A3,children:i.jsx(ZS,{basename:"/admin-panel/",children:i.jsx(XE,{children:i.jsx(LE,{children:i.jsx(C3,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
