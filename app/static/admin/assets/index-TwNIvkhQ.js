(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=r(d);fetch(d.href,f)}})();function nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var of={exports:{}},Po={};var Zy;function rN(){if(Zy)return Po;Zy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,d,f){var p=null;if(f!==void 0&&(p=""+f),d.key!==void 0&&(p=""+d.key),"key"in d){f={};for(var v in d)v!=="key"&&(f[v]=d[v])}else f=d;return d=f.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:f}}return Po.Fragment=i,Po.jsx=r,Po.jsxs=r,Po}var qy;function lN(){return qy||(qy=1,of.exports=rN()),of.exports}var l=lN(),uf={exports:{}},We={};var Fy;function oN(){if(Fy)return We;Fy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function H(O,ie,P){this.props=O,this.context=ie,this.refs=M,this.updater=P||k}H.prototype.isReactComponent={},H.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=H.prototype;function q(O,ie,P){this.props=O,this.context=ie,this.refs=M,this.updater=P||k}var V=q.prototype=new B;V.constructor=q,A(V,H.prototype),V.isPureReactComponent=!0;var Y=Array.isArray;function G(){}var ee={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function $(O,ie,P){var F=P.ref;return{$$typeof:t,type:O,key:ie,ref:F!==void 0?F:null,props:P}}function ve(O,ie){return $(O.type,ie,O.props)}function ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function ce(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(P){return ie[P]})}var oe=/\/+/g;function Z(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?ce(""+O.key):ie.toString(36)}function re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(G,G):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,ie,P,F,ye){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(we){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case t:case i:ke=!0;break;case S:return ke=O._init,U(ke(O._payload),ie,P,F,ye)}}if(ke)return ye=ye(O),ke=F===""?"."+Z(O,0):F,Y(ye)?(P="",ke!=null&&(P=ke.replace(oe,"$&/")+"/"),U(ye,ie,P,"",function(dt){return dt})):ye!=null&&(ae(ye)&&(ye=ve(ye,P+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(oe,"$&/")+"/")+ke)),ie.push(ye)),1;ke=0;var Ze=F===""?".":F+":";if(Y(O))for(var qe=0;qe<O.length;qe++)F=O[qe],we=Ze+Z(F,qe),ke+=U(F,ie,P,we,ye);else if(qe=z(O),typeof qe=="function")for(O=qe.call(O),qe=0;!(F=O.next()).done;)F=F.value,we=Ze+Z(F,qe++),ke+=U(F,ie,P,we,ye);else if(we==="object"){if(typeof O.then=="function")return U(re(O),ie,P,F,ye);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(O,ie,P){if(O==null)return O;var F=[],ye=0;return U(O,F,"","",function(we){return ie.call(P,we,ye++)}),F}function he(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(P){(O._status===0||O._status===-1)&&(O._status=1,O._result=P)},function(P){(O._status===0||O._status===-1)&&(O._status=2,O._result=P)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},W={map:se,forEach:function(O,ie,P){se(O,function(){ie.apply(this,arguments)},P)},count:function(O){var ie=0;return se(O,function(){ie++}),ie},toArray:function(O){return se(O,function(ie){return ie})||[]},only:function(O){if(!ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return We.Activity=w,We.Children=W,We.Component=H,We.Fragment=r,We.Profiler=d,We.PureComponent=q,We.StrictMode=o,We.Suspense=x,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,We.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ee.H.useMemoCache(O)}},We.cache=function(O){return function(){return O.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(O,ie,P){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var F=A({},O.props),ye=O.key;if(ie!=null)for(we in ie.key!==void 0&&(ye=""+ie.key),ie)!X.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(F[we]=ie[we]);var we=arguments.length-2;if(we===1)F.children=P;else if(1<we){for(var ke=Array(we),Ze=0;Ze<we;Ze++)ke[Ze]=arguments[Ze+2];F.children=ke}return $(O.type,ye,F)},We.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},We.createElement=function(O,ie,P){var F,ye={},we=null;if(ie!=null)for(F in ie.key!==void 0&&(we=""+ie.key),ie)X.call(ie,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ye[F]=ie[F]);var ke=arguments.length-2;if(ke===1)ye.children=P;else if(1<ke){for(var Ze=Array(ke),qe=0;qe<ke;qe++)Ze[qe]=arguments[qe+2];ye.children=Ze}if(O&&O.defaultProps)for(F in ke=O.defaultProps,ke)ye[F]===void 0&&(ye[F]=ke[F]);return $(O,we,ye)},We.createRef=function(){return{current:null}},We.forwardRef=function(O){return{$$typeof:v,render:O}},We.isValidElement=ae,We.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:he}},We.memo=function(O,ie){return{$$typeof:_,type:O,compare:ie===void 0?null:ie}},We.startTransition=function(O){var ie=ee.T,P={};ee.T=P;try{var F=O(),ye=ee.S;ye!==null&&ye(P,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(G,Ee)}catch(we){Ee(we)}finally{ie!==null&&P.types!==null&&(ie.types=P.types),ee.T=ie}},We.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},We.use=function(O){return ee.H.use(O)},We.useActionState=function(O,ie,P){return ee.H.useActionState(O,ie,P)},We.useCallback=function(O,ie){return ee.H.useCallback(O,ie)},We.useContext=function(O){return ee.H.useContext(O)},We.useDebugValue=function(){},We.useDeferredValue=function(O,ie){return ee.H.useDeferredValue(O,ie)},We.useEffect=function(O,ie){return ee.H.useEffect(O,ie)},We.useEffectEvent=function(O){return ee.H.useEffectEvent(O)},We.useId=function(){return ee.H.useId()},We.useImperativeHandle=function(O,ie,P){return ee.H.useImperativeHandle(O,ie,P)},We.useInsertionEffect=function(O,ie){return ee.H.useInsertionEffect(O,ie)},We.useLayoutEffect=function(O,ie){return ee.H.useLayoutEffect(O,ie)},We.useMemo=function(O,ie){return ee.H.useMemo(O,ie)},We.useOptimistic=function(O,ie){return ee.H.useOptimistic(O,ie)},We.useReducer=function(O,ie,P){return ee.H.useReducer(O,ie,P)},We.useRef=function(O){return ee.H.useRef(O)},We.useState=function(O){return ee.H.useState(O)},We.useSyncExternalStore=function(O,ie,P){return ee.H.useSyncExternalStore(O,ie,P)},We.useTransition=function(){return ee.H.useTransition()},We.version="19.2.4",We}var Hy;function vm(){return Hy||(Hy=1,uf.exports=oN()),uf.exports}var j=vm();const uN=nd(j);var cf={exports:{}},Bo={},df={exports:{}},hf={};var Ky;function cN(){return Ky||(Ky=1,(function(t){function i(U,se){var he=U.length;U.push(se);e:for(;0<he;){var Ee=he-1>>>1,W=U[Ee];if(0<d(W,se))U[Ee]=se,U[he]=W,he=Ee;else break e}}function r(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var se=U[0],he=U.pop();if(he!==se){U[0]=he;e:for(var Ee=0,W=U.length,O=W>>>1;Ee<O;){var ie=2*(Ee+1)-1,P=U[ie],F=ie+1,ye=U[F];if(0>d(P,he))F<W&&0>d(ye,P)?(U[Ee]=ye,U[F]=he,Ee=F):(U[Ee]=P,U[ie]=he,Ee=ie);else if(F<W&&0>d(ye,he))U[Ee]=ye,U[F]=he,Ee=F;else break e}}return se}function d(U,se){var he=U.sortIndex-se.sortIndex;return he!==0?he:U.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var p=Date,v=p.now();t.unstable_now=function(){return p.now()-v}}var x=[],_=[],S=1,w=null,C=3,z=!1,k=!1,A=!1,M=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function V(U){for(var se=r(_);se!==null;){if(se.callback===null)o(_);else if(se.startTime<=U)o(_),se.sortIndex=se.expirationTime,i(x,se);else break;se=r(_)}}function Y(U){if(A=!1,V(U),!k)if(r(x)!==null)k=!0,G||(G=!0,ce());else{var se=r(_);se!==null&&re(Y,se.startTime-U)}}var G=!1,ee=-1,X=5,$=-1;function ve(){return M?!0:!(t.unstable_now()-$<X)}function ae(){if(M=!1,G){var U=t.unstable_now();$=U;var se=!0;try{e:{k=!1,A&&(A=!1,B(ee),ee=-1),z=!0;var he=C;try{t:{for(V(U),w=r(x);w!==null&&!(w.expirationTime>U&&ve());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,C=w.priorityLevel;var W=Ee(w.expirationTime<=U);if(U=t.unstable_now(),typeof W=="function"){w.callback=W,V(U),se=!0;break t}w===r(x)&&o(x),V(U)}else o(x);w=r(x)}if(w!==null)se=!0;else{var O=r(_);O!==null&&re(Y,O.startTime-U),se=!1}}break e}finally{w=null,C=he,z=!1}se=void 0}}finally{se?ce():G=!1}}}var ce;if(typeof q=="function")ce=function(){q(ae)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Z=oe.port2;oe.port1.onmessage=ae,ce=function(){Z.postMessage(null)}}else ce=function(){H(ae,0)};function re(U,se){ee=H(function(){U(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(U){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var he=C;C=se;try{return U()}finally{C=he}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(U,se){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var he=C;C=U;try{return se()}finally{C=he}},t.unstable_scheduleCallback=function(U,se,he){var Ee=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=he+W,U={id:S++,callback:se,priorityLevel:U,startTime:he,expirationTime:W,sortIndex:-1},he>Ee?(U.sortIndex=he,i(_,U),r(x)===null&&U===r(_)&&(A?(B(ee),ee=-1):A=!0,re(Y,he-Ee))):(U.sortIndex=W,i(x,U),k||z||(k=!0,G||(G=!0,ce()))),U},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(U){var se=C;return function(){var he=C;C=se;try{return U.apply(this,arguments)}finally{C=he}}}})(hf)),hf}var Qy;function dN(){return Qy||(Qy=1,df.exports=cN()),df.exports}var ff={exports:{}},Dn={};var Vy;function hN(){if(Vy)return Dn;Vy=1;var t=vm();function i(x){var _="https://react.dev/errors/"+x;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(x,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:x,containerInfo:_,implementation:S}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(x,_){if(x==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Dn.createPortal=function(x,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(i(299));return f(x,_,null,S)},Dn.flushSync=function(x){var _=p.T,S=o.p;try{if(p.T=null,o.p=2,x)return x()}finally{p.T=_,o.p=S,o.d.f()}},Dn.preconnect=function(x,_){typeof x=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(x,_))},Dn.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},Dn.preinit=function(x,_){if(typeof x=="string"&&_&&typeof _.as=="string"){var S=_.as,w=v(S,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?o.d.S(x,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:z}):S==="script"&&o.d.X(x,{crossOrigin:w,integrity:C,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Dn.preinitModule=function(x,_){if(typeof x=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=v(_.as,_.crossOrigin);o.d.M(x,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(x)},Dn.preload=function(x,_){if(typeof x=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=v(S,_.crossOrigin);o.d.L(x,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Dn.preloadModule=function(x,_){if(typeof x=="string")if(_){var S=v(_.as,_.crossOrigin);o.d.m(x,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(x)},Dn.requestFormReset=function(x){o.d.r(x)},Dn.unstable_batchedUpdates=function(x,_){return x(_)},Dn.useFormState=function(x,_,S){return p.H.useFormState(x,_,S)},Dn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Dn.version="19.2.4",Dn}var Gy;function fN(){if(Gy)return ff.exports;Gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),ff.exports=hN(),ff.exports}var Yy;function mN(){if(Yy)return Bo;Yy=1;var t=dN(),i=vm(),r=fN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(o(188))}function _(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(o(188));return n!==e?null:e}for(var s=e,c=n;;){var m=s.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){s=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===s)return x(m),e;if(g===c)return x(m),n;g=g.sibling}throw Error(o(188))}if(s.return!==c.return)s=m,c=g;else{for(var N=!1,T=m.child;T;){if(T===s){N=!0,s=m,c=g;break}if(T===c){N=!0,c=m,s=g;break}T=T.sibling}if(!N){for(T=g.child;T;){if(T===s){N=!0,s=g,c=m;break}if(T===c){N=!0,c=g,s=m;break}T=T.sibling}if(!N)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case H:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case q:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Z(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return Z(e(n))}catch{}}return null}var re=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],W=-1;function O(e){return{current:e}}function ie(e){0>W||(e.current=Ee[W],Ee[W]=null,W--)}function P(e,n){W++,Ee[W]=e.current,e.current=n}var F=O(null),ye=O(null),we=O(null),ke=O(null);function Ze(e,n){switch(P(we,n),P(ye,e),P(F,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?cy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=cy(n),e=dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(F),P(F,e)}function qe(){ie(F),ie(ye),ie(we)}function dt(e){e.memoizedState!==null&&P(ke,e);var n=F.current,s=dy(n,e.type);n!==s&&(P(ye,e),P(F,s))}function it(e){ye.current===e&&(ie(F),ie(ye)),ke.current===e&&(ie(ke),Mo._currentValue=he)}var Bt,Mt;function Gt(e){if(Bt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Bt=n&&n[1]||"",Mt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+e+Mt}var an=!1;function Yt(e,n){if(!e||an)return"";an=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(pe){var me=pe}Reflect.construct(e,[],je)}else{try{je.call()}catch(pe){me=pe}e.call(je.prototype)}}else{try{throw Error()}catch(pe){me=pe}(je=e())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(pe){if(pe&&me&&typeof pe.stack=="string")return[pe.stack,me.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),N=g[0],T=g[1];if(N&&T){var I=N.split(`
`),de=T.split(`
`);for(m=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;m<de.length&&!de[m].includes("DetermineComponentFrameRoot");)m++;if(c===I.length||m===de.length)for(c=I.length-1,m=de.length-1;1<=c&&0<=m&&I[c]!==de[m];)m--;for(;1<=c&&0<=m;c--,m--)if(I[c]!==de[m]){if(c!==1||m!==1)do if(c--,m--,0>m||I[c]!==de[m]){var _e=`
`+I[c].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=c&&0<=m);break}}}finally{an=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gt(s):""}function ln(e,n){switch(e.tag){case 26:case 27:case 5:return Gt(e.type);case 16:return Gt("Lazy");case 13:return e.child!==n&&n!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Yt(e.type,!1);case 11:return Yt(e.type.render,!1);case 1:return Yt(e.type,!0);case 31:return Gt("Activity");default:return""}}function on(e){try{var n="",s=null;do n+=ln(e,s),s=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var bn=Object.prototype.hasOwnProperty,J=t.unstable_scheduleCallback,Te=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,kt=t.unstable_requestPaint,Ye=t.unstable_now,xe=t.unstable_getCurrentPriorityLevel,Q=t.unstable_ImmediatePriority,Ae=t.unstable_UserBlockingPriority,St=t.unstable_NormalPriority,$e=t.unstable_LowPriority,pn=t.unstable_IdlePriority,le=t.log,Xe=t.unstable_setDisableYieldValue,yt=null,Rt=null;function zn(e){if(typeof le=="function"&&Xe(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(yt,e)}catch{}}var gn=Math.clz32?Math.clz32:Ps,Ri=Math.log,Ds=Math.LN2;function Ps(e){return e>>>=0,e===0?32:31-(Ri(e)/Ds|0)|0}var Li=256,Di=262144,Wi=4194304;function vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ea(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?m=vi(c):(N&=T,N!==0?m=vi(N):s||(s=T&~e,s!==0&&(m=vi(s))))):(T=c&~g,T!==0?m=vi(T):N!==0?m=vi(N):s||(s=c&~e,s!==0&&(m=vi(s)))),m===0?0:n!==0&&n!==m&&(n&g)===0&&(g=m&-m,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:m}function si(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Or(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function Bs(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ri(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dl(e,n,s,c,m,g){var N=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,de=e.hiddenUpdates;for(s=N&~s;0<s;){var _e=31-gn(s),je=1<<_e;T[_e]=0,I[_e]=-1;var me=de[_e];if(me!==null)for(de[_e]=null,_e=0;_e<me.length;_e++){var pe=me[_e];pe!==null&&(pe.lane&=-536870913)}s&=~je}c!==0&&va(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~n))}function va(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-gn(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function Rr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-gn(s),m=1<<c;m&n|e[c]&n&&(e[c]|=n),s&=~m}}function Lr(e,n){var s=n&-n;return s=(s&42)!==0?1:On(s),(s&(e.suspendedLanes|n))!==0?0:s}function On(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Is(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Ry(e.type))}function Qa(e,n){var s=se.p;try{return se.p=e,n()}finally{se.p=s}}var li=Math.random().toString(36).slice(2),$t="__reactFiber$"+li,un="__reactProps$"+li,Pi="__reactContainer$"+li,xi="__reactEvents$"+li,Dr="__reactListeners$"+li,Pl="__reactHandles$"+li,Pr="__reactResources$"+li,xa="__reactMarker$"+li;function R(e){delete e[$t],delete e[un],delete e[xi],delete e[Dr],delete e[Pl]}function ze(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Pi]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=vy(e);e!==null;){if(s=e[$t])return s;e=vy(e)}return n}e=s,s=e.parentNode}return null}function ht(e){if(e=e[$t]||e[Pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Bi(e){var n=e[Pr];return n||(n=e[Pr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ht(e){e[xa]=!0}var Us=new Set,lu={};function _a(e,n){ta(e,n),ta(e+"Capture",n)}function ta(e,n){for(lu[e]=n,e=0;e<n.length;e++)Us.add(n[e])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},Il={};function qs(e){return bn.call(Il,e)?!0:bn.call(Bl,e)?!1:Zs.test(e)?Il[e]=!0:(Bl[e]=!0,!1)}function at(e,n,s){if(qs(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function jt(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Kn(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ba(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(e,n,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){s=""+N,g.call(this,N)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(N){s=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Je(e){if(!e._valueTracker){var n=ba(e)?"checked":"value";e._valueTracker=Ul(e,n,""+e[n])}}function It(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=ba(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Br=/[\n"\\]/g;function Lt(e){return e.replace(Br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zl(e,n,s,c,m,g,N,T){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Ii(e,N,yn(n)):s!=null?Ii(e,N,yn(s)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+yn(T):e.removeAttribute("name")}function Fs(e,n,s,c,m,g,N,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){Je(e);return}s=s!=null?""+yn(s):"",n=n!=null?""+yn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Je(e)}function Ii(e,n,s){n==="number"&&Va(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function At(e,n,s,c){if(e=e.options,n){n={};for(var m=0;m<s.length;m++)n["$"+s[m]]=!0;for(s=0;s<e.length;s++)m=n.hasOwnProperty("$"+e[s].value),e[s].selected!==m&&(e[s].selected=m),m&&c&&(e[s].defaultSelected=!0)}else{for(s=""+yn(s),n=null,m=0;m<e.length;m++){if(e[m].value===s){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function na(e,n,s){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+yn(s):""}function Ga(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(o(92));if(re(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=yn(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),Je(e)}function _i(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ql=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ya(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||ql.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ir(e,n,s){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&s[m]!==c&&Ya(e,m,c)}else for(var g in n)n.hasOwnProperty(g)&&Ya(e,g,n[g])}function Hs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ur=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(e){return Fl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Zr=null;function Ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Ke=null;function oi(e){var n=ht(e);if(n&&(e=n.stateNode)){var s=e[un]||null;e:switch(e=n.stateNode,n.type){case"input":if(Zl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var m=c[un]||null;if(!m)throw Error(o(90));Zl(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&It(c)}break e;case"textarea":na(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&At(e,!!s.multiple,n,!1)}}}var xt=!1;function Hl(e,n,s){if(xt)return e(n,s);xt=!0;try{var c=e(n);return c}finally{if(xt=!1,(Xa!==null||Ke!==null)&&(ic(),Xa&&(n=Xa,e=Ke,Ke=Xa=null,oi(n),e)))for(n=0;n<e.length;n++)oi(e[n])}}function Na(e,n){var s=e.stateNode;if(s===null)return null;var c=s[un]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,n,typeof s));return s}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if(ui)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Qs=!1}var bi=null,Sa=null,Xt=null;function ia(){if(Xt)return Xt;var e,n=Sa,s=n.length,c,m="value"in bi?bi.value:bi.textContent,g=m.length;for(e=0;e<s&&n[e]===m[e];e++);var N=s-e;for(c=1;c<=N&&n[s-c]===m[g-c];c++);return Xt=m.slice(e,1<c?1-c:void 0)}function Vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function ou(){return!1}function wn(e){function n(s,c,m,g,N){this._reactName=s,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Gs:ou,this.isPropagationStopped=ou,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=wn(Ui),Ja=w({},Ui,{view:0,detail:0}),ot=wn(Ja),Kl,In,Zi,Ys=w({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(Kl=e.screenX-Zi.screenX,In=e.screenY-Zi.screenY):In=Kl=0,Zi=e),Kl)},movementY:function(e){return"movementY"in e?e.movementY:In}}),uu=wn(Ys),Ql=w({},Ys,{dataTransfer:0}),yd=wn(Ql),cu=w({},Ja,{relatedTarget:0}),Vl=wn(cu),vd=w({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Gl=wn(vd),xd=w({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ni=wn(xd),_d=w({},Ui,{data:0}),Yl=wn(_d),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function Xl(){return $l}var fu=w({},Ja,{key:function(e){if(e.key){var n=aa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=wn(fu),bd=w({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=wn(bd),Jl=w({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Nd=wn(Jl),gu=w({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=wn(gu),Fr=w({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=wn(Fr),Sd=w({},Ui,{newState:0,oldState:0}),$s=wn(Sd),Vn=[9,13,27,32],Hr=ui&&"CompositionEvent"in window,Wa=null;ui&&"documentMode"in document&&(Wa=document.documentMode);var jd=ui&&"TextEvent"in window&&!Wa,Kr=ui&&(!Hr||Wa&&8<Wa&&11>=Wa),Qr=" ",vu=!1;function xu(e,n){switch(e){case"keyup":return Vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function di(e,n){switch(e){case"compositionend":return Wl(n);case"keypress":return n.which!==32?null:(vu=!0,Qr);case"textInput":return e=n.data,e===Qr&&vu?null:e;default:return null}}function ts(e,n){if(es)return e==="compositionend"||!Hr&&xu(e,n)?(e=ia(),Xt=Sa=bi=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kr&&n.locale!=="ko"?null:n.data;default:return null}}var wd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Si(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wd[e.type]:n==="textarea"}function _u(e,n,s,c){Xa?Ke?Ke.push(c):Ke=[c]:Xa=c,n=cc(n,"onChange"),0<n.length&&(s=new qr("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var ji=null,Xs=null;function Js(e){ay(e,0)}function Ws(e){var n=Mn(e);if(It(n))return e}function er(e,n){if(e==="change")return n}var bu=!1;if(ui){var wi;if(ui){var ns="oninput"in document;if(!ns){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),ns=typeof Nu.oninput=="function"}wi=ns}else wi=!1;bu=wi&&(!document.documentMode||9<document.documentMode)}function Vr(){ji&&(ji.detachEvent("onpropertychange",Su),Xs=ji=null)}function Su(e){if(e.propertyName==="value"&&Ws(Xs)){var n=[];_u(n,Xs,e,Ks(e)),Hl(Js,n)}}function qi(e,n,s){e==="focusin"?(Vr(),ji=n,Xs=s,ji.attachEvent("onpropertychange",Su)):e==="focusout"&&Vr()}function Ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Xs)}function is(e,n){if(e==="click")return Ws(n)}function Td(e,n){if(e==="input"||e==="change")return Ws(n)}function Fi(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:Fi;function as(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var m=s[c];if(!bn.call(n,m)||!Nn(e[m],n[m]))return!1}return!0}function Gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,n){var s=Gr(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gr(s)}}function Yr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Yr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function nr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Va(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Va(e.document)}return n}function sa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $r=ui&&"documentMode"in document&&11>=document.documentMode,ra=null,Xr=null,ir=null,ss=!1;function ju(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ss||ra==null||ra!==Va(c)||(c=ra,"selectionStart"in c&&sa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ir&&as(ir,c)||(ir=c,c=cc(Xr,"onSelect"),0<c.length&&(n=new qr("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=ra)))}function la(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var rs={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Jr={},wu={};ui&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Sn(e){if(Jr[e])return Jr[e];if(!rs[e])return e;var n=rs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wu)return Jr[e]=n[s];return e}var ar=Sn("animationend"),Eu=Sn("animationiteration"),sr=Sn("animationstart"),Cd=Sn("transitionrun"),Tu=Sn("transitionstart"),kd=Sn("transitioncancel"),ls=Sn("transitionend"),Cu=new Map,oa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oa.push("scrollEnd");function Gn(e,n){Cu.set(e,n),_a(n,[e])}var rr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yn=[],Rn=0,Wr=0;function lr(){for(var e=Rn,n=Wr=Rn=0;n<e;){var s=Yn[n];Yn[n++]=null;var c=Yn[n];Yn[n++]=null;var m=Yn[n];Yn[n++]=null;var g=Yn[n];if(Yn[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}g!==0&&os(s,m,g)}}function ua(e,n,s,c){Yn[Rn++]=e,Yn[Rn++]=n,Yn[Rn++]=s,Yn[Rn++]=c,Wr|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function eo(e,n,s,c){return ua(e,n,s,c),or(e)}function Ei(e,n){return ua(e,null,null,n),or(e)}function os(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var m=!1,g=e.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&n!==null&&(m=31-gn(s),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=s|536870912),g):null}function or(e){if(50<Eo)throw Eo=0,zh=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function Ad(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,n,s,c){return new Ad(e,n,s,c)}function el(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,n){var s=e.alternate;return s===null?(s=Ln(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function to(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ur(e,n,s,c,m,g){var N=0;if(c=e,typeof e=="function")el(e)&&(N=1);else if(typeof e=="string")N=Gb(e,s,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=Ln(31,s,n,m),e.elementType=$,e.lanes=g,e;case A:return Ea(s.children,m,g,n);case M:N=8,m|=24;break;case H:return e=Ln(12,s,n,m|2),e.elementType=H,e.lanes=g,e;case Y:return e=Ln(13,s,n,m),e.elementType=Y,e.lanes=g,e;case G:return e=Ln(19,s,n,m),e.elementType=G,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:N=10;break e;case B:N=9;break e;case V:N=11;break e;case ee:N=14;break e;case X:N=16,c=null;break e}N=29,s=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=Ln(N,s,n,m),n.elementType=e,n.type=c,n.lanes=g,n}function Ea(e,n,s,c){return e=Ln(7,e,c,n),e.lanes=s,e}function tl(e,n,s){return e=Ln(6,e,null,n),e.lanes=s,e}function no(e){var n=Ln(18,null,null,0);return n.stateNode=e,n}function io(e,n,s){return n=Ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var a=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var s=a.get(e);return s!==void 0?s:(n={value:e,source:n,stack:on(n)},a.set(e,n),n)}return{value:e,source:n,stack:on(n)}}var h=[],y=0,b=null,E=0,D=[],ne=0,fe=null,Se=1,Ce="";function Pe(e,n){h[y++]=E,h[y++]=b,b=e,E=n}function tt(e,n,s){D[ne++]=Se,D[ne++]=Ce,D[ne++]=fe,fe=e;var c=Se;e=Ce;var m=32-gn(c)-1;c&=~(1<<m),s+=1;var g=32-gn(n)+m;if(30<g){var N=m-m%5;g=(c&(1<<N)-1).toString(32),c>>=N,m-=N,Se=1<<32-gn(n)+m|s<<m|c,Ce=g+e}else Se=1<<g|s<<m|c,Ce=e}function vn(e){e.return!==null&&(Pe(e,1),tt(e,1,0))}function Jt(e){for(;e===b;)b=h[--y],h[y]=null,E=h[--y],h[y]=null;for(;e===fe;)fe=D[--ne],D[ne]=null,Ce=D[--ne],D[ne]=null,Se=D[--ne],D[ne]=null}function Un(e,n){D[ne++]=Se,D[ne++]=Ce,D[ne++]=fe,Se=n.id,Ce=n.overflow,fe=e}var ft=null,mt=null,st=!1,ca=null,$n=!1,nl=Error(o(519));function da(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cr(u(n,e)),nl}function ao(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[$t]=e,n[un]=c,s){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(s=0;s<Co.length;s++)lt(Co[s],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":lt("invalid",n),Fs(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":lt("invalid",n);break;case"textarea":lt("invalid",n),Ga(n,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||oy(n.textContent,s)?(c.popover!=null&&(lt("beforetoggle",n),lt("toggle",n)),c.onScroll!=null&&lt("scroll",n),c.onScrollEnd!=null&&lt("scrollend",n),c.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||da(e,!0)}function Kt(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:ft=ft.return}}function Hi(e){if(e!==ft)return!1;if(!st)return Kt(e),st=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qh(e.type,e.memoizedProps)),s=!s),s&&mt&&da(e),Kt(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));mt=yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));mt=yy(e)}else n===27?(n=mt,Ns(e.type)?(e=Xh,Xh=null,mt=e):mt=n):mt=ft?ki(e.stateNode.nextSibling):null;return!0}function Ta(){mt=ft=null,st=!1}function so(){var e=ca;return e!==null&&(ei===null?ei=e:ei.push.apply(ei,e),ca=null),e}function cr(e){ca===null?ca=[e]:ca.push(e)}var dr=O(null),ha=null,Ki=null;function us(e,n,s){P(dr,n._currentValue),n._currentValue=s}function Ca(e){e._currentValue=dr.current,ie(dr)}function zd(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Od(e,n,s,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var N=m.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=m;for(var I=0;I<n.length;I++)if(T.context===n[I]){g.lanes|=s,T=g.alternate,T!==null&&(T.lanes|=s),zd(g.return,s,e),c||(N=null);break e}g=T.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(o(341));N.lanes|=s,g=N.alternate,g!==null&&(g.lanes|=s),zd(N,s,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function il(e,n,s,c){e=null;for(var m=n,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var T=m.type;Nn(m.pendingProps.value,N.value)||(e!==null?e.push(T):e=[T])}}else if(m===ke.current){if(N=m.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Mo):e=[Mo])}m=m.return}e!==null&&Od(n,e,s,c),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){ha=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function En(e){return Vm(ha,e)}function Au(e,n){return ha===null&&hr(e),Vm(e,n)}function Vm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ki===null){if(e===null)throw Error(o(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return s}var H0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},K0=t.unstable_scheduleCallback,Q0=t.unstable_NormalPriority,cn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new H0,data:new Map,refCount:0}}function ro(e){e.refCount--,e.refCount===0&&K0(Q0,function(){e.controller.abort()})}var lo=null,Rd=0,al=0,sl=null;function V0(e,n){if(lo===null){var s=lo=[];Rd=0,al=Ph(),sl={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Rd++,n.then(Gm,Gm),n}function Gm(){if(--Rd===0&&lo!==null){sl!==null&&(sl.status="fulfilled");var e=lo;lo=null,al=0,sl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function G0(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<s.length;m++)(0,s[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),c}var Ym=U.S;U.S=function(e,n){Og=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&V0(e,n),Ym!==null&&Ym(e,n)};var fr=O(null);function Ld(){var e=fr.current;return e!==null?e:zt.pooledCache}function zu(e,n){n===null?P(fr,fr.current):P(fr,n.pool)}function $m(){var e=Ld();return e===null?null:{parent:cn._currentValue,pool:e}}var rl=Error(o(460)),Dd=Error(o(474)),Ou=Error(o(542)),Mu={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=zt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e}throw pr=n,rl}}function mr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(pr=s,rl):s}}var pr=null;function Wm(){if(pr===null)throw Error(o(459));var e=pr;return pr=null,e}function ep(e){if(e===rl||e===Ou)throw Error(o(483))}var ll=null,oo=0;function Ru(e){var n=oo;return oo+=1,ll===null&&(ll=[]),Jm(ll,e,n)}function uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tp(e){function n(te,K){if(e){var ue=te.deletions;ue===null?(te.deletions=[K],te.flags|=16):ue.push(K)}}function s(te,K){if(!e)return null;for(;K!==null;)n(te,K),K=K.sibling;return null}function c(te){for(var K=new Map;te!==null;)te.key!==null?K.set(te.key,te):K.set(te.index,te),te=te.sibling;return K}function m(te,K){return te=Ti(te,K),te.index=0,te.sibling=null,te}function g(te,K,ue){return te.index=ue,e?(ue=te.alternate,ue!==null?(ue=ue.index,ue<K?(te.flags|=67108866,K):ue):(te.flags|=67108866,K)):(te.flags|=1048576,K)}function N(te){return e&&te.alternate===null&&(te.flags|=67108866),te}function T(te,K,ue,be){return K===null||K.tag!==6?(K=tl(ue,te.mode,be),K.return=te,K):(K=m(K,ue),K.return=te,K)}function I(te,K,ue,be){var Ie=ue.type;return Ie===A?_e(te,K,ue.props.children,be,ue.key):K!==null&&(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===X&&mr(Ie)===K.type)?(K=m(K,ue.props),uo(K,ue),K.return=te,K):(K=ur(ue.type,ue.key,ue.props,null,te.mode,be),uo(K,ue),K.return=te,K)}function de(te,K,ue,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==ue.containerInfo||K.stateNode.implementation!==ue.implementation?(K=io(ue,te.mode,be),K.return=te,K):(K=m(K,ue.children||[]),K.return=te,K)}function _e(te,K,ue,be,Ie){return K===null||K.tag!==7?(K=Ea(ue,te.mode,be,Ie),K.return=te,K):(K=m(K,ue),K.return=te,K)}function je(te,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=tl(""+K,te.mode,ue),K.return=te,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return ue=ur(K.type,K.key,K.props,null,te.mode,ue),uo(ue,K),ue.return=te,ue;case k:return K=io(K,te.mode,ue),K.return=te,K;case X:return K=mr(K),je(te,K,ue)}if(re(K)||ce(K))return K=Ea(K,te.mode,ue,null),K.return=te,K;if(typeof K.then=="function")return je(te,Ru(K),ue);if(K.$$typeof===q)return je(te,Au(te,K),ue);Lu(te,K)}return null}function me(te,K,ue,be){var Ie=K!==null?K.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ie!==null?null:T(te,K,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return ue.key===Ie?I(te,K,ue,be):null;case k:return ue.key===Ie?de(te,K,ue,be):null;case X:return ue=mr(ue),me(te,K,ue,be)}if(re(ue)||ce(ue))return Ie!==null?null:_e(te,K,ue,be,null);if(typeof ue.then=="function")return me(te,K,Ru(ue),be);if(ue.$$typeof===q)return me(te,K,Au(te,ue),be);Lu(te,ue)}return null}function pe(te,K,ue,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return te=te.get(ue)||null,T(K,te,""+be,Ie);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case z:return te=te.get(be.key===null?ue:be.key)||null,I(K,te,be,Ie);case k:return te=te.get(be.key===null?ue:be.key)||null,de(K,te,be,Ie);case X:return be=mr(be),pe(te,K,ue,be,Ie)}if(re(be)||ce(be))return te=te.get(ue)||null,_e(K,te,be,Ie,null);if(typeof be.then=="function")return pe(te,K,ue,Ru(be),Ie);if(be.$$typeof===q)return pe(te,K,ue,Au(K,be),Ie);Lu(K,be)}return null}function Le(te,K,ue,be){for(var Ie=null,pt=null,De=K,nt=K=0,ct=null;De!==null&&nt<ue.length;nt++){De.index>nt?(ct=De,De=null):ct=De.sibling;var gt=me(te,De,ue[nt],be);if(gt===null){De===null&&(De=ct);break}e&&De&&gt.alternate===null&&n(te,De),K=g(gt,K,nt),pt===null?Ie=gt:pt.sibling=gt,pt=gt,De=ct}if(nt===ue.length)return s(te,De),st&&Pe(te,nt),Ie;if(De===null){for(;nt<ue.length;nt++)De=je(te,ue[nt],be),De!==null&&(K=g(De,K,nt),pt===null?Ie=De:pt.sibling=De,pt=De);return st&&Pe(te,nt),Ie}for(De=c(De);nt<ue.length;nt++)ct=pe(De,te,nt,ue[nt],be),ct!==null&&(e&&ct.alternate!==null&&De.delete(ct.key===null?nt:ct.key),K=g(ct,K,nt),pt===null?Ie=ct:pt.sibling=ct,pt=ct);return e&&De.forEach(function(Ts){return n(te,Ts)}),st&&Pe(te,nt),Ie}function Fe(te,K,ue,be){if(ue==null)throw Error(o(151));for(var Ie=null,pt=null,De=K,nt=K=0,ct=null,gt=ue.next();De!==null&&!gt.done;nt++,gt=ue.next()){De.index>nt?(ct=De,De=null):ct=De.sibling;var Ts=me(te,De,gt.value,be);if(Ts===null){De===null&&(De=ct);break}e&&De&&Ts.alternate===null&&n(te,De),K=g(Ts,K,nt),pt===null?Ie=Ts:pt.sibling=Ts,pt=Ts,De=ct}if(gt.done)return s(te,De),st&&Pe(te,nt),Ie;if(De===null){for(;!gt.done;nt++,gt=ue.next())gt=je(te,gt.value,be),gt!==null&&(K=g(gt,K,nt),pt===null?Ie=gt:pt.sibling=gt,pt=gt);return st&&Pe(te,nt),Ie}for(De=c(De);!gt.done;nt++,gt=ue.next())gt=pe(De,te,nt,gt.value,be),gt!==null&&(e&&gt.alternate!==null&&De.delete(gt.key===null?nt:gt.key),K=g(gt,K,nt),pt===null?Ie=gt:pt.sibling=gt,pt=gt);return e&&De.forEach(function(sN){return n(te,sN)}),st&&Pe(te,nt),Ie}function Tt(te,K,ue,be){if(typeof ue=="object"&&ue!==null&&ue.type===A&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:e:{for(var Ie=ue.key;K!==null;){if(K.key===Ie){if(Ie=ue.type,Ie===A){if(K.tag===7){s(te,K.sibling),be=m(K,ue.props.children),be.return=te,te=be;break e}}else if(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===X&&mr(Ie)===K.type){s(te,K.sibling),be=m(K,ue.props),uo(be,ue),be.return=te,te=be;break e}s(te,K);break}else n(te,K);K=K.sibling}ue.type===A?(be=Ea(ue.props.children,te.mode,be,ue.key),be.return=te,te=be):(be=ur(ue.type,ue.key,ue.props,null,te.mode,be),uo(be,ue),be.return=te,te=be)}return N(te);case k:e:{for(Ie=ue.key;K!==null;){if(K.key===Ie)if(K.tag===4&&K.stateNode.containerInfo===ue.containerInfo&&K.stateNode.implementation===ue.implementation){s(te,K.sibling),be=m(K,ue.children||[]),be.return=te,te=be;break e}else{s(te,K);break}else n(te,K);K=K.sibling}be=io(ue,te.mode,be),be.return=te,te=be}return N(te);case X:return ue=mr(ue),Tt(te,K,ue,be)}if(re(ue))return Le(te,K,ue,be);if(ce(ue)){if(Ie=ce(ue),typeof Ie!="function")throw Error(o(150));return ue=Ie.call(ue),Fe(te,K,ue,be)}if(typeof ue.then=="function")return Tt(te,K,Ru(ue),be);if(ue.$$typeof===q)return Tt(te,K,Au(te,ue),be);Lu(te,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,K!==null&&K.tag===6?(s(te,K.sibling),be=m(K,ue),be.return=te,te=be):(s(te,K),be=tl(ue,te.mode,be),be.return=te,te=be),N(te)):s(te,K)}return function(te,K,ue,be){try{oo=0;var Ie=Tt(te,K,ue,be);return ll=null,Ie}catch(De){if(De===rl||De===Ou)throw De;var pt=Ln(29,De,null,te.mode);return pt.lanes=be,pt.return=te,pt}}}var gr=tp(!0),np=tp(!1),cs=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hs(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=or(e),os(e,null,s),n}return ua(e,c,n,s),or(e)}function co(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Rr(e,s)}}function Id(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var m=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var N={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?m=g=N:g=g.next=N,s=s.next}while(s!==null);g===null?m=g=n:g=g.next=n}else m=g=n;s={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ud=!1;function ho(){if(Ud){var e=sl;if(e!==null)throw e}}function fo(e,n,s,c){Ud=!1;var m=e.updateQueue;cs=!1;var g=m.firstBaseUpdate,N=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var I=T,de=I.next;I.next=null,N===null?g=de:N.next=de,N=I;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,T=_e.lastBaseUpdate,T!==N&&(T===null?_e.firstBaseUpdate=de:T.next=de,_e.lastBaseUpdate=I))}if(g!==null){var je=m.baseState;N=0,_e=de=I=null,T=g;do{var me=T.lane&-536870913,pe=me!==T.lane;if(pe?(ut&me)===me:(c&me)===me){me!==0&&me===al&&(Ud=!0),_e!==null&&(_e=_e.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Le=e,Fe=T;me=n;var Tt=s;switch(Fe.tag){case 1:if(Le=Fe.payload,typeof Le=="function"){je=Le.call(Tt,je,me);break e}je=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Fe.payload,me=typeof Le=="function"?Le.call(Tt,je,me):Le,me==null)break e;je=w({},je,me);break e;case 2:cs=!0}}me=T.callback,me!==null&&(e.flags|=64,pe&&(e.flags|=8192),pe=m.callbacks,pe===null?m.callbacks=[me]:pe.push(me))}else pe={lane:me,tag:T.tag,payload:T.payload,callback:T.callback,next:null},_e===null?(de=_e=pe,I=je):_e=_e.next=pe,N|=me;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;pe=T,T=pe.next,pe.next=null,m.lastBaseUpdate=pe,m.shared.pending=null}}while(!0);_e===null&&(I=je),m.baseState=I,m.firstBaseUpdate=de,m.lastBaseUpdate=_e,g===null&&(m.shared.lanes=0),ys|=N,e.lanes=N,e.memoizedState=je}}function ip(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function ap(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ip(s[e],n)}var ol=O(null),Du=O(0);function sp(e,n){e=Pa,P(Du,e),P(ol,n),Pa=e|n.baseLanes}function Zd(){P(Du,Pa),P(ol,ol.current)}function qd(){Pa=Du.current,ie(ol),ie(Du)}var hi=O(null),Ci=null;function fs(e){var n=e.alternate;P(sn,sn.current&1),P(hi,e),Ci===null&&(n===null||ol.current!==null||n.memoizedState!==null)&&(Ci=e)}function Fd(e){P(sn,sn.current),P(hi,e),Ci===null&&(Ci=e)}function rp(e){e.tag===22?(P(sn,sn.current),P(hi,e),Ci===null&&(Ci=e)):ms()}function ms(){P(sn,sn.current),P(hi,hi.current)}function fi(e){ie(hi),Ci===e&&(Ci=null),ie(sn)}var sn=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Yh(s)||$h(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ka=0,et=null,wt=null,dn=null,Bu=!1,ul=!1,yr=!1,Iu=0,mo=0,cl=null,Y0=0;function Wt(){throw Error(o(321))}function Hd(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function Kd(e,n,s,c,m,g){return ka=g,et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?Fp:rh,yr=!1,g=s(c,m),yr=!1,ul&&(g=op(n,s,c,m)),lp(e),g}function lp(e){U.H=yo;var n=wt!==null&&wt.next!==null;if(ka=0,dn=wt=et=null,Bu=!1,mo=0,cl=null,n)throw Error(o(300));e===null||hn||(e=e.dependencies,e!==null&&ku(e)&&(hn=!0))}function op(e,n,s,c){et=e;var m=0;do{if(ul&&(cl=null),mo=0,ul=!1,25<=m)throw Error(o(301));if(m+=1,dn=wt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=Hp,g=n(s,c)}while(ul);return g}function $0(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?po(n):n,e=e.useState()[0],(wt!==null?wt.memoizedState:null)!==e&&(et.flags|=1024),n}function Qd(){var e=Iu!==0;return Iu=0,e}function Vd(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Gd(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}ka=0,dn=wt=et=null,ul=!1,mo=Iu=0,cl=null}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?et.memoizedState=dn=e:dn=dn.next=e,dn}function rn(){if(wt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var n=dn===null?et.memoizedState:dn.next;if(n!==null)dn=n,wt=e;else{if(e===null)throw et.alternate===null?Error(o(467)):Error(o(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},dn===null?et.memoizedState=dn=e:dn=dn.next=e}return dn}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(e){var n=mo;return mo+=1,cl===null&&(cl=[]),e=Jm(cl,e,n),n=et,(dn===null?n.memoizedState:dn.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Fp:rh),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return po(e);if(e.$$typeof===q)return En(e)}throw Error(o(438,String(e)))}function Yd(e){var n=null,s=et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=et.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=ve;return n.index++,s}function Aa(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=rn();return $d(n,wt,e)}function $d(e,n,s){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var N=m.next;m.next=g.next,g.next=N}n.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{n=m.next;var T=N=null,I=null,de=n,_e=!1;do{var je=de.lane&-536870913;if(je!==de.lane?(ut&je)===je:(ka&je)===je){var me=de.revertLane;if(me===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),je===al&&(_e=!0);else if((ka&me)===me){de=de.next,me===al&&(_e=!0);continue}else je={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},I===null?(T=I=je,N=g):I=I.next=je,et.lanes|=me,ys|=me;je=de.action,yr&&s(g,je),g=de.hasEagerState?de.eagerState:s(g,je)}else me={lane:je,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},I===null?(T=I=me,N=g):I=I.next=me,et.lanes|=je,ys|=je;de=de.next}while(de!==null&&de!==n);if(I===null?N=g:I.next=T,!Nn(g,e.memoizedState)&&(hn=!0,_e&&(s=sl,s!==null)))throw s;e.memoizedState=g,e.baseState=N,e.baseQueue=I,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Xd(e){var n=rn(),s=n.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var c=s.dispatch,m=s.pending,g=n.memoizedState;if(m!==null){s.pending=null;var N=m=m.next;do g=e(g,N.action),N=N.next;while(N!==m);Nn(g,n.memoizedState)||(hn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function up(e,n,s){var c=et,m=rn(),g=st;if(g){if(s===void 0)throw Error(o(407));s=s()}else s=n();var N=!Nn((wt||m).memoizedState,s);if(N&&(m.memoizedState=s,hn=!0),m=m.queue,eh(hp.bind(null,c,m,e),[e]),m.getSnapshot!==n||N||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,dl(9,{destroy:void 0},dp.bind(null,c,m,s,n),null),zt===null)throw Error(o(349));g||(ka&127)!==0||cp(c,n,s)}return s}function cp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=et.updateQueue,n===null?(n=Uu(),et.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function dp(e,n,s,c){n.value=s,n.getSnapshot=c,fp(n)&&mp(e)}function hp(e,n,s){return s(function(){fp(n)&&mp(e)})}function fp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function mp(e){var n=Ei(e,2);n!==null&&ti(n,e,2)}function Jd(e){var n=Zn();if(typeof e=="function"){var s=e;if(e=s(),yr){zn(!0);try{s()}finally{zn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},n}function pp(e,n,s,c){return e.baseState=s,$d(e,wt,typeof c=="function"?c:Aa)}function X0(e,n,s,c,m){if(Ku(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};U.T!==null?s(!0):g.isTransition=!1,c(g),s=n.pending,s===null?(g.next=n.pending=g,gp(n,g)):(g.next=s.next,n.pending=s.next=g)}}function gp(e,n){var s=n.action,c=n.payload,m=e.state;if(n.isTransition){var g=U.T,N={};U.T=N;try{var T=s(m,c),I=U.S;I!==null&&I(N,T),yp(e,n,T)}catch(de){Wd(e,n,de)}finally{g!==null&&N.types!==null&&(g.types=N.types),U.T=g}}else try{g=s(m,c),yp(e,n,g)}catch(de){Wd(e,n,de)}}function yp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){vp(e,n,c)},function(c){return Wd(e,n,c)}):vp(e,n,s)}function vp(e,n,s){n.status="fulfilled",n.value=s,xp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,gp(e,s)))}function Wd(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,xp(n),n=n.next;while(n!==c)}e.action=null}function xp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _p(e,n){return n}function bp(e,n){if(st){var s=zt.formState;if(s!==null){e:{var c=et;if(st){if(mt){t:{for(var m=mt,g=$n;m.nodeType!==8;){if(!g){m=null;break t}if(m=ki(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){mt=ki(m.nextSibling),c=m.data==="F!";break e}}da(c)}c=!1}c&&(n=s[0])}}return s=Zn(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},s.queue=c,s=Up.bind(null,et,c),c.dispatch=s,c=Jd(!1),g=sh.bind(null,et,!1,c.queue),c=Zn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,s=X0.bind(null,et,m,g,s),m.dispatch=s,c.memoizedState=e,[n,s,!1]}function Np(e){var n=rn();return Sp(n,wt,e)}function Sp(e,n,s){if(n=$d(e,n,_p)[0],e=qu(Aa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=po(n)}catch(N){throw N===rl?Ou:N}else c=n;n=rn();var m=n.queue,g=m.dispatch;return s!==n.memoizedState&&(et.flags|=2048,dl(9,{destroy:void 0},J0.bind(null,m,s),null)),[c,g,e]}function J0(e,n){e.action=n}function jp(e){var n=rn(),s=wt;if(s!==null)return Sp(n,s,e);rn(),n=n.memoizedState,s=rn();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function dl(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=et.updateQueue,n===null&&(n=Uu(),et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function wp(){return rn().memoizedState}function Fu(e,n,s,c){var m=Zn();et.flags|=e,m.memoizedState=dl(1|n,{destroy:void 0},s,c===void 0?null:c)}function Hu(e,n,s,c){var m=rn();c=c===void 0?null:c;var g=m.memoizedState.inst;wt!==null&&c!==null&&Hd(c,wt.memoizedState.deps)?m.memoizedState=dl(n,g,s,c):(et.flags|=e,m.memoizedState=dl(1|n,g,s,c))}function Ep(e,n){Fu(8390656,8,e,n)}function eh(e,n){Hu(2048,8,e,n)}function W0(e){et.flags|=4;var n=et.updateQueue;if(n===null)n=Uu(),et.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Tp(e){var n=rn().memoizedState;return W0({ref:n,nextImpl:e}),function(){if((vt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Cp(e,n){return Hu(4,2,e,n)}function kp(e,n){return Hu(4,4,e,n)}function Ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zp(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,Ap.bind(null,n,e),s)}function th(){}function Op(e,n){var s=rn();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&Hd(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function Mp(e,n){var s=rn();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&Hd(n,c[1]))return c[0];if(c=e(),yr){zn(!0);try{e()}finally{zn(!1)}}return s.memoizedState=[c,n],c}function nh(e,n,s){return s===void 0||(ka&1073741824)!==0&&(ut&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Rg(),et.lanes|=e,ys|=e,s)}function Rp(e,n,s,c){return Nn(s,n)?s:ol.current!==null?(e=nh(e,s,c),Nn(e,n)||(hn=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(ut&261930)===0?(hn=!0,e.memoizedState=s):(e=Rg(),et.lanes|=e,ys|=e,n)}function Lp(e,n,s,c,m){var g=se.p;se.p=g!==0&&8>g?g:8;var N=U.T,T={};U.T=T,sh(e,!1,n,s);try{var I=m(),de=U.S;if(de!==null&&de(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var _e=G0(I,c);go(e,n,_e,gi(e))}else go(e,n,c,gi(e))}catch(je){go(e,n,{then:function(){},status:"rejected",reason:je},gi())}finally{se.p=g,N!==null&&T.types!==null&&(N.types=T.types),U.T=N}}function eb(){}function ih(e,n,s,c){if(e.tag!==5)throw Error(o(476));var m=Dp(e).queue;Lp(e,m,n,he,s===null?eb:function(){return Pp(e),s(c)})}function Dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:he},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pp(e){var n=Dp(e);n.next===null&&(n=e.alternate.memoizedState),go(e,n.next.queue,{},gi())}function ah(){return En(Mo)}function Bp(){return rn().memoizedState}function Ip(){return rn().memoizedState}function tb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=gi();e=ds(s);var c=hs(n,e,s);c!==null&&(ti(c,n,s),co(c,n,s)),n={cache:Md()},e.payload=n;return}n=n.return}}function nb(e,n,s){var c=gi();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Zp(n,s):(s=eo(e,n,s,c),s!==null&&(ti(s,e,c),qp(s,n,c)))}function Up(e,n,s){var c=gi();go(e,n,s,c)}function go(e,n,s,c){var m={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Zp(n,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var N=n.lastRenderedState,T=g(N,s);if(m.hasEagerState=!0,m.eagerState=T,Nn(T,N))return ua(e,n,m,0),zt===null&&lr(),!1}catch{}if(s=eo(e,n,m,c),s!==null)return ti(s,e,c),qp(s,n,c),!0}return!1}function sh(e,n,s,c){if(c={lane:2,revertLane:Ph(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(o(479))}else n=eo(e,s,c,2),n!==null&&ti(n,e,2)}function Ku(e){var n=e.alternate;return e===et||n!==null&&n===et}function Zp(e,n){ul=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function qp(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Rr(e,s)}}var yo={readContext:En,use:Zu,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};yo.useEffectEvent=Wt;var Fp={readContext:En,use:Zu,useCallback:function(e,n){return Zn().memoizedState=[e,n===void 0?null:n],e},useContext:En,useEffect:Ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,Ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=Zn();n=n===void 0?null:n;var c=e();if(yr){zn(!0);try{e()}finally{zn(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=Zn();if(s!==void 0){var m=s(n);if(yr){zn(!0);try{s(n)}finally{zn(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=nb.bind(null,et,e),[c.memoizedState,e]},useRef:function(e){var n=Zn();return e={current:e},n.memoizedState=e},useState:function(e){e=Jd(e);var n=e.queue,s=Up.bind(null,et,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:th,useDeferredValue:function(e,n){var s=Zn();return nh(s,e,n)},useTransition:function(){var e=Jd(!1);return e=Lp.bind(null,et,e.queue,!0,!1),Zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=et,m=Zn();if(st){if(s===void 0)throw Error(o(407));s=s()}else{if(s=n(),zt===null)throw Error(o(349));(ut&127)!==0||cp(c,n,s)}m.memoizedState=s;var g={value:s,getSnapshot:n};return m.queue=g,Ep(hp.bind(null,c,g,e),[e]),c.flags|=2048,dl(9,{destroy:void 0},dp.bind(null,c,g,s,n),null),s},useId:function(){var e=Zn(),n=zt.identifierPrefix;if(st){var s=Ce,c=Se;s=(c&~(1<<32-gn(c)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Iu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Y0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ah,useFormState:bp,useActionState:bp,useOptimistic:function(e){var n=Zn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=sh.bind(null,et,!0,s),s.dispatch=n,[e,n]},useMemoCache:Yd,useCacheRefresh:function(){return Zn().memoizedState=tb.bind(null,et)},useEffectEvent:function(e){var n=Zn(),s={impl:e};return n.memoizedState=s,function(){if((vt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},rh={readContext:En,use:Zu,useCallback:Op,useContext:En,useEffect:eh,useImperativeHandle:zp,useInsertionEffect:Cp,useLayoutEffect:kp,useMemo:Mp,useReducer:qu,useRef:wp,useState:function(){return qu(Aa)},useDebugValue:th,useDeferredValue:function(e,n){var s=rn();return Rp(s,wt.memoizedState,e,n)},useTransition:function(){var e=qu(Aa)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:po(e),n]},useSyncExternalStore:up,useId:Bp,useHostTransitionStatus:ah,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var s=rn();return pp(s,wt,e,n)},useMemoCache:Yd,useCacheRefresh:Ip};rh.useEffectEvent=Tp;var Hp={readContext:En,use:Zu,useCallback:Op,useContext:En,useEffect:eh,useImperativeHandle:zp,useInsertionEffect:Cp,useLayoutEffect:kp,useMemo:Mp,useReducer:Xd,useRef:wp,useState:function(){return Xd(Aa)},useDebugValue:th,useDeferredValue:function(e,n){var s=rn();return wt===null?nh(s,e,n):Rp(s,wt.memoizedState,e,n)},useTransition:function(){var e=Xd(Aa)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:po(e),n]},useSyncExternalStore:up,useId:Bp,useHostTransitionStatus:ah,useFormState:jp,useActionState:jp,useOptimistic:function(e,n){var s=rn();return wt!==null?pp(s,wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:Ip};Hp.useEffectEvent=Tp;function lh(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var oh={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=gi(),m=ds(c);m.payload=n,s!=null&&(m.callback=s),n=hs(e,m,c),n!==null&&(ti(n,e,c),co(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=gi(),m=ds(c);m.tag=1,m.payload=n,s!=null&&(m.callback=s),n=hs(e,m,c),n!==null&&(ti(n,e,c),co(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=gi(),c=ds(s);c.tag=2,n!=null&&(c.callback=n),n=hs(e,c,s),n!==null&&(ti(n,e,s),co(n,e,s))}};function Kp(e,n,s,c,m,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,N):n.prototype&&n.prototype.isPureReactComponent?!as(s,c)||!as(m,g):!0}function Qp(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&oh.enqueueReplaceState(n,n.state,null)}function vr(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var m in e)s[m]===void 0&&(s[m]=e[m])}return s}function Vp(e){rr(e)}function Gp(e){console.error(e)}function Yp(e){rr(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function $p(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function uh(e,n,s){return s=ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Xp(e){return e=ds(e),e.tag=3,e}function Jp(e,n,s,c){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){$p(n,s,c)}}var N=s.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){$p(n,s,c),typeof m!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function ib(e,n,s,c,m){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&il(n,s,m,!0),s=hi.current,s!==null){switch(s.tag){case 31:case 13:return Ci===null?ac():s.alternate===null&&en===0&&(en=3),s.flags&=-257,s.flags|=65536,s.lanes=m,c===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),Rh(e,c,m)),!1;case 22:return s.flags|=65536,c===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),Rh(e,c,m)),!1}throw Error(o(435,s.tag))}return Rh(e,c,m),ac(),!1}if(st)return n=hi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==nl&&(e=Error(o(422),{cause:c}),cr(u(e,s)))):(c!==nl&&(n=Error(o(423),{cause:c}),cr(u(n,s))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,s),m=uh(e.stateNode,c,m),Id(e,m),en!==4&&(en=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,s),wo===null?wo=[g]:wo.push(g),en!==4&&(en=2),n===null)return!0;c=u(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=m&-m,s.lanes|=e,e=uh(s.stateNode,c,e),Id(s,e),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vs===null||!vs.has(g))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Xp(m),Jp(m,e,s,c),Id(s,m),!1}s=s.return}while(s!==null);return!1}var ch=Error(o(461)),hn=!1;function Tn(e,n,s,c){n.child=e===null?np(n,null,s,c):gr(n,e.child,s,c)}function Wp(e,n,s,c,m){s=s.render;var g=n.ref;if("ref"in c){var N={};for(var T in c)T!=="ref"&&(N[T]=c[T])}else N=c;return hr(n),c=Kd(e,n,s,N,g,m),T=Qd(),e!==null&&!hn?(Vd(e,n,m),za(e,n,m)):(st&&T&&vn(n),n.flags|=1,Tn(e,n,c,m),n.child)}function eg(e,n,s,c,m){if(e===null){var g=s.type;return typeof g=="function"&&!el(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,tg(e,n,g,c,m)):(e=ur(s.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!vh(e,m)){var N=g.memoizedProps;if(s=s.compare,s=s!==null?s:as,s(N,c)&&e.ref===n.ref)return za(e,n,m)}return n.flags|=1,e=Ti(g,c),e.ref=n.ref,e.return=n,n.child=e}function tg(e,n,s,c,m){if(e!==null){var g=e.memoizedProps;if(as(g,c)&&e.ref===n.ref)if(hn=!1,n.pendingProps=c=g,vh(e,m))(e.flags&131072)!==0&&(hn=!0);else return n.lanes=e.lanes,za(e,n,m)}return dh(e,n,s,c,m)}function ng(e,n,s,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|s:s,e!==null){for(c=n.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,n.child=null;return ig(e,n,g,s,c)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,g!==null?g.cachePool:null),g!==null?sp(n,g):Zd(),rp(n);else return c=n.lanes=536870912,ig(e,n,g!==null?g.baseLanes|s:s,s,c)}else g!==null?(zu(n,g.cachePool),sp(n,g),ms(),n.memoizedState=null):(e!==null&&zu(n,null),Zd(),ms());return Tn(e,n,m,s),n.child}function vo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ig(e,n,s,c,m){var g=Ld();return g=g===null?null:{parent:cn._currentValue,pool:g},n.memoizedState={baseLanes:s,cachePool:g},e!==null&&zu(n,null),Zd(),rp(n),e!==null&&il(e,n,c,!0),n.childLanes=m,null}function Vu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ag(e,n,s){return gr(n,e.child,null,s),e=Vu(n,n.pendingProps),e.flags|=2,fi(n),n.memoizedState=null,e}function ab(e,n,s){var c=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(st){if(c.mode==="hidden")return e=Vu(n,c),n.lanes=536870912,vo(null,e);if(Fd(n),(e=mt)?(e=gy(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fe!==null?{id:Se,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},s=no(e),s.return=n,n.child=s,ft=n,mt=null)):e=null,e===null)throw da(n);return n.lanes=536870912,null}return Vu(n,c)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(Fd(n),m)if(n.flags&256)n.flags&=-257,n=ag(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(hn||il(e,n,s,!1),m=(s&e.childLanes)!==0,hn||m){if(c=zt,c!==null&&(N=Lr(c,s),N!==0&&N!==g.retryLane))throw g.retryLane=N,Ei(e,N),ti(c,e,N),ch;ac(),n=ag(e,n,s)}else e=g.treeContext,mt=ki(N.nextSibling),ft=n,st=!0,ca=null,$n=!1,e!==null&&Un(n,e),n=Vu(n,c),n.flags|=4096;return n}return e=Ti(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function dh(e,n,s,c,m){return hr(n),s=Kd(e,n,s,c,void 0,m),c=Qd(),e!==null&&!hn?(Vd(e,n,m),za(e,n,m)):(st&&c&&vn(n),n.flags|=1,Tn(e,n,s,m),n.child)}function sg(e,n,s,c,m,g){return hr(n),n.updateQueue=null,s=op(n,c,s,m),lp(e),c=Qd(),e!==null&&!hn?(Vd(e,n,g),za(e,n,g)):(st&&c&&vn(n),n.flags|=1,Tn(e,n,s,g),n.child)}function rg(e,n,s,c,m){if(hr(n),n.stateNode===null){var g=wa,N=s.contextType;typeof N=="object"&&N!==null&&(g=En(N)),g=new s(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=oh,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Pd(n),N=s.contextType,g.context=typeof N=="object"&&N!==null?En(N):wa,g.state=n.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(lh(n,s,N,c),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&oh.enqueueReplaceState(g,g.state,null),fo(n,c,g,m),ho(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,I=vr(s,T);g.props=I;var de=g.context,_e=s.contextType;N=wa,typeof _e=="object"&&_e!==null&&(N=En(_e));var je=s.getDerivedStateFromProps;_e=typeof je=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||de!==N)&&Qp(n,g,c,N),cs=!1;var me=n.memoizedState;g.state=me,fo(n,c,g,m),ho(),de=n.memoizedState,T||me!==de||cs?(typeof je=="function"&&(lh(n,s,je,c),de=n.memoizedState),(I=cs||Kp(n,s,I,c,me,de,N))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=de),g.props=c,g.state=de,g.context=N,c=I):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Bd(e,n),N=n.memoizedProps,_e=vr(s,N),g.props=_e,je=n.pendingProps,me=g.context,de=s.contextType,I=wa,typeof de=="object"&&de!==null&&(I=En(de)),T=s.getDerivedStateFromProps,(de=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==je||me!==I)&&Qp(n,g,c,I),cs=!1,me=n.memoizedState,g.state=me,fo(n,c,g,m),ho();var pe=n.memoizedState;N!==je||me!==pe||cs||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof T=="function"&&(lh(n,s,T,c),pe=n.memoizedState),(_e=cs||Kp(n,s,_e,c,me,pe,I)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(de||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,pe,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,pe,I)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=pe),g.props=c,g.state=pe,g.context=I,c=_e):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Gu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=gr(n,e.child,null,m),n.child=gr(n,null,s,m)):Tn(e,n,s,m),n.memoizedState=g.state,e=n.child):e=za(e,n,m),e}function lg(e,n,s,c){return Ta(),n.flags|=256,Tn(e,n,s,c),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:$m()}}function mh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pi),e}function og(e,n,s){var c=n.pendingProps,m=!1,g=(n.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(st){if(m?fs(n):ms(),(e=mt)?(e=gy(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fe!==null?{id:Se,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},s=no(e),s.return=n,n.child=s,ft=n,mt=null)):e=null,e===null)throw da(n);return $h(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,m?(ms(),m=n.mode,T=Yu({mode:"hidden",children:T},m),c=Ea(c,m,s,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=fh(s),c.childLanes=mh(e,N,s),n.memoizedState=hh,vo(null,c)):(fs(n),ph(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(g)n.flags&256?(fs(n),n.flags&=-257,n=gh(e,n,s)):n.memoizedState!==null?(ms(),n.child=e.child,n.flags|=128,n=null):(ms(),T=c.fallback,m=n.mode,c=Yu({mode:"visible",children:c.children},m),T=Ea(T,m,s,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,gr(n,e.child,null,s),c=n.child,c.memoizedState=fh(s),c.childLanes=mh(e,N,s),n.memoizedState=hh,n=vo(null,c));else if(fs(n),$h(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var de=N.dgst;N=de,c=Error(o(419)),c.stack="",c.digest=N,cr({value:c,source:null,stack:null}),n=gh(e,n,s)}else if(hn||il(e,n,s,!1),N=(s&e.childLanes)!==0,hn||N){if(N=zt,N!==null&&(c=Lr(N,s),c!==0&&c!==I.retryLane))throw I.retryLane=c,Ei(e,c),ti(N,e,c),ch;Yh(T)||ac(),n=gh(e,n,s)}else Yh(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,mt=ki(T.nextSibling),ft=n,st=!0,ca=null,$n=!1,e!==null&&Un(n,e),n=ph(n,c.children),n.flags|=4096);return n}return m?(ms(),T=c.fallback,m=n.mode,I=e.child,de=I.sibling,c=Ti(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,de!==null?T=Ti(de,T):(T=Ea(T,m,s,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,vo(null,c),c=n.child,T=e.child.memoizedState,T===null?T=fh(s):(m=T.cachePool,m!==null?(I=cn._currentValue,m=m.parent!==I?{parent:I,pool:I}:m):m=$m(),T={baseLanes:T.baseLanes|s,cachePool:m}),c.memoizedState=T,c.childLanes=mh(e,N,s),n.memoizedState=hh,vo(e.child,c)):(fs(n),s=e.child,e=s.sibling,s=Ti(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=s,n.memoizedState=null,s)}function ph(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=Ln(22,e,null,n),e.lanes=0,e}function gh(e,n,s){return gr(n,e.child,null,s),e=ph(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ug(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),zd(e.return,n,s)}function yh(e,n,s,c,m,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:m,treeForkCount:g}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=s,N.tailMode=m,N.treeForkCount=g)}function cg(e,n,s){var c=n.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var N=sn.current,T=(N&2)!==0;if(T?(N=N&1|2,n.flags|=128):N&=1,P(sn,N),Tn(e,n,c,s),c=st?E:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ug(e,s,n);else if(e.tag===19)ug(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(s=n.child,m=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(m=s),s=s.sibling;s=m,s===null?(m=n.child,n.child=null):(m=s.sibling,s.sibling=null),yh(n,!1,m,s,g,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Pu(e)===null){n.child=m;break}e=m.sibling,m.sibling=s,s=m,m=e}yh(n,!0,s,null,g,c);break;case"together":yh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function za(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(il(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,s=Ti(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ti(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function sb(e,n,s){switch(n.tag){case 3:Ze(n,n.stateNode.containerInfo),us(n,cn,e.memoizedState.cache),Ta();break;case 27:case 5:dt(n);break;case 4:Ze(n,n.stateNode.containerInfo);break;case 10:us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?og(e,n,s):(fs(n),e=za(e,n,s),e!==null?e.sibling:null);fs(n);break;case 19:var m=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(il(e,n,s,!1),c=(s&n.childLanes)!==0),m){if(c)return cg(e,n,s);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),P(sn,sn.current),c)break;return null;case 22:return n.lanes=0,ng(e,n,s,n.pendingProps);case 24:us(n,cn,e.memoizedState.cache)}return za(e,n,s)}function dg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)hn=!0;else{if(!vh(e,s)&&(n.flags&128)===0)return hn=!1,sb(e,n,s);hn=(e.flags&131072)!==0}else hn=!1,st&&(n.flags&1048576)!==0&&tt(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=mr(n.elementType),n.type=e,typeof e=="function")el(e)?(c=vr(e,c),n.tag=1,n=rg(null,n,e,c,s)):(n.tag=0,n=dh(null,n,e,c,s));else{if(e!=null){var m=e.$$typeof;if(m===V){n.tag=11,n=Wp(null,n,e,c,s);break e}else if(m===ee){n.tag=14,n=eg(null,n,e,c,s);break e}}throw n=Z(e)||e,Error(o(306,n,""))}}return n;case 0:return dh(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,m=vr(c,n.pendingProps),rg(e,n,c,m,s);case 3:e:{if(Ze(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;m=g.element,Bd(e,n),fo(n,c,null,s);var N=n.memoizedState;if(c=N.cache,us(n,cn,c),c!==g.cache&&Od(n,[cn],s,!0),ho(),c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=lg(e,n,c,s);break e}else if(c!==m){m=u(Error(o(424)),n),cr(m),n=lg(e,n,c,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,mt=ki(e.firstChild),ft=n,st=!0,ca=null,$n=!0,s=np(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ta(),c===m){n=za(e,n,s);break e}Tn(e,n,c,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:st||(s=n.type,e=n.pendingProps,c=dc(we.current).createElement(s),c[$t]=n,c[un]=e,Cn(c,s,e),Ht(c),n.stateNode=c):n.memoizedState=Ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return dt(n),e===null&&st&&(c=n.stateNode=xy(n.type,n.pendingProps,we.current),ft=n,$n=!0,m=mt,Ns(n.type)?(Xh=m,mt=ki(c.firstChild)):mt=m),Tn(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&st&&((m=c=mt)&&(c=Lb(c,n.type,n.pendingProps,$n),c!==null?(n.stateNode=c,ft=n,mt=ki(c.firstChild),$n=!1,m=!0):m=!1),m||da(n)),dt(n),m=n.type,g=n.pendingProps,N=e!==null?e.memoizedProps:null,c=g.children,Qh(m,g)?c=null:N!==null&&Qh(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=Kd(e,n,$0,null,null,s),Mo._currentValue=m),Gu(e,n),Tn(e,n,c,s),n.child;case 6:return e===null&&st&&((e=s=mt)&&(s=Db(s,n.pendingProps,$n),s!==null?(n.stateNode=s,ft=n,mt=null,e=!0):e=!1),e||da(n)),null;case 13:return og(e,n,s);case 4:return Ze(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=gr(n,null,c,s):Tn(e,n,c,s),n.child;case 11:return Wp(e,n,n.type,n.pendingProps,s);case 7:return Tn(e,n,n.pendingProps,s),n.child;case 8:return Tn(e,n,n.pendingProps.children,s),n.child;case 12:return Tn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,us(n,n.type,c.value),Tn(e,n,c.children,s),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,hr(n),m=En(m),c=c(m),n.flags|=1,Tn(e,n,c,s),n.child;case 14:return eg(e,n,n.type,n.pendingProps,s);case 15:return tg(e,n,n.type,n.pendingProps,s);case 19:return cg(e,n,s);case 31:return ab(e,n,s);case 22:return ng(e,n,s,n.pendingProps);case 24:return hr(n),c=En(cn),e===null?(m=Ld(),m===null&&(m=zt,g=Md(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=s),m=g),n.memoizedState={parent:c,cache:m},Pd(n),us(n,cn,m)):((e.lanes&s)!==0&&(Bd(e,n),fo(n,null,null,s),ho()),m=e.memoizedState,g=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),us(n,cn,c)):(c=g.cache,us(n,cn,c),c!==m.cache&&Od(n,[cn],s,!0))),Tn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Oa(e){e.flags|=4}function xh(e,n,s,c,m){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Bg())e.flags|=8192;else throw pr=Mu,Dd}else e.flags&=-16777217}function hg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ty(n))if(Bg())e.flags|=8192;else throw pr=Mu,Dd}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Mr():536870912,e.lanes|=n,pl|=n)}function xo(e,n){if(!st)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var m=e.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function rb(e,n,s){var c=n.pendingProps;switch(Jt(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Dt(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Ca(cn),qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Hi(n)?Oa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,so())),Dt(n),null;case 26:var m=n.type,g=n.memoizedState;return e===null?(Oa(n),g!==null?(Dt(n),hg(n,g)):(Dt(n),xh(n,m,null,c,s))):g?g!==e.memoizedState?(Oa(n),Dt(n),hg(n,g)):(Dt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Oa(n),Dt(n),xh(n,m,e,c,s)),null;case 27:if(it(n),s=we.current,m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Dt(n),null}e=F.current,Hi(n)?ao(n):(e=xy(m,c,s),n.stateNode=e,Oa(n))}return Dt(n),null;case 5:if(it(n),m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Dt(n),null}if(g=F.current,Hi(n))ao(n);else{var N=dc(we.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?N.createElement(m,{is:c.is}):N.createElement(m)}}g[$t]=n,g[un]=c;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=g;e:switch(Cn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Oa(n)}}return Dt(n),xh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=we.current,Hi(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,m=ft,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[$t]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||oy(e.nodeValue,s)),e||da(n,!0)}else e=dc(e).createTextNode(c),e[$t]=n,n.stateNode=e}return Dt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(c=Hi(n),s!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[$t]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Dt(n),e=!1}else s=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(fi(n),n):(fi(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Dt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Hi(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(o(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[$t]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Dt(n),m=!1}else m=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(fi(n),n):(fi(n),null)}return fi(n),(n.flags&128)!==0?(n.lanes=s,n):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),Dt(n),null);case 4:return qe(),e===null&&Zh(n.stateNode.containerInfo),Dt(n),null;case 10:return Ca(n.type),Dt(n),null;case 19:if(ie(sn),c=n.memoizedState,c===null)return Dt(n),null;if(m=(n.flags&128)!==0,g=c.rendering,g===null)if(m)xo(c,!1);else{if(en!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Pu(e),g!==null){for(n.flags|=128,xo(c,!1),e=g.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)to(s,e),s=s.sibling;return P(sn,sn.current&1|2),st&&Pe(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Ye()>tc&&(n.flags|=128,m=!0,xo(c,!1),n.lanes=4194304)}else{if(!m)if(e=Pu(g),e!==null){if(n.flags|=128,m=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),xo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!st)return Dt(n),null}else 2*Ye()-c.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,m=!0,xo(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ye(),e.sibling=null,s=sn.current,P(sn,m?s&1|2:s&1),st&&Pe(n,c.treeForkCount),e):(Dt(n),null);case 22:case 23:return fi(n),qd(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&ie(fr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ca(cn),Dt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function lb(e,n){switch(Jt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ca(cn),qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return it(n),null;case 31:if(n.memoizedState!==null){if(fi(n),n.alternate===null)throw Error(o(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ie(sn),null;case 4:return qe(),null;case 10:return Ca(n.type),null;case 22:case 23:return fi(n),qd(),e!==null&&ie(fr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ca(cn),null;case 25:return null;default:return null}}function fg(e,n){switch(Jt(n),n.tag){case 3:Ca(cn),qe();break;case 26:case 27:case 5:it(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&fi(n);break;case 13:fi(n);break;case 19:ie(sn);break;case 10:Ca(n.type);break;case 22:case 23:fi(n),qd(),e!==null&&ie(fr);break;case 24:Ca(cn)}}function _o(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var m=c.next;s=m;do{if((s.tag&e)===e){c=void 0;var g=s.create,N=s.inst;c=g(),N.destroy=c}s=s.next}while(s!==m)}}catch(T){bt(n,n.return,T)}}function ps(e,n,s){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var N=c.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,m=n;var I=s,de=T;try{de()}catch(_e){bt(m,I,_e)}}}c=c.next}while(c!==g)}}catch(_e){bt(n,n.return,_e)}}function mg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ap(n,s)}catch(c){bt(e,e.return,c)}}}function pg(e,n,s){s.props=vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){bt(e,n,c)}}function bo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(m){bt(e,n,m)}}function fa(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(m){bt(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){bt(e,n,m)}else s.current=null}function gg(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(m){bt(e,e.return,m)}}function _h(e,n,s){try{var c=e.stateNode;kb(c,e.type,s,n),c[un]=n}catch(m){bt(e,e.return,m)}}function yg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nh(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(c!==4&&(c===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Nh(e,n,s),e=e.sibling;e!==null;)Nh(e,n,s),e=e.sibling}function Xu(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function vg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Cn(n,c,s),n[$t]=e,n[un]=s}catch(g){bt(e,e.return,g)}}var Ma=!1,fn=!1,Sh=!1,xg=typeof WeakSet=="function"?WeakSet:Set,jn=null;function ob(e,n){if(e=e.containerInfo,Hh=vc,e=nr(e),sa(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var N=0,T=-1,I=-1,de=0,_e=0,je=e,me=null;t:for(;;){for(var pe;je!==s||m!==0&&je.nodeType!==3||(T=N+m),je!==g||c!==0&&je.nodeType!==3||(I=N+c),je.nodeType===3&&(N+=je.nodeValue.length),(pe=je.firstChild)!==null;)me=je,je=pe;for(;;){if(je===e)break t;if(me===s&&++de===m&&(T=N),me===g&&++_e===c&&(I=N),(pe=je.nextSibling)!==null)break;je=me,me=je.parentNode}je=pe}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kh={focusedElem:e,selectionRange:s},vc=!1,jn=n;jn!==null;)if(n=jn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,jn=e;else for(;jn!==null;){switch(n=jn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)m=e[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,s=n,m=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var Le=vr(s.type,m);e=c.getSnapshotBeforeUpdate(Le,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){bt(s,s.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Gh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,jn=e;break}jn=n.return}}function _g(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:La(e,s),c&4&&_o(5,s);break;case 1:if(La(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(N){bt(s,s.return,N)}else{var m=vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){bt(s,s.return,N)}}c&64&&mg(s),c&512&&bo(s,s.return);break;case 3:if(La(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ap(e,n)}catch(N){bt(s,s.return,N)}}break;case 27:n===null&&c&4&&vg(s);case 26:case 5:La(e,s),n===null&&c&4&&gg(s),c&512&&bo(s,s.return);break;case 12:La(e,s);break;case 31:La(e,s),c&4&&Sg(e,s);break;case 13:La(e,s),c&4&&jg(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=yb.bind(null,s),Pb(e,s))));break;case 22:if(c=s.memoizedState!==null||Ma,!c){n=n!==null&&n.memoizedState!==null||fn,m=Ma;var g=fn;Ma=c,(fn=n)&&!g?Da(e,s,(s.subtreeFlags&8772)!==0):La(e,s),Ma=m,fn=g}break;case 30:break;default:La(e,s)}}function bg(e){var n=e.alternate;n!==null&&(e.alternate=null,bg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&R(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ut=null,Xn=!1;function Ra(e,n,s){for(s=s.child;s!==null;)Ng(e,n,s),s=s.sibling}function Ng(e,n,s){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(yt,s)}catch{}switch(s.tag){case 26:fn||fa(s,n),Ra(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:fn||fa(s,n);var c=Ut,m=Xn;Ns(s.type)&&(Ut=s.stateNode,Xn=!1),Ra(e,n,s),Ao(s.stateNode),Ut=c,Xn=m;break;case 5:fn||fa(s,n);case 6:if(c=Ut,m=Xn,Ut=null,Ra(e,n,s),Ut=c,Xn=m,Ut!==null)if(Xn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(s.stateNode)}catch(g){bt(s,n,g)}else try{Ut.removeChild(s.stateNode)}catch(g){bt(s,n,g)}break;case 18:Ut!==null&&(Xn?(e=Ut,my(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Sl(e)):my(Ut,s.stateNode));break;case 4:c=Ut,m=Xn,Ut=s.stateNode.containerInfo,Xn=!0,Ra(e,n,s),Ut=c,Xn=m;break;case 0:case 11:case 14:case 15:ps(2,s,n),fn||ps(4,s,n),Ra(e,n,s);break;case 1:fn||(fa(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&pg(s,n,c)),Ra(e,n,s);break;case 21:Ra(e,n,s);break;case 22:fn=(c=fn)||s.memoizedState!==null,Ra(e,n,s),fn=c;break;default:Ra(e,n,s)}}function Sg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Sl(e)}catch(s){bt(n,n.return,s)}}}function jg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(s){bt(n,n.return,s)}}function ub(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xg),n;default:throw Error(o(435,e.tag))}}function Ju(e,n){var s=ub(e);n.forEach(function(c){if(!s.has(c)){s.add(c);var m=vb.bind(null,e,c);c.then(m,m)}})}function Jn(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var m=s[c],g=e,N=n,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(Ns(T.type)){Ut=T.stateNode,Xn=!1;break e}break;case 5:Ut=T.stateNode,Xn=!1;break e;case 3:case 4:Ut=T.stateNode.containerInfo,Xn=!0;break e}T=T.return}if(Ut===null)throw Error(o(160));Ng(g,N,m),Ut=null,Xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wg(n,e),n=n.sibling}var Qi=null;function wg(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(n,e),Wn(e),c&4&&(ps(3,e,e.return),_o(3,e),ps(5,e,e.return));break;case 1:Jn(n,e),Wn(e),c&512&&(fn||s===null||fa(s,s.return)),c&64&&Ma&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var m=Qi;if(Jn(n,e),Wn(e),c&512&&(fn||s===null||fa(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[xa]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Cn(g,c,s),g[$t]=e,Ht(g),c=g;break e;case"link":var N=wy("link","href",m).get(c+(s.href||""));if(N){for(var T=0;T<N.length;T++)if(g=N[T],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){N.splice(T,1);break t}}g=m.createElement(c),Cn(g,c,s),m.head.appendChild(g);break;case"meta":if(N=wy("meta","content",m).get(c+(s.content||""))){for(T=0;T<N.length;T++)if(g=N[T],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){N.splice(T,1);break t}}g=m.createElement(c),Cn(g,c,s),m.head.appendChild(g);break;default:throw Error(o(468,c))}g[$t]=e,Ht(g),c=g}e.stateNode=c}else Ey(m,e.type,e.stateNode);else e.stateNode=jy(m,c,e.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?Ey(m,e.type,e.stateNode):jy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&_h(e,e.memoizedProps,s.memoizedProps)}break;case 27:Jn(n,e),Wn(e),c&512&&(fn||s===null||fa(s,s.return)),s!==null&&c&4&&_h(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Jn(n,e),Wn(e),c&512&&(fn||s===null||fa(s,s.return)),e.flags&32){m=e.stateNode;try{_i(m,"")}catch(Le){bt(e,e.return,Le)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,_h(e,m,s!==null?s.memoizedProps:m)),c&1024&&(Sh=!0);break;case 6:if(Jn(n,e),Wn(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(Le){bt(e,e.return,Le)}}break;case 3:if(mc=null,m=Qi,Qi=hc(n.containerInfo),Jn(n,e),Qi=m,Wn(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Sl(n.containerInfo)}catch(Le){bt(e,e.return,Le)}Sh&&(Sh=!1,Eg(e));break;case 4:c=Qi,Qi=hc(e.stateNode.containerInfo),Jn(n,e),Wn(e),Qi=c;break;case 12:Jn(n,e),Wn(e);break;case 31:Jn(n,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ju(e,c)));break;case 13:Jn(n,e),Wn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=Ye()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ju(e,c)));break;case 22:m=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,de=Ma,_e=fn;if(Ma=de||m,fn=_e||I,Jn(n,e),fn=_e,Ma=de,Wn(e),c&8192)e:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(s===null||I||Ma||fn||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(g=I.stateNode,m)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=I.stateNode;var je=I.memoizedProps.style,me=je!=null&&je.hasOwnProperty("display")?je.display:null;T.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Le){bt(I,I.return,Le)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(Le){bt(I,I.return,Le)}}}else if(n.tag===18){if(s===null){I=n;try{var pe=I.stateNode;m?py(pe,!0):py(I.stateNode,!1)}catch(Le){bt(I,I.return,Le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Ju(e,s))));break;case 19:Jn(n,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ju(e,c)));break;case 30:break;case 21:break;default:Jn(n,e),Wn(e)}}function Wn(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(yg(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var m=s.stateNode,g=bh(e);Xu(e,g,m);break;case 5:var N=s.stateNode;s.flags&32&&(_i(N,""),s.flags&=-33);var T=bh(e);Xu(e,T,N);break;case 3:case 4:var I=s.stateNode.containerInfo,de=bh(e);Nh(e,de,I);break;default:throw Error(o(161))}}catch(_e){bt(e,e.return,_e)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Eg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function La(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_g(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ps(4,n,n.return),xr(n);break;case 1:fa(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&pg(n,n.return,s),xr(n);break;case 27:Ao(n.stateNode);case 26:case 5:fa(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Da(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,g=n,N=g.flags;switch(g.tag){case 0:case 11:case 15:Da(m,g,s),_o(4,g);break;case 1:if(Da(m,g,s),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(de){bt(c,c.return,de)}if(c=g,m=c.updateQueue,m!==null){var T=c.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)ip(I[m],T)}catch(de){bt(c,c.return,de)}}s&&N&64&&mg(g),bo(g,g.return);break;case 27:vg(g);case 26:case 5:Da(m,g,s),s&&c===null&&N&4&&gg(g),bo(g,g.return);break;case 12:Da(m,g,s);break;case 31:Da(m,g,s),s&&N&4&&Sg(m,g);break;case 13:Da(m,g,s),s&&N&4&&jg(m,g);break;case 22:g.memoizedState===null&&Da(m,g,s),bo(g,g.return);break;case 30:break;default:Da(m,g,s)}n=n.sibling}}function jh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ro(s))}function wh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ro(e))}function Vi(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(e,n,s,c),n=n.sibling}function Tg(e,n,s,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Vi(e,n,s,c),m&2048&&_o(9,n);break;case 1:Vi(e,n,s,c);break;case 3:Vi(e,n,s,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ro(e)));break;case 12:if(m&2048){Vi(e,n,s,c),e=n.stateNode;try{var g=n.memoizedProps,N=g.id,T=g.onPostCommit;typeof T=="function"&&T(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){bt(n,n.return,I)}}else Vi(e,n,s,c);break;case 31:Vi(e,n,s,c);break;case 13:Vi(e,n,s,c);break;case 23:break;case 22:g=n.stateNode,N=n.alternate,n.memoizedState!==null?g._visibility&2?Vi(e,n,s,c):No(e,n):g._visibility&2?Vi(e,n,s,c):(g._visibility|=2,hl(e,n,s,c,(n.subtreeFlags&10256)!==0||!1)),m&2048&&jh(N,n);break;case 24:Vi(e,n,s,c),m&2048&&wh(n.alternate,n);break;default:Vi(e,n,s,c)}}function hl(e,n,s,c,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,N=n,T=s,I=c,de=N.flags;switch(N.tag){case 0:case 11:case 15:hl(g,N,T,I,m),_o(8,N);break;case 23:break;case 22:var _e=N.stateNode;N.memoizedState!==null?_e._visibility&2?hl(g,N,T,I,m):No(g,N):(_e._visibility|=2,hl(g,N,T,I,m)),m&&de&2048&&jh(N.alternate,N);break;case 24:hl(g,N,T,I,m),m&&de&2048&&wh(N.alternate,N);break;default:hl(g,N,T,I,m)}n=n.sibling}}function No(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,m=c.flags;switch(c.tag){case 22:No(s,c),m&2048&&jh(c.alternate,c);break;case 24:No(s,c),m&2048&&wh(c.alternate,c);break;default:No(s,c)}n=n.sibling}}var So=8192;function fl(e,n,s){if(e.subtreeFlags&So)for(e=e.child;e!==null;)Cg(e,n,s),e=e.sibling}function Cg(e,n,s){switch(e.tag){case 26:fl(e,n,s),e.flags&So&&e.memoizedState!==null&&Yb(s,Qi,e.memoizedState,e.memoizedProps);break;case 5:fl(e,n,s);break;case 3:case 4:var c=Qi;Qi=hc(e.stateNode.containerInfo),fl(e,n,s),Qi=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=So,So=16777216,fl(e,n,s),So=c):fl(e,n,s));break;default:fl(e,n,s)}}function kg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];jn=c,zg(c,e)}kg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ag(e),e=e.sibling}function Ag(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&ps(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):jo(e);break;default:jo(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];jn=c,zg(c,e)}kg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ps(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function zg(e,n){for(;jn!==null;){var s=jn;switch(s.tag){case 0:case 11:case 15:ps(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ro(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,jn=c;else e:for(s=e;jn!==null;){c=jn;var m=c.sibling,g=c.return;if(bg(c),c===s){jn=null;break e}if(m!==null){m.return=g,jn=m;break e}jn=g}}}var cb={getCacheForType:function(e){var n=En(cn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return En(cn).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,vt=0,zt=null,rt=null,ut=0,_t=0,mi=null,gs=!1,ml=!1,Eh=!1,Pa=0,en=0,ys=0,_r=0,Th=0,pi=0,pl=0,wo=null,ei=null,Ch=!1,ec=0,Og=0,tc=1/0,nc=null,vs=null,xn=0,xs=null,gl=null,Ba=0,kh=0,Ah=null,Mg=null,Eo=0,zh=null;function gi(){return(vt&2)!==0&&ut!==0?ut&-ut:U.T!==null?Ph():Is()}function Rg(){if(pi===0)if((ut&536870912)===0||st){var e=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),pi=e}else pi=536870912;return e=hi.current,e!==null&&(e.flags|=32),pi}function ti(e,n,s){(e===zt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(yl(e,0),_s(e,ut,pi,!1)),ri(e,s),((vt&2)===0||e!==zt)&&(e===zt&&((vt&2)===0&&(_r|=s),en===4&&_s(e,ut,pi,!1)),ma(e))}function Lg(e,n,s){if((vt&6)!==0)throw Error(o(327));var c=!s&&(n&127)===0&&(n&e.expiredLanes)===0||si(e,n),m=c?mb(e,n):Mh(e,n,!0),g=c;do{if(m===0){ml&&!c&&_s(e,n,0,!1);break}else{if(s=e.current.alternate,g&&!hb(s)){m=Mh(e,n,!1),g=!1;continue}if(m===2){if(g=n,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var T=e;m=wo;var I=T.current.memoizedState.isDehydrated;if(I&&(yl(T,N).flags|=256),N=Mh(T,N,!1),N!==2){if(Eh&&!I){T.errorRecoveryDisabledLanes|=g,_r|=g,m=4;break e}g=ei,ei=m,g!==null&&(ei===null?ei=g:ei.push.apply(ei,g))}m=N}if(g=!1,m!==2)continue}}if(m===1){yl(e,0),_s(e,n,0,!0);break}e:{switch(c=e,g=m,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:_s(c,n,pi,!gs);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(m=ec+300-Ye(),10<m)){if(_s(c,n,pi,!gs),ea(c,0,!0)!==0)break e;Ba=n,c.timeoutHandle=hy(Dg.bind(null,c,s,ei,nc,Ch,n,pi,_r,pl,gs,g,"Throttled",-0,0),m);break e}Dg(c,s,ei,nc,Ch,n,pi,_r,pl,gs,g,null,-0,0)}}break}while(!0);ma(e)}function Dg(e,n,s,c,m,g,N,T,I,de,_e,je,me,pe){if(e.timeoutHandle=-1,je=n.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Cg(n,g,je);var Le=(g&62914560)===g?ec-Ye():(g&4194048)===g?Og-Ye():0;if(Le=$b(je,Le),Le!==null){Ba=g,e.cancelPendingCommit=Le(Hg.bind(null,e,n,g,s,c,m,N,T,I,_e,je,null,me,pe)),_s(e,g,N,!de);return}}Hg(e,n,g,s,c,m,N,T,I)}function hb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var m=s[c],g=m.getSnapshot;m=m.value;try{if(!Nn(g(),m))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _s(e,n,s,c){n&=~Th,n&=~_r,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var g=31-gn(m),N=1<<g;c[g]=-1,m&=~N}s!==0&&va(e,s,n)}function ic(){return(vt&6)===0?(To(0),!1):!0}function Oh(){if(rt!==null){if(_t===0)var e=rt.return;else e=rt,Ki=ha=null,Gd(e),ll=null,oo=0,e=rt;for(;e!==null;)fg(e.alternate,e),e=e.return;rt=null}}function yl(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ob(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ba=0,Oh(),zt=e,rt=s=Ti(e.current,null),ut=n,_t=0,mi=null,gs=!1,ml=si(e,n),Eh=!1,pl=pi=Th=_r=ys=en=0,ei=wo=null,Ch=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-gn(c),g=1<<m;n|=e[m],c&=~g}return Pa=n,lr(),s}function Pg(e,n){et=null,U.H=yo,n===rl||n===Ou?(n=Wm(),_t=3):n===Dd?(n=Wm(),_t=4):_t=n===ch?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mi=n,rt===null&&(en=1,Qu(e,u(n,e.current)))}function Bg(){var e=hi.current;return e===null?!0:(ut&4194048)===ut?Ci===null:(ut&62914560)===ut||(ut&536870912)!==0?e===Ci:!1}function Ig(){var e=U.H;return U.H=yo,e===null?yo:e}function Ug(){var e=U.A;return U.A=cb,e}function ac(){en=4,gs||(ut&4194048)!==ut&&hi.current!==null||(ml=!0),(ys&134217727)===0&&(_r&134217727)===0||zt===null||_s(zt,ut,pi,!1)}function Mh(e,n,s){var c=vt;vt|=2;var m=Ig(),g=Ug();(zt!==e||ut!==n)&&(nc=null,yl(e,n)),n=!1;var N=en;e:do try{if(_t!==0&&rt!==null){var T=rt,I=mi;switch(_t){case 8:Oh(),N=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(n=!0);var de=_t;if(_t=0,mi=null,vl(e,T,I,de),s&&ml){N=0;break e}break;default:de=_t,_t=0,mi=null,vl(e,T,I,de)}}fb(),N=en;break}catch(_e){Pg(e,_e)}while(!0);return n&&e.shellSuspendCounter++,Ki=ha=null,vt=c,U.H=m,U.A=g,rt===null&&(zt=null,ut=0,lr()),N}function fb(){for(;rt!==null;)Zg(rt)}function mb(e,n){var s=vt;vt|=2;var c=Ig(),m=Ug();zt!==e||ut!==n?(nc=null,tc=Ye()+500,yl(e,n)):ml=si(e,n);e:do try{if(_t!==0&&rt!==null){n=rt;var g=mi;t:switch(_t){case 1:_t=0,mi=null,vl(e,n,g,1);break;case 2:case 9:if(Xm(g)){_t=0,mi=null,qg(n);break}n=function(){_t!==2&&_t!==9||zt!==e||(_t=7),ma(e)},g.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Xm(g)?(_t=0,mi=null,qg(n)):(_t=0,mi=null,vl(e,n,g,7));break;case 5:var N=null;switch(rt.tag){case 26:N=rt.memoizedState;case 5:case 27:var T=rt;if(N?Ty(N):T.stateNode.complete){_t=0,mi=null;var I=T.sibling;if(I!==null)rt=I;else{var de=T.return;de!==null?(rt=de,sc(de)):rt=null}break t}}_t=0,mi=null,vl(e,n,g,5);break;case 6:_t=0,mi=null,vl(e,n,g,6);break;case 8:Oh(),en=6;break e;default:throw Error(o(462))}}pb();break}catch(_e){Pg(e,_e)}while(!0);return Ki=ha=null,U.H=c,U.A=m,vt=s,rt!==null?0:(zt=null,ut=0,lr(),en)}function pb(){for(;rt!==null&&!Ve();)Zg(rt)}function Zg(e){var n=dg(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,n===null?sc(e):rt=n}function qg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=sg(s,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=sg(s,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:Gd(n);default:fg(s,n),n=rt=to(n,Pa),n=dg(s,n,Pa)}e.memoizedProps=e.pendingProps,n===null?sc(e):rt=n}function vl(e,n,s,c){Ki=ha=null,Gd(n),ll=null,oo=0;var m=n.return;try{if(ib(e,m,n,s,ut)){en=1,Qu(e,u(s,e.current)),rt=null;return}}catch(g){if(m!==null)throw rt=m,g;en=1,Qu(e,u(s,e.current)),rt=null;return}n.flags&32768?(st||c===1?e=!0:ml||(ut&536870912)!==0?e=!1:(gs=e=!0,(c===2||c===9||c===3||c===6)&&(c=hi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Fg(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Fg(n,gs);return}e=n.return;var s=rb(n.alternate,n,Pa);if(s!==null){rt=s;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);en===0&&(en=5)}function Fg(e,n){do{var s=lb(e.alternate,e);if(s!==null){s.flags&=32767,rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){rt=e;return}rt=e=s}while(e!==null);en=6,rt=null}function Hg(e,n,s,c,m,g,N,T,I){e.cancelPendingCommit=null;do rc();while(xn!==0);if((vt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=Wr,Dl(e,s,g,N,T,I),e===zt&&(rt=zt=null,ut=0),gl=n,xs=e,Ba=s,kh=g,Ah=m,Mg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xb(St,function(){return Yg(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,m=se.p,se.p=2,N=vt,vt|=4;try{ob(e,n,s)}finally{vt=N,se.p=m,U.T=c}}xn=1,Kg(),Qg(),Vg()}}function Kg(){if(xn===1){xn=0;var e=xs,n=gl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var c=se.p;se.p=2;var m=vt;vt|=4;try{wg(n,e);var g=Kh,N=nr(e.containerInfo),T=g.focusedElem,I=g.selectionRange;if(N!==T&&T&&T.ownerDocument&&Yr(T.ownerDocument.documentElement,T)){if(I!==null&&sa(T)){var de=I.start,_e=I.end;if(_e===void 0&&(_e=de),"selectionStart"in T)T.selectionStart=de,T.selectionEnd=Math.min(_e,T.value.length);else{var je=T.ownerDocument||document,me=je&&je.defaultView||window;if(me.getSelection){var pe=me.getSelection(),Le=T.textContent.length,Fe=Math.min(I.start,Le),Tt=I.end===void 0?Fe:Math.min(I.end,Le);!pe.extend&&Fe>Tt&&(N=Tt,Tt=Fe,Fe=N);var te=tr(T,Fe),K=tr(T,Tt);if(te&&K&&(pe.rangeCount!==1||pe.anchorNode!==te.node||pe.anchorOffset!==te.offset||pe.focusNode!==K.node||pe.focusOffset!==K.offset)){var ue=je.createRange();ue.setStart(te.node,te.offset),pe.removeAllRanges(),Fe>Tt?(pe.addRange(ue),pe.extend(K.node,K.offset)):(ue.setEnd(K.node,K.offset),pe.addRange(ue))}}}}for(je=[],pe=T;pe=pe.parentNode;)pe.nodeType===1&&je.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<je.length;T++){var be=je[T];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}vc=!!Hh,Kh=Hh=null}finally{vt=m,se.p=c,U.T=s}}e.current=n,xn=2}}function Qg(){if(xn===2){xn=0;var e=xs,n=gl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var c=se.p;se.p=2;var m=vt;vt|=4;try{_g(e,n.alternate,n)}finally{vt=m,se.p=c,U.T=s}}xn=3}}function Vg(){if(xn===4||xn===3){xn=0,kt();var e=xs,n=gl,s=Ba,c=Mg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xn=5:(xn=0,gl=xs=null,Gg(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(vs=null),Re(s),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(yt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=U.T,m=se.p,se.p=2,U.T=null;try{for(var g=e.onRecoverableError,N=0;N<c.length;N++){var T=c[N];g(T.value,{componentStack:T.stack})}}finally{U.T=n,se.p=m}}(Ba&3)!==0&&rc(),ma(e),m=e.pendingLanes,(s&261930)!==0&&(m&42)!==0?e===zh?Eo++:(Eo=0,zh=e):Eo=0,To(0)}}function Gg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ro(n)))}function rc(){return Kg(),Qg(),Vg(),Yg()}function Yg(){if(xn!==5)return!1;var e=xs,n=kh;kh=0;var s=Re(Ba),c=U.T,m=se.p;try{se.p=32>s?32:s,U.T=null,s=Ah,Ah=null;var g=xs,N=Ba;if(xn=0,gl=xs=null,Ba=0,(vt&6)!==0)throw Error(o(331));var T=vt;if(vt|=4,Ag(g.current),Tg(g,g.current,N,s),vt=T,To(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{se.p=m,U.T=c,Gg(e,n)}}function $g(e,n,s){n=u(s,n),n=uh(e.stateNode,n,2),e=hs(e,n,2),e!==null&&(ri(e,2),ma(e))}function bt(e,n,s){if(e.tag===3)$g(e,e,s);else for(;n!==null;){if(n.tag===3){$g(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vs===null||!vs.has(c))){e=u(s,e),s=Xp(2),c=hs(n,s,2),c!==null&&(Jp(s,c,n,e),ri(c,2),ma(c));break}}n=n.return}}function Rh(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new db;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(s)||(Eh=!0,m.add(s),e=gb.bind(null,e,n,s),n.then(e,e))}function gb(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,zt===e&&(ut&s)===s&&(en===4||en===3&&(ut&62914560)===ut&&300>Ye()-ec?(vt&2)===0&&yl(e,0):Th|=s,pl===ut&&(pl=0)),ma(e)}function Xg(e,n){n===0&&(n=Mr()),e=Ei(e,n),e!==null&&(ri(e,n),ma(e))}function yb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Xg(e,s)}function vb(e,n){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(s=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),Xg(e,s)}function xb(e,n){return J(e,n)}var lc=null,xl=null,Lh=!1,oc=!1,Dh=!1,bs=0;function ma(e){e!==xl&&e.next===null&&(xl===null?lc=xl=e:xl=xl.next=e),oc=!0,Lh||(Lh=!0,bb())}function To(e,n){if(!Dh&&oc){Dh=!0;do for(var s=!1,c=lc;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var N=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-gn(42|e)+1)-1,g&=m&~(N&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,ty(c,g))}else g=ut,g=ea(c,c===zt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||si(c,g)||(s=!0,ty(c,g));c=c.next}while(s);Dh=!1}}function _b(){Jg()}function Jg(){oc=Lh=!1;var e=0;bs!==0&&zb()&&(e=bs);for(var n=Ye(),s=null,c=lc;c!==null;){var m=c.next,g=Wg(c,n);g===0?(c.next=null,s===null?lc=m:s.next=m,m===null&&(xl=s)):(s=c,(e!==0||(g&3)!==0)&&(oc=!0)),c=m}xn!==0&&xn!==5||To(e),bs!==0&&(bs=0)}function Wg(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-gn(g),T=1<<N,I=m[N];I===-1?((T&s)===0||(T&c)!==0)&&(m[N]=Or(T,n)):I<=n&&(e.expiredLanes|=T),g&=~T}if(n=zt,s=ut,s=ea(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Te(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||si(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&Te(c),Re(s)){case 2:case 8:s=Ae;break;case 32:s=St;break;case 268435456:s=pn;break;default:s=St}return c=ey.bind(null,e),s=J(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&Te(c),e.callbackPriority=2,e.callbackNode=null,2}function ey(e,n){if(xn!==0&&xn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var c=ut;return c=ea(e,e===zt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Lg(e,c,n),Wg(e,Ye()),e.callbackNode!=null&&e.callbackNode===s?ey.bind(null,e):null)}function ty(e,n){if(rc())return null;Lg(e,n,!0)}function bb(){Mb(function(){(vt&6)!==0?J(Q,_b):Jg()})}function Ph(){if(bs===0){var e=al;e===0&&(e=Li,Li<<=1,(Li&261888)===0&&(Li=256)),bs=e}return bs}function ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$a(""+e)}function iy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Nb(e,n,s,c,m){if(n==="submit"&&s&&s.stateNode===m){var g=ny((m[un]||null).action),N=c.submitter;N&&(n=(n=N[un]||null)?ny(n.formAction):N.getAttribute("formAction"),n!==null&&(g=n,N=null));var T=new qr("action","action",null,c,m);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var I=N?iy(m,N):new FormData(m);ih(s,{pending:!0,data:I,method:m.method,action:g},null,I)}}else typeof g=="function"&&(T.preventDefault(),I=N?iy(m,N):new FormData(m),ih(s,{pending:!0,data:I,method:m.method,action:g},g,I))},currentTarget:m}]})}}for(var Bh=0;Bh<oa.length;Bh++){var Ih=oa[Bh],Sb=Ih.toLowerCase(),jb=Ih[0].toUpperCase()+Ih.slice(1);Gn(Sb,"on"+jb)}Gn(ar,"onAnimationEnd"),Gn(Eu,"onAnimationIteration"),Gn(sr,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Cd,"onTransitionRun"),Gn(Tu,"onTransitionStart"),Gn(kd,"onTransitionCancel"),Gn(ls,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function ay(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],m=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var N=c.length-1;0<=N;N--){var T=c[N],I=T.instance,de=T.currentTarget;if(T=T.listener,I!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=de;try{g(m)}catch(_e){rr(_e)}m.currentTarget=null,g=I}else for(N=0;N<c.length;N++){if(T=c[N],I=T.instance,de=T.currentTarget,T=T.listener,I!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=de;try{g(m)}catch(_e){rr(_e)}m.currentTarget=null,g=I}}}}function lt(e,n){var s=n[xi];s===void 0&&(s=n[xi]=new Set);var c=e+"__bubble";s.has(c)||(sy(n,e,2,!1),s.add(c))}function Uh(e,n,s){var c=0;n&&(c|=4),sy(s,e,c,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function Zh(e){if(!e[uc]){e[uc]=!0,Us.forEach(function(s){s!=="selectionchange"&&(wb.has(s)||Uh(s,!1,e),Uh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,Uh("selectionchange",!1,n))}}function sy(e,n,s,c){switch(Ry(n)){case 2:var m=Wb;break;case 8:m=eN;break;default:m=nf}s=m.bind(null,n,s,e),m=void 0,!Qs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,s,{capture:!0,passive:m}):e.addEventListener(n,s,!0):m!==void 0?e.addEventListener(n,s,{passive:m}):e.addEventListener(n,s,!1)}function qh(e,n,s,c,m){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var T=c.stateNode.containerInfo;if(T===m)break;if(N===4)for(N=c.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;T!==null;){if(N=ze(T),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){c=g=N;continue e}T=T.parentNode}}c=c.return}Hl(function(){var de=g,_e=Ks(s),je=[];e:{var me=Cu.get(e);if(me!==void 0){var pe=qr,Le=e;switch(e){case"keypress":if(Vs(s)===0)break e;case"keydown":case"keyup":pe=mu;break;case"focusin":Le="focus",pe=Vl;break;case"focusout":Le="blur",pe=Vl;break;case"beforeblur":case"afterblur":pe=Vl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Nd;break;case ar:case Eu:case sr:pe=Gl;break;case ls:pe=yu;break;case"scroll":case"scrollend":pe=ot;break;case"wheel":pe=ja;break;case"copy":case"cut":case"paste":pe=Ni;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=pu;break;case"toggle":case"beforetoggle":pe=$s}var Fe=(n&4)!==0,Tt=!Fe&&(e==="scroll"||e==="scrollend"),te=Fe?me!==null?me+"Capture":null:me;Fe=[];for(var K=de,ue;K!==null;){var be=K;if(ue=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ue===null||te===null||(be=Na(K,te),be!=null&&Fe.push(ko(K,be,ue))),Tt)break;K=K.return}0<Fe.length&&(me=new pe(me,Le,null,s,_e),je.push({event:me,listeners:Fe}))}}if((n&7)===0){e:{if(me=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",me&&s!==Zr&&(Le=s.relatedTarget||s.fromElement)&&(ze(Le)||Le[Pi]))break e;if((pe||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,pe?(Le=s.relatedTarget||s.toElement,pe=de,Le=Le?ze(Le):null,Le!==null&&(Tt=f(Le),Fe=Le.tag,Le!==Tt||Fe!==5&&Fe!==27&&Fe!==6)&&(Le=null)):(pe=null,Le=de),pe!==Le)){if(Fe=uu,be="onMouseLeave",te="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=pu,be="onPointerLeave",te="onPointerEnter",K="pointer"),Tt=pe==null?me:Mn(pe),ue=Le==null?me:Mn(Le),me=new Fe(be,K+"leave",pe,s,_e),me.target=Tt,me.relatedTarget=ue,be=null,ze(_e)===de&&(Fe=new Fe(te,K+"enter",Le,s,_e),Fe.target=ue,Fe.relatedTarget=Tt,be=Fe),Tt=be,pe&&Le)t:{for(Fe=Eb,te=pe,K=Le,ue=0,be=te;be;be=Fe(be))ue++;be=0;for(var Ie=K;Ie;Ie=Fe(Ie))be++;for(;0<ue-be;)te=Fe(te),ue--;for(;0<be-ue;)K=Fe(K),be--;for(;ue--;){if(te===K||K!==null&&te===K.alternate){Fe=te;break t}te=Fe(te),K=Fe(K)}Fe=null}else Fe=null;pe!==null&&ry(je,me,pe,Fe,!1),Le!==null&&Tt!==null&&ry(je,Tt,Le,Fe,!0)}}e:{if(me=de?Mn(de):window,pe=me.nodeName&&me.nodeName.toLowerCase(),pe==="select"||pe==="input"&&me.type==="file")var pt=er;else if(Si(me))if(bu)pt=Td;else{pt=Ed;var De=qi}else pe=me.nodeName,!pe||pe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?de&&Hs(de.elementType)&&(pt=er):pt=is;if(pt&&(pt=pt(e,de))){_u(je,pt,s,_e);break e}De&&De(e,me,de),e==="focusout"&&de&&me.type==="number"&&de.memoizedProps.value!=null&&Ii(me,"number",me.value)}switch(De=de?Mn(de):window,e){case"focusin":(Si(De)||De.contentEditable==="true")&&(ra=De,Xr=de,ir=null);break;case"focusout":ir=Xr=ra=null;break;case"mousedown":ss=!0;break;case"contextmenu":case"mouseup":case"dragend":ss=!1,ju(je,s,_e);break;case"selectionchange":if($r)break;case"keydown":case"keyup":ju(je,s,_e)}var nt;if(Hr)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else es?xu(e,s)&&(ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(Kr&&s.locale!=="ko"&&(es||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&es&&(nt=ia()):(bi=_e,Sa="value"in bi?bi.value:bi.textContent,es=!0)),De=cc(de,ct),0<De.length&&(ct=new Yl(ct,e,null,s,_e),je.push({event:ct,listeners:De}),nt?ct.data=nt:(nt=Wl(s),nt!==null&&(ct.data=nt)))),(nt=jd?di(e,s):ts(e,s))&&(ct=cc(de,"onBeforeInput"),0<ct.length&&(De=new Yl("onBeforeInput","beforeinput",null,s,_e),je.push({event:De,listeners:ct}),De.data=nt)),Nb(je,e,de,s,_e)}ay(je,n)})}function ko(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Na(e,s),m!=null&&c.unshift(ko(e,m,g)),m=Na(e,n),m!=null&&c.push(ko(e,m,g))),e.tag===3)return c;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ry(e,n,s,c,m){for(var g=n._reactName,N=[];s!==null&&s!==c;){var T=s,I=T.alternate,de=T.stateNode;if(T=T.tag,I!==null&&I===c)break;T!==5&&T!==26&&T!==27||de===null||(I=de,m?(de=Na(s,g),de!=null&&N.unshift(ko(s,de,I))):m||(de=Na(s,g),de!=null&&N.push(ko(s,de,I)))),s=s.return}N.length!==0&&e.push({event:n,listeners:N})}var Tb=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function ly(e){return(typeof e=="string"?e:""+e).replace(Tb,`
`).replace(Cb,"")}function oy(e,n){return n=ly(n),ly(e)===n}function Et(e,n,s,c,m,g){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||_i(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&_i(e,""+c);break;case"className":jt(e,"class",c);break;case"tabIndex":jt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jt(e,s,c);break;case"style":Ir(e,c,g);break;case"data":if(n!=="object"){jt(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=$a(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(n!=="input"&&Et(e,n,"name",m.name,m,null),Et(e,n,"formEncType",m.formEncType,m,null),Et(e,n,"formMethod",m.formMethod,m,null),Et(e,n,"formTarget",m.formTarget,m,null)):(Et(e,n,"encType",m.encType,m,null),Et(e,n,"method",m.method,m,null),Et(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=$a(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=Qn);break;case"onScroll":c!=null&&lt("scroll",e);break;case"onScrollEnd":c!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=$a(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":lt("beforetoggle",e),lt("toggle",e),at(e,"popover",c);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":at(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ur.get(s)||s,at(e,s,c))}}function Fh(e,n,s,c,m,g){switch(s){case"style":Ir(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof c=="string"?_i(e,c):(typeof c=="number"||typeof c=="bigint")&&_i(e,""+c);break;case"onScroll":c!=null&&lt("scroll",e);break;case"onScrollEnd":c!=null&&lt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lu.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),n=s.slice(2,m?s.length-7:void 0),g=e[un]||null,g=g!=null?g[s]:null,typeof g=="function"&&e.removeEventListener(n,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,m);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):at(e,s,c)}}}function Cn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var c=!1,m=!1,g;for(g in s)if(s.hasOwnProperty(g)){var N=s[g];if(N!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Et(e,n,g,N,s,null)}}m&&Et(e,n,"srcSet",s.srcSet,s,null),c&&Et(e,n,"src",s.src,s,null);return;case"input":lt("invalid",e);var T=g=N=m=null,I=null,de=null;for(c in s)if(s.hasOwnProperty(c)){var _e=s[c];if(_e!=null)switch(c){case"name":m=_e;break;case"type":N=_e;break;case"checked":I=_e;break;case"defaultChecked":de=_e;break;case"value":g=_e;break;case"defaultValue":T=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(o(137,n));break;default:Et(e,n,c,_e,s,null)}}Fs(e,g,T,I,de,N,m,!1);return;case"select":lt("invalid",e),c=N=g=null;for(m in s)if(s.hasOwnProperty(m)&&(T=s[m],T!=null))switch(m){case"value":g=T;break;case"defaultValue":N=T;break;case"multiple":c=T;default:Et(e,n,m,T,s,null)}n=g,s=N,e.multiple=!!c,n!=null?At(e,!!c,n,!1):s!=null&&At(e,!!c,s,!0);return;case"textarea":lt("invalid",e),g=m=c=null;for(N in s)if(s.hasOwnProperty(N)&&(T=s[N],T!=null))switch(N){case"value":c=T;break;case"defaultValue":m=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Et(e,n,N,T,s,null)}Ga(e,c,m,g);return;case"option":for(I in s)s.hasOwnProperty(I)&&(c=s[I],c!=null)&&(I==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Et(e,n,I,c,s,null));return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(c=0;c<Co.length;c++)lt(Co[c],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in s)if(s.hasOwnProperty(de)&&(c=s[de],c!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Et(e,n,de,c,s,null)}return;default:if(Hs(n)){for(_e in s)s.hasOwnProperty(_e)&&(c=s[_e],c!==void 0&&Fh(e,n,_e,c,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(c=s[T],c!=null&&Et(e,n,T,c,s,null))}function kb(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,N=null,T=null,I=null,de=null,_e=null;for(pe in s){var je=s[pe];if(s.hasOwnProperty(pe)&&je!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":I=je;default:c.hasOwnProperty(pe)||Et(e,n,pe,null,c,je)}}for(var me in c){var pe=c[me];if(je=s[me],c.hasOwnProperty(me)&&(pe!=null||je!=null))switch(me){case"type":g=pe;break;case"name":m=pe;break;case"checked":de=pe;break;case"defaultChecked":_e=pe;break;case"value":N=pe;break;case"defaultValue":T=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(o(137,n));break;default:pe!==je&&Et(e,n,me,pe,c,je)}}Zl(e,N,T,I,de,_e,g,m);return;case"select":pe=N=T=me=null;for(g in s)if(I=s[g],s.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":pe=I;default:c.hasOwnProperty(g)||Et(e,n,g,null,c,I)}for(m in c)if(g=c[m],I=s[m],c.hasOwnProperty(m)&&(g!=null||I!=null))switch(m){case"value":me=g;break;case"defaultValue":T=g;break;case"multiple":N=g;default:g!==I&&Et(e,n,m,g,c,I)}n=T,s=N,c=pe,me!=null?At(e,!!s,me,!1):!!c!=!!s&&(n!=null?At(e,!!s,n,!0):At(e,!!s,s?[]:"",!1));return;case"textarea":pe=me=null;for(T in s)if(m=s[T],s.hasOwnProperty(T)&&m!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Et(e,n,T,null,c,m)}for(N in c)if(m=c[N],g=s[N],c.hasOwnProperty(N)&&(m!=null||g!=null))switch(N){case"value":me=m;break;case"defaultValue":pe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==g&&Et(e,n,N,m,c,g)}na(e,me,pe);return;case"option":for(var Le in s)me=s[Le],s.hasOwnProperty(Le)&&me!=null&&!c.hasOwnProperty(Le)&&(Le==="selected"?e.selected=!1:Et(e,n,Le,null,c,me));for(I in c)me=c[I],pe=s[I],c.hasOwnProperty(I)&&me!==pe&&(me!=null||pe!=null)&&(I==="selected"?e.selected=me&&typeof me!="function"&&typeof me!="symbol":Et(e,n,I,me,c,pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in s)me=s[Fe],s.hasOwnProperty(Fe)&&me!=null&&!c.hasOwnProperty(Fe)&&Et(e,n,Fe,null,c,me);for(de in c)if(me=c[de],pe=s[de],c.hasOwnProperty(de)&&me!==pe&&(me!=null||pe!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,n));break;default:Et(e,n,de,me,c,pe)}return;default:if(Hs(n)){for(var Tt in s)me=s[Tt],s.hasOwnProperty(Tt)&&me!==void 0&&!c.hasOwnProperty(Tt)&&Fh(e,n,Tt,void 0,c,me);for(_e in c)me=c[_e],pe=s[_e],!c.hasOwnProperty(_e)||me===pe||me===void 0&&pe===void 0||Fh(e,n,_e,me,c,pe);return}}for(var te in s)me=s[te],s.hasOwnProperty(te)&&me!=null&&!c.hasOwnProperty(te)&&Et(e,n,te,null,c,me);for(je in c)me=c[je],pe=s[je],!c.hasOwnProperty(je)||me===pe||me==null&&pe==null||Et(e,n,je,me,c,pe)}function uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var m=s[c],g=m.transferSize,N=m.initiatorType,T=m.duration;if(g&&T&&uy(N)){for(N=0,T=m.responseEnd,c+=1;c<s.length;c++){var I=s[c],de=I.startTime;if(de>T)break;var _e=I.transferSize,je=I.initiatorType;_e&&uy(je)&&(I=I.responseEnd,N+=_e*(I<T?1:(T-de)/(I-de)))}if(--c,n+=8*(g+N)/(m.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hh=null,Kh=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vh=null;function zb(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(e){return fy.resolve(null).then(e).catch(Rb)}:hy;function Rb(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function my(e,n){var s=n,c=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(m),Sl(n);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Ao(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Ao(s);for(var g=s.firstChild;g;){var N=g.nextSibling,T=g.nodeName;g[xa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=N}}else s==="body"&&Ao(e.ownerDocument.body);s=m}while(s);Sl(n)}function py(e,n){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function Gh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gh(s),R(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Lb(e,n,s,c){for(;e.nodeType===1;){var m=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[xa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ki(e.nextSibling),e===null)break}return null}function Db(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ki(e.nextSibling),e===null))return null;return e}function gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ki(e.nextSibling),e===null))return null;return e}function Yh(e){return e.data==="$?"||e.data==="$~"}function $h(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Pb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ki(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Xh=null;function yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ki(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function vy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function xy(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ao(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);R(e)}var Ai=new Map,_y=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=se.d;se.d={f:Bb,r:Ib,D:Ub,C:Zb,L:qb,m:Fb,X:Kb,S:Hb,M:Qb};function Bb(){var e=Ia.f(),n=ic();return e||n}function Ib(e){var n=ht(e);n!==null&&n.tag===5&&n.type==="form"?Pp(n):Ia.r(e)}var _l=typeof document>"u"?null:document;function by(e,n,s){var c=_l;if(c&&typeof n=="string"&&n){var m=Lt(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),_y.has(m)||(_y.add(m),e={rel:e,crossOrigin:s,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),Cn(n,"link",e),Ht(n),c.head.appendChild(n)))}}function Ub(e){Ia.D(e),by("dns-prefetch",e,null)}function Zb(e,n){Ia.C(e,n),by("preconnect",e,n)}function qb(e,n,s){Ia.L(e,n,s);var c=_l;if(c&&e&&n){var m='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Lt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Lt(s.imageSizes)+'"]')):m+='[href="'+Lt(e)+'"]';var g=m;switch(n){case"style":g=bl(e);break;case"script":g=Nl(e)}Ai.has(g)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ai.set(g,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(zo(g))||n==="script"&&c.querySelector(Oo(g))||(n=c.createElement("link"),Cn(n,"link",e),Ht(n),c.head.appendChild(n)))}}function Fb(e,n){Ia.m(e,n);var s=_l;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Nl(e)}if(!Ai.has(g)&&(e=w({rel:"modulepreload",href:e},n),Ai.set(g,e),s.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Oo(g)))return}c=s.createElement("link"),Cn(c,"link",e),Ht(c),s.head.appendChild(c)}}}function Hb(e,n,s){Ia.S(e,n,s);var c=_l;if(c&&e){var m=Bi(c).hoistableStyles,g=bl(e);n=n||"default";var N=m.get(g);if(!N){var T={loading:0,preload:null};if(N=c.querySelector(zo(g)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ai.get(g))&&Jh(e,s);var I=N=c.createElement("link");Ht(I),Cn(I,"link",e),I._p=new Promise(function(de,_e){I.onload=de,I.onerror=_e}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:T},m.set(g,N)}}}function Kb(e,n){Ia.X(e,n);var s=_l;if(s&&e){var c=Bi(s).hoistableScripts,m=Nl(e),g=c.get(m);g||(g=s.querySelector(Oo(m)),g||(e=w({src:e,async:!0},n),(n=Ai.get(m))&&Wh(e,n),g=s.createElement("script"),Ht(g),Cn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Qb(e,n){Ia.M(e,n);var s=_l;if(s&&e){var c=Bi(s).hoistableScripts,m=Nl(e),g=c.get(m);g||(g=s.querySelector(Oo(m)),g||(e=w({src:e,async:!0,type:"module"},n),(n=Ai.get(m))&&Wh(e,n),g=s.createElement("script"),Ht(g),Cn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Ny(e,n,s,c){var m=(m=we.current)?hc(m):null;if(!m)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=bl(s.href),s=Bi(m).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=bl(s.href);var g=Bi(m).hoistableStyles,N=g.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=m.querySelector(zo(e)))&&!g._p&&(N.instance=g,N.state.loading=5),Ai.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ai.set(e,s),g||Vb(m,e,s,N.state))),n&&c===null)throw Error(o(528,""));return N}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Nl(s),s=Bi(m).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function bl(e){return'href="'+Lt(e)+'"'}function zo(e){return'link[rel="stylesheet"]['+e+"]"}function Sy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Vb(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Cn(n,"link",s),Ht(n),e.head.appendChild(n))}function Nl(e){return'[src="'+Lt(e)+'"]'}function Oo(e){return"script[async]"+e}function jy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Lt(s.href)+'"]');if(c)return n.instance=c,Ht(c),c;var m=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ht(c),Cn(c,"style",m),fc(c,s.precedence,e),n.instance=c;case"stylesheet":m=bl(s.href);var g=e.querySelector(zo(m));if(g)return n.state.loading|=4,n.instance=g,Ht(g),g;c=Sy(s),(m=Ai.get(m))&&Jh(c,m),g=(e.ownerDocument||e).createElement("link"),Ht(g);var N=g;return N._p=new Promise(function(T,I){N.onload=T,N.onerror=I}),Cn(g,"link",c),n.state.loading|=4,fc(g,s.precedence,e),n.instance=g;case"script":return g=Nl(s.src),(m=e.querySelector(Oo(g)))?(n.instance=m,Ht(m),m):(c=s,(m=Ai.get(g))&&(c=w({},s),Wh(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ht(m),Cn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,fc(c,s.precedence,e));return n.instance}function fc(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,N=0;N<c.length;N++){var T=c[N];if(T.dataset.precedence===n)g=T;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Jh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function wy(e,n,s){if(mc===null){var c=new Map,m=mc=new Map;m.set(s,c)}else m=mc,c=m.get(s),c||(c=new Map,m.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),m=0;m<s.length;m++){var g=s[m];if(!(g[xa]||g[$t]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(n)||"";N=e+N;var T=c.get(N);T?T.push(g):c.set(N,[g])}}return c}function Ey(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Gb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ty(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yb(e,n,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=bl(c.href),g=n.querySelector(zo(m));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=g,Ht(g);return}g=n.ownerDocument||n,c=Sy(c),(m=Ai.get(m))&&Jh(c,m),g=g.createElement("link"),Ht(g);var N=g;N._p=new Promise(function(T,I){N.onload=T,N.onerror=I}),Cn(g,"link",c),s.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=pc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ef=0;function $b(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&ef===0&&(ef=62500*Ab());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>ef?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(Xb,e),gc=null,pc.call(e))}function Xb(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var c=s.get(null);else{s=new Map,gc.set(e,s);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var N=m[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(s.set(N.dataset.precedence,N),c=N)}c&&s.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),g=s.get(N)||c,g===c&&s.set(null,m),s.set(N,m),this.count++,c=pc.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Mo={$$typeof:q,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Jb(e,n,s,c,m,g,N,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.hiddenUpdates=Bs(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Cy(e,n,s,c,m,g,N,T,I,de,_e,je){return e=new Jb(e,n,s,N,I,de,_e,je,T),n=1,g===!0&&(n|=24),g=Ln(3,null,null,n),e.current=g,g.stateNode=e,n=Md(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:n},Pd(g),e}function ky(e){return e?(e=wa,e):wa}function Ay(e,n,s,c,m,g){m=ky(m),c.context===null?c.context=m:c.pendingContext=m,c=ds(n),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=hs(e,c,n),s!==null&&(ti(s,e,n),co(s,e,n))}function zy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function tf(e,n){zy(e,n),(e=e.alternate)&&zy(e,n)}function Oy(e){if(e.tag===13||e.tag===31){var n=Ei(e,67108864);n!==null&&ti(n,e,67108864),tf(e,67108864)}}function My(e){if(e.tag===13||e.tag===31){var n=gi();n=On(n);var s=Ei(e,n);s!==null&&ti(s,e,n),tf(e,n)}}var vc=!0;function Wb(e,n,s,c){var m=U.T;U.T=null;var g=se.p;try{se.p=2,nf(e,n,s,c)}finally{se.p=g,U.T=m}}function eN(e,n,s,c){var m=U.T;U.T=null;var g=se.p;try{se.p=8,nf(e,n,s,c)}finally{se.p=g,U.T=m}}function nf(e,n,s,c){if(vc){var m=af(c);if(m===null)qh(e,n,c,xc,s),Ly(e,c);else if(nN(m,e,n,s,c))c.stopPropagation();else if(Ly(e,c),n&4&&-1<tN.indexOf(e)){for(;m!==null;){var g=ht(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=vi(g.pendingLanes);if(N!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var I=1<<31-gn(N);T.entanglements[1]|=I,N&=~I}ma(g),(vt&6)===0&&(tc=Ye()+500,To(0))}}break;case 31:case 13:T=Ei(g,2),T!==null&&ti(T,g,2),ic(),tf(g,2)}if(g=af(c),g===null&&qh(e,n,c,xc,s),g===m)break;m=g}m!==null&&c.stopPropagation()}else qh(e,n,c,null,s)}}function af(e){return e=Ks(e),sf(e)}var xc=null;function sf(e){if(xc=null,e=ze(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=p(n),e!==null)return e;e=null}else if(s===31){if(e=v(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xc=e,null}function Ry(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Q:return 2;case Ae:return 8;case St:case $e:return 32;case pn:return 268435456;default:return 32}default:return 32}}var rf=!1,Ss=null,js=null,ws=null,Ro=new Map,Lo=new Map,Es=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(e,n){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(n.pointerId)}}function Do(e,n,s,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},n!==null&&(n=ht(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function nN(e,n,s,c,m){switch(n){case"focusin":return Ss=Do(Ss,e,n,s,c,m),!0;case"dragenter":return js=Do(js,e,n,s,c,m),!0;case"mouseover":return ws=Do(ws,e,n,s,c,m),!0;case"pointerover":var g=m.pointerId;return Ro.set(g,Do(Ro.get(g)||null,e,n,s,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Lo.set(g,Do(Lo.get(g)||null,e,n,s,c,m)),!0}return!1}function Dy(e){var n=ze(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){e.blockedOn=n,Qa(e.priority,function(){My(s)});return}}else if(n===31){if(n=v(s),n!==null){e.blockedOn=n,Qa(e.priority,function(){My(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=af(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Zr=c,s.target.dispatchEvent(c),Zr=null}else return n=ht(s),n!==null&&Oy(n),e.blockedOn=s,!1;n.shift()}return!0}function Py(e,n,s){_c(e)&&s.delete(n)}function iN(){rf=!1,Ss!==null&&_c(Ss)&&(Ss=null),js!==null&&_c(js)&&(js=null),ws!==null&&_c(ws)&&(ws=null),Ro.forEach(Py),Lo.forEach(Py)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,rf||(rf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iN)))}var Nc=null;function By(e){Nc!==e&&(Nc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(sf(c||s)===null)continue;break}var g=ht(s);g!==null&&(e.splice(n,3),n-=3,ih(g,{pending:!0,data:m,method:s.method,action:c},c,m))}}))}function Sl(e){function n(I){return bc(I,e)}Ss!==null&&bc(Ss,e),js!==null&&bc(js,e),ws!==null&&bc(ws,e),Ro.forEach(n),Lo.forEach(n);for(var s=0;s<Es.length;s++){var c=Es[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Es.length&&(s=Es[0],s.blockedOn===null);)Dy(s),s.blockedOn===null&&Es.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var m=s[c],g=s[c+1],N=m[un]||null;if(typeof g=="function")N||By(s);else if(N){var T=null;if(g&&g.hasAttribute("formAction")){if(m=g,N=g[un]||null)T=N.formAction;else if(sf(m)!==null)continue}else T=N.action;typeof T=="function"?s[c+1]=T:(s.splice(c,3),c-=3),By(s)}}}function Iy(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function lf(e){this._internalRoot=e}Sc.prototype.render=lf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var s=n.current,c=gi();Ay(s,c,e,n,null,null)},Sc.prototype.unmount=lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ay(e.current,2,null,e,null,null),ic(),n[Pi]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Is();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Es.length&&n!==0&&n<Es[s].priority;s++);Es.splice(s,0,e),s===0&&Dy(e)}};var Uy=i.version;if(Uy!=="19.2.4")throw Error(o(527,Uy,"19.2.4"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var aN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{yt=jc.inject(aN),Rt=jc}catch{}}return Bo.createRoot=function(e,n){if(!d(e))throw Error(o(299));var s=!1,c="",m=Vp,g=Gp,N=Yp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=Cy(e,1,!1,null,null,s,c,null,m,g,N,Iy),e[Pi]=n.current,Zh(e),new lf(n)},Bo.hydrateRoot=function(e,n,s){if(!d(e))throw Error(o(299));var c=!1,m="",g=Vp,N=Gp,T=Yp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=Cy(e,1,!0,n,s??null,c,m,I,g,N,T,Iy),n.context=ky(null),s=n.current,c=gi(),c=On(c),m=ds(c),m.callback=null,hs(s,m,c),s=c,n.current.lanes=s,ri(n,s),ma(n),e[Pi]=n.current,Zh(e),new Sc(n)},Bo.version="19.2.4",Bo}var $y;function pN(){if($y)return cf.exports;$y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),cf.exports=mN(),cf.exports}var gN=pN();const yN=nd(gN);var Al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vN={setTimeout:(t,i)=>setTimeout(t,i),clearTimeout:t=>clearTimeout(t),setInterval:(t,i)=>setInterval(t,i),clearInterval:t=>clearInterval(t)},xN=class{#e=vN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,i){return this.#e.setTimeout(t,i)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,i){return this.#e.setInterval(t,i)}clearInterval(t){this.#e.clearInterval(t)}},br=new xN;function _N(t){setTimeout(t,0)}var jr=typeof window>"u"||"Deno"in globalThis;function Fn(){}function bN(t,i){return typeof t=="function"?t(i):t}function Xf(t){return typeof t=="number"&&t>=0&&t!==1/0}function $x(t,i){return Math.max(t+(i||0)-Date.now(),0)}function zs(t,i){return typeof t=="function"?t(i):t}function zi(t,i){return typeof t=="function"?t(i):t}function Xy(t,i){const{type:r="all",exact:o,fetchStatus:d,predicate:f,queryKey:p,stale:v}=t;if(p){if(o){if(i.queryHash!==xm(p,i.options))return!1}else if(!Qo(i.queryKey,p))return!1}if(r!=="all"){const x=i.isActive();if(r==="active"&&!x||r==="inactive"&&x)return!1}return!(typeof v=="boolean"&&i.isStale()!==v||d&&d!==i.state.fetchStatus||f&&!f(i))}function Jy(t,i){const{exact:r,status:o,predicate:d,mutationKey:f}=t;if(f){if(!i.options.mutationKey)return!1;if(r){if(wr(i.options.mutationKey)!==wr(f))return!1}else if(!Qo(i.options.mutationKey,f))return!1}return!(o&&i.state.status!==o||d&&!d(i))}function xm(t,i){return(i?.queryKeyHashFn||wr)(t)}function wr(t){return JSON.stringify(t,(i,r)=>Jf(r)?Object.keys(r).sort().reduce((o,d)=>(o[d]=r[d],o),{}):r)}function Qo(t,i){return t===i?!0:typeof t!=typeof i?!1:t&&i&&typeof t=="object"&&typeof i=="object"?Object.keys(i).every(r=>Qo(t[r],i[r])):!1}var NN=Object.prototype.hasOwnProperty;function Xx(t,i,r=0){if(t===i)return t;if(r>500)return i;const o=Wy(t)&&Wy(i);if(!o&&!(Jf(t)&&Jf(i)))return i;const f=(o?t:Object.keys(t)).length,p=o?i:Object.keys(i),v=p.length,x=o?new Array(v):{};let _=0;for(let S=0;S<v;S++){const w=o?S:p[S],C=t[w],z=i[w];if(C===z){x[w]=C,(o?S<f:NN.call(t,w))&&_++;continue}if(C===null||z===null||typeof C!="object"||typeof z!="object"){x[w]=z;continue}const k=Xx(C,z,r+1);x[w]=k,k===C&&_++}return f===v&&_===f?t:x}function Kc(t,i){if(!i||Object.keys(t).length!==Object.keys(i).length)return!1;for(const r in t)if(t[r]!==i[r])return!1;return!0}function Wy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jf(t){if(!ev(t))return!1;const i=t.constructor;if(i===void 0)return!0;const r=i.prototype;return!(!ev(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ev(t){return Object.prototype.toString.call(t)==="[object Object]"}function SN(t){return new Promise(i=>{br.setTimeout(i,t)})}function Wf(t,i,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,i):r.structuralSharing!==!1?Xx(t,i):i}function jN(t,i,r=0){const o=[...t,i];return r&&o.length>r?o.slice(1):o}function wN(t,i,r=0){const o=[i,...t];return r&&o.length>r?o.slice(0,-1):o}var _m=Symbol();function Jx(t,i){return!t.queryFn&&i?.initialPromise?()=>i.initialPromise:!t.queryFn||t.queryFn===_m?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bm(t,i){return typeof t=="function"?t(...i):!!t}function EN(t,i,r){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=i(),o||(o=!0,d.aborted?r():d.addEventListener("abort",r,{once:!0})),d)}),t}var TN=class extends Al{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!jr&&window.addEventListener){const i=()=>t();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(i=>{i(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Nm=new TN;function em(){let t,i;const r=new Promise((d,f)=>{t=d,i=f});r.status="pending",r.catch(()=>{});function o(d){Object.assign(r,d),delete r.resolve,delete r.reject}return r.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},r.reject=d=>{o({status:"rejected",reason:d}),i(d)},r}var CN=_N;function kN(){let t=[],i=0,r=v=>{v()},o=v=>{v()},d=CN;const f=v=>{i?t.push(v):d(()=>{r(v)})},p=()=>{const v=t;t=[],v.length&&d(()=>{o(()=>{v.forEach(x=>{r(x)})})})};return{batch:v=>{let x;i++;try{x=v()}finally{i--,i||p()}return x},batchCalls:v=>(...x)=>{f(()=>{v(...x)})},schedule:f,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{o=v},setScheduler:v=>{d=v}}}var _n=kN(),AN=class extends Al{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!jr&&window.addEventListener){const i=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Qc=new AN;function zN(t){return Math.min(1e3*2**t,3e4)}function Wx(t){return(t??"online")==="online"?Qc.isOnline():!0}var tm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function e_(t){let i=!1,r=0,o;const d=em(),f=()=>d.status!=="pending",p=A=>{if(!f()){const M=new tm(A);C(M),t.onCancel?.(M)}},v=()=>{i=!0},x=()=>{i=!1},_=()=>Nm.isFocused()&&(t.networkMode==="always"||Qc.isOnline())&&t.canRun(),S=()=>Wx(t.networkMode)&&t.canRun(),w=A=>{f()||(o?.(),d.resolve(A))},C=A=>{f()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=M=>{(f()||_())&&A(M)},t.onPause?.()}).then(()=>{o=void 0,f()||t.onContinue?.()}),k=()=>{if(f())return;let A;const M=r===0?t.initialPromise:void 0;try{A=M??t.fn()}catch(H){A=Promise.reject(H)}Promise.resolve(A).then(w).catch(H=>{if(f())return;const B=t.retry??(jr?0:3),q=t.retryDelay??zN,V=typeof q=="function"?q(r,H):q,Y=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,H);if(i||!Y){C(H);return}r++,t.onFail?.(r,H),SN(V).then(()=>_()?void 0:z()).then(()=>{i?C(H):k()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:v,continueRetry:x,canStart:S,start:()=>(S()?k():z().then(k),d)}}var t_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xf(this.gcTime)&&(this.#e=br.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(br.clearTimeout(this.#e),this.#e=void 0)}},ON=class extends t_{#e;#t;#n;#a;#i;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=nv(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=nv(this.options);i.data!==void 0&&(this.setState(tv(i.data,i.dataUpdatedAt)),this.#e=i)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,i){const r=Wf(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:i?.updatedAt,manual:i?.manual}),r}setState(t,i){this.#s({type:"setState",state:t,setStateOptions:i})}cancel(t){const i=this.#i?.promise;return this.#i?.cancel(t),i?i.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>zi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_m||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$x(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(i=>i.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(i=>i.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(this.#i&&(this.#l?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,i){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(x=>x.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,o=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},d=()=>{const v=Jx(this.options,i),_=(()=>{const S={client:this.#a,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(v,_,this):v(_)},p=(()=>{const v={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return o(v),v})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#i=e_({initialPromise:i?.initialPromise,fn:p.fetchFn,onCancel:v=>{v instanceof tm&&v.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(v,x)=>{this.#s({type:"failed",failureCount:v,error:x})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const v=await this.#i.start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),this.#n.config.onSuccess?.(v,this),this.#n.config.onSettled?.(v,this.state.error,this),v}catch(v){if(v instanceof tm){if(v.silent)return this.#i.promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw this.#s({type:"error",error:v}),this.#n.config.onError?.(v,this),this.#n.config.onSettled?.(this.state.data,v,this),v}finally{this.scheduleGc()}}#s(t){const i=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...n_(r.data,this.options),fetchMeta:t.meta??null};case"success":const o={...r,...tv(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=i(this.state),_n.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function n_(t,i){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wx(i.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tv(t,i){return{data:t,dataUpdatedAt:i??Date.now(),error:null,isInvalidated:!1,status:"success"}}function nv(t){const i=typeof t.initialData=="function"?t.initialData():t.initialData,r=i!==void 0,o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var MN=class extends Al{constructor(t,i){super(),this.options=i,this.#e=t,this.#s=null,this.#l=em(),this.bindMethods(),this.setOptions(i)}#e;#t=void 0;#n=void 0;#a=void 0;#i;#r;#l;#s;#p;#h;#f;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),iv(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const i=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),i._defaulted&&!Kc(this.options,i)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&av(this.#t,r,this.options,i)&&this.#d(),this.updateResult(),o&&(this.#t!==r||zi(this.options.enabled,this.#t)!==zi(i.enabled,this.#t)||zs(this.options.staleTime,this.#t)!==zs(i.staleTime,this.#t))&&this.#g();const d=this.#y();o&&(this.#t!==r||zi(this.options.enabled,this.#t)!==zi(i.enabled,this.#t)||d!==this.#o)&&this.#v(d)}getOptimisticResult(t){const i=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(i,t);return LN(this,r)&&(this.#a=r,this.#r=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(t,i){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),i?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,o))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const i=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,i);return r.fetch().then(()=>this.createResult(r,i))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(t){this.#N();let i=this.#t.fetch(this.options,t);return t?.throwOnError||(i=i.catch(Fn)),i}#g(){this.#_();const t=zs(this.options.staleTime,this.#t);if(jr||this.#a.isStale||!Xf(t))return;const r=$x(this.#a.dataUpdatedAt,t)+1;this.#u=br.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#o=t,!(jr||zi(this.options.enabled,this.#t)===!1||!Xf(this.#o)||this.#o===0)&&(this.#c=br.setInterval(()=>{(this.options.refetchIntervalInBackground||Nm.isFocused())&&this.#d()},this.#o))}#x(){this.#g(),this.#v(this.#y())}#_(){this.#u&&(br.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(br.clearInterval(this.#c),this.#c=void 0)}createResult(t,i){const r=this.#t,o=this.options,d=this.#a,f=this.#i,p=this.#r,x=t!==r?t.state:this.#n,{state:_}=t;let S={..._},w=!1,C;if(i._optimisticResults){const X=this.hasListeners(),$=!X&&iv(t,i),ve=X&&av(t,r,i,o);($||ve)&&(S={...S,...n_(_.data,t.options)}),i._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:k,status:A}=S;C=S.data;let M=!1;if(i.placeholderData!==void 0&&C===void 0&&A==="pending"){let X;d?.isPlaceholderData&&i.placeholderData===p?.placeholderData?(X=d.data,M=!0):X=typeof i.placeholderData=="function"?i.placeholderData(this.#f?.state.data,this.#f):i.placeholderData,X!==void 0&&(A="success",C=Wf(d?.data,X,i),w=!0)}if(i.select&&C!==void 0&&!M)if(d&&C===f?.data&&i.select===this.#p)C=this.#h;else try{this.#p=i.select,C=i.select(C),C=Wf(d?.data,C,i),this.#h=C,this.#s=null}catch(X){this.#s=X}this.#s&&(z=this.#s,C=this.#h,k=Date.now(),A="error");const H=S.fetchStatus==="fetching",B=A==="pending",q=A==="error",V=B&&H,Y=C!==void 0,ee={status:A,fetchStatus:S.fetchStatus,isPending:B,isSuccess:A==="success",isError:q,isInitialLoading:V,isLoading:V,data:C,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>x.dataUpdateCount||S.errorUpdateCount>x.errorUpdateCount,isFetching:H,isRefetching:H&&!B,isLoadingError:q&&!Y,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:q&&Y,isStale:Sm(t,i),refetch:this.refetch,promise:this.#l,isEnabled:zi(i.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const X=ee.data!==void 0,$=ee.status==="error"&&!X,ve=oe=>{$?oe.reject(ee.error):X&&oe.resolve(ee.data)},ae=()=>{const oe=this.#l=ee.promise=em();ve(oe)},ce=this.#l;switch(ce.status){case"pending":t.queryHash===r.queryHash&&ve(ce);break;case"fulfilled":($||ee.data!==ce.value)&&ae();break;case"rejected":(!$||ee.error!==ce.reason)&&ae();break}}return ee}updateResult(){const t=this.#a,i=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#r=this.options,this.#i.data!==void 0&&(this.#f=this.#t),Kc(i,t))return;this.#a=i;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#m.size)return!0;const f=new Set(d??this.#m);return this.options.throwOnError&&f.add("error"),Object.keys(this.#a).some(p=>{const v=p;return this.#a[v]!==t[v]&&f.has(v)})};this.#S({listeners:r()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const i=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(i?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(i=>{i(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function RN(t,i){return zi(i.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&i.retryOnMount===!1)}function iv(t,i){return RN(t,i)||t.state.data!==void 0&&nm(t,i,i.refetchOnMount)}function nm(t,i,r){if(zi(i.enabled,t)!==!1&&zs(i.staleTime,t)!=="static"){const o=typeof r=="function"?r(t):r;return o==="always"||o!==!1&&Sm(t,i)}return!1}function av(t,i,r,o){return(t!==i||zi(o.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Sm(t,r)}function Sm(t,i){return zi(i.enabled,t)!==!1&&t.isStaleByTime(zs(i.staleTime,t))}function LN(t,i){return!Kc(t.getCurrentResult(),i)}function sv(t){return{onFetch:(i,r)=>{const o=i.options,d=i.fetchOptions?.meta?.fetchMore?.direction,f=i.state.data?.pages||[],p=i.state.data?.pageParams||[];let v={pages:[],pageParams:[]},x=0;const _=async()=>{let S=!1;const w=k=>{EN(k,()=>i.signal,()=>S=!0)},C=Jx(i.options,i.fetchOptions),z=async(k,A,M)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const B=(()=>{const G={client:i.client,queryKey:i.queryKey,pageParam:A,direction:M?"backward":"forward",meta:i.options.meta};return w(G),G})(),q=await C(B),{maxPages:V}=i.options,Y=M?wN:jN;return{pages:Y(k.pages,q,V),pageParams:Y(k.pageParams,A,V)}};if(d&&f.length){const k=d==="backward",A=k?DN:rv,M={pages:f,pageParams:p},H=A(o,M);v=await z(M,H,k)}else{const k=t??f.length;do{const A=x===0?p[0]??o.initialPageParam:rv(o,v);if(x>0&&A==null)break;v=await z(v,A),x++}while(x<k)}return v};i.options.persister?i.fetchFn=()=>i.options.persister?.(_,{client:i.client,queryKey:i.queryKey,meta:i.options.meta,signal:i.signal},r):i.fetchFn=_}}}function rv(t,{pages:i,pageParams:r}){const o=i.length-1;return i.length>0?t.getNextPageParam(i[o],i,r[o],r):void 0}function DN(t,{pages:i,pageParams:r}){return i.length>0?t.getPreviousPageParam?.(i[0],i,r[0],r):void 0}var PN=class extends t_{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||i_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(i=>i!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const i=()=>{this.#i({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=e_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#a.canStart();try{if(o)i();else{this.#i({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,r);const p=await this.options.onMutate?.(t,r);p!==this.state.context&&this.#i({type:"pending",context:p,variables:t,isPaused:d})}const f=await this.#a.start();return await this.#n.config.onSuccess?.(f,t,this.state.context,this,r),await this.options.onSuccess?.(f,t,this.state.context,r),await this.#n.config.onSettled?.(f,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(f,null,t,this.state.context,r),this.#i({type:"success",data:f}),f}catch(f){try{await this.#n.config.onError?.(f,t,this.state.context,this,r)}catch(p){Promise.reject(p)}try{await this.options.onError?.(f,t,this.state.context,r)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,f,this.state.variables,this.state.context,this,r)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,f,t,this.state.context,r)}catch(p){Promise.reject(p)}throw this.#i({type:"error",error:f}),f}finally{this.#n.runNext(this)}}#i(t){const i=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),_n.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function i_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var BN=class extends Al{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,i,r){const o=new PN({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(i),state:r});return this.add(o),o}add(t){this.#e.add(t);const i=wc(t);if(typeof i=="string"){const r=this.#t.get(i);r?r.push(t):this.#t.set(i,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const i=wc(t);if(typeof i=="string"){const r=this.#t.get(i);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&this.#t.delete(i)}}this.notify({type:"removed",mutation:t})}canRun(t){const i=wc(t);if(typeof i=="string"){const o=this.#t.get(i)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const i=wc(t);return typeof i=="string"?this.#t.get(i)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_n.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const i={exact:!0,...t};return this.getAll().find(r=>Jy(i,r))}findAll(t={}){return this.getAll().filter(i=>Jy(t,i))}notify(t){_n.batch(()=>{this.listeners.forEach(i=>{i(t)})})}resumePausedMutations(){const t=this.getAll().filter(i=>i.state.isPaused);return _n.batch(()=>Promise.all(t.map(i=>i.continue().catch(Fn))))}};function wc(t){return t.options.scope?.id}var IN=class extends Al{#e;#t=void 0;#n;#a;constructor(i,r){super(),this.#e=i,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){const r=this.options;this.options=this.#e.defaultMutationOptions(i),Kc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&wr(r.mutationKey)!==wr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(i){this.#i(),this.#r(i)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#r()}mutate(i,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(i)}#i(){const i=this.#n?.state??i_();this.#t={...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset}}#r(i){_n.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(i?.type==="success"){try{this.#a.onSuccess?.(i.data,r,o,d)}catch(f){Promise.reject(f)}try{this.#a.onSettled?.(i.data,null,r,o,d)}catch(f){Promise.reject(f)}}else if(i?.type==="error"){try{this.#a.onError?.(i.error,r,o,d)}catch(f){Promise.reject(f)}try{this.#a.onSettled?.(void 0,i.error,r,o,d)}catch(f){Promise.reject(f)}}}this.listeners.forEach(r=>{r(this.#t)})})}},UN=class extends Al{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,i,r){const o=i.queryKey,d=i.queryHash??xm(o,i);let f=this.get(d);return f||(f=new ON({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(i),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(f)),f}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const i=this.#e.get(t.queryHash);i&&(t.destroy(),i===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const i={exact:!0,...t};return this.getAll().find(r=>Xy(i,r))}findAll(t={}){const i=this.getAll();return Object.keys(t).length>0?i.filter(r=>Xy(t,r)):i}notify(t){_n.batch(()=>{this.listeners.forEach(i=>{i(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ZN=class{#e;#t;#n;#a;#i;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new UN,this.#t=t.mutationCache||new BN,this.#n=t.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Nm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Qc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const i=this.defaultQueryOptions({queryKey:t});return this.#e.get(i.queryHash)?.state.data}ensureQueryData(t){const i=this.defaultQueryOptions(t),r=this.#e.build(this,i),o=r.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(zs(i.staleTime,r))&&this.prefetchQuery(i),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:i,state:r})=>{const o=r.data;return[i,o]})}setQueryData(t,i,r){const o=this.defaultQueryOptions({queryKey:t}),f=this.#e.get(o.queryHash)?.state.data,p=bN(i,f);if(p!==void 0)return this.#e.build(this,o).setData(p,{...r,manual:!0})}setQueriesData(t,i,r){return _n.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,i,r)]))}getQueryState(t){const i=this.defaultQueryOptions({queryKey:t});return this.#e.get(i.queryHash)?.state}removeQueries(t){const i=this.#e;_n.batch(()=>{i.findAll(t).forEach(r=>{i.remove(r)})})}resetQueries(t,i){const r=this.#e;return _n.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},i)))}cancelQueries(t,i={}){const r={revert:!0,...i},o=_n.batch(()=>this.#e.findAll(t).map(d=>d.cancel(r)));return Promise.all(o).then(Fn).catch(Fn)}invalidateQueries(t,i={}){return _n.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},i)))}refetchQueries(t,i={}){const r={...i,cancelRefetch:i.cancelRefetch??!0},o=_n.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let f=d.fetch(void 0,r);return r.throwOnError||(f=f.catch(Fn)),d.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(o).then(Fn)}fetchQuery(t){const i=this.defaultQueryOptions(t);i.retry===void 0&&(i.retry=!1);const r=this.#e.build(this,i);return r.isStaleByTime(zs(i.staleTime,r))?r.fetch(i):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fn).catch(Fn)}fetchInfiniteQuery(t){return t.behavior=sv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fn).catch(Fn)}ensureInfiniteQueryData(t){return t.behavior=sv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,i){this.#a.set(wr(t),{queryKey:t,defaultOptions:i})}getQueryDefaults(t){const i=[...this.#a.values()],r={};return i.forEach(o=>{Qo(t,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(t,i){this.#i.set(wr(t),{mutationKey:t,defaultOptions:i})}getMutationDefaults(t){const i=[...this.#i.values()],r={};return i.forEach(o=>{Qo(t,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const i={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return i.queryHash||(i.queryHash=xm(i.queryKey,i)),i.refetchOnReconnect===void 0&&(i.refetchOnReconnect=i.networkMode!=="always"),i.throwOnError===void 0&&(i.throwOnError=!!i.suspense),!i.networkMode&&i.persister&&(i.networkMode="offlineFirst"),i.queryFn===_m&&(i.enabled=!1),i}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},a_=j.createContext(void 0),Bn=t=>{const i=j.useContext(a_);if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i},qN=({client:t,children:i})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(a_.Provider,{value:t,children:i})),s_=j.createContext(!1),FN=()=>j.useContext(s_);s_.Provider;function HN(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var KN=j.createContext(HN()),QN=()=>j.useContext(KN),VN=(t,i,r)=>{const o=r?.state.error&&typeof t.throwOnError=="function"?bm(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(i.isReset()||(t.retryOnMount=!1))},GN=t=>{j.useEffect(()=>{t.clearReset()},[t])},YN=({result:t,errorResetBoundary:i,throwOnError:r,query:o,suspense:d})=>t.isError&&!i.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||bm(r,[t.error,o])),$N=t=>{if(t.suspense){const r=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>r(o(...d)):r(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},XN=(t,i)=>t.isLoading&&t.isFetching&&!i,JN=(t,i)=>t?.suspense&&i.isPending,lv=(t,i,r)=>i.fetchOptimistic(t).catch(()=>{r.clearReset()});function WN(t,i,r){const o=FN(),d=QN(),f=Bn(),p=f.defaultQueryOptions(t);f.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const v=f.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",$N(p),VN(p,d,v),GN(d);const x=!f.getQueryCache().get(p.queryHash),[_]=j.useState(()=>new i(f,p)),S=_.getOptimisticResult(p),w=!o&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(C=>{const z=w?_.subscribe(_n.batchCalls(C)):Fn;return _.updateResult(),z},[_,w]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),j.useEffect(()=>{_.setOptions(p)},[p,_]),JN(p,S))throw lv(p,_,d);if(YN({result:S,errorResetBoundary:d,throwOnError:p.throwOnError,query:v,suspense:p.suspense}))throw S.error;return f.getDefaultOptions().queries?._experimental_afterQuery?.(p,S),p.experimental_prefetchInRender&&!jr&&XN(S,o)&&(x?lv(p,_,d):v?.promise)?.catch(Fn).finally(()=>{_.updateResult()}),p.notifyOnChangeProps?S:_.trackResult(S)}function He(t,i){return WN(t,MN)}function Ge(t,i){const r=Bn(),[o]=j.useState(()=>new IN(r,t));j.useEffect(()=>{o.setOptions(t)},[o,t]);const d=j.useSyncExternalStore(j.useCallback(p=>o.subscribe(_n.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f=j.useCallback((p,v)=>{o.mutate(p,v).catch(Fn)},[o]);if(d.error&&bm(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:f,mutateAsync:d.mutate}}var ov="popstate";function eS(t={}){function i(o,d){let{pathname:f,search:p,hash:v}=o.location;return im("",{pathname:f,search:p,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(o,d){return typeof d=="string"?d:Vo(d)}return nS(i,r,null,t)}function qt(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function Yi(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function tS(){return Math.random().toString(36).substring(2,10)}function uv(t,i){return{usr:t.state,key:t.key,idx:i}}function im(t,i,r=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof i=="string"?zl(i):i,state:r,key:i&&i.key||o||tS()}}function Vo({pathname:t="/",search:i="",hash:r=""}){return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zl(t){let i={};if(t){let r=t.indexOf("#");r>=0&&(i.hash=t.substring(r),t=t.substring(0,r));let o=t.indexOf("?");o>=0&&(i.search=t.substring(o),t=t.substring(0,o)),t&&(i.pathname=t)}return i}function nS(t,i,r,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,p=d.history,v="POP",x=null,_=S();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function S(){return(p.state||{idx:null}).idx}function w(){v="POP";let M=S(),H=M==null?null:M-_;_=M,x&&x({action:v,location:A.location,delta:H})}function C(M,H){v="PUSH";let B=im(A.location,M,H);_=S()+1;let q=uv(B,_),V=A.createHref(B);try{p.pushState(q,"",V)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;d.location.assign(V)}f&&x&&x({action:v,location:A.location,delta:1})}function z(M,H){v="REPLACE";let B=im(A.location,M,H);_=S();let q=uv(B,_),V=A.createHref(B);p.replaceState(q,"",V),f&&x&&x({action:v,location:A.location,delta:0})}function k(M){return iS(M)}let A={get action(){return v},get location(){return t(d,p)},listen(M){if(x)throw new Error("A history only accepts one active listener");return d.addEventListener(ov,w),x=M,()=>{d.removeEventListener(ov,w),x=null}},createHref(M){return i(d,M)},createURL:k,encodeLocation(M){let H=k(M);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:z,go(M){return p.go(M)}};return A}function iS(t,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),qt(r,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Vo(t);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function r_(t,i,r="/"){return aS(t,i,r,!1)}function aS(t,i,r,o){let d=typeof i=="string"?zl(i):i,f=Fa(d.pathname||"/",r);if(f==null)return null;let p=l_(t);sS(p);let v=null;for(let x=0;v==null&&x<p.length;++x){let _=gS(f);v=mS(p[x],_,o)}return v}function l_(t,i=[],r=[],o="",d=!1){let f=(p,v,x=d,_)=>{let S={relativePath:_===void 0?p.path||"":_,caseSensitive:p.caseSensitive===!0,childrenIndex:v,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&x)return;qt(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=qa([o,S.relativePath]),C=r.concat(S);p.children&&p.children.length>0&&(qt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),l_(p.children,i,C,w,x)),!(p.path==null&&!p.index)&&i.push({path:w,score:hS(w,p.index),routesMeta:C})};return t.forEach((p,v)=>{if(p.path===""||!p.path?.includes("?"))f(p,v);else for(let x of o_(p.path))f(p,v,!0,x)}),i}function o_(t){let i=t.split("/");if(i.length===0)return[];let[r,...o]=i,d=r.endsWith("?"),f=r.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let p=o_(o.join("/")),v=[];return v.push(...p.map(x=>x===""?f:[f,x].join("/"))),d&&v.push(...p),v.map(x=>t.startsWith("/")&&x===""?"/":x)}function sS(t){t.sort((i,r)=>i.score!==r.score?r.score-i.score:fS(i.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var rS=/^:[\w-]+$/,lS=3,oS=2,uS=1,cS=10,dS=-2,cv=t=>t==="*";function hS(t,i){let r=t.split("/"),o=r.length;return r.some(cv)&&(o+=dS),i&&(o+=oS),r.filter(d=>!cv(d)).reduce((d,f)=>d+(rS.test(f)?lS:f===""?uS:cS),o)}function fS(t,i){return t.length===i.length&&t.slice(0,-1).every((o,d)=>o===i[d])?t[t.length-1]-i[i.length-1]:0}function mS(t,i,r=!1){let{routesMeta:o}=t,d={},f="/",p=[];for(let v=0;v<o.length;++v){let x=o[v],_=v===o.length-1,S=f==="/"?i:i.slice(f.length)||"/",w=Vc({path:x.relativePath,caseSensitive:x.caseSensitive,end:_},S),C=x.route;if(!w&&_&&r&&!o[o.length-1].route.index&&(w=Vc({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),p.push({params:d,pathname:qa([f,w.pathname]),pathnameBase:_S(qa([f,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(f=qa([f,w.pathnameBase]))}return p}function Vc(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=pS(t.path,t.caseSensitive,t.end),d=i.match(r);if(!d)return null;let f=d[0],p=f.replace(/(.)\/+$/,"$1"),v=d.slice(1);return{params:o.reduce((_,{paramName:S,isOptional:w},C)=>{if(S==="*"){let k=v[C]||"";p=f.slice(0,f.length-k.length).replace(/(.)\/+$/,"$1")}const z=v[C];return w&&!z?_[S]=void 0:_[S]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:p,pattern:t}}function pS(t,i=!1,r=!0){Yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,v,x)=>(o.push({paramName:v,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),o]}function gS(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Yi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),t}}function Fa(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}var yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function vS(t,i="/"){let{pathname:r,search:o="",hash:d=""}=typeof t=="string"?zl(t):t,f;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?f=dv(r.substring(1),"/"):f=dv(r,i)):f=i,{pathname:f,search:bS(o),hash:NS(d)}}function dv(t,i){let r=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?r.length>1&&r.pop():d!=="."&&r.push(d)}),r.length>1?r.join("/"):"/"}function mf(t,i,r,o){return`Cannot include a '${t}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xS(t){return t.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function jm(t){let i=xS(t);return i.map((r,o)=>o===i.length-1?r.pathname:r.pathnameBase)}function wm(t,i,r,o=!1){let d;typeof t=="string"?d=zl(t):(d={...t},qt(!d.pathname||!d.pathname.includes("?"),mf("?","pathname","search",d)),qt(!d.pathname||!d.pathname.includes("#"),mf("#","pathname","hash",d)),qt(!d.search||!d.search.includes("#"),mf("#","search","hash",d)));let f=t===""||d.pathname==="",p=f?"/":d.pathname,v;if(p==null)v=r;else{let w=i.length-1;if(!o&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),w-=1;d.pathname=C.join("/")}v=w>=0?i[w]:"/"}let x=vS(d,v),_=p&&p!=="/"&&p.endsWith("/"),S=(f||p===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(_||S)&&(x.pathname+="/"),x}var qa=t=>t.join("/").replace(/\/\/+/g,"/"),_S=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,SS=class{constructor(t,i,r,o=!1){this.status=t,this.statusText=i||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function jS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function wS(t){return t.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function c_(t,i){let r=t;if(typeof r!="string"||!yS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,d=!1;if(u_)try{let f=new URL(window.location.href),p=r.startsWith("//")?new URL(f.protocol+r):new URL(r),v=Fa(p.pathname,i);p.origin===f.origin&&v!=null?r=v+p.search+p.hash:d=!0}catch{Yi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d_=["POST","PUT","PATCH","DELETE"];new Set(d_);var ES=["GET",...d_];new Set(ES);var Ol=j.createContext(null);Ol.displayName="DataRouter";var id=j.createContext(null);id.displayName="DataRouterState";var TS=j.createContext(!1),h_=j.createContext({isTransitioning:!1});h_.displayName="ViewTransition";var CS=j.createContext(new Map);CS.displayName="Fetchers";var kS=j.createContext(null);kS.displayName="Await";var yi=j.createContext(null);yi.displayName="Navigation";var Xo=j.createContext(null);Xo.displayName="Location";var Oi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Em=j.createContext(null);Em.displayName="RouteError";var f_="REACT_ROUTER_ERROR",AS="REDIRECT",zS="ROUTE_ERROR_RESPONSE";function OS(t){if(t.startsWith(`${f_}:${AS}:{`))try{let i=JSON.parse(t.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function MS(t){if(t.startsWith(`${f_}:${zS}:{`))try{let i=JSON.parse(t.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new SS(i.status,i.statusText,i.data)}catch{}}function RS(t,{relative:i}={}){qt(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=j.useContext(yi),{hash:d,pathname:f,search:p}=Jo(t,{relative:i}),v=f;return r!=="/"&&(v=f==="/"?r:qa([r,f])),o.createHref({pathname:v,search:p,hash:d})}function Ml(){return j.useContext(Xo)!=null}function $i(){return qt(Ml(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Xo).location}var m_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p_(t){j.useContext(yi).static||j.useLayoutEffect(t)}function ad(){let{isDataRoute:t}=j.useContext(Oi);return t?$S():LS()}function LS(){qt(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ol),{basename:i,navigator:r}=j.useContext(yi),{matches:o}=j.useContext(Oi),{pathname:d}=$i(),f=JSON.stringify(jm(o)),p=j.useRef(!1);return p_(()=>{p.current=!0}),j.useCallback((x,_={})=>{if(Yi(p.current,m_),!p.current)return;if(typeof x=="number"){r.go(x);return}let S=wm(x,JSON.parse(f),d,_.relative==="path");t==null&&i!=="/"&&(S.pathname=S.pathname==="/"?i:qa([i,S.pathname])),(_.replace?r.replace:r.push)(S,_.state,_)},[i,r,f,d,t])}var DS=j.createContext(null);function PS(t){let i=j.useContext(Oi).outlet;return j.useMemo(()=>i&&j.createElement(DS.Provider,{value:t},i),[i,t])}function BS(){let{matches:t}=j.useContext(Oi),i=t[t.length-1];return i?i.params:{}}function Jo(t,{relative:i}={}){let{matches:r}=j.useContext(Oi),{pathname:o}=$i(),d=JSON.stringify(jm(r));return j.useMemo(()=>wm(t,JSON.parse(d),o,i==="path"),[t,d,o,i])}function IS(t,i){return g_(t,i)}function g_(t,i,r,o,d){qt(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=j.useContext(yi),{matches:p}=j.useContext(Oi),v=p[p.length-1],x=v?v.params:{},_=v?v.pathname:"/",S=v?v.pathnameBase:"/",w=v&&v.route;{let B=w&&w.path||"";v_(_,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let C=$i(),z;if(i){let B=typeof i=="string"?zl(i):i;qt(S==="/"||B.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${B.pathname}" was given in the \`location\` prop.`),z=B}else z=C;let k=z.pathname||"/",A=k;if(S!=="/"){let B=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=r_(t,{pathname:A});Yi(w||M!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Yi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=HS(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},x,B.params),pathname:qa([S,f.encodeLocation?f.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?S:qa([S,f.encodeLocation?f.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),p,r,o,d);return i&&H?j.createElement(Xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},H):H}function US(){let t=YS(),i=jS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:f},"ErrorBoundary")," or"," ",j.createElement("code",{style:f},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},i),r?j.createElement("pre",{style:d},r):null,p)}var ZS=j.createElement(US,null),y_=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){this.props.onError?this.props.onError(t,i):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=MS(t.digest);r&&(t=r)}let i=t!==void 0?j.createElement(Oi.Provider,{value:this.props.routeContext},j.createElement(Em.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(qS,{error:t},i):i}};y_.contextType=TS;var pf=new WeakMap;function qS({children:t,error:i}){let{basename:r}=j.useContext(yi);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=OS(i.digest);if(o){let d=pf.get(i);if(d)throw d;let f=c_(o.location,r);if(u_&&!pf.get(i))if(f.isExternal||o.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:o.replace}));throw pf.set(i,p),p}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return t}function FS({routeContext:t,match:i,children:r}){let o=j.useContext(Ol);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),j.createElement(Oi.Provider,{value:t},r)}function HS(t,i=[],r=null,o=null,d=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let f=t,p=r?.errors;if(p!=null){let S=f.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);qt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,S+1))}let v=!1,x=-1;if(r)for(let S=0;S<f.length;S++){let w=f[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=S),w.route.id){let{loaderData:C,errors:z}=r,k=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||k){v=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}let _=r&&o?(S,w)=>{o(S,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:wS(r.matches),errorInfo:w})}:void 0;return f.reduceRight((S,w,C)=>{let z,k=!1,A=null,M=null;r&&(z=p&&w.route.id?p[w.route.id]:void 0,A=w.route.errorElement||ZS,v&&(x<0&&C===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):x===C&&(k=!0,M=w.route.hydrateFallbackElement||null)));let H=i.concat(f.slice(0,C+1)),B=()=>{let q;return z?q=A:k?q=M:w.route.Component?q=j.createElement(w.route.Component,null):w.route.element?q=w.route.element:q=S,j.createElement(FS,{match:w,routeContext:{outlet:S,matches:H,isDataRoute:r!=null},children:q})};return r&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?j.createElement(y_,{location:r.location,revalidation:r.revalidation,component:A,error:z,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:_}):B()},null)}function Tm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(t){let i=j.useContext(Ol);return qt(i,Tm(t)),i}function QS(t){let i=j.useContext(id);return qt(i,Tm(t)),i}function VS(t){let i=j.useContext(Oi);return qt(i,Tm(t)),i}function Cm(t){let i=VS(t),r=i.matches[i.matches.length-1];return qt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function GS(){return Cm("useRouteId")}function YS(){let t=j.useContext(Em),i=QS("useRouteError"),r=Cm("useRouteError");return t!==void 0?t:i.errors?.[r]}function $S(){let{router:t}=KS("useNavigate"),i=Cm("useNavigate"),r=j.useRef(!1);return p_(()=>{r.current=!0}),j.useCallback(async(d,f={})=>{Yi(r.current,m_),r.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:i,...f}))},[t,i])}var hv={};function v_(t,i,r){!i&&!hv[t]&&(hv[t]=!0,Yi(!1,r))}j.memo(XS);function XS({routes:t,future:i,state:r,onError:o}){return g_(t,void 0,r,o,i)}function km({to:t,replace:i,state:r,relative:o}){qt(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=j.useContext(yi);Yi(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=j.useContext(Oi),{pathname:p}=$i(),v=ad(),x=wm(t,jm(f),p,o==="path"),_=JSON.stringify(x);return j.useEffect(()=>{v(JSON.parse(_),{replace:i,state:r,relative:o})},[v,_,o,i,r]),null}function Am(t){return PS(t.context)}function Zt(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JS({basename:t="/",children:i=null,location:r,navigationType:o="POP",navigator:d,static:f=!1,unstable_useTransitions:p}){qt(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=t.replace(/^\/*/,"/"),x=j.useMemo(()=>({basename:v,navigator:d,static:f,unstable_useTransitions:p,future:{}}),[v,d,f,p]);typeof r=="string"&&(r=zl(r));let{pathname:_="/",search:S="",hash:w="",state:C=null,key:z="default"}=r,k=j.useMemo(()=>{let A=Fa(_,v);return A==null?null:{location:{pathname:A,search:S,hash:w,state:C,key:z},navigationType:o}},[v,_,S,w,C,z,o]);return Yi(k!=null,`<Router basename="${v}"> is not able to match the URL "${_}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(yi.Provider,{value:x},j.createElement(Xo.Provider,{children:i,value:k}))}function WS({children:t,location:i}){return IS(am(t),i)}function am(t,i=[]){let r=[];return j.Children.forEach(t,(o,d)=>{if(!j.isValidElement(o))return;let f=[...i,d];if(o.type===j.Fragment){r.push.apply(r,am(o.props.children,f));return}qt(o.type===Zt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=am(o.props.children,f)),r.push(p)}),r}var Ic="get",Uc="application/x-www-form-urlencoded";function sd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function ej(t){return sd(t)&&t.tagName.toLowerCase()==="button"}function tj(t){return sd(t)&&t.tagName.toLowerCase()==="form"}function nj(t){return sd(t)&&t.tagName.toLowerCase()==="input"}function ij(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aj(t,i){return t.button===0&&(!i||i==="_self")&&!ij(t)}var Ec=null;function sj(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var rj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(t){return t!=null&&!rj.has(t)?(Yi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):t}function lj(t,i){let r,o,d,f,p;if(tj(t)){let v=t.getAttribute("action");o=v?Fa(v,i):null,r=t.getAttribute("method")||Ic,d=gf(t.getAttribute("enctype"))||Uc,f=new FormData(t)}else if(ej(t)||nj(t)&&(t.type==="submit"||t.type==="image")){let v=t.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||v.getAttribute("action");if(o=x?Fa(x,i):null,r=t.getAttribute("formmethod")||v.getAttribute("method")||Ic,d=gf(t.getAttribute("formenctype"))||gf(v.getAttribute("enctype"))||Uc,f=new FormData(v,t),!sj()){let{name:_,type:S,value:w}=t;if(S==="image"){let C=_?`${_}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else _&&f.append(_,w)}}else{if(sd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ic,o=null,d=Uc,p=t}return f&&d==="text/plain"&&(p=f,f=void 0),{action:o,method:r.toLowerCase(),encType:d,formData:f,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function oj(t,i,r,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:i&&Fa(d.pathname,i)==="/"?d.pathname=`${i.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function uj(t,i){if(t.id in i)return i[t.id];try{let r=await import(t.module);return i[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dj(t,i,r){let o=await Promise.all(t.map(async d=>{let f=i.routes[d.route.id];if(f){let p=await uj(f,r);return p.links?p.links():[]}return[]}));return pj(o.flat(1).filter(cj).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function fv(t,i,r,o,d,f){let p=(x,_)=>r[_]?x.route.id!==r[_].route.id:!0,v=(x,_)=>r[_].pathname!==x.pathname||r[_].route.path?.endsWith("*")&&r[_].params["*"]!==x.params["*"];return f==="assets"?i.filter((x,_)=>p(x,_)||v(x,_)):f==="data"?i.filter((x,_)=>{let S=o.routes[x.route.id];if(!S||!S.hasLoader)return!1;if(p(x,_)||v(x,_))return!0;if(x.route.shouldRevalidate){let w=x.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function hj(t,i,{includeHydrateFallback:r}={}){return fj(t.map(o=>{let d=i.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),r&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function fj(t){return[...new Set(t)]}function mj(t){let i={},r=Object.keys(t).sort();for(let o of r)i[o]=t[o];return i}function pj(t,i){let r=new Set;return new Set(i),t.reduce((o,d)=>{let f=JSON.stringify(mj(d));return r.has(f)||(r.add(f),o.push({key:f,link:d})),o},[])}function x_(){let t=j.useContext(Ol);return zm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gj(){let t=j.useContext(id);return zm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Om=j.createContext(void 0);Om.displayName="FrameworkContext";function __(){let t=j.useContext(Om);return zm(t,"You must render this element inside a <HydratedRouter> element"),t}function yj(t,i){let r=j.useContext(Om),[o,d]=j.useState(!1),[f,p]=j.useState(!1),{onFocus:v,onBlur:x,onMouseEnter:_,onMouseLeave:S,onTouchStart:w}=i,C=j.useRef(null);j.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let A=H=>{H.forEach(B=>{p(B.isIntersecting)})},M=new IntersectionObserver(A,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[t]),j.useEffect(()=>{if(o){let A=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},k=()=>{d(!1),p(!1)};return r?t!=="intent"?[f,C,{}]:[f,C,{onFocus:Io(v,z),onBlur:Io(x,k),onMouseEnter:Io(_,z),onMouseLeave:Io(S,k),onTouchStart:Io(w,z)}]:[!1,C,{}]}function Io(t,i){return r=>{t&&t(r),r.defaultPrevented||i(r)}}function vj({page:t,...i}){let{router:r}=x_(),o=j.useMemo(()=>r_(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?j.createElement(_j,{page:t,matches:o,...i}):null}function xj(t){let{manifest:i,routeModules:r}=__(),[o,d]=j.useState([]);return j.useEffect(()=>{let f=!1;return dj(t,i,r).then(p=>{f||d(p)}),()=>{f=!0}},[t,i,r]),o}function _j({page:t,matches:i,...r}){let o=$i(),{future:d,manifest:f,routeModules:p}=__(),{basename:v}=x_(),{loaderData:x,matches:_}=gj(),S=j.useMemo(()=>fv(t,i,_,f,o,"data"),[t,i,_,f,o]),w=j.useMemo(()=>fv(t,i,_,f,o,"assets"),[t,i,_,f,o]),C=j.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,M=!1;if(i.forEach(B=>{let q=f.routes[B.route.id];!q||!q.hasLoader||(!S.some(V=>V.route.id===B.route.id)&&B.route.id in x&&p[B.route.id]?.shouldRevalidate||q.hasClientLoader?M=!0:A.add(B.route.id))}),A.size===0)return[];let H=oj(t,v,d.unstable_trailingSlashAwareDataRequests,"data");return M&&A.size>0&&H.searchParams.set("_routes",i.filter(B=>A.has(B.route.id)).map(B=>B.route.id).join(",")),[H.pathname+H.search]},[v,d.unstable_trailingSlashAwareDataRequests,x,o,f,S,i,t,p]),z=j.useMemo(()=>hj(w,f),[w,f]),k=xj(w);return j.createElement(j.Fragment,null,C.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),z.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),k.map(({key:A,link:M})=>j.createElement("link",{key:A,nonce:r.nonce,...M,crossOrigin:M.crossOrigin??r.crossOrigin})))}function bj(...t){return i=>{t.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var Nj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nj&&(window.__reactRouterVersion="7.13.0")}catch{}function Sj({basename:t,children:i,unstable_useTransitions:r,window:o}){let d=j.useRef();d.current==null&&(d.current=eS({window:o,v5Compat:!0}));let f=d.current,[p,v]=j.useState({action:f.action,location:f.location}),x=j.useCallback(_=>{r===!1?v(_):j.startTransition(()=>v(_))},[r]);return j.useLayoutEffect(()=>f.listen(x),[f,x]),j.createElement(JS,{basename:t,children:i,location:p.location,navigationType:p.action,navigator:f,unstable_useTransitions:r})}var b_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wo=j.forwardRef(function({onClick:i,discover:r="render",prefetch:o="none",relative:d,reloadDocument:f,replace:p,state:v,target:x,to:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k){let{basename:A,unstable_useTransitions:M}=j.useContext(yi),H=typeof _=="string"&&b_.test(_),B=c_(_,A);_=B.to;let q=RS(_,{relative:d}),[V,Y,G]=yj(o,z),ee=Ej(_,{replace:p,state:v,target:x,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:C,unstable_useTransitions:M});function X(ve){i&&i(ve),ve.defaultPrevented||ee(ve)}let $=j.createElement("a",{...z,...G,href:B.absoluteURL||q,onClick:B.isExternal||f?i:X,ref:bj(k,Y),target:x,"data-discover":!H&&r==="render"?"true":void 0});return V&&!H?j.createElement(j.Fragment,null,$,j.createElement(vj,{page:q})):$});Wo.displayName="Link";var N_=j.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:o="",end:d=!1,style:f,to:p,viewTransition:v,children:x,..._},S){let w=Jo(p,{relative:_.relative}),C=$i(),z=j.useContext(id),{navigator:k,basename:A}=j.useContext(yi),M=z!=null&&zj(w)&&v===!0,H=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,B=C.pathname,q=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;r||(B=B.toLowerCase(),q=q?q.toLowerCase():null,H=H.toLowerCase()),q&&A&&(q=Fa(q,A)||q);const V=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Y=B===H||!d&&B.startsWith(H)&&B.charAt(V)==="/",G=q!=null&&(q===H||!d&&q.startsWith(H)&&q.charAt(H.length)==="/"),ee={isActive:Y,isPending:G,isTransitioning:M},X=Y?i:void 0,$;typeof o=="function"?$=o(ee):$=[o,Y?"active":null,G?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ve=typeof f=="function"?f(ee):f;return j.createElement(Wo,{..._,"aria-current":X,className:$,ref:S,style:ve,to:p,viewTransition:v},typeof x=="function"?x(ee):x)});N_.displayName="NavLink";var jj=j.forwardRef(({discover:t="render",fetcherKey:i,navigate:r,reloadDocument:o,replace:d,state:f,method:p=Ic,action:v,onSubmit:x,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k)=>{let{unstable_useTransitions:A}=j.useContext(yi),M=kj(),H=Aj(v,{relative:_}),B=p.toLowerCase()==="get"?"get":"post",q=typeof v=="string"&&b_.test(v),V=Y=>{if(x&&x(Y),Y.defaultPrevented)return;Y.preventDefault();let G=Y.nativeEvent.submitter,ee=G?.getAttribute("formmethod")||p,X=()=>M(G||Y.currentTarget,{fetcherKey:i,method:ee,navigate:r,replace:d,state:f,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C});A&&r!==!1?j.startTransition(()=>X()):X()};return j.createElement("form",{ref:k,method:B,action:H,onSubmit:o?x:V,...z,"data-discover":!q&&t==="render"?"true":void 0})});jj.displayName="Form";function wj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(t){let i=j.useContext(Ol);return qt(i,wj(t)),i}function Ej(t,{target:i,replace:r,state:o,preventScrollReset:d,relative:f,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x}={}){let _=ad(),S=$i(),w=Jo(t,{relative:f});return j.useCallback(C=>{if(aj(C,i)){C.preventDefault();let z=r!==void 0?r:Vo(S)===Vo(w),k=()=>_(t,{replace:z,state:o,preventScrollReset:d,relative:f,viewTransition:p,unstable_defaultShouldRevalidate:v});x?j.startTransition(()=>k()):k()}},[S,_,w,r,o,i,t,d,f,p,v,x])}var Tj=0,Cj=()=>`__${String(++Tj)}__`;function kj(){let{router:t}=S_("useSubmit"),{basename:i}=j.useContext(yi),r=GS(),o=t.fetch,d=t.navigate;return j.useCallback(async(f,p={})=>{let{action:v,method:x,encType:_,formData:S,body:w}=lj(f,i);if(p.navigate===!1){let C=p.fetcherKey||Cj();await o(C,r,p.action||v,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||x,formEncType:p.encType||_,flushSync:p.flushSync})}else await d(p.action||v,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||x,formEncType:p.encType||_,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,i,r])}function Aj(t,{relative:i}={}){let{basename:r}=j.useContext(yi),o=j.useContext(Oi);qt(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...Jo(t||".",{relative:i})},p=$i();if(t==null){f.search=p.search;let v=new URLSearchParams(f.search),x=v.getAll("index");if(x.some(S=>S==="")){v.delete("index"),x.filter(w=>w).forEach(w=>v.append("index",w));let S=v.toString();f.search=S?`?${S}`:""}}return(!t||t===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:qa([r,f.pathname])),Vo(f)}function zj(t,{relative:i}={}){let r=j.useContext(h_);qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=S_("useViewTransitionState"),d=Jo(t,{relative:i});if(!r.isTransitioning)return!1;let f=Fa(r.currentLocation.pathname,o)||r.currentLocation.pathname,p=Fa(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Vc(d.pathname,p)!=null||Vc(d.pathname,f)!=null}const As={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"};function j_(t,i){return function(){return t.apply(i,arguments)}}const{toString:Oj}=Object.prototype,{getPrototypeOf:Mm}=Object,{iterator:rd,toStringTag:w_}=Symbol,ld=(t=>i=>{const r=Oj.call(i);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xi=t=>(t=t.toLowerCase(),i=>ld(i)===t),od=t=>i=>typeof i===t,{isArray:Rl}=Array,kl=od("undefined");function eu(t){return t!==null&&!kl(t)&&t.constructor!==null&&!kl(t.constructor)&&ni(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const E_=Xi("ArrayBuffer");function Mj(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&E_(t.buffer),i}const Rj=od("string"),ni=od("function"),T_=od("number"),tu=t=>t!==null&&typeof t=="object",Lj=t=>t===!0||t===!1,Zc=t=>{if(ld(t)!=="object")return!1;const i=Mm(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(w_ in t)&&!(rd in t)},Dj=t=>{if(!tu(t)||eu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Pj=Xi("Date"),Bj=Xi("File"),Ij=Xi("Blob"),Uj=Xi("FileList"),Zj=t=>tu(t)&&ni(t.pipe),qj=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||ni(t.append)&&((i=ld(t))==="formdata"||i==="object"&&ni(t.toString)&&t.toString()==="[object FormData]"))},Fj=Xi("URLSearchParams"),[Hj,Kj,Qj,Vj]=["ReadableStream","Request","Response","Headers"].map(Xi),Gj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nu(t,i,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Rl(t))for(o=0,d=t.length;o<d;o++)i.call(null,t[o],o,t);else{if(eu(t))return;const f=r?Object.getOwnPropertyNames(t):Object.keys(t),p=f.length;let v;for(o=0;o<p;o++)v=f[o],i.call(null,t[v],v,t)}}function C_(t,i){if(eu(t))return null;i=i.toLowerCase();const r=Object.keys(t);let o=r.length,d;for(;o-- >0;)if(d=r[o],i===d.toLowerCase())return d;return null}const Nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k_=t=>!kl(t)&&t!==Nr;function sm(){const{caseless:t,skipUndefined:i}=k_(this)&&this||{},r={},o=(d,f)=>{const p=t&&C_(r,f)||f;Zc(r[p])&&Zc(d)?r[p]=sm(r[p],d):Zc(d)?r[p]=sm({},d):Rl(d)?r[p]=d.slice():(!i||!kl(d))&&(r[p]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&nu(arguments[d],o);return r}const Yj=(t,i,r,{allOwnKeys:o}={})=>(nu(i,(d,f)=>{r&&ni(d)?Object.defineProperty(t,f,{value:j_(d,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,f,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),$j=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xj=(t,i,r,o)=>{t.prototype=Object.create(i.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:i.prototype}),r&&Object.assign(t.prototype,r)},Jj=(t,i,r,o)=>{let d,f,p;const v={};if(i=i||{},t==null)return i;do{for(d=Object.getOwnPropertyNames(t),f=d.length;f-- >0;)p=d[f],(!o||o(p,t,i))&&!v[p]&&(i[p]=t[p],v[p]=!0);t=r!==!1&&Mm(t)}while(t&&(!r||r(t,i))&&t!==Object.prototype);return i},Wj=(t,i,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=i.length;const o=t.indexOf(i,r);return o!==-1&&o===r},ew=t=>{if(!t)return null;if(Rl(t))return t;let i=t.length;if(!T_(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=t[i];return r},tw=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&Mm(Uint8Array)),nw=(t,i)=>{const o=(t&&t[rd]).call(t);let d;for(;(d=o.next())&&!d.done;){const f=d.value;i.call(t,f[0],f[1])}},iw=(t,i)=>{let r;const o=[];for(;(r=t.exec(i))!==null;)o.push(r);return o},aw=Xi("HTMLFormElement"),sw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,d){return o.toUpperCase()+d}),mv=(({hasOwnProperty:t})=>(i,r)=>t.call(i,r))(Object.prototype),rw=Xi("RegExp"),A_=(t,i)=>{const r=Object.getOwnPropertyDescriptors(t),o={};nu(r,(d,f)=>{let p;(p=i(d,f,t))!==!1&&(o[f]=p||d)}),Object.defineProperties(t,o)},lw=t=>{A_(t,(i,r)=>{if(ni(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(ni(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ow=(t,i)=>{const r={},o=d=>{d.forEach(f=>{r[f]=!0})};return Rl(t)?o(t):o(String(t).split(i)),r},uw=()=>{},cw=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i;function dw(t){return!!(t&&ni(t.append)&&t[w_]==="FormData"&&t[rd])}const hw=t=>{const i=new Array(10),r=(o,d)=>{if(tu(o)){if(i.indexOf(o)>=0)return;if(eu(o))return o;if(!("toJSON"in o)){i[d]=o;const f=Rl(o)?[]:{};return nu(o,(p,v)=>{const x=r(p,d+1);!kl(x)&&(f[v]=x)}),i[d]=void 0,f}}return o};return r(t,0)},fw=Xi("AsyncFunction"),mw=t=>t&&(tu(t)||ni(t))&&ni(t.then)&&ni(t.catch),z_=((t,i)=>t?setImmediate:i?((r,o)=>(Nr.addEventListener("message",({source:d,data:f})=>{d===Nr&&f===r&&o.length&&o.shift()()},!1),d=>{o.push(d),Nr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ni(Nr.postMessage)),pw=typeof queueMicrotask<"u"?queueMicrotask.bind(Nr):typeof process<"u"&&process.nextTick||z_,gw=t=>t!=null&&ni(t[rd]),ge={isArray:Rl,isArrayBuffer:E_,isBuffer:eu,isFormData:qj,isArrayBufferView:Mj,isString:Rj,isNumber:T_,isBoolean:Lj,isObject:tu,isPlainObject:Zc,isEmptyObject:Dj,isReadableStream:Hj,isRequest:Kj,isResponse:Qj,isHeaders:Vj,isUndefined:kl,isDate:Pj,isFile:Bj,isBlob:Ij,isRegExp:rw,isFunction:ni,isStream:Zj,isURLSearchParams:Fj,isTypedArray:tw,isFileList:Uj,forEach:nu,merge:sm,extend:Yj,trim:Gj,stripBOM:$j,inherits:Xj,toFlatObject:Jj,kindOf:ld,kindOfTest:Xi,endsWith:Wj,toArray:ew,forEachEntry:nw,matchAll:iw,isHTMLForm:aw,hasOwnProperty:mv,hasOwnProp:mv,reduceDescriptors:A_,freezeMethods:lw,toObjectSet:ow,toCamelCase:sw,noop:uw,toFiniteNumber:cw,findKey:C_,global:Nr,isContextDefined:k_,isSpecCompliantForm:dw,toJSONObject:hw,isAsyncFn:fw,isThenable:mw,setImmediate:z_,asap:pw,isIterable:gw};let Qe=class O_ extends Error{static from(i,r,o,d,f,p){const v=new O_(i.message,r||i.code,o,d,f);return v.cause=i,v.name=i.name,p&&Object.assign(v,p),v}constructor(i,r,o,d,f){super(i),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),o&&(this.config=o),d&&(this.request=d),f&&(this.response=f,this.status=f.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}};Qe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Qe.ERR_BAD_OPTION="ERR_BAD_OPTION";Qe.ECONNABORTED="ECONNABORTED";Qe.ETIMEDOUT="ETIMEDOUT";Qe.ERR_NETWORK="ERR_NETWORK";Qe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Qe.ERR_DEPRECATED="ERR_DEPRECATED";Qe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Qe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Qe.ERR_CANCELED="ERR_CANCELED";Qe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Qe.ERR_INVALID_URL="ERR_INVALID_URL";const yw=null;function rm(t){return ge.isPlainObject(t)||ge.isArray(t)}function M_(t){return ge.endsWith(t,"[]")?t.slice(0,-2):t}function pv(t,i,r){return t?t.concat(i).map(function(d,f){return d=M_(d),!r&&f?"["+d+"]":d}).join(r?".":""):i}function vw(t){return ge.isArray(t)&&!t.some(rm)}const xw=ge.toFlatObject(ge,{},null,function(i){return/^is[A-Z]/.test(i)});function ud(t,i,r){if(!ge.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,r=ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,M){return!ge.isUndefined(M[A])});const o=r.metaTokens,d=r.visitor||S,f=r.dots,p=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(i);if(!ge.isFunction(d))throw new TypeError("visitor must be a function");function _(k){if(k===null)return"";if(ge.isDate(k))return k.toISOString();if(ge.isBoolean(k))return k.toString();if(!x&&ge.isBlob(k))throw new Qe("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(k)||ge.isTypedArray(k)?x&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,M){let H=k;if(k&&!M&&typeof k=="object"){if(ge.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(ge.isArray(k)&&vw(k)||(ge.isFileList(k)||ge.endsWith(A,"[]"))&&(H=ge.toArray(k)))return A=M_(A),H.forEach(function(q,V){!(ge.isUndefined(q)||q===null)&&i.append(p===!0?pv([A],V,f):p===null?A:A+"[]",_(q))}),!1}return rm(k)?!0:(i.append(pv(M,A,f),_(k)),!1)}const w=[],C=Object.assign(xw,{defaultVisitor:S,convertValue:_,isVisitable:rm});function z(k,A){if(!ge.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),ge.forEach(k,function(H,B){(!(ge.isUndefined(H)||H===null)&&d.call(i,H,ge.isString(B)?B.trim():B,A,C))===!0&&z(H,A?A.concat(B):[B])}),w.pop()}}if(!ge.isObject(t))throw new TypeError("data must be an object");return z(t),i}function gv(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function Rm(t,i){this._pairs=[],t&&ud(t,this,i)}const R_=Rm.prototype;R_.append=function(i,r){this._pairs.push([i,r])};R_.toString=function(i){const r=i?function(o){return i.call(this,o,gv)}:gv;return this._pairs.map(function(d){return r(d[0])+"="+r(d[1])},"").join("&")};function _w(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function L_(t,i,r){if(!i)return t;const o=r&&r.encode||_w,d=ge.isFunction(r)?{serialize:r}:r,f=d&&d.serialize;let p;if(f?p=f(i,d):p=ge.isURLSearchParams(i)?i.toString():new Rm(i,d).toString(o),p){const v=t.indexOf("#");v!==-1&&(t=t.slice(0,v)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class yv{constructor(){this.handlers=[]}use(i,r,o){return this.handlers.push({fulfilled:i,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){ge.forEach(this.handlers,function(o){o!==null&&i(o)})}}const D_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bw=typeof URLSearchParams<"u"?URLSearchParams:Rm,Nw=typeof FormData<"u"?FormData:null,Sw=typeof Blob<"u"?Blob:null,jw={isBrowser:!0,classes:{URLSearchParams:bw,FormData:Nw,Blob:Sw},protocols:["http","https","file","blob","url","data"]},Lm=typeof window<"u"&&typeof document<"u",lm=typeof navigator=="object"&&navigator||void 0,ww=Lm&&(!lm||["ReactNative","NativeScript","NS"].indexOf(lm.product)<0),Ew=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tw=Lm&&window.location.href||"http://localhost",Cw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lm,hasStandardBrowserEnv:ww,hasStandardBrowserWebWorkerEnv:Ew,navigator:lm,origin:Tw},Symbol.toStringTag,{value:"Module"})),Pn={...Cw,...jw};function kw(t,i){return ud(t,new Pn.classes.URLSearchParams,{visitor:function(r,o,d,f){return Pn.isNode&&ge.isBuffer(r)?(this.append(o,r.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...i})}function Aw(t){return ge.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function zw(t){const i={},r=Object.keys(t);let o;const d=r.length;let f;for(o=0;o<d;o++)f=r[o],i[f]=t[f];return i}function P_(t){function i(r,o,d,f){let p=r[f++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),x=f>=r.length;return p=!p&&ge.isArray(d)?d.length:p,x?(ge.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!v):((!d[p]||!ge.isObject(d[p]))&&(d[p]=[]),i(r,o,d[p],f)&&ge.isArray(d[p])&&(d[p]=zw(d[p])),!v)}if(ge.isFormData(t)&&ge.isFunction(t.entries)){const r={};return ge.forEachEntry(t,(o,d)=>{i(Aw(o),d,r,0)}),r}return null}function Ow(t,i,r){if(ge.isString(t))try{return(i||JSON.parse)(t),ge.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const iu={transitional:D_,adapter:["xhr","http","fetch"],transformRequest:[function(i,r){const o=r.getContentType()||"",d=o.indexOf("application/json")>-1,f=ge.isObject(i);if(f&&ge.isHTMLForm(i)&&(i=new FormData(i)),ge.isFormData(i))return d?JSON.stringify(P_(i)):i;if(ge.isArrayBuffer(i)||ge.isBuffer(i)||ge.isStream(i)||ge.isFile(i)||ge.isBlob(i)||ge.isReadableStream(i))return i;if(ge.isArrayBufferView(i))return i.buffer;if(ge.isURLSearchParams(i))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return kw(i,this.formSerializer).toString();if((v=ge.isFileList(i))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return ud(v?{"files[]":i}:i,x&&new x,this.formSerializer)}}return f||d?(r.setContentType("application/json",!1),Ow(i)):i}],transformResponse:[function(i){const r=this.transitional||iu.transitional,o=r&&r.forcedJSONParsing,d=this.responseType==="json";if(ge.isResponse(i)||ge.isReadableStream(i))return i;if(i&&ge.isString(i)&&(o&&!this.responseType||d)){const p=!(r&&r.silentJSONParsing)&&d;try{return JSON.parse(i,this.parseReviver)}catch(v){if(p)throw v.name==="SyntaxError"?Qe.from(v,Qe.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],t=>{iu.headers[t]={}});const Mw=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rw=t=>{const i={};let r,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),r=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!r||i[r]&&Mw[r])&&(r==="set-cookie"?i[r]?i[r].push(o):i[r]=[o]:i[r]=i[r]?i[r]+", "+o:o)}),i},vv=Symbol("internals");function Uo(t){return t&&String(t).trim().toLowerCase()}function qc(t){return t===!1||t==null?t:ge.isArray(t)?t.map(qc):String(t)}function Lw(t){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)i[o[1]]=o[2];return i}const Dw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yf(t,i,r,o,d){if(ge.isFunction(o))return o.call(this,i,r);if(d&&(i=r),!!ge.isString(i)){if(ge.isString(o))return i.indexOf(o)!==-1;if(ge.isRegExp(o))return o.test(i)}}function Pw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,o)=>r.toUpperCase()+o)}function Bw(t,i){const r=ge.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(d,f,p){return this[o].call(this,i,d,f,p)},configurable:!0})})}let ii=class{constructor(i){i&&this.set(i)}set(i,r,o){const d=this;function f(v,x,_){const S=Uo(x);if(!S)throw new Error("header name must be a non-empty string");const w=ge.findKey(d,S);(!w||d[w]===void 0||_===!0||_===void 0&&d[w]!==!1)&&(d[w||x]=qc(v))}const p=(v,x)=>ge.forEach(v,(_,S)=>f(_,S,x));if(ge.isPlainObject(i)||i instanceof this.constructor)p(i,r);else if(ge.isString(i)&&(i=i.trim())&&!Dw(i))p(Rw(i),r);else if(ge.isObject(i)&&ge.isIterable(i)){let v={},x,_;for(const S of i){if(!ge.isArray(S))throw TypeError("Object iterator must return a key-value pair");v[_=S[0]]=(x=v[_])?ge.isArray(x)?[...x,S[1]]:[x,S[1]]:S[1]}p(v,r)}else i!=null&&f(r,i,o);return this}get(i,r){if(i=Uo(i),i){const o=ge.findKey(this,i);if(o){const d=this[o];if(!r)return d;if(r===!0)return Lw(d);if(ge.isFunction(r))return r.call(this,d,o);if(ge.isRegExp(r))return r.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=Uo(i),i){const o=ge.findKey(this,i);return!!(o&&this[o]!==void 0&&(!r||yf(this,this[o],o,r)))}return!1}delete(i,r){const o=this;let d=!1;function f(p){if(p=Uo(p),p){const v=ge.findKey(o,p);v&&(!r||yf(o,o[v],v,r))&&(delete o[v],d=!0)}}return ge.isArray(i)?i.forEach(f):f(i),d}clear(i){const r=Object.keys(this);let o=r.length,d=!1;for(;o--;){const f=r[o];(!i||yf(this,this[f],f,i,!0))&&(delete this[f],d=!0)}return d}normalize(i){const r=this,o={};return ge.forEach(this,(d,f)=>{const p=ge.findKey(o,f);if(p){r[p]=qc(d),delete r[f];return}const v=i?Pw(f):String(f).trim();v!==f&&delete r[f],r[v]=qc(d),o[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return ge.forEach(this,(o,d)=>{o!=null&&o!==!1&&(r[d]=i&&ge.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const o=new this(i);return r.forEach(d=>o.set(d)),o}static accessor(i){const o=(this[vv]=this[vv]={accessors:{}}).accessors,d=this.prototype;function f(p){const v=Uo(p);o[v]||(Bw(d,p),o[v]=!0)}return ge.isArray(i)?i.forEach(f):f(i),this}};ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(ii.prototype,({value:t},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[r]=o}}});ge.freezeMethods(ii);function vf(t,i){const r=this||iu,o=i||r,d=ii.from(o.headers);let f=o.data;return ge.forEach(t,function(v){f=v.call(r,f,d.normalize(),i?i.status:void 0)}),d.normalize(),f}function B_(t){return!!(t&&t.__CANCEL__)}let au=class extends Qe{constructor(i,r,o){super(i??"canceled",Qe.ERR_CANCELED,r,o),this.name="CanceledError",this.__CANCEL__=!0}};function I_(t,i,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):i(new Qe("Request failed with status code "+r.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Iw(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function Uw(t,i){t=t||10;const r=new Array(t),o=new Array(t);let d=0,f=0,p;return i=i!==void 0?i:1e3,function(x){const _=Date.now(),S=o[f];p||(p=_),r[d]=x,o[d]=_;let w=f,C=0;for(;w!==d;)C+=r[w++],w=w%t;if(d=(d+1)%t,d===f&&(f=(f+1)%t),_-p<i)return;const z=S&&_-S;return z?Math.round(C*1e3/z):void 0}}function Zw(t,i){let r=0,o=1e3/i,d,f;const p=(_,S=Date.now())=>{r=S,d=null,f&&(clearTimeout(f),f=null),t(..._)};return[(..._)=>{const S=Date.now(),w=S-r;w>=o?p(_,S):(d=_,f||(f=setTimeout(()=>{f=null,p(d)},o-w)))},()=>d&&p(d)]}const Gc=(t,i,r=3)=>{let o=0;const d=Uw(50,250);return Zw(f=>{const p=f.loaded,v=f.lengthComputable?f.total:void 0,x=p-o,_=d(x),S=p<=v;o=p;const w={loaded:p,total:v,progress:v?p/v:void 0,bytes:x,rate:_||void 0,estimated:_&&v&&S?(v-p)/_:void 0,event:f,lengthComputable:v!=null,[i?"download":"upload"]:!0};t(w)},r)},xv=(t,i)=>{const r=t!=null;return[o=>i[0]({lengthComputable:r,total:t,loaded:o}),i[1]]},_v=t=>(...i)=>ge.asap(()=>t(...i)),qw=Pn.hasStandardBrowserEnv?((t,i)=>r=>(r=new URL(r,Pn.origin),t.protocol===r.protocol&&t.host===r.host&&(i||t.port===r.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,Fw=Pn.hasStandardBrowserEnv?{write(t,i,r,o,d,f,p){if(typeof document>"u")return;const v=[`${t}=${encodeURIComponent(i)}`];ge.isNumber(r)&&v.push(`expires=${new Date(r).toUTCString()}`),ge.isString(o)&&v.push(`path=${o}`),ge.isString(d)&&v.push(`domain=${d}`),f===!0&&v.push("secure"),ge.isString(p)&&v.push(`SameSite=${p}`),document.cookie=v.join("; ")},read(t){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return i?decodeURIComponent(i[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Hw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Kw(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function U_(t,i,r){let o=!Hw(i);return t&&(o||r==!1)?Kw(t,i):i}const bv=t=>t instanceof ii?{...t}:t;function Er(t,i){i=i||{};const r={};function o(_,S,w,C){return ge.isPlainObject(_)&&ge.isPlainObject(S)?ge.merge.call({caseless:C},_,S):ge.isPlainObject(S)?ge.merge({},S):ge.isArray(S)?S.slice():S}function d(_,S,w,C){if(ge.isUndefined(S)){if(!ge.isUndefined(_))return o(void 0,_,w,C)}else return o(_,S,w,C)}function f(_,S){if(!ge.isUndefined(S))return o(void 0,S)}function p(_,S){if(ge.isUndefined(S)){if(!ge.isUndefined(_))return o(void 0,_)}else return o(void 0,S)}function v(_,S,w){if(w in i)return o(_,S);if(w in t)return o(void 0,_)}const x={url:f,method:f,data:f,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(_,S,w)=>d(bv(_),bv(S),w,!0)};return ge.forEach(Object.keys({...t,...i}),function(S){const w=x[S]||d,C=w(t[S],i[S],S);ge.isUndefined(C)&&w!==v||(r[S]=C)}),r}const Z_=t=>{const i=Er({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:p,auth:v}=i;if(i.headers=p=ii.from(p),i.url=L_(U_(i.baseURL,i.url,i.allowAbsoluteUrls),t.params,t.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),ge.isFormData(r)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ge.isFunction(r.getHeaders)){const x=r.getHeaders(),_=["content-type","content-length"];Object.entries(x).forEach(([S,w])=>{_.includes(S.toLowerCase())&&p.set(S,w)})}}if(Pn.hasStandardBrowserEnv&&(o&&ge.isFunction(o)&&(o=o(i)),o||o!==!1&&qw(i.url))){const x=d&&f&&Fw.read(f);x&&p.set(d,x)}return i},Qw=typeof XMLHttpRequest<"u",Vw=Qw&&function(t){return new Promise(function(r,o){const d=Z_(t);let f=d.data;const p=ii.from(d.headers).normalize();let{responseType:v,onUploadProgress:x,onDownloadProgress:_}=d,S,w,C,z,k;function A(){z&&z(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let M=new XMLHttpRequest;M.open(d.method.toUpperCase(),d.url,!0),M.timeout=d.timeout;function H(){if(!M)return;const q=ii.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),Y={data:!v||v==="text"||v==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:q,config:t,request:M};I_(function(ee){r(ee),A()},function(ee){o(ee),A()},Y),M=null}"onloadend"in M?M.onloadend=H:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(H)},M.onabort=function(){M&&(o(new Qe("Request aborted",Qe.ECONNABORTED,t,M)),M=null)},M.onerror=function(V){const Y=V&&V.message?V.message:"Network Error",G=new Qe(Y,Qe.ERR_NETWORK,t,M);G.event=V||null,o(G),M=null},M.ontimeout=function(){let V=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Y=d.transitional||D_;d.timeoutErrorMessage&&(V=d.timeoutErrorMessage),o(new Qe(V,Y.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,t,M)),M=null},f===void 0&&p.setContentType(null),"setRequestHeader"in M&&ge.forEach(p.toJSON(),function(V,Y){M.setRequestHeader(Y,V)}),ge.isUndefined(d.withCredentials)||(M.withCredentials=!!d.withCredentials),v&&v!=="json"&&(M.responseType=d.responseType),_&&([C,k]=Gc(_,!0),M.addEventListener("progress",C)),x&&M.upload&&([w,z]=Gc(x),M.upload.addEventListener("progress",w),M.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(S=q=>{M&&(o(!q||q.type?new au(null,t,M):q),M.abort(),M=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const B=Iw(d.url);if(B&&Pn.protocols.indexOf(B)===-1){o(new Qe("Unsupported protocol "+B+":",Qe.ERR_BAD_REQUEST,t));return}M.send(f||null)})},Gw=(t,i)=>{const{length:r}=t=t?t.filter(Boolean):[];if(i||r){let o=new AbortController,d;const f=function(_){if(!d){d=!0,v();const S=_ instanceof Error?_:this.reason;o.abort(S instanceof Qe?S:new au(S instanceof Error?S.message:S))}};let p=i&&setTimeout(()=>{p=null,f(new Qe(`timeout of ${i}ms exceeded`,Qe.ETIMEDOUT))},i);const v=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(f):_.removeEventListener("abort",f)}),t=null)};t.forEach(_=>_.addEventListener("abort",f));const{signal:x}=o;return x.unsubscribe=()=>ge.asap(v),x}},Yw=function*(t,i){let r=t.byteLength;if(r<i){yield t;return}let o=0,d;for(;o<r;)d=o+i,yield t.slice(o,d),o=d},$w=async function*(t,i){for await(const r of Xw(t))yield*Yw(r,i)},Xw=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:r,value:o}=await i.read();if(r)break;yield o}}finally{await i.cancel()}},Nv=(t,i,r,o)=>{const d=$w(t,i);let f=0,p,v=x=>{p||(p=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:_,value:S}=await d.next();if(_){v(),x.close();return}let w=S.byteLength;if(r){let C=f+=w;r(C)}x.enqueue(new Uint8Array(S))}catch(_){throw v(_),_}},cancel(x){return v(x),d.return()}},{highWaterMark:2})},Sv=64*1024,{isFunction:Tc}=ge,Jw=(({Request:t,Response:i})=>({Request:t,Response:i}))(ge.global),{ReadableStream:jv,TextEncoder:wv}=ge.global,Ev=(t,...i)=>{try{return!!t(...i)}catch{return!1}},Ww=t=>{t=ge.merge.call({skipUndefined:!0},Jw,t);const{fetch:i,Request:r,Response:o}=t,d=i?Tc(i):typeof fetch=="function",f=Tc(r),p=Tc(o);if(!d)return!1;const v=d&&Tc(jv),x=d&&(typeof wv=="function"?(k=>A=>k.encode(A))(new wv):async k=>new Uint8Array(await new r(k).arrayBuffer())),_=f&&v&&Ev(()=>{let k=!1;const A=new r(Pn.origin,{body:new jv,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=p&&v&&Ev(()=>ge.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,M)=>{let H=A&&A[k];if(H)return H.call(A);throw new Qe(`Response type '${k}' is not supported`,Qe.ERR_NOT_SUPPORT,M)})});const C=async k=>{if(k==null)return 0;if(ge.isBlob(k))return k.size;if(ge.isSpecCompliantForm(k))return(await new r(Pn.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(k)||ge.isArrayBuffer(k))return k.byteLength;if(ge.isURLSearchParams(k)&&(k=k+""),ge.isString(k))return(await x(k)).byteLength},z=async(k,A)=>{const M=ge.toFiniteNumber(k.getContentLength());return M??C(A)};return async k=>{let{url:A,method:M,data:H,signal:B,cancelToken:q,timeout:V,onDownloadProgress:Y,onUploadProgress:G,responseType:ee,headers:X,withCredentials:$="same-origin",fetchOptions:ve}=Z_(k),ae=i||fetch;ee=ee?(ee+"").toLowerCase():"text";let ce=Gw([B,q&&q.toAbortSignal()],V),oe=null;const Z=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let re;try{if(G&&_&&M!=="get"&&M!=="head"&&(re=await z(X,H))!==0){let O=new r(A,{method:"POST",body:H,duplex:"half"}),ie;if(ge.isFormData(H)&&(ie=O.headers.get("content-type"))&&X.setContentType(ie),O.body){const[P,F]=xv(re,Gc(_v(G)));H=Nv(O.body,Sv,P,F)}}ge.isString($)||($=$?"include":"omit");const U=f&&"credentials"in r.prototype,se={...ve,signal:ce,method:M.toUpperCase(),headers:X.normalize().toJSON(),body:H,duplex:"half",credentials:U?$:void 0};oe=f&&new r(A,se);let he=await(f?ae(oe,ve):ae(A,se));const Ee=S&&(ee==="stream"||ee==="response");if(S&&(Y||Ee&&Z)){const O={};["status","statusText","headers"].forEach(ye=>{O[ye]=he[ye]});const ie=ge.toFiniteNumber(he.headers.get("content-length")),[P,F]=Y&&xv(ie,Gc(_v(Y),!0))||[];he=new o(Nv(he.body,Sv,P,()=>{F&&F(),Z&&Z()}),O)}ee=ee||"text";let W=await w[ge.findKey(w,ee)||"text"](he,k);return!Ee&&Z&&Z(),await new Promise((O,ie)=>{I_(O,ie,{data:W,headers:ii.from(he.headers),status:he.status,statusText:he.statusText,config:k,request:oe})})}catch(U){throw Z&&Z(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,k,oe),{cause:U.cause||U}):Qe.from(U,U&&U.code,k,oe)}}},eE=new Map,q_=t=>{let i=t&&t.env||{};const{fetch:r,Request:o,Response:d}=i,f=[o,d,r];let p=f.length,v=p,x,_,S=eE;for(;v--;)x=f[v],_=S.get(x),_===void 0&&S.set(x,_=v?new Map:Ww(i)),S=_;return _};q_();const Dm={http:yw,xhr:Vw,fetch:{get:q_}};ge.forEach(Dm,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const Tv=t=>`- ${t}`,tE=t=>ge.isFunction(t)||t===null||t===!1;function nE(t,i){t=ge.isArray(t)?t:[t];const{length:r}=t;let o,d;const f={};for(let p=0;p<r;p++){o=t[p];let v;if(d=o,!tE(o)&&(d=Dm[(v=String(o)).toLowerCase()],d===void 0))throw new Qe(`Unknown adapter '${v}'`);if(d&&(ge.isFunction(d)||(d=d.get(i))))break;f[v||"#"+p]=d}if(!d){const p=Object.entries(f).map(([x,_])=>`adapter ${x} `+(_===!1?"is not supported by the environment":"is not available in the build"));let v=r?p.length>1?`since :
`+p.map(Tv).join(`
`):" "+Tv(p[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return d}const F_={getAdapter:nE,adapters:Dm};function xf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new au(null,t)}function Cv(t){return xf(t),t.headers=ii.from(t.headers),t.data=vf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),F_.getAdapter(t.adapter||iu.adapter,t)(t).then(function(o){return xf(t),o.data=vf.call(t,t.transformResponse,o),o.headers=ii.from(o.headers),o},function(o){return B_(o)||(xf(t),o&&o.response&&(o.response.data=vf.call(t,t.transformResponse,o.response),o.response.headers=ii.from(o.response.headers))),Promise.reject(o)})}const H_="1.13.4",cd={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{cd[t]=function(o){return typeof o===t||"a"+(i<1?"n ":" ")+t}});const kv={};cd.transitional=function(i,r,o){function d(f,p){return"[Axios v"+H_+"] Transitional option '"+f+"'"+p+(o?". "+o:"")}return(f,p,v)=>{if(i===!1)throw new Qe(d(p," has been removed"+(r?" in "+r:"")),Qe.ERR_DEPRECATED);return r&&!kv[p]&&(kv[p]=!0,console.warn(d(p," has been deprecated since v"+r+" and will be removed in the near future"))),i?i(f,p,v):!0}};cd.spelling=function(i){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function iE(t,i,r){if(typeof t!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const f=o[d],p=i[f];if(p){const v=t[f],x=v===void 0||p(v,f,t);if(x!==!0)throw new Qe("option "+f+" must be "+x,Qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qe("Unknown option "+f,Qe.ERR_BAD_OPTION)}}const Fc={assertOptions:iE,validators:cd},pa=Fc.validators;let Sr=class{constructor(i){this.defaults=i||{},this.interceptors={request:new yv,response:new yv}}async request(i,r){try{return await this._request(i,r)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=Er(this.defaults,r);const{transitional:o,paramsSerializer:d,headers:f}=r;o!==void 0&&Fc.assertOptions(o,{silentJSONParsing:pa.transitional(pa.boolean),forcedJSONParsing:pa.transitional(pa.boolean),clarifyTimeoutError:pa.transitional(pa.boolean)},!1),d!=null&&(ge.isFunction(d)?r.paramsSerializer={serialize:d}:Fc.assertOptions(d,{encode:pa.function,serialize:pa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fc.assertOptions(r,{baseUrl:pa.spelling("baseURL"),withXsrfToken:pa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let p=f&&ge.merge(f.common,f[r.method]);f&&ge.forEach(["delete","get","head","post","put","patch","common"],k=>{delete f[k]}),r.headers=ii.concat(p,f);const v=[];let x=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(x=x&&A.synchronous,v.unshift(A.fulfilled,A.rejected))});const _=[];this.interceptors.response.forEach(function(A){_.push(A.fulfilled,A.rejected)});let S,w=0,C;if(!x){const k=[Cv.bind(this),void 0];for(k.unshift(...v),k.push(..._),C=k.length,S=Promise.resolve(r);w<C;)S=S.then(k[w++],k[w++]);return S}C=v.length;let z=r;for(;w<C;){const k=v[w++],A=v[w++];try{z=k(z)}catch(M){A.call(this,M);break}}try{S=Cv.call(this,z)}catch(k){return Promise.reject(k)}for(w=0,C=_.length;w<C;)S=S.then(_[w++],_[w++]);return S}getUri(i){i=Er(this.defaults,i);const r=U_(i.baseURL,i.url,i.allowAbsoluteUrls);return L_(r,i.params,i.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(i){Sr.prototype[i]=function(r,o){return this.request(Er(o||{},{method:i,url:r,data:(o||{}).data}))}});ge.forEach(["post","put","patch"],function(i){function r(o){return function(f,p,v){return this.request(Er(v||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:p}))}}Sr.prototype[i]=r(),Sr.prototype[i+"Form"]=r(!0)});let aE=class K_{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(f){r=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const p=new Promise(v=>{o.subscribe(v),f=v}).then(d);return p.cancel=function(){o.unsubscribe(f)},p},i(function(f,p,v){o.reason||(o.reason=new au(f,p,v),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const i=new AbortController,r=o=>{i.abort(o)};return this.subscribe(r),i.signal.unsubscribe=()=>this.unsubscribe(r),i.signal}static source(){let i;return{token:new K_(function(d){i=d}),cancel:i}}};function sE(t){return function(r){return t.apply(null,r)}}function rE(t){return ge.isObject(t)&&t.isAxiosError===!0}const om={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(om).forEach(([t,i])=>{om[i]=t});function Q_(t){const i=new Sr(t),r=j_(Sr.prototype.request,i);return ge.extend(r,Sr.prototype,i,{allOwnKeys:!0}),ge.extend(r,i,null,{allOwnKeys:!0}),r.create=function(d){return Q_(Er(t,d))},r}const Pt=Q_(iu);Pt.Axios=Sr;Pt.CanceledError=au;Pt.CancelToken=aE;Pt.isCancel=B_;Pt.VERSION=H_;Pt.toFormData=ud;Pt.AxiosError=Qe;Pt.Cancel=Pt.CanceledError;Pt.all=function(i){return Promise.all(i)};Pt.spread=sE;Pt.isAxiosError=rE;Pt.mergeConfig=Er;Pt.AxiosHeaders=ii;Pt.formToJSON=t=>P_(ge.isHTMLForm(t)?new FormData(t):t);Pt.getAdapter=F_.getAdapter;Pt.HttpStatusCode=om;Pt.default=Pt;const{Axios:Zz,AxiosError:qz,CanceledError:Fz,isCancel:Hz,CancelToken:Kz,VERSION:Qz,all:Vz,Cancel:Gz,isAxiosError:Yz,spread:$z,toFormData:Xz,AxiosHeaders:Jz,HttpStatusCode:Wz,formToJSON:eO,getAdapter:tO,mergeConfig:nO}=Pt,Pm="puantaj_access_token",Yc="puantaj_refresh_token";function V_(){return localStorage.getItem(Pm)}function um(){return localStorage.getItem(Yc)}function cm(t,i){if(localStorage.setItem(Pm,t),i){localStorage.setItem(Yc,i);return}localStorage.removeItem(Yc)}function G_(){localStorage.removeItem(Pm),localStorage.removeItem(Yc)}function lE(t){try{const i=t.split(".")[1];if(!i)return null;const r=i.replace(/-/g,"+").replace(/_/g,"/"),o=r.padEnd(r.length+(4-r.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function oE(t){if(!t)return!1;const i=lE(t);if(!i?.exp)return!1;const r=Math.floor(Date.now()/1e3);return i.exp>r+10}const dm="http://127.0.0.1:8000",uE=dm.includes("127.0.0.1")||dm.includes("localhost"),cE=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Y_=cE&&uE?window.location.origin:dm,_f="/admin-panel/",Cc=_f.endsWith("/")?_f.slice(0,-1):_f,Oe=Pt.create({baseURL:Y_,headers:{"Content-Type":"application/json"}});function Av(){if(G_(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,i=Cc&&t.startsWith(Cc)?t.slice(Cc.length)||"/":t;if(i==="/login"||i.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const r=`${Cc}/login?redirect=${encodeURIComponent(i)}`;window.location.replace(r)}Oe.interceptors.request.use(t=>{const i=V_();return i&&(t.headers.Authorization=`Bearer ${i}`),t});let kc=null;async function dE(){const t=um();if(!t)return Av(),null;try{const i=await Pt.post(`${Y_}/api/admin/auth/refresh`,{refresh_token:t});return cm(i.data.access_token,i.data.refresh_token??t),i.data.access_token}catch{return Av(),null}}Oe.interceptors.response.use(t=>t,async t=>{const i=t.config;if(!i||t.response?.status!==401||i._retry)return Promise.reject(t);const o=i.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);i._retry=!0,kc||(kc=dE().finally(()=>{kc=null}));const f=await kc;return f?(i.headers.Authorization=`Bearer ${f}`,Oe(i)):Promise.reject(t)});async function hE(t){return(await Oe.post("/api/admin/auth/login",t)).data}async function fE(t){return(await Oe.post("/api/admin/auth/refresh",t)).data}async function mE(t){return(await Oe.post("/api/admin/auth/logout",t)).data}async function bf(){return(await Oe.get("/api/admin/auth/me")).data}async function pE(){return(await Oe.get("/api/admin/admin-users")).data}async function dd(t){return(await Oe.get("/api/admin/regions",{params:t})).data}async function gE(t){return(await Oe.post("/api/admin/regions",t)).data}async function yE(t,i){return(await Oe.patch(`/api/admin/regions/${t}`,i)).data}async function vE(t){return(await Oe.post("/api/admin/admin-users",t)).data}async function xE(t,i){return(await Oe.patch(`/api/admin/admin-users/${t}`,i)).data}async function _E(t){await Oe.delete(`/api/admin/admin-users/${t}`)}async function Ms(){return(await Oe.get("/admin/departments")).data}async function bE(t){return(await Oe.get("/admin/departments",{params:t})).data}async function NE(t){return(await Oe.post("/admin/departments",t)).data}async function SE(t,i){return(await Oe.patch(`/admin/departments/${t}`,i)).data}async function Ka(t={}){return(await Oe.get("/admin/employees",{params:t})).data}async function jE(t){return(await Oe.post("/admin/employees",t)).data}async function wE(t){return(await Oe.get(`/api/admin/employees/${t}/detail`)).data}async function EE(t,i){return(await Oe.patch(`/api/admin/employees/${t}`,i)).data}async function $_(t,i){return(await Oe.patch(`/api/admin/employees/${t}/active`,i)).data}async function TE(t,i){return(await Oe.patch(`/api/admin/employees/${t}/shift`,i)).data}async function CE(t,i){return(await Oe.patch(`/api/admin/employees/${t}/department`,i)).data}async function kE(t,i){return(await Oe.put(`/admin/employee-locations/${t}`,i)).data}async function AE(){return(await Oe.get("/admin/work-rules")).data}async function zE(t){return(await Oe.post("/admin/work-rules",t)).data}async function X_(t){return(await Oe.get("/admin/department-weekly-rules",{params:t})).data}async function J_(t){return(await Oe.post("/admin/department-weekly-rules",t)).data}async function su(t){return(await Oe.get("/admin/department-shifts",{params:t})).data}async function $c(t){return(await Oe.post("/admin/department-shifts",t)).data}async function W_(t){return(await Oe.delete(`/admin/department-shifts/${t}`)).data}async function OE(t={}){return(await Oe.get("/api/admin/qr/codes",{params:t})).data}async function ME(t){return(await Oe.post("/api/admin/qr/codes",t)).data}async function RE(t,i){return(await Oe.patch(`/api/admin/qr/codes/${t}`,i)).data}async function LE(t,i){return(await Oe.post(`/api/admin/qr/codes/${t}/points`,i)).data}async function DE(t,i){return(await Oe.delete(`/api/admin/qr/codes/${t}/points/${i}`)).data}async function PE(t={}){return(await Oe.get("/api/admin/qr/points",{params:t})).data}async function BE(t){return(await Oe.post("/api/admin/qr/points",t)).data}async function IE(t,i){return(await Oe.patch(`/api/admin/qr/points/${t}`,i)).data}async function UE(t){return(await Oe.delete(`/api/admin/qr/points/${t}`)).data}async function zv(t){return(await Oe.post("/api/admin/schedule-plans",t)).data}async function ZE(t={}){return(await Oe.get("/api/admin/schedule-plans",{params:t})).data}async function qE(t){return(await Oe.delete(`/api/admin/schedule-plans/${t}`)).data}async function e0(t={}){return(await Oe.get("/admin/attendance-events",{params:t})).data}async function FE(t){return(await Oe.post("/api/admin/attendance-events",t)).data}async function HE(t,i){return(await Oe.patch(`/api/admin/attendance-events/${t}`,i)).data}async function KE(t,i=!1){return(await Oe.delete(`/api/admin/attendance-events/${t}`,{params:{force:i}})).data}async function t0(t={}){return(await Oe.get("/api/admin/audit-logs",{params:t})).data}async function QE(){return(await Oe.get("/admin/devices")).data}async function Ov(t={}){return(await Oe.get("/api/admin/employee-device-overview",{params:t})).data}async function VE(t,i){return(await Oe.patch(`/api/admin/devices/${t}/active`,i)).data}async function n0(t={}){return(await Oe.get("/api/admin/leaves",{params:t})).data}async function GE(t){return(await Oe.post("/api/admin/leaves",t)).data}async function YE(t){await Oe.delete(`/api/admin/leaves/${t}`)}async function i0(t){return(await Oe.post("/api/admin/device-invite",t)).data}async function hm(t){return(await Oe.get("/api/admin/monthly/employee",{params:t})).data}async function $E(t){return(await Oe.get("/api/admin/monthly/department-summary",{params:t})).data}async function XE(t,i){return(await Oe.post("/api/admin/manual-overrides/day",i,{params:{employee_id:t}})).data}async function JE(t,i,r){return(await Oe.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:i,month:r}})).data}async function WE(t){await Oe.delete(`/api/admin/manual-overrides/day/${t}`)}async function e1(){return(await Oe.get("/api/admin/compliance-settings")).data}async function t1(t){return(await Oe.put("/api/admin/compliance-settings",t)).data}async function n1(t){return(await Oe.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function i1(t){return(await Oe.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function a1(t){return(await Oe.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function s1(t){return(await Oe.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function r1(t){return(await Oe.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const a0=j.createContext(void 0);function l1({children:t}){const[i,r]=j.useState(null),[o,d]=j.useState(!0),f=j.useCallback(()=>{G_(),r(null)},[]),p=j.useCallback(async()=>{const w=um();if(!w)return f(),!1;try{const C=await fE({refresh_token:w});cm(C.access_token,C.refresh_token??w);const z=await bf();return r(z),!0}catch{return f(),!1}},[f]),v=j.useCallback(async()=>{const w=V_();if(!w){r(null),d(!1);return}if(oE(w)){try{const C=await bf();r(C)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);j.useEffect(()=>{v()},[v]),j.useEffect(()=>{const w=()=>{r(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const x=j.useCallback(async(w,C)=>{const z=await hE({username:w,password:C});cm(z.access_token,z.refresh_token);const k=await bf();r(k)},[]),_=j.useCallback(async()=>{const w=um();if(w)try{await mE({refresh_token:w})}catch{}f()},[f]),S=j.useMemo(()=>({user:i,isAuthenticated:!!i,isBootstrapping:o,isSuperAdmin:!!i?.is_super_admin,login:x,logout:_,refreshSession:p,hasPermission:(w,C="read")=>{if(!i)return!1;if(i.is_super_admin)return!0;const z=i.permissions?.[w];return z?C==="write"?!!z.write:!!(z.read||z.write):!1}}),[i,o,x,_,p]);return l.jsx(a0.Provider,{value:S,children:t})}function ru(){const t=j.useContext(a0);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const o1=[{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Bolgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],u1={"/dashboard":"Genel Bak","/regions":"Bolgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function c1(){const t=$i(),{user:i,logout:r,hasPermission:o}=ru(),d=o1.filter(p=>!p.permission||o(p.permission)),f=u1[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel");return l.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[l.jsxs("aside",{className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[l.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),l.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),l.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:d.map(p=>l.jsx(N_,{to:p.to,className:({isActive:v})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${v?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:p.label},p.to))}),l.jsxs("div",{className:"admin-signature",children:[l.jsx("p",{className:"admin-signature-main",children:As.signatureText}),l.jsx("p",{className:"admin-signature-sub",children:As.signatureTagline})]})]}),l.jsxs("div",{className:"flex min-h-screen flex-col",children:[l.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-6 py-4 backdrop-blur",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:f}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",i?.username??i?.sub??"admin"," / Rol: ",i?.role??"admin"]})]}),l.jsx("button",{type:"button",onClick:()=>{r()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})}),l.jsx("main",{className:"admin-main flex-1 p-6",children:l.jsx(Am,{})}),l.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[l.jsx("span",{className:"admin-footer-brand",children:As.signatureText}),l.jsx("span",{className:"admin-footer-sub",children:As.signatureTagline}),l.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",As.buildVersion]})]})]})]})}function d1(){const{isAuthenticated:t,isBootstrapping:i}=ru(),r=$i();if(i)return l.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${r.pathname}${r.search}`;return l.jsx(km,{to:"/login",replace:!0,state:{from:o}})}return l.jsx(Am,{})}function h1(){const{isAuthenticated:t,isBootstrapping:i}=ru();return i?l.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?l.jsx(km,{to:"/dashboard",replace:!0}):l.jsx(Am,{})}const Mv={INVALID_CREDENTIALS:"Kullanc adi veya ifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giri yapin.",FORBIDDEN:"Bu islem iin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin."};function Be(t,i){if(Pt.isAxiosError(t)){const r=t.response?.data;if(typeof r=="string")return{message:r};const o=r?.error?.code,d=r?.error?.request_id,f=r?.error?.message;if(o&&Mv[o])return{code:o,requestId:d,message:Mv[o]};if(f)return{code:o,requestId:d,message:f};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:i}}function f1(t,i){return Be(t,i).message}function Ac(t){return`#${t.id} - ${t.full_name}`}function Ha({label:t,employees:i,value:r,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:f="Seiniz",helperText:p,disabled:v=!1,className:x=""}){const _=j.useMemo(()=>i.find(M=>String(M.id)===r),[i,r]),[S,w]=j.useState(_?Ac(_):""),[C,z]=j.useState(!1);j.useEffect(()=>{if(_){w(Ac(_));return}r||w("")},[_,r]);const k=j.useMemo(()=>{const M=S.trim().toLowerCase();return(M?i.filter(B=>{const q=B.full_name.toLowerCase().includes(M),V=String(B.id).includes(M.replace("#",""));return q||V}):i).slice(0,60)},[i,S]),A=M=>{o(String(M.id)),w(Ac(M)),z(!1)};return l.jsxs("div",{className:x,children:[l.jsxs("label",{className:"text-sm text-slate-700",children:[t,l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:"text",value:S,disabled:v,onFocus:()=>z(!0),onChange:M=>{const H=M.target.value;w(H),z(!0),H.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),l.jsx("button",{type:"button",disabled:v,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?l.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[l.jsx("button",{type:"button",onMouseDown:M=>M.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:l.jsx("span",{children:f})}),k.map(M=>l.jsxs("button",{type:"button",onMouseDown:H=>H.preventDefault(),onClick:()=>A(M),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[l.jsx("span",{children:Ac(M)}),M.is_active?null:l.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},M.id)),k.length===0?l.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function Ot({message:t}){return l.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function Qt({label:t="Ykleniyor..."}){return l.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[l.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),l.jsx("span",{children:t})]})}function Go({open:t,title:i,onClose:r,children:o}){return t?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:l.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:i}),l.jsx("button",{type:"button",onClick:r,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function An({title:t,description:i,action:r}){return l.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),i?l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:i}):null]}),r]})}function Me({children:t,className:i=""}){return l.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${i}`,children:t})}function s0({suspicious:t,label:i="Supheli",tooltip:r}){return t?l.jsx("span",{className:"status-badge status-badge-incomplete",title:r,children:i}):l.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const m1={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function ya(t){return m1[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function p1(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function g1(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function r0({reasons:t}){return t.length===0?l.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):l.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(i=>l.jsx("span",{title:ya(i).description,className:g1(ya(i).tone),children:ya(i).label},i))})}const l0=j.createContext(void 0);function y1(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function v1({children:t}){const[i,r]=j.useState([]),o=j.useCallback(p=>{r(v=>v.map(x=>x.id===p?{...x,isClosing:!0}:x)),window.setTimeout(()=>{r(v=>v.filter(x=>x.id!==p))},170)},[]),d=j.useCallback(p=>{const v=crypto.randomUUID(),x={id:v,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};r(_=>[..._,x]),window.setTimeout(()=>{o(v)},x.durationMs)},[o]),f=j.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return l.jsxs(l0.Provider,{value:f,children:[t,l.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:i.map(p=>l.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${y1(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?l.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),l.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function Hn(){const t=j.useContext(l0);return t||{pushToast:()=>{},removeToast:()=>{}}}const x1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],_1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],zc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function qo(t,i){return t[i]===!0}function Rv(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const i=Number(t.trim());if(Number.isInteger(i)&&i>0)return i}return null}function Lv(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function b1(t){const i=new Date(t);return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function N1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function Nf(t){const i=[],r=t.flags.reason==="home_location_not_set";return qo(t.flags,"DUPLICATE_EVENT")&&i.push("DUPLICATE_EVENT"),qo(t.flags,"MANUAL_CHECKOUT")&&i.push("MANUAL_CHECKOUT"),qo(t.flags,"NEEDS_SHIFT_REVIEW")&&i.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&i.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&!r&&i.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||qo(t.flags,"ADMIN_MANUAL"))&&i.push("ADMIN_MANUAL_EVENT"),i}function Sf(t){const i=Number(t);return Number.isInteger(i)&&i>0?i:null}function S1(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(zc),[d,f]=j.useState(zc),[p,v]=j.useState(""),[x,_]=j.useState("IN"),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(""),[M,H]=j.useState(!1),[B,q]=j.useState(null),[V,Y]=j.useState("IN"),[G,ee]=j.useState(""),[X,$]=j.useState(""),[ve,ae]=j.useState(""),[ce,oe]=j.useState(!1),[Z,re]=j.useState(!1),[U,se]=j.useState(null),[he,Ee]=j.useState(!1),W=He({queryKey:["employees","all"],queryFn:()=>Ka({status:"all",include_inactive:!0})}),O=He({queryKey:["departments"],queryFn:Ms}),ie=He({queryKey:["department-shifts","all"],queryFn:()=>su({active_only:!1})}),P=j.useMemo(()=>{const Q=Number(d.employeeId),Ae=Number(d.departmentId),St=Number(d.limit);return{employee_id:Q>0?Q:void 0,department_id:Ae>0?Ae:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:St>0?St:200}},[d]),F=He({queryKey:["attendance-events",P],queryFn:()=>e0(P)}),ye=He({queryKey:["audit-logs","attendance-events"],queryFn:()=>t0({entity_type:"attendance_event",limit:50})}),we=Ge({mutationFn:FE,onSuccess:()=>{i({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),H(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:Q=>{i({variant:"error",title:"Kayt oluturulamad",description:Be(Q,"lem baarsz.").message})}}),ke=Ge({mutationFn:({eventId:Q,payload:Ae})=>HE(Q,Ae),onSuccess:()=>{i({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),q(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:Q=>{i({variant:"error",title:"Event gncellenemedi",description:Be(Q,"lem baarsz.").message})}}),Ze=Ge({mutationFn:({eventId:Q,force:Ae})=>KE(Q,Ae),onSuccess:()=>{i({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),se(null),Ee(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:Q=>{i({variant:"error",title:"Silme baarsz",description:Be(Q,"lem baarsz.").message})}}),qe=W.data??[],dt=O.data??[],it=ie.data??[],Bt=F.data??[],Mt=j.useMemo(()=>new Map(qe.map(Q=>[Q.id,Q])),[qe]),Gt=j.useMemo(()=>new Map(qe.map(Q=>[Q.id,Q.full_name])),[qe]),an=j.useMemo(()=>new Map(dt.map(Q=>[Q.id,Q.name])),[dt]),Yt=j.useMemo(()=>new Map(it.map(Q=>[Q.id,Q])),[it]),ln=j.useMemo(()=>Mt.get(Number(p)),[Mt,p]),on=j.useMemo(()=>ln?.department_id?it.filter(Q=>Q.department_id===ln.department_id):it,[ln?.department_id,it]),bn=j.useMemo(()=>{if(!B)return it;const Q=Mt.get(B.employee_id);return Q?.department_id?it.filter(Ae=>Ae.department_id===Q.department_id):it},[Mt,B,it]),J=j.useMemo(()=>d.suspiciousOnly?Bt.filter(Q=>Nf(Q).length>0):Bt,[Bt,d.suspiciousOnly]),Te=()=>f({...r}),Ve=()=>{o(zc),f(zc)},kt=Q=>{Q.preventDefault();const Ae=Sf(p);if(!Ae||!S){i({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const St=Sf(k);we.mutate({employee_id:Ae,type:x,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:St??void 0,allow_duplicate:M})},Ye=Q=>{q(Q),Y(Q.type),ee(b1(Q.ts_utc)),$(Q.note??""),oe(!1),re(!1),ae(String(Rv(Q.flags.SHIFT_ID)??""))},xe=Q=>{if(Q.preventDefault(),!B||!G)return;const Ae=Sf(ve);ke.mutate({eventId:B.id,payload:{type:V,ts_utc:new Date(G).toISOString(),note:X||null,shift_id:Ae??void 0,allow_duplicate:ce,force_edit:Z}})};return W.isLoading||O.isLoading||ie.isLoading?l.jsx(Qt,{}):W.isError||O.isError||ie.isError?l.jsx(Ot,{message:"alan/departman/vardiya bilgileri alnamad."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[l.jsx(Ha,{label:"alan",employees:qe,value:r.employeeId,onChange:Q=>o(Ae=>({...Ae,employeeId:Q})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:r.departmentId,onChange:Q=>o(Ae=>({...Ae,departmentId:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tm"}),dt.map(Q=>l.jsxs("option",{value:Q.id,children:["#",Q.id," - ",Q.name]},Q.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",l.jsx("input",{type:"date",value:r.dateFrom,onChange:Q=>o(Ae=>({...Ae,dateFrom:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",l.jsx("input",{type:"date",value:r.dateTo,onChange:Q=>o(Ae=>({...Ae,dateTo:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",l.jsx("select",{value:r.eventType,onChange:Q=>o(Ae=>({...Ae,eventType:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:_1.map(Q=>l.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",l.jsx("select",{value:r.locationStatus,onChange:Q=>o(Ae=>({...Ae,locationStatus:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:x1.map(Q=>l.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",l.jsx("input",{type:"number",value:r.limit,onChange:Q=>o(Ae=>({...Ae,limit:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:r.duplicatesOnly,onChange:Q=>o(Ae=>({...Ae,duplicatesOnly:Q.target.checked}))}),"Sadece mkerrer"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:r.suspiciousOnly,onChange:Q=>o(Ae=>({...Ae,suspiciousOnly:Q.target.checked}))}),"Sadece pheli"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:r.includeDeleted,onChange:Q=>o(Ae=>({...Ae,includeDeleted:Q.target.checked}))}),"Silinenleri gster"]})]})]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("button",{type:"button",onClick:Te,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:Ve,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),l.jsxs("form",{onSubmit:kt,className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsx(Ha,{label:"alan",employees:qe,value:p,onChange:v,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",l.jsxs("select",{value:x,onChange:Q=>_(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"IN",children:"IN (Giri)"}),l.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",l.jsx("input",{type:"datetime-local",value:S,onChange:Q=>w(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",l.jsxs("select",{value:k,onChange:Q=>A(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Otomatik/bo"}),on.map(Q=>l.jsxs("option",{value:Q.id,children:["#",Q.id," - ",Q.name," (",Q.start_time_local,"-",Q.end_time_local,")"]},Q.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",l.jsx("input",{type:"text",value:C,onChange:Q=>z(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[l.jsx("input",{type:"checkbox",checked:M,onChange:Q=>H(Q.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("button",{type:"submit",disabled:we.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:we.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),l.jsxs(Me,{children:[l.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:J.length})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:J.filter(Q=>Nf(Q).length>0).length})]})]}),F.isLoading?l.jsx(Qt,{}):null,F.isError?l.jsx(Ot,{message:Be(F.error,"Yoklama kaytlar alnamad.").message}):null,!F.isLoading&&!F.isError?l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{className:"py-2",children:"alan"}),l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Tip"}),l.jsx("th",{className:"py-2",children:"Kaynak"}),l.jsx("th",{className:"py-2",children:"Zaman"}),l.jsx("th",{className:"py-2",children:"Konum"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Not"}),l.jsx("th",{className:"py-2",children:"Bayraklar"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),l.jsx("tbody",{children:J.map(Q=>{const Ae=Nf(Q),St=Mt.get(Q.employee_id),$e=St?.department_id!=null?an.get(St.department_id):"-",pn=Q.source==="MANUAL"||Q.created_by_admin||qo(Q.flags,"ADMIN_MANUAL"),le=Rv(Q.flags.SHIFT_ID),Xe=typeof Q.flags.SHIFT_NAME=="string"?Q.flags.SHIFT_NAME:le&&Yt.get(le)?Yt.get(le)?.name:null;return l.jsxs("tr",{className:`border-t border-slate-100 ${Ae.length>0?"bg-amber-50/40":""}`,children:[l.jsx("td",{className:"py-2",children:Q.id}),l.jsxs("td",{className:"py-2",children:["#",Q.employee_id," - ",Gt.get(Q.employee_id)??"-"]}),l.jsx("td",{className:"py-2",children:$e??"-"}),l.jsx("td",{className:"py-2",children:Q.type}),l.jsxs("td",{className:"py-2",children:[pn?l.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",Q.deleted_at?l.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),l.jsx("td",{className:"py-2",children:Lv(Q.ts_utc)}),l.jsx("td",{className:"py-2",children:N1(Q.location_status)}),l.jsx("td",{className:"py-2",children:Xe?l.jsxs("span",{children:[Xe,le?` (#${le})`:""]}):le?l.jsxs("span",{children:["#",le]}):"-"}),l.jsx("td",{className:"py-2",children:Q.note||"-"}),l.jsx("td",{className:"py-2",children:l.jsx(r0,{reasons:Ae})}),l.jsx("td",{className:"py-2",children:l.jsx(s0,{suspicious:Ae.length>0,label:"pheli"})}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Ye(Q),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),l.jsx("button",{type:"button",onClick:()=>se(Q),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},Q.id)})})]}),J.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),ye.isLoading?l.jsx(Qt,{}):null,ye.isError?l.jsx(Ot,{message:Be(ye.error,"Audit loglar alnamad.").message}):null,!ye.isLoading&&!ye.isError?l.jsx("div",{className:"mt-3 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Zaman"}),l.jsx("th",{className:"py-2",children:"Aksiyon"}),l.jsx("th",{className:"py-2",children:"Kullanc"}),l.jsx("th",{className:"py-2",children:"Entity"}),l.jsx("th",{className:"py-2",children:"Durum"})]})}),l.jsx("tbody",{children:(ye.data??[]).map(Q=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:Lv(Q.ts_utc)}),l.jsx("td",{className:"py-2",children:Q.action}),l.jsxs("td",{className:"py-2",children:[Q.actor_type,":",Q.actor_id]}),l.jsxs("td",{className:"py-2",children:[Q.entity_type??"-"," ",Q.entity_id?`#${Q.entity_id}`:""]}),l.jsx("td",{className:"py-2",children:Q.success?"Baarl":"Hatal"})]},Q.id))})]})}):null]}),l.jsx(Go,{open:B!==null,title:B?`Event #${B.id} dzenle`:"Event dzenle",onClose:()=>q(null),children:l.jsxs("form",{onSubmit:xe,className:"space-y-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",l.jsxs("select",{value:V,onChange:Q=>Y(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"IN",children:"IN (Giri)"}),l.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",l.jsx("input",{type:"datetime-local",value:G,onChange:Q=>ee(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",l.jsxs("select",{value:ve,onChange:Q=>ae(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Deitirme"}),bn.map(Q=>l.jsxs("option",{value:Q.id,children:["#",Q.id," - ",Q.name," (",Q.start_time_local,"-",Q.end_time_local,")"]},Q.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Not",l.jsx("input",{type:"text",value:X,onChange:Q=>$(Q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:ce,onChange:Q=>oe(Q.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:Z,onChange:Q=>re(Q.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),l.jsx("button",{type:"submit",disabled:ke.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ke.isPending?"Kaydediliyor...":"Kaydet"})]})}),l.jsx(Go,{open:U!==null,title:U?`Event #${U.id} soft sil`:"Event soft sil",onClose:()=>se(null),children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:he,onChange:Q=>Ee(Q.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),l.jsx("button",{type:"button",onClick:()=>U&&Ze.mutate({eventId:U.id,force:he}),disabled:Ze.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Ze.isPending?"Siliniyor...":"Soft sil"})]})})]})}function Ne(t,i,r){function o(v,x){if(v._zod||Object.defineProperty(v,"_zod",{value:{def:x,constr:p,traits:new Set},enumerable:!1}),v._zod.traits.has(t))return;v._zod.traits.add(t),i(v,x);const _=p.prototype,S=Object.keys(_);for(let w=0;w<S.length;w++){const C=S[w];C in v||(v[C]=_[C].bind(v))}}const d=r?.Parent??Object;class f extends d{}Object.defineProperty(f,"name",{value:t});function p(v){var x;const _=r?.Parent?new f:this;o(_,v),(x=_._zod).deferred??(x.deferred=[]);for(const S of _._zod.deferred)S();return _}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:v=>r?.Parent&&v instanceof r.Parent?!0:v?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class Tl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class o0 extends Error{constructor(i){super(`Encountered unidirectional transform during encode: ${i}`),this.name="ZodEncodeError"}}const u0={};function Tr(t){return u0}function c0(t){const i=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>i.indexOf(+o)===-1).map(([o,d])=>d)}function fm(t,i){return typeof i=="bigint"?i.toString():i}function Bm(t){return{get value(){{const i=t();return Object.defineProperty(this,"value",{value:i}),i}}}}function Im(t){return t==null}function Um(t){const i=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(i,r)}function j1(t,i){const r=(t.toString().split(".")[1]||"").length,o=i.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const x=o.match(/\d?e-(\d?)/);x?.[1]&&(d=Number.parseInt(x[1]))}const f=r>d?r:d,p=Number.parseInt(t.toFixed(f).replace(".","")),v=Number.parseInt(i.toFixed(f).replace(".",""));return p%v/10**f}const Dv=Symbol("evaluating");function Nt(t,i,r){let o;Object.defineProperty(t,i,{get(){if(o!==Dv)return o===void 0&&(o=Dv,o=r()),o},set(d){Object.defineProperty(t,i,{value:d})},configurable:!0})}function kr(t,i,r){Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Rs(...t){const i={};for(const r of t){const o=Object.getOwnPropertyDescriptors(r);Object.assign(i,o)}return Object.defineProperties({},i)}function Pv(t){return JSON.stringify(t)}function w1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const d0="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Xc(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const E1=Bm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Yo(t){if(Xc(t)===!1)return!1;const i=t.constructor;if(i===void 0||typeof i!="function")return!0;const r=i.prototype;return!(Xc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function h0(t){return Yo(t)?{...t}:Array.isArray(t)?[...t]:t}const T1=new Set(["string","number","symbol"]);function hd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ls(t,i,r){const o=new t._zod.constr(i??t._zod.def);return(!i||r?.parent)&&(o._zod.parent=t),o}function Ue(t){const i=t;if(!i)return{};if(typeof i=="string")return{error:()=>i};if(i?.message!==void 0){if(i?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");i.error=i.message}return delete i.message,typeof i.error=="string"?{...i,error:()=>i.error}:i}function C1(t){return Object.keys(t).filter(i=>t[i]._zod.optin==="optional"&&t[i]._zod.optout==="optional")}const k1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function A1(t,i){const r=t._zod.def,o=r.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const f=Rs(t._zod.def,{get shape(){const p={};for(const v in i){if(!(v in r.shape))throw new Error(`Unrecognized key: "${v}"`);i[v]&&(p[v]=r.shape[v])}return kr(this,"shape",p),p},checks:[]});return Ls(t,f)}function z1(t,i){const r=t._zod.def,o=r.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const f=Rs(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const v in i){if(!(v in r.shape))throw new Error(`Unrecognized key: "${v}"`);i[v]&&delete p[v]}return kr(this,"shape",p),p},checks:[]});return Ls(t,f)}function O1(t,i){if(!Yo(i))throw new Error("Invalid input to extend: expected a plain object");const r=t._zod.def.checks;if(r&&r.length>0){const f=t._zod.def.shape;for(const p in i)if(Object.getOwnPropertyDescriptor(f,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=Rs(t._zod.def,{get shape(){const f={...t._zod.def.shape,...i};return kr(this,"shape",f),f}});return Ls(t,d)}function M1(t,i){if(!Yo(i))throw new Error("Invalid input to safeExtend: expected a plain object");const r=Rs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...i};return kr(this,"shape",o),o}});return Ls(t,r)}function R1(t,i){const r=Rs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...i._zod.def.shape};return kr(this,"shape",o),o},get catchall(){return i._zod.def.catchall},checks:[]});return Ls(t,r)}function L1(t,i,r){const d=i._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=Rs(i._zod.def,{get shape(){const v=i._zod.def.shape,x={...v};if(r)for(const _ in r){if(!(_ in v))throw new Error(`Unrecognized key: "${_}"`);r[_]&&(x[_]=t?new t({type:"optional",innerType:v[_]}):v[_])}else for(const _ in v)x[_]=t?new t({type:"optional",innerType:v[_]}):v[_];return kr(this,"shape",x),x},checks:[]});return Ls(i,p)}function D1(t,i,r){const o=Rs(i._zod.def,{get shape(){const d=i._zod.def.shape,f={...d};if(r)for(const p in r){if(!(p in f))throw new Error(`Unrecognized key: "${p}"`);r[p]&&(f[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)f[p]=new t({type:"nonoptional",innerType:d[p]});return kr(this,"shape",f),f}});return Ls(i,o)}function El(t,i=0){if(t.aborted===!0)return!0;for(let r=i;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function f0(t,i){return i.map(r=>{var o;return(o=r).path??(o.path=[]),r.path.unshift(t),r})}function Oc(t){return typeof t=="string"?t:t?.message}function Cr(t,i,r){const o={...t,path:t.path??[]};if(!t.message){const d=Oc(t.inst?._zod.def?.error?.(t))??Oc(i?.error?.(t))??Oc(r.customError?.(t))??Oc(r.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,i?.reportInput||delete o.input,o}function Zm(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function $o(...t){const[i,r,o]=t;return typeof i=="string"?{message:i,code:"custom",input:r,inst:o}:{...i}}const m0=(t,i)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:i,enumerable:!1}),t.message=JSON.stringify(i,fm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},p0=Ne("$ZodError",m0),g0=Ne("$ZodError",m0,{Parent:Error});function P1(t,i=r=>r.message){const r={},o=[];for(const d of t.issues)d.path.length>0?(r[d.path[0]]=r[d.path[0]]||[],r[d.path[0]].push(i(d))):o.push(i(d));return{formErrors:o,fieldErrors:r}}function B1(t,i=r=>r.message){const r={_errors:[]},o=d=>{for(const f of d.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(p=>o({issues:p}));else if(f.code==="invalid_key")o({issues:f.issues});else if(f.code==="invalid_element")o({issues:f.issues});else if(f.path.length===0)r._errors.push(i(f));else{let p=r,v=0;for(;v<f.path.length;){const x=f.path[v];v===f.path.length-1?(p[x]=p[x]||{_errors:[]},p[x]._errors.push(i(f))):p[x]=p[x]||{_errors:[]},p=p[x],v++}}};return o(t),r}const qm=t=>(i,r,o,d)=>{const f=o?Object.assign(o,{async:!1}):{async:!1},p=i._zod.run({value:r,issues:[]},f);if(p instanceof Promise)throw new Tl;if(p.issues.length){const v=new(d?.Err??t)(p.issues.map(x=>Cr(x,f,Tr())));throw d0(v,d?.callee),v}return p.value},Fm=t=>async(i,r,o,d)=>{const f=o?Object.assign(o,{async:!0}):{async:!0};let p=i._zod.run({value:r,issues:[]},f);if(p instanceof Promise&&(p=await p),p.issues.length){const v=new(d?.Err??t)(p.issues.map(x=>Cr(x,f,Tr())));throw d0(v,d?.callee),v}return p.value},fd=t=>(i,r,o)=>{const d=o?{...o,async:!1}:{async:!1},f=i._zod.run({value:r,issues:[]},d);if(f instanceof Promise)throw new Tl;return f.issues.length?{success:!1,error:new(t??p0)(f.issues.map(p=>Cr(p,d,Tr())))}:{success:!0,data:f.value}},I1=fd(g0),md=t=>async(i,r,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let f=i._zod.run({value:r,issues:[]},d);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new t(f.issues.map(p=>Cr(p,d,Tr())))}:{success:!0,data:f.value}},U1=md(g0),Z1=t=>(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return qm(t)(i,r,d)},q1=t=>(i,r,o)=>qm(t)(i,r,o),F1=t=>async(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Fm(t)(i,r,d)},H1=t=>async(i,r,o)=>Fm(t)(i,r,o),K1=t=>(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return fd(t)(i,r,d)},Q1=t=>(i,r,o)=>fd(t)(i,r,o),V1=t=>async(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return md(t)(i,r,d)},G1=t=>async(i,r,o)=>md(t)(i,r,o),Y1=/^[cC][^\s-]{8,}$/,$1=/^[0-9a-z]+$/,X1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,J1=/^[0-9a-vA-V]{20}$/,W1=/^[A-Za-z0-9]{27}$/,e2=/^[a-zA-Z0-9_-]{21}$/,t2=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,n2=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Bv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,i2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,a2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function s2(){return new RegExp(a2,"u")}const r2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,l2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,o2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,u2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,c2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,y0=/^[A-Za-z0-9_-]*$/,d2=/^\+[1-9]\d{6,14}$/,v0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",h2=new RegExp(`^${v0}$`);function x0(t){const i="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${i}`:t.precision===0?`${i}:[0-5]\\d`:`${i}:[0-5]\\d\\.\\d{${t.precision}}`:`${i}(?::[0-5]\\d(?:\\.\\d+)?)?`}function f2(t){return new RegExp(`^${x0(t)}$`)}function m2(t){const i=x0({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${i}(?:${r.join("|")})`;return new RegExp(`^${v0}T(?:${o})$`)}const p2=t=>{const i=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${i}$`)},g2=/^-?\d+$/,y2=/^-?\d+(?:\.\d+)?$/,v2=/^(?:true|false)$/i,x2=/^null$/i,_2=/^[^A-Z]*$/,b2=/^[^a-z]*$/,ai=Ne("$ZodCheck",(t,i)=>{var r;t._zod??(t._zod={}),t._zod.def=i,(r=t._zod).onattach??(r.onattach=[])}),_0={number:"number",bigint:"bigint",object:"date"},b0=Ne("$ZodCheckLessThan",(t,i)=>{ai.init(t,i);const r=_0[typeof i.value];t._zod.onattach.push(o=>{const d=o._zod.bag,f=(i.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;i.value<f&&(i.inclusive?d.maximum=i.value:d.exclusiveMaximum=i.value)}),t._zod.check=o=>{(i.inclusive?o.value<=i.value:o.value<i.value)||o.issues.push({origin:r,code:"too_big",maximum:typeof i.value=="object"?i.value.getTime():i.value,input:o.value,inclusive:i.inclusive,inst:t,continue:!i.abort})}}),N0=Ne("$ZodCheckGreaterThan",(t,i)=>{ai.init(t,i);const r=_0[typeof i.value];t._zod.onattach.push(o=>{const d=o._zod.bag,f=(i.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;i.value>f&&(i.inclusive?d.minimum=i.value:d.exclusiveMinimum=i.value)}),t._zod.check=o=>{(i.inclusive?o.value>=i.value:o.value>i.value)||o.issues.push({origin:r,code:"too_small",minimum:typeof i.value=="object"?i.value.getTime():i.value,input:o.value,inclusive:i.inclusive,inst:t,continue:!i.abort})}}),N2=Ne("$ZodCheckMultipleOf",(t,i)=>{ai.init(t,i),t._zod.onattach.push(r=>{var o;(o=r._zod.bag).multipleOf??(o.multipleOf=i.value)}),t._zod.check=r=>{if(typeof r.value!=typeof i.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%i.value===BigInt(0):j1(r.value,i.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:i.value,input:r.value,inst:t,continue:!i.abort})}}),S2=Ne("$ZodCheckNumberFormat",(t,i)=>{ai.init(t,i),i.format=i.format||"float64";const r=i.format?.includes("int"),o=r?"int":"number",[d,f]=k1[i.format];t._zod.onattach.push(p=>{const v=p._zod.bag;v.format=i.format,v.minimum=d,v.maximum=f,r&&(v.pattern=g2)}),t._zod.check=p=>{const v=p.value;if(r){if(!Number.isInteger(v)){p.issues.push({expected:o,format:i.format,code:"invalid_type",continue:!1,input:v,inst:t});return}if(!Number.isSafeInteger(v)){v>0?p.issues.push({input:v,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!i.abort}):p.issues.push({input:v,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!i.abort});return}}v<d&&p.issues.push({origin:"number",input:v,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!i.abort}),v>f&&p.issues.push({origin:"number",input:v,code:"too_big",maximum:f,inclusive:!0,inst:t,continue:!i.abort})}}),j2=Ne("$ZodCheckMaxLength",(t,i)=>{var r;ai.init(t,i),(r=t._zod.def).when??(r.when=o=>{const d=o.value;return!Im(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;i.maximum<d&&(o._zod.bag.maximum=i.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=i.maximum)return;const p=Zm(d);o.issues.push({origin:p,code:"too_big",maximum:i.maximum,inclusive:!0,input:d,inst:t,continue:!i.abort})}}),w2=Ne("$ZodCheckMinLength",(t,i)=>{var r;ai.init(t,i),(r=t._zod.def).when??(r.when=o=>{const d=o.value;return!Im(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;i.minimum>d&&(o._zod.bag.minimum=i.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=i.minimum)return;const p=Zm(d);o.issues.push({origin:p,code:"too_small",minimum:i.minimum,inclusive:!0,input:d,inst:t,continue:!i.abort})}}),E2=Ne("$ZodCheckLengthEquals",(t,i)=>{var r;ai.init(t,i),(r=t._zod.def).when??(r.when=o=>{const d=o.value;return!Im(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=i.length,d.maximum=i.length,d.length=i.length}),t._zod.check=o=>{const d=o.value,f=d.length;if(f===i.length)return;const p=Zm(d),v=f>i.length;o.issues.push({origin:p,...v?{code:"too_big",maximum:i.length}:{code:"too_small",minimum:i.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!i.abort})}}),pd=Ne("$ZodCheckStringFormat",(t,i)=>{var r,o;ai.init(t,i),t._zod.onattach.push(d=>{const f=d._zod.bag;f.format=i.format,i.pattern&&(f.patterns??(f.patterns=new Set),f.patterns.add(i.pattern))}),i.pattern?(r=t._zod).check??(r.check=d=>{i.pattern.lastIndex=0,!i.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:i.format,input:d.value,...i.pattern?{pattern:i.pattern.toString()}:{},inst:t,continue:!i.abort})}):(o=t._zod).check??(o.check=()=>{})}),T2=Ne("$ZodCheckRegex",(t,i)=>{pd.init(t,i),t._zod.check=r=>{i.pattern.lastIndex=0,!i.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:i.pattern.toString(),inst:t,continue:!i.abort})}}),C2=Ne("$ZodCheckLowerCase",(t,i)=>{i.pattern??(i.pattern=_2),pd.init(t,i)}),k2=Ne("$ZodCheckUpperCase",(t,i)=>{i.pattern??(i.pattern=b2),pd.init(t,i)}),A2=Ne("$ZodCheckIncludes",(t,i)=>{ai.init(t,i);const r=hd(i.includes),o=new RegExp(typeof i.position=="number"?`^.{${i.position}}${r}`:r);i.pattern=o,t._zod.onattach.push(d=>{const f=d._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(o)}),t._zod.check=d=>{d.value.includes(i.includes,i.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:i.includes,input:d.value,inst:t,continue:!i.abort})}}),z2=Ne("$ZodCheckStartsWith",(t,i)=>{ai.init(t,i);const r=new RegExp(`^${hd(i.prefix)}.*`);i.pattern??(i.pattern=r),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(r)}),t._zod.check=o=>{o.value.startsWith(i.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:i.prefix,input:o.value,inst:t,continue:!i.abort})}}),O2=Ne("$ZodCheckEndsWith",(t,i)=>{ai.init(t,i);const r=new RegExp(`.*${hd(i.suffix)}$`);i.pattern??(i.pattern=r),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(r)}),t._zod.check=o=>{o.value.endsWith(i.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:i.suffix,input:o.value,inst:t,continue:!i.abort})}}),M2=Ne("$ZodCheckOverwrite",(t,i)=>{ai.init(t,i),t._zod.check=r=>{r.value=i.tx(r.value)}});class R2{constructor(i=[]){this.content=[],this.indent=0,this&&(this.args=i)}indented(i){this.indent+=1,i(this),this.indent-=1}write(i){if(typeof i=="function"){i(this,{execution:"sync"}),i(this,{execution:"async"});return}const o=i.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),f=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of f)this.content.push(p)}compile(){const i=Function,r=this?.args,d=[...(this?.content??[""]).map(f=>`  ${f}`)];return new i(...r,d.join(`
`))}}const L2={major:4,minor:3,patch:6},tn=Ne("$ZodType",(t,i)=>{var r;t??(t={}),t._zod.def=i,t._zod.bag=t._zod.bag||{},t._zod.version=L2;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const f of d._zod.onattach)f(t);if(o.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,v,x)=>{let _=El(p),S;for(const w of v){if(w._zod.def.when){if(!w._zod.def.when(p))continue}else if(_)continue;const C=p.issues.length,z=w._zod.check(p);if(z instanceof Promise&&x?.async===!1)throw new Tl;if(S||z instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await z,p.issues.length!==C&&(_||(_=El(p,C)))});else{if(p.issues.length===C)continue;_||(_=El(p,C))}}return S?S.then(()=>p):p},f=(p,v,x)=>{if(El(p))return p.aborted=!0,p;const _=d(v,o,x);if(_ instanceof Promise){if(x.async===!1)throw new Tl;return _.then(S=>t._zod.parse(S,x))}return t._zod.parse(_,x)};t._zod.run=(p,v)=>{if(v.skipChecks)return t._zod.parse(p,v);if(v.direction==="backward"){const _=t._zod.parse({value:p.value,issues:[]},{...v,skipChecks:!0});return _ instanceof Promise?_.then(S=>f(S,p,v)):f(_,p,v)}const x=t._zod.parse(p,v);if(x instanceof Promise){if(v.async===!1)throw new Tl;return x.then(_=>d(_,o,v))}return d(x,o,v)}}Nt(t,"~standard",()=>({validate:d=>{try{const f=I1(t,d);return f.success?{value:f.data}:{issues:f.error?.issues}}catch{return U1(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),Hm=Ne("$ZodString",(t,i)=>{tn.init(t,i),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??p2(t._zod.bag),t._zod.parse=(r,o)=>{if(i.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Ft=Ne("$ZodStringFormat",(t,i)=>{pd.init(t,i),Hm.init(t,i)}),D2=Ne("$ZodGUID",(t,i)=>{i.pattern??(i.pattern=n2),Ft.init(t,i)}),P2=Ne("$ZodUUID",(t,i)=>{if(i.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[i.version];if(o===void 0)throw new Error(`Invalid UUID version: "${i.version}"`);i.pattern??(i.pattern=Bv(o))}else i.pattern??(i.pattern=Bv());Ft.init(t,i)}),B2=Ne("$ZodEmail",(t,i)=>{i.pattern??(i.pattern=i2),Ft.init(t,i)}),I2=Ne("$ZodURL",(t,i)=>{Ft.init(t,i),t._zod.check=r=>{try{const o=r.value.trim(),d=new URL(o);i.hostname&&(i.hostname.lastIndex=0,i.hostname.test(d.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:i.hostname.source,input:r.value,inst:t,continue:!i.abort})),i.protocol&&(i.protocol.lastIndex=0,i.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:i.protocol.source,input:r.value,inst:t,continue:!i.abort})),i.normalize?r.value=d.href:r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!i.abort})}}}),U2=Ne("$ZodEmoji",(t,i)=>{i.pattern??(i.pattern=s2()),Ft.init(t,i)}),Z2=Ne("$ZodNanoID",(t,i)=>{i.pattern??(i.pattern=e2),Ft.init(t,i)}),q2=Ne("$ZodCUID",(t,i)=>{i.pattern??(i.pattern=Y1),Ft.init(t,i)}),F2=Ne("$ZodCUID2",(t,i)=>{i.pattern??(i.pattern=$1),Ft.init(t,i)}),H2=Ne("$ZodULID",(t,i)=>{i.pattern??(i.pattern=X1),Ft.init(t,i)}),K2=Ne("$ZodXID",(t,i)=>{i.pattern??(i.pattern=J1),Ft.init(t,i)}),Q2=Ne("$ZodKSUID",(t,i)=>{i.pattern??(i.pattern=W1),Ft.init(t,i)}),V2=Ne("$ZodISODateTime",(t,i)=>{i.pattern??(i.pattern=m2(i)),Ft.init(t,i)}),G2=Ne("$ZodISODate",(t,i)=>{i.pattern??(i.pattern=h2),Ft.init(t,i)}),Y2=Ne("$ZodISOTime",(t,i)=>{i.pattern??(i.pattern=f2(i)),Ft.init(t,i)}),$2=Ne("$ZodISODuration",(t,i)=>{i.pattern??(i.pattern=t2),Ft.init(t,i)}),X2=Ne("$ZodIPv4",(t,i)=>{i.pattern??(i.pattern=r2),Ft.init(t,i),t._zod.bag.format="ipv4"}),J2=Ne("$ZodIPv6",(t,i)=>{i.pattern??(i.pattern=l2),Ft.init(t,i),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!i.abort})}}}),W2=Ne("$ZodCIDRv4",(t,i)=>{i.pattern??(i.pattern=o2),Ft.init(t,i)}),eT=Ne("$ZodCIDRv6",(t,i)=>{i.pattern??(i.pattern=u2),Ft.init(t,i),t._zod.check=r=>{const o=r.value.split("/");try{if(o.length!==2)throw new Error;const[d,f]=o;if(!f)throw new Error;const p=Number(f);if(`${p}`!==f)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!i.abort})}}});function S0(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const tT=Ne("$ZodBase64",(t,i)=>{i.pattern??(i.pattern=c2),Ft.init(t,i),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{S0(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!i.abort})}});function nT(t){if(!y0.test(t))return!1;const i=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),r=i.padEnd(Math.ceil(i.length/4)*4,"=");return S0(r)}const iT=Ne("$ZodBase64URL",(t,i)=>{i.pattern??(i.pattern=y0),Ft.init(t,i),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{nT(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!i.abort})}}),aT=Ne("$ZodE164",(t,i)=>{i.pattern??(i.pattern=d2),Ft.init(t,i)});function sT(t,i=null){try{const r=t.split(".");if(r.length!==3)return!1;const[o]=r;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||i&&(!("alg"in d)||d.alg!==i))}catch{return!1}}const rT=Ne("$ZodJWT",(t,i)=>{Ft.init(t,i),t._zod.check=r=>{sT(r.value,i.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!i.abort})}}),j0=Ne("$ZodNumber",(t,i)=>{tn.init(t,i),t._zod.pattern=t._zod.bag.pattern??y2,t._zod.parse=(r,o)=>{if(i.coerce)try{r.value=Number(r.value)}catch{}const d=r.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return r;const f=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...f?{received:f}:{}}),r}}),lT=Ne("$ZodNumberFormat",(t,i)=>{S2.init(t,i),j0.init(t,i)}),oT=Ne("$ZodBoolean",(t,i)=>{tn.init(t,i),t._zod.pattern=v2,t._zod.parse=(r,o)=>{if(i.coerce)try{r.value=!!r.value}catch{}const d=r.value;return typeof d=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),r}}),uT=Ne("$ZodNull",(t,i)=>{tn.init(t,i),t._zod.pattern=x2,t._zod.values=new Set([null]),t._zod.parse=(r,o)=>{const d=r.value;return d===null||r.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),r}}),cT=Ne("$ZodUnknown",(t,i)=>{tn.init(t,i),t._zod.parse=r=>r}),dT=Ne("$ZodNever",(t,i)=>{tn.init(t,i),t._zod.parse=(r,o)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Iv(t,i,r){t.issues.length&&i.issues.push(...f0(r,t.issues)),i.value[r]=t.value}const hT=Ne("$ZodArray",(t,i)=>{tn.init(t,i),t._zod.parse=(r,o)=>{const d=r.value;if(!Array.isArray(d))return r.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),r;r.value=Array(d.length);const f=[];for(let p=0;p<d.length;p++){const v=d[p],x=i.element._zod.run({value:v,issues:[]},o);x instanceof Promise?f.push(x.then(_=>Iv(_,r,p))):Iv(x,r,p)}return f.length?Promise.all(f).then(()=>r):r}});function Jc(t,i,r,o,d){if(t.issues.length){if(d&&!(r in o))return;i.issues.push(...f0(r,t.issues))}t.value===void 0?r in o&&(i.value[r]=void 0):i.value[r]=t.value}function w0(t){const i=Object.keys(t.shape);for(const o of i)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=C1(t.shape);return{...t,keys:i,keySet:new Set(i),numKeys:i.length,optionalKeys:new Set(r)}}function E0(t,i,r,o,d,f){const p=[],v=d.keySet,x=d.catchall._zod,_=x.def.type,S=x.optout==="optional";for(const w in i){if(v.has(w))continue;if(_==="never"){p.push(w);continue}const C=x.run({value:i[w],issues:[]},o);C instanceof Promise?t.push(C.then(z=>Jc(z,r,w,i,S))):Jc(C,r,w,i,S)}return p.length&&r.issues.push({code:"unrecognized_keys",keys:p,input:i,inst:f}),t.length?Promise.all(t).then(()=>r):r}const fT=Ne("$ZodObject",(t,i)=>{if(tn.init(t,i),!Object.getOwnPropertyDescriptor(i,"shape")?.get){const v=i.shape;Object.defineProperty(i,"shape",{get:()=>{const x={...v};return Object.defineProperty(i,"shape",{value:x}),x}})}const o=Bm(()=>w0(i));Nt(t._zod,"propValues",()=>{const v=i.shape,x={};for(const _ in v){const S=v[_]._zod;if(S.values){x[_]??(x[_]=new Set);for(const w of S.values)x[_].add(w)}}return x});const d=Xc,f=i.catchall;let p;t._zod.parse=(v,x)=>{p??(p=o.value);const _=v.value;if(!d(_))return v.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),v;v.value={};const S=[],w=p.shape;for(const C of p.keys){const z=w[C],k=z._zod.optout==="optional",A=z._zod.run({value:_[C],issues:[]},x);A instanceof Promise?S.push(A.then(M=>Jc(M,v,C,_,k))):Jc(A,v,C,_,k)}return f?E0(S,_,v,x,o.value,t):S.length?Promise.all(S).then(()=>v):v}}),mT=Ne("$ZodObjectJIT",(t,i)=>{fT.init(t,i);const r=t._zod.parse,o=Bm(()=>w0(i)),d=C=>{const z=new R2(["shape","payload","ctx"]),k=o.value,A=q=>{const V=Pv(q);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};z.write("const input = payload.value;");const M=Object.create(null);let H=0;for(const q of k.keys)M[q]=`key_${H++}`;z.write("const newResult = {};");for(const q of k.keys){const V=M[q],Y=Pv(q),ee=C[q]?._zod?.optout==="optional";z.write(`const ${V} = ${A(q)};`),ee?z.write(`
        if (${V}.issues.length) {
          if (${Y} in input) {
            payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Y}, ...iss.path] : [${Y}]
            })));
          }
        }
        
        if (${V}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${V}.value;
        }
        
      `):z.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Y}, ...iss.path] : [${Y}]
          })));
        }
        
        if (${V}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${V}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const B=z.compile();return(q,V)=>B(C,q,V)};let f;const p=Xc,v=!u0.jitless,_=v&&E1.value,S=i.catchall;let w;t._zod.parse=(C,z)=>{w??(w=o.value);const k=C.value;return p(k)?v&&_&&z?.async===!1&&z.jitless!==!0?(f||(f=d(i.shape)),C=f(C,z),S?E0([],k,C,z,w,t):C):r(C,z):(C.issues.push({expected:"object",code:"invalid_type",input:k,inst:t}),C)}});function Uv(t,i,r,o){for(const f of t)if(f.issues.length===0)return i.value=f.value,i;const d=t.filter(f=>!El(f));return d.length===1?(i.value=d[0].value,d[0]):(i.issues.push({code:"invalid_union",input:i.value,inst:r,errors:t.map(f=>f.issues.map(p=>Cr(p,o,Tr())))}),i)}const pT=Ne("$ZodUnion",(t,i)=>{tn.init(t,i),Nt(t._zod,"optin",()=>i.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Nt(t._zod,"optout",()=>i.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Nt(t._zod,"values",()=>{if(i.options.every(d=>d._zod.values))return new Set(i.options.flatMap(d=>Array.from(d._zod.values)))}),Nt(t._zod,"pattern",()=>{if(i.options.every(d=>d._zod.pattern)){const d=i.options.map(f=>f._zod.pattern);return new RegExp(`^(${d.map(f=>Um(f.source)).join("|")})$`)}});const r=i.options.length===1,o=i.options[0]._zod.run;t._zod.parse=(d,f)=>{if(r)return o(d,f);let p=!1;const v=[];for(const x of i.options){const _=x._zod.run({value:d.value,issues:[]},f);if(_ instanceof Promise)v.push(_),p=!0;else{if(_.issues.length===0)return _;v.push(_)}}return p?Promise.all(v).then(x=>Uv(x,d,t,f)):Uv(v,d,t,f)}}),gT=Ne("$ZodIntersection",(t,i)=>{tn.init(t,i),t._zod.parse=(r,o)=>{const d=r.value,f=i.left._zod.run({value:d,issues:[]},o),p=i.right._zod.run({value:d,issues:[]},o);return f instanceof Promise||p instanceof Promise?Promise.all([f,p]).then(([x,_])=>Zv(r,x,_)):Zv(r,f,p)}});function mm(t,i){if(t===i)return{valid:!0,data:t};if(t instanceof Date&&i instanceof Date&&+t==+i)return{valid:!0,data:t};if(Yo(t)&&Yo(i)){const r=Object.keys(i),o=Object.keys(t).filter(f=>r.indexOf(f)!==-1),d={...t,...i};for(const f of o){const p=mm(t[f],i[f]);if(!p.valid)return{valid:!1,mergeErrorPath:[f,...p.mergeErrorPath]};d[f]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let o=0;o<t.length;o++){const d=t[o],f=i[o],p=mm(d,f);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};r.push(p.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Zv(t,i,r){const o=new Map;let d;for(const v of i.issues)if(v.code==="unrecognized_keys"){d??(d=v);for(const x of v.keys)o.has(x)||o.set(x,{}),o.get(x).l=!0}else t.issues.push(v);for(const v of r.issues)if(v.code==="unrecognized_keys")for(const x of v.keys)o.has(x)||o.set(x,{}),o.get(x).r=!0;else t.issues.push(v);const f=[...o].filter(([,v])=>v.l&&v.r).map(([v])=>v);if(f.length&&d&&t.issues.push({...d,keys:f}),El(t))return t;const p=mm(i.value,r.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const yT=Ne("$ZodEnum",(t,i)=>{tn.init(t,i);const r=c0(i.entries),o=new Set(r);t._zod.values=o,t._zod.pattern=new RegExp(`^(${r.filter(d=>T1.has(typeof d)).map(d=>typeof d=="string"?hd(d):d.toString()).join("|")})$`),t._zod.parse=(d,f)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:r,input:p,inst:t}),d}}),vT=Ne("$ZodTransform",(t,i)=>{tn.init(t,i),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new o0(t.constructor.name);const d=i.transform(r.value,r);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(r.value=p,r));if(d instanceof Promise)throw new Tl;return r.value=d,r}});function qv(t,i){return t.issues.length&&i===void 0?{issues:[],value:void 0}:t}const T0=Ne("$ZodOptional",(t,i)=>{tn.init(t,i),t._zod.optin="optional",t._zod.optout="optional",Nt(t._zod,"values",()=>i.innerType._zod.values?new Set([...i.innerType._zod.values,void 0]):void 0),Nt(t._zod,"pattern",()=>{const r=i.innerType._zod.pattern;return r?new RegExp(`^(${Um(r.source)})?$`):void 0}),t._zod.parse=(r,o)=>{if(i.innerType._zod.optin==="optional"){const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>qv(f,r.value)):qv(d,r.value)}return r.value===void 0?r:i.innerType._zod.run(r,o)}}),xT=Ne("$ZodExactOptional",(t,i)=>{T0.init(t,i),Nt(t._zod,"values",()=>i.innerType._zod.values),Nt(t._zod,"pattern",()=>i.innerType._zod.pattern),t._zod.parse=(r,o)=>i.innerType._zod.run(r,o)}),_T=Ne("$ZodNullable",(t,i)=>{tn.init(t,i),Nt(t._zod,"optin",()=>i.innerType._zod.optin),Nt(t._zod,"optout",()=>i.innerType._zod.optout),Nt(t._zod,"pattern",()=>{const r=i.innerType._zod.pattern;return r?new RegExp(`^(${Um(r.source)}|null)$`):void 0}),Nt(t._zod,"values",()=>i.innerType._zod.values?new Set([...i.innerType._zod.values,null]):void 0),t._zod.parse=(r,o)=>r.value===null?r:i.innerType._zod.run(r,o)}),bT=Ne("$ZodDefault",(t,i)=>{tn.init(t,i),t._zod.optin="optional",Nt(t._zod,"values",()=>i.innerType._zod.values),t._zod.parse=(r,o)=>{if(o.direction==="backward")return i.innerType._zod.run(r,o);if(r.value===void 0)return r.value=i.defaultValue,r;const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>Fv(f,i)):Fv(d,i)}});function Fv(t,i){return t.value===void 0&&(t.value=i.defaultValue),t}const NT=Ne("$ZodPrefault",(t,i)=>{tn.init(t,i),t._zod.optin="optional",Nt(t._zod,"values",()=>i.innerType._zod.values),t._zod.parse=(r,o)=>(o.direction==="backward"||r.value===void 0&&(r.value=i.defaultValue),i.innerType._zod.run(r,o))}),ST=Ne("$ZodNonOptional",(t,i)=>{tn.init(t,i),Nt(t._zod,"values",()=>{const r=i.innerType._zod.values;return r?new Set([...r].filter(o=>o!==void 0)):void 0}),t._zod.parse=(r,o)=>{const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>Hv(f,t)):Hv(d,t)}});function Hv(t,i){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:i}),t}const jT=Ne("$ZodCatch",(t,i)=>{tn.init(t,i),Nt(t._zod,"optin",()=>i.innerType._zod.optin),Nt(t._zod,"optout",()=>i.innerType._zod.optout),Nt(t._zod,"values",()=>i.innerType._zod.values),t._zod.parse=(r,o)=>{if(o.direction==="backward")return i.innerType._zod.run(r,o);const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>(r.value=f.value,f.issues.length&&(r.value=i.catchValue({...r,error:{issues:f.issues.map(p=>Cr(p,o,Tr()))},input:r.value}),r.issues=[]),r)):(r.value=d.value,d.issues.length&&(r.value=i.catchValue({...r,error:{issues:d.issues.map(f=>Cr(f,o,Tr()))},input:r.value}),r.issues=[]),r)}}),wT=Ne("$ZodPipe",(t,i)=>{tn.init(t,i),Nt(t._zod,"values",()=>i.in._zod.values),Nt(t._zod,"optin",()=>i.in._zod.optin),Nt(t._zod,"optout",()=>i.out._zod.optout),Nt(t._zod,"propValues",()=>i.in._zod.propValues),t._zod.parse=(r,o)=>{if(o.direction==="backward"){const f=i.out._zod.run(r,o);return f instanceof Promise?f.then(p=>Mc(p,i.in,o)):Mc(f,i.in,o)}const d=i.in._zod.run(r,o);return d instanceof Promise?d.then(f=>Mc(f,i.out,o)):Mc(d,i.out,o)}});function Mc(t,i,r){return t.issues.length?(t.aborted=!0,t):i._zod.run({value:t.value,issues:t.issues},r)}const ET=Ne("$ZodReadonly",(t,i)=>{tn.init(t,i),Nt(t._zod,"propValues",()=>i.innerType._zod.propValues),Nt(t._zod,"values",()=>i.innerType._zod.values),Nt(t._zod,"optin",()=>i.innerType?._zod?.optin),Nt(t._zod,"optout",()=>i.innerType?._zod?.optout),t._zod.parse=(r,o)=>{if(o.direction==="backward")return i.innerType._zod.run(r,o);const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(Kv):Kv(d)}});function Kv(t){return t.value=Object.freeze(t.value),t}const TT=Ne("$ZodCustom",(t,i)=>{ai.init(t,i),tn.init(t,i),t._zod.parse=(r,o)=>r,t._zod.check=r=>{const o=r.value,d=i.fn(o);if(d instanceof Promise)return d.then(f=>Qv(f,r,o,t));Qv(d,r,o,t)}});function Qv(t,i,r,o){if(!t){const d={code:"custom",input:r,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),i.issues.push($o(d))}}var Vv;class CT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(i,...r){const o=r[0];return this._map.set(i,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,i),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(i){const r=this._map.get(i);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(i),this}get(i){const r=i._zod.parent;if(r){const o={...this.get(r)??{}};delete o.id;const d={...o,...this._map.get(i)};return Object.keys(d).length?d:void 0}return this._map.get(i)}has(i){return this._map.has(i)}}function kT(){return new CT}(Vv=globalThis).__zod_globalRegistry??(Vv.__zod_globalRegistry=kT());const Fo=globalThis.__zod_globalRegistry;function AT(t,i){return new t({type:"string",...Ue(i)})}function zT(t,i){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ue(i)})}function Gv(t,i){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ue(i)})}function OT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ue(i)})}function MT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ue(i)})}function RT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ue(i)})}function LT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ue(i)})}function DT(t,i){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ue(i)})}function PT(t,i){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ue(i)})}function BT(t,i){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ue(i)})}function IT(t,i){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ue(i)})}function UT(t,i){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ue(i)})}function ZT(t,i){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ue(i)})}function qT(t,i){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ue(i)})}function FT(t,i){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ue(i)})}function HT(t,i){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ue(i)})}function KT(t,i){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ue(i)})}function QT(t,i){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ue(i)})}function VT(t,i){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ue(i)})}function GT(t,i){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ue(i)})}function YT(t,i){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ue(i)})}function $T(t,i){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ue(i)})}function XT(t,i){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ue(i)})}function JT(t,i){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ue(i)})}function WT(t,i){return new t({type:"string",format:"date",check:"string_format",...Ue(i)})}function eC(t,i){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ue(i)})}function tC(t,i){return new t({type:"string",format:"duration",check:"string_format",...Ue(i)})}function nC(t,i){return new t({type:"number",coerce:!0,checks:[],...Ue(i)})}function iC(t,i){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ue(i)})}function aC(t,i){return new t({type:"boolean",...Ue(i)})}function sC(t,i){return new t({type:"null",...Ue(i)})}function rC(t){return new t({type:"unknown"})}function lC(t,i){return new t({type:"never",...Ue(i)})}function Yv(t,i){return new b0({check:"less_than",...Ue(i),value:t,inclusive:!1})}function jf(t,i){return new b0({check:"less_than",...Ue(i),value:t,inclusive:!0})}function $v(t,i){return new N0({check:"greater_than",...Ue(i),value:t,inclusive:!1})}function wf(t,i){return new N0({check:"greater_than",...Ue(i),value:t,inclusive:!0})}function Xv(t,i){return new N2({check:"multiple_of",...Ue(i),value:t})}function C0(t,i){return new j2({check:"max_length",...Ue(i),maximum:t})}function Wc(t,i){return new w2({check:"min_length",...Ue(i),minimum:t})}function k0(t,i){return new E2({check:"length_equals",...Ue(i),length:t})}function oC(t,i){return new T2({check:"string_format",format:"regex",...Ue(i),pattern:t})}function uC(t){return new C2({check:"string_format",format:"lowercase",...Ue(t)})}function cC(t){return new k2({check:"string_format",format:"uppercase",...Ue(t)})}function dC(t,i){return new A2({check:"string_format",format:"includes",...Ue(i),includes:t})}function hC(t,i){return new z2({check:"string_format",format:"starts_with",...Ue(i),prefix:t})}function fC(t,i){return new O2({check:"string_format",format:"ends_with",...Ue(i),suffix:t})}function Ll(t){return new M2({check:"overwrite",tx:t})}function mC(t){return Ll(i=>i.normalize(t))}function pC(){return Ll(t=>t.trim())}function gC(){return Ll(t=>t.toLowerCase())}function yC(){return Ll(t=>t.toUpperCase())}function vC(){return Ll(t=>w1(t))}function xC(t,i,r){return new t({type:"array",element:i,...Ue(r)})}function _C(t,i,r){return new t({type:"custom",check:"custom",fn:i,...Ue(r)})}function bC(t){const i=NC(r=>(r.addIssue=o=>{if(typeof o=="string")r.issues.push($o(o,r.value,i._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=i),d.continue??(d.continue=!i._zod.def.abort),r.issues.push($o(d))}},t(r.value,r)));return i}function NC(t,i){const r=new ai({check:"custom",...Ue(i)});return r._zod.check=t,r}function A0(t){let i=t?.target??"draft-2020-12";return i==="draft-4"&&(i="draft-04"),i==="draft-7"&&(i="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Fo,target:i,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function kn(t,i,r={path:[],schemaPath:[]}){var o;const d=t._zod.def,f=i.seen.get(t);if(f)return f.count++,r.schemaPath.includes(t)&&(f.cycle=r.path),f.schema;const p={schema:{},count:1,cycle:void 0,path:r.path};i.seen.set(t,p);const v=t._zod.toJSONSchema?.();if(v)p.schema=v;else{const S={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(i,p.schema,S);else{const C=p.schema,z=i.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(t,i,C,S)}const w=t._zod.parent;w&&(p.ref||(p.ref=w),kn(w,i,S),i.seen.get(w).isParent=!0)}const x=i.metadataRegistry.get(t);return x&&Object.assign(p.schema,x),i.io==="input"&&qn(t)&&(delete p.schema.examples,delete p.schema.default),i.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,i.seen.get(t).schema}function z0(t,i){const r=t.seen.get(i);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const v=t.metadataRegistry.get(p[0])?.id;if(v){const x=o.get(v);if(x&&x!==p[0])throw new Error(`Duplicate schema id "${v}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(v,p[0])}}const d=p=>{const v=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const w=t.external.registry.get(p[0])?.id,C=t.external.uri??(k=>k);if(w)return{ref:C(w)};const z=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=z,{defId:z,ref:`${C("__shared")}#/${v}/${z}`}}if(p[1]===r)return{ref:"#"};const _=`#/${v}/`,S=p[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:_+S}},f=p=>{if(p[1].schema.$ref)return;const v=p[1],{ref:x,defId:_}=d(p);v.def={...v.schema},_&&(v.defId=_);const S=v.schema;for(const w in S)delete S[w];S.$ref=x};if(t.cycles==="throw")for(const p of t.seen.entries()){const v=p[1];if(v.cycle)throw new Error(`Cycle detected: #/${v.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const v=p[1];if(i===p[0]){f(p);continue}if(t.external){const _=t.external.registry.get(p[0])?.id;if(i!==p[0]&&_){f(p);continue}}if(t.metadataRegistry.get(p[0])?.id){f(p);continue}if(v.cycle){f(p);continue}if(v.count>1&&t.reused==="ref"){f(p);continue}}}function O0(t,i){const r=t.seen.get(i);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const v=t.seen.get(p);if(v.ref===null)return;const x=v.def??v.schema,_={...x},S=v.ref;if(v.ref=null,S){o(S);const C=t.seen.get(S),z=C.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(x.allOf=x.allOf??[],x.allOf.push(z)):Object.assign(x,z),Object.assign(x,_),p._zod.parent===S)for(const A in x)A==="$ref"||A==="allOf"||A in _||delete x[A];if(z.$ref&&C.def)for(const A in x)A==="$ref"||A==="allOf"||A in C.def&&JSON.stringify(x[A])===JSON.stringify(C.def[A])&&delete x[A]}const w=p._zod.parent;if(w&&w!==S){o(w);const C=t.seen.get(w);if(C?.schema.$ref&&(x.$ref=C.schema.$ref,C.def))for(const z in x)z==="$ref"||z==="allOf"||z in C.def&&JSON.stringify(x[z])===JSON.stringify(C.def[z])&&delete x[z]}t.override({zodSchema:p,jsonSchema:x,path:v.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(i)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,r.def??r.schema);const f=t.external?.defs??{};for(const p of t.seen.entries()){const v=p[1];v.def&&v.defId&&(f[v.defId]=v.def)}t.external||Object.keys(f).length>0&&(t.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...i["~standard"],jsonSchema:{input:ed(i,"input",t.processors),output:ed(i,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function qn(t,i){const r=i??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return qn(o.element,r);if(o.type==="set")return qn(o.valueType,r);if(o.type==="lazy")return qn(o.getter(),r);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return qn(o.innerType,r);if(o.type==="intersection")return qn(o.left,r)||qn(o.right,r);if(o.type==="record"||o.type==="map")return qn(o.keyType,r)||qn(o.valueType,r);if(o.type==="pipe")return qn(o.in,r)||qn(o.out,r);if(o.type==="object"){for(const d in o.shape)if(qn(o.shape[d],r))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(qn(d,r))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(qn(d,r))return!0;return!!(o.rest&&qn(o.rest,r))}return!1}const SC=(t,i={})=>r=>{const o=A0({...r,processors:i});return kn(t,o),z0(o,t),O0(o,t)},ed=(t,i,r={})=>o=>{const{libraryOptions:d,target:f}=o??{},p=A0({...d??{},target:f,io:i,processors:r});return kn(t,p),z0(p,t),O0(p,t)},jC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},wC=(t,i,r,o)=>{const d=r;d.type="string";const{minimum:f,maximum:p,format:v,patterns:x,contentEncoding:_}=t._zod.bag;if(typeof f=="number"&&(d.minLength=f),typeof p=="number"&&(d.maxLength=p),v&&(d.format=jC[v]??v,d.format===""&&delete d.format,v==="time"&&delete d.format),_&&(d.contentEncoding=_),x&&x.size>0){const S=[...x];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...i.target==="draft-07"||i.target==="draft-04"||i.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},EC=(t,i,r,o)=>{const d=r,{minimum:f,maximum:p,format:v,multipleOf:x,exclusiveMaximum:_,exclusiveMinimum:S}=t._zod.bag;typeof v=="string"&&v.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(i.target==="draft-04"||i.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof f=="number"&&(d.minimum=f,typeof S=="number"&&i.target!=="draft-04"&&(S>=f?delete d.minimum:delete d.exclusiveMinimum)),typeof _=="number"&&(i.target==="draft-04"||i.target==="openapi-3.0"?(d.maximum=_,d.exclusiveMaximum=!0):d.exclusiveMaximum=_),typeof p=="number"&&(d.maximum=p,typeof _=="number"&&i.target!=="draft-04"&&(_<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof x=="number"&&(d.multipleOf=x)},TC=(t,i,r,o)=>{r.type="boolean"},CC=(t,i,r,o)=>{i.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},kC=(t,i,r,o)=>{r.not={}},AC=(t,i,r,o)=>{},zC=(t,i,r,o)=>{const d=t._zod.def,f=c0(d.entries);f.every(p=>typeof p=="number")&&(r.type="number"),f.every(p=>typeof p=="string")&&(r.type="string"),r.enum=f},OC=(t,i,r,o)=>{if(i.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},MC=(t,i,r,o)=>{if(i.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},RC=(t,i,r,o)=>{const d=r,f=t._zod.def,{minimum:p,maximum:v}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof v=="number"&&(d.maxItems=v),d.type="array",d.items=kn(f.element,i,{...o,path:[...o.path,"items"]})},LC=(t,i,r,o)=>{const d=r,f=t._zod.def;d.type="object",d.properties={};const p=f.shape;for(const _ in p)d.properties[_]=kn(p[_],i,{...o,path:[...o.path,"properties",_]});const v=new Set(Object.keys(p)),x=new Set([...v].filter(_=>{const S=f.shape[_]._zod;return i.io==="input"?S.optin===void 0:S.optout===void 0}));x.size>0&&(d.required=Array.from(x)),f.catchall?._zod.def.type==="never"?d.additionalProperties=!1:f.catchall?f.catchall&&(d.additionalProperties=kn(f.catchall,i,{...o,path:[...o.path,"additionalProperties"]})):i.io==="output"&&(d.additionalProperties=!1)},DC=(t,i,r,o)=>{const d=t._zod.def,f=d.inclusive===!1,p=d.options.map((v,x)=>kn(v,i,{...o,path:[...o.path,f?"oneOf":"anyOf",x]}));f?r.oneOf=p:r.anyOf=p},PC=(t,i,r,o)=>{const d=t._zod.def,f=kn(d.left,i,{...o,path:[...o.path,"allOf",0]}),p=kn(d.right,i,{...o,path:[...o.path,"allOf",1]}),v=_=>"allOf"in _&&Object.keys(_).length===1,x=[...v(f)?f.allOf:[f],...v(p)?p.allOf:[p]];r.allOf=x},BC=(t,i,r,o)=>{const d=t._zod.def,f=kn(d.innerType,i,o),p=i.seen.get(t);i.target==="openapi-3.0"?(p.ref=d.innerType,r.nullable=!0):r.anyOf=[f,{type:"null"}]},IC=(t,i,r,o)=>{const d=t._zod.def;kn(d.innerType,i,o);const f=i.seen.get(t);f.ref=d.innerType},UC=(t,i,r,o)=>{const d=t._zod.def;kn(d.innerType,i,o);const f=i.seen.get(t);f.ref=d.innerType,r.default=JSON.parse(JSON.stringify(d.defaultValue))},ZC=(t,i,r,o)=>{const d=t._zod.def;kn(d.innerType,i,o);const f=i.seen.get(t);f.ref=d.innerType,i.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},qC=(t,i,r,o)=>{const d=t._zod.def;kn(d.innerType,i,o);const f=i.seen.get(t);f.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=p},FC=(t,i,r,o)=>{const d=t._zod.def,f=i.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;kn(f,i,o);const p=i.seen.get(t);p.ref=f},HC=(t,i,r,o)=>{const d=t._zod.def;kn(d.innerType,i,o);const f=i.seen.get(t);f.ref=d.innerType,r.readOnly=!0},M0=(t,i,r,o)=>{const d=t._zod.def;kn(d.innerType,i,o);const f=i.seen.get(t);f.ref=d.innerType},KC=Ne("ZodISODateTime",(t,i)=>{V2.init(t,i),Vt.init(t,i)});function QC(t){return JT(KC,t)}const VC=Ne("ZodISODate",(t,i)=>{G2.init(t,i),Vt.init(t,i)});function GC(t){return WT(VC,t)}const YC=Ne("ZodISOTime",(t,i)=>{Y2.init(t,i),Vt.init(t,i)});function $C(t){return eC(YC,t)}const XC=Ne("ZodISODuration",(t,i)=>{$2.init(t,i),Vt.init(t,i)});function JC(t){return tC(XC,t)}const WC=(t,i)=>{p0.init(t,i),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>B1(t,r)},flatten:{value:r=>P1(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,fm,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,fm,2)}},isEmpty:{get(){return t.issues.length===0}}})},Mi=Ne("ZodError",WC,{Parent:Error}),ek=qm(Mi),tk=Fm(Mi),nk=fd(Mi),ik=md(Mi),ak=Z1(Mi),sk=q1(Mi),rk=F1(Mi),lk=H1(Mi),ok=K1(Mi),uk=Q1(Mi),ck=V1(Mi),dk=G1(Mi),nn=Ne("ZodType",(t,i)=>(tn.init(t,i),Object.assign(t["~standard"],{jsonSchema:{input:ed(t,"input"),output:ed(t,"output")}}),t.toJSONSchema=SC(t,{}),t.def=i,t.type=i.type,Object.defineProperty(t,"_def",{value:i}),t.check=(...r)=>t.clone(Rs(i,{checks:[...i.checks??[],...r.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(r,o)=>Ls(t,r,o),t.brand=()=>t,t.register=((r,o)=>(r.add(t,o),t)),t.parse=(r,o)=>ek(t,r,o,{callee:t.parse}),t.safeParse=(r,o)=>nk(t,r,o),t.parseAsync=async(r,o)=>tk(t,r,o,{callee:t.parseAsync}),t.safeParseAsync=async(r,o)=>ik(t,r,o),t.spa=t.safeParseAsync,t.encode=(r,o)=>ak(t,r,o),t.decode=(r,o)=>sk(t,r,o),t.encodeAsync=async(r,o)=>rk(t,r,o),t.decodeAsync=async(r,o)=>lk(t,r,o),t.safeEncode=(r,o)=>ok(t,r,o),t.safeDecode=(r,o)=>uk(t,r,o),t.safeEncodeAsync=async(r,o)=>ck(t,r,o),t.safeDecodeAsync=async(r,o)=>dk(t,r,o),t.refine=(r,o)=>t.check(aA(r,o)),t.superRefine=r=>t.check(sA(r)),t.overwrite=r=>t.check(Ll(r)),t.optional=()=>tx(t),t.exactOptional=()=>Kk(t),t.nullable=()=>nx(t),t.nullish=()=>tx(nx(t)),t.nonoptional=r=>Xk(t,r),t.array=()=>Pk(t),t.or=r=>td([t,r]),t.and=r=>Zk(t,r),t.transform=r=>ix(t,Fk(r)),t.default=r=>Gk(t,r),t.prefault=r=>$k(t,r),t.catch=r=>Wk(t,r),t.pipe=r=>ix(t,r),t.readonly=()=>nA(t),t.describe=r=>{const o=t.clone();return Fo.add(o,{description:r}),o},Object.defineProperty(t,"description",{get(){return Fo.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Fo.get(t);const o=t.clone();return Fo.add(o,r[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),R0=Ne("_ZodString",(t,i)=>{Hm.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(o,d,f)=>wC(t,o,d);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...o)=>t.check(oC(...o)),t.includes=(...o)=>t.check(dC(...o)),t.startsWith=(...o)=>t.check(hC(...o)),t.endsWith=(...o)=>t.check(fC(...o)),t.min=(...o)=>t.check(Wc(...o)),t.max=(...o)=>t.check(C0(...o)),t.length=(...o)=>t.check(k0(...o)),t.nonempty=(...o)=>t.check(Wc(1,...o)),t.lowercase=o=>t.check(uC(o)),t.uppercase=o=>t.check(cC(o)),t.trim=()=>t.check(pC()),t.normalize=(...o)=>t.check(mC(...o)),t.toLowerCase=()=>t.check(gC()),t.toUpperCase=()=>t.check(yC()),t.slugify=()=>t.check(vC())}),hk=Ne("ZodString",(t,i)=>{Hm.init(t,i),R0.init(t,i),t.email=r=>t.check(zT(fk,r)),t.url=r=>t.check(DT(mk,r)),t.jwt=r=>t.check(XT(kk,r)),t.emoji=r=>t.check(PT(pk,r)),t.guid=r=>t.check(Gv(Jv,r)),t.uuid=r=>t.check(OT(Rc,r)),t.uuidv4=r=>t.check(MT(Rc,r)),t.uuidv6=r=>t.check(RT(Rc,r)),t.uuidv7=r=>t.check(LT(Rc,r)),t.nanoid=r=>t.check(BT(gk,r)),t.guid=r=>t.check(Gv(Jv,r)),t.cuid=r=>t.check(IT(yk,r)),t.cuid2=r=>t.check(UT(vk,r)),t.ulid=r=>t.check(ZT(xk,r)),t.base64=r=>t.check(GT(Ek,r)),t.base64url=r=>t.check(YT(Tk,r)),t.xid=r=>t.check(qT(_k,r)),t.ksuid=r=>t.check(FT(bk,r)),t.ipv4=r=>t.check(HT(Nk,r)),t.ipv6=r=>t.check(KT(Sk,r)),t.cidrv4=r=>t.check(QT(jk,r)),t.cidrv6=r=>t.check(VT(wk,r)),t.e164=r=>t.check($T(Ck,r)),t.datetime=r=>t.check(QC(r)),t.date=r=>t.check(GC(r)),t.time=r=>t.check($C(r)),t.duration=r=>t.check(JC(r))});function Gi(t){return AT(hk,t)}const Vt=Ne("ZodStringFormat",(t,i)=>{Ft.init(t,i),R0.init(t,i)}),fk=Ne("ZodEmail",(t,i)=>{B2.init(t,i),Vt.init(t,i)}),Jv=Ne("ZodGUID",(t,i)=>{D2.init(t,i),Vt.init(t,i)}),Rc=Ne("ZodUUID",(t,i)=>{P2.init(t,i),Vt.init(t,i)}),mk=Ne("ZodURL",(t,i)=>{I2.init(t,i),Vt.init(t,i)}),pk=Ne("ZodEmoji",(t,i)=>{U2.init(t,i),Vt.init(t,i)}),gk=Ne("ZodNanoID",(t,i)=>{Z2.init(t,i),Vt.init(t,i)}),yk=Ne("ZodCUID",(t,i)=>{q2.init(t,i),Vt.init(t,i)}),vk=Ne("ZodCUID2",(t,i)=>{F2.init(t,i),Vt.init(t,i)}),xk=Ne("ZodULID",(t,i)=>{H2.init(t,i),Vt.init(t,i)}),_k=Ne("ZodXID",(t,i)=>{K2.init(t,i),Vt.init(t,i)}),bk=Ne("ZodKSUID",(t,i)=>{Q2.init(t,i),Vt.init(t,i)}),Nk=Ne("ZodIPv4",(t,i)=>{X2.init(t,i),Vt.init(t,i)}),Sk=Ne("ZodIPv6",(t,i)=>{J2.init(t,i),Vt.init(t,i)}),jk=Ne("ZodCIDRv4",(t,i)=>{W2.init(t,i),Vt.init(t,i)}),wk=Ne("ZodCIDRv6",(t,i)=>{eT.init(t,i),Vt.init(t,i)}),Ek=Ne("ZodBase64",(t,i)=>{tT.init(t,i),Vt.init(t,i)}),Tk=Ne("ZodBase64URL",(t,i)=>{iT.init(t,i),Vt.init(t,i)}),Ck=Ne("ZodE164",(t,i)=>{aT.init(t,i),Vt.init(t,i)}),kk=Ne("ZodJWT",(t,i)=>{rT.init(t,i),Vt.init(t,i)}),L0=Ne("ZodNumber",(t,i)=>{j0.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(o,d,f)=>EC(t,o,d),t.gt=(o,d)=>t.check($v(o,d)),t.gte=(o,d)=>t.check(wf(o,d)),t.min=(o,d)=>t.check(wf(o,d)),t.lt=(o,d)=>t.check(Yv(o,d)),t.lte=(o,d)=>t.check(jf(o,d)),t.max=(o,d)=>t.check(jf(o,d)),t.int=o=>t.check(Wv(o)),t.safe=o=>t.check(Wv(o)),t.positive=o=>t.check($v(0,o)),t.nonnegative=o=>t.check(wf(0,o)),t.negative=o=>t.check(Yv(0,o)),t.nonpositive=o=>t.check(jf(0,o)),t.multipleOf=(o,d)=>t.check(Xv(o,d)),t.step=(o,d)=>t.check(Xv(o,d)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null}),Ak=Ne("ZodNumberFormat",(t,i)=>{lT.init(t,i),L0.init(t,i)});function Wv(t){return iC(Ak,t)}const zk=Ne("ZodBoolean",(t,i)=>{oT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>TC(t,r,o)});function gd(t){return aC(zk,t)}const Ok=Ne("ZodNull",(t,i)=>{uT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>CC(t,r,o)});function pm(t){return sC(Ok,t)}const Mk=Ne("ZodUnknown",(t,i)=>{cT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>AC()});function ex(){return rC(Mk)}const Rk=Ne("ZodNever",(t,i)=>{dT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>kC(t,r,o)});function Lk(t){return lC(Rk,t)}const Dk=Ne("ZodArray",(t,i)=>{hT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>RC(t,r,o,d),t.element=i.element,t.min=(r,o)=>t.check(Wc(r,o)),t.nonempty=r=>t.check(Wc(1,r)),t.max=(r,o)=>t.check(C0(r,o)),t.length=(r,o)=>t.check(k0(r,o)),t.unwrap=()=>t.element});function Pk(t,i){return xC(Dk,t,i)}const Bk=Ne("ZodObject",(t,i)=>{mT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>LC(t,r,o,d),Nt(t,"shape",()=>i.shape),t.keyof=()=>ym(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:ex()}),t.loose=()=>t.clone({...t._zod.def,catchall:ex()}),t.strict=()=>t.clone({...t._zod.def,catchall:Lk()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>O1(t,r),t.safeExtend=r=>M1(t,r),t.merge=r=>R1(t,r),t.pick=r=>A1(t,r),t.omit=r=>z1(t,r),t.partial=(...r)=>L1(D0,t,r[0]),t.required=(...r)=>D1(P0,t,r[0])});function Ji(t,i){const r={type:"object",shape:t??{},...Ue(i)};return new Bk(r)}const Ik=Ne("ZodUnion",(t,i)=>{pT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>DC(t,r,o,d),t.options=i.options});function td(t,i){return new Ik({type:"union",options:t,...Ue(i)})}const Uk=Ne("ZodIntersection",(t,i)=>{gT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>PC(t,r,o,d)});function Zk(t,i){return new Uk({type:"intersection",left:t,right:i})}const gm=Ne("ZodEnum",(t,i)=>{yT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(o,d,f)=>zC(t,o,d),t.enum=i.entries,t.options=Object.values(i.entries);const r=new Set(Object.keys(i.entries));t.extract=(o,d)=>{const f={};for(const p of o)if(r.has(p))f[p]=i.entries[p];else throw new Error(`Key ${p} not found in enum`);return new gm({...i,checks:[],...Ue(d),entries:f})},t.exclude=(o,d)=>{const f={...i.entries};for(const p of o)if(r.has(p))delete f[p];else throw new Error(`Key ${p} not found in enum`);return new gm({...i,checks:[],...Ue(d),entries:f})}});function ym(t,i){const r=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new gm({type:"enum",entries:r,...Ue(i)})}const qk=Ne("ZodTransform",(t,i)=>{vT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>MC(t,r),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new o0(t.constructor.name);r.addIssue=f=>{if(typeof f=="string")r.issues.push($o(f,r.value,i));else{const p=f;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=r.value),p.inst??(p.inst=t),r.issues.push($o(p))}};const d=i.transform(r.value,r);return d instanceof Promise?d.then(f=>(r.value=f,r)):(r.value=d,r)}});function Fk(t){return new qk({type:"transform",transform:t})}const D0=Ne("ZodOptional",(t,i)=>{T0.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>M0(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function tx(t){return new D0({type:"optional",innerType:t})}const Hk=Ne("ZodExactOptional",(t,i)=>{xT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>M0(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function Kk(t){return new Hk({type:"optional",innerType:t})}const Qk=Ne("ZodNullable",(t,i)=>{_T.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>BC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function nx(t){return new Qk({type:"nullable",innerType:t})}const Vk=Ne("ZodDefault",(t,i)=>{bT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>UC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Gk(t,i){return new Vk({type:"default",innerType:t,get defaultValue(){return typeof i=="function"?i():h0(i)}})}const Yk=Ne("ZodPrefault",(t,i)=>{NT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>ZC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function $k(t,i){return new Yk({type:"prefault",innerType:t,get defaultValue(){return typeof i=="function"?i():h0(i)}})}const P0=Ne("ZodNonOptional",(t,i)=>{ST.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>IC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function Xk(t,i){return new P0({type:"nonoptional",innerType:t,...Ue(i)})}const Jk=Ne("ZodCatch",(t,i)=>{jT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>qC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Wk(t,i){return new Jk({type:"catch",innerType:t,catchValue:typeof i=="function"?i:()=>i})}const eA=Ne("ZodPipe",(t,i)=>{wT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>FC(t,r,o,d),t.in=i.in,t.out=i.out});function ix(t,i){return new eA({type:"pipe",in:t,out:i})}const tA=Ne("ZodReadonly",(t,i)=>{ET.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>HC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function nA(t){return new tA({type:"readonly",innerType:t})}const iA=Ne("ZodCustom",(t,i)=>{TT.init(t,i),nn.init(t,i),t._zod.processJSONSchema=(r,o,d)=>OC(t,r)});function aA(t,i={}){return _C(iA,t,i)}function sA(t){return bC(t)}function mn(t){return nC(L0,t)}const rA=Ji({employee_id:mn().int().positive(),expires_in_minutes:mn().int().positive().max(1440)});function lA(){const t=Bn(),[i,r]=j.useState(""),[o,d]=j.useState("60"),[f,p]=j.useState(null),[v,x]=j.useState(null),_=He({queryKey:["departments"],queryFn:Ms}),S=He({queryKey:["employees"],queryFn:()=>Ka()}),w=He({queryKey:["devices"],queryFn:QE}),C=He({queryKey:["leaves","dashboard"],queryFn:()=>n0({})}),z=He({queryKey:["attendance-events","dashboard"],queryFn:()=>e0({limit:8})}),k=Ge({mutationFn:i0,onSuccess:$=>{p($.invite_url),x(null),t.invalidateQueries({queryKey:["devices"]})},onError:$=>{x(f1($,"Device invite oluturulamad."))}}),A=()=>{p(null),x(null);const $=rA.safeParse({employee_id:i,expires_in_minutes:o});if(!$.success){x($.error.issues[0]?.message??"Invite formunu kontrol et.");return}k.mutate($.data)};if(_.isLoading||S.isLoading||w.isLoading||C.isLoading||z.isLoading)return l.jsx(Qt,{});if(_.isError||S.isError||w.isError||C.isError||z.isError)return l.jsx(Ot,{message:"Dashboard verileri alnamad."});const M=_.data??[],H=S.data??[],B=w.data??[],q=C.data??[],V=z.data??[],Y=M.length,G=H.length,ee=B.length,X=q.length;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(An,{title:"Dashboard",description:"Sistem zetini ve hzl ilemleri bu ekrandan ynetebilirsin."}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[l.jsxs(Me,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Departments"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:Y})]}),l.jsxs(Me,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Employees"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:G})]}),l.jsxs(Me,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Devices"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:ee})]}),l.jsxs(Me,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Leaves"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:X})]})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Quick Device Invite"}),l.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Employee ID",l.jsx("input",{value:i,onChange:$=>r($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"1"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Expires (minutes)",l.jsx("input",{value:o,onChange:$=>d($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),l.jsx("button",{type:"button",onClick:A,disabled:k.isPending,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:k.isPending?"Oluturuluyor...":"Create Invite"}),f?l.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:["Invite URL: ",f]}):null,v?l.jsx("div",{className:"form-validation",children:v}):null]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Recent Attendance Events"}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{className:"py-2",children:"Employee"}),l.jsx("th",{className:"py-2",children:"Type"}),l.jsx("th",{className:"py-2",children:"Status"})]})}),l.jsx("tbody",{children:V.map($=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:$.id}),l.jsx("td",{className:"py-2",children:$.employee_id}),l.jsx("td",{className:"py-2",children:$.type}),l.jsx("td",{className:"py-2",children:$.location_status})]},$.id))})]})})]})]})]})}function oA(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function B0(t){const i=oA(t),r=Math.floor(i/60),o=i%60;return{hours:r,minutes:o}}function uA(t){const{hours:i,minutes:r}=B0(t),o=String(i).padStart(2,"0"),d=String(r).padStart(2,"0");return`${o}:${d}`}function cA(t){const{hours:i,minutes:r}=B0(t);return i===0?`${r}dk`:`${i}s ${r}dk`}function Hc(t){return`${uA(t)} (${cA(t)})`}function Ct({minutes:t}){return l.jsx("span",{className:"whitespace-nowrap",children:Hc(t)})}function dA(t,i){const r=window.URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=i,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)}function hA(){const t=new Date,{pushToast:i}=Hn(),r={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=j.useState(r),[f,p]=j.useState(r),[v,x]=j.useState(!1),_=He({queryKey:["departments"],queryFn:Ms}),S=Number(f.year),w=Number(f.month),C=Number(f.departmentId),z=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=He({queryKey:["department-summary",S,w,f.departmentId||"all",f.includeInactive?"with-inactive":"active-only"],queryFn:()=>$E({year:S,month:w,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:f.includeInactive}),enabled:z}),A=k.data??[],M=j.useMemo(()=>A.reduce((Y,G)=>(Y.worked+=G.worked_minutes,Y.overtime+=G.overtime_minutes,Y.employeeCount+=G.employee_count,Y),{worked:0,overtime:0,employeeCount:0}),[A]),H=j.useMemo(()=>{const Y=[`Yl: ${f.year}`,`Ay: ${f.month}`];if(f.departmentId){const G=_.data?.find(ee=>ee.id===Number(f.departmentId));Y.push(`Departman: ${G?.name??f.departmentId}`)}return f.includeInactive&&Y.push("Arivdekiler dahil"),Y},[f,_.data]),B=()=>p({...o}),q=()=>{d(r),p(r)},V=async()=>{if(!z){i({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{x(!0);const Y=Number.isFinite(C)&&C>0?await a1({department_id:C,year:S,month:w,include_inactive:f.includeInactive}):await s1({year:S,month:w,include_inactive:f.includeInactive}),G=Number.isFinite(C)&&C>0?`department-${C}`:"all";dA(Y,`puantaj-${G}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch(Y){i({variant:"error",title:"Excel indirilemedi",description:Be(Y,"Dosya oluturulamad.").message})}finally{x(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma ve fazla mesai deerlerini karlatrn.",action:l.jsx("button",{type:"button",onClick:()=>{V()},disabled:v,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:v?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",l.jsx("input",{type:"number",value:o.year,onChange:Y=>d(G=>({...G,year:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{type:"number",value:o.month,onChange:Y=>d(G=>({...G,month:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",l.jsxs("select",{value:o.departmentId,onChange:Y=>d(G=>({...G,departmentId:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:_.isLoading,children:[l.jsx("option",{value:"",children:"Tm"}),(_.data??[]).map(Y=>l.jsxs("option",{value:Y.id,children:["#",Y.id," - ",Y.name]},Y.id))]})]})]}),l.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:Y=>d(G=>({...G,includeInactive:Y.target.checked}))}),"Arivdeki alanlar dahil et"]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:B,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:q,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:H.map(Y=>l.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Y},Y))})]}),z?null:l.jsx(Ot,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?l.jsx(Qt,{}):null,k.isError?l.jsx(Ot,{message:Be(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?l.jsxs(l.Fragment,{children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:M.worked})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Fazla Mesai"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:M.overtime})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),l.jsx("p",{className:"text-lg font-semibold",children:M.employeeCount})]})]})]}),A.length===0?l.jsx(Me,{children:l.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):l.jsx(Me,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"alan Says"}),l.jsx("th",{className:"py-2",children:"Toplam alma"}),l.jsx("th",{className:"py-2",children:"Toplam Fazla Mesai"})]})}),l.jsx("tbody",{children:A.map(Y=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsxs("td",{className:"py-2",children:["#",Y.department_id," - ",Y.department_name]}),l.jsx("td",{className:"py-2",children:Y.employee_count}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:Y.worked_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:Y.overtime_minutes})})]},Y.department_id))})]})})})]}):null]})}function Cl({value:t,onChange:i,placeholder:r="Isme gore ara..."}){return l.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",l.jsx("input",{value:t,onChange:o=>i(o.target.value),placeholder:r,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const ax=Ji({name:Gi().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:td([mn().int().positive(),pm()])});function sx(t){if(Pt.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const i=Be(t,"Departman olusturulamadi.");return i.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":i.message}function fA(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState(""),[p,v]=j.useState(""),[x,_]=j.useState(!1),[S,w]=j.useState(""),[C,z]=j.useState(null),[k,A]=j.useState(""),[M,H]=j.useState(""),[B,q]=j.useState(null),V=He({queryKey:["departments",S],queryFn:()=>bE(S?{region_id:Number(S)}:void 0)}),Y=He({queryKey:["regions","departments-page"],queryFn:()=>dd({include_inactive:!0})}),G=Ge({mutationFn:NE,onSuccess:Z=>{o(""),f(""),q(null),_(!1),i({variant:"success",title:"Departman olusturuldu",description:`${Z.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:Z=>{const re=sx(Z);q(re),i({variant:"error",title:"Departman olusturulamadi",description:re})}}),ee=Ge({mutationFn:({departmentId:Z,name:re,regionIdValue:U})=>SE(Z,{name:re,region_id:U}),onSuccess:Z=>{q(null),z(null),A(""),H(""),i({variant:"success",title:"Departman guncellendi",description:`${Z.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:Z=>{const re=sx(Z);q(re),i({variant:"error",title:"Departman guncellenemedi",description:re})}}),X=Z=>{Z.preventDefault(),q(null);const re=d.trim()===""?null:Number(d),U=ax.safeParse({name:r,region_id:re});if(!U.success){const se=U.error.issues[0]?.message??"Departman alanlarini kontrol edin.";q(se),i({variant:"error",title:"Form hatasi",description:se});return}G.mutate({name:U.data.name,region_id:U.data.region_id})},$=Z=>{if(Z.preventDefault(),q(null),!C)return;const re=M.trim()===""?null:Number(M),U=ax.safeParse({name:k,region_id:re});if(!U.success){const se=U.error.issues[0]?.message??"Departman alanlarini kontrol edin.";q(se),i({variant:"error",title:"Form hatasi",description:se});return}ee.mutate({departmentId:C,name:U.data.name,regionIdValue:U.data.region_id})},ve=V.data??[],ae=Y.data??[],ce=j.useMemo(()=>new Map(ae.map(Z=>[Z.id,Z.name])),[ae]),oe=j.useMemo(()=>{const Z=p.trim().toLowerCase();return Z?ve.filter(re=>re.name.toLowerCase().includes(Z)):ve},[ve,p]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:l.jsx("button",{type:"button",onClick:()=>_(Z=>!Z),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),x?l.jsxs(Me,{children:[l.jsxs("form",{onSubmit:X,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",l.jsx("input",{value:r,onChange:Z=>o(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",l.jsxs("select",{value:d,onChange:Z=>f(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Bolge yok"}),ae.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),l.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[l.jsx("button",{type:"submit",disabled:G.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Kaydediliyor...":"Kaydet"}),l.jsx("button",{type:"button",onClick:()=>{_(!1),q(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),B?l.jsx("div",{className:"form-validation",children:B}):null]}):null,C?l.jsxs(Me,{children:[l.jsxs("form",{onSubmit:$,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",l.jsx("input",{value:k,onChange:Z=>A(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",l.jsxs("select",{value:M,onChange:Z=>H(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Bolge yok"}),ae.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),l.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[l.jsx("button",{type:"submit",disabled:ee.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ee.isPending?"Guncelleniyor...":"Guncelle"}),l.jsx("button",{type:"button",onClick:()=>{z(null),A(""),H(""),q(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),B?l.jsx("div",{className:"form-validation",children:B}):null]}):null,V.isLoading||Y.isLoading?l.jsx(Qt,{}):null,V.isError||Y.isError?l.jsx(Ot,{message:"Departman verileri alinamadi."}):null,!V.isLoading&&!V.isError&&!Y.isLoading&&!Y.isError?l.jsxs(Me,{children:[l.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[l.jsx(Cl,{value:p,onChange:v,placeholder:"Departman adina gore ara..."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",l.jsxs("select",{value:S,onChange:Z=>w(Z.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum bolgeler"}),ae.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman ID"}),l.jsx("th",{className:"py-2",children:"Departman Adi"}),l.jsx("th",{className:"py-2",children:"Bolge"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:oe.map(Z=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:Z.id}),l.jsx("td",{className:"py-2",children:Z.name}),l.jsx("td",{className:"py-2",children:Z.region_name??(Z.region_id?ce.get(Z.region_id):"-")??"-"}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>{z(Z.id),A(Z.name),H(Z.region_id?String(Z.region_id):""),q(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},Z.id))})]})}),oe.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Os({value:t}){const i=t.toUpperCase();return i==="OK"||i==="AKTIF"||i==="APPROVED"?l.jsx("span",{className:"status-badge status-badge-ok",children:t}):i==="INCOMPLETE"?l.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):i==="LEAVE"?l.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):i==="OFF"?l.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):i==="PENDING"?l.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):i==="REJECTED"||i==="PASIF"?l.jsx("span",{className:"status-badge status-badge-danger",children:t}):l.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function mA(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function pA(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState(""),[p,v]=j.useState(!0),[x,_]=j.useState(""),[S,w]=j.useState(1),[C,z]=j.useState(50),[k,A]=j.useState(null),M=r?Number(r):void 0,H=M?0:(S-1)*C,B=He({queryKey:["employee-device-overview-summary",M??null,d,p,x,S,C],queryFn:()=>Ov({employee_id:M,region_id:d?Number(d):void 0,include_inactive:p,q:x.trim()||void 0,offset:H,limit:M?1:C,device_limit:1})}),q=He({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>Ov({employee_id:k??void 0,include_inactive:!0,offset:0,limit:1,device_limit:100})}),V=He({queryKey:["employees","all-for-devices"],queryFn:()=>Ka({include_inactive:!0,status:"all"})}),Y=He({queryKey:["regions","devices-page"],queryFn:()=>dd({include_inactive:!0})}),G=Ge({mutationFn:({deviceId:oe,isActive:Z})=>VE(oe,{is_active:Z}),onSuccess:oe=>{i({variant:"success",title:oe.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${oe.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:oe=>{i({variant:"error",title:"Cihaz durumu gncellenemedi",description:Be(oe,"lem baarsz.").message})}}),ee=V.data??[],X=Y.data??[],$=B.data??[],ve=q.data?.[0],ae=!M&&$.length===C,ce=!M&&S>1;return B.isLoading||V.isLoading||Y.isLoading?l.jsx(Qt,{}):B.isError?l.jsx(Ot,{message:Be(B.error,"Cihaz verisi alnamad.").message}):V.isError?l.jsx(Ot,{message:Be(V.error,"alan listesi alnamad.").message}):Y.isError?l.jsx(Ot,{message:Be(Y.error,"Bolge listesi alinamadi.").message}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),l.jsxs(Me,{children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[l.jsx(Ha,{label:"alan filtresi",employees:ee,value:r,onChange:oe=>{o(oe),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",l.jsx("input",{type:"text",value:x,onChange:oe=>{_(oe.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",l.jsxs("select",{value:C,onChange:oe=>{z(Number(oe.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",l.jsxs("select",{value:d,onChange:oe=>{f(oe.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum bolgeler"}),X.map(oe=>l.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:oe=>{v(oe.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),M?null:l.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[l.jsx("button",{type:"button",disabled:!ce,onClick:()=>{w(oe=>Math.max(1,oe-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),l.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),l.jsx("button",{type:"button",disabled:!ae,onClick:()=>{w(oe=>oe+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),l.jsxs(Me,{children:[l.jsx("div",{className:"max-h-[68vh] overflow-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 py-2",children:"alan"}),l.jsx("th",{className:"px-2 py-2",children:"Departman"}),l.jsx("th",{className:"px-2 py-2",children:"Durum"}),l.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),l.jsx("th",{className:"px-2 py-2",children:"Token"}),l.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),l.jsx("tbody",{children:$.map(oe=>{const Z=k===oe.employee_id;return l.jsxs(j.Fragment,{children:[l.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"font-medium text-slate-900",children:["#",oe.employee_id," - ",oe.employee_name]})}),l.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:oe.department_name??oe.department_id??"-"}),l.jsx("td",{className:"px-2 py-2",children:l.jsx(Os,{value:oe.is_employee_active?"Aktif":"Pasif"})}),l.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[l.jsx("span",{className:"font-semibold",children:oe.active_devices})," aktif / ",oe.total_devices," toplam"]}),l.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",oe.token_used," B:",oe.token_pending," D:",oe.token_expired," T:",oe.token_total]}),l.jsx("td",{className:"px-2 py-2 text-right",children:l.jsx("button",{type:"button",onClick:()=>{A(re=>re===oe.employee_id?null:oe.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:Z?"Kapat":"Cihazlar Ynet"})})]}),Z?l.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:l.jsx("td",{colSpan:6,className:"px-2 py-3",children:q.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):q.isError?l.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):ve?l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-left text-xs",children:[l.jsx("thead",{className:"uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Cihaz ID"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Fingerprint"}),l.jsx("th",{className:"py-2",children:"Oluturulma"}),l.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),l.jsx("tbody",{children:ve.devices.map(re=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:re.id}),l.jsx("td",{className:"py-2",children:l.jsx(Os,{value:re.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2 font-mono",children:re.device_fingerprint}),l.jsx("td",{className:"py-2",children:mA(re.created_at)}),l.jsx("td",{className:"py-2 text-right",children:l.jsx("button",{type:"button",disabled:G.isPending,onClick:()=>G.mutate({deviceId:re.id,isActive:!re.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${re.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:re.is_active?"Pasife Al":"Aktif Et"})})]},re.id))})]}),ve.has_more_devices?l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,ve.devices.length===0?l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},oe.employee_id)})})]})}),$.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]})]})}function gA(){const t=Bn(),{pushToast:i}=Hn(),r=He({queryKey:["compliance-settings"],queryFn:e1}),[o,d]=j.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});j.useEffect(()=>{r.data&&d({name:r.data.name,weekly_normal_minutes_default:r.data.weekly_normal_minutes_default,daily_max_minutes:r.data.daily_max_minutes,enforce_min_break_rules:r.data.enforce_min_break_rules,night_work_max_minutes_default:r.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:r.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:r.data.overtime_annual_cap_minutes,overtime_premium:r.data.overtime_premium,extra_work_premium:r.data.extra_work_premium,overtime_rounding_mode:r.data.overtime_rounding_mode})},[r.data]);const f=Ge({mutationFn:t1,onSuccess:()=>{i({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{i({variant:"error",title:"Kayit hatasi",description:Be(p,"Ayarlar kaydedilemedi.").message})}});return r.isLoading?l.jsx(Qt,{}):r.isError?l.jsx(Ot,{message:Be(r.error,"Uyumluluk ayarlari alinamadi.").message}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),l.jsx(Me,{children:l.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),f.mutate(o)},children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",l.jsx("input",{value:o.name,onChange:p=>d(v=>({...v,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",l.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(v=>({...v,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",l.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(v=>({...v,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",l.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(v=>({...v,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",l.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(v=>({...v,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",l.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(v=>({...v,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",l.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(v=>({...v,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",l.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(v=>({...v,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"OFF",children:"OFF"}),l.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[l.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(v=>({...v,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[l.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(v=>({...v,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),l.jsx("div",{className:"md:col-span-2",children:l.jsx("button",{type:"submit",disabled:f.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:f.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),l.jsx("p",{className:"font-semibold",children:l.jsx(Ct,{minutes:o.weekly_normal_minutes_default})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),l.jsx("p",{className:"font-semibold",children:l.jsx(Ct,{minutes:o.daily_max_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),l.jsx("p",{className:"font-semibold",children:l.jsx(Ct,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const Km=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Ko(){return Object.fromEntries(Km.map(t=>[t.key,{read:!1,write:!1}]))}function yA(t){const i=Ko();return t&&Km.forEach(({key:r})=>{const o=t[r];o&&(i[r]={read:!!(o.read||o.write),write:!!o.write})}),i}function rx({value:t,disabled:i=!1,onChange:r}){const o=(d,f,p)=>{const x={...t[d]??{read:!1,write:!1}};f==="read"?(x.read=p,p||(x.write=!1)):(x.write=p,p&&(x.read=!0)),r({...t,[d]:x})};return l.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"Modul"}),l.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),l.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),l.jsx("tbody",{children:Km.map(d=>{const f=t[d.key]??{read:!1,write:!1};return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"px-3 py-2",children:d.label}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"checkbox",checked:f.read,disabled:i,onChange:p=>o(d.key,"read",p.target.checked)})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"checkbox",checked:f.write,disabled:i,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function lx(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Ko()}}function vA(){const t=Bn(),{pushToast:i}=Hn(),{hasPermission:r,isSuperAdmin:o}=ru(),d=r("admin_users"),f=r("admin_users","write"),[p,v]=j.useState(lx()),[x,_]=j.useState(null),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(""),[M,H]=j.useState(!0),[B,q]=j.useState(!1),[V,Y]=j.useState(Ko()),G=He({queryKey:["admin-users"],queryFn:pE,enabled:d}),ee=Ge({mutationFn:vE,onSuccess:()=>{i({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),v(lx()),t.invalidateQueries({queryKey:["admin-users"]})},onError:Z=>{const re=Be(Z,"Admin kullanici olusturulamadi.");i({variant:"error",title:"Kayit basarisiz",description:re.message})}}),X=Ge({mutationFn:({userId:Z,payload:re})=>xE(Z,re),onSuccess:()=>{i({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),_(null),A(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:Z=>{const re=Be(Z,"Admin kullanici guncellenemedi.");i({variant:"error",title:"Guncelleme basarisiz",description:re.message})}}),$=Ge({mutationFn:_E,onSuccess:()=>{i({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:Z=>{const re=Be(Z,"Admin kullanici silinemedi.");i({variant:"error",title:"Silme basarisiz",description:re.message})}}),ve=j.useMemo(()=>[...G.data??[]].sort((re,U)=>re.username.localeCompare(U.username)),[G.data]);if(!d)return l.jsx(Ot,{message:"Bu alani goruntuleme yetkiniz yok."});if(G.isLoading)return l.jsx(Qt,{label:"Admin kullanicilar yukleniyor..."});if(G.isError)return l.jsx(Ot,{message:"Admin kullanici listesi alinamadi."});const ae=Z=>{if(Z.preventDefault(),!!f){if(!o){i({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}ee.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?Ko():p.permissions})}},ce=Z=>{_(Z),w(Z.username),z(Z.full_name??""),A(""),H(Z.is_active),q(Z.is_super_admin),Y(yA(Z.permissions))},oe=Z=>{Z.preventDefault(),!(!x||!f)&&X.mutate({userId:x.id,payload:{username:S.trim(),full_name:C.trim()||null,password:k.trim()?k:void 0,is_active:M,is_super_admin:B,permissions:B?Ko():V}})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),l.jsxs(Me,{children:[l.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),l.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",l.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:l.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),l.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",l.jsx("input",{value:p.username,onChange:Z=>v(re=>({...re,username:Z.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",l.jsx("input",{value:p.full_name,onChange:Z=>v(re=>({...re,full_name:Z.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",l.jsx("input",{type:"password",value:p.password,onChange:Z=>v(re=>({...re,password:Z.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!f||!o,onChange:Z=>v(re=>({...re,is_active:Z.target.checked}))}),"Aktif"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!f||!o,onChange:Z=>v(re=>({...re,is_super_admin:Z.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?l.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):l.jsx(rx,{value:p.permissions,disabled:!f||!o,onChange:Z=>v(re=>({...re,permissions:Z}))}),l.jsx("button",{type:"submit",disabled:!f||!o||ee.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ee.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{className:"py-2",children:"Kullanici"}),l.jsx("th",{className:"py-2",children:"Ad Soyad"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Rol"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:ve.map(Z=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:Z.id}),l.jsx("td",{className:"py-2 font-medium text-slate-900",children:Z.username}),l.jsx("td",{className:"py-2",children:Z.full_name??"-"}),l.jsx("td",{className:"py-2",children:l.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${Z.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:Z.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:Z.is_super_admin?"Super Admin":"Yetkili Admin"}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",disabled:!f||!o,onClick:()=>ce(Z),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),l.jsx("button",{type:"button",disabled:!f||!o||$.isPending,onClick:()=>{window.confirm(`${Z.username} kullanicisini silmek istediginize emin misiniz?`)&&$.mutate(Z.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},Z.id))})]})}),ve.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),l.jsx(Go,{open:!!x,title:"Admin Kullanici Duzenle",onClose:()=>{_(null),A("")},children:x?l.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",l.jsx("input",{value:S,onChange:Z=>w(Z.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",l.jsx("input",{value:C,onChange:Z=>z(Z.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",l.jsx("input",{type:"password",value:k,onChange:Z=>A(Z.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:M,disabled:!f||!o,onChange:Z=>H(Z.target.checked)}),"Aktif"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:B,disabled:!f||!o,onChange:Z=>q(Z.target.checked)}),"Super Admin"]})]}),B?l.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):l.jsx(rx,{value:V,disabled:!f||!o,onChange:Y}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{_(null),A("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),l.jsx("button",{type:"submit",disabled:!f||!o||X.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:X.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function ox({label:t,value:i,onCopy:r}){return l.jsxs("label",{className:"block text-sm text-slate-700",children:[t,l.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[l.jsx("input",{readOnly:!0,value:i,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),l.jsx("button",{type:"button",onClick:()=>r(i),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Ho={exports:{}};var xA=Ho.exports,ux;function _A(){return ux||(ux=1,(function(t,i){(function(r,o){o(i)})(xA,(function(r){var o="1.9.4";function d(a){var u,h,y,b;for(h=1,y=arguments.length;h<y;h++){b=arguments[h];for(u in b)a[u]=b[u]}return a}var f=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function p(a,u){var h=Array.prototype.slice;if(a.bind)return a.bind.apply(a,h.call(arguments,1));var y=h.call(arguments,2);return function(){return a.apply(u,y.length?y.concat(h.call(arguments)):arguments)}}var v=0;function x(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function _(a,u,h){var y,b,E,D;return D=function(){y=!1,b&&(E.apply(h,b),b=!1)},E=function(){y?b=arguments:(a.apply(h,arguments),setTimeout(D,u),y=!0)},E}function S(a,u,h){var y=u[1],b=u[0],E=y-b;return a===y&&h?a:((a-b)%E+E)%E+b}function w(){return!1}function C(a,u){if(u===!1)return a;var h=Math.pow(10,u===void 0?6:u);return Math.round(a*h)/h}function z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return z(a).split(/\s+/)}function A(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?f(a.options):{});for(var h in u)a.options[h]=u[h];return a.options}function M(a,u,h){var y=[];for(var b in a)y.push(encodeURIComponent(h?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function B(a,u){return a.replace(H,function(h,y){var b=u[y];if(b===void 0)throw new Error("No value provided for variable "+h);return typeof b=="function"&&(b=b(u)),b})}var q=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function V(a,u){for(var h=0;h<a.length;h++)if(a[h]===u)return h;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var ee=0;function X(a){var u=+new Date,h=Math.max(0,16-(u-ee));return ee=u+h,window.setTimeout(a,h)}var $=window.requestAnimationFrame||G("RequestAnimationFrame")||X,ve=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function ae(a,u,h){if(h&&$===X)a.call(u);else return $.call(window,p(a,u))}function ce(a){a&&ve.call(window,a)}var oe={__proto__:null,extend:d,create:f,bind:p,get lastId(){return v},stamp:x,throttle:_,wrapNum:S,falseFn:w,formatNum:C,trim:z,splitWords:k,setOptions:A,getParamString:M,template:B,isArray:q,indexOf:V,emptyImageUrl:Y,requestFn:$,cancelFn:ve,requestAnimFrame:ae,cancelAnimFrame:ce};function Z(){}Z.extend=function(a){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,y=f(h);y.constructor=u,u.prototype=y;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return a.statics&&d(u,a.statics),a.includes&&(re(a.includes),d.apply(null,[y].concat(a.includes))),d(y,a),delete y.statics,delete y.includes,y.options&&(y.options=h.options?f(h.options):{},d(y.options,a.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,D=y._initHooks.length;E<D;E++)y._initHooks[E].call(this)}},u},Z.include=function(a){var u=this.prototype.options;return d(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},Z.mergeOptions=function(a){return d(this.prototype.options,a),this},Z.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),h=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function re(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=q(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(a,u,h){if(typeof a=="object")for(var y in a)this._on(y,a[y],u);else{a=k(a);for(var b=0,E=a.length;b<E;b++)this._on(a[b],u,h)}return this},off:function(a,u,h){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var y in a)this._off(y,a[y],u);else{a=k(a);for(var b=arguments.length===1,E=0,D=a.length;E<D;E++)b?this._off(a[E]):this._off(a[E],u,h)}return this},_on:function(a,u,h,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,h)===!1){h===this&&(h=void 0);var b={fn:u,ctx:h};y&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,u,h){var y,b,E;if(this._events&&(y=this._events[a],!!y)){if(arguments.length===1){if(this._firingCount)for(b=0,E=y.length;b<E;b++)y[b].fn=w;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var D=this._listens(a,u,h);if(D!==!1){var ne=y[D];this._firingCount&&(ne.fn=w,this._events[a]=y=y.slice()),y.splice(D,1)}}},fire:function(a,u,h){if(!this.listens(a,h))return this;var y=d({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,D=b.length;E<D;E++){var ne=b[E],fe=ne.fn;ne.once&&this.off(a,fe,ne.ctx),fe.call(ne.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(a,u,h,y){typeof a!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(y=!!u,b=void 0,h=void 0);var E=this._events&&this._events[a];if(E&&E.length&&this._listens(a,b,h)!==!1)return!0;if(y){for(var D in this._eventParents)if(this._eventParents[D].listens(a,u,h,y))return!0}return!1},_listens:function(a,u,h){if(!this._events)return!1;var y=this._events[a]||[];if(!u)return!!y.length;h===this&&(h=void 0);for(var b=0,E=y.length;b<E;b++)if(y[b].fn===u&&y[b].ctx===h)return b;return!1},once:function(a,u,h){if(typeof a=="object")for(var y in a)this._on(y,a[y],u,!0);else{a=k(a);for(var b=0,E=a.length;b<E;b++)this._on(a[b],u,h,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[x(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[x(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,d({layer:a.target,propagatedFrom:a.target},a),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var se=Z.extend(U);function he(a,u,h){this.x=h?Math.round(a):a,this.y=h?Math.round(u):u}var Ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};he.prototype={clone:function(){return new he(this.x,this.y)},add:function(a){return this.clone()._add(W(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(W(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new he(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new he(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(a){a=W(a);var u=a.x-this.x,h=a.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(a){return a=W(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=W(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function W(a,u,h){return a instanceof he?a:q(a)?new he(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new he(a.x,a.y):new he(a,u,h)}function O(a,u){if(a)for(var h=u?[a,u]:a,y=0,b=h.length;y<b;y++)this.extend(h[y])}O.prototype={extend:function(a){var u,h;if(!a)return this;if(a instanceof he||typeof a[0]=="number"||"x"in a)u=h=W(a);else if(a=ie(a),u=a.min,h=a.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(a){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,h;return typeof a[0]=="number"||a instanceof he?a=W(a):a=ie(a),a instanceof O?(u=a.min,h=a.max):u=h=a,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(a){a=ie(a);var u=this.min,h=this.max,y=a.min,b=a.max,E=b.x>=u.x&&y.x<=h.x,D=b.y>=u.y&&y.y<=h.y;return E&&D},overlaps:function(a){a=ie(a);var u=this.min,h=this.max,y=a.min,b=a.max,E=b.x>u.x&&y.x<h.x,D=b.y>u.y&&y.y<h.y;return E&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,h=this.max,y=Math.abs(u.x-h.x)*a,b=Math.abs(u.y-h.y)*a;return ie(W(u.x-y,u.y-b),W(h.x+y,h.y+b))},equals:function(a){return a?(a=ie(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ie(a,u){return!a||a instanceof O?a:new O(a,u)}function P(a,u){if(a)for(var h=u?[a,u]:a,y=0,b=h.length;y<b;y++)this.extend(h[y])}P.prototype={extend:function(a){var u=this._southWest,h=this._northEast,y,b;if(a instanceof ye)y=a,b=a;else if(a instanceof P){if(y=a._southWest,b=a._northEast,!y||!b)return this}else return a?this.extend(we(a)||F(a)):this;return!u&&!h?(this._southWest=new ye(y.lat,y.lng),this._northEast=new ye(b.lat,b.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),h.lat=Math.max(b.lat,h.lat),h.lng=Math.max(b.lng,h.lng)),this},pad:function(a){var u=this._southWest,h=this._northEast,y=Math.abs(u.lat-h.lat)*a,b=Math.abs(u.lng-h.lng)*a;return new P(new ye(u.lat-y,u.lng-b),new ye(h.lat+y,h.lng+b))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ye||"lat"in a?a=we(a):a=F(a);var u=this._southWest,h=this._northEast,y,b;return a instanceof P?(y=a.getSouthWest(),b=a.getNorthEast()):y=b=a,y.lat>=u.lat&&b.lat<=h.lat&&y.lng>=u.lng&&b.lng<=h.lng},intersects:function(a){a=F(a);var u=this._southWest,h=this._northEast,y=a.getSouthWest(),b=a.getNorthEast(),E=b.lat>=u.lat&&y.lat<=h.lat,D=b.lng>=u.lng&&y.lng<=h.lng;return E&&D},overlaps:function(a){a=F(a);var u=this._southWest,h=this._northEast,y=a.getSouthWest(),b=a.getNorthEast(),E=b.lat>u.lat&&y.lat<h.lat,D=b.lng>u.lng&&y.lng<h.lng;return E&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=F(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(a,u){return a instanceof P?a:new P(a,u)}function ye(a,u,h){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,h!==void 0&&(this.alt=+h)}ye.prototype={equals:function(a,u){if(!a)return!1;a=we(a);var h=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return h<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Ze.distance(this,we(a))},wrap:function(){return Ze.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,h=u/Math.cos(Math.PI/180*this.lat);return F([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function we(a,u,h){return a instanceof ye?a:q(a)&&typeof a[0]!="object"?a.length===3?new ye(a[0],a[1],a[2]):a.length===2?new ye(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ye(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new ye(a,u,h)}var ke={latLngToPoint:function(a,u){var h=this.projection.project(a),y=this.scale(u);return this.transformation._transform(h,y)},pointToLatLng:function(a,u){var h=this.scale(u),y=this.transformation.untransform(a,h);return this.projection.unproject(y)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(a),y=this.transformation.transform(u.min,h),b=this.transformation.transform(u.max,h);return new O(y,b)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,h=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,y=a.alt;return new ye(h,u,y)},wrapLatLngBounds:function(a){var u=a.getCenter(),h=this.wrapLatLng(u),y=u.lat-h.lat,b=u.lng-h.lng;if(y===0&&b===0)return a;var E=a.getSouthWest(),D=a.getNorthEast(),ne=new ye(E.lat-y,E.lng-b),fe=new ye(D.lat-y,D.lng-b);return new P(ne,fe)}},Ze=d({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var h=Math.PI/180,y=a.lat*h,b=u.lat*h,E=Math.sin((u.lat-a.lat)*h/2),D=Math.sin((u.lng-a.lng)*h/2),ne=E*E+Math.cos(y)*Math.cos(b)*D*D,fe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*fe}}),qe=6378137,dt={R:qe,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,a.lat),-h),b=Math.sin(y*u);return new he(this.R*a.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var u=180/Math.PI;return new ye((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=qe*Math.PI;return new O([-a,-a],[a,a])})()};function it(a,u,h,y){if(q(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=h,this._d=y}it.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new he((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Bt(a,u,h,y){return new it(a,u,h,y)}var Mt=d({},Ze,{code:"EPSG:3857",projection:dt,transformation:(function(){var a=.5/(Math.PI*dt.R);return Bt(a,.5,-a,.5)})()}),Gt=d({},Mt,{code:"EPSG:900913"});function an(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Yt(a,u){var h="",y,b,E,D,ne,fe;for(y=0,E=a.length;y<E;y++){for(ne=a[y],b=0,D=ne.length;b<D;b++)fe=ne[b],h+=(b?"L":"M")+fe.x+" "+fe.y;h+=u?Re.svg?"z":"x":""}return h||"M0 0"}var ln=document.documentElement.style,on="ActiveXObject"in window,bn=on&&!document.addEventListener,J="msLaunchUri"in navigator&&!("documentMode"in document),Te=On("webkit"),Ve=On("android"),kt=On("android 2")||On("android 3"),Ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xe=Ve&&On("Google")&&Ye<537&&!("AudioNode"in window),Q=!!window.opera,Ae=!J&&On("chrome"),St=On("gecko")&&!Te&&!Q&&!on,$e=!Ae&&On("safari"),pn=On("phantom"),le="OTransition"in ln,Xe=navigator.platform.indexOf("Win")===0,yt=on&&"transition"in ln,Rt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kt,zn="MozPerspective"in ln,gn=!window.L_DISABLE_3D&&(yt||Rt||zn)&&!le&&!pn,Ri=typeof orientation<"u"||On("mobile"),Ds=Ri&&Te,Ps=Ri&&Rt,Li=!window.PointerEvent&&window.MSPointerEvent,Di=!!(window.PointerEvent||Li),Wi="ontouchstart"in window||!!window.TouchEvent,vi=!window.L_NO_TOUCH&&(Wi||Di),ea=Ri&&Q,si=Ri&&St,Or=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mr=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return a})(),Bs=(function(){return!!document.createElement("canvas").getContext})(),ri=!!(document.createElementNS&&an("svg").createSVGRect),Dl=!!ri&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),va=!ri&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Rr=navigator.platform.indexOf("Mac")===0,Lr=navigator.platform.indexOf("Linux")===0;function On(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Re={ie:on,ielt9:bn,edge:J,webkit:Te,android:Ve,android23:kt,androidStock:xe,opera:Q,chrome:Ae,gecko:St,safari:$e,phantom:pn,opera12:le,win:Xe,ie3d:yt,webkit3d:Rt,gecko3d:zn,any3d:gn,mobile:Ri,mobileWebkit:Ds,mobileWebkit3d:Ps,msPointer:Li,pointer:Di,touch:vi,touchNative:Wi,mobileOpera:ea,mobileGecko:si,retina:Or,passiveEvents:Mr,canvas:Bs,svg:ri,vml:va,inlineSvg:Dl,mac:Rr,linux:Lr},Is=Re.msPointer?"MSPointerDown":"pointerdown",Qa=Re.msPointer?"MSPointerMove":"pointermove",li=Re.msPointer?"MSPointerUp":"pointerup",$t=Re.msPointer?"MSPointerCancel":"pointercancel",un={touchstart:Is,touchmove:Qa,touchend:li,touchcancel:$t},Pi={touchstart:Bi,touchmove:Mn,touchend:Mn,touchcancel:Mn},xi={},Dr=!1;function Pl(a,u,h){return u==="touchstart"&&ht(),Pi[u]?(h=Pi[u].bind(this,h),a.addEventListener(un[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function Pr(a,u,h){if(!un[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(un[u],h,!1)}function xa(a){xi[a.pointerId]=a}function R(a){xi[a.pointerId]&&(xi[a.pointerId]=a)}function ze(a){delete xi[a.pointerId]}function ht(){Dr||(document.addEventListener(Is,xa,!0),document.addEventListener(Qa,R,!0),document.addEventListener(li,ze,!0),document.addEventListener($t,ze,!0),Dr=!0)}function Mn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in xi)u.touches.push(xi[h]);u.changedTouches=[u],a(u)}}function Bi(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Xt(u),Mn(a,u)}function Ht(a){var u={},h,y;for(y in a)h=a[y],u[y]=h&&h.bind?h.bind(a):h;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Us=200;function lu(a,u){a.addEventListener("dblclick",u);var h=0,y;function b(E){if(E.detail!==1){y=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var D=Vs(E);if(!(D.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!D.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var ne=Date.now();ne-h<=Us?(y++,y===2&&u(Ht(E))):y=1,h=ne}}}return a.addEventListener("click",b),{dblclick:u,simDblclick:b}}function _a(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ta=Fs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zs=Fs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bl=Zs==="webkitTransition"||Zs==="OTransition"?Zs+"End":"transitionend";function Il(a){return typeof a=="string"?document.getElementById(a):a}function qs(a,u){var h=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(a,null);h=y?y[u]:null}return h==="auto"?null:h}function at(a,u,h){var y=document.createElement(a);return y.className=u||"",h&&h.appendChild(y),y}function jt(a){var u=a.parentNode;u&&u.removeChild(a)}function Kn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function yn(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ba(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Ul(a,u){if(a.classList!==void 0)return a.classList.contains(u);var h=Br(a);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function Je(a,u){if(a.classList!==void 0)for(var h=k(u),y=0,b=h.length;y<b;y++)a.classList.add(h[y]);else if(!Ul(a,u)){var E=Br(a);Va(a,(E?E+" ":"")+u)}}function It(a,u){a.classList!==void 0?a.classList.remove(u):Va(a,z((" "+Br(a)+" ").replace(" "+u+" "," ")))}function Va(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Br(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Lt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Zl(a,u)}function Zl(a,u){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=a.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):a.style.filter+=" progid:"+y+"(opacity="+u+")"}function Fs(a){for(var u=document.documentElement.style,h=0;h<a.length;h++)if(a[h]in u)return a[h];return!1}function Ii(a,u,h){var y=u||new he(0,0);a.style[ta]=(Re.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function At(a,u){a._leaflet_pos=u,Re.any3d?Ii(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function na(a){return a._leaflet_pos||new he(0,0)}var Ga,_i,ql;if("onselectstart"in document)Ga=function(){Ke(window,"selectstart",Xt)},_i=function(){xt(window,"selectstart",Xt)};else{var Ya=Fs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ga=function(){if(Ya){var a=document.documentElement.style;ql=a[Ya],a[Ya]="none"}},_i=function(){Ya&&(document.documentElement.style[Ya]=ql,ql=void 0)}}function Ir(){Ke(window,"dragstart",Xt)}function Hs(){xt(window,"dragstart",Xt)}var Ur,Fl;function $a(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Qn(),Ur=a,Fl=a.style.outlineStyle,a.style.outlineStyle="none",Ke(window,"keydown",Qn))}function Qn(){Ur&&(Ur.style.outlineStyle=Fl,Ur=void 0,Fl=void 0,xt(window,"keydown",Qn))}function Zr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ks(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Xa={__proto__:null,TRANSFORM:ta,TRANSITION:Zs,TRANSITION_END:Bl,get:Il,getStyle:qs,create:at,remove:jt,empty:Kn,toFront:yn,toBack:ba,hasClass:Ul,addClass:Je,removeClass:It,setClass:Va,getClass:Br,setOpacity:Lt,testProp:Fs,setTransform:Ii,setPosition:At,getPosition:na,get disableTextSelection(){return Ga},get enableTextSelection(){return _i},disableImageDrag:Ir,enableImageDrag:Hs,preventOutline:$a,restoreOutline:Qn,getSizedParentNode:Zr,getScale:Ks};function Ke(a,u,h,y){if(u&&typeof u=="object")for(var b in u)ui(a,b,u[b],h);else{u=k(u);for(var E=0,D=u.length;E<D;E++)ui(a,u[E],h,y)}return this}var oi="_leaflet_events";function xt(a,u,h,y){if(arguments.length===1)Hl(a),delete a[oi];else if(u&&typeof u=="object")for(var b in u)Qs(a,b,u[b],h);else if(u=k(u),arguments.length===2)Hl(a,function(ne){return V(u,ne)!==-1});else for(var E=0,D=u.length;E<D;E++)Qs(a,u[E],h,y);return this}function Hl(a,u){for(var h in a[oi]){var y=h.split(/\d/)[0];(!u||u(y))&&Qs(a,y,null,null,h)}}var Na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ui(a,u,h,y){var b=u+x(h)+(y?"_"+x(y):"");if(a[oi]&&a[oi][b])return this;var E=function(ne){return h.call(y||a,ne||window.event)},D=E;!Re.touchNative&&Re.pointer&&u.indexOf("touch")===0?E=Pl(a,u,E):Re.touch&&u==="dblclick"?E=lu(a,E):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Na[u]||u,E,Re.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(ne){ne=ne||window.event,Ui(a,ne)&&D(ne)},a.addEventListener(Na[u],E,!1)):a.addEventListener(u,D,!1):a.attachEvent("on"+u,E),a[oi]=a[oi]||{},a[oi][b]=E}function Qs(a,u,h,y,b){b=b||u+x(h)+(y?"_"+x(y):"");var E=a[oi]&&a[oi][b];if(!E)return this;!Re.touchNative&&Re.pointer&&u.indexOf("touch")===0?Pr(a,u,E):Re.touch&&u==="dblclick"?_a(a,E):"removeEventListener"in a?a.removeEventListener(Na[u]||u,E,!1):a.detachEvent("on"+u,E),a[oi][b]=null}function ci(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function bi(a){return ui(a,"wheel",ci),this}function Sa(a){return Ke(a,"mousedown touchstart dblclick contextmenu",ci),a._leaflet_disable_click=!0,this}function Xt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function ia(a){return Xt(a),ci(a),this}function Vs(a){if(a.composedPath)return a.composedPath();for(var u=[],h=a.target;h;)u.push(h),h=h.parentNode;return u}function Gs(a,u){if(!u)return new he(a.clientX,a.clientY);var h=Ks(u),y=h.boundingClientRect;return new he((a.clientX-y.left)/h.x-u.clientLeft,(a.clientY-y.top)/h.y-u.clientTop)}var ou=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wn(a){return Re.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ou:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ui(a,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==a;)h=h.parentNode}catch{return!1}return h!==a}var qr={__proto__:null,on:Ke,off:xt,stopPropagation:ci,disableScrollPropagation:bi,disableClickPropagation:Sa,preventDefault:Xt,stop:ia,getPropagationPath:Vs,getMousePosition:Gs,getWheelDelta:wn,isExternalTarget:Ui,addListener:Ke,removeListener:xt},Ja=se.extend({run:function(a,u,h,y){this.stop(),this._el=a,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=na(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var h=this._startPos.add(this._offset.multiplyBy(a));u&&h._round(),At(this._el,h),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ot=se.extend({options:{crs:Mt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(we(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zs&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,Bl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(we(a),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,h.zoom):this._tryAnimatedPan(a,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,h){var y=this.getZoomScale(u),b=this.getSize().divideBy(2),E=a instanceof he?a:this.latLngToContainerPoint(a),D=E.subtract(b).multiplyBy(1-1/y),ne=this.containerPointToLatLng(b.add(D));return this.setView(ne,u,{zoom:h})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():F(a);var h=W(u.paddingTopLeft||u.padding||[0,0]),y=W(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(a,!1,h.add(y));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var E=y.subtract(h).divideBy(2),D=this.project(a.getSouthWest(),b),ne=this.project(a.getNorthEast(),b),fe=this.unproject(D.add(ne).divideBy(2).add(E),b);return{center:fe,zoom:b}},fitBounds:function(a,u){if(a=F(a),!a.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(a,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=W(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ja,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Je(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,h){if(h=h||{},h.animate===!1||!Re.any3d)return this.setView(a,u,h);this._stop();var y=this.project(this.getCenter()),b=this.project(a),E=this.getSize(),D=this._zoom;a=we(a),u=u===void 0?D:u;var ne=Math.max(E.x,E.y),fe=ne*this.getZoomScale(D,u),Se=b.distanceTo(y)||1,Ce=1.42,Pe=Ce*Ce;function tt(Kt){var Hi=Kt?-1:1,Ta=Kt?fe:ne,so=fe*fe-ne*ne+Hi*Pe*Pe*Se*Se,cr=2*Ta*Pe*Se,dr=so/cr,ha=Math.sqrt(dr*dr+1)-dr,Ki=ha<1e-9?-18:Math.log(ha);return Ki}function vn(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function Jt(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function Un(Kt){return vn(Kt)/Jt(Kt)}var ft=tt(0);function mt(Kt){return ne*(Jt(ft)/Jt(ft+Ce*Kt))}function st(Kt){return ne*(Jt(ft)*Un(ft+Ce*Kt)-vn(ft))/Pe}function ca(Kt){return 1-Math.pow(1-Kt,1.5)}var $n=Date.now(),nl=(tt(1)-ft)/Ce,da=h.duration?1e3*h.duration:1e3*nl*.8;function ao(){var Kt=(Date.now()-$n)/da,Hi=ca(Kt)*nl;Kt<=1?(this._flyToFrame=ae(ao,this),this._move(this.unproject(y.add(b.subtract(y).multiplyBy(st(Hi)/Se)),D),this.getScaleZoom(ne/mt(Hi),D),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ao.call(this),this},flyToBounds:function(a,u){var h=this._getBoundsCenterZoom(a,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(a){return a=F(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,F(a));return h.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var h=W(u.paddingTopLeft||u.padding||[0,0]),y=W(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(a),D=this.getPixelBounds(),ne=ie([D.min.add(h),D.max.subtract(y)]),fe=ne.getSize();if(!ne.contains(E)){this._enforcingBounds=!0;var Se=E.subtract(ne.getCenter()),Ce=ne.extend(E).getSize().subtract(fe);b.x+=Se.x<0?-Ce.x:Ce.x,b.y+=Se.y<0?-Ce.y:Ce.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=d({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=u.divideBy(2).round(),b=h.divideBy(2).round(),E=y.subtract(b);return!E.x&&!E.y?this:(a.animate&&a.pan?this.panBy(E):(a.pan&&this._rawPanBy(E),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=d({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,a):navigator.geolocation.getCurrentPosition(u,h,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,h=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,h=a.coords.longitude,y=new ye(u,h),b=y.toBounds(a.coords.accuracy*2),E=this._locateOptions;if(E.setView){var D=this.getBoundsZoom(b);this.setView(y,E.maxZoom?Math.min(D,E.maxZoom):D)}var ne={latlng:y,bounds:b,timestamp:a.timestamp};for(var fe in a.coords)typeof a.coords[fe]=="number"&&(ne[fe]=a.coords[fe]);this.fire("locationfound",ne)}},addHandler:function(a,u){if(!u)return this;var h=this[a]=new u(this);return this._handlers.push(h),this.options[a]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)jt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var h="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),y=at("div",h,u||this._mapPane);return a&&(this._panes[a]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),h=this.unproject(a.getTopRight());return new P(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,h){a=F(a),h=W(h||[0,0]);var y=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),D=a.getNorthWest(),ne=a.getSouthEast(),fe=this.getSize().subtract(h),Se=ie(this.project(ne,y),this.project(D,y)).getSize(),Ce=Re.any3d?this.options.zoomSnap:1,Pe=fe.x/Se.x,tt=fe.y/Se.y,vn=u?Math.max(Pe,tt):Math.min(Pe,tt);return y=this.getScaleZoom(vn,y),Ce&&(y=Math.round(y/(Ce/100))*(Ce/100),y=u?Math.ceil(y/Ce)*Ce:Math.floor(y/Ce)*Ce),Math.max(b,Math.min(E,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new he(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var h=this._getTopLeftPoint(a,u);return new O(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(a)/h.scale(u)},getScaleZoom:function(a,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var y=h.zoom(a*h.scale(u));return isNaN(y)?1/0:y},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(we(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(W(a),u)},layerPointToLatLng:function(a){var u=W(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(we(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(we(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(F(a))},distance:function(a,u){return this.options.crs.distance(we(a),we(u))},containerPointToLayerPoint:function(a){return W(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return W(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(W(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(a)))},mouseEventToContainerPoint:function(a){return Gs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Il(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ke(u,"scroll",this._onScroll,this),this._containerId=x(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,Je(a,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=qs(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),At(this._mapPane,new he(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(a.markerPane,"leaflet-zoom-hide"),Je(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,h){At(this._mapPane,new he(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,h)._move(a,u)._moveEnd(b),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,h,y){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),y?h&&h.pinch&&this.fire("zoom",h):((b||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){At(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[x(this._container)]=this;var u=a?xt:Ke;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var h=[],y,b=u==="mouseout"||u==="mouseover",E=a.target||a.srcElement,D=!1;E;){if(y=this._targets[x(E)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){D=!0;break}if(y&&y.listens(u,!0)&&(b&&!Ui(E,a)||(h.push(y),b))||E===this._container)break;E=E.parentNode}return!h.length&&!D&&!b&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var h=a.type;h==="mousedown"&&$a(u),this._fireDOMEvent(a,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,h){if(a.type==="click"){var y=d({},a);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var b=this._findEventTargets(a,u);if(h){for(var E=[],D=0;D<h.length;D++)h[D].listens(u,!0)&&E.push(h[D]);b=E.concat(b)}if(b.length){u==="contextmenu"&&Xt(a);var ne=b[0],fe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Se=ne.getLatLng&&(!ne._radius||ne._radius<=10);fe.containerPoint=Se?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(a),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=Se?ne.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(D=0;D<b.length;D++)if(b[D].fire(u,fe,!0),fe.originalEvent._stopped||b[D].options.bubblingMouseEvents===!1&&V(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return na(this._mapPane)||new he(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var h=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var h=this.getSize()._divideBy(2);return this.project(a,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,h){var y=this._getNewPixelOrigin(h,u);return this.project(a,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(a,u,h){var y=this._getNewPixelOrigin(h,u);return ie([this.project(a.getSouthWest(),u)._subtract(y),this.project(a.getNorthWest(),u)._subtract(y),this.project(a.getSouthEast(),u)._subtract(y),this.project(a.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,h){if(!h)return a;var y=this.project(a,u),b=this.getSize().divideBy(2),E=new O(y.subtract(b),y.add(b)),D=this._getBoundsOffset(E,h,u);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?a:this.unproject(y.add(D),u)},_limitOffset:function(a,u){if(!u)return a;var h=this.getPixelBounds(),y=new O(h.min.add(a),h.max.add(a));return a.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(a,u,h){var y=ie(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),b=y.min.subtract(a.min),E=y.max.subtract(a.max),D=this._rebound(b.x,-E.x),ne=this._rebound(b.y,-E.y);return new he(D,ne)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),h=this.getMaxZoom(),y=Re.any3d?this.options.zoomSnap:1;return y&&(a=Math.round(a/y)*y),Math.max(u,Math.min(h,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){It(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var h=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var a=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var h=ta,y=this._proxy.style[h];Ii(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Ii(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),b=this._getCenterOffset(a)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(b)?!1:(ae(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&It(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Kl(a,u){return new ot(a,u)}var In=Z.extend({options:{position:"topright"},initialize:function(a){A(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),h=this.getPosition(),y=a._controlCorners[h];return Je(u,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Zi=function(a){return new In(a)};ot.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",h=this._controlContainer=at("div",u+"control-container",this._container);function y(b,E){var D=u+b+" "+u+E;a[b+E]=at("div",D,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)jt(this._controlCorners[a]);jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ys=In.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,h,y){return h<y?-1:y<h?1:0}},initialize:function(a,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in a)this._addLayer(a[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return In.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(x(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):It(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return It(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=at("div",a),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Sa(u),bi(u);var y=this._section=at("section",a+"-list");h&&(this._map.on("click",this.collapse,this),Ke(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=at("a",a+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Ke(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Xt(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=at("div",a+"-base",y),this._separator=at("div",a+"-separator",y),this._overlaysList=at("div",a+"-overlays",y),u.appendChild(y)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&x(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,h){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(y,b){return this.options.sortFunction(y.layer,b.layer,y.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kn(this._baseLayersList),Kn(this._overlaysList),this._layerControlInputs=[];var a,u,h,y,b=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),u=u||y.overlay,a=a||!y.overlay,b+=y.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(x(a.target)),h=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(a,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(a){var u=document.createElement("label"),h=this._map.hasLayer(a.layer),y;a.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+x(this),h),this._layerControlInputs.push(y),y.layerId=x(a.layer),Ke(y,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(y),E.appendChild(b);var D=a.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,h,y=[],b=[];this._handlingClick=!0;for(var E=a.length-1;E>=0;E--)u=a[E],h=this._getLayer(u.layerId).layer,u.checked?y.push(h):u.checked||b.push(h);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])||this._map.addLayer(y[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,h,y=this._map.getZoom(),b=a.length-1;b>=0;b--)u=a[b],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ke(a,"click",Xt),this.expand();var u=this;setTimeout(function(){xt(a,"click",Xt),u._preventClick=!1})}}),uu=function(a,u,h){return new Ys(a,u,h)},Ql=In.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",h=at("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,h,y,b){var E=at("a",h,y);return E.innerHTML=a,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),Sa(E),Ke(E,"click",ia),Ke(E,"click",b,this),Ke(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";It(this._zoomInButton,u),It(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Je(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Je(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ql,this.addControl(this.zoomControl))});var yd=function(a){return new Ql(a)},cu=In.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",h=at("div",u),y=this.options;return this._addScales(y,u+"-line",h),a.on(y.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),h},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,h){a.metric&&(this._mScale=at("div",u,h)),a.imperial&&(this._iScale=at("div",u,h))},_update:function(){var a=this._map,u=a.getSize().y/2,h=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/a)},_updateImperial:function(a){var u=a*3.2808399,h,y,b;u>5280?(h=u/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(a,u,h){a.style.width=Math.round(this.options.maxWidth*h)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),h=a/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),Vl=function(a){return new cu(a)},vd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gl=In.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?vd+" ":"")+"Leaflet</a>"},initialize:function(a){A(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=at("div","leaflet-control-attribution"),Sa(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),a.length&&h.push(a.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new Gl().addTo(this)});var xd=function(a){return new Gl(a)};In.Layers=Ys,In.Zoom=Ql,In.Scale=cu,In.Attribution=Gl,Zi.layers=uu,Zi.zoom=yd,Zi.scale=Vl,Zi.attribution=xd;var Ni=Z.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ni.addTo=function(a,u){return a.addHandler(u,this),this};var _d={Events:U},Yl=Re.touch?"touchstart mousedown":"mousedown",aa=se.extend({options:{clickTolerance:3},initialize:function(a,u,h,y){A(this,y),this._element=a,this._dragStartTarget=u||a,this._preventOutline=h},enable:function(){this._enabled||(Ke(this._dragStartTarget,Yl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(aa._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,Yl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ul(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){aa._dragging===this&&this.finishDrag();return}if(!(aa._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(aa._dragging=this,this._preventOutline&&$a(this._element),Ir(),Ga(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,h=Zr(this._element);this._startPoint=new he(u.clientX,u.clientY),this._startPos=na(this._element),this._parentScale=Ks(h);var y=a.type==="mousedown";Ke(document,y?"mousemove":"touchmove",this._onMove,this),Ke(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,h=new he(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Xt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),At(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){It(document.body,"leaflet-dragging"),this._lastTarget&&(It(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),Hs(),_i();var u=this._moved&&this._moving;this._moving=!1,aa._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function du(a,u,h){var y,b=[1,4,2,8],E,D,ne,fe,Se,Ce,Pe,tt;for(E=0,Ce=a.length;E<Ce;E++)a[E]._code=ja(a[E],u);for(ne=0;ne<4;ne++){for(Pe=b[ne],y=[],E=0,Ce=a.length,D=Ce-1;E<Ce;D=E++)fe=a[E],Se=a[D],fe._code&Pe?Se._code&Pe||(tt=Fr(Se,fe,Pe,u,h),tt._code=ja(tt,u),y.push(tt)):(Se._code&Pe&&(tt=Fr(Se,fe,Pe,u,h),tt._code=ja(tt,u),y.push(tt)),y.push(fe));a=y}return a}function hu(a,u){var h,y,b,E,D,ne,fe,Se,Ce;if(!a||a.length===0)throw new Error("latlngs not passed");Vn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pe=we([0,0]),tt=F(a),vn=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());vn<1700&&(Pe=$l(a));var Jt=a.length,Un=[];for(h=0;h<Jt;h++){var ft=we(a[h]);Un.push(u.project(we([ft.lat-Pe.lat,ft.lng-Pe.lng])))}for(ne=fe=Se=0,h=0,y=Jt-1;h<Jt;y=h++)b=Un[h],E=Un[y],D=b.y*E.x-E.y*b.x,fe+=(b.x+E.x)*D,Se+=(b.y+E.y)*D,ne+=D*3;ne===0?Ce=Un[0]:Ce=[fe/ne,Se/ne];var mt=u.unproject(W(Ce));return we([mt.lat+Pe.lat,mt.lng+Pe.lng])}function $l(a){for(var u=0,h=0,y=0,b=0;b<a.length;b++){var E=we(a[b]);u+=E.lat,h+=E.lng,y++}return we([u/y,h/y])}var Xl={__proto__:null,clipPolygon:du,polygonCenter:hu,centroid:$l};function fu(a,u){if(!u||!a.length)return a.slice();var h=u*u;return a=Nd(a,h),a=pu(a,h),a}function mu(a,u,h){return Math.sqrt($s(a,u,h,!0))}function bd(a,u,h){return $s(a,u,h)}function pu(a,u){var h=a.length,y=typeof Uint8Array<"u"?Uint8Array:Array,b=new y(h);b[0]=b[h-1]=1,Jl(a,b,u,0,h-1);var E,D=[];for(E=0;E<h;E++)b[E]&&D.push(a[E]);return D}function Jl(a,u,h,y,b){var E=0,D,ne,fe;for(ne=y+1;ne<=b-1;ne++)fe=$s(a[ne],a[y],a[b],!0),fe>E&&(D=ne,E=fe);E>h&&(u[D]=1,Jl(a,u,h,y,D),Jl(a,u,h,D,b))}function Nd(a,u){for(var h=[a[0]],y=1,b=0,E=a.length;y<E;y++)Sd(a[y],a[b])>u&&(h.push(a[y]),b=y);return b<E-1&&h.push(a[E-1]),h}var gu;function yu(a,u,h,y,b){var E=y?gu:ja(a,h),D=ja(u,h),ne,fe,Se;for(gu=D;;){if(!(E|D))return[a,u];if(E&D)return!1;ne=E||D,fe=Fr(a,u,ne,h,b),Se=ja(fe,h),ne===E?(a=fe,E=Se):(u=fe,D=Se)}}function Fr(a,u,h,y,b){var E=u.x-a.x,D=u.y-a.y,ne=y.min,fe=y.max,Se,Ce;return h&8?(Se=a.x+E*(fe.y-a.y)/D,Ce=fe.y):h&4?(Se=a.x+E*(ne.y-a.y)/D,Ce=ne.y):h&2?(Se=fe.x,Ce=a.y+D*(fe.x-a.x)/E):h&1&&(Se=ne.x,Ce=a.y+D*(ne.x-a.x)/E),new he(Se,Ce,b)}function ja(a,u){var h=0;return a.x<u.min.x?h|=1:a.x>u.max.x&&(h|=2),a.y<u.min.y?h|=4:a.y>u.max.y&&(h|=8),h}function Sd(a,u){var h=u.x-a.x,y=u.y-a.y;return h*h+y*y}function $s(a,u,h,y){var b=u.x,E=u.y,D=h.x-b,ne=h.y-E,fe=D*D+ne*ne,Se;return fe>0&&(Se=((a.x-b)*D+(a.y-E)*ne)/fe,Se>1?(b=h.x,E=h.y):Se>0&&(b+=D*Se,E+=ne*Se)),D=a.x-b,ne=a.y-E,y?D*D+ne*ne:new he(b,E)}function Vn(a){return!q(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Hr(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(a)}function Wa(a,u){var h,y,b,E,D,ne,fe,Se;if(!a||a.length===0)throw new Error("latlngs not passed");Vn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ce=we([0,0]),Pe=F(a),tt=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());tt<1700&&(Ce=$l(a));var vn=a.length,Jt=[];for(h=0;h<vn;h++){var Un=we(a[h]);Jt.push(u.project(we([Un.lat-Ce.lat,Un.lng-Ce.lng])))}for(h=0,y=0;h<vn-1;h++)y+=Jt[h].distanceTo(Jt[h+1])/2;if(y===0)Se=Jt[0];else for(h=0,E=0;h<vn-1;h++)if(D=Jt[h],ne=Jt[h+1],b=D.distanceTo(ne),E+=b,E>y){fe=(E-y)/b,Se=[ne.x-fe*(ne.x-D.x),ne.y-fe*(ne.y-D.y)];break}var ft=u.unproject(W(Se));return we([ft.lat+Ce.lat,ft.lng+Ce.lng])}var jd={__proto__:null,simplify:fu,pointToSegmentDistance:mu,closestPointOnSegment:bd,clipSegment:yu,_getEdgeIntersection:Fr,_getBitCode:ja,_sqClosestPointOnSegment:$s,isFlat:Vn,_flat:Hr,polylineCenter:Wa},Kr={project:function(a){return new he(a.lng,a.lat)},unproject:function(a){return new ye(a.y,a.x)},bounds:new O([-180,-90],[180,90])},Qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,h=this.R,y=a.lat*u,b=this.R_MINOR/h,E=Math.sqrt(1-b*b),D=E*Math.sin(y),ne=Math.tan(Math.PI/4-y/2)/Math.pow((1-D)/(1+D),E/2);return y=-h*Math.log(Math.max(ne,1e-10)),new he(a.lng*u*h,y)},unproject:function(a){for(var u=180/Math.PI,h=this.R,y=this.R_MINOR/h,b=Math.sqrt(1-y*y),E=Math.exp(-a.y/h),D=Math.PI/2-2*Math.atan(E),ne=0,fe=.1,Se;ne<15&&Math.abs(fe)>1e-7;ne++)Se=b*Math.sin(D),Se=Math.pow((1-Se)/(1+Se),b/2),fe=Math.PI/2-2*Math.atan(E*Se)-D,D+=fe;return new ye(D*u,a.x*u/h)}},vu={__proto__:null,LonLat:Kr,Mercator:Qr,SphericalMercator:dt},xu=d({},Ze,{code:"EPSG:3395",projection:Qr,transformation:(function(){var a=.5/(Math.PI*Qr.R);return Bt(a,.5,-a,.5)})()}),Wl=d({},Ze,{code:"EPSG:4326",projection:Kr,transformation:Bt(1/180,1,-1/180,.5)}),es=d({},ke,{projection:Kr,transformation:Bt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var h=u.lng-a.lng,y=u.lat-a.lat;return Math.sqrt(h*h+y*y)},infinite:!0});ke.Earth=Ze,ke.EPSG3395=xu,ke.EPSG3857=Mt,ke.EPSG900913=Gt,ke.EPSG4326=Wl,ke.Simple=es;var di=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[x(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[x(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=x(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=x(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return x(a)in this._layers},eachLayer:function(a,u){for(var h in this._layers)a.call(u,this._layers[h]);return this},_addLayers:function(a){a=a?q(a)?a:[a]:[];for(var u=0,h=a.length;u<h;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[x(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=x(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var b=this._zoomBoundLayers[y].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ts=di.extend({initialize:function(a,u){A(this,u),this._layers={};var h,y;if(a)for(h=0,y=a.length;h<y;h++)this.addLayer(a[h])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[a]&&y[a].apply(y,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var h in this._layers)a.call(u,this._layers[h]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return x(a)}}),wd=function(a,u){return new ts(a,u)},Si=ts.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ts.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ts.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new P;for(var u in this._layers){var h=this._layers[u];a.extend(h.getBounds?h.getBounds():h.getLatLng())}return a}}),_u=function(a,u){return new Si(a,u)},ji=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){A(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var h=this._getIconUrl(a);if(!h){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(a,u){var h=this.options,y=h[u+"Size"];typeof y=="number"&&(y=[y,y]);var b=W(y),E=W(u==="shadow"&&h.shadowAnchor||h.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(h.className||""),E&&(a.style.marginLeft=-E.x+"px",a.style.marginTop=-E.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Re.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Xs(a){return new ji(a)}var Js=ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Js.imagePath!="string"&&(Js.imagePath=this._detectIconPath()),(this.options.imagePath||Js.imagePath)+ji.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(h,y,b){var E=y.exec(h);return E&&E[b]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=at("div","leaflet-default-icon-path",document.body),u=qs(a,"background-image")||qs(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Ws=Ni.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new aa(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&It(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,h=u._map,y=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=na(u._icon),D=h.getPixelBounds(),ne=h.getPixelOrigin(),fe=ie(D.min._subtract(ne).add(b),D.max._subtract(ne).subtract(b));if(!fe.contains(E)){var Se=W((Math.max(fe.max.x,E.x)-fe.max.x)/(D.max.x-fe.max.x)-(Math.min(fe.min.x,E.x)-fe.min.x)/(D.min.x-fe.min.x),(Math.max(fe.max.y,E.y)-fe.max.y)/(D.max.y-fe.max.y)-(Math.min(fe.min.y,E.y)-fe.min.y)/(D.min.y-fe.min.y)).multiplyBy(y);h.panBy(Se,{animate:!1}),this._draggable._newPos._add(Se),this._draggable._startPos._add(Se),At(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ae(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,h=u._shadow,y=na(u._icon),b=u._map.layerPointToLatLng(y);h&&At(h,y),u._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),er=di.extend({options:{icon:new Js,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){A(this,u),this._latlng=we(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=we(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=a.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,a.title&&(h.title=a.title),h.tagName==="IMG"&&(h.alt=a.alt||"")),Je(h,u),a.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(h,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(Je(b,u),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&At(this._icon,a),this._shadow&&At(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ws)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ws(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Lt(this._icon,a),this._shadow&&Lt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,h=u.iconSize?W(u.iconSize):W(0,0),y=u.iconAnchor?W(u.iconAnchor):W(0,0);a.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bu(a,u){return new er(a,u)}var wi=di.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return A(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=wi.extend({options:{fill:!0,radius:10},initialize:function(a,u){A(this,u),this._latlng=we(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=we(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return wi.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,h=this._clickTolerance(),y=[a+h,u+h];this._pxBounds=new O(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nu(a,u){return new ns(a,u)}var Vr=ns.extend({initialize:function(a,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=we(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:wi.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===Ze.distance){var b=Math.PI/180,E=this._mRadius/Ze.R/b,D=h.project([u+E,a]),ne=h.project([u-E,a]),fe=D.add(ne).divideBy(2),Se=h.unproject(fe).lat,Ce=Math.acos((Math.cos(E*b)-Math.sin(u*b)*Math.sin(Se*b))/(Math.cos(u*b)*Math.cos(Se*b)))/b;(isNaN(Ce)||Ce===0)&&(Ce=E/Math.cos(Math.PI/180*u)),this._point=fe.subtract(h.getPixelOrigin()),this._radius=isNaN(Ce)?0:fe.x-h.project([Se,a-Ce]).x,this._radiusY=fe.y-D.y}else{var Pe=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Pe).x}this._updateBounds()}});function Su(a,u,h){return new Vr(a,u,h)}var qi=wi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){A(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,h=null,y=$s,b,E,D=0,ne=this._parts.length;D<ne;D++)for(var fe=this._parts[D],Se=1,Ce=fe.length;Se<Ce;Se++){b=fe[Se-1],E=fe[Se];var Pe=y(a,b,E,!0);Pe<u&&(u=Pe,h=y(a,b,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=we(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new P,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],h=Vn(a),y=0,b=a.length;y<b;y++)h?(u[y]=we(a[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(a[y]);return u},_project:function(){var a=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new he(a,a);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,h){var y=a[0]instanceof ye,b=a.length,E,D;if(y){for(D=[],E=0;E<b;E++)D[E]=this._map.latLngToLayerPoint(a[E]),h.extend(D[E]);u.push(D)}else for(E=0;E<b;E++)this._projectLatlngs(a[E],u,h)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,y,b,E,D,ne,fe;for(h=0,b=0,E=this._rings.length;h<E;h++)for(fe=this._rings[h],y=0,D=fe.length;y<D-1;y++)ne=yu(fe[y],fe[y+1],a,y,!0),ne&&(u[b]=u[b]||[],u[b].push(ne[0]),(ne[1]!==fe[y+1]||y===D-2)&&(u[b].push(ne[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,h=0,y=a.length;h<y;h++)a[h]=fu(a[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var h,y,b,E,D,ne,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(h=0,E=this._parts.length;h<E;h++)for(ne=this._parts[h],y=0,D=ne.length,b=D-1;y<D;b=y++)if(!(!u&&y===0)&&mu(a,ne[b],ne[y])<=fe)return!0;return!1}});function Ed(a,u){return new qi(a,u)}qi._flat=Hr;var is=qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=qi.prototype._convertLatLngs.call(this,a),h=u.length;return h>=2&&u[0]instanceof ye&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(a){qi.prototype._setLatLngs.call(this,a),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,h=new he(u,u);if(a=new O(a.min.subtract(h),a.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,b=this._rings.length,E;y<b;y++)E=du(this._rings[y],a,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,h,y,b,E,D,ne,fe,Se;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(E=0,fe=this._parts.length;E<fe;E++)for(h=this._parts[E],D=0,Se=h.length,ne=Se-1;D<Se;ne=D++)y=h[D],b=h[ne],y.y>a.y!=b.y>a.y&&a.x<(b.x-y.x)*(a.y-y.y)/(b.y-y.y)+y.x&&(u=!u);return u||qi.prototype._containsPoint.call(this,a,!0)}});function Td(a,u){return new is(a,u)}var Fi=Si.extend({initialize:function(a,u){A(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=q(a)?a:a.features,h,y,b;if(u){for(h=0,y=u.length;h<y;h++)b=u[h],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(a))return this;var D=Nn(a,E);return D?(D.feature=$r(a),D.defaultOptions=D.options,this.resetStyle(D),E.onEachFeature&&E.onEachFeature(a,D),this.addLayer(D)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=d({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Nn(a,u){var h=a.type==="Feature"?a.geometry:a,y=h?h.coordinates:null,b=[],E=u&&u.pointToLayer,D=u&&u.coordsToLatLng||Gr,ne,fe,Se,Ce;if(!y&&!h)return null;switch(h.type){case"Point":return ne=D(y),as(E,a,ne,u);case"MultiPoint":for(Se=0,Ce=y.length;Se<Ce;Se++)ne=D(y[Se]),b.push(as(E,a,ne,u));return new Si(b);case"LineString":case"MultiLineString":return fe=tr(y,h.type==="LineString"?0:1,D),new qi(fe,u);case"Polygon":case"MultiPolygon":return fe=tr(y,h.type==="Polygon"?1:2,D),new is(fe,u);case"GeometryCollection":for(Se=0,Ce=h.geometries.length;Se<Ce;Se++){var Pe=Nn({geometry:h.geometries[Se],type:"Feature",properties:a.properties},u);Pe&&b.push(Pe)}return new Si(b);case"FeatureCollection":for(Se=0,Ce=h.features.length;Se<Ce;Se++){var tt=Nn(h.features[Se],u);tt&&b.push(tt)}return new Si(b);default:throw new Error("Invalid GeoJSON object.")}}function as(a,u,h,y){return a?a(u,h):new er(h,y&&y.markersInheritOptions&&y)}function Gr(a){return new ye(a[1],a[0],a[2])}function tr(a,u,h){for(var y=[],b=0,E=a.length,D;b<E;b++)D=u?tr(a[b],u-1,h):(h||Gr)(a[b]),y.push(D);return y}function Yr(a,u){return a=we(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function nr(a,u,h,y){for(var b=[],E=0,D=a.length;E<D;E++)b.push(u?nr(a[E],Vn(a[E])?0:u-1,h,y):Yr(a[E],y));return!u&&h&&b.length>0&&b.push(b[0].slice()),b}function sa(a,u){return a.feature?d({},a.feature,{geometry:u}):$r(u)}function $r(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ra={toGeoJSON:function(a){return sa(this,{type:"Point",coordinates:Yr(this.getLatLng(),a)})}};er.include(ra),Vr.include(ra),ns.include(ra),qi.include({toGeoJSON:function(a){var u=!Vn(this._latlngs),h=nr(this._latlngs,u?1:0,!1,a);return sa(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),is.include({toGeoJSON:function(a){var u=!Vn(this._latlngs),h=u&&!Vn(this._latlngs[0]),y=nr(this._latlngs,h?2:u?1:0,!0,a);return u||(y=[y]),sa(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),ts.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(a).geometry.coordinates)}),sa(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var h=u==="GeometryCollection",y=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(a);if(h)y.push(E.geometry);else{var D=$r(E);D.type==="FeatureCollection"?y.push.apply(y,D.features):y.push(D)}}}),h?sa(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Xr(a,u){return new Fi(a,u)}var ir=Xr,ss=di.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,h){this._url=a,this._bounds=F(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&yn(this._image),this},bringToBack:function(){return this._map&&ba(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=F(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:at("img");if(Je(u,"leaflet-image-layer"),this._zoomAnimated&&Je(u,"leaflet-zoom-animated"),this.options.className&&Je(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ii(this._image,h,u)},_reset:function(){var a=this._image,u=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();At(a,u.min),a.style.width=h.x+"px",a.style.height=h.y+"px"},_updateOpacity:function(){Lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),ju=function(a,u,h){return new ss(a,u,h)},la=ss.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:at("video");if(Je(u,"leaflet-image-layer"),this._zoomAnimated&&Je(u,"leaflet-zoom-animated"),this.options.className&&Je(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=p(this.fire,this,"load"),a){for(var h=u.getElementsByTagName("source"),y=[],b=0;b<h.length;b++)y.push(h[b].src);this._url=h.length>0?y:[u.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var D=at("source");D.src=this._url[E],u.appendChild(D)}}});function rs(a,u,h){return new la(a,u,h)}var Jr=ss.extend({_initImage:function(){var a=this._image=this._url;Je(a,"leaflet-image-layer"),this._zoomAnimated&&Je(a,"leaflet-zoom-animated"),this.options.className&&Je(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function wu(a,u,h){return new Jr(a,u,h)}var Sn=di.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof ye||q(a))?(this._latlng=we(a),A(this,u)):(A(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Lt(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Lt(this._container,0),this._removeTimeout=setTimeout(p(jt,void 0,this._container),200)):jt(this._container),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=we(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yn(this._container),this},bringToBack:function(){return this._map&&ba(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Si){u=null;var h=this._source._layers;for(var y in h)if(h[y]._map){u=h[y];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=W(this.options.offset),h=this._getAnchor();this._zoomAnimated?At(this._container,a.add(h)):u=u.add(a).add(h);var y=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(a,u,h,y){var b=u;return b instanceof a||(b=new a(y).setContent(u)),h&&b.setLatLng(h),b}}),di.include({_initOverlay:function(a,u,h,y){var b=h;return b instanceof a?(A(b,y),b._source=this):(b=u&&!y?u:new a(y,this),b.setContent(h)),b}});var ar=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Sn.prototype.openOn.call(this,a)},onAdd:function(a){Sn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wi||this._source.on("preclick",ci))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wi||this._source.off("preclick",ci))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=at("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=at("div",a+"-content-wrapper",u);if(this._contentNode=at("div",a+"-content",h),Sa(u),bi(this._contentNode),Ke(u,"contextmenu",ci),this._tipContainer=at("div",a+"-tip-container",u),this._tip=at("div",a+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=at("a",a+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(y,"click",function(b){Xt(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var h=a.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var y=a.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&y>b?(u.height=b+"px",Je(a,E)):It(a,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),h=this._getAnchor();At(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(qs(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,y=this._containerWidth,b=new he(this._containerLeft,-h-this._containerBottom);b._add(na(this._container));var E=a.layerPointToContainerPoint(b),D=W(this.options.autoPanPadding),ne=W(this.options.autoPanPaddingTopLeft||D),fe=W(this.options.autoPanPaddingBottomRight||D),Se=a.getSize(),Ce=0,Pe=0;E.x+y+fe.x>Se.x&&(Ce=E.x+y-Se.x+fe.x),E.x-Ce-ne.x<0&&(Ce=E.x-ne.x),E.y+h+fe.y>Se.y&&(Pe=E.y+h-Se.y+fe.y),E.y-Pe-ne.y<0&&(Pe=E.y-ne.y),(Ce||Pe)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ce,Pe]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Eu=function(a,u){return new ar(a,u)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(a,u,h){return this._initOverlay(ar,a,u,h).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),di.include({bindPopup:function(a,u){return this._popup=this._initOverlay(ar,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){ia(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof wi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var sr=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Sn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,h,y=this._map,b=this._container,E=y.latLngToContainerPoint(y.getCenter()),D=y.layerPointToContainerPoint(a),ne=this.options.direction,fe=b.offsetWidth,Se=b.offsetHeight,Ce=W(this.options.offset),Pe=this._getAnchor();ne==="top"?(u=fe/2,h=Se):ne==="bottom"?(u=fe/2,h=0):ne==="center"?(u=fe/2,h=Se/2):ne==="right"?(u=0,h=Se/2):ne==="left"?(u=fe,h=Se/2):D.x<E.x?(ne="right",u=0,h=Se/2):(ne="left",u=fe+(Ce.x+Pe.x)*2,h=Se/2),a=a.subtract(W(u,h,!0)).add(Ce).add(Pe),It(b,"leaflet-tooltip-right"),It(b,"leaflet-tooltip-left"),It(b,"leaflet-tooltip-top"),It(b,"leaflet-tooltip-bottom"),Je(b,"leaflet-tooltip-"+ne),At(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Lt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cd=function(a,u){return new sr(a,u)};ot.include({openTooltip:function(a,u,h){return this._initOverlay(sr,a,u,h).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),di.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sr,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Ke(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ke(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,h,y;this._tooltip.options.sticky&&a.originalEvent&&(h=this._map.mouseEventToContainerPoint(a.originalEvent),y=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var Tu=ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Kn(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=W(h.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function kd(a){return new Tu(a)}ji.Default=Js;var ls=di.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){A(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),jt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ba(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof he?a:new he(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,h=-a(-1/0,1/0),y=0,b=u.length,E;y<b;y++)E=u[y].style.zIndex,u[y]!==this._container&&E&&(h=a(h,+E));isFinite(h)&&(this.options.zIndex=h+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){Lt(this._container,this.options.opacity);var a=+new Date,u=!1,h=!1;for(var y in this._tiles){var b=this._tiles[y];if(!(!b.current||!b.loaded)){var E=Math.min(1,(a-b.loaded)/200);Lt(b.el,E),E<1?u=!0:(b.active?h=!0:this._onOpaqueTile(b),b.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===a?(this._levels[h].el.style.zIndex=u-Math.abs(a-h),this._onUpdateLevel(h)):(jt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[a],b=this._map;return y||(y=this._levels[a]={},y.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),y.zoom=a,this._setZoomTransform(y,b.getCenter(),b.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)jt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,h,y){var b=Math.floor(a/2),E=Math.floor(u/2),D=h-1,ne=new he(+b,+E);ne.z=+D;var fe=this._tileCoordsToKey(ne),Se=this._tiles[fe];return Se&&Se.active?(Se.retain=!0,!0):(Se&&Se.loaded&&(Se.retain=!0),D>y?this._retainParent(b,E,D,y):!1)},_retainChildren:function(a,u,h,y){for(var b=2*a;b<2*a+2;b++)for(var E=2*u;E<2*u+2;E++){var D=new he(b,E);D.z=h+1;var ne=this._tileCoordsToKey(D),fe=this._tiles[ne];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);h+1<y&&this._retainChildren(b,E,h+1,y)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,h,y){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!y||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],a,u)},_setZoomTransform:function(a,u,h){var y=this._map.getZoomScale(h,a.zoom),b=a.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,h)).round();Re.any3d?Ii(a.el,b,y):At(a.el,b)},_resetGrid:function(){var a=this._map,u=a.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],y).x/h.x),Math.ceil(a.project([0,u.wrapLng[1]],y).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],y).y/h.x),Math.ceil(a.project([u.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(h,this._tileZoom),b=u.project(a,this._tileZoom).floor(),E=u.getSize().divideBy(y*2);return new O(b.subtract(E),b.add(E))},_update:function(a){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(y),E=b.getCenter(),D=[],ne=this.options.keepBuffer,fe=new O(b.getBottomLeft().subtract([ne,-ne]),b.getTopRight().add([ne,-ne]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Se in this._tiles){var Ce=this._tiles[Se].coords;(Ce.z!==this._tileZoom||!fe.contains(new he(Ce.x,Ce.y)))&&(this._tiles[Se].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(a,h);return}for(var Pe=b.min.y;Pe<=b.max.y;Pe++)for(var tt=b.min.x;tt<=b.max.x;tt++){var vn=new he(tt,Pe);if(vn.z=this._tileZoom,!!this._isValidTile(vn)){var Jt=this._tiles[this._tileCoordsToKey(vn)];Jt?Jt.current=!0:D.push(vn)}}if(D.sort(function(ft,mt){return ft.distanceTo(E)-mt.distanceTo(E)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Un=document.createDocumentFragment();for(tt=0;tt<D.length;tt++)this._addTile(D[tt],Un);this._level.el.appendChild(Un)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(a.x<h.min.x||a.x>h.max.x)||!u.wrapLat&&(a.y<h.min.y||a.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(a);return F(this.options.bounds).overlaps(y)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,h=this.getTileSize(),y=a.scaleBy(h),b=y.add(h),E=u.unproject(y,a.z),D=u.unproject(b,a.z);return[E,D]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),h=new P(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),h=new he(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(a){var u=this._tiles[a];u&&(jt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Je(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=w,a.onmousemove=w,Re.ielt9&&this.options.opacity<1&&Lt(a,this.options.opacity)},_addTile:function(a,u){var h=this._getTilePos(a),y=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),p(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&ae(p(this._tileReady,this,a,null,b)),At(b,h),this._tiles[y]={el:b,coords:a,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:a});var y=this._tileCoordsToKey(a);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Lt(h.el,0),ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(Je(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new he(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new O(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Cu(a){return new ls(a)}var oa=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=A(this,u),u.detectRetina&&Re.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var h=document.createElement("img");return Ke(h,"load",p(this._tileOnLoad,this,u,h)),Ke(h,"error",p(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(a),h},getTileUrl:function(a){var u={r:Re.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=h),u["-y"]=h}return B(this._url,d(u,this.options))},_tileOnLoad:function(a,u){Re.ielt9?setTimeout(p(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,h){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),a(h,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(a=u-a),a+y},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=w,u.onerror=w,!u.complete)){u.src=Y;var h=this._tiles[a].coords;jt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Y),ls.prototype._removeTile.call(this,a)},_tileReady:function(a,u,h){if(!(!this._map||h&&h.getAttribute("src")===Y))return ls.prototype._tileReady.call(this,a,u,h)}});function Gn(a,u){return new oa(a,u)}var rr=oa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var h=d({},this.defaultWmsParams);for(var y in u)y in this.options||(h[y]=u[y]);u=A(this,u);var b=u.detectRetina&&Re.retina?2:1,E=this.getTileSize();h.width=E.x*b,h.height=E.y*b,this.wmsParams=h},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,oa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),h=this._crs,y=ie(h.project(u[0]),h.project(u[1])),b=y.min,E=y.max,D=(this._wmsVersion>=1.3&&this._crs===Wl?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),ne=oa.prototype.getTileUrl.call(this,a);return ne+M(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(a,u){return d(this.wmsParams,a),u||this.redraw(),this}});function Yn(a,u){return new rr(a,u)}oa.WMS=rr,Gn.wms=Yn;var Rn=di.extend({options:{padding:.1},initialize:function(a){A(this,a),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var h=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),E=y.multiplyBy(-h).add(b).subtract(this._map._getNewPixelOrigin(a,u));Re.any3d?Ii(this._container,E,h):At(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new O(h,h.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wr=Rn.extend({options:{tolerance:0},getEvents:function(){var a=Rn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ke(a,"mousemove",this._onMouseMove,this),Ke(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,jt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rn.prototype._update.call(this);var a=this._bounds,u=this._container,h=a.getSize(),y=Re.retina?2:1;At(u,a.min),u.width=y*h.x,u.height=y*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[x(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,h=u.next,y=u.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete a._order,delete this._layers[x(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),h=[],y,b;for(b=0;b<u.length;b++){if(y=Number(u[b]),isNaN(y))return;h.push(y)}a.options._dashArray=h}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)a=y.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var h,y,b,E,D=a._parts,ne=D.length,fe=this._ctx;if(ne){for(fe.beginPath(),h=0;h<ne;h++){for(y=0,b=D[h].length;y<b;y++)E=D[h][y],fe[y?"lineTo":"moveTo"](E.x,E.y);u&&fe.closePath()}this._fillStroke(fe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,h=this._ctx,y=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||y)/y;b!==1&&(h.save(),h.scale(1,b)),h.beginPath(),h.arc(u.x,u.y/b,y,0,Math.PI*2,!1),b!==1&&h.restore(),this._fillStroke(h,a)}},_fillStroke:function(a,u){var h=u.options;h.fill&&(a.globalAlpha=h.fillOpacity,a.fillStyle=h.fillColor||h.color,a.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=h.opacity,a.lineWidth=h.weight,a.strokeStyle=h.color,a.lineCap=h.lineCap,a.lineJoin=h.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),h,y,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(It(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var h,y,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(u)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(a),y&&(Je(this._container,"leaflet-interactive"),this._fireEvent([y],a,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,h){this._map._fireDOMEvent(u,h||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var h=u.next,y=u.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var h=u.next,y=u.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function lr(a){return Re.canvas?new Wr(a):null}var ua=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),eo={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Rn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=ua("shape");Je(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=ua("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[x(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;jt(u),a.removeInteractiveTarget(u),delete this._layers[x(a)]},_updateStyle:function(a){var u=a._stroke,h=a._fill,y=a.options,b=a._container;b.stroked=!!y.stroke,b.filled=!!y.fill,y.stroke?(u||(u=a._stroke=ua("stroke")),b.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=q(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(b.removeChild(u),a._stroke=null),y.fill?(h||(h=a._fill=ua("fill")),b.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(b.removeChild(h),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),h=Math.round(a._radius),y=Math.round(a._radiusY||h);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){yn(a._container)},_bringToBack:function(a){ba(a._container)}},Ei=Re.vml?ua:an,os=Rn.extend({_initContainer:function(){this._container=Ei("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ei("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),At(h,a.min),h.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ei("path");a.options.className&&Je(u,a.options.className),a.options.interactive&&Je(u,"leaflet-interactive"),this._updateStyle(a),this._layers[x(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){jt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[x(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,h=a.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Yt(a._parts,u))},_updateCircle:function(a){var u=a._point,h=Math.max(Math.round(a._radius),1),y=Math.max(Math.round(a._radiusY),1)||h,b="a"+h+","+y+" 0 1,0 ",E=a._empty()?"M0 0":"M"+(u.x-h)+","+u.y+b+h*2+",0 "+b+-h*2+",0 ";this._setPath(a,E)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){yn(a._path)},_bringToBack:function(a){ba(a._path)}});Re.vml&&os.include(eo);function or(a){return Re.svg||Re.vml?new os(a):null}ot.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&lr(a)||or(a)}});var wa=is.extend({initialize:function(a,u){is.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=F(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Ad(a,u){return new wa(a,u)}os.create=Ei,os.pointsToPath=Yt,Fi.geometryToLayer=Nn,Fi.coordsToLatLng=Gr,Fi.coordsToLatLngs=tr,Fi.latLngToCoords=Yr,Fi.latLngsToCoords=nr,Fi.getFeature=sa,Fi.asFeature=$r,ot.mergeOptions({boxZoom:!0});var Ln=Ni.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ga(),Ir(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ke(document,{contextmenu:ia,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new O(this._point,this._startPoint),h=u.getSize();At(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(jt(this._box),It(this._container,"leaflet-crosshair")),_i(),Hs(),xt(document,{contextmenu:ia,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",Ln),ot.mergeOptions({doubleClickZoom:!0});var el=Ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,h=u.getZoom(),y=u.options.zoomDelta,b=a.originalEvent.shiftKey?h-y:h+y;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(a.containerPoint,b)}});ot.addInitHook("addHandler","doubleClickZoom",el),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ti=Ni.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new aa(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){It(this._map._container,"leaflet-grab"),It(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=F(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,b=(y-u+h)%a+u-h,E=(y+u+h)%a-u-h,D=Math.abs(b+h)<Math.abs(E+h)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(a){var u=this._map,h=u.options,y=!h.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),y)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,D=h.easeLinearity,ne=b.multiplyBy(D/E),fe=ne.distanceTo([0,0]),Se=Math.min(h.inertiaMaxSpeed,fe),Ce=ne.multiplyBy(Se/fe),Pe=Se/(h.inertiaDeceleration*D),tt=Ce.multiplyBy(-Pe/2).round();!tt.x&&!tt.y?u.fire("moveend"):(tt=u._limitOffset(tt,u.options.maxBounds),ae(function(){u.panBy(tt,{duration:Pe,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",Ti),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var to=Ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ke(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,h=a.scrollTop||u.scrollTop,y=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},h=this.keyCodes,y,b;for(y=0,b=h.left.length;y<b;y++)u[h.left[y]]=[-1*a,0];for(y=0,b=h.right.length;y<b;y++)u[h.right[y]]=[a,0];for(y=0,b=h.down.length;y<b;y++)u[h.down[y]]=[0,a];for(y=0,b=h.up.length;y<b;y++)u[h.up[y]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},h=this.keyCodes,y,b;for(y=0,b=h.zoomIn.length;y<b;y++)u[h.zoomIn[y]]=a;for(y=0,b=h.zoomOut.length;y<b;y++)u[h.zoomOut[y]]=-a},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,h=this._map,y;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[u],a.shiftKey&&(y=W(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(W(y),h.options.maxBounds)),h.options.worldCopyJump){var b=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(b)}else h.panBy(y)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ia(a)}}});ot.addInitHook("addHandler","keyboard",to),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ur=Ni.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=wn(a),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),y),ia(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),h=this._map.options.zoomSnap||0;a._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,E=h?Math.ceil(b/h)*h:b,D=a._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,D&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+D):a.setZoomAround(this._lastMousePos,u+D))}});ot.addInitHook("addHandler","scrollWheelZoom",ur);var Ea=600;ot.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var tl=Ni.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new he(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",Xt),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ea),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){xt(document,"touchend",Xt),xt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new he(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var h=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});ot.addInitHook("addHandler","tapHold",tl),ot.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var no=Ni.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){It(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(a.touches[0]),y=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),Xt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(a.touches[0]),y=u.mouseEventToContainerPoint(a.touches[1]),b=h.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var D=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(D,this,!0),Xt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",no),ot.BoxZoom=Ln,ot.DoubleClickZoom=el,ot.Drag=Ti,ot.Keyboard=to,ot.ScrollWheelZoom=ur,ot.TapHold=tl,ot.TouchZoom=no,r.Bounds=O,r.Browser=Re,r.CRS=ke,r.Canvas=Wr,r.Circle=Vr,r.CircleMarker=ns,r.Class=Z,r.Control=In,r.DivIcon=Tu,r.DivOverlay=Sn,r.DomEvent=qr,r.DomUtil=Xa,r.Draggable=aa,r.Evented=se,r.FeatureGroup=Si,r.GeoJSON=Fi,r.GridLayer=ls,r.Handler=Ni,r.Icon=ji,r.ImageOverlay=ss,r.LatLng=ye,r.LatLngBounds=P,r.Layer=di,r.LayerGroup=ts,r.LineUtil=jd,r.Map=ot,r.Marker=er,r.Mixin=_d,r.Path=wi,r.Point=he,r.PolyUtil=Xl,r.Polygon=is,r.Polyline=qi,r.Popup=ar,r.PosAnimation=Ja,r.Projection=vu,r.Rectangle=wa,r.Renderer=Rn,r.SVG=os,r.SVGOverlay=Jr,r.TileLayer=oa,r.Tooltip=sr,r.Transformation=it,r.Util=oe,r.VideoOverlay=la,r.bind=p,r.bounds=ie,r.canvas=lr,r.circle=Su,r.circleMarker=Nu,r.control=Zi,r.divIcon=kd,r.extend=d,r.featureGroup=_u,r.geoJSON=Xr,r.geoJson=ir,r.gridLayer=Cu,r.icon=Xs,r.imageOverlay=ju,r.latLng=we,r.latLngBounds=F,r.layerGroup=wd,r.map=Kl,r.marker=bu,r.point=W,r.polygon=Td,r.polyline=Ed,r.popup=Eu,r.rectangle=Ad,r.setOptions=A,r.stamp=x,r.svg=or,r.svgOverlay=wu,r.tileLayer=Gn,r.tooltip=Cd,r.transformation=Bt,r.version=o,r.videoOverlay=rs;var io=window.L;r.noConflict=function(){return window.L=io,this},window.L=r}))})(Ho,Ho.exports)),Ho.exports}var bA=_A();const Za=nd(bA);function NA(t){return t==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:t==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function SA({markers:t}){const i=j.useRef(null),r=j.useRef(null),o=j.useRef(null);return j.useEffect(()=>{if(!i.current||r.current)return;const d=t[0]?.lat??41.015137,f=t[0]?.lon??28.97953,p=Za.map(i.current,{center:[d,f],zoom:14,zoomControl:!0});return r.current=p,Za.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(p),o.current=Za.layerGroup().addTo(p),()=>{r.current&&(r.current.remove(),r.current=null),o.current=null}},[t]),j.useEffect(()=>{if(!r.current||!o.current)return;const d=r.current,f=o.current;if(f.clearLayers(),!t.length)return;const p=[],v=new Map;for(const _ of t){const S=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`;v.set(S,(v.get(S)??0)+1)}const x=new Map;for(const _ of t){const S=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`,w=v.get(S)??1,C=x.get(S)??0;x.set(S,C+1);let z=_.lat,k=_.lon;if(w>1){const M=2*Math.PI*C/w,H=12e-5;z=_.lat+Math.sin(M)*H,k=_.lon+Math.cos(M)*H}const A=NA(_.kind);Za.circleMarker([z,k],A).bindPopup(`${_.label}<br/>${_.lat.toFixed(6)}, ${_.lon.toFixed(6)}`).addTo(f),p.push([z,k])}if(p.length===1){d.setView(p[0],16,{animate:!0});return}d.fitBounds(Za.latLngBounds(p),{padding:[24,24],maxZoom:17,animate:!0})},[t]),l.jsx("div",{ref:i,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const jA=Ji({home_lat:mn().min(-90),home_lon:mn().min(-180),radius_m:mn().int().positive().max(2e3)}),wA=Ji({expires_in_minutes:mn().int().positive().max(1440)});function Ua(t){if(!t)return"-";const i=new Date(t);return Number.isNaN(i.getTime())?t:i.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function EA(t){return t==="OK"?"Tamam":t==="INCOMPLETE"?"Eksik":t==="LEAVE"?"Izinli":"Tatilde"}function cx(t,i){return t===null||i===null?"-":`${t.toFixed(6)}, ${i.toFixed(6)}`}function TA(){const t=BS(),i=ad(),r=Bn(),{pushToast:o}=Hn(),d=new Date,f=Number(t.id),p=Number.isFinite(f)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(f),[v,x]=j.useState("41.0"),[_,S]=j.useState("29.0"),[w,C]=j.useState("120"),[z,k]=j.useState(null),[A,M]=j.useState(""),[H,B]=j.useState(""),[q,V]=j.useState(""),[Y,G]=j.useState(String(d.getFullYear())),[ee,X]=j.useState(String(d.getMonth()+1)),[$,ve]=j.useState(null),[ae,ce]=j.useState({checkin:!0,checkout:!0,latest:!0}),[oe,Z]=j.useState(!1),[re,U]=j.useState("60"),[se,he]=j.useState(null),[Ee,W]=j.useState(null),[O,ie]=j.useState(null),P=He({queryKey:["employee-detail",f],queryFn:()=>wE(f),enabled:Number.isFinite(f)}),F=P.data?.employee,ye=He({queryKey:["departments","employee-detail-edit"],queryFn:()=>Ms(),enabled:Number.isFinite(f)}),we=He({queryKey:["department-shifts",F?.department_id],queryFn:()=>su(F?.department_id?{department_id:F.department_id,active_only:!1}:void 0),enabled:!!F?.department_id}),ke=Number(Y),Ze=Number(ee),qe=Number.isFinite(ke)&&Number.isFinite(Ze)&&Ze>=1&&Ze<=12,dt=He({queryKey:["employee-monthly",f,ke,Ze],queryFn:()=>hm({employee_id:f,year:ke,month:Ze}),enabled:Number.isFinite(f)&&qe}),it=He({queryKey:["employee-monthly-current",f,d.getFullYear(),d.getMonth()+1],queryFn:()=>hm({employee_id:f,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(f)}),Bt=Ge({mutationFn:le=>kE(f,le),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${f} icin konum kaydedildi.`}),r.invalidateQueries({queryKey:["employee-detail",f]})},onError:le=>{const Xe=Be(le,"Konum kaydedilemedi.").message;k(Xe),o({variant:"error",title:"Konum kaydedilemedi",description:Xe})}}),Mt=Ge({mutationFn:le=>$_(f,{is_active:le}),onSuccess:le=>{o({variant:"success",title:le.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${le.full_name} icin durum guncellendi.`}),r.invalidateQueries({queryKey:["employees"]}),r.invalidateQueries({queryKey:["employee-detail",f]})},onError:le=>{o({variant:"error",title:"Durum guncellenemedi",description:Be(le,"Islem basarisiz.").message})}}),Gt=Ge({mutationFn:le=>EE(f,le),onSuccess:le=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${le.full_name} icin profil bilgileri kaydedildi.`}),r.invalidateQueries({queryKey:["employees"]}),r.invalidateQueries({queryKey:["employee-detail",f]}),r.invalidateQueries({queryKey:["employee-monthly"]}),r.invalidateQueries({queryKey:["department-shifts",le.department_id]})},onError:le=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Be(le,"Islem basarisiz.").message})}}),an=Ge({mutationFn:le=>TE(f,{shift_id:le}),onSuccess:le=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${le.full_name} icin vardiya kaydedildi.`}),r.invalidateQueries({queryKey:["employees"]}),r.invalidateQueries({queryKey:["employee-detail",f]}),r.invalidateQueries({queryKey:["employee-monthly"]})},onError:le=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Be(le,"Islem basarisiz.").message})}}),Yt=Ge({mutationFn:i0,onSuccess:le=>{he(null),W(le.token),ie(le.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${f} icin davet hazir.`}),r.invalidateQueries({queryKey:["employee-detail",f]})},onError:le=>{const Xe=Be(le,"Cihaz daveti olusturulamadi.").message;he(Xe),o({variant:"error",title:"Davet olusturulamadi",description:Xe})}});j.useEffect(()=>{P.data?.home_location&&(x(String(P.data.home_location.home_lat)),S(String(P.data.home_location.home_lon)),C(String(P.data.home_location.radius_m)))},[P.data?.home_location]),j.useEffect(()=>{F&&M(F.shift_id?String(F.shift_id):"")},[F]),j.useEffect(()=>{F&&(B(F.full_name),V(F.department_id?String(F.department_id):""))},[F]),j.useEffect(()=>{Number.isFinite(f)&&(p||i("/employees",{replace:!0}))},[f,p,i]);const ln=async le=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(le);else{const Xe=document.createElement("textarea");Xe.value=le,document.body.appendChild(Xe),Xe.select(),document.execCommand("copy"),document.body.removeChild(Xe)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},on=()=>{he(null),W(null),ie(null),U("60"),Z(!0)},bn=le=>{le.preventDefault(),he(null);const Xe=wA.safeParse({expires_in_minutes:re});if(!Xe.success){const yt=Xe.error.issues[0]?.message??"Sure alanini kontrol edin.";he(yt),o({variant:"error",title:"Form hatasi",description:yt});return}Yt.mutate({employee_id:f,expires_in_minutes:Xe.data.expires_in_minutes})},J=le=>{le.preventDefault(),k(null);const Xe=jA.safeParse({home_lat:v,home_lon:_,radius_m:w});if(!Xe.success){const yt=Xe.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(yt),o({variant:"error",title:"Form hatasi",description:yt});return}Bt.mutate(Xe.data)},Te=le=>{le.preventDefault();const Xe=H.trim();if(!Xe){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const yt=q?Number(q):null;if(q&&(yt===null||!Number.isFinite(yt)||yt<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}Gt.mutate({full_name:Xe,department_id:yt})},Ve=dt.data?.days??[],kt=P.data?.ip_summary??[];j.useEffect(()=>{if(!$)return;Ve.some(Xe=>Xe.date===$)||ve(null)},[Ve,$]);const Ye=j.useMemo(()=>Ve.find(le=>le.date===$)??null,[Ve,$]),xe=j.useMemo(()=>{const le=[];return Ye&&(Ye.in_lat!==null&&Ye.in_lon!==null&&le.push({id:`${Ye.date}-in`,lat:Ye.in_lat,lon:Ye.in_lon,label:`${Ye.date} - Mesai Baslangici`,kind:"checkin"}),Ye.out_lat!==null&&Ye.out_lon!==null&&le.push({id:`${Ye.date}-out`,lat:Ye.out_lat,lon:Ye.out_lon,label:`${Ye.date} - Mesai Bitisi`,kind:"checkout"})),P.data?.latest_location&&le.push({id:"latest",lat:P.data.latest_location.lat,lon:P.data.latest_location.lon,label:"Son bildirilen konum",kind:"latest"}),le},[P.data?.latest_location,Ye]),Q=j.useMemo(()=>xe.filter(le=>ae[le.kind]),[xe,ae]);j.useEffect(()=>{xe.length&&(Q.length||ce({checkin:!0,checkout:!0,latest:!0}))},[Q.length,xe.length]);const Ae=le=>{if(!xe.some(Rt=>Rt.kind===le)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const yt=Object.values(ae).filter(Boolean).length;if(ae[le]&&yt===1){ce({checkin:!0,checkout:!0,latest:!0});return}ce({checkin:le==="checkin",checkout:le==="checkout",latest:le==="latest"})},St=()=>{ce({checkin:!0,checkout:!0,latest:!0})},$e=(le,Xe)=>{const yt=le.in_lat!==null&&le.in_lon!==null,Rt=le.out_lat!==null&&le.out_lon!==null;if(!(Xe==="in"?yt:Rt)){o({variant:"info",title:"Konum bulunamadi",description:`${le.date} icin secilen konum kaydi yok.`});return}ve(le.date),ce({checkin:!0,checkout:!0,latest:!0})},pn=j.useMemo(()=>`${P.data?.devices.length??0} cihaz`,[P.data?.devices.length]);return Number.isFinite(f)?p?P.isLoading?l.jsx(Qt,{}):P.isError||!F?l.jsx(Ot,{message:"Calisan kaydi bulunamadi."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:`Calisan Detayi #${F.id}`,description:`${F.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{const le=!F.is_active;window.confirm(le?`${F.full_name} arsivden cikarilsin mi?`:`${F.full_name} arsivlensin mi?`)&&Mt.mutate(le)},disabled:Mt.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${F.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:F.is_active?"Arsivle":"Arsivden Cikar"}),l.jsx("button",{type:"button",onClick:on,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),l.jsx(Me,{children:l.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:F.full_name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",F.id]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),l.jsx(Os,{value:F.is_active?"Aktif":"Pasif"}),l.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",F.region_name??"-"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",F.department_id??"-"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:Ua(P.data?.last_portal_seen_utc)}),l.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",pn]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay fazla mesai"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:l.jsx(Ct,{minutes:it.data?.totals.overtime_minutes??0})}),l.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),l.jsxs("form",{onSubmit:Te,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",l.jsx("input",{value:H,onChange:le=>B(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:q,onChange:le=>V(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:ye.isLoading,children:[l.jsx("option",{value:"",children:"Atanmamis"}),(ye.data??[]).map(le=>l.jsx("option",{value:le.id,children:le.name},le.id))]})]}),l.jsx("button",{type:"submit",disabled:Gt.isPending||ye.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Gt.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),ye.isError?l.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),l.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",l.jsxs("select",{value:A,onChange:le=>M(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!F.department_id||we.isLoading,children:[l.jsx("option",{value:"",children:"Atanmamis"}),(we.data??[]).map(le=>l.jsxs("option",{value:le.id,children:[le.name," (",le.start_time_local,"-",le.end_time_local,")"]},le.id))]})]}),l.jsx("button",{type:"button",disabled:an.isPending||!F.department_id,onClick:()=>{const le=A?Number(A):null;an.mutate(le)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:an.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),l.jsxs(Me,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",l.jsx("input",{type:"number",value:Y,onChange:le=>G(le.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",l.jsx("input",{type:"number",min:1,max:12,value:ee,onChange:le=>X(le.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),qe?dt.isLoading?l.jsx(Qt,{}):dt.isError?l.jsx(Ot,{message:Be(dt.error,"Aylik puantaj alinamadi.").message}):l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:l.jsx(Ct,{minutes:dt.data?.totals.worked_minutes??0})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay fazla mesai"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:l.jsx(Ct,{minutes:dt.data?.totals.overtime_minutes??0})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:dt.data?.totals.incomplete_days??0})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Tarih"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Giris"}),l.jsx("th",{className:"py-2",children:"Cikis"}),l.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),l.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),l.jsx("th",{className:"py-2",children:"Net Sure"}),l.jsx("th",{className:"py-2",children:"Fazla Mesai"}),l.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),l.jsx("tbody",{children:Ve.map(le=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:le.date}),l.jsx("td",{className:"py-2",children:EA(le.status)}),l.jsx("td",{className:"py-2",children:Ua(le.in)}),l.jsx("td",{className:"py-2",children:Ua(le.out)}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-xs",children:cx(le.in_lat,le.in_lon)}),le.in_lat!==null&&le.in_lon!==null?l.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>$e(le,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-xs",children:cx(le.out_lat,le.out_lon)}),le.out_lat!==null&&le.out_lon!==null?l.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>$e(le,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:le.worked_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:le.overtime_minutes})}),l.jsx("td",{className:"py-2 text-xs text-slate-600",children:le.flags.length?le.flags.join(", "):"-"})]},le.date))})]})})]}):l.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),l.jsx("div",{className:"mt-3 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Cihaz ID"}),l.jsx("th",{className:"py-2",children:"Parmak Izi"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Olusma"}),l.jsx("th",{className:"py-2",children:"Son Attendance"}),l.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),l.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),l.jsx("tbody",{children:(P.data?.devices??[]).map(le=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:le.id}),l.jsx("td",{className:"py-2 font-mono text-xs",children:le.device_fingerprint}),l.jsx("td",{className:"py-2",children:l.jsx(Os,{value:le.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:Ua(le.created_at)}),l.jsx("td",{className:"py-2",children:Ua(le.last_attendance_ts_utc)}),l.jsx("td",{className:"py-2",children:le.last_seen_ip??"-"}),l.jsx("td",{className:"py-2",children:Ua(le.last_seen_at_utc)})]},le.id))})]})})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),l.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Zaman"}),l.jsx("th",{className:"py-2",children:"Islem"}),l.jsx("th",{className:"py-2",children:"IP"}),l.jsx("th",{className:"py-2",children:"User Agent"})]})}),l.jsx("tbody",{children:(P.data?.recent_activity??[]).map((le,Xe)=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:Ua(le.ts_utc)}),l.jsx("td",{className:"py-2",children:le.action}),l.jsx("td",{className:"py-2",children:le.ip??"-"}),l.jsx("td",{className:"py-2 max-w-[280px] truncate",title:le.user_agent??"-",children:le.user_agent??"-"})]},`${le.ts_utc}-${Xe}`))})]})})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),l.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:kt.length?l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"IP"}),l.jsx("th",{className:"py-2",children:"Son gorulme"}),l.jsx("th",{className:"py-2",children:"Aksiyon"}),l.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),l.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),l.jsx("tbody",{children:kt.map(le=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2 font-mono text-xs",children:le.ip}),l.jsx("td",{className:"py-2",children:Ua(le.last_seen_at_utc)}),l.jsx("td",{className:"py-2",children:le.last_action}),l.jsx("td",{className:"py-2",children:le.last_lat!==null&&le.last_lon!==null?`${le.last_lat.toFixed(6)}, ${le.last_lon.toFixed(6)}`:"-"}),l.jsx("td",{className:"py-2",children:le.last_location_ts_utc?Ua(le.last_location_ts_utc):"-"})]},le.ip))})]}):l.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),l.jsxs(Me,{children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),$?l.jsx("button",{type:"button",onClick:()=>{ve(null),ce({checkin:!0,checkout:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),Ye?l.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",l.jsx("span",{className:"font-semibold",children:Ye.date})," gununun giris/cikis konumlari"]}):P.data?.latest_location?l.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),Q.length?l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsx(SA,{markers:Q}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[l.jsxs("button",{type:"button",onClick:()=>Ae("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ae.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),l.jsxs("button",{type:"button",onClick:()=>Ae("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ae.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),l.jsxs("button",{type:"button",onClick:()=>Ae("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ae.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),l.jsx("button",{type:"button",onClick:St,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),P.data?.home_location?null:l.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),l.jsxs("form",{onSubmit:J,className:"mt-4 grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",l.jsx("input",{value:v,onChange:le=>x(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",l.jsx("input",{value:_,onChange:le=>S(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",l.jsx("input",{value:w,onChange:le=>C(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("button",{type:"submit",disabled:Bt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Bt.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):P.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?l.jsx("p",{className:"form-validation",children:z}):null]}),l.jsxs(Go,{open:oe,title:"Cihaz Baglama Linki Olustur",onClose:()=>Z(!1),children:[l.jsxs("form",{onSubmit:bn,className:"space-y-4",children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",l.jsx("input",{value:re,onChange:le=>U(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsx("button",{type:"submit",disabled:Yt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Yt.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),l.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),se?l.jsx("p",{className:"form-validation",children:se}):null,Ee&&O?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(ox,{label:"Token",value:Ee,onCopy:ln}),l.jsx(ox,{label:"Baglanti Linki (invite_url)",value:O,onCopy:ln})]}):null]})]}):l.jsx(Qt,{}):l.jsx(Ot,{message:"Gecersiz calisan id degeri."})}const CA={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},kA={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Lc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},I0="Europe/Istanbul";function Ef(t){const i=[];t.status==="INCOMPLETE"&&i.push("EKSIK_GUN");for(const r of t.flags)i.push(r);return i}function AA(t){return t.length===0?void 0:`Supheli nedenleri:
${t.map((r,o)=>{const d=ya(r);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function dx(t){if(!t)return"";const i=new Date(t);return Number.isNaN(i.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:I0,hour:"2-digit",minute:"2-digit",hour12:!1}).format(i)}function hx(t){if(!t)return"-";const i=new Date(t);return Number.isNaN(i.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:I0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(i)}function fx(t){if(!t)return{status:"NORMAL",reason:""};const i=(t.note??"").trim(),r=i.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return r?{status:r[1].toUpperCase(),reason:i.replace(r[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:i}:{status:"NORMAL",reason:i}}function zA(t,i){const r=i.trim();if(t==="NORMAL")return r||null;const o=`[MANUAL_STATUS:${t}]`;return r?`${o} ${r}`:o}function OA(){const t=Bn(),{pushToast:i}=Hn(),r=new Date,o={employeeId:"",year:String(r.getFullYear()),month:String(r.getMonth()+1)},[d,f]=j.useState(o),[p,v]=j.useState(o),[x,_]=j.useState(!1),[S,w]=j.useState(null),[C,z]=j.useState(!1),[k,A]=j.useState(!1),[M,H]=j.useState(""),[B,q]=j.useState(""),[V,Y]=j.useState(""),[G,ee]=j.useState(""),[X,$]=j.useState("NORMAL"),[ve,ae]=j.useState("AUTO"),[ce,oe]=j.useState(""),[Z,re]=j.useState(null),[U,se]=j.useState(null),he=He({queryKey:["employees","all"],queryFn:()=>Ka({status:"all"})}),Ee=Number(p.employeeId),W=Number(p.year),O=Number(p.month),ie=Number.isFinite(Ee)&&Ee>0&&Number.isFinite(W)&&W>0&&Number.isFinite(O)&&O>=1&&O<=12,P=He({queryKey:["employee-monthly",Ee,W,O],queryFn:()=>hm({employee_id:Ee,year:W,month:O}),enabled:ie}),F=He({queryKey:["manual-overrides",Ee,W,O],queryFn:()=>JE(Ee,W,O),enabled:ie}),ye=Ge({mutationFn:({employeeId:xe,dayDate:Q,inTime:Ae,outTime:St,status:$e,ruleSource:pn,ruleShiftId:le,reason:Xe})=>{const yt=$e!=="NORMAL";return XE(xe,{day_date:Q,in_time:yt?null:Ae||null,out_time:yt?null:St||null,is_absent:yt,rule_source_override:pn,rule_shift_id_override:pn==="SHIFT"&&le?Number(le):null,note:zA($e,Xe)})},onSuccess:()=>{i({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),se(null),oe(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:xe=>{i({variant:"error",title:"Duzeltme kaydedilemedi",description:Be(xe,"Islem basarisiz.").message})}}),we=Ge({mutationFn:WE,onSuccess:()=>{i({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),se(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:xe=>{i({variant:"error",title:"Silme islemi basarisiz",description:Be(xe,"Islem basarisiz.").message})}}),ke=j.useMemo(()=>he.data?.find(xe=>xe.id===Ee),[he.data,Ee]),Ze=ke?.full_name,qe=He({queryKey:["monthly-manual-shifts",ke?.department_id],queryFn:()=>su(ke?.department_id?{department_id:ke.department_id,active_only:!1}:void 0),enabled:!!ke?.department_id}),dt=j.useMemo(()=>{const xe=new Map;for(const Q of F.data??[])xe.set(Q.day_date,Q);return xe},[F.data]),it=P.data?.days??[],Bt=j.useMemo(()=>it.reduce((xe,Q)=>xe+(Q.missing_minutes??0),0),[it]),Mt=j.useMemo(()=>it.filter(xe=>!(x&&Ef(xe).length===0||S&&!xe.flags.includes(S))),[it,S,x]),Gt=j.useMemo(()=>it.filter(xe=>Ef(xe).length>0).length,[it]),an=j.useMemo(()=>{const xe=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],Q=new Map;for(const Ae of xe)Q.set(Ae,0);for(const Ae of it)for(const St of xe)Ae.flags.includes(St)&&Q.set(St,(Q.get(St)??0)+1);return xe.map(Ae=>({code:Ae,count:Q.get(Ae)??0}))},[it]),Yt=j.useMemo(()=>{const xe=[];return p.employeeId&&xe.push(`Calisan: ${p.employeeId}`),xe.push(`Yil: ${p.year}`),xe.push(`Ay: ${p.month}`),x&&xe.push("Sadece supheli gunler"),S&&xe.push(`Cakisma: ${ya(S).label}`),xe},[p,S,x]),ln=()=>v({...d}),on=()=>{f(o),v(o),_(!1),w(null)},bn=async()=>{if(!ie){i({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const xe=await i1({employee_id:Ee,year:W,month:O}),Q=window.URL.createObjectURL(xe),Ae=document.createElement("a");Ae.href=Q,Ae.download=`puantaj-employee-${Ee}-${W}-${String(O).padStart(2,"0")}.xlsx`,document.body.appendChild(Ae),Ae.click(),Ae.remove(),window.URL.revokeObjectURL(Q)}catch(xe){i({variant:"error",title:"Excel indirilemedi",description:Be(xe,"Dosya olusturulamadi.").message})}finally{z(!1)}},J=xe=>{const Q=dt.get(xe.date),Ae=fx(Q);H(xe.date),re(Q?.id??null),$(Ae.status),ee(Ae.reason),q(Q?dx(Q.in_ts):""),Y(Q?dx(Q.out_ts):""),ae(Q?.rule_source_override??"AUTO"),oe(Q?.rule_shift_id_override?String(Q.rule_shift_id_override):xe.shift_id?String(xe.shift_id):""),se(null),A(!0)},Te=()=>{if(!ie||it.length===0){i({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}J(it[0])},Ve=()=>{if(se(null),!M)return se("Duzeltme icin tarih secmelisiniz."),!1;if(X==="NORMAL"){if(!B&&!V)return se("Normal gun icin en az bir saat bilgisi girin."),!1;if(B&&V&&V<B)return se("Cikis saati giris saatinden kucuk olamaz."),!1}return ve==="SHIFT"&&!ce?(se("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},kt=xe=>{xe.preventDefault(),ie&&Ve()&&ye.mutate({employeeId:Ee,dayDate:M,inTime:B,outTime:V,status:X,ruleSource:ve,ruleShiftId:ce,reason:G})};if(he.isLoading)return l.jsx(Qt,{});if(he.isError)return l.jsx(Ot,{message:"Calisan listesi alinamadi."});const Ye=he.data??[];return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:Te,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),l.jsx("button",{type:"button",onClick:()=>{bn()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),l.jsx(Wo,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsx(Ha,{label:"Calisan",employees:Ye,value:d.employeeId,onChange:xe=>f(Q=>({...Q,employeeId:xe})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",l.jsx("input",{type:"number",value:d.year,onChange:xe=>f(Q=>({...Q,year:xe.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{type:"number",value:d.month,onChange:xe=>f(Q=>({...Q,month:xe.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:x,onChange:xe=>_(xe.target.checked)}),"Sadece supheli gunleri goster"]})}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:ln,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:on,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Yt.map(xe=>l.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:xe},xe))})]}),ie?null:l.jsx(Ot,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),P.isLoading?l.jsx(Qt,{}):null,P.isError?l.jsx(Ot,{message:Be(P.error,"Aylik rapor alinamadi.").message}):null,P.data?l.jsxs(l.Fragment,{children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),l.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",Ze??P.data.employee_id," | Donem:"," ",P.data.year,"-",P.data.month]}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-5",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:P.data.totals.worked_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Fazla Mesai"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:P.data.totals.overtime_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),l.jsx("p",{className:"text-lg font-semibold",children:P.data.totals.incomplete_days})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),l.jsx("p",{className:"text-lg font-semibold",children:Gt})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:Bt})})]})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:P.data.worked_minutes_net})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:P.data.annual_overtime_used_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(Ct,{minutes:P.data.annual_overtime_remaining_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),l.jsx("p",{className:`text-sm font-semibold ${P.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:P.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),l.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:p1().map(xe=>l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold",title:ya(xe).description,children:ya(xe).label})," ","(",xe,"): ",ya(xe).description]},xe))})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?l.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,l.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:an.map(xe=>l.jsxs("button",{type:"button",onClick:()=>{w(Q=>Q===xe.code?null:xe.code),_(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===xe.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[l.jsx("p",{className:"text-xs text-slate-500",title:ya(xe.code).description,children:ya(xe.code).label}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:xe.count})]},xe.code))})]}),Mt.length===0?l.jsx(Me,{children:l.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):l.jsx(Me,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Tarih"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Giris"}),l.jsx("th",{className:"py-2",children:"Cikis"}),l.jsx("th",{className:"py-2",children:"Calisma"}),l.jsx("th",{className:"py-2",children:"Fazla Mesai"}),l.jsx("th",{className:"py-2",children:"Eksik Sure"}),l.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Izin"}),l.jsx("th",{className:"py-2",children:"Supheli Neden"}),l.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),l.jsx("tbody",{children:Mt.map(xe=>{const Q=Ef(xe),Ae=Q.length>0,St=AA(Q),$e=dt.get(xe.date),pn=fx($e),le=xe.flags.includes("MANUAL_OVERRIDE")||xe.flags.includes("MANUAL_EVENT")||!!$e,Xe=pn.status!=="NORMAL";return l.jsxs("tr",{className:`border-t border-slate-100 ${Ae?"bg-amber-50/40":""}`,children:[l.jsx("td",{className:"py-2",children:xe.date}),l.jsxs("td",{className:"py-2",children:[l.jsx(Os,{value:xe.status}),le?l.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,Xe?l.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:CA[pn.status]}):null,l.jsx("span",{className:"ml-2",children:l.jsx(s0,{suspicious:Ae,tooltip:St})})]}),l.jsx("td",{className:"py-2",title:xe.in??void 0,children:hx(xe.in)}),l.jsx("td",{className:"py-2",title:xe.out??void 0,children:hx(xe.out)}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:xe.worked_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:xe.overtime_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:xe.missing_minutes??0})}),l.jsx("td",{className:"py-2",children:l.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${xe.applied_planned_minutes} dk | Mola: ${xe.applied_break_minutes} dk`,children:kA[xe.rule_source]})}),l.jsx("td",{className:"py-2",children:xe.shift_name??"-"}),l.jsx("td",{className:"py-2",children:xe.leave_type??"-"}),l.jsx("td",{className:"py-2",children:l.jsx(r0,{reasons:Q})}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>J(xe),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},xe.date)})})]})})})]}):null,l.jsx(Go,{open:k,title:M?`${M} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),children:l.jsxs("form",{onSubmit:kt,className:"space-y-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",l.jsx("input",{type:"date",value:M,onChange:xe=>H(xe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",l.jsxs("select",{value:X,onChange:xe=>$(xe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"NORMAL",children:"Normal"}),l.jsx("option",{value:"IZINLI",children:"Izinli"}),l.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),l.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",l.jsxs("select",{value:ve,onChange:xe=>{const Q=xe.target.value;ae(Q),Q!=="SHIFT"&&oe("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"AUTO",children:Lc.AUTO}),l.jsx("option",{value:"SHIFT",children:Lc.SHIFT}),l.jsx("option",{value:"WEEKLY",children:Lc.WEEKLY}),l.jsx("option",{value:"WORK_RULE",children:Lc.WORK_RULE})]})]}),ve==="SHIFT"?l.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",l.jsxs("select",{value:ce,onChange:xe=>oe(xe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Vardiya seciniz"}),(qe.data??[]).map(xe=>l.jsxs("option",{value:xe.id,children:[xe.name," (",xe.start_time_local," - ",xe.end_time_local,")"]},xe.id))]})]}):null,l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",l.jsx("input",{type:"time",value:B,onChange:xe=>q(xe.target.value),disabled:X!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",l.jsx("input",{type:"time",value:V,onChange:xe=>Y(xe.target.value),disabled:X!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),X==="NORMAL"?l.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):l.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",l.jsx("input",{type:"text",value:G,onChange:xe=>ee(xe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),U?l.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:U}):null,l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:ye.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ye.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),Z?l.jsx("button",{type:"button",onClick:()=>we.mutate(Z),disabled:we.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:we.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const MA=Ji({full_name:Gi().min(2,"Ad soyad en az 2 karakter olmali."),region_id:td([mn().int().positive(),pm()]),department_id:td([mn().int().positive(),pm()]),is_active:gd()});function RA(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState(""),[p,v]=j.useState(""),[x,_]=j.useState(!0),[S,w]=j.useState(""),[C,z]=j.useState(!1),[k,A]=j.useState(!1),[M,H]=j.useState(""),[B,q]=j.useState(""),[V,Y]=j.useState(null),G=He({queryKey:["employees",k,M,B],queryFn:()=>Ka({...k?{include_inactive:!0}:{},...M?{region_id:Number(M)}:{},...B?{department_id:Number(B)}:{}})}),ee=He({queryKey:["departments"],queryFn:Ms}),X=He({queryKey:["regions","employees-page"],queryFn:()=>dd({include_inactive:!0})}),$=Ge({mutationFn:jE,onSuccess:W=>{o(""),f(""),v(""),_(!0),Y(null),z(!1),i({variant:"success",title:"Calisan olusturuldu",description:`${W.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const O=Be(W,"Calisan olusturulamadi.").message;Y(O),i({variant:"error",title:"Calisan olusturulamadi",description:O})}}),ve=Ge({mutationFn:({employeeId:W,nextStatus:O})=>$_(W,{is_active:O}),onSuccess:W=>{i({variant:"success",title:W.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${W.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const O=Be(W,"Calisan durumu guncellenemedi.").message;i({variant:"error",title:"Islem basarisiz",description:O})}}),ae=W=>{W.preventDefault(),Y(null);const O=d.trim()===""?null:Number(d),ie=p.trim()===""?null:Number(p),P=MA.safeParse({full_name:r,region_id:O,department_id:ie,is_active:x});if(!P.success){const F=P.error.issues[0]?.message??"Calisan formunu kontrol edin.";Y(F),i({variant:"error",title:"Form hatasi",description:F});return}$.mutate(P.data)},ce=G.data??[],oe=ee.data??[],Z=X.data??[],re=new Map(oe.map(W=>[W.id,W.name])),U=new Map(Z.map(W=>[W.id,W.name])),se=j.useMemo(()=>{const W=d?Number(d):null;return W?oe.filter(O=>O.region_id===W):oe},[oe,d]),he=j.useMemo(()=>{const W=M?Number(M):null;return W?oe.filter(O=>O.region_id===W):oe},[oe,M]),Ee=j.useMemo(()=>{const W=S.trim().toLowerCase();return W?ce.filter(O=>O.full_name.toLowerCase().includes(W)):ce},[ce,S]);return G.isLoading||ee.isLoading||X.isLoading?l.jsx(Qt,{}):G.isError||ee.isError||X.isError?l.jsx(Ot,{message:"Calisan verileri alinamadi."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:l.jsx("button",{type:"button",onClick:()=>z(W=>!W),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?l.jsxs(Me,{children:[l.jsxs("form",{onSubmit:ae,className:"grid gap-3 md:grid-cols-5",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",l.jsx("input",{value:r,onChange:W=>o(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",l.jsxs("select",{value:d,onChange:W=>{f(W.target.value),v("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Atanmamis"}),Z.map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:p,onChange:W=>v(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Atanmamis"}),se.map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:x,onChange:W=>_(W.target.checked)}),"Aktif"]}),l.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[l.jsx("button",{type:"submit",disabled:$.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:$.isPending?"Kaydediliyor...":"Kaydet"}),l.jsx("button",{type:"button",onClick:()=>{z(!1),Y(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),V?l.jsx("div",{className:"form-validation",children:V}):null]}):null,l.jsxs(Me,{children:[l.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[l.jsx(Cl,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",l.jsxs("select",{value:M,onChange:W=>{H(W.target.value),q("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum bolgeler"}),Z.map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",l.jsxs("select",{value:B,onChange:W=>q(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum departmanlar"}),he.map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:k,onChange:W=>A(W.target.checked)}),"Arsivdekileri goster"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Calisan ID"}),l.jsx("th",{className:"py-2",children:"Ad Soyad"}),l.jsx("th",{className:"py-2",children:"Bolge"}),l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:Ee.map(W=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:W.id}),l.jsx("td",{className:"py-2",children:W.full_name}),l.jsx("td",{className:"py-2",children:W.region_name??(W.region_id?U.get(W.region_id):"-")??"-"}),l.jsx("td",{className:"py-2",children:W.department_id?re.get(W.department_id):"-"}),l.jsx("td",{className:"py-2",children:l.jsx(Os,{value:W.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Wo,{to:`/employees/${W.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(W.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),l.jsx("button",{type:"button",disabled:ve.isPending,onClick:()=>{const O=!W.is_active;window.confirm(O?`${W.full_name} arsivden cikarilsin mi?`:`${W.full_name} arsivlensin mi?`)&&ve.mutate({employeeId:W.id,nextStatus:O})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${W.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:W.is_active?"Arsivle":"Arsivden Cikar"})]})})]},W.id))})]})}),Ee.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const LA=Ji({employee_id:mn().int().positive(),start_date:Gi().min(1),end_date:Gi().min(1),type:ym(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:ym(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:Gi().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function DA(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState(""),[p,v]=j.useState(""),[x,_]=j.useState("ANNUAL"),[S,w]=j.useState("APPROVED"),[C,z]=j.useState(""),[k,A]=j.useState(null),[M,H]=j.useState(""),[B,q]=j.useState(String(new Date().getFullYear())),[V,Y]=j.useState(String(new Date().getMonth()+1)),G=He({queryKey:["employees"],queryFn:()=>Ka({include_inactive:!0,status:"all"})}),ee=j.useMemo(()=>{const re=Number(M),U=Number(B),se=Number(V);return{employee_id:Number.isFinite(re)&&re>0?re:void 0,year:Number.isFinite(U)&&U>0?U:void 0,month:Number.isFinite(se)&&se>0?se:void 0}},[M,B,V]),X=He({queryKey:["leaves",ee.employee_id??"all",ee.year??"all",ee.month??"all"],queryFn:()=>n0(ee)}),$=Ge({mutationFn:GE,onSuccess:re=>{f(""),v(""),_("ANNUAL"),w("APPROVED"),z(""),A(null),i({variant:"success",title:"zin kayd oluturuldu",description:`zin #${re.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:re=>{const U=Be(re,"zin kayd oluturulamad.");A(U.message),i({variant:"error",title:"zin oluturulamad",description:U.message})}}),ve=Ge({mutationFn:YE,onSuccess:(re,U)=>{i({variant:"success",title:"zin kayd silindi",description:`zin #${U} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:re=>{const U=Be(re,"zin silinemedi.");i({variant:"error",title:"zin silinemedi",description:U.message})}}),ae=re=>{re.preventDefault(),A(null);const U=LA.safeParse({employee_id:r,start_date:d,end_date:p,type:x,status:S,note:C});if(!U.success){const se=U.error.issues[0]?.message??"zin formunu kontrol edin.";A(se),i({variant:"error",title:"Form hatas",description:se});return}$.mutate({...U.data,note:U.data.note||null})};if(G.isLoading)return l.jsx(Qt,{});if(G.isError)return l.jsx(Ot,{message:"alan listesi alnamad."});const ce=G.data??[],oe=X.data??[],Z=new Map(ce.map(re=>[re.id,re.full_name]));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),l.jsxs("form",{onSubmit:ae,className:"mt-4 grid gap-3 md:grid-cols-3",children:[l.jsx(Ha,{label:"alan",employees:ce,value:r,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",l.jsx("input",{type:"date",value:d,onChange:re=>f(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",l.jsx("input",{type:"date",value:p,onChange:re=>v(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",l.jsxs("select",{value:x,onChange:re=>_(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),l.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),l.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),l.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),l.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",l.jsxs("select",{value:S,onChange:re=>w(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"APPROVED",children:"ONAYLI"}),l.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),l.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",l.jsx("textarea",{value:C,onChange:re=>z(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("button",{type:"submit",disabled:$.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:$.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?l.jsx("div",{className:"form-validation",children:k}):null]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),l.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[l.jsx(Ha,{label:"alan",employees:ce,value:M,onChange:H,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",l.jsx("input",{value:B,onChange:re=>q(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{value:V,onChange:re=>Y(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),X.isLoading?l.jsx(Qt,{}):null,X.isError?l.jsx(Ot,{message:"zin listesi alnamad."}):null,!X.isLoading&&!X.isError?l.jsxs(Me,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"zin ID"}),l.jsx("th",{className:"py-2",children:"alan"}),l.jsx("th",{className:"py-2",children:"zin Tipi"}),l.jsx("th",{className:"py-2",children:"Tarih Aral"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"lem"})]})}),l.jsx("tbody",{children:oe.map(re=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:re.id}),l.jsx("td",{className:"py-2",children:Z.get(re.employee_id)??re.employee_id}),l.jsx("td",{className:"py-2",children:re.type}),l.jsxs("td",{className:"py-2",children:[re.start_date," - ",re.end_date]}),l.jsx("td",{className:"py-2",children:l.jsx(Os,{value:re.status})}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>ve.mutate(re.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},re.id))})]})}),oe.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const PA=Ji({username:Gi().min(1,"Kullanc ad gerekli."),password:Gi().min(1,"ifre gerekli.")});function BA(t){return t.code==="INVALID_CREDENTIALS"?"Giri bilgileri hatal":t.code==="TOO_MANY_ATTEMPTS"?"ok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatas":"Giri baarsz"}function IA(){const t=ad(),i=$i(),{login:r}=ru(),[o,d]=j.useState("admin"),[f,p]=j.useState(""),[v,x]=j.useState(null),[_,S]=j.useState(!1),w=j.useMemo(()=>{const z=i.state?.from,k=new URLSearchParams(i.search).get("redirect");return z??k??"/dashboard"},[i.search,i.state]),C=async z=>{z.preventDefault(),x(null);const k=PA.safeParse({username:o,password:f});if(!k.success){x({message:k.error.issues[0]?.message??"Form alanlarn kontrol et."});return}S(!0);try{await r(k.data.username,k.data.password),t(w,{replace:!0})}catch(A){x(Be(A,"Giri baarsz."))}finally{S(!1)}};return l.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:l.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giri"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj ynetim paneline giri yap."}),l.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanc Ad"}),l.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"ifre"}),l.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:f,onChange:z=>p(z.target.value)})]}),v?l.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[l.jsx("p",{className:"font-semibold",children:BA(v)}),l.jsx("p",{className:"mt-1",children:v.message}),v.requestId?l.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",v.requestId]}):null]}):null,l.jsx("button",{type:"submit",disabled:_,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giri yaplyor..."]}):"Giri Yap"})]}),l.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[As.signatureText," | BUILD: ",As.buildVersion]})]})})}function UA(){return l.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[l.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),l.jsx(Wo,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),l.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:As.signatureText})]})})}function mx(t,i){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=i,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r)}function ZA(){const{pushToast:t}=Hn(),i=new Date,[r,o]=j.useState("employee"),[d,f]=j.useState(""),[p,v]=j.useState(""),[x,_]=j.useState(String(i.getFullYear())),[S,w]=j.useState(String(i.getMonth()+1)),[C,z]=j.useState(""),[k,A]=j.useState(""),[M,H]=j.useState(!0),[B,q]=j.useState(!1),[V,Y]=j.useState(""),[G,ee]=j.useState(""),[X,$]=j.useState("consolidated"),[ve,ae]=j.useState(""),[ce,oe]=j.useState(""),Z=He({queryKey:["employees","all"],queryFn:()=>Ka({status:"all",include_inactive:!0})}),re=He({queryKey:["departments"],queryFn:Ms}),U=Ge({mutationFn:n1,onSuccess:F=>{mx(F,`puantaj-${r}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:F=>{t({variant:"error",title:"Da aktarma baarsz",description:Be(F,"Excel dosyas retilemedi.").message})}}),se=Ge({mutationFn:r1,onSuccess:F=>{mx(F,`puantaj-range-${X}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:F=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:Be(F,"Excel dosyas retilemedi.").message})}}),he=j.useMemo(()=>{const F=Number(x),ye=Number(S),we=Number(d),ke=Number(p);return r==="employee"?!we||!F||!ye?null:{mode:r,employee_id:we,year:F,month:ye}:r==="department"?!ke||!F||!ye?null:{mode:r,department_id:ke,year:F,month:ye,include_daily_sheet:M,include_inactive:B}:r==="all"?!F||!ye?null:{mode:r,year:F,month:ye,include_daily_sheet:M,include_inactive:B}:!C||!k?null:{mode:r,start_date:C,end_date:k,employee_id:we||void 0,department_id:ke||void 0,include_inactive:B}},[r,d,p,x,S,C,k,M,B]),Ee=j.useMemo(()=>{const F=Number(ce),ye=Number(ve);return!V||!G?null:{start_date:V,end_date:G,mode:X,employee_id:F>0?F:void 0,department_id:ye>0?ye:void 0}},[V,G,X,ce,ve]),W=()=>{if(!he){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}U.mutate(he)},O=()=>{if(!Ee){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}se.mutate(Ee)};if(Z.isLoading||re.isLoading)return l.jsx(Qt,{});if(Z.isError||re.isError)return l.jsx(Ot,{message:"alan/departman bilgileri alnamad."});const ie=Z.data??[],P=re.data??[];return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",l.jsxs("select",{value:r,onChange:F=>o(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"employee",children:"alan Bazl"}),l.jsx("option",{value:"department",children:"Departman Bazl"}),l.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),l.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(r==="employee"||r==="date_range")&&l.jsx(Ha,{label:"alan",employees:ie,value:d,onChange:f,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(r==="department"||r==="date_range")&&l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:p,onChange:F=>v(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seiniz"}),P.map(F=>l.jsxs("option",{value:F.id,children:["#",F.id," - ",F.name]},F.id))]})]}),(r==="employee"||r==="department"||r==="all")&&l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",l.jsx("input",{type:"number",value:x,onChange:F=>_(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{type:"number",value:S,onChange:F=>w(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),r==="date_range"&&l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",l.jsx("input",{type:"date",value:C,onChange:F=>z(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",l.jsx("input",{type:"date",value:k,onChange:F=>A(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(r==="department"||r==="all")&&l.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:M,onChange:F=>H(F.target.checked)}),"Gnlk sheetleri de ekle"]}),l.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:B,onChange:F=>q(F.target.checked)}),"Arivdeki alanlar dahil et"]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{type:"button",onClick:W,disabled:U.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:U.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),l.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",l.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",l.jsx("input",{type:"date",value:V,onChange:F=>Y(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",l.jsx("input",{type:"date",value:G,onChange:F=>ee(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",l.jsxs("select",{value:X,onChange:F=>$(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),l.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),l.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",l.jsxs("select",{value:ve,onChange:F=>ae(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tm"}),P.map(F=>l.jsxs("option",{value:F.id,children:["#",F.id," - ",F.name]},F.id))]})]}),l.jsx(Ha,{label:"alan (opsiyonel)",employees:ie,value:ce,onChange:oe,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{type:"button",onClick:O,disabled:se.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:se.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var jl={},Tf,px;function qA(){return px||(px=1,Tf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Tf}var Cf={},Cs={},gx;function Ar(){if(gx)return Cs;gx=1;let t;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Cs.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Cs.getSymbolTotalCodewords=function(o){return i[o]},Cs.getBCHDigit=function(r){let o=0;for(;r!==0;)o++,r>>>=1;return o},Cs.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},Cs.isKanjiModeEnabled=function(){return typeof t<"u"},Cs.toSJIS=function(o){return t(o)},Cs}var kf={},yx;function Qm(){return yx||(yx=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function i(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return i(o)}catch{return d}}})(kf)),kf}var Af,vx;function FA(){if(vx)return Af;vx=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(i){const r=Math.floor(i/8);return(this.buffer[r]>>>7-i%8&1)===1},put:function(i,r){for(let o=0;o<r;o++)this.putBit((i>>>r-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),i&&(this.buffer[r]|=128>>>this.length%8),this.length++}},Af=t,Af}var zf,xx;function HA(){if(xx)return zf;xx=1;function t(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}return t.prototype.set=function(i,r,o,d){const f=i*this.size+r;this.data[f]=o,d&&(this.reservedBit[f]=!0)},t.prototype.get=function(i,r){return this.data[i*this.size+r]},t.prototype.xor=function(i,r,o){this.data[i*this.size+r]^=o},t.prototype.isReserved=function(i,r){return this.reservedBit[i*this.size+r]},zf=t,zf}var Of={},_x;function KA(){return _x||(_x=1,(function(t){const i=Ar().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,f=i(o),p=f===145?26:Math.ceil((f-13)/(2*d-2))*2,v=[f-7];for(let x=1;x<d-1;x++)v[x]=v[x-1]-p;return v.push(6),v.reverse()},t.getPositions=function(o){const d=[],f=t.getRowColCoords(o),p=f.length;for(let v=0;v<p;v++)for(let x=0;x<p;x++)v===0&&x===0||v===0&&x===p-1||v===p-1&&x===0||d.push([f[v],f[x]]);return d}})(Of)),Of}var Mf={},bx;function QA(){if(bx)return Mf;bx=1;const t=Ar().getSymbolSize,i=7;return Mf.getPositions=function(o){const d=t(o);return[[0,0],[d-i,0],[0,d-i]]},Mf}var Rf={},Nx;function VA(){return Nx||(Nx=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const f=d.size;let p=0,v=0,x=0,_=null,S=null;for(let w=0;w<f;w++){v=x=0,_=S=null;for(let C=0;C<f;C++){let z=d.get(w,C);z===_?v++:(v>=5&&(p+=i.N1+(v-5)),_=z,v=1),z=d.get(C,w),z===S?x++:(x>=5&&(p+=i.N1+(x-5)),S=z,x=1)}v>=5&&(p+=i.N1+(v-5)),x>=5&&(p+=i.N1+(x-5))}return p},t.getPenaltyN2=function(d){const f=d.size;let p=0;for(let v=0;v<f-1;v++)for(let x=0;x<f-1;x++){const _=d.get(v,x)+d.get(v,x+1)+d.get(v+1,x)+d.get(v+1,x+1);(_===4||_===0)&&p++}return p*i.N2},t.getPenaltyN3=function(d){const f=d.size;let p=0,v=0,x=0;for(let _=0;_<f;_++){v=x=0;for(let S=0;S<f;S++)v=v<<1&2047|d.get(_,S),S>=10&&(v===1488||v===93)&&p++,x=x<<1&2047|d.get(S,_),S>=10&&(x===1488||x===93)&&p++}return p*i.N3},t.getPenaltyN4=function(d){let f=0;const p=d.data.length;for(let x=0;x<p;x++)f+=d.data[x];return Math.abs(Math.ceil(f*100/p/5)-10)*i.N4};function r(o,d,f){switch(o){case t.Patterns.PATTERN000:return(d+f)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return f%3===0;case t.Patterns.PATTERN011:return(d+f)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(f/3))%2===0;case t.Patterns.PATTERN101:return d*f%2+d*f%3===0;case t.Patterns.PATTERN110:return(d*f%2+d*f%3)%2===0;case t.Patterns.PATTERN111:return(d*f%3+(d+f)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,f){const p=f.size;for(let v=0;v<p;v++)for(let x=0;x<p;x++)f.isReserved(x,v)||f.xor(x,v,r(d,x,v))},t.getBestMask=function(d,f){const p=Object.keys(t.Patterns).length;let v=0,x=1/0;for(let _=0;_<p;_++){f(_),t.applyMask(_,d);const S=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(_,d),S<x&&(x=S,v=_)}return v}})(Rf)),Rf}var Dc={},Sx;function U0(){if(Sx)return Dc;Sx=1;const t=Qm(),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Dc.getBlocksCount=function(d,f){switch(f){case t.L:return i[(d-1)*4+0];case t.M:return i[(d-1)*4+1];case t.Q:return i[(d-1)*4+2];case t.H:return i[(d-1)*4+3];default:return}},Dc.getTotalCodewordsCount=function(d,f){switch(f){case t.L:return r[(d-1)*4+0];case t.M:return r[(d-1)*4+1];case t.Q:return r[(d-1)*4+2];case t.H:return r[(d-1)*4+3];default:return}},Dc}var Lf={},Zo={},jx;function GA(){if(jx)return Zo;jx=1;const t=new Uint8Array(512),i=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,i[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Zo.log=function(o){if(o<1)throw new Error("log("+o+")");return i[o]},Zo.exp=function(o){return t[o]},Zo.mul=function(o,d){return o===0||d===0?0:t[i[o]+i[d]]},Zo}var wx;function YA(){return wx||(wx=1,(function(t){const i=GA();t.mul=function(o,d){const f=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let v=0;v<d.length;v++)f[p+v]^=i.mul(o[p],d[v]);return f},t.mod=function(o,d){let f=new Uint8Array(o);for(;f.length-d.length>=0;){const p=f[0];for(let x=0;x<d.length;x++)f[x]^=i.mul(d[x],p);let v=0;for(;v<f.length&&f[v]===0;)v++;f=f.slice(v)}return f},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let f=0;f<o;f++)d=t.mul(d,new Uint8Array([1,i.exp(f)]));return d}})(Lf)),Lf}var Df,Ex;function $A(){if(Ex)return Df;Ex=1;const t=YA();function i(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return i.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},i.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const f=t.mod(d,this.genPoly),p=this.degree-f.length;if(p>0){const v=new Uint8Array(this.degree);return v.set(f,p),v}return f},Df=i,Df}var Pf={},Bf={},If={},Tx;function Z0(){return Tx||(Tx=1,If.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}),If}var ga={},Cx;function q0(){if(Cx)return ga;Cx=1;const t="[0-9]+",i="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;ga.KANJI=new RegExp(r,"g"),ga.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ga.BYTE=new RegExp(o,"g"),ga.NUMERIC=new RegExp(t,"g"),ga.ALPHANUMERIC=new RegExp(i,"g");const d=new RegExp("^"+r+"$"),f=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ga.testKanji=function(x){return d.test(x)},ga.testNumeric=function(x){return f.test(x)},ga.testAlphanumeric=function(x){return p.test(x)},ga}var kx;function zr(){return kx||(kx=1,(function(t){const i=Z0(),r=q0();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(f,p){if(!f.ccBits)throw new Error("Invalid mode: "+f);if(!i.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?f.ccBits[0]:p<27?f.ccBits[1]:f.ccBits[2]},t.getBestModeForData=function(f){return r.testNumeric(f)?t.NUMERIC:r.testAlphanumeric(f)?t.ALPHANUMERIC:r.testKanji(f)?t.KANJI:t.BYTE},t.toString=function(f){if(f&&f.id)return f.id;throw new Error("Invalid mode")},t.isValid=function(f){return f&&f.bit&&f.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(f,p){if(t.isValid(f))return f;try{return o(f)}catch{return p}}})(Bf)),Bf}var Ax;function XA(){return Ax||(Ax=1,(function(t){const i=Ar(),r=U0(),o=Qm(),d=zr(),f=Z0(),p=7973,v=i.getBCHDigit(p);function x(C,z,k){for(let A=1;A<=40;A++)if(z<=t.getCapacity(A,k,C))return A}function _(C,z){return d.getCharCountIndicator(C,z)+4}function S(C,z){let k=0;return C.forEach(function(A){const M=_(A.mode,z);k+=M+A.getBitsLength()}),k}function w(C,z){for(let k=1;k<=40;k++)if(S(C,k)<=t.getCapacity(k,z,d.MIXED))return k}t.from=function(z,k){return f.isValid(z)?parseInt(z,10):k},t.getCapacity=function(z,k,A){if(!f.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const M=i.getSymbolTotalCodewords(z),H=r.getTotalCodewordsCount(z,k),B=(M-H)*8;if(A===d.MIXED)return B;const q=B-_(A,z);switch(A){case d.NUMERIC:return Math.floor(q/10*3);case d.ALPHANUMERIC:return Math.floor(q/11*2);case d.KANJI:return Math.floor(q/13);case d.BYTE:default:return Math.floor(q/8)}},t.getBestVersionForData=function(z,k){let A;const M=o.from(k,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,M);if(z.length===0)return 1;A=z[0]}else A=z;return x(A.mode,A.getLength(),M)},t.getEncodedBits=function(z){if(!f.isValid(z)||z<7)throw new Error("Invalid QR Code version");let k=z<<12;for(;i.getBCHDigit(k)-v>=0;)k^=p<<i.getBCHDigit(k)-v;return z<<12|k}})(Pf)),Pf}var Uf={},zx;function JA(){if(zx)return Uf;zx=1;const t=Ar(),i=1335,r=21522,o=t.getBCHDigit(i);return Uf.getEncodedBits=function(f,p){const v=f.bit<<3|p;let x=v<<10;for(;t.getBCHDigit(x)-o>=0;)x^=i<<t.getBCHDigit(x)-o;return(v<<10|x)^r},Uf}var Zf={},qf,Ox;function WA(){if(Ox)return qf;Ox=1;const t=zr();function i(r){this.mode=t.NUMERIC,this.data=r.toString()}return i.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){let d,f,p;for(d=0;d+3<=this.data.length;d+=3)f=this.data.substr(d,3),p=parseInt(f,10),o.put(p,10);const v=this.data.length-d;v>0&&(f=this.data.substr(d),p=parseInt(f,10),o.put(p,v*3+1))},qf=i,qf}var Ff,Mx;function ez(){if(Mx)return Ff;Mx=1;const t=zr(),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(o){this.mode=t.ALPHANUMERIC,this.data=o}return r.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(d){let f;for(f=0;f+2<=this.data.length;f+=2){let p=i.indexOf(this.data[f])*45;p+=i.indexOf(this.data[f+1]),d.put(p,11)}this.data.length%2&&d.put(i.indexOf(this.data[f]),6)},Ff=r,Ff}var Hf,Rx;function tz(){if(Rx)return Hf;Rx=1;const t=zr();function i(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return i.getBitsLength=function(o){return o*8},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){for(let o=0,d=this.data.length;o<d;o++)r.put(this.data[o],8)},Hf=i,Hf}var Kf,Lx;function nz(){if(Lx)return Kf;Lx=1;const t=zr(),i=Ar();function r(o){this.mode=t.KANJI,this.data=o}return r.getBitsLength=function(d){return d*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let f=i.toSJIS(this.data[d]);if(f>=33088&&f<=40956)f-=33088;else if(f>=57408&&f<=60351)f-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);f=(f>>>8&255)*192+(f&255),o.put(f,13)}},Kf=r,Kf}var Qf={exports:{}},Dx;function iz(){return Dx||(Dx=1,(function(t){var i={single_source_shortest_paths:function(r,o,d){var f={},p={};p[o]=0;var v=i.PriorityQueue.make();v.push(o,0);for(var x,_,S,w,C,z,k,A,M;!v.empty();){x=v.pop(),_=x.value,w=x.cost,C=r[_]||{};for(S in C)C.hasOwnProperty(S)&&(z=C[S],k=w+z,A=p[S],M=typeof p[S]>"u",(M||A>k)&&(p[S]=k,v.push(S,k),f[S]=_))}if(typeof d<"u"&&typeof p[d]>"u"){var H=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(H)}return f},extract_shortest_path_from_predecessor_list:function(r,o){for(var d=[],f=o;f;)d.push(f),r[f],f=r[f];return d.reverse(),d},find_path:function(r,o,d){var f=i.single_source_shortest_paths(r,o,d);return i.extract_shortest_path_from_predecessor_list(f,d)},PriorityQueue:{make:function(r){var o=i.PriorityQueue,d={},f;r=r||{};for(f in o)o.hasOwnProperty(f)&&(d[f]=o[f]);return d.queue=[],d.sorter=r.sorter||o.default_sorter,d},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var d={value:r,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=i})(Qf)),Qf.exports}var Px;function az(){return Px||(Px=1,(function(t){const i=zr(),r=WA(),o=ez(),d=tz(),f=nz(),p=q0(),v=Ar(),x=iz();function _(H){return unescape(encodeURIComponent(H)).length}function S(H,B,q){const V=[];let Y;for(;(Y=H.exec(q))!==null;)V.push({data:Y[0],index:Y.index,mode:B,length:Y[0].length});return V}function w(H){const B=S(p.NUMERIC,i.NUMERIC,H),q=S(p.ALPHANUMERIC,i.ALPHANUMERIC,H);let V,Y;return v.isKanjiModeEnabled()?(V=S(p.BYTE,i.BYTE,H),Y=S(p.KANJI,i.KANJI,H)):(V=S(p.BYTE_KANJI,i.BYTE,H),Y=[]),B.concat(q,V,Y).sort(function(ee,X){return ee.index-X.index}).map(function(ee){return{data:ee.data,mode:ee.mode,length:ee.length}})}function C(H,B){switch(B){case i.NUMERIC:return r.getBitsLength(H);case i.ALPHANUMERIC:return o.getBitsLength(H);case i.KANJI:return f.getBitsLength(H);case i.BYTE:return d.getBitsLength(H)}}function z(H){return H.reduce(function(B,q){const V=B.length-1>=0?B[B.length-1]:null;return V&&V.mode===q.mode?(B[B.length-1].data+=q.data,B):(B.push(q),B)},[])}function k(H){const B=[];for(let q=0;q<H.length;q++){const V=H[q];switch(V.mode){case i.NUMERIC:B.push([V,{data:V.data,mode:i.ALPHANUMERIC,length:V.length},{data:V.data,mode:i.BYTE,length:V.length}]);break;case i.ALPHANUMERIC:B.push([V,{data:V.data,mode:i.BYTE,length:V.length}]);break;case i.KANJI:B.push([V,{data:V.data,mode:i.BYTE,length:_(V.data)}]);break;case i.BYTE:B.push([{data:V.data,mode:i.BYTE,length:_(V.data)}])}}return B}function A(H,B){const q={},V={start:{}};let Y=["start"];for(let G=0;G<H.length;G++){const ee=H[G],X=[];for(let $=0;$<ee.length;$++){const ve=ee[$],ae=""+G+$;X.push(ae),q[ae]={node:ve,lastCount:0},V[ae]={};for(let ce=0;ce<Y.length;ce++){const oe=Y[ce];q[oe]&&q[oe].node.mode===ve.mode?(V[oe][ae]=C(q[oe].lastCount+ve.length,ve.mode)-C(q[oe].lastCount,ve.mode),q[oe].lastCount+=ve.length):(q[oe]&&(q[oe].lastCount=ve.length),V[oe][ae]=C(ve.length,ve.mode)+4+i.getCharCountIndicator(ve.mode,B))}}Y=X}for(let G=0;G<Y.length;G++)V[Y[G]].end=0;return{map:V,table:q}}function M(H,B){let q;const V=i.getBestModeForData(H);if(q=i.from(B,V),q!==i.BYTE&&q.bit<V.bit)throw new Error('"'+H+'" cannot be encoded with mode '+i.toString(q)+`.
 Suggested mode is: `+i.toString(V));switch(q===i.KANJI&&!v.isKanjiModeEnabled()&&(q=i.BYTE),q){case i.NUMERIC:return new r(H);case i.ALPHANUMERIC:return new o(H);case i.KANJI:return new f(H);case i.BYTE:return new d(H)}}t.fromArray=function(B){return B.reduce(function(q,V){return typeof V=="string"?q.push(M(V,null)):V.data&&q.push(M(V.data,V.mode)),q},[])},t.fromString=function(B,q){const V=w(B,v.isKanjiModeEnabled()),Y=k(V),G=A(Y,q),ee=x.find_path(G.map,"start","end"),X=[];for(let $=1;$<ee.length-1;$++)X.push(G.table[ee[$]].node);return t.fromArray(z(X))},t.rawSplit=function(B){return t.fromArray(w(B,v.isKanjiModeEnabled()))}})(Zf)),Zf}var Bx;function sz(){if(Bx)return Cf;Bx=1;const t=Ar(),i=Qm(),r=FA(),o=HA(),d=KA(),f=QA(),p=VA(),v=U0(),x=$A(),_=XA(),S=JA(),w=zr(),C=az();function z(G,ee){const X=G.size,$=f.getPositions(ee);for(let ve=0;ve<$.length;ve++){const ae=$[ve][0],ce=$[ve][1];for(let oe=-1;oe<=7;oe++)if(!(ae+oe<=-1||X<=ae+oe))for(let Z=-1;Z<=7;Z++)ce+Z<=-1||X<=ce+Z||(oe>=0&&oe<=6&&(Z===0||Z===6)||Z>=0&&Z<=6&&(oe===0||oe===6)||oe>=2&&oe<=4&&Z>=2&&Z<=4?G.set(ae+oe,ce+Z,!0,!0):G.set(ae+oe,ce+Z,!1,!0))}}function k(G){const ee=G.size;for(let X=8;X<ee-8;X++){const $=X%2===0;G.set(X,6,$,!0),G.set(6,X,$,!0)}}function A(G,ee){const X=d.getPositions(ee);for(let $=0;$<X.length;$++){const ve=X[$][0],ae=X[$][1];for(let ce=-2;ce<=2;ce++)for(let oe=-2;oe<=2;oe++)ce===-2||ce===2||oe===-2||oe===2||ce===0&&oe===0?G.set(ve+ce,ae+oe,!0,!0):G.set(ve+ce,ae+oe,!1,!0)}}function M(G,ee){const X=G.size,$=_.getEncodedBits(ee);let ve,ae,ce;for(let oe=0;oe<18;oe++)ve=Math.floor(oe/3),ae=oe%3+X-8-3,ce=($>>oe&1)===1,G.set(ve,ae,ce,!0),G.set(ae,ve,ce,!0)}function H(G,ee,X){const $=G.size,ve=S.getEncodedBits(ee,X);let ae,ce;for(ae=0;ae<15;ae++)ce=(ve>>ae&1)===1,ae<6?G.set(ae,8,ce,!0):ae<8?G.set(ae+1,8,ce,!0):G.set($-15+ae,8,ce,!0),ae<8?G.set(8,$-ae-1,ce,!0):ae<9?G.set(8,15-ae-1+1,ce,!0):G.set(8,15-ae-1,ce,!0);G.set($-8,8,1,!0)}function B(G,ee){const X=G.size;let $=-1,ve=X-1,ae=7,ce=0;for(let oe=X-1;oe>0;oe-=2)for(oe===6&&oe--;;){for(let Z=0;Z<2;Z++)if(!G.isReserved(ve,oe-Z)){let re=!1;ce<ee.length&&(re=(ee[ce]>>>ae&1)===1),G.set(ve,oe-Z,re),ae--,ae===-1&&(ce++,ae=7)}if(ve+=$,ve<0||X<=ve){ve-=$,$=-$;break}}}function q(G,ee,X){const $=new r;X.forEach(function(Z){$.put(Z.mode.bit,4),$.put(Z.getLength(),w.getCharCountIndicator(Z.mode,G)),Z.write($)});const ve=t.getSymbolTotalCodewords(G),ae=v.getTotalCodewordsCount(G,ee),ce=(ve-ae)*8;for($.getLengthInBits()+4<=ce&&$.put(0,4);$.getLengthInBits()%8!==0;)$.putBit(0);const oe=(ce-$.getLengthInBits())/8;for(let Z=0;Z<oe;Z++)$.put(Z%2?17:236,8);return V($,G,ee)}function V(G,ee,X){const $=t.getSymbolTotalCodewords(ee),ve=v.getTotalCodewordsCount(ee,X),ae=$-ve,ce=v.getBlocksCount(ee,X),oe=$%ce,Z=ce-oe,re=Math.floor($/ce),U=Math.floor(ae/ce),se=U+1,he=re-U,Ee=new x(he);let W=0;const O=new Array(ce),ie=new Array(ce);let P=0;const F=new Uint8Array(G.buffer);for(let qe=0;qe<ce;qe++){const dt=qe<Z?U:se;O[qe]=F.slice(W,W+dt),ie[qe]=Ee.encode(O[qe]),W+=dt,P=Math.max(P,dt)}const ye=new Uint8Array($);let we=0,ke,Ze;for(ke=0;ke<P;ke++)for(Ze=0;Ze<ce;Ze++)ke<O[Ze].length&&(ye[we++]=O[Ze][ke]);for(ke=0;ke<he;ke++)for(Ze=0;Ze<ce;Ze++)ye[we++]=ie[Ze][ke];return ye}function Y(G,ee,X,$){let ve;if(Array.isArray(G))ve=C.fromArray(G);else if(typeof G=="string"){let re=ee;if(!re){const U=C.rawSplit(G);re=_.getBestVersionForData(U,X)}ve=C.fromString(G,re||40)}else throw new Error("Invalid data");const ae=_.getBestVersionForData(ve,X);if(!ae)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ee)ee=ae;else if(ee<ae)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ae+`.
`);const ce=q(ee,X,ve),oe=t.getSymbolSize(ee),Z=new o(oe);return z(Z,ee),k(Z),A(Z,ee),H(Z,X,0),ee>=7&&M(Z,ee),B(Z,ce),isNaN($)&&($=p.getBestMask(Z,H.bind(null,Z,X))),p.applyMask($,Z),H(Z,X,$),{modules:Z,version:ee,errorCorrectionLevel:X,maskPattern:$,segments:ve}}return Cf.create=function(ee,X){if(typeof ee>"u"||ee==="")throw new Error("No input text");let $=i.M,ve,ae;return typeof X<"u"&&($=i.from(X.errorCorrectionLevel,i.M),ve=_.from(X.version),ae=p.from(X.maskPattern),X.toSJISFunc&&t.setToSJISFunction(X.toSJISFunc)),Y(ee,ve,$,ae)},Cf}var Vf={},Gf={},Ix;function F0(){return Ix||(Ix=1,(function(t){function i(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(f){return[f,f]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,f=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:f,scale:f?4:p,margin:d,color:{dark:i(o.color.dark||"#000000ff"),light:i(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const f=t.getScale(o,d);return Math.floor((o+d.margin*2)*f)},t.qrToImageData=function(o,d,f){const p=d.modules.size,v=d.modules.data,x=t.getScale(p,f),_=Math.floor((p+f.margin*2)*x),S=f.margin*x,w=[f.color.light,f.color.dark];for(let C=0;C<_;C++)for(let z=0;z<_;z++){let k=(C*_+z)*4,A=f.color.light;if(C>=S&&z>=S&&C<_-S&&z<_-S){const M=Math.floor((C-S)/x),H=Math.floor((z-S)/x);A=w[v[M*p+H]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(Gf)),Gf}var Ux;function rz(){return Ux||(Ux=1,(function(t){const i=F0();function r(d,f,p){d.clearRect(0,0,f.width,f.height),f.style||(f.style={}),f.height=p,f.width=p,f.style.height=p+"px",f.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(f,p,v){let x=v,_=p;typeof x>"u"&&(!p||!p.getContext)&&(x=p,p=void 0),p||(_=o()),x=i.getOptions(x);const S=i.getImageWidth(f.modules.size,x),w=_.getContext("2d"),C=w.createImageData(S,S);return i.qrToImageData(C.data,f,x),r(w,_,S),w.putImageData(C,0,0),_},t.renderToDataURL=function(f,p,v){let x=v;typeof x>"u"&&(!p||!p.getContext)&&(x=p,p=void 0),x||(x={});const _=t.render(f,p,x),S=x.type||"image/png",w=x.rendererOpts||{};return _.toDataURL(S,w.quality)}})(Vf)),Vf}var Yf={},Zx;function lz(){if(Zx)return Yf;Zx=1;const t=F0();function i(d,f){const p=d.a/255,v=f+'="'+d.hex+'"';return p<1?v+" "+f+'-opacity="'+p.toFixed(2).slice(1)+'"':v}function r(d,f,p){let v=d+f;return typeof p<"u"&&(v+=" "+p),v}function o(d,f,p){let v="",x=0,_=!1,S=0;for(let w=0;w<d.length;w++){const C=Math.floor(w%f),z=Math.floor(w/f);!C&&!_&&(_=!0),d[w]?(S++,w>0&&C>0&&d[w-1]||(v+=_?r("M",C+p,.5+z+p):r("m",x,0),x=0,_=!1),C+1<f&&d[w+1]||(v+=r("h",S),S=0)):x++}return v}return Yf.render=function(f,p,v){const x=t.getOptions(p),_=f.modules.size,S=f.modules.data,w=_+x.margin*2,C=x.color.light.a?"<path "+i(x.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+i(x.color.dark,"stroke")+' d="'+o(S,_,x.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',M='<svg xmlns="http://www.w3.org/2000/svg" '+(x.width?'width="'+x.width+'" height="'+x.width+'" ':"")+k+' shape-rendering="crispEdges">'+C+z+`</svg>
`;return typeof v=="function"&&v(null,M),M},Yf}var qx;function oz(){if(qx)return jl;qx=1;const t=qA(),i=sz(),r=rz(),o=lz();function d(f,p,v,x,_){const S=[].slice.call(arguments,1),w=S.length,C=typeof S[w-1]=="function";if(!C&&!t())throw new Error("Callback required as last argument");if(C){if(w<2)throw new Error("Too few arguments provided");w===2?(_=v,v=p,p=x=void 0):w===3&&(p.getContext&&typeof _>"u"?(_=x,x=void 0):(_=x,x=v,v=p,p=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(v=p,p=x=void 0):w===2&&!p.getContext&&(x=v,v=p,p=void 0),new Promise(function(z,k){try{const A=i.create(v,x);z(f(A,p,x))}catch(A){k(A)}})}try{const z=i.create(v,x);_(null,f(z,p,x))}catch(z){_(z)}}return jl.create=i.create,jl.toCanvas=d.bind(null,r.render),jl.toDataURL=d.bind(null,r.renderToDataURL),jl.toString=d.bind(null,function(f,p,v){return o.render(f,v)}),jl}var uz=oz();const Fx=nd(uz),cz=[41.0082,28.9784];function ks(t){return t.toFixed(6)}function dz({lat:t,lon:i,radiusM:r,onSelect:o}){const d=j.useRef(null),f=j.useRef(null),p=j.useRef(null),v=j.useRef(null),[x,_]=j.useState(!1),[S,w]=j.useState(""),[C,z]=j.useState(!1),[k,A]=j.useState(null),[M,H]=j.useState(null),B=j.useMemo(()=>t!==null&&i!==null?[t,i]:cz,[t,i]);j.useEffect(()=>{if(!(!d.current||f.current)){try{const Y=Za.map(d.current,{center:B,zoom:t!==null&&i!==null?17:12,zoomControl:!0});f.current=Y,Za.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo(Y);const G=Za.circleMarker(B,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo(Y);p.current=G;const ee=Za.circle(B,{radius:Number.isFinite(r)&&r>0?r:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo(Y);v.current=ee,Y.on("click",X=>{const $=X.latlng.lat,ve=X.latlng.lng;o($,ve),H(`Haritadan secildi: ${ks($)}, ${ks(ve)}`)}),_(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),_(!1)}return()=>{f.current&&(f.current.remove(),f.current=null),p.current=null,v.current=null,_(!1)}}},[B,t,i,o,r]),j.useEffect(()=>{if(!f.current||!p.current||!v.current)return;const Y=f.current,G=p.current,ee=v.current;if(t!==null&&i!==null){const $=[t,i];G.setLatLng($),ee.setLatLng($),Y.panTo($,{animate:!0})}const X=Number.isFinite(r)&&r>0?r:75;ee.setRadius(X)},[t,i,r]);const q=j.useCallback(async()=>{if(!x||!f.current)return;const Y=S.trim();if(!Y){H("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const G=new URL("https://nominatim.openstreetmap.org/search");G.searchParams.set("q",Y),G.searchParams.set("format","json"),G.searchParams.set("limit","1"),G.searchParams.set("addressdetails","1"),G.searchParams.set("accept-language","tr");const ee=await fetch(G.toString(),{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error("search_failed");const X=await ee.json();if(!Array.isArray(X)||X.length===0){H("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const $=X[0],ve=Number($.lat),ae=Number($.lon);if(!Number.isFinite(ve)||!Number.isFinite(ae)){H("Adres koordinata cevrilemedi.");return}o(ve,ae),f.current.setView([ve,ae],17,{animate:!0}),H(`Adres bulundu: ${ks(ve)}, ${ks(ae)}${$.display_name?` (${$.display_name})`:""}`)}catch{H("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[x,o,S]),V=j.useCallback(()=>{if(!navigator.geolocation){H("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition(Y=>{const G=Y.coords.latitude,ee=Y.coords.longitude;o(G,ee),H(`Mevcut konum alindi: ${ks(G)}, ${ks(ee)}`)},()=>{H("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return l.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),l.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?l.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):l.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),l.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[l.jsx("input",{value:S,onChange:Y=>w(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!x}),l.jsx("button",{type:"button",onClick:()=>{q()},disabled:!x||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),l.jsx("button",{type:"button",onClick:V,disabled:!x,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),l.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[l.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?ks(t):"-"]}),l.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",i!==null?ks(i):"-"]}),l.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",r,"m"]})]}),M?l.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:M}):null]})}const Pc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Bc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},hz={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function Hx(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function Kx(t,i){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||i}function fz(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function mz(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(null),[d,f]=j.useState(null),[p,v]=j.useState(null),[x,_]=j.useState(""),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(Pc),[M,H]=j.useState(hz),[B,q]=j.useState(Bc),[V,Y]=j.useState([]),[G,ee]=j.useState(null),X=He({queryKey:["qr-codes"],queryFn:()=>OE()}),$=He({queryKey:["qr-points"],queryFn:()=>PE()}),ve=Ge({mutationFn:ME,onSuccess:J=>{i({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${J.id}`}),A(Pc),o(J.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:J=>{i({variant:"error",title:"QR kod olusturulamadi",description:Be(J,"Islem basarisiz.").message})}}),ae=Ge({mutationFn:({codeId:J,payload:Te})=>RE(J,Te),onSuccess:J=>{i({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${J.id}`}),f(null),A(Pc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:J=>{i({variant:"error",title:"QR kod guncellenemedi",description:Be(J,"Islem basarisiz.").message})}}),ce=Ge({mutationFn:({codeId:J,pointIds:Te})=>LE(J,{point_ids:Te}),onSuccess:()=>{i({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),Y([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{i({variant:"error",title:"Atama basarisiz",description:Be(J,"Nokta atamasi yapilamadi.").message})}}),oe=Ge({mutationFn:({codeId:J,pointId:Te})=>DE(J,Te),onSuccess:()=>{i({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{i({variant:"error",title:"Islem basarisiz",description:Be(J,"Nokta kaldirilamadi.").message})}}),Z=Ge({mutationFn:BE,onSuccess:J=>{i({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${J.id}`}),q(Bc),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{i({variant:"error",title:"QR nokta olusturulamadi",description:Be(J,"Islem basarisiz.").message})}}),re=Ge({mutationFn:({pointId:J,payload:Te})=>IE(J,Te),onSuccess:()=>{i({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),v(null),q(Bc),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{i({variant:"error",title:"QR nokta guncellenemedi",description:Be(J,"Islem basarisiz.").message})}}),U=Ge({mutationFn:UE,onSuccess:()=>{i({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:J=>{i({variant:"error",title:"Islem basarisiz",description:Be(J,"Nokta pasife alinamadi.").message})}}),se=X.data??[],he=$.data??[];j.useEffect(()=>{r===null&&se.length>0&&o(se[0].id),r!==null&&!se.some(J=>J.id===r)&&o(se.length>0?se[0].id:null)},[se,r]);const Ee=j.useMemo(()=>se.find(J=>J.id===r)??null,[se,r]);j.useEffect(()=>{if(!Ee){ee(null);return}let J=!1;return Fx.toDataURL(Ee.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Te=>{J||ee(Te)}).catch(()=>{J||ee(null)}),()=>{J=!0}},[Ee?.id,Ee?.code_value]);const W=j.useMemo(()=>{const J=new Map;for(const Te of he)J.set(Te.id,Te);return J},[he]),O=j.useMemo(()=>Ee?Ee.point_ids.map(J=>W.get(J)??null).filter(J=>J!==null):[],[Ee,W]),ie=j.useMemo(()=>{const J=x.trim().toLowerCase();return J?se.filter(Te=>String(Te.id).includes(J)||(Te.name??"").toLowerCase().includes(J)||Te.code_value.toLowerCase().includes(J)):se},[se,x]),P=j.useMemo(()=>{const J=S.trim().toLowerCase();return J?he.filter(Te=>String(Te.id).includes(J)||Te.name.toLowerCase().includes(J)||String(Te.department_id??"").includes(J)||String(Te.region_id??"").includes(J)):he},[he,S]),F=j.useMemo(()=>{const J=he.filter(Ve=>Ve.is_active),Te=C.trim().toLowerCase();return Te?J.filter(Ve=>String(Ve.id).includes(Te)||Ve.name.toLowerCase().includes(Te)||String(Ve.department_id??"").includes(Te)||String(Ve.region_id??"").includes(Te)):J},[he,C]),ye=j.useMemo(()=>{const J=se.filter(kt=>kt.is_active).length,Te=he.filter(kt=>kt.is_active).length,Ve=se.filter(kt=>kt.point_ids.length===0).length;return{codeCount:se.length,activeCodes:J,pointCount:he.length,activePoints:Te,codesWithoutPoint:Ve}},[se,he]),we=j.useMemo(()=>{const J=Number(B.lat);return Number.isFinite(J)?J:null},[B.lat]),ke=j.useMemo(()=>{const J=Number(B.lon);return Number.isFinite(J)?J:null},[B.lon]),Ze=j.useMemo(()=>{const J=Number(B.radiusM);return Number.isFinite(J)&&J>0?J:75},[B.radiusM]),qe=J=>{Y(Te=>Te.includes(J)?Te.filter(Ve=>Ve!==J):[...Te,J])},dt=J=>{f(J.id),A({name:J.name??"",codeValue:J.code_value,codeType:J.code_type,isActive:J.is_active})},it=()=>{f(null),A(Pc)},Bt=()=>{const J=Kx(M.regionCode,"GEN"),Te=Kx(M.locationCode,"LOKASYON"),Ve=Number(M.serialNo),kt=Number.isFinite(Ve)&&Ve>0?Math.floor(Ve):1,Ye=fz(k.codeType),xe=`PF-${J}-${Te}-${Ye}-${String(kt).padStart(6,"0")}`;A(Q=>({...Q,codeValue:xe}))},Mt=J=>{v(J.id),q({name:J.name,lat:String(J.lat),lon:String(J.lon),radiusM:String(J.radius_m),isActive:J.is_active})},Gt=()=>{v(null),q(Bc)},an=J=>{J.preventDefault();const Te=k.codeValue.trim();if(!Te){i({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const Ve={name:k.name.trim()||null,code_value:Te,code_type:k.codeType,is_active:k.isActive};if(d===null){ve.mutate(Ve);return}ae.mutate({codeId:d,payload:Ve})},Yt=J=>{J.preventDefault();const Te=B.name.trim(),Ve=Number(B.lat),kt=Number(B.lon),Ye=Number(B.radiusM);if(!Te){i({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(Ve)||!Number.isFinite(kt)||!Number.isFinite(Ye)||Ye<=0){i({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const xe={name:Te,lat:Ve,lon:kt,radius_m:Ye,is_active:B.isActive};if(p===null){Z.mutate(xe);return}re.mutate({pointId:p,payload:xe})},ln=()=>{if(!Ee){i({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(V.length===0){i({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}ce.mutate({codeId:Ee.id,pointIds:V})},on=async J=>{try{await navigator.clipboard.writeText(J),i({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{i({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},bn=async J=>{try{const Te=await Fx.toDataURL(J.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),Ve=document.createElement("a");Ve.href=Te,Ve.download=`qr-kod-${J.id}.png`,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),i({variant:"success",title:"PNG indirildi",description:`QR kod #${J.id} dosyasi indirildi.`})}catch{i({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return X.isLoading||$.isLoading?l.jsx(Qt,{}):X.isError||$.isError?l.jsx(Me,{children:l.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),l.jsx(Me,{children:l.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_1fr]",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),l.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[l.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),l.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),l.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),l.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),l.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ye.codeCount}),l.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ye.activeCodes]})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ye.pointCount}),l.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ye.activePoints]})]}),l.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[l.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),l.jsx("p",{className:"text-lg font-semibold text-rose-800",children:ye.codesWithoutPoint}),l.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),l.jsxs("form",{className:"mt-3 space-y-3",onSubmit:an,children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",l.jsx("input",{value:k.name,onChange:J=>A(Te=>({...Te,name:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),l.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[l.jsx("input",{value:M.regionCode,onChange:J=>H(Te=>({...Te,regionCode:J.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),l.jsx("input",{value:M.locationCode,onChange:J=>H(Te=>({...Te,locationCode:J.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),l.jsx("input",{type:"number",min:1,value:M.serialNo,onChange:J=>H(Te=>({...Te,serialNo:J.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),l.jsx("button",{type:"button",onClick:Bt,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",l.jsx("input",{value:k.codeValue,onChange:J=>A(Te=>({...Te,codeValue:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",l.jsxs("select",{value:k.codeType,onChange:J=>A(Te=>({...Te,codeType:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),l.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),l.jsx("option",{value:"BOTH",children:"BOTH"})]}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:k.isActive,onChange:J=>A(Te=>({...Te,isActive:J.target.checked}))}),"Aktif"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:ve.isPending||ae.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?l.jsx("button",{type:"button",onClick:it,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),l.jsx("div",{className:"mt-3",children:l.jsx(Cl,{value:x,onChange:_,placeholder:"Kod adi / degeri / ID ara"})}),l.jsx("div",{className:"mt-3 max-h-80 overflow-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"ID"}),l.jsx("th",{className:"px-3 py-2",children:"Kod"}),l.jsx("th",{className:"px-3 py-2",children:"Tip"}),l.jsx("th",{className:"px-3 py-2",children:"Durum"}),l.jsx("th",{className:"px-3 py-2",children:"Nokta"}),l.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),l.jsxs("tbody",{children:[ie.map(J=>l.jsxs("tr",{className:`border-t border-slate-100 ${r===J.id?"bg-brand-50/60":""}`,children:[l.jsx("td",{className:"px-3 py-2",children:J.id}),l.jsxs("td",{className:"px-3 py-2",children:[l.jsx("button",{type:"button",onClick:()=>o(J.id),className:"font-medium text-brand-700 hover:underline",children:J.name||"-"}),l.jsx("div",{className:"text-xs text-slate-500",children:J.code_value})]}),l.jsx("td",{className:"px-3 py-2",children:Hx(J.code_type)}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${J.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:J.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"px-3 py-2",children:J.point_ids.length}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsx("button",{type:"button",onClick:()=>dt(J),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),l.jsx("button",{type:"button",onClick:()=>{bn(J)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},J.id)),ie.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Ee?`3) QR Kod Detay (#${Ee.id})`:"3) QR Kod Detay"}),Ee?l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Ee.name||"-"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Ee.code_value]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Tip:"})," ",Hx(Ee.code_type)]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Ee.is_active?"Aktif":"Pasif"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Ee.point_ids.length]})]}),Ee.point_ids.length===0?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,l.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),l.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Ee.code_value}),G?l.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[l.jsx("img",{src:G,alt:`QR Kod ${Ee.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{bn(Ee)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),l.jsx("button",{type:"button",onClick:()=>{on(Ee.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):l.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),l.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),l.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),O.length===0?l.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):l.jsx("div",{className:"space-y-2",children:O.map(J=>l.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-slate-800",children:["#",J.id," - ",J.name]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",J.lat,", ",J.lon," | radius: ",J.radius_m,"m"]})]}),l.jsx("button",{type:"button",onClick:()=>oe.mutate({codeId:Ee.id,pointId:J.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},J.id))})]}):l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),l.jsx("div",{className:"mt-3",children:l.jsx(Cl,{value:C,onChange:z,placeholder:"Nokta adi / ID ara"})}),l.jsx("div",{className:"mt-3 max-h-56 overflow-auto rounded-lg border border-slate-200 p-2",children:F.length===0?l.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):l.jsx("div",{className:"space-y-1",children:F.map(J=>l.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:V.includes(J.id),onChange:()=>qe(J.id)}),l.jsxs("span",{children:["#",J.id," - ",J.name," (",J.radius_m,"m)"]})]},J.id))})}),l.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",V.length]}),l.jsx("button",{type:"button",onClick:ln,disabled:ce.isPending||Ee===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),l.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Yt,children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",l.jsx("input",{value:B.name,onChange:J=>q(Te=>({...Te,name:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",l.jsx("input",{type:"number",step:"any",value:B.lat,onChange:J=>q(Te=>({...Te,lat:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",l.jsx("input",{type:"number",step:"any",value:B.lon,onChange:J=>q(Te=>({...Te,lon:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l.jsx(dz,{lat:we,lon:ke,radiusM:Ze,onSelect:(J,Te)=>q(Ve=>({...Ve,lat:String(J),lon:String(Te)}))}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",l.jsx("input",{type:"number",min:1,value:B.radiusM,onChange:J=>q(Te=>({...Te,radiusM:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:B.isActive,onChange:J=>q(Te=>({...Te,isActive:J.target.checked}))}),"Aktif"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:Z.isPending||re.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?l.jsx("button",{type:"button",onClick:Gt,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),l.jsx("div",{className:"mt-3",children:l.jsx(Cl,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),l.jsx("div",{className:"mt-3 max-h-96 overflow-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"ID"}),l.jsx("th",{className:"px-3 py-2",children:"Nokta"}),l.jsx("th",{className:"px-3 py-2",children:"Konum"}),l.jsx("th",{className:"px-3 py-2",children:"Durum"}),l.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),l.jsxs("tbody",{children:[P.map(J=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"px-3 py-2",children:J.id}),l.jsxs("td",{className:"px-3 py-2",children:[l.jsx("p",{className:"font-medium text-slate-800",children:J.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",J.radius_m,"m"]})]}),l.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[J.lat,", ",J.lon]}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${J.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:J.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsx("button",{type:"button",onClick:()=>Mt(J),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),J.is_active?l.jsx("button",{type:"button",onClick:()=>U.mutate(J.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},J.id)),P.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const Qx=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function pz(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState(""),[p,v]=j.useState(""),[x,_]=j.useState({}),[S,w]=j.useState(""),[C,z]=j.useState("09:00"),[k,A]=j.useState("17:30"),[M,H]=j.useState("60"),[B,q]=j.useState(!0),[V,Y]=j.useState(null),G=He({queryKey:["departments"],queryFn:Ms}),ee=He({queryKey:["employees","all-for-quick-setup"],queryFn:()=>Ka({include_inactive:!0,status:"all"})}),X=He({queryKey:["department-weekly-rules"],queryFn:()=>X_()}),$=He({queryKey:["department-shifts"],queryFn:()=>su({active_only:!1})}),ve=r?Number(r):null,ae=Ge({mutationFn:({employeeId:P,departmentId:F})=>CE(P,{department_id:F}),onSuccess:P=>{i({variant:"success",title:"Departman atamas gncellendi",description:`${P.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:P=>{i({variant:"error",title:"Departman gncellenemedi",description:Be(P,"lem baarsz.").message})}}),ce=Ge({mutationFn:J_,onSuccess:()=>{i({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:P=>{i({variant:"error",title:"Haftalk kural kaydedilemedi",description:Be(P,"lem baarsz.").message})}}),oe=Ge({mutationFn:$c,onSuccess:()=>{i({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),H("60"),q(!0),Y(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{i({variant:"error",title:"Vardiya kaydedilemedi",description:Be(P,"lem baarsz.").message})}}),Z=Ge({mutationFn:W_,onSuccess:()=>{i({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),V!==null&&(Y(null),w(""),z("09:00"),A("17:30"),H("60"),q(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{i({variant:"error",title:"Vardiya pasife alnamad",description:Be(P,"lem baarsz.").message})}}),re=Ge({mutationFn:({shift:P,nextActive:F})=>$c({id:P.id,department_id:P.department_id,name:P.name,start_time_local:P.start_time_local,end_time_local:P.end_time_local,break_minutes:P.break_minutes,is_active:F}),onSuccess:(P,F)=>{i({variant:"success",title:F.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:F.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{i({variant:"error",title:"Vardiya durumu gncellenemedi",description:Be(P,"lem baarsz.").message})}}),U=G.data??[],se=ee.data??[],he=X.data??[],Ee=$.data??[],W=j.useMemo(()=>new Map(U.map(P=>[P.id,P.name])),[U]),O=j.useMemo(()=>ve?Ee.filter(P=>P.department_id===ve):[],[ve,Ee]),ie=j.useMemo(()=>se.find(P=>String(P.id)===d),[se,d]);return j.useEffect(()=>{if(!ve){_({});return}const P=new Map(he.filter(ye=>ye.department_id===ve).map(ye=>[ye.weekday,ye])),F={};for(const ye of Qx){const we=P.get(ye.value);F[ye.value]={is_workday:we?.is_workday??!0,planned_minutes:String(we?.planned_minutes??540),break_minutes:String(we?.break_minutes??60)}}_(F)},[ve,he]),G.isLoading||ee.isLoading||X.isLoading||$.isLoading?l.jsx(Qt,{}):G.isError||ee.isError||X.isError||$.isError?l.jsx(Ot,{message:"Hzl ayarlar verileri alnamad."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsx(Ha,{label:"alan",employees:se,value:d,onChange:P=>{f(P);const F=se.find(ye=>String(ye.id)===P);v(F?.department_id?String(F.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",l.jsxs("select",{value:p,onChange:P=>v(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Atanmam"}),U.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("p",{children:["Seili alan:"," ",ie?`#${ie.id} - ${ie.full_name}`:"-"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",ie?.department_id?W.get(ie.department_id)??"-":"Atanmam"]})]}),l.jsx("button",{type:"button",disabled:!ie||ae.isPending,onClick:()=>{ie&&ae.mutate({employeeId:ie.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),l.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:r,onChange:P=>o(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seiniz"}),U.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]})]})}),ve?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Gn"}),l.jsx("th",{className:"py-2",children:"alma Gn"}),l.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),l.jsx("th",{className:"py-2",children:"Mola Dakika"}),l.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),l.jsx("tbody",{children:Qx.map(P=>{const F=x[P.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:P.label}),l.jsx("td",{className:"py-2",children:l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:F.is_workday,onChange:ye=>_(we=>({...we,[P.value]:{...F,is_workday:ye.target.checked}}))}),"alma gn"]})}),l.jsx("td",{className:"py-2",children:l.jsx("input",{value:F.planned_minutes,onChange:ye=>_(we=>({...we,[P.value]:{...F,planned_minutes:ye.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),l.jsx("td",{className:"py-2",children:l.jsx("input",{value:F.break_minutes,onChange:ye=>_(we=>({...we,[P.value]:{...F,break_minutes:ye.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),l.jsx("td",{className:"py-2 text-right",children:l.jsx("button",{type:"button",disabled:ce.isPending,onClick:()=>{const ye=Number(F.planned_minutes),we=Number(F.break_minutes);if(!Number.isFinite(ye)||ye<0){i({variant:"error",title:"Geersiz planlanan dakika",description:`${P.label} iin say giriniz.`});return}if(!Number.isFinite(we)||we<0){i({variant:"error",title:"Geersiz mola dakikas",description:`${P.label} iin say giriniz.`});return}ce.mutate({department_id:ve,weekday:P.value,is_workday:F.is_workday,planned_minutes:Math.trunc(ye),break_minutes:Math.trunc(we)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},P.value)})})]})}):l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),ve?l.jsxs(l.Fragment,{children:[l.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:P=>{if(P.preventDefault(),!S.trim()){i({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const F=Number(M);if(!Number.isFinite(F)||F<0){i({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}oe.mutate({id:V??void 0,department_id:ve,name:S.trim(),start_time_local:C,end_time_local:k,break_minutes:Math.trunc(F),is_active:B})},children:[V?l.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",V]}):null,l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",l.jsx("input",{value:S,onChange:P=>w(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",l.jsx("input",{type:"time",value:C,onChange:P=>z(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",l.jsx("input",{type:"time",value:k,onChange:P=>A(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",l.jsx("input",{value:M,onChange:P=>H(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:B,onChange:P=>q(P.target.checked)}),"Aktif"]}),l.jsx("button",{type:"submit",disabled:oe.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:oe.isPending?"Kaydediliyor...":V?"Vardiya Gncelle":"Vardiya Kaydet"}),V?l.jsx("button",{type:"button",onClick:()=>{Y(null),w(""),z("09:00"),A("17:30"),H("60"),q(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Saat Aral"}),l.jsx("th",{className:"py-2",children:"Mola"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),l.jsx("tbody",{children:O.map(P=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:P.name}),l.jsxs("td",{className:"py-2",children:[P.start_time_local," - ",P.end_time_local]}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:P.break_minutes})}),l.jsx("td",{className:"py-2",children:P.is_active?"Aktif":"Pasif"}),l.jsx("td",{className:"py-2 text-right",children:l.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{Y(P.id),w(P.name),z(P.start_time_local),A(P.end_time_local),H(String(P.break_minutes)),q(P.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),P.is_active?l.jsx("button",{type:"button",disabled:Z.isPending||re.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&Z.mutate(P.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):l.jsx("button",{type:"button",disabled:re.isPending||Z.isPending,onClick:()=>re.mutate({shift:P,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},P.id))})]})}),O.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const Vx=Ji({name:Gi().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:gd()});function Gx(t){return Pt.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Be(t,"Bolge islemi basarisiz.").message}function gz(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState(!0),[p,v]=j.useState(""),[x,_]=j.useState(!0),[S,w]=j.useState(null),[C,z]=j.useState(""),[k,A]=j.useState(!0),[M,H]=j.useState(null),B=He({queryKey:["regions",x],queryFn:()=>dd({include_inactive:x})}),q=Ge({mutationFn:gE,onSuccess:X=>{o(""),f(!0),H(null),i({variant:"success",title:"Bolge olusturuldu",description:`${X.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:X=>{const $=Gx(X);H($),i({variant:"error",title:"Bolge olusturulamadi",description:$})}}),V=Ge({mutationFn:({regionId:X,payload:$})=>yE(X,$),onSuccess:X=>{H(null),w(null),z(""),A(!0),i({variant:"success",title:"Bolge guncellendi",description:`${X.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:X=>{const $=Gx(X);H($),i({variant:"error",title:"Bolge guncellenemedi",description:$})}}),Y=X=>{X.preventDefault(),H(null);const $=Vx.safeParse({name:r,is_active:d});if(!$.success){const ve=$.error.issues[0]?.message??"Bolge formunu kontrol edin.";H(ve);return}q.mutate($.data)},G=X=>{if(X.preventDefault(),H(null),!S)return;const $=Vx.safeParse({name:C,is_active:k});if(!$.success){const ve=$.error.issues[0]?.message??"Bolge formunu kontrol edin.";H(ve);return}V.mutate({regionId:S,payload:$.data})},ee=j.useMemo(()=>{const X=B.data??[],$=p.trim().toLowerCase();return $?X.filter(ve=>ve.name.toLowerCase().includes($)):X},[B.data,p]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),l.jsxs(Me,{children:[l.jsxs("form",{onSubmit:Y,className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",l.jsx("input",{value:r,onChange:X=>o(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:X=>f(X.target.checked)}),"Aktif"]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{type:"submit",disabled:q.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:q.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),M?l.jsx("p",{className:"form-validation mt-2",children:M}):null]}),S?l.jsxs(Me,{children:[l.jsxs("form",{onSubmit:G,className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",l.jsx("input",{value:C,onChange:X=>z(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:k,onChange:X=>A(X.target.checked)}),"Aktif"]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("button",{type:"submit",disabled:V.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:V.isPending?"Guncelleniyor...":"Kaydet"}),l.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),H(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),M?l.jsx("p",{className:"form-validation mt-2",children:M}):null]}):null,B.isLoading?l.jsx(Qt,{}):null,B.isError?l.jsx(Ot,{message:"Bolge listesi alinamadi."}):null,!B.isLoading&&!B.isError?l.jsxs(Me,{children:[l.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsx(Cl,{value:p,onChange:v,placeholder:"Bolge adina gore ara..."}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:x,onChange:X=>_(X.target.checked)}),"Pasif bolgeleri goster"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Bolge ID"}),l.jsx("th",{className:"py-2",children:"Bolge Adi"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:ee.map(X=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:X.id}),l.jsx("td",{className:"py-2",children:X.name}),l.jsx("td",{className:"py-2",children:l.jsx(Os,{value:X.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>{w(X.id),z(X.name),A(X.is_active),H(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},X.id))})]})}),ee.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}const wl={action:"",entityType:"",entityId:"",success:"all",limit:"300"},yz=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],vz={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function xz(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function _z(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function bz(t){return t?"Baarl":"Hata"}function Nz(t){const i=Object.entries(t);return i.length===0?"-":i.slice(0,3).map(([r,o])=>`${r}: ${String(o)}`).join(" | ")}function Sz(t){return vz[t]??t}function jz(t){const i=Number(t.limit),r=Number.isInteger(i)&&i>0?Math.min(i,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:r}}function wz(t){const i=`${t.actor_type}:${t.actor_id}`,r=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${_z(t.ts_utc)}] ${t.action} actor=${i} entity=${r} ip=${o}`}function Ez(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function Tz(){const[t,i]=j.useState(wl),[r,o]=j.useState(wl),[d,f]=j.useState(""),[p,v]=j.useState(!0),[x,_]=j.useState(""),[S,w]=j.useState(null),[C,z]=j.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),k=j.useRef(2),A=j.useRef(null),M=j.useMemo(()=>jz(r),[r]),H=He({queryKey:["audit-logs",M],queryFn:()=>t0(M),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),B=H.data??[],q=j.useMemo(()=>{if(!d.trim())return B;const ae=d.trim().toLowerCase();return B.filter(ce=>[ce.action,ce.actor_type,ce.actor_id,ce.entity_type??"",ce.entity_id??"",ce.ip??"",ce.user_agent??"",JSON.stringify(ce.details)].join(" ").toLowerCase().includes(ae))},[B,d]),V=j.useMemo(()=>{if(S!==null){const ae=q.find(ce=>ce.id===S);if(ae)return ae}return q[0]??null},[S,q]),Y=j.useMemo(()=>{const ae=B.filter(Z=>!Z.success).length,ce=B.filter(Z=>Z.action.startsWith("ADMIN_LOGIN")).length,oe=B.filter(Z=>Z.action==="ATTENDANCE_EVENT_CREATED").length;return{total:B.length,failed:ae,loginEvents:ce,attendanceEvents:oe}},[B]);j.useEffect(()=>{!V&&S!==null&&w(null)},[V,S]),j.useEffect(()=>{!p||A.current===null||(A.current.scrollTop=A.current.scrollHeight)},[p,q,C]);const G=(ae,ce)=>{z(oe=>{const Z=[...oe,{id:k.current,level:ae,text:ce}];return k.current+=1,Z.slice(-120)})},ee=ae=>{ae.preventDefault(),o({...t}),G("success","Filtreler uyguland.")},X=()=>{i(wl),o(wl),f(""),G("info","Filtreler temizlendi.")},$=ae=>{const ce=ae.trim();if(!ce)return;G("info",`$ ${ce}`);const[oe,...Z]=ce.split(/\s+/),re=oe.toLowerCase(),U=ce.slice(oe.length).trim();if(re==="help"||re==="yardim"||re==="yardm"){G("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(re==="clear"||re==="temizle"){z([]),k.current=1,G("success","Terminal kt gemii temizlendi.");return}if(re==="apply"||re==="uygula"){o({...t}),G("success","Taslak filtreler uyguland.");return}if(re==="reset"||re==="sifirla"||re==="sfrla"){i(wl),o(wl),f(""),G("warning","Filtreler sfrland.");return}if(re==="refresh"||re==="yenile"){H.refetch(),G("success","Log verisi yeniden ekiliyor.");return}if(re==="follow"||re==="takip"){const se=Z[0]?.toLowerCase();if(se==="on"||se==="ac"||se==="a"){v(!0),G("success","Canl takip ald.");return}if(se==="off"||se==="kapat"){v(!1),G("warning","Canl takip kapatld.");return}G("error","Kullanm: follow on|off");return}if(re==="status"||re==="durum"){const se=Z[0]?.toLowerCase();let he=null;if((se==="all"||se==="tum"||se==="tm")&&(he="all"),(se==="success"||se==="ok"||se==="basarili"||se==="baarl")&&(he="success"),(se==="failed"||se==="error"||se==="hata")&&(he="failed"),he===null){G("error","Kullanm: status all|success|failed");return}i(Ee=>({...Ee,success:he})),o(Ee=>({...Ee,success:he})),G("success",`Durum filtresi gncellendi: ${he}`);return}if(re==="action"||re==="aksiyon"){if(!U){G("error","Kullanm: action <AKSIYON_KODU>");return}i(se=>({...se,action:U})),o(se=>({...se,action:U})),G("success",`Aksiyon filtresi gncellendi: ${U}`);return}if(re==="search"||re==="ara"){f(U),G("success",U?`Metin aramas uyguland: "${U}"`:"Metin aramas temizlendi.");return}if(re==="limit"){const se=Number(Z[0]);if(!Number.isFinite(se)||se<=0){G("error","Kullanm: limit <1-500>");return}const he=Math.min(Math.max(Math.trunc(se),1),500);i(Ee=>({...Ee,limit:String(he)})),o(Ee=>({...Ee,limit:String(he)})),G("success",`Limit gncellendi: ${he}`);return}G("error",`Bilinmeyen komut: ${re}. Yardm iin "help" yazn.`)},ve=ae=>{ae.preventDefault(),$(x),_("")};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),l.jsxs(Me,{children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.total})]}),l.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),l.jsx("p",{className:"text-sm font-semibold text-rose-800",children:Y.failed})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.loginEvents})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.attendanceEvents})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{v(ae=>!ae),G("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),l.jsx("button",{type:"button",onClick:()=>{H.refetch(),G("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),l.jsx("button",{type:"button",onClick:X,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("form",{className:"mt-3 space-y-3",onSubmit:ee,children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",l.jsx("select",{value:t.action,onChange:ae=>i(ce=>({...ce,action:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:yz.map(ae=>l.jsx("option",{value:ae.value,children:ae.label},ae.label))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",l.jsx("input",{type:"text",value:t.entityType,onChange:ae=>i(ce=>({...ce,entityType:ae.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",l.jsx("input",{type:"text",value:t.entityId,onChange:ae=>i(ce=>({...ce,entityId:ae.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",l.jsxs("select",{value:t.success,onChange:ae=>i(ce=>({...ce,success:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"all",children:"Tm"}),l.jsx("option",{value:"success",children:"Baarl"}),l.jsx("option",{value:"failed",children:"Hata"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",l.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:ae=>i(ce=>({...ce,limit:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",l.jsx("input",{type:"text",value:d,onChange:ae=>f(ae.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:X,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),l.jsxs(Me,{children:[H.isLoading?l.jsx(Qt,{label:"Log kaytlar ykleniyor..."}):null,H.isError?l.jsx(Ot,{message:Be(H.error,"Log kaytlar alnamad.").message}):null,!H.isLoading&&!H.isError?l.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[l.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),l.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),l.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",q.length," kayt"]})]}),l.jsx("form",{onSubmit:ve,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:l.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[l.jsx("span",{children:"admin@audit:~$"}),l.jsx("input",{value:x,onChange:ae=>_(ae.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),l.jsxs("div",{ref:A,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[C.map(ae=>l.jsx("p",{className:`leading-6 ${Ez(ae.level)}`,children:ae.text},ae.id)),q.map(ae=>{const ce=V?.id===ae.id;return l.jsxs("button",{type:"button",onClick:()=>w(ae.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${ce?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[l.jsx("span",{className:ae.success?"text-emerald-300":"text-rose-300",children:ae.success?"[OK]":"[ERR]"})," ",l.jsx("span",{className:"text-slate-200",children:wz(ae)})]},ae.id)}),q.length===0?l.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),l.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),V===null?l.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Sz(V.action)}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:V.action})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",xz(V.ts_utc)]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",V.actor_type,":",V.actor_id]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Durum:"})," ",bz(V.success)]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",V.entity_type??"-",V.entity_id?` #${V.entity_id}`:""]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"IP:"})," ",V.ip??"-"]}),l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",V.user_agent??"-"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",Nz(V.details)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),l.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(V.details,null,2)})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[l.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),l.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const Cz=Ji({department_id:mn().int().positive(),daily_minutes_planned:mn().int().nonnegative(),break_minutes:mn().int().nonnegative(),grace_minutes:mn().int().nonnegative()}),kz=Ji({department_id:mn().int().positive(),weekday:mn().int().min(0).max(6),is_workday:gd(),planned_minutes:mn().int().nonnegative(),break_minutes:mn().int().nonnegative()}),Az=Ji({department_id:mn().int().positive(),name:Gi().min(1).max(100),start_time_local:Gi().regex(/^\d{2}:\d{2}$/),end_time_local:Gi().regex(/^\d{2}:\d{2}$/),break_minutes:mn().int().nonnegative(),is_active:gd()}),Yx=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],zz=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],Oz={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function $f(t){const i=t.trim();if(!i)return null;const r=Number(i);return!Number.isFinite(r)||r<0?null:Math.trunc(r)}function Mz(t,i){const r=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:r.length>0?r[0]:null,target_employee_ids:r,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:i,note:t.note}}function Rz(){const t=Bn(),{pushToast:i}=Hn(),[r,o]=j.useState(""),[d,f]=j.useState("540"),[p,v]=j.useState("60"),[x,_]=j.useState("5"),[S,w]=j.useState(""),[C,z]=j.useState("0"),[k,A]=j.useState(!0),[M,H]=j.useState("540"),[B,q]=j.useState("60"),[V,Y]=j.useState(""),[G,ee]=j.useState(""),[X,$]=j.useState("10:00"),[ve,ae]=j.useState("18:00"),[ce,oe]=j.useState("60"),[Z,re]=j.useState(!0),[U,se]=j.useState(null),[he,Ee]=j.useState(null),[W,O]=j.useState(""),[ie,P]=j.useState("DEPARTMENT"),[F,ye]=j.useState([]),[we,ke]=j.useState(""),[Ze,qe]=j.useState(""),[dt,it]=j.useState(""),[Bt,Mt]=j.useState(""),[Gt,an]=j.useState(""),[Yt,ln]=j.useState(new Date().toISOString().slice(0,10)),[on,bn]=j.useState(new Date().toISOString().slice(0,10)),[J,Te]=j.useState(!1),[Ve,kt]=j.useState(!0),[Ye,xe]=j.useState(""),[Q,Ae]=j.useState(!0),[St,$e]=j.useState(null),pn=He({queryKey:["departments"],queryFn:Ms}),le=He({queryKey:["employees","all"],queryFn:()=>Ka({status:"all"})}),Xe=He({queryKey:["work-rules"],queryFn:AE}),yt=He({queryKey:["department-weekly-rules"],queryFn:()=>X_()}),Rt=He({queryKey:["department-shifts"],queryFn:()=>su()}),zn=He({queryKey:["schedule-plans","all"],queryFn:()=>ZE({active_only:!1})}),gn=Ge({mutationFn:zE,onSuccess:()=>{$e(null),i({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:R=>{const ze=Be(R,"Mesai kurali kaydedilemedi.");$e(ze.message),i({variant:"error",title:"Mesai kurali kaydedilemedi",description:ze.message})}}),Ri=Ge({mutationFn:J_,onSuccess:()=>{$e(null),i({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:R=>{const ze=Be(R,"Haftalik plan kaydedilemedi.");$e(ze.message),i({variant:"error",title:"Haftalik plan kaydedilemedi",description:ze.message})}}),Ds=Ge({mutationFn:$c,onSuccess:()=>{$e(null),se(null),ee(""),$("10:00"),ae("18:00"),oe("60"),re(!0),i({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{const ze=Be(R,"Vardiya kaydedilemedi.");$e(ze.message),i({variant:"error",title:"Vardiya kaydedilemedi",description:ze.message})}}),Ps=Ge({mutationFn:W_,onSuccess:()=>{$e(null),U!==null&&(se(null),ee(""),$("10:00"),ae("18:00"),oe("60"),re(!0)),i({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{const ze=Be(R,"Vardiya pasife alinamadi.");$e(ze.message),i({variant:"error",title:"Vardiya pasife alinamadi",description:ze.message})}}),Li=Ge({mutationFn:({shift:R,nextActive:ze})=>$c({id:R.id,department_id:R.department_id,name:R.name,start_time_local:R.start_time_local,end_time_local:R.end_time_local,break_minutes:R.break_minutes,is_active:ze}),onSuccess:(R,ze)=>{$e(null),i({variant:"success",title:ze.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:ze.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{const ze=Be(R,"Vardiya durumu guncellenemedi.");$e(ze.message),i({variant:"error",title:"Vardiya durumu guncellenemedi",description:ze.message})}}),Di=Ge({mutationFn:zv,onSuccess:()=>{$e(null),i({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),Ee(null),ye([]),qe(""),it(""),Mt(""),an(""),Te(!1),kt(!0),xe("")},onError:R=>{const ze=Be(R,"Planlama kaydedilemedi.");$e(ze.message),i({variant:"error",title:"Planlama kaydedilemedi",description:ze.message})}}),Wi=Ge({mutationFn:qE,onSuccess:()=>{$e(null),i({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:R=>{const ze=Be(R,"Planlama iptal edilemedi.");$e(ze.message),i({variant:"error",title:"Planlama iptal edilemedi",description:ze.message})}}),vi=Ge({mutationFn:R=>zv(Mz(R,!0)),onSuccess:()=>{$e(null),i({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:R=>{const ze=Be(R,"Plan aktif edilemedi.");$e(ze.message),i({variant:"error",title:"Plan aktif edilemedi",description:ze.message})}}),ea=j.useMemo(()=>{const R=Number(d),ze=Number(p),ht=Number(x);return{daily:Hc(R),breakValue:Hc(ze),grace:Hc(ht)}},[d,p,x]);if(pn.isLoading||le.isLoading||Xe.isLoading||yt.isLoading||Rt.isLoading||zn.isLoading)return l.jsx(Qt,{});if(pn.isError||le.isError||Xe.isError||yt.isError||Rt.isError||zn.isError)return l.jsx(Ot,{message:"Mesai kurali verileri alinamadi."});const si=pn.data??[],Or=le.data??[],Mr=Xe.data??[],Bs=yt.data??[],ri=Rt.data??[],Dl=zn.data??[],va=new Map(si.map(R=>[R.id,R.name])),Rr=new Map(Or.map(R=>[R.id,R.full_name])),Lr=new Map(ri.map(R=>[R.id,R.name])),On=Dl.filter(R=>Q||R.is_active),Re=Number(W),Is=Number.isFinite(Re)?ri.filter(R=>R.department_id===Re):[],Qa=Number.isFinite(Re)?Or.filter(R=>R.department_id===Re):[],li=we.trim()?Qa.filter(R=>{const ze=we.trim().toLowerCase();return R.full_name.toLowerCase().includes(ze)||String(R.id).includes(ze.replace("#",""))}):Qa,$t=()=>{Ee(null),P("DEPARTMENT"),ye([]),ke(""),qe(""),it(""),Mt(""),an(""),ln(new Date().toISOString().slice(0,10)),bn(new Date().toISOString().slice(0,10)),Te(!1),kt(!0),xe("")},un=R=>{const ze=R.target_employee_ids&&R.target_employee_ids.length>0?R.target_employee_ids:R.target_employee_id?[R.target_employee_id]:[];Ee(R.id),O(String(R.department_id)),P(R.target_type),ye(ze),ke(""),qe(R.shift_id?String(R.shift_id):""),it(R.daily_minutes_planned!==null?String(R.daily_minutes_planned):""),Mt(R.break_minutes!==null?String(R.break_minutes):""),an(R.grace_minutes!==null?String(R.grace_minutes):""),ln(R.start_date),bn(R.end_date),Te(R.is_locked),kt(R.is_active),xe(R.note??"")},Pi=R=>{R.preventDefault(),$e(null);const ze=Cz.safeParse({department_id:r,daily_minutes_planned:d,break_minutes:p,grace_minutes:x});if(!ze.success){const ht=ze.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";$e(ht),i({variant:"error",title:"Form hatasi",description:ht});return}gn.mutate(ze.data)},xi=R=>{R.preventDefault(),$e(null);const ze=kz.safeParse({department_id:S,weekday:C,is_workday:k,planned_minutes:M,break_minutes:B});if(!ze.success){const ht=ze.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";$e(ht),i({variant:"error",title:"Form hatasi",description:ht});return}Ri.mutate(ze.data)},Dr=R=>{R.preventDefault(),$e(null);const ze=Az.safeParse({department_id:V,name:G.trim(),start_time_local:X,end_time_local:ve,break_minutes:ce,is_active:Z});if(!ze.success){const ht=ze.error.issues[0]?.message??"Vardiya formunu kontrol edin.";$e(ht),i({variant:"error",title:"Form hatasi",description:ht});return}Ds.mutate({id:U??void 0,...ze.data})},Pl=R=>{se(R.id),Y(String(R.department_id)),ee(R.name),$(R.start_time_local),ae(R.end_time_local),oe(String(R.break_minutes)),re(R.is_active),$e(null)},Pr=()=>{se(null),ee(""),$("10:00"),ae("18:00"),oe("60"),re(!0),$e(null)},xa=R=>{R.preventDefault(),$e(null);const ze=Number(W);if(!Number.isFinite(ze)||ze<=0){$e("Planlama icin departman secmelisiniz.");return}if(!Yt||!on){$e("Baslangic ve bitis tarihi zorunludur.");return}if(Yt>on){$e("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const ht=ie==="DEPARTMENT"?[]:[...F];if(ie!=="DEPARTMENT"&&ht.length===0){$e("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Mn=Ze?Number(Ze):null,Bi=$f(dt),Ht=$f(Bt),Us=$f(Gt);if(!Mn&&Bi===null&&Ht===null&&Us===null){$e("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}Di.mutate({id:he??void 0,department_id:ze,target_type:ie,target_employee_id:ht.length>0?ht[0]:null,target_employee_ids:ht,shift_id:Mn,daily_minutes_planned:Bi,break_minutes:Ht,grace_minutes:Us,start_date:Yt,end_date:on,is_locked:J,is_active:Ve,note:Ye.trim()||null})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(An,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),l.jsxs("form",{onSubmit:Pi,className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:r,onChange:R=>o(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),si.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",l.jsx("input",{value:d,onChange:R=>f(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",l.jsx("input",{value:p,onChange:R=>v(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",l.jsx("input",{value:x,onChange:R=>_(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",ea.daily," | Mola ",ea.breakValue," | Tolerans ",ea.grace]}),l.jsx("div",{className:"md:col-span-4",children:l.jsx("button",{type:"submit",disabled:gn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:gn.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),l.jsxs("form",{onSubmit:xi,className:"mt-3 grid gap-3 md:grid-cols-5",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:S,onChange:R=>w(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),si.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",l.jsx("select",{value:C,onChange:R=>z(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:Yx.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",l.jsx("input",{value:M,onChange:R=>H(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",l.jsx("input",{value:B,onChange:R=>q(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:k,onChange:R=>A(R.target.checked)}),"Calisma Gunu"]}),l.jsx("div",{className:"md:col-span-5",children:l.jsx("button",{type:"submit",disabled:Ri.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ri.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Gun"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Planlanan Sure"}),l.jsx("th",{className:"py-2",children:"Mola"})]})}),l.jsx("tbody",{children:Bs.map(R=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:Yx.find(ze=>ze.value===R.weekday)?.label??R.weekday}),l.jsx("td",{className:"py-2",children:R.is_workday?"Calisma":"Off"}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:R.planned_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:R.break_minutes})})]},R.id))})]})})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),U?l.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",U]}):null,l.jsxs("form",{onSubmit:Dr,className:"mt-3 grid gap-3 md:grid-cols-6",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:V,onChange:R=>Y(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),si.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",l.jsx("input",{value:G,onChange:R=>ee(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",l.jsx("input",{type:"time",value:X,onChange:R=>$(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",l.jsx("input",{type:"time",value:ve,onChange:R=>ae(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",l.jsx("input",{value:ce,onChange:R=>oe(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:Z,onChange:R=>re(R.target.checked)}),"Aktif"]}),l.jsx("div",{className:"md:col-span-6",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"submit",disabled:Ds.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ds.isPending?"Kaydediliyor...":U?"Vardiya Guncelle":"Vardiya Kaydet"}),U?l.jsx("button",{type:"button",onClick:Pr,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Saat"}),l.jsx("th",{className:"py-2",children:"Mola"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),l.jsx("tbody",{children:ri.map(R=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:R.name}),l.jsxs("td",{className:"py-2",children:[R.start_time_local," - ",R.end_time_local]}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:R.break_minutes})}),l.jsx("td",{className:"py-2",children:R.is_active?"Aktif":"Pasif"}),l.jsx("td",{className:"py-2 text-right",children:l.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Pl(R),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),R.is_active?l.jsx("button",{type:"button",disabled:Ps.isPending||Li.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Ps.mutate(R.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):l.jsx("button",{type:"button",disabled:Li.isPending||Ps.isPending,onClick:()=>Li.mutate({shift:R,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},R.id))})]})})]}),l.jsxs(Me,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:Q,onChange:R=>Ae(R.target.checked)}),"Pasif planlari goster"]})]}),l.jsxs("form",{onSubmit:xa,className:"mt-4 grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:W,onChange:R=>{O(R.target.value),ye([]),qe("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),si.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",l.jsx("select",{value:ie,onChange:R=>{const ze=R.target.value;P(ze),ze==="DEPARTMENT"&&ye([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:zz.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",l.jsx("input",{type:"text",value:we,onChange:R=>ke(R.target.value),disabled:ie==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),l.jsx("select",{multiple:!0,value:F.map(String),onChange:R=>{const ze=Array.from(R.target.selectedOptions).map(ht=>Number(ht.value));ye(ze.filter(ht=>Number.isFinite(ht)&&ht>0))},disabled:ie==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:li.map(R=>l.jsxs("option",{value:R.id,children:["#",R.id," - ",R.full_name]},R.id))}),l.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",l.jsxs("select",{value:Ze,onChange:R=>qe(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),Is.map(R=>l.jsxs("option",{value:R.id,children:[R.name," (",R.start_time_local," - ",R.end_time_local,")"]},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",l.jsx("input",{value:dt,onChange:R=>it(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",l.jsx("input",{value:Bt,onChange:R=>Mt(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",l.jsx("input",{value:Gt,onChange:R=>an(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",l.jsx("input",{type:"date",value:Yt,onChange:R=>ln(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",l.jsx("input",{type:"date",value:on,onChange:R=>bn(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:J,onChange:R=>Te(R.target.checked)}),"Vardiya kilitli"]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:Ve,onChange:R=>kt(R.target.checked)}),"Aktif"]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",l.jsx("input",{value:Ye,onChange:R=>xe(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:Di.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Di.isPending?"Kaydediliyor...":he?"Plani Guncelle":"Plan Olustur"}),l.jsx("button",{type:"button",onClick:$t,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Hedef"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Plan/Mola"}),l.jsx("th",{className:"py-2",children:"Tarih Araligi"}),l.jsx("th",{className:"py-2",children:"Kilit"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),l.jsx("tbody",{children:On.map(R=>{const ht=(R.target_employee_ids&&R.target_employee_ids.length>0?R.target_employee_ids:R.target_employee_id?[R.target_employee_id]:[]).map(Mn=>Rr.get(Mn)??`#${Mn}`);return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:Oz[R.target_type]}),ht.length>0?l.jsx("span",{className:"text-xs text-slate-500",children:ht.join(", ")}):null]})}),l.jsx("td",{className:"py-2",children:R.shift_id?Lr.get(R.shift_id)??`#${R.shift_id}`:"-"}),l.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[l.jsxs("div",{children:["Plan: ",R.daily_minutes_planned!==null?`${R.daily_minutes_planned} dk`:"-"]}),l.jsxs("div",{children:["Mola: ",R.break_minutes!==null?`${R.break_minutes} dk`:"-"]}),l.jsxs("div",{children:["Tolerans: ",R.grace_minutes!==null?`${R.grace_minutes} dk`:"-"]})]}),l.jsxs("td",{className:"py-2",children:[R.start_date," - ",R.end_date]}),l.jsx("td",{className:"py-2",children:R.is_locked?"Kilitli":"Serbest"}),l.jsx("td",{className:"py-2",children:R.is_active?"Aktif":"Pasif"}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>un(R),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),R.is_active?l.jsx("button",{type:"button",onClick:()=>Wi.mutate(R.id),disabled:Wi.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):l.jsx("button",{type:"button",onClick:()=>vi.mutate(R),disabled:vi.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},R.id)})})]})})]}),l.jsxs(Me,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),l.jsx("th",{className:"py-2",children:"Mola Suresi"}),l.jsx("th",{className:"py-2",children:"Tolerans"})]})}),l.jsx("tbody",{children:Mr.map(R=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:R.daily_minutes_planned})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:R.break_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(Ct,{minutes:R.grace_minutes})})]},R.id))})]})})]}),St?l.jsx("p",{className:"form-validation",children:St}):null]})}function Lz(){return l.jsxs(WS,{children:[l.jsx(Zt,{element:l.jsx(h1,{}),children:l.jsx(Zt,{path:"/login",element:l.jsx(IA,{})})}),l.jsx(Zt,{element:l.jsx(d1,{}),children:l.jsxs(Zt,{element:l.jsx(c1,{}),children:[l.jsx(Zt,{path:"/",element:l.jsx(km,{to:"/dashboard",replace:!0})}),l.jsx(Zt,{path:"/dashboard",element:l.jsx(lA,{})}),l.jsx(Zt,{path:"/regions",element:l.jsx(gz,{})}),l.jsx(Zt,{path:"/departments",element:l.jsx(fA,{})}),l.jsx(Zt,{path:"/employees",element:l.jsx(RA,{})}),l.jsx(Zt,{path:"/employees/:id",element:l.jsx(TA,{})}),l.jsx(Zt,{path:"/quick-setup",element:l.jsx(pz,{})}),l.jsx(Zt,{path:"/work-rules",element:l.jsx(Rz,{})}),l.jsx(Zt,{path:"/attendance-events",element:l.jsx(S1,{})}),l.jsx(Zt,{path:"/devices",element:l.jsx(pA,{})}),l.jsx(Zt,{path:"/compliance-settings",element:l.jsx(gA,{})}),l.jsx(Zt,{path:"/leaves",element:l.jsx(DA,{})}),l.jsx(Zt,{path:"/qr-kodlar",element:l.jsx(mz,{})}),l.jsx(Zt,{path:"/reports/employee-monthly",element:l.jsx(OA,{})}),l.jsx(Zt,{path:"/reports/department-summary",element:l.jsx(hA,{})}),l.jsx(Zt,{path:"/reports/excel-export",element:l.jsx(ZA,{})}),l.jsx(Zt,{path:"/audit-logs",element:l.jsx(Tz,{})}),l.jsx(Zt,{path:"/admin-users",element:l.jsx(vA,{})})]})}),l.jsx(Zt,{path:"*",element:l.jsx(UA,{})})]})}const Dz=new ZN({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});yN.createRoot(document.getElementById("root")).render(l.jsx(uN.StrictMode,{children:l.jsx(qN,{client:Dz,children:l.jsx(Sj,{basename:"/admin-panel/",children:l.jsx(v1,{children:l.jsx(l1,{children:l.jsx(Lz,{})})})})})}));
