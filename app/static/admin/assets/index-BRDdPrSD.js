(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=r(d);fetch(d.href,m)}})();function td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rh={exports:{}},Lo={};var Iy;function iN(){if(Iy)return Lo;Iy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var v in d)v!=="key"&&(m[v]=d[v])}else m=d;return d=m.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:m}}return Lo.Fragment=i,Lo.jsx=r,Lo.jsxs=r,Lo}var Uy;function aN(){return Uy||(Uy=1,rh.exports=iN()),rh.exports}var l=aN(),lh={exports:{}},Ge={};var Zy;function sN(){if(Zy)return Ge;Zy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,M={};function H(k,Y,F){this.props=k,this.context=Y,this.refs=M,this.updater=F||A}H.prototype.isReactComponent={},H.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},H.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=H.prototype;function Z(k,Y,F){this.props=k,this.context=Y,this.refs=M,this.updater=F||A}var Q=Z.prototype=new I;Q.constructor=Z,z(Q,H.prototype),Q.isPureReactComponent=!0;var X=Array.isArray;function V(){}var ee={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function J(k,Y,F){var W=F.ref;return{$$typeof:t,type:k,key:Y,ref:W!==void 0?W:null,props:F}}function ue(k,Y){return J(k.type,Y,k.props)}function ae(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function ce(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(F){return Y[F]})}var de=/\/+/g;function q(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?ce(""+k.key):Y.toString(36)}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(V,V):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function U(k,Y,F,W,ge){var we=typeof k;(we==="undefined"||we==="boolean")&&(k=null);var Ce=!1;if(k===null)Ce=!0;else switch(we){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(k.$$typeof){case t:case i:Ce=!0;break;case S:return Ce=k._init,U(Ce(k._payload),Y,F,W,ge)}}if(Ce)return ge=ge(k),Ce=W===""?"."+q(k,0):W,X(ge)?(F="",Ce!=null&&(F=Ce.replace(de,"$&/")+"/"),U(ge,Y,F,"",function(Tt){return Tt})):ge!=null&&(ae(ge)&&(ge=ue(ge,F+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(de,"$&/")+"/")+Ce)),Y.push(ge)),1;Ce=0;var Ke=W===""?".":W+":";if(X(k))for(var qe=0;qe<k.length;qe++)W=k[qe],we=Ke+q(W,qe),Ce+=U(W,Y,F,we,ge);else if(qe=O(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(W=k.next()).done;)W=W.value,we=Ke+q(W,qe++),Ce+=U(W,Y,F,we,ge);else if(we==="object"){if(typeof k.then=="function")return U(se(k),Y,F,W,ge);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function P(k,Y,F){if(k==null)return k;var W=[],ge=0;return U(k,W,"","",function(we){return Y.call(F,we,ge++)}),W}function re(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(F){(k._status===0||k._status===-1)&&(k._status=1,k._result=F)},function(F){(k._status===0||k._status===-1)&&(k._status=2,k._result=F)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var Ee=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Se={map:P,forEach:function(k,Y,F){P(k,function(){Y.apply(this,arguments)},F)},count:function(k){var Y=0;return P(k,function(){Y++}),Y},toArray:function(k){return P(k,function(Y){return Y})||[]},only:function(k){if(!ae(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ge.Activity=E,Ge.Children=Se,Ge.Component=H,Ge.Fragment=r,Ge.Profiler=d,Ge.PureComponent=Z,Ge.StrictMode=o,Ge.Suspense=_,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ee.H.useMemoCache(k)}},Ge.cache=function(k){return function(){return k.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(k,Y,F){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var W=z({},k.props),ge=k.key;if(Y!=null)for(we in Y.key!==void 0&&(ge=""+Y.key),Y)!$.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(W[we]=Y[we]);var we=arguments.length-2;if(we===1)W.children=F;else if(1<we){for(var Ce=Array(we),Ke=0;Ke<we;Ke++)Ce[Ke]=arguments[Ke+2];W.children=Ce}return J(k.type,ge,W)},Ge.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:m,_context:k},k},Ge.createElement=function(k,Y,F){var W,ge={},we=null;if(Y!=null)for(W in Y.key!==void 0&&(we=""+Y.key),Y)$.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ge[W]=Y[W]);var Ce=arguments.length-2;if(Ce===1)ge.children=F;else if(1<Ce){for(var Ke=Array(Ce),qe=0;qe<Ce;qe++)Ke[qe]=arguments[qe+2];ge.children=Ke}if(k&&k.defaultProps)for(W in Ce=k.defaultProps,Ce)ge[W]===void 0&&(ge[W]=Ce[W]);return J(k,we,ge)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(k){return{$$typeof:v,render:k}},Ge.isValidElement=ae,Ge.lazy=function(k){return{$$typeof:S,_payload:{_status:-1,_result:k},_init:re}},Ge.memo=function(k,Y){return{$$typeof:b,type:k,compare:Y===void 0?null:Y}},Ge.startTransition=function(k){var Y=ee.T,F={};ee.T=F;try{var W=k(),ge=ee.S;ge!==null&&ge(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(V,Ee)}catch(we){Ee(we)}finally{Y!==null&&F.types!==null&&(Y.types=F.types),ee.T=Y}},Ge.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ge.use=function(k){return ee.H.use(k)},Ge.useActionState=function(k,Y,F){return ee.H.useActionState(k,Y,F)},Ge.useCallback=function(k,Y){return ee.H.useCallback(k,Y)},Ge.useContext=function(k){return ee.H.useContext(k)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(k,Y){return ee.H.useDeferredValue(k,Y)},Ge.useEffect=function(k,Y){return ee.H.useEffect(k,Y)},Ge.useEffectEvent=function(k){return ee.H.useEffectEvent(k)},Ge.useId=function(){return ee.H.useId()},Ge.useImperativeHandle=function(k,Y,F){return ee.H.useImperativeHandle(k,Y,F)},Ge.useInsertionEffect=function(k,Y){return ee.H.useInsertionEffect(k,Y)},Ge.useLayoutEffect=function(k,Y){return ee.H.useLayoutEffect(k,Y)},Ge.useMemo=function(k,Y){return ee.H.useMemo(k,Y)},Ge.useOptimistic=function(k,Y){return ee.H.useOptimistic(k,Y)},Ge.useReducer=function(k,Y,F){return ee.H.useReducer(k,Y,F)},Ge.useRef=function(k){return ee.H.useRef(k)},Ge.useState=function(k){return ee.H.useState(k)},Ge.useSyncExternalStore=function(k,Y,F){return ee.H.useSyncExternalStore(k,Y,F)},Ge.useTransition=function(){return ee.H.useTransition()},Ge.version="19.2.4",Ge}var qy;function pm(){return qy||(qy=1,lh.exports=sN()),lh.exports}var w=pm();const rN=td(w);var oh={exports:{}},Do={},uh={exports:{}},ch={};var Fy;function lN(){return Fy||(Fy=1,(function(t){function i(U,P){var re=U.length;U.push(P);e:for(;0<re;){var Ee=re-1>>>1,Se=U[Ee];if(0<d(Se,P))U[Ee]=P,U[re]=Se,re=Ee;else break e}}function r(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var P=U[0],re=U.pop();if(re!==P){U[0]=re;e:for(var Ee=0,Se=U.length,k=Se>>>1;Ee<k;){var Y=2*(Ee+1)-1,F=U[Y],W=Y+1,ge=U[W];if(0>d(F,re))W<Se&&0>d(ge,F)?(U[Ee]=ge,U[W]=re,Ee=W):(U[Ee]=F,U[Y]=re,Ee=Y);else if(W<Se&&0>d(ge,re))U[Ee]=ge,U[W]=re,Ee=W;else break e}}return P}function d(U,P){var re=U.sortIndex-P.sortIndex;return re!==0?re:U.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var p=Date,v=p.now();t.unstable_now=function(){return p.now()-v}}var _=[],b=[],S=1,E=null,C=3,O=!1,A=!1,z=!1,M=!1,H=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Q(U){for(var P=r(b);P!==null;){if(P.callback===null)o(b);else if(P.startTime<=U)o(b),P.sortIndex=P.expirationTime,i(_,P);else break;P=r(b)}}function X(U){if(z=!1,Q(U),!A)if(r(_)!==null)A=!0,V||(V=!0,ce());else{var P=r(b);P!==null&&se(X,P.startTime-U)}}var V=!1,ee=-1,$=5,J=-1;function ue(){return M?!0:!(t.unstable_now()-J<$)}function ae(){if(M=!1,V){var U=t.unstable_now();J=U;var P=!0;try{e:{A=!1,z&&(z=!1,I(ee),ee=-1),O=!0;var re=C;try{t:{for(Q(U),E=r(_);E!==null&&!(E.expirationTime>U&&ue());){var Ee=E.callback;if(typeof Ee=="function"){E.callback=null,C=E.priorityLevel;var Se=Ee(E.expirationTime<=U);if(U=t.unstable_now(),typeof Se=="function"){E.callback=Se,Q(U),P=!0;break t}E===r(_)&&o(_),Q(U)}else o(_);E=r(_)}if(E!==null)P=!0;else{var k=r(b);k!==null&&se(X,k.startTime-U),P=!1}}break e}finally{E=null,C=re,O=!1}P=void 0}}finally{P?ce():V=!1}}}var ce;if(typeof Z=="function")ce=function(){Z(ae)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,q=de.port2;de.port1.onmessage=ae,ce=function(){q.postMessage(null)}}else ce=function(){H(ae,0)};function se(U,P){ee=H(function(){U(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(U){switch(C){case 1:case 2:case 3:var P=3;break;default:P=C}var re=C;C=P;try{return U()}finally{C=re}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(U,P){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=C;C=U;try{return P()}finally{C=re}},t.unstable_scheduleCallback=function(U,P,re){var Ee=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,U){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=re+Se,U={id:S++,callback:P,priorityLevel:U,startTime:re,expirationTime:Se,sortIndex:-1},re>Ee?(U.sortIndex=re,i(b,U),r(_)===null&&U===r(b)&&(z?(I(ee),ee=-1):z=!0,se(X,re-Ee))):(U.sortIndex=Se,i(_,U),A||O||(A=!0,V||(V=!0,ce()))),U},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(U){var P=C;return function(){var re=C;C=P;try{return U.apply(this,arguments)}finally{C=re}}}})(ch)),ch}var Hy;function oN(){return Hy||(Hy=1,uh.exports=lN()),uh.exports}var dh={exports:{}},Rn={};var Ky;function uN(){if(Ky)return Rn;Ky=1;var t=pm();function i(_){var b="https://react.dev/errors/"+_;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(_,b,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:E==null?null:""+E,children:_,containerInfo:b,implementation:S}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(_,b){if(_==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Rn.createPortal=function(_,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(i(299));return m(_,b,null,S)},Rn.flushSync=function(_){var b=p.T,S=o.p;try{if(p.T=null,o.p=2,_)return _()}finally{p.T=b,o.p=S,o.d.f()}},Rn.preconnect=function(_,b){typeof _=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(_,b))},Rn.prefetchDNS=function(_){typeof _=="string"&&o.d.D(_)},Rn.preinit=function(_,b){if(typeof _=="string"&&b&&typeof b.as=="string"){var S=b.as,E=v(S,b.crossOrigin),C=typeof b.integrity=="string"?b.integrity:void 0,O=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?o.d.S(_,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:O}):S==="script"&&o.d.X(_,{crossOrigin:E,integrity:C,fetchPriority:O,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Rn.preinitModule=function(_,b){if(typeof _=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=v(b.as,b.crossOrigin);o.d.M(_,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(_)},Rn.preload=function(_,b){if(typeof _=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,E=v(S,b.crossOrigin);o.d.L(_,S,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Rn.preloadModule=function(_,b){if(typeof _=="string")if(b){var S=v(b.as,b.crossOrigin);o.d.m(_,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(_)},Rn.requestFormReset=function(_){o.d.r(_)},Rn.unstable_batchedUpdates=function(_,b){return _(b)},Rn.useFormState=function(_,b,S){return p.H.useFormState(_,b,S)},Rn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Rn.version="19.2.4",Rn}var Qy;function cN(){if(Qy)return dh.exports;Qy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),dh.exports=uN(),dh.exports}var Vy;function dN(){if(Vy)return Do;Vy=1;var t=oN(),i=pm(),r=cN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(m(e)!==e)throw Error(o(188))}function b(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(o(188));return n!==e?null:e}for(var s=e,c=n;;){var h=s.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===s)return _(h),e;if(g===c)return _(h),n;g=g.sibling}throw Error(o(188))}if(s.return!==c.return)s=h,c=g;else{for(var N=!1,T=h.child;T;){if(T===s){N=!0,s=h,c=g;break}if(T===c){N=!0,c=h,s=g;break}T=T.sibling}if(!N){for(T=g.child;T;){if(T===s){N=!0,s=g,c=h;break}if(T===c){N=!0,c=g,s=h;break}T=T.sibling}if(!N)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case H:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case V:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case Z:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:q(e.type)||"Memo";case $:n=e._payload,e=e._init;try{return q(e(n))}catch{}}return null}var se=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],Se=-1;function k(e){return{current:e}}function Y(e){0>Se||(e.current=Ee[Se],Ee[Se]=null,Se--)}function F(e,n){Se++,Ee[Se]=e.current,e.current=n}var W=k(null),ge=k(null),we=k(null),Ce=k(null);function Ke(e,n){switch(F(we,n),F(ge,e),F(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?oy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=oy(n),e=uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(W),F(W,e)}function qe(){Y(W),Y(ge),Y(we)}function Tt(e){e.memoizedState!==null&&F(Ce,e);var n=W.current,s=uy(n,e.type);n!==s&&(F(ge,e),F(W,s))}function at(e){ge.current===e&&(Y(W),Y(ge)),Ce.current===e&&(Y(Ce),zo._currentValue=re)}var en,Zt;function hn(e){if(en===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",Zt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+e+Zt}var _n=!1;function mn(e,n){if(!e||_n)return"";_n=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(me){var he=me}Reflect.construct(e,[],Ne)}else{try{Ne.call()}catch(me){he=me}e.call(Ne.prototype)}}else{try{throw Error()}catch(me){he=me}(Ne=e())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),N=g[0],T=g[1];if(N&&T){var B=N.split(`
`),oe=T.split(`
`);for(h=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;h<oe.length&&!oe[h].includes("DetermineComponentFrameRoot");)h++;if(c===B.length||h===oe.length)for(c=B.length-1,h=oe.length-1;1<=c&&0<=h&&B[c]!==oe[h];)h--;for(;1<=c&&0<=h;c--,h--)if(B[c]!==oe[h]){if(c!==1||h!==1)do if(c--,h--,0>h||B[c]!==oe[h]){var ye=`
`+B[c].replace(" at new "," at ");return e.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",e.displayName)),ye}while(1<=c&&0<=h);break}}}finally{_n=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?hn(s):""}function xn(e,n){switch(e.tag){case 26:case 27:case 5:return hn(e.type);case 16:return hn("Lazy");case 13:return e.child!==n&&n!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return mn(e.type,!1);case 11:return mn(e.type.render,!1);case 1:return mn(e.type,!0);case 31:return hn("Activity");default:return""}}function pn(e){try{var n="",s=null;do n+=xn(e,s),s=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Tn=Object.prototype.hasOwnProperty,te=t.unstable_scheduleCallback,je=t.unstable_cancelCallback,We=t.unstable_shouldYield,zt=t.unstable_requestPaint,vt=t.unstable_now,ve=t.unstable_getCurrentPriorityLevel,G=t.unstable_ImmediatePriority,ze=t.unstable_UserBlockingPriority,St=t.unstable_NormalPriority,Ye=t.unstable_LowPriority,Cn=t.unstable_IdlePriority,Yt=t.log,yi=t.unstable_setDisableYieldValue,kn=null,$t=null;function Pn(e){if(typeof Yt=="function"&&yi(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(kn,e)}catch{}}var on=Math.clz32?Math.clz32:Os,Ri=Math.log,zs=Math.LN2;function Os(e){return e>>>=0,e===0?32:31-(Ri(e)/zs|0)|0}var Li=256,Di=262144,Wi=4194304;function vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ea(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var h=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?h=vi(c):(N&=T,N!==0?h=vi(N):s||(s=T&~e,s!==0&&(h=vi(s))))):(T=c&~g,T!==0?h=vi(T):N!==0?h=vi(N):s||(s=c&~e,s!==0&&(h=vi(s)))),h===0?0:n!==0&&n!==h&&(n&g)===0&&(g=h&-h,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:h}function ai(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Cr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function Ms(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function si(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rl(e,n,s,c,h,g){var N=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,B=e.expirationTimes,oe=e.hiddenUpdates;for(s=N&~s;0<s;){var ye=31-on(s),Ne=1<<ye;T[ye]=0,B[ye]=-1;var he=oe[ye];if(he!==null)for(oe[ye]=null,ye=0;ye<he.length;ye++){var me=he[ye];me!==null&&(me.lane&=-536870913)}s&=~Ne}c!==0&&va(e,c,0),g!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~n))}function va(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-on(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function Ar(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-on(s),h=1<<c;h&n|e[c]&n&&(e[c]|=n),s&=~h}}function zr(e,n){var s=n&-n;return s=(s&42)!==0?1:An(s),(s&(e.suspendedLanes|n))!==0?0:s}function An(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rs(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Oy(e.type))}function Ha(e,n){var s=P.p;try{return P.p=e,n()}finally{P.p=s}}var ri=Math.random().toString(36).slice(2),qt="__reactFiber$"+ri,tn="__reactProps$"+ri,Pi="__reactContainer$"+ri,_i="__reactEvents$"+ri,Or="__reactListeners$"+ri,Ll="__reactHandles$"+ri,Mr="__reactResources$"+ri,_a="__reactMarker$"+ri;function R(e){delete e[qt],delete e[tn],delete e[_i],delete e[Or],delete e[Ll]}function ke(e){var n=e[qt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Pi]||s[qt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=gy(e);e!==null;){if(s=e[qt])return s;e=gy(e)}return n}e=s,s=e.parentNode}return null}function ot(e){if(e=e[qt]||e[Pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function zn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Bi(e){var n=e[Mr];return n||(n=e[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(e){e[_a]=!0}var Ls=new Set,su={};function xa(e,n){ta(e,n),ta(e+"Capture",n)}function ta(e,n){for(su[e]=n,e=0;e<n.length;e++)Ls.add(n[e])}var Ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Pl={};function Ps(e){return Tn.call(Pl,e)?!0:Tn.call(Dl,e)?!1:Ds.test(e)?Pl[e]=!0:(Dl[e]=!0,!1)}function et(e,n,s){if(Ps(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _t(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Hn(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ba(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Bl(e,n,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(N){s=""+N,g.call(this,N)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(N){s=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ve(e){if(!e._valueTracker){var n=ba(e)?"checked":"value";e._valueTracker=Bl(e,n,""+e[n])}}function Ot(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=ba(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function Ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function Ct(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Il(e,n,s,c,h,g,N,T){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+un(n)):e.value!==""+un(n)&&(e.value=""+un(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Ii(e,N,un(n)):s!=null?Ii(e,N,un(s)):c!=null&&e.removeAttribute("value"),h==null&&g!=null&&(e.defaultChecked=!!g),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+un(T):e.removeAttribute("name")}function Bs(e,n,s,c,h,g,N,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){Ve(e);return}s=s!=null?""+un(s):"",n=n!=null?""+un(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Ve(e)}function Ii(e,n,s){n==="number"&&Ka(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function wt(e,n,s,c){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&c&&(e[s].defaultSelected=!0)}else{for(s=""+un(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function na(e,n,s){if(n!=null&&(n=""+un(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+un(s):""}function Qa(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(o(92));if(se(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=un(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),Ve(e)}function xi(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ul=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Va(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||Ul.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Lr(e,n,s){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var h in n)c=n[h],n.hasOwnProperty(h)&&s[h]!==c&&Va(e,h,c)}else for(var g in n)n.hasOwnProperty(g)&&Va(e,g,n[g])}function Is(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(e){return Zl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Pr=null;function Us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ze=null;function li(e){var n=ot(e);if(n&&(e=n.stateNode)){var s=e[tn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Il(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ct(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var h=c[tn]||null;if(!h)throw Error(o(90));Il(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&Ot(c)}break e;case"textarea":na(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&wt(e,!!s.multiple,n,!1)}}}var mt=!1;function ql(e,n,s){if(mt)return e(n,s);mt=!0;try{var c=e(n);return c}finally{if(mt=!1,(Ya!==null||Ze!==null)&&(tc(),Ya&&(n=Ya,e=Ze,Ze=Ya=null,li(n),e)))for(n=0;n<e.length;n++)li(e[n])}}function Na(e,n){var s=e.stateNode;if(s===null)return null;var c=s[tn]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,n,typeof s));return s}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(oi)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Zs=!1}var bi=null,Sa=null,Ft=null;function ia(){if(Ft)return Ft;var e,n=Sa,s=n.length,c,h="value"in bi?bi.value:bi.textContent,g=h.length;for(e=0;e<s&&n[e]===h[e];e++);var N=s-e;for(c=1;c<=N&&n[s-c]===h[g-c];c++);return Ft=h.slice(e,1<c?1-c:void 0)}function qs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function ru(){return!1}function bn(e){function n(s,c,h,g,N){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fs:ru,this.isPropagationStopped=ru,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=bn(Ui),$a=E({},Ui,{view:0,detail:0}),st=bn($a),Fl,Bn,Zi,Hs=E({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(Fl=e.screenX-Zi.screenX,Bn=e.screenY-Zi.screenY):Bn=Fl=0,Zi=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Bn}}),lu=bn(Hs),Hl=E({},Hs,{dataTransfer:0}),pd=bn(Hl),ou=E({},$a,{relatedTarget:0}),Kl=bn(ou),gd=E({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=bn(gd),yd=E({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ni=bn(yd),vd=E({},Ui,{data:0}),Vl=bn(vd),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function Yl(){return Gl}var du=E({},$a,{key:function(e){if(e.key){var n=aa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=bn(du),_d=E({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=bn(_d),$l=E({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),xd=bn($l),mu=E({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=bn(mu),Ir=E({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=bn(Ir),bd=E({},Ui,{newState:0,oldState:0}),Ks=bn(bd),Qn=[9,13,27,32],Ur=oi&&"CompositionEvent"in window,Xa=null;oi&&"documentMode"in document&&(Xa=document.documentMode);var Nd=oi&&"TextEvent"in window&&!Xa,Zr=oi&&(!Ur||Xa&&8<Xa&&11>=Xa),qr=" ",gu=!1;function yu(e,n){switch(e){case"keyup":return Qn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function ci(e,n){switch(e){case"compositionend":return Xl(n);case"keypress":return n.which!==32?null:(gu=!0,qr);case"textInput":return e=n.data,e===qr&&gu?null:e;default:return null}}function Wa(e,n){if(Ja)return e==="compositionend"||!Ur&&yu(e,n)?(e=ia(),Ft=Sa=bi=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zr&&n.locale!=="ko"?null:n.data;default:return null}}var Sd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Si(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Sd[e.type]:n==="textarea"}function vu(e,n,s,c){Ya?Ze?Ze.push(c):Ze=[c]:Ya=c,n=oc(n,"onChange"),0<n.length&&(s=new Br("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var wi=null,Qs=null;function Vs(e){ny(e,0)}function Gs(e){var n=zn(e);if(Ot(n))return e}function Ys(e,n){if(e==="change")return n}var _u=!1;if(oi){var Ei;if(oi){var es="oninput"in document;if(!es){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),es=typeof xu.oninput=="function"}Ei=es}else Ei=!1;_u=Ei&&(!document.documentMode||9<document.documentMode)}function Fr(){wi&&(wi.detachEvent("onpropertychange",bu),Qs=wi=null)}function bu(e){if(e.propertyName==="value"&&Gs(Qs)){var n=[];vu(n,Qs,e,Us(e)),ql(Vs,n)}}function qi(e,n,s){e==="focusin"?(Fr(),wi=n,Qs=s,wi.attachEvent("onpropertychange",bu)):e==="focusout"&&Fr()}function wd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gs(Qs)}function ts(e,n){if(e==="click")return Gs(n)}function Ed(e,n){if(e==="input"||e==="change")return Gs(n)}function Fi(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:Fi;function ns(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!Tn.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $s(e,n){var s=Hr(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Hr(s)}}function Kr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Kr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ka(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ka(e.document)}return n}function sa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Qr=oi&&"documentMode"in document&&11>=document.documentMode,ra=null,Vr=null,Js=null,is=!1;function Nu(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;is||ra==null||ra!==Ka(c)||(c=ra,"selectionStart"in c&&sa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Js&&ns(Js,c)||(Js=c,c=oc(Vr,"onSelect"),0<c.length&&(n=new Br("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=ra)))}function la(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var as={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Gr={},Su={};oi&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function yn(e){if(Gr[e])return Gr[e];if(!as[e])return e;var n=as[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Su)return Gr[e]=n[s];return e}var Ws=yn("animationend"),wu=yn("animationiteration"),er=yn("animationstart"),jd=yn("transitionrun"),Eu=yn("transitionstart"),Td=yn("transitioncancel"),ss=yn("transitionend"),ju=new Map,oa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oa.push("scrollEnd");function Vn(e,n){ju.set(e,n),xa(n,[e])}var tr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gn=[],On=0,Yr=0;function nr(){for(var e=On,n=Yr=On=0;n<e;){var s=Gn[n];Gn[n++]=null;var c=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var g=Gn[n];if(Gn[n++]=null,c!==null&&h!==null){var N=c.pending;N===null?h.next=h:(h.next=N.next,N.next=h),c.pending=h}g!==0&&rs(s,h,g)}}function ua(e,n,s,c){Gn[On++]=e,Gn[On++]=n,Gn[On++]=s,Gn[On++]=c,Yr|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Jl(e,n,s,c){return ua(e,n,s,c),ir(e)}function ji(e,n){return ua(e,null,null,n),ir(e)}function rs(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var h=!1,g=e.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(h=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,h&&n!==null&&(h=31-on(s),e=g.hiddenUpdates,c=e[h],c===null?e[h]=[n]:c.push(n),n.lane=s|536870912),g):null}function ir(e){if(50<wo)throw wo=0,Af=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function Cd(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,s,c){return new Cd(e,n,s,c)}function $r(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,n){var s=e.alternate;return s===null?(s=Mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Wl(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ar(e,n,s,c,h,g){var N=0;if(c=e,typeof e=="function")$r(e)&&(N=1);else if(typeof e=="string")N=Kb(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Mn(31,s,n,h),e.elementType=J,e.lanes=g,e;case z:return ja(s.children,h,g,n);case M:N=8,h|=24;break;case H:return e=Mn(12,s,n,h|2),e.elementType=H,e.lanes=g,e;case X:return e=Mn(13,s,n,h),e.elementType=X,e.lanes=g,e;case V:return e=Mn(19,s,n,h),e.elementType=V,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:N=10;break e;case I:N=9;break e;case Q:N=11;break e;case ee:N=14;break e;case $:N=16,c=null;break e}N=29,s=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=Mn(N,s,n,h),n.elementType=e,n.type=c,n.lanes=g,n}function ja(e,n,s,c){return e=Mn(7,e,c,n),e.lanes=s,e}function Xr(e,n,s){return e=Mn(6,e,null,n),e.lanes=s,e}function eo(e){var n=Mn(18,null,null,0);return n.stateNode=e,n}function to(e,n,s){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var a=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var s=a.get(e);return s!==void 0?s:(n={value:e,source:n,stack:pn(n)},a.set(e,n),n)}return{value:e,source:n,stack:pn(n)}}var f=[],y=0,x=null,j=0,D=[],ie=0,fe=null,be=1,Te="";function De(e,n){f[y++]=j,f[y++]=x,x=e,j=n}function Xe(e,n,s){D[ie++]=be,D[ie++]=Te,D[ie++]=fe,fe=e;var c=be;e=Te;var h=32-on(c)-1;c&=~(1<<h),s+=1;var g=32-on(n)+h;if(30<g){var N=h-h%5;g=(c&(1<<N)-1).toString(32),c>>=N,h-=N,be=1<<32-on(n)+h|s<<h|c,Te=g+e}else be=1<<g|s<<h|c,Te=e}function cn(e){e.return!==null&&(De(e,1),Xe(e,1,0))}function Ht(e){for(;e===x;)x=f[--y],f[y]=null,j=f[--y],f[y]=null;for(;e===fe;)fe=D[--ie],D[ie]=null,Te=D[--ie],D[ie]=null,be=D[--ie],D[ie]=null}function In(e,n){D[ie++]=be,D[ie++]=Te,D[ie++]=fe,be=n.id,Te=n.overflow,fe=e}var ut=null,ct=null,tt=!1,ca=null,Yn=!1,Jr=Error(o(519));function da(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sr(u(n,e)),Jr}function no(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[qt]=e,n[tn]=c,s){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(s=0;s<jo.length;s++)it(jo[s],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":it("invalid",n),Bs(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":it("invalid",n);break;case"textarea":it("invalid",n),Qa(n,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||ry(n.textContent,s)?(c.popover!=null&&(it("beforetoggle",n),it("toggle",n)),c.onScroll!=null&&it("scroll",n),c.onScrollEnd!=null&&it("scrollend",n),c.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||da(e,!0)}function Bt(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:ut=ut.return}}function Hi(e){if(e!==ut)return!1;if(!tt)return Bt(e),tt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Kf(e.type,e.memoizedProps)),s=!s),s&&ct&&da(e),Bt(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=py(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=py(e)}else n===27?(n=ct,xs(e.type)?(e=$f,$f=null,ct=e):ct=n):ct=ut?ki(e.stateNode.nextSibling):null;return!0}function Ta(){ct=ut=null,tt=!1}function io(){var e=ca;return e!==null&&(Wn===null?Wn=e:Wn.push.apply(Wn,e),ca=null),e}function sr(e){ca===null?ca=[e]:ca.push(e)}var rr=k(null),fa=null,Ki=null;function ls(e,n,s){F(rr,n._currentValue),n._currentValue=s}function Ca(e){e._currentValue=rr.current,Y(rr)}function kd(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Ad(e,n,s,c){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var g=h.dependencies;if(g!==null){var N=h.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=h;for(var B=0;B<n.length;B++)if(T.context===n[B]){g.lanes|=s,T=g.alternate,T!==null&&(T.lanes|=s),kd(g.return,s,e),c||(N=null);break e}g=T.next}}else if(h.tag===18){if(N=h.return,N===null)throw Error(o(341));N.lanes|=s,g=N.alternate,g!==null&&(g.lanes|=s),kd(N,s,e),N=null}else N=h.child;if(N!==null)N.return=h;else for(N=h;N!==null;){if(N===e){N=null;break}if(h=N.sibling,h!==null){h.return=N.return,N=h;break}N=N.return}h=N}}function Wr(e,n,s,c){e=null;for(var h=n,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var N=h.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var T=h.type;gn(h.pendingProps.value,N.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ce.current){if(N=h.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(zo):e=[zo])}h=h.return}e!==null&&Ad(n,e,s,c),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function lr(e){fa=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nn(e){return Km(fa,e)}function Cu(e,n){return fa===null&&lr(e),Km(e,n)}function Km(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ki===null){if(e===null)throw Error(o(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return s}var Z0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},q0=t.unstable_scheduleCallback,F0=t.unstable_NormalPriority,nn={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new Z0,data:new Map,refCount:0}}function ao(e){e.refCount--,e.refCount===0&&q0(F0,function(){e.controller.abort()})}var so=null,Od=0,el=0,tl=null;function H0(e,n){if(so===null){var s=so=[];Od=0,el=Df(),tl={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Od++,n.then(Qm,Qm),n}function Qm(){if(--Od===0&&so!==null){tl!==null&&(tl.status="fulfilled");var e=so;so=null,el=0,tl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function K0(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(c.status="rejected",c.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),c}var Vm=U.S;U.S=function(e,n){Ag=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&H0(e,n),Vm!==null&&Vm(e,n)};var or=k(null);function Md(){var e=or.current;return e!==null?e:Et.pooledCache}function ku(e,n){n===null?F(or,or.current):F(or,n.pool)}function Gm(){var e=Md();return e===null?null:{parent:nn._currentValue,pool:e}}var nl=Error(o(460)),Rd=Error(o(474)),Au=Error(o(542)),zu={then:function(){}};function Ym(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $m(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=c}},function(c){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e}throw cr=n,nl}}function ur(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(cr=s,nl):s}}var cr=null;function Xm(){if(cr===null)throw Error(o(459));var e=cr;return cr=null,e}function Jm(e){if(e===nl||e===Au)throw Error(o(483))}var il=null,ro=0;function Ou(e){var n=ro;return ro+=1,il===null&&(il=[]),$m(il,e,n)}function lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wm(e){function n(ne,K){if(e){var le=ne.deletions;le===null?(ne.deletions=[K],ne.flags|=16):le.push(K)}}function s(ne,K){if(!e)return null;for(;K!==null;)n(ne,K),K=K.sibling;return null}function c(ne){for(var K=new Map;ne!==null;)ne.key!==null?K.set(ne.key,ne):K.set(ne.index,ne),ne=ne.sibling;return K}function h(ne,K){return ne=Ti(ne,K),ne.index=0,ne.sibling=null,ne}function g(ne,K,le){return ne.index=le,e?(le=ne.alternate,le!==null?(le=le.index,le<K?(ne.flags|=67108866,K):le):(ne.flags|=67108866,K)):(ne.flags|=1048576,K)}function N(ne){return e&&ne.alternate===null&&(ne.flags|=67108866),ne}function T(ne,K,le,_e){return K===null||K.tag!==6?(K=Xr(le,ne.mode,_e),K.return=ne,K):(K=h(K,le),K.return=ne,K)}function B(ne,K,le,_e){var Pe=le.type;return Pe===z?ye(ne,K,le.props.children,_e,le.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===$&&ur(Pe)===K.type)?(K=h(K,le.props),lo(K,le),K.return=ne,K):(K=ar(le.type,le.key,le.props,null,ne.mode,_e),lo(K,le),K.return=ne,K)}function oe(ne,K,le,_e){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=to(le,ne.mode,_e),K.return=ne,K):(K=h(K,le.children||[]),K.return=ne,K)}function ye(ne,K,le,_e,Pe){return K===null||K.tag!==7?(K=ja(le,ne.mode,_e,Pe),K.return=ne,K):(K=h(K,le),K.return=ne,K)}function Ne(ne,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Xr(""+K,ne.mode,le),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return le=ar(K.type,K.key,K.props,null,ne.mode,le),lo(le,K),le.return=ne,le;case A:return K=to(K,ne.mode,le),K.return=ne,K;case $:return K=ur(K),Ne(ne,K,le)}if(se(K)||ce(K))return K=ja(K,ne.mode,le,null),K.return=ne,K;if(typeof K.then=="function")return Ne(ne,Ou(K),le);if(K.$$typeof===Z)return Ne(ne,Cu(ne,K),le);Mu(ne,K)}return null}function he(ne,K,le,_e){var Pe=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Pe!==null?null:T(ne,K,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case O:return le.key===Pe?B(ne,K,le,_e):null;case A:return le.key===Pe?oe(ne,K,le,_e):null;case $:return le=ur(le),he(ne,K,le,_e)}if(se(le)||ce(le))return Pe!==null?null:ye(ne,K,le,_e,null);if(typeof le.then=="function")return he(ne,K,Ou(le),_e);if(le.$$typeof===Z)return he(ne,K,Cu(ne,le),_e);Mu(ne,le)}return null}function me(ne,K,le,_e,Pe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ne=ne.get(le)||null,T(K,ne,""+_e,Pe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case O:return ne=ne.get(_e.key===null?le:_e.key)||null,B(K,ne,_e,Pe);case A:return ne=ne.get(_e.key===null?le:_e.key)||null,oe(K,ne,_e,Pe);case $:return _e=ur(_e),me(ne,K,le,_e,Pe)}if(se(_e)||ce(_e))return ne=ne.get(le)||null,ye(K,ne,_e,Pe,null);if(typeof _e.then=="function")return me(ne,K,le,Ou(_e),Pe);if(_e.$$typeof===Z)return me(ne,K,le,Cu(K,_e),Pe);Mu(K,_e)}return null}function Me(ne,K,le,_e){for(var Pe=null,dt=null,Re=K,Je=K=0,lt=null;Re!==null&&Je<le.length;Je++){Re.index>Je?(lt=Re,Re=null):lt=Re.sibling;var ft=he(ne,Re,le[Je],_e);if(ft===null){Re===null&&(Re=lt);break}e&&Re&&ft.alternate===null&&n(ne,Re),K=g(ft,K,Je),dt===null?Pe=ft:dt.sibling=ft,dt=ft,Re=lt}if(Je===le.length)return s(ne,Re),tt&&De(ne,Je),Pe;if(Re===null){for(;Je<le.length;Je++)Re=Ne(ne,le[Je],_e),Re!==null&&(K=g(Re,K,Je),dt===null?Pe=Re:dt.sibling=Re,dt=Re);return tt&&De(ne,Je),Pe}for(Re=c(Re);Je<le.length;Je++)lt=me(Re,ne,Je,le[Je],_e),lt!==null&&(e&&lt.alternate!==null&&Re.delete(lt.key===null?Je:lt.key),K=g(lt,K,Je),dt===null?Pe=lt:dt.sibling=lt,dt=lt);return e&&Re.forEach(function(Es){return n(ne,Es)}),tt&&De(ne,Je),Pe}function Ue(ne,K,le,_e){if(le==null)throw Error(o(151));for(var Pe=null,dt=null,Re=K,Je=K=0,lt=null,ft=le.next();Re!==null&&!ft.done;Je++,ft=le.next()){Re.index>Je?(lt=Re,Re=null):lt=Re.sibling;var Es=he(ne,Re,ft.value,_e);if(Es===null){Re===null&&(Re=lt);break}e&&Re&&Es.alternate===null&&n(ne,Re),K=g(Es,K,Je),dt===null?Pe=Es:dt.sibling=Es,dt=Es,Re=lt}if(ft.done)return s(ne,Re),tt&&De(ne,Je),Pe;if(Re===null){for(;!ft.done;Je++,ft=le.next())ft=Ne(ne,ft.value,_e),ft!==null&&(K=g(ft,K,Je),dt===null?Pe=ft:dt.sibling=ft,dt=ft);return tt&&De(ne,Je),Pe}for(Re=c(Re);!ft.done;Je++,ft=le.next())ft=me(Re,ne,Je,ft.value,_e),ft!==null&&(e&&ft.alternate!==null&&Re.delete(ft.key===null?Je:ft.key),K=g(ft,K,Je),dt===null?Pe=ft:dt.sibling=ft,dt=ft);return e&&Re.forEach(function(nN){return n(ne,nN)}),tt&&De(ne,Je),Pe}function Nt(ne,K,le,_e){if(typeof le=="object"&&le!==null&&le.type===z&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case O:e:{for(var Pe=le.key;K!==null;){if(K.key===Pe){if(Pe=le.type,Pe===z){if(K.tag===7){s(ne,K.sibling),_e=h(K,le.props.children),_e.return=ne,ne=_e;break e}}else if(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===$&&ur(Pe)===K.type){s(ne,K.sibling),_e=h(K,le.props),lo(_e,le),_e.return=ne,ne=_e;break e}s(ne,K);break}else n(ne,K);K=K.sibling}le.type===z?(_e=ja(le.props.children,ne.mode,_e,le.key),_e.return=ne,ne=_e):(_e=ar(le.type,le.key,le.props,null,ne.mode,_e),lo(_e,le),_e.return=ne,ne=_e)}return N(ne);case A:e:{for(Pe=le.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){s(ne,K.sibling),_e=h(K,le.children||[]),_e.return=ne,ne=_e;break e}else{s(ne,K);break}else n(ne,K);K=K.sibling}_e=to(le,ne.mode,_e),_e.return=ne,ne=_e}return N(ne);case $:return le=ur(le),Nt(ne,K,le,_e)}if(se(le))return Me(ne,K,le,_e);if(ce(le)){if(Pe=ce(le),typeof Pe!="function")throw Error(o(150));return le=Pe.call(le),Ue(ne,K,le,_e)}if(typeof le.then=="function")return Nt(ne,K,Ou(le),_e);if(le.$$typeof===Z)return Nt(ne,K,Cu(ne,le),_e);Mu(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(s(ne,K.sibling),_e=h(K,le),_e.return=ne,ne=_e):(s(ne,K),_e=Xr(le,ne.mode,_e),_e.return=ne,ne=_e),N(ne)):s(ne,K)}return function(ne,K,le,_e){try{ro=0;var Pe=Nt(ne,K,le,_e);return il=null,Pe}catch(Re){if(Re===nl||Re===Au)throw Re;var dt=Mn(29,Re,null,ne.mode);return dt.lanes=_e,dt.return=ne,dt}}}var dr=Wm(!0),ep=Wm(!1),os=!1;function Ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cs(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,n=ir(e),rs(e,null,s),n}return ua(e,c,n,s),ir(e)}function oo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Ar(e,s)}}function Pd(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var N={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?h=g=N:g=g.next=N,s=s.next}while(s!==null);g===null?h=g=n:g=g.next=n}else h=g=n;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Bd=!1;function uo(){if(Bd){var e=tl;if(e!==null)throw e}}function co(e,n,s,c){Bd=!1;var h=e.updateQueue;os=!1;var g=h.firstBaseUpdate,N=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var B=T,oe=B.next;B.next=null,N===null?g=oe:N.next=oe,N=B;var ye=e.alternate;ye!==null&&(ye=ye.updateQueue,T=ye.lastBaseUpdate,T!==N&&(T===null?ye.firstBaseUpdate=oe:T.next=oe,ye.lastBaseUpdate=B))}if(g!==null){var Ne=h.baseState;N=0,ye=oe=B=null,T=g;do{var he=T.lane&-536870913,me=he!==T.lane;if(me?(rt&he)===he:(c&he)===he){he!==0&&he===el&&(Bd=!0),ye!==null&&(ye=ye.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Me=e,Ue=T;he=n;var Nt=s;switch(Ue.tag){case 1:if(Me=Ue.payload,typeof Me=="function"){Ne=Me.call(Nt,Ne,he);break e}Ne=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ue.payload,he=typeof Me=="function"?Me.call(Nt,Ne,he):Me,he==null)break e;Ne=E({},Ne,he);break e;case 2:os=!0}}he=T.callback,he!==null&&(e.flags|=64,me&&(e.flags|=8192),me=h.callbacks,me===null?h.callbacks=[he]:me.push(he))}else me={lane:he,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ye===null?(oe=ye=me,B=Ne):ye=ye.next=me,N|=he;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;me=T,T=me.next,me.next=null,h.lastBaseUpdate=me,h.shared.pending=null}}while(!0);ye===null&&(B=Ne),h.baseState=B,h.firstBaseUpdate=oe,h.lastBaseUpdate=ye,g===null&&(h.shared.lanes=0),ps|=N,e.lanes=N,e.memoizedState=Ne}}function tp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function np(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)tp(s[e],n)}var al=k(null),Ru=k(0);function ip(e,n){e=Pa,F(Ru,e),F(al,n),Pa=e|n.baseLanes}function Id(){F(Ru,Pa),F(al,al.current)}function Ud(){Pa=Ru.current,Y(al),Y(Ru)}var di=k(null),Ci=null;function ds(e){var n=e.alternate;F(Xt,Xt.current&1),F(di,e),Ci===null&&(n===null||al.current!==null||n.memoizedState!==null)&&(Ci=e)}function Zd(e){F(Xt,Xt.current),F(di,e),Ci===null&&(Ci=e)}function ap(e){e.tag===22?(F(Xt,Xt.current),F(di,e),Ci===null&&(Ci=e)):fs()}function fs(){F(Xt,Xt.current),F(di,di.current)}function fi(e){Y(di),Ci===e&&(Ci=null),Y(Xt)}var Xt=k(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Gf(s)||Yf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ka=0,$e=null,xt=null,an=null,Du=!1,sl=!1,fr=!1,Pu=0,fo=0,rl=null,Q0=0;function Kt(){throw Error(o(321))}function qd(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function Fd(e,n,s,c,h,g){return ka=g,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?Zp:sf,fr=!1,g=s(c,h),fr=!1,sl&&(g=rp(n,s,c,h)),sp(e),g}function sp(e){U.H=po;var n=xt!==null&&xt.next!==null;if(ka=0,an=xt=$e=null,Du=!1,fo=0,rl=null,n)throw Error(o(300));e===null||sn||(e=e.dependencies,e!==null&&Tu(e)&&(sn=!0))}function rp(e,n,s,c){$e=e;var h=0;do{if(sl&&(rl=null),fo=0,sl=!1,25<=h)throw Error(o(301));if(h+=1,an=xt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=qp,g=n(s,c)}while(sl);return g}function V0(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?ho(n):n,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&($e.flags|=1024),n}function Hd(){var e=Pu!==0;return Pu=0,e}function Kd(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Qd(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}ka=0,an=xt=$e=null,sl=!1,fo=Pu=0,rl=null}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?$e.memoizedState=an=e:an=an.next=e,an}function Jt(){if(xt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var n=an===null?$e.memoizedState:an.next;if(n!==null)an=n,xt=e;else{if(e===null)throw $e.alternate===null?Error(o(467)):Error(o(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},an===null?$e.memoizedState=an=e:an=an.next=e}return an}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(e){var n=fo;return fo+=1,rl===null&&(rl=[]),e=$m(rl,e,n),n=$e,(an===null?n.memoizedState:an.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Zp:sf),e}function Iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ho(e);if(e.$$typeof===Z)return Nn(e)}throw Error(o(438,String(e)))}function Vd(e){var n=null,s=$e.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=$e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),$e.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=ue;return n.index++,s}function Aa(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=Jt();return Gd(n,xt,e)}function Gd(e,n,s){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var h=e.baseQueue,g=c.pending;if(g!==null){if(h!==null){var N=h.next;h.next=g.next,g.next=N}n.baseQueue=h=g,c.pending=null}if(g=e.baseState,h===null)e.memoizedState=g;else{n=h.next;var T=N=null,B=null,oe=n,ye=!1;do{var Ne=oe.lane&-536870913;if(Ne!==oe.lane?(rt&Ne)===Ne:(ka&Ne)===Ne){var he=oe.revertLane;if(he===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ne===el&&(ye=!0);else if((ka&he)===he){oe=oe.next,he===el&&(ye=!0);continue}else Ne={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},B===null?(T=B=Ne,N=g):B=B.next=Ne,$e.lanes|=he,ps|=he;Ne=oe.action,fr&&s(g,Ne),g=oe.hasEagerState?oe.eagerState:s(g,Ne)}else he={lane:Ne,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},B===null?(T=B=he,N=g):B=B.next=he,$e.lanes|=Ne,ps|=Ne;oe=oe.next}while(oe!==null&&oe!==n);if(B===null?N=g:B.next=T,!gn(g,e.memoizedState)&&(sn=!0,ye&&(s=tl,s!==null)))throw s;e.memoizedState=g,e.baseState=N,e.baseQueue=B,c.lastRenderedState=g}return h===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Yd(e){var n=Jt(),s=n.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var c=s.dispatch,h=s.pending,g=n.memoizedState;if(h!==null){s.pending=null;var N=h=h.next;do g=e(g,N.action),N=N.next;while(N!==h);gn(g,n.memoizedState)||(sn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function lp(e,n,s){var c=$e,h=Jt(),g=tt;if(g){if(s===void 0)throw Error(o(407));s=s()}else s=n();var N=!gn((xt||h).memoizedState,s);if(N&&(h.memoizedState=s,sn=!0),h=h.queue,Jd(cp.bind(null,c,h,e),[e]),h.getSnapshot!==n||N||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,ll(9,{destroy:void 0},up.bind(null,c,h,s,n),null),Et===null)throw Error(o(349));g||(ka&127)!==0||op(c,n,s)}return s}function op(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=$e.updateQueue,n===null?(n=Bu(),$e.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function up(e,n,s,c){n.value=s,n.getSnapshot=c,dp(n)&&fp(e)}function cp(e,n,s){return s(function(){dp(n)&&fp(e)})}function dp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function fp(e){var n=ji(e,2);n!==null&&ei(n,e,2)}function $d(e){var n=Un();if(typeof e=="function"){var s=e;if(e=s(),fr){Pn(!0);try{s()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},n}function hp(e,n,s,c){return e.baseState=s,Gd(e,xt,typeof c=="function"?c:Aa)}function G0(e,n,s,c,h){if(Fu(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};U.T!==null?s(!0):g.isTransition=!1,c(g),s=n.pending,s===null?(g.next=n.pending=g,mp(n,g)):(g.next=s.next,n.pending=s.next=g)}}function mp(e,n){var s=n.action,c=n.payload,h=e.state;if(n.isTransition){var g=U.T,N={};U.T=N;try{var T=s(h,c),B=U.S;B!==null&&B(N,T),pp(e,n,T)}catch(oe){Xd(e,n,oe)}finally{g!==null&&N.types!==null&&(g.types=N.types),U.T=g}}else try{g=s(h,c),pp(e,n,g)}catch(oe){Xd(e,n,oe)}}function pp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){gp(e,n,c)},function(c){return Xd(e,n,c)}):gp(e,n,s)}function gp(e,n,s){n.status="fulfilled",n.value=s,yp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,mp(e,s)))}function Xd(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,yp(n),n=n.next;while(n!==c)}e.action=null}function yp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vp(e,n){return n}function _p(e,n){if(tt){var s=Et.formState;if(s!==null){e:{var c=$e;if(tt){if(ct){t:{for(var h=ct,g=Yn;h.nodeType!==8;){if(!g){h=null;break t}if(h=ki(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){ct=ki(h.nextSibling),c=h.data==="F!";break e}}da(c)}c=!1}c&&(n=s[0])}}return s=Un(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},s.queue=c,s=Bp.bind(null,$e,c),c.dispatch=s,c=$d(!1),g=af.bind(null,$e,!1,c.queue),c=Un(),h={state:n,dispatch:null,action:e,pending:null},c.queue=h,s=G0.bind(null,$e,h,g,s),h.dispatch=s,c.memoizedState=e,[n,s,!1]}function xp(e){var n=Jt();return bp(n,xt,e)}function bp(e,n,s){if(n=Gd(e,n,vp)[0],e=Uu(Aa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=ho(n)}catch(N){throw N===nl?Au:N}else c=n;n=Jt();var h=n.queue,g=h.dispatch;return s!==n.memoizedState&&($e.flags|=2048,ll(9,{destroy:void 0},Y0.bind(null,h,s),null)),[c,g,e]}function Y0(e,n){e.action=n}function Np(e){var n=Jt(),s=xt;if(s!==null)return bp(n,s,e);Jt(),n=n.memoizedState,s=Jt();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function ll(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=$e.updateQueue,n===null&&(n=Bu(),$e.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function Sp(){return Jt().memoizedState}function Zu(e,n,s,c){var h=Un();$e.flags|=e,h.memoizedState=ll(1|n,{destroy:void 0},s,c===void 0?null:c)}function qu(e,n,s,c){var h=Jt();c=c===void 0?null:c;var g=h.memoizedState.inst;xt!==null&&c!==null&&qd(c,xt.memoizedState.deps)?h.memoizedState=ll(n,g,s,c):($e.flags|=e,h.memoizedState=ll(1|n,g,s,c))}function wp(e,n){Zu(8390656,8,e,n)}function Jd(e,n){qu(2048,8,e,n)}function $0(e){$e.flags|=4;var n=$e.updateQueue;if(n===null)n=Bu(),$e.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ep(e){var n=Jt().memoizedState;return $0({ref:n,nextImpl:e}),function(){if((ht&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function jp(e,n){return qu(4,2,e,n)}function Tp(e,n){return qu(4,4,e,n)}function Cp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kp(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,Cp.bind(null,n,e),s)}function Wd(){}function Ap(e,n){var s=Jt();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&qd(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function zp(e,n){var s=Jt();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&qd(n,c[1]))return c[0];if(c=e(),fr){Pn(!0);try{e()}finally{Pn(!1)}}return s.memoizedState=[c,n],c}function ef(e,n,s){return s===void 0||(ka&1073741824)!==0&&(rt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Og(),$e.lanes|=e,ps|=e,s)}function Op(e,n,s,c){return gn(s,n)?s:al.current!==null?(e=ef(e,s,c),gn(e,n)||(sn=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(rt&261930)===0?(sn=!0,e.memoizedState=s):(e=Og(),$e.lanes|=e,ps|=e,n)}function Mp(e,n,s,c,h){var g=P.p;P.p=g!==0&&8>g?g:8;var N=U.T,T={};U.T=T,af(e,!1,n,s);try{var B=h(),oe=U.S;if(oe!==null&&oe(T,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ye=K0(B,c);mo(e,n,ye,pi(e))}else mo(e,n,c,pi(e))}catch(Ne){mo(e,n,{then:function(){},status:"rejected",reason:Ne},pi())}finally{P.p=g,N!==null&&T.types!==null&&(N.types=T.types),U.T=N}}function X0(){}function tf(e,n,s,c){if(e.tag!==5)throw Error(o(476));var h=Rp(e).queue;Mp(e,h,n,re,s===null?X0:function(){return Lp(e),s(c)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:re},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lp(e){var n=Rp(e);n.next===null&&(n=e.alternate.memoizedState),mo(e,n.next.queue,{},pi())}function nf(){return Nn(zo)}function Dp(){return Jt().memoizedState}function Pp(){return Jt().memoizedState}function J0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=pi();e=us(s);var c=cs(n,e,s);c!==null&&(ei(c,n,s),oo(c,n,s)),n={cache:zd()},e.payload=n;return}n=n.return}}function W0(e,n,s){var c=pi();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Ip(n,s):(s=Jl(e,n,s,c),s!==null&&(ei(s,e,c),Up(s,n,c)))}function Bp(e,n,s){var c=pi();mo(e,n,s,c)}function mo(e,n,s,c){var h={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Ip(n,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var N=n.lastRenderedState,T=g(N,s);if(h.hasEagerState=!0,h.eagerState=T,gn(T,N))return ua(e,n,h,0),Et===null&&nr(),!1}catch{}if(s=Jl(e,n,h,c),s!==null)return ei(s,e,c),Up(s,n,c),!0}return!1}function af(e,n,s,c){if(c={lane:2,revertLane:Df(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(o(479))}else n=Jl(e,s,c,2),n!==null&&ei(n,e,2)}function Fu(e){var n=e.alternate;return e===$e||n!==null&&n===$e}function Ip(e,n){sl=Du=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Up(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Ar(e,s)}}var po={readContext:Nn,use:Iu,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};po.useEffectEvent=Kt;var Zp={readContext:Nn,use:Iu,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:wp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Zu(4194308,4,Cp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Zu(4194308,4,e,n)},useInsertionEffect:function(e,n){Zu(4,2,e,n)},useMemo:function(e,n){var s=Un();n=n===void 0?null:n;var c=e();if(fr){Pn(!0);try{e()}finally{Pn(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=Un();if(s!==void 0){var h=s(n);if(fr){Pn(!0);try{s(n)}finally{Pn(!1)}}}else h=n;return c.memoizedState=c.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},c.queue=e,e=e.dispatch=W0.bind(null,$e,e),[c.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:function(e){e=$d(e);var n=e.queue,s=Bp.bind(null,$e,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Wd,useDeferredValue:function(e,n){var s=Un();return ef(s,e,n)},useTransition:function(){var e=$d(!1);return e=Mp.bind(null,$e,e.queue,!0,!1),Un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=$e,h=Un();if(tt){if(s===void 0)throw Error(o(407));s=s()}else{if(s=n(),Et===null)throw Error(o(349));(rt&127)!==0||op(c,n,s)}h.memoizedState=s;var g={value:s,getSnapshot:n};return h.queue=g,wp(cp.bind(null,c,g,e),[e]),c.flags|=2048,ll(9,{destroy:void 0},up.bind(null,c,g,s,n),null),s},useId:function(){var e=Un(),n=Et.identifierPrefix;if(tt){var s=Te,c=be;s=(c&~(1<<32-on(c)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Q0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:nf,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=Un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=af.bind(null,$e,!0,s),s.dispatch=n,[e,n]},useMemoCache:Vd,useCacheRefresh:function(){return Un().memoizedState=J0.bind(null,$e)},useEffectEvent:function(e){var n=Un(),s={impl:e};return n.memoizedState=s,function(){if((ht&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},sf={readContext:Nn,use:Iu,useCallback:Ap,useContext:Nn,useEffect:Jd,useImperativeHandle:kp,useInsertionEffect:jp,useLayoutEffect:Tp,useMemo:zp,useReducer:Uu,useRef:Sp,useState:function(){return Uu(Aa)},useDebugValue:Wd,useDeferredValue:function(e,n){var s=Jt();return Op(s,xt.memoizedState,e,n)},useTransition:function(){var e=Uu(Aa)[0],n=Jt().memoizedState;return[typeof e=="boolean"?e:ho(e),n]},useSyncExternalStore:lp,useId:Dp,useHostTransitionStatus:nf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var s=Jt();return hp(s,xt,e,n)},useMemoCache:Vd,useCacheRefresh:Pp};sf.useEffectEvent=Ep;var qp={readContext:Nn,use:Iu,useCallback:Ap,useContext:Nn,useEffect:Jd,useImperativeHandle:kp,useInsertionEffect:jp,useLayoutEffect:Tp,useMemo:zp,useReducer:Yd,useRef:Sp,useState:function(){return Yd(Aa)},useDebugValue:Wd,useDeferredValue:function(e,n){var s=Jt();return xt===null?ef(s,e,n):Op(s,xt.memoizedState,e,n)},useTransition:function(){var e=Yd(Aa)[0],n=Jt().memoizedState;return[typeof e=="boolean"?e:ho(e),n]},useSyncExternalStore:lp,useId:Dp,useHostTransitionStatus:nf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var s=Jt();return xt!==null?hp(s,xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:Pp};qp.useEffectEvent=Ep;function rf(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=pi(),h=us(c);h.payload=n,s!=null&&(h.callback=s),n=cs(e,h,c),n!==null&&(ei(n,e,c),oo(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=pi(),h=us(c);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=cs(e,h,c),n!==null&&(ei(n,e,c),oo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=pi(),c=us(s);c.tag=2,n!=null&&(c.callback=n),n=cs(e,c,s),n!==null&&(ei(n,e,s),oo(n,e,s))}};function Fp(e,n,s,c,h,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,N):n.prototype&&n.prototype.isPureReactComponent?!ns(s,c)||!ns(h,g):!0}function Hp(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&lf.enqueueReplaceState(n,n.state,null)}function hr(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Kp(e){tr(e)}function Qp(e){console.error(e)}function Vp(e){tr(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Gp(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(e,n,s){return s=us(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function Yp(e){return e=us(e),e.tag=3,e}function $p(e,n,s,c){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;e.payload=function(){return h(g)},e.callback=function(){Gp(n,s,c)}}var N=s.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Gp(n,s,c),typeof h!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function eb(e,n,s,c,h){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&Wr(n,s,h,!0),s=di.current,s!==null){switch(s.tag){case 31:case 13:return Ci===null?nc():s.alternate===null&&Qt===0&&(Qt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,c===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),Mf(e,c,h)),!1;case 22:return s.flags|=65536,c===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),Mf(e,c,h)),!1}throw Error(o(435,s.tag))}return Mf(e,c,h),nc(),!1}if(tt)return n=di.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,c!==Jr&&(e=Error(o(422),{cause:c}),sr(u(e,s)))):(c!==Jr&&(n=Error(o(423),{cause:c}),sr(u(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,c=u(c,s),h=of(e.stateNode,c,h),Pd(e,h),Qt!==4&&(Qt=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,s),So===null?So=[g]:So.push(g),Qt!==4&&(Qt=2),n===null)return!0;c=u(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=of(s.stateNode,c,e),Pd(s,e),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gs===null||!gs.has(g))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),$p(h,e,s,c),Pd(s,h),!1}s=s.return}while(s!==null);return!1}var uf=Error(o(461)),sn=!1;function Sn(e,n,s,c){n.child=e===null?ep(n,null,s,c):dr(n,e.child,s,c)}function Xp(e,n,s,c,h){s=s.render;var g=n.ref;if("ref"in c){var N={};for(var T in c)T!=="ref"&&(N[T]=c[T])}else N=c;return lr(n),c=Fd(e,n,s,N,g,h),T=Hd(),e!==null&&!sn?(Kd(e,n,h),za(e,n,h)):(tt&&T&&cn(n),n.flags|=1,Sn(e,n,c,h),n.child)}function Jp(e,n,s,c,h){if(e===null){var g=s.type;return typeof g=="function"&&!$r(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,Wp(e,n,g,c,h)):(e=ar(s.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!yf(e,h)){var N=g.memoizedProps;if(s=s.compare,s=s!==null?s:ns,s(N,c)&&e.ref===n.ref)return za(e,n,h)}return n.flags|=1,e=Ti(g,c),e.ref=n.ref,e.return=n,n.child=e}function Wp(e,n,s,c,h){if(e!==null){var g=e.memoizedProps;if(ns(g,c)&&e.ref===n.ref)if(sn=!1,n.pendingProps=c=g,yf(e,h))(e.flags&131072)!==0&&(sn=!0);else return n.lanes=e.lanes,za(e,n,h)}return cf(e,n,s,c,h)}function eg(e,n,s,c){var h=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|s:s,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~g}else c=0,n.child=null;return tg(e,n,g,s,c)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,g!==null?g.cachePool:null),g!==null?ip(n,g):Id(),ap(n);else return c=n.lanes=536870912,tg(e,n,g!==null?g.baseLanes|s:s,s,c)}else g!==null?(ku(n,g.cachePool),ip(n,g),fs(),n.memoizedState=null):(e!==null&&ku(n,null),Id(),fs());return Sn(e,n,h,s),n.child}function go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function tg(e,n,s,c,h){var g=Md();return g=g===null?null:{parent:nn._currentValue,pool:g},n.memoizedState={baseLanes:s,cachePool:g},e!==null&&ku(n,null),Id(),ap(n),e!==null&&Wr(e,n,c,!0),n.childLanes=h,null}function Ku(e,n){return n=Vu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ng(e,n,s){return dr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,fi(n),n.memoizedState=null,e}function tb(e,n,s){var c=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(tt){if(c.mode==="hidden")return e=Ku(n,c),n.lanes=536870912,go(null,e);if(Zd(n),(e=ct)?(e=my(e,Yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fe!==null?{id:be,overflow:Te}:null,retryLane:536870912,hydrationErrors:null},s=eo(e),s.return=n,n.child=s,ut=n,ct=null)):e=null,e===null)throw da(n);return n.lanes=536870912,null}return Ku(n,c)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(Zd(n),h)if(n.flags&256)n.flags&=-257,n=ng(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(sn||Wr(e,n,s,!1),h=(s&e.childLanes)!==0,sn||h){if(c=Et,c!==null&&(N=zr(c,s),N!==0&&N!==g.retryLane))throw g.retryLane=N,ji(e,N),ei(c,e,N),uf;nc(),n=ng(e,n,s)}else e=g.treeContext,ct=ki(N.nextSibling),ut=n,tt=!0,ca=null,Yn=!1,e!==null&&In(n,e),n=Ku(n,c),n.flags|=4096;return n}return e=Ti(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function cf(e,n,s,c,h){return lr(n),s=Fd(e,n,s,c,void 0,h),c=Hd(),e!==null&&!sn?(Kd(e,n,h),za(e,n,h)):(tt&&c&&cn(n),n.flags|=1,Sn(e,n,s,h),n.child)}function ig(e,n,s,c,h,g){return lr(n),n.updateQueue=null,s=rp(n,c,s,h),sp(e),c=Hd(),e!==null&&!sn?(Kd(e,n,g),za(e,n,g)):(tt&&c&&cn(n),n.flags|=1,Sn(e,n,s,g),n.child)}function ag(e,n,s,c,h){if(lr(n),n.stateNode===null){var g=Ea,N=s.contextType;typeof N=="object"&&N!==null&&(g=Nn(N)),g=new s(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=lf,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Ld(n),N=s.contextType,g.context=typeof N=="object"&&N!==null?Nn(N):Ea,g.state=n.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(rf(n,s,N,c),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&lf.enqueueReplaceState(g,g.state,null),co(n,c,g,h),uo(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,B=hr(s,T);g.props=B;var oe=g.context,ye=s.contextType;N=Ea,typeof ye=="object"&&ye!==null&&(N=Nn(ye));var Ne=s.getDerivedStateFromProps;ye=typeof Ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,ye||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||oe!==N)&&Hp(n,g,c,N),os=!1;var he=n.memoizedState;g.state=he,co(n,c,g,h),uo(),oe=n.memoizedState,T||he!==oe||os?(typeof Ne=="function"&&(rf(n,s,Ne,c),oe=n.memoizedState),(B=os||Fp(n,s,B,c,he,oe,N))?(ye||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=oe),g.props=c,g.state=oe,g.context=N,c=B):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Dd(e,n),N=n.memoizedProps,ye=hr(s,N),g.props=ye,Ne=n.pendingProps,he=g.context,oe=s.contextType,B=Ea,typeof oe=="object"&&oe!==null&&(B=Nn(oe)),T=s.getDerivedStateFromProps,(oe=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==Ne||he!==B)&&Hp(n,g,c,B),os=!1,he=n.memoizedState,g.state=he,co(n,c,g,h),uo();var me=n.memoizedState;N!==Ne||he!==me||os||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof T=="function"&&(rf(n,s,T,c),me=n.memoizedState),(ye=os||Fp(n,s,ye,c,he,me,B)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(oe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,me,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,me,B)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&he===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&he===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=me),g.props=c,g.state=me,g.context=B,c=ye):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&he===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&he===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Qu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=dr(n,e.child,null,h),n.child=dr(n,null,s,h)):Sn(e,n,s,h),n.memoizedState=g.state,e=n.child):e=za(e,n,h),e}function sg(e,n,s,c){return Ta(),n.flags|=256,Sn(e,n,s,c),n.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(e){return{baseLanes:e,cachePool:Gm()}}function hf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=mi),e}function rg(e,n,s){var c=n.pendingProps,h=!1,g=(n.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(Xt.current&2)!==0),N&&(h=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(tt){if(h?ds(n):fs(),(e=ct)?(e=my(e,Yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fe!==null?{id:be,overflow:Te}:null,retryLane:536870912,hydrationErrors:null},s=eo(e),s.return=n,n.child=s,ut=n,ct=null)):e=null,e===null)throw da(n);return Yf(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,h?(fs(),h=n.mode,T=Vu({mode:"hidden",children:T},h),c=ja(c,h,s,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=ff(s),c.childLanes=hf(e,N,s),n.memoizedState=df,go(null,c)):(ds(n),mf(n,T))}var B=e.memoizedState;if(B!==null&&(T=B.dehydrated,T!==null)){if(g)n.flags&256?(ds(n),n.flags&=-257,n=pf(e,n,s)):n.memoizedState!==null?(fs(),n.child=e.child,n.flags|=128,n=null):(fs(),T=c.fallback,h=n.mode,c=Vu({mode:"visible",children:c.children},h),T=ja(T,h,s,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,dr(n,e.child,null,s),c=n.child,c.memoizedState=ff(s),c.childLanes=hf(e,N,s),n.memoizedState=df,n=go(null,c));else if(ds(n),Yf(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var oe=N.dgst;N=oe,c=Error(o(419)),c.stack="",c.digest=N,sr({value:c,source:null,stack:null}),n=pf(e,n,s)}else if(sn||Wr(e,n,s,!1),N=(s&e.childLanes)!==0,sn||N){if(N=Et,N!==null&&(c=zr(N,s),c!==0&&c!==B.retryLane))throw B.retryLane=c,ji(e,c),ei(N,e,c),uf;Gf(T)||nc(),n=pf(e,n,s)}else Gf(T)?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,ct=ki(T.nextSibling),ut=n,tt=!0,ca=null,Yn=!1,e!==null&&In(n,e),n=mf(n,c.children),n.flags|=4096);return n}return h?(fs(),T=c.fallback,h=n.mode,B=e.child,oe=B.sibling,c=Ti(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,oe!==null?T=Ti(oe,T):(T=ja(T,h,s,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,go(null,c),c=n.child,T=e.child.memoizedState,T===null?T=ff(s):(h=T.cachePool,h!==null?(B=nn._currentValue,h=h.parent!==B?{parent:B,pool:B}:h):h=Gm(),T={baseLanes:T.baseLanes|s,cachePool:h}),c.memoizedState=T,c.childLanes=hf(e,N,s),n.memoizedState=df,go(e.child,c)):(ds(n),s=e.child,e=s.sibling,s=Ti(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=s,n.memoizedState=null,s)}function mf(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=Mn(22,e,null,n),e.lanes=0,e}function pf(e,n,s){return dr(n,e.child,null,s),e=mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lg(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),kd(e.return,n,s)}function gf(e,n,s,c,h,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h,treeForkCount:g}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=s,N.tailMode=h,N.treeForkCount=g)}function og(e,n,s){var c=n.pendingProps,h=c.revealOrder,g=c.tail;c=c.children;var N=Xt.current,T=(N&2)!==0;if(T?(N=N&1|2,n.flags|=128):N&=1,F(Xt,N),Sn(e,n,c,s),c=tt?j:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lg(e,s,n);else if(e.tag===19)lg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),gf(n,!1,h,s,g,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}gf(n,!0,s,null,g,c);break;case"together":gf(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function za(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Wr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,s=Ti(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ti(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function yf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function nb(e,n,s){switch(n.tag){case 3:Ke(n,n.stateNode.containerInfo),ls(n,nn,e.memoizedState.cache),Ta();break;case 27:case 5:Tt(n);break;case 4:Ke(n,n.stateNode.containerInfo);break;case 10:ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(ds(n),n.flags|=128,null):(s&n.child.childLanes)!==0?rg(e,n,s):(ds(n),e=za(e,n,s),e!==null?e.sibling:null);ds(n);break;case 19:var h=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(Wr(e,n,s,!1),c=(s&n.childLanes)!==0),h){if(c)return og(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(Xt,Xt.current),c)break;return null;case 22:return n.lanes=0,eg(e,n,s,n.pendingProps);case 24:ls(n,nn,e.memoizedState.cache)}return za(e,n,s)}function ug(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)sn=!0;else{if(!yf(e,s)&&(n.flags&128)===0)return sn=!1,nb(e,n,s);sn=(e.flags&131072)!==0}else sn=!1,tt&&(n.flags&1048576)!==0&&Xe(n,j,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=ur(n.elementType),n.type=e,typeof e=="function")$r(e)?(c=hr(e,c),n.tag=1,n=ag(null,n,e,c,s)):(n.tag=0,n=cf(null,n,e,c,s));else{if(e!=null){var h=e.$$typeof;if(h===Q){n.tag=11,n=Xp(null,n,e,c,s);break e}else if(h===ee){n.tag=14,n=Jp(null,n,e,c,s);break e}}throw n=q(e)||e,Error(o(306,n,""))}}return n;case 0:return cf(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,h=hr(c,n.pendingProps),ag(e,n,c,h,s);case 3:e:{if(Ke(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;h=g.element,Dd(e,n),co(n,c,null,s);var N=n.memoizedState;if(c=N.cache,ls(n,nn,c),c!==g.cache&&Ad(n,[nn],s,!0),uo(),c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=sg(e,n,c,s);break e}else if(c!==h){h=u(Error(o(424)),n),sr(h),n=sg(e,n,c,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ct=ki(e.firstChild),ut=n,tt=!0,ca=null,Yn=!0,s=ep(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ta(),c===h){n=za(e,n,s);break e}Sn(e,n,c,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=xy(n.type,null,n.pendingProps,null))?n.memoizedState=s:tt||(s=n.type,e=n.pendingProps,c=uc(we.current).createElement(s),c[qt]=n,c[tn]=e,wn(c,s,e),Pt(c),n.stateNode=c):n.memoizedState=xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Tt(n),e===null&&tt&&(c=n.stateNode=yy(n.type,n.pendingProps,we.current),ut=n,Yn=!0,h=ct,xs(n.type)?($f=h,ct=ki(c.firstChild)):ct=h),Sn(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&tt&&((h=c=ct)&&(c=Ob(c,n.type,n.pendingProps,Yn),c!==null?(n.stateNode=c,ut=n,ct=ki(c.firstChild),Yn=!1,h=!0):h=!1),h||da(n)),Tt(n),h=n.type,g=n.pendingProps,N=e!==null?e.memoizedProps:null,c=g.children,Kf(h,g)?c=null:N!==null&&Kf(h,N)&&(n.flags|=32),n.memoizedState!==null&&(h=Fd(e,n,V0,null,null,s),zo._currentValue=h),Qu(e,n),Sn(e,n,c,s),n.child;case 6:return e===null&&tt&&((e=s=ct)&&(s=Mb(s,n.pendingProps,Yn),s!==null?(n.stateNode=s,ut=n,ct=null,e=!0):e=!1),e||da(n)),null;case 13:return rg(e,n,s);case 4:return Ke(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=dr(n,null,c,s):Sn(e,n,c,s),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,s);case 7:return Sn(e,n,n.pendingProps,s),n.child;case 8:return Sn(e,n,n.pendingProps.children,s),n.child;case 12:return Sn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,ls(n,n.type,c.value),Sn(e,n,c.children,s),n.child;case 9:return h=n.type._context,c=n.pendingProps.children,lr(n),h=Nn(h),c=c(h),n.flags|=1,Sn(e,n,c,s),n.child;case 14:return Jp(e,n,n.type,n.pendingProps,s);case 15:return Wp(e,n,n.type,n.pendingProps,s);case 19:return og(e,n,s);case 31:return tb(e,n,s);case 22:return eg(e,n,s,n.pendingProps);case 24:return lr(n),c=Nn(nn),e===null?(h=Md(),h===null&&(h=Et,g=zd(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=s),h=g),n.memoizedState={parent:c,cache:h},Ld(n),ls(n,nn,h)):((e.lanes&s)!==0&&(Dd(e,n),co(n,null,null,s),uo()),h=e.memoizedState,g=n.memoizedState,h.parent!==c?(h={parent:c,cache:c},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ls(n,nn,c)):(c=g.cache,ls(n,nn,c),c!==h.cache&&Ad(n,[nn],s,!0))),Sn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Oa(e){e.flags|=4}function vf(e,n,s,c,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dg())e.flags|=8192;else throw cr=zu,Rd}else e.flags&=-16777217}function cg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ey(n))if(Dg())e.flags|=8192;else throw cr=zu,Rd}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?kr():536870912,e.lanes|=n,dl|=n)}function yo(e,n){if(!tt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function ib(e,n,s){var c=n.pendingProps;switch(Ht(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return kt(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Ca(nn),qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Hi(n)?Oa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,io())),kt(n),null;case 26:var h=n.type,g=n.memoizedState;return e===null?(Oa(n),g!==null?(kt(n),cg(n,g)):(kt(n),vf(n,h,null,c,s))):g?g!==e.memoizedState?(Oa(n),kt(n),cg(n,g)):(kt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Oa(n),kt(n),vf(n,h,e,c,s)),null;case 27:if(at(n),s=we.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return kt(n),null}e=W.current,Hi(n)?no(n):(e=yy(h,c,s),n.stateNode=e,Oa(n))}return kt(n),null;case 5:if(at(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return kt(n),null}if(g=W.current,Hi(n))no(n);else{var N=uc(we.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?N.createElement(h,{is:c.is}):N.createElement(h)}}g[qt]=n,g[tn]=c;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=g;e:switch(wn(g,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Oa(n)}}return kt(n),vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=we.current,Hi(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,h=ut,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}e[qt]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||ry(e.nodeValue,s)),e||da(n,!0)}else e=uc(e).createTextNode(c),e[qt]=n,n.stateNode=e}return kt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(c=Hi(n),s!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[qt]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;kt(n),e=!1}else s=io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(fi(n),n):(fi(n),null);if((n.flags&128)!==0)throw Error(o(558))}return kt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Hi(n),c!==null&&c.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[qt]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;kt(n),h=!1}else h=io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fi(n),n):(fi(n),null)}return fi(n),(n.flags&128)!==0?(n.lanes=s,n):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=n.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),kt(n),null);case 4:return qe(),e===null&&Uf(n.stateNode.containerInfo),kt(n),null;case 10:return Ca(n.type),kt(n),null;case 19:if(Y(Xt),c=n.memoizedState,c===null)return kt(n),null;if(h=(n.flags&128)!==0,g=c.rendering,g===null)if(h)yo(c,!1);else{if(Qt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Lu(e),g!==null){for(n.flags|=128,yo(c,!1),e=g.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Wl(s,e),s=s.sibling;return F(Xt,Xt.current&1|2),tt&&De(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&vt()>Wu&&(n.flags|=128,h=!0,yo(c,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(g),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),yo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return kt(n),null}else 2*vt()-c.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,yo(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=vt(),e.sibling=null,s=Xt.current,F(Xt,h?s&1|2:s&1),tt&&De(n,c.treeForkCount),e):(kt(n),null);case 22:case 23:return fi(n),Ud(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&Y(or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ca(nn),kt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function ab(e,n){switch(Ht(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ca(nn),qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return at(n),null;case 31:if(n.memoizedState!==null){if(fi(n),n.alternate===null)throw Error(o(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Xt),null;case 4:return qe(),null;case 10:return Ca(n.type),null;case 22:case 23:return fi(n),Ud(),e!==null&&Y(or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ca(nn),null;case 25:return null;default:return null}}function dg(e,n){switch(Ht(n),n.tag){case 3:Ca(nn),qe();break;case 26:case 27:case 5:at(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&fi(n);break;case 13:fi(n);break;case 19:Y(Xt);break;case 10:Ca(n.type);break;case 22:case 23:fi(n),Ud(),e!==null&&Y(or);break;case 24:Ca(nn)}}function vo(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&e)===e){c=void 0;var g=s.create,N=s.inst;c=g(),N.destroy=c}s=s.next}while(s!==h)}}catch(T){gt(n,n.return,T)}}function hs(e,n,s){try{var c=n.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&e)===e){var N=c.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,h=n;var B=s,oe=T;try{oe()}catch(ye){gt(h,B,ye)}}}c=c.next}while(c!==g)}}catch(ye){gt(n,n.return,ye)}}function fg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{np(n,s)}catch(c){gt(e,e.return,c)}}}function hg(e,n,s){s.props=hr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){gt(e,n,c)}}function _o(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(h){gt(e,n,h)}}function ha(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(h){gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){gt(e,n,h)}else s.current=null}function mg(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(h){gt(e,e.return,h)}}function _f(e,n,s){try{var c=e.stateNode;jb(c,e.type,s,n),c[tn]=n}catch(h){gt(e,e.return,h)}}function pg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(c!==4&&(c===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(bf(e,n,s),e=e.sibling;e!==null;)bf(e,n,s),e=e.sibling}function Yu(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function gg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);wn(n,c,s),n[qt]=e,n[tn]=s}catch(g){gt(e,e.return,g)}}var Ma=!1,rn=!1,Nf=!1,yg=typeof WeakSet=="function"?WeakSet:Set,vn=null;function sb(e,n){if(e=e.containerInfo,Ff=gc,e=Xs(e),sa(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var N=0,T=-1,B=-1,oe=0,ye=0,Ne=e,he=null;t:for(;;){for(var me;Ne!==s||h!==0&&Ne.nodeType!==3||(T=N+h),Ne!==g||c!==0&&Ne.nodeType!==3||(B=N+c),Ne.nodeType===3&&(N+=Ne.nodeValue.length),(me=Ne.firstChild)!==null;)he=Ne,Ne=me;for(;;){if(Ne===e)break t;if(he===s&&++oe===h&&(T=N),he===g&&++ye===c&&(B=N),(me=Ne.nextSibling)!==null)break;Ne=he,he=Ne.parentNode}Ne=me}s=T===-1||B===-1?null:{start:T,end:B}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:e,selectionRange:s},gc=!1,vn=n;vn!==null;)if(n=vn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,vn=e;else for(;vn!==null;){switch(n=vn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,s=n,h=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var Me=hr(s.type,h);e=c.getSnapshotBeforeUpdate(Me,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){gt(s,s.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Vf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,vn=e;break}vn=n.return}}function vg(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:La(e,s),c&4&&vo(5,s);break;case 1:if(La(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(N){gt(s,s.return,N)}else{var h=hr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){gt(s,s.return,N)}}c&64&&fg(s),c&512&&_o(s,s.return);break;case 3:if(La(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{np(e,n)}catch(N){gt(s,s.return,N)}}break;case 27:n===null&&c&4&&gg(s);case 26:case 5:La(e,s),n===null&&c&4&&mg(s),c&512&&_o(s,s.return);break;case 12:La(e,s);break;case 31:La(e,s),c&4&&bg(e,s);break;case 13:La(e,s),c&4&&Ng(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=mb.bind(null,s),Rb(e,s))));break;case 22:if(c=s.memoizedState!==null||Ma,!c){n=n!==null&&n.memoizedState!==null||rn,h=Ma;var g=rn;Ma=c,(rn=n)&&!g?Da(e,s,(s.subtreeFlags&8772)!==0):La(e,s),Ma=h,rn=g}break;case 30:break;default:La(e,s)}}function _g(e){var n=e.alternate;n!==null&&(e.alternate=null,_g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&R(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,$n=!1;function Ra(e,n,s){for(s=s.child;s!==null;)xg(e,n,s),s=s.sibling}function xg(e,n,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:rn||ha(s,n),Ra(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rn||ha(s,n);var c=Mt,h=$n;xs(s.type)&&(Mt=s.stateNode,$n=!1),Ra(e,n,s),Co(s.stateNode),Mt=c,$n=h;break;case 5:rn||ha(s,n);case 6:if(c=Mt,h=$n,Mt=null,Ra(e,n,s),Mt=c,$n=h,Mt!==null)if($n)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(s.stateNode)}catch(g){gt(s,n,g)}else try{Mt.removeChild(s.stateNode)}catch(g){gt(s,n,g)}break;case 18:Mt!==null&&($n?(e=Mt,fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),_l(e)):fy(Mt,s.stateNode));break;case 4:c=Mt,h=$n,Mt=s.stateNode.containerInfo,$n=!0,Ra(e,n,s),Mt=c,$n=h;break;case 0:case 11:case 14:case 15:hs(2,s,n),rn||hs(4,s,n),Ra(e,n,s);break;case 1:rn||(ha(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&hg(s,n,c)),Ra(e,n,s);break;case 21:Ra(e,n,s);break;case 22:rn=(c=rn)||s.memoizedState!==null,Ra(e,n,s),rn=c;break;default:Ra(e,n,s)}}function bg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_l(e)}catch(s){gt(n,n.return,s)}}}function Ng(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_l(e)}catch(s){gt(n,n.return,s)}}function rb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yg),n;default:throw Error(o(435,e.tag))}}function $u(e,n){var s=rb(e);n.forEach(function(c){if(!s.has(c)){s.add(c);var h=pb.bind(null,e,c);c.then(h,h)}})}function Xn(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c],g=e,N=n,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(xs(T.type)){Mt=T.stateNode,$n=!1;break e}break;case 5:Mt=T.stateNode,$n=!1;break e;case 3:case 4:Mt=T.stateNode.containerInfo,$n=!0;break e}T=T.return}if(Mt===null)throw Error(o(160));xg(g,N,h),Mt=null,$n=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sg(n,e),n=n.sibling}var Qi=null;function Sg(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xn(n,e),Jn(e),c&4&&(hs(3,e,e.return),vo(3,e),hs(5,e,e.return));break;case 1:Xn(n,e),Jn(e),c&512&&(rn||s===null||ha(s,s.return)),c&64&&Ma&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var h=Qi;if(Xn(n,e),Jn(e),c&512&&(rn||s===null||ha(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[_a]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),wn(g,c,s),g[qt]=e,Pt(g),c=g;break e;case"link":var N=Sy("link","href",h).get(c+(s.href||""));if(N){for(var T=0;T<N.length;T++)if(g=N[T],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){N.splice(T,1);break t}}g=h.createElement(c),wn(g,c,s),h.head.appendChild(g);break;case"meta":if(N=Sy("meta","content",h).get(c+(s.content||""))){for(T=0;T<N.length;T++)if(g=N[T],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){N.splice(T,1);break t}}g=h.createElement(c),wn(g,c,s),h.head.appendChild(g);break;default:throw Error(o(468,c))}g[qt]=e,Pt(g),c=g}e.stateNode=c}else wy(h,e.type,e.stateNode);else e.stateNode=Ny(h,c,e.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?wy(h,e.type,e.stateNode):Ny(h,c,e.memoizedProps)):c===null&&e.stateNode!==null&&_f(e,e.memoizedProps,s.memoizedProps)}break;case 27:Xn(n,e),Jn(e),c&512&&(rn||s===null||ha(s,s.return)),s!==null&&c&4&&_f(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Xn(n,e),Jn(e),c&512&&(rn||s===null||ha(s,s.return)),e.flags&32){h=e.stateNode;try{xi(h,"")}catch(Me){gt(e,e.return,Me)}}c&4&&e.stateNode!=null&&(h=e.memoizedProps,_f(e,h,s!==null?s.memoizedProps:h)),c&1024&&(Nf=!0);break;case 6:if(Xn(n,e),Jn(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(Me){gt(e,e.return,Me)}}break;case 3:if(fc=null,h=Qi,Qi=cc(n.containerInfo),Xn(n,e),Qi=h,Jn(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{_l(n.containerInfo)}catch(Me){gt(e,e.return,Me)}Nf&&(Nf=!1,wg(e));break;case 4:c=Qi,Qi=cc(e.stateNode.containerInfo),Xn(n,e),Jn(e),Qi=c;break;case 12:Xn(n,e),Jn(e);break;case 31:Xn(n,e),Jn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,$u(e,c)));break;case 13:Xn(n,e),Jn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=vt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,$u(e,c)));break;case 22:h=e.memoizedState!==null;var B=s!==null&&s.memoizedState!==null,oe=Ma,ye=rn;if(Ma=oe||h,rn=ye||B,Xn(n,e),rn=ye,Ma=oe,Jn(e),c&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||B||Ma||rn||mr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){B=s=n;try{if(g=B.stateNode,h)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=B.stateNode;var Ne=B.memoizedProps.style,he=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;T.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Me){gt(B,B.return,Me)}}}else if(n.tag===6){if(s===null){B=n;try{B.stateNode.nodeValue=h?"":B.memoizedProps}catch(Me){gt(B,B.return,Me)}}}else if(n.tag===18){if(s===null){B=n;try{var me=B.stateNode;h?hy(me,!0):hy(B.stateNode,!1)}catch(Me){gt(B,B.return,Me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,$u(e,s))));break;case 19:Xn(n,e),Jn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,$u(e,c)));break;case 30:break;case 21:break;default:Xn(n,e),Jn(e)}}function Jn(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(pg(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var h=s.stateNode,g=xf(e);Yu(e,g,h);break;case 5:var N=s.stateNode;s.flags&32&&(xi(N,""),s.flags&=-33);var T=xf(e);Yu(e,T,N);break;case 3:case 4:var B=s.stateNode.containerInfo,oe=xf(e);bf(e,oe,B);break;default:throw Error(o(161))}}catch(ye){gt(e,e.return,ye)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function La(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vg(e,n.alternate,n),n=n.sibling}function mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:hs(4,n,n.return),mr(n);break;case 1:ha(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hg(n,n.return,s),mr(n);break;case 27:Co(n.stateNode);case 26:case 5:ha(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}e=e.sibling}}function Da(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,h=e,g=n,N=g.flags;switch(g.tag){case 0:case 11:case 15:Da(h,g,s),vo(4,g);break;case 1:if(Da(h,g,s),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(oe){gt(c,c.return,oe)}if(c=g,h=c.updateQueue,h!==null){var T=c.stateNode;try{var B=h.shared.hiddenCallbacks;if(B!==null)for(h.shared.hiddenCallbacks=null,h=0;h<B.length;h++)tp(B[h],T)}catch(oe){gt(c,c.return,oe)}}s&&N&64&&fg(g),_o(g,g.return);break;case 27:gg(g);case 26:case 5:Da(h,g,s),s&&c===null&&N&4&&mg(g),_o(g,g.return);break;case 12:Da(h,g,s);break;case 31:Da(h,g,s),s&&N&4&&bg(h,g);break;case 13:Da(h,g,s),s&&N&4&&Ng(h,g);break;case 22:g.memoizedState===null&&Da(h,g,s),_o(g,g.return);break;case 30:break;default:Da(h,g,s)}n=n.sibling}}function Sf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ao(s))}function wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ao(e))}function Vi(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Eg(e,n,s,c),n=n.sibling}function Eg(e,n,s,c){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Vi(e,n,s,c),h&2048&&vo(9,n);break;case 1:Vi(e,n,s,c);break;case 3:Vi(e,n,s,c),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ao(e)));break;case 12:if(h&2048){Vi(e,n,s,c),e=n.stateNode;try{var g=n.memoizedProps,N=g.id,T=g.onPostCommit;typeof T=="function"&&T(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){gt(n,n.return,B)}}else Vi(e,n,s,c);break;case 31:Vi(e,n,s,c);break;case 13:Vi(e,n,s,c);break;case 23:break;case 22:g=n.stateNode,N=n.alternate,n.memoizedState!==null?g._visibility&2?Vi(e,n,s,c):xo(e,n):g._visibility&2?Vi(e,n,s,c):(g._visibility|=2,ol(e,n,s,c,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Sf(N,n);break;case 24:Vi(e,n,s,c),h&2048&&wf(n.alternate,n);break;default:Vi(e,n,s,c)}}function ol(e,n,s,c,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,N=n,T=s,B=c,oe=N.flags;switch(N.tag){case 0:case 11:case 15:ol(g,N,T,B,h),vo(8,N);break;case 23:break;case 22:var ye=N.stateNode;N.memoizedState!==null?ye._visibility&2?ol(g,N,T,B,h):xo(g,N):(ye._visibility|=2,ol(g,N,T,B,h)),h&&oe&2048&&Sf(N.alternate,N);break;case 24:ol(g,N,T,B,h),h&&oe&2048&&wf(N.alternate,N);break;default:ol(g,N,T,B,h)}n=n.sibling}}function xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,h=c.flags;switch(c.tag){case 22:xo(s,c),h&2048&&Sf(c.alternate,c);break;case 24:xo(s,c),h&2048&&wf(c.alternate,c);break;default:xo(s,c)}n=n.sibling}}var bo=8192;function ul(e,n,s){if(e.subtreeFlags&bo)for(e=e.child;e!==null;)jg(e,n,s),e=e.sibling}function jg(e,n,s){switch(e.tag){case 26:ul(e,n,s),e.flags&bo&&e.memoizedState!==null&&Qb(s,Qi,e.memoizedState,e.memoizedProps);break;case 5:ul(e,n,s);break;case 3:case 4:var c=Qi;Qi=cc(e.stateNode.containerInfo),ul(e,n,s),Qi=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=bo,bo=16777216,ul(e,n,s),bo=c):ul(e,n,s));break;default:ul(e,n,s)}}function Tg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function No(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];vn=c,kg(c,e)}Tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(e),e=e.sibling}function Cg(e){switch(e.tag){case 0:case 11:case 15:No(e),e.flags&2048&&hs(9,e,e.return);break;case 3:No(e);break;case 12:No(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):No(e);break;default:No(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];vn=c,kg(c,e)}Tg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:hs(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function kg(e,n){for(;vn!==null;){var s=vn;switch(s.tag){case 0:case 11:case 15:hs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ao(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,vn=c;else e:for(s=e;vn!==null;){c=vn;var h=c.sibling,g=c.return;if(_g(c),c===s){vn=null;break e}if(h!==null){h.return=g,vn=h;break e}vn=g}}}var lb={getCacheForType:function(e){var n=Nn(nn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Nn(nn).controller.signal}},ob=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,nt=null,rt=0,pt=0,hi=null,ms=!1,cl=!1,Ef=!1,Pa=0,Qt=0,ps=0,pr=0,jf=0,mi=0,dl=0,So=null,Wn=null,Tf=!1,Ju=0,Ag=0,Wu=1/0,ec=null,gs=null,dn=0,ys=null,fl=null,Ba=0,Cf=0,kf=null,zg=null,wo=0,Af=null;function pi(){return(ht&2)!==0&&rt!==0?rt&-rt:U.T!==null?Df():Rs()}function Og(){if(mi===0)if((rt&536870912)===0||tt){var e=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),mi=e}else mi=536870912;return e=di.current,e!==null&&(e.flags|=32),mi}function ei(e,n,s){(e===Et&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(hl(e,0),vs(e,rt,mi,!1)),si(e,s),((ht&2)===0||e!==Et)&&(e===Et&&((ht&2)===0&&(pr|=s),Qt===4&&vs(e,rt,mi,!1)),ma(e))}function Mg(e,n,s){if((ht&6)!==0)throw Error(o(327));var c=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ai(e,n),h=c?db(e,n):Of(e,n,!0),g=c;do{if(h===0){cl&&!c&&vs(e,n,0,!1);break}else{if(s=e.current.alternate,g&&!ub(s)){h=Of(e,n,!1),g=!1;continue}if(h===2){if(g=n,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var T=e;h=So;var B=T.current.memoizedState.isDehydrated;if(B&&(hl(T,N).flags|=256),N=Of(T,N,!1),N!==2){if(Ef&&!B){T.errorRecoveryDisabledLanes|=g,pr|=g,h=4;break e}g=Wn,Wn=h,g!==null&&(Wn===null?Wn=g:Wn.push.apply(Wn,g))}h=N}if(g=!1,h!==2)continue}}if(h===1){hl(e,0),vs(e,n,0,!0);break}e:{switch(c=e,g=h,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:vs(c,n,mi,!ms);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(h=Ju+300-vt(),10<h)){if(vs(c,n,mi,!ms),ea(c,0,!0)!==0)break e;Ba=n,c.timeoutHandle=cy(Rg.bind(null,c,s,Wn,ec,Tf,n,mi,pr,dl,ms,g,"Throttled",-0,0),h);break e}Rg(c,s,Wn,ec,Tf,n,mi,pr,dl,ms,g,null,-0,0)}}break}while(!0);ma(e)}function Rg(e,n,s,c,h,g,N,T,B,oe,ye,Ne,he,me){if(e.timeoutHandle=-1,Ne=n.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},jg(n,g,Ne);var Me=(g&62914560)===g?Ju-vt():(g&4194048)===g?Ag-vt():0;if(Me=Vb(Ne,Me),Me!==null){Ba=g,e.cancelPendingCommit=Me(qg.bind(null,e,n,g,s,c,h,N,T,B,ye,Ne,null,he,me)),vs(e,g,N,!oe);return}}qg(e,n,g,s,c,h,N,T,B)}function ub(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var h=s[c],g=h.getSnapshot;h=h.value;try{if(!gn(g(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(e,n,s,c){n&=~jf,n&=~pr,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var h=n;0<h;){var g=31-on(h),N=1<<g;c[g]=-1,h&=~N}s!==0&&va(e,s,n)}function tc(){return(ht&6)===0?(Eo(0),!1):!0}function zf(){if(nt!==null){if(pt===0)var e=nt.return;else e=nt,Ki=fa=null,Qd(e),il=null,ro=0,e=nt;for(;e!==null;)dg(e.alternate,e),e=e.return;nt=null}}function hl(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,kb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ba=0,zf(),Et=e,nt=s=Ti(e.current,null),rt=n,pt=0,hi=null,ms=!1,cl=ai(e,n),Ef=!1,dl=mi=jf=pr=ps=Qt=0,Wn=So=null,Tf=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var h=31-on(c),g=1<<h;n|=e[h],c&=~g}return Pa=n,nr(),s}function Lg(e,n){$e=null,U.H=po,n===nl||n===Au?(n=Xm(),pt=3):n===Rd?(n=Xm(),pt=4):pt=n===uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hi=n,nt===null&&(Qt=1,Hu(e,u(n,e.current)))}function Dg(){var e=di.current;return e===null?!0:(rt&4194048)===rt?Ci===null:(rt&62914560)===rt||(rt&536870912)!==0?e===Ci:!1}function Pg(){var e=U.H;return U.H=po,e===null?po:e}function Bg(){var e=U.A;return U.A=lb,e}function nc(){Qt=4,ms||(rt&4194048)!==rt&&di.current!==null||(cl=!0),(ps&134217727)===0&&(pr&134217727)===0||Et===null||vs(Et,rt,mi,!1)}function Of(e,n,s){var c=ht;ht|=2;var h=Pg(),g=Bg();(Et!==e||rt!==n)&&(ec=null,hl(e,n)),n=!1;var N=Qt;e:do try{if(pt!==0&&nt!==null){var T=nt,B=hi;switch(pt){case 8:zf(),N=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(n=!0);var oe=pt;if(pt=0,hi=null,ml(e,T,B,oe),s&&cl){N=0;break e}break;default:oe=pt,pt=0,hi=null,ml(e,T,B,oe)}}cb(),N=Qt;break}catch(ye){Lg(e,ye)}while(!0);return n&&e.shellSuspendCounter++,Ki=fa=null,ht=c,U.H=h,U.A=g,nt===null&&(Et=null,rt=0,nr()),N}function cb(){for(;nt!==null;)Ig(nt)}function db(e,n){var s=ht;ht|=2;var c=Pg(),h=Bg();Et!==e||rt!==n?(ec=null,Wu=vt()+500,hl(e,n)):cl=ai(e,n);e:do try{if(pt!==0&&nt!==null){n=nt;var g=hi;t:switch(pt){case 1:pt=0,hi=null,ml(e,n,g,1);break;case 2:case 9:if(Ym(g)){pt=0,hi=null,Ug(n);break}n=function(){pt!==2&&pt!==9||Et!==e||(pt=7),ma(e)},g.then(n,n);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Ym(g)?(pt=0,hi=null,Ug(n)):(pt=0,hi=null,ml(e,n,g,7));break;case 5:var N=null;switch(nt.tag){case 26:N=nt.memoizedState;case 5:case 27:var T=nt;if(N?Ey(N):T.stateNode.complete){pt=0,hi=null;var B=T.sibling;if(B!==null)nt=B;else{var oe=T.return;oe!==null?(nt=oe,ic(oe)):nt=null}break t}}pt=0,hi=null,ml(e,n,g,5);break;case 6:pt=0,hi=null,ml(e,n,g,6);break;case 8:zf(),Qt=6;break e;default:throw Error(o(462))}}fb();break}catch(ye){Lg(e,ye)}while(!0);return Ki=fa=null,U.H=c,U.A=h,ht=s,nt!==null?0:(Et=null,rt=0,nr(),Qt)}function fb(){for(;nt!==null&&!We();)Ig(nt)}function Ig(e){var n=ug(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,n===null?ic(e):nt=n}function Ug(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ig(s,n,n.pendingProps,n.type,void 0,rt);break;case 11:n=ig(s,n,n.pendingProps,n.type.render,n.ref,rt);break;case 5:Qd(n);default:dg(s,n),n=nt=Wl(n,Pa),n=ug(s,n,Pa)}e.memoizedProps=e.pendingProps,n===null?ic(e):nt=n}function ml(e,n,s,c){Ki=fa=null,Qd(n),il=null,ro=0;var h=n.return;try{if(eb(e,h,n,s,rt)){Qt=1,Hu(e,u(s,e.current)),nt=null;return}}catch(g){if(h!==null)throw nt=h,g;Qt=1,Hu(e,u(s,e.current)),nt=null;return}n.flags&32768?(tt||c===1?e=!0:cl||(rt&536870912)!==0?e=!1:(ms=e=!0,(c===2||c===9||c===3||c===6)&&(c=di.current,c!==null&&c.tag===13&&(c.flags|=16384))),Zg(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Zg(n,ms);return}e=n.return;var s=ib(n.alternate,n,Pa);if(s!==null){nt=s;return}if(n=n.sibling,n!==null){nt=n;return}nt=n=e}while(n!==null);Qt===0&&(Qt=5)}function Zg(e,n){do{var s=ab(e.alternate,e);if(s!==null){s.flags&=32767,nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){nt=e;return}nt=e=s}while(e!==null);Qt=6,nt=null}function qg(e,n,s,c,h,g,N,T,B){e.cancelPendingCommit=null;do ac();while(dn!==0);if((ht&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=Yr,Rl(e,s,g,N,T,B),e===Et&&(nt=Et=null,rt=0),fl=n,ys=e,Ba=s,Cf=g,kf=h,zg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gb(St,function(){return Vg(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,h=P.p,P.p=2,N=ht,ht|=4;try{sb(e,n,s)}finally{ht=N,P.p=h,U.T=c}}dn=1,Fg(),Hg(),Kg()}}function Fg(){if(dn===1){dn=0;var e=ys,n=fl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var c=P.p;P.p=2;var h=ht;ht|=4;try{Sg(n,e);var g=Hf,N=Xs(e.containerInfo),T=g.focusedElem,B=g.selectionRange;if(N!==T&&T&&T.ownerDocument&&Kr(T.ownerDocument.documentElement,T)){if(B!==null&&sa(T)){var oe=B.start,ye=B.end;if(ye===void 0&&(ye=oe),"selectionStart"in T)T.selectionStart=oe,T.selectionEnd=Math.min(ye,T.value.length);else{var Ne=T.ownerDocument||document,he=Ne&&Ne.defaultView||window;if(he.getSelection){var me=he.getSelection(),Me=T.textContent.length,Ue=Math.min(B.start,Me),Nt=B.end===void 0?Ue:Math.min(B.end,Me);!me.extend&&Ue>Nt&&(N=Nt,Nt=Ue,Ue=N);var ne=$s(T,Ue),K=$s(T,Nt);if(ne&&K&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==K.node||me.focusOffset!==K.offset)){var le=Ne.createRange();le.setStart(ne.node,ne.offset),me.removeAllRanges(),Ue>Nt?(me.addRange(le),me.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),me.addRange(le))}}}}for(Ne=[],me=T;me=me.parentNode;)me.nodeType===1&&Ne.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Ne.length;T++){var _e=Ne[T];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}gc=!!Ff,Hf=Ff=null}finally{ht=h,P.p=c,U.T=s}}e.current=n,dn=2}}function Hg(){if(dn===2){dn=0;var e=ys,n=fl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var c=P.p;P.p=2;var h=ht;ht|=4;try{vg(e,n.alternate,n)}finally{ht=h,P.p=c,U.T=s}}dn=3}}function Kg(){if(dn===4||dn===3){dn=0,zt();var e=ys,n=fl,s=Ba,c=zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?dn=5:(dn=0,fl=ys=null,Qg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gs=null),Oe(s),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=U.T,h=P.p,P.p=2,U.T=null;try{for(var g=e.onRecoverableError,N=0;N<c.length;N++){var T=c[N];g(T.value,{componentStack:T.stack})}}finally{U.T=n,P.p=h}}(Ba&3)!==0&&ac(),ma(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Af?wo++:(wo=0,Af=e):wo=0,Eo(0)}}function Qg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ao(n)))}function ac(){return Fg(),Hg(),Kg(),Vg()}function Vg(){if(dn!==5)return!1;var e=ys,n=Cf;Cf=0;var s=Oe(Ba),c=U.T,h=P.p;try{P.p=32>s?32:s,U.T=null,s=kf,kf=null;var g=ys,N=Ba;if(dn=0,fl=ys=null,Ba=0,(ht&6)!==0)throw Error(o(331));var T=ht;if(ht|=4,Cg(g.current),Eg(g,g.current,N,s),ht=T,Eo(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(kn,g)}catch{}return!0}finally{P.p=h,U.T=c,Qg(e,n)}}function Gg(e,n,s){n=u(s,n),n=of(e.stateNode,n,2),e=cs(e,n,2),e!==null&&(si(e,2),ma(e))}function gt(e,n,s){if(e.tag===3)Gg(e,e,s);else for(;n!==null;){if(n.tag===3){Gg(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gs===null||!gs.has(c))){e=u(s,e),s=Yp(2),c=cs(n,s,2),c!==null&&($p(s,c,n,e),si(c,2),ma(c));break}}n=n.return}}function Mf(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new ob;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(s)||(Ef=!0,h.add(s),e=hb.bind(null,e,n,s),n.then(e,e))}function hb(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Et===e&&(rt&s)===s&&(Qt===4||Qt===3&&(rt&62914560)===rt&&300>vt()-Ju?(ht&2)===0&&hl(e,0):jf|=s,dl===rt&&(dl=0)),ma(e)}function Yg(e,n){n===0&&(n=kr()),e=ji(e,n),e!==null&&(si(e,n),ma(e))}function mb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yg(e,s)}function pb(e,n){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),Yg(e,s)}function gb(e,n){return te(e,n)}var sc=null,pl=null,Rf=!1,rc=!1,Lf=!1,_s=0;function ma(e){e!==pl&&e.next===null&&(pl===null?sc=pl=e:pl=pl.next=e),rc=!0,Rf||(Rf=!0,vb())}function Eo(e,n){if(!Lf&&rc){Lf=!0;do for(var s=!1,c=sc;c!==null;){if(e!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var N=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-on(42|e)+1)-1,g&=h&~(N&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Wg(c,g))}else g=rt,g=ea(c,c===Et?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ai(c,g)||(s=!0,Wg(c,g));c=c.next}while(s);Lf=!1}}function yb(){$g()}function $g(){rc=Rf=!1;var e=0;_s!==0&&Cb()&&(e=_s);for(var n=vt(),s=null,c=sc;c!==null;){var h=c.next,g=Xg(c,n);g===0?(c.next=null,s===null?sc=h:s.next=h,h===null&&(pl=s)):(s=c,(e!==0||(g&3)!==0)&&(rc=!0)),c=h}dn!==0&&dn!==5||Eo(e),_s!==0&&(_s=0)}function Xg(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-on(g),T=1<<N,B=h[N];B===-1?((T&s)===0||(T&c)!==0)&&(h[N]=Cr(T,n)):B<=n&&(e.expiredLanes|=T),g&=~T}if(n=Et,s=rt,s=ea(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&je(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ai(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&je(c),Oe(s)){case 2:case 8:s=ze;break;case 32:s=St;break;case 268435456:s=Cn;break;default:s=St}return c=Jg.bind(null,e),s=te(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&je(c),e.callbackPriority=2,e.callbackNode=null,2}function Jg(e,n){if(dn!==0&&dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var c=rt;return c=ea(e,e===Et?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Mg(e,c,n),Xg(e,vt()),e.callbackNode!=null&&e.callbackNode===s?Jg.bind(null,e):null)}function Wg(e,n){if(ac())return null;Mg(e,n,!0)}function vb(){Ab(function(){(ht&6)!==0?te(G,yb):$g()})}function Df(){if(_s===0){var e=el;e===0&&(e=Li,Li<<=1,(Li&261888)===0&&(Li=256)),_s=e}return _s}function ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ga(""+e)}function ty(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function _b(e,n,s,c,h){if(n==="submit"&&s&&s.stateNode===h){var g=ey((h[tn]||null).action),N=c.submitter;N&&(n=(n=N[tn]||null)?ey(n.formAction):N.getAttribute("formAction"),n!==null&&(g=n,N=null));var T=new Br("action","action",null,c,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_s!==0){var B=N?ty(h,N):new FormData(h);tf(s,{pending:!0,data:B,method:h.method,action:g},null,B)}}else typeof g=="function"&&(T.preventDefault(),B=N?ty(h,N):new FormData(h),tf(s,{pending:!0,data:B,method:h.method,action:g},g,B))},currentTarget:h}]})}}for(var Pf=0;Pf<oa.length;Pf++){var Bf=oa[Pf],xb=Bf.toLowerCase(),bb=Bf[0].toUpperCase()+Bf.slice(1);Vn(xb,"on"+bb)}Vn(Ws,"onAnimationEnd"),Vn(wu,"onAnimationIteration"),Vn(er,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(jd,"onTransitionRun"),Vn(Eu,"onTransitionStart"),Vn(Td,"onTransitionCancel"),Vn(ss,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function ny(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],h=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var N=c.length-1;0<=N;N--){var T=c[N],B=T.instance,oe=T.currentTarget;if(T=T.listener,B!==g&&h.isPropagationStopped())break e;g=T,h.currentTarget=oe;try{g(h)}catch(ye){tr(ye)}h.currentTarget=null,g=B}else for(N=0;N<c.length;N++){if(T=c[N],B=T.instance,oe=T.currentTarget,T=T.listener,B!==g&&h.isPropagationStopped())break e;g=T,h.currentTarget=oe;try{g(h)}catch(ye){tr(ye)}h.currentTarget=null,g=B}}}}function it(e,n){var s=n[_i];s===void 0&&(s=n[_i]=new Set);var c=e+"__bubble";s.has(c)||(iy(n,e,2,!1),s.add(c))}function If(e,n,s){var c=0;n&&(c|=4),iy(s,e,c,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Uf(e){if(!e[lc]){e[lc]=!0,Ls.forEach(function(s){s!=="selectionchange"&&(Nb.has(s)||If(s,!1,e),If(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,If("selectionchange",!1,n))}}function iy(e,n,s,c){switch(Oy(n)){case 2:var h=$b;break;case 8:h=Xb;break;default:h=th}s=h.bind(null,n,s,e),h=void 0,!Zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Zf(e,n,s,c,h){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var T=c.stateNode.containerInfo;if(T===h)break;if(N===4)for(N=c.return;N!==null;){var B=N.tag;if((B===3||B===4)&&N.stateNode.containerInfo===h)return;N=N.return}for(;T!==null;){if(N=ke(T),N===null)return;if(B=N.tag,B===5||B===6||B===26||B===27){c=g=N;continue e}T=T.parentNode}}c=c.return}ql(function(){var oe=g,ye=Us(s),Ne=[];e:{var he=ju.get(e);if(he!==void 0){var me=Br,Me=e;switch(e){case"keypress":if(qs(s)===0)break e;case"keydown":case"keyup":me=fu;break;case"focusin":Me="focus",me=Kl;break;case"focusout":Me="blur",me=Kl;break;case"beforeblur":case"afterblur":me=Kl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=xd;break;case Ws:case wu:case er:me=Ql;break;case ss:me=pu;break;case"scroll":case"scrollend":me=st;break;case"wheel":me=wa;break;case"copy":case"cut":case"paste":me=Ni;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=hu;break;case"toggle":case"beforetoggle":me=Ks}var Ue=(n&4)!==0,Nt=!Ue&&(e==="scroll"||e==="scrollend"),ne=Ue?he!==null?he+"Capture":null:he;Ue=[];for(var K=oe,le;K!==null;){var _e=K;if(le=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||le===null||ne===null||(_e=Na(K,ne),_e!=null&&Ue.push(To(K,_e,le))),Nt)break;K=K.return}0<Ue.length&&(he=new me(he,Me,null,s,ye),Ne.push({event:he,listeners:Ue}))}}if((n&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",he&&s!==Pr&&(Me=s.relatedTarget||s.fromElement)&&(ke(Me)||Me[Pi]))break e;if((me||he)&&(he=ye.window===ye?ye:(he=ye.ownerDocument)?he.defaultView||he.parentWindow:window,me?(Me=s.relatedTarget||s.toElement,me=oe,Me=Me?ke(Me):null,Me!==null&&(Nt=m(Me),Ue=Me.tag,Me!==Nt||Ue!==5&&Ue!==27&&Ue!==6)&&(Me=null)):(me=null,Me=oe),me!==Me)){if(Ue=lu,_e="onMouseLeave",ne="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=hu,_e="onPointerLeave",ne="onPointerEnter",K="pointer"),Nt=me==null?he:zn(me),le=Me==null?he:zn(Me),he=new Ue(_e,K+"leave",me,s,ye),he.target=Nt,he.relatedTarget=le,_e=null,ke(ye)===oe&&(Ue=new Ue(ne,K+"enter",Me,s,ye),Ue.target=le,Ue.relatedTarget=Nt,_e=Ue),Nt=_e,me&&Me)t:{for(Ue=Sb,ne=me,K=Me,le=0,_e=ne;_e;_e=Ue(_e))le++;_e=0;for(var Pe=K;Pe;Pe=Ue(Pe))_e++;for(;0<le-_e;)ne=Ue(ne),le--;for(;0<_e-le;)K=Ue(K),_e--;for(;le--;){if(ne===K||K!==null&&ne===K.alternate){Ue=ne;break t}ne=Ue(ne),K=Ue(K)}Ue=null}else Ue=null;me!==null&&ay(Ne,he,me,Ue,!1),Me!==null&&Nt!==null&&ay(Ne,Nt,Me,Ue,!0)}}e:{if(he=oe?zn(oe):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var dt=Ys;else if(Si(he))if(_u)dt=Ed;else{dt=wd;var Re=qi}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?oe&&Is(oe.elementType)&&(dt=Ys):dt=ts;if(dt&&(dt=dt(e,oe))){vu(Ne,dt,s,ye);break e}Re&&Re(e,he,oe),e==="focusout"&&oe&&he.type==="number"&&oe.memoizedProps.value!=null&&Ii(he,"number",he.value)}switch(Re=oe?zn(oe):window,e){case"focusin":(Si(Re)||Re.contentEditable==="true")&&(ra=Re,Vr=oe,Js=null);break;case"focusout":Js=Vr=ra=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,Nu(Ne,s,ye);break;case"selectionchange":if(Qr)break;case"keydown":case"keyup":Nu(Ne,s,ye)}var Je;if(Ur)e:{switch(e){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Ja?yu(e,s)&&(lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(lt="onCompositionStart");lt&&(Zr&&s.locale!=="ko"&&(Ja||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Ja&&(Je=ia()):(bi=ye,Sa="value"in bi?bi.value:bi.textContent,Ja=!0)),Re=oc(oe,lt),0<Re.length&&(lt=new Vl(lt,e,null,s,ye),Ne.push({event:lt,listeners:Re}),Je?lt.data=Je:(Je=Xl(s),Je!==null&&(lt.data=Je)))),(Je=Nd?ci(e,s):Wa(e,s))&&(lt=oc(oe,"onBeforeInput"),0<lt.length&&(Re=new Vl("onBeforeInput","beforeinput",null,s,ye),Ne.push({event:Re,listeners:lt}),Re.data=Je)),_b(Ne,e,oe,s,ye)}ny(Ne,n)})}function To(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",c=[];e!==null;){var h=e,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Na(e,s),h!=null&&c.unshift(To(e,h,g)),h=Na(e,n),h!=null&&c.push(To(e,h,g))),e.tag===3)return c;e=e.return}return[]}function Sb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ay(e,n,s,c,h){for(var g=n._reactName,N=[];s!==null&&s!==c;){var T=s,B=T.alternate,oe=T.stateNode;if(T=T.tag,B!==null&&B===c)break;T!==5&&T!==26&&T!==27||oe===null||(B=oe,h?(oe=Na(s,g),oe!=null&&N.unshift(To(s,oe,B))):h||(oe=Na(s,g),oe!=null&&N.push(To(s,oe,B)))),s=s.return}N.length!==0&&e.push({event:n,listeners:N})}var wb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function sy(e){return(typeof e=="string"?e:""+e).replace(wb,`
`).replace(Eb,"")}function ry(e,n){return n=sy(n),sy(e)===n}function bt(e,n,s,c,h,g){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||xi(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&xi(e,""+c);break;case"className":_t(e,"class",c);break;case"tabIndex":_t(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_t(e,s,c);break;case"style":Lr(e,c,g);break;case"data":if(n!=="object"){_t(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Ga(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(n!=="input"&&bt(e,n,"name",h.name,h,null),bt(e,n,"formEncType",h.formEncType,h,null),bt(e,n,"formMethod",h.formMethod,h,null),bt(e,n,"formTarget",h.formTarget,h,null)):(bt(e,n,"encType",h.encType,h,null),bt(e,n,"method",h.method,h,null),bt(e,n,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Ga(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=Kn);break;case"onScroll":c!=null&&it("scroll",e);break;case"onScrollEnd":c!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=Ga(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":it("beforetoggle",e),it("toggle",e),et(e,"popover",c);break;case"xlinkActuate":Hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Hn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Hn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Hn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Hn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":et(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Dr.get(s)||s,et(e,s,c))}}function qf(e,n,s,c,h,g){switch(s){case"style":Lr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof c=="string"?xi(e,c):(typeof c=="number"||typeof c=="bigint")&&xi(e,""+c);break;case"onScroll":c!=null&&it("scroll",e);break;case"onScrollEnd":c!=null&&it("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!su.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),g=e[tn]||null,g=g!=null?g[s]:null,typeof g=="function"&&e.removeEventListener(n,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,h);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):et(e,s,c)}}}function wn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var c=!1,h=!1,g;for(g in s)if(s.hasOwnProperty(g)){var N=s[g];if(N!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:bt(e,n,g,N,s,null)}}h&&bt(e,n,"srcSet",s.srcSet,s,null),c&&bt(e,n,"src",s.src,s,null);return;case"input":it("invalid",e);var T=g=N=h=null,B=null,oe=null;for(c in s)if(s.hasOwnProperty(c)){var ye=s[c];if(ye!=null)switch(c){case"name":h=ye;break;case"type":N=ye;break;case"checked":B=ye;break;case"defaultChecked":oe=ye;break;case"value":g=ye;break;case"defaultValue":T=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,n));break;default:bt(e,n,c,ye,s,null)}}Bs(e,g,T,B,oe,N,h,!1);return;case"select":it("invalid",e),c=N=g=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":g=T;break;case"defaultValue":N=T;break;case"multiple":c=T;default:bt(e,n,h,T,s,null)}n=g,s=N,e.multiple=!!c,n!=null?wt(e,!!c,n,!1):s!=null&&wt(e,!!c,s,!0);return;case"textarea":it("invalid",e),g=h=c=null;for(N in s)if(s.hasOwnProperty(N)&&(T=s[N],T!=null))switch(N){case"value":c=T;break;case"defaultValue":h=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:bt(e,n,N,T,s,null)}Qa(e,c,h,g);return;case"option":for(B in s)s.hasOwnProperty(B)&&(c=s[B],c!=null)&&(B==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":bt(e,n,B,c,s,null));return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(c=0;c<jo.length;c++)it(jo[c],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in s)if(s.hasOwnProperty(oe)&&(c=s[oe],c!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:bt(e,n,oe,c,s,null)}return;default:if(Is(n)){for(ye in s)s.hasOwnProperty(ye)&&(c=s[ye],c!==void 0&&qf(e,n,ye,c,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(c=s[T],c!=null&&bt(e,n,T,c,s,null))}function jb(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,N=null,T=null,B=null,oe=null,ye=null;for(me in s){var Ne=s[me];if(s.hasOwnProperty(me)&&Ne!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":B=Ne;default:c.hasOwnProperty(me)||bt(e,n,me,null,c,Ne)}}for(var he in c){var me=c[he];if(Ne=s[he],c.hasOwnProperty(he)&&(me!=null||Ne!=null))switch(he){case"type":g=me;break;case"name":h=me;break;case"checked":oe=me;break;case"defaultChecked":ye=me;break;case"value":N=me;break;case"defaultValue":T=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,n));break;default:me!==Ne&&bt(e,n,he,me,c,Ne)}}Il(e,N,T,B,oe,ye,g,h);return;case"select":me=N=T=he=null;for(g in s)if(B=s[g],s.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":me=B;default:c.hasOwnProperty(g)||bt(e,n,g,null,c,B)}for(h in c)if(g=c[h],B=s[h],c.hasOwnProperty(h)&&(g!=null||B!=null))switch(h){case"value":he=g;break;case"defaultValue":T=g;break;case"multiple":N=g;default:g!==B&&bt(e,n,h,g,c,B)}n=T,s=N,c=me,he!=null?wt(e,!!s,he,!1):!!c!=!!s&&(n!=null?wt(e,!!s,n,!0):wt(e,!!s,s?[]:"",!1));return;case"textarea":me=he=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:bt(e,n,T,null,c,h)}for(N in c)if(h=c[N],g=s[N],c.hasOwnProperty(N)&&(h!=null||g!=null))switch(N){case"value":he=h;break;case"defaultValue":me=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==g&&bt(e,n,N,h,c,g)}na(e,he,me);return;case"option":for(var Me in s)he=s[Me],s.hasOwnProperty(Me)&&he!=null&&!c.hasOwnProperty(Me)&&(Me==="selected"?e.selected=!1:bt(e,n,Me,null,c,he));for(B in c)he=c[B],me=s[B],c.hasOwnProperty(B)&&he!==me&&(he!=null||me!=null)&&(B==="selected"?e.selected=he&&typeof he!="function"&&typeof he!="symbol":bt(e,n,B,he,c,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in s)he=s[Ue],s.hasOwnProperty(Ue)&&he!=null&&!c.hasOwnProperty(Ue)&&bt(e,n,Ue,null,c,he);for(oe in c)if(he=c[oe],me=s[oe],c.hasOwnProperty(oe)&&he!==me&&(he!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(o(137,n));break;default:bt(e,n,oe,he,c,me)}return;default:if(Is(n)){for(var Nt in s)he=s[Nt],s.hasOwnProperty(Nt)&&he!==void 0&&!c.hasOwnProperty(Nt)&&qf(e,n,Nt,void 0,c,he);for(ye in c)he=c[ye],me=s[ye],!c.hasOwnProperty(ye)||he===me||he===void 0&&me===void 0||qf(e,n,ye,he,c,me);return}}for(var ne in s)he=s[ne],s.hasOwnProperty(ne)&&he!=null&&!c.hasOwnProperty(ne)&&bt(e,n,ne,null,c,he);for(Ne in c)he=c[Ne],me=s[Ne],!c.hasOwnProperty(Ne)||he===me||he==null&&me==null||bt(e,n,Ne,he,c,me)}function ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var h=s[c],g=h.transferSize,N=h.initiatorType,T=h.duration;if(g&&T&&ly(N)){for(N=0,T=h.responseEnd,c+=1;c<s.length;c++){var B=s[c],oe=B.startTime;if(oe>T)break;var ye=B.transferSize,Ne=B.initiatorType;ye&&ly(Ne)&&(B=B.responseEnd,N+=ye*(B<T?1:(T-oe)/(B-oe)))}if(--c,n+=8*(g+N)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ff=null,Hf=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Kf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qf=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===Qf?!1:(Qf=e,!0):(Qf=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(e){return dy.resolve(null).then(e).catch(zb)}:cy;function zb(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function fy(e,n){var s=n,c=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(h),_l(n);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Co(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Co(s);for(var g=s.firstChild;g;){var N=g.nextSibling,T=g.nodeName;g[_a]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=N}}else s==="body"&&Co(e.ownerDocument.body);s=h}while(s);_l(n)}function hy(e,n){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function Vf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vf(s),R(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Ob(e,n,s,c){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[_a])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ki(e.nextSibling),e===null)break}return null}function Mb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ki(e.nextSibling),e===null))return null;return e}function my(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ki(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$?"||e.data==="$~"}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ki(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var $f=null;function py(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ki(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function yy(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Co(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);R(e)}var Ai=new Map,vy=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=P.d;P.d={f:Lb,r:Db,D:Pb,C:Bb,L:Ib,m:Ub,X:qb,S:Zb,M:Fb};function Lb(){var e=Ia.f(),n=tc();return e||n}function Db(e){var n=ot(e);n!==null&&n.tag===5&&n.type==="form"?Lp(n):Ia.r(e)}var gl=typeof document>"u"?null:document;function _y(e,n,s){var c=gl;if(c&&typeof n=="string"&&n){var h=Ct(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),vy.has(h)||(vy.add(h),e={rel:e,crossOrigin:s,href:n},c.querySelector(h)===null&&(n=c.createElement("link"),wn(n,"link",e),Pt(n),c.head.appendChild(n)))}}function Pb(e){Ia.D(e),_y("dns-prefetch",e,null)}function Bb(e,n){Ia.C(e,n),_y("preconnect",e,n)}function Ib(e,n,s){Ia.L(e,n,s);var c=gl;if(c&&e&&n){var h='link[rel="preload"][as="'+Ct(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ct(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ct(s.imageSizes)+'"]')):h+='[href="'+Ct(e)+'"]';var g=h;switch(n){case"style":g=yl(e);break;case"script":g=vl(e)}Ai.has(g)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ai.set(g,e),c.querySelector(h)!==null||n==="style"&&c.querySelector(ko(g))||n==="script"&&c.querySelector(Ao(g))||(n=c.createElement("link"),wn(n,"link",e),Pt(n),c.head.appendChild(n)))}}function Ub(e,n){Ia.m(e,n);var s=gl;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(e)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vl(e)}if(!Ai.has(g)&&(e=E({rel:"modulepreload",href:e},n),Ai.set(g,e),s.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ao(g)))return}c=s.createElement("link"),wn(c,"link",e),Pt(c),s.head.appendChild(c)}}}function Zb(e,n,s){Ia.S(e,n,s);var c=gl;if(c&&e){var h=Bi(c).hoistableStyles,g=yl(e);n=n||"default";var N=h.get(g);if(!N){var T={loading:0,preload:null};if(N=c.querySelector(ko(g)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ai.get(g))&&Xf(e,s);var B=N=c.createElement("link");Pt(B),wn(B,"link",e),B._p=new Promise(function(oe,ye){B.onload=oe,B.onerror=ye}),B.addEventListener("load",function(){T.loading|=1}),B.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:T},h.set(g,N)}}}function qb(e,n){Ia.X(e,n);var s=gl;if(s&&e){var c=Bi(s).hoistableScripts,h=vl(e),g=c.get(h);g||(g=s.querySelector(Ao(h)),g||(e=E({src:e,async:!0},n),(n=Ai.get(h))&&Jf(e,n),g=s.createElement("script"),Pt(g),wn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function Fb(e,n){Ia.M(e,n);var s=gl;if(s&&e){var c=Bi(s).hoistableScripts,h=vl(e),g=c.get(h);g||(g=s.querySelector(Ao(h)),g||(e=E({src:e,async:!0,type:"module"},n),(n=Ai.get(h))&&Jf(e,n),g=s.createElement("script"),Pt(g),wn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function xy(e,n,s,c){var h=(h=we.current)?cc(h):null;if(!h)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=yl(s.href),s=Bi(h).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=yl(s.href);var g=Bi(h).hoistableStyles,N=g.get(e);if(N||(h=h.ownerDocument||h,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=h.querySelector(ko(e)))&&!g._p&&(N.instance=g,N.state.loading=5),Ai.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ai.set(e,s),g||Hb(h,e,s,N.state))),n&&c===null)throw Error(o(528,""));return N}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vl(s),s=Bi(h).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yl(e){return'href="'+Ct(e)+'"'}function ko(e){return'link[rel="stylesheet"]['+e+"]"}function by(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Hb(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),wn(n,"link",s),Pt(n),e.head.appendChild(n))}function vl(e){return'[src="'+Ct(e)+'"]'}function Ao(e){return"script[async]"+e}function Ny(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Ct(s.href)+'"]');if(c)return n.instance=c,Pt(c),c;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Pt(c),wn(c,"style",h),dc(c,s.precedence,e),n.instance=c;case"stylesheet":h=yl(s.href);var g=e.querySelector(ko(h));if(g)return n.state.loading|=4,n.instance=g,Pt(g),g;c=by(s),(h=Ai.get(h))&&Xf(c,h),g=(e.ownerDocument||e).createElement("link"),Pt(g);var N=g;return N._p=new Promise(function(T,B){N.onload=T,N.onerror=B}),wn(g,"link",c),n.state.loading|=4,dc(g,s.precedence,e),n.instance=g;case"script":return g=vl(s.src),(h=e.querySelector(Ao(g)))?(n.instance=h,Pt(h),h):(c=s,(h=Ai.get(g))&&(c=E({},s),Jf(c,h)),e=e.ownerDocument||e,h=e.createElement("script"),Pt(h),wn(h,"link",c),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,dc(c,s.precedence,e));return n.instance}function dc(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,N=0;N<c.length;N++){var T=c[N];if(T.dataset.precedence===n)g=T;else if(g!==h)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function Sy(e,n,s){if(fc===null){var c=new Map,h=fc=new Map;h.set(s,c)}else h=fc,c=h.get(s),c||(c=new Map,h.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var g=s[h];if(!(g[_a]||g[qt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(n)||"";N=e+N;var T=c.get(N);T?T.push(g):c.set(N,[g])}}return c}function wy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Kb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ey(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Qb(e,n,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=yl(c.href),g=n.querySelector(ko(h));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=g,Pt(g);return}g=n.ownerDocument||n,c=by(c),(h=Ai.get(h))&&Xf(c,h),g=g.createElement("link"),Pt(g);var N=g;N._p=new Promise(function(T,B){N.onload=T,N.onerror=B}),wn(g,"link",c),s.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=hc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Wf=0;function Vb(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&Wf===0&&(Wf=62500*Tb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Wf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(Gb,e),mc=null,hc.call(e))}function Gb(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var c=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var N=h[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(s.set(N.dataset.precedence,N),c=N)}c&&s.set(null,c)}h=n.instance,N=h.getAttribute("data-precedence"),g=s.get(N)||c,g===c&&s.set(null,h),s.set(N,h),this.count++,c=hc.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var zo={$$typeof:Z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Yb(e,n,s,c,h,g,N,T,B){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function jy(e,n,s,c,h,g,N,T,B,oe,ye,Ne){return e=new Yb(e,n,s,N,B,oe,ye,Ne,T),n=1,g===!0&&(n|=24),g=Mn(3,null,null,n),e.current=g,g.stateNode=e,n=zd(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:n},Ld(g),e}function Ty(e){return e?(e=Ea,e):Ea}function Cy(e,n,s,c,h,g){h=Ty(h),c.context===null?c.context=h:c.pendingContext=h,c=us(n),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=cs(e,c,n),s!==null&&(ei(s,e,n),oo(s,e,n))}function ky(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function eh(e,n){ky(e,n),(e=e.alternate)&&ky(e,n)}function Ay(e){if(e.tag===13||e.tag===31){var n=ji(e,67108864);n!==null&&ei(n,e,67108864),eh(e,67108864)}}function zy(e){if(e.tag===13||e.tag===31){var n=pi();n=An(n);var s=ji(e,n);s!==null&&ei(s,e,n),eh(e,n)}}var gc=!0;function $b(e,n,s,c){var h=U.T;U.T=null;var g=P.p;try{P.p=2,th(e,n,s,c)}finally{P.p=g,U.T=h}}function Xb(e,n,s,c){var h=U.T;U.T=null;var g=P.p;try{P.p=8,th(e,n,s,c)}finally{P.p=g,U.T=h}}function th(e,n,s,c){if(gc){var h=nh(c);if(h===null)Zf(e,n,c,yc,s),My(e,c);else if(Wb(h,e,n,s,c))c.stopPropagation();else if(My(e,c),n&4&&-1<Jb.indexOf(e)){for(;h!==null;){var g=ot(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=vi(g.pendingLanes);if(N!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var B=1<<31-on(N);T.entanglements[1]|=B,N&=~B}ma(g),(ht&6)===0&&(Wu=vt()+500,Eo(0))}}break;case 31:case 13:T=ji(g,2),T!==null&&ei(T,g,2),tc(),eh(g,2)}if(g=nh(c),g===null&&Zf(e,n,c,yc,s),g===h)break;h=g}h!==null&&c.stopPropagation()}else Zf(e,n,c,null,s)}}function nh(e){return e=Us(e),ih(e)}var yc=null;function ih(e){if(yc=null,e=ke(e),e!==null){var n=m(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=p(n),e!==null)return e;e=null}else if(s===31){if(e=v(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function Oy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case G:return 2;case ze:return 8;case St:case Ye:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var ah=!1,bs=null,Ns=null,Ss=null,Oo=new Map,Mo=new Map,ws=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function My(e,n){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Ro(e,n,s,c,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},n!==null&&(n=ot(n),n!==null&&Ay(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Wb(e,n,s,c,h){switch(n){case"focusin":return bs=Ro(bs,e,n,s,c,h),!0;case"dragenter":return Ns=Ro(Ns,e,n,s,c,h),!0;case"mouseover":return Ss=Ro(Ss,e,n,s,c,h),!0;case"pointerover":var g=h.pointerId;return Oo.set(g,Ro(Oo.get(g)||null,e,n,s,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Mo.set(g,Ro(Mo.get(g)||null,e,n,s,c,h)),!0}return!1}function Ry(e){var n=ke(e.target);if(n!==null){var s=m(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){e.blockedOn=n,Ha(e.priority,function(){zy(s)});return}}else if(n===31){if(n=v(s),n!==null){e.blockedOn=n,Ha(e.priority,function(){zy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=nh(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Pr=c,s.target.dispatchEvent(c),Pr=null}else return n=ot(s),n!==null&&Ay(n),e.blockedOn=s,!1;n.shift()}return!0}function Ly(e,n,s){vc(e)&&s.delete(n)}function eN(){ah=!1,bs!==null&&vc(bs)&&(bs=null),Ns!==null&&vc(Ns)&&(Ns=null),Ss!==null&&vc(Ss)&&(Ss=null),Oo.forEach(Ly),Mo.forEach(Ly)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,ah||(ah=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eN)))}var xc=null;function Dy(e){xc!==e&&(xc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],h=e[n+2];if(typeof c!="function"){if(ih(c||s)===null)continue;break}var g=ot(s);g!==null&&(e.splice(n,3),n-=3,tf(g,{pending:!0,data:h,method:s.method,action:c},c,h))}}))}function _l(e){function n(B){return _c(B,e)}bs!==null&&_c(bs,e),Ns!==null&&_c(Ns,e),Ss!==null&&_c(Ss,e),Oo.forEach(n),Mo.forEach(n);for(var s=0;s<ws.length;s++){var c=ws[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ws.length&&(s=ws[0],s.blockedOn===null);)Ry(s),s.blockedOn===null&&ws.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var h=s[c],g=s[c+1],N=h[tn]||null;if(typeof g=="function")N||Dy(s);else if(N){var T=null;if(g&&g.hasAttribute("formAction")){if(h=g,N=g[tn]||null)T=N.formAction;else if(ih(h)!==null)continue}else T=N.action;typeof T=="function"?s[c+1]=T:(s.splice(c,3),c-=3),Dy(s)}}}function Py(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return h=N})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function sh(e){this._internalRoot=e}bc.prototype.render=sh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var s=n.current,c=pi();Cy(s,c,e,n,null,null)},bc.prototype.unmount=sh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Cy(e.current,2,null,e,null,null),tc(),n[Pi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Rs();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ws.length&&n!==0&&n<ws[s].priority;s++);ws.splice(s,0,e),s===0&&Ry(e)}};var By=i.version;if(By!=="19.2.4")throw Error(o(527,By,"19.2.4"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=b(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var tN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{kn=Nc.inject(tN),$t=Nc}catch{}}return Do.createRoot=function(e,n){if(!d(e))throw Error(o(299));var s=!1,c="",h=Kp,g=Qp,N=Vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=jy(e,1,!1,null,null,s,c,null,h,g,N,Py),e[Pi]=n.current,Uf(e),new sh(n)},Do.hydrateRoot=function(e,n,s){if(!d(e))throw Error(o(299));var c=!1,h="",g=Kp,N=Qp,T=Vp,B=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(B=s.formState)),n=jy(e,1,!0,n,s??null,c,h,B,g,N,T,Py),n.context=Ty(null),s=n.current,c=pi(),c=An(c),h=us(c),h.callback=null,cs(s,h,c),s=c,n.current.lanes=s,si(n,s),ma(n),e[Pi]=n.current,Uf(e),new bc(n)},Do.version="19.2.4",Do}var Gy;function fN(){if(Gy)return oh.exports;Gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),oh.exports=dN(),oh.exports}var hN=fN();const mN=td(hN);var Cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pN={setTimeout:(t,i)=>setTimeout(t,i),clearTimeout:t=>clearTimeout(t),setInterval:(t,i)=>setInterval(t,i),clearInterval:t=>clearInterval(t)},gN=class{#e=pN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,i){return this.#e.setTimeout(t,i)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,i){return this.#e.setInterval(t,i)}clearInterval(t){this.#e.clearInterval(t)}},gr=new gN;function yN(t){setTimeout(t,0)}var _r=typeof window>"u"||"Deno"in globalThis;function qn(){}function vN(t,i){return typeof t=="function"?t(i):t}function Yh(t){return typeof t=="number"&&t>=0&&t!==1/0}function V_(t,i){return Math.max(t+(i||0)-Date.now(),0)}function Cs(t,i){return typeof t=="function"?t(i):t}function zi(t,i){return typeof t=="function"?t(i):t}function Yy(t,i){const{type:r="all",exact:o,fetchStatus:d,predicate:m,queryKey:p,stale:v}=t;if(p){if(o){if(i.queryHash!==gm(p,i.options))return!1}else if(!Ho(i.queryKey,p))return!1}if(r!=="all"){const _=i.isActive();if(r==="active"&&!_||r==="inactive"&&_)return!1}return!(typeof v=="boolean"&&i.isStale()!==v||d&&d!==i.state.fetchStatus||m&&!m(i))}function $y(t,i){const{exact:r,status:o,predicate:d,mutationKey:m}=t;if(m){if(!i.options.mutationKey)return!1;if(r){if(xr(i.options.mutationKey)!==xr(m))return!1}else if(!Ho(i.options.mutationKey,m))return!1}return!(o&&i.state.status!==o||d&&!d(i))}function gm(t,i){return(i?.queryKeyHashFn||xr)(t)}function xr(t){return JSON.stringify(t,(i,r)=>$h(r)?Object.keys(r).sort().reduce((o,d)=>(o[d]=r[d],o),{}):r)}function Ho(t,i){return t===i?!0:typeof t!=typeof i?!1:t&&i&&typeof t=="object"&&typeof i=="object"?Object.keys(i).every(r=>Ho(t[r],i[r])):!1}var _N=Object.prototype.hasOwnProperty;function G_(t,i,r=0){if(t===i)return t;if(r>500)return i;const o=Xy(t)&&Xy(i);if(!o&&!($h(t)&&$h(i)))return i;const m=(o?t:Object.keys(t)).length,p=o?i:Object.keys(i),v=p.length,_=o?new Array(v):{};let b=0;for(let S=0;S<v;S++){const E=o?S:p[S],C=t[E],O=i[E];if(C===O){_[E]=C,(o?S<m:_N.call(t,E))&&b++;continue}if(C===null||O===null||typeof C!="object"||typeof O!="object"){_[E]=O;continue}const A=G_(C,O,r+1);_[E]=A,A===C&&b++}return m===v&&b===m?t:_}function Hc(t,i){if(!i||Object.keys(t).length!==Object.keys(i).length)return!1;for(const r in t)if(t[r]!==i[r])return!1;return!0}function Xy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $h(t){if(!Jy(t))return!1;const i=t.constructor;if(i===void 0)return!0;const r=i.prototype;return!(!Jy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jy(t){return Object.prototype.toString.call(t)==="[object Object]"}function xN(t){return new Promise(i=>{gr.setTimeout(i,t)})}function Xh(t,i,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,i):r.structuralSharing!==!1?G_(t,i):i}function bN(t,i,r=0){const o=[...t,i];return r&&o.length>r?o.slice(1):o}function NN(t,i,r=0){const o=[i,...t];return r&&o.length>r?o.slice(0,-1):o}var ym=Symbol();function Y_(t,i){return!t.queryFn&&i?.initialPromise?()=>i.initialPromise:!t.queryFn||t.queryFn===ym?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function vm(t,i){return typeof t=="function"?t(...i):!!t}function SN(t,i,r){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=i(),o||(o=!0,d.aborted?r():d.addEventListener("abort",r,{once:!0})),d)}),t}var wN=class extends Cl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!_r&&window.addEventListener){const i=()=>t();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(i=>{i(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_m=new wN;function Jh(){let t,i;const r=new Promise((d,m)=>{t=d,i=m});r.status="pending",r.catch(()=>{});function o(d){Object.assign(r,d),delete r.resolve,delete r.reject}return r.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},r.reject=d=>{o({status:"rejected",reason:d}),i(d)},r}var EN=yN;function jN(){let t=[],i=0,r=v=>{v()},o=v=>{v()},d=EN;const m=v=>{i?t.push(v):d(()=>{r(v)})},p=()=>{const v=t;t=[],v.length&&d(()=>{o(()=>{v.forEach(_=>{r(_)})})})};return{batch:v=>{let _;i++;try{_=v()}finally{i--,i||p()}return _},batchCalls:v=>(..._)=>{m(()=>{v(..._)})},schedule:m,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{o=v},setScheduler:v=>{d=v}}}var fn=jN(),TN=class extends Cl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!_r&&window.addEventListener){const i=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Kc=new TN;function CN(t){return Math.min(1e3*2**t,3e4)}function $_(t){return(t??"online")==="online"?Kc.isOnline():!0}var Wh=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function X_(t){let i=!1,r=0,o;const d=Jh(),m=()=>d.status!=="pending",p=z=>{if(!m()){const M=new Wh(z);C(M),t.onCancel?.(M)}},v=()=>{i=!0},_=()=>{i=!1},b=()=>_m.isFocused()&&(t.networkMode==="always"||Kc.isOnline())&&t.canRun(),S=()=>$_(t.networkMode)&&t.canRun(),E=z=>{m()||(o?.(),d.resolve(z))},C=z=>{m()||(o?.(),d.reject(z))},O=()=>new Promise(z=>{o=M=>{(m()||b())&&z(M)},t.onPause?.()}).then(()=>{o=void 0,m()||t.onContinue?.()}),A=()=>{if(m())return;let z;const M=r===0?t.initialPromise:void 0;try{z=M??t.fn()}catch(H){z=Promise.reject(H)}Promise.resolve(z).then(E).catch(H=>{if(m())return;const I=t.retry??(_r?0:3),Z=t.retryDelay??CN,Q=typeof Z=="function"?Z(r,H):Z,X=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,H);if(i||!X){C(H);return}r++,t.onFail?.(r,H),xN(Q).then(()=>b()?void 0:O()).then(()=>{i?C(H):A()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:v,continueRetry:_,canStart:S,start:()=>(S()?A():O().then(A),d)}}var J_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yh(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_r?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},kN=class extends J_{#e;#t;#n;#a;#i;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ev(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=ev(this.options);i.data!==void 0&&(this.setState(Wy(i.data,i.dataUpdatedAt)),this.#e=i)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,i){const r=Xh(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:i?.updatedAt,manual:i?.manual}),r}setState(t,i){this.#s({type:"setState",state:t,setStateOptions:i})}cancel(t){const i=this.#i?.promise;return this.#i?.cancel(t),i?i.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>zi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ym||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Cs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V_(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(i=>i.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(i=>i.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(this.#i&&(this.#l?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,i){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(_=>_.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,o=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},d=()=>{const v=Y_(this.options,i),b=(()=>{const S={client:this.#a,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(v,b,this):v(b)},p=(()=>{const v={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return o(v),v})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#i=X_({initialPromise:i?.initialPromise,fn:p.fetchFn,onCancel:v=>{v instanceof Wh&&v.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(v,_)=>{this.#s({type:"failed",failureCount:v,error:_})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const v=await this.#i.start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),this.#n.config.onSuccess?.(v,this),this.#n.config.onSettled?.(v,this.state.error,this),v}catch(v){if(v instanceof Wh){if(v.silent)return this.#i.promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw this.#s({type:"error",error:v}),this.#n.config.onError?.(v,this),this.#n.config.onSettled?.(this.state.data,v,this),v}finally{this.scheduleGc()}}#s(t){const i=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...W_(r.data,this.options),fetchMeta:t.meta??null};case"success":const o={...r,...Wy(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=i(this.state),fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function W_(t,i){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$_(i.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Wy(t,i){return{data:t,dataUpdatedAt:i??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ev(t){const i=typeof t.initialData=="function"?t.initialData():t.initialData,r=i!==void 0,o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var AN=class extends Cl{constructor(t,i){super(),this.options=i,this.#e=t,this.#s=null,this.#l=Jh(),this.bindMethods(),this.setOptions(i)}#e;#t=void 0;#n=void 0;#a=void 0;#i;#r;#l;#s;#p;#f;#h;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),tv(this.#t,this.options)?this.#d():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return em(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return em(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const i=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),i._defaulted&&!Hc(this.options,i)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&nv(this.#t,r,this.options,i)&&this.#d(),this.updateResult(),o&&(this.#t!==r||zi(this.options.enabled,this.#t)!==zi(i.enabled,this.#t)||Cs(this.options.staleTime,this.#t)!==Cs(i.staleTime,this.#t))&&this.#g();const d=this.#y();o&&(this.#t!==r||zi(this.options.enabled,this.#t)!==zi(i.enabled,this.#t)||d!==this.#o)&&this.#v(d)}getOptimisticResult(t){const i=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(i,t);return ON(this,r)&&(this.#a=r,this.#r=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(t,i){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),i?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,o))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const i=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,i);return r.fetch().then(()=>this.createResult(r,i))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(t){this.#N();let i=this.#t.fetch(this.options,t);return t?.throwOnError||(i=i.catch(qn)),i}#g(){this.#x();const t=Cs(this.options.staleTime,this.#t);if(_r||this.#a.isStale||!Yh(t))return;const r=V_(this.#a.dataUpdatedAt,t)+1;this.#u=gr.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#o=t,!(_r||zi(this.options.enabled,this.#t)===!1||!Yh(this.#o)||this.#o===0)&&(this.#c=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||_m.isFocused())&&this.#d()},this.#o))}#_(){this.#g(),this.#v(this.#y())}#x(){this.#u&&(gr.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(gr.clearInterval(this.#c),this.#c=void 0)}createResult(t,i){const r=this.#t,o=this.options,d=this.#a,m=this.#i,p=this.#r,_=t!==r?t.state:this.#n,{state:b}=t;let S={...b},E=!1,C;if(i._optimisticResults){const $=this.hasListeners(),J=!$&&tv(t,i),ue=$&&nv(t,r,i,o);(J||ue)&&(S={...S,...W_(b.data,t.options)}),i._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:O,errorUpdatedAt:A,status:z}=S;C=S.data;let M=!1;if(i.placeholderData!==void 0&&C===void 0&&z==="pending"){let $;d?.isPlaceholderData&&i.placeholderData===p?.placeholderData?($=d.data,M=!0):$=typeof i.placeholderData=="function"?i.placeholderData(this.#h?.state.data,this.#h):i.placeholderData,$!==void 0&&(z="success",C=Xh(d?.data,$,i),E=!0)}if(i.select&&C!==void 0&&!M)if(d&&C===m?.data&&i.select===this.#p)C=this.#f;else try{this.#p=i.select,C=i.select(C),C=Xh(d?.data,C,i),this.#f=C,this.#s=null}catch($){this.#s=$}this.#s&&(O=this.#s,C=this.#f,A=Date.now(),z="error");const H=S.fetchStatus==="fetching",I=z==="pending",Z=z==="error",Q=I&&H,X=C!==void 0,ee={status:z,fetchStatus:S.fetchStatus,isPending:I,isSuccess:z==="success",isError:Z,isInitialLoading:Q,isLoading:Q,data:C,dataUpdatedAt:S.dataUpdatedAt,error:O,errorUpdatedAt:A,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>_.dataUpdateCount||S.errorUpdateCount>_.errorUpdateCount,isFetching:H,isRefetching:H&&!I,isLoadingError:Z&&!X,isPaused:S.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:Z&&X,isStale:xm(t,i),refetch:this.refetch,promise:this.#l,isEnabled:zi(i.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=ee.data!==void 0,J=ee.status==="error"&&!$,ue=de=>{J?de.reject(ee.error):$&&de.resolve(ee.data)},ae=()=>{const de=this.#l=ee.promise=Jh();ue(de)},ce=this.#l;switch(ce.status){case"pending":t.queryHash===r.queryHash&&ue(ce);break;case"fulfilled":(J||ee.data!==ce.value)&&ae();break;case"rejected":(!J||ee.error!==ce.reason)&&ae();break}}return ee}updateResult(){const t=this.#a,i=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#r=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Hc(i,t))return;this.#a=i;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#m.size)return!0;const m=new Set(d??this.#m);return this.options.throwOnError&&m.add("error"),Object.keys(this.#a).some(p=>{const v=p;return this.#a[v]!==t[v]&&m.has(v)})};this.#S({listeners:r()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const i=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(i?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){fn.batch(()=>{t.listeners&&this.listeners.forEach(i=>{i(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function zN(t,i){return zi(i.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&i.retryOnMount===!1)}function tv(t,i){return zN(t,i)||t.state.data!==void 0&&em(t,i,i.refetchOnMount)}function em(t,i,r){if(zi(i.enabled,t)!==!1&&Cs(i.staleTime,t)!=="static"){const o=typeof r=="function"?r(t):r;return o==="always"||o!==!1&&xm(t,i)}return!1}function nv(t,i,r,o){return(t!==i||zi(o.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&xm(t,r)}function xm(t,i){return zi(i.enabled,t)!==!1&&t.isStaleByTime(Cs(i.staleTime,t))}function ON(t,i){return!Hc(t.getCurrentResult(),i)}function iv(t){return{onFetch:(i,r)=>{const o=i.options,d=i.fetchOptions?.meta?.fetchMore?.direction,m=i.state.data?.pages||[],p=i.state.data?.pageParams||[];let v={pages:[],pageParams:[]},_=0;const b=async()=>{let S=!1;const E=A=>{SN(A,()=>i.signal,()=>S=!0)},C=Y_(i.options,i.fetchOptions),O=async(A,z,M)=>{if(S)return Promise.reject();if(z==null&&A.pages.length)return Promise.resolve(A);const I=(()=>{const V={client:i.client,queryKey:i.queryKey,pageParam:z,direction:M?"backward":"forward",meta:i.options.meta};return E(V),V})(),Z=await C(I),{maxPages:Q}=i.options,X=M?NN:bN;return{pages:X(A.pages,Z,Q),pageParams:X(A.pageParams,z,Q)}};if(d&&m.length){const A=d==="backward",z=A?MN:av,M={pages:m,pageParams:p},H=z(o,M);v=await O(M,H,A)}else{const A=t??m.length;do{const z=_===0?p[0]??o.initialPageParam:av(o,v);if(_>0&&z==null)break;v=await O(v,z),_++}while(_<A)}return v};i.options.persister?i.fetchFn=()=>i.options.persister?.(b,{client:i.client,queryKey:i.queryKey,meta:i.options.meta,signal:i.signal},r):i.fetchFn=b}}}function av(t,{pages:i,pageParams:r}){const o=i.length-1;return i.length>0?t.getNextPageParam(i[o],i,r[o],r):void 0}function MN(t,{pages:i,pageParams:r}){return i.length>0?t.getPreviousPageParam?.(i[0],i,r[0],r):void 0}var RN=class extends J_{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||ex(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(i=>i!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const i=()=>{this.#i({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=X_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(m,p)=>{this.#i({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#a.canStart();try{if(o)i();else{this.#i({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,r);const p=await this.options.onMutate?.(t,r);p!==this.state.context&&this.#i({type:"pending",context:p,variables:t,isPaused:d})}const m=await this.#a.start();return await this.#n.config.onSuccess?.(m,t,this.state.context,this,r),await this.options.onSuccess?.(m,t,this.state.context,r),await this.#n.config.onSettled?.(m,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(m,null,t,this.state.context,r),this.#i({type:"success",data:m}),m}catch(m){try{await this.#n.config.onError?.(m,t,this.state.context,this,r)}catch(p){Promise.reject(p)}try{await this.options.onError?.(m,t,this.state.context,r)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,r)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,m,t,this.state.context,r)}catch(p){Promise.reject(p)}throw this.#i({type:"error",error:m}),m}finally{this.#n.runNext(this)}}#i(t){const i=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),fn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function ex(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var LN=class extends Cl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,i,r){const o=new RN({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(i),state:r});return this.add(o),o}add(t){this.#e.add(t);const i=Sc(t);if(typeof i=="string"){const r=this.#t.get(i);r?r.push(t):this.#t.set(i,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const i=Sc(t);if(typeof i=="string"){const r=this.#t.get(i);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&this.#t.delete(i)}}this.notify({type:"removed",mutation:t})}canRun(t){const i=Sc(t);if(typeof i=="string"){const o=this.#t.get(i)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const i=Sc(t);return typeof i=="string"?this.#t.get(i)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){fn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const i={exact:!0,...t};return this.getAll().find(r=>$y(i,r))}findAll(t={}){return this.getAll().filter(i=>$y(t,i))}notify(t){fn.batch(()=>{this.listeners.forEach(i=>{i(t)})})}resumePausedMutations(){const t=this.getAll().filter(i=>i.state.isPaused);return fn.batch(()=>Promise.all(t.map(i=>i.continue().catch(qn))))}};function Sc(t){return t.options.scope?.id}var DN=class extends Cl{#e;#t=void 0;#n;#a;constructor(i,r){super(),this.#e=i,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){const r=this.options;this.options=this.#e.defaultMutationOptions(i),Hc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&xr(r.mutationKey)!==xr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(i){this.#i(),this.#r(i)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#r()}mutate(i,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(i)}#i(){const i=this.#n?.state??ex();this.#t={...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset}}#r(i){fn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(i?.type==="success"){try{this.#a.onSuccess?.(i.data,r,o,d)}catch(m){Promise.reject(m)}try{this.#a.onSettled?.(i.data,null,r,o,d)}catch(m){Promise.reject(m)}}else if(i?.type==="error"){try{this.#a.onError?.(i.error,r,o,d)}catch(m){Promise.reject(m)}try{this.#a.onSettled?.(void 0,i.error,r,o,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(r=>{r(this.#t)})})}},PN=class extends Cl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,i,r){const o=i.queryKey,d=i.queryHash??gm(o,i);let m=this.get(d);return m||(m=new kN({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(i),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(m)),m}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const i=this.#e.get(t.queryHash);i&&(t.destroy(),i===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const i={exact:!0,...t};return this.getAll().find(r=>Yy(i,r))}findAll(t={}){const i=this.getAll();return Object.keys(t).length>0?i.filter(r=>Yy(t,r)):i}notify(t){fn.batch(()=>{this.listeners.forEach(i=>{i(t)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},BN=class{#e;#t;#n;#a;#i;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new PN,this.#t=t.mutationCache||new LN,this.#n=t.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=_m.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Kc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const i=this.defaultQueryOptions({queryKey:t});return this.#e.get(i.queryHash)?.state.data}ensureQueryData(t){const i=this.defaultQueryOptions(t),r=this.#e.build(this,i),o=r.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Cs(i.staleTime,r))&&this.prefetchQuery(i),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:i,state:r})=>{const o=r.data;return[i,o]})}setQueryData(t,i,r){const o=this.defaultQueryOptions({queryKey:t}),m=this.#e.get(o.queryHash)?.state.data,p=vN(i,m);if(p!==void 0)return this.#e.build(this,o).setData(p,{...r,manual:!0})}setQueriesData(t,i,r){return fn.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,i,r)]))}getQueryState(t){const i=this.defaultQueryOptions({queryKey:t});return this.#e.get(i.queryHash)?.state}removeQueries(t){const i=this.#e;fn.batch(()=>{i.findAll(t).forEach(r=>{i.remove(r)})})}resetQueries(t,i){const r=this.#e;return fn.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},i)))}cancelQueries(t,i={}){const r={revert:!0,...i},o=fn.batch(()=>this.#e.findAll(t).map(d=>d.cancel(r)));return Promise.all(o).then(qn).catch(qn)}invalidateQueries(t,i={}){return fn.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},i)))}refetchQueries(t,i={}){const r={...i,cancelRefetch:i.cancelRefetch??!0},o=fn.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let m=d.fetch(void 0,r);return r.throwOnError||(m=m.catch(qn)),d.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(o).then(qn)}fetchQuery(t){const i=this.defaultQueryOptions(t);i.retry===void 0&&(i.retry=!1);const r=this.#e.build(this,i);return r.isStaleByTime(Cs(i.staleTime,r))?r.fetch(i):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=iv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=iv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,i){this.#a.set(xr(t),{queryKey:t,defaultOptions:i})}getQueryDefaults(t){const i=[...this.#a.values()],r={};return i.forEach(o=>{Ho(t,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(t,i){this.#i.set(xr(t),{mutationKey:t,defaultOptions:i})}getMutationDefaults(t){const i=[...this.#i.values()],r={};return i.forEach(o=>{Ho(t,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const i={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return i.queryHash||(i.queryHash=gm(i.queryKey,i)),i.refetchOnReconnect===void 0&&(i.refetchOnReconnect=i.networkMode!=="always"),i.throwOnError===void 0&&(i.throwOnError=!!i.suspense),!i.networkMode&&i.persister&&(i.networkMode="offlineFirst"),i.queryFn===ym&&(i.enabled=!1),i}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},tx=w.createContext(void 0),Dn=t=>{const i=w.useContext(tx);if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i},IN=({client:t,children:i})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(tx.Provider,{value:t,children:i})),nx=w.createContext(!1),UN=()=>w.useContext(nx);nx.Provider;function ZN(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qN=w.createContext(ZN()),FN=()=>w.useContext(qN),HN=(t,i,r)=>{const o=r?.state.error&&typeof t.throwOnError=="function"?vm(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(i.isReset()||(t.retryOnMount=!1))},KN=t=>{w.useEffect(()=>{t.clearReset()},[t])},QN=({result:t,errorResetBoundary:i,throwOnError:r,query:o,suspense:d})=>t.isError&&!i.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||vm(r,[t.error,o])),VN=t=>{if(t.suspense){const r=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>r(o(...d)):r(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},GN=(t,i)=>t.isLoading&&t.isFetching&&!i,YN=(t,i)=>t?.suspense&&i.isPending,sv=(t,i,r)=>i.fetchOptimistic(t).catch(()=>{r.clearReset()});function $N(t,i,r){const o=UN(),d=FN(),m=Dn(),p=m.defaultQueryOptions(t);m.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const v=m.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",VN(p),HN(p,d,v),KN(d);const _=!m.getQueryCache().get(p.queryHash),[b]=w.useState(()=>new i(m,p)),S=b.getOptimisticResult(p),E=!o&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(C=>{const O=E?b.subscribe(fn.batchCalls(C)):qn;return b.updateResult(),O},[b,E]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),w.useEffect(()=>{b.setOptions(p)},[p,b]),YN(p,S))throw sv(p,b,d);if(QN({result:S,errorResetBoundary:d,throwOnError:p.throwOnError,query:v,suspense:p.suspense}))throw S.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(p,S),p.experimental_prefetchInRender&&!_r&&GN(S,o)&&(_?sv(p,b,d):v?.promise)?.catch(qn).finally(()=>{b.updateResult()}),p.notifyOnChangeProps?S:b.trackResult(S)}function He(t,i){return $N(t,AN)}function Qe(t,i){const r=Dn(),[o]=w.useState(()=>new DN(r,t));w.useEffect(()=>{o.setOptions(t)},[o,t]);const d=w.useSyncExternalStore(w.useCallback(p=>o.subscribe(fn.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m=w.useCallback((p,v)=>{o.mutate(p,v).catch(qn)},[o]);if(d.error&&vm(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:m,mutateAsync:d.mutate}}var rv="popstate";function XN(t={}){function i(o,d){let{pathname:m,search:p,hash:v}=o.location;return tm("",{pathname:m,search:p,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(o,d){return typeof d=="string"?d:Ko(d)}return WN(i,r,null,t)}function Lt(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function Yi(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function JN(){return Math.random().toString(36).substring(2,10)}function lv(t,i){return{usr:t.state,key:t.key,idx:i}}function tm(t,i,r=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof i=="string"?kl(i):i,state:r,key:i&&i.key||o||JN()}}function Ko({pathname:t="/",search:i="",hash:r=""}){return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kl(t){let i={};if(t){let r=t.indexOf("#");r>=0&&(i.hash=t.substring(r),t=t.substring(0,r));let o=t.indexOf("?");o>=0&&(i.search=t.substring(o),t=t.substring(0,o)),t&&(i.pathname=t)}return i}function WN(t,i,r,o={}){let{window:d=document.defaultView,v5Compat:m=!1}=o,p=d.history,v="POP",_=null,b=S();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function S(){return(p.state||{idx:null}).idx}function E(){v="POP";let M=S(),H=M==null?null:M-b;b=M,_&&_({action:v,location:z.location,delta:H})}function C(M,H){v="PUSH";let I=tm(z.location,M,H);b=S()+1;let Z=lv(I,b),Q=z.createHref(I);try{p.pushState(Z,"",Q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;d.location.assign(Q)}m&&_&&_({action:v,location:z.location,delta:1})}function O(M,H){v="REPLACE";let I=tm(z.location,M,H);b=S();let Z=lv(I,b),Q=z.createHref(I);p.replaceState(Z,"",Q),m&&_&&_({action:v,location:z.location,delta:0})}function A(M){return eS(M)}let z={get action(){return v},get location(){return t(d,p)},listen(M){if(_)throw new Error("A history only accepts one active listener");return d.addEventListener(rv,E),_=M,()=>{d.removeEventListener(rv,E),_=null}},createHref(M){return i(d,M)},createURL:A,encodeLocation(M){let H=A(M);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:O,go(M){return p.go(M)}};return z}function eS(t,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(r,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Ko(t);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function ix(t,i,r="/"){return tS(t,i,r,!1)}function tS(t,i,r,o){let d=typeof i=="string"?kl(i):i,m=qa(d.pathname||"/",r);if(m==null)return null;let p=ax(t);nS(p);let v=null;for(let _=0;v==null&&_<p.length;++_){let b=hS(m);v=dS(p[_],b,o)}return v}function ax(t,i=[],r=[],o="",d=!1){let m=(p,v,_=d,b)=>{let S={relativePath:b===void 0?p.path||"":b,caseSensitive:p.caseSensitive===!0,childrenIndex:v,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&_)return;Lt(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let E=Za([o,S.relativePath]),C=r.concat(S);p.children&&p.children.length>0&&(Lt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),ax(p.children,i,C,E,_)),!(p.path==null&&!p.index)&&i.push({path:E,score:uS(E,p.index),routesMeta:C})};return t.forEach((p,v)=>{if(p.path===""||!p.path?.includes("?"))m(p,v);else for(let _ of sx(p.path))m(p,v,!0,_)}),i}function sx(t){let i=t.split("/");if(i.length===0)return[];let[r,...o]=i,d=r.endsWith("?"),m=r.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let p=sx(o.join("/")),v=[];return v.push(...p.map(_=>_===""?m:[m,_].join("/"))),d&&v.push(...p),v.map(_=>t.startsWith("/")&&_===""?"/":_)}function nS(t){t.sort((i,r)=>i.score!==r.score?r.score-i.score:cS(i.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var iS=/^:[\w-]+$/,aS=3,sS=2,rS=1,lS=10,oS=-2,ov=t=>t==="*";function uS(t,i){let r=t.split("/"),o=r.length;return r.some(ov)&&(o+=oS),i&&(o+=sS),r.filter(d=>!ov(d)).reduce((d,m)=>d+(iS.test(m)?aS:m===""?rS:lS),o)}function cS(t,i){return t.length===i.length&&t.slice(0,-1).every((o,d)=>o===i[d])?t[t.length-1]-i[i.length-1]:0}function dS(t,i,r=!1){let{routesMeta:o}=t,d={},m="/",p=[];for(let v=0;v<o.length;++v){let _=o[v],b=v===o.length-1,S=m==="/"?i:i.slice(m.length)||"/",E=Qc({path:_.relativePath,caseSensitive:_.caseSensitive,end:b},S),C=_.route;if(!E&&b&&r&&!o[o.length-1].route.index&&(E=Qc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},S)),!E)return null;Object.assign(d,E.params),p.push({params:d,pathname:Za([m,E.pathname]),pathnameBase:yS(Za([m,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(m=Za([m,E.pathnameBase]))}return p}function Qc(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=fS(t.path,t.caseSensitive,t.end),d=i.match(r);if(!d)return null;let m=d[0],p=m.replace(/(.)\/+$/,"$1"),v=d.slice(1);return{params:o.reduce((b,{paramName:S,isOptional:E},C)=>{if(S==="*"){let A=v[C]||"";p=m.slice(0,m.length-A.length).replace(/(.)\/+$/,"$1")}const O=v[C];return E&&!O?b[S]=void 0:b[S]=(O||"").replace(/%2F/g,"/"),b},{}),pathname:m,pathnameBase:p,pattern:t}}function fS(t,i=!1,r=!0){Yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,v,_)=>(o.push({paramName:v,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),o]}function hS(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Yi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),t}}function qa(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function pS(t,i="/"){let{pathname:r,search:o="",hash:d=""}=typeof t=="string"?kl(t):t,m;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?m=uv(r.substring(1),"/"):m=uv(r,i)):m=i,{pathname:m,search:vS(o),hash:_S(d)}}function uv(t,i){let r=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?r.length>1&&r.pop():d!=="."&&r.push(d)}),r.length>1?r.join("/"):"/"}function fh(t,i,r,o){return`Cannot include a '${t}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gS(t){return t.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function bm(t){let i=gS(t);return i.map((r,o)=>o===i.length-1?r.pathname:r.pathnameBase)}function Nm(t,i,r,o=!1){let d;typeof t=="string"?d=kl(t):(d={...t},Lt(!d.pathname||!d.pathname.includes("?"),fh("?","pathname","search",d)),Lt(!d.pathname||!d.pathname.includes("#"),fh("#","pathname","hash",d)),Lt(!d.search||!d.search.includes("#"),fh("#","search","hash",d)));let m=t===""||d.pathname==="",p=m?"/":d.pathname,v;if(p==null)v=r;else{let E=i.length-1;if(!o&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),E-=1;d.pathname=C.join("/")}v=E>=0?i[E]:"/"}let _=pS(d,v),b=p&&p!=="/"&&p.endsWith("/"),S=(m||p===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(b||S)&&(_.pathname+="/"),_}var Za=t=>t.join("/").replace(/\/\/+/g,"/"),yS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_S=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xS=class{constructor(t,i,r,o=!1){this.status=t,this.statusText=i||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function bS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function NS(t){return t.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lx(t,i){let r=t;if(typeof r!="string"||!mS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,d=!1;if(rx)try{let m=new URL(window.location.href),p=r.startsWith("//")?new URL(m.protocol+r):new URL(r),v=qa(p.pathname,i);p.origin===m.origin&&v!=null?r=v+p.search+p.hash:d=!0}catch{Yi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ox=["POST","PUT","PATCH","DELETE"];new Set(ox);var SS=["GET",...ox];new Set(SS);var Al=w.createContext(null);Al.displayName="DataRouter";var nd=w.createContext(null);nd.displayName="DataRouterState";var wS=w.createContext(!1),ux=w.createContext({isTransitioning:!1});ux.displayName="ViewTransition";var ES=w.createContext(new Map);ES.displayName="Fetchers";var jS=w.createContext(null);jS.displayName="Await";var gi=w.createContext(null);gi.displayName="Navigation";var Yo=w.createContext(null);Yo.displayName="Location";var Oi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Sm=w.createContext(null);Sm.displayName="RouteError";var cx="REACT_ROUTER_ERROR",TS="REDIRECT",CS="ROUTE_ERROR_RESPONSE";function kS(t){if(t.startsWith(`${cx}:${TS}:{`))try{let i=JSON.parse(t.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function AS(t){if(t.startsWith(`${cx}:${CS}:{`))try{let i=JSON.parse(t.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new xS(i.status,i.statusText,i.data)}catch{}}function zS(t,{relative:i}={}){Lt(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=w.useContext(gi),{hash:d,pathname:m,search:p}=$o(t,{relative:i}),v=m;return r!=="/"&&(v=m==="/"?r:Za([r,m])),o.createHref({pathname:v,search:p,hash:d})}function zl(){return w.useContext(Yo)!=null}function $i(){return Lt(zl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Yo).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(t){w.useContext(gi).static||w.useLayoutEffect(t)}function wm(){let{isDataRoute:t}=w.useContext(Oi);return t?VS():OS()}function OS(){Lt(zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Al),{basename:i,navigator:r}=w.useContext(gi),{matches:o}=w.useContext(Oi),{pathname:d}=$i(),m=JSON.stringify(bm(o)),p=w.useRef(!1);return fx(()=>{p.current=!0}),w.useCallback((_,b={})=>{if(Yi(p.current,dx),!p.current)return;if(typeof _=="number"){r.go(_);return}let S=Nm(_,JSON.parse(m),d,b.relative==="path");t==null&&i!=="/"&&(S.pathname=S.pathname==="/"?i:Za([i,S.pathname])),(b.replace?r.replace:r.push)(S,b.state,b)},[i,r,m,d,t])}var MS=w.createContext(null);function RS(t){let i=w.useContext(Oi).outlet;return w.useMemo(()=>i&&w.createElement(MS.Provider,{value:t},i),[i,t])}function LS(){let{matches:t}=w.useContext(Oi),i=t[t.length-1];return i?i.params:{}}function $o(t,{relative:i}={}){let{matches:r}=w.useContext(Oi),{pathname:o}=$i(),d=JSON.stringify(bm(r));return w.useMemo(()=>Nm(t,JSON.parse(d),o,i==="path"),[t,d,o,i])}function DS(t,i){return hx(t,i)}function hx(t,i,r,o,d){Lt(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=w.useContext(gi),{matches:p}=w.useContext(Oi),v=p[p.length-1],_=v?v.params:{},b=v?v.pathname:"/",S=v?v.pathnameBase:"/",E=v&&v.route;{let I=E&&E.path||"";px(b,!E||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let C=$i(),O;if(i){let I=typeof i=="string"?kl(i):i;Lt(S==="/"||I.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${I.pathname}" was given in the \`location\` prop.`),O=I}else O=C;let A=O.pathname||"/",z=A;if(S!=="/"){let I=S.replace(/^\//,"").split("/");z="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let M=ix(t,{pathname:z});Yi(E||M!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Yi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=ZS(M&&M.map(I=>Object.assign({},I,{params:Object.assign({},_,I.params),pathname:Za([S,m.encodeLocation?m.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?S:Za([S,m.encodeLocation?m.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),p,r,o,d);return i&&H?w.createElement(Yo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},H):H}function PS(){let t=QS(),i=bS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:m},"ErrorBoundary")," or"," ",w.createElement("code",{style:m},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},i),r?w.createElement("pre",{style:d},r):null,p)}var BS=w.createElement(PS,null),mx=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){this.props.onError?this.props.onError(t,i):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=AS(t.digest);r&&(t=r)}let i=t!==void 0?w.createElement(Oi.Provider,{value:this.props.routeContext},w.createElement(Sm.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(IS,{error:t},i):i}};mx.contextType=wS;var hh=new WeakMap;function IS({children:t,error:i}){let{basename:r}=w.useContext(gi);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=kS(i.digest);if(o){let d=hh.get(i);if(d)throw d;let m=lx(o.location,r);if(rx&&!hh.get(i))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw hh.set(i,p),p}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return t}function US({routeContext:t,match:i,children:r}){let o=w.useContext(Al);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),w.createElement(Oi.Provider,{value:t},r)}function ZS(t,i=[],r=null,o=null,d=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let m=t,p=r?.errors;if(p!=null){let S=m.findIndex(E=>E.route.id&&p?.[E.route.id]!==void 0);Lt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let v=!1,_=-1;if(r)for(let S=0;S<m.length;S++){let E=m[S];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(_=S),E.route.id){let{loaderData:C,errors:O}=r,A=E.route.loader&&!C.hasOwnProperty(E.route.id)&&(!O||O[E.route.id]===void 0);if(E.route.lazy||A){v=!0,_>=0?m=m.slice(0,_+1):m=[m[0]];break}}}let b=r&&o?(S,E)=>{o(S,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:NS(r.matches),errorInfo:E})}:void 0;return m.reduceRight((S,E,C)=>{let O,A=!1,z=null,M=null;r&&(O=p&&E.route.id?p[E.route.id]:void 0,z=E.route.errorElement||BS,v&&(_<0&&C===0?(px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):_===C&&(A=!0,M=E.route.hydrateFallbackElement||null)));let H=i.concat(m.slice(0,C+1)),I=()=>{let Z;return O?Z=z:A?Z=M:E.route.Component?Z=w.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=S,w.createElement(US,{match:E,routeContext:{outlet:S,matches:H,isDataRoute:r!=null},children:Z})};return r&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?w.createElement(mx,{location:r.location,revalidation:r.revalidation,component:z,error:O,children:I(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:b}):I()},null)}function Em(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qS(t){let i=w.useContext(Al);return Lt(i,Em(t)),i}function FS(t){let i=w.useContext(nd);return Lt(i,Em(t)),i}function HS(t){let i=w.useContext(Oi);return Lt(i,Em(t)),i}function jm(t){let i=HS(t),r=i.matches[i.matches.length-1];return Lt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function KS(){return jm("useRouteId")}function QS(){let t=w.useContext(Sm),i=FS("useRouteError"),r=jm("useRouteError");return t!==void 0?t:i.errors?.[r]}function VS(){let{router:t}=qS("useNavigate"),i=jm("useNavigate"),r=w.useRef(!1);return fx(()=>{r.current=!0}),w.useCallback(async(d,m={})=>{Yi(r.current,dx),r.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:i,...m}))},[t,i])}var cv={};function px(t,i,r){!i&&!cv[t]&&(cv[t]=!0,Yi(!1,r))}w.memo(GS);function GS({routes:t,future:i,state:r,onError:o}){return hx(t,void 0,r,o,i)}function Tm({to:t,replace:i,state:r,relative:o}){Lt(zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=w.useContext(gi);Yi(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=w.useContext(Oi),{pathname:p}=$i(),v=wm(),_=Nm(t,bm(m),p,o==="path"),b=JSON.stringify(_);return w.useEffect(()=>{v(JSON.parse(b),{replace:i,state:r,relative:o})},[v,b,o,i,r]),null}function Cm(t){return RS(t.context)}function Rt(t){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YS({basename:t="/",children:i=null,location:r,navigationType:o="POP",navigator:d,static:m=!1,unstable_useTransitions:p}){Lt(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=t.replace(/^\/*/,"/"),_=w.useMemo(()=>({basename:v,navigator:d,static:m,unstable_useTransitions:p,future:{}}),[v,d,m,p]);typeof r=="string"&&(r=kl(r));let{pathname:b="/",search:S="",hash:E="",state:C=null,key:O="default"}=r,A=w.useMemo(()=>{let z=qa(b,v);return z==null?null:{location:{pathname:z,search:S,hash:E,state:C,key:O},navigationType:o}},[v,b,S,E,C,O,o]);return Yi(A!=null,`<Router basename="${v}"> is not able to match the URL "${b}${S}${E}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:w.createElement(gi.Provider,{value:_},w.createElement(Yo.Provider,{children:i,value:A}))}function $S({children:t,location:i}){return DS(nm(t),i)}function nm(t,i=[]){let r=[];return w.Children.forEach(t,(o,d)=>{if(!w.isValidElement(o))return;let m=[...i,d];if(o.type===w.Fragment){r.push.apply(r,nm(o.props.children,m));return}Lt(o.type===Rt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=nm(o.props.children,m)),r.push(p)}),r}var Bc="get",Ic="application/x-www-form-urlencoded";function id(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function XS(t){return id(t)&&t.tagName.toLowerCase()==="button"}function JS(t){return id(t)&&t.tagName.toLowerCase()==="form"}function WS(t){return id(t)&&t.tagName.toLowerCase()==="input"}function ew(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tw(t,i){return t.button===0&&(!i||i==="_self")&&!ew(t)}var wc=null;function nw(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(t){return t!=null&&!iw.has(t)?(Yi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):t}function aw(t,i){let r,o,d,m,p;if(JS(t)){let v=t.getAttribute("action");o=v?qa(v,i):null,r=t.getAttribute("method")||Bc,d=mh(t.getAttribute("enctype"))||Ic,m=new FormData(t)}else if(XS(t)||WS(t)&&(t.type==="submit"||t.type==="image")){let v=t.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=t.getAttribute("formaction")||v.getAttribute("action");if(o=_?qa(_,i):null,r=t.getAttribute("formmethod")||v.getAttribute("method")||Bc,d=mh(t.getAttribute("formenctype"))||mh(v.getAttribute("enctype"))||Ic,m=new FormData(v,t),!nw()){let{name:b,type:S,value:E}=t;if(S==="image"){let C=b?`${b}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else b&&m.append(b,E)}}else{if(id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Bc,o=null,d=Ic,p=t}return m&&d==="text/plain"&&(p=m,m=void 0),{action:o,method:r.toLowerCase(),encType:d,formData:m,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function km(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function sw(t,i,r,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:i&&qa(d.pathname,i)==="/"?d.pathname=`${i.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function rw(t,i){if(t.id in i)return i[t.id];try{let r=await import(t.module);return i[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ow(t,i,r){let o=await Promise.all(t.map(async d=>{let m=i.routes[d.route.id];if(m){let p=await rw(m,r);return p.links?p.links():[]}return[]}));return fw(o.flat(1).filter(lw).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function dv(t,i,r,o,d,m){let p=(_,b)=>r[b]?_.route.id!==r[b].route.id:!0,v=(_,b)=>r[b].pathname!==_.pathname||r[b].route.path?.endsWith("*")&&r[b].params["*"]!==_.params["*"];return m==="assets"?i.filter((_,b)=>p(_,b)||v(_,b)):m==="data"?i.filter((_,b)=>{let S=o.routes[_.route.id];if(!S||!S.hasLoader)return!1;if(p(_,b)||v(_,b))return!0;if(_.route.shouldRevalidate){let E=_.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function uw(t,i,{includeHydrateFallback:r}={}){return cw(t.map(o=>{let d=i.routes[o.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),r&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function cw(t){return[...new Set(t)]}function dw(t){let i={},r=Object.keys(t).sort();for(let o of r)i[o]=t[o];return i}function fw(t,i){let r=new Set;return new Set(i),t.reduce((o,d)=>{let m=JSON.stringify(dw(d));return r.has(m)||(r.add(m),o.push({key:m,link:d})),o},[])}function gx(){let t=w.useContext(Al);return km(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hw(){let t=w.useContext(nd);return km(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Am=w.createContext(void 0);Am.displayName="FrameworkContext";function yx(){let t=w.useContext(Am);return km(t,"You must render this element inside a <HydratedRouter> element"),t}function mw(t,i){let r=w.useContext(Am),[o,d]=w.useState(!1),[m,p]=w.useState(!1),{onFocus:v,onBlur:_,onMouseEnter:b,onMouseLeave:S,onTouchStart:E}=i,C=w.useRef(null);w.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let z=H=>{H.forEach(I=>{p(I.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[t]),w.useEffect(()=>{if(o){let z=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(z)}}},[o]);let O=()=>{d(!0)},A=()=>{d(!1),p(!1)};return r?t!=="intent"?[m,C,{}]:[m,C,{onFocus:Po(v,O),onBlur:Po(_,A),onMouseEnter:Po(b,O),onMouseLeave:Po(S,A),onTouchStart:Po(E,O)}]:[!1,C,{}]}function Po(t,i){return r=>{t&&t(r),r.defaultPrevented||i(r)}}function pw({page:t,...i}){let{router:r}=gx(),o=w.useMemo(()=>ix(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?w.createElement(yw,{page:t,matches:o,...i}):null}function gw(t){let{manifest:i,routeModules:r}=yx(),[o,d]=w.useState([]);return w.useEffect(()=>{let m=!1;return ow(t,i,r).then(p=>{m||d(p)}),()=>{m=!0}},[t,i,r]),o}function yw({page:t,matches:i,...r}){let o=$i(),{future:d,manifest:m,routeModules:p}=yx(),{basename:v}=gx(),{loaderData:_,matches:b}=hw(),S=w.useMemo(()=>dv(t,i,b,m,o,"data"),[t,i,b,m,o]),E=w.useMemo(()=>dv(t,i,b,m,o,"assets"),[t,i,b,m,o]),C=w.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let z=new Set,M=!1;if(i.forEach(I=>{let Z=m.routes[I.route.id];!Z||!Z.hasLoader||(!S.some(Q=>Q.route.id===I.route.id)&&I.route.id in _&&p[I.route.id]?.shouldRevalidate||Z.hasClientLoader?M=!0:z.add(I.route.id))}),z.size===0)return[];let H=sw(t,v,d.unstable_trailingSlashAwareDataRequests,"data");return M&&z.size>0&&H.searchParams.set("_routes",i.filter(I=>z.has(I.route.id)).map(I=>I.route.id).join(",")),[H.pathname+H.search]},[v,d.unstable_trailingSlashAwareDataRequests,_,o,m,S,i,t,p]),O=w.useMemo(()=>uw(E,m),[E,m]),A=gw(E);return w.createElement(w.Fragment,null,C.map(z=>w.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...r})),O.map(z=>w.createElement("link",{key:z,rel:"modulepreload",href:z,...r})),A.map(({key:z,link:M})=>w.createElement("link",{key:z,nonce:r.nonce,...M,crossOrigin:M.crossOrigin??r.crossOrigin})))}function vw(...t){return i=>{t.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_w&&(window.__reactRouterVersion="7.13.0")}catch{}function xw({basename:t,children:i,unstable_useTransitions:r,window:o}){let d=w.useRef();d.current==null&&(d.current=XN({window:o,v5Compat:!0}));let m=d.current,[p,v]=w.useState({action:m.action,location:m.location}),_=w.useCallback(b=>{r===!1?v(b):w.startTransition(()=>v(b))},[r]);return w.useLayoutEffect(()=>m.listen(_),[m,_]),w.createElement(YS,{basename:t,children:i,location:p.location,navigationType:p.action,navigator:m,unstable_useTransitions:r})}var vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xo=w.forwardRef(function({onClick:i,discover:r="render",prefetch:o="none",relative:d,reloadDocument:m,replace:p,state:v,target:_,to:b,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:C,...O},A){let{basename:z,unstable_useTransitions:M}=w.useContext(gi),H=typeof b=="string"&&vx.test(b),I=lx(b,z);b=I.to;let Z=zS(b,{relative:d}),[Q,X,V]=mw(o,O),ee=Sw(b,{replace:p,state:v,target:_,preventScrollReset:S,relative:d,viewTransition:E,unstable_defaultShouldRevalidate:C,unstable_useTransitions:M});function $(ue){i&&i(ue),ue.defaultPrevented||ee(ue)}let J=w.createElement("a",{...O,...V,href:I.absoluteURL||Z,onClick:I.isExternal||m?i:$,ref:vw(A,X),target:_,"data-discover":!H&&r==="render"?"true":void 0});return Q&&!H?w.createElement(w.Fragment,null,J,w.createElement(pw,{page:Z})):J});Xo.displayName="Link";var _x=w.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:o="",end:d=!1,style:m,to:p,viewTransition:v,children:_,...b},S){let E=$o(p,{relative:b.relative}),C=$i(),O=w.useContext(nd),{navigator:A,basename:z}=w.useContext(gi),M=O!=null&&Cw(E)&&v===!0,H=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,I=C.pathname,Z=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;r||(I=I.toLowerCase(),Z=Z?Z.toLowerCase():null,H=H.toLowerCase()),Z&&z&&(Z=qa(Z,z)||Z);const Q=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let X=I===H||!d&&I.startsWith(H)&&I.charAt(Q)==="/",V=Z!=null&&(Z===H||!d&&Z.startsWith(H)&&Z.charAt(H.length)==="/"),ee={isActive:X,isPending:V,isTransitioning:M},$=X?i:void 0,J;typeof o=="function"?J=o(ee):J=[o,X?"active":null,V?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ue=typeof m=="function"?m(ee):m;return w.createElement(Xo,{...b,"aria-current":$,className:J,ref:S,style:ue,to:p,viewTransition:v},typeof _=="function"?_(ee):_)});_x.displayName="NavLink";var bw=w.forwardRef(({discover:t="render",fetcherKey:i,navigate:r,reloadDocument:o,replace:d,state:m,method:p=Bc,action:v,onSubmit:_,relative:b,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:C,...O},A)=>{let{unstable_useTransitions:z}=w.useContext(gi),M=jw(),H=Tw(v,{relative:b}),I=p.toLowerCase()==="get"?"get":"post",Z=typeof v=="string"&&vx.test(v),Q=X=>{if(_&&_(X),X.defaultPrevented)return;X.preventDefault();let V=X.nativeEvent.submitter,ee=V?.getAttribute("formmethod")||p,$=()=>M(V||X.currentTarget,{fetcherKey:i,method:ee,navigate:r,replace:d,state:m,relative:b,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:C});z&&r!==!1?w.startTransition(()=>$()):$()};return w.createElement("form",{ref:A,method:I,action:H,onSubmit:o?_:Q,...O,"data-discover":!Z&&t==="render"?"true":void 0})});bw.displayName="Form";function Nw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xx(t){let i=w.useContext(Al);return Lt(i,Nw(t)),i}function Sw(t,{target:i,replace:r,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:_}={}){let b=wm(),S=$i(),E=$o(t,{relative:m});return w.useCallback(C=>{if(tw(C,i)){C.preventDefault();let O=r!==void 0?r:Ko(S)===Ko(E),A=()=>b(t,{replace:O,state:o,preventScrollReset:d,relative:m,viewTransition:p,unstable_defaultShouldRevalidate:v});_?w.startTransition(()=>A()):A()}},[S,b,E,r,o,i,t,d,m,p,v,_])}var ww=0,Ew=()=>`__${String(++ww)}__`;function jw(){let{router:t}=xx("useSubmit"),{basename:i}=w.useContext(gi),r=KS(),o=t.fetch,d=t.navigate;return w.useCallback(async(m,p={})=>{let{action:v,method:_,encType:b,formData:S,body:E}=aw(m,i);if(p.navigate===!1){let C=p.fetcherKey||Ew();await o(C,r,p.action||v,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:E,formMethod:p.method||_,formEncType:p.encType||b,flushSync:p.flushSync})}else await d(p.action||v,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:E,formMethod:p.method||_,formEncType:p.encType||b,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,i,r])}function Tw(t,{relative:i}={}){let{basename:r}=w.useContext(gi),o=w.useContext(Oi);Lt(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),m={...$o(t||".",{relative:i})},p=$i();if(t==null){m.search=p.search;let v=new URLSearchParams(m.search),_=v.getAll("index");if(_.some(S=>S==="")){v.delete("index"),_.filter(E=>E).forEach(E=>v.append("index",E));let S=v.toString();m.search=S?`?${S}`:""}}return(!t||t===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(m.pathname=m.pathname==="/"?r:Za([r,m.pathname])),Ko(m)}function Cw(t,{relative:i}={}){let r=w.useContext(ux);Lt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=xx("useViewTransitionState"),d=$o(t,{relative:i});if(!r.isTransitioning)return!1;let m=qa(r.currentLocation.pathname,o)||r.currentLocation.pathname,p=qa(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Qc(d.pathname,p)!=null||Qc(d.pathname,m)!=null}const Sl={signatureText:"MADE BY YABUJIN",buildVersion:"dev"};function bx(t,i){return function(){return t.apply(i,arguments)}}const{toString:kw}=Object.prototype,{getPrototypeOf:zm}=Object,{iterator:ad,toStringTag:Nx}=Symbol,sd=(t=>i=>{const r=kw.call(i);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xi=t=>(t=t.toLowerCase(),i=>sd(i)===t),rd=t=>i=>typeof i===t,{isArray:Ol}=Array,jl=rd("undefined");function Jo(t){return t!==null&&!jl(t)&&t.constructor!==null&&!jl(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Sx=Xi("ArrayBuffer");function Aw(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&Sx(t.buffer),i}const zw=rd("string"),ti=rd("function"),wx=rd("number"),Wo=t=>t!==null&&typeof t=="object",Ow=t=>t===!0||t===!1,Uc=t=>{if(sd(t)!=="object")return!1;const i=zm(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Nx in t)&&!(ad in t)},Mw=t=>{if(!Wo(t)||Jo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rw=Xi("Date"),Lw=Xi("File"),Dw=Xi("Blob"),Pw=Xi("FileList"),Bw=t=>Wo(t)&&ti(t.pipe),Iw=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((i=sd(t))==="formdata"||i==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},Uw=Xi("URLSearchParams"),[Zw,qw,Fw,Hw]=["ReadableStream","Request","Response","Headers"].map(Xi),Kw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(t,i,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Ol(t))for(o=0,d=t.length;o<d;o++)i.call(null,t[o],o,t);else{if(Jo(t))return;const m=r?Object.getOwnPropertyNames(t):Object.keys(t),p=m.length;let v;for(o=0;o<p;o++)v=m[o],i.call(null,t[v],v,t)}}function Ex(t,i){if(Jo(t))return null;i=i.toLowerCase();const r=Object.keys(t);let o=r.length,d;for(;o-- >0;)if(d=r[o],i===d.toLowerCase())return d;return null}const yr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jx=t=>!jl(t)&&t!==yr;function im(){const{caseless:t,skipUndefined:i}=jx(this)&&this||{},r={},o=(d,m)=>{const p=t&&Ex(r,m)||m;Uc(r[p])&&Uc(d)?r[p]=im(r[p],d):Uc(d)?r[p]=im({},d):Ol(d)?r[p]=d.slice():(!i||!jl(d))&&(r[p]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&eu(arguments[d],o);return r}const Qw=(t,i,r,{allOwnKeys:o}={})=>(eu(i,(d,m)=>{r&&ti(d)?Object.defineProperty(t,m,{value:bx(d,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),Vw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gw=(t,i,r,o)=>{t.prototype=Object.create(i.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:i.prototype}),r&&Object.assign(t.prototype,r)},Yw=(t,i,r,o)=>{let d,m,p;const v={};if(i=i||{},t==null)return i;do{for(d=Object.getOwnPropertyNames(t),m=d.length;m-- >0;)p=d[m],(!o||o(p,t,i))&&!v[p]&&(i[p]=t[p],v[p]=!0);t=r!==!1&&zm(t)}while(t&&(!r||r(t,i))&&t!==Object.prototype);return i},$w=(t,i,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=i.length;const o=t.indexOf(i,r);return o!==-1&&o===r},Xw=t=>{if(!t)return null;if(Ol(t))return t;let i=t.length;if(!wx(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=t[i];return r},Jw=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&zm(Uint8Array)),Ww=(t,i)=>{const o=(t&&t[ad]).call(t);let d;for(;(d=o.next())&&!d.done;){const m=d.value;i.call(t,m[0],m[1])}},eE=(t,i)=>{let r;const o=[];for(;(r=t.exec(i))!==null;)o.push(r);return o},tE=Xi("HTMLFormElement"),nE=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,d){return o.toUpperCase()+d}),fv=(({hasOwnProperty:t})=>(i,r)=>t.call(i,r))(Object.prototype),iE=Xi("RegExp"),Tx=(t,i)=>{const r=Object.getOwnPropertyDescriptors(t),o={};eu(r,(d,m)=>{let p;(p=i(d,m,t))!==!1&&(o[m]=p||d)}),Object.defineProperties(t,o)},aE=t=>{Tx(t,(i,r)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(ti(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},sE=(t,i)=>{const r={},o=d=>{d.forEach(m=>{r[m]=!0})};return Ol(t)?o(t):o(String(t).split(i)),r},rE=()=>{},lE=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i;function oE(t){return!!(t&&ti(t.append)&&t[Nx]==="FormData"&&t[ad])}const uE=t=>{const i=new Array(10),r=(o,d)=>{if(Wo(o)){if(i.indexOf(o)>=0)return;if(Jo(o))return o;if(!("toJSON"in o)){i[d]=o;const m=Ol(o)?[]:{};return eu(o,(p,v)=>{const _=r(p,d+1);!jl(_)&&(m[v]=_)}),i[d]=void 0,m}}return o};return r(t,0)},cE=Xi("AsyncFunction"),dE=t=>t&&(Wo(t)||ti(t))&&ti(t.then)&&ti(t.catch),Cx=((t,i)=>t?setImmediate:i?((r,o)=>(yr.addEventListener("message",({source:d,data:m})=>{d===yr&&m===r&&o.length&&o.shift()()},!1),d=>{o.push(d),yr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ti(yr.postMessage)),fE=typeof queueMicrotask<"u"?queueMicrotask.bind(yr):typeof process<"u"&&process.nextTick||Cx,hE=t=>t!=null&&ti(t[ad]),pe={isArray:Ol,isArrayBuffer:Sx,isBuffer:Jo,isFormData:Iw,isArrayBufferView:Aw,isString:zw,isNumber:wx,isBoolean:Ow,isObject:Wo,isPlainObject:Uc,isEmptyObject:Mw,isReadableStream:Zw,isRequest:qw,isResponse:Fw,isHeaders:Hw,isUndefined:jl,isDate:Rw,isFile:Lw,isBlob:Dw,isRegExp:iE,isFunction:ti,isStream:Bw,isURLSearchParams:Uw,isTypedArray:Jw,isFileList:Pw,forEach:eu,merge:im,extend:Qw,trim:Kw,stripBOM:Vw,inherits:Gw,toFlatObject:Yw,kindOf:sd,kindOfTest:Xi,endsWith:$w,toArray:Xw,forEachEntry:Ww,matchAll:eE,isHTMLForm:tE,hasOwnProperty:fv,hasOwnProp:fv,reduceDescriptors:Tx,freezeMethods:aE,toObjectSet:sE,toCamelCase:nE,noop:rE,toFiniteNumber:lE,findKey:Ex,global:yr,isContextDefined:jx,isSpecCompliantForm:oE,toJSONObject:uE,isAsyncFn:cE,isThenable:dE,setImmediate:Cx,asap:fE,isIterable:hE};let Fe=class kx extends Error{static from(i,r,o,d,m,p){const v=new kx(i.message,r||i.code,o,d,m);return v.cause=i,v.name=i.name,p&&Object.assign(v,p),v}constructor(i,r,o,d,m){super(i),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),o&&(this.config=o),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}};Fe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Fe.ERR_BAD_OPTION="ERR_BAD_OPTION";Fe.ECONNABORTED="ECONNABORTED";Fe.ETIMEDOUT="ETIMEDOUT";Fe.ERR_NETWORK="ERR_NETWORK";Fe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Fe.ERR_DEPRECATED="ERR_DEPRECATED";Fe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Fe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Fe.ERR_CANCELED="ERR_CANCELED";Fe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Fe.ERR_INVALID_URL="ERR_INVALID_URL";const mE=null;function am(t){return pe.isPlainObject(t)||pe.isArray(t)}function Ax(t){return pe.endsWith(t,"[]")?t.slice(0,-2):t}function hv(t,i,r){return t?t.concat(i).map(function(d,m){return d=Ax(d),!r&&m?"["+d+"]":d}).join(r?".":""):i}function pE(t){return pe.isArray(t)&&!t.some(am)}const gE=pe.toFlatObject(pe,{},null,function(i){return/^is[A-Z]/.test(i)});function ld(t,i,r){if(!pe.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,M){return!pe.isUndefined(M[z])});const o=r.metaTokens,d=r.visitor||S,m=r.dots,p=r.indexes,_=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(i);if(!pe.isFunction(d))throw new TypeError("visitor must be a function");function b(A){if(A===null)return"";if(pe.isDate(A))return A.toISOString();if(pe.isBoolean(A))return A.toString();if(!_&&pe.isBlob(A))throw new Fe("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(A)||pe.isTypedArray(A)?_&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function S(A,z,M){let H=A;if(A&&!M&&typeof A=="object"){if(pe.endsWith(z,"{}"))z=o?z:z.slice(0,-2),A=JSON.stringify(A);else if(pe.isArray(A)&&pE(A)||(pe.isFileList(A)||pe.endsWith(z,"[]"))&&(H=pe.toArray(A)))return z=Ax(z),H.forEach(function(Z,Q){!(pe.isUndefined(Z)||Z===null)&&i.append(p===!0?hv([z],Q,m):p===null?z:z+"[]",b(Z))}),!1}return am(A)?!0:(i.append(hv(M,z,m),b(A)),!1)}const E=[],C=Object.assign(gE,{defaultVisitor:S,convertValue:b,isVisitable:am});function O(A,z){if(!pe.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+z.join("."));E.push(A),pe.forEach(A,function(H,I){(!(pe.isUndefined(H)||H===null)&&d.call(i,H,pe.isString(I)?I.trim():I,z,C))===!0&&O(H,z?z.concat(I):[I])}),E.pop()}}if(!pe.isObject(t))throw new TypeError("data must be an object");return O(t),i}function mv(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function Om(t,i){this._pairs=[],t&&ld(t,this,i)}const zx=Om.prototype;zx.append=function(i,r){this._pairs.push([i,r])};zx.toString=function(i){const r=i?function(o){return i.call(this,o,mv)}:mv;return this._pairs.map(function(d){return r(d[0])+"="+r(d[1])},"").join("&")};function yE(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ox(t,i,r){if(!i)return t;const o=r&&r.encode||yE,d=pe.isFunction(r)?{serialize:r}:r,m=d&&d.serialize;let p;if(m?p=m(i,d):p=pe.isURLSearchParams(i)?i.toString():new Om(i,d).toString(o),p){const v=t.indexOf("#");v!==-1&&(t=t.slice(0,v)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class pv{constructor(){this.handlers=[]}use(i,r,o){return this.handlers.push({fulfilled:i,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){pe.forEach(this.handlers,function(o){o!==null&&i(o)})}}const Mx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vE=typeof URLSearchParams<"u"?URLSearchParams:Om,_E=typeof FormData<"u"?FormData:null,xE=typeof Blob<"u"?Blob:null,bE={isBrowser:!0,classes:{URLSearchParams:vE,FormData:_E,Blob:xE},protocols:["http","https","file","blob","url","data"]},Mm=typeof window<"u"&&typeof document<"u",sm=typeof navigator=="object"&&navigator||void 0,NE=Mm&&(!sm||["ReactNative","NativeScript","NS"].indexOf(sm.product)<0),SE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wE=Mm&&window.location.href||"http://localhost",EE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mm,hasStandardBrowserEnv:NE,hasStandardBrowserWebWorkerEnv:SE,navigator:sm,origin:wE},Symbol.toStringTag,{value:"Module"})),Ln={...EE,...bE};function jE(t,i){return ld(t,new Ln.classes.URLSearchParams,{visitor:function(r,o,d,m){return Ln.isNode&&pe.isBuffer(r)?(this.append(o,r.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...i})}function TE(t){return pe.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function CE(t){const i={},r=Object.keys(t);let o;const d=r.length;let m;for(o=0;o<d;o++)m=r[o],i[m]=t[m];return i}function Rx(t){function i(r,o,d,m){let p=r[m++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),_=m>=r.length;return p=!p&&pe.isArray(d)?d.length:p,_?(pe.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!v):((!d[p]||!pe.isObject(d[p]))&&(d[p]=[]),i(r,o,d[p],m)&&pe.isArray(d[p])&&(d[p]=CE(d[p])),!v)}if(pe.isFormData(t)&&pe.isFunction(t.entries)){const r={};return pe.forEachEntry(t,(o,d)=>{i(TE(o),d,r,0)}),r}return null}function kE(t,i,r){if(pe.isString(t))try{return(i||JSON.parse)(t),pe.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const tu={transitional:Mx,adapter:["xhr","http","fetch"],transformRequest:[function(i,r){const o=r.getContentType()||"",d=o.indexOf("application/json")>-1,m=pe.isObject(i);if(m&&pe.isHTMLForm(i)&&(i=new FormData(i)),pe.isFormData(i))return d?JSON.stringify(Rx(i)):i;if(pe.isArrayBuffer(i)||pe.isBuffer(i)||pe.isStream(i)||pe.isFile(i)||pe.isBlob(i)||pe.isReadableStream(i))return i;if(pe.isArrayBufferView(i))return i.buffer;if(pe.isURLSearchParams(i))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return jE(i,this.formSerializer).toString();if((v=pe.isFileList(i))||o.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return ld(v?{"files[]":i}:i,_&&new _,this.formSerializer)}}return m||d?(r.setContentType("application/json",!1),kE(i)):i}],transformResponse:[function(i){const r=this.transitional||tu.transitional,o=r&&r.forcedJSONParsing,d=this.responseType==="json";if(pe.isResponse(i)||pe.isReadableStream(i))return i;if(i&&pe.isString(i)&&(o&&!this.responseType||d)){const p=!(r&&r.silentJSONParsing)&&d;try{return JSON.parse(i,this.parseReviver)}catch(v){if(p)throw v.name==="SyntaxError"?Fe.from(v,Fe.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],t=>{tu.headers[t]={}});const AE=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zE=t=>{const i={};let r,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),r=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!r||i[r]&&AE[r])&&(r==="set-cookie"?i[r]?i[r].push(o):i[r]=[o]:i[r]=i[r]?i[r]+", "+o:o)}),i},gv=Symbol("internals");function Bo(t){return t&&String(t).trim().toLowerCase()}function Zc(t){return t===!1||t==null?t:pe.isArray(t)?t.map(Zc):String(t)}function OE(t){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)i[o[1]]=o[2];return i}const ME=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ph(t,i,r,o,d){if(pe.isFunction(o))return o.call(this,i,r);if(d&&(i=r),!!pe.isString(i)){if(pe.isString(o))return i.indexOf(o)!==-1;if(pe.isRegExp(o))return o.test(i)}}function RE(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,o)=>r.toUpperCase()+o)}function LE(t,i){const r=pe.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(d,m,p){return this[o].call(this,i,d,m,p)},configurable:!0})})}let ni=class{constructor(i){i&&this.set(i)}set(i,r,o){const d=this;function m(v,_,b){const S=Bo(_);if(!S)throw new Error("header name must be a non-empty string");const E=pe.findKey(d,S);(!E||d[E]===void 0||b===!0||b===void 0&&d[E]!==!1)&&(d[E||_]=Zc(v))}const p=(v,_)=>pe.forEach(v,(b,S)=>m(b,S,_));if(pe.isPlainObject(i)||i instanceof this.constructor)p(i,r);else if(pe.isString(i)&&(i=i.trim())&&!ME(i))p(zE(i),r);else if(pe.isObject(i)&&pe.isIterable(i)){let v={},_,b;for(const S of i){if(!pe.isArray(S))throw TypeError("Object iterator must return a key-value pair");v[b=S[0]]=(_=v[b])?pe.isArray(_)?[..._,S[1]]:[_,S[1]]:S[1]}p(v,r)}else i!=null&&m(r,i,o);return this}get(i,r){if(i=Bo(i),i){const o=pe.findKey(this,i);if(o){const d=this[o];if(!r)return d;if(r===!0)return OE(d);if(pe.isFunction(r))return r.call(this,d,o);if(pe.isRegExp(r))return r.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=Bo(i),i){const o=pe.findKey(this,i);return!!(o&&this[o]!==void 0&&(!r||ph(this,this[o],o,r)))}return!1}delete(i,r){const o=this;let d=!1;function m(p){if(p=Bo(p),p){const v=pe.findKey(o,p);v&&(!r||ph(o,o[v],v,r))&&(delete o[v],d=!0)}}return pe.isArray(i)?i.forEach(m):m(i),d}clear(i){const r=Object.keys(this);let o=r.length,d=!1;for(;o--;){const m=r[o];(!i||ph(this,this[m],m,i,!0))&&(delete this[m],d=!0)}return d}normalize(i){const r=this,o={};return pe.forEach(this,(d,m)=>{const p=pe.findKey(o,m);if(p){r[p]=Zc(d),delete r[m];return}const v=i?RE(m):String(m).trim();v!==m&&delete r[m],r[v]=Zc(d),o[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return pe.forEach(this,(o,d)=>{o!=null&&o!==!1&&(r[d]=i&&pe.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const o=new this(i);return r.forEach(d=>o.set(d)),o}static accessor(i){const o=(this[gv]=this[gv]={accessors:{}}).accessors,d=this.prototype;function m(p){const v=Bo(p);o[v]||(LE(d,p),o[v]=!0)}return pe.isArray(i)?i.forEach(m):m(i),this}};ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(ni.prototype,({value:t},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[r]=o}}});pe.freezeMethods(ni);function gh(t,i){const r=this||tu,o=i||r,d=ni.from(o.headers);let m=o.data;return pe.forEach(t,function(v){m=v.call(r,m,d.normalize(),i?i.status:void 0)}),d.normalize(),m}function Lx(t){return!!(t&&t.__CANCEL__)}let nu=class extends Fe{constructor(i,r,o){super(i??"canceled",Fe.ERR_CANCELED,r,o),this.name="CanceledError",this.__CANCEL__=!0}};function Dx(t,i,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):i(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function DE(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function PE(t,i){t=t||10;const r=new Array(t),o=new Array(t);let d=0,m=0,p;return i=i!==void 0?i:1e3,function(_){const b=Date.now(),S=o[m];p||(p=b),r[d]=_,o[d]=b;let E=m,C=0;for(;E!==d;)C+=r[E++],E=E%t;if(d=(d+1)%t,d===m&&(m=(m+1)%t),b-p<i)return;const O=S&&b-S;return O?Math.round(C*1e3/O):void 0}}function BE(t,i){let r=0,o=1e3/i,d,m;const p=(b,S=Date.now())=>{r=S,d=null,m&&(clearTimeout(m),m=null),t(...b)};return[(...b)=>{const S=Date.now(),E=S-r;E>=o?p(b,S):(d=b,m||(m=setTimeout(()=>{m=null,p(d)},o-E)))},()=>d&&p(d)]}const Vc=(t,i,r=3)=>{let o=0;const d=PE(50,250);return BE(m=>{const p=m.loaded,v=m.lengthComputable?m.total:void 0,_=p-o,b=d(_),S=p<=v;o=p;const E={loaded:p,total:v,progress:v?p/v:void 0,bytes:_,rate:b||void 0,estimated:b&&v&&S?(v-p)/b:void 0,event:m,lengthComputable:v!=null,[i?"download":"upload"]:!0};t(E)},r)},yv=(t,i)=>{const r=t!=null;return[o=>i[0]({lengthComputable:r,total:t,loaded:o}),i[1]]},vv=t=>(...i)=>pe.asap(()=>t(...i)),IE=Ln.hasStandardBrowserEnv?((t,i)=>r=>(r=new URL(r,Ln.origin),t.protocol===r.protocol&&t.host===r.host&&(i||t.port===r.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,UE=Ln.hasStandardBrowserEnv?{write(t,i,r,o,d,m,p){if(typeof document>"u")return;const v=[`${t}=${encodeURIComponent(i)}`];pe.isNumber(r)&&v.push(`expires=${new Date(r).toUTCString()}`),pe.isString(o)&&v.push(`path=${o}`),pe.isString(d)&&v.push(`domain=${d}`),m===!0&&v.push("secure"),pe.isString(p)&&v.push(`SameSite=${p}`),document.cookie=v.join("; ")},read(t){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return i?decodeURIComponent(i[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ZE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qE(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function Px(t,i,r){let o=!ZE(i);return t&&(o||r==!1)?qE(t,i):i}const _v=t=>t instanceof ni?{...t}:t;function br(t,i){i=i||{};const r={};function o(b,S,E,C){return pe.isPlainObject(b)&&pe.isPlainObject(S)?pe.merge.call({caseless:C},b,S):pe.isPlainObject(S)?pe.merge({},S):pe.isArray(S)?S.slice():S}function d(b,S,E,C){if(pe.isUndefined(S)){if(!pe.isUndefined(b))return o(void 0,b,E,C)}else return o(b,S,E,C)}function m(b,S){if(!pe.isUndefined(S))return o(void 0,S)}function p(b,S){if(pe.isUndefined(S)){if(!pe.isUndefined(b))return o(void 0,b)}else return o(void 0,S)}function v(b,S,E){if(E in i)return o(b,S);if(E in t)return o(void 0,b)}const _={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(b,S,E)=>d(_v(b),_v(S),E,!0)};return pe.forEach(Object.keys({...t,...i}),function(S){const E=_[S]||d,C=E(t[S],i[S],S);pe.isUndefined(C)&&E!==v||(r[S]=C)}),r}const Bx=t=>{const i=br({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:p,auth:v}=i;if(i.headers=p=ni.from(p),i.url=Ox(Px(i.baseURL,i.url,i.allowAbsoluteUrls),t.params,t.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),pe.isFormData(r)){if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(pe.isFunction(r.getHeaders)){const _=r.getHeaders(),b=["content-type","content-length"];Object.entries(_).forEach(([S,E])=>{b.includes(S.toLowerCase())&&p.set(S,E)})}}if(Ln.hasStandardBrowserEnv&&(o&&pe.isFunction(o)&&(o=o(i)),o||o!==!1&&IE(i.url))){const _=d&&m&&UE.read(m);_&&p.set(d,_)}return i},FE=typeof XMLHttpRequest<"u",HE=FE&&function(t){return new Promise(function(r,o){const d=Bx(t);let m=d.data;const p=ni.from(d.headers).normalize();let{responseType:v,onUploadProgress:_,onDownloadProgress:b}=d,S,E,C,O,A;function z(){O&&O(),A&&A(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let M=new XMLHttpRequest;M.open(d.method.toUpperCase(),d.url,!0),M.timeout=d.timeout;function H(){if(!M)return;const Z=ni.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),X={data:!v||v==="text"||v==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:Z,config:t,request:M};Dx(function(ee){r(ee),z()},function(ee){o(ee),z()},X),M=null}"onloadend"in M?M.onloadend=H:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(H)},M.onabort=function(){M&&(o(new Fe("Request aborted",Fe.ECONNABORTED,t,M)),M=null)},M.onerror=function(Q){const X=Q&&Q.message?Q.message:"Network Error",V=new Fe(X,Fe.ERR_NETWORK,t,M);V.event=Q||null,o(V),M=null},M.ontimeout=function(){let Q=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const X=d.transitional||Mx;d.timeoutErrorMessage&&(Q=d.timeoutErrorMessage),o(new Fe(Q,X.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,M)),M=null},m===void 0&&p.setContentType(null),"setRequestHeader"in M&&pe.forEach(p.toJSON(),function(Q,X){M.setRequestHeader(X,Q)}),pe.isUndefined(d.withCredentials)||(M.withCredentials=!!d.withCredentials),v&&v!=="json"&&(M.responseType=d.responseType),b&&([C,A]=Vc(b,!0),M.addEventListener("progress",C)),_&&M.upload&&([E,O]=Vc(_),M.upload.addEventListener("progress",E),M.upload.addEventListener("loadend",O)),(d.cancelToken||d.signal)&&(S=Z=>{M&&(o(!Z||Z.type?new nu(null,t,M):Z),M.abort(),M=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const I=DE(d.url);if(I&&Ln.protocols.indexOf(I)===-1){o(new Fe("Unsupported protocol "+I+":",Fe.ERR_BAD_REQUEST,t));return}M.send(m||null)})},KE=(t,i)=>{const{length:r}=t=t?t.filter(Boolean):[];if(i||r){let o=new AbortController,d;const m=function(b){if(!d){d=!0,v();const S=b instanceof Error?b:this.reason;o.abort(S instanceof Fe?S:new nu(S instanceof Error?S.message:S))}};let p=i&&setTimeout(()=>{p=null,m(new Fe(`timeout of ${i}ms exceeded`,Fe.ETIMEDOUT))},i);const v=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(b=>{b.unsubscribe?b.unsubscribe(m):b.removeEventListener("abort",m)}),t=null)};t.forEach(b=>b.addEventListener("abort",m));const{signal:_}=o;return _.unsubscribe=()=>pe.asap(v),_}},QE=function*(t,i){let r=t.byteLength;if(r<i){yield t;return}let o=0,d;for(;o<r;)d=o+i,yield t.slice(o,d),o=d},VE=async function*(t,i){for await(const r of GE(t))yield*QE(r,i)},GE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:r,value:o}=await i.read();if(r)break;yield o}}finally{await i.cancel()}},xv=(t,i,r,o)=>{const d=VE(t,i);let m=0,p,v=_=>{p||(p=!0,o&&o(_))};return new ReadableStream({async pull(_){try{const{done:b,value:S}=await d.next();if(b){v(),_.close();return}let E=S.byteLength;if(r){let C=m+=E;r(C)}_.enqueue(new Uint8Array(S))}catch(b){throw v(b),b}},cancel(_){return v(_),d.return()}},{highWaterMark:2})},bv=64*1024,{isFunction:Ec}=pe,YE=(({Request:t,Response:i})=>({Request:t,Response:i}))(pe.global),{ReadableStream:Nv,TextEncoder:Sv}=pe.global,wv=(t,...i)=>{try{return!!t(...i)}catch{return!1}},$E=t=>{t=pe.merge.call({skipUndefined:!0},YE,t);const{fetch:i,Request:r,Response:o}=t,d=i?Ec(i):typeof fetch=="function",m=Ec(r),p=Ec(o);if(!d)return!1;const v=d&&Ec(Nv),_=d&&(typeof Sv=="function"?(A=>z=>A.encode(z))(new Sv):async A=>new Uint8Array(await new r(A).arrayBuffer())),b=m&&v&&wv(()=>{let A=!1;const z=new r(Ln.origin,{body:new Nv,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!z}),S=p&&v&&wv(()=>pe.isReadableStream(new o("").body)),E={stream:S&&(A=>A.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!E[A]&&(E[A]=(z,M)=>{let H=z&&z[A];if(H)return H.call(z);throw new Fe(`Response type '${A}' is not supported`,Fe.ERR_NOT_SUPPORT,M)})});const C=async A=>{if(A==null)return 0;if(pe.isBlob(A))return A.size;if(pe.isSpecCompliantForm(A))return(await new r(Ln.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(A)||pe.isArrayBuffer(A))return A.byteLength;if(pe.isURLSearchParams(A)&&(A=A+""),pe.isString(A))return(await _(A)).byteLength},O=async(A,z)=>{const M=pe.toFiniteNumber(A.getContentLength());return M??C(z)};return async A=>{let{url:z,method:M,data:H,signal:I,cancelToken:Z,timeout:Q,onDownloadProgress:X,onUploadProgress:V,responseType:ee,headers:$,withCredentials:J="same-origin",fetchOptions:ue}=Bx(A),ae=i||fetch;ee=ee?(ee+"").toLowerCase():"text";let ce=KE([I,Z&&Z.toAbortSignal()],Q),de=null;const q=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let se;try{if(V&&b&&M!=="get"&&M!=="head"&&(se=await O($,H))!==0){let k=new r(z,{method:"POST",body:H,duplex:"half"}),Y;if(pe.isFormData(H)&&(Y=k.headers.get("content-type"))&&$.setContentType(Y),k.body){const[F,W]=yv(se,Vc(vv(V)));H=xv(k.body,bv,F,W)}}pe.isString(J)||(J=J?"include":"omit");const U=m&&"credentials"in r.prototype,P={...ue,signal:ce,method:M.toUpperCase(),headers:$.normalize().toJSON(),body:H,duplex:"half",credentials:U?J:void 0};de=m&&new r(z,P);let re=await(m?ae(de,ue):ae(z,P));const Ee=S&&(ee==="stream"||ee==="response");if(S&&(X||Ee&&q)){const k={};["status","statusText","headers"].forEach(ge=>{k[ge]=re[ge]});const Y=pe.toFiniteNumber(re.headers.get("content-length")),[F,W]=X&&yv(Y,Vc(vv(X),!0))||[];re=new o(xv(re.body,bv,F,()=>{W&&W(),q&&q()}),k)}ee=ee||"text";let Se=await E[pe.findKey(E,ee)||"text"](re,A);return!Ee&&q&&q(),await new Promise((k,Y)=>{Dx(k,Y,{data:Se,headers:ni.from(re.headers),status:re.status,statusText:re.statusText,config:A,request:de})})}catch(U){throw q&&q(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,A,de),{cause:U.cause||U}):Fe.from(U,U&&U.code,A,de)}}},XE=new Map,Ix=t=>{let i=t&&t.env||{};const{fetch:r,Request:o,Response:d}=i,m=[o,d,r];let p=m.length,v=p,_,b,S=XE;for(;v--;)_=m[v],b=S.get(_),b===void 0&&S.set(_,b=v?new Map:$E(i)),S=b;return b};Ix();const Rm={http:mE,xhr:HE,fetch:{get:Ix}};pe.forEach(Rm,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const Ev=t=>`- ${t}`,JE=t=>pe.isFunction(t)||t===null||t===!1;function WE(t,i){t=pe.isArray(t)?t:[t];const{length:r}=t;let o,d;const m={};for(let p=0;p<r;p++){o=t[p];let v;if(d=o,!JE(o)&&(d=Rm[(v=String(o)).toLowerCase()],d===void 0))throw new Fe(`Unknown adapter '${v}'`);if(d&&(pe.isFunction(d)||(d=d.get(i))))break;m[v||"#"+p]=d}if(!d){const p=Object.entries(m).map(([_,b])=>`adapter ${_} `+(b===!1?"is not supported by the environment":"is not available in the build"));let v=r?p.length>1?`since :
`+p.map(Ev).join(`
`):" "+Ev(p[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return d}const Ux={getAdapter:WE,adapters:Rm};function yh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nu(null,t)}function jv(t){return yh(t),t.headers=ni.from(t.headers),t.data=gh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ux.getAdapter(t.adapter||tu.adapter,t)(t).then(function(o){return yh(t),o.data=gh.call(t,t.transformResponse,o),o.headers=ni.from(o.headers),o},function(o){return Lx(o)||(yh(t),o&&o.response&&(o.response.data=gh.call(t,t.transformResponse,o.response),o.response.headers=ni.from(o.response.headers))),Promise.reject(o)})}const Zx="1.13.4",od={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{od[t]=function(o){return typeof o===t||"a"+(i<1?"n ":" ")+t}});const Tv={};od.transitional=function(i,r,o){function d(m,p){return"[Axios v"+Zx+"] Transitional option '"+m+"'"+p+(o?". "+o:"")}return(m,p,v)=>{if(i===!1)throw new Fe(d(p," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!Tv[p]&&(Tv[p]=!0,console.warn(d(p," has been deprecated since v"+r+" and will be removed in the near future"))),i?i(m,p,v):!0}};od.spelling=function(i){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function ej(t,i,r){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const m=o[d],p=i[m];if(p){const v=t[m],_=v===void 0||p(v,m,t);if(_!==!0)throw new Fe("option "+m+" must be "+_,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+m,Fe.ERR_BAD_OPTION)}}const qc={assertOptions:ej,validators:od},pa=qc.validators;let vr=class{constructor(i){this.defaults=i||{},this.interceptors={request:new pv,response:new pv}}async request(i,r){try{return await this._request(i,r)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=br(this.defaults,r);const{transitional:o,paramsSerializer:d,headers:m}=r;o!==void 0&&qc.assertOptions(o,{silentJSONParsing:pa.transitional(pa.boolean),forcedJSONParsing:pa.transitional(pa.boolean),clarifyTimeoutError:pa.transitional(pa.boolean)},!1),d!=null&&(pe.isFunction(d)?r.paramsSerializer={serialize:d}:qc.assertOptions(d,{encode:pa.function,serialize:pa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qc.assertOptions(r,{baseUrl:pa.spelling("baseURL"),withXsrfToken:pa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let p=m&&pe.merge(m.common,m[r.method]);m&&pe.forEach(["delete","get","head","post","put","patch","common"],A=>{delete m[A]}),r.headers=ni.concat(p,m);const v=[];let _=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(r)===!1||(_=_&&z.synchronous,v.unshift(z.fulfilled,z.rejected))});const b=[];this.interceptors.response.forEach(function(z){b.push(z.fulfilled,z.rejected)});let S,E=0,C;if(!_){const A=[jv.bind(this),void 0];for(A.unshift(...v),A.push(...b),C=A.length,S=Promise.resolve(r);E<C;)S=S.then(A[E++],A[E++]);return S}C=v.length;let O=r;for(;E<C;){const A=v[E++],z=v[E++];try{O=A(O)}catch(M){z.call(this,M);break}}try{S=jv.call(this,O)}catch(A){return Promise.reject(A)}for(E=0,C=b.length;E<C;)S=S.then(b[E++],b[E++]);return S}getUri(i){i=br(this.defaults,i);const r=Px(i.baseURL,i.url,i.allowAbsoluteUrls);return Ox(r,i.params,i.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(i){vr.prototype[i]=function(r,o){return this.request(br(o||{},{method:i,url:r,data:(o||{}).data}))}});pe.forEach(["post","put","patch"],function(i){function r(o){return function(m,p,v){return this.request(br(v||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}vr.prototype[i]=r(),vr.prototype[i+"Form"]=r(!0)});let tj=class qx{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(m){r=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const p=new Promise(v=>{o.subscribe(v),m=v}).then(d);return p.cancel=function(){o.unsubscribe(m)},p},i(function(m,p,v){o.reason||(o.reason=new nu(m,p,v),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const i=new AbortController,r=o=>{i.abort(o)};return this.subscribe(r),i.signal.unsubscribe=()=>this.unsubscribe(r),i.signal}static source(){let i;return{token:new qx(function(d){i=d}),cancel:i}}};function nj(t){return function(r){return t.apply(null,r)}}function ij(t){return pe.isObject(t)&&t.isAxiosError===!0}const rm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rm).forEach(([t,i])=>{rm[i]=t});function Fx(t){const i=new vr(t),r=bx(vr.prototype.request,i);return pe.extend(r,vr.prototype,i,{allOwnKeys:!0}),pe.extend(r,i,null,{allOwnKeys:!0}),r.create=function(d){return Fx(br(t,d))},r}const At=Fx(tu);At.Axios=vr;At.CanceledError=nu;At.CancelToken=tj;At.isCancel=Lx;At.VERSION=Zx;At.toFormData=ld;At.AxiosError=Fe;At.Cancel=At.CanceledError;At.all=function(i){return Promise.all(i)};At.spread=nj;At.isAxiosError=ij;At.mergeConfig=br;At.AxiosHeaders=ni;At.formToJSON=t=>Rx(pe.isHTMLForm(t)?new FormData(t):t);At.getAdapter=Ux.getAdapter;At.HttpStatusCode=rm;At.default=At;const{Axios:Rz,AxiosError:Lz,CanceledError:Dz,isCancel:Pz,CancelToken:Bz,VERSION:Iz,all:Uz,Cancel:Zz,isAxiosError:qz,spread:Fz,toFormData:Hz,AxiosHeaders:Kz,HttpStatusCode:Qz,formToJSON:Vz,getAdapter:Gz,mergeConfig:Yz}=At,Lm="puantaj_access_token",Gc="puantaj_refresh_token";function Hx(){return localStorage.getItem(Lm)}function lm(){return localStorage.getItem(Gc)}function om(t,i){if(localStorage.setItem(Lm,t),i){localStorage.setItem(Gc,i);return}localStorage.removeItem(Gc)}function Kx(){localStorage.removeItem(Lm),localStorage.removeItem(Gc)}function aj(t){try{const i=t.split(".")[1];if(!i)return null;const r=i.replace(/-/g,"+").replace(/_/g,"/"),o=r.padEnd(r.length+(4-r.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function sj(t){if(!t)return!1;const i=aj(t);if(!i?.exp)return!1;const r=Math.floor(Date.now()/1e3);return i.exp>r+10}const um="http://127.0.0.1:8000",rj=um.includes("127.0.0.1")||um.includes("localhost"),lj=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Qx=lj&&rj?window.location.origin:um,vh="/admin-panel/",jc=vh.endsWith("/")?vh.slice(0,-1):vh,Ae=At.create({baseURL:Qx,headers:{"Content-Type":"application/json"}});function Cv(){if(Kx(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,i=jc&&t.startsWith(jc)?t.slice(jc.length)||"/":t;if(i==="/login"||i.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const r=`${jc}/login?redirect=${encodeURIComponent(i)}`;window.location.replace(r)}Ae.interceptors.request.use(t=>{const i=Hx();return i&&(t.headers.Authorization=`Bearer ${i}`),t});let Tc=null;async function oj(){const t=lm();if(!t)return Cv(),null;try{const i=await At.post(`${Qx}/api/admin/auth/refresh`,{refresh_token:t});return om(i.data.access_token,i.data.refresh_token??t),i.data.access_token}catch{return Cv(),null}}Ae.interceptors.response.use(t=>t,async t=>{const i=t.config;if(!i||t.response?.status!==401||i._retry)return Promise.reject(t);const o=i.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);i._retry=!0,Tc||(Tc=oj().finally(()=>{Tc=null}));const m=await Tc;return m?(i.headers.Authorization=`Bearer ${m}`,Ae(i)):Promise.reject(t)});async function uj(t){return(await Ae.post("/api/admin/auth/login",t)).data}async function cj(t){return(await Ae.post("/api/admin/auth/refresh",t)).data}async function dj(t){return(await Ae.post("/api/admin/auth/logout",t)).data}async function _h(){return(await Ae.get("/api/admin/auth/me")).data}async function fj(){return(await Ae.get("/api/admin/admin-users")).data}async function ud(t){return(await Ae.get("/api/admin/regions",{params:t})).data}async function hj(t){return(await Ae.post("/api/admin/regions",t)).data}async function mj(t,i){return(await Ae.patch(`/api/admin/regions/${t}`,i)).data}async function pj(t){return(await Ae.post("/api/admin/admin-users",t)).data}async function gj(t,i){return(await Ae.patch(`/api/admin/admin-users/${t}`,i)).data}async function yj(t){await Ae.delete(`/api/admin/admin-users/${t}`)}async function wr(){return(await Ae.get("/admin/departments")).data}async function vj(t){return(await Ae.get("/admin/departments",{params:t})).data}async function _j(t){return(await Ae.post("/admin/departments",t)).data}async function xj(t,i){return(await Ae.patch(`/admin/departments/${t}`,i)).data}async function ya(t={}){return(await Ae.get("/admin/employees",{params:t})).data}async function bj(t){return(await Ae.post("/admin/employees",t)).data}async function Vx(t,i){return(await Ae.patch(`/api/admin/employees/${t}/active`,i)).data}async function Nj(t,i){return(await Ae.patch(`/api/admin/employees/${t}/shift`,i)).data}async function Sj(t,i){return(await Ae.patch(`/api/admin/employees/${t}/department`,i)).data}async function wj(t){return(await Ae.get(`/admin/employee-locations/${t}`)).data}async function Ej(t,i){return(await Ae.put(`/admin/employee-locations/${t}`,i)).data}async function jj(){return(await Ae.get("/admin/work-rules")).data}async function Tj(t){return(await Ae.post("/admin/work-rules",t)).data}async function Gx(t){return(await Ae.get("/admin/department-weekly-rules",{params:t})).data}async function Yx(t){return(await Ae.post("/admin/department-weekly-rules",t)).data}async function iu(t){return(await Ae.get("/admin/department-shifts",{params:t})).data}async function Yc(t){return(await Ae.post("/admin/department-shifts",t)).data}async function $x(t){return(await Ae.delete(`/admin/department-shifts/${t}`)).data}async function Cj(t={}){return(await Ae.get("/api/admin/qr/codes",{params:t})).data}async function kj(t){return(await Ae.post("/api/admin/qr/codes",t)).data}async function Aj(t,i){return(await Ae.patch(`/api/admin/qr/codes/${t}`,i)).data}async function zj(t,i){return(await Ae.post(`/api/admin/qr/codes/${t}/points`,i)).data}async function Oj(t,i){return(await Ae.delete(`/api/admin/qr/codes/${t}/points/${i}`)).data}async function Mj(t={}){return(await Ae.get("/api/admin/qr/points",{params:t})).data}async function Rj(t){return(await Ae.post("/api/admin/qr/points",t)).data}async function Lj(t,i){return(await Ae.patch(`/api/admin/qr/points/${t}`,i)).data}async function Dj(t){return(await Ae.delete(`/api/admin/qr/points/${t}`)).data}async function kv(t){return(await Ae.post("/api/admin/schedule-plans",t)).data}async function Pj(t={}){return(await Ae.get("/api/admin/schedule-plans",{params:t})).data}async function Bj(t){return(await Ae.delete(`/api/admin/schedule-plans/${t}`)).data}async function Xx(t={}){return(await Ae.get("/admin/attendance-events",{params:t})).data}async function Ij(t){return(await Ae.post("/api/admin/attendance-events",t)).data}async function Uj(t,i){return(await Ae.patch(`/api/admin/attendance-events/${t}`,i)).data}async function Zj(t,i=!1){return(await Ae.delete(`/api/admin/attendance-events/${t}`,{params:{force:i}})).data}async function Jx(t={}){return(await Ae.get("/api/admin/audit-logs",{params:t})).data}async function qj(){return(await Ae.get("/admin/devices")).data}async function Av(t={}){return(await Ae.get("/api/admin/employee-device-overview",{params:t})).data}async function Fj(t,i){return(await Ae.patch(`/api/admin/devices/${t}/active`,i)).data}async function Wx(t={}){return(await Ae.get("/api/admin/leaves",{params:t})).data}async function Hj(t){return(await Ae.post("/api/admin/leaves",t)).data}async function Kj(t){await Ae.delete(`/api/admin/leaves/${t}`)}async function e0(t){return(await Ae.post("/api/admin/device-invite",t)).data}async function Qj(t){return(await Ae.get("/api/admin/monthly/employee",{params:t})).data}async function Vj(t){return(await Ae.get("/api/admin/monthly/department-summary",{params:t})).data}async function Gj(t,i){return(await Ae.post("/api/admin/manual-overrides/day",i,{params:{employee_id:t}})).data}async function Yj(t,i,r){return(await Ae.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:i,month:r}})).data}async function $j(t){await Ae.delete(`/api/admin/manual-overrides/day/${t}`)}async function Xj(){return(await Ae.get("/api/admin/compliance-settings")).data}async function Jj(t){return(await Ae.put("/api/admin/compliance-settings",t)).data}async function Wj(t){return(await Ae.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function e1(t){return(await Ae.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function t1(t){return(await Ae.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function n1(t){return(await Ae.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function i1(t){return(await Ae.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const t0=w.createContext(void 0);function a1({children:t}){const[i,r]=w.useState(null),[o,d]=w.useState(!0),m=w.useCallback(()=>{Kx(),r(null)},[]),p=w.useCallback(async()=>{const E=lm();if(!E)return m(),!1;try{const C=await cj({refresh_token:E});om(C.access_token,C.refresh_token??E);const O=await _h();return r(O),!0}catch{return m(),!1}},[m]),v=w.useCallback(async()=>{const E=Hx();if(!E){r(null),d(!1);return}if(sj(E)){try{const C=await _h();r(C)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);w.useEffect(()=>{v()},[v]),w.useEffect(()=>{const E=()=>{r(null)};return window.addEventListener("auth:logout",E),()=>{window.removeEventListener("auth:logout",E)}},[]);const _=w.useCallback(async(E,C)=>{const O=await uj({username:E,password:C});om(O.access_token,O.refresh_token);const A=await _h();r(A)},[]),b=w.useCallback(async()=>{const E=lm();if(E)try{await dj({refresh_token:E})}catch{}m()},[m]),S=w.useMemo(()=>({user:i,isAuthenticated:!!i,isBootstrapping:o,isSuperAdmin:!!i?.is_super_admin,login:_,logout:b,refreshSession:p,hasPermission:(E,C="read")=>{if(!i)return!1;if(i.is_super_admin)return!0;const O=i.permissions?.[E];return O?C==="write"?!!O.write:!!(O.read||O.write):!1}}),[i,o,_,b,p]);return l.jsx(t0.Provider,{value:S,children:t})}function au(){const t=w.useContext(t0);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const s1=[{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Bolgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],r1={"/dashboard":"Genel Bak","/regions":"Bolgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function l1(){const t=$i(),{user:i,logout:r,hasPermission:o}=au(),d=s1.filter(p=>!p.permission||o(p.permission)),m=r1[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel");return l.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[l.jsxs("aside",{className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[l.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),l.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),l.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:d.map(p=>l.jsx(_x,{to:p.to,className:({isActive:v})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${v?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:p.label},p.to))}),l.jsx("p",{className:"admin-signature",children:Sl.signatureText})]}),l.jsxs("div",{className:"flex min-h-screen flex-col",children:[l.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-6 py-4 backdrop-blur",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:m}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",i?.username??i?.sub??"admin"," / Rol: ",i?.role??"admin"]})]}),l.jsx("button",{type:"button",onClick:()=>{r()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})}),l.jsx("main",{className:"admin-main flex-1 p-6",children:l.jsx(Cm,{})}),l.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[Sl.signatureText," | BUILD: ",Sl.buildVersion]})]})]})}function o1(){const{isAuthenticated:t,isBootstrapping:i}=au(),r=$i();if(i)return l.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${r.pathname}${r.search}`;return l.jsx(Tm,{to:"/login",replace:!0,state:{from:o}})}return l.jsx(Cm,{})}function u1(){const{isAuthenticated:t,isBootstrapping:i}=au();return i?l.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?l.jsx(Tm,{to:"/dashboard",replace:!0}):l.jsx(Cm,{})}const zv={INVALID_CREDENTIALS:"Kullanc adi veya ifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giri yapin.",FORBIDDEN:"Bu islem iin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin."};function Be(t,i){if(At.isAxiosError(t)){const r=t.response?.data;if(typeof r=="string")return{message:r};const o=r?.error?.code,d=r?.error?.request_id,m=r?.error?.message;if(o&&zv[o])return{code:o,requestId:d,message:zv[o]};if(m)return{code:o,requestId:d,message:m};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:i}}function c1(t,i){return Be(t,i).message}function Cc(t){return`#${t.id} - ${t.full_name}`}function Fa({label:t,employees:i,value:r,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:m="Seiniz",helperText:p,disabled:v=!1,className:_=""}){const b=w.useMemo(()=>i.find(M=>String(M.id)===r),[i,r]),[S,E]=w.useState(b?Cc(b):""),[C,O]=w.useState(!1);w.useEffect(()=>{if(b){E(Cc(b));return}r||E("")},[b,r]);const A=w.useMemo(()=>{const M=S.trim().toLowerCase();return(M?i.filter(I=>{const Z=I.full_name.toLowerCase().includes(M),Q=String(I.id).includes(M.replace("#",""));return Z||Q}):i).slice(0,60)},[i,S]),z=M=>{o(String(M.id)),E(Cc(M)),O(!1)};return l.jsxs("div",{className:_,children:[l.jsxs("label",{className:"text-sm text-slate-700",children:[t,l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:"text",value:S,disabled:v,onFocus:()=>O(!0),onChange:M=>{const H=M.target.value;E(H),O(!0),H.trim()||o("")},onBlur:()=>{window.setTimeout(()=>O(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),l.jsx("button",{type:"button",disabled:v,onClick:()=>{o(""),E(""),O(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?l.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[l.jsx("button",{type:"button",onMouseDown:M=>M.preventDefault(),onClick:()=>{o(""),E(""),O(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:l.jsx("span",{children:m})}),A.map(M=>l.jsxs("button",{type:"button",onMouseDown:H=>H.preventDefault(),onClick:()=>z(M),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[l.jsx("span",{children:Cc(M)}),M.is_active?null:l.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},M.id)),A.length===0?l.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function jt({message:t}){return l.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function Wt({label:t="Ykleniyor..."}){return l.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[l.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),l.jsx("span",{children:t})]})}function Qo({open:t,title:i,onClose:r,children:o}){return t?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:l.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:i}),l.jsx("button",{type:"button",onClick:r,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function jn({title:t,description:i,action:r}){return l.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),i?l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:i}):null]}),r]})}function Le({children:t,className:i=""}){return l.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${i}`,children:t})}function n0({suspicious:t,label:i="pheli"}){return t?l.jsx("span",{className:"status-badge status-badge-incomplete",children:i}):l.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const d1={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function Ua(t){return d1[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function f1(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function h1(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function i0({reasons:t}){return t.length===0?l.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):l.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(i=>l.jsx("span",{title:Ua(i).description,className:h1(Ua(i).tone),children:Ua(i).label},i))})}const a0=w.createContext(void 0);function m1(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function p1({children:t}){const[i,r]=w.useState([]),o=w.useCallback(p=>{r(v=>v.map(_=>_.id===p?{..._,isClosing:!0}:_)),window.setTimeout(()=>{r(v=>v.filter(_=>_.id!==p))},170)},[]),d=w.useCallback(p=>{const v=crypto.randomUUID(),_={id:v,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};r(b=>[...b,_]),window.setTimeout(()=>{o(v)},_.durationMs)},[o]),m=w.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return l.jsxs(a0.Provider,{value:m,children:[t,l.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:i.map(p=>l.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${m1(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?l.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),l.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function Fn(){const t=w.useContext(a0);return t||{pushToast:()=>{},removeToast:()=>{}}}const g1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],y1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],kc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function Uo(t,i){return t[i]===!0}function Ov(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const i=Number(t.trim());if(Number.isInteger(i)&&i>0)return i}return null}function Mv(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function v1(t){const i=new Date(t);return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function _1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function xh(t){const i=[];return Uo(t.flags,"DUPLICATE_EVENT")&&i.push("DUPLICATE_EVENT"),Uo(t.flags,"MANUAL_CHECKOUT")&&i.push("MANUAL_CHECKOUT"),Uo(t.flags,"NEEDS_SHIFT_REVIEW")&&i.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&i.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&i.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||Uo(t.flags,"ADMIN_MANUAL"))&&i.push("ADMIN_MANUAL_EVENT"),i}function bh(t){const i=Number(t);return Number.isInteger(i)&&i>0?i:null}function x1(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(kc),[d,m]=w.useState(kc),[p,v]=w.useState(""),[_,b]=w.useState("IN"),[S,E]=w.useState(""),[C,O]=w.useState(""),[A,z]=w.useState(""),[M,H]=w.useState(!1),[I,Z]=w.useState(null),[Q,X]=w.useState("IN"),[V,ee]=w.useState(""),[$,J]=w.useState(""),[ue,ae]=w.useState(""),[ce,de]=w.useState(!1),[q,se]=w.useState(!1),[U,P]=w.useState(null),[re,Ee]=w.useState(!1),Se=He({queryKey:["employees","all"],queryFn:()=>ya({status:"all",include_inactive:!0})}),k=He({queryKey:["departments"],queryFn:wr}),Y=He({queryKey:["department-shifts","all"],queryFn:()=>iu({active_only:!1})}),F=w.useMemo(()=>{const G=Number(d.employeeId),ze=Number(d.departmentId),St=Number(d.limit);return{employee_id:G>0?G:void 0,department_id:ze>0?ze:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:St>0?St:200}},[d]),W=He({queryKey:["attendance-events",F],queryFn:()=>Xx(F)}),ge=He({queryKey:["audit-logs","attendance-events"],queryFn:()=>Jx({entity_type:"attendance_event",limit:50})}),we=Qe({mutationFn:Ij,onSuccess:()=>{i({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),O(""),z(""),H(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:G=>{i({variant:"error",title:"Kayt oluturulamad",description:Be(G,"lem baarsz.").message})}}),Ce=Qe({mutationFn:({eventId:G,payload:ze})=>Uj(G,ze),onSuccess:()=>{i({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),Z(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:G=>{i({variant:"error",title:"Event gncellenemedi",description:Be(G,"lem baarsz.").message})}}),Ke=Qe({mutationFn:({eventId:G,force:ze})=>Zj(G,ze),onSuccess:()=>{i({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),P(null),Ee(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:G=>{i({variant:"error",title:"Silme baarsz",description:Be(G,"lem baarsz.").message})}}),qe=Se.data??[],Tt=k.data??[],at=Y.data??[],en=W.data??[],Zt=w.useMemo(()=>new Map(qe.map(G=>[G.id,G])),[qe]),hn=w.useMemo(()=>new Map(qe.map(G=>[G.id,G.full_name])),[qe]),_n=w.useMemo(()=>new Map(Tt.map(G=>[G.id,G.name])),[Tt]),mn=w.useMemo(()=>new Map(at.map(G=>[G.id,G])),[at]),xn=w.useMemo(()=>Zt.get(Number(p)),[Zt,p]),pn=w.useMemo(()=>xn?.department_id?at.filter(G=>G.department_id===xn.department_id):at,[xn?.department_id,at]),Tn=w.useMemo(()=>{if(!I)return at;const G=Zt.get(I.employee_id);return G?.department_id?at.filter(ze=>ze.department_id===G.department_id):at},[Zt,I,at]),te=w.useMemo(()=>d.suspiciousOnly?en.filter(G=>xh(G).length>0):en,[en,d.suspiciousOnly]),je=()=>m({...r}),We=()=>{o(kc),m(kc)},zt=G=>{G.preventDefault();const ze=bh(p);if(!ze||!S){i({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const St=bh(A);we.mutate({employee_id:ze,type:_,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:St??void 0,allow_duplicate:M})},vt=G=>{Z(G),X(G.type),ee(v1(G.ts_utc)),J(G.note??""),de(!1),se(!1),ae(String(Ov(G.flags.SHIFT_ID)??""))},ve=G=>{if(G.preventDefault(),!I||!V)return;const ze=bh(ue);Ce.mutate({eventId:I.id,payload:{type:Q,ts_utc:new Date(V).toISOString(),note:$||null,shift_id:ze??void 0,allow_duplicate:ce,force_edit:q}})};return Se.isLoading||k.isLoading||Y.isLoading?l.jsx(Wt,{}):Se.isError||k.isError||Y.isError?l.jsx(jt,{message:"alan/departman/vardiya bilgileri alnamad."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[l.jsx(Fa,{label:"alan",employees:qe,value:r.employeeId,onChange:G=>o(ze=>({...ze,employeeId:G})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:r.departmentId,onChange:G=>o(ze=>({...ze,departmentId:G.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tm"}),Tt.map(G=>l.jsxs("option",{value:G.id,children:["#",G.id," - ",G.name]},G.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",l.jsx("input",{type:"date",value:r.dateFrom,onChange:G=>o(ze=>({...ze,dateFrom:G.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",l.jsx("input",{type:"date",value:r.dateTo,onChange:G=>o(ze=>({...ze,dateTo:G.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",l.jsx("select",{value:r.eventType,onChange:G=>o(ze=>({...ze,eventType:G.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:y1.map(G=>l.jsx("option",{value:G.value,children:G.label},G.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",l.jsx("select",{value:r.locationStatus,onChange:G=>o(ze=>({...ze,locationStatus:G.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:g1.map(G=>l.jsx("option",{value:G.value,children:G.label},G.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",l.jsx("input",{type:"number",value:r.limit,onChange:G=>o(ze=>({...ze,limit:G.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:r.duplicatesOnly,onChange:G=>o(ze=>({...ze,duplicatesOnly:G.target.checked}))}),"Sadece mkerrer"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:r.suspiciousOnly,onChange:G=>o(ze=>({...ze,suspiciousOnly:G.target.checked}))}),"Sadece pheli"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:r.includeDeleted,onChange:G=>o(ze=>({...ze,includeDeleted:G.target.checked}))}),"Silinenleri gster"]})]})]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("button",{type:"button",onClick:je,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:We,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),l.jsxs("form",{onSubmit:zt,className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsx(Fa,{label:"alan",employees:qe,value:p,onChange:v,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",l.jsxs("select",{value:_,onChange:G=>b(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"IN",children:"IN (Giri)"}),l.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",l.jsx("input",{type:"datetime-local",value:S,onChange:G=>E(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",l.jsxs("select",{value:A,onChange:G=>z(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Otomatik/bo"}),pn.map(G=>l.jsxs("option",{value:G.id,children:["#",G.id," - ",G.name," (",G.start_time_local,"-",G.end_time_local,")"]},G.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",l.jsx("input",{type:"text",value:C,onChange:G=>O(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[l.jsx("input",{type:"checkbox",checked:M,onChange:G=>H(G.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("button",{type:"submit",disabled:we.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:we.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),l.jsxs(Le,{children:[l.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:te.length})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:te.filter(G=>xh(G).length>0).length})]})]}),W.isLoading?l.jsx(Wt,{}):null,W.isError?l.jsx(jt,{message:Be(W.error,"Yoklama kaytlar alnamad.").message}):null,!W.isLoading&&!W.isError?l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{className:"py-2",children:"alan"}),l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Tip"}),l.jsx("th",{className:"py-2",children:"Kaynak"}),l.jsx("th",{className:"py-2",children:"Zaman"}),l.jsx("th",{className:"py-2",children:"Konum"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Not"}),l.jsx("th",{className:"py-2",children:"Bayraklar"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),l.jsx("tbody",{children:te.map(G=>{const ze=xh(G),St=Zt.get(G.employee_id),Ye=St?.department_id!=null?_n.get(St.department_id):"-",Cn=G.source==="MANUAL"||G.created_by_admin||Uo(G.flags,"ADMIN_MANUAL"),Yt=Ov(G.flags.SHIFT_ID),yi=typeof G.flags.SHIFT_NAME=="string"?G.flags.SHIFT_NAME:Yt&&mn.get(Yt)?mn.get(Yt)?.name:null;return l.jsxs("tr",{className:`border-t border-slate-100 ${ze.length>0?"bg-amber-50/40":""}`,children:[l.jsx("td",{className:"py-2",children:G.id}),l.jsxs("td",{className:"py-2",children:["#",G.employee_id," - ",hn.get(G.employee_id)??"-"]}),l.jsx("td",{className:"py-2",children:Ye??"-"}),l.jsx("td",{className:"py-2",children:G.type}),l.jsxs("td",{className:"py-2",children:[Cn?l.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",G.deleted_at?l.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),l.jsx("td",{className:"py-2",children:Mv(G.ts_utc)}),l.jsx("td",{className:"py-2",children:_1(G.location_status)}),l.jsx("td",{className:"py-2",children:yi?l.jsxs("span",{children:[yi,Yt?` (#${Yt})`:""]}):Yt?l.jsxs("span",{children:["#",Yt]}):"-"}),l.jsx("td",{className:"py-2",children:G.note||"-"}),l.jsx("td",{className:"py-2",children:l.jsx(i0,{reasons:ze})}),l.jsx("td",{className:"py-2",children:l.jsx(n0,{suspicious:ze.length>0,label:"pheli"})}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>vt(G),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),l.jsx("button",{type:"button",onClick:()=>P(G),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},G.id)})})]}),te.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),ge.isLoading?l.jsx(Wt,{}):null,ge.isError?l.jsx(jt,{message:Be(ge.error,"Audit loglar alnamad.").message}):null,!ge.isLoading&&!ge.isError?l.jsx("div",{className:"mt-3 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Zaman"}),l.jsx("th",{className:"py-2",children:"Aksiyon"}),l.jsx("th",{className:"py-2",children:"Kullanc"}),l.jsx("th",{className:"py-2",children:"Entity"}),l.jsx("th",{className:"py-2",children:"Durum"})]})}),l.jsx("tbody",{children:(ge.data??[]).map(G=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:Mv(G.ts_utc)}),l.jsx("td",{className:"py-2",children:G.action}),l.jsxs("td",{className:"py-2",children:[G.actor_type,":",G.actor_id]}),l.jsxs("td",{className:"py-2",children:[G.entity_type??"-"," ",G.entity_id?`#${G.entity_id}`:""]}),l.jsx("td",{className:"py-2",children:G.success?"Baarl":"Hatal"})]},G.id))})]})}):null]}),l.jsx(Qo,{open:I!==null,title:I?`Event #${I.id} dzenle`:"Event dzenle",onClose:()=>Z(null),children:l.jsxs("form",{onSubmit:ve,className:"space-y-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",l.jsxs("select",{value:Q,onChange:G=>X(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"IN",children:"IN (Giri)"}),l.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",l.jsx("input",{type:"datetime-local",value:V,onChange:G=>ee(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",l.jsxs("select",{value:ue,onChange:G=>ae(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Deitirme"}),Tn.map(G=>l.jsxs("option",{value:G.id,children:["#",G.id," - ",G.name," (",G.start_time_local,"-",G.end_time_local,")"]},G.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Not",l.jsx("input",{type:"text",value:$,onChange:G=>J(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:ce,onChange:G=>de(G.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:q,onChange:G=>se(G.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),l.jsx("button",{type:"submit",disabled:Ce.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ce.isPending?"Kaydediliyor...":"Kaydet"})]})}),l.jsx(Qo,{open:U!==null,title:U?`Event #${U.id} soft sil`:"Event soft sil",onClose:()=>P(null),children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:re,onChange:G=>Ee(G.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),l.jsx("button",{type:"button",onClick:()=>U&&Ke.mutate({eventId:U.id,force:re}),disabled:Ke.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Ke.isPending?"Siliniyor...":"Soft sil"})]})})]})}function xe(t,i,r){function o(v,_){if(v._zod||Object.defineProperty(v,"_zod",{value:{def:_,constr:p,traits:new Set},enumerable:!1}),v._zod.traits.has(t))return;v._zod.traits.add(t),i(v,_);const b=p.prototype,S=Object.keys(b);for(let E=0;E<S.length;E++){const C=S[E];C in v||(v[C]=b[C].bind(v))}}const d=r?.Parent??Object;class m extends d{}Object.defineProperty(m,"name",{value:t});function p(v){var _;const b=r?.Parent?new m:this;o(b,v),(_=b._zod).deferred??(_.deferred=[]);for(const S of b._zod.deferred)S();return b}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:v=>r?.Parent&&v instanceof r.Parent?!0:v?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class wl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class s0 extends Error{constructor(i){super(`Encountered unidirectional transform during encode: ${i}`),this.name="ZodEncodeError"}}const r0={};function Nr(t){return r0}function l0(t){const i=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>i.indexOf(+o)===-1).map(([o,d])=>d)}function cm(t,i){return typeof i=="bigint"?i.toString():i}function Dm(t){return{get value(){{const i=t();return Object.defineProperty(this,"value",{value:i}),i}}}}function Pm(t){return t==null}function Bm(t){const i=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(i,r)}function b1(t,i){const r=(t.toString().split(".")[1]||"").length,o=i.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const _=o.match(/\d?e-(\d?)/);_?.[1]&&(d=Number.parseInt(_[1]))}const m=r>d?r:d,p=Number.parseInt(t.toFixed(m).replace(".","")),v=Number.parseInt(i.toFixed(m).replace(".",""));return p%v/10**m}const Rv=Symbol("evaluating");function yt(t,i,r){let o;Object.defineProperty(t,i,{get(){if(o!==Rv)return o===void 0&&(o=Rv,o=r()),o},set(d){Object.defineProperty(t,i,{value:d})},configurable:!0})}function Er(t,i,r){Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ks(...t){const i={};for(const r of t){const o=Object.getOwnPropertyDescriptors(r);Object.assign(i,o)}return Object.defineProperties({},i)}function Lv(t){return JSON.stringify(t)}function N1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const o0="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function $c(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const S1=Dm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Vo(t){if($c(t)===!1)return!1;const i=t.constructor;if(i===void 0||typeof i!="function")return!0;const r=i.prototype;return!($c(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function u0(t){return Vo(t)?{...t}:Array.isArray(t)?[...t]:t}const w1=new Set(["string","number","symbol"]);function cd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function As(t,i,r){const o=new t._zod.constr(i??t._zod.def);return(!i||r?.parent)&&(o._zod.parent=t),o}function Ie(t){const i=t;if(!i)return{};if(typeof i=="string")return{error:()=>i};if(i?.message!==void 0){if(i?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");i.error=i.message}return delete i.message,typeof i.error=="string"?{...i,error:()=>i.error}:i}function E1(t){return Object.keys(t).filter(i=>t[i]._zod.optin==="optional"&&t[i]._zod.optout==="optional")}const j1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function T1(t,i){const r=t._zod.def,o=r.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const m=ks(t._zod.def,{get shape(){const p={};for(const v in i){if(!(v in r.shape))throw new Error(`Unrecognized key: "${v}"`);i[v]&&(p[v]=r.shape[v])}return Er(this,"shape",p),p},checks:[]});return As(t,m)}function C1(t,i){const r=t._zod.def,o=r.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const m=ks(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const v in i){if(!(v in r.shape))throw new Error(`Unrecognized key: "${v}"`);i[v]&&delete p[v]}return Er(this,"shape",p),p},checks:[]});return As(t,m)}function k1(t,i){if(!Vo(i))throw new Error("Invalid input to extend: expected a plain object");const r=t._zod.def.checks;if(r&&r.length>0){const m=t._zod.def.shape;for(const p in i)if(Object.getOwnPropertyDescriptor(m,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=ks(t._zod.def,{get shape(){const m={...t._zod.def.shape,...i};return Er(this,"shape",m),m}});return As(t,d)}function A1(t,i){if(!Vo(i))throw new Error("Invalid input to safeExtend: expected a plain object");const r=ks(t._zod.def,{get shape(){const o={...t._zod.def.shape,...i};return Er(this,"shape",o),o}});return As(t,r)}function z1(t,i){const r=ks(t._zod.def,{get shape(){const o={...t._zod.def.shape,...i._zod.def.shape};return Er(this,"shape",o),o},get catchall(){return i._zod.def.catchall},checks:[]});return As(t,r)}function O1(t,i,r){const d=i._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=ks(i._zod.def,{get shape(){const v=i._zod.def.shape,_={...v};if(r)for(const b in r){if(!(b in v))throw new Error(`Unrecognized key: "${b}"`);r[b]&&(_[b]=t?new t({type:"optional",innerType:v[b]}):v[b])}else for(const b in v)_[b]=t?new t({type:"optional",innerType:v[b]}):v[b];return Er(this,"shape",_),_},checks:[]});return As(i,p)}function M1(t,i,r){const o=ks(i._zod.def,{get shape(){const d=i._zod.def.shape,m={...d};if(r)for(const p in r){if(!(p in m))throw new Error(`Unrecognized key: "${p}"`);r[p]&&(m[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)m[p]=new t({type:"nonoptional",innerType:d[p]});return Er(this,"shape",m),m}});return As(i,o)}function Nl(t,i=0){if(t.aborted===!0)return!0;for(let r=i;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function c0(t,i){return i.map(r=>{var o;return(o=r).path??(o.path=[]),r.path.unshift(t),r})}function Ac(t){return typeof t=="string"?t:t?.message}function Sr(t,i,r){const o={...t,path:t.path??[]};if(!t.message){const d=Ac(t.inst?._zod.def?.error?.(t))??Ac(i?.error?.(t))??Ac(r.customError?.(t))??Ac(r.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,i?.reportInput||delete o.input,o}function Im(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Go(...t){const[i,r,o]=t;return typeof i=="string"?{message:i,code:"custom",input:r,inst:o}:{...i}}const d0=(t,i)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:i,enumerable:!1}),t.message=JSON.stringify(i,cm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},f0=xe("$ZodError",d0),h0=xe("$ZodError",d0,{Parent:Error});function R1(t,i=r=>r.message){const r={},o=[];for(const d of t.issues)d.path.length>0?(r[d.path[0]]=r[d.path[0]]||[],r[d.path[0]].push(i(d))):o.push(i(d));return{formErrors:o,fieldErrors:r}}function L1(t,i=r=>r.message){const r={_errors:[]},o=d=>{for(const m of d.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(p=>o({issues:p}));else if(m.code==="invalid_key")o({issues:m.issues});else if(m.code==="invalid_element")o({issues:m.issues});else if(m.path.length===0)r._errors.push(i(m));else{let p=r,v=0;for(;v<m.path.length;){const _=m.path[v];v===m.path.length-1?(p[_]=p[_]||{_errors:[]},p[_]._errors.push(i(m))):p[_]=p[_]||{_errors:[]},p=p[_],v++}}};return o(t),r}const Um=t=>(i,r,o,d)=>{const m=o?Object.assign(o,{async:!1}):{async:!1},p=i._zod.run({value:r,issues:[]},m);if(p instanceof Promise)throw new wl;if(p.issues.length){const v=new(d?.Err??t)(p.issues.map(_=>Sr(_,m,Nr())));throw o0(v,d?.callee),v}return p.value},Zm=t=>async(i,r,o,d)=>{const m=o?Object.assign(o,{async:!0}):{async:!0};let p=i._zod.run({value:r,issues:[]},m);if(p instanceof Promise&&(p=await p),p.issues.length){const v=new(d?.Err??t)(p.issues.map(_=>Sr(_,m,Nr())));throw o0(v,d?.callee),v}return p.value},dd=t=>(i,r,o)=>{const d=o?{...o,async:!1}:{async:!1},m=i._zod.run({value:r,issues:[]},d);if(m instanceof Promise)throw new wl;return m.issues.length?{success:!1,error:new(t??f0)(m.issues.map(p=>Sr(p,d,Nr())))}:{success:!0,data:m.value}},D1=dd(h0),fd=t=>async(i,r,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let m=i._zod.run({value:r,issues:[]},d);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new t(m.issues.map(p=>Sr(p,d,Nr())))}:{success:!0,data:m.value}},P1=fd(h0),B1=t=>(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Um(t)(i,r,d)},I1=t=>(i,r,o)=>Um(t)(i,r,o),U1=t=>async(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Zm(t)(i,r,d)},Z1=t=>async(i,r,o)=>Zm(t)(i,r,o),q1=t=>(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return dd(t)(i,r,d)},F1=t=>(i,r,o)=>dd(t)(i,r,o),H1=t=>async(i,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return fd(t)(i,r,d)},K1=t=>async(i,r,o)=>fd(t)(i,r,o),Q1=/^[cC][^\s-]{8,}$/,V1=/^[0-9a-z]+$/,G1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Y1=/^[0-9a-vA-V]{20}$/,$1=/^[A-Za-z0-9]{27}$/,X1=/^[a-zA-Z0-9_-]{21}$/,J1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,W1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Dv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,e2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,t2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function n2(){return new RegExp(t2,"u")}const i2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,s2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,m0=/^[A-Za-z0-9_-]*$/,o2=/^\+[1-9]\d{6,14}$/,p0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",u2=new RegExp(`^${p0}$`);function g0(t){const i="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${i}`:t.precision===0?`${i}:[0-5]\\d`:`${i}:[0-5]\\d\\.\\d{${t.precision}}`:`${i}(?::[0-5]\\d(?:\\.\\d+)?)?`}function c2(t){return new RegExp(`^${g0(t)}$`)}function d2(t){const i=g0({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${i}(?:${r.join("|")})`;return new RegExp(`^${p0}T(?:${o})$`)}const f2=t=>{const i=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${i}$`)},h2=/^-?\d+$/,m2=/^-?\d+(?:\.\d+)?$/,p2=/^(?:true|false)$/i,g2=/^null$/i,y2=/^[^A-Z]*$/,v2=/^[^a-z]*$/,ii=xe("$ZodCheck",(t,i)=>{var r;t._zod??(t._zod={}),t._zod.def=i,(r=t._zod).onattach??(r.onattach=[])}),y0={number:"number",bigint:"bigint",object:"date"},v0=xe("$ZodCheckLessThan",(t,i)=>{ii.init(t,i);const r=y0[typeof i.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(i.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;i.value<m&&(i.inclusive?d.maximum=i.value:d.exclusiveMaximum=i.value)}),t._zod.check=o=>{(i.inclusive?o.value<=i.value:o.value<i.value)||o.issues.push({origin:r,code:"too_big",maximum:typeof i.value=="object"?i.value.getTime():i.value,input:o.value,inclusive:i.inclusive,inst:t,continue:!i.abort})}}),_0=xe("$ZodCheckGreaterThan",(t,i)=>{ii.init(t,i);const r=y0[typeof i.value];t._zod.onattach.push(o=>{const d=o._zod.bag,m=(i.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;i.value>m&&(i.inclusive?d.minimum=i.value:d.exclusiveMinimum=i.value)}),t._zod.check=o=>{(i.inclusive?o.value>=i.value:o.value>i.value)||o.issues.push({origin:r,code:"too_small",minimum:typeof i.value=="object"?i.value.getTime():i.value,input:o.value,inclusive:i.inclusive,inst:t,continue:!i.abort})}}),_2=xe("$ZodCheckMultipleOf",(t,i)=>{ii.init(t,i),t._zod.onattach.push(r=>{var o;(o=r._zod.bag).multipleOf??(o.multipleOf=i.value)}),t._zod.check=r=>{if(typeof r.value!=typeof i.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%i.value===BigInt(0):b1(r.value,i.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:i.value,input:r.value,inst:t,continue:!i.abort})}}),x2=xe("$ZodCheckNumberFormat",(t,i)=>{ii.init(t,i),i.format=i.format||"float64";const r=i.format?.includes("int"),o=r?"int":"number",[d,m]=j1[i.format];t._zod.onattach.push(p=>{const v=p._zod.bag;v.format=i.format,v.minimum=d,v.maximum=m,r&&(v.pattern=h2)}),t._zod.check=p=>{const v=p.value;if(r){if(!Number.isInteger(v)){p.issues.push({expected:o,format:i.format,code:"invalid_type",continue:!1,input:v,inst:t});return}if(!Number.isSafeInteger(v)){v>0?p.issues.push({input:v,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!i.abort}):p.issues.push({input:v,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!i.abort});return}}v<d&&p.issues.push({origin:"number",input:v,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!i.abort}),v>m&&p.issues.push({origin:"number",input:v,code:"too_big",maximum:m,inclusive:!0,inst:t,continue:!i.abort})}}),b2=xe("$ZodCheckMaxLength",(t,i)=>{var r;ii.init(t,i),(r=t._zod.def).when??(r.when=o=>{const d=o.value;return!Pm(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;i.maximum<d&&(o._zod.bag.maximum=i.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=i.maximum)return;const p=Im(d);o.issues.push({origin:p,code:"too_big",maximum:i.maximum,inclusive:!0,input:d,inst:t,continue:!i.abort})}}),N2=xe("$ZodCheckMinLength",(t,i)=>{var r;ii.init(t,i),(r=t._zod.def).when??(r.when=o=>{const d=o.value;return!Pm(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;i.minimum>d&&(o._zod.bag.minimum=i.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=i.minimum)return;const p=Im(d);o.issues.push({origin:p,code:"too_small",minimum:i.minimum,inclusive:!0,input:d,inst:t,continue:!i.abort})}}),S2=xe("$ZodCheckLengthEquals",(t,i)=>{var r;ii.init(t,i),(r=t._zod.def).when??(r.when=o=>{const d=o.value;return!Pm(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=i.length,d.maximum=i.length,d.length=i.length}),t._zod.check=o=>{const d=o.value,m=d.length;if(m===i.length)return;const p=Im(d),v=m>i.length;o.issues.push({origin:p,...v?{code:"too_big",maximum:i.length}:{code:"too_small",minimum:i.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!i.abort})}}),hd=xe("$ZodCheckStringFormat",(t,i)=>{var r,o;ii.init(t,i),t._zod.onattach.push(d=>{const m=d._zod.bag;m.format=i.format,i.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(i.pattern))}),i.pattern?(r=t._zod).check??(r.check=d=>{i.pattern.lastIndex=0,!i.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:i.format,input:d.value,...i.pattern?{pattern:i.pattern.toString()}:{},inst:t,continue:!i.abort})}):(o=t._zod).check??(o.check=()=>{})}),w2=xe("$ZodCheckRegex",(t,i)=>{hd.init(t,i),t._zod.check=r=>{i.pattern.lastIndex=0,!i.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:i.pattern.toString(),inst:t,continue:!i.abort})}}),E2=xe("$ZodCheckLowerCase",(t,i)=>{i.pattern??(i.pattern=y2),hd.init(t,i)}),j2=xe("$ZodCheckUpperCase",(t,i)=>{i.pattern??(i.pattern=v2),hd.init(t,i)}),T2=xe("$ZodCheckIncludes",(t,i)=>{ii.init(t,i);const r=cd(i.includes),o=new RegExp(typeof i.position=="number"?`^.{${i.position}}${r}`:r);i.pattern=o,t._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(o)}),t._zod.check=d=>{d.value.includes(i.includes,i.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:i.includes,input:d.value,inst:t,continue:!i.abort})}}),C2=xe("$ZodCheckStartsWith",(t,i)=>{ii.init(t,i);const r=new RegExp(`^${cd(i.prefix)}.*`);i.pattern??(i.pattern=r),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(r)}),t._zod.check=o=>{o.value.startsWith(i.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:i.prefix,input:o.value,inst:t,continue:!i.abort})}}),k2=xe("$ZodCheckEndsWith",(t,i)=>{ii.init(t,i);const r=new RegExp(`.*${cd(i.suffix)}$`);i.pattern??(i.pattern=r),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(r)}),t._zod.check=o=>{o.value.endsWith(i.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:i.suffix,input:o.value,inst:t,continue:!i.abort})}}),A2=xe("$ZodCheckOverwrite",(t,i)=>{ii.init(t,i),t._zod.check=r=>{r.value=i.tx(r.value)}});class z2{constructor(i=[]){this.content=[],this.indent=0,this&&(this.args=i)}indented(i){this.indent+=1,i(this),this.indent-=1}write(i){if(typeof i=="function"){i(this,{execution:"sync"}),i(this,{execution:"async"});return}const o=i.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),m=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of m)this.content.push(p)}compile(){const i=Function,r=this?.args,d=[...(this?.content??[""]).map(m=>`  ${m}`)];return new i(...r,d.join(`
`))}}const O2={major:4,minor:3,patch:6},Vt=xe("$ZodType",(t,i)=>{var r;t??(t={}),t._zod.def=i,t._zod.bag=t._zod.bag||{},t._zod.version=O2;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const m of d._zod.onattach)m(t);if(o.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,v,_)=>{let b=Nl(p),S;for(const E of v){if(E._zod.def.when){if(!E._zod.def.when(p))continue}else if(b)continue;const C=p.issues.length,O=E._zod.check(p);if(O instanceof Promise&&_?.async===!1)throw new wl;if(S||O instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await O,p.issues.length!==C&&(b||(b=Nl(p,C)))});else{if(p.issues.length===C)continue;b||(b=Nl(p,C))}}return S?S.then(()=>p):p},m=(p,v,_)=>{if(Nl(p))return p.aborted=!0,p;const b=d(v,o,_);if(b instanceof Promise){if(_.async===!1)throw new wl;return b.then(S=>t._zod.parse(S,_))}return t._zod.parse(b,_)};t._zod.run=(p,v)=>{if(v.skipChecks)return t._zod.parse(p,v);if(v.direction==="backward"){const b=t._zod.parse({value:p.value,issues:[]},{...v,skipChecks:!0});return b instanceof Promise?b.then(S=>m(S,p,v)):m(b,p,v)}const _=t._zod.parse(p,v);if(_ instanceof Promise){if(v.async===!1)throw new wl;return _.then(b=>d(b,o,v))}return d(_,o,v)}}yt(t,"~standard",()=>({validate:d=>{try{const m=D1(t,d);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return P1(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),qm=xe("$ZodString",(t,i)=>{Vt.init(t,i),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??f2(t._zod.bag),t._zod.parse=(r,o)=>{if(i.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Dt=xe("$ZodStringFormat",(t,i)=>{hd.init(t,i),qm.init(t,i)}),M2=xe("$ZodGUID",(t,i)=>{i.pattern??(i.pattern=W1),Dt.init(t,i)}),R2=xe("$ZodUUID",(t,i)=>{if(i.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[i.version];if(o===void 0)throw new Error(`Invalid UUID version: "${i.version}"`);i.pattern??(i.pattern=Dv(o))}else i.pattern??(i.pattern=Dv());Dt.init(t,i)}),L2=xe("$ZodEmail",(t,i)=>{i.pattern??(i.pattern=e2),Dt.init(t,i)}),D2=xe("$ZodURL",(t,i)=>{Dt.init(t,i),t._zod.check=r=>{try{const o=r.value.trim(),d=new URL(o);i.hostname&&(i.hostname.lastIndex=0,i.hostname.test(d.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:i.hostname.source,input:r.value,inst:t,continue:!i.abort})),i.protocol&&(i.protocol.lastIndex=0,i.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:i.protocol.source,input:r.value,inst:t,continue:!i.abort})),i.normalize?r.value=d.href:r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!i.abort})}}}),P2=xe("$ZodEmoji",(t,i)=>{i.pattern??(i.pattern=n2()),Dt.init(t,i)}),B2=xe("$ZodNanoID",(t,i)=>{i.pattern??(i.pattern=X1),Dt.init(t,i)}),I2=xe("$ZodCUID",(t,i)=>{i.pattern??(i.pattern=Q1),Dt.init(t,i)}),U2=xe("$ZodCUID2",(t,i)=>{i.pattern??(i.pattern=V1),Dt.init(t,i)}),Z2=xe("$ZodULID",(t,i)=>{i.pattern??(i.pattern=G1),Dt.init(t,i)}),q2=xe("$ZodXID",(t,i)=>{i.pattern??(i.pattern=Y1),Dt.init(t,i)}),F2=xe("$ZodKSUID",(t,i)=>{i.pattern??(i.pattern=$1),Dt.init(t,i)}),H2=xe("$ZodISODateTime",(t,i)=>{i.pattern??(i.pattern=d2(i)),Dt.init(t,i)}),K2=xe("$ZodISODate",(t,i)=>{i.pattern??(i.pattern=u2),Dt.init(t,i)}),Q2=xe("$ZodISOTime",(t,i)=>{i.pattern??(i.pattern=c2(i)),Dt.init(t,i)}),V2=xe("$ZodISODuration",(t,i)=>{i.pattern??(i.pattern=J1),Dt.init(t,i)}),G2=xe("$ZodIPv4",(t,i)=>{i.pattern??(i.pattern=i2),Dt.init(t,i),t._zod.bag.format="ipv4"}),Y2=xe("$ZodIPv6",(t,i)=>{i.pattern??(i.pattern=a2),Dt.init(t,i),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!i.abort})}}}),$2=xe("$ZodCIDRv4",(t,i)=>{i.pattern??(i.pattern=s2),Dt.init(t,i)}),X2=xe("$ZodCIDRv6",(t,i)=>{i.pattern??(i.pattern=r2),Dt.init(t,i),t._zod.check=r=>{const o=r.value.split("/");try{if(o.length!==2)throw new Error;const[d,m]=o;if(!m)throw new Error;const p=Number(m);if(`${p}`!==m)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!i.abort})}}});function x0(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const J2=xe("$ZodBase64",(t,i)=>{i.pattern??(i.pattern=l2),Dt.init(t,i),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{x0(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!i.abort})}});function W2(t){if(!m0.test(t))return!1;const i=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),r=i.padEnd(Math.ceil(i.length/4)*4,"=");return x0(r)}const eT=xe("$ZodBase64URL",(t,i)=>{i.pattern??(i.pattern=m0),Dt.init(t,i),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{W2(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!i.abort})}}),tT=xe("$ZodE164",(t,i)=>{i.pattern??(i.pattern=o2),Dt.init(t,i)});function nT(t,i=null){try{const r=t.split(".");if(r.length!==3)return!1;const[o]=r;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||i&&(!("alg"in d)||d.alg!==i))}catch{return!1}}const iT=xe("$ZodJWT",(t,i)=>{Dt.init(t,i),t._zod.check=r=>{nT(r.value,i.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!i.abort})}}),b0=xe("$ZodNumber",(t,i)=>{Vt.init(t,i),t._zod.pattern=t._zod.bag.pattern??m2,t._zod.parse=(r,o)=>{if(i.coerce)try{r.value=Number(r.value)}catch{}const d=r.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return r;const m=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...m?{received:m}:{}}),r}}),aT=xe("$ZodNumberFormat",(t,i)=>{x2.init(t,i),b0.init(t,i)}),sT=xe("$ZodBoolean",(t,i)=>{Vt.init(t,i),t._zod.pattern=p2,t._zod.parse=(r,o)=>{if(i.coerce)try{r.value=!!r.value}catch{}const d=r.value;return typeof d=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),r}}),rT=xe("$ZodNull",(t,i)=>{Vt.init(t,i),t._zod.pattern=g2,t._zod.values=new Set([null]),t._zod.parse=(r,o)=>{const d=r.value;return d===null||r.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),r}}),lT=xe("$ZodUnknown",(t,i)=>{Vt.init(t,i),t._zod.parse=r=>r}),oT=xe("$ZodNever",(t,i)=>{Vt.init(t,i),t._zod.parse=(r,o)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Pv(t,i,r){t.issues.length&&i.issues.push(...c0(r,t.issues)),i.value[r]=t.value}const uT=xe("$ZodArray",(t,i)=>{Vt.init(t,i),t._zod.parse=(r,o)=>{const d=r.value;if(!Array.isArray(d))return r.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),r;r.value=Array(d.length);const m=[];for(let p=0;p<d.length;p++){const v=d[p],_=i.element._zod.run({value:v,issues:[]},o);_ instanceof Promise?m.push(_.then(b=>Pv(b,r,p))):Pv(_,r,p)}return m.length?Promise.all(m).then(()=>r):r}});function Xc(t,i,r,o,d){if(t.issues.length){if(d&&!(r in o))return;i.issues.push(...c0(r,t.issues))}t.value===void 0?r in o&&(i.value[r]=void 0):i.value[r]=t.value}function N0(t){const i=Object.keys(t.shape);for(const o of i)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=E1(t.shape);return{...t,keys:i,keySet:new Set(i),numKeys:i.length,optionalKeys:new Set(r)}}function S0(t,i,r,o,d,m){const p=[],v=d.keySet,_=d.catchall._zod,b=_.def.type,S=_.optout==="optional";for(const E in i){if(v.has(E))continue;if(b==="never"){p.push(E);continue}const C=_.run({value:i[E],issues:[]},o);C instanceof Promise?t.push(C.then(O=>Xc(O,r,E,i,S))):Xc(C,r,E,i,S)}return p.length&&r.issues.push({code:"unrecognized_keys",keys:p,input:i,inst:m}),t.length?Promise.all(t).then(()=>r):r}const cT=xe("$ZodObject",(t,i)=>{if(Vt.init(t,i),!Object.getOwnPropertyDescriptor(i,"shape")?.get){const v=i.shape;Object.defineProperty(i,"shape",{get:()=>{const _={...v};return Object.defineProperty(i,"shape",{value:_}),_}})}const o=Dm(()=>N0(i));yt(t._zod,"propValues",()=>{const v=i.shape,_={};for(const b in v){const S=v[b]._zod;if(S.values){_[b]??(_[b]=new Set);for(const E of S.values)_[b].add(E)}}return _});const d=$c,m=i.catchall;let p;t._zod.parse=(v,_)=>{p??(p=o.value);const b=v.value;if(!d(b))return v.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),v;v.value={};const S=[],E=p.shape;for(const C of p.keys){const O=E[C],A=O._zod.optout==="optional",z=O._zod.run({value:b[C],issues:[]},_);z instanceof Promise?S.push(z.then(M=>Xc(M,v,C,b,A))):Xc(z,v,C,b,A)}return m?S0(S,b,v,_,o.value,t):S.length?Promise.all(S).then(()=>v):v}}),dT=xe("$ZodObjectJIT",(t,i)=>{cT.init(t,i);const r=t._zod.parse,o=Dm(()=>N0(i)),d=C=>{const O=new z2(["shape","payload","ctx"]),A=o.value,z=Z=>{const Q=Lv(Z);return`shape[${Q}]._zod.run({ value: input[${Q}], issues: [] }, ctx)`};O.write("const input = payload.value;");const M=Object.create(null);let H=0;for(const Z of A.keys)M[Z]=`key_${H++}`;O.write("const newResult = {};");for(const Z of A.keys){const Q=M[Z],X=Lv(Z),ee=C[Z]?._zod?.optout==="optional";O.write(`const ${Q} = ${z(Z)};`),ee?O.write(`
        if (${Q}.issues.length) {
          if (${X} in input) {
            payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${X}, ...iss.path] : [${X}]
            })));
          }
        }
        
        if (${Q}.value === undefined) {
          if (${X} in input) {
            newResult[${X}] = undefined;
          }
        } else {
          newResult[${X}] = ${Q}.value;
        }
        
      `):O.write(`
        if (${Q}.issues.length) {
          payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${X}, ...iss.path] : [${X}]
          })));
        }
        
        if (${Q}.value === undefined) {
          if (${X} in input) {
            newResult[${X}] = undefined;
          }
        } else {
          newResult[${X}] = ${Q}.value;
        }
        
      `)}O.write("payload.value = newResult;"),O.write("return payload;");const I=O.compile();return(Z,Q)=>I(C,Z,Q)};let m;const p=$c,v=!r0.jitless,b=v&&S1.value,S=i.catchall;let E;t._zod.parse=(C,O)=>{E??(E=o.value);const A=C.value;return p(A)?v&&b&&O?.async===!1&&O.jitless!==!0?(m||(m=d(i.shape)),C=m(C,O),S?S0([],A,C,O,E,t):C):r(C,O):(C.issues.push({expected:"object",code:"invalid_type",input:A,inst:t}),C)}});function Bv(t,i,r,o){for(const m of t)if(m.issues.length===0)return i.value=m.value,i;const d=t.filter(m=>!Nl(m));return d.length===1?(i.value=d[0].value,d[0]):(i.issues.push({code:"invalid_union",input:i.value,inst:r,errors:t.map(m=>m.issues.map(p=>Sr(p,o,Nr())))}),i)}const fT=xe("$ZodUnion",(t,i)=>{Vt.init(t,i),yt(t._zod,"optin",()=>i.options.some(d=>d._zod.optin==="optional")?"optional":void 0),yt(t._zod,"optout",()=>i.options.some(d=>d._zod.optout==="optional")?"optional":void 0),yt(t._zod,"values",()=>{if(i.options.every(d=>d._zod.values))return new Set(i.options.flatMap(d=>Array.from(d._zod.values)))}),yt(t._zod,"pattern",()=>{if(i.options.every(d=>d._zod.pattern)){const d=i.options.map(m=>m._zod.pattern);return new RegExp(`^(${d.map(m=>Bm(m.source)).join("|")})$`)}});const r=i.options.length===1,o=i.options[0]._zod.run;t._zod.parse=(d,m)=>{if(r)return o(d,m);let p=!1;const v=[];for(const _ of i.options){const b=_._zod.run({value:d.value,issues:[]},m);if(b instanceof Promise)v.push(b),p=!0;else{if(b.issues.length===0)return b;v.push(b)}}return p?Promise.all(v).then(_=>Bv(_,d,t,m)):Bv(v,d,t,m)}}),hT=xe("$ZodIntersection",(t,i)=>{Vt.init(t,i),t._zod.parse=(r,o)=>{const d=r.value,m=i.left._zod.run({value:d,issues:[]},o),p=i.right._zod.run({value:d,issues:[]},o);return m instanceof Promise||p instanceof Promise?Promise.all([m,p]).then(([_,b])=>Iv(r,_,b)):Iv(r,m,p)}});function dm(t,i){if(t===i)return{valid:!0,data:t};if(t instanceof Date&&i instanceof Date&&+t==+i)return{valid:!0,data:t};if(Vo(t)&&Vo(i)){const r=Object.keys(i),o=Object.keys(t).filter(m=>r.indexOf(m)!==-1),d={...t,...i};for(const m of o){const p=dm(t[m],i[m]);if(!p.valid)return{valid:!1,mergeErrorPath:[m,...p.mergeErrorPath]};d[m]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let o=0;o<t.length;o++){const d=t[o],m=i[o],p=dm(d,m);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};r.push(p.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Iv(t,i,r){const o=new Map;let d;for(const v of i.issues)if(v.code==="unrecognized_keys"){d??(d=v);for(const _ of v.keys)o.has(_)||o.set(_,{}),o.get(_).l=!0}else t.issues.push(v);for(const v of r.issues)if(v.code==="unrecognized_keys")for(const _ of v.keys)o.has(_)||o.set(_,{}),o.get(_).r=!0;else t.issues.push(v);const m=[...o].filter(([,v])=>v.l&&v.r).map(([v])=>v);if(m.length&&d&&t.issues.push({...d,keys:m}),Nl(t))return t;const p=dm(i.value,r.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const mT=xe("$ZodEnum",(t,i)=>{Vt.init(t,i);const r=l0(i.entries),o=new Set(r);t._zod.values=o,t._zod.pattern=new RegExp(`^(${r.filter(d=>w1.has(typeof d)).map(d=>typeof d=="string"?cd(d):d.toString()).join("|")})$`),t._zod.parse=(d,m)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:r,input:p,inst:t}),d}}),pT=xe("$ZodTransform",(t,i)=>{Vt.init(t,i),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new s0(t.constructor.name);const d=i.transform(r.value,r);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(r.value=p,r));if(d instanceof Promise)throw new wl;return r.value=d,r}});function Uv(t,i){return t.issues.length&&i===void 0?{issues:[],value:void 0}:t}const w0=xe("$ZodOptional",(t,i)=>{Vt.init(t,i),t._zod.optin="optional",t._zod.optout="optional",yt(t._zod,"values",()=>i.innerType._zod.values?new Set([...i.innerType._zod.values,void 0]):void 0),yt(t._zod,"pattern",()=>{const r=i.innerType._zod.pattern;return r?new RegExp(`^(${Bm(r.source)})?$`):void 0}),t._zod.parse=(r,o)=>{if(i.innerType._zod.optin==="optional"){const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(m=>Uv(m,r.value)):Uv(d,r.value)}return r.value===void 0?r:i.innerType._zod.run(r,o)}}),gT=xe("$ZodExactOptional",(t,i)=>{w0.init(t,i),yt(t._zod,"values",()=>i.innerType._zod.values),yt(t._zod,"pattern",()=>i.innerType._zod.pattern),t._zod.parse=(r,o)=>i.innerType._zod.run(r,o)}),yT=xe("$ZodNullable",(t,i)=>{Vt.init(t,i),yt(t._zod,"optin",()=>i.innerType._zod.optin),yt(t._zod,"optout",()=>i.innerType._zod.optout),yt(t._zod,"pattern",()=>{const r=i.innerType._zod.pattern;return r?new RegExp(`^(${Bm(r.source)}|null)$`):void 0}),yt(t._zod,"values",()=>i.innerType._zod.values?new Set([...i.innerType._zod.values,null]):void 0),t._zod.parse=(r,o)=>r.value===null?r:i.innerType._zod.run(r,o)}),vT=xe("$ZodDefault",(t,i)=>{Vt.init(t,i),t._zod.optin="optional",yt(t._zod,"values",()=>i.innerType._zod.values),t._zod.parse=(r,o)=>{if(o.direction==="backward")return i.innerType._zod.run(r,o);if(r.value===void 0)return r.value=i.defaultValue,r;const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(m=>Zv(m,i)):Zv(d,i)}});function Zv(t,i){return t.value===void 0&&(t.value=i.defaultValue),t}const _T=xe("$ZodPrefault",(t,i)=>{Vt.init(t,i),t._zod.optin="optional",yt(t._zod,"values",()=>i.innerType._zod.values),t._zod.parse=(r,o)=>(o.direction==="backward"||r.value===void 0&&(r.value=i.defaultValue),i.innerType._zod.run(r,o))}),xT=xe("$ZodNonOptional",(t,i)=>{Vt.init(t,i),yt(t._zod,"values",()=>{const r=i.innerType._zod.values;return r?new Set([...r].filter(o=>o!==void 0)):void 0}),t._zod.parse=(r,o)=>{const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(m=>qv(m,t)):qv(d,t)}});function qv(t,i){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:i}),t}const bT=xe("$ZodCatch",(t,i)=>{Vt.init(t,i),yt(t._zod,"optin",()=>i.innerType._zod.optin),yt(t._zod,"optout",()=>i.innerType._zod.optout),yt(t._zod,"values",()=>i.innerType._zod.values),t._zod.parse=(r,o)=>{if(o.direction==="backward")return i.innerType._zod.run(r,o);const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(m=>(r.value=m.value,m.issues.length&&(r.value=i.catchValue({...r,error:{issues:m.issues.map(p=>Sr(p,o,Nr()))},input:r.value}),r.issues=[]),r)):(r.value=d.value,d.issues.length&&(r.value=i.catchValue({...r,error:{issues:d.issues.map(m=>Sr(m,o,Nr()))},input:r.value}),r.issues=[]),r)}}),NT=xe("$ZodPipe",(t,i)=>{Vt.init(t,i),yt(t._zod,"values",()=>i.in._zod.values),yt(t._zod,"optin",()=>i.in._zod.optin),yt(t._zod,"optout",()=>i.out._zod.optout),yt(t._zod,"propValues",()=>i.in._zod.propValues),t._zod.parse=(r,o)=>{if(o.direction==="backward"){const m=i.out._zod.run(r,o);return m instanceof Promise?m.then(p=>zc(p,i.in,o)):zc(m,i.in,o)}const d=i.in._zod.run(r,o);return d instanceof Promise?d.then(m=>zc(m,i.out,o)):zc(d,i.out,o)}});function zc(t,i,r){return t.issues.length?(t.aborted=!0,t):i._zod.run({value:t.value,issues:t.issues},r)}const ST=xe("$ZodReadonly",(t,i)=>{Vt.init(t,i),yt(t._zod,"propValues",()=>i.innerType._zod.propValues),yt(t._zod,"values",()=>i.innerType._zod.values),yt(t._zod,"optin",()=>i.innerType?._zod?.optin),yt(t._zod,"optout",()=>i.innerType?._zod?.optout),t._zod.parse=(r,o)=>{if(o.direction==="backward")return i.innerType._zod.run(r,o);const d=i.innerType._zod.run(r,o);return d instanceof Promise?d.then(Fv):Fv(d)}});function Fv(t){return t.value=Object.freeze(t.value),t}const wT=xe("$ZodCustom",(t,i)=>{ii.init(t,i),Vt.init(t,i),t._zod.parse=(r,o)=>r,t._zod.check=r=>{const o=r.value,d=i.fn(o);if(d instanceof Promise)return d.then(m=>Hv(m,r,o,t));Hv(d,r,o,t)}});function Hv(t,i,r,o){if(!t){const d={code:"custom",input:r,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),i.issues.push(Go(d))}}var Kv;class ET{constructor(){this._map=new WeakMap,this._idmap=new Map}add(i,...r){const o=r[0];return this._map.set(i,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,i),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(i){const r=this._map.get(i);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(i),this}get(i){const r=i._zod.parent;if(r){const o={...this.get(r)??{}};delete o.id;const d={...o,...this._map.get(i)};return Object.keys(d).length?d:void 0}return this._map.get(i)}has(i){return this._map.has(i)}}function jT(){return new ET}(Kv=globalThis).__zod_globalRegistry??(Kv.__zod_globalRegistry=jT());const Zo=globalThis.__zod_globalRegistry;function TT(t,i){return new t({type:"string",...Ie(i)})}function CT(t,i){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ie(i)})}function Qv(t,i){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ie(i)})}function kT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ie(i)})}function AT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ie(i)})}function zT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ie(i)})}function OT(t,i){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ie(i)})}function MT(t,i){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ie(i)})}function RT(t,i){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ie(i)})}function LT(t,i){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ie(i)})}function DT(t,i){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ie(i)})}function PT(t,i){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ie(i)})}function BT(t,i){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ie(i)})}function IT(t,i){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ie(i)})}function UT(t,i){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ie(i)})}function ZT(t,i){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ie(i)})}function qT(t,i){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ie(i)})}function FT(t,i){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ie(i)})}function HT(t,i){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ie(i)})}function KT(t,i){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ie(i)})}function QT(t,i){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ie(i)})}function VT(t,i){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ie(i)})}function GT(t,i){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ie(i)})}function YT(t,i){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ie(i)})}function $T(t,i){return new t({type:"string",format:"date",check:"string_format",...Ie(i)})}function XT(t,i){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ie(i)})}function JT(t,i){return new t({type:"string",format:"duration",check:"string_format",...Ie(i)})}function WT(t,i){return new t({type:"number",coerce:!0,checks:[],...Ie(i)})}function eC(t,i){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ie(i)})}function tC(t,i){return new t({type:"boolean",...Ie(i)})}function nC(t,i){return new t({type:"null",...Ie(i)})}function iC(t){return new t({type:"unknown"})}function aC(t,i){return new t({type:"never",...Ie(i)})}function Vv(t,i){return new v0({check:"less_than",...Ie(i),value:t,inclusive:!1})}function Nh(t,i){return new v0({check:"less_than",...Ie(i),value:t,inclusive:!0})}function Gv(t,i){return new _0({check:"greater_than",...Ie(i),value:t,inclusive:!1})}function Sh(t,i){return new _0({check:"greater_than",...Ie(i),value:t,inclusive:!0})}function Yv(t,i){return new _2({check:"multiple_of",...Ie(i),value:t})}function E0(t,i){return new b2({check:"max_length",...Ie(i),maximum:t})}function Jc(t,i){return new N2({check:"min_length",...Ie(i),minimum:t})}function j0(t,i){return new S2({check:"length_equals",...Ie(i),length:t})}function sC(t,i){return new w2({check:"string_format",format:"regex",...Ie(i),pattern:t})}function rC(t){return new E2({check:"string_format",format:"lowercase",...Ie(t)})}function lC(t){return new j2({check:"string_format",format:"uppercase",...Ie(t)})}function oC(t,i){return new T2({check:"string_format",format:"includes",...Ie(i),includes:t})}function uC(t,i){return new C2({check:"string_format",format:"starts_with",...Ie(i),prefix:t})}function cC(t,i){return new k2({check:"string_format",format:"ends_with",...Ie(i),suffix:t})}function Ml(t){return new A2({check:"overwrite",tx:t})}function dC(t){return Ml(i=>i.normalize(t))}function fC(){return Ml(t=>t.trim())}function hC(){return Ml(t=>t.toLowerCase())}function mC(){return Ml(t=>t.toUpperCase())}function pC(){return Ml(t=>N1(t))}function gC(t,i,r){return new t({type:"array",element:i,...Ie(r)})}function yC(t,i,r){return new t({type:"custom",check:"custom",fn:i,...Ie(r)})}function vC(t){const i=_C(r=>(r.addIssue=o=>{if(typeof o=="string")r.issues.push(Go(o,r.value,i._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=i),d.continue??(d.continue=!i._zod.def.abort),r.issues.push(Go(d))}},t(r.value,r)));return i}function _C(t,i){const r=new ii({check:"custom",...Ie(i)});return r._zod.check=t,r}function T0(t){let i=t?.target??"draft-2020-12";return i==="draft-4"&&(i="draft-04"),i==="draft-7"&&(i="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Zo,target:i,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function En(t,i,r={path:[],schemaPath:[]}){var o;const d=t._zod.def,m=i.seen.get(t);if(m)return m.count++,r.schemaPath.includes(t)&&(m.cycle=r.path),m.schema;const p={schema:{},count:1,cycle:void 0,path:r.path};i.seen.set(t,p);const v=t._zod.toJSONSchema?.();if(v)p.schema=v;else{const S={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(i,p.schema,S);else{const C=p.schema,O=i.processors[d.type];if(!O)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);O(t,i,C,S)}const E=t._zod.parent;E&&(p.ref||(p.ref=E),En(E,i,S),i.seen.get(E).isParent=!0)}const _=i.metadataRegistry.get(t);return _&&Object.assign(p.schema,_),i.io==="input"&&Zn(t)&&(delete p.schema.examples,delete p.schema.default),i.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,i.seen.get(t).schema}function C0(t,i){const r=t.seen.get(i);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const v=t.metadataRegistry.get(p[0])?.id;if(v){const _=o.get(v);if(_&&_!==p[0])throw new Error(`Duplicate schema id "${v}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(v,p[0])}}const d=p=>{const v=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const E=t.external.registry.get(p[0])?.id,C=t.external.uri??(A=>A);if(E)return{ref:C(E)};const O=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=O,{defId:O,ref:`${C("__shared")}#/${v}/${O}`}}if(p[1]===r)return{ref:"#"};const b=`#/${v}/`,S=p[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:b+S}},m=p=>{if(p[1].schema.$ref)return;const v=p[1],{ref:_,defId:b}=d(p);v.def={...v.schema},b&&(v.defId=b);const S=v.schema;for(const E in S)delete S[E];S.$ref=_};if(t.cycles==="throw")for(const p of t.seen.entries()){const v=p[1];if(v.cycle)throw new Error(`Cycle detected: #/${v.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const v=p[1];if(i===p[0]){m(p);continue}if(t.external){const b=t.external.registry.get(p[0])?.id;if(i!==p[0]&&b){m(p);continue}}if(t.metadataRegistry.get(p[0])?.id){m(p);continue}if(v.cycle){m(p);continue}if(v.count>1&&t.reused==="ref"){m(p);continue}}}function k0(t,i){const r=t.seen.get(i);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const v=t.seen.get(p);if(v.ref===null)return;const _=v.def??v.schema,b={..._},S=v.ref;if(v.ref=null,S){o(S);const C=t.seen.get(S),O=C.schema;if(O.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(_.allOf=_.allOf??[],_.allOf.push(O)):Object.assign(_,O),Object.assign(_,b),p._zod.parent===S)for(const z in _)z==="$ref"||z==="allOf"||z in b||delete _[z];if(O.$ref&&C.def)for(const z in _)z==="$ref"||z==="allOf"||z in C.def&&JSON.stringify(_[z])===JSON.stringify(C.def[z])&&delete _[z]}const E=p._zod.parent;if(E&&E!==S){o(E);const C=t.seen.get(E);if(C?.schema.$ref&&(_.$ref=C.schema.$ref,C.def))for(const O in _)O==="$ref"||O==="allOf"||O in C.def&&JSON.stringify(_[O])===JSON.stringify(C.def[O])&&delete _[O]}t.override({zodSchema:p,jsonSchema:_,path:v.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(i)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,r.def??r.schema);const m=t.external?.defs??{};for(const p of t.seen.entries()){const v=p[1];v.def&&v.defId&&(m[v.defId]=v.def)}t.external||Object.keys(m).length>0&&(t.target==="draft-2020-12"?d.$defs=m:d.definitions=m);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...i["~standard"],jsonSchema:{input:Wc(i,"input",t.processors),output:Wc(i,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Zn(t,i){const r=i??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Zn(o.element,r);if(o.type==="set")return Zn(o.valueType,r);if(o.type==="lazy")return Zn(o.getter(),r);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Zn(o.innerType,r);if(o.type==="intersection")return Zn(o.left,r)||Zn(o.right,r);if(o.type==="record"||o.type==="map")return Zn(o.keyType,r)||Zn(o.valueType,r);if(o.type==="pipe")return Zn(o.in,r)||Zn(o.out,r);if(o.type==="object"){for(const d in o.shape)if(Zn(o.shape[d],r))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(Zn(d,r))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(Zn(d,r))return!0;return!!(o.rest&&Zn(o.rest,r))}return!1}const xC=(t,i={})=>r=>{const o=T0({...r,processors:i});return En(t,o),C0(o,t),k0(o,t)},Wc=(t,i,r={})=>o=>{const{libraryOptions:d,target:m}=o??{},p=T0({...d??{},target:m,io:i,processors:r});return En(t,p),C0(p,t),k0(p,t)},bC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},NC=(t,i,r,o)=>{const d=r;d.type="string";const{minimum:m,maximum:p,format:v,patterns:_,contentEncoding:b}=t._zod.bag;if(typeof m=="number"&&(d.minLength=m),typeof p=="number"&&(d.maxLength=p),v&&(d.format=bC[v]??v,d.format===""&&delete d.format,v==="time"&&delete d.format),b&&(d.contentEncoding=b),_&&_.size>0){const S=[..._];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(E=>({...i.target==="draft-07"||i.target==="draft-04"||i.target==="openapi-3.0"?{type:"string"}:{},pattern:E.source}))])}},SC=(t,i,r,o)=>{const d=r,{minimum:m,maximum:p,format:v,multipleOf:_,exclusiveMaximum:b,exclusiveMinimum:S}=t._zod.bag;typeof v=="string"&&v.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(i.target==="draft-04"||i.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof m=="number"&&(d.minimum=m,typeof S=="number"&&i.target!=="draft-04"&&(S>=m?delete d.minimum:delete d.exclusiveMinimum)),typeof b=="number"&&(i.target==="draft-04"||i.target==="openapi-3.0"?(d.maximum=b,d.exclusiveMaximum=!0):d.exclusiveMaximum=b),typeof p=="number"&&(d.maximum=p,typeof b=="number"&&i.target!=="draft-04"&&(b<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof _=="number"&&(d.multipleOf=_)},wC=(t,i,r,o)=>{r.type="boolean"},EC=(t,i,r,o)=>{i.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},jC=(t,i,r,o)=>{r.not={}},TC=(t,i,r,o)=>{},CC=(t,i,r,o)=>{const d=t._zod.def,m=l0(d.entries);m.every(p=>typeof p=="number")&&(r.type="number"),m.every(p=>typeof p=="string")&&(r.type="string"),r.enum=m},kC=(t,i,r,o)=>{if(i.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},AC=(t,i,r,o)=>{if(i.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},zC=(t,i,r,o)=>{const d=r,m=t._zod.def,{minimum:p,maximum:v}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof v=="number"&&(d.maxItems=v),d.type="array",d.items=En(m.element,i,{...o,path:[...o.path,"items"]})},OC=(t,i,r,o)=>{const d=r,m=t._zod.def;d.type="object",d.properties={};const p=m.shape;for(const b in p)d.properties[b]=En(p[b],i,{...o,path:[...o.path,"properties",b]});const v=new Set(Object.keys(p)),_=new Set([...v].filter(b=>{const S=m.shape[b]._zod;return i.io==="input"?S.optin===void 0:S.optout===void 0}));_.size>0&&(d.required=Array.from(_)),m.catchall?._zod.def.type==="never"?d.additionalProperties=!1:m.catchall?m.catchall&&(d.additionalProperties=En(m.catchall,i,{...o,path:[...o.path,"additionalProperties"]})):i.io==="output"&&(d.additionalProperties=!1)},MC=(t,i,r,o)=>{const d=t._zod.def,m=d.inclusive===!1,p=d.options.map((v,_)=>En(v,i,{...o,path:[...o.path,m?"oneOf":"anyOf",_]}));m?r.oneOf=p:r.anyOf=p},RC=(t,i,r,o)=>{const d=t._zod.def,m=En(d.left,i,{...o,path:[...o.path,"allOf",0]}),p=En(d.right,i,{...o,path:[...o.path,"allOf",1]}),v=b=>"allOf"in b&&Object.keys(b).length===1,_=[...v(m)?m.allOf:[m],...v(p)?p.allOf:[p]];r.allOf=_},LC=(t,i,r,o)=>{const d=t._zod.def,m=En(d.innerType,i,o),p=i.seen.get(t);i.target==="openapi-3.0"?(p.ref=d.innerType,r.nullable=!0):r.anyOf=[m,{type:"null"}]},DC=(t,i,r,o)=>{const d=t._zod.def;En(d.innerType,i,o);const m=i.seen.get(t);m.ref=d.innerType},PC=(t,i,r,o)=>{const d=t._zod.def;En(d.innerType,i,o);const m=i.seen.get(t);m.ref=d.innerType,r.default=JSON.parse(JSON.stringify(d.defaultValue))},BC=(t,i,r,o)=>{const d=t._zod.def;En(d.innerType,i,o);const m=i.seen.get(t);m.ref=d.innerType,i.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},IC=(t,i,r,o)=>{const d=t._zod.def;En(d.innerType,i,o);const m=i.seen.get(t);m.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=p},UC=(t,i,r,o)=>{const d=t._zod.def,m=i.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;En(m,i,o);const p=i.seen.get(t);p.ref=m},ZC=(t,i,r,o)=>{const d=t._zod.def;En(d.innerType,i,o);const m=i.seen.get(t);m.ref=d.innerType,r.readOnly=!0},A0=(t,i,r,o)=>{const d=t._zod.def;En(d.innerType,i,o);const m=i.seen.get(t);m.ref=d.innerType},qC=xe("ZodISODateTime",(t,i)=>{H2.init(t,i),Ut.init(t,i)});function FC(t){return YT(qC,t)}const HC=xe("ZodISODate",(t,i)=>{K2.init(t,i),Ut.init(t,i)});function KC(t){return $T(HC,t)}const QC=xe("ZodISOTime",(t,i)=>{Q2.init(t,i),Ut.init(t,i)});function VC(t){return XT(QC,t)}const GC=xe("ZodISODuration",(t,i)=>{V2.init(t,i),Ut.init(t,i)});function YC(t){return JT(GC,t)}const $C=(t,i)=>{f0.init(t,i),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>L1(t,r)},flatten:{value:r=>R1(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,cm,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,cm,2)}},isEmpty:{get(){return t.issues.length===0}}})},Mi=xe("ZodError",$C,{Parent:Error}),XC=Um(Mi),JC=Zm(Mi),WC=dd(Mi),ek=fd(Mi),tk=B1(Mi),nk=I1(Mi),ik=U1(Mi),ak=Z1(Mi),sk=q1(Mi),rk=F1(Mi),lk=H1(Mi),ok=K1(Mi),Gt=xe("ZodType",(t,i)=>(Vt.init(t,i),Object.assign(t["~standard"],{jsonSchema:{input:Wc(t,"input"),output:Wc(t,"output")}}),t.toJSONSchema=xC(t,{}),t.def=i,t.type=i.type,Object.defineProperty(t,"_def",{value:i}),t.check=(...r)=>t.clone(ks(i,{checks:[...i.checks??[],...r.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(r,o)=>As(t,r,o),t.brand=()=>t,t.register=((r,o)=>(r.add(t,o),t)),t.parse=(r,o)=>XC(t,r,o,{callee:t.parse}),t.safeParse=(r,o)=>WC(t,r,o),t.parseAsync=async(r,o)=>JC(t,r,o,{callee:t.parseAsync}),t.safeParseAsync=async(r,o)=>ek(t,r,o),t.spa=t.safeParseAsync,t.encode=(r,o)=>tk(t,r,o),t.decode=(r,o)=>nk(t,r,o),t.encodeAsync=async(r,o)=>ik(t,r,o),t.decodeAsync=async(r,o)=>ak(t,r,o),t.safeEncode=(r,o)=>sk(t,r,o),t.safeDecode=(r,o)=>rk(t,r,o),t.safeEncodeAsync=async(r,o)=>lk(t,r,o),t.safeDecodeAsync=async(r,o)=>ok(t,r,o),t.refine=(r,o)=>t.check(tA(r,o)),t.superRefine=r=>t.check(nA(r)),t.overwrite=r=>t.check(Ml(r)),t.optional=()=>Wv(t),t.exactOptional=()=>qk(t),t.nullable=()=>e_(t),t.nullish=()=>Wv(e_(t)),t.nonoptional=r=>Gk(t,r),t.array=()=>Rk(t),t.or=r=>ed([t,r]),t.and=r=>Bk(t,r),t.transform=r=>t_(t,Uk(r)),t.default=r=>Kk(t,r),t.prefault=r=>Vk(t,r),t.catch=r=>$k(t,r),t.pipe=r=>t_(t,r),t.readonly=()=>Wk(t),t.describe=r=>{const o=t.clone();return Zo.add(o,{description:r}),o},Object.defineProperty(t,"description",{get(){return Zo.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Zo.get(t);const o=t.clone();return Zo.add(o,r[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),z0=xe("_ZodString",(t,i)=>{qm.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(o,d,m)=>NC(t,o,d);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...o)=>t.check(sC(...o)),t.includes=(...o)=>t.check(oC(...o)),t.startsWith=(...o)=>t.check(uC(...o)),t.endsWith=(...o)=>t.check(cC(...o)),t.min=(...o)=>t.check(Jc(...o)),t.max=(...o)=>t.check(E0(...o)),t.length=(...o)=>t.check(j0(...o)),t.nonempty=(...o)=>t.check(Jc(1,...o)),t.lowercase=o=>t.check(rC(o)),t.uppercase=o=>t.check(lC(o)),t.trim=()=>t.check(fC()),t.normalize=(...o)=>t.check(dC(...o)),t.toLowerCase=()=>t.check(hC()),t.toUpperCase=()=>t.check(mC()),t.slugify=()=>t.check(pC())}),uk=xe("ZodString",(t,i)=>{qm.init(t,i),z0.init(t,i),t.email=r=>t.check(CT(ck,r)),t.url=r=>t.check(MT(dk,r)),t.jwt=r=>t.check(GT(jk,r)),t.emoji=r=>t.check(RT(fk,r)),t.guid=r=>t.check(Qv($v,r)),t.uuid=r=>t.check(kT(Oc,r)),t.uuidv4=r=>t.check(AT(Oc,r)),t.uuidv6=r=>t.check(zT(Oc,r)),t.uuidv7=r=>t.check(OT(Oc,r)),t.nanoid=r=>t.check(LT(hk,r)),t.guid=r=>t.check(Qv($v,r)),t.cuid=r=>t.check(DT(mk,r)),t.cuid2=r=>t.check(PT(pk,r)),t.ulid=r=>t.check(BT(gk,r)),t.base64=r=>t.check(KT(Sk,r)),t.base64url=r=>t.check(QT(wk,r)),t.xid=r=>t.check(IT(yk,r)),t.ksuid=r=>t.check(UT(vk,r)),t.ipv4=r=>t.check(ZT(_k,r)),t.ipv6=r=>t.check(qT(xk,r)),t.cidrv4=r=>t.check(FT(bk,r)),t.cidrv6=r=>t.check(HT(Nk,r)),t.e164=r=>t.check(VT(Ek,r)),t.datetime=r=>t.check(FC(r)),t.date=r=>t.check(KC(r)),t.time=r=>t.check(VC(r)),t.duration=r=>t.check(YC(r))});function Gi(t){return TT(uk,t)}const Ut=xe("ZodStringFormat",(t,i)=>{Dt.init(t,i),z0.init(t,i)}),ck=xe("ZodEmail",(t,i)=>{L2.init(t,i),Ut.init(t,i)}),$v=xe("ZodGUID",(t,i)=>{M2.init(t,i),Ut.init(t,i)}),Oc=xe("ZodUUID",(t,i)=>{R2.init(t,i),Ut.init(t,i)}),dk=xe("ZodURL",(t,i)=>{D2.init(t,i),Ut.init(t,i)}),fk=xe("ZodEmoji",(t,i)=>{P2.init(t,i),Ut.init(t,i)}),hk=xe("ZodNanoID",(t,i)=>{B2.init(t,i),Ut.init(t,i)}),mk=xe("ZodCUID",(t,i)=>{I2.init(t,i),Ut.init(t,i)}),pk=xe("ZodCUID2",(t,i)=>{U2.init(t,i),Ut.init(t,i)}),gk=xe("ZodULID",(t,i)=>{Z2.init(t,i),Ut.init(t,i)}),yk=xe("ZodXID",(t,i)=>{q2.init(t,i),Ut.init(t,i)}),vk=xe("ZodKSUID",(t,i)=>{F2.init(t,i),Ut.init(t,i)}),_k=xe("ZodIPv4",(t,i)=>{G2.init(t,i),Ut.init(t,i)}),xk=xe("ZodIPv6",(t,i)=>{Y2.init(t,i),Ut.init(t,i)}),bk=xe("ZodCIDRv4",(t,i)=>{$2.init(t,i),Ut.init(t,i)}),Nk=xe("ZodCIDRv6",(t,i)=>{X2.init(t,i),Ut.init(t,i)}),Sk=xe("ZodBase64",(t,i)=>{J2.init(t,i),Ut.init(t,i)}),wk=xe("ZodBase64URL",(t,i)=>{eT.init(t,i),Ut.init(t,i)}),Ek=xe("ZodE164",(t,i)=>{tT.init(t,i),Ut.init(t,i)}),jk=xe("ZodJWT",(t,i)=>{iT.init(t,i),Ut.init(t,i)}),O0=xe("ZodNumber",(t,i)=>{b0.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(o,d,m)=>SC(t,o,d),t.gt=(o,d)=>t.check(Gv(o,d)),t.gte=(o,d)=>t.check(Sh(o,d)),t.min=(o,d)=>t.check(Sh(o,d)),t.lt=(o,d)=>t.check(Vv(o,d)),t.lte=(o,d)=>t.check(Nh(o,d)),t.max=(o,d)=>t.check(Nh(o,d)),t.int=o=>t.check(Xv(o)),t.safe=o=>t.check(Xv(o)),t.positive=o=>t.check(Gv(0,o)),t.nonnegative=o=>t.check(Sh(0,o)),t.negative=o=>t.check(Vv(0,o)),t.nonpositive=o=>t.check(Nh(0,o)),t.multipleOf=(o,d)=>t.check(Yv(o,d)),t.step=(o,d)=>t.check(Yv(o,d)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null}),Tk=xe("ZodNumberFormat",(t,i)=>{aT.init(t,i),O0.init(t,i)});function Xv(t){return eC(Tk,t)}const Ck=xe("ZodBoolean",(t,i)=>{sT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>wC(t,r,o)});function md(t){return tC(Ck,t)}const kk=xe("ZodNull",(t,i)=>{rT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>EC(t,r,o)});function fm(t){return nC(kk,t)}const Ak=xe("ZodUnknown",(t,i)=>{lT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>TC()});function Jv(){return iC(Ak)}const zk=xe("ZodNever",(t,i)=>{oT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>jC(t,r,o)});function Ok(t){return aC(zk,t)}const Mk=xe("ZodArray",(t,i)=>{uT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>zC(t,r,o,d),t.element=i.element,t.min=(r,o)=>t.check(Jc(r,o)),t.nonempty=r=>t.check(Jc(1,r)),t.max=(r,o)=>t.check(E0(r,o)),t.length=(r,o)=>t.check(j0(r,o)),t.unwrap=()=>t.element});function Rk(t,i){return gC(Mk,t,i)}const Lk=xe("ZodObject",(t,i)=>{dT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>OC(t,r,o,d),yt(t,"shape",()=>i.shape),t.keyof=()=>mm(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Jv()}),t.loose=()=>t.clone({...t._zod.def,catchall:Jv()}),t.strict=()=>t.clone({...t._zod.def,catchall:Ok()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>k1(t,r),t.safeExtend=r=>A1(t,r),t.merge=r=>z1(t,r),t.pick=r=>T1(t,r),t.omit=r=>C1(t,r),t.partial=(...r)=>O1(M0,t,r[0]),t.required=(...r)=>M1(R0,t,r[0])});function Ji(t,i){const r={type:"object",shape:t??{},...Ie(i)};return new Lk(r)}const Dk=xe("ZodUnion",(t,i)=>{fT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>MC(t,r,o,d),t.options=i.options});function ed(t,i){return new Dk({type:"union",options:t,...Ie(i)})}const Pk=xe("ZodIntersection",(t,i)=>{hT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>RC(t,r,o,d)});function Bk(t,i){return new Pk({type:"intersection",left:t,right:i})}const hm=xe("ZodEnum",(t,i)=>{mT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(o,d,m)=>CC(t,o,d),t.enum=i.entries,t.options=Object.values(i.entries);const r=new Set(Object.keys(i.entries));t.extract=(o,d)=>{const m={};for(const p of o)if(r.has(p))m[p]=i.entries[p];else throw new Error(`Key ${p} not found in enum`);return new hm({...i,checks:[],...Ie(d),entries:m})},t.exclude=(o,d)=>{const m={...i.entries};for(const p of o)if(r.has(p))delete m[p];else throw new Error(`Key ${p} not found in enum`);return new hm({...i,checks:[],...Ie(d),entries:m})}});function mm(t,i){const r=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new hm({type:"enum",entries:r,...Ie(i)})}const Ik=xe("ZodTransform",(t,i)=>{pT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>AC(t,r),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new s0(t.constructor.name);r.addIssue=m=>{if(typeof m=="string")r.issues.push(Go(m,r.value,i));else{const p=m;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=r.value),p.inst??(p.inst=t),r.issues.push(Go(p))}};const d=i.transform(r.value,r);return d instanceof Promise?d.then(m=>(r.value=m,r)):(r.value=d,r)}});function Uk(t){return new Ik({type:"transform",transform:t})}const M0=xe("ZodOptional",(t,i)=>{w0.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>A0(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function Wv(t){return new M0({type:"optional",innerType:t})}const Zk=xe("ZodExactOptional",(t,i)=>{gT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>A0(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function qk(t){return new Zk({type:"optional",innerType:t})}const Fk=xe("ZodNullable",(t,i)=>{yT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>LC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function e_(t){return new Fk({type:"nullable",innerType:t})}const Hk=xe("ZodDefault",(t,i)=>{vT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>PC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Kk(t,i){return new Hk({type:"default",innerType:t,get defaultValue(){return typeof i=="function"?i():u0(i)}})}const Qk=xe("ZodPrefault",(t,i)=>{_T.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>BC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function Vk(t,i){return new Qk({type:"prefault",innerType:t,get defaultValue(){return typeof i=="function"?i():u0(i)}})}const R0=xe("ZodNonOptional",(t,i)=>{xT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>DC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function Gk(t,i){return new R0({type:"nonoptional",innerType:t,...Ie(i)})}const Yk=xe("ZodCatch",(t,i)=>{bT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>IC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function $k(t,i){return new Yk({type:"catch",innerType:t,catchValue:typeof i=="function"?i:()=>i})}const Xk=xe("ZodPipe",(t,i)=>{NT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>UC(t,r,o,d),t.in=i.in,t.out=i.out});function t_(t,i){return new Xk({type:"pipe",in:t,out:i})}const Jk=xe("ZodReadonly",(t,i)=>{ST.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>ZC(t,r,o,d),t.unwrap=()=>t._zod.def.innerType});function Wk(t){return new Jk({type:"readonly",innerType:t})}const eA=xe("ZodCustom",(t,i)=>{wT.init(t,i),Gt.init(t,i),t._zod.processJSONSchema=(r,o,d)=>kC(t,r)});function tA(t,i={}){return yC(eA,t,i)}function nA(t){return vC(t)}function ln(t){return WT(O0,t)}const iA=Ji({employee_id:ln().int().positive(),expires_in_minutes:ln().int().positive().max(1440)});function aA(){const t=Dn(),[i,r]=w.useState(""),[o,d]=w.useState("60"),[m,p]=w.useState(null),[v,_]=w.useState(null),b=He({queryKey:["departments"],queryFn:wr}),S=He({queryKey:["employees"],queryFn:()=>ya()}),E=He({queryKey:["devices"],queryFn:qj}),C=He({queryKey:["leaves","dashboard"],queryFn:()=>Wx({})}),O=He({queryKey:["attendance-events","dashboard"],queryFn:()=>Xx({limit:8})}),A=Qe({mutationFn:e0,onSuccess:J=>{p(J.invite_url),_(null),t.invalidateQueries({queryKey:["devices"]})},onError:J=>{_(c1(J,"Device invite oluturulamad."))}}),z=()=>{p(null),_(null);const J=iA.safeParse({employee_id:i,expires_in_minutes:o});if(!J.success){_(J.error.issues[0]?.message??"Invite formunu kontrol et.");return}A.mutate(J.data)};if(b.isLoading||S.isLoading||E.isLoading||C.isLoading||O.isLoading)return l.jsx(Wt,{});if(b.isError||S.isError||E.isError||C.isError||O.isError)return l.jsx(jt,{message:"Dashboard verileri alnamad."});const M=b.data??[],H=S.data??[],I=E.data??[],Z=C.data??[],Q=O.data??[],X=M.length,V=H.length,ee=I.length,$=Z.length;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(jn,{title:"Dashboard",description:"Sistem zetini ve hzl ilemleri bu ekrandan ynetebilirsin."}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[l.jsxs(Le,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Departments"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:X})]}),l.jsxs(Le,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Employees"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:V})]}),l.jsxs(Le,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Devices"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:ee})]}),l.jsxs(Le,{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Leaves"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:$})]})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Quick Device Invite"}),l.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Employee ID",l.jsx("input",{value:i,onChange:J=>r(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"1"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Expires (minutes)",l.jsx("input",{value:o,onChange:J=>d(J.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),l.jsx("button",{type:"button",onClick:z,disabled:A.isPending,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Oluturuluyor...":"Create Invite"}),m?l.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:["Invite URL: ",m]}):null,v?l.jsx("div",{className:"form-validation",children:v}):null]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Recent Attendance Events"}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{className:"py-2",children:"Employee"}),l.jsx("th",{className:"py-2",children:"Type"}),l.jsx("th",{className:"py-2",children:"Status"})]})}),l.jsx("tbody",{children:Q.map(J=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:J.id}),l.jsx("td",{className:"py-2",children:J.employee_id}),l.jsx("td",{className:"py-2",children:J.type}),l.jsx("td",{className:"py-2",children:J.location_status})]},J.id))})]})})]})]})]})}function sA(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function L0(t){const i=sA(t),r=Math.floor(i/60),o=i%60;return{hours:r,minutes:o}}function rA(t){const{hours:i,minutes:r}=L0(t),o=String(i).padStart(2,"0"),d=String(r).padStart(2,"0");return`${o}:${d}`}function lA(t){const{hours:i,minutes:r}=L0(t);return i===0?`${r}dk`:`${i}s ${r}dk`}function Fc(t){return`${rA(t)} (${lA(t)})`}function It({minutes:t}){return l.jsx("span",{className:"whitespace-nowrap",children:Fc(t)})}function oA(t,i){const r=window.URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=i,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)}function uA(){const t=new Date,{pushToast:i}=Fn(),r={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=w.useState(r),[m,p]=w.useState(r),[v,_]=w.useState(!1),b=He({queryKey:["departments"],queryFn:wr}),S=Number(m.year),E=Number(m.month),C=Number(m.departmentId),O=Number.isFinite(S)&&S>0&&Number.isFinite(E)&&E>=1&&E<=12,A=He({queryKey:["department-summary",S,E,m.departmentId||"all",m.includeInactive?"with-inactive":"active-only"],queryFn:()=>Vj({year:S,month:E,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:m.includeInactive}),enabled:O}),z=A.data??[],M=w.useMemo(()=>z.reduce((X,V)=>(X.worked+=V.worked_minutes,X.overtime+=V.overtime_minutes,X.employeeCount+=V.employee_count,X),{worked:0,overtime:0,employeeCount:0}),[z]),H=w.useMemo(()=>{const X=[`Yl: ${m.year}`,`Ay: ${m.month}`];if(m.departmentId){const V=b.data?.find(ee=>ee.id===Number(m.departmentId));X.push(`Departman: ${V?.name??m.departmentId}`)}return m.includeInactive&&X.push("Arivdekiler dahil"),X},[m,b.data]),I=()=>p({...o}),Z=()=>{d(r),p(r)},Q=async()=>{if(!O){i({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{_(!0);const X=Number.isFinite(C)&&C>0?await t1({department_id:C,year:S,month:E,include_inactive:m.includeInactive}):await n1({year:S,month:E,include_inactive:m.includeInactive}),V=Number.isFinite(C)&&C>0?`department-${C}`:"all";oA(X,`puantaj-${V}-${S}-${String(E).padStart(2,"0")}.xlsx`)}catch(X){i({variant:"error",title:"Excel indirilemedi",description:Be(X,"Dosya oluturulamad.").message})}finally{_(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma ve fazla mesai deerlerini karlatrn.",action:l.jsx("button",{type:"button",onClick:()=>{Q()},disabled:v,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:v?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",l.jsx("input",{type:"number",value:o.year,onChange:X=>d(V=>({...V,year:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{type:"number",value:o.month,onChange:X=>d(V=>({...V,month:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",l.jsxs("select",{value:o.departmentId,onChange:X=>d(V=>({...V,departmentId:X.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:b.isLoading,children:[l.jsx("option",{value:"",children:"Tm"}),(b.data??[]).map(X=>l.jsxs("option",{value:X.id,children:["#",X.id," - ",X.name]},X.id))]})]})]}),l.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:X=>d(V=>({...V,includeInactive:X.target.checked}))}),"Arivdeki alanlar dahil et"]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:I,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:Z,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:H.map(X=>l.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:X},X))})]}),O?null:l.jsx(jt,{message:"Yl ve ay deerleri geersiz."}),A.isLoading?l.jsx(Wt,{}):null,A.isError?l.jsx(jt,{message:Be(A.error,"Departman zeti alnamad.").message}):null,!A.isLoading&&!A.isError?l.jsxs(l.Fragment,{children:[l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:M.worked})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Fazla Mesai"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:M.overtime})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),l.jsx("p",{className:"text-lg font-semibold",children:M.employeeCount})]})]})]}),z.length===0?l.jsx(Le,{children:l.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):l.jsx(Le,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"alan Says"}),l.jsx("th",{className:"py-2",children:"Toplam alma"}),l.jsx("th",{className:"py-2",children:"Toplam Fazla Mesai"})]})}),l.jsx("tbody",{children:z.map(X=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsxs("td",{className:"py-2",children:["#",X.department_id," - ",X.department_name]}),l.jsx("td",{className:"py-2",children:X.employee_count}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:X.worked_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:X.overtime_minutes})})]},X.department_id))})]})})})]}):null]})}function El({value:t,onChange:i,placeholder:r="Isme gore ara..."}){return l.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",l.jsx("input",{value:t,onChange:o=>i(o.target.value),placeholder:r,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const n_=Ji({name:Gi().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:ed([ln().int().positive(),fm()])});function i_(t){if(At.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const i=Be(t,"Departman olusturulamadi.");return i.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":i.message}function cA(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState(""),[p,v]=w.useState(""),[_,b]=w.useState(!1),[S,E]=w.useState(""),[C,O]=w.useState(null),[A,z]=w.useState(""),[M,H]=w.useState(""),[I,Z]=w.useState(null),Q=He({queryKey:["departments",S],queryFn:()=>vj(S?{region_id:Number(S)}:void 0)}),X=He({queryKey:["regions","departments-page"],queryFn:()=>ud({include_inactive:!0})}),V=Qe({mutationFn:_j,onSuccess:q=>{o(""),m(""),Z(null),b(!1),i({variant:"success",title:"Departman olusturuldu",description:`${q.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:q=>{const se=i_(q);Z(se),i({variant:"error",title:"Departman olusturulamadi",description:se})}}),ee=Qe({mutationFn:({departmentId:q,name:se,regionIdValue:U})=>xj(q,{name:se,region_id:U}),onSuccess:q=>{Z(null),O(null),z(""),H(""),i({variant:"success",title:"Departman guncellendi",description:`${q.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:q=>{const se=i_(q);Z(se),i({variant:"error",title:"Departman guncellenemedi",description:se})}}),$=q=>{q.preventDefault(),Z(null);const se=d.trim()===""?null:Number(d),U=n_.safeParse({name:r,region_id:se});if(!U.success){const P=U.error.issues[0]?.message??"Departman alanlarini kontrol edin.";Z(P),i({variant:"error",title:"Form hatasi",description:P});return}V.mutate({name:U.data.name,region_id:U.data.region_id})},J=q=>{if(q.preventDefault(),Z(null),!C)return;const se=M.trim()===""?null:Number(M),U=n_.safeParse({name:A,region_id:se});if(!U.success){const P=U.error.issues[0]?.message??"Departman alanlarini kontrol edin.";Z(P),i({variant:"error",title:"Form hatasi",description:P});return}ee.mutate({departmentId:C,name:U.data.name,regionIdValue:U.data.region_id})},ue=Q.data??[],ae=X.data??[],ce=w.useMemo(()=>new Map(ae.map(q=>[q.id,q.name])),[ae]),de=w.useMemo(()=>{const q=p.trim().toLowerCase();return q?ue.filter(se=>se.name.toLowerCase().includes(q)):ue},[ue,p]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:l.jsx("button",{type:"button",onClick:()=>b(q=>!q),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),_?l.jsxs(Le,{children:[l.jsxs("form",{onSubmit:$,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",l.jsx("input",{value:r,onChange:q=>o(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",l.jsxs("select",{value:d,onChange:q=>m(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Bolge yok"}),ae.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]}),l.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[l.jsx("button",{type:"submit",disabled:V.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:V.isPending?"Kaydediliyor...":"Kaydet"}),l.jsx("button",{type:"button",onClick:()=>{b(!1),Z(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),I?l.jsx("div",{className:"form-validation",children:I}):null]}):null,C?l.jsxs(Le,{children:[l.jsxs("form",{onSubmit:J,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",l.jsx("input",{value:A,onChange:q=>z(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",l.jsxs("select",{value:M,onChange:q=>H(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Bolge yok"}),ae.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]}),l.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[l.jsx("button",{type:"submit",disabled:ee.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ee.isPending?"Guncelleniyor...":"Guncelle"}),l.jsx("button",{type:"button",onClick:()=>{O(null),z(""),H(""),Z(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),I?l.jsx("div",{className:"form-validation",children:I}):null]}):null,Q.isLoading||X.isLoading?l.jsx(Wt,{}):null,Q.isError||X.isError?l.jsx(jt,{message:"Departman verileri alinamadi."}):null,!Q.isLoading&&!Q.isError&&!X.isLoading&&!X.isError?l.jsxs(Le,{children:[l.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[l.jsx(El,{value:p,onChange:v,placeholder:"Departman adina gore ara..."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",l.jsxs("select",{value:S,onChange:q=>E(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum bolgeler"}),ae.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman ID"}),l.jsx("th",{className:"py-2",children:"Departman Adi"}),l.jsx("th",{className:"py-2",children:"Bolge"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:de.map(q=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:q.id}),l.jsx("td",{className:"py-2",children:q.name}),l.jsx("td",{className:"py-2",children:q.region_name??(q.region_id?ce.get(q.region_id):"-")??"-"}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>{O(q.id),z(q.name),H(q.region_id?String(q.region_id):""),Z(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},q.id))})]})}),de.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Tl({value:t}){const i=t.toUpperCase();return i==="OK"||i==="AKTIF"||i==="APPROVED"?l.jsx("span",{className:"status-badge status-badge-ok",children:t}):i==="INCOMPLETE"?l.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):i==="LEAVE"?l.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):i==="OFF"?l.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):i==="PENDING"?l.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):i==="REJECTED"||i==="PASIF"?l.jsx("span",{className:"status-badge status-badge-danger",children:t}):l.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function dA(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function fA(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState(""),[p,v]=w.useState(!0),[_,b]=w.useState(""),[S,E]=w.useState(1),[C,O]=w.useState(50),[A,z]=w.useState(null),M=r?Number(r):void 0,H=M?0:(S-1)*C,I=He({queryKey:["employee-device-overview-summary",M??null,d,p,_,S,C],queryFn:()=>Av({employee_id:M,region_id:d?Number(d):void 0,include_inactive:p,q:_.trim()||void 0,offset:H,limit:M?1:C,device_limit:1})}),Z=He({queryKey:["employee-device-overview-detail",A],enabled:A!==null,queryFn:()=>Av({employee_id:A??void 0,include_inactive:!0,offset:0,limit:1,device_limit:100})}),Q=He({queryKey:["employees","all-for-devices"],queryFn:()=>ya({include_inactive:!0,status:"all"})}),X=He({queryKey:["regions","devices-page"],queryFn:()=>ud({include_inactive:!0})}),V=Qe({mutationFn:({deviceId:de,isActive:q})=>Fj(de,{is_active:q}),onSuccess:de=>{i({variant:"success",title:de.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${de.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:de=>{i({variant:"error",title:"Cihaz durumu gncellenemedi",description:Be(de,"lem baarsz.").message})}}),ee=Q.data??[],$=X.data??[],J=I.data??[],ue=Z.data?.[0],ae=!M&&J.length===C,ce=!M&&S>1;return I.isLoading||Q.isLoading||X.isLoading?l.jsx(Wt,{}):I.isError?l.jsx(jt,{message:Be(I.error,"Cihaz verisi alnamad.").message}):Q.isError?l.jsx(jt,{message:Be(Q.error,"alan listesi alnamad.").message}):X.isError?l.jsx(jt,{message:Be(X.error,"Bolge listesi alinamadi.").message}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),l.jsxs(Le,{children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[l.jsx(Fa,{label:"alan filtresi",employees:ee,value:r,onChange:de=>{o(de),E(1),z(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",l.jsx("input",{type:"text",value:_,onChange:de=>{b(de.target.value),E(1),z(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",l.jsxs("select",{value:C,onChange:de=>{O(Number(de.target.value)),E(1),z(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",l.jsxs("select",{value:d,onChange:de=>{m(de.target.value),E(1),z(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum bolgeler"}),$.map(de=>l.jsx("option",{value:de.id,children:de.name},de.id))]})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:de=>{v(de.target.checked),E(1),z(null)}}),"Pasif alanlar gster"]})]}),M?null:l.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[l.jsx("button",{type:"button",disabled:!ce,onClick:()=>{E(de=>Math.max(1,de-1)),z(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),l.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),l.jsx("button",{type:"button",disabled:!ae,onClick:()=>{E(de=>de+1),z(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),l.jsxs(Le,{children:[l.jsx("div",{className:"max-h-[68vh] overflow-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 py-2",children:"alan"}),l.jsx("th",{className:"px-2 py-2",children:"Departman"}),l.jsx("th",{className:"px-2 py-2",children:"Durum"}),l.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),l.jsx("th",{className:"px-2 py-2",children:"Token"}),l.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),l.jsx("tbody",{children:J.map(de=>{const q=A===de.employee_id;return l.jsxs(w.Fragment,{children:[l.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"font-medium text-slate-900",children:["#",de.employee_id," - ",de.employee_name]})}),l.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:de.department_name??de.department_id??"-"}),l.jsx("td",{className:"px-2 py-2",children:l.jsx(Tl,{value:de.is_employee_active?"Aktif":"Pasif"})}),l.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[l.jsx("span",{className:"font-semibold",children:de.active_devices})," aktif / ",de.total_devices," toplam"]}),l.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",de.token_used," B:",de.token_pending," D:",de.token_expired," T:",de.token_total]}),l.jsx("td",{className:"px-2 py-2 text-right",children:l.jsx("button",{type:"button",onClick:()=>{z(se=>se===de.employee_id?null:de.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:q?"Kapat":"Cihazlar Ynet"})})]}),q?l.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:l.jsx("td",{colSpan:6,className:"px-2 py-3",children:Z.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):Z.isError?l.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):ue?l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-left text-xs",children:[l.jsx("thead",{className:"uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Cihaz ID"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Fingerprint"}),l.jsx("th",{className:"py-2",children:"Oluturulma"}),l.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),l.jsx("tbody",{children:ue.devices.map(se=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:se.id}),l.jsx("td",{className:"py-2",children:l.jsx(Tl,{value:se.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2 font-mono",children:se.device_fingerprint}),l.jsx("td",{className:"py-2",children:dA(se.created_at)}),l.jsx("td",{className:"py-2 text-right",children:l.jsx("button",{type:"button",disabled:V.isPending,onClick:()=>V.mutate({deviceId:se.id,isActive:!se.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${se.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:se.is_active?"Pasife Al":"Aktif Et"})})]},se.id))})]}),ue.has_more_devices?l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,ue.devices.length===0?l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},de.employee_id)})})]})}),J.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]})]})}function hA(){const t=Dn(),{pushToast:i}=Fn(),r=He({queryKey:["compliance-settings"],queryFn:Xj}),[o,d]=w.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});w.useEffect(()=>{r.data&&d({name:r.data.name,weekly_normal_minutes_default:r.data.weekly_normal_minutes_default,daily_max_minutes:r.data.daily_max_minutes,enforce_min_break_rules:r.data.enforce_min_break_rules,night_work_max_minutes_default:r.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:r.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:r.data.overtime_annual_cap_minutes,overtime_premium:r.data.overtime_premium,extra_work_premium:r.data.extra_work_premium,overtime_rounding_mode:r.data.overtime_rounding_mode})},[r.data]);const m=Qe({mutationFn:Jj,onSuccess:()=>{i({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{i({variant:"error",title:"Kayit hatasi",description:Be(p,"Ayarlar kaydedilemedi.").message})}});return r.isLoading?l.jsx(Wt,{}):r.isError?l.jsx(jt,{message:Be(r.error,"Uyumluluk ayarlari alinamadi.").message}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),l.jsx(Le,{children:l.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),m.mutate(o)},children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",l.jsx("input",{value:o.name,onChange:p=>d(v=>({...v,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",l.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(v=>({...v,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",l.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(v=>({...v,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",l.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(v=>({...v,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",l.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(v=>({...v,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",l.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(v=>({...v,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",l.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(v=>({...v,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",l.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(v=>({...v,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"OFF",children:"OFF"}),l.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[l.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(v=>({...v,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[l.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(v=>({...v,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),l.jsx("div",{className:"md:col-span-2",children:l.jsx("button",{type:"submit",disabled:m.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:m.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),l.jsx("p",{className:"font-semibold",children:l.jsx(It,{minutes:o.weekly_normal_minutes_default})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),l.jsx("p",{className:"font-semibold",children:l.jsx(It,{minutes:o.daily_max_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),l.jsx("p",{className:"font-semibold",children:l.jsx(It,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const Fm=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Fo(){return Object.fromEntries(Fm.map(t=>[t.key,{read:!1,write:!1}]))}function mA(t){const i=Fo();return t&&Fm.forEach(({key:r})=>{const o=t[r];o&&(i[r]={read:!!(o.read||o.write),write:!!o.write})}),i}function a_({value:t,disabled:i=!1,onChange:r}){const o=(d,m,p)=>{const _={...t[d]??{read:!1,write:!1}};m==="read"?(_.read=p,p||(_.write=!1)):(_.write=p,p&&(_.read=!0)),r({...t,[d]:_})};return l.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"Modul"}),l.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),l.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),l.jsx("tbody",{children:Fm.map(d=>{const m=t[d.key]??{read:!1,write:!1};return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"px-3 py-2",children:d.label}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"checkbox",checked:m.read,disabled:i,onChange:p=>o(d.key,"read",p.target.checked)})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"checkbox",checked:m.write,disabled:i,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function s_(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Fo()}}function pA(){const t=Dn(),{pushToast:i}=Fn(),{hasPermission:r,isSuperAdmin:o}=au(),d=r("admin_users"),m=r("admin_users","write"),[p,v]=w.useState(s_()),[_,b]=w.useState(null),[S,E]=w.useState(""),[C,O]=w.useState(""),[A,z]=w.useState(""),[M,H]=w.useState(!0),[I,Z]=w.useState(!1),[Q,X]=w.useState(Fo()),V=He({queryKey:["admin-users"],queryFn:fj,enabled:d}),ee=Qe({mutationFn:pj,onSuccess:()=>{i({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),v(s_()),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const se=Be(q,"Admin kullanici olusturulamadi.");i({variant:"error",title:"Kayit basarisiz",description:se.message})}}),$=Qe({mutationFn:({userId:q,payload:se})=>gj(q,se),onSuccess:()=>{i({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),b(null),z(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const se=Be(q,"Admin kullanici guncellenemedi.");i({variant:"error",title:"Guncelleme basarisiz",description:se.message})}}),J=Qe({mutationFn:yj,onSuccess:()=>{i({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const se=Be(q,"Admin kullanici silinemedi.");i({variant:"error",title:"Silme basarisiz",description:se.message})}}),ue=w.useMemo(()=>[...V.data??[]].sort((se,U)=>se.username.localeCompare(U.username)),[V.data]);if(!d)return l.jsx(jt,{message:"Bu alani goruntuleme yetkiniz yok."});if(V.isLoading)return l.jsx(Wt,{label:"Admin kullanicilar yukleniyor..."});if(V.isError)return l.jsx(jt,{message:"Admin kullanici listesi alinamadi."});const ae=q=>{if(q.preventDefault(),!!m){if(!o){i({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}ee.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?Fo():p.permissions})}},ce=q=>{b(q),E(q.username),O(q.full_name??""),z(""),H(q.is_active),Z(q.is_super_admin),X(mA(q.permissions))},de=q=>{q.preventDefault(),!(!_||!m)&&$.mutate({userId:_.id,payload:{username:S.trim(),full_name:C.trim()||null,password:A.trim()?A:void 0,is_active:M,is_super_admin:I,permissions:I?Fo():Q}})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),l.jsxs(Le,{children:[l.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),l.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",l.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:l.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),l.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",l.jsx("input",{value:p.username,onChange:q=>v(se=>({...se,username:q.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",l.jsx("input",{value:p.full_name,onChange:q=>v(se=>({...se,full_name:q.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",l.jsx("input",{type:"password",value:p.password,onChange:q=>v(se=>({...se,password:q.target.value})),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!m||!o,onChange:q=>v(se=>({...se,is_active:q.target.checked}))}),"Aktif"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!m||!o,onChange:q=>v(se=>({...se,is_super_admin:q.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?l.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):l.jsx(a_,{value:p.permissions,disabled:!m||!o,onChange:q=>v(se=>({...se,permissions:q}))}),l.jsx("button",{type:"submit",disabled:!m||!o||ee.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ee.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{className:"py-2",children:"Kullanici"}),l.jsx("th",{className:"py-2",children:"Ad Soyad"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Rol"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:ue.map(q=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:q.id}),l.jsx("td",{className:"py-2 font-medium text-slate-900",children:q.username}),l.jsx("td",{className:"py-2",children:q.full_name??"-"}),l.jsx("td",{className:"py-2",children:l.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${q.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:q.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:q.is_super_admin?"Super Admin":"Yetkili Admin"}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",disabled:!m||!o,onClick:()=>ce(q),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),l.jsx("button",{type:"button",disabled:!m||!o||J.isPending,onClick:()=>{window.confirm(`${q.username} kullanicisini silmek istediginize emin misiniz?`)&&J.mutate(q.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},q.id))})]})}),ue.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),l.jsx(Qo,{open:!!_,title:"Admin Kullanici Duzenle",onClose:()=>{b(null),z("")},children:_?l.jsxs("form",{onSubmit:de,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",l.jsx("input",{value:S,onChange:q=>E(q.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",l.jsx("input",{value:C,onChange:q=>O(q.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",l.jsx("input",{type:"password",value:A,onChange:q=>z(q.target.value),disabled:!m||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:M,disabled:!m||!o,onChange:q=>H(q.target.checked)}),"Aktif"]}),l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:I,disabled:!m||!o,onChange:q=>Z(q.target.checked)}),"Super Admin"]})]}),I?l.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):l.jsx(a_,{value:Q,disabled:!m||!o,onChange:X}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{b(null),z("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),l.jsx("button",{type:"submit",disabled:!m||!o||$.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:$.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function r_({label:t,value:i,onCopy:r}){return l.jsxs("label",{className:"block text-sm text-slate-700",children:[t,l.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[l.jsx("input",{readOnly:!0,value:i,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),l.jsx("button",{type:"button",onClick:()=>r(i),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}const gA=Ji({home_lat:ln().min(-90),home_lon:ln().min(-180),radius_m:ln().int().positive().max(2e3)}),yA=Ji({expires_in_minutes:ln().int().positive().max(1440)});function vA(){const t=LS(),i=Dn(),{pushToast:r}=Fn(),o=Number(t.id),[d,m]=w.useState("41.0"),[p,v]=w.useState("29.0"),[_,b]=w.useState("120"),[S,E]=w.useState(null),[C,O]=w.useState(!1),[A,z]=w.useState("60"),[M,H]=w.useState(null),[I,Z]=w.useState(null),[Q,X]=w.useState(null),[V,ee]=w.useState(""),$=He({queryKey:["employees","all"],queryFn:()=>ya({status:"all"})}),J=He({queryKey:["employee-location",o],queryFn:()=>wj(o),enabled:Number.isFinite(o),retry:!1}),ue=w.useMemo(()=>$.data?.find(k=>k.id===o),[$.data,o]),ae=He({queryKey:["department-shifts",ue?.department_id],queryFn:()=>iu(ue?.department_id?{department_id:ue.department_id,active_only:!1}:void 0),enabled:!!ue?.department_id}),ce=Qe({mutationFn:k=>Ej(o,k),onSuccess:()=>{E(null),r({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${o} icin konum kaydedildi.`}),i.invalidateQueries({queryKey:["employee-location",o]})},onError:k=>{const Y=Be(k,"Konum kaydedilemedi.").message;E(Y),r({variant:"error",title:"Konum kaydedilemedi",description:Y})}}),de=Qe({mutationFn:k=>Vx(o,{is_active:k}),onSuccess:k=>{r({variant:"success",title:k.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${k.full_name} icin durum guncellendi.`}),i.invalidateQueries({queryKey:["employees"]})},onError:k=>{r({variant:"error",title:"Durum guncellenemedi",description:Be(k,"Islem basarisiz.").message})}}),q=Qe({mutationFn:k=>Nj(o,{shift_id:k}),onSuccess:k=>{r({variant:"success",title:"Vardiya atamasi guncellendi",description:`${k.full_name} icin vardiya kaydedildi.`}),i.invalidateQueries({queryKey:["employees"]})},onError:k=>{r({variant:"error",title:"Vardiya atamasi basarisiz",description:Be(k,"Islem basarisiz.").message})}}),se=Qe({mutationFn:e0,onSuccess:k=>{H(null),Z(k.token),X(k.invite_url),r({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${o} icin davet hazir.`})},onError:k=>{const Y=Be(k,"Cihaz daveti olusturulamadi.").message;H(Y),r({variant:"error",title:"Davet olusturulamadi",description:Y})}});w.useEffect(()=>{J.data&&(m(String(J.data.home_lat)),v(String(J.data.home_lon)),b(String(J.data.radius_m)))},[J.data]),w.useEffect(()=>{ue&&ee(ue.shift_id?String(ue.shift_id):"")},[ue?.id,ue?.shift_id,ue]);const U=async k=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(k);else{const Y=document.createElement("textarea");Y.value=k,document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}r({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{r({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},P=()=>{H(null),Z(null),X(null),z("60"),O(!0)},re=k=>{k.preventDefault(),H(null);const Y=yA.safeParse({expires_in_minutes:A});if(!Y.success){const F=Y.error.issues[0]?.message??"Sure alanini kontrol edin.";H(F),r({variant:"error",title:"Form hatasi",description:F});return}se.mutate({employee_id:o,expires_in_minutes:Y.data.expires_in_minutes})};if(!Number.isFinite(o))return l.jsx(jt,{message:"Gecersiz calisan id degeri."});if($.isLoading)return l.jsx(Wt,{});if($.isError||!ue)return l.jsx(jt,{message:"Calisan kaydi bulunamadi."});const Ee=k=>{k.preventDefault(),E(null);const Y=gA.safeParse({home_lat:d,home_lon:p,radius_m:_});if(!Y.success){const F=Y.error.issues[0]?.message??"Konum alanlarini kontrol edin.";E(F),r({variant:"error",title:"Form hatasi",description:F});return}ce.mutate(Y.data)},Se=!!J.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:`Calisan Detayi #${ue.id}`,description:`${ue.full_name} icin konum, vardiya, arsiv durumu ve cihaz daveti islemleri`,action:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{const k=!ue.is_active;window.confirm(k?`${ue.full_name} arsivden cikarilsin mi?`:`${ue.full_name} arsivlensin mi?`)&&de.mutate(k)},disabled:de.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${ue.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:ue.is_active?"Arsivle":"Arsivden Cikar (Aktif Et)"}),l.jsx("button",{type:"button",onClick:P,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),l.jsxs(Le,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Calisan ID: ",ue.id]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Departman ID: ",ue.department_id??"-"]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Durum: ",ue.is_active?"Aktif":"Arsivde"]}),l.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",l.jsxs("select",{value:V,onChange:k=>ee(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!ue.department_id||ae.isLoading,children:[l.jsx("option",{value:"",children:"Atanmamis"}),(ae.data??[]).map(k=>l.jsxs("option",{value:k.id,children:[k.name," (",k.start_time_local,"-",k.end_time_local,")"]},k.id))]})]}),l.jsx("button",{type:"button",disabled:q.isPending||!ue.department_id,onClick:()=>{const k=V?Number(V):null;q.mutate(k)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:q.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),J.isError?l.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}):null,l.jsxs("form",{onSubmit:Ee,className:"mt-4 grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",l.jsx("input",{value:d,onChange:k=>m(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",l.jsx("input",{value:p,onChange:k=>v(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",l.jsx("input",{value:_,onChange:k=>b(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("button",{type:"submit",disabled:ce.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ce.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):Se?"Konumu Guncelle":"Konumu Kaydet"})})]}),S?l.jsx("p",{className:"form-validation",children:S}):null]}),l.jsxs(Qo,{open:C,title:"Cihaz Baglama Linki Olustur",onClose:()=>O(!1),children:[l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",l.jsx("input",{value:A,onChange:k=>z(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsx("button",{type:"submit",disabled:se.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:se.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),l.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),M?l.jsx("p",{className:"form-validation",children:M}):null,I&&Q?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(r_,{label:"Token",value:I,onCopy:U}),l.jsx(r_,{label:"Baglanti Linki (invite_url)",value:Q,onCopy:U})]}):null]})]})}const _A={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},xA={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Mc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},D0="Europe/Istanbul";function wh(t){const i=[];t.status==="INCOMPLETE"&&i.push("EKSIK_GUN");for(const r of t.flags)i.push(r);return i}function l_(t){if(!t)return"";const i=new Date(t);return Number.isNaN(i.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:D0,hour:"2-digit",minute:"2-digit",hour12:!1}).format(i)}function o_(t){if(!t)return"-";const i=new Date(t);return Number.isNaN(i.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:D0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(i)}function u_(t){if(!t)return{status:"NORMAL",reason:""};const i=(t.note??"").trim(),r=i.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return r?{status:r[1].toUpperCase(),reason:i.replace(r[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:i}:{status:"NORMAL",reason:i}}function bA(t,i){const r=i.trim();if(t==="NORMAL")return r||null;const o=`[MANUAL_STATUS:${t}]`;return r?`${o} ${r}`:o}function NA(){const t=Dn(),{pushToast:i}=Fn(),r=new Date,o={employeeId:"",year:String(r.getFullYear()),month:String(r.getMonth()+1)},[d,m]=w.useState(o),[p,v]=w.useState(o),[_,b]=w.useState(!1),[S,E]=w.useState(null),[C,O]=w.useState(!1),[A,z]=w.useState(!1),[M,H]=w.useState(""),[I,Z]=w.useState(""),[Q,X]=w.useState(""),[V,ee]=w.useState(""),[$,J]=w.useState("NORMAL"),[ue,ae]=w.useState("AUTO"),[ce,de]=w.useState(""),[q,se]=w.useState(null),[U,P]=w.useState(null),re=He({queryKey:["employees","all"],queryFn:()=>ya({status:"all"})}),Ee=Number(p.employeeId),Se=Number(p.year),k=Number(p.month),Y=Number.isFinite(Ee)&&Ee>0&&Number.isFinite(Se)&&Se>0&&Number.isFinite(k)&&k>=1&&k<=12,F=He({queryKey:["employee-monthly",Ee,Se,k],queryFn:()=>Qj({employee_id:Ee,year:Se,month:k}),enabled:Y}),W=He({queryKey:["manual-overrides",Ee,Se,k],queryFn:()=>Yj(Ee,Se,k),enabled:Y}),ge=Qe({mutationFn:({employeeId:ve,dayDate:G,inTime:ze,outTime:St,status:Ye,ruleSource:Cn,ruleShiftId:Yt,reason:yi})=>{const kn=Ye!=="NORMAL";return Gj(ve,{day_date:G,in_time:kn?null:ze||null,out_time:kn?null:St||null,is_absent:kn,rule_source_override:Cn,rule_shift_id_override:Cn==="SHIFT"&&Yt?Number(Yt):null,note:bA(Ye,yi)})},onSuccess:()=>{i({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),z(!1),P(null),de(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:ve=>{i({variant:"error",title:"Duzeltme kaydedilemedi",description:Be(ve,"Islem basarisiz.").message})}}),we=Qe({mutationFn:$j,onSuccess:()=>{i({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),z(!1),P(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:ve=>{i({variant:"error",title:"Silme islemi basarisiz",description:Be(ve,"Islem basarisiz.").message})}}),Ce=w.useMemo(()=>re.data?.find(ve=>ve.id===Ee),[re.data,Ee]),Ke=Ce?.full_name,qe=He({queryKey:["monthly-manual-shifts",Ce?.department_id],queryFn:()=>iu(Ce?.department_id?{department_id:Ce.department_id,active_only:!1}:void 0),enabled:!!Ce?.department_id}),Tt=w.useMemo(()=>{const ve=new Map;for(const G of W.data??[])ve.set(G.day_date,G);return ve},[W.data]),at=F.data?.days??[],en=w.useMemo(()=>at.reduce((ve,G)=>ve+(G.missing_minutes??0),0),[at]),Zt=w.useMemo(()=>at.filter(ve=>!(_&&wh(ve).length===0||S&&!ve.flags.includes(S))),[at,S,_]),hn=w.useMemo(()=>at.filter(ve=>wh(ve).length>0).length,[at]),_n=w.useMemo(()=>{const ve=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],G=new Map;for(const ze of ve)G.set(ze,0);for(const ze of at)for(const St of ve)ze.flags.includes(St)&&G.set(St,(G.get(St)??0)+1);return ve.map(ze=>({code:ze,count:G.get(ze)??0}))},[at]),mn=w.useMemo(()=>{const ve=[];return p.employeeId&&ve.push(`Calisan: ${p.employeeId}`),ve.push(`Yil: ${p.year}`),ve.push(`Ay: ${p.month}`),_&&ve.push("Sadece supheli gunler"),S&&ve.push(`Cakisma: ${Ua(S).label}`),ve},[p,S,_]),xn=()=>v({...d}),pn=()=>{m(o),v(o),b(!1),E(null)},Tn=async()=>{if(!Y){i({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{O(!0);const ve=await e1({employee_id:Ee,year:Se,month:k}),G=window.URL.createObjectURL(ve),ze=document.createElement("a");ze.href=G,ze.download=`puantaj-employee-${Ee}-${Se}-${String(k).padStart(2,"0")}.xlsx`,document.body.appendChild(ze),ze.click(),ze.remove(),window.URL.revokeObjectURL(G)}catch(ve){i({variant:"error",title:"Excel indirilemedi",description:Be(ve,"Dosya olusturulamadi.").message})}finally{O(!1)}},te=ve=>{const G=Tt.get(ve.date),ze=u_(G);H(ve.date),se(G?.id??null),J(ze.status),ee(ze.reason),Z(G?l_(G.in_ts):""),X(G?l_(G.out_ts):""),ae(G?.rule_source_override??"AUTO"),de(G?.rule_shift_id_override?String(G.rule_shift_id_override):ve.shift_id?String(ve.shift_id):""),P(null),z(!0)},je=()=>{if(!Y||at.length===0){i({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}te(at[0])},We=()=>{if(P(null),!M)return P("Duzeltme icin tarih secmelisiniz."),!1;if($==="NORMAL"){if(!I&&!Q)return P("Normal gun icin en az bir saat bilgisi girin."),!1;if(I&&Q&&Q<I)return P("Cikis saati giris saatinden kucuk olamaz."),!1}return ue==="SHIFT"&&!ce?(P("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},zt=ve=>{ve.preventDefault(),Y&&We()&&ge.mutate({employeeId:Ee,dayDate:M,inTime:I,outTime:Q,status:$,ruleSource:ue,ruleShiftId:ce,reason:V})};if(re.isLoading)return l.jsx(Wt,{});if(re.isError)return l.jsx(jt,{message:"Calisan listesi alinamadi."});const vt=re.data??[];return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:je,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),l.jsx("button",{type:"button",onClick:()=>{Tn()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),l.jsx(Xo,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsx(Fa,{label:"Calisan",employees:vt,value:d.employeeId,onChange:ve=>m(G=>({...G,employeeId:ve})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",l.jsx("input",{type:"number",value:d.year,onChange:ve=>m(G=>({...G,year:ve.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{type:"number",value:d.month,onChange:ve=>m(G=>({...G,month:ve.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:_,onChange:ve=>b(ve.target.checked)}),"Sadece supheli gunleri goster"]})}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:xn,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:pn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:mn.map(ve=>l.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:ve},ve))})]}),Y?null:l.jsx(jt,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),F.isLoading?l.jsx(Wt,{}):null,F.isError?l.jsx(jt,{message:Be(F.error,"Aylik rapor alinamadi.").message}):null,F.data?l.jsxs(l.Fragment,{children:[l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),l.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",Ke??F.data.employee_id," | Donem:"," ",F.data.year,"-",F.data.month]}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-5",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:F.data.totals.worked_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Fazla Mesai"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:F.data.totals.overtime_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),l.jsx("p",{className:"text-lg font-semibold",children:F.data.totals.incomplete_days})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),l.jsx("p",{className:"text-lg font-semibold",children:hn})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:en})})]})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:F.data.worked_minutes_net})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:F.data.annual_overtime_used_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),l.jsx("p",{className:"text-lg font-semibold",children:l.jsx(It,{minutes:F.data.annual_overtime_remaining_minutes})})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),l.jsx("p",{className:`text-sm font-semibold ${F.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:F.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),l.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:f1().map(ve=>l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold",title:Ua(ve).description,children:Ua(ve).label})," ","(",ve,"): ",Ua(ve).description]},ve))})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?l.jsx("button",{type:"button",onClick:()=>E(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,l.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:_n.map(ve=>l.jsxs("button",{type:"button",onClick:()=>{E(G=>G===ve.code?null:ve.code),b(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===ve.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[l.jsx("p",{className:"text-xs text-slate-500",title:Ua(ve.code).description,children:Ua(ve.code).label}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ve.count})]},ve.code))})]}),Zt.length===0?l.jsx(Le,{children:l.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):l.jsx(Le,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Tarih"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Giris"}),l.jsx("th",{className:"py-2",children:"Cikis"}),l.jsx("th",{className:"py-2",children:"Calisma"}),l.jsx("th",{className:"py-2",children:"Fazla Mesai"}),l.jsx("th",{className:"py-2",children:"Eksik Sure"}),l.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Izin"}),l.jsx("th",{className:"py-2",children:"Supheli Neden"}),l.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),l.jsx("tbody",{children:Zt.map(ve=>{const G=wh(ve),ze=G.length>0,St=Tt.get(ve.date),Ye=u_(St),Cn=ve.flags.includes("MANUAL_OVERRIDE")||ve.flags.includes("MANUAL_EVENT")||!!St,Yt=Ye.status!=="NORMAL";return l.jsxs("tr",{className:`border-t border-slate-100 ${ze?"bg-amber-50/40":""}`,children:[l.jsx("td",{className:"py-2",children:ve.date}),l.jsxs("td",{className:"py-2",children:[l.jsx(Tl,{value:ve.status}),Cn?l.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,Yt?l.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:_A[Ye.status]}):null,l.jsx("span",{className:"ml-2",children:l.jsx(n0,{suspicious:ze})})]}),l.jsx("td",{className:"py-2",title:ve.in??void 0,children:o_(ve.in)}),l.jsx("td",{className:"py-2",title:ve.out??void 0,children:o_(ve.out)}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:ve.worked_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:ve.overtime_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:ve.missing_minutes??0})}),l.jsx("td",{className:"py-2",children:l.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${ve.applied_planned_minutes} dk | Mola: ${ve.applied_break_minutes} dk`,children:xA[ve.rule_source]})}),l.jsx("td",{className:"py-2",children:ve.shift_name??"-"}),l.jsx("td",{className:"py-2",children:ve.leave_type??"-"}),l.jsx("td",{className:"py-2",children:l.jsx(i0,{reasons:G})}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>te(ve),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},ve.date)})})]})})})]}):null,l.jsx(Qo,{open:A,title:M?`${M} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>z(!1),children:l.jsxs("form",{onSubmit:zt,className:"space-y-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",l.jsx("input",{type:"date",value:M,onChange:ve=>H(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",l.jsxs("select",{value:$,onChange:ve=>J(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"NORMAL",children:"Normal"}),l.jsx("option",{value:"IZINLI",children:"Izinli"}),l.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),l.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",l.jsxs("select",{value:ue,onChange:ve=>{const G=ve.target.value;ae(G),G!=="SHIFT"&&de("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"AUTO",children:Mc.AUTO}),l.jsx("option",{value:"SHIFT",children:Mc.SHIFT}),l.jsx("option",{value:"WEEKLY",children:Mc.WEEKLY}),l.jsx("option",{value:"WORK_RULE",children:Mc.WORK_RULE})]})]}),ue==="SHIFT"?l.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",l.jsxs("select",{value:ce,onChange:ve=>de(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Vardiya seciniz"}),(qe.data??[]).map(ve=>l.jsxs("option",{value:ve.id,children:[ve.name," (",ve.start_time_local," - ",ve.end_time_local,")"]},ve.id))]})]}):null,l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",l.jsx("input",{type:"time",value:I,onChange:ve=>Z(ve.target.value),disabled:$!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",l.jsx("input",{type:"time",value:Q,onChange:ve=>X(ve.target.value),disabled:$!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),$==="NORMAL"?l.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):l.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",l.jsx("input",{type:"text",value:V,onChange:ve=>ee(ve.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),U?l.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:U}):null,l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:ge.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ge.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),q?l.jsx("button",{type:"button",onClick:()=>we.mutate(q),disabled:we.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:we.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const SA=Ji({full_name:Gi().min(2,"Ad soyad en az 2 karakter olmali."),region_id:ed([ln().int().positive(),fm()]),department_id:ed([ln().int().positive(),fm()]),is_active:md()});function wA(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState(""),[p,v]=w.useState(""),[_,b]=w.useState(!0),[S,E]=w.useState(""),[C,O]=w.useState(!1),[A,z]=w.useState(!1),[M,H]=w.useState(""),[I,Z]=w.useState(null),Q=He({queryKey:["employees",A,M],queryFn:()=>ya({...A?{include_inactive:!0}:{},...M?{region_id:Number(M)}:{}})}),X=He({queryKey:["departments"],queryFn:wr}),V=He({queryKey:["regions","employees-page"],queryFn:()=>ud({include_inactive:!0})}),ee=Qe({mutationFn:bj,onSuccess:P=>{o(""),m(""),v(""),b(!0),Z(null),O(!1),i({variant:"success",title:"Calisan olusturuldu",description:`${P.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:P=>{const re=Be(P,"Calisan olusturulamadi.").message;Z(re),i({variant:"error",title:"Calisan olusturulamadi",description:re})}}),$=Qe({mutationFn:({employeeId:P,nextStatus:re})=>Vx(P,{is_active:re}),onSuccess:P=>{i({variant:"success",title:P.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${P.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:P=>{const re=Be(P,"Calisan durumu guncellenemedi.").message;i({variant:"error",title:"Islem basarisiz",description:re})}}),J=P=>{P.preventDefault(),Z(null);const re=d.trim()===""?null:Number(d),Ee=p.trim()===""?null:Number(p),Se=SA.safeParse({full_name:r,region_id:re,department_id:Ee,is_active:_});if(!Se.success){const k=Se.error.issues[0]?.message??"Calisan formunu kontrol edin.";Z(k),i({variant:"error",title:"Form hatasi",description:k});return}ee.mutate(Se.data)},ue=Q.data??[],ae=X.data??[],ce=V.data??[],de=new Map(ae.map(P=>[P.id,P.name])),q=new Map(ce.map(P=>[P.id,P.name])),se=w.useMemo(()=>{const P=d?Number(d):null;return P?ae.filter(re=>re.region_id===P):ae},[ae,d]),U=w.useMemo(()=>{const P=S.trim().toLowerCase();return P?ue.filter(re=>re.full_name.toLowerCase().includes(P)):ue},[ue,S]);return Q.isLoading||X.isLoading||V.isLoading?l.jsx(Wt,{}):Q.isError||X.isError||V.isError?l.jsx(jt,{message:"Calisan verileri alinamadi."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:l.jsx("button",{type:"button",onClick:()=>O(P=>!P),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?l.jsxs(Le,{children:[l.jsxs("form",{onSubmit:J,className:"grid gap-3 md:grid-cols-5",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",l.jsx("input",{value:r,onChange:P=>o(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",l.jsxs("select",{value:d,onChange:P=>{m(P.target.value),v("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Atanmamis"}),ce.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:p,onChange:P=>v(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Atanmamis"}),se.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:_,onChange:P=>b(P.target.checked)}),"Aktif"]}),l.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[l.jsx("button",{type:"submit",disabled:ee.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ee.isPending?"Kaydediliyor...":"Kaydet"}),l.jsx("button",{type:"button",onClick:()=>{O(!1),Z(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),I?l.jsx("div",{className:"form-validation",children:I}):null]}):null,l.jsxs(Le,{children:[l.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-4",children:[l.jsx(El,{value:S,onChange:E,placeholder:"Calisan adina gore ara..."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",l.jsxs("select",{value:M,onChange:P=>H(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tum bolgeler"}),ce.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:A,onChange:P=>z(P.target.checked)}),"Arsivdekileri goster"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Calisan ID"}),l.jsx("th",{className:"py-2",children:"Ad Soyad"}),l.jsx("th",{className:"py-2",children:"Bolge"}),l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:U.map(P=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:P.id}),l.jsx("td",{className:"py-2",children:P.full_name}),l.jsx("td",{className:"py-2",children:P.region_name??(P.region_id?q.get(P.region_id):"-")??"-"}),l.jsx("td",{className:"py-2",children:P.department_id?de.get(P.department_id):"-"}),l.jsx("td",{className:"py-2",children:l.jsx(Tl,{value:P.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Xo,{to:`/employees/${P.id}`,className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),l.jsx("button",{type:"button",disabled:$.isPending,onClick:()=>{const re=!P.is_active;window.confirm(re?`${P.full_name} arsivden cikarilsin mi?`:`${P.full_name} arsivlensin mi?`)&&$.mutate({employeeId:P.id,nextStatus:re})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${P.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:P.is_active?"Arsivle":"Arsivden Cikar"})]})})]},P.id))})]})}),U.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const EA=Ji({employee_id:ln().int().positive(),start_date:Gi().min(1),end_date:Gi().min(1),type:mm(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:mm(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:Gi().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function jA(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState(""),[p,v]=w.useState(""),[_,b]=w.useState("ANNUAL"),[S,E]=w.useState("APPROVED"),[C,O]=w.useState(""),[A,z]=w.useState(null),[M,H]=w.useState(""),[I,Z]=w.useState(String(new Date().getFullYear())),[Q,X]=w.useState(String(new Date().getMonth()+1)),V=He({queryKey:["employees"],queryFn:()=>ya({include_inactive:!0,status:"all"})}),ee=w.useMemo(()=>{const se=Number(M),U=Number(I),P=Number(Q);return{employee_id:Number.isFinite(se)&&se>0?se:void 0,year:Number.isFinite(U)&&U>0?U:void 0,month:Number.isFinite(P)&&P>0?P:void 0}},[M,I,Q]),$=He({queryKey:["leaves",ee.employee_id??"all",ee.year??"all",ee.month??"all"],queryFn:()=>Wx(ee)}),J=Qe({mutationFn:Hj,onSuccess:se=>{m(""),v(""),b("ANNUAL"),E("APPROVED"),O(""),z(null),i({variant:"success",title:"zin kayd oluturuldu",description:`zin #${se.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:se=>{const U=Be(se,"zin kayd oluturulamad.");z(U.message),i({variant:"error",title:"zin oluturulamad",description:U.message})}}),ue=Qe({mutationFn:Kj,onSuccess:(se,U)=>{i({variant:"success",title:"zin kayd silindi",description:`zin #${U} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:se=>{const U=Be(se,"zin silinemedi.");i({variant:"error",title:"zin silinemedi",description:U.message})}}),ae=se=>{se.preventDefault(),z(null);const U=EA.safeParse({employee_id:r,start_date:d,end_date:p,type:_,status:S,note:C});if(!U.success){const P=U.error.issues[0]?.message??"zin formunu kontrol edin.";z(P),i({variant:"error",title:"Form hatas",description:P});return}J.mutate({...U.data,note:U.data.note||null})};if(V.isLoading)return l.jsx(Wt,{});if(V.isError)return l.jsx(jt,{message:"alan listesi alnamad."});const ce=V.data??[],de=$.data??[],q=new Map(ce.map(se=>[se.id,se.full_name]));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),l.jsxs("form",{onSubmit:ae,className:"mt-4 grid gap-3 md:grid-cols-3",children:[l.jsx(Fa,{label:"alan",employees:ce,value:r,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",l.jsx("input",{type:"date",value:d,onChange:se=>m(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",l.jsx("input",{type:"date",value:p,onChange:se=>v(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",l.jsxs("select",{value:_,onChange:se=>b(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),l.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),l.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),l.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),l.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",l.jsxs("select",{value:S,onChange:se=>E(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"APPROVED",children:"ONAYLI"}),l.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),l.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",l.jsx("textarea",{value:C,onChange:se=>O(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("button",{type:"submit",disabled:J.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:J.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),A?l.jsx("div",{className:"form-validation",children:A}):null]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),l.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[l.jsx(Fa,{label:"alan",employees:ce,value:M,onChange:H,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",l.jsx("input",{value:I,onChange:se=>Z(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{value:Q,onChange:se=>X(se.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),$.isLoading?l.jsx(Wt,{}):null,$.isError?l.jsx(jt,{message:"zin listesi alnamad."}):null,!$.isLoading&&!$.isError?l.jsxs(Le,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"zin ID"}),l.jsx("th",{className:"py-2",children:"alan"}),l.jsx("th",{className:"py-2",children:"zin Tipi"}),l.jsx("th",{className:"py-2",children:"Tarih Aral"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"lem"})]})}),l.jsx("tbody",{children:de.map(se=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:se.id}),l.jsx("td",{className:"py-2",children:q.get(se.employee_id)??se.employee_id}),l.jsx("td",{className:"py-2",children:se.type}),l.jsxs("td",{className:"py-2",children:[se.start_date," - ",se.end_date]}),l.jsx("td",{className:"py-2",children:l.jsx(Tl,{value:se.status})}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>ue.mutate(se.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},se.id))})]})}),de.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const TA=Ji({username:Gi().min(1,"Kullanc ad gerekli."),password:Gi().min(1,"ifre gerekli.")});function CA(t){return t.code==="INVALID_CREDENTIALS"?"Giri bilgileri hatal":t.code==="TOO_MANY_ATTEMPTS"?"ok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatas":"Giri baarsz"}function kA(){const t=wm(),i=$i(),{login:r}=au(),[o,d]=w.useState("admin"),[m,p]=w.useState(""),[v,_]=w.useState(null),[b,S]=w.useState(!1),E=w.useMemo(()=>{const O=i.state?.from,A=new URLSearchParams(i.search).get("redirect");return O??A??"/dashboard"},[i.search,i.state]),C=async O=>{O.preventDefault(),_(null);const A=TA.safeParse({username:o,password:m});if(!A.success){_({message:A.error.issues[0]?.message??"Form alanlarn kontrol et."});return}S(!0);try{await r(A.data.username,A.data.password),t(E,{replace:!0})}catch(z){_(Be(z,"Giri baarsz."))}finally{S(!1)}};return l.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:l.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giri"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj ynetim paneline giri yap."}),l.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanc Ad"}),l.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:O=>d(O.target.value)})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"ifre"}),l.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:m,onChange:O=>p(O.target.value)})]}),v?l.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[l.jsx("p",{className:"font-semibold",children:CA(v)}),l.jsx("p",{className:"mt-1",children:v.message}),v.requestId?l.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",v.requestId]}):null]}):null,l.jsx("button",{type:"submit",disabled:b,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:b?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giri yaplyor..."]}):"Giri Yap"})]}),l.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[Sl.signatureText," | BUILD: ",Sl.buildVersion]})]})})}function AA(){return l.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[l.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),l.jsx(Xo,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),l.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:Sl.signatureText})]})})}function c_(t,i){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=i,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r)}function zA(){const{pushToast:t}=Fn(),i=new Date,[r,o]=w.useState("employee"),[d,m]=w.useState(""),[p,v]=w.useState(""),[_,b]=w.useState(String(i.getFullYear())),[S,E]=w.useState(String(i.getMonth()+1)),[C,O]=w.useState(""),[A,z]=w.useState(""),[M,H]=w.useState(!0),[I,Z]=w.useState(!1),[Q,X]=w.useState(""),[V,ee]=w.useState(""),[$,J]=w.useState("consolidated"),[ue,ae]=w.useState(""),[ce,de]=w.useState(""),q=He({queryKey:["employees","all"],queryFn:()=>ya({status:"all",include_inactive:!0})}),se=He({queryKey:["departments"],queryFn:wr}),U=Qe({mutationFn:Wj,onSuccess:W=>{c_(W,`puantaj-${r}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:W=>{t({variant:"error",title:"Da aktarma baarsz",description:Be(W,"Excel dosyas retilemedi.").message})}}),P=Qe({mutationFn:i1,onSuccess:W=>{c_(W,`puantaj-range-${$}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:W=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:Be(W,"Excel dosyas retilemedi.").message})}}),re=w.useMemo(()=>{const W=Number(_),ge=Number(S),we=Number(d),Ce=Number(p);return r==="employee"?!we||!W||!ge?null:{mode:r,employee_id:we,year:W,month:ge}:r==="department"?!Ce||!W||!ge?null:{mode:r,department_id:Ce,year:W,month:ge,include_daily_sheet:M,include_inactive:I}:r==="all"?!W||!ge?null:{mode:r,year:W,month:ge,include_daily_sheet:M,include_inactive:I}:!C||!A?null:{mode:r,start_date:C,end_date:A,employee_id:we||void 0,department_id:Ce||void 0,include_inactive:I}},[r,d,p,_,S,C,A,M,I]),Ee=w.useMemo(()=>{const W=Number(ce),ge=Number(ue);return!Q||!V?null:{start_date:Q,end_date:V,mode:$,employee_id:W>0?W:void 0,department_id:ge>0?ge:void 0}},[Q,V,$,ce,ue]),Se=()=>{if(!re){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}U.mutate(re)},k=()=>{if(!Ee){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}P.mutate(Ee)};if(q.isLoading||se.isLoading)return l.jsx(Wt,{});if(q.isError||se.isError)return l.jsx(jt,{message:"alan/departman bilgileri alnamad."});const Y=q.data??[],F=se.data??[];return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",l.jsxs("select",{value:r,onChange:W=>o(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"employee",children:"alan Bazl"}),l.jsx("option",{value:"department",children:"Departman Bazl"}),l.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),l.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(r==="employee"||r==="date_range")&&l.jsx(Fa,{label:"alan",employees:Y,value:d,onChange:m,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(r==="department"||r==="date_range")&&l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:p,onChange:W=>v(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seiniz"}),F.map(W=>l.jsxs("option",{value:W.id,children:["#",W.id," - ",W.name]},W.id))]})]}),(r==="employee"||r==="department"||r==="all")&&l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",l.jsx("input",{type:"number",value:_,onChange:W=>b(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",l.jsx("input",{type:"number",value:S,onChange:W=>E(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),r==="date_range"&&l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",l.jsx("input",{type:"date",value:C,onChange:W=>O(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",l.jsx("input",{type:"date",value:A,onChange:W=>z(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(r==="department"||r==="all")&&l.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:M,onChange:W=>H(W.target.checked)}),"Gnlk sheetleri de ekle"]}),l.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:I,onChange:W=>Z(W.target.checked)}),"Arivdeki alanlar dahil et"]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{type:"button",onClick:Se,disabled:U.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:U.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),l.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",l.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",l.jsx("input",{type:"date",value:Q,onChange:W=>X(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",l.jsx("input",{type:"date",value:V,onChange:W=>ee(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",l.jsxs("select",{value:$,onChange:W=>J(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),l.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),l.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",l.jsxs("select",{value:ue,onChange:W=>ae(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tm"}),F.map(W=>l.jsxs("option",{value:W.id,children:["#",W.id," - ",W.name]},W.id))]})]}),l.jsx(Fa,{label:"alan (opsiyonel)",employees:Y,value:ce,onChange:de,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{type:"button",onClick:k,disabled:P.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:P.isPending?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var xl={},Eh,d_;function OA(){return d_||(d_=1,Eh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Eh}var jh={},js={},f_;function jr(){if(f_)return js;f_=1;let t;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return js.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},js.getSymbolTotalCodewords=function(o){return i[o]},js.getBCHDigit=function(r){let o=0;for(;r!==0;)o++,r>>>=1;return o},js.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},js.isKanjiModeEnabled=function(){return typeof t<"u"},js.toSJIS=function(o){return t(o)},js}var Th={},h_;function Hm(){return h_||(h_=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function i(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return i(o)}catch{return d}}})(Th)),Th}var Ch,m_;function MA(){if(m_)return Ch;m_=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(i){const r=Math.floor(i/8);return(this.buffer[r]>>>7-i%8&1)===1},put:function(i,r){for(let o=0;o<r;o++)this.putBit((i>>>r-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),i&&(this.buffer[r]|=128>>>this.length%8),this.length++}},Ch=t,Ch}var kh,p_;function RA(){if(p_)return kh;p_=1;function t(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}return t.prototype.set=function(i,r,o,d){const m=i*this.size+r;this.data[m]=o,d&&(this.reservedBit[m]=!0)},t.prototype.get=function(i,r){return this.data[i*this.size+r]},t.prototype.xor=function(i,r,o){this.data[i*this.size+r]^=o},t.prototype.isReserved=function(i,r){return this.reservedBit[i*this.size+r]},kh=t,kh}var Ah={},g_;function LA(){return g_||(g_=1,(function(t){const i=jr().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,m=i(o),p=m===145?26:Math.ceil((m-13)/(2*d-2))*2,v=[m-7];for(let _=1;_<d-1;_++)v[_]=v[_-1]-p;return v.push(6),v.reverse()},t.getPositions=function(o){const d=[],m=t.getRowColCoords(o),p=m.length;for(let v=0;v<p;v++)for(let _=0;_<p;_++)v===0&&_===0||v===0&&_===p-1||v===p-1&&_===0||d.push([m[v],m[_]]);return d}})(Ah)),Ah}var zh={},y_;function DA(){if(y_)return zh;y_=1;const t=jr().getSymbolSize,i=7;return zh.getPositions=function(o){const d=t(o);return[[0,0],[d-i,0],[0,d-i]]},zh}var Oh={},v_;function PA(){return v_||(v_=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const m=d.size;let p=0,v=0,_=0,b=null,S=null;for(let E=0;E<m;E++){v=_=0,b=S=null;for(let C=0;C<m;C++){let O=d.get(E,C);O===b?v++:(v>=5&&(p+=i.N1+(v-5)),b=O,v=1),O=d.get(C,E),O===S?_++:(_>=5&&(p+=i.N1+(_-5)),S=O,_=1)}v>=5&&(p+=i.N1+(v-5)),_>=5&&(p+=i.N1+(_-5))}return p},t.getPenaltyN2=function(d){const m=d.size;let p=0;for(let v=0;v<m-1;v++)for(let _=0;_<m-1;_++){const b=d.get(v,_)+d.get(v,_+1)+d.get(v+1,_)+d.get(v+1,_+1);(b===4||b===0)&&p++}return p*i.N2},t.getPenaltyN3=function(d){const m=d.size;let p=0,v=0,_=0;for(let b=0;b<m;b++){v=_=0;for(let S=0;S<m;S++)v=v<<1&2047|d.get(b,S),S>=10&&(v===1488||v===93)&&p++,_=_<<1&2047|d.get(S,b),S>=10&&(_===1488||_===93)&&p++}return p*i.N3},t.getPenaltyN4=function(d){let m=0;const p=d.data.length;for(let _=0;_<p;_++)m+=d.data[_];return Math.abs(Math.ceil(m*100/p/5)-10)*i.N4};function r(o,d,m){switch(o){case t.Patterns.PATTERN000:return(d+m)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return m%3===0;case t.Patterns.PATTERN011:return(d+m)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(m/3))%2===0;case t.Patterns.PATTERN101:return d*m%2+d*m%3===0;case t.Patterns.PATTERN110:return(d*m%2+d*m%3)%2===0;case t.Patterns.PATTERN111:return(d*m%3+(d+m)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,m){const p=m.size;for(let v=0;v<p;v++)for(let _=0;_<p;_++)m.isReserved(_,v)||m.xor(_,v,r(d,_,v))},t.getBestMask=function(d,m){const p=Object.keys(t.Patterns).length;let v=0,_=1/0;for(let b=0;b<p;b++){m(b),t.applyMask(b,d);const S=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(b,d),S<_&&(_=S,v=b)}return v}})(Oh)),Oh}var Rc={},__;function P0(){if(__)return Rc;__=1;const t=Hm(),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Rc.getBlocksCount=function(d,m){switch(m){case t.L:return i[(d-1)*4+0];case t.M:return i[(d-1)*4+1];case t.Q:return i[(d-1)*4+2];case t.H:return i[(d-1)*4+3];default:return}},Rc.getTotalCodewordsCount=function(d,m){switch(m){case t.L:return r[(d-1)*4+0];case t.M:return r[(d-1)*4+1];case t.Q:return r[(d-1)*4+2];case t.H:return r[(d-1)*4+3];default:return}},Rc}var Mh={},Io={},x_;function BA(){if(x_)return Io;x_=1;const t=new Uint8Array(512),i=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,i[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Io.log=function(o){if(o<1)throw new Error("log("+o+")");return i[o]},Io.exp=function(o){return t[o]},Io.mul=function(o,d){return o===0||d===0?0:t[i[o]+i[d]]},Io}var b_;function IA(){return b_||(b_=1,(function(t){const i=BA();t.mul=function(o,d){const m=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let v=0;v<d.length;v++)m[p+v]^=i.mul(o[p],d[v]);return m},t.mod=function(o,d){let m=new Uint8Array(o);for(;m.length-d.length>=0;){const p=m[0];for(let _=0;_<d.length;_++)m[_]^=i.mul(d[_],p);let v=0;for(;v<m.length&&m[v]===0;)v++;m=m.slice(v)}return m},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let m=0;m<o;m++)d=t.mul(d,new Uint8Array([1,i.exp(m)]));return d}})(Mh)),Mh}var Rh,N_;function UA(){if(N_)return Rh;N_=1;const t=IA();function i(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return i.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},i.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const m=t.mod(d,this.genPoly),p=this.degree-m.length;if(p>0){const v=new Uint8Array(this.degree);return v.set(m,p),v}return m},Rh=i,Rh}var Lh={},Dh={},Ph={},S_;function B0(){return S_||(S_=1,Ph.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}),Ph}var ga={},w_;function I0(){if(w_)return ga;w_=1;const t="[0-9]+",i="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;ga.KANJI=new RegExp(r,"g"),ga.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ga.BYTE=new RegExp(o,"g"),ga.NUMERIC=new RegExp(t,"g"),ga.ALPHANUMERIC=new RegExp(i,"g");const d=new RegExp("^"+r+"$"),m=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ga.testKanji=function(_){return d.test(_)},ga.testNumeric=function(_){return m.test(_)},ga.testAlphanumeric=function(_){return p.test(_)},ga}var E_;function Tr(){return E_||(E_=1,(function(t){const i=B0(),r=I0();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(m,p){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!i.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?m.ccBits[0]:p<27?m.ccBits[1]:m.ccBits[2]},t.getBestModeForData=function(m){return r.testNumeric(m)?t.NUMERIC:r.testAlphanumeric(m)?t.ALPHANUMERIC:r.testKanji(m)?t.KANJI:t.BYTE},t.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},t.isValid=function(m){return m&&m.bit&&m.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(m,p){if(t.isValid(m))return m;try{return o(m)}catch{return p}}})(Dh)),Dh}var j_;function ZA(){return j_||(j_=1,(function(t){const i=jr(),r=P0(),o=Hm(),d=Tr(),m=B0(),p=7973,v=i.getBCHDigit(p);function _(C,O,A){for(let z=1;z<=40;z++)if(O<=t.getCapacity(z,A,C))return z}function b(C,O){return d.getCharCountIndicator(C,O)+4}function S(C,O){let A=0;return C.forEach(function(z){const M=b(z.mode,O);A+=M+z.getBitsLength()}),A}function E(C,O){for(let A=1;A<=40;A++)if(S(C,A)<=t.getCapacity(A,O,d.MIXED))return A}t.from=function(O,A){return m.isValid(O)?parseInt(O,10):A},t.getCapacity=function(O,A,z){if(!m.isValid(O))throw new Error("Invalid QR Code version");typeof z>"u"&&(z=d.BYTE);const M=i.getSymbolTotalCodewords(O),H=r.getTotalCodewordsCount(O,A),I=(M-H)*8;if(z===d.MIXED)return I;const Z=I-b(z,O);switch(z){case d.NUMERIC:return Math.floor(Z/10*3);case d.ALPHANUMERIC:return Math.floor(Z/11*2);case d.KANJI:return Math.floor(Z/13);case d.BYTE:default:return Math.floor(Z/8)}},t.getBestVersionForData=function(O,A){let z;const M=o.from(A,o.M);if(Array.isArray(O)){if(O.length>1)return E(O,M);if(O.length===0)return 1;z=O[0]}else z=O;return _(z.mode,z.getLength(),M)},t.getEncodedBits=function(O){if(!m.isValid(O)||O<7)throw new Error("Invalid QR Code version");let A=O<<12;for(;i.getBCHDigit(A)-v>=0;)A^=p<<i.getBCHDigit(A)-v;return O<<12|A}})(Lh)),Lh}var Bh={},T_;function qA(){if(T_)return Bh;T_=1;const t=jr(),i=1335,r=21522,o=t.getBCHDigit(i);return Bh.getEncodedBits=function(m,p){const v=m.bit<<3|p;let _=v<<10;for(;t.getBCHDigit(_)-o>=0;)_^=i<<t.getBCHDigit(_)-o;return(v<<10|_)^r},Bh}var Ih={},Uh,C_;function FA(){if(C_)return Uh;C_=1;const t=Tr();function i(r){this.mode=t.NUMERIC,this.data=r.toString()}return i.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){let d,m,p;for(d=0;d+3<=this.data.length;d+=3)m=this.data.substr(d,3),p=parseInt(m,10),o.put(p,10);const v=this.data.length-d;v>0&&(m=this.data.substr(d),p=parseInt(m,10),o.put(p,v*3+1))},Uh=i,Uh}var Zh,k_;function HA(){if(k_)return Zh;k_=1;const t=Tr(),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(o){this.mode=t.ALPHANUMERIC,this.data=o}return r.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(d){let m;for(m=0;m+2<=this.data.length;m+=2){let p=i.indexOf(this.data[m])*45;p+=i.indexOf(this.data[m+1]),d.put(p,11)}this.data.length%2&&d.put(i.indexOf(this.data[m]),6)},Zh=r,Zh}var qh,A_;function KA(){if(A_)return qh;A_=1;const t=Tr();function i(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return i.getBitsLength=function(o){return o*8},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){for(let o=0,d=this.data.length;o<d;o++)r.put(this.data[o],8)},qh=i,qh}var Fh,z_;function QA(){if(z_)return Fh;z_=1;const t=Tr(),i=jr();function r(o){this.mode=t.KANJI,this.data=o}return r.getBitsLength=function(d){return d*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let m=i.toSJIS(this.data[d]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),o.put(m,13)}},Fh=r,Fh}var Hh={exports:{}},O_;function VA(){return O_||(O_=1,(function(t){var i={single_source_shortest_paths:function(r,o,d){var m={},p={};p[o]=0;var v=i.PriorityQueue.make();v.push(o,0);for(var _,b,S,E,C,O,A,z,M;!v.empty();){_=v.pop(),b=_.value,E=_.cost,C=r[b]||{};for(S in C)C.hasOwnProperty(S)&&(O=C[S],A=E+O,z=p[S],M=typeof p[S]>"u",(M||z>A)&&(p[S]=A,v.push(S,A),m[S]=b))}if(typeof d<"u"&&typeof p[d]>"u"){var H=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(H)}return m},extract_shortest_path_from_predecessor_list:function(r,o){for(var d=[],m=o;m;)d.push(m),r[m],m=r[m];return d.reverse(),d},find_path:function(r,o,d){var m=i.single_source_shortest_paths(r,o,d);return i.extract_shortest_path_from_predecessor_list(m,d)},PriorityQueue:{make:function(r){var o=i.PriorityQueue,d={},m;r=r||{};for(m in o)o.hasOwnProperty(m)&&(d[m]=o[m]);return d.queue=[],d.sorter=r.sorter||o.default_sorter,d},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var d={value:r,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=i})(Hh)),Hh.exports}var M_;function GA(){return M_||(M_=1,(function(t){const i=Tr(),r=FA(),o=HA(),d=KA(),m=QA(),p=I0(),v=jr(),_=VA();function b(H){return unescape(encodeURIComponent(H)).length}function S(H,I,Z){const Q=[];let X;for(;(X=H.exec(Z))!==null;)Q.push({data:X[0],index:X.index,mode:I,length:X[0].length});return Q}function E(H){const I=S(p.NUMERIC,i.NUMERIC,H),Z=S(p.ALPHANUMERIC,i.ALPHANUMERIC,H);let Q,X;return v.isKanjiModeEnabled()?(Q=S(p.BYTE,i.BYTE,H),X=S(p.KANJI,i.KANJI,H)):(Q=S(p.BYTE_KANJI,i.BYTE,H),X=[]),I.concat(Z,Q,X).sort(function(ee,$){return ee.index-$.index}).map(function(ee){return{data:ee.data,mode:ee.mode,length:ee.length}})}function C(H,I){switch(I){case i.NUMERIC:return r.getBitsLength(H);case i.ALPHANUMERIC:return o.getBitsLength(H);case i.KANJI:return m.getBitsLength(H);case i.BYTE:return d.getBitsLength(H)}}function O(H){return H.reduce(function(I,Z){const Q=I.length-1>=0?I[I.length-1]:null;return Q&&Q.mode===Z.mode?(I[I.length-1].data+=Z.data,I):(I.push(Z),I)},[])}function A(H){const I=[];for(let Z=0;Z<H.length;Z++){const Q=H[Z];switch(Q.mode){case i.NUMERIC:I.push([Q,{data:Q.data,mode:i.ALPHANUMERIC,length:Q.length},{data:Q.data,mode:i.BYTE,length:Q.length}]);break;case i.ALPHANUMERIC:I.push([Q,{data:Q.data,mode:i.BYTE,length:Q.length}]);break;case i.KANJI:I.push([Q,{data:Q.data,mode:i.BYTE,length:b(Q.data)}]);break;case i.BYTE:I.push([{data:Q.data,mode:i.BYTE,length:b(Q.data)}])}}return I}function z(H,I){const Z={},Q={start:{}};let X=["start"];for(let V=0;V<H.length;V++){const ee=H[V],$=[];for(let J=0;J<ee.length;J++){const ue=ee[J],ae=""+V+J;$.push(ae),Z[ae]={node:ue,lastCount:0},Q[ae]={};for(let ce=0;ce<X.length;ce++){const de=X[ce];Z[de]&&Z[de].node.mode===ue.mode?(Q[de][ae]=C(Z[de].lastCount+ue.length,ue.mode)-C(Z[de].lastCount,ue.mode),Z[de].lastCount+=ue.length):(Z[de]&&(Z[de].lastCount=ue.length),Q[de][ae]=C(ue.length,ue.mode)+4+i.getCharCountIndicator(ue.mode,I))}}X=$}for(let V=0;V<X.length;V++)Q[X[V]].end=0;return{map:Q,table:Z}}function M(H,I){let Z;const Q=i.getBestModeForData(H);if(Z=i.from(I,Q),Z!==i.BYTE&&Z.bit<Q.bit)throw new Error('"'+H+'" cannot be encoded with mode '+i.toString(Z)+`.
 Suggested mode is: `+i.toString(Q));switch(Z===i.KANJI&&!v.isKanjiModeEnabled()&&(Z=i.BYTE),Z){case i.NUMERIC:return new r(H);case i.ALPHANUMERIC:return new o(H);case i.KANJI:return new m(H);case i.BYTE:return new d(H)}}t.fromArray=function(I){return I.reduce(function(Z,Q){return typeof Q=="string"?Z.push(M(Q,null)):Q.data&&Z.push(M(Q.data,Q.mode)),Z},[])},t.fromString=function(I,Z){const Q=E(I,v.isKanjiModeEnabled()),X=A(Q),V=z(X,Z),ee=_.find_path(V.map,"start","end"),$=[];for(let J=1;J<ee.length-1;J++)$.push(V.table[ee[J]].node);return t.fromArray(O($))},t.rawSplit=function(I){return t.fromArray(E(I,v.isKanjiModeEnabled()))}})(Ih)),Ih}var R_;function YA(){if(R_)return jh;R_=1;const t=jr(),i=Hm(),r=MA(),o=RA(),d=LA(),m=DA(),p=PA(),v=P0(),_=UA(),b=ZA(),S=qA(),E=Tr(),C=GA();function O(V,ee){const $=V.size,J=m.getPositions(ee);for(let ue=0;ue<J.length;ue++){const ae=J[ue][0],ce=J[ue][1];for(let de=-1;de<=7;de++)if(!(ae+de<=-1||$<=ae+de))for(let q=-1;q<=7;q++)ce+q<=-1||$<=ce+q||(de>=0&&de<=6&&(q===0||q===6)||q>=0&&q<=6&&(de===0||de===6)||de>=2&&de<=4&&q>=2&&q<=4?V.set(ae+de,ce+q,!0,!0):V.set(ae+de,ce+q,!1,!0))}}function A(V){const ee=V.size;for(let $=8;$<ee-8;$++){const J=$%2===0;V.set($,6,J,!0),V.set(6,$,J,!0)}}function z(V,ee){const $=d.getPositions(ee);for(let J=0;J<$.length;J++){const ue=$[J][0],ae=$[J][1];for(let ce=-2;ce<=2;ce++)for(let de=-2;de<=2;de++)ce===-2||ce===2||de===-2||de===2||ce===0&&de===0?V.set(ue+ce,ae+de,!0,!0):V.set(ue+ce,ae+de,!1,!0)}}function M(V,ee){const $=V.size,J=b.getEncodedBits(ee);let ue,ae,ce;for(let de=0;de<18;de++)ue=Math.floor(de/3),ae=de%3+$-8-3,ce=(J>>de&1)===1,V.set(ue,ae,ce,!0),V.set(ae,ue,ce,!0)}function H(V,ee,$){const J=V.size,ue=S.getEncodedBits(ee,$);let ae,ce;for(ae=0;ae<15;ae++)ce=(ue>>ae&1)===1,ae<6?V.set(ae,8,ce,!0):ae<8?V.set(ae+1,8,ce,!0):V.set(J-15+ae,8,ce,!0),ae<8?V.set(8,J-ae-1,ce,!0):ae<9?V.set(8,15-ae-1+1,ce,!0):V.set(8,15-ae-1,ce,!0);V.set(J-8,8,1,!0)}function I(V,ee){const $=V.size;let J=-1,ue=$-1,ae=7,ce=0;for(let de=$-1;de>0;de-=2)for(de===6&&de--;;){for(let q=0;q<2;q++)if(!V.isReserved(ue,de-q)){let se=!1;ce<ee.length&&(se=(ee[ce]>>>ae&1)===1),V.set(ue,de-q,se),ae--,ae===-1&&(ce++,ae=7)}if(ue+=J,ue<0||$<=ue){ue-=J,J=-J;break}}}function Z(V,ee,$){const J=new r;$.forEach(function(q){J.put(q.mode.bit,4),J.put(q.getLength(),E.getCharCountIndicator(q.mode,V)),q.write(J)});const ue=t.getSymbolTotalCodewords(V),ae=v.getTotalCodewordsCount(V,ee),ce=(ue-ae)*8;for(J.getLengthInBits()+4<=ce&&J.put(0,4);J.getLengthInBits()%8!==0;)J.putBit(0);const de=(ce-J.getLengthInBits())/8;for(let q=0;q<de;q++)J.put(q%2?17:236,8);return Q(J,V,ee)}function Q(V,ee,$){const J=t.getSymbolTotalCodewords(ee),ue=v.getTotalCodewordsCount(ee,$),ae=J-ue,ce=v.getBlocksCount(ee,$),de=J%ce,q=ce-de,se=Math.floor(J/ce),U=Math.floor(ae/ce),P=U+1,re=se-U,Ee=new _(re);let Se=0;const k=new Array(ce),Y=new Array(ce);let F=0;const W=new Uint8Array(V.buffer);for(let qe=0;qe<ce;qe++){const Tt=qe<q?U:P;k[qe]=W.slice(Se,Se+Tt),Y[qe]=Ee.encode(k[qe]),Se+=Tt,F=Math.max(F,Tt)}const ge=new Uint8Array(J);let we=0,Ce,Ke;for(Ce=0;Ce<F;Ce++)for(Ke=0;Ke<ce;Ke++)Ce<k[Ke].length&&(ge[we++]=k[Ke][Ce]);for(Ce=0;Ce<re;Ce++)for(Ke=0;Ke<ce;Ke++)ge[we++]=Y[Ke][Ce];return ge}function X(V,ee,$,J){let ue;if(Array.isArray(V))ue=C.fromArray(V);else if(typeof V=="string"){let se=ee;if(!se){const U=C.rawSplit(V);se=b.getBestVersionForData(U,$)}ue=C.fromString(V,se||40)}else throw new Error("Invalid data");const ae=b.getBestVersionForData(ue,$);if(!ae)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ee)ee=ae;else if(ee<ae)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ae+`.
`);const ce=Z(ee,$,ue),de=t.getSymbolSize(ee),q=new o(de);return O(q,ee),A(q),z(q,ee),H(q,$,0),ee>=7&&M(q,ee),I(q,ce),isNaN(J)&&(J=p.getBestMask(q,H.bind(null,q,$))),p.applyMask(J,q),H(q,$,J),{modules:q,version:ee,errorCorrectionLevel:$,maskPattern:J,segments:ue}}return jh.create=function(ee,$){if(typeof ee>"u"||ee==="")throw new Error("No input text");let J=i.M,ue,ae;return typeof $<"u"&&(J=i.from($.errorCorrectionLevel,i.M),ue=b.from($.version),ae=p.from($.maskPattern),$.toSJISFunc&&t.setToSJISFunction($.toSJISFunc)),X(ee,ue,J,ae)},jh}var Kh={},Qh={},L_;function U0(){return L_||(L_=1,(function(t){function i(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(m){return[m,m]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,m=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:m,scale:m?4:p,margin:d,color:{dark:i(o.color.dark||"#000000ff"),light:i(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const m=t.getScale(o,d);return Math.floor((o+d.margin*2)*m)},t.qrToImageData=function(o,d,m){const p=d.modules.size,v=d.modules.data,_=t.getScale(p,m),b=Math.floor((p+m.margin*2)*_),S=m.margin*_,E=[m.color.light,m.color.dark];for(let C=0;C<b;C++)for(let O=0;O<b;O++){let A=(C*b+O)*4,z=m.color.light;if(C>=S&&O>=S&&C<b-S&&O<b-S){const M=Math.floor((C-S)/_),H=Math.floor((O-S)/_);z=E[v[M*p+H]?1:0]}o[A++]=z.r,o[A++]=z.g,o[A++]=z.b,o[A]=z.a}}})(Qh)),Qh}var D_;function $A(){return D_||(D_=1,(function(t){const i=U0();function r(d,m,p){d.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=p,m.width=p,m.style.height=p+"px",m.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(m,p,v){let _=v,b=p;typeof _>"u"&&(!p||!p.getContext)&&(_=p,p=void 0),p||(b=o()),_=i.getOptions(_);const S=i.getImageWidth(m.modules.size,_),E=b.getContext("2d"),C=E.createImageData(S,S);return i.qrToImageData(C.data,m,_),r(E,b,S),E.putImageData(C,0,0),b},t.renderToDataURL=function(m,p,v){let _=v;typeof _>"u"&&(!p||!p.getContext)&&(_=p,p=void 0),_||(_={});const b=t.render(m,p,_),S=_.type||"image/png",E=_.rendererOpts||{};return b.toDataURL(S,E.quality)}})(Kh)),Kh}var Vh={},P_;function XA(){if(P_)return Vh;P_=1;const t=U0();function i(d,m){const p=d.a/255,v=m+'="'+d.hex+'"';return p<1?v+" "+m+'-opacity="'+p.toFixed(2).slice(1)+'"':v}function r(d,m,p){let v=d+m;return typeof p<"u"&&(v+=" "+p),v}function o(d,m,p){let v="",_=0,b=!1,S=0;for(let E=0;E<d.length;E++){const C=Math.floor(E%m),O=Math.floor(E/m);!C&&!b&&(b=!0),d[E]?(S++,E>0&&C>0&&d[E-1]||(v+=b?r("M",C+p,.5+O+p):r("m",_,0),_=0,b=!1),C+1<m&&d[E+1]||(v+=r("h",S),S=0)):_++}return v}return Vh.render=function(m,p,v){const _=t.getOptions(p),b=m.modules.size,S=m.modules.data,E=b+_.margin*2,C=_.color.light.a?"<path "+i(_.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",O="<path "+i(_.color.dark,"stroke")+' d="'+o(S,b,_.margin)+'"/>',A='viewBox="0 0 '+E+" "+E+'"',M='<svg xmlns="http://www.w3.org/2000/svg" '+(_.width?'width="'+_.width+'" height="'+_.width+'" ':"")+A+' shape-rendering="crispEdges">'+C+O+`</svg>
`;return typeof v=="function"&&v(null,M),M},Vh}var B_;function JA(){if(B_)return xl;B_=1;const t=OA(),i=YA(),r=$A(),o=XA();function d(m,p,v,_,b){const S=[].slice.call(arguments,1),E=S.length,C=typeof S[E-1]=="function";if(!C&&!t())throw new Error("Callback required as last argument");if(C){if(E<2)throw new Error("Too few arguments provided");E===2?(b=v,v=p,p=_=void 0):E===3&&(p.getContext&&typeof b>"u"?(b=_,_=void 0):(b=_,_=v,v=p,p=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(v=p,p=_=void 0):E===2&&!p.getContext&&(_=v,v=p,p=void 0),new Promise(function(O,A){try{const z=i.create(v,_);O(m(z,p,_))}catch(z){A(z)}})}try{const O=i.create(v,_);b(null,m(O,p,_))}catch(O){b(O)}}return xl.create=i.create,xl.toCanvas=d.bind(null,r.render),xl.toDataURL=d.bind(null,r.renderToDataURL),xl.toString=d.bind(null,function(m,p,v){return o.render(m,v)}),xl}var WA=JA();const I_=td(WA);var qo={exports:{}};var ez=qo.exports,U_;function tz(){return U_||(U_=1,(function(t,i){(function(r,o){o(i)})(ez,(function(r){var o="1.9.4";function d(a){var u,f,y,x;for(f=1,y=arguments.length;f<y;f++){x=arguments[f];for(u in x)a[u]=x[u]}return a}var m=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function p(a,u){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var y=f.call(arguments,2);return function(){return a.apply(u,y.length?y.concat(f.call(arguments)):arguments)}}var v=0;function _(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function b(a,u,f){var y,x,j,D;return D=function(){y=!1,x&&(j.apply(f,x),x=!1)},j=function(){y?x=arguments:(a.apply(f,arguments),setTimeout(D,u),y=!0)},j}function S(a,u,f){var y=u[1],x=u[0],j=y-x;return a===y&&f?a:((a-x)%j+j)%j+x}function E(){return!1}function C(a,u){if(u===!1)return a;var f=Math.pow(10,u===void 0?6:u);return Math.round(a*f)/f}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return O(a).split(/\s+/)}function z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?m(a.options):{});for(var f in u)a.options[f]=u[f];return a.options}function M(a,u,f){var y=[];for(var x in a)y.push(encodeURIComponent(f?x.toUpperCase():x)+"="+encodeURIComponent(a[x]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function I(a,u){return a.replace(H,function(f,y){var x=u[y];if(x===void 0)throw new Error("No value provided for variable "+f);return typeof x=="function"&&(x=x(u)),x})}var Z=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Q(a,u){for(var f=0;f<a.length;f++)if(a[f]===u)return f;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var ee=0;function $(a){var u=+new Date,f=Math.max(0,16-(u-ee));return ee=u+f,window.setTimeout(a,f)}var J=window.requestAnimationFrame||V("RequestAnimationFrame")||$,ue=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function ae(a,u,f){if(f&&J===$)a.call(u);else return J.call(window,p(a,u))}function ce(a){a&&ue.call(window,a)}var de={__proto__:null,extend:d,create:m,bind:p,get lastId(){return v},stamp:_,throttle:b,wrapNum:S,falseFn:E,formatNum:C,trim:O,splitWords:A,setOptions:z,getParamString:M,template:I,isArray:Z,indexOf:Q,emptyImageUrl:X,requestFn:J,cancelFn:ue,requestAnimFrame:ae,cancelAnimFrame:ce};function q(){}q.extend=function(a){var u=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,y=m(f);y.constructor=u,u.prototype=y;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(u[x]=this[x]);return a.statics&&d(u,a.statics),a.includes&&(se(a.includes),d.apply(null,[y].concat(a.includes))),d(y,a),delete y.statics,delete y.includes,y.options&&(y.options=f.options?m(f.options):{},d(y.options,a.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,D=y._initHooks.length;j<D;j++)y._initHooks[j].call(this)}},u},q.include=function(a){var u=this.prototype.options;return d(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},q.mergeOptions=function(a){return d(this.prototype.options,a),this},q.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function se(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=Z(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(a,u,f){if(typeof a=="object")for(var y in a)this._on(y,a[y],u);else{a=A(a);for(var x=0,j=a.length;x<j;x++)this._on(a[x],u,f)}return this},off:function(a,u,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var y in a)this._off(y,a[y],u);else{a=A(a);for(var x=arguments.length===1,j=0,D=a.length;j<D;j++)x?this._off(a[j]):this._off(a[j],u,f)}return this},_on:function(a,u,f,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,f)===!1){f===this&&(f=void 0);var x={fn:u,ctx:f};y&&(x.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(x)}},_off:function(a,u,f){var y,x,j;if(this._events&&(y=this._events[a],!!y)){if(arguments.length===1){if(this._firingCount)for(x=0,j=y.length;x<j;x++)y[x].fn=E;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var D=this._listens(a,u,f);if(D!==!1){var ie=y[D];this._firingCount&&(ie.fn=E,this._events[a]=y=y.slice()),y.splice(D,1)}}},fire:function(a,u,f){if(!this.listens(a,f))return this;var y=d({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var x=this._events[a];if(x){this._firingCount=this._firingCount+1||1;for(var j=0,D=x.length;j<D;j++){var ie=x[j],fe=ie.fn;ie.once&&this.off(a,fe,ie.ctx),fe.call(ie.ctx||this,y)}this._firingCount--}}return f&&this._propagateEvent(y),this},listens:function(a,u,f,y){typeof a!="string"&&console.warn('"string" type argument expected');var x=u;typeof u!="function"&&(y=!!u,x=void 0,f=void 0);var j=this._events&&this._events[a];if(j&&j.length&&this._listens(a,x,f)!==!1)return!0;if(y){for(var D in this._eventParents)if(this._eventParents[D].listens(a,u,f,y))return!0}return!1},_listens:function(a,u,f){if(!this._events)return!1;var y=this._events[a]||[];if(!u)return!!y.length;f===this&&(f=void 0);for(var x=0,j=y.length;x<j;x++)if(y[x].fn===u&&y[x].ctx===f)return x;return!1},once:function(a,u,f){if(typeof a=="object")for(var y in a)this._on(y,a[y],u,!0);else{a=A(a);for(var x=0,j=a.length;x<j;x++)this._on(a[x],u,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[_(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[_(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,d({layer:a.target,propagatedFrom:a.target},a),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var P=q.extend(U);function re(a,u,f){this.x=f?Math.round(a):a,this.y=f?Math.round(u):u}var Ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(a){return this.clone()._add(Se(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Se(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new re(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new re(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(a){a=Se(a);var u=a.x-this.x,f=a.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(a){return a=Se(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Se(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function Se(a,u,f){return a instanceof re?a:Z(a)?new re(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new re(a.x,a.y):new re(a,u,f)}function k(a,u){if(a)for(var f=u?[a,u]:a,y=0,x=f.length;y<x;y++)this.extend(f[y])}k.prototype={extend:function(a){var u,f;if(!a)return this;if(a instanceof re||typeof a[0]=="number"||"x"in a)u=f=Se(a);else if(a=Y(a),u=a.min,f=a.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,f;return typeof a[0]=="number"||a instanceof re?a=Se(a):a=Y(a),a instanceof k?(u=a.min,f=a.max):u=f=a,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=Y(a);var u=this.min,f=this.max,y=a.min,x=a.max,j=x.x>=u.x&&y.x<=f.x,D=x.y>=u.y&&y.y<=f.y;return j&&D},overlaps:function(a){a=Y(a);var u=this.min,f=this.max,y=a.min,x=a.max,j=x.x>u.x&&y.x<f.x,D=x.y>u.y&&y.y<f.y;return j&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,f=this.max,y=Math.abs(u.x-f.x)*a,x=Math.abs(u.y-f.y)*a;return Y(Se(u.x-y,u.y-x),Se(f.x+y,f.y+x))},equals:function(a){return a?(a=Y(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Y(a,u){return!a||a instanceof k?a:new k(a,u)}function F(a,u){if(a)for(var f=u?[a,u]:a,y=0,x=f.length;y<x;y++)this.extend(f[y])}F.prototype={extend:function(a){var u=this._southWest,f=this._northEast,y,x;if(a instanceof ge)y=a,x=a;else if(a instanceof F){if(y=a._southWest,x=a._northEast,!y||!x)return this}else return a?this.extend(we(a)||W(a)):this;return!u&&!f?(this._southWest=new ge(y.lat,y.lng),this._northEast=new ge(x.lat,x.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),f.lat=Math.max(x.lat,f.lat),f.lng=Math.max(x.lng,f.lng)),this},pad:function(a){var u=this._southWest,f=this._northEast,y=Math.abs(u.lat-f.lat)*a,x=Math.abs(u.lng-f.lng)*a;return new F(new ge(u.lat-y,u.lng-x),new ge(f.lat+y,f.lng+x))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ge||"lat"in a?a=we(a):a=W(a);var u=this._southWest,f=this._northEast,y,x;return a instanceof F?(y=a.getSouthWest(),x=a.getNorthEast()):y=x=a,y.lat>=u.lat&&x.lat<=f.lat&&y.lng>=u.lng&&x.lng<=f.lng},intersects:function(a){a=W(a);var u=this._southWest,f=this._northEast,y=a.getSouthWest(),x=a.getNorthEast(),j=x.lat>=u.lat&&y.lat<=f.lat,D=x.lng>=u.lng&&y.lng<=f.lng;return j&&D},overlaps:function(a){a=W(a);var u=this._southWest,f=this._northEast,y=a.getSouthWest(),x=a.getNorthEast(),j=x.lat>u.lat&&y.lat<f.lat,D=x.lng>u.lng&&y.lng<f.lng;return j&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=W(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(a,u){return a instanceof F?a:new F(a,u)}function ge(a,u,f){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,f!==void 0&&(this.alt=+f)}ge.prototype={equals:function(a,u){if(!a)return!1;a=we(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Ke.distance(this,we(a))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,f=u/Math.cos(Math.PI/180*this.lat);return W([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function we(a,u,f){return a instanceof ge?a:Z(a)&&typeof a[0]!="object"?a.length===3?new ge(a[0],a[1],a[2]):a.length===2?new ge(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ge(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new ge(a,u,f)}var Ce={latLngToPoint:function(a,u){var f=this.projection.project(a),y=this.scale(u);return this.transformation._transform(f,y)},pointToLatLng:function(a,u){var f=this.scale(u),y=this.transformation.untransform(a,f);return this.projection.unproject(y)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(a),y=this.transformation.transform(u.min,f),x=this.transformation.transform(u.max,f);return new k(y,x)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,y=a.alt;return new ge(f,u,y)},wrapLatLngBounds:function(a){var u=a.getCenter(),f=this.wrapLatLng(u),y=u.lat-f.lat,x=u.lng-f.lng;if(y===0&&x===0)return a;var j=a.getSouthWest(),D=a.getNorthEast(),ie=new ge(j.lat-y,j.lng-x),fe=new ge(D.lat-y,D.lng-x);return new F(ie,fe)}},Ke=d({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var f=Math.PI/180,y=a.lat*f,x=u.lat*f,j=Math.sin((u.lat-a.lat)*f/2),D=Math.sin((u.lng-a.lng)*f/2),ie=j*j+Math.cos(y)*Math.cos(x)*D*D,fe=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*fe}}),qe=6378137,Tt={R:qe,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,f=this.MAX_LATITUDE,y=Math.max(Math.min(f,a.lat),-f),x=Math.sin(y*u);return new re(this.R*a.lng*u,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(a){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=qe*Math.PI;return new k([-a,-a],[a,a])})()};function at(a,u,f,y){if(Z(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=f,this._d=y}at.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new re((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function en(a,u,f,y){return new at(a,u,f,y)}var Zt=d({},Ke,{code:"EPSG:3857",projection:Tt,transformation:(function(){var a=.5/(Math.PI*Tt.R);return en(a,.5,-a,.5)})()}),hn=d({},Zt,{code:"EPSG:900913"});function _n(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function mn(a,u){var f="",y,x,j,D,ie,fe;for(y=0,j=a.length;y<j;y++){for(ie=a[y],x=0,D=ie.length;x<D;x++)fe=ie[x],f+=(x?"L":"M")+fe.x+" "+fe.y;f+=u?Oe.svg?"z":"x":""}return f||"M0 0"}var xn=document.documentElement.style,pn="ActiveXObject"in window,Tn=pn&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),je=An("webkit"),We=An("android"),zt=An("android 2")||An("android 3"),vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ve=We&&An("Google")&&vt<537&&!("AudioNode"in window),G=!!window.opera,ze=!te&&An("chrome"),St=An("gecko")&&!je&&!G&&!pn,Ye=!ze&&An("safari"),Cn=An("phantom"),Yt="OTransition"in xn,yi=navigator.platform.indexOf("Win")===0,kn=pn&&"transition"in xn,$t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zt,Pn="MozPerspective"in xn,on=!window.L_DISABLE_3D&&(kn||$t||Pn)&&!Yt&&!Cn,Ri=typeof orientation<"u"||An("mobile"),zs=Ri&&je,Os=Ri&&$t,Li=!window.PointerEvent&&window.MSPointerEvent,Di=!!(window.PointerEvent||Li),Wi="ontouchstart"in window||!!window.TouchEvent,vi=!window.L_NO_TOUCH&&(Wi||Di),ea=Ri&&G,ai=Ri&&St,Cr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kr=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return a})(),Ms=(function(){return!!document.createElement("canvas").getContext})(),si=!!(document.createElementNS&&_n("svg").createSVGRect),Rl=!!si&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),va=!si&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Ar=navigator.platform.indexOf("Mac")===0,zr=navigator.platform.indexOf("Linux")===0;function An(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Oe={ie:pn,ielt9:Tn,edge:te,webkit:je,android:We,android23:zt,androidStock:ve,opera:G,chrome:ze,gecko:St,safari:Ye,phantom:Cn,opera12:Yt,win:yi,ie3d:kn,webkit3d:$t,gecko3d:Pn,any3d:on,mobile:Ri,mobileWebkit:zs,mobileWebkit3d:Os,msPointer:Li,pointer:Di,touch:vi,touchNative:Wi,mobileOpera:ea,mobileGecko:ai,retina:Cr,passiveEvents:kr,canvas:Ms,svg:si,vml:va,inlineSvg:Rl,mac:Ar,linux:zr},Rs=Oe.msPointer?"MSPointerDown":"pointerdown",Ha=Oe.msPointer?"MSPointerMove":"pointermove",ri=Oe.msPointer?"MSPointerUp":"pointerup",qt=Oe.msPointer?"MSPointerCancel":"pointercancel",tn={touchstart:Rs,touchmove:Ha,touchend:ri,touchcancel:qt},Pi={touchstart:Bi,touchmove:zn,touchend:zn,touchcancel:zn},_i={},Or=!1;function Ll(a,u,f){return u==="touchstart"&&ot(),Pi[u]?(f=Pi[u].bind(this,f),a.addEventListener(tn[u],f,!1),f):(console.warn("wrong event specified:",u),E)}function Mr(a,u,f){if(!tn[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(tn[u],f,!1)}function _a(a){_i[a.pointerId]=a}function R(a){_i[a.pointerId]&&(_i[a.pointerId]=a)}function ke(a){delete _i[a.pointerId]}function ot(){Or||(document.addEventListener(Rs,_a,!0),document.addEventListener(Ha,R,!0),document.addEventListener(ri,ke,!0),document.addEventListener(qt,ke,!0),Or=!0)}function zn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in _i)u.touches.push(_i[f]);u.changedTouches=[u],a(u)}}function Bi(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ft(u),zn(a,u)}function Pt(a){var u={},f,y;for(y in a)f=a[y],u[y]=f&&f.bind?f.bind(a):f;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Ls=200;function su(a,u){a.addEventListener("dblclick",u);var f=0,y;function x(j){if(j.detail!==1){y=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var D=qs(j);if(!(D.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!D.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var ie=Date.now();ie-f<=Ls?(y++,y===2&&u(Pt(j))):y=1,f=ie}}}return a.addEventListener("click",x),{dblclick:u,simDblclick:x}}function xa(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ta=Bs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=Bs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Dl=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function Pl(a){return typeof a=="string"?document.getElementById(a):a}function Ps(a,u){var f=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(a,null);f=y?y[u]:null}return f==="auto"?null:f}function et(a,u,f){var y=document.createElement(a);return y.className=u||"",f&&f.appendChild(y),y}function _t(a){var u=a.parentNode;u&&u.removeChild(a)}function Hn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function un(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ba(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Bl(a,u){if(a.classList!==void 0)return a.classList.contains(u);var f=Rr(a);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Ve(a,u){if(a.classList!==void 0)for(var f=A(u),y=0,x=f.length;y<x;y++)a.classList.add(f[y]);else if(!Bl(a,u)){var j=Rr(a);Ka(a,(j?j+" ":"")+u)}}function Ot(a,u){a.classList!==void 0?a.classList.remove(u):Ka(a,O((" "+Rr(a)+" ").replace(" "+u+" "," ")))}function Ka(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Rr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ct(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Il(a,u)}function Il(a,u){var f=!1,y="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):a.style.filter+=" progid:"+y+"(opacity="+u+")"}function Bs(a){for(var u=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in u)return a[f];return!1}function Ii(a,u,f){var y=u||new re(0,0);a.style[ta]=(Oe.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(f?" scale("+f+")":"")}function wt(a,u){a._leaflet_pos=u,Oe.any3d?Ii(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function na(a){return a._leaflet_pos||new re(0,0)}var Qa,xi,Ul;if("onselectstart"in document)Qa=function(){Ze(window,"selectstart",Ft)},xi=function(){mt(window,"selectstart",Ft)};else{var Va=Bs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qa=function(){if(Va){var a=document.documentElement.style;Ul=a[Va],a[Va]="none"}},xi=function(){Va&&(document.documentElement.style[Va]=Ul,Ul=void 0)}}function Lr(){Ze(window,"dragstart",Ft)}function Is(){mt(window,"dragstart",Ft)}var Dr,Zl;function Ga(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Kn(),Dr=a,Zl=a.style.outlineStyle,a.style.outlineStyle="none",Ze(window,"keydown",Kn))}function Kn(){Dr&&(Dr.style.outlineStyle=Zl,Dr=void 0,Zl=void 0,mt(window,"keydown",Kn))}function Pr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Us(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Ya={__proto__:null,TRANSFORM:ta,TRANSITION:Ds,TRANSITION_END:Dl,get:Pl,getStyle:Ps,create:et,remove:_t,empty:Hn,toFront:un,toBack:ba,hasClass:Bl,addClass:Ve,removeClass:Ot,setClass:Ka,getClass:Rr,setOpacity:Ct,testProp:Bs,setTransform:Ii,setPosition:wt,getPosition:na,get disableTextSelection(){return Qa},get enableTextSelection(){return xi},disableImageDrag:Lr,enableImageDrag:Is,preventOutline:Ga,restoreOutline:Kn,getSizedParentNode:Pr,getScale:Us};function Ze(a,u,f,y){if(u&&typeof u=="object")for(var x in u)oi(a,x,u[x],f);else{u=A(u);for(var j=0,D=u.length;j<D;j++)oi(a,u[j],f,y)}return this}var li="_leaflet_events";function mt(a,u,f,y){if(arguments.length===1)ql(a),delete a[li];else if(u&&typeof u=="object")for(var x in u)Zs(a,x,u[x],f);else if(u=A(u),arguments.length===2)ql(a,function(ie){return Q(u,ie)!==-1});else for(var j=0,D=u.length;j<D;j++)Zs(a,u[j],f,y);return this}function ql(a,u){for(var f in a[li]){var y=f.split(/\d/)[0];(!u||u(y))&&Zs(a,y,null,null,f)}}var Na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function oi(a,u,f,y){var x=u+_(f)+(y?"_"+_(y):"");if(a[li]&&a[li][x])return this;var j=function(ie){return f.call(y||a,ie||window.event)},D=j;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?j=Ll(a,u,j):Oe.touch&&u==="dblclick"?j=su(a,j):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Na[u]||u,j,Oe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(j=function(ie){ie=ie||window.event,Ui(a,ie)&&D(ie)},a.addEventListener(Na[u],j,!1)):a.addEventListener(u,D,!1):a.attachEvent("on"+u,j),a[li]=a[li]||{},a[li][x]=j}function Zs(a,u,f,y,x){x=x||u+_(f)+(y?"_"+_(y):"");var j=a[li]&&a[li][x];if(!j)return this;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?Mr(a,u,j):Oe.touch&&u==="dblclick"?xa(a,j):"removeEventListener"in a?a.removeEventListener(Na[u]||u,j,!1):a.detachEvent("on"+u,j),a[li][x]=null}function ui(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function bi(a){return oi(a,"wheel",ui),this}function Sa(a){return Ze(a,"mousedown touchstart dblclick contextmenu",ui),a._leaflet_disable_click=!0,this}function Ft(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function ia(a){return Ft(a),ui(a),this}function qs(a){if(a.composedPath)return a.composedPath();for(var u=[],f=a.target;f;)u.push(f),f=f.parentNode;return u}function Fs(a,u){if(!u)return new re(a.clientX,a.clientY);var f=Us(u),y=f.boundingClientRect;return new re((a.clientX-y.left)/f.x-u.clientLeft,(a.clientY-y.top)/f.y-u.clientTop)}var ru=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bn(a){return Oe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ru:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ui(a,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var Br={__proto__:null,on:Ze,off:mt,stopPropagation:ui,disableScrollPropagation:bi,disableClickPropagation:Sa,preventDefault:Ft,stop:ia,getPropagationPath:qs,getMousePosition:Fs,getWheelDelta:bn,isExternalTarget:Ui,addListener:Ze,removeListener:mt},$a=P.extend({run:function(a,u,f,y){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=na(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var f=this._startPos.add(this._offset.multiplyBy(a));u&&f._round(),wt(this._el,f),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),st=P.extend({options:{crs:Zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(we(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ze(this._proxy,Dl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(we(a),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=d({animate:f.animate},f.zoom),f.pan=d({animate:f.animate,duration:f.duration},f.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,f.zoom):this._tryAnimatedPan(a,f.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,f){var y=this.getZoomScale(u),x=this.getSize().divideBy(2),j=a instanceof re?a:this.latLngToContainerPoint(a),D=j.subtract(x).multiplyBy(1-1/y),ie=this.containerPointToLatLng(x.add(D));return this.setView(ie,u,{zoom:f})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():W(a);var f=Se(u.paddingTopLeft||u.padding||[0,0]),y=Se(u.paddingBottomRight||u.padding||[0,0]),x=this.getBoundsZoom(a,!1,f.add(y));if(x=typeof u.maxZoom=="number"?Math.min(u.maxZoom,x):x,x===1/0)return{center:a.getCenter(),zoom:x};var j=y.subtract(f).divideBy(2),D=this.project(a.getSouthWest(),x),ie=this.project(a.getNorthEast(),x),fe=this.unproject(D.add(ie).divideBy(2).add(j),x);return{center:fe,zoom:x}},fitBounds:function(a,u){if(a=W(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=Se(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $a,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ve(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,f){if(f=f||{},f.animate===!1||!Oe.any3d)return this.setView(a,u,f);this._stop();var y=this.project(this.getCenter()),x=this.project(a),j=this.getSize(),D=this._zoom;a=we(a),u=u===void 0?D:u;var ie=Math.max(j.x,j.y),fe=ie*this.getZoomScale(D,u),be=x.distanceTo(y)||1,Te=1.42,De=Te*Te;function Xe(Bt){var Hi=Bt?-1:1,Ta=Bt?fe:ie,io=fe*fe-ie*ie+Hi*De*De*be*be,sr=2*Ta*De*be,rr=io/sr,fa=Math.sqrt(rr*rr+1)-rr,Ki=fa<1e-9?-18:Math.log(fa);return Ki}function cn(Bt){return(Math.exp(Bt)-Math.exp(-Bt))/2}function Ht(Bt){return(Math.exp(Bt)+Math.exp(-Bt))/2}function In(Bt){return cn(Bt)/Ht(Bt)}var ut=Xe(0);function ct(Bt){return ie*(Ht(ut)/Ht(ut+Te*Bt))}function tt(Bt){return ie*(Ht(ut)*In(ut+Te*Bt)-cn(ut))/De}function ca(Bt){return 1-Math.pow(1-Bt,1.5)}var Yn=Date.now(),Jr=(Xe(1)-ut)/Te,da=f.duration?1e3*f.duration:1e3*Jr*.8;function no(){var Bt=(Date.now()-Yn)/da,Hi=ca(Bt)*Jr;Bt<=1?(this._flyToFrame=ae(no,this),this._move(this.unproject(y.add(x.subtract(y).multiplyBy(tt(Hi)/be)),D),this.getScaleZoom(ie/ct(Hi),D),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),no.call(this),this},flyToBounds:function(a,u){var f=this._getBoundsCenterZoom(a,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(a){return a=W(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var f=this.getCenter(),y=this._limitCenter(f,this._zoom,W(a));return f.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var f=Se(u.paddingTopLeft||u.padding||[0,0]),y=Se(u.paddingBottomRight||u.padding||[0,0]),x=this.project(this.getCenter()),j=this.project(a),D=this.getPixelBounds(),ie=Y([D.min.add(f),D.max.subtract(y)]),fe=ie.getSize();if(!ie.contains(j)){this._enforcingBounds=!0;var be=j.subtract(ie.getCenter()),Te=ie.extend(j).getSize().subtract(fe);x.x+=be.x<0?-Te.x:Te.x,x.y+=be.y<0?-Te.y:Te.y,this.panTo(this.unproject(x),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=d({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),y=u.divideBy(2).round(),x=f.divideBy(2).round(),j=y.subtract(x);return!j.x&&!j.y?this:(a.animate&&a.pan?this.panBy(j):(a.pan&&this._rawPanBy(j),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=d({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),f=p(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,a):navigator.geolocation.getCurrentPosition(u,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,f=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,f=a.coords.longitude,y=new ge(u,f),x=y.toBounds(a.coords.accuracy*2),j=this._locateOptions;if(j.setView){var D=this.getBoundsZoom(x);this.setView(y,j.maxZoom?Math.min(D,j.maxZoom):D)}var ie={latlng:y,bounds:x,timestamp:a.timestamp};for(var fe in a.coords)typeof a.coords[fe]=="number"&&(ie[fe]=a.coords[fe]);this.fire("locationfound",ie)}},addHandler:function(a,u){if(!u)return this;var f=this[a]=new u(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)_t(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),y=et("div",f,u||this._mapPane);return a&&(this._panes[a]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new F(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,f){a=W(a),f=Se(f||[0,0]);var y=this.getZoom()||0,x=this.getMinZoom(),j=this.getMaxZoom(),D=a.getNorthWest(),ie=a.getSouthEast(),fe=this.getSize().subtract(f),be=Y(this.project(ie,y),this.project(D,y)).getSize(),Te=Oe.any3d?this.options.zoomSnap:1,De=fe.x/be.x,Xe=fe.y/be.y,cn=u?Math.max(De,Xe):Math.min(De,Xe);return y=this.getScaleZoom(cn,y),Te&&(y=Math.round(y/(Te/100))*(Te/100),y=u?Math.ceil(y/Te)*Te:Math.floor(y/Te)*Te),Math.max(x,Math.min(j,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var f=this._getTopLeftPoint(a,u);return new k(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(a)/f.scale(u)},getScaleZoom:function(a,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var y=f.zoom(a*f.scale(u));return isNaN(y)?1/0:y},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(we(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(Se(a),u)},layerPointToLatLng:function(a){var u=Se(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(we(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(we(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(W(a))},distance:function(a,u){return this.options.crs.distance(we(a),we(u))},containerPointToLayerPoint:function(a){return Se(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Se(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(Se(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(a)))},mouseEventToContainerPoint:function(a){return Fs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Pl(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ze(u,"scroll",this._onScroll,this),this._containerId=_(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Ve(a,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ps(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),wt(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ve(a.markerPane,"leaflet-zoom-hide"),Ve(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,f){wt(this._mapPane,new re(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var x=this._zoom!==u;this._moveStart(x,f)._move(a,u)._moveEnd(x),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,f,y){u===void 0&&(u=this._zoom);var x=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),y?f&&f.pinch&&this.fire("zoom",f):((x||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){wt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[_(this._container)]=this;var u=a?mt:Ze;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var f=[],y,x=u==="mouseout"||u==="mouseover",j=a.target||a.srcElement,D=!1;j;){if(y=this._targets[_(j)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){D=!0;break}if(y&&y.listens(u,!0)&&(x&&!Ui(j,a)||(f.push(y),x))||j===this._container)break;j=j.parentNode}return!f.length&&!D&&!x&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var f=a.type;f==="mousedown"&&Ga(u),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,f){if(a.type==="click"){var y=d({},a);y.type="preclick",this._fireDOMEvent(y,y.type,f)}var x=this._findEventTargets(a,u);if(f){for(var j=[],D=0;D<f.length;D++)f[D].listens(u,!0)&&j.push(f[D]);x=j.concat(x)}if(x.length){u==="contextmenu"&&Ft(a);var ie=x[0],fe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var be=ie.getLatLng&&(!ie._radius||ie._radius<=10);fe.containerPoint=be?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(a),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=be?ie.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(D=0;D<x.length;D++)if(x[D].fire(u,fe,!0),fe.originalEvent._stopped||x[D].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return na(this._mapPane)||new re(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var f=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var f=this.getSize()._divideBy(2);return this.project(a,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,f){var y=this._getNewPixelOrigin(f,u);return this.project(a,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(a,u,f){var y=this._getNewPixelOrigin(f,u);return Y([this.project(a.getSouthWest(),u)._subtract(y),this.project(a.getNorthWest(),u)._subtract(y),this.project(a.getSouthEast(),u)._subtract(y),this.project(a.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,f){if(!f)return a;var y=this.project(a,u),x=this.getSize().divideBy(2),j=new k(y.subtract(x),y.add(x)),D=this._getBoundsOffset(j,f,u);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?a:this.unproject(y.add(D),u)},_limitOffset:function(a,u){if(!u)return a;var f=this.getPixelBounds(),y=new k(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(a,u,f){var y=Y(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),x=y.min.subtract(a.min),j=y.max.subtract(a.max),D=this._rebound(x.x,-j.x),ie=this._rebound(x.y,-j.y);return new re(D,ie)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),f=this.getMaxZoom(),y=Oe.any3d?this.options.zoomSnap:1;return y&&(a=Math.round(a/y)*y),Math.max(u,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var f=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var a=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var f=ta,y=this._proxy.style[f];Ii(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Ii(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),x=this._getCenterOffset(a)._divideBy(1-1/y);return f.animate!==!0&&!this.getSize().contains(x)?!1:(ae(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,f,y){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fl(a,u){return new st(a,u)}var Bn=q.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),f=this.getPosition(),y=a._controlCorners[f];return Ve(u,"leaflet-control"),f.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Zi=function(a){return new Bn(a)};st.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",f=this._controlContainer=et("div",u+"control-container",this._container);function y(x,j){var D=u+x+" "+u+j;a[x+j]=et("div",D,f)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)_t(this._controlCorners[a]);_t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hs=Bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,f,y){return f<y?-1:y<f?1:0}},initialize:function(a,u,f){z(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in a)this._addLayer(a[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Bn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(_(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=et("div",a),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Sa(u),bi(u);var y=this._section=et("section",a+"-list");f&&(this._map.on("click",this.collapse,this),Ze(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=et("a",a+"-toggle",u);x.href="#",x.title="Layers",x.setAttribute("role","button"),Ze(x,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){Ft(j),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=et("div",a+"-base",y),this._separator=et("div",a+"-separator",y),this._overlaysList=et("div",a+"-overlays",y),u.appendChild(y)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&_(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(p(function(y,x){return this.options.sortFunction(y.layer,x.layer,y.name,x.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hn(this._baseLayersList),Hn(this._overlaysList),this._layerControlInputs=[];var a,u,f,y,x=0;for(f=0;f<this._layers.length;f++)y=this._layers[f],this._addItem(y),u=u||y.overlay,a=a||!y.overlay,x+=y.overlay?0:1;return this.options.hideSingleBase&&(a=a&&x>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(_(a.target)),f=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(a,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=f,y.firstChild},_addItem:function(a){var u=document.createElement("label"),f=this._map.hasLayer(a.layer),y;a.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=f):y=this._createRadioElement("leaflet-base-layers_"+_(this),f),this._layerControlInputs.push(y),y.layerId=_(a.layer),Ze(y,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+a.name;var j=document.createElement("span");u.appendChild(j),j.appendChild(y),j.appendChild(x);var D=a.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,f,y=[],x=[];this._handlingClick=!0;for(var j=a.length-1;j>=0;j--)u=a[j],f=this._getLayer(u.layerId).layer,u.checked?y.push(f):u.checked||x.push(f);for(j=0;j<x.length;j++)this._map.hasLayer(x[j])&&this._map.removeLayer(x[j]);for(j=0;j<y.length;j++)this._map.hasLayer(y[j])||this._map.addLayer(y[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,f,y=this._map.getZoom(),x=a.length-1;x>=0;x--)u=a[x],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&y<f.options.minZoom||f.options.maxZoom!==void 0&&y>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ze(a,"click",Ft),this.expand();var u=this;setTimeout(function(){mt(a,"click",Ft),u._preventClick=!1})}}),lu=function(a,u,f){return new Hs(a,u,f)},Hl=Bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",f=et("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,f,y,x){var j=et("a",f,y);return j.innerHTML=a,j.href="#",j.title=u,j.setAttribute("role","button"),j.setAttribute("aria-label",u),Sa(j),Ze(j,"click",ia),Ze(j,"click",x,this),Ze(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Ot(this._zoomInButton,u),Ot(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ve(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ve(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hl,this.addControl(this.zoomControl))});var pd=function(a){return new Hl(a)},ou=Bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",f=et("div",u),y=this.options;return this._addScales(y,u+"-line",f),a.on(y.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,f){a.metric&&(this._mScale=et("div",u,f)),a.imperial&&(this._iScale=et("div",u,f))},_update:function(){var a=this._map,u=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/a)},_updateImperial:function(a){var u=a*3.2808399,f,y,x;u>5280?(f=u/5280,y=this._getRoundNum(f),this._updateScale(this._iScale,y+" mi",y/f)):(x=this._getRoundNum(u),this._updateScale(this._iScale,x+" ft",x/u))},_updateScale:function(a,u,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),f=a/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),Kl=function(a){return new ou(a)},gd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ql=Bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?gd+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=et("div","leaflet-control-attribution"),Sa(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Ql().addTo(this)});var yd=function(a){return new Ql(a)};Bn.Layers=Hs,Bn.Zoom=Hl,Bn.Scale=ou,Bn.Attribution=Ql,Zi.layers=lu,Zi.zoom=pd,Zi.scale=Kl,Zi.attribution=yd;var Ni=q.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ni.addTo=function(a,u){return a.addHandler(u,this),this};var vd={Events:U},Vl=Oe.touch?"touchstart mousedown":"mousedown",aa=P.extend({options:{clickTolerance:3},initialize:function(a,u,f,y){z(this,y),this._element=a,this._dragStartTarget=u||a,this._preventOutline=f},enable:function(){this._enabled||(Ze(this._dragStartTarget,Vl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(aa._dragging===this&&this.finishDrag(!0),mt(this._dragStartTarget,Vl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Bl(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){aa._dragging===this&&this.finishDrag();return}if(!(aa._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(aa._dragging=this,this._preventOutline&&Ga(this._element),Lr(),Qa(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,f=Pr(this._element);this._startPoint=new re(u.clientX,u.clientY),this._startPos=na(this._element),this._parentScale=Us(f);var y=a.type==="mousedown";Ze(document,y?"mousemove":"touchmove",this._onMove,this),Ze(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,f=new re(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ft(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ve(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),wt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ot(document.body,"leaflet-dragging"),this._lastTarget&&(Ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mt(document,"mousemove touchmove",this._onMove,this),mt(document,"mouseup touchend touchcancel",this._onUp,this),Is(),xi();var u=this._moved&&this._moving;this._moving=!1,aa._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function uu(a,u,f){var y,x=[1,4,2,8],j,D,ie,fe,be,Te,De,Xe;for(j=0,Te=a.length;j<Te;j++)a[j]._code=wa(a[j],u);for(ie=0;ie<4;ie++){for(De=x[ie],y=[],j=0,Te=a.length,D=Te-1;j<Te;D=j++)fe=a[j],be=a[D],fe._code&De?be._code&De||(Xe=Ir(be,fe,De,u,f),Xe._code=wa(Xe,u),y.push(Xe)):(be._code&De&&(Xe=Ir(be,fe,De,u,f),Xe._code=wa(Xe,u),y.push(Xe)),y.push(fe));a=y}return a}function cu(a,u){var f,y,x,j,D,ie,fe,be,Te;if(!a||a.length===0)throw new Error("latlngs not passed");Qn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var De=we([0,0]),Xe=W(a),cn=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());cn<1700&&(De=Gl(a));var Ht=a.length,In=[];for(f=0;f<Ht;f++){var ut=we(a[f]);In.push(u.project(we([ut.lat-De.lat,ut.lng-De.lng])))}for(ie=fe=be=0,f=0,y=Ht-1;f<Ht;y=f++)x=In[f],j=In[y],D=x.y*j.x-j.y*x.x,fe+=(x.x+j.x)*D,be+=(x.y+j.y)*D,ie+=D*3;ie===0?Te=In[0]:Te=[fe/ie,be/ie];var ct=u.unproject(Se(Te));return we([ct.lat+De.lat,ct.lng+De.lng])}function Gl(a){for(var u=0,f=0,y=0,x=0;x<a.length;x++){var j=we(a[x]);u+=j.lat,f+=j.lng,y++}return we([u/y,f/y])}var Yl={__proto__:null,clipPolygon:uu,polygonCenter:cu,centroid:Gl};function du(a,u){if(!u||!a.length)return a.slice();var f=u*u;return a=xd(a,f),a=hu(a,f),a}function fu(a,u,f){return Math.sqrt(Ks(a,u,f,!0))}function _d(a,u,f){return Ks(a,u,f)}function hu(a,u){var f=a.length,y=typeof Uint8Array<"u"?Uint8Array:Array,x=new y(f);x[0]=x[f-1]=1,$l(a,x,u,0,f-1);var j,D=[];for(j=0;j<f;j++)x[j]&&D.push(a[j]);return D}function $l(a,u,f,y,x){var j=0,D,ie,fe;for(ie=y+1;ie<=x-1;ie++)fe=Ks(a[ie],a[y],a[x],!0),fe>j&&(D=ie,j=fe);j>f&&(u[D]=1,$l(a,u,f,y,D),$l(a,u,f,D,x))}function xd(a,u){for(var f=[a[0]],y=1,x=0,j=a.length;y<j;y++)bd(a[y],a[x])>u&&(f.push(a[y]),x=y);return x<j-1&&f.push(a[j-1]),f}var mu;function pu(a,u,f,y,x){var j=y?mu:wa(a,f),D=wa(u,f),ie,fe,be;for(mu=D;;){if(!(j|D))return[a,u];if(j&D)return!1;ie=j||D,fe=Ir(a,u,ie,f,x),be=wa(fe,f),ie===j?(a=fe,j=be):(u=fe,D=be)}}function Ir(a,u,f,y,x){var j=u.x-a.x,D=u.y-a.y,ie=y.min,fe=y.max,be,Te;return f&8?(be=a.x+j*(fe.y-a.y)/D,Te=fe.y):f&4?(be=a.x+j*(ie.y-a.y)/D,Te=ie.y):f&2?(be=fe.x,Te=a.y+D*(fe.x-a.x)/j):f&1&&(be=ie.x,Te=a.y+D*(ie.x-a.x)/j),new re(be,Te,x)}function wa(a,u){var f=0;return a.x<u.min.x?f|=1:a.x>u.max.x&&(f|=2),a.y<u.min.y?f|=4:a.y>u.max.y&&(f|=8),f}function bd(a,u){var f=u.x-a.x,y=u.y-a.y;return f*f+y*y}function Ks(a,u,f,y){var x=u.x,j=u.y,D=f.x-x,ie=f.y-j,fe=D*D+ie*ie,be;return fe>0&&(be=((a.x-x)*D+(a.y-j)*ie)/fe,be>1?(x=f.x,j=f.y):be>0&&(x+=D*be,j+=ie*be)),D=a.x-x,ie=a.y-j,y?D*D+ie*ie:new re(x,j)}function Qn(a){return!Z(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Ur(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qn(a)}function Xa(a,u){var f,y,x,j,D,ie,fe,be;if(!a||a.length===0)throw new Error("latlngs not passed");Qn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Te=we([0,0]),De=W(a),Xe=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Xe<1700&&(Te=Gl(a));var cn=a.length,Ht=[];for(f=0;f<cn;f++){var In=we(a[f]);Ht.push(u.project(we([In.lat-Te.lat,In.lng-Te.lng])))}for(f=0,y=0;f<cn-1;f++)y+=Ht[f].distanceTo(Ht[f+1])/2;if(y===0)be=Ht[0];else for(f=0,j=0;f<cn-1;f++)if(D=Ht[f],ie=Ht[f+1],x=D.distanceTo(ie),j+=x,j>y){fe=(j-y)/x,be=[ie.x-fe*(ie.x-D.x),ie.y-fe*(ie.y-D.y)];break}var ut=u.unproject(Se(be));return we([ut.lat+Te.lat,ut.lng+Te.lng])}var Nd={__proto__:null,simplify:du,pointToSegmentDistance:fu,closestPointOnSegment:_d,clipSegment:pu,_getEdgeIntersection:Ir,_getBitCode:wa,_sqClosestPointOnSegment:Ks,isFlat:Qn,_flat:Ur,polylineCenter:Xa},Zr={project:function(a){return new re(a.lng,a.lat)},unproject:function(a){return new ge(a.y,a.x)},bounds:new k([-180,-90],[180,90])},qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,f=this.R,y=a.lat*u,x=this.R_MINOR/f,j=Math.sqrt(1-x*x),D=j*Math.sin(y),ie=Math.tan(Math.PI/4-y/2)/Math.pow((1-D)/(1+D),j/2);return y=-f*Math.log(Math.max(ie,1e-10)),new re(a.lng*u*f,y)},unproject:function(a){for(var u=180/Math.PI,f=this.R,y=this.R_MINOR/f,x=Math.sqrt(1-y*y),j=Math.exp(-a.y/f),D=Math.PI/2-2*Math.atan(j),ie=0,fe=.1,be;ie<15&&Math.abs(fe)>1e-7;ie++)be=x*Math.sin(D),be=Math.pow((1-be)/(1+be),x/2),fe=Math.PI/2-2*Math.atan(j*be)-D,D+=fe;return new ge(D*u,a.x*u/f)}},gu={__proto__:null,LonLat:Zr,Mercator:qr,SphericalMercator:Tt},yu=d({},Ke,{code:"EPSG:3395",projection:qr,transformation:(function(){var a=.5/(Math.PI*qr.R);return en(a,.5,-a,.5)})()}),Xl=d({},Ke,{code:"EPSG:4326",projection:Zr,transformation:en(1/180,1,-1/180,.5)}),Ja=d({},Ce,{projection:Zr,transformation:en(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var f=u.lng-a.lng,y=u.lat-a.lat;return Math.sqrt(f*f+y*y)},infinite:!0});Ce.Earth=Ke,Ce.EPSG3395=yu,Ce.EPSG3857=Zt,Ce.EPSG900913=hn,Ce.EPSG4326=Xl,Ce.Simple=Ja;var ci=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[_(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[_(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});st.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=_(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=_(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return _(a)in this._layers},eachLayer:function(a,u){for(var f in this._layers)a.call(u,this._layers[f]);return this},_addLayers:function(a){a=a?Z(a)?a:[a]:[];for(var u=0,f=a.length;u<f;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[_(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=_(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,f=this._getZoomSpan();for(var y in this._zoomBoundLayers){var x=this._zoomBoundLayers[y].options;a=x.minZoom===void 0?a:Math.min(a,x.minZoom),u=x.maxZoom===void 0?u:Math.max(u,x.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wa=ci.extend({initialize:function(a,u){z(this,u),this._layers={};var f,y;if(a)for(f=0,y=a.length;f<y;f++)this.addLayer(a[f])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),f,y;for(f in this._layers)y=this._layers[f],y[a]&&y[a].apply(y,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var f in this._layers)a.call(u,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return _(a)}}),Sd=function(a,u){return new Wa(a,u)},Si=Wa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Wa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Wa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new F;for(var u in this._layers){var f=this._layers[u];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),vu=function(a,u){return new Si(a,u)},wi=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(a,u){var f=this.options,y=f[u+"Size"];typeof y=="number"&&(y=[y,y]);var x=Se(y),j=Se(u==="shadow"&&f.shadowAnchor||f.iconAnchor||x&&x.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(f.className||""),j&&(a.style.marginLeft=-j.x+"px",a.style.marginTop=-j.y+"px"),x&&(a.style.width=x.x+"px",a.style.height=x.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Oe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Qs(a){return new wi(a)}var Vs=wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Vs.imagePath!="string"&&(Vs.imagePath=this._detectIconPath()),(this.options.imagePath||Vs.imagePath)+wi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(f,y,x){var j=y.exec(f);return j&&j[x]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=et("div","leaflet-default-icon-path",document.body),u=Ps(a,"background-image")||Ps(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Gs=Ni.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new aa(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ve(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,f=u._map,y=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,j=na(u._icon),D=f.getPixelBounds(),ie=f.getPixelOrigin(),fe=Y(D.min._subtract(ie).add(x),D.max._subtract(ie).subtract(x));if(!fe.contains(j)){var be=Se((Math.max(fe.max.x,j.x)-fe.max.x)/(D.max.x-fe.max.x)-(Math.min(fe.min.x,j.x)-fe.min.x)/(D.min.x-fe.min.x),(Math.max(fe.max.y,j.y)-fe.max.y)/(D.max.y-fe.max.y)-(Math.min(fe.min.y,j.y)-fe.min.y)/(D.min.y-fe.min.y)).multiplyBy(y);f.panBy(be,{animate:!1}),this._draggable._newPos._add(be),this._draggable._startPos._add(be),wt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ae(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,f=u._shadow,y=na(u._icon),x=u._map.layerPointToLatLng(y);f&&wt(f,y),u._latlng=x,a.latlng=x,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ys=ci.extend({options:{icon:new Vs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){z(this,u),this._latlng=we(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=we(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),y=!1;f!==this._icon&&(this._icon&&this._removeIcon(),y=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),Ve(f,u),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(f,"focus",this._panOnFocus,this);var x=a.icon.createShadow(this._shadow),j=!1;x!==this._shadow&&(this._removeShadow(),j=!0),x&&(Ve(x,u),x.alt=""),this._shadow=x,a.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&j&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(this._icon,"focus",this._panOnFocus,this),_t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_t(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&wt(this._icon,a),this._shadow&&wt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gs)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gs(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ct(this._icon,a),this._shadow&&Ct(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,f=u.iconSize?Se(u.iconSize):Se(0,0),y=u.iconAnchor?Se(u.iconAnchor):Se(0,0);a.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:f.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _u(a,u){return new Ys(a,u)}var Ei=ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),es=Ei.extend({options:{fill:!0,radius:10},initialize:function(a,u){z(this,u),this._latlng=we(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=we(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Ei.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,f=this._clickTolerance(),y=[a+f,u+f];this._pxBounds=new k(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xu(a,u){return new es(a,u)}var Fr=es.extend({initialize:function(a,u,f){if(typeof u=="number"&&(u=d({},f,{radius:u})),z(this,u),this._latlng=we(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ei.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,f=this._map,y=f.options.crs;if(y.distance===Ke.distance){var x=Math.PI/180,j=this._mRadius/Ke.R/x,D=f.project([u+j,a]),ie=f.project([u-j,a]),fe=D.add(ie).divideBy(2),be=f.unproject(fe).lat,Te=Math.acos((Math.cos(j*x)-Math.sin(u*x)*Math.sin(be*x))/(Math.cos(u*x)*Math.cos(be*x)))/x;(isNaN(Te)||Te===0)&&(Te=j/Math.cos(Math.PI/180*u)),this._point=fe.subtract(f.getPixelOrigin()),this._radius=isNaN(Te)?0:fe.x-f.project([be,a-Te]).x,this._radiusY=fe.y-D.y}else{var De=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(De).x}this._updateBounds()}});function bu(a,u,f){return new Fr(a,u,f)}var qi=Ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,f=null,y=Ks,x,j,D=0,ie=this._parts.length;D<ie;D++)for(var fe=this._parts[D],be=1,Te=fe.length;be<Te;be++){x=fe[be-1],j=fe[be];var De=y(a,x,j,!0);De<u&&(u=De,f=y(a,x,j))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=we(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new F,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Qn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],f=Qn(a),y=0,x=a.length;y<x;y++)f?(u[y]=we(a[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(a[y]);return u},_project:function(){var a=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new re(a,a);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,f){var y=a[0]instanceof ge,x=a.length,j,D;if(y){for(D=[],j=0;j<x;j++)D[j]=this._map.latLngToLayerPoint(a[j]),f.extend(D[j]);u.push(D)}else for(j=0;j<x;j++)this._projectLatlngs(a[j],u,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,y,x,j,D,ie,fe;for(f=0,x=0,j=this._rings.length;f<j;f++)for(fe=this._rings[f],y=0,D=fe.length;y<D-1;y++)ie=pu(fe[y],fe[y+1],a,y,!0),ie&&(u[x]=u[x]||[],u[x].push(ie[0]),(ie[1]!==fe[y+1]||y===D-2)&&(u[x].push(ie[1]),x++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,f=0,y=a.length;f<y;f++)a[f]=du(a[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var f,y,x,j,D,ie,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,j=this._parts.length;f<j;f++)for(ie=this._parts[f],y=0,D=ie.length,x=D-1;y<D;x=y++)if(!(!u&&y===0)&&fu(a,ie[x],ie[y])<=fe)return!0;return!1}});function wd(a,u){return new qi(a,u)}qi._flat=Ur;var ts=qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=qi.prototype._convertLatLngs.call(this,a),f=u.length;return f>=2&&u[0]instanceof ge&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(a){qi.prototype._setLatLngs.call(this,a),Qn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,f=new re(u,u);if(a=new k(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,x=this._rings.length,j;y<x;y++)j=uu(this._rings[y],a,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,f,y,x,j,D,ie,fe,be;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(j=0,fe=this._parts.length;j<fe;j++)for(f=this._parts[j],D=0,be=f.length,ie=be-1;D<be;ie=D++)y=f[D],x=f[ie],y.y>a.y!=x.y>a.y&&a.x<(x.x-y.x)*(a.y-y.y)/(x.y-y.y)+y.x&&(u=!u);return u||qi.prototype._containsPoint.call(this,a,!0)}});function Ed(a,u){return new ts(a,u)}var Fi=Si.extend({initialize:function(a,u){z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=Z(a)?a:a.features,f,y,x;if(u){for(f=0,y=u.length;f<y;f++)x=u[f],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var j=this.options;if(j.filter&&!j.filter(a))return this;var D=gn(a,j);return D?(D.feature=Qr(a),D.defaultOptions=D.options,this.resetStyle(D),j.onEachFeature&&j.onEachFeature(a,D),this.addLayer(D)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=d({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function gn(a,u){var f=a.type==="Feature"?a.geometry:a,y=f?f.coordinates:null,x=[],j=u&&u.pointToLayer,D=u&&u.coordsToLatLng||Hr,ie,fe,be,Te;if(!y&&!f)return null;switch(f.type){case"Point":return ie=D(y),ns(j,a,ie,u);case"MultiPoint":for(be=0,Te=y.length;be<Te;be++)ie=D(y[be]),x.push(ns(j,a,ie,u));return new Si(x);case"LineString":case"MultiLineString":return fe=$s(y,f.type==="LineString"?0:1,D),new qi(fe,u);case"Polygon":case"MultiPolygon":return fe=$s(y,f.type==="Polygon"?1:2,D),new ts(fe,u);case"GeometryCollection":for(be=0,Te=f.geometries.length;be<Te;be++){var De=gn({geometry:f.geometries[be],type:"Feature",properties:a.properties},u);De&&x.push(De)}return new Si(x);case"FeatureCollection":for(be=0,Te=f.features.length;be<Te;be++){var Xe=gn(f.features[be],u);Xe&&x.push(Xe)}return new Si(x);default:throw new Error("Invalid GeoJSON object.")}}function ns(a,u,f,y){return a?a(u,f):new Ys(f,y&&y.markersInheritOptions&&y)}function Hr(a){return new ge(a[1],a[0],a[2])}function $s(a,u,f){for(var y=[],x=0,j=a.length,D;x<j;x++)D=u?$s(a[x],u-1,f):(f||Hr)(a[x]),y.push(D);return y}function Kr(a,u){return a=we(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function Xs(a,u,f,y){for(var x=[],j=0,D=a.length;j<D;j++)x.push(u?Xs(a[j],Qn(a[j])?0:u-1,f,y):Kr(a[j],y));return!u&&f&&x.length>0&&x.push(x[0].slice()),x}function sa(a,u){return a.feature?d({},a.feature,{geometry:u}):Qr(u)}function Qr(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ra={toGeoJSON:function(a){return sa(this,{type:"Point",coordinates:Kr(this.getLatLng(),a)})}};Ys.include(ra),Fr.include(ra),es.include(ra),qi.include({toGeoJSON:function(a){var u=!Qn(this._latlngs),f=Xs(this._latlngs,u?1:0,!1,a);return sa(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),ts.include({toGeoJSON:function(a){var u=!Qn(this._latlngs),f=u&&!Qn(this._latlngs[0]),y=Xs(this._latlngs,f?2:u?1:0,!0,a);return u||(y=[y]),sa(this,{type:(f?"Multi":"")+"Polygon",coordinates:y})}}),Wa.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(a).geometry.coordinates)}),sa(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var f=u==="GeometryCollection",y=[];return this.eachLayer(function(x){if(x.toGeoJSON){var j=x.toGeoJSON(a);if(f)y.push(j.geometry);else{var D=Qr(j);D.type==="FeatureCollection"?y.push.apply(y,D.features):y.push(D)}}}),f?sa(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Vr(a,u){return new Fi(a,u)}var Js=Vr,is=ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,f){this._url=a,this._bounds=W(u),z(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&un(this._image),this},bringToBack:function(){return this._map&&ba(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=W(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:et("img");if(Ve(u,"leaflet-image-layer"),this._zoomAnimated&&Ve(u,"leaflet-zoom-animated"),this.options.className&&Ve(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ii(this._image,f,u)},_reset:function(){var a=this._image,u=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();wt(a,u.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Nu=function(a,u,f){return new is(a,u,f)},la=is.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:et("video");if(Ve(u,"leaflet-image-layer"),this._zoomAnimated&&Ve(u,"leaflet-zoom-animated"),this.options.className&&Ve(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=p(this.fire,this,"load"),a){for(var f=u.getElementsByTagName("source"),y=[],x=0;x<f.length;x++)y.push(f[x].src);this._url=f.length>0?y:[u.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var D=et("source");D.src=this._url[j],u.appendChild(D)}}});function as(a,u,f){return new la(a,u,f)}var Gr=is.extend({_initImage:function(){var a=this._image=this._url;Ve(a,"leaflet-image-layer"),this._zoomAnimated&&Ve(a,"leaflet-zoom-animated"),this.options.className&&Ve(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function Su(a,u,f){return new Gr(a,u,f)}var yn=ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof ge||Z(a))?(this._latlng=we(a),z(this,u)):(z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(p(_t,void 0,this._container),200)):_t(this._container),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=we(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&un(this._container),this},bringToBack:function(){return this._map&&ba(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Si){u=null;var f=this._source._layers;for(var y in f)if(f[y]._map){u=f[y];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=Se(this.options.offset),f=this._getAnchor();this._zoomAnimated?wt(this._container,a.add(f)):u=u.add(a).add(f);var y=this._containerBottom=-u.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(a,u,f,y){var x=u;return x instanceof a||(x=new a(y).setContent(u)),f&&x.setLatLng(f),x}}),ci.include({_initOverlay:function(a,u,f,y){var x=f;return x instanceof a?(z(x,y),x._source=this):(x=u&&!y?u:new a(y,this),x.setContent(f)),x}});var Ws=yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,yn.prototype.openOn.call(this,a)},onAdd:function(a){yn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ei||this._source.on("preclick",ui))},onRemove:function(a){yn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ei||this._source.off("preclick",ui))},getEvents:function(){var a=yn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=et("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=et("div",a+"-content-wrapper",u);if(this._contentNode=et("div",a+"-content",f),Sa(u),bi(this._contentNode),Ze(u,"contextmenu",ui),this._tipContainer=et("div",a+"-tip-container",u),this._tip=et("div",a+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=et("a",a+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ze(y,"click",function(x){Ft(x),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var y=a.offsetHeight,x=this.options.maxHeight,j="leaflet-popup-scrolled";x&&y>x?(u.height=x+"px",Ve(a,j)):Ot(a,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();wt(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Ps(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,y=this._containerWidth,x=new re(this._containerLeft,-f-this._containerBottom);x._add(na(this._container));var j=a.layerPointToContainerPoint(x),D=Se(this.options.autoPanPadding),ie=Se(this.options.autoPanPaddingTopLeft||D),fe=Se(this.options.autoPanPaddingBottomRight||D),be=a.getSize(),Te=0,De=0;j.x+y+fe.x>be.x&&(Te=j.x+y-be.x+fe.x),j.x-Te-ie.x<0&&(Te=j.x-ie.x),j.y+f+fe.y>be.y&&(De=j.y+f-be.y+fe.y),j.y-De-ie.y<0&&(De=j.y-ie.y),(Te||De)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Te,De]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wu=function(a,u){return new Ws(a,u)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(a,u,f){return this._initOverlay(Ws,a,u,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ci.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Ws,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){ia(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Ei)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var er=yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){yn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){yn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=yn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,f,y=this._map,x=this._container,j=y.latLngToContainerPoint(y.getCenter()),D=y.layerPointToContainerPoint(a),ie=this.options.direction,fe=x.offsetWidth,be=x.offsetHeight,Te=Se(this.options.offset),De=this._getAnchor();ie==="top"?(u=fe/2,f=be):ie==="bottom"?(u=fe/2,f=0):ie==="center"?(u=fe/2,f=be/2):ie==="right"?(u=0,f=be/2):ie==="left"?(u=fe,f=be/2):D.x<j.x?(ie="right",u=0,f=be/2):(ie="left",u=fe+(Te.x+De.x)*2,f=be/2),a=a.subtract(Se(u,f,!0)).add(Te).add(De),Ot(x,"leaflet-tooltip-right"),Ot(x,"leaflet-tooltip-left"),Ot(x,"leaflet-tooltip-top"),Ot(x,"leaflet-tooltip-bottom"),Ve(x,"leaflet-tooltip-"+ie),wt(x,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ct(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jd=function(a,u){return new er(a,u)};st.include({openTooltip:function(a,u,f){return this._initOverlay(er,a,u,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ci.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(er,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Ze(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ze(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,f,y;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),y=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var Eu=wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Hn(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var y=Se(f.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Td(a){return new Eu(a)}wi.Default=Vs;var ss=ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),_t(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ba(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof re?a:new re(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,f=-a(-1/0,1/0),y=0,x=u.length,j;y<x;y++)j=u[y].style.zIndex,u[y]!==this._container&&j&&(f=a(f,+j));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Ct(this._container,this.options.opacity);var a=+new Date,u=!1,f=!1;for(var y in this._tiles){var x=this._tiles[y];if(!(!x.current||!x.loaded)){var j=Math.min(1,(a-x.loaded)/200);Ct(x.el,j),j<1?u=!0:(x.active?f=!0:this._onOpaqueTile(x),x.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=u-Math.abs(a-f),this._onUpdateLevel(f)):(_t(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var y=this._levels[a],x=this._map;return y||(y=this._levels[a]={},y.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=x.project(x.unproject(x.getPixelOrigin()),a).round(),y.zoom=a,this._setZoomTransform(y,x.getCenter(),x.getZoom()),E(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)_t(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,f,y){var x=Math.floor(a/2),j=Math.floor(u/2),D=f-1,ie=new re(+x,+j);ie.z=+D;var fe=this._tileCoordsToKey(ie),be=this._tiles[fe];return be&&be.active?(be.retain=!0,!0):(be&&be.loaded&&(be.retain=!0),D>y?this._retainParent(x,j,D,y):!1)},_retainChildren:function(a,u,f,y){for(var x=2*a;x<2*a+2;x++)for(var j=2*u;j<2*u+2;j++){var D=new re(x,j);D.z=f+1;var ie=this._tileCoordsToKey(D),fe=this._tiles[ie];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);f+1<y&&this._retainChildren(x,j,f+1,y)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,f,y){var x=Math.round(u);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var j=this.options.updateWhenZooming&&x!==this._tileZoom;(!y||j)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,u)},_setZoomTransform:function(a,u,f){var y=this._map.getZoomScale(f,a.zoom),x=a.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,f)).round();Oe.any3d?Ii(a.el,x,y):wt(a.el,x)},_resetGrid:function(){var a=this._map,u=a.options.crs,f=this._tileSize=this.getTileSize(),y=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],y).x/f.x),Math.ceil(a.project([0,u.wrapLng[1]],y).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],y).y/f.x),Math.ceil(a.project([u.wrapLat[1],0],y).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(f,this._tileZoom),x=u.project(a,this._tileZoom).floor(),j=u.getSize().divideBy(y*2);return new k(x.subtract(j),x.add(j))},_update:function(a){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(a),x=this._pxBoundsToTileRange(y),j=x.getCenter(),D=[],ie=this.options.keepBuffer,fe=new k(x.getBottomLeft().subtract([ie,-ie]),x.getTopRight().add([ie,-ie]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var be in this._tiles){var Te=this._tiles[be].coords;(Te.z!==this._tileZoom||!fe.contains(new re(Te.x,Te.y)))&&(this._tiles[be].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var De=x.min.y;De<=x.max.y;De++)for(var Xe=x.min.x;Xe<=x.max.x;Xe++){var cn=new re(Xe,De);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var Ht=this._tiles[this._tileCoordsToKey(cn)];Ht?Ht.current=!0:D.push(cn)}}if(D.sort(function(ut,ct){return ut.distanceTo(j)-ct.distanceTo(j)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var In=document.createDocumentFragment();for(Xe=0;Xe<D.length;Xe++)this._addTile(D[Xe],In);this._level.el.appendChild(In)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!u.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(a);return W(this.options.bounds).overlaps(y)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,f=this.getTileSize(),y=a.scaleBy(f),x=y.add(f),j=u.unproject(y,a.z),D=u.unproject(x,a.z);return[j,D]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),f=new F(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),f=new re(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(a){var u=this._tiles[a];u&&(_t(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ve(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=E,a.onmousemove=E,Oe.ielt9&&this.options.opacity<1&&Ct(a,this.options.opacity)},_addTile:function(a,u){var f=this._getTilePos(a),y=this._tileCoordsToKey(a),x=this.createTile(this._wrapCoords(a),p(this._tileReady,this,a));this._initTile(x),this.createTile.length<2&&ae(p(this._tileReady,this,a,null,x)),wt(x,f),this._tiles[y]={el:x,coords:a,current:!0},u.appendChild(x),this.fire("tileloadstart",{tile:x,coords:a})},_tileReady:function(a,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:a});var y=this._tileCoordsToKey(a);f=this._tiles[y],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Ct(f.el,0),ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Ve(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new re(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new k(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ju(a){return new ss(a)}var oa=ss.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=z(this,u),u.detectRetina&&Oe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var f=document.createElement("img");return Ze(f,"load",p(this._tileOnLoad,this,u,f)),Ze(f,"error",p(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var u={r:Oe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=f),u["-y"]=f}return I(this._url,d(u,this.options))},_tileOnLoad:function(a,u){Oe.ielt9?setTimeout(p(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,f){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),a(f,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,y=this.options.zoomOffset;return f&&(a=u-a),a+y},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=E,u.onerror=E,!u.complete)){u.src=X;var f=this._tiles[a].coords;_t(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",X),ss.prototype._removeTile.call(this,a)},_tileReady:function(a,u,f){if(!(!this._map||f&&f.getAttribute("src")===X))return ss.prototype._tileReady.call(this,a,u,f)}});function Vn(a,u){return new oa(a,u)}var tr=oa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var f=d({},this.defaultWmsParams);for(var y in u)y in this.options||(f[y]=u[y]);u=z(this,u);var x=u.detectRetina&&Oe.retina?2:1,j=this.getTileSize();f.width=j.x*x,f.height=j.y*x,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,oa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),f=this._crs,y=Y(f.project(u[0]),f.project(u[1])),x=y.min,j=y.max,D=(this._wmsVersion>=1.3&&this._crs===Xl?[x.y,x.x,j.y,j.x]:[x.x,x.y,j.x,j.y]).join(","),ie=oa.prototype.getTileUrl.call(this,a);return ie+M(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(a,u){return d(this.wmsParams,a),u||this.redraw(),this}});function Gn(a,u){return new tr(a,u)}oa.WMS=tr,Vn.wms=Gn;var On=ci.extend({options:{padding:.1},initialize:function(a){z(this,a),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var f=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,u),j=y.multiplyBy(-f).add(x).subtract(this._map._getNewPixelOrigin(a,u));Oe.any3d?Ii(this._container,j,f):wt(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new k(f,f.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yr=On.extend({options:{tolerance:0},getEvents:function(){var a=On.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){On.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ze(a,"mousemove",this._onMouseMove,this),Ze(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ze(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,_t(this._container),mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var a=this._bounds,u=this._container,f=a.getSize(),y=Oe.retina?2:1;wt(u,a.min),u.width=y*f.x,u.height=y*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){On.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[_(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,f=u.next,y=u.prev;f?f.prev=y:this._drawLast=y,y?y.next=f:this._drawFirst=f,delete a._order,delete this._layers[_(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),f=[],y,x;for(x=0;x<u.length;x++){if(y=Number(u[x]),isNaN(y))return;f.push(y)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)a=y.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var f,y,x,j,D=a._parts,ie=D.length,fe=this._ctx;if(ie){for(fe.beginPath(),f=0;f<ie;f++){for(y=0,x=D[f].length;y<x;y++)j=D[f][y],fe[y?"lineTo":"moveTo"](j.x,j.y);u&&fe.closePath()}this._fillStroke(fe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,f=this._ctx,y=Math.max(Math.round(a._radius),1),x=(Math.max(Math.round(a._radiusY),1)||y)/y;x!==1&&(f.save(),f.scale(1,x)),f.beginPath(),f.arc(u.x,u.y/x,y,0,Math.PI*2,!1),x!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,u){var f=u.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),f,y,x=this._drawFirst;x;x=x.next)f=x.layer,f.options.interactive&&f._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(y=f);this._fireEvent(y?[y]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var f,y,x=this._drawFirst;x;x=x.next)f=x.layer,f.options.interactive&&f._containsPoint(u)&&(y=f);y!==this._hoveredLayer&&(this._handleMouseOut(a),y&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([y],a,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,f){this._map._fireDOMEvent(u,f||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var f=u.next,y=u.prev;if(f)f.prev=y;else return;y?y.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var f=u.next,y=u.prev;if(y)y.next=f;else return;f?f.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function nr(a){return Oe.canvas?new Yr(a):null}var ua=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Jl={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(On.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=ua("shape");Ve(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=ua("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[_(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;_t(u),a.removeInteractiveTarget(u),delete this._layers[_(a)]},_updateStyle:function(a){var u=a._stroke,f=a._fill,y=a.options,x=a._container;x.stroked=!!y.stroke,x.filled=!!y.fill,y.stroke?(u||(u=a._stroke=ua("stroke")),x.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=Z(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(x.removeChild(u),a._stroke=null),y.fill?(f||(f=a._fill=ua("fill")),x.appendChild(f),f.color=y.fillColor||y.color,f.opacity=y.fillOpacity):f&&(x.removeChild(f),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),f=Math.round(a._radius),y=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+y+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){un(a._container)},_bringToBack:function(a){ba(a._container)}},ji=Oe.vml?ua:_n,rs=On.extend({_initContainer:function(){this._container=ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_t(this._container),mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var a=this._bounds,u=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),wt(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=ji("path");a.options.className&&Ve(u,a.options.className),a.options.interactive&&Ve(u,"leaflet-interactive"),this._updateStyle(a),this._layers[_(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){_t(a._path),a.removeInteractiveTarget(a._path),delete this._layers[_(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,f=a.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,mn(a._parts,u))},_updateCircle:function(a){var u=a._point,f=Math.max(Math.round(a._radius),1),y=Math.max(Math.round(a._radiusY),1)||f,x="a"+f+","+y+" 0 1,0 ",j=a._empty()?"M0 0":"M"+(u.x-f)+","+u.y+x+f*2+",0 "+x+-f*2+",0 ";this._setPath(a,j)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){un(a._path)},_bringToBack:function(a){ba(a._path)}});Oe.vml&&rs.include(Jl);function ir(a){return Oe.svg||Oe.vml?new rs(a):null}st.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&nr(a)||ir(a)}});var Ea=ts.extend({initialize:function(a,u){ts.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=W(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Cd(a,u){return new Ea(a,u)}rs.create=ji,rs.pointsToPath=mn,Fi.geometryToLayer=gn,Fi.coordsToLatLng=Hr,Fi.coordsToLatLngs=$s,Fi.latLngToCoords=Kr,Fi.latLngsToCoords=Xs,Fi.getFeature=sa,Fi.asFeature=Qr,st.mergeOptions({boxZoom:!0});var Mn=Ni.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qa(),Lr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ze(document,{contextmenu:ia,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),Ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new k(this._point,this._startPoint),f=u.getSize();wt(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(_t(this._box),Ot(this._container,"leaflet-crosshair")),xi(),Is(),mt(document,{contextmenu:ia,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",Mn),st.mergeOptions({doubleClickZoom:!0});var $r=Ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,f=u.getZoom(),y=u.options.zoomDelta,x=a.originalEvent.shiftKey?f-y:f+y;u.options.doubleClickZoom==="center"?u.setZoom(x):u.setZoomAround(a.containerPoint,x)}});st.addInitHook("addHandler","doubleClickZoom",$r),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ti=Ni.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new aa(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,"leaflet-grab"),Ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=W(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),f=this._initialWorldOffset,y=this._draggable._newPos.x,x=(y-u+f)%a+u-f,j=(y+u+f)%a-u-f,D=Math.abs(x+f)<Math.abs(j+f)?x:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(a){var u=this._map,f=u.options,y=!f.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),y)u.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,D=f.easeLinearity,ie=x.multiplyBy(D/j),fe=ie.distanceTo([0,0]),be=Math.min(f.inertiaMaxSpeed,fe),Te=ie.multiplyBy(be/fe),De=be/(f.inertiaDeceleration*D),Xe=Te.multiplyBy(-De/2).round();!Xe.x&&!Xe.y?u.fire("moveend"):(Xe=u._limitOffset(Xe,u.options.maxBounds),ae(function(){u.panBy(Xe,{duration:De,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",Ti),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wl=Ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ze(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,f=a.scrollTop||u.scrollTop,y=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},f=this.keyCodes,y,x;for(y=0,x=f.left.length;y<x;y++)u[f.left[y]]=[-1*a,0];for(y=0,x=f.right.length;y<x;y++)u[f.right[y]]=[a,0];for(y=0,x=f.down.length;y<x;y++)u[f.down[y]]=[0,a];for(y=0,x=f.up.length;y<x;y++)u[f.up[y]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},f=this.keyCodes,y,x;for(y=0,x=f.zoomIn.length;y<x;y++)u[f.zoomIn[y]]=a;for(y=0,x=f.zoomOut.length;y<x;y++)u[f.zoomOut[y]]=-a},_addHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,f=this._map,y;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(y=this._panKeys[u],a.shiftKey&&(y=Se(y).multiplyBy(3)),f.options.maxBounds&&(y=f._limitOffset(Se(y),f.options.maxBounds)),f.options.worldCopyJump){var x=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(y)));f.panTo(x)}else f.panBy(y)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ia(a)}}});st.addInitHook("addHandler","keyboard",Wl),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ar=Ni.extend({addHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=bn(a),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var y=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),y),ia(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,j=f?Math.ceil(x/f)*f:x,D=a._limitZoom(u+(this._delta>0?j:-j))-u;this._delta=0,this._startTime=null,D&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+D):a.setZoomAround(this._lastMousePos,u+D))}});st.addInitHook("addHandler","scrollWheelZoom",ar);var ja=600;st.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var Xr=Ni.extend({addHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new re(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ze(document,"touchend",Ft),Ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),ja),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){mt(document,"touchend",Ft),mt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new re(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});st.addInitHook("addHandler","tapHold",Xr),st.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var eo=Ni.extend({addHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(a.touches[0]),y=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(y)._divideBy(2))),this._startDist=f.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),Ft(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(a.touches[0]),y=u.mouseEventToContainerPoint(a.touches[1]),x=f.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(x,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&x<1||this._zoom>u.getMaxZoom()&&x>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var j=f._add(y)._divideBy(2)._subtract(this._centerPoint);if(x===1&&j.x===0&&j.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var D=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(D,this,!0),Ft(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",eo),st.BoxZoom=Mn,st.DoubleClickZoom=$r,st.Drag=Ti,st.Keyboard=Wl,st.ScrollWheelZoom=ar,st.TapHold=Xr,st.TouchZoom=eo,r.Bounds=k,r.Browser=Oe,r.CRS=Ce,r.Canvas=Yr,r.Circle=Fr,r.CircleMarker=es,r.Class=q,r.Control=Bn,r.DivIcon=Eu,r.DivOverlay=yn,r.DomEvent=Br,r.DomUtil=Ya,r.Draggable=aa,r.Evented=P,r.FeatureGroup=Si,r.GeoJSON=Fi,r.GridLayer=ss,r.Handler=Ni,r.Icon=wi,r.ImageOverlay=is,r.LatLng=ge,r.LatLngBounds=F,r.Layer=ci,r.LayerGroup=Wa,r.LineUtil=Nd,r.Map=st,r.Marker=Ys,r.Mixin=vd,r.Path=Ei,r.Point=re,r.PolyUtil=Yl,r.Polygon=ts,r.Polyline=qi,r.Popup=Ws,r.PosAnimation=$a,r.Projection=gu,r.Rectangle=Ea,r.Renderer=On,r.SVG=rs,r.SVGOverlay=Gr,r.TileLayer=oa,r.Tooltip=er,r.Transformation=at,r.Util=de,r.VideoOverlay=la,r.bind=p,r.bounds=Y,r.canvas=nr,r.circle=bu,r.circleMarker=xu,r.control=Zi,r.divIcon=Td,r.extend=d,r.featureGroup=vu,r.geoJSON=Vr,r.geoJson=Js,r.gridLayer=ju,r.icon=Qs,r.imageOverlay=Nu,r.latLng=we,r.latLngBounds=W,r.layerGroup=Sd,r.map=Fl,r.marker=_u,r.point=Se,r.polygon=Ed,r.polyline=wd,r.popup=wu,r.rectangle=Cd,r.setOptions=z,r.stamp=_,r.svg=ir,r.svgOverlay=Su,r.tileLayer=Vn,r.tooltip=jd,r.transformation=en,r.version=o,r.videoOverlay=as;var to=window.L;r.noConflict=function(){return window.L=to,this},window.L=r}))})(qo,qo.exports)),qo.exports}var nz=tz();const Lc=td(nz),iz=[41.0082,28.9784];function Ts(t){return t.toFixed(6)}function az({lat:t,lon:i,radiusM:r,onSelect:o}){const d=w.useRef(null),m=w.useRef(null),p=w.useRef(null),v=w.useRef(null),[_,b]=w.useState(!1),[S,E]=w.useState(""),[C,O]=w.useState(!1),[A,z]=w.useState(null),[M,H]=w.useState(null),I=w.useMemo(()=>t!==null&&i!==null?[t,i]:iz,[t,i]);w.useEffect(()=>{if(!(!d.current||m.current)){try{const X=Lc.map(d.current,{center:I,zoom:t!==null&&i!==null?17:12,zoomControl:!0});m.current=X,Lc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo(X);const V=Lc.circleMarker(I,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo(X);p.current=V;const ee=Lc.circle(I,{radius:Number.isFinite(r)&&r>0?r:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo(X);v.current=ee,X.on("click",$=>{const J=$.latlng.lat,ue=$.latlng.lng;o(J,ue),H(`Haritadan secildi: ${Ts(J)}, ${Ts(ue)}`)}),b(!0),z(null)}catch{z("Harita yuklenemedi. Lutfen tekrar deneyin."),b(!1)}return()=>{m.current&&(m.current.remove(),m.current=null),p.current=null,v.current=null,b(!1)}}},[I,t,i,o,r]),w.useEffect(()=>{if(!m.current||!p.current||!v.current)return;const X=m.current,V=p.current,ee=v.current;if(t!==null&&i!==null){const J=[t,i];V.setLatLng(J),ee.setLatLng(J),X.panTo(J,{animate:!0})}const $=Number.isFinite(r)&&r>0?r:75;ee.setRadius($)},[t,i,r]);const Z=w.useCallback(async()=>{if(!_||!m.current)return;const X=S.trim();if(!X){H("Lutfen adres veya lokasyon adi girin.");return}O(!0);try{const V=new URL("https://nominatim.openstreetmap.org/search");V.searchParams.set("q",X),V.searchParams.set("format","json"),V.searchParams.set("limit","1"),V.searchParams.set("addressdetails","1"),V.searchParams.set("accept-language","tr");const ee=await fetch(V.toString(),{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error("search_failed");const $=await ee.json();if(!Array.isArray($)||$.length===0){H("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const J=$[0],ue=Number(J.lat),ae=Number(J.lon);if(!Number.isFinite(ue)||!Number.isFinite(ae)){H("Adres koordinata cevrilemedi.");return}o(ue,ae),m.current.setView([ue,ae],17,{animate:!0}),H(`Adres bulundu: ${Ts(ue)}, ${Ts(ae)}${J.display_name?` (${J.display_name})`:""}`)}catch{H("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{O(!1)}},[_,o,S]),Q=w.useCallback(()=>{if(!navigator.geolocation){H("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition(X=>{const V=X.coords.latitude,ee=X.coords.longitude;o(V,ee),H(`Mevcut konum alindi: ${Ts(V)}, ${Ts(ee)}`)},()=>{H("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return l.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),l.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),A?l.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:A}):l.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),l.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[l.jsx("input",{value:S,onChange:X=>E(X.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!_}),l.jsx("button",{type:"button",onClick:()=>{Z()},disabled:!_||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),l.jsx("button",{type:"button",onClick:Q,disabled:!_,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),l.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[l.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?Ts(t):"-"]}),l.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",i!==null?Ts(i):"-"]}),l.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",r,"m"]})]}),M?l.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:M}):null]})}const Dc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Pc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},sz={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function Z_(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function q_(t,i){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||i}function rz(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function lz(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(null),[d,m]=w.useState(null),[p,v]=w.useState(null),[_,b]=w.useState(""),[S,E]=w.useState(""),[C,O]=w.useState(""),[A,z]=w.useState(Dc),[M,H]=w.useState(sz),[I,Z]=w.useState(Pc),[Q,X]=w.useState([]),[V,ee]=w.useState(null),$=He({queryKey:["qr-codes"],queryFn:()=>Cj()}),J=He({queryKey:["qr-points"],queryFn:()=>Mj()}),ue=Qe({mutationFn:kj,onSuccess:te=>{i({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${te.id}`}),z(Dc),o(te.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:te=>{i({variant:"error",title:"QR kod olusturulamadi",description:Be(te,"Islem basarisiz.").message})}}),ae=Qe({mutationFn:({codeId:te,payload:je})=>Aj(te,je),onSuccess:te=>{i({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${te.id}`}),m(null),z(Dc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:te=>{i({variant:"error",title:"QR kod guncellenemedi",description:Be(te,"Islem basarisiz.").message})}}),ce=Qe({mutationFn:({codeId:te,pointIds:je})=>zj(te,{point_ids:je}),onSuccess:()=>{i({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),X([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{i({variant:"error",title:"Atama basarisiz",description:Be(te,"Nokta atamasi yapilamadi.").message})}}),de=Qe({mutationFn:({codeId:te,pointId:je})=>Oj(te,je),onSuccess:()=>{i({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{i({variant:"error",title:"Islem basarisiz",description:Be(te,"Nokta kaldirilamadi.").message})}}),q=Qe({mutationFn:Rj,onSuccess:te=>{i({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${te.id}`}),Z(Pc),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{i({variant:"error",title:"QR nokta olusturulamadi",description:Be(te,"Islem basarisiz.").message})}}),se=Qe({mutationFn:({pointId:te,payload:je})=>Lj(te,je),onSuccess:()=>{i({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),v(null),Z(Pc),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{i({variant:"error",title:"QR nokta guncellenemedi",description:Be(te,"Islem basarisiz.").message})}}),U=Qe({mutationFn:Dj,onSuccess:()=>{i({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:te=>{i({variant:"error",title:"Islem basarisiz",description:Be(te,"Nokta pasife alinamadi.").message})}}),P=$.data??[],re=J.data??[];w.useEffect(()=>{r===null&&P.length>0&&o(P[0].id),r!==null&&!P.some(te=>te.id===r)&&o(P.length>0?P[0].id:null)},[P,r]);const Ee=w.useMemo(()=>P.find(te=>te.id===r)??null,[P,r]);w.useEffect(()=>{if(!Ee){ee(null);return}let te=!1;return I_.toDataURL(Ee.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(je=>{te||ee(je)}).catch(()=>{te||ee(null)}),()=>{te=!0}},[Ee?.id,Ee?.code_value]);const Se=w.useMemo(()=>{const te=new Map;for(const je of re)te.set(je.id,je);return te},[re]),k=w.useMemo(()=>Ee?Ee.point_ids.map(te=>Se.get(te)??null).filter(te=>te!==null):[],[Ee,Se]),Y=w.useMemo(()=>{const te=_.trim().toLowerCase();return te?P.filter(je=>String(je.id).includes(te)||(je.name??"").toLowerCase().includes(te)||je.code_value.toLowerCase().includes(te)):P},[P,_]),F=w.useMemo(()=>{const te=S.trim().toLowerCase();return te?re.filter(je=>String(je.id).includes(te)||je.name.toLowerCase().includes(te)||String(je.department_id??"").includes(te)||String(je.region_id??"").includes(te)):re},[re,S]),W=w.useMemo(()=>{const te=re.filter(We=>We.is_active),je=C.trim().toLowerCase();return je?te.filter(We=>String(We.id).includes(je)||We.name.toLowerCase().includes(je)||String(We.department_id??"").includes(je)||String(We.region_id??"").includes(je)):te},[re,C]),ge=w.useMemo(()=>{const te=P.filter(zt=>zt.is_active).length,je=re.filter(zt=>zt.is_active).length,We=P.filter(zt=>zt.point_ids.length===0).length;return{codeCount:P.length,activeCodes:te,pointCount:re.length,activePoints:je,codesWithoutPoint:We}},[P,re]),we=w.useMemo(()=>{const te=Number(I.lat);return Number.isFinite(te)?te:null},[I.lat]),Ce=w.useMemo(()=>{const te=Number(I.lon);return Number.isFinite(te)?te:null},[I.lon]),Ke=w.useMemo(()=>{const te=Number(I.radiusM);return Number.isFinite(te)&&te>0?te:75},[I.radiusM]),qe=te=>{X(je=>je.includes(te)?je.filter(We=>We!==te):[...je,te])},Tt=te=>{m(te.id),z({name:te.name??"",codeValue:te.code_value,codeType:te.code_type,isActive:te.is_active})},at=()=>{m(null),z(Dc)},en=()=>{const te=q_(M.regionCode,"GEN"),je=q_(M.locationCode,"LOKASYON"),We=Number(M.serialNo),zt=Number.isFinite(We)&&We>0?Math.floor(We):1,vt=rz(A.codeType),ve=`PF-${te}-${je}-${vt}-${String(zt).padStart(6,"0")}`;z(G=>({...G,codeValue:ve}))},Zt=te=>{v(te.id),Z({name:te.name,lat:String(te.lat),lon:String(te.lon),radiusM:String(te.radius_m),isActive:te.is_active})},hn=()=>{v(null),Z(Pc)},_n=te=>{te.preventDefault();const je=A.codeValue.trim();if(!je){i({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const We={name:A.name.trim()||null,code_value:je,code_type:A.codeType,is_active:A.isActive};if(d===null){ue.mutate(We);return}ae.mutate({codeId:d,payload:We})},mn=te=>{te.preventDefault();const je=I.name.trim(),We=Number(I.lat),zt=Number(I.lon),vt=Number(I.radiusM);if(!je){i({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(We)||!Number.isFinite(zt)||!Number.isFinite(vt)||vt<=0){i({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const ve={name:je,lat:We,lon:zt,radius_m:vt,is_active:I.isActive};if(p===null){q.mutate(ve);return}se.mutate({pointId:p,payload:ve})},xn=()=>{if(!Ee){i({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(Q.length===0){i({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}ce.mutate({codeId:Ee.id,pointIds:Q})},pn=async te=>{try{await navigator.clipboard.writeText(te),i({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{i({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},Tn=async te=>{try{const je=await I_.toDataURL(te.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),We=document.createElement("a");We.href=je,We.download=`qr-kod-${te.id}.png`,document.body.appendChild(We),We.click(),document.body.removeChild(We),i({variant:"success",title:"PNG indirildi",description:`QR kod #${te.id} dosyasi indirildi.`})}catch{i({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return $.isLoading||J.isLoading?l.jsx(Wt,{}):$.isError||J.isError?l.jsx(Le,{children:l.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),l.jsx(Le,{children:l.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_1fr]",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),l.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[l.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),l.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),l.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),l.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),l.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.codeCount}),l.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activeCodes]})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.pointCount}),l.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activePoints]})]}),l.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[l.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),l.jsx("p",{className:"text-lg font-semibold text-rose-800",children:ge.codesWithoutPoint}),l.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),l.jsxs("form",{className:"mt-3 space-y-3",onSubmit:_n,children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",l.jsx("input",{value:A.name,onChange:te=>z(je=>({...je,name:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),l.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[l.jsx("input",{value:M.regionCode,onChange:te=>H(je=>({...je,regionCode:te.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),l.jsx("input",{value:M.locationCode,onChange:te=>H(je=>({...je,locationCode:te.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),l.jsx("input",{type:"number",min:1,value:M.serialNo,onChange:te=>H(je=>({...je,serialNo:te.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),l.jsx("button",{type:"button",onClick:en,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",l.jsx("input",{value:A.codeValue,onChange:te=>z(je=>({...je,codeValue:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",l.jsxs("select",{value:A.codeType,onChange:te=>z(je=>({...je,codeType:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),l.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),l.jsx("option",{value:"BOTH",children:"BOTH"})]}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:A.isActive,onChange:te=>z(je=>({...je,isActive:te.target.checked}))}),"Aktif"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:ue.isPending||ae.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?l.jsx("button",{type:"button",onClick:at,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),l.jsx("div",{className:"mt-3",children:l.jsx(El,{value:_,onChange:b,placeholder:"Kod adi / degeri / ID ara"})}),l.jsx("div",{className:"mt-3 max-h-80 overflow-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"ID"}),l.jsx("th",{className:"px-3 py-2",children:"Kod"}),l.jsx("th",{className:"px-3 py-2",children:"Tip"}),l.jsx("th",{className:"px-3 py-2",children:"Durum"}),l.jsx("th",{className:"px-3 py-2",children:"Nokta"}),l.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),l.jsxs("tbody",{children:[Y.map(te=>l.jsxs("tr",{className:`border-t border-slate-100 ${r===te.id?"bg-brand-50/60":""}`,children:[l.jsx("td",{className:"px-3 py-2",children:te.id}),l.jsxs("td",{className:"px-3 py-2",children:[l.jsx("button",{type:"button",onClick:()=>o(te.id),className:"font-medium text-brand-700 hover:underline",children:te.name||"-"}),l.jsx("div",{className:"text-xs text-slate-500",children:te.code_value})]}),l.jsx("td",{className:"px-3 py-2",children:Z_(te.code_type)}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${te.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:te.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"px-3 py-2",children:te.point_ids.length}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsx("button",{type:"button",onClick:()=>Tt(te),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),l.jsx("button",{type:"button",onClick:()=>{Tn(te)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},te.id)),Y.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Ee?`3) QR Kod Detay (#${Ee.id})`:"3) QR Kod Detay"}),Ee?l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Ee.name||"-"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Ee.code_value]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Tip:"})," ",Z_(Ee.code_type)]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Ee.is_active?"Aktif":"Pasif"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Ee.point_ids.length]})]}),Ee.point_ids.length===0?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,l.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),l.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Ee.code_value}),V?l.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[l.jsx("img",{src:V,alt:`QR Kod ${Ee.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{Tn(Ee)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),l.jsx("button",{type:"button",onClick:()=>{pn(Ee.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):l.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),l.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),l.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),k.length===0?l.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):l.jsx("div",{className:"space-y-2",children:k.map(te=>l.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-slate-800",children:["#",te.id," - ",te.name]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",te.lat,", ",te.lon," | radius: ",te.radius_m,"m"]})]}),l.jsx("button",{type:"button",onClick:()=>de.mutate({codeId:Ee.id,pointId:te.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},te.id))})]}):l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),l.jsx("div",{className:"mt-3",children:l.jsx(El,{value:C,onChange:O,placeholder:"Nokta adi / ID ara"})}),l.jsx("div",{className:"mt-3 max-h-56 overflow-auto rounded-lg border border-slate-200 p-2",children:W.length===0?l.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):l.jsx("div",{className:"space-y-1",children:W.map(te=>l.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:Q.includes(te.id),onChange:()=>qe(te.id)}),l.jsxs("span",{children:["#",te.id," - ",te.name," (",te.radius_m,"m)"]})]},te.id))})}),l.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",Q.length]}),l.jsx("button",{type:"button",onClick:xn,disabled:ce.isPending||Ee===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),l.jsxs("form",{className:"mt-3 space-y-3",onSubmit:mn,children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",l.jsx("input",{value:I.name,onChange:te=>Z(je=>({...je,name:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",l.jsx("input",{type:"number",step:"any",value:I.lat,onChange:te=>Z(je=>({...je,lat:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",l.jsx("input",{type:"number",step:"any",value:I.lon,onChange:te=>Z(je=>({...je,lon:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l.jsx(az,{lat:we,lon:Ce,radiusM:Ke,onSelect:(te,je)=>Z(We=>({...We,lat:String(te),lon:String(je)}))}),l.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",l.jsx("input",{type:"number",min:1,value:I.radiusM,onChange:te=>Z(je=>({...je,radiusM:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:I.isActive,onChange:te=>Z(je=>({...je,isActive:te.target.checked}))}),"Aktif"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:q.isPending||se.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?l.jsx("button",{type:"button",onClick:hn,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),l.jsx("div",{className:"mt-3",children:l.jsx(El,{value:S,onChange:E,placeholder:"Nokta adi / ID ara"})}),l.jsx("div",{className:"mt-3 max-h-96 overflow-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"ID"}),l.jsx("th",{className:"px-3 py-2",children:"Nokta"}),l.jsx("th",{className:"px-3 py-2",children:"Konum"}),l.jsx("th",{className:"px-3 py-2",children:"Durum"}),l.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),l.jsxs("tbody",{children:[F.map(te=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"px-3 py-2",children:te.id}),l.jsxs("td",{className:"px-3 py-2",children:[l.jsx("p",{className:"font-medium text-slate-800",children:te.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",te.radius_m,"m"]})]}),l.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[te.lat,", ",te.lon]}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${te.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:te.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsx("button",{type:"button",onClick:()=>Zt(te),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),te.is_active?l.jsx("button",{type:"button",onClick:()=>U.mutate(te.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},te.id)),F.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const F_=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function oz(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState(""),[p,v]=w.useState(""),[_,b]=w.useState({}),[S,E]=w.useState(""),[C,O]=w.useState("09:00"),[A,z]=w.useState("17:30"),[M,H]=w.useState("60"),[I,Z]=w.useState(!0),[Q,X]=w.useState(null),V=He({queryKey:["departments"],queryFn:wr}),ee=He({queryKey:["employees","all-for-quick-setup"],queryFn:()=>ya({include_inactive:!0,status:"all"})}),$=He({queryKey:["department-weekly-rules"],queryFn:()=>Gx()}),J=He({queryKey:["department-shifts"],queryFn:()=>iu({active_only:!1})}),ue=r?Number(r):null,ae=Qe({mutationFn:({employeeId:F,departmentId:W})=>Sj(F,{department_id:W}),onSuccess:F=>{i({variant:"success",title:"Departman atamas gncellendi",description:`${F.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:F=>{i({variant:"error",title:"Departman gncellenemedi",description:Be(F,"lem baarsz.").message})}}),ce=Qe({mutationFn:Yx,onSuccess:()=>{i({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:F=>{i({variant:"error",title:"Haftalk kural kaydedilemedi",description:Be(F,"lem baarsz.").message})}}),de=Qe({mutationFn:Yc,onSuccess:()=>{i({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),E(""),O("09:00"),z("17:30"),H("60"),Z(!0),X(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:F=>{i({variant:"error",title:"Vardiya kaydedilemedi",description:Be(F,"lem baarsz.").message})}}),q=Qe({mutationFn:$x,onSuccess:()=>{i({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),Q!==null&&(X(null),E(""),O("09:00"),z("17:30"),H("60"),Z(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:F=>{i({variant:"error",title:"Vardiya pasife alnamad",description:Be(F,"lem baarsz.").message})}}),se=Qe({mutationFn:({shift:F,nextActive:W})=>Yc({id:F.id,department_id:F.department_id,name:F.name,start_time_local:F.start_time_local,end_time_local:F.end_time_local,break_minutes:F.break_minutes,is_active:W}),onSuccess:(F,W)=>{i({variant:"success",title:W.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:W.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:F=>{i({variant:"error",title:"Vardiya durumu gncellenemedi",description:Be(F,"lem baarsz.").message})}}),U=V.data??[],P=ee.data??[],re=$.data??[],Ee=J.data??[],Se=w.useMemo(()=>new Map(U.map(F=>[F.id,F.name])),[U]),k=w.useMemo(()=>ue?Ee.filter(F=>F.department_id===ue):[],[ue,Ee]),Y=w.useMemo(()=>P.find(F=>String(F.id)===d),[P,d]);return w.useEffect(()=>{if(!ue){b({});return}const F=new Map(re.filter(ge=>ge.department_id===ue).map(ge=>[ge.weekday,ge])),W={};for(const ge of F_){const we=F.get(ge.value);W[ge.value]={is_workday:we?.is_workday??!0,planned_minutes:String(we?.planned_minutes??540),break_minutes:String(we?.break_minutes??60)}}b(W)},[ue,re]),V.isLoading||ee.isLoading||$.isLoading||J.isLoading?l.jsx(Wt,{}):V.isError||ee.isError||$.isError||J.isError?l.jsx(jt,{message:"Hzl ayarlar verileri alnamad."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),l.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[l.jsx(Fa,{label:"alan",employees:P,value:d,onChange:F=>{m(F);const W=P.find(ge=>String(ge.id)===F);v(W?.department_id?String(W.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",l.jsxs("select",{value:p,onChange:F=>v(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Atanmam"}),U.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("p",{children:["Seili alan:"," ",Y?`#${Y.id} - ${Y.full_name}`:"-"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",Y?.department_id?Se.get(Y.department_id)??"-":"Atanmam"]})]}),l.jsx("button",{type:"button",disabled:!Y||ae.isPending,onClick:()=>{Y&&ae.mutate({employeeId:Y.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),l.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:r,onChange:F=>o(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seiniz"}),U.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]})]})}),ue?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Gn"}),l.jsx("th",{className:"py-2",children:"alma Gn"}),l.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),l.jsx("th",{className:"py-2",children:"Mola Dakika"}),l.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),l.jsx("tbody",{children:F_.map(F=>{const W=_[F.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:F.label}),l.jsx("td",{className:"py-2",children:l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:W.is_workday,onChange:ge=>b(we=>({...we,[F.value]:{...W,is_workday:ge.target.checked}}))}),"alma gn"]})}),l.jsx("td",{className:"py-2",children:l.jsx("input",{value:W.planned_minutes,onChange:ge=>b(we=>({...we,[F.value]:{...W,planned_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),l.jsx("td",{className:"py-2",children:l.jsx("input",{value:W.break_minutes,onChange:ge=>b(we=>({...we,[F.value]:{...W,break_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),l.jsx("td",{className:"py-2 text-right",children:l.jsx("button",{type:"button",disabled:ce.isPending,onClick:()=>{const ge=Number(W.planned_minutes),we=Number(W.break_minutes);if(!Number.isFinite(ge)||ge<0){i({variant:"error",title:"Geersiz planlanan dakika",description:`${F.label} iin say giriniz.`});return}if(!Number.isFinite(we)||we<0){i({variant:"error",title:"Geersiz mola dakikas",description:`${F.label} iin say giriniz.`});return}ce.mutate({department_id:ue,weekday:F.value,is_workday:W.is_workday,planned_minutes:Math.trunc(ge),break_minutes:Math.trunc(we)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},F.value)})})]})}):l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),ue?l.jsxs(l.Fragment,{children:[l.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:F=>{if(F.preventDefault(),!S.trim()){i({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const W=Number(M);if(!Number.isFinite(W)||W<0){i({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}de.mutate({id:Q??void 0,department_id:ue,name:S.trim(),start_time_local:C,end_time_local:A,break_minutes:Math.trunc(W),is_active:I})},children:[Q?l.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",Q]}):null,l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",l.jsx("input",{value:S,onChange:F=>E(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",l.jsx("input",{type:"time",value:C,onChange:F=>O(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",l.jsx("input",{type:"time",value:A,onChange:F=>z(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",l.jsx("input",{value:M,onChange:F=>H(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:I,onChange:F=>Z(F.target.checked)}),"Aktif"]}),l.jsx("button",{type:"submit",disabled:de.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:de.isPending?"Kaydediliyor...":Q?"Vardiya Gncelle":"Vardiya Kaydet"}),Q?l.jsx("button",{type:"button",onClick:()=>{X(null),E(""),O("09:00"),z("17:30"),H("60"),Z(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Saat Aral"}),l.jsx("th",{className:"py-2",children:"Mola"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),l.jsx("tbody",{children:k.map(F=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:F.name}),l.jsxs("td",{className:"py-2",children:[F.start_time_local," - ",F.end_time_local]}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:F.break_minutes})}),l.jsx("td",{className:"py-2",children:F.is_active?"Aktif":"Pasif"}),l.jsx("td",{className:"py-2 text-right",children:l.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{X(F.id),E(F.name),O(F.start_time_local),z(F.end_time_local),H(String(F.break_minutes)),Z(F.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),F.is_active?l.jsx("button",{type:"button",disabled:q.isPending||se.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&q.mutate(F.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):l.jsx("button",{type:"button",disabled:se.isPending||q.isPending,onClick:()=>se.mutate({shift:F,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},F.id))})]})}),k.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const H_=Ji({name:Gi().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:md()});function K_(t){return At.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Be(t,"Bolge islemi basarisiz.").message}function uz(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState(!0),[p,v]=w.useState(""),[_,b]=w.useState(!0),[S,E]=w.useState(null),[C,O]=w.useState(""),[A,z]=w.useState(!0),[M,H]=w.useState(null),I=He({queryKey:["regions",_],queryFn:()=>ud({include_inactive:_})}),Z=Qe({mutationFn:hj,onSuccess:$=>{o(""),m(!0),H(null),i({variant:"success",title:"Bolge olusturuldu",description:`${$.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:$=>{const J=K_($);H(J),i({variant:"error",title:"Bolge olusturulamadi",description:J})}}),Q=Qe({mutationFn:({regionId:$,payload:J})=>mj($,J),onSuccess:$=>{H(null),E(null),O(""),z(!0),i({variant:"success",title:"Bolge guncellendi",description:`${$.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:$=>{const J=K_($);H(J),i({variant:"error",title:"Bolge guncellenemedi",description:J})}}),X=$=>{$.preventDefault(),H(null);const J=H_.safeParse({name:r,is_active:d});if(!J.success){const ue=J.error.issues[0]?.message??"Bolge formunu kontrol edin.";H(ue);return}Z.mutate(J.data)},V=$=>{if($.preventDefault(),H(null),!S)return;const J=H_.safeParse({name:C,is_active:A});if(!J.success){const ue=J.error.issues[0]?.message??"Bolge formunu kontrol edin.";H(ue);return}Q.mutate({regionId:S,payload:J.data})},ee=w.useMemo(()=>{const $=I.data??[],J=p.trim().toLowerCase();return J?$.filter(ue=>ue.name.toLowerCase().includes(J)):$},[I.data,p]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),l.jsxs(Le,{children:[l.jsxs("form",{onSubmit:X,className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",l.jsx("input",{value:r,onChange:$=>o($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:$=>m($.target.checked)}),"Aktif"]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{type:"submit",disabled:Z.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Z.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),M?l.jsx("p",{className:"form-validation mt-2",children:M}):null]}),S?l.jsxs(Le,{children:[l.jsxs("form",{onSubmit:V,className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",l.jsx("input",{value:C,onChange:$=>O($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:A,onChange:$=>z($.target.checked)}),"Aktif"]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("button",{type:"submit",disabled:Q.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Q.isPending?"Guncelleniyor...":"Kaydet"}),l.jsx("button",{type:"button",onClick:()=>{E(null),O(""),z(!0),H(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),M?l.jsx("p",{className:"form-validation mt-2",children:M}):null]}):null,I.isLoading?l.jsx(Wt,{}):null,I.isError?l.jsx(jt,{message:"Bolge listesi alinamadi."}):null,!I.isLoading&&!I.isError?l.jsxs(Le,{children:[l.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[l.jsx(El,{value:p,onChange:v,placeholder:"Bolge adina gore ara..."}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:_,onChange:$=>b($.target.checked)}),"Pasif bolgeleri goster"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Bolge ID"}),l.jsx("th",{className:"py-2",children:"Bolge Adi"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Islem"})]})}),l.jsx("tbody",{children:ee.map($=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:$.id}),l.jsx("td",{className:"py-2",children:$.name}),l.jsx("td",{className:"py-2",children:l.jsx(Tl,{value:$.is_active?"Aktif":"Pasif"})}),l.jsx("td",{className:"py-2",children:l.jsx("button",{type:"button",onClick:()=>{E($.id),O($.name),z($.is_active),H(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},$.id))})]})}),ee.length===0?l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}const bl={action:"",entityType:"",entityId:"",success:"all",limit:"300"},cz=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],dz={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function fz(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function hz(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function mz(t){return t?"Baarl":"Hata"}function pz(t){const i=Object.entries(t);return i.length===0?"-":i.slice(0,3).map(([r,o])=>`${r}: ${String(o)}`).join(" | ")}function gz(t){return dz[t]??t}function yz(t){const i=Number(t.limit),r=Number.isInteger(i)&&i>0?Math.min(i,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:r}}function vz(t){const i=`${t.actor_type}:${t.actor_id}`,r=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${hz(t.ts_utc)}] ${t.action} actor=${i} entity=${r} ip=${o}`}function _z(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function xz(){const[t,i]=w.useState(bl),[r,o]=w.useState(bl),[d,m]=w.useState(""),[p,v]=w.useState(!0),[_,b]=w.useState(""),[S,E]=w.useState(null),[C,O]=w.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),A=w.useRef(2),z=w.useRef(null),M=w.useMemo(()=>yz(r),[r]),H=He({queryKey:["audit-logs",M],queryFn:()=>Jx(M),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),I=H.data??[],Z=w.useMemo(()=>{if(!d.trim())return I;const ae=d.trim().toLowerCase();return I.filter(ce=>[ce.action,ce.actor_type,ce.actor_id,ce.entity_type??"",ce.entity_id??"",ce.ip??"",ce.user_agent??"",JSON.stringify(ce.details)].join(" ").toLowerCase().includes(ae))},[I,d]),Q=w.useMemo(()=>{if(S!==null){const ae=Z.find(ce=>ce.id===S);if(ae)return ae}return Z[0]??null},[S,Z]),X=w.useMemo(()=>{const ae=I.filter(q=>!q.success).length,ce=I.filter(q=>q.action.startsWith("ADMIN_LOGIN")).length,de=I.filter(q=>q.action==="ATTENDANCE_EVENT_CREATED").length;return{total:I.length,failed:ae,loginEvents:ce,attendanceEvents:de}},[I]);w.useEffect(()=>{!Q&&S!==null&&E(null)},[Q,S]),w.useEffect(()=>{!p||z.current===null||(z.current.scrollTop=z.current.scrollHeight)},[p,Z,C]);const V=(ae,ce)=>{O(de=>{const q=[...de,{id:A.current,level:ae,text:ce}];return A.current+=1,q.slice(-120)})},ee=ae=>{ae.preventDefault(),o({...t}),V("success","Filtreler uyguland.")},$=()=>{i(bl),o(bl),m(""),V("info","Filtreler temizlendi.")},J=ae=>{const ce=ae.trim();if(!ce)return;V("info",`$ ${ce}`);const[de,...q]=ce.split(/\s+/),se=de.toLowerCase(),U=ce.slice(de.length).trim();if(se==="help"||se==="yardim"||se==="yardm"){V("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(se==="clear"||se==="temizle"){O([]),A.current=1,V("success","Terminal kt gemii temizlendi.");return}if(se==="apply"||se==="uygula"){o({...t}),V("success","Taslak filtreler uyguland.");return}if(se==="reset"||se==="sifirla"||se==="sfrla"){i(bl),o(bl),m(""),V("warning","Filtreler sfrland.");return}if(se==="refresh"||se==="yenile"){H.refetch(),V("success","Log verisi yeniden ekiliyor.");return}if(se==="follow"||se==="takip"){const P=q[0]?.toLowerCase();if(P==="on"||P==="ac"||P==="a"){v(!0),V("success","Canl takip ald.");return}if(P==="off"||P==="kapat"){v(!1),V("warning","Canl takip kapatld.");return}V("error","Kullanm: follow on|off");return}if(se==="status"||se==="durum"){const P=q[0]?.toLowerCase();let re=null;if((P==="all"||P==="tum"||P==="tm")&&(re="all"),(P==="success"||P==="ok"||P==="basarili"||P==="baarl")&&(re="success"),(P==="failed"||P==="error"||P==="hata")&&(re="failed"),re===null){V("error","Kullanm: status all|success|failed");return}i(Ee=>({...Ee,success:re})),o(Ee=>({...Ee,success:re})),V("success",`Durum filtresi gncellendi: ${re}`);return}if(se==="action"||se==="aksiyon"){if(!U){V("error","Kullanm: action <AKSIYON_KODU>");return}i(P=>({...P,action:U})),o(P=>({...P,action:U})),V("success",`Aksiyon filtresi gncellendi: ${U}`);return}if(se==="search"||se==="ara"){m(U),V("success",U?`Metin aramas uyguland: "${U}"`:"Metin aramas temizlendi.");return}if(se==="limit"){const P=Number(q[0]);if(!Number.isFinite(P)||P<=0){V("error","Kullanm: limit <1-500>");return}const re=Math.min(Math.max(Math.trunc(P),1),500);i(Ee=>({...Ee,limit:String(re)})),o(Ee=>({...Ee,limit:String(re)})),V("success",`Limit gncellendi: ${re}`);return}V("error",`Bilinmeyen komut: ${se}. Yardm iin "help" yazn.`)},ue=ae=>{ae.preventDefault(),J(_),b("")};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),l.jsxs(Le,{children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:X.total})]}),l.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),l.jsx("p",{className:"text-sm font-semibold text-rose-800",children:X.failed})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:X.loginEvents})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:X.attendanceEvents})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{v(ae=>!ae),V("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),l.jsx("button",{type:"button",onClick:()=>{H.refetch(),V("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),l.jsx("button",{type:"button",onClick:$,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),l.jsxs("form",{className:"mt-3 space-y-3",onSubmit:ee,children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",l.jsx("select",{value:t.action,onChange:ae=>i(ce=>({...ce,action:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:cz.map(ae=>l.jsx("option",{value:ae.value,children:ae.label},ae.label))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",l.jsx("input",{type:"text",value:t.entityType,onChange:ae=>i(ce=>({...ce,entityType:ae.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",l.jsx("input",{type:"text",value:t.entityId,onChange:ae=>i(ce=>({...ce,entityId:ae.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",l.jsxs("select",{value:t.success,onChange:ae=>i(ce=>({...ce,success:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"all",children:"Tm"}),l.jsx("option",{value:"success",children:"Baarl"}),l.jsx("option",{value:"failed",children:"Hata"})]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",l.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:ae=>i(ce=>({...ce,limit:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",l.jsx("input",{type:"text",value:d,onChange:ae=>m(ae.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),l.jsx("button",{type:"button",onClick:$,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),l.jsxs(Le,{children:[H.isLoading?l.jsx(Wt,{label:"Log kaytlar ykleniyor..."}):null,H.isError?l.jsx(jt,{message:Be(H.error,"Log kaytlar alnamad.").message}):null,!H.isLoading&&!H.isError?l.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[l.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),l.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),l.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",Z.length," kayt"]})]}),l.jsx("form",{onSubmit:ue,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:l.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[l.jsx("span",{children:"admin@audit:~$"}),l.jsx("input",{value:_,onChange:ae=>b(ae.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),l.jsxs("div",{ref:z,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[C.map(ae=>l.jsx("p",{className:`leading-6 ${_z(ae.level)}`,children:ae.text},ae.id)),Z.map(ae=>{const ce=Q?.id===ae.id;return l.jsxs("button",{type:"button",onClick:()=>E(ae.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${ce?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[l.jsx("span",{className:ae.success?"text-emerald-300":"text-rose-300",children:ae.success?"[OK]":"[ERR]"})," ",l.jsx("span",{className:"text-slate-200",children:vz(ae)})]},ae.id)}),Z.length===0?l.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),l.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),Q===null?l.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[l.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:gz(Q.action)}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:Q.action})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",fz(Q.ts_utc)]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",Q.actor_type,":",Q.actor_id]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Durum:"})," ",mz(Q.success)]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",Q.entity_type??"-",Q.entity_id?` #${Q.entity_id}`:""]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"IP:"})," ",Q.ip??"-"]}),l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",Q.user_agent??"-"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",pz(Q.details)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),l.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(Q.details,null,2)})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[l.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),l.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const bz=Ji({department_id:ln().int().positive(),daily_minutes_planned:ln().int().nonnegative(),break_minutes:ln().int().nonnegative(),grace_minutes:ln().int().nonnegative()}),Nz=Ji({department_id:ln().int().positive(),weekday:ln().int().min(0).max(6),is_workday:md(),planned_minutes:ln().int().nonnegative(),break_minutes:ln().int().nonnegative()}),Sz=Ji({department_id:ln().int().positive(),name:Gi().min(1).max(100),start_time_local:Gi().regex(/^\d{2}:\d{2}$/),end_time_local:Gi().regex(/^\d{2}:\d{2}$/),break_minutes:ln().int().nonnegative(),is_active:md()}),Q_=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],wz=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],Ez={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function Gh(t){const i=t.trim();if(!i)return null;const r=Number(i);return!Number.isFinite(r)||r<0?null:Math.trunc(r)}function jz(t,i){const r=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:r.length>0?r[0]:null,target_employee_ids:r,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:i,note:t.note}}function Tz(){const t=Dn(),{pushToast:i}=Fn(),[r,o]=w.useState(""),[d,m]=w.useState("540"),[p,v]=w.useState("60"),[_,b]=w.useState("5"),[S,E]=w.useState(""),[C,O]=w.useState("0"),[A,z]=w.useState(!0),[M,H]=w.useState("540"),[I,Z]=w.useState("60"),[Q,X]=w.useState(""),[V,ee]=w.useState(""),[$,J]=w.useState("10:00"),[ue,ae]=w.useState("18:00"),[ce,de]=w.useState("60"),[q,se]=w.useState(!0),[U,P]=w.useState(null),[re,Ee]=w.useState(null),[Se,k]=w.useState(""),[Y,F]=w.useState("DEPARTMENT"),[W,ge]=w.useState([]),[we,Ce]=w.useState(""),[Ke,qe]=w.useState(""),[Tt,at]=w.useState(""),[en,Zt]=w.useState(""),[hn,_n]=w.useState(""),[mn,xn]=w.useState(new Date().toISOString().slice(0,10)),[pn,Tn]=w.useState(new Date().toISOString().slice(0,10)),[te,je]=w.useState(!1),[We,zt]=w.useState(!0),[vt,ve]=w.useState(""),[G,ze]=w.useState(!0),[St,Ye]=w.useState(null),Cn=He({queryKey:["departments"],queryFn:wr}),Yt=He({queryKey:["employees","all"],queryFn:()=>ya({status:"all"})}),yi=He({queryKey:["work-rules"],queryFn:jj}),kn=He({queryKey:["department-weekly-rules"],queryFn:()=>Gx()}),$t=He({queryKey:["department-shifts"],queryFn:()=>iu()}),Pn=He({queryKey:["schedule-plans","all"],queryFn:()=>Pj({active_only:!1})}),on=Qe({mutationFn:Tj,onSuccess:()=>{Ye(null),i({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:R=>{const ke=Be(R,"Mesai kurali kaydedilemedi.");Ye(ke.message),i({variant:"error",title:"Mesai kurali kaydedilemedi",description:ke.message})}}),Ri=Qe({mutationFn:Yx,onSuccess:()=>{Ye(null),i({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:R=>{const ke=Be(R,"Haftalik plan kaydedilemedi.");Ye(ke.message),i({variant:"error",title:"Haftalik plan kaydedilemedi",description:ke.message})}}),zs=Qe({mutationFn:Yc,onSuccess:()=>{Ye(null),P(null),ee(""),J("10:00"),ae("18:00"),de("60"),se(!0),i({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{const ke=Be(R,"Vardiya kaydedilemedi.");Ye(ke.message),i({variant:"error",title:"Vardiya kaydedilemedi",description:ke.message})}}),Os=Qe({mutationFn:$x,onSuccess:()=>{Ye(null),U!==null&&(P(null),ee(""),J("10:00"),ae("18:00"),de("60"),se(!0)),i({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{const ke=Be(R,"Vardiya pasife alinamadi.");Ye(ke.message),i({variant:"error",title:"Vardiya pasife alinamadi",description:ke.message})}}),Li=Qe({mutationFn:({shift:R,nextActive:ke})=>Yc({id:R.id,department_id:R.department_id,name:R.name,start_time_local:R.start_time_local,end_time_local:R.end_time_local,break_minutes:R.break_minutes,is_active:ke}),onSuccess:(R,ke)=>{Ye(null),i({variant:"success",title:ke.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:ke.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{const ke=Be(R,"Vardiya durumu guncellenemedi.");Ye(ke.message),i({variant:"error",title:"Vardiya durumu guncellenemedi",description:ke.message})}}),Di=Qe({mutationFn:kv,onSuccess:()=>{Ye(null),i({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),Ee(null),ge([]),qe(""),at(""),Zt(""),_n(""),je(!1),zt(!0),ve("")},onError:R=>{const ke=Be(R,"Planlama kaydedilemedi.");Ye(ke.message),i({variant:"error",title:"Planlama kaydedilemedi",description:ke.message})}}),Wi=Qe({mutationFn:Bj,onSuccess:()=>{Ye(null),i({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:R=>{const ke=Be(R,"Planlama iptal edilemedi.");Ye(ke.message),i({variant:"error",title:"Planlama iptal edilemedi",description:ke.message})}}),vi=Qe({mutationFn:R=>kv(jz(R,!0)),onSuccess:()=>{Ye(null),i({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:R=>{const ke=Be(R,"Plan aktif edilemedi.");Ye(ke.message),i({variant:"error",title:"Plan aktif edilemedi",description:ke.message})}}),ea=w.useMemo(()=>{const R=Number(d),ke=Number(p),ot=Number(_);return{daily:Fc(R),breakValue:Fc(ke),grace:Fc(ot)}},[d,p,_]);if(Cn.isLoading||Yt.isLoading||yi.isLoading||kn.isLoading||$t.isLoading||Pn.isLoading)return l.jsx(Wt,{});if(Cn.isError||Yt.isError||yi.isError||kn.isError||$t.isError||Pn.isError)return l.jsx(jt,{message:"Mesai kurali verileri alinamadi."});const ai=Cn.data??[],Cr=Yt.data??[],kr=yi.data??[],Ms=kn.data??[],si=$t.data??[],Rl=Pn.data??[],va=new Map(ai.map(R=>[R.id,R.name])),Ar=new Map(Cr.map(R=>[R.id,R.full_name])),zr=new Map(si.map(R=>[R.id,R.name])),An=Rl.filter(R=>G||R.is_active),Oe=Number(Se),Rs=Number.isFinite(Oe)?si.filter(R=>R.department_id===Oe):[],Ha=Number.isFinite(Oe)?Cr.filter(R=>R.department_id===Oe):[],ri=we.trim()?Ha.filter(R=>{const ke=we.trim().toLowerCase();return R.full_name.toLowerCase().includes(ke)||String(R.id).includes(ke.replace("#",""))}):Ha,qt=()=>{Ee(null),F("DEPARTMENT"),ge([]),Ce(""),qe(""),at(""),Zt(""),_n(""),xn(new Date().toISOString().slice(0,10)),Tn(new Date().toISOString().slice(0,10)),je(!1),zt(!0),ve("")},tn=R=>{const ke=R.target_employee_ids&&R.target_employee_ids.length>0?R.target_employee_ids:R.target_employee_id?[R.target_employee_id]:[];Ee(R.id),k(String(R.department_id)),F(R.target_type),ge(ke),Ce(""),qe(R.shift_id?String(R.shift_id):""),at(R.daily_minutes_planned!==null?String(R.daily_minutes_planned):""),Zt(R.break_minutes!==null?String(R.break_minutes):""),_n(R.grace_minutes!==null?String(R.grace_minutes):""),xn(R.start_date),Tn(R.end_date),je(R.is_locked),zt(R.is_active),ve(R.note??"")},Pi=R=>{R.preventDefault(),Ye(null);const ke=bz.safeParse({department_id:r,daily_minutes_planned:d,break_minutes:p,grace_minutes:_});if(!ke.success){const ot=ke.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";Ye(ot),i({variant:"error",title:"Form hatasi",description:ot});return}on.mutate(ke.data)},_i=R=>{R.preventDefault(),Ye(null);const ke=Nz.safeParse({department_id:S,weekday:C,is_workday:A,planned_minutes:M,break_minutes:I});if(!ke.success){const ot=ke.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";Ye(ot),i({variant:"error",title:"Form hatasi",description:ot});return}Ri.mutate(ke.data)},Or=R=>{R.preventDefault(),Ye(null);const ke=Sz.safeParse({department_id:Q,name:V.trim(),start_time_local:$,end_time_local:ue,break_minutes:ce,is_active:q});if(!ke.success){const ot=ke.error.issues[0]?.message??"Vardiya formunu kontrol edin.";Ye(ot),i({variant:"error",title:"Form hatasi",description:ot});return}zs.mutate({id:U??void 0,...ke.data})},Ll=R=>{P(R.id),X(String(R.department_id)),ee(R.name),J(R.start_time_local),ae(R.end_time_local),de(String(R.break_minutes)),se(R.is_active),Ye(null)},Mr=()=>{P(null),ee(""),J("10:00"),ae("18:00"),de("60"),se(!0),Ye(null)},_a=R=>{R.preventDefault(),Ye(null);const ke=Number(Se);if(!Number.isFinite(ke)||ke<=0){Ye("Planlama icin departman secmelisiniz.");return}if(!mn||!pn){Ye("Baslangic ve bitis tarihi zorunludur.");return}if(mn>pn){Ye("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const ot=Y==="DEPARTMENT"?[]:[...W];if(Y!=="DEPARTMENT"&&ot.length===0){Ye("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const zn=Ke?Number(Ke):null,Bi=Gh(Tt),Pt=Gh(en),Ls=Gh(hn);if(!zn&&Bi===null&&Pt===null&&Ls===null){Ye("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}Di.mutate({id:re??void 0,department_id:ke,target_type:Y,target_employee_id:ot.length>0?ot[0]:null,target_employee_ids:ot,shift_id:zn,daily_minutes_planned:Bi,break_minutes:Pt,grace_minutes:Ls,start_date:mn,end_date:pn,is_locked:te,is_active:We,note:vt.trim()||null})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(jn,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),l.jsxs("form",{onSubmit:Pi,className:"mt-3 grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:r,onChange:R=>o(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),ai.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",l.jsx("input",{value:d,onChange:R=>m(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",l.jsx("input",{value:p,onChange:R=>v(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",l.jsx("input",{value:_,onChange:R=>b(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",ea.daily," | Mola ",ea.breakValue," | Tolerans ",ea.grace]}),l.jsx("div",{className:"md:col-span-4",children:l.jsx("button",{type:"submit",disabled:on.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:on.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),l.jsxs("form",{onSubmit:_i,className:"mt-3 grid gap-3 md:grid-cols-5",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:S,onChange:R=>E(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),ai.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",l.jsx("select",{value:C,onChange:R=>O(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:Q_.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",l.jsx("input",{value:M,onChange:R=>H(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",l.jsx("input",{value:I,onChange:R=>Z(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:A,onChange:R=>z(R.target.checked)}),"Calisma Gunu"]}),l.jsx("div",{className:"md:col-span-5",children:l.jsx("button",{type:"submit",disabled:Ri.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ri.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Gun"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Planlanan Sure"}),l.jsx("th",{className:"py-2",children:"Mola"})]})}),l.jsx("tbody",{children:Ms.map(R=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:Q_.find(ke=>ke.value===R.weekday)?.label??R.weekday}),l.jsx("td",{className:"py-2",children:R.is_workday?"Calisma":"Off"}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:R.planned_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:R.break_minutes})})]},R.id))})]})})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),U?l.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",U]}):null,l.jsxs("form",{onSubmit:Or,className:"mt-3 grid gap-3 md:grid-cols-6",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:Q,onChange:R=>X(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),ai.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",l.jsx("input",{value:V,onChange:R=>ee(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",l.jsx("input",{type:"time",value:$,onChange:R=>J(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",l.jsx("input",{type:"time",value:ue,onChange:R=>ae(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",l.jsx("input",{value:ce,onChange:R=>de(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:q,onChange:R=>se(R.target.checked)}),"Aktif"]}),l.jsx("div",{className:"md:col-span-6",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"submit",disabled:zs.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:zs.isPending?"Kaydediliyor...":U?"Vardiya Guncelle":"Vardiya Kaydet"}),U?l.jsx("button",{type:"button",onClick:Mr,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Saat"}),l.jsx("th",{className:"py-2",children:"Mola"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),l.jsx("tbody",{children:si.map(R=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:R.name}),l.jsxs("td",{className:"py-2",children:[R.start_time_local," - ",R.end_time_local]}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:R.break_minutes})}),l.jsx("td",{className:"py-2",children:R.is_active?"Aktif":"Pasif"}),l.jsx("td",{className:"py-2 text-right",children:l.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Ll(R),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),R.is_active?l.jsx("button",{type:"button",disabled:Os.isPending||Li.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Os.mutate(R.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):l.jsx("button",{type:"button",disabled:Li.isPending||Os.isPending,onClick:()=>Li.mutate({shift:R,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},R.id))})]})})]}),l.jsxs(Le,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:G,onChange:R=>ze(R.target.checked)}),"Pasif planlari goster"]})]}),l.jsxs("form",{onSubmit:_a,className:"mt-4 grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",l.jsxs("select",{value:Se,onChange:R=>{k(R.target.value),ge([]),qe("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),ai.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",l.jsx("select",{value:Y,onChange:R=>{const ke=R.target.value;F(ke),ke==="DEPARTMENT"&&ge([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:wz.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",l.jsx("input",{type:"text",value:we,onChange:R=>Ce(R.target.value),disabled:Y==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),l.jsx("select",{multiple:!0,value:W.map(String),onChange:R=>{const ke=Array.from(R.target.selectedOptions).map(ot=>Number(ot.value));ge(ke.filter(ot=>Number.isFinite(ot)&&ot>0))},disabled:Y==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:ri.map(R=>l.jsxs("option",{value:R.id,children:["#",R.id," - ",R.full_name]},R.id))}),l.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",l.jsxs("select",{value:Ke,onChange:R=>qe(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Seciniz"}),Rs.map(R=>l.jsxs("option",{value:R.id,children:[R.name," (",R.start_time_local," - ",R.end_time_local,")"]},R.id))]})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",l.jsx("input",{value:Tt,onChange:R=>at(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",l.jsx("input",{value:en,onChange:R=>Zt(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",l.jsx("input",{value:hn,onChange:R=>_n(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",l.jsx("input",{type:"date",value:mn,onChange:R=>xn(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",l.jsx("input",{type:"date",value:pn,onChange:R=>Tn(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:te,onChange:R=>je(R.target.checked)}),"Vardiya kilitli"]}),l.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",checked:We,onChange:R=>zt(R.target.checked)}),"Aktif"]}),l.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",l.jsx("input",{value:vt,onChange:R=>ve(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"submit",disabled:Di.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Di.isPending?"Kaydediliyor...":re?"Plani Guncelle":"Plan Olustur"}),l.jsx("button",{type:"button",onClick:qt,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Hedef"}),l.jsx("th",{className:"py-2",children:"Vardiya"}),l.jsx("th",{className:"py-2",children:"Plan/Mola"}),l.jsx("th",{className:"py-2",children:"Tarih Araligi"}),l.jsx("th",{className:"py-2",children:"Kilit"}),l.jsx("th",{className:"py-2",children:"Durum"}),l.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),l.jsx("tbody",{children:An.map(R=>{const ot=(R.target_employee_ids&&R.target_employee_ids.length>0?R.target_employee_ids:R.target_employee_id?[R.target_employee_id]:[]).map(zn=>Ar.get(zn)??`#${zn}`);return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:Ez[R.target_type]}),ot.length>0?l.jsx("span",{className:"text-xs text-slate-500",children:ot.join(", ")}):null]})}),l.jsx("td",{className:"py-2",children:R.shift_id?zr.get(R.shift_id)??`#${R.shift_id}`:"-"}),l.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[l.jsxs("div",{children:["Plan: ",R.daily_minutes_planned!==null?`${R.daily_minutes_planned} dk`:"-"]}),l.jsxs("div",{children:["Mola: ",R.break_minutes!==null?`${R.break_minutes} dk`:"-"]}),l.jsxs("div",{children:["Tolerans: ",R.grace_minutes!==null?`${R.grace_minutes} dk`:"-"]})]}),l.jsxs("td",{className:"py-2",children:[R.start_date," - ",R.end_date]}),l.jsx("td",{className:"py-2",children:R.is_locked?"Kilitli":"Serbest"}),l.jsx("td",{className:"py-2",children:R.is_active?"Aktif":"Pasif"}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>tn(R),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),R.is_active?l.jsx("button",{type:"button",onClick:()=>Wi.mutate(R.id),disabled:Wi.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):l.jsx("button",{type:"button",onClick:()=>vi.mutate(R),disabled:vi.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},R.id)})})]})})]}),l.jsxs(Le,{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-left text-sm",children:[l.jsx("thead",{className:"text-xs uppercase text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Departman"}),l.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),l.jsx("th",{className:"py-2",children:"Mola Suresi"}),l.jsx("th",{className:"py-2",children:"Tolerans"})]})}),l.jsx("tbody",{children:kr.map(R=>l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"py-2",children:va.get(R.department_id)??R.department_id}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:R.daily_minutes_planned})}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:R.break_minutes})}),l.jsx("td",{className:"py-2",children:l.jsx(It,{minutes:R.grace_minutes})})]},R.id))})]})})]}),St?l.jsx("p",{className:"form-validation",children:St}):null]})}function Cz(){return l.jsxs($S,{children:[l.jsx(Rt,{element:l.jsx(u1,{}),children:l.jsx(Rt,{path:"/login",element:l.jsx(kA,{})})}),l.jsx(Rt,{element:l.jsx(o1,{}),children:l.jsxs(Rt,{element:l.jsx(l1,{}),children:[l.jsx(Rt,{path:"/",element:l.jsx(Tm,{to:"/dashboard",replace:!0})}),l.jsx(Rt,{path:"/dashboard",element:l.jsx(aA,{})}),l.jsx(Rt,{path:"/regions",element:l.jsx(uz,{})}),l.jsx(Rt,{path:"/departments",element:l.jsx(cA,{})}),l.jsx(Rt,{path:"/employees",element:l.jsx(wA,{})}),l.jsx(Rt,{path:"/employees/:id",element:l.jsx(vA,{})}),l.jsx(Rt,{path:"/quick-setup",element:l.jsx(oz,{})}),l.jsx(Rt,{path:"/work-rules",element:l.jsx(Tz,{})}),l.jsx(Rt,{path:"/attendance-events",element:l.jsx(x1,{})}),l.jsx(Rt,{path:"/devices",element:l.jsx(fA,{})}),l.jsx(Rt,{path:"/compliance-settings",element:l.jsx(hA,{})}),l.jsx(Rt,{path:"/leaves",element:l.jsx(jA,{})}),l.jsx(Rt,{path:"/qr-kodlar",element:l.jsx(lz,{})}),l.jsx(Rt,{path:"/reports/employee-monthly",element:l.jsx(NA,{})}),l.jsx(Rt,{path:"/reports/department-summary",element:l.jsx(uA,{})}),l.jsx(Rt,{path:"/reports/excel-export",element:l.jsx(zA,{})}),l.jsx(Rt,{path:"/audit-logs",element:l.jsx(xz,{})}),l.jsx(Rt,{path:"/admin-users",element:l.jsx(pA,{})})]})}),l.jsx(Rt,{path:"*",element:l.jsx(AA,{})})]})}const kz=new BN({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});mN.createRoot(document.getElementById("root")).render(l.jsx(rN.StrictMode,{children:l.jsx(IN,{client:kz,children:l.jsx(xw,{basename:"/admin-panel/",children:l.jsx(p1,{children:l.jsx(a1,{children:l.jsx(Cz,{})})})})})}));
