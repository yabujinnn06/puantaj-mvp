(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();function ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hm={exports:{}},Uo={};var Jy;function _N(){if(Jy)return Uo;Jy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,d,h){var p=null;if(h!==void 0&&(p=""+h),d.key!==void 0&&(p=""+d.key),"key"in d){h={};for(var y in d)y!=="key"&&(h[y]=d[y])}else h=d;return d=h.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:h}}return Uo.Fragment=a,Uo.jsx=l,Uo.jsxs=l,Uo}var Wy;function bN(){return Wy||(Wy=1,hm.exports=_N()),hm.exports}var i=bN(),mm={exports:{}},at={};var ex;function NN(){if(ex)return at;ex=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function F(M,ne,D){this.props=M,this.context=ne,this.refs=O,this.updater=D||k}F.prototype.isReactComponent={},F.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function R(){}R.prototype=F.prototype;function P(M,ne,D){this.props=M,this.context=ne,this.refs=O,this.updater=D||k}var Q=P.prototype=new R;Q.constructor=P,A(Q,F.prototype),Q.isPureReactComponent=!0;var $=Array.isArray;function V(){}var G={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ie(M,ne,D){var q=D.ref;return{$$typeof:t,type:M,key:ne,ref:q!==void 0?q:null,props:D}}function pe(M,ne){return ie(M.type,ne,M.props)}function ee(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function oe(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(D){return ne[D]})}var ue=/\/+/g;function U(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):ne.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(V,V):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Z(M,ne,D,q,ge){var je=typeof M;(je==="undefined"||je==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(je){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case t:case a:Ae=!0;break;case S:return Ae=M._init,Z(Ae(M._payload),ne,D,q,ge)}}if(Ae)return ge=ge(M),Ae=q===""?"."+U(M,0):q,$(ge)?(D="",Ae!=null&&(D=Ae.replace(ue,"$&/")+"/"),Z(ge,ne,D,"",function(tt){return tt})):ge!=null&&(ee(ge)&&(ge=pe(ge,D+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(ue,"$&/")+"/")+Ae)),ne.push(ge)),1;Ae=0;var qe=q===""?".":q+":";if($(M))for(var Ge=0;Ge<M.length;Ge++)q=M[Ge],je=qe+U(q,Ge),Ae+=Z(q,ne,D,je,ge);else if(Ge=z(M),typeof Ge=="function")for(M=Ge.call(M),Ge=0;!(q=M.next()).done;)q=q.value,je=qe+U(q,Ge++),Ae+=Z(q,ne,D,je,ge);else if(je==="object"){if(typeof M.then=="function")return Z(le(M),ne,D,q,ge);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function se(M,ne,D){if(M==null)return M;var q=[],ge=0;return Z(M,q,"","",function(je){return ne.call(D,je,ge++)}),q}function ce(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(D){(M._status===0||M._status===-1)&&(M._status=1,M._result=D)},function(D){(M._status===0||M._status===-1)&&(M._status=2,M._result=D)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var Te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},W={map:se,forEach:function(M,ne,D){se(M,function(){ne.apply(this,arguments)},D)},count:function(M){var ne=0;return se(M,function(){ne++}),ne},toArray:function(M){return se(M,function(ne){return ne})||[]},only:function(M){if(!ee(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return at.Activity=w,at.Children=W,at.Component=F,at.Fragment=l,at.Profiler=d,at.PureComponent=P,at.StrictMode=o,at.Suspense=v,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,at.__COMPILER_RUNTIME={__proto__:null,c:function(M){return G.H.useMemoCache(M)}},at.cache=function(M){return function(){return M.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(M,ne,D){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var q=A({},M.props),ge=M.key;if(ne!=null)for(je in ne.key!==void 0&&(ge=""+ne.key),ne)!K.call(ne,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ne.ref===void 0||(q[je]=ne[je]);var je=arguments.length-2;if(je===1)q.children=D;else if(1<je){for(var Ae=Array(je),qe=0;qe<je;qe++)Ae[qe]=arguments[qe+2];q.children=Ae}return ie(M.type,ge,q)},at.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},at.createElement=function(M,ne,D){var q,ge={},je=null;if(ne!=null)for(q in ne.key!==void 0&&(je=""+ne.key),ne)K.call(ne,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ge[q]=ne[q]);var Ae=arguments.length-2;if(Ae===1)ge.children=D;else if(1<Ae){for(var qe=Array(Ae),Ge=0;Ge<Ae;Ge++)qe[Ge]=arguments[Ge+2];ge.children=qe}if(M&&M.defaultProps)for(q in Ae=M.defaultProps,Ae)ge[q]===void 0&&(ge[q]=Ae[q]);return ie(M,je,ge)},at.createRef=function(){return{current:null}},at.forwardRef=function(M){return{$$typeof:y,render:M}},at.isValidElement=ee,at.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ce}},at.memo=function(M,ne){return{$$typeof:_,type:M,compare:ne===void 0?null:ne}},at.startTransition=function(M){var ne=G.T,D={};G.T=D;try{var q=M(),ge=G.S;ge!==null&&ge(D,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(V,Te)}catch(je){Te(je)}finally{ne!==null&&D.types!==null&&(ne.types=D.types),G.T=ne}},at.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},at.use=function(M){return G.H.use(M)},at.useActionState=function(M,ne,D){return G.H.useActionState(M,ne,D)},at.useCallback=function(M,ne){return G.H.useCallback(M,ne)},at.useContext=function(M){return G.H.useContext(M)},at.useDebugValue=function(){},at.useDeferredValue=function(M,ne){return G.H.useDeferredValue(M,ne)},at.useEffect=function(M,ne){return G.H.useEffect(M,ne)},at.useEffectEvent=function(M){return G.H.useEffectEvent(M)},at.useId=function(){return G.H.useId()},at.useImperativeHandle=function(M,ne,D){return G.H.useImperativeHandle(M,ne,D)},at.useInsertionEffect=function(M,ne){return G.H.useInsertionEffect(M,ne)},at.useLayoutEffect=function(M,ne){return G.H.useLayoutEffect(M,ne)},at.useMemo=function(M,ne){return G.H.useMemo(M,ne)},at.useOptimistic=function(M,ne){return G.H.useOptimistic(M,ne)},at.useReducer=function(M,ne,D){return G.H.useReducer(M,ne,D)},at.useRef=function(M){return G.H.useRef(M)},at.useState=function(M){return G.H.useState(M)},at.useSyncExternalStore=function(M,ne,D){return G.H.useSyncExternalStore(M,ne,D)},at.useTransition=function(){return G.H.useTransition()},at.version="19.2.4",at}var tx;function wf(){return tx||(tx=1,mm.exports=NN()),mm.exports}var j=wf();const jN=ld(j);var fm={exports:{}},Zo={},pm={exports:{}},gm={};var nx;function SN(){return nx||(nx=1,(function(t){function a(Z,se){var ce=Z.length;Z.push(se);e:for(;0<ce;){var Te=ce-1>>>1,W=Z[Te];if(0<d(W,se))Z[Te]=se,Z[ce]=W,ce=Te;else break e}}function l(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var se=Z[0],ce=Z.pop();if(ce!==se){Z[0]=ce;e:for(var Te=0,W=Z.length,M=W>>>1;Te<M;){var ne=2*(Te+1)-1,D=Z[ne],q=ne+1,ge=Z[q];if(0>d(D,ce))q<W&&0>d(ge,D)?(Z[Te]=ge,Z[q]=ce,Te=q):(Z[Te]=D,Z[ne]=ce,Te=ne);else if(q<W&&0>d(ge,ce))Z[Te]=ge,Z[q]=ce,Te=q;else break e}}return se}function d(Z,se){var ce=Z.sortIndex-se.sortIndex;return ce!==0?ce:Z.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;t.unstable_now=function(){return h.now()}}else{var p=Date,y=p.now();t.unstable_now=function(){return p.now()-y}}var v=[],_=[],S=1,w=null,C=3,z=!1,k=!1,A=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function Q(Z){for(var se=l(_);se!==null;){if(se.callback===null)o(_);else if(se.startTime<=Z)o(_),se.sortIndex=se.expirationTime,a(v,se);else break;se=l(_)}}function $(Z){if(A=!1,Q(Z),!k)if(l(v)!==null)k=!0,V||(V=!0,oe());else{var se=l(_);se!==null&&le($,se.startTime-Z)}}var V=!1,G=-1,K=5,ie=-1;function pe(){return O?!0:!(t.unstable_now()-ie<K)}function ee(){if(O=!1,V){var Z=t.unstable_now();ie=Z;var se=!0;try{e:{k=!1,A&&(A=!1,R(G),G=-1),z=!0;var ce=C;try{t:{for(Q(Z),w=l(v);w!==null&&!(w.expirationTime>Z&&pe());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,C=w.priorityLevel;var W=Te(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof W=="function"){w.callback=W,Q(Z),se=!0;break t}w===l(v)&&o(v),Q(Z)}else o(v);w=l(v)}if(w!==null)se=!0;else{var M=l(_);M!==null&&le($,M.startTime-Z),se=!1}}break e}finally{w=null,C=ce,z=!1}se=void 0}}finally{se?oe():V=!1}}}var oe;if(typeof P=="function")oe=function(){P(ee)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,U=ue.port2;ue.port1.onmessage=ee,oe=function(){U.postMessage(null)}}else oe=function(){F(ee,0)};function le(Z,se){G=F(function(){Z(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(Z){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var ce=C;C=se;try{return Z()}finally{C=ce}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=C;C=Z;try{return se()}finally{C=ce}},t.unstable_scheduleCallback=function(Z,se,ce){var Te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,Z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ce+W,Z={id:S++,callback:se,priorityLevel:Z,startTime:ce,expirationTime:W,sortIndex:-1},ce>Te?(Z.sortIndex=ce,a(_,Z),l(v)===null&&Z===l(_)&&(A?(R(G),G=-1):A=!0,le($,ce-Te))):(Z.sortIndex=W,a(v,Z),k||z||(k=!0,V||(V=!0,oe()))),Z},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(Z){var se=C;return function(){var ce=C;C=se;try{return Z.apply(this,arguments)}finally{C=ce}}}})(gm)),gm}var ax;function wN(){return ax||(ax=1,pm.exports=SN()),pm.exports}var ym={exports:{}},Bn={};var ix;function EN(){if(ix)return Bn;ix=1;var t=wf();function a(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Bn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(a(299));return h(v,_,null,S)},Bn.flushSync=function(v){var _=p.T,S=o.p;try{if(p.T=null,o.p=2,v)return v()}finally{p.T=_,o.p=S,o.d.f()}},Bn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},Bn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Bn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:z}):S==="script"&&o.d.X(v,{crossOrigin:w,integrity:C,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Bn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},Bn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);o.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Bn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},Bn.requestFormReset=function(v){o.d.r(v)},Bn.unstable_batchedUpdates=function(v,_){return v(_)},Bn.useFormState=function(v,_,S){return p.H.useFormState(v,_,S)},Bn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Bn.version="19.2.4",Bn}var sx;function kN(){if(sx)return ym.exports;sx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),ym.exports=EN(),ym.exports}var rx;function TN(){if(rx)return Zo;rx=1;var t=wN(),a=wf(),l=kN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(o(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,c=n;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return v(f),e;if(g===c)return v(f),n;g=g.sibling}throw Error(o(188))}if(r.return!==c.return)r=f,c=g;else{for(var N=!1,T=f.child;T;){if(T===r){N=!0,r=f,c=g;break}if(T===c){N=!0,c=f,r=g;break}T=T.sibling}if(!N){for(T=g.child;T;){if(T===r){N=!0,r=g,c=f;break}if(T===c){N=!0,c=g,r=f;break}T=T.sibling}if(!N)throw Error(o(189))}}if(r.alternate!==c)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case F:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case V:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case P:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return n=e.displayName||null,n!==null?n:U(e.type)||"Memo";case K:n=e._payload,e=e._init;try{return U(e(n))}catch{}}return null}var le=Array.isArray,Z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],W=-1;function M(e){return{current:e}}function ne(e){0>W||(e.current=Te[W],Te[W]=null,W--)}function D(e,n){W++,Te[W]=e.current,e.current=n}var q=M(null),ge=M(null),je=M(null),Ae=M(null);function qe(e,n){switch(D(je,n),D(ge,e),D(q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?by(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=by(n),e=Ny(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(q),D(q,e)}function Ge(){ne(q),ne(ge),ne(je)}function tt(e){e.memoizedState!==null&&D(Ae,e);var n=q.current,r=Ny(n,e.type);n!==r&&(D(ge,e),D(q,r))}function we(e){ge.current===e&&(ne(q),ne(ge)),Ae.current===e&&(ne(Ae),Lo._currentValue=ce)}var ot,vt;function bt(e){if(ot===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",vt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+e+vt}var Kt=!1;function Rt(e,n){if(!e||Kt)return"";Kt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ye){var fe=ye}Reflect.construct(e,[],ke)}else{try{ke.call()}catch(ye){fe=ye}e.call(ke.prototype)}}else{try{throw Error()}catch(ye){fe=ye}(ke=e())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ye){if(ye&&fe&&typeof ye.stack=="string")return[ye.stack,fe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),N=g[0],T=g[1];if(N&&T){var H=N.split(`
`),he=T.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<he.length&&!he[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===he.length)for(c=H.length-1,f=he.length-1;1<=c&&0<=f&&H[c]!==he[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==he[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==he[f]){var be=`
`+H[c].replace(" at new "," at ");return e.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",e.displayName)),be}while(1<=c&&0<=f);break}}}finally{Kt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?bt(r):""}function zt(e,n){switch(e.tag){case 26:case 27:case 5:return bt(e.type);case 16:return bt("Lazy");case 13:return e.child!==n&&n!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return Rt(e.type,!1);case 11:return Rt(e.type.render,!1);case 1:return Rt(e.type,!0);case 31:return bt("Activity");default:return""}}function ve(e){try{var n="",r=null;do n+=zt(e,r),r=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var We=Object.prototype.hasOwnProperty,J=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,_t=t.unstable_requestPaint,kt=t.unstable_now,ut=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,et=t.unstable_LowPriority,hn=t.unstable_IdlePriority,te=t.log,X=t.unstable_setDisableYieldValue,Qe=null,it=null;function un(e){if(typeof te=="function"&&X(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Qe,e)}catch{}}var Lt=Math.clz32?Math.clz32:Is,Kn=Math.log,Bs=Math.LN2;function Is(e){return e>>>=0,e===0?32:31-(Kn(e)/Bs|0)|0}var Ua=256,Za=262144,ni=4194304;function _a(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,r){var c=e.pendingLanes;if(c===0)return 0;var f=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?f=_a(c):(N&=T,N!==0?f=_a(N):r||(r=T&~e,r!==0&&(f=_a(r))))):(T=c&~g,T!==0?f=_a(T):N!==0?f=_a(N):r||(r=c&~e,r!==0&&(f=_a(r)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:f}function ra(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function Us(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function la(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Il(e,n,r,c,f,g){var N=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,H=e.expirationTimes,he=e.hiddenUpdates;for(r=N&~r;0<r;){var be=31-Lt(r),ke=1<<be;T[be]=0,H[be]=-1;var fe=he[be];if(fe!==null)for(he[be]=null,be=0;be<fe.length;be++){var ye=fe[be];ye!==null&&(ye.lane&=-536870913)}r&=~ke}c!==0&&Ni(e,c,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~n))}function Ni(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Lt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Lr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var c=31-Lt(r),f=1<<c;f&n|e[c]&n&&(e[c]|=n),r&=~f}}function Pr(e,n){var r=n&-n;return r=(r&42)!==0?1:Dn(r),(r&(e.suspendedLanes|n))!==0?0:r}function Dn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zs(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Ky(e.type))}function Yi(e,n){var r=se.p;try{return se.p=e,n()}finally{se.p=r}}var oa=Math.random().toString(36).slice(2),tn="__reactFiber$"+oa,mn="__reactProps$"+oa,qa="__reactContainer$"+oa,ba="__reactEvents$"+oa,Br="__reactListeners$"+oa,Ul="__reactHandles$"+oa,Ir="__reactResources$"+oa,ji="__reactMarker$"+oa;function B(e){delete e[tn],delete e[mn],delete e[ba],delete e[Br],delete e[Ul]}function Re(e){var n=e[tn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[qa]||r[tn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Cy(e);e!==null;){if(r=e[tn])return r;e=Cy(e)}return n}e=r,r=e.parentNode}return null}function Nt(e){if(e=e[tn]||e[qa]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Rn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Fa(e){var n=e[Ir];return n||(n=e[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(e){e[ji]=!0}var qs=new Set,uu={};function Si(e,n){ii(e,n),ii(e+"Capture",n)}function ii(e,n){for(uu[e]=n,e=0;e<n.length;e++)qs.add(n[e])}var Fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},ql={};function Hs(e){return We.call(ql,e)?!0:We.call(Zl,e)?!1:Fs.test(e)?ql[e]=!0:(Zl[e]=!0,!1)}function dt(e,n,r){if(Hs(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Pt(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Qn(e,n,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+c)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(e,n,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(N){r=""+N,g.call(this,N)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(N){r=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function nt(e){if(!e._valueTracker){var n=wi(e)?"checked":"value";e._valueTracker=Fl(e,n,""+e[n])}}function Vt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),c="";return e&&(c=wi(e)?e.checked?"true":"false":e.value),e=c,e!==r?(n.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ur=/[\n"\\]/g;function Qt(e){return e.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hl(e,n,r,c,f,g,N,T){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vn(n)):e.value!==""+vn(n)&&(e.value=""+vn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Ha(e,N,vn(n)):r!=null?Ha(e,N,vn(r)):c!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+vn(T):e.removeAttribute("name")}function Ks(e,n,r,c,f,g,N,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){nt(e);return}r=r!=null?""+vn(r):"",n=n!=null?""+vn(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),nt(e)}function Ha(e,n,r){n==="number"&&$i(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function qt(e,n,r,c){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&c&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function si(e,n,r){if(n!=null&&(n=""+vn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+vn(r):""}function Xi(e,n,r,c){if(n==null){if(c!=null){if(r!=null)throw Error(o(92));if(le(c)){if(1<c.length)throw Error(o(93));c=c[0]}r=c}r==null&&(r=""),n=r}r=vn(n),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),nt(e)}function Na(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ji(e,n,r){var c=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,r):typeof r!="number"||r===0||Kl.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Zr(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&r[f]!==c&&Ji(e,f,c)}else for(var g in n)n.hasOwnProperty(g)&&Ji(e,g,n[g])}function Qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(e){return Ql.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Fr=null;function Gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,Xe=null;function ua(e){var n=Nt(e);if(n&&(e=n.stateNode)){var r=e[mn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Hl(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var c=r[n];if(c!==e&&c.form===e.form){var f=c[mn]||null;if(!f)throw Error(o(90));Hl(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)c=r[n],c.form===e.form&&Vt(c)}break e;case"textarea":si(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&qt(e,!!r.multiple,n,!1)}}}var At=!1;function Gl(e,n,r){if(At)return e(n,r);At=!0;try{var c=e(n);return c}finally{if(At=!1,(es!==null||Xe!==null)&&(sc(),es&&(n=es,e=Xe,Xe=es=null,ua(n),e)))for(n=0;n<e.length;n++)ua(e[n])}}function Ei(e,n){var r=e.stateNode;if(r===null)return null;var c=r[mn]||null;if(c===null)return null;r=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(ca)try{var da={};Object.defineProperty(da,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Vs=!1}var ja=null,ki=null,nn=null;function ri(){if(nn)return nn;var e,n=ki,r=n.length,c,f="value"in ja?ja.value:ja.textContent,g=f.length;for(e=0;e<r&&n[e]===f[e];e++);var N=r-e;for(c=1;c<=N&&n[r-c]===f[g-c];c++);return nn=f.slice(e,1<c?1-c:void 0)}function Ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function cu(){return!1}function kn(e){function n(r,c,f,g,N){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$s:cu,this.isPropagationStopped=cu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),n}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=kn(Ka),ts=w({},Ka,{view:0,detail:0}),pt=kn(ts),Vl,Un,Qa,Xs=w({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(Vl=e.screenX-Qa.screenX,Un=e.screenY-Qa.screenY):Un=Vl=0,Qa=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Un}}),du=kn(Xs),Yl=w({},Xs,{dataTransfer:0}),Nd=kn(Yl),hu=w({},ts,{relatedTarget:0}),$l=kn(hu),jd=w({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=kn(jd),Sd=w({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sa=kn(Sd),wd=w({},Ka,{data:0}),Jl=kn(wd),li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function eo(){return Wl}var pu=w({},ts,{key:function(e){if(e.key){var n=li[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=kn(pu),Ed=w({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=kn(Ed),to=w({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),kd=kn(to),xu=w({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=kn(xu),Kr=w({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=kn(Kr),Td=w({},Ka,{newState:0,oldState:0}),Js=kn(Td),Vn=[9,13,27,32],Qr=ca&&"CompositionEvent"in window,ns=null;ca&&"documentMode"in document&&(ns=document.documentMode);var Cd=ca&&"TextEvent"in window&&!ns,Gr=ca&&(!Qr||ns&&8<ns&&11>=ns),Vr=" ",_u=!1;function bu(e,n){switch(e){case"keyup":return Vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function ha(e,n){switch(e){case"compositionend":return no(n);case"keypress":return n.which!==32?null:(_u=!0,Vr);case"textInput":return e=n.data,e===Vr&&_u?null:e;default:return null}}function is(e,n){if(as)return e==="compositionend"||!Qr&&bu(e,n)?(e=ri(),nn=ki=ja=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gr&&n.locale!=="ko"?null:n.data;default:return null}}var Ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ad[e.type]:n==="textarea"}function Nu(e,n,r,c){es?Xe?Xe.push(c):Xe=[c]:es=c,n=hc(n,"onChange"),0<n.length&&(r=new Hr("onChange","change",null,r,c),e.push({event:r,listeners:n}))}var Ea=null,Ws=null;function er(e){py(e,0)}function tr(e){var n=Rn(e);if(Vt(n))return e}function nr(e,n){if(e==="change")return n}var ju=!1;if(ca){var ka;if(ca){var ss="oninput"in document;if(!ss){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),ss=typeof Su.oninput=="function"}ka=ss}else ka=!1;ju=ka&&(!document.documentMode||9<document.documentMode)}function Yr(){Ea&&(Ea.detachEvent("onpropertychange",wu),Ws=Ea=null)}function wu(e){if(e.propertyName==="value"&&tr(Ws)){var n=[];Nu(n,Ws,e,Gs(e)),Gl(er,n)}}function Ga(e,n,r){e==="focusin"?(Yr(),Ea=n,Ws=r,Ea.attachEvent("onpropertychange",wu)):e==="focusout"&&Yr()}function zd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(Ws)}function rs(e,n){if(e==="click")return tr(n)}function Md(e,n){if(e==="input"||e==="change")return tr(n)}function Va(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:Va;function ls(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),c=Object.keys(n);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!We.call(n,f)||!Sn(e[f],n[f]))return!1}return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,n){var r=$r(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=n&&c>=n)return{node:r,offset:n-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$r(r)}}function Xr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=$i(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=$i(e.document)}return n}function oi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Jr=ca&&"documentMode"in document&&11>=document.documentMode,ui=null,Wr=null,sr=null,os=!1;function Eu(e,n,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;os||ui==null||ui!==$i(c)||(c=ui,"selectionStart"in c&&oi(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),sr&&ls(sr,c)||(sr=c,c=hc(Wr,"onSelect"),0<c.length&&(n=new Hr("onSelect","select",null,n,r),e.push({event:n,listeners:c}),n.target=ui)))}function ci(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var us={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},el={},ku={};ca&&(ku=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function wn(e){if(el[e])return el[e];if(!us[e])return e;var n=us[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ku)return el[e]=n[r];return e}var rr=wn("animationend"),Tu=wn("animationiteration"),lr=wn("animationstart"),Od=wn("transitionrun"),Cu=wn("transitionstart"),Dd=wn("transitioncancel"),cs=wn("transitionend"),Au=new Map,di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");di.push("scrollEnd");function Yn(e,n){Au.set(e,n),Si(n,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$n=[],Ln=0,tl=0;function ur(){for(var e=Ln,n=tl=Ln=0;n<e;){var r=$n[n];$n[n++]=null;var c=$n[n];$n[n++]=null;var f=$n[n];$n[n++]=null;var g=$n[n];if($n[n++]=null,c!==null&&f!==null){var N=c.pending;N===null?f.next=f:(f.next=N.next,N.next=f),c.pending=f}g!==0&&ds(r,f,g)}}function hi(e,n,r,c){$n[Ln++]=e,$n[Ln++]=n,$n[Ln++]=r,$n[Ln++]=c,tl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ao(e,n,r,c){return hi(e,n,r,c),cr(e)}function Ta(e,n){return hi(e,null,null,n),cr(e)}function ds(e,n,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var f=!1,g=e.return;g!==null;)g.childLanes|=r,c=g.alternate,c!==null&&(c.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-Lt(r),e=g.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=r|536870912),g):null}function cr(e){if(50<Co)throw Co=0,Lh=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ci={};function Rd(e,n,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,n,r,c){return new Rd(e,n,r,c)}function nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ca(e,n){var r=e.alternate;return r===null?(r=Pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function io(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function dr(e,n,r,c,f,g){var N=0;if(c=e,typeof e=="function")nl(e)&&(N=1);else if(typeof e=="string")N=oN(e,r,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=Pn(31,r,n,f),e.elementType=ie,e.lanes=g,e;case A:return Ai(r.children,f,g,n);case O:N=8,f|=24;break;case F:return e=Pn(12,r,n,f|2),e.elementType=F,e.lanes=g,e;case $:return e=Pn(13,r,n,f),e.elementType=$,e.lanes=g,e;case V:return e=Pn(19,r,n,f),e.elementType=V,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:N=10;break e;case R:N=9;break e;case Q:N=11;break e;case G:N=14;break e;case K:N=16,c=null;break e}N=29,r=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=Pn(N,r,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function Ai(e,n,r,c){return e=Pn(7,e,c,n),e.lanes=r,e}function al(e,n,r){return e=Pn(6,e,null,n),e.lanes=r,e}function so(e){var n=Pn(18,null,null,0);return n.stateNode=e,n}function ro(e,n,r){return n=Pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var s=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var r=s.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ve(n)},s.set(e,n),n)}return{value:e,source:n,stack:ve(n)}}var m=[],x=0,b=null,E=0,I=[],re=0,me=null,Ee=1,Oe="";function Ze(e,n){m[x++]=E,m[x++]=b,b=e,E=n}function rt(e,n,r){I[re++]=Ee,I[re++]=Oe,I[re++]=me,me=e;var c=Ee;e=Oe;var f=32-Lt(c)-1;c&=~(1<<f),r+=1;var g=32-Lt(n)+f;if(30<g){var N=f-f%5;g=(c&(1<<N)-1).toString(32),c>>=N,f-=N,Ee=1<<32-Lt(n)+f|r<<f|c,Oe=g+e}else Ee=1<<g|r<<f|c,Oe=e}function _n(e){e.return!==null&&(Ze(e,1),rt(e,1,0))}function an(e){for(;e===b;)b=m[--x],m[x]=null,E=m[--x],m[x]=null;for(;e===me;)me=I[--re],I[re]=null,Oe=I[--re],I[re]=null,Ee=I[--re],I[re]=null}function Zn(e,n){I[re++]=Ee,I[re++]=Oe,I[re++]=me,Ee=n.id,Oe=n.overflow,me=e}var jt=null,St=null,ht=!1,mi=null,Xn=!1,il=Error(o(519));function fi(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hr(u(n,e)),il}function lo(e){var n=e.stateNode,r=e.type,c=e.memoizedProps;switch(n[tn]=e,n[mn]=c,r){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(r=0;r<zo.length;r++)ft(zo[r],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":ft("invalid",n),Ks(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ft("invalid",n);break;case"textarea":ft("invalid",n),Xi(n,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||c.suppressHydrationWarning===!0||vy(n.textContent,r)?(c.popover!=null&&(ft("beforetoggle",n),ft("toggle",n)),c.onScroll!=null&&ft("scroll",n),c.onScrollEnd!=null&&ft("scrollend",n),c.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||fi(e,!0)}function Wt(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:jt=jt.return}}function Ya(e){if(e!==jt)return!1;if(!ht)return Wt(e),ht=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Xh(e.type,e.memoizedProps)),r=!r),r&&St&&fi(e),Wt(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));St=Ty(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));St=Ty(e)}else n===27?(n=St,ws(e.type)?(e=nm,nm=null,St=e):St=n):St=jt?za(e.stateNode.nextSibling):null;return!0}function zi(){St=jt=null,ht=!1}function oo(){var e=mi;return e!==null&&(ta===null?ta=e:ta.push.apply(ta,e),mi=null),e}function hr(e){mi===null?mi=[e]:mi.push(e)}var mr=M(null),pi=null,$a=null;function hs(e,n,r){D(mr,n._currentValue),n._currentValue=r}function Mi(e){e._currentValue=mr.current,ne(mr)}function Ld(e,n,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===r)break;e=e.return}}function Pd(e,n,r,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var N=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var H=0;H<n.length;H++)if(T.context===n[H]){g.lanes|=r,T=g.alternate,T!==null&&(T.lanes|=r),Ld(g.return,r,e),c||(N=null);break e}g=T.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(o(341));N.lanes|=r,g=N.alternate,g!==null&&(g.lanes|=r),Ld(N,r,e),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===e){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function sl(e,n,r,c){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var T=f.type;Sn(f.pendingProps.value,N.value)||(e!==null?e.push(T):e=[T])}}else if(f===Ae.current){if(N=f.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Lo):e=[Lo])}f=f.return}e!==null&&Pd(n,e,r,c),n.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fr(e){pi=e,$a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tn(e){return ip(pi,e)}function Mu(e,n){return pi===null&&fr(e),ip(e,n)}function ip(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$a===null){if(e===null)throw Error(o(308));$a=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $a=$a.next=n;return r}var ib=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},sb=t.unstable_scheduleCallback,rb=t.unstable_NormalPriority,fn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new ib,data:new Map,refCount:0}}function uo(e){e.refCount--,e.refCount===0&&sb(rb,function(){e.controller.abort()})}var co=null,Id=0,rl=0,ll=null;function lb(e,n){if(co===null){var r=co=[];Id=0,rl=qh(),ll={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Id++,n.then(sp,sp),n}function sp(){if(--Id===0&&co!==null){ll!==null&&(ll.status="fulfilled");var e=co;co=null,rl=0,ll=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ob(e,n){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var rp=Z.S;Z.S=function(e,n){Fg=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lb(e,n),rp!==null&&rp(e,n)};var pr=M(null);function Ud(){var e=pr.current;return e!==null?e:Ft.pooledCache}function Ou(e,n){n===null?D(pr,pr.current):D(pr,n.pool)}function lp(){var e=Ud();return e===null?null:{parent:fn._currentValue,pool:e}}var ol=Error(o(460)),Zd=Error(o(474)),Du=Error(o(542)),Ru={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function up(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Gn,Gn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dp(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Ft,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dp(e),e}throw yr=n,ol}}function gr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(yr=r,ol):r}}var yr=null;function cp(){if(yr===null)throw Error(o(459));var e=yr;return yr=null,e}function dp(e){if(e===ol||e===Du)throw Error(o(483))}var ul=null,ho=0;function Lu(e){var n=ho;return ho+=1,ul===null&&(ul=[]),up(ul,e,n)}function mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hp(e){function n(ae,Y){if(e){var de=ae.deletions;de===null?(ae.deletions=[Y],ae.flags|=16):de.push(Y)}}function r(ae,Y){if(!e)return null;for(;Y!==null;)n(ae,Y),Y=Y.sibling;return null}function c(ae){for(var Y=new Map;ae!==null;)ae.key!==null?Y.set(ae.key,ae):Y.set(ae.index,ae),ae=ae.sibling;return Y}function f(ae,Y){return ae=Ca(ae,Y),ae.index=0,ae.sibling=null,ae}function g(ae,Y,de){return ae.index=de,e?(de=ae.alternate,de!==null?(de=de.index,de<Y?(ae.flags|=67108866,Y):de):(ae.flags|=67108866,Y)):(ae.flags|=1048576,Y)}function N(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function T(ae,Y,de,Ne){return Y===null||Y.tag!==6?(Y=al(de,ae.mode,Ne),Y.return=ae,Y):(Y=f(Y,de),Y.return=ae,Y)}function H(ae,Y,de,Ne){var Fe=de.type;return Fe===A?be(ae,Y,de.props.children,Ne,de.key):Y!==null&&(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===K&&gr(Fe)===Y.type)?(Y=f(Y,de.props),mo(Y,de),Y.return=ae,Y):(Y=dr(de.type,de.key,de.props,null,ae.mode,Ne),mo(Y,de),Y.return=ae,Y)}function he(ae,Y,de,Ne){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==de.containerInfo||Y.stateNode.implementation!==de.implementation?(Y=ro(de,ae.mode,Ne),Y.return=ae,Y):(Y=f(Y,de.children||[]),Y.return=ae,Y)}function be(ae,Y,de,Ne,Fe){return Y===null||Y.tag!==7?(Y=Ai(de,ae.mode,Ne,Fe),Y.return=ae,Y):(Y=f(Y,de),Y.return=ae,Y)}function ke(ae,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=al(""+Y,ae.mode,de),Y.return=ae,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return de=dr(Y.type,Y.key,Y.props,null,ae.mode,de),mo(de,Y),de.return=ae,de;case k:return Y=ro(Y,ae.mode,de),Y.return=ae,Y;case K:return Y=gr(Y),ke(ae,Y,de)}if(le(Y)||oe(Y))return Y=Ai(Y,ae.mode,de,null),Y.return=ae,Y;if(typeof Y.then=="function")return ke(ae,Lu(Y),de);if(Y.$$typeof===P)return ke(ae,Mu(ae,Y),de);Pu(ae,Y)}return null}function fe(ae,Y,de,Ne){var Fe=Y!==null?Y.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Fe!==null?null:T(ae,Y,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case z:return de.key===Fe?H(ae,Y,de,Ne):null;case k:return de.key===Fe?he(ae,Y,de,Ne):null;case K:return de=gr(de),fe(ae,Y,de,Ne)}if(le(de)||oe(de))return Fe!==null?null:be(ae,Y,de,Ne,null);if(typeof de.then=="function")return fe(ae,Y,Lu(de),Ne);if(de.$$typeof===P)return fe(ae,Y,Mu(ae,de),Ne);Pu(ae,de)}return null}function ye(ae,Y,de,Ne,Fe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ae=ae.get(de)||null,T(Y,ae,""+Ne,Fe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case z:return ae=ae.get(Ne.key===null?de:Ne.key)||null,H(Y,ae,Ne,Fe);case k:return ae=ae.get(Ne.key===null?de:Ne.key)||null,he(Y,ae,Ne,Fe);case K:return Ne=gr(Ne),ye(ae,Y,de,Ne,Fe)}if(le(Ne)||oe(Ne))return ae=ae.get(de)||null,be(Y,ae,Ne,Fe,null);if(typeof Ne.then=="function")return ye(ae,Y,de,Lu(Ne),Fe);if(Ne.$$typeof===P)return ye(ae,Y,de,Mu(Y,Ne),Fe);Pu(Y,Ne)}return null}function Be(ae,Y,de,Ne){for(var Fe=null,wt=null,Ue=Y,lt=Y=0,yt=null;Ue!==null&&lt<de.length;lt++){Ue.index>lt?(yt=Ue,Ue=null):yt=Ue.sibling;var Et=fe(ae,Ue,de[lt],Ne);if(Et===null){Ue===null&&(Ue=yt);break}e&&Ue&&Et.alternate===null&&n(ae,Ue),Y=g(Et,Y,lt),wt===null?Fe=Et:wt.sibling=Et,wt=Et,Ue=yt}if(lt===de.length)return r(ae,Ue),ht&&Ze(ae,lt),Fe;if(Ue===null){for(;lt<de.length;lt++)Ue=ke(ae,de[lt],Ne),Ue!==null&&(Y=g(Ue,Y,lt),wt===null?Fe=Ue:wt.sibling=Ue,wt=Ue);return ht&&Ze(ae,lt),Fe}for(Ue=c(Ue);lt<de.length;lt++)yt=ye(Ue,ae,lt,de[lt],Ne),yt!==null&&(e&&yt.alternate!==null&&Ue.delete(yt.key===null?lt:yt.key),Y=g(yt,Y,lt),wt===null?Fe=yt:wt.sibling=yt,wt=yt);return e&&Ue.forEach(function(As){return n(ae,As)}),ht&&Ze(ae,lt),Fe}function $e(ae,Y,de,Ne){if(de==null)throw Error(o(151));for(var Fe=null,wt=null,Ue=Y,lt=Y=0,yt=null,Et=de.next();Ue!==null&&!Et.done;lt++,Et=de.next()){Ue.index>lt?(yt=Ue,Ue=null):yt=Ue.sibling;var As=fe(ae,Ue,Et.value,Ne);if(As===null){Ue===null&&(Ue=yt);break}e&&Ue&&As.alternate===null&&n(ae,Ue),Y=g(As,Y,lt),wt===null?Fe=As:wt.sibling=As,wt=As,Ue=yt}if(Et.done)return r(ae,Ue),ht&&Ze(ae,lt),Fe;if(Ue===null){for(;!Et.done;lt++,Et=de.next())Et=ke(ae,Et.value,Ne),Et!==null&&(Y=g(Et,Y,lt),wt===null?Fe=Et:wt.sibling=Et,wt=Et);return ht&&Ze(ae,lt),Fe}for(Ue=c(Ue);!Et.done;lt++,Et=de.next())Et=ye(Ue,ae,lt,Et.value,Ne),Et!==null&&(e&&Et.alternate!==null&&Ue.delete(Et.key===null?lt:Et.key),Y=g(Et,Y,lt),wt===null?Fe=Et:wt.sibling=Et,wt=Et);return e&&Ue.forEach(function(vN){return n(ae,vN)}),ht&&Ze(ae,lt),Fe}function Ut(ae,Y,de,Ne){if(typeof de=="object"&&de!==null&&de.type===A&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case z:e:{for(var Fe=de.key;Y!==null;){if(Y.key===Fe){if(Fe=de.type,Fe===A){if(Y.tag===7){r(ae,Y.sibling),Ne=f(Y,de.props.children),Ne.return=ae,ae=Ne;break e}}else if(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===K&&gr(Fe)===Y.type){r(ae,Y.sibling),Ne=f(Y,de.props),mo(Ne,de),Ne.return=ae,ae=Ne;break e}r(ae,Y);break}else n(ae,Y);Y=Y.sibling}de.type===A?(Ne=Ai(de.props.children,ae.mode,Ne,de.key),Ne.return=ae,ae=Ne):(Ne=dr(de.type,de.key,de.props,null,ae.mode,Ne),mo(Ne,de),Ne.return=ae,ae=Ne)}return N(ae);case k:e:{for(Fe=de.key;Y!==null;){if(Y.key===Fe)if(Y.tag===4&&Y.stateNode.containerInfo===de.containerInfo&&Y.stateNode.implementation===de.implementation){r(ae,Y.sibling),Ne=f(Y,de.children||[]),Ne.return=ae,ae=Ne;break e}else{r(ae,Y);break}else n(ae,Y);Y=Y.sibling}Ne=ro(de,ae.mode,Ne),Ne.return=ae,ae=Ne}return N(ae);case K:return de=gr(de),Ut(ae,Y,de,Ne)}if(le(de))return Be(ae,Y,de,Ne);if(oe(de)){if(Fe=oe(de),typeof Fe!="function")throw Error(o(150));return de=Fe.call(de),$e(ae,Y,de,Ne)}if(typeof de.then=="function")return Ut(ae,Y,Lu(de),Ne);if(de.$$typeof===P)return Ut(ae,Y,Mu(ae,de),Ne);Pu(ae,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,Y!==null&&Y.tag===6?(r(ae,Y.sibling),Ne=f(Y,de),Ne.return=ae,ae=Ne):(r(ae,Y),Ne=al(de,ae.mode,Ne),Ne.return=ae,ae=Ne),N(ae)):r(ae,Y)}return function(ae,Y,de,Ne){try{ho=0;var Fe=Ut(ae,Y,de,Ne);return ul=null,Fe}catch(Ue){if(Ue===ol||Ue===Du)throw Ue;var wt=Pn(29,Ue,null,ae.mode);return wt.lanes=Ne,wt.return=ae,wt}}}var xr=hp(!0),mp=hp(!1),ms=!1;function qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ps(e,n,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Tt&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=cr(e),ds(e,null,r),n}return hi(e,c,n,r),cr(e)}function fo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Lr(e,r)}}function Hd(e,n){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var N={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=N:g=g.next=N,r=r.next}while(r!==null);g===null?f=g=n:g=g.next=n}else f=g=n;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Kd=!1;function po(){if(Kd){var e=ll;if(e!==null)throw e}}function go(e,n,r,c){Kd=!1;var f=e.updateQueue;ms=!1;var g=f.firstBaseUpdate,N=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var H=T,he=H.next;H.next=null,N===null?g=he:N.next=he,N=H;var be=e.alternate;be!==null&&(be=be.updateQueue,T=be.lastBaseUpdate,T!==N&&(T===null?be.firstBaseUpdate=he:T.next=he,be.lastBaseUpdate=H))}if(g!==null){var ke=f.baseState;N=0,be=he=H=null,T=g;do{var fe=T.lane&-536870913,ye=fe!==T.lane;if(ye?(gt&fe)===fe:(c&fe)===fe){fe!==0&&fe===rl&&(Kd=!0),be!==null&&(be=be.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Be=e,$e=T;fe=n;var Ut=r;switch($e.tag){case 1:if(Be=$e.payload,typeof Be=="function"){ke=Be.call(Ut,ke,fe);break e}ke=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=$e.payload,fe=typeof Be=="function"?Be.call(Ut,ke,fe):Be,fe==null)break e;ke=w({},ke,fe);break e;case 2:ms=!0}}fe=T.callback,fe!==null&&(e.flags|=64,ye&&(e.flags|=8192),ye=f.callbacks,ye===null?f.callbacks=[fe]:ye.push(fe))}else ye={lane:fe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},be===null?(he=be=ye,H=ke):be=be.next=ye,N|=fe;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ye=T,T=ye.next,ye.next=null,f.lastBaseUpdate=ye,f.shared.pending=null}}while(!0);be===null&&(H=ke),f.baseState=H,f.firstBaseUpdate=he,f.lastBaseUpdate=be,g===null&&(f.shared.lanes=0),_s|=N,e.lanes=N,e.memoizedState=ke}}function fp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function pp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fp(r[e],n)}var cl=M(null),Bu=M(0);function gp(e,n){e=Zi,D(Bu,e),D(cl,n),Zi=e|n.baseLanes}function Qd(){D(Bu,Zi),D(cl,cl.current)}function Gd(){Zi=Bu.current,ne(cl),ne(Bu)}var ma=M(null),Aa=null;function gs(e){var n=e.alternate;D(cn,cn.current&1),D(ma,e),Aa===null&&(n===null||cl.current!==null||n.memoizedState!==null)&&(Aa=e)}function Vd(e){D(cn,cn.current),D(ma,e),Aa===null&&(Aa=e)}function yp(e){e.tag===22?(D(cn,cn.current),D(ma,e),Aa===null&&(Aa=e)):ys()}function ys(){D(cn,cn.current),D(ma,ma.current)}function fa(e){ne(ma),Aa===e&&(Aa=null),ne(cn)}var cn=M(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||em(r)||tm(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,st=null,Bt=null,pn=null,Uu=!1,dl=!1,vr=!1,Zu=0,yo=0,hl=null,ub=0;function sn(){throw Error(o(321))}function Yd(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Sn(e[r],n[r]))return!1;return!0}function $d(e,n,r,c,f,g){return Oi=g,st=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?eg:dh,vr=!1,g=r(c,f),vr=!1,dl&&(g=vp(n,r,c,f)),xp(e),g}function xp(e){Z.H=_o;var n=Bt!==null&&Bt.next!==null;if(Oi=0,pn=Bt=st=null,Uu=!1,yo=0,hl=null,n)throw Error(o(300));e===null||gn||(e=e.dependencies,e!==null&&zu(e)&&(gn=!0))}function vp(e,n,r,c){st=e;var f=0;do{if(dl&&(hl=null),yo=0,dl=!1,25<=f)throw Error(o(301));if(f+=1,pn=Bt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=tg,g=n(r,c)}while(dl);return g}function cb(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?xo(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(st.flags|=1024),n}function Xd(){var e=Zu!==0;return Zu=0,e}function Jd(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Wd(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Oi=0,pn=Bt=st=null,dl=!1,yo=Zu=0,hl=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?st.memoizedState=pn=e:pn=pn.next=e,pn}function dn(){if(Bt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=pn===null?st.memoizedState:pn.next;if(n!==null)pn=n,Bt=e;else{if(e===null)throw st.alternate===null?Error(o(467)):Error(o(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},pn===null?st.memoizedState=pn=e:pn=pn.next=e}return pn}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(e){var n=yo;return yo+=1,hl===null&&(hl=[]),e=up(hl,e,n),n=st,(pn===null?n.memoizedState:pn.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?eg:dh),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===P)return Tn(e)}throw Error(o(438,String(e)))}function eh(e){var n=null,r=st.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var c=st.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),st.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),c=0;c<e;c++)r[c]=pe;return n.index++,r}function Di(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=dn();return th(n,Bt,e)}function th(e,n,r){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var f=e.baseQueue,g=c.pending;if(g!==null){if(f!==null){var N=f.next;f.next=g.next,g.next=N}n.baseQueue=f=g,c.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var T=N=null,H=null,he=n,be=!1;do{var ke=he.lane&-536870913;if(ke!==he.lane?(gt&ke)===ke:(Oi&ke)===ke){var fe=he.revertLane;if(fe===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),ke===rl&&(be=!0);else if((Oi&fe)===fe){he=he.next,fe===rl&&(be=!0);continue}else ke={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},H===null?(T=H=ke,N=g):H=H.next=ke,st.lanes|=fe,_s|=fe;ke=he.action,vr&&r(g,ke),g=he.hasEagerState?he.eagerState:r(g,ke)}else fe={lane:ke,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},H===null?(T=H=fe,N=g):H=H.next=fe,st.lanes|=ke,_s|=ke;he=he.next}while(he!==null&&he!==n);if(H===null?N=g:H.next=T,!Sn(g,e.memoizedState)&&(gn=!0,be&&(r=ll,r!==null)))throw r;e.memoizedState=g,e.baseState=N,e.baseQueue=H,c.lastRenderedState=g}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function nh(e){var n=dn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var c=r.dispatch,f=r.pending,g=n.memoizedState;if(f!==null){r.pending=null;var N=f=f.next;do g=e(g,N.action),N=N.next;while(N!==f);Sn(g,n.memoizedState)||(gn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,c]}function _p(e,n,r){var c=st,f=dn(),g=ht;if(g){if(r===void 0)throw Error(o(407));r=r()}else r=n();var N=!Sn((Bt||f).memoizedState,r);if(N&&(f.memoizedState=r,gn=!0),f=f.queue,sh(jp.bind(null,c,f,e),[e]),f.getSnapshot!==n||N||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,ml(9,{destroy:void 0},Np.bind(null,c,f,r,n),null),Ft===null)throw Error(o(349));g||(Oi&127)!==0||bp(c,n,r)}return r}function bp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=st.updateQueue,n===null?(n=qu(),st.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Np(e,n,r,c){n.value=r,n.getSnapshot=c,Sp(n)&&wp(e)}function jp(e,n,r){return r(function(){Sp(n)&&wp(e)})}function Sp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Sn(e,r)}catch{return!0}}function wp(e){var n=Ta(e,2);n!==null&&na(n,e,2)}function ah(e){var n=qn();if(typeof e=="function"){var r=e;if(e=r(),vr){un(!0);try{r()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},n}function Ep(e,n,r,c){return e.baseState=r,th(e,Bt,typeof c=="function"?c:Di)}function db(e,n,r,c,f){if(Gu(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};Z.T!==null?r(!0):g.isTransition=!1,c(g),r=n.pending,r===null?(g.next=n.pending=g,kp(n,g)):(g.next=r.next,n.pending=r.next=g)}}function kp(e,n){var r=n.action,c=n.payload,f=e.state;if(n.isTransition){var g=Z.T,N={};Z.T=N;try{var T=r(f,c),H=Z.S;H!==null&&H(N,T),Tp(e,n,T)}catch(he){ih(e,n,he)}finally{g!==null&&N.types!==null&&(g.types=N.types),Z.T=g}}else try{g=r(f,c),Tp(e,n,g)}catch(he){ih(e,n,he)}}function Tp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Cp(e,n,c)},function(c){return ih(e,n,c)}):Cp(e,n,r)}function Cp(e,n,r){n.status="fulfilled",n.value=r,Ap(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,kp(e,r)))}function ih(e,n,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=r,Ap(n),n=n.next;while(n!==c)}e.action=null}function Ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zp(e,n){return n}function Mp(e,n){if(ht){var r=Ft.formState;if(r!==null){e:{var c=st;if(ht){if(St){t:{for(var f=St,g=Xn;f.nodeType!==8;){if(!g){f=null;break t}if(f=za(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){St=za(f.nextSibling),c=f.data==="F!";break e}}fi(c)}c=!1}c&&(n=r[0])}}return r=qn(),r.memoizedState=r.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:n},r.queue=c,r=Xp.bind(null,st,c),c.dispatch=r,c=ah(!1),g=ch.bind(null,st,!1,c.queue),c=qn(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,r=db.bind(null,st,f,g,r),f.dispatch=r,c.memoizedState=e,[n,r,!1]}function Op(e){var n=dn();return Dp(n,Bt,e)}function Dp(e,n,r){if(n=th(e,n,zp)[0],e=Hu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=xo(n)}catch(N){throw N===ol?Du:N}else c=n;n=dn();var f=n.queue,g=f.dispatch;return r!==n.memoizedState&&(st.flags|=2048,ml(9,{destroy:void 0},hb.bind(null,f,r),null)),[c,g,e]}function hb(e,n){e.action=n}function Rp(e){var n=dn(),r=Bt;if(r!==null)return Dp(n,r,e);dn(),n=n.memoizedState,r=dn();var c=r.queue.dispatch;return r.memoizedState=e,[n,c,!1]}function ml(e,n,r,c){return e={tag:e,create:r,deps:c,inst:n,next:null},n=st.updateQueue,n===null&&(n=qu(),st.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,n.lastEffect=e),e}function Lp(){return dn().memoizedState}function Ku(e,n,r,c){var f=qn();st.flags|=e,f.memoizedState=ml(1|n,{destroy:void 0},r,c===void 0?null:c)}function Qu(e,n,r,c){var f=dn();c=c===void 0?null:c;var g=f.memoizedState.inst;Bt!==null&&c!==null&&Yd(c,Bt.memoizedState.deps)?f.memoizedState=ml(n,g,r,c):(st.flags|=e,f.memoizedState=ml(1|n,g,r,c))}function Pp(e,n){Ku(8390656,8,e,n)}function sh(e,n){Qu(2048,8,e,n)}function mb(e){st.flags|=4;var n=st.updateQueue;if(n===null)n=qu(),st.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Bp(e){var n=dn().memoizedState;return mb({ref:n,nextImpl:e}),function(){if((Tt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Ip(e,n){return Qu(4,2,e,n)}function Up(e,n){return Qu(4,4,e,n)}function Zp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qp(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,Zp.bind(null,n,e),r)}function rh(){}function Fp(e,n){var r=dn();n=n===void 0?null:n;var c=r.memoizedState;return n!==null&&Yd(n,c[1])?c[0]:(r.memoizedState=[e,n],e)}function Hp(e,n){var r=dn();n=n===void 0?null:n;var c=r.memoizedState;if(n!==null&&Yd(n,c[1]))return c[0];if(c=e(),vr){un(!0);try{e()}finally{un(!1)}}return r.memoizedState=[c,n],c}function lh(e,n,r){return r===void 0||(Oi&1073741824)!==0&&(gt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Kg(),st.lanes|=e,_s|=e,r)}function Kp(e,n,r,c){return Sn(r,n)?r:cl.current!==null?(e=lh(e,r,c),Sn(e,n)||(gn=!0),e):(Oi&42)===0||(Oi&1073741824)!==0&&(gt&261930)===0?(gn=!0,e.memoizedState=r):(e=Kg(),st.lanes|=e,_s|=e,n)}function Qp(e,n,r,c,f){var g=se.p;se.p=g!==0&&8>g?g:8;var N=Z.T,T={};Z.T=T,ch(e,!1,n,r);try{var H=f(),he=Z.S;if(he!==null&&he(T,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var be=ob(H,c);vo(e,n,be,ya(e))}else vo(e,n,c,ya(e))}catch(ke){vo(e,n,{then:function(){},status:"rejected",reason:ke},ya())}finally{se.p=g,N!==null&&T.types!==null&&(N.types=T.types),Z.T=N}}function fb(){}function oh(e,n,r,c){if(e.tag!==5)throw Error(o(476));var f=Gp(e).queue;Qp(e,f,n,ce,r===null?fb:function(){return Vp(e),r(c)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),vo(e,n.next.queue,{},ya())}function uh(){return Tn(Lo)}function Yp(){return dn().memoizedState}function $p(){return dn().memoizedState}function pb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=ya();e=fs(r);var c=ps(n,e,r);c!==null&&(na(c,n,r),fo(c,n,r)),n={cache:Bd()},e.payload=n;return}n=n.return}}function gb(e,n,r){var c=ya();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Jp(n,r):(r=ao(e,n,r,c),r!==null&&(na(r,e,c),Wp(r,n,c)))}function Xp(e,n,r){var c=ya();vo(e,n,r,c)}function vo(e,n,r,c){var f={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Jp(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var N=n.lastRenderedState,T=g(N,r);if(f.hasEagerState=!0,f.eagerState=T,Sn(T,N))return hi(e,n,f,0),Ft===null&&ur(),!1}catch{}if(r=ao(e,n,f,c),r!==null)return na(r,e,c),Wp(r,n,c),!0}return!1}function ch(e,n,r,c){if(c={lane:2,revertLane:qh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(o(479))}else n=ao(e,r,c,2),n!==null&&na(n,e,2)}function Gu(e){var n=e.alternate;return e===st||n!==null&&n===st}function Jp(e,n){dl=Uu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Wp(e,n,r){if((r&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,r|=c,n.lanes=r,Lr(e,r)}}var _o={readContext:Tn,use:Fu,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};_o.useEffectEvent=sn;var eg={readContext:Tn,use:Fu,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:Tn,useEffect:Pp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ku(4194308,4,Zp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var r=qn();n=n===void 0?null:n;var c=e();if(vr){un(!0);try{e()}finally{un(!1)}}return r.memoizedState=[c,n],c},useReducer:function(e,n,r){var c=qn();if(r!==void 0){var f=r(n);if(vr){un(!0);try{r(n)}finally{un(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=gb.bind(null,st,e),[c.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=ah(e);var n=e.queue,r=Xp.bind(null,st,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:rh,useDeferredValue:function(e,n){var r=qn();return lh(r,e,n)},useTransition:function(){var e=ah(!1);return e=Qp.bind(null,st,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var c=st,f=qn();if(ht){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Ft===null)throw Error(o(349));(gt&127)!==0||bp(c,n,r)}f.memoizedState=r;var g={value:r,getSnapshot:n};return f.queue=g,Pp(jp.bind(null,c,g,e),[e]),c.flags|=2048,ml(9,{destroy:void 0},Np.bind(null,c,g,r,n),null),r},useId:function(){var e=qn(),n=Ft.identifierPrefix;if(ht){var r=Oe,c=Ee;r=(c&~(1<<32-Lt(c)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=ub++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:uh,useFormState:Mp,useActionState:Mp,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ch.bind(null,st,!0,r),r.dispatch=n,[e,n]},useMemoCache:eh,useCacheRefresh:function(){return qn().memoizedState=pb.bind(null,st)},useEffectEvent:function(e){var n=qn(),r={impl:e};return n.memoizedState=r,function(){if((Tt&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},dh={readContext:Tn,use:Fu,useCallback:Fp,useContext:Tn,useEffect:sh,useImperativeHandle:qp,useInsertionEffect:Ip,useLayoutEffect:Up,useMemo:Hp,useReducer:Hu,useRef:Lp,useState:function(){return Hu(Di)},useDebugValue:rh,useDeferredValue:function(e,n){var r=dn();return Kp(r,Bt.memoizedState,e,n)},useTransition:function(){var e=Hu(Di)[0],n=dn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:uh,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var r=dn();return Ep(r,Bt,e,n)},useMemoCache:eh,useCacheRefresh:$p};dh.useEffectEvent=Bp;var tg={readContext:Tn,use:Fu,useCallback:Fp,useContext:Tn,useEffect:sh,useImperativeHandle:qp,useInsertionEffect:Ip,useLayoutEffect:Up,useMemo:Hp,useReducer:nh,useRef:Lp,useState:function(){return nh(Di)},useDebugValue:rh,useDeferredValue:function(e,n){var r=dn();return Bt===null?lh(r,e,n):Kp(r,Bt.memoizedState,e,n)},useTransition:function(){var e=nh(Di)[0],n=dn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:uh,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var r=dn();return Bt!==null?Ep(r,Bt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:eh,useCacheRefresh:$p};tg.useEffectEvent=Bp;function hh(e,n,r,c){n=e.memoizedState,r=r(c,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mh={enqueueSetState:function(e,n,r){e=e._reactInternals;var c=ya(),f=fs(c);f.payload=n,r!=null&&(f.callback=r),n=ps(e,f,c),n!==null&&(na(n,e,c),fo(n,e,c))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var c=ya(),f=fs(c);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=ps(e,f,c),n!==null&&(na(n,e,c),fo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ya(),c=fs(r);c.tag=2,n!=null&&(c.callback=n),n=ps(e,c,r),n!==null&&(na(n,e,r),fo(n,e,r))}};function ng(e,n,r,c,f,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,N):n.prototype&&n.prototype.isPureReactComponent?!ls(r,c)||!ls(f,g):!0}function ag(e,n,r,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,c),n.state!==e&&mh.enqueueReplaceState(n,n.state,null)}function _r(e,n){var r=n;if("ref"in n){r={};for(var c in n)c!=="ref"&&(r[c]=n[c])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function ig(e){or(e)}function sg(e){console.error(e)}function rg(e){or(e)}function Vu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function lg(e,n,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fh(e,n,r){return r=fs(r),r.tag=3,r.payload={element:null},r.callback=function(){Vu(e,n)},r}function og(e){return e=fs(e),e.tag=3,e}function ug(e,n,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;e.payload=function(){return f(g)},e.callback=function(){lg(n,r,c)}}var N=r.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){lg(n,r,c),typeof f!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function yb(e,n,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,f,!0),r=ma.current,r!==null){switch(r.tag){case 31:case 13:return Aa===null?rc():r.alternate===null&&rn===0&&(rn=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([c]):n.add(c),Ih(e,c,f)),!1;case 22:return r.flags|=65536,c===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([c]):r.add(c)),Ih(e,c,f)),!1}throw Error(o(435,r.tag))}return Ih(e,c,f),rc(),!1}if(ht)return n=ma.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==il&&(e=Error(o(422),{cause:c}),hr(u(e,r)))):(c!==il&&(n=Error(o(423),{cause:c}),hr(u(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=u(c,r),f=fh(e.stateNode,c,f),Hd(e,f),rn!==4&&(rn=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,r),To===null?To=[g]:To.push(g),rn!==4&&(rn=2),n===null)return!0;c=u(c,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=fh(r.stateNode,c,e),Hd(r,e),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(bs===null||!bs.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=og(f),ug(f,e,r,c),Hd(r,f),!1}r=r.return}while(r!==null);return!1}var ph=Error(o(461)),gn=!1;function Cn(e,n,r,c){n.child=e===null?mp(n,null,r,c):xr(n,e.child,r,c)}function cg(e,n,r,c,f){r=r.render;var g=n.ref;if("ref"in c){var N={};for(var T in c)T!=="ref"&&(N[T]=c[T])}else N=c;return fr(n),c=$d(e,n,r,N,g,f),T=Xd(),e!==null&&!gn?(Jd(e,n,f),Ri(e,n,f)):(ht&&T&&_n(n),n.flags|=1,Cn(e,n,c,f),n.child)}function dg(e,n,r,c,f){if(e===null){var g=r.type;return typeof g=="function"&&!nl(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,hg(e,n,g,c,f)):(e=dr(r.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!jh(e,f)){var N=g.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(N,c)&&e.ref===n.ref)return Ri(e,n,f)}return n.flags|=1,e=Ca(g,c),e.ref=n.ref,e.return=n,n.child=e}function hg(e,n,r,c,f){if(e!==null){var g=e.memoizedProps;if(ls(g,c)&&e.ref===n.ref)if(gn=!1,n.pendingProps=c=g,jh(e,f))(e.flags&131072)!==0&&(gn=!0);else return n.lanes=e.lanes,Ri(e,n,f)}return gh(e,n,r,c,f)}function mg(e,n,r,c){var f=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,n.child=null;return fg(e,n,g,r,c)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,g!==null?g.cachePool:null),g!==null?gp(n,g):Qd(),yp(n);else return c=n.lanes=536870912,fg(e,n,g!==null?g.baseLanes|r:r,r,c)}else g!==null?(Ou(n,g.cachePool),gp(n,g),ys(),n.memoizedState=null):(e!==null&&Ou(n,null),Qd(),ys());return Cn(e,n,f,r),n.child}function bo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fg(e,n,r,c,f){var g=Ud();return g=g===null?null:{parent:fn._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},e!==null&&Ou(n,null),Qd(),yp(n),e!==null&&sl(e,n,c,!0),n.childLanes=f,null}function Yu(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function pg(e,n,r){return xr(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,fa(n),n.memoizedState=null,e}function xb(e,n,r){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ht){if(c.mode==="hidden")return e=Yu(n,c),n.lanes=536870912,bo(null,e);if(Vd(n),(e=St)?(e=ky(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:me!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},r=so(e),r.return=n,n.child=r,jt=n,St=null)):e=null,e===null)throw fi(n);return n.lanes=536870912,null}return Yu(n,c)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(Vd(n),f)if(n.flags&256)n.flags&=-257,n=pg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(gn||sl(e,n,r,!1),f=(r&e.childLanes)!==0,gn||f){if(c=Ft,c!==null&&(N=Pr(c,r),N!==0&&N!==g.retryLane))throw g.retryLane=N,Ta(e,N),na(c,e,N),ph;rc(),n=pg(e,n,r)}else e=g.treeContext,St=za(N.nextSibling),jt=n,ht=!0,mi=null,Xn=!1,e!==null&&Zn(n,e),n=Yu(n,c),n.flags|=4096;return n}return e=Ca(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gh(e,n,r,c,f){return fr(n),r=$d(e,n,r,c,void 0,f),c=Xd(),e!==null&&!gn?(Jd(e,n,f),Ri(e,n,f)):(ht&&c&&_n(n),n.flags|=1,Cn(e,n,r,f),n.child)}function gg(e,n,r,c,f,g){return fr(n),n.updateQueue=null,r=vp(n,c,r,f),xp(e),c=Xd(),e!==null&&!gn?(Jd(e,n,g),Ri(e,n,g)):(ht&&c&&_n(n),n.flags|=1,Cn(e,n,r,g),n.child)}function yg(e,n,r,c,f){if(fr(n),n.stateNode===null){var g=Ci,N=r.contextType;typeof N=="object"&&N!==null&&(g=Tn(N)),g=new r(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mh,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},qd(n),N=r.contextType,g.context=typeof N=="object"&&N!==null?Tn(N):Ci,g.state=n.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&(hh(n,r,N,c),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&mh.enqueueReplaceState(g,g.state,null),go(n,c,g,f),po(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,H=_r(r,T);g.props=H;var he=g.context,be=r.contextType;N=Ci,typeof be=="object"&&be!==null&&(N=Tn(be));var ke=r.getDerivedStateFromProps;be=typeof ke=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,be||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||he!==N)&&ag(n,g,c,N),ms=!1;var fe=n.memoizedState;g.state=fe,go(n,c,g,f),po(),he=n.memoizedState,T||fe!==he||ms?(typeof ke=="function"&&(hh(n,r,ke,c),he=n.memoizedState),(H=ms||ng(n,r,H,c,fe,he,N))?(be||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=he),g.props=c,g.state=he,g.context=N,c=H):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Fd(e,n),N=n.memoizedProps,be=_r(r,N),g.props=be,ke=n.pendingProps,fe=g.context,he=r.contextType,H=Ci,typeof he=="object"&&he!==null&&(H=Tn(he)),T=r.getDerivedStateFromProps,(he=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==ke||fe!==H)&&ag(n,g,c,H),ms=!1,fe=n.memoizedState,g.state=fe,go(n,c,g,f),po();var ye=n.memoizedState;N!==ke||fe!==ye||ms||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof T=="function"&&(hh(n,r,T,c),ye=n.memoizedState),(be=ms||ng(n,r,be,c,fe,ye,H)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(he||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ye,H),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ye,H)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ye),g.props=c,g.state=ye,g.context=H,c=be):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&fe===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,$u(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=xr(n,e.child,null,f),n.child=xr(n,null,r,f)):Cn(e,n,r,f),n.memoizedState=g.state,e=n.child):e=Ri(e,n,f),e}function xg(e,n,r,c){return zi(),n.flags|=256,Cn(e,n,r,c),n.child}var yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(e){return{baseLanes:e,cachePool:lp()}}function vh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=ga),e}function vg(e,n,r){var c=n.pendingProps,f=!1,g=(n.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),N&&(f=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(ht){if(f?gs(n):ys(),(e=St)?(e=ky(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:me!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},r=so(e),r.return=n,n.child=r,jt=n,St=null)):e=null,e===null)throw fi(n);return tm(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(ys(),f=n.mode,T=Xu({mode:"hidden",children:T},f),c=Ai(c,f,r,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=xh(r),c.childLanes=vh(e,N,r),n.memoizedState=yh,bo(null,c)):(gs(n),_h(n,T))}var H=e.memoizedState;if(H!==null&&(T=H.dehydrated,T!==null)){if(g)n.flags&256?(gs(n),n.flags&=-257,n=bh(e,n,r)):n.memoizedState!==null?(ys(),n.child=e.child,n.flags|=128,n=null):(ys(),T=c.fallback,f=n.mode,c=Xu({mode:"visible",children:c.children},f),T=Ai(T,f,r,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,xr(n,e.child,null,r),c=n.child,c.memoizedState=xh(r),c.childLanes=vh(e,N,r),n.memoizedState=yh,n=bo(null,c));else if(gs(n),tm(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var he=N.dgst;N=he,c=Error(o(419)),c.stack="",c.digest=N,hr({value:c,source:null,stack:null}),n=bh(e,n,r)}else if(gn||sl(e,n,r,!1),N=(r&e.childLanes)!==0,gn||N){if(N=Ft,N!==null&&(c=Pr(N,r),c!==0&&c!==H.retryLane))throw H.retryLane=c,Ta(e,c),na(N,e,c),ph;em(T)||rc(),n=bh(e,n,r)}else em(T)?(n.flags|=192,n.child=e.child,n=null):(e=H.treeContext,St=za(T.nextSibling),jt=n,ht=!0,mi=null,Xn=!1,e!==null&&Zn(n,e),n=_h(n,c.children),n.flags|=4096);return n}return f?(ys(),T=c.fallback,f=n.mode,H=e.child,he=H.sibling,c=Ca(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,he!==null?T=Ca(he,T):(T=Ai(T,f,r,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,bo(null,c),c=n.child,T=e.child.memoizedState,T===null?T=xh(r):(f=T.cachePool,f!==null?(H=fn._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=lp(),T={baseLanes:T.baseLanes|r,cachePool:f}),c.memoizedState=T,c.childLanes=vh(e,N,r),n.memoizedState=yh,bo(e.child,c)):(gs(n),r=e.child,e=r.sibling,r=Ca(r,{mode:"visible",children:c.children}),r.return=n,r.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=r,n.memoizedState=null,r)}function _h(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=Pn(22,e,null,n),e.lanes=0,e}function bh(e,n,r){return xr(n,e.child,null,r),e=_h(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _g(e,n,r){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Ld(e.return,n,r)}function Nh(e,n,r,c,f,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f,treeForkCount:g}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=r,N.tailMode=f,N.treeForkCount=g)}function bg(e,n,r){var c=n.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var N=cn.current,T=(N&2)!==0;if(T?(N=N&1|2,n.flags|=128):N&=1,D(cn,N),Cn(e,n,c,r),c=ht?E:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_g(e,r,n);else if(e.tag===19)_g(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Iu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Nh(n,!1,f,r,g,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Iu(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}Nh(n,!0,r,null,g,c);break;case"together":Nh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Ri(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),_s|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(sl(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Ca(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ca(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function vb(e,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),hs(n,fn,e.memoizedState.cache),zi();break;case 27:case 5:tt(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(gs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?vg(e,n,r):(gs(n),e=Ri(e,n,r),e!==null?e.sibling:null);gs(n);break;case 19:var f=(e.flags&128)!==0;if(c=(r&n.childLanes)!==0,c||(sl(e,n,r,!1),c=(r&n.childLanes)!==0),f){if(c)return bg(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),D(cn,cn.current),c)break;return null;case 22:return n.lanes=0,mg(e,n,r,n.pendingProps);case 24:hs(n,fn,e.memoizedState.cache)}return Ri(e,n,r)}function Ng(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)gn=!0;else{if(!jh(e,r)&&(n.flags&128)===0)return gn=!1,vb(e,n,r);gn=(e.flags&131072)!==0}else gn=!1,ht&&(n.flags&1048576)!==0&&rt(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=gr(n.elementType),n.type=e,typeof e=="function")nl(e)?(c=_r(e,c),n.tag=1,n=yg(null,n,e,c,r)):(n.tag=0,n=gh(null,n,e,c,r));else{if(e!=null){var f=e.$$typeof;if(f===Q){n.tag=11,n=cg(null,n,e,c,r);break e}else if(f===G){n.tag=14,n=dg(null,n,e,c,r);break e}}throw n=U(e)||e,Error(o(306,n,""))}}return n;case 0:return gh(e,n,n.type,n.pendingProps,r);case 1:return c=n.type,f=_r(c,n.pendingProps),yg(e,n,c,f,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;f=g.element,Fd(e,n),go(n,c,null,r);var N=n.memoizedState;if(c=N.cache,hs(n,fn,c),c!==g.cache&&Pd(n,[fn],r,!0),po(),c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=xg(e,n,c,r);break e}else if(c!==f){f=u(Error(o(424)),n),hr(f),n=xg(e,n,c,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,St=za(e.firstChild),jt=n,ht=!0,mi=null,Xn=!0,r=mp(n,null,c,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zi(),c===f){n=Ri(e,n,r);break e}Cn(e,n,c,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=r:ht||(r=n.type,e=n.pendingProps,c=mc(je.current).createElement(r),c[tn]=n,c[mn]=e,An(c,r,e),Jt(c),n.stateNode=c):n.memoizedState=Oy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tt(n),e===null&&ht&&(c=n.stateNode=Ay(n.type,n.pendingProps,je.current),jt=n,Xn=!0,f=St,ws(n.type)?(nm=f,St=za(c.firstChild)):St=f),Cn(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ht&&((f=c=St)&&(c=Yb(c,n.type,n.pendingProps,Xn),c!==null?(n.stateNode=c,jt=n,St=za(c.firstChild),Xn=!1,f=!0):f=!1),f||fi(n)),tt(n),f=n.type,g=n.pendingProps,N=e!==null?e.memoizedProps:null,c=g.children,Xh(f,g)?c=null:N!==null&&Xh(f,N)&&(n.flags|=32),n.memoizedState!==null&&(f=$d(e,n,cb,null,null,r),Lo._currentValue=f),$u(e,n),Cn(e,n,c,r),n.child;case 6:return e===null&&ht&&((e=r=St)&&(r=$b(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,jt=n,St=null,e=!0):e=!1),e||fi(n)),null;case 13:return vg(e,n,r);case 4:return qe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=xr(n,null,c,r):Cn(e,n,c,r),n.child;case 11:return cg(e,n,n.type,n.pendingProps,r);case 7:return Cn(e,n,n.pendingProps,r),n.child;case 8:return Cn(e,n,n.pendingProps.children,r),n.child;case 12:return Cn(e,n,n.pendingProps.children,r),n.child;case 10:return c=n.pendingProps,hs(n,n.type,c.value),Cn(e,n,c.children,r),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,fr(n),f=Tn(f),c=c(f),n.flags|=1,Cn(e,n,c,r),n.child;case 14:return dg(e,n,n.type,n.pendingProps,r);case 15:return hg(e,n,n.type,n.pendingProps,r);case 19:return bg(e,n,r);case 31:return xb(e,n,r);case 22:return mg(e,n,r,n.pendingProps);case 24:return fr(n),c=Tn(fn),e===null?(f=Ud(),f===null&&(f=Ft,g=Bd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),n.memoizedState={parent:c,cache:f},qd(n),hs(n,fn,f)):((e.lanes&r)!==0&&(Fd(e,n),go(n,null,null,r),po()),f=e.memoizedState,g=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),hs(n,fn,c)):(c=g.cache,hs(n,fn,c),c!==f.cache&&Pd(n,[fn],r,!0))),Cn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Li(e){e.flags|=4}function Sh(e,n,r,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Yg())e.flags|=8192;else throw yr=Ru,Zd}else e.flags&=-16777217}function jg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!By(n))if(Yg())e.flags|=8192;else throw yr=Ru,Zd}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Rr():536870912,e.lanes|=n,yl|=n)}function No(e,n){if(!ht)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=r,n}function _b(e,n,r){var c=n.pendingProps;switch(an(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(n),null;case 1:return Gt(n),null;case 3:return r=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Mi(fn),Ge(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ya(n)?Li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,oo())),Gt(n),null;case 26:var f=n.type,g=n.memoizedState;return e===null?(Li(n),g!==null?(Gt(n),jg(n,g)):(Gt(n),Sh(n,f,null,c,r))):g?g!==e.memoizedState?(Li(n),Gt(n),jg(n,g)):(Gt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Li(n),Gt(n),Sh(n,f,e,c,r)),null;case 27:if(we(n),r=je.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Li(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Gt(n),null}e=q.current,Ya(n)?lo(n):(e=Ay(f,c,r),n.stateNode=e,Li(n))}return Gt(n),null;case 5:if(we(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Li(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Gt(n),null}if(g=q.current,Ya(n))lo(n);else{var N=mc(je.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?N.createElement(f,{is:c.is}):N.createElement(f)}}g[tn]=n,g[mn]=c;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=g;e:switch(An(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Li(n)}}return Gt(n),Sh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Li(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=je.current,Ya(n)){if(e=n.stateNode,r=n.memoizedProps,c=null,f=jt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[tn]=n,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||vy(e.nodeValue,r)),e||fi(n,!0)}else e=mc(e).createTextNode(c),e[tn]=n,n.stateNode=e}return Gt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(c=Ya(n),r!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[tn]=n}else zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),e=!1}else r=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(fa(n),n):(fa(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Gt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ya(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[tn]=n}else zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),f=!1}else f=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(fa(n),n):(fa(n),null)}return fa(n),(n.flags&128)!==0?(n.lanes=r,n):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),Gt(n),null);case 4:return Ge(),e===null&&Qh(n.stateNode.containerInfo),Gt(n),null;case 10:return Mi(n.type),Gt(n),null;case 19:if(ne(cn),c=n.memoizedState,c===null)return Gt(n),null;if(f=(n.flags&128)!==0,g=c.rendering,g===null)if(f)No(c,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Iu(e),g!==null){for(n.flags|=128,No(c,!1),e=g.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)io(r,e),r=r.sibling;return D(cn,cn.current&1|2),ht&&Ze(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&kt()>ac&&(n.flags|=128,f=!0,No(c,!1),n.lanes=4194304)}else{if(!f)if(e=Iu(g),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),No(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ht)return Gt(n),null}else 2*kt()-c.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,f=!0,No(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=kt(),e.sibling=null,r=cn.current,D(cn,f?r&1|2:r&1),ht&&Ze(n,c.treeForkCount),e):(Gt(n),null);case 22:case 23:return fa(n),Gd(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(r&536870912)!==0&&(n.flags&128)===0&&(Gt(n),n.subtreeFlags&6&&(n.flags|=8192)):Gt(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048),e!==null&&ne(pr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Mi(fn),Gt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function bb(e,n){switch(an(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mi(fn),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return we(n),null;case 31:if(n.memoizedState!==null){if(fa(n),n.alternate===null)throw Error(o(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ne(cn),null;case 4:return Ge(),null;case 10:return Mi(n.type),null;case 22:case 23:return fa(n),Gd(),e!==null&&ne(pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mi(fn),null;case 25:return null;default:return null}}function Sg(e,n){switch(an(n),n.tag){case 3:Mi(fn),Ge();break;case 26:case 27:case 5:we(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&fa(n);break;case 13:fa(n);break;case 19:ne(cn);break;case 10:Mi(n.type);break;case 22:case 23:fa(n),Gd(),e!==null&&ne(pr);break;case 24:Mi(fn)}}function jo(e,n){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){c=void 0;var g=r.create,N=r.inst;c=g(),N.destroy=c}r=r.next}while(r!==f)}}catch(T){Ot(n,n.return,T)}}function xs(e,n,r){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&e)===e){var N=c.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,f=n;var H=r,he=T;try{he()}catch(be){Ot(f,H,be)}}}c=c.next}while(c!==g)}}catch(be){Ot(n,n.return,be)}}function wg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{pp(n,r)}catch(c){Ot(e,e.return,c)}}}function Eg(e,n,r){r.props=_r(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Ot(e,n,c)}}function So(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(f){Ot(e,n,f)}}function gi(e,n){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Ot(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Ot(e,n,f)}else r.current=null}function kg(e){var n=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Ot(e,e.return,f)}}function wh(e,n,r){try{var c=e.stateNode;Fb(c,e.type,r,n),c[mn]=n}catch(f){Ot(e,e.return,f)}}function Tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ws(e.type)||e.tag===4}function Eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Gn));else if(c!==4&&(c===27&&ws(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(kh(e,n,r),e=e.sibling;e!==null;)kh(e,n,r),e=e.sibling}function Wu(e,n,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(c!==4&&(c===27&&ws(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function Cg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);An(n,c,r),n[tn]=e,n[mn]=r}catch(g){Ot(e,e.return,g)}}var Pi=!1,yn=!1,Th=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,En=null;function Nb(e,n){if(e=e.containerInfo,Yh=_c,e=ir(e),oi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var N=0,T=-1,H=-1,he=0,be=0,ke=e,fe=null;t:for(;;){for(var ye;ke!==r||f!==0&&ke.nodeType!==3||(T=N+f),ke!==g||c!==0&&ke.nodeType!==3||(H=N+c),ke.nodeType===3&&(N+=ke.nodeValue.length),(ye=ke.firstChild)!==null;)fe=ke,ke=ye;for(;;){if(ke===e)break t;if(fe===r&&++he===f&&(T=N),fe===g&&++be===c&&(H=N),(ye=ke.nextSibling)!==null)break;ke=fe,fe=ke.parentNode}ke=ye}r=T===-1||H===-1?null:{start:T,end:H}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:e,selectionRange:r},_c=!1,En=n;En!==null;)if(n=En,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,En=e;else for(;En!==null;){switch(n=En,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=n,f=g.memoizedProps,g=g.memoizedState,c=r.stateNode;try{var Be=_r(r.type,f);e=c.getSnapshotBeforeUpdate(Be,g),c.__reactInternalSnapshotBeforeUpdate=e}catch($e){Ot(r,r.return,$e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Wh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,En=e;break}En=n.return}}function zg(e,n,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(e,r),c&4&&jo(5,r);break;case 1:if(Ii(e,r),c&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(N){Ot(r,r.return,N)}else{var f=_r(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Ot(r,r.return,N)}}c&64&&wg(r),c&512&&So(r,r.return);break;case 3:if(Ii(e,r),c&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pp(e,n)}catch(N){Ot(r,r.return,N)}}break;case 27:n===null&&c&4&&Cg(r);case 26:case 5:Ii(e,r),n===null&&c&4&&kg(r),c&512&&So(r,r.return);break;case 12:Ii(e,r);break;case 31:Ii(e,r),c&4&&Dg(e,r);break;case 13:Ii(e,r),c&4&&Rg(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=zb.bind(null,r),Xb(e,r))));break;case 22:if(c=r.memoizedState!==null||Pi,!c){n=n!==null&&n.memoizedState!==null||yn,f=Pi;var g=yn;Pi=c,(yn=n)&&!g?Ui(e,r,(r.subtreeFlags&8772)!==0):Ii(e,r),Pi=f,yn=g}break;case 30:break;default:Ii(e,r)}}function Mg(e){var n=e.alternate;n!==null&&(e.alternate=null,Mg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&B(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Yt=null,Jn=!1;function Bi(e,n,r){for(r=r.child;r!==null;)Og(e,n,r),r=r.sibling}function Og(e,n,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Qe,r)}catch{}switch(r.tag){case 26:yn||gi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:yn||gi(r,n);var c=Yt,f=Jn;ws(r.type)&&(Yt=r.stateNode,Jn=!1),Bi(e,n,r),Oo(r.stateNode),Yt=c,Jn=f;break;case 5:yn||gi(r,n);case 6:if(c=Yt,f=Jn,Yt=null,Bi(e,n,r),Yt=c,Jn=f,Yt!==null)if(Jn)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(r.stateNode)}catch(g){Ot(r,n,g)}else try{Yt.removeChild(r.stateNode)}catch(g){Ot(r,n,g)}break;case 18:Yt!==null&&(Jn?(e=Yt,wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),wl(e)):wy(Yt,r.stateNode));break;case 4:c=Yt,f=Jn,Yt=r.stateNode.containerInfo,Jn=!0,Bi(e,n,r),Yt=c,Jn=f;break;case 0:case 11:case 14:case 15:xs(2,r,n),yn||xs(4,r,n),Bi(e,n,r);break;case 1:yn||(gi(r,n),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Eg(r,n,c)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:yn=(c=yn)||r.memoizedState!==null,Bi(e,n,r),yn=c;break;default:Bi(e,n,r)}}function Dg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(r){Ot(n,n.return,r)}}}function Rg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(r){Ot(n,n.return,r)}}function jb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ag),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ag),n;default:throw Error(o(435,e.tag))}}function ec(e,n){var r=jb(e);n.forEach(function(c){if(!r.has(c)){r.add(c);var f=Mb.bind(null,e,c);c.then(f,f)}})}function Wn(e,n){var r=n.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],g=e,N=n,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(ws(T.type)){Yt=T.stateNode,Jn=!1;break e}break;case 5:Yt=T.stateNode,Jn=!1;break e;case 3:case 4:Yt=T.stateNode.containerInfo,Jn=!0;break e}T=T.return}if(Yt===null)throw Error(o(160));Og(g,N,f),Yt=null,Jn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Lg(n,e),n=n.sibling}var Xa=null;function Lg(e,n){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wn(n,e),ea(e),c&4&&(xs(3,e,e.return),jo(3,e),xs(5,e,e.return));break;case 1:Wn(n,e),ea(e),c&512&&(yn||r===null||gi(r,r.return)),c&64&&Pi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Xa;if(Wn(n,e),ea(e),c&512&&(yn||r===null||gi(r,r.return)),c&4){var g=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ji]||g[tn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),An(g,c,r),g[tn]=e,Jt(g),c=g;break e;case"link":var N=Ly("link","href",f).get(c+(r.href||""));if(N){for(var T=0;T<N.length;T++)if(g=N[T],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){N.splice(T,1);break t}}g=f.createElement(c),An(g,c,r),f.head.appendChild(g);break;case"meta":if(N=Ly("meta","content",f).get(c+(r.content||""))){for(T=0;T<N.length;T++)if(g=N[T],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){N.splice(T,1);break t}}g=f.createElement(c),An(g,c,r),f.head.appendChild(g);break;default:throw Error(o(468,c))}g[tn]=e,Jt(g),c=g}e.stateNode=c}else Py(f,e.type,e.stateNode);else e.stateNode=Ry(f,c,e.memoizedProps);else g!==c?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,c===null?Py(f,e.type,e.stateNode):Ry(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&wh(e,e.memoizedProps,r.memoizedProps)}break;case 27:Wn(n,e),ea(e),c&512&&(yn||r===null||gi(r,r.return)),r!==null&&c&4&&wh(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Wn(n,e),ea(e),c&512&&(yn||r===null||gi(r,r.return)),e.flags&32){f=e.stateNode;try{Na(f,"")}catch(Be){Ot(e,e.return,Be)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,wh(e,f,r!==null?r.memoizedProps:f)),c&1024&&(Th=!0);break;case 6:if(Wn(n,e),ea(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Be){Ot(e,e.return,Be)}}break;case 3:if(gc=null,f=Xa,Xa=fc(n.containerInfo),Wn(n,e),Xa=f,ea(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(Be){Ot(e,e.return,Be)}Th&&(Th=!1,Pg(e));break;case 4:c=Xa,Xa=fc(e.stateNode.containerInfo),Wn(n,e),ea(e),Xa=c;break;case 12:Wn(n,e),ea(e);break;case 31:Wn(n,e),ea(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ec(e,c)));break;case 13:Wn(n,e),ea(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=kt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ec(e,c)));break;case 22:f=e.memoizedState!==null;var H=r!==null&&r.memoizedState!==null,he=Pi,be=yn;if(Pi=he||f,yn=be||H,Wn(n,e),yn=be,Pi=he,ea(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||H||Pi||yn||br(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){H=r=n;try{if(g=H.stateNode,f)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=H.stateNode;var ke=H.memoizedProps.style,fe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;T.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Be){Ot(H,H.return,Be)}}}else if(n.tag===6){if(r===null){H=n;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(Be){Ot(H,H.return,Be)}}}else if(n.tag===18){if(r===null){H=n;try{var ye=H.stateNode;f?Ey(ye,!0):Ey(H.stateNode,!1)}catch(Be){Ot(H,H.return,Be)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,ec(e,r))));break;case 19:Wn(n,e),ea(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ec(e,c)));break;case 30:break;case 21:break;default:Wn(n,e),ea(e)}}function ea(e){var n=e.flags;if(n&2){try{for(var r,c=e.return;c!==null;){if(Tg(c)){r=c;break}c=c.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var f=r.stateNode,g=Eh(e);Wu(e,g,f);break;case 5:var N=r.stateNode;r.flags&32&&(Na(N,""),r.flags&=-33);var T=Eh(e);Wu(e,T,N);break;case 3:case 4:var H=r.stateNode.containerInfo,he=Eh(e);kh(e,he,H);break;default:throw Error(o(161))}}catch(be){Ot(e,e.return,be)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ii(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zg(e,n.alternate,n),n=n.sibling}function br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),br(n);break;case 1:gi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Eg(n,n.return,r),br(n);break;case 27:Oo(n.stateNode);case 26:case 5:gi(n,n.return),br(n);break;case 22:n.memoizedState===null&&br(n);break;case 30:br(n);break;default:br(n)}e=e.sibling}}function Ui(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,g=n,N=g.flags;switch(g.tag){case 0:case 11:case 15:Ui(f,g,r),jo(4,g);break;case 1:if(Ui(f,g,r),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(he){Ot(c,c.return,he)}if(c=g,f=c.updateQueue,f!==null){var T=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)fp(H[f],T)}catch(he){Ot(c,c.return,he)}}r&&N&64&&wg(g),So(g,g.return);break;case 27:Cg(g);case 26:case 5:Ui(f,g,r),r&&c===null&&N&4&&kg(g),So(g,g.return);break;case 12:Ui(f,g,r);break;case 31:Ui(f,g,r),r&&N&4&&Dg(f,g);break;case 13:Ui(f,g,r),r&&N&4&&Rg(f,g);break;case 22:g.memoizedState===null&&Ui(f,g,r),So(g,g.return);break;case 30:break;default:Ui(f,g,r)}n=n.sibling}}function Ch(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&uo(r))}function Ah(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e))}function Ja(e,n,r,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(e,n,r,c),n=n.sibling}function Bg(e,n,r,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ja(e,n,r,c),f&2048&&jo(9,n);break;case 1:Ja(e,n,r,c);break;case 3:Ja(e,n,r,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e)));break;case 12:if(f&2048){Ja(e,n,r,c),e=n.stateNode;try{var g=n.memoizedProps,N=g.id,T=g.onPostCommit;typeof T=="function"&&T(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){Ot(n,n.return,H)}}else Ja(e,n,r,c);break;case 31:Ja(e,n,r,c);break;case 13:Ja(e,n,r,c);break;case 23:break;case 22:g=n.stateNode,N=n.alternate,n.memoizedState!==null?g._visibility&2?Ja(e,n,r,c):wo(e,n):g._visibility&2?Ja(e,n,r,c):(g._visibility|=2,fl(e,n,r,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Ch(N,n);break;case 24:Ja(e,n,r,c),f&2048&&Ah(n.alternate,n);break;default:Ja(e,n,r,c)}}function fl(e,n,r,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,N=n,T=r,H=c,he=N.flags;switch(N.tag){case 0:case 11:case 15:fl(g,N,T,H,f),jo(8,N);break;case 23:break;case 22:var be=N.stateNode;N.memoizedState!==null?be._visibility&2?fl(g,N,T,H,f):wo(g,N):(be._visibility|=2,fl(g,N,T,H,f)),f&&he&2048&&Ch(N.alternate,N);break;case 24:fl(g,N,T,H,f),f&&he&2048&&Ah(N.alternate,N);break;default:fl(g,N,T,H,f)}n=n.sibling}}function wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,c=n,f=c.flags;switch(c.tag){case 22:wo(r,c),f&2048&&Ch(c.alternate,c);break;case 24:wo(r,c),f&2048&&Ah(c.alternate,c);break;default:wo(r,c)}n=n.sibling}}var Eo=8192;function pl(e,n,r){if(e.subtreeFlags&Eo)for(e=e.child;e!==null;)Ig(e,n,r),e=e.sibling}function Ig(e,n,r){switch(e.tag){case 26:pl(e,n,r),e.flags&Eo&&e.memoizedState!==null&&uN(r,Xa,e.memoizedState,e.memoizedProps);break;case 5:pl(e,n,r);break;case 3:case 4:var c=Xa;Xa=fc(e.stateNode.containerInfo),pl(e,n,r),Xa=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Eo,Eo=16777216,pl(e,n,r),Eo=c):pl(e,n,r));break;default:pl(e,n,r)}}function Ug(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];En=c,qg(c,e)}Ug(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&xs(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):ko(e);break;default:ko(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];En=c,qg(c,e)}Ug(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function qg(e,n){for(;En!==null;){var r=En;switch(r.tag){case 0:case 11:case 15:xs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uo(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,En=c;else e:for(r=e;En!==null;){c=En;var f=c.sibling,g=c.return;if(Mg(c),c===r){En=null;break e}if(f!==null){f.return=g,En=f;break e}En=g}}}var Sb={getCacheForType:function(e){var n=Tn(fn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Tn(fn).controller.signal}},wb=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,mt=null,gt=0,Mt=0,pa=null,vs=!1,gl=!1,zh=!1,Zi=0,rn=0,_s=0,Nr=0,Mh=0,ga=0,yl=0,To=null,ta=null,Oh=!1,nc=0,Fg=0,ac=1/0,ic=null,bs=null,bn=0,Ns=null,xl=null,qi=0,Dh=0,Rh=null,Hg=null,Co=0,Lh=null;function ya(){return(Tt&2)!==0&&gt!==0?gt&-gt:Z.T!==null?qh():Zs()}function Kg(){if(ga===0)if((gt&536870912)===0||ht){var e=Za;Za<<=1,(Za&3932160)===0&&(Za=262144),ga=e}else ga=536870912;return e=ma.current,e!==null&&(e.flags|=32),ga}function na(e,n,r){(e===Ft&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)&&(vl(e,0),js(e,gt,ga,!1)),la(e,r),((Tt&2)===0||e!==Ft)&&(e===Ft&&((Tt&2)===0&&(Nr|=r),rn===4&&js(e,gt,ga,!1)),yi(e))}function Qg(e,n,r){if((Tt&6)!==0)throw Error(o(327));var c=!r&&(n&127)===0&&(n&e.expiredLanes)===0||ra(e,n),f=c?Tb(e,n):Bh(e,n,!0),g=c;do{if(f===0){gl&&!c&&js(e,n,0,!1);break}else{if(r=e.current.alternate,g&&!Eb(r)){f=Bh(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var T=e;f=To;var H=T.current.memoizedState.isDehydrated;if(H&&(vl(T,N).flags|=256),N=Bh(T,N,!1),N!==2){if(zh&&!H){T.errorRecoveryDisabledLanes|=g,Nr|=g,f=4;break e}g=ta,ta=f,g!==null&&(ta===null?ta=g:ta.push.apply(ta,g))}f=N}if(g=!1,f!==2)continue}}if(f===1){vl(e,0),js(e,n,0,!0);break}e:{switch(c=e,g=f,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:js(c,n,ga,!vs);break e;case 2:ta=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=nc+300-kt(),10<f)){if(js(c,n,ga,!vs),ai(c,0,!0)!==0)break e;qi=n,c.timeoutHandle=jy(Gg.bind(null,c,r,ta,ic,Oh,n,ga,Nr,yl,vs,g,"Throttled",-0,0),f);break e}Gg(c,r,ta,ic,Oh,n,ga,Nr,yl,vs,g,null,-0,0)}}break}while(!0);yi(e)}function Gg(e,n,r,c,f,g,N,T,H,he,be,ke,fe,ye){if(e.timeoutHandle=-1,ke=n.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Ig(n,g,ke);var Be=(g&62914560)===g?nc-kt():(g&4194048)===g?Fg-kt():0;if(Be=cN(ke,Be),Be!==null){qi=g,e.cancelPendingCommit=Be(ty.bind(null,e,n,g,r,c,f,N,T,H,be,ke,null,fe,ye)),js(e,g,N,!he);return}}ty(e,n,g,r,c,f,N,T,H)}function Eb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],g=f.getSnapshot;f=f.value;try{if(!Sn(g(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(e,n,r,c){n&=~Mh,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var g=31-Lt(f),N=1<<g;c[g]=-1,f&=~N}r!==0&&Ni(e,r,n)}function sc(){return(Tt&6)===0?(Ao(0),!1):!0}function Ph(){if(mt!==null){if(Mt===0)var e=mt.return;else e=mt,$a=pi=null,Wd(e),ul=null,ho=0,e=mt;for(;e!==null;)Sg(e.alternate,e),e=e.return;mt=null}}function vl(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Qb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),qi=0,Ph(),Ft=e,mt=r=Ca(e.current,null),gt=n,Mt=0,pa=null,vs=!1,gl=ra(e,n),zh=!1,yl=ga=Mh=Nr=_s=rn=0,ta=To=null,Oh=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-Lt(c),g=1<<f;n|=e[f],c&=~g}return Zi=n,ur(),r}function Vg(e,n){st=null,Z.H=_o,n===ol||n===Du?(n=cp(),Mt=3):n===Zd?(n=cp(),Mt=4):Mt=n===ph?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pa=n,mt===null&&(rn=1,Vu(e,u(n,e.current)))}function Yg(){var e=ma.current;return e===null?!0:(gt&4194048)===gt?Aa===null:(gt&62914560)===gt||(gt&536870912)!==0?e===Aa:!1}function $g(){var e=Z.H;return Z.H=_o,e===null?_o:e}function Xg(){var e=Z.A;return Z.A=Sb,e}function rc(){rn=4,vs||(gt&4194048)!==gt&&ma.current!==null||(gl=!0),(_s&134217727)===0&&(Nr&134217727)===0||Ft===null||js(Ft,gt,ga,!1)}function Bh(e,n,r){var c=Tt;Tt|=2;var f=$g(),g=Xg();(Ft!==e||gt!==n)&&(ic=null,vl(e,n)),n=!1;var N=rn;e:do try{if(Mt!==0&&mt!==null){var T=mt,H=pa;switch(Mt){case 8:Ph(),N=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(n=!0);var he=Mt;if(Mt=0,pa=null,_l(e,T,H,he),r&&gl){N=0;break e}break;default:he=Mt,Mt=0,pa=null,_l(e,T,H,he)}}kb(),N=rn;break}catch(be){Vg(e,be)}while(!0);return n&&e.shellSuspendCounter++,$a=pi=null,Tt=c,Z.H=f,Z.A=g,mt===null&&(Ft=null,gt=0,ur()),N}function kb(){for(;mt!==null;)Jg(mt)}function Tb(e,n){var r=Tt;Tt|=2;var c=$g(),f=Xg();Ft!==e||gt!==n?(ic=null,ac=kt()+500,vl(e,n)):gl=ra(e,n);e:do try{if(Mt!==0&&mt!==null){n=mt;var g=pa;t:switch(Mt){case 1:Mt=0,pa=null,_l(e,n,g,1);break;case 2:case 9:if(op(g)){Mt=0,pa=null,Wg(n);break}n=function(){Mt!==2&&Mt!==9||Ft!==e||(Mt=7),yi(e)},g.then(n,n);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:op(g)?(Mt=0,pa=null,Wg(n)):(Mt=0,pa=null,_l(e,n,g,7));break;case 5:var N=null;switch(mt.tag){case 26:N=mt.memoizedState;case 5:case 27:var T=mt;if(N?By(N):T.stateNode.complete){Mt=0,pa=null;var H=T.sibling;if(H!==null)mt=H;else{var he=T.return;he!==null?(mt=he,lc(he)):mt=null}break t}}Mt=0,pa=null,_l(e,n,g,5);break;case 6:Mt=0,pa=null,_l(e,n,g,6);break;case 8:Ph(),rn=6;break e;default:throw Error(o(462))}}Cb();break}catch(be){Vg(e,be)}while(!0);return $a=pi=null,Z.H=c,Z.A=f,Tt=r,mt!==null?0:(Ft=null,gt=0,ur(),rn)}function Cb(){for(;mt!==null&&!Ve();)Jg(mt)}function Jg(e){var n=Ng(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?lc(e):mt=n}function Wg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=gg(r,n,n.pendingProps,n.type,void 0,gt);break;case 11:n=gg(r,n,n.pendingProps,n.type.render,n.ref,gt);break;case 5:Wd(n);default:Sg(r,n),n=mt=io(n,Zi),n=Ng(r,n,Zi)}e.memoizedProps=e.pendingProps,n===null?lc(e):mt=n}function _l(e,n,r,c){$a=pi=null,Wd(n),ul=null,ho=0;var f=n.return;try{if(yb(e,f,n,r,gt)){rn=1,Vu(e,u(r,e.current)),mt=null;return}}catch(g){if(f!==null)throw mt=f,g;rn=1,Vu(e,u(r,e.current)),mt=null;return}n.flags&32768?(ht||c===1?e=!0:gl||(gt&536870912)!==0?e=!1:(vs=e=!0,(c===2||c===9||c===3||c===6)&&(c=ma.current,c!==null&&c.tag===13&&(c.flags|=16384))),ey(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){ey(n,vs);return}e=n.return;var r=_b(n.alternate,n,Zi);if(r!==null){mt=r;return}if(n=n.sibling,n!==null){mt=n;return}mt=n=e}while(n!==null);rn===0&&(rn=5)}function ey(e,n){do{var r=bb(e.alternate,e);if(r!==null){r.flags&=32767,mt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){mt=e;return}mt=e=r}while(e!==null);rn=6,mt=null}function ty(e,n,r,c,f,g,N,T,H){e.cancelPendingCommit=null;do oc();while(bn!==0);if((Tt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=tl,Il(e,r,g,N,T,H),e===Ft&&(mt=Ft=null,gt=0),xl=n,Ns=e,qi=r,Dh=g,Rh=f,Hg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ob(ct,function(){return ry(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,f=se.p,se.p=2,N=Tt,Tt|=4;try{Nb(e,n,r)}finally{Tt=N,se.p=f,Z.T=c}}bn=1,ny(),ay(),iy()}}function ny(){if(bn===1){bn=0;var e=Ns,n=xl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Z.T,Z.T=null;var c=se.p;se.p=2;var f=Tt;Tt|=4;try{Lg(n,e);var g=$h,N=ir(e.containerInfo),T=g.focusedElem,H=g.selectionRange;if(N!==T&&T&&T.ownerDocument&&Xr(T.ownerDocument.documentElement,T)){if(H!==null&&oi(T)){var he=H.start,be=H.end;if(be===void 0&&(be=he),"selectionStart"in T)T.selectionStart=he,T.selectionEnd=Math.min(be,T.value.length);else{var ke=T.ownerDocument||document,fe=ke&&ke.defaultView||window;if(fe.getSelection){var ye=fe.getSelection(),Be=T.textContent.length,$e=Math.min(H.start,Be),Ut=H.end===void 0?$e:Math.min(H.end,Be);!ye.extend&&$e>Ut&&(N=Ut,Ut=$e,$e=N);var ae=ar(T,$e),Y=ar(T,Ut);if(ae&&Y&&(ye.rangeCount!==1||ye.anchorNode!==ae.node||ye.anchorOffset!==ae.offset||ye.focusNode!==Y.node||ye.focusOffset!==Y.offset)){var de=ke.createRange();de.setStart(ae.node,ae.offset),ye.removeAllRanges(),$e>Ut?(ye.addRange(de),ye.extend(Y.node,Y.offset)):(de.setEnd(Y.node,Y.offset),ye.addRange(de))}}}}for(ke=[],ye=T;ye=ye.parentNode;)ye.nodeType===1&&ke.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ke.length;T++){var Ne=ke[T];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}_c=!!Yh,$h=Yh=null}finally{Tt=f,se.p=c,Z.T=r}}e.current=n,bn=2}}function ay(){if(bn===2){bn=0;var e=Ns,n=xl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Z.T,Z.T=null;var c=se.p;se.p=2;var f=Tt;Tt|=4;try{zg(e,n.alternate,n)}finally{Tt=f,se.p=c,Z.T=r}}bn=3}}function iy(){if(bn===4||bn===3){bn=0,_t();var e=Ns,n=xl,r=qi,c=Hg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?bn=5:(bn=0,xl=Ns=null,sy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(bs=null),Pe(r),n=n.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Qe,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Z.T,f=se.p,se.p=2,Z.T=null;try{for(var g=e.onRecoverableError,N=0;N<c.length;N++){var T=c[N];g(T.value,{componentStack:T.stack})}}finally{Z.T=n,se.p=f}}(qi&3)!==0&&oc(),yi(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===Lh?Co++:(Co=0,Lh=e):Co=0,Ao(0)}}function sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,uo(n)))}function oc(){return ny(),ay(),iy(),ry()}function ry(){if(bn!==5)return!1;var e=Ns,n=Dh;Dh=0;var r=Pe(qi),c=Z.T,f=se.p;try{se.p=32>r?32:r,Z.T=null,r=Rh,Rh=null;var g=Ns,N=qi;if(bn=0,xl=Ns=null,qi=0,(Tt&6)!==0)throw Error(o(331));var T=Tt;if(Tt|=4,Zg(g.current),Bg(g,g.current,N,r),Tt=T,Ao(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Qe,g)}catch{}return!0}finally{se.p=f,Z.T=c,sy(e,n)}}function ly(e,n,r){n=u(r,n),n=fh(e.stateNode,n,2),e=ps(e,n,2),e!==null&&(la(e,2),yi(e))}function Ot(e,n,r){if(e.tag===3)ly(e,e,r);else for(;n!==null;){if(n.tag===3){ly(n,e,r);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bs===null||!bs.has(c))){e=u(r,e),r=og(2),c=ps(n,r,2),c!==null&&(ug(r,c,n,e),la(c,2),yi(c));break}}n=n.return}}function Ih(e,n,r){var c=e.pingCache;if(c===null){c=e.pingCache=new wb;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(r)||(zh=!0,f.add(r),e=Ab.bind(null,e,n,r),n.then(e,e))}function Ab(e,n,r){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ft===e&&(gt&r)===r&&(rn===4||rn===3&&(gt&62914560)===gt&&300>kt()-nc?(Tt&2)===0&&vl(e,0):Mh|=r,yl===gt&&(yl=0)),yi(e)}function oy(e,n){n===0&&(n=Rr()),e=Ta(e,n),e!==null&&(la(e,n),yi(e))}function zb(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),oy(e,r)}function Mb(e,n){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),oy(e,r)}function Ob(e,n){return J(e,n)}var uc=null,bl=null,Uh=!1,cc=!1,Zh=!1,Ss=0;function yi(e){e!==bl&&e.next===null&&(bl===null?uc=bl=e:bl=bl.next=e),cc=!0,Uh||(Uh=!0,Rb())}function Ao(e,n){if(!Zh&&cc){Zh=!0;do for(var r=!1,c=uc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var N=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-Lt(42|e)+1)-1,g&=f&~(N&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,hy(c,g))}else g=gt,g=ai(c,c===Ft?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ra(c,g)||(r=!0,hy(c,g));c=c.next}while(r);Zh=!1}}function Db(){uy()}function uy(){cc=Uh=!1;var e=0;Ss!==0&&Kb()&&(e=Ss);for(var n=kt(),r=null,c=uc;c!==null;){var f=c.next,g=cy(c,n);g===0?(c.next=null,r===null?uc=f:r.next=f,f===null&&(bl=r)):(r=c,(e!==0||(g&3)!==0)&&(cc=!0)),c=f}bn!==0&&bn!==5||Ao(e),Ss!==0&&(Ss=0)}function cy(e,n){for(var r=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-Lt(g),T=1<<N,H=f[N];H===-1?((T&r)===0||(T&c)!==0)&&(f[N]=Dr(T,n)):H<=n&&(e.expiredLanes|=T),g&=~T}if(n=Ft,r=gt,r=ai(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===n&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ra(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(c!==null&&Ce(c),Pe(r)){case 2:case 8:r=Ke;break;case 32:r=ct;break;case 268435456:r=hn;break;default:r=ct}return c=dy.bind(null,e),r=J(r,c),e.callbackPriority=n,e.callbackNode=r,n}return c!==null&&c!==null&&Ce(c),e.callbackPriority=2,e.callbackNode=null,2}function dy(e,n){if(bn!==0&&bn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var c=gt;return c=ai(e,e===Ft?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Qg(e,c,n),cy(e,kt()),e.callbackNode!=null&&e.callbackNode===r?dy.bind(null,e):null)}function hy(e,n){if(oc())return null;Qg(e,n,!0)}function Rb(){Gb(function(){(Tt&6)!==0?J(_e,Db):uy()})}function qh(){if(Ss===0){var e=rl;e===0&&(e=Ua,Ua<<=1,(Ua&261888)===0&&(Ua=256)),Ss=e}return Ss}function my(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wi(""+e)}function fy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Lb(e,n,r,c,f){if(n==="submit"&&r&&r.stateNode===f){var g=my((f[mn]||null).action),N=c.submitter;N&&(n=(n=N[mn]||null)?my(n.formAction):N.getAttribute("formAction"),n!==null&&(g=n,N=null));var T=new Hr("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ss!==0){var H=N?fy(f,N):new FormData(f);oh(r,{pending:!0,data:H,method:f.method,action:g},null,H)}}else typeof g=="function"&&(T.preventDefault(),H=N?fy(f,N):new FormData(f),oh(r,{pending:!0,data:H,method:f.method,action:g},g,H))},currentTarget:f}]})}}for(var Fh=0;Fh<di.length;Fh++){var Hh=di[Fh],Pb=Hh.toLowerCase(),Bb=Hh[0].toUpperCase()+Hh.slice(1);Yn(Pb,"on"+Bb)}Yn(rr,"onAnimationEnd"),Yn(Tu,"onAnimationIteration"),Yn(lr,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Od,"onTransitionRun"),Yn(Cu,"onTransitionStart"),Yn(Dd,"onTransitionCancel"),Yn(cs,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function py(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var N=c.length-1;0<=N;N--){var T=c[N],H=T.instance,he=T.currentTarget;if(T=T.listener,H!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=he;try{g(f)}catch(be){or(be)}f.currentTarget=null,g=H}else for(N=0;N<c.length;N++){if(T=c[N],H=T.instance,he=T.currentTarget,T=T.listener,H!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=he;try{g(f)}catch(be){or(be)}f.currentTarget=null,g=H}}}}function ft(e,n){var r=n[ba];r===void 0&&(r=n[ba]=new Set);var c=e+"__bubble";r.has(c)||(gy(n,e,2,!1),r.add(c))}function Kh(e,n,r){var c=0;n&&(c|=4),gy(r,e,c,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Qh(e){if(!e[dc]){e[dc]=!0,qs.forEach(function(r){r!=="selectionchange"&&(Ib.has(r)||Kh(r,!1,e),Kh(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,Kh("selectionchange",!1,n))}}function gy(e,n,r,c){switch(Ky(n)){case 2:var f=mN;break;case 8:f=fN;break;default:f=lm}r=f.bind(null,n,r,e),f=void 0,!Vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function Gh(e,n,r,c,f){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var T=c.stateNode.containerInfo;if(T===f)break;if(N===4)for(N=c.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;T!==null;){if(N=Re(T),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){c=g=N;continue e}T=T.parentNode}}c=c.return}Gl(function(){var he=g,be=Gs(r),ke=[];e:{var fe=Au.get(e);if(fe!==void 0){var ye=Hr,Be=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":ye=gu;break;case"focusin":Be="focus",ye=$l;break;case"focusout":Be="blur",ye=$l;break;case"beforeblur":case"afterblur":ye=$l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=kd;break;case rr:case Tu:case lr:ye=Xl;break;case cs:ye=vu;break;case"scroll":case"scrollend":ye=pt;break;case"wheel":ye=Ti;break;case"copy":case"cut":case"paste":ye=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=yu;break;case"toggle":case"beforetoggle":ye=Js}var $e=(n&4)!==0,Ut=!$e&&(e==="scroll"||e==="scrollend"),ae=$e?fe!==null?fe+"Capture":null:fe;$e=[];for(var Y=he,de;Y!==null;){var Ne=Y;if(de=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||de===null||ae===null||(Ne=Ei(Y,ae),Ne!=null&&$e.push(Mo(Y,Ne,de))),Ut)break;Y=Y.return}0<$e.length&&(fe=new ye(fe,Be,null,r,be),ke.push({event:fe,listeners:$e}))}}if((n&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",fe&&r!==Fr&&(Be=r.relatedTarget||r.fromElement)&&(Re(Be)||Be[qa]))break e;if((ye||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,ye?(Be=r.relatedTarget||r.toElement,ye=he,Be=Be?Re(Be):null,Be!==null&&(Ut=h(Be),$e=Be.tag,Be!==Ut||$e!==5&&$e!==27&&$e!==6)&&(Be=null)):(ye=null,Be=he),ye!==Be)){if($e=du,Ne="onMouseLeave",ae="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&($e=yu,Ne="onPointerLeave",ae="onPointerEnter",Y="pointer"),Ut=ye==null?fe:Rn(ye),de=Be==null?fe:Rn(Be),fe=new $e(Ne,Y+"leave",ye,r,be),fe.target=Ut,fe.relatedTarget=de,Ne=null,Re(be)===he&&($e=new $e(ae,Y+"enter",Be,r,be),$e.target=de,$e.relatedTarget=Ut,Ne=$e),Ut=Ne,ye&&Be)t:{for($e=Ub,ae=ye,Y=Be,de=0,Ne=ae;Ne;Ne=$e(Ne))de++;Ne=0;for(var Fe=Y;Fe;Fe=$e(Fe))Ne++;for(;0<de-Ne;)ae=$e(ae),de--;for(;0<Ne-de;)Y=$e(Y),Ne--;for(;de--;){if(ae===Y||Y!==null&&ae===Y.alternate){$e=ae;break t}ae=$e(ae),Y=$e(Y)}$e=null}else $e=null;ye!==null&&yy(ke,fe,ye,$e,!1),Be!==null&&Ut!==null&&yy(ke,Ut,Be,$e,!0)}}e:{if(fe=he?Rn(he):window,ye=fe.nodeName&&fe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&fe.type==="file")var wt=nr;else if(wa(fe))if(ju)wt=Md;else{wt=zd;var Ue=Ga}else ye=fe.nodeName,!ye||ye.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?he&&Qs(he.elementType)&&(wt=nr):wt=rs;if(wt&&(wt=wt(e,he))){Nu(ke,wt,r,be);break e}Ue&&Ue(e,fe,he),e==="focusout"&&he&&fe.type==="number"&&he.memoizedProps.value!=null&&Ha(fe,"number",fe.value)}switch(Ue=he?Rn(he):window,e){case"focusin":(wa(Ue)||Ue.contentEditable==="true")&&(ui=Ue,Wr=he,sr=null);break;case"focusout":sr=Wr=ui=null;break;case"mousedown":os=!0;break;case"contextmenu":case"mouseup":case"dragend":os=!1,Eu(ke,r,be);break;case"selectionchange":if(Jr)break;case"keydown":case"keyup":Eu(ke,r,be)}var lt;if(Qr)e:{switch(e){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else as?bu(e,r)&&(yt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(Gr&&r.locale!=="ko"&&(as||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&as&&(lt=ri()):(ja=be,ki="value"in ja?ja.value:ja.textContent,as=!0)),Ue=hc(he,yt),0<Ue.length&&(yt=new Jl(yt,e,null,r,be),ke.push({event:yt,listeners:Ue}),lt?yt.data=lt:(lt=no(r),lt!==null&&(yt.data=lt)))),(lt=Cd?ha(e,r):is(e,r))&&(yt=hc(he,"onBeforeInput"),0<yt.length&&(Ue=new Jl("onBeforeInput","beforeinput",null,r,be),ke.push({event:Ue,listeners:yt}),Ue.data=lt)),Lb(ke,e,he,r,be)}py(ke,n)})}function Mo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ei(e,r),f!=null&&c.unshift(Mo(e,f,g)),f=Ei(e,n),f!=null&&c.push(Mo(e,f,g))),e.tag===3)return c;e=e.return}return[]}function Ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yy(e,n,r,c,f){for(var g=n._reactName,N=[];r!==null&&r!==c;){var T=r,H=T.alternate,he=T.stateNode;if(T=T.tag,H!==null&&H===c)break;T!==5&&T!==26&&T!==27||he===null||(H=he,f?(he=Ei(r,g),he!=null&&N.unshift(Mo(r,he,H))):f||(he=Ei(r,g),he!=null&&N.push(Mo(r,he,H)))),r=r.return}N.length!==0&&e.push({event:n,listeners:N})}var Zb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(Zb,`
`).replace(qb,"")}function vy(e,n){return n=xy(n),xy(e)===n}function It(e,n,r,c,f,g){switch(r){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Na(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Na(e,""+c);break;case"className":Pt(e,"class",c);break;case"tabIndex":Pt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pt(e,r,c);break;case"style":Zr(e,c,g);break;case"data":if(n!=="object"){Pt(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Wi(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&It(e,n,"name",f.name,f,null),It(e,n,"formEncType",f.formEncType,f,null),It(e,n,"formMethod",f.formMethod,f,null),It(e,n,"formTarget",f.formTarget,f,null)):(It(e,n,"encType",f.encType,f,null),It(e,n,"method",f.method,f,null),It(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Wi(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=Gn);break;case"onScroll":c!=null&&ft("scroll",e);break;case"onScrollEnd":c!=null&&ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=Wi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":ft("beforetoggle",e),ft("toggle",e),dt(e,"popover",c);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":dt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=qr.get(r)||r,dt(e,r,c))}}function Vh(e,n,r,c,f,g){switch(r){case"style":Zr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof c=="string"?Na(e,c):(typeof c=="number"||typeof c=="bigint")&&Na(e,""+c);break;case"onScroll":c!=null&&ft("scroll",e);break;case"onScrollEnd":c!=null&&ft("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),g=e[mn]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,c,f);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):dt(e,r,c)}}}function An(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",e),ft("load",e);var c=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var N=r[g];if(N!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:It(e,n,g,N,r,null)}}f&&It(e,n,"srcSet",r.srcSet,r,null),c&&It(e,n,"src",r.src,r,null);return;case"input":ft("invalid",e);var T=g=N=f=null,H=null,he=null;for(c in r)if(r.hasOwnProperty(c)){var be=r[c];if(be!=null)switch(c){case"name":f=be;break;case"type":N=be;break;case"checked":H=be;break;case"defaultChecked":he=be;break;case"value":g=be;break;case"defaultValue":T=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(o(137,n));break;default:It(e,n,c,be,r,null)}}Ks(e,g,T,H,he,N,f,!1);return;case"select":ft("invalid",e),c=N=g=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":N=T;break;case"multiple":c=T;default:It(e,n,f,T,r,null)}n=g,r=N,e.multiple=!!c,n!=null?qt(e,!!c,n,!1):r!=null&&qt(e,!!c,r,!0);return;case"textarea":ft("invalid",e),g=f=c=null;for(N in r)if(r.hasOwnProperty(N)&&(T=r[N],T!=null))switch(N){case"value":c=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:It(e,n,N,T,r,null)}Xi(e,c,f,g);return;case"option":for(H in r)r.hasOwnProperty(H)&&(c=r[H],c!=null)&&(H==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":It(e,n,H,c,r,null));return;case"dialog":ft("beforetoggle",e),ft("toggle",e),ft("cancel",e),ft("close",e);break;case"iframe":case"object":ft("load",e);break;case"video":case"audio":for(c=0;c<zo.length;c++)ft(zo[c],e);break;case"image":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"embed":case"source":case"link":ft("error",e),ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in r)if(r.hasOwnProperty(he)&&(c=r[he],c!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:It(e,n,he,c,r,null)}return;default:if(Qs(n)){for(be in r)r.hasOwnProperty(be)&&(c=r[be],c!==void 0&&Vh(e,n,be,c,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(c=r[T],c!=null&&It(e,n,T,c,r,null))}function Fb(e,n,r,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,N=null,T=null,H=null,he=null,be=null;for(ye in r){var ke=r[ye];if(r.hasOwnProperty(ye)&&ke!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":H=ke;default:c.hasOwnProperty(ye)||It(e,n,ye,null,c,ke)}}for(var fe in c){var ye=c[fe];if(ke=r[fe],c.hasOwnProperty(fe)&&(ye!=null||ke!=null))switch(fe){case"type":g=ye;break;case"name":f=ye;break;case"checked":he=ye;break;case"defaultChecked":be=ye;break;case"value":N=ye;break;case"defaultValue":T=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,n));break;default:ye!==ke&&It(e,n,fe,ye,c,ke)}}Hl(e,N,T,H,he,be,g,f);return;case"select":ye=N=T=fe=null;for(g in r)if(H=r[g],r.hasOwnProperty(g)&&H!=null)switch(g){case"value":break;case"multiple":ye=H;default:c.hasOwnProperty(g)||It(e,n,g,null,c,H)}for(f in c)if(g=c[f],H=r[f],c.hasOwnProperty(f)&&(g!=null||H!=null))switch(f){case"value":fe=g;break;case"defaultValue":T=g;break;case"multiple":N=g;default:g!==H&&It(e,n,f,g,c,H)}n=T,r=N,c=ye,fe!=null?qt(e,!!r,fe,!1):!!c!=!!r&&(n!=null?qt(e,!!r,n,!0):qt(e,!!r,r?[]:"",!1));return;case"textarea":ye=fe=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:It(e,n,T,null,c,f)}for(N in c)if(f=c[N],g=r[N],c.hasOwnProperty(N)&&(f!=null||g!=null))switch(N){case"value":fe=f;break;case"defaultValue":ye=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==g&&It(e,n,N,f,c,g)}si(e,fe,ye);return;case"option":for(var Be in r)fe=r[Be],r.hasOwnProperty(Be)&&fe!=null&&!c.hasOwnProperty(Be)&&(Be==="selected"?e.selected=!1:It(e,n,Be,null,c,fe));for(H in c)fe=c[H],ye=r[H],c.hasOwnProperty(H)&&fe!==ye&&(fe!=null||ye!=null)&&(H==="selected"?e.selected=fe&&typeof fe!="function"&&typeof fe!="symbol":It(e,n,H,fe,c,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in r)fe=r[$e],r.hasOwnProperty($e)&&fe!=null&&!c.hasOwnProperty($e)&&It(e,n,$e,null,c,fe);for(he in c)if(fe=c[he],ye=r[he],c.hasOwnProperty(he)&&fe!==ye&&(fe!=null||ye!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,n));break;default:It(e,n,he,fe,c,ye)}return;default:if(Qs(n)){for(var Ut in r)fe=r[Ut],r.hasOwnProperty(Ut)&&fe!==void 0&&!c.hasOwnProperty(Ut)&&Vh(e,n,Ut,void 0,c,fe);for(be in c)fe=c[be],ye=r[be],!c.hasOwnProperty(be)||fe===ye||fe===void 0&&ye===void 0||Vh(e,n,be,fe,c,ye);return}}for(var ae in r)fe=r[ae],r.hasOwnProperty(ae)&&fe!=null&&!c.hasOwnProperty(ae)&&It(e,n,ae,null,c,fe);for(ke in c)fe=c[ke],ye=r[ke],!c.hasOwnProperty(ke)||fe===ye||fe==null&&ye==null||It(e,n,ke,fe,c,ye)}function _y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var f=r[c],g=f.transferSize,N=f.initiatorType,T=f.duration;if(g&&T&&_y(N)){for(N=0,T=f.responseEnd,c+=1;c<r.length;c++){var H=r[c],he=H.startTime;if(he>T)break;var be=H.transferSize,ke=H.initiatorType;be&&_y(ke)&&(H=H.responseEnd,N+=be*(H<T?1:(T-he)/(H-he)))}if(--c,n+=8*(g+N)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yh=null,$h=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function by(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function Kb(){var e=window.event;return e&&e.type==="popstate"?e===Jh?!1:(Jh=e,!0):(Jh=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(e){return Sy.resolve(null).then(e).catch(Vb)}:jy;function Vb(e){setTimeout(function(){throw e})}function ws(e){return e==="head"}function wy(e,n){var r=n,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(f),wl(n);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Oo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Oo(r);for(var g=r.firstChild;g;){var N=g.nextSibling,T=g.nodeName;g[ji]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=N}}else r==="body"&&Oo(e.ownerDocument.body);r=f}while(r);wl(n)}function Ey(e,n){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function Wh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wh(r),B(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Yb(e,n,r,c){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=za(e.nextSibling),e===null)break}return null}function $b(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=za(e.nextSibling),e===null))return null;return e}function ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=za(e.nextSibling),e===null))return null;return e}function em(e){return e.data==="$?"||e.data==="$~"}function tm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var c=function(){n(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function za(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nm=null;function Ty(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return za(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Cy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Ay(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Oo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);B(e)}var Ma=new Map,zy=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=se.d;se.d={f:Jb,r:Wb,D:eN,C:tN,L:nN,m:aN,X:sN,S:iN,M:rN};function Jb(){var e=Fi.f(),n=sc();return e||n}function Wb(e){var n=Nt(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):Fi.r(e)}var Nl=typeof document>"u"?null:document;function My(e,n,r){var c=Nl;if(c&&typeof n=="string"&&n){var f=Qt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),zy.has(f)||(zy.add(f),e={rel:e,crossOrigin:r,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),An(n,"link",e),Jt(n),c.head.appendChild(n)))}}function eN(e){Fi.D(e),My("dns-prefetch",e,null)}function tN(e,n){Fi.C(e,n),My("preconnect",e,n)}function nN(e,n,r){Fi.L(e,n,r);var c=Nl;if(c&&e&&n){var f='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Qt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Qt(r.imageSizes)+'"]')):f+='[href="'+Qt(e)+'"]';var g=f;switch(n){case"style":g=jl(e);break;case"script":g=Sl(e)}Ma.has(g)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Ma.set(g,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Do(g))||n==="script"&&c.querySelector(Ro(g))||(n=c.createElement("link"),An(n,"link",e),Jt(n),c.head.appendChild(n)))}}function aN(e,n){Fi.m(e,n);var r=Nl;if(r&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Qt(c)+'"][href="'+Qt(e)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Sl(e)}if(!Ma.has(g)&&(e=w({rel:"modulepreload",href:e},n),Ma.set(g,e),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ro(g)))return}c=r.createElement("link"),An(c,"link",e),Jt(c),r.head.appendChild(c)}}}function iN(e,n,r){Fi.S(e,n,r);var c=Nl;if(c&&e){var f=Fa(c).hoistableStyles,g=jl(e);n=n||"default";var N=f.get(g);if(!N){var T={loading:0,preload:null};if(N=c.querySelector(Do(g)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Ma.get(g))&&am(e,r);var H=N=c.createElement("link");Jt(H),An(H,"link",e),H._p=new Promise(function(he,be){H.onload=he,H.onerror=be}),H.addEventListener("load",function(){T.loading|=1}),H.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:T},f.set(g,N)}}}function sN(e,n){Fi.X(e,n);var r=Nl;if(r&&e){var c=Fa(r).hoistableScripts,f=Sl(e),g=c.get(f);g||(g=r.querySelector(Ro(f)),g||(e=w({src:e,async:!0},n),(n=Ma.get(f))&&im(e,n),g=r.createElement("script"),Jt(g),An(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function rN(e,n){Fi.M(e,n);var r=Nl;if(r&&e){var c=Fa(r).hoistableScripts,f=Sl(e),g=c.get(f);g||(g=r.querySelector(Ro(f)),g||(e=w({src:e,async:!0,type:"module"},n),(n=Ma.get(f))&&im(e,n),g=r.createElement("script"),Jt(g),An(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Oy(e,n,r,c){var f=(f=je.current)?fc(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=jl(r.href),r=Fa(f).hoistableStyles,c=r.get(n),c||(c={type:"style",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=jl(r.href);var g=Fa(f).hoistableStyles,N=g.get(e);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=f.querySelector(Do(e)))&&!g._p&&(N.instance=g,N.state.loading=5),Ma.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ma.set(e,r),g||lN(f,e,r,N.state))),n&&c===null)throw Error(o(528,""));return N}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(r),r=Fa(f).hoistableScripts,c=r.get(n),c||(c={type:"script",instance:null,count:0,state:null},r.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function jl(e){return'href="'+Qt(e)+'"'}function Do(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function lN(e,n,r,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),An(n,"link",r),Jt(n),e.head.appendChild(n))}function Sl(e){return'[src="'+Qt(e)+'"]'}function Ro(e){return"script[async]"+e}function Ry(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Qt(r.href)+'"]');if(c)return n.instance=c,Jt(c),c;var f=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Jt(c),An(c,"style",f),pc(c,r.precedence,e),n.instance=c;case"stylesheet":f=jl(r.href);var g=e.querySelector(Do(f));if(g)return n.state.loading|=4,n.instance=g,Jt(g),g;c=Dy(r),(f=Ma.get(f))&&am(c,f),g=(e.ownerDocument||e).createElement("link"),Jt(g);var N=g;return N._p=new Promise(function(T,H){N.onload=T,N.onerror=H}),An(g,"link",c),n.state.loading|=4,pc(g,r.precedence,e),n.instance=g;case"script":return g=Sl(r.src),(f=e.querySelector(Ro(g)))?(n.instance=f,Jt(f),f):(c=r,(f=Ma.get(g))&&(c=w({},r),im(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),Jt(f),An(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,pc(c,r.precedence,e));return n.instance}function pc(e,n,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,N=0;N<c.length;N++){var T=c[N];if(T.dataset.precedence===n)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function am(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function im(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function Ly(e,n,r){if(gc===null){var c=new Map,f=gc=new Map;f.set(r,c)}else f=gc,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var g=r[f];if(!(g[ji]||g[tn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(n)||"";N=e+N;var T=c.get(N);T?T.push(g):c.set(N,[g])}}return c}function Py(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function oN(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function By(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uN(e,n,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=jl(c.href),g=n.querySelector(Do(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=g,Jt(g);return}g=n.ownerDocument||n,c=Dy(c),(f=Ma.get(f))&&am(c,f),g=g.createElement("link"),Jt(g);var N=g;N._p=new Promise(function(T,H){N.onload=T,N.onerror=H}),An(g,"link",c),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var sm=0;function cN(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&sm===0&&(sm=62500*Hb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>sm?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(dN,e),xc=null,yc.call(e))}function dN(e,n){if(!(n.state.loading&4)){var r=xc.get(e);if(r)var c=r.get(null);else{r=new Map,xc.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var N=f[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(r.set(N.dataset.precedence,N),c=N)}c&&r.set(null,c)}f=n.instance,N=f.getAttribute("data-precedence"),g=r.get(N)||c,g===c&&r.set(null,f),r.set(N,f),this.count++,c=yc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Lo={$$typeof:P,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function hN(e,n,r,c,f,g,N,T,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Iy(e,n,r,c,f,g,N,T,H,he,be,ke){return e=new hN(e,n,r,N,H,he,be,ke,T),n=1,g===!0&&(n|=24),g=Pn(3,null,null,n),e.current=g,g.stateNode=e,n=Bd(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:r,cache:n},qd(g),e}function Uy(e){return e?(e=Ci,e):Ci}function Zy(e,n,r,c,f,g){f=Uy(f),c.context===null?c.context=f:c.pendingContext=f,c=fs(n),c.payload={element:r},g=g===void 0?null:g,g!==null&&(c.callback=g),r=ps(e,c,n),r!==null&&(na(r,e,n),fo(r,e,n))}function qy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function rm(e,n){qy(e,n),(e=e.alternate)&&qy(e,n)}function Fy(e){if(e.tag===13||e.tag===31){var n=Ta(e,67108864);n!==null&&na(n,e,67108864),rm(e,67108864)}}function Hy(e){if(e.tag===13||e.tag===31){var n=ya();n=Dn(n);var r=Ta(e,n);r!==null&&na(r,e,n),rm(e,n)}}var _c=!0;function mN(e,n,r,c){var f=Z.T;Z.T=null;var g=se.p;try{se.p=2,lm(e,n,r,c)}finally{se.p=g,Z.T=f}}function fN(e,n,r,c){var f=Z.T;Z.T=null;var g=se.p;try{se.p=8,lm(e,n,r,c)}finally{se.p=g,Z.T=f}}function lm(e,n,r,c){if(_c){var f=om(c);if(f===null)Gh(e,n,c,bc,r),Qy(e,c);else if(gN(f,e,n,r,c))c.stopPropagation();else if(Qy(e,c),n&4&&-1<pN.indexOf(e)){for(;f!==null;){var g=Nt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=_a(g.pendingLanes);if(N!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var H=1<<31-Lt(N);T.entanglements[1]|=H,N&=~H}yi(g),(Tt&6)===0&&(ac=kt()+500,Ao(0))}}break;case 31:case 13:T=Ta(g,2),T!==null&&na(T,g,2),sc(),rm(g,2)}if(g=om(c),g===null&&Gh(e,n,c,bc,r),g===f)break;f=g}f!==null&&c.stopPropagation()}else Gh(e,n,c,null,r)}}function om(e){return e=Gs(e),um(e)}var bc=null;function um(e){if(bc=null,e=Re(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=p(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function Ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case _e:return 2;case Ke:return 8;case ct:case et:return 32;case hn:return 268435456;default:return 32}default:return 32}}var cm=!1,Es=null,ks=null,Ts=null,Po=new Map,Bo=new Map,Cs=[],pN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(e,n){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(n.pointerId)}}function Io(e,n,r,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:r,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=Nt(n),n!==null&&Fy(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function gN(e,n,r,c,f){switch(n){case"focusin":return Es=Io(Es,e,n,r,c,f),!0;case"dragenter":return ks=Io(ks,e,n,r,c,f),!0;case"mouseover":return Ts=Io(Ts,e,n,r,c,f),!0;case"pointerover":var g=f.pointerId;return Po.set(g,Io(Po.get(g)||null,e,n,r,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Bo.set(g,Io(Bo.get(g)||null,e,n,r,c,f)),!0}return!1}function Gy(e){var n=Re(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=p(r),n!==null){e.blockedOn=n,Yi(e.priority,function(){Hy(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,Yi(e.priority,function(){Hy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=om(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Fr=c,r.target.dispatchEvent(c),Fr=null}else return n=Nt(r),n!==null&&Fy(n),e.blockedOn=r,!1;n.shift()}return!0}function Vy(e,n,r){Nc(e)&&r.delete(n)}function yN(){cm=!1,Es!==null&&Nc(Es)&&(Es=null),ks!==null&&Nc(ks)&&(ks=null),Ts!==null&&Nc(Ts)&&(Ts=null),Po.forEach(Vy),Bo.forEach(Vy)}function jc(e,n){e.blockedOn===n&&(e.blockedOn=null,cm||(cm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yN)))}var Sc=null;function Yy(e){Sc!==e&&(Sc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(um(c||r)===null)continue;break}var g=Nt(r);g!==null&&(e.splice(n,3),n-=3,oh(g,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function wl(e){function n(H){return jc(H,e)}Es!==null&&jc(Es,e),ks!==null&&jc(ks,e),Ts!==null&&jc(Ts,e),Po.forEach(n),Bo.forEach(n);for(var r=0;r<Cs.length;r++){var c=Cs[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Cs.length&&(r=Cs[0],r.blockedOn===null);)Gy(r),r.blockedOn===null&&Cs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],g=r[c+1],N=f[mn]||null;if(typeof g=="function")N||Yy(r);else if(N){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,N=g[mn]||null)T=N.formAction;else if(um(f)!==null)continue}else T=N.action;typeof T=="function"?r[c+1]=T:(r.splice(c,3),c-=3),Yy(r)}}}function $y(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return f=N})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function dm(e){this._internalRoot=e}wc.prototype.render=dm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,c=ya();Zy(r,c,e,n,null,null)},wc.prototype.unmount=dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zy(e.current,2,null,e,null,null),sc(),n[qa]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zs();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Cs.length&&n!==0&&n<Cs[r].priority;r++);Cs.splice(r,0,e),r===0&&Gy(e)}};var Xy=a.version;if(Xy!=="19.2.4")throw Error(o(527,Xy,"19.2.4"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var xN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Qe=Ec.inject(xN),it=Ec}catch{}}return Zo.createRoot=function(e,n){if(!d(e))throw Error(o(299));var r=!1,c="",f=ig,g=sg,N=rg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=Iy(e,1,!1,null,null,r,c,null,f,g,N,$y),e[qa]=n.current,Qh(e),new dm(n)},Zo.hydrateRoot=function(e,n,r){if(!d(e))throw Error(o(299));var c=!1,f="",g=ig,N=sg,T=rg,H=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(H=r.formState)),n=Iy(e,1,!0,n,r??null,c,f,H,g,N,T,$y),n.context=Uy(null),r=n.current,c=ya(),c=Dn(c),f=fs(c),f.callback=null,ps(r,f,c),r=c,n.current.lanes=r,la(n,r),yi(n),e[qa]=n.current,Qh(e),new wc(n)},Zo.version="19.2.4",Zo}var lx;function CN(){if(lx)return fm.exports;lx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),fm.exports=TN(),fm.exports}var AN=CN();const zN=ld(AN);var zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MN={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},ON=class{#e=MN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},jr=new ON;function DN(t){setTimeout(t,0)}var Er=typeof window>"u"||"Deno"in globalThis;function Hn(){}function RN(t,a){return typeof t=="function"?t(a):t}function nf(t){return typeof t=="number"&&t>=0&&t!==1/0}function l0(t,a){return Math.max(t+(a||0)-Date.now(),0)}function Os(t,a){return typeof t=="function"?t(a):t}function Oa(t,a){return typeof t=="function"?t(a):t}function ox(t,a){const{type:l="all",exact:o,fetchStatus:d,predicate:h,queryKey:p,stale:y}=t;if(p){if(o){if(a.queryHash!==Ef(p,a.options))return!1}else if(!Yo(a.queryKey,p))return!1}if(l!=="all"){const v=a.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof y=="boolean"&&a.isStale()!==y||d&&d!==a.state.fetchStatus||h&&!h(a))}function ux(t,a){const{exact:l,status:o,predicate:d,mutationKey:h}=t;if(h){if(!a.options.mutationKey)return!1;if(l){if(kr(a.options.mutationKey)!==kr(h))return!1}else if(!Yo(a.options.mutationKey,h))return!1}return!(o&&a.state.status!==o||d&&!d(a))}function Ef(t,a){return(a?.queryKeyHashFn||kr)(t)}function kr(t){return JSON.stringify(t,(a,l)=>af(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Yo(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>Yo(t[l],a[l])):!1}var LN=Object.prototype.hasOwnProperty;function o0(t,a,l=0){if(t===a)return t;if(l>500)return a;const o=cx(t)&&cx(a);if(!o&&!(af(t)&&af(a)))return a;const h=(o?t:Object.keys(t)).length,p=o?a:Object.keys(a),y=p.length,v=o?new Array(y):{};let _=0;for(let S=0;S<y;S++){const w=o?S:p[S],C=t[w],z=a[w];if(C===z){v[w]=C,(o?S<h:LN.call(t,w))&&_++;continue}if(C===null||z===null||typeof C!="object"||typeof z!="object"){v[w]=z;continue}const k=o0(C,z,l+1);v[w]=k,k===C&&_++}return h===y&&_===h?t:v}function $c(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function cx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function af(t){if(!dx(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!dx(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dx(t){return Object.prototype.toString.call(t)==="[object Object]"}function PN(t){return new Promise(a=>{jr.setTimeout(a,t)})}function sf(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?o0(t,a):a}function BN(t,a,l=0){const o=[...t,a];return l&&o.length>l?o.slice(1):o}function IN(t,a,l=0){const o=[a,...t];return l&&o.length>l?o.slice(0,-1):o}var kf=Symbol();function u0(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===kf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Tf(t,a){return typeof t=="function"?t(...a):!!t}function UN(t,a,l){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=a(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),t}var ZN=class extends zl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Er&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Cf=new ZN;function rf(){let t,a;const l=new Promise((d,h)=>{t=d,a=h});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},l.reject=d=>{o({status:"rejected",reason:d}),a(d)},l}var qN=DN;function FN(){let t=[],a=0,l=y=>{y()},o=y=>{y()},d=qN;const h=y=>{a?t.push(y):d(()=>{l(y)})},p=()=>{const y=t;t=[],y.length&&d(()=>{o(()=>{y.forEach(v=>{l(v)})})})};return{batch:y=>{let v;a++;try{v=y()}finally{a--,a||p()}return v},batchCalls:y=>(...v)=>{h(()=>{y(...v)})},schedule:h,setNotifyFunction:y=>{l=y},setBatchNotifyFunction:y=>{o=y},setScheduler:y=>{d=y}}}var Nn=FN(),HN=class extends zl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Er&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},Xc=new HN;function KN(t){return Math.min(1e3*2**t,3e4)}function c0(t){return(t??"online")==="online"?Xc.isOnline():!0}var lf=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function d0(t){let a=!1,l=0,o;const d=rf(),h=()=>d.status!=="pending",p=A=>{if(!h()){const O=new lf(A);C(O),t.onCancel?.(O)}},y=()=>{a=!0},v=()=>{a=!1},_=()=>Cf.isFocused()&&(t.networkMode==="always"||Xc.isOnline())&&t.canRun(),S=()=>c0(t.networkMode)&&t.canRun(),w=A=>{h()||(o?.(),d.resolve(A))},C=A=>{h()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=O=>{(h()||_())&&A(O)},t.onPause?.()}).then(()=>{o=void 0,h()||t.onContinue?.()}),k=()=>{if(h())return;let A;const O=l===0?t.initialPromise:void 0;try{A=O??t.fn()}catch(F){A=Promise.reject(F)}Promise.resolve(A).then(w).catch(F=>{if(h())return;const R=t.retry??(Er?0:3),P=t.retryDelay??KN,Q=typeof P=="function"?P(l,F):P,$=R===!0||typeof R=="number"&&l<R||typeof R=="function"&&R(l,F);if(a||!$){C(F);return}l++,t.onFail?.(l,F),PN(Q).then(()=>_()?void 0:z()).then(()=>{a?C(F):k()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:y,continueRetry:v,canStart:S,start:()=>(S()?k():z().then(k),d)}}var h0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nf(this.gcTime)&&(this.#e=jr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Er?1/0:300*1e3))}clearGcTimeout(){this.#e&&(jr.clearTimeout(this.#e),this.#e=void 0)}},QN=class extends h0{#e;#t;#n;#i;#a;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=mx(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=mx(this.options);a.data!==void 0&&(this.setState(hx(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const l=sf(this.state.data,t,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#s({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Oa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Os(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!l0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const l=new AbortController,o=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const y=u0(this.options,a),_=(()=>{const S={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(y,_,this):y(_)},p=(()=>{const y={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:d};return o(y),y})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#a=d0({initialPromise:a?.initialPromise,fn:p.fetchFn,onCancel:y=>{y instanceof lf&&y.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(y,v)=>{this.#s({type:"failed",failureCount:y,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const y=await this.#a.start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),this.#n.config.onSuccess?.(y,this),this.#n.config.onSettled?.(y,this.state.error,this),y}catch(y){if(y instanceof lf){if(y.silent)return this.#a.promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw this.#s({type:"error",error:y}),this.#n.config.onError?.(y,this),this.#n.config.onSettled?.(this.state.data,y,this),y}finally{this.scheduleGc()}}#s(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...m0(l.data,this.options),fetchMeta:t.meta??null};case"success":const o={...l,...hx(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),Nn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function m0(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c0(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hx(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mx(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,o=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var GN=class extends zl{constructor(t,a){super(),this.options=a,this.#e=t,this.#s=null,this.#l=rf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#r;#l;#s;#p;#h;#m;#u;#c;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),fx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return of(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return of(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!$c(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&px(this.#t,l,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Oa(this.options.enabled,this.#t)!==Oa(a.enabled,this.#t)||Os(this.options.staleTime,this.#t)!==Os(a.staleTime,this.#t))&&this.#g();const d=this.#y();o&&(this.#t!==l||Oa(this.options.enabled,this.#t)!==Oa(a.enabled,this.#t)||d!==this.#o)&&this.#x(d)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return YN(this,l)&&(this.#i=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#i}trackResult(t,a){return new Proxy(t,{get:(l,o)=>(this.trackProp(o),a?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(Hn)),a}#g(){this.#_();const t=Os(this.options.staleTime,this.#t);if(Er||this.#i.isStale||!nf(t))return;const l=l0(this.#i.dataUpdatedAt,t)+1;this.#u=jr.setTimeout(()=>{this.#i.isStale||this.updateResult()},l)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#b(),this.#o=t,!(Er||Oa(this.options.enabled,this.#t)===!1||!nf(this.#o)||this.#o===0)&&(this.#c=jr.setInterval(()=>{(this.options.refetchIntervalInBackground||Cf.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#x(this.#y())}#_(){this.#u&&(jr.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(jr.clearInterval(this.#c),this.#c=void 0)}createResult(t,a){const l=this.#t,o=this.options,d=this.#i,h=this.#a,p=this.#r,v=t!==l?t.state:this.#n,{state:_}=t;let S={..._},w=!1,C;if(a._optimisticResults){const K=this.hasListeners(),ie=!K&&fx(t,a),pe=K&&px(t,l,a,o);(ie||pe)&&(S={...S,...m0(_.data,t.options)}),a._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:k,status:A}=S;C=S.data;let O=!1;if(a.placeholderData!==void 0&&C===void 0&&A==="pending"){let K;d?.isPlaceholderData&&a.placeholderData===p?.placeholderData?(K=d.data,O=!0):K=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,K!==void 0&&(A="success",C=sf(d?.data,K,a),w=!0)}if(a.select&&C!==void 0&&!O)if(d&&C===h?.data&&a.select===this.#p)C=this.#h;else try{this.#p=a.select,C=a.select(C),C=sf(d?.data,C,a),this.#h=C,this.#s=null}catch(K){this.#s=K}this.#s&&(z=this.#s,C=this.#h,k=Date.now(),A="error");const F=S.fetchStatus==="fetching",R=A==="pending",P=A==="error",Q=R&&F,$=C!==void 0,G={status:A,fetchStatus:S.fetchStatus,isPending:R,isSuccess:A==="success",isError:P,isInitialLoading:Q,isLoading:Q,data:C,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>v.dataUpdateCount||S.errorUpdateCount>v.errorUpdateCount,isFetching:F,isRefetching:F&&!R,isLoadingError:P&&!$,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:P&&$,isStale:Af(t,a),refetch:this.refetch,promise:this.#l,isEnabled:Oa(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=G.data!==void 0,ie=G.status==="error"&&!K,pe=ue=>{ie?ue.reject(G.error):K&&ue.resolve(G.data)},ee=()=>{const ue=this.#l=G.promise=rf();pe(ue)},oe=this.#l;switch(oe.status){case"pending":t.queryHash===l.queryHash&&pe(oe);break;case"fulfilled":(ie||G.data!==oe.value)&&ee();break;case"rejected":(!ie||G.error!==oe.reason)&&ee();break}}return G}updateResult(){const t=this.#i,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#m=this.#t),$c(a,t))return;this.#i=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#f.size)return!0;const h=new Set(d??this.#f);return this.options.throwOnError&&h.add("error"),Object.keys(this.#i).some(p=>{const y=p;return this.#i[y]!==t[y]&&h.has(y)})};this.#j({listeners:l()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(t){Nn.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function VN(t,a){return Oa(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function fx(t,a){return VN(t,a)||t.state.data!==void 0&&of(t,a,a.refetchOnMount)}function of(t,a,l){if(Oa(a.enabled,t)!==!1&&Os(a.staleTime,t)!=="static"){const o=typeof l=="function"?l(t):l;return o==="always"||o!==!1&&Af(t,a)}return!1}function px(t,a,l,o){return(t!==a||Oa(o.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&Af(t,l)}function Af(t,a){return Oa(a.enabled,t)!==!1&&t.isStaleByTime(Os(a.staleTime,t))}function YN(t,a){return!$c(t.getCurrentResult(),a)}function gx(t){return{onFetch:(a,l)=>{const o=a.options,d=a.fetchOptions?.meta?.fetchMore?.direction,h=a.state.data?.pages||[],p=a.state.data?.pageParams||[];let y={pages:[],pageParams:[]},v=0;const _=async()=>{let S=!1;const w=k=>{UN(k,()=>a.signal,()=>S=!0)},C=u0(a.options,a.fetchOptions),z=async(k,A,O)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const R=(()=>{const V={client:a.client,queryKey:a.queryKey,pageParam:A,direction:O?"backward":"forward",meta:a.options.meta};return w(V),V})(),P=await C(R),{maxPages:Q}=a.options,$=O?IN:BN;return{pages:$(k.pages,P,Q),pageParams:$(k.pageParams,A,Q)}};if(d&&h.length){const k=d==="backward",A=k?$N:yx,O={pages:h,pageParams:p},F=A(o,O);y=await z(O,F,k)}else{const k=t??h.length;do{const A=v===0?p[0]??o.initialPageParam:yx(o,y);if(v>0&&A==null)break;y=await z(y,A),v++}while(v<k)}return y};a.options.persister?a.fetchFn=()=>a.options.persister?.(_,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=_}}}function yx(t,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,l[o],l):void 0}function $N(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var XN=class extends h0{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||f0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=d0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(h,p)=>{this.#a({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#i.canStart();try{if(o)a();else{this.#a({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,l);const p=await this.options.onMutate?.(t,l);p!==this.state.context&&this.#a({type:"pending",context:p,variables:t,isPaused:d})}const h=await this.#i.start();return await this.#n.config.onSuccess?.(h,t,this.state.context,this,l),await this.options.onSuccess?.(h,t,this.state.context,l),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(h,null,t,this.state.context,l),this.#a({type:"success",data:h}),h}catch(h){try{await this.#n.config.onError?.(h,t,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onError?.(h,t,this.state.context,l)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,h,t,this.state.context,l)}catch(p){Promise.reject(p)}throw this.#a({type:"error",error:h}),h}finally{this.#n.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Nn.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function f0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var JN=class extends zl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,l){const o=new XN({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:l});return this.add(o),o}add(t){this.#e.add(t);const a=kc(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=kc(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const o=l.indexOf(t);o!==-1&&l.splice(o,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=kc(t);if(typeof a=="string"){const o=this.#t.get(a)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=kc(t);return typeof a=="string"?this.#t.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Nn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>ux(a,l))}findAll(t={}){return this.getAll().filter(a=>ux(t,a))}notify(t){Nn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return Nn.batch(()=>Promise.all(t.map(a=>a.continue().catch(Hn))))}};function kc(t){return t.options.scope?.id}var WN=class extends zl{#e;#t=void 0;#n;#i;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),$c(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&kr(l.mutationKey)!==kr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#r(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(a,l){return this.#i=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??f0();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#r(a){Nn.batch(()=>{if(this.#i&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#i.onSuccess?.(a.data,l,o,d)}catch(h){Promise.reject(h)}try{this.#i.onSettled?.(a.data,null,l,o,d)}catch(h){Promise.reject(h)}}else if(a?.type==="error"){try{this.#i.onError?.(a.error,l,o,d)}catch(h){Promise.reject(h)}try{this.#i.onSettled?.(void 0,a.error,l,o,d)}catch(h){Promise.reject(h)}}}this.listeners.forEach(l=>{l(this.#t)})})}},ej=class extends zl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const o=a.queryKey,d=a.queryHash??Ef(o,a);let h=this.get(d);return h||(h=new QN({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>ox(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>ox(t,l)):a}notify(t){Nn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){Nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tj=class{#e;#t;#n;#i;#a;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new ej,this.#t=t.mutationCache||new JN,this.#n=t.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Cf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Xc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(Os(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(t,a,l){const o=this.defaultQueryOptions({queryKey:t}),h=this.#e.get(o.queryHash)?.state.data,p=RN(a,h);if(p!==void 0)return this.#e.build(this,o).setData(p,{...l,manual:!0})}setQueriesData(t,a,l){return Nn.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;Nn.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return Nn.batch(()=>(l.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},o=Nn.batch(()=>this.#e.findAll(t).map(d=>d.cancel(l)));return Promise.all(o).then(Hn).catch(Hn)}invalidateQueries(t,a={}){return Nn.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=Nn.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let h=d.fetch(void 0,l);return l.throwOnError||(h=h.catch(Hn)),d.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(Hn)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(Os(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=gx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=gx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#i.set(kr(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#i.values()],l={};return a.forEach(o=>{Yo(t,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(kr(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(o=>{Yo(t,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=Ef(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===kf&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},p0=j.createContext(void 0),Mn=t=>{const a=j.useContext(p0);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},nj=({client:t,children:a})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(p0.Provider,{value:t,children:a})),g0=j.createContext(!1),aj=()=>j.useContext(g0);g0.Provider;function ij(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var sj=j.createContext(ij()),rj=()=>j.useContext(sj),lj=(t,a,l)=>{const o=l?.state.error&&typeof t.throwOnError=="function"?Tf(t.throwOnError,[l.state.error,l]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(a.isReset()||(t.retryOnMount=!1))},oj=t=>{j.useEffect(()=>{t.clearReset()},[t])},uj=({result:t,errorResetBoundary:a,throwOnError:l,query:o,suspense:d})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||Tf(l,[t.error,o])),cj=t=>{if(t.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},dj=(t,a)=>t.isLoading&&t.isFetching&&!a,hj=(t,a)=>t?.suspense&&a.isPending,xx=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function mj(t,a,l){const o=aj(),d=rj(),h=Mn(),p=h.defaultQueryOptions(t);h.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const y=h.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",cj(p),lj(p,d,y),oj(d);const v=!h.getQueryCache().get(p.queryHash),[_]=j.useState(()=>new a(h,p)),S=_.getOptimisticResult(p),w=!o&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(C=>{const z=w?_.subscribe(Nn.batchCalls(C)):Hn;return _.updateResult(),z},[_,w]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),j.useEffect(()=>{_.setOptions(p)},[p,_]),hj(p,S))throw xx(p,_,d);if(uj({result:S,errorResetBoundary:d,throwOnError:p.throwOnError,query:y,suspense:p.suspense}))throw S.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(p,S),p.experimental_prefetchInRender&&!Er&&dj(S,o)&&(v?xx(p,_,d):y?.promise)?.catch(Hn).finally(()=>{_.updateResult()}),p.notifyOnChangeProps?S:_.trackResult(S)}function Le(t,a){return mj(t,GN)}function Ye(t,a){const l=Mn(),[o]=j.useState(()=>new WN(l,t));j.useEffect(()=>{o.setOptions(t)},[o,t]);const d=j.useSyncExternalStore(j.useCallback(p=>o.subscribe(Nn.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h=j.useCallback((p,y)=>{o.mutate(p,y).catch(Hn)},[o]);if(d.error&&Tf(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:h,mutateAsync:d.mutate}}var vx="popstate";function fj(t={}){function a(o,d){let{pathname:h,search:p,hash:y}=o.location;return uf("",{pathname:h,search:p,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:$o(d)}return gj(a,l,null,t)}function $t(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Da(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function pj(){return Math.random().toString(36).substring(2,10)}function _x(t,a){return{usr:t.state,key:t.key,idx:a}}function uf(t,a,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Ml(a):a,state:l,key:a&&a.key||o||pj()}}function $o({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Ml(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function gj(t,a,l,o={}){let{window:d=document.defaultView,v5Compat:h=!1}=o,p=d.history,y="POP",v=null,_=S();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function S(){return(p.state||{idx:null}).idx}function w(){y="POP";let O=S(),F=O==null?null:O-_;_=O,v&&v({action:y,location:A.location,delta:F})}function C(O,F){y="PUSH";let R=uf(A.location,O,F);_=S()+1;let P=_x(R,_),Q=A.createHref(R);try{p.pushState(P,"",Q)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;d.location.assign(Q)}h&&v&&v({action:y,location:A.location,delta:1})}function z(O,F){y="REPLACE";let R=uf(A.location,O,F);_=S();let P=_x(R,_),Q=A.createHref(R);p.replaceState(P,"",Q),h&&v&&v({action:y,location:A.location,delta:0})}function k(O){return yj(O)}let A={get action(){return y},get location(){return t(d,p)},listen(O){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(vx,w),v=O,()=>{d.removeEventListener(vx,w),v=null}},createHref(O){return a(d,O)},createURL:k,encodeLocation(O){let F=k(O);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:C,replace:z,go(O){return p.go(O)}};return A}function yj(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),$t(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:$o(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function y0(t,a,l="/"){return xj(t,a,l,!1)}function xj(t,a,l,o){let d=typeof a=="string"?Ml(a):a,h=Vi(d.pathname||"/",l);if(h==null)return null;let p=x0(t);vj(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let _=Aj(h);y=Tj(p[v],_,o)}return y}function x0(t,a=[],l=[],o="",d=!1){let h=(p,y,v=d,_)=>{let S={relativePath:_===void 0?p.path||"":_,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&v)return;$t(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=Qi([o,S.relativePath]),C=l.concat(S);p.children&&p.children.length>0&&($t(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),x0(p.children,a,C,w,v)),!(p.path==null&&!p.index)&&a.push({path:w,score:Ej(w,p.index),routesMeta:C})};return t.forEach((p,y)=>{if(p.path===""||!p.path?.includes("?"))h(p,y);else for(let v of v0(p.path))h(p,y,!0,v)}),a}function v0(t){let a=t.split("/");if(a.length===0)return[];let[l,...o]=a,d=l.endsWith("?"),h=l.replace(/\?$/,"");if(o.length===0)return d?[h,""]:[h];let p=v0(o.join("/")),y=[];return y.push(...p.map(v=>v===""?h:[h,v].join("/"))),d&&y.push(...p),y.map(v=>t.startsWith("/")&&v===""?"/":v)}function vj(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:kj(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var _j=/^:[\w-]+$/,bj=3,Nj=2,jj=1,Sj=10,wj=-2,bx=t=>t==="*";function Ej(t,a){let l=t.split("/"),o=l.length;return l.some(bx)&&(o+=wj),a&&(o+=Nj),l.filter(d=>!bx(d)).reduce((d,h)=>d+(_j.test(h)?bj:h===""?jj:Sj),o)}function kj(t,a){return t.length===a.length&&t.slice(0,-1).every((o,d)=>o===a[d])?t[t.length-1]-a[a.length-1]:0}function Tj(t,a,l=!1){let{routesMeta:o}=t,d={},h="/",p=[];for(let y=0;y<o.length;++y){let v=o[y],_=y===o.length-1,S=h==="/"?a:a.slice(h.length)||"/",w=Jc({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},S),C=v.route;if(!w&&_&&l&&!o[o.length-1].route.index&&(w=Jc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),p.push({params:d,pathname:Qi([h,w.pathname]),pathnameBase:Dj(Qi([h,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(h=Qi([h,w.pathnameBase]))}return p}function Jc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=Cj(t.path,t.caseSensitive,t.end),d=a.match(l);if(!d)return null;let h=d[0],p=h.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:o.reduce((_,{paramName:S,isOptional:w},C)=>{if(S==="*"){let k=y[C]||"";p=h.slice(0,h.length-k.length).replace(/(.)\/+$/,"$1")}const z=y[C];return w&&!z?_[S]=void 0:_[S]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:p,pattern:t}}function Cj(t,a=!1,l=!0){Da(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function Aj(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Da(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Vi(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Mj(t,a="/"){let{pathname:l,search:o="",hash:d=""}=typeof t=="string"?Ml(t):t,h;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?h=Nx(l.substring(1),"/"):h=Nx(l,a)):h=a,{pathname:h,search:Rj(o),hash:Lj(d)}}function Nx(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function xm(t,a,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Oj(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function zf(t){let a=Oj(t);return a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase)}function Mf(t,a,l,o=!1){let d;typeof t=="string"?d=Ml(t):(d={...t},$t(!d.pathname||!d.pathname.includes("?"),xm("?","pathname","search",d)),$t(!d.pathname||!d.pathname.includes("#"),xm("#","pathname","hash",d)),$t(!d.search||!d.search.includes("#"),xm("#","search","hash",d)));let h=t===""||d.pathname==="",p=h?"/":d.pathname,y;if(p==null)y=l;else{let w=a.length-1;if(!o&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),w-=1;d.pathname=C.join("/")}y=w>=0?a[w]:"/"}let v=Mj(d,y),_=p&&p!=="/"&&p.endsWith("/"),S=(h||p===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(_||S)&&(v.pathname+="/"),v}var Qi=t=>t.join("/").replace(/\/\/+/g,"/"),Dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Pj=class{constructor(t,a,l,o=!1){this.status=t,this.statusText=a||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Bj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ij(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function b0(t,a){let l=t;if(typeof l!="string"||!zj.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(_0)try{let h=new URL(window.location.href),p=l.startsWith("//")?new URL(h.protocol+l):new URL(l),y=Vi(p.pathname,a);p.origin===h.origin&&y!=null?l=y+p.search+p.hash:d=!0}catch{Da(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var Uj=["GET",...N0];new Set(Uj);var Ol=j.createContext(null);Ol.displayName="DataRouter";var od=j.createContext(null);od.displayName="DataRouterState";var Zj=j.createContext(!1),j0=j.createContext({isTransitioning:!1});j0.displayName="ViewTransition";var qj=j.createContext(new Map);qj.displayName="Fetchers";var Fj=j.createContext(null);Fj.displayName="Await";var va=j.createContext(null);va.displayName="Navigation";var tu=j.createContext(null);tu.displayName="Location";var La=j.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var Of=j.createContext(null);Of.displayName="RouteError";var S0="REACT_ROUTER_ERROR",Hj="REDIRECT",Kj="ROUTE_ERROR_RESPONSE";function Qj(t){if(t.startsWith(`${S0}:${Hj}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Gj(t){if(t.startsWith(`${S0}:${Kj}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Pj(a.status,a.statusText,a.data)}catch{}}function Vj(t,{relative:a}={}){$t(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=j.useContext(va),{hash:d,pathname:h,search:p}=nu(t,{relative:a}),y=h;return l!=="/"&&(y=h==="/"?l:Qi([l,h])),o.createHref({pathname:y,search:p,hash:d})}function Dl(){return j.useContext(tu)!=null}function Pa(){return $t(Dl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(tu).location}var w0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(t){j.useContext(va).static||j.useLayoutEffect(t)}function Rl(){let{isDataRoute:t}=j.useContext(La);return t?cS():Yj()}function Yj(){$t(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ol),{basename:a,navigator:l}=j.useContext(va),{matches:o}=j.useContext(La),{pathname:d}=Pa(),h=JSON.stringify(zf(o)),p=j.useRef(!1);return E0(()=>{p.current=!0}),j.useCallback((v,_={})=>{if(Da(p.current,w0),!p.current)return;if(typeof v=="number"){l.go(v);return}let S=Mf(v,JSON.parse(h),d,_.relative==="path");t==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:Qi([a,S.pathname])),(_.replace?l.replace:l.push)(S,_.state,_)},[a,l,h,d,t])}var $j=j.createContext(null);function Xj(t){let a=j.useContext(La).outlet;return j.useMemo(()=>a&&j.createElement($j.Provider,{value:t},a),[a,t])}function Jj(){let{matches:t}=j.useContext(La),a=t[t.length-1];return a?a.params:{}}function nu(t,{relative:a}={}){let{matches:l}=j.useContext(La),{pathname:o}=Pa(),d=JSON.stringify(zf(l));return j.useMemo(()=>Mf(t,JSON.parse(d),o,a==="path"),[t,d,o,a])}function Wj(t,a){return k0(t,a)}function k0(t,a,l,o,d){$t(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(va),{matches:p}=j.useContext(La),y=p[p.length-1],v=y?y.params:{},_=y?y.pathname:"/",S=y?y.pathnameBase:"/",w=y&&y.route;{let R=w&&w.path||"";C0(_,!w||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let C=Pa(),z;if(a){let R=typeof a=="string"?Ml(a):a;$t(S==="/"||R.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${R.pathname}" was given in the \`location\` prop.`),z=R}else z=C;let k=z.pathname||"/",A=k;if(S!=="/"){let R=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let O=y0(t,{pathname:A});Da(w||O!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Da(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=iS(O&&O.map(R=>Object.assign({},R,{params:Object.assign({},v,R.params),pathname:Qi([S,h.encodeLocation?h.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?S:Qi([S,h.encodeLocation?h.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),p,l,o,d);return a&&F?j.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},F):F}function eS(){let t=uS(),a=Bj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),l?j.createElement("pre",{style:d},l):null,p)}var tS=j.createElement(eS,null),T0=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=Gj(t.digest);l&&(t=l)}let a=t!==void 0?j.createElement(La.Provider,{value:this.props.routeContext},j.createElement(Of.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(nS,{error:t},a):a}};T0.contextType=Zj;var vm=new WeakMap;function nS({children:t,error:a}){let{basename:l}=j.useContext(va);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=Qj(a.digest);if(o){let d=vm.get(a);if(d)throw d;let h=b0(o.location,l);if(_0&&!vm.get(a))if(h.isExternal||o.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:o.replace}));throw vm.set(a,p),p}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return t}function aS({routeContext:t,match:a,children:l}){let o=j.useContext(Ol);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),j.createElement(La.Provider,{value:t},l)}function iS(t,a=[],l=null,o=null,d=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let h=t,p=l?.errors;if(p!=null){let S=h.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);$t(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,S+1))}let y=!1,v=-1;if(l)for(let S=0;S<h.length;S++){let w=h[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:C,errors:z}=l,k=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||k){y=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}let _=l&&o?(S,w)=>{o(S,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:Ij(l.matches),errorInfo:w})}:void 0;return h.reduceRight((S,w,C)=>{let z,k=!1,A=null,O=null;l&&(z=p&&w.route.id?p[w.route.id]:void 0,A=w.route.errorElement||tS,y&&(v<0&&C===0?(C0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,O=null):v===C&&(k=!0,O=w.route.hydrateFallbackElement||null)));let F=a.concat(h.slice(0,C+1)),R=()=>{let P;return z?P=A:k?P=O:w.route.Component?P=j.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=S,j.createElement(aS,{match:w,routeContext:{outlet:S,matches:F,isDataRoute:l!=null},children:P})};return l&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?j.createElement(T0,{location:l.location,revalidation:l.revalidation,component:A,error:z,children:R(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:_}):R()},null)}function Df(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(t){let a=j.useContext(Ol);return $t(a,Df(t)),a}function rS(t){let a=j.useContext(od);return $t(a,Df(t)),a}function lS(t){let a=j.useContext(La);return $t(a,Df(t)),a}function Rf(t){let a=lS(t),l=a.matches[a.matches.length-1];return $t(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function oS(){return Rf("useRouteId")}function uS(){let t=j.useContext(Of),a=rS("useRouteError"),l=Rf("useRouteError");return t!==void 0?t:a.errors?.[l]}function cS(){let{router:t}=sS("useNavigate"),a=Rf("useNavigate"),l=j.useRef(!1);return E0(()=>{l.current=!0}),j.useCallback(async(d,h={})=>{Da(l.current,w0),l.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:a,...h}))},[t,a])}var jx={};function C0(t,a,l){!a&&!jx[t]&&(jx[t]=!0,Da(!1,l))}j.memo(dS);function dS({routes:t,future:a,state:l,onError:o}){return k0(t,void 0,l,o,a)}function Lf({to:t,replace:a,state:l,relative:o}){$t(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=j.useContext(va);Da(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(La),{pathname:p}=Pa(),y=Rl(),v=Mf(t,zf(h),p,o==="path"),_=JSON.stringify(v);return j.useEffect(()=>{y(JSON.parse(_),{replace:a,state:l,relative:o})},[y,_,o,a,l]),null}function Pf(t){return Xj(t.context)}function Zt(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hS({basename:t="/",children:a=null,location:l,navigationType:o="POP",navigator:d,static:h=!1,unstable_useTransitions:p}){$t(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=t.replace(/^\/*/,"/"),v=j.useMemo(()=>({basename:y,navigator:d,static:h,unstable_useTransitions:p,future:{}}),[y,d,h,p]);typeof l=="string"&&(l=Ml(l));let{pathname:_="/",search:S="",hash:w="",state:C=null,key:z="default"}=l,k=j.useMemo(()=>{let A=Vi(_,y);return A==null?null:{location:{pathname:A,search:S,hash:w,state:C,key:z},navigationType:o}},[y,_,S,w,C,z,o]);return Da(k!=null,`<Router basename="${y}"> is not able to match the URL "${_}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(va.Provider,{value:v},j.createElement(tu.Provider,{children:a,value:k}))}function mS({children:t,location:a}){return Wj(cf(t),a)}function cf(t,a=[]){let l=[];return j.Children.forEach(t,(o,d)=>{if(!j.isValidElement(o))return;let h=[...a,d];if(o.type===j.Fragment){l.push.apply(l,cf(o.props.children,h));return}$t(o.type===Zt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=cf(o.props.children,h)),l.push(p)}),l}var Hc="get",Kc="application/x-www-form-urlencoded";function ud(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function fS(t){return ud(t)&&t.tagName.toLowerCase()==="button"}function pS(t){return ud(t)&&t.tagName.toLowerCase()==="form"}function gS(t){return ud(t)&&t.tagName.toLowerCase()==="input"}function yS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xS(t,a){return t.button===0&&(!a||a==="_self")&&!yS(t)}function df(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let o=t[l];return a.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function vS(t,a){let l=df(t);return a&&a.forEach((o,d)=>{l.has(d)||a.getAll(d).forEach(h=>{l.append(d,h)})}),l}var Tc=null;function _S(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var bS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(t){return t!=null&&!bS.has(t)?(Da(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):t}function NS(t,a){let l,o,d,h,p;if(pS(t)){let y=t.getAttribute("action");o=y?Vi(y,a):null,l=t.getAttribute("method")||Hc,d=_m(t.getAttribute("enctype"))||Kc,h=new FormData(t)}else if(fS(t)||gS(t)&&(t.type==="submit"||t.type==="image")){let y=t.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||y.getAttribute("action");if(o=v?Vi(v,a):null,l=t.getAttribute("formmethod")||y.getAttribute("method")||Hc,d=_m(t.getAttribute("formenctype"))||_m(y.getAttribute("enctype"))||Kc,h=new FormData(y,t),!_S()){let{name:_,type:S,value:w}=t;if(S==="image"){let C=_?`${_}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else _&&h.append(_,w)}}else{if(ud(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Hc,o=null,d=Kc,p=t}return h&&d==="text/plain"&&(p=h,h=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bf(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function jS(t,a,l,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:a&&Vi(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function SS(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ES(t,a,l){let o=await Promise.all(t.map(async d=>{let h=a.routes[d.route.id];if(h){let p=await SS(h,l);return p.links?p.links():[]}return[]}));return AS(o.flat(1).filter(wS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Sx(t,a,l,o,d,h){let p=(v,_)=>l[_]?v.route.id!==l[_].route.id:!0,y=(v,_)=>l[_].pathname!==v.pathname||l[_].route.path?.endsWith("*")&&l[_].params["*"]!==v.params["*"];return h==="assets"?a.filter((v,_)=>p(v,_)||y(v,_)):h==="data"?a.filter((v,_)=>{let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(p(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function kS(t,a,{includeHydrateFallback:l}={}){return TS(t.map(o=>{let d=a.routes[o.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function TS(t){return[...new Set(t)]}function CS(t){let a={},l=Object.keys(t).sort();for(let o of l)a[o]=t[o];return a}function AS(t,a){let l=new Set;return new Set(a),t.reduce((o,d)=>{let h=JSON.stringify(CS(d));return l.has(h)||(l.add(h),o.push({key:h,link:d})),o},[])}function A0(){let t=j.useContext(Ol);return Bf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zS(){let t=j.useContext(od);return Bf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var If=j.createContext(void 0);If.displayName="FrameworkContext";function z0(){let t=j.useContext(If);return Bf(t,"You must render this element inside a <HydratedRouter> element"),t}function MS(t,a){let l=j.useContext(If),[o,d]=j.useState(!1),[h,p]=j.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:S,onTouchStart:w}=a,C=j.useRef(null);j.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let A=F=>{F.forEach(R=>{p(R.isIntersecting)})},O=new IntersectionObserver(A,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[t]),j.useEffect(()=>{if(o){let A=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},k=()=>{d(!1),p(!1)};return l?t!=="intent"?[h,C,{}]:[h,C,{onFocus:qo(y,z),onBlur:qo(v,k),onMouseEnter:qo(_,z),onMouseLeave:qo(S,k),onTouchStart:qo(w,z)}]:[!1,C,{}]}function qo(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function OS({page:t,...a}){let{router:l}=A0(),o=j.useMemo(()=>y0(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?j.createElement(RS,{page:t,matches:o,...a}):null}function DS(t){let{manifest:a,routeModules:l}=z0(),[o,d]=j.useState([]);return j.useEffect(()=>{let h=!1;return ES(t,a,l).then(p=>{h||d(p)}),()=>{h=!0}},[t,a,l]),o}function RS({page:t,matches:a,...l}){let o=Pa(),{future:d,manifest:h,routeModules:p}=z0(),{basename:y}=A0(),{loaderData:v,matches:_}=zS(),S=j.useMemo(()=>Sx(t,a,_,h,o,"data"),[t,a,_,h,o]),w=j.useMemo(()=>Sx(t,a,_,h,o,"assets"),[t,a,_,h,o]),C=j.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,O=!1;if(a.forEach(R=>{let P=h.routes[R.route.id];!P||!P.hasLoader||(!S.some(Q=>Q.route.id===R.route.id)&&R.route.id in v&&p[R.route.id]?.shouldRevalidate||P.hasClientLoader?O=!0:A.add(R.route.id))}),A.size===0)return[];let F=jS(t,y,d.unstable_trailingSlashAwareDataRequests,"data");return O&&A.size>0&&F.searchParams.set("_routes",a.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[F.pathname+F.search]},[y,d.unstable_trailingSlashAwareDataRequests,v,o,h,S,a,t,p]),z=j.useMemo(()=>kS(w,h),[w,h]),k=DS(w);return j.createElement(j.Fragment,null,C.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),z.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),k.map(({key:A,link:O})=>j.createElement("link",{key:A,nonce:l.nonce,...O,crossOrigin:O.crossOrigin??l.crossOrigin})))}function LS(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PS&&(window.__reactRouterVersion="7.13.0")}catch{}function BS({basename:t,children:a,unstable_useTransitions:l,window:o}){let d=j.useRef();d.current==null&&(d.current=fj({window:o,v5Compat:!0}));let h=d.current,[p,y]=j.useState({action:h.action,location:h.location}),v=j.useCallback(_=>{l===!1?y(_):j.startTransition(()=>y(_))},[l]);return j.useLayoutEffect(()=>h.listen(v),[h,v]),j.createElement(hS,{basename:t,children:a,location:p.location,navigationType:p.action,navigator:h,unstable_useTransitions:l})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=j.forwardRef(function({onClick:a,discover:l="render",prefetch:o="none",relative:d,reloadDocument:h,replace:p,state:y,target:v,to:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k){let{basename:A,unstable_useTransitions:O}=j.useContext(va),F=typeof _=="string"&&M0.test(_),R=b0(_,A);_=R.to;let P=Vj(_,{relative:d}),[Q,$,V]=MS(o,z),G=ZS(_,{replace:p,state:y,target:v,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:C,unstable_useTransitions:O});function K(pe){a&&a(pe),pe.defaultPrevented||G(pe)}let ie=j.createElement("a",{...z,...V,href:R.absoluteURL||P,onClick:R.isExternal||h?a:K,ref:LS(k,$),target:v,"data-discover":!F&&l==="render"?"true":void 0});return Q&&!F?j.createElement(j.Fragment,null,ie,j.createElement(OS,{page:P})):ie});Wa.displayName="Link";var O0=j.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:o="",end:d=!1,style:h,to:p,viewTransition:y,children:v,..._},S){let w=nu(p,{relative:_.relative}),C=Pa(),z=j.useContext(od),{navigator:k,basename:A}=j.useContext(va),O=z!=null&&QS(w)&&y===!0,F=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,R=C.pathname,P=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;l||(R=R.toLowerCase(),P=P?P.toLowerCase():null,F=F.toLowerCase()),P&&A&&(P=Vi(P,A)||P);const Q=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let $=R===F||!d&&R.startsWith(F)&&R.charAt(Q)==="/",V=P!=null&&(P===F||!d&&P.startsWith(F)&&P.charAt(F.length)==="/"),G={isActive:$,isPending:V,isTransitioning:O},K=$?a:void 0,ie;typeof o=="function"?ie=o(G):ie=[o,$?"active":null,V?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let pe=typeof h=="function"?h(G):h;return j.createElement(Wa,{..._,"aria-current":K,className:ie,ref:S,style:pe,to:p,viewTransition:y},typeof v=="function"?v(G):v)});O0.displayName="NavLink";var IS=j.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:o,replace:d,state:h,method:p=Hc,action:y,onSubmit:v,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C,...z},k)=>{let{unstable_useTransitions:A}=j.useContext(va),O=HS(),F=KS(y,{relative:_}),R=p.toLowerCase()==="get"?"get":"post",P=typeof y=="string"&&M0.test(y),Q=$=>{if(v&&v($),$.defaultPrevented)return;$.preventDefault();let V=$.nativeEvent.submitter,G=V?.getAttribute("formmethod")||p,K=()=>O(V||$.currentTarget,{fetcherKey:a,method:G,navigate:l,replace:d,state:h,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:C});A&&l!==!1?j.startTransition(()=>K()):K()};return j.createElement("form",{ref:k,method:R,action:F,onSubmit:o?v:Q,...z,"data-discover":!P&&t==="render"?"true":void 0})});IS.displayName="Form";function US(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(t){let a=j.useContext(Ol);return $t(a,US(t)),a}function ZS(t,{target:a,replace:l,state:o,preventScrollReset:d,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let _=Rl(),S=Pa(),w=nu(t,{relative:h});return j.useCallback(C=>{if(xS(C,a)){C.preventDefault();let z=l!==void 0?l:$o(S)===$o(w),k=()=>_(t,{replace:z,state:o,preventScrollReset:d,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:y});v?j.startTransition(()=>k()):k()}},[S,_,w,l,o,a,t,d,h,p,y,v])}function Uf(t){Da(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=j.useRef(df(t)),l=j.useRef(!1),o=Pa(),d=j.useMemo(()=>vS(o.search,l.current?null:a.current),[o.search]),h=Rl(),p=j.useCallback((y,v)=>{const _=df(typeof y=="function"?y(new URLSearchParams(d)):y);l.current=!0,h("?"+_,v)},[h,d]);return[d,p]}var qS=0,FS=()=>`__${String(++qS)}__`;function HS(){let{router:t}=D0("useSubmit"),{basename:a}=j.useContext(va),l=oS(),o=t.fetch,d=t.navigate;return j.useCallback(async(h,p={})=>{let{action:y,method:v,encType:_,formData:S,body:w}=NS(h,a);if(p.navigate===!1){let C=p.fetcherKey||FS();await o(C,l,p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||_,flushSync:p.flushSync})}else await d(p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:w,formMethod:p.method||v,formEncType:p.encType||_,replace:p.replace,state:p.state,fromRouteId:l,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,a,l])}function KS(t,{relative:a}={}){let{basename:l}=j.useContext(va),o=j.useContext(La);$t(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),h={...nu(t||".",{relative:a})},p=Pa();if(t==null){h.search=p.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();h.search=S?`?${S}`:""}}return(!t||t===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(h.pathname=h.pathname==="/"?l:Qi([l,h.pathname])),$o(h)}function QS(t,{relative:a}={}){let l=j.useContext(j0);$t(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=D0("useViewTransitionState"),d=nu(t,{relative:a});if(!l.isTransitioning)return!1;let h=Vi(l.currentLocation.pathname,o)||l.currentLocation.pathname,p=Vi(l.nextLocation.pathname,o)||l.nextLocation.pathname;return Jc(d.pathname,p)!=null||Jc(d.pathname,h)!=null}const bi={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"};function R0(t,a){return function(){return t.apply(a,arguments)}}const{toString:GS}=Object.prototype,{getPrototypeOf:Zf}=Object,{iterator:cd,toStringTag:L0}=Symbol,dd=(t=>a=>{const l=GS.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ei=t=>(t=t.toLowerCase(),a=>dd(a)===t),hd=t=>a=>typeof a===t,{isArray:Ll}=Array,Al=hd("undefined");function au(t){return t!==null&&!Al(t)&&t.constructor!==null&&!Al(t.constructor)&&aa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const P0=ei("ArrayBuffer");function VS(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&P0(t.buffer),a}const YS=hd("string"),aa=hd("function"),B0=hd("number"),iu=t=>t!==null&&typeof t=="object",$S=t=>t===!0||t===!1,Qc=t=>{if(dd(t)!=="object")return!1;const a=Zf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(L0 in t)&&!(cd in t)},XS=t=>{if(!iu(t)||au(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},JS=ei("Date"),WS=ei("File"),ew=ei("Blob"),tw=ei("FileList"),nw=t=>iu(t)&&aa(t.pipe),aw=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||aa(t.append)&&((a=dd(t))==="formdata"||a==="object"&&aa(t.toString)&&t.toString()==="[object FormData]"))},iw=ei("URLSearchParams"),[sw,rw,lw,ow]=["ReadableStream","Request","Response","Headers"].map(ei),uw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Ll(t))for(o=0,d=t.length;o<d;o++)a.call(null,t[o],o,t);else{if(au(t))return;const h=l?Object.getOwnPropertyNames(t):Object.keys(t),p=h.length;let y;for(o=0;o<p;o++)y=h[o],a.call(null,t[y],y,t)}}function I0(t,a){if(au(t))return null;a=a.toLowerCase();const l=Object.keys(t);let o=l.length,d;for(;o-- >0;)if(d=l[o],a===d.toLowerCase())return d;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U0=t=>!Al(t)&&t!==Sr;function hf(){const{caseless:t,skipUndefined:a}=U0(this)&&this||{},l={},o=(d,h)=>{const p=t&&I0(l,h)||h;Qc(l[p])&&Qc(d)?l[p]=hf(l[p],d):Qc(d)?l[p]=hf({},d):Ll(d)?l[p]=d.slice():(!a||!Al(d))&&(l[p]=d)};for(let d=0,h=arguments.length;d<h;d++)arguments[d]&&su(arguments[d],o);return l}const cw=(t,a,l,{allOwnKeys:o}={})=>(su(a,(d,h)=>{l&&aa(d)?Object.defineProperty(t,h,{value:R0(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,h,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),dw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hw=(t,a,l,o)=>{t.prototype=Object.create(a.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},mw=(t,a,l,o)=>{let d,h,p;const y={};if(a=a||{},t==null)return a;do{for(d=Object.getOwnPropertyNames(t),h=d.length;h-- >0;)p=d[h],(!o||o(p,t,a))&&!y[p]&&(a[p]=t[p],y[p]=!0);t=l!==!1&&Zf(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},fw=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const o=t.indexOf(a,l);return o!==-1&&o===l},pw=t=>{if(!t)return null;if(Ll(t))return t;let a=t.length;if(!B0(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},gw=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Zf(Uint8Array)),yw=(t,a)=>{const o=(t&&t[cd]).call(t);let d;for(;(d=o.next())&&!d.done;){const h=d.value;a.call(t,h[0],h[1])}},xw=(t,a)=>{let l;const o=[];for(;(l=t.exec(a))!==null;)o.push(l);return o},vw=ei("HTMLFormElement"),_w=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),wx=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),bw=ei("RegExp"),Z0=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),o={};su(l,(d,h)=>{let p;(p=a(d,h,t))!==!1&&(o[h]=p||d)}),Object.defineProperties(t,o)},Nw=t=>{Z0(t,(a,l)=>{if(aa(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=t[l];if(aa(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},jw=(t,a)=>{const l={},o=d=>{d.forEach(h=>{l[h]=!0})};return Ll(t)?o(t):o(String(t).split(a)),l},Sw=()=>{},ww=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function Ew(t){return!!(t&&aa(t.append)&&t[L0]==="FormData"&&t[cd])}const kw=t=>{const a=new Array(10),l=(o,d)=>{if(iu(o)){if(a.indexOf(o)>=0)return;if(au(o))return o;if(!("toJSON"in o)){a[d]=o;const h=Ll(o)?[]:{};return su(o,(p,y)=>{const v=l(p,d+1);!Al(v)&&(h[y]=v)}),a[d]=void 0,h}}return o};return l(t,0)},Tw=ei("AsyncFunction"),Cw=t=>t&&(iu(t)||aa(t))&&aa(t.then)&&aa(t.catch),q0=((t,a)=>t?setImmediate:a?((l,o)=>(Sr.addEventListener("message",({source:d,data:h})=>{d===Sr&&h===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Sr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",aa(Sr.postMessage)),Aw=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||q0,zw=t=>t!=null&&aa(t[cd]),xe={isArray:Ll,isArrayBuffer:P0,isBuffer:au,isFormData:aw,isArrayBufferView:VS,isString:YS,isNumber:B0,isBoolean:$S,isObject:iu,isPlainObject:Qc,isEmptyObject:XS,isReadableStream:sw,isRequest:rw,isResponse:lw,isHeaders:ow,isUndefined:Al,isDate:JS,isFile:WS,isBlob:ew,isRegExp:bw,isFunction:aa,isStream:nw,isURLSearchParams:iw,isTypedArray:gw,isFileList:tw,forEach:su,merge:hf,extend:cw,trim:uw,stripBOM:dw,inherits:hw,toFlatObject:mw,kindOf:dd,kindOfTest:ei,endsWith:fw,toArray:pw,forEachEntry:yw,matchAll:xw,isHTMLForm:vw,hasOwnProperty:wx,hasOwnProp:wx,reduceDescriptors:Z0,freezeMethods:Nw,toObjectSet:jw,toCamelCase:_w,noop:Sw,toFiniteNumber:ww,findKey:I0,global:Sr,isContextDefined:U0,isSpecCompliantForm:Ew,toJSONObject:kw,isAsyncFn:Tw,isThenable:Cw,setImmediate:q0,asap:Aw,isIterable:zw};let Je=class F0 extends Error{static from(a,l,o,d,h,p){const y=new F0(a.message,l||a.code,o,d,h);return y.cause=a,y.name=a.name,p&&Object.assign(y,p),y}constructor(a,l,o,d,h){super(a),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),h&&(this.response=h,this.status=h.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}};Je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Je.ERR_BAD_OPTION="ERR_BAD_OPTION";Je.ECONNABORTED="ECONNABORTED";Je.ETIMEDOUT="ETIMEDOUT";Je.ERR_NETWORK="ERR_NETWORK";Je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Je.ERR_DEPRECATED="ERR_DEPRECATED";Je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Je.ERR_CANCELED="ERR_CANCELED";Je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Je.ERR_INVALID_URL="ERR_INVALID_URL";const Mw=null;function mf(t){return xe.isPlainObject(t)||xe.isArray(t)}function H0(t){return xe.endsWith(t,"[]")?t.slice(0,-2):t}function Ex(t,a,l){return t?t.concat(a).map(function(d,h){return d=H0(d),!l&&h?"["+d+"]":d}).join(l?".":""):a}function Ow(t){return xe.isArray(t)&&!t.some(mf)}const Dw=xe.toFlatObject(xe,{},null,function(a){return/^is[A-Z]/.test(a)});function md(t,a,l){if(!xe.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=xe.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,O){return!xe.isUndefined(O[A])});const o=l.metaTokens,d=l.visitor||S,h=l.dots,p=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(a);if(!xe.isFunction(d))throw new TypeError("visitor must be a function");function _(k){if(k===null)return"";if(xe.isDate(k))return k.toISOString();if(xe.isBoolean(k))return k.toString();if(!v&&xe.isBlob(k))throw new Je("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(k)||xe.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,O){let F=k;if(k&&!O&&typeof k=="object"){if(xe.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(xe.isArray(k)&&Ow(k)||(xe.isFileList(k)||xe.endsWith(A,"[]"))&&(F=xe.toArray(k)))return A=H0(A),F.forEach(function(P,Q){!(xe.isUndefined(P)||P===null)&&a.append(p===!0?Ex([A],Q,h):p===null?A:A+"[]",_(P))}),!1}return mf(k)?!0:(a.append(Ex(O,A,h),_(k)),!1)}const w=[],C=Object.assign(Dw,{defaultVisitor:S,convertValue:_,isVisitable:mf});function z(k,A){if(!xe.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),xe.forEach(k,function(F,R){(!(xe.isUndefined(F)||F===null)&&d.call(a,F,xe.isString(R)?R.trim():R,A,C))===!0&&z(F,A?A.concat(R):[R])}),w.pop()}}if(!xe.isObject(t))throw new TypeError("data must be an object");return z(t),a}function kx(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function qf(t,a){this._pairs=[],t&&md(t,this,a)}const K0=qf.prototype;K0.append=function(a,l){this._pairs.push([a,l])};K0.toString=function(a){const l=a?function(o){return a.call(this,o,kx)}:kx;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Rw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Q0(t,a,l){if(!a)return t;const o=l&&l.encode||Rw,d=xe.isFunction(l)?{serialize:l}:l,h=d&&d.serialize;let p;if(h?p=h(a,d):p=xe.isURLSearchParams(a)?a.toString():new qf(a,d).toString(o),p){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class Tx{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){xe.forEach(this.handlers,function(o){o!==null&&a(o)})}}const G0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lw=typeof URLSearchParams<"u"?URLSearchParams:qf,Pw=typeof FormData<"u"?FormData:null,Bw=typeof Blob<"u"?Blob:null,Iw={isBrowser:!0,classes:{URLSearchParams:Lw,FormData:Pw,Blob:Bw},protocols:["http","https","file","blob","url","data"]},Ff=typeof window<"u"&&typeof document<"u",ff=typeof navigator=="object"&&navigator||void 0,Uw=Ff&&(!ff||["ReactNative","NativeScript","NS"].indexOf(ff.product)<0),Zw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qw=Ff&&window.location.href||"http://localhost",Fw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ff,hasStandardBrowserEnv:Uw,hasStandardBrowserWebWorkerEnv:Zw,navigator:ff,origin:qw},Symbol.toStringTag,{value:"Module"})),In={...Fw,...Iw};function Hw(t,a){return md(t,new In.classes.URLSearchParams,{visitor:function(l,o,d,h){return In.isNode&&xe.isBuffer(l)?(this.append(o,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...a})}function Kw(t){return xe.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Qw(t){const a={},l=Object.keys(t);let o;const d=l.length;let h;for(o=0;o<d;o++)h=l[o],a[h]=t[h];return a}function V0(t){function a(l,o,d,h){let p=l[h++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),v=h>=l.length;return p=!p&&xe.isArray(d)?d.length:p,v?(xe.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!y):((!d[p]||!xe.isObject(d[p]))&&(d[p]=[]),a(l,o,d[p],h)&&xe.isArray(d[p])&&(d[p]=Qw(d[p])),!y)}if(xe.isFormData(t)&&xe.isFunction(t.entries)){const l={};return xe.forEachEntry(t,(o,d)=>{a(Kw(o),d,l,0)}),l}return null}function Gw(t,a,l){if(xe.isString(t))try{return(a||JSON.parse)(t),xe.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(t)}const ru={transitional:G0,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,h=xe.isObject(a);if(h&&xe.isHTMLForm(a)&&(a=new FormData(a)),xe.isFormData(a))return d?JSON.stringify(V0(a)):a;if(xe.isArrayBuffer(a)||xe.isBuffer(a)||xe.isStream(a)||xe.isFile(a)||xe.isBlob(a)||xe.isReadableStream(a))return a;if(xe.isArrayBufferView(a))return a.buffer;if(xe.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let y;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Hw(a,this.formSerializer).toString();if((y=xe.isFileList(a))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return md(y?{"files[]":a}:a,v&&new v,this.formSerializer)}}return h||d?(l.setContentType("application/json",!1),Gw(a)):a}],transformResponse:[function(a){const l=this.transitional||ru.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(xe.isResponse(a)||xe.isReadableStream(a))return a;if(a&&xe.isString(a)&&(o&&!this.responseType||d)){const p=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(y){if(p)throw y.name==="SyntaxError"?Je.from(y,Je.ERR_BAD_RESPONSE,this,null,this.response):y}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:In.classes.FormData,Blob:In.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],t=>{ru.headers[t]={}});const Vw=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yw=t=>{const a={};let l,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),l=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!l||a[l]&&Vw[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},Cx=Symbol("internals");function Fo(t){return t&&String(t).trim().toLowerCase()}function Gc(t){return t===!1||t==null?t:xe.isArray(t)?t.map(Gc):String(t)}function $w(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(t);)a[o[1]]=o[2];return a}const Xw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function bm(t,a,l,o,d){if(xe.isFunction(o))return o.call(this,a,l);if(d&&(a=l),!!xe.isString(a)){if(xe.isString(o))return a.indexOf(o)!==-1;if(xe.isRegExp(o))return o.test(a)}}function Jw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function Ww(t,a){const l=xe.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+l,{value:function(d,h,p){return this[o].call(this,a,d,h,p)},configurable:!0})})}let ia=class{constructor(a){a&&this.set(a)}set(a,l,o){const d=this;function h(y,v,_){const S=Fo(v);if(!S)throw new Error("header name must be a non-empty string");const w=xe.findKey(d,S);(!w||d[w]===void 0||_===!0||_===void 0&&d[w]!==!1)&&(d[w||v]=Gc(y))}const p=(y,v)=>xe.forEach(y,(_,S)=>h(_,S,v));if(xe.isPlainObject(a)||a instanceof this.constructor)p(a,l);else if(xe.isString(a)&&(a=a.trim())&&!Xw(a))p(Yw(a),l);else if(xe.isObject(a)&&xe.isIterable(a)){let y={},v,_;for(const S of a){if(!xe.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[_=S[0]]=(v=y[_])?xe.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}p(y,l)}else a!=null&&h(l,a,o);return this}get(a,l){if(a=Fo(a),a){const o=xe.findKey(this,a);if(o){const d=this[o];if(!l)return d;if(l===!0)return $w(d);if(xe.isFunction(l))return l.call(this,d,o);if(xe.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Fo(a),a){const o=xe.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||bm(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let d=!1;function h(p){if(p=Fo(p),p){const y=xe.findKey(o,p);y&&(!l||bm(o,o[y],y,l))&&(delete o[y],d=!0)}}return xe.isArray(a)?a.forEach(h):h(a),d}clear(a){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const h=l[o];(!a||bm(this,this[h],h,a,!0))&&(delete this[h],d=!0)}return d}normalize(a){const l=this,o={};return xe.forEach(this,(d,h)=>{const p=xe.findKey(o,h);if(p){l[p]=Gc(d),delete l[h];return}const y=a?Jw(h):String(h).trim();y!==h&&delete l[h],l[y]=Gc(d),o[y]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return xe.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=a&&xe.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[Cx]=this[Cx]={accessors:{}}).accessors,d=this.prototype;function h(p){const y=Fo(p);o[y]||(Ww(d,p),o[y]=!0)}return xe.isArray(a)?a.forEach(h):h(a),this}};ia.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(ia.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[l]=o}}});xe.freezeMethods(ia);function Nm(t,a){const l=this||ru,o=a||l,d=ia.from(o.headers);let h=o.data;return xe.forEach(t,function(y){h=y.call(l,h,d.normalize(),a?a.status:void 0)}),d.normalize(),h}function Y0(t){return!!(t&&t.__CANCEL__)}let lu=class extends Je{constructor(a,l,o){super(a??"canceled",Je.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function $0(t,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?t(l):a(new Je("Request failed with status code "+l.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function eE(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function tE(t,a){t=t||10;const l=new Array(t),o=new Array(t);let d=0,h=0,p;return a=a!==void 0?a:1e3,function(v){const _=Date.now(),S=o[h];p||(p=_),l[d]=v,o[d]=_;let w=h,C=0;for(;w!==d;)C+=l[w++],w=w%t;if(d=(d+1)%t,d===h&&(h=(h+1)%t),_-p<a)return;const z=S&&_-S;return z?Math.round(C*1e3/z):void 0}}function nE(t,a){let l=0,o=1e3/a,d,h;const p=(_,S=Date.now())=>{l=S,d=null,h&&(clearTimeout(h),h=null),t(..._)};return[(..._)=>{const S=Date.now(),w=S-l;w>=o?p(_,S):(d=_,h||(h=setTimeout(()=>{h=null,p(d)},o-w)))},()=>d&&p(d)]}const Wc=(t,a,l=3)=>{let o=0;const d=tE(50,250);return nE(h=>{const p=h.loaded,y=h.lengthComputable?h.total:void 0,v=p-o,_=d(v),S=p<=y;o=p;const w={loaded:p,total:y,progress:y?p/y:void 0,bytes:v,rate:_||void 0,estimated:_&&y&&S?(y-p)/_:void 0,event:h,lengthComputable:y!=null,[a?"download":"upload"]:!0};t(w)},l)},Ax=(t,a)=>{const l=t!=null;return[o=>a[0]({lengthComputable:l,total:t,loaded:o}),a[1]]},zx=t=>(...a)=>xe.asap(()=>t(...a)),aE=In.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,In.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(In.origin),In.navigator&&/(msie|trident)/i.test(In.navigator.userAgent)):()=>!0,iE=In.hasStandardBrowserEnv?{write(t,a,l,o,d,h,p){if(typeof document>"u")return;const y=[`${t}=${encodeURIComponent(a)}`];xe.isNumber(l)&&y.push(`expires=${new Date(l).toUTCString()}`),xe.isString(o)&&y.push(`path=${o}`),xe.isString(d)&&y.push(`domain=${d}`),h===!0&&y.push("secure"),xe.isString(p)&&y.push(`SameSite=${p}`),document.cookie=y.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rE(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function X0(t,a,l){let o=!sE(a);return t&&(o||l==!1)?rE(t,a):a}const Mx=t=>t instanceof ia?{...t}:t;function Tr(t,a){a=a||{};const l={};function o(_,S,w,C){return xe.isPlainObject(_)&&xe.isPlainObject(S)?xe.merge.call({caseless:C},_,S):xe.isPlainObject(S)?xe.merge({},S):xe.isArray(S)?S.slice():S}function d(_,S,w,C){if(xe.isUndefined(S)){if(!xe.isUndefined(_))return o(void 0,_,w,C)}else return o(_,S,w,C)}function h(_,S){if(!xe.isUndefined(S))return o(void 0,S)}function p(_,S){if(xe.isUndefined(S)){if(!xe.isUndefined(_))return o(void 0,_)}else return o(void 0,S)}function y(_,S,w){if(w in a)return o(_,S);if(w in t)return o(void 0,_)}const v={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(_,S,w)=>d(Mx(_),Mx(S),w,!0)};return xe.forEach(Object.keys({...t,...a}),function(S){const w=v[S]||d,C=w(t[S],a[S],S);xe.isUndefined(C)&&w!==y||(l[S]=C)}),l}const J0=t=>{const a=Tr({},t);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:h,headers:p,auth:y}=a;if(a.headers=p=ia.from(p),a.url=Q0(X0(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),xe.isFormData(l)){if(In.hasStandardBrowserEnv||In.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(xe.isFunction(l.getHeaders)){const v=l.getHeaders(),_=["content-type","content-length"];Object.entries(v).forEach(([S,w])=>{_.includes(S.toLowerCase())&&p.set(S,w)})}}if(In.hasStandardBrowserEnv&&(o&&xe.isFunction(o)&&(o=o(a)),o||o!==!1&&aE(a.url))){const v=d&&h&&iE.read(h);v&&p.set(d,v)}return a},lE=typeof XMLHttpRequest<"u",oE=lE&&function(t){return new Promise(function(l,o){const d=J0(t);let h=d.data;const p=ia.from(d.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:_}=d,S,w,C,z,k;function A(){z&&z(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let O=new XMLHttpRequest;O.open(d.method.toUpperCase(),d.url,!0),O.timeout=d.timeout;function F(){if(!O)return;const P=ia.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),$={data:!y||y==="text"||y==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:P,config:t,request:O};$0(function(G){l(G),A()},function(G){o(G),A()},$),O=null}"onloadend"in O?O.onloadend=F:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(F)},O.onabort=function(){O&&(o(new Je("Request aborted",Je.ECONNABORTED,t,O)),O=null)},O.onerror=function(Q){const $=Q&&Q.message?Q.message:"Network Error",V=new Je($,Je.ERR_NETWORK,t,O);V.event=Q||null,o(V),O=null},O.ontimeout=function(){let Q=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const $=d.transitional||G0;d.timeoutErrorMessage&&(Q=d.timeoutErrorMessage),o(new Je(Q,$.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,O)),O=null},h===void 0&&p.setContentType(null),"setRequestHeader"in O&&xe.forEach(p.toJSON(),function(Q,$){O.setRequestHeader($,Q)}),xe.isUndefined(d.withCredentials)||(O.withCredentials=!!d.withCredentials),y&&y!=="json"&&(O.responseType=d.responseType),_&&([C,k]=Wc(_,!0),O.addEventListener("progress",C)),v&&O.upload&&([w,z]=Wc(v),O.upload.addEventListener("progress",w),O.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(S=P=>{O&&(o(!P||P.type?new lu(null,t,O):P),O.abort(),O=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const R=eE(d.url);if(R&&In.protocols.indexOf(R)===-1){o(new Je("Unsupported protocol "+R+":",Je.ERR_BAD_REQUEST,t));return}O.send(h||null)})},uE=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let o=new AbortController,d;const h=function(_){if(!d){d=!0,y();const S=_ instanceof Error?_:this.reason;o.abort(S instanceof Je?S:new lu(S instanceof Error?S.message:S))}};let p=a&&setTimeout(()=>{p=null,h(new Je(`timeout of ${a}ms exceeded`,Je.ETIMEDOUT))},a);const y=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(h):_.removeEventListener("abort",h)}),t=null)};t.forEach(_=>_.addEventListener("abort",h));const{signal:v}=o;return v.unsubscribe=()=>xe.asap(y),v}},cE=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let o=0,d;for(;o<l;)d=o+a,yield t.slice(o,d),o=d},dE=async function*(t,a){for await(const l of hE(t))yield*cE(l,a)},hE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},Ox=(t,a,l,o)=>{const d=dE(t,a);let h=0,p,y=v=>{p||(p=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:_,value:S}=await d.next();if(_){y(),v.close();return}let w=S.byteLength;if(l){let C=h+=w;l(C)}v.enqueue(new Uint8Array(S))}catch(_){throw y(_),_}},cancel(v){return y(v),d.return()}},{highWaterMark:2})},Dx=64*1024,{isFunction:Cc}=xe,mE=(({Request:t,Response:a})=>({Request:t,Response:a}))(xe.global),{ReadableStream:Rx,TextEncoder:Lx}=xe.global,Px=(t,...a)=>{try{return!!t(...a)}catch{return!1}},fE=t=>{t=xe.merge.call({skipUndefined:!0},mE,t);const{fetch:a,Request:l,Response:o}=t,d=a?Cc(a):typeof fetch=="function",h=Cc(l),p=Cc(o);if(!d)return!1;const y=d&&Cc(Rx),v=d&&(typeof Lx=="function"?(k=>A=>k.encode(A))(new Lx):async k=>new Uint8Array(await new l(k).arrayBuffer())),_=h&&y&&Px(()=>{let k=!1;const A=new l(In.origin,{body:new Rx,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=p&&y&&Px(()=>xe.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,O)=>{let F=A&&A[k];if(F)return F.call(A);throw new Je(`Response type '${k}' is not supported`,Je.ERR_NOT_SUPPORT,O)})});const C=async k=>{if(k==null)return 0;if(xe.isBlob(k))return k.size;if(xe.isSpecCompliantForm(k))return(await new l(In.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(k)||xe.isArrayBuffer(k))return k.byteLength;if(xe.isURLSearchParams(k)&&(k=k+""),xe.isString(k))return(await v(k)).byteLength},z=async(k,A)=>{const O=xe.toFiniteNumber(k.getContentLength());return O??C(A)};return async k=>{let{url:A,method:O,data:F,signal:R,cancelToken:P,timeout:Q,onDownloadProgress:$,onUploadProgress:V,responseType:G,headers:K,withCredentials:ie="same-origin",fetchOptions:pe}=J0(k),ee=a||fetch;G=G?(G+"").toLowerCase():"text";let oe=uE([R,P&&P.toAbortSignal()],Q),ue=null;const U=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let le;try{if(V&&_&&O!=="get"&&O!=="head"&&(le=await z(K,F))!==0){let M=new l(A,{method:"POST",body:F,duplex:"half"}),ne;if(xe.isFormData(F)&&(ne=M.headers.get("content-type"))&&K.setContentType(ne),M.body){const[D,q]=Ax(le,Wc(zx(V)));F=Ox(M.body,Dx,D,q)}}xe.isString(ie)||(ie=ie?"include":"omit");const Z=h&&"credentials"in l.prototype,se={...pe,signal:oe,method:O.toUpperCase(),headers:K.normalize().toJSON(),body:F,duplex:"half",credentials:Z?ie:void 0};ue=h&&new l(A,se);let ce=await(h?ee(ue,pe):ee(A,se));const Te=S&&(G==="stream"||G==="response");if(S&&($||Te&&U)){const M={};["status","statusText","headers"].forEach(ge=>{M[ge]=ce[ge]});const ne=xe.toFiniteNumber(ce.headers.get("content-length")),[D,q]=$&&Ax(ne,Wc(zx($),!0))||[];ce=new o(Ox(ce.body,Dx,D,()=>{q&&q(),U&&U()}),M)}G=G||"text";let W=await w[xe.findKey(w,G)||"text"](ce,k);return!Te&&U&&U(),await new Promise((M,ne)=>{$0(M,ne,{data:W,headers:ia.from(ce.headers),status:ce.status,statusText:ce.statusText,config:k,request:ue})})}catch(Z){throw U&&U(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,k,ue),{cause:Z.cause||Z}):Je.from(Z,Z&&Z.code,k,ue)}}},pE=new Map,W0=t=>{let a=t&&t.env||{};const{fetch:l,Request:o,Response:d}=a,h=[o,d,l];let p=h.length,y=p,v,_,S=pE;for(;y--;)v=h[y],_=S.get(v),_===void 0&&S.set(v,_=y?new Map:fE(a)),S=_;return _};W0();const Hf={http:Mw,xhr:oE,fetch:{get:W0}};xe.forEach(Hf,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Bx=t=>`- ${t}`,gE=t=>xe.isFunction(t)||t===null||t===!1;function yE(t,a){t=xe.isArray(t)?t:[t];const{length:l}=t;let o,d;const h={};for(let p=0;p<l;p++){o=t[p];let y;if(d=o,!gE(o)&&(d=Hf[(y=String(o)).toLowerCase()],d===void 0))throw new Je(`Unknown adapter '${y}'`);if(d&&(xe.isFunction(d)||(d=d.get(a))))break;h[y||"#"+p]=d}if(!d){const p=Object.entries(h).map(([v,_])=>`adapter ${v} `+(_===!1?"is not supported by the environment":"is not available in the build"));let y=l?p.length>1?`since :
`+p.map(Bx).join(`
`):" "+Bx(p[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d}const e_={getAdapter:yE,adapters:Hf};function jm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lu(null,t)}function Ix(t){return jm(t),t.headers=ia.from(t.headers),t.data=Nm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),e_.getAdapter(t.adapter||ru.adapter,t)(t).then(function(o){return jm(t),o.data=Nm.call(t,t.transformResponse,o),o.headers=ia.from(o.headers),o},function(o){return Y0(o)||(jm(t),o&&o.response&&(o.response.data=Nm.call(t,t.transformResponse,o.response),o.response.headers=ia.from(o.response.headers))),Promise.reject(o)})}const t_="1.13.4",fd={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{fd[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Ux={};fd.transitional=function(a,l,o){function d(h,p){return"[Axios v"+t_+"] Transitional option '"+h+"'"+p+(o?". "+o:"")}return(h,p,y)=>{if(a===!1)throw new Je(d(p," has been removed"+(l?" in "+l:"")),Je.ERR_DEPRECATED);return l&&!Ux[p]&&(Ux[p]=!0,console.warn(d(p," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(h,p,y):!0}};fd.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function xE(t,a,l){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const h=o[d],p=a[h];if(p){const y=t[h],v=y===void 0||p(y,h,t);if(v!==!0)throw new Je("option "+h+" must be "+v,Je.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Je("Unknown option "+h,Je.ERR_BAD_OPTION)}}const Vc={assertOptions:xE,validators:fd},xi=Vc.validators;let wr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Tx,response:new Tx}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Tr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:h}=l;o!==void 0&&Vc.assertOptions(o,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),d!=null&&(xe.isFunction(d)?l.paramsSerializer={serialize:d}:Vc.assertOptions(d,{encode:xi.function,serialize:xi.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Vc.assertOptions(l,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=h&&xe.merge(h.common,h[l.method]);h&&xe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete h[k]}),l.headers=ia.concat(p,h);const y=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,y.unshift(A.fulfilled,A.rejected))});const _=[];this.interceptors.response.forEach(function(A){_.push(A.fulfilled,A.rejected)});let S,w=0,C;if(!v){const k=[Ix.bind(this),void 0];for(k.unshift(...y),k.push(..._),C=k.length,S=Promise.resolve(l);w<C;)S=S.then(k[w++],k[w++]);return S}C=y.length;let z=l;for(;w<C;){const k=y[w++],A=y[w++];try{z=k(z)}catch(O){A.call(this,O);break}}try{S=Ix.call(this,z)}catch(k){return Promise.reject(k)}for(w=0,C=_.length;w<C;)S=S.then(_[w++],_[w++]);return S}getUri(a){a=Tr(this.defaults,a);const l=X0(a.baseURL,a.url,a.allowAbsoluteUrls);return Q0(l,a.params,a.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(a){wr.prototype[a]=function(l,o){return this.request(Tr(o||{},{method:a,url:l,data:(o||{}).data}))}});xe.forEach(["post","put","patch"],function(a){function l(o){return function(h,p,y){return this.request(Tr(y||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}wr.prototype[a]=l(),wr.prototype[a+"Form"]=l(!0)});let vE=class n_{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(h){l=h});const o=this;this.promise.then(d=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](d);o._listeners=null}),this.promise.then=d=>{let h;const p=new Promise(y=>{o.subscribe(y),h=y}).then(d);return p.cancel=function(){o.unsubscribe(h)},p},a(function(h,p,y){o.reason||(o.reason=new lu(h,p,y),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new n_(function(d){a=d}),cancel:a}}};function _E(t){return function(l){return t.apply(null,l)}}function bE(t){return xe.isObject(t)&&t.isAxiosError===!0}const pf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pf).forEach(([t,a])=>{pf[a]=t});function a_(t){const a=new wr(t),l=R0(wr.prototype.request,a);return xe.extend(l,wr.prototype,a,{allOwnKeys:!0}),xe.extend(l,a,null,{allOwnKeys:!0}),l.create=function(d){return a_(Tr(t,d))},l}const Ht=a_(ru);Ht.Axios=wr;Ht.CanceledError=lu;Ht.CancelToken=vE;Ht.isCancel=Y0;Ht.VERSION=t_;Ht.toFormData=md;Ht.AxiosError=Je;Ht.Cancel=Ht.CanceledError;Ht.all=function(a){return Promise.all(a)};Ht.spread=_E;Ht.isAxiosError=bE;Ht.mergeConfig=Tr;Ht.AxiosHeaders=ia;Ht.formToJSON=t=>V0(xe.isHTMLForm(t)?new FormData(t):t);Ht.getAdapter=e_.getAdapter;Ht.HttpStatusCode=pf;Ht.default=Ht;const{Axios:MM,AxiosError:OM,CanceledError:DM,isCancel:RM,CancelToken:LM,VERSION:PM,all:BM,Cancel:IM,isAxiosError:UM,spread:ZM,toFormData:qM,AxiosHeaders:FM,HttpStatusCode:HM,formToJSON:KM,getAdapter:QM,mergeConfig:GM}=Ht,Kf="puantaj_access_token",ed="puantaj_refresh_token";function i_(){return localStorage.getItem(Kf)}function gf(){return localStorage.getItem(ed)}function yf(t,a){if(localStorage.setItem(Kf,t),a){localStorage.setItem(ed,a);return}localStorage.removeItem(ed)}function s_(){localStorage.removeItem(Kf),localStorage.removeItem(ed)}function NE(t){try{const a=t.split(".")[1];if(!a)return null;const l=a.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function jE(t){if(!t)return!1;const a=NE(t);if(!a?.exp)return!1;const l=Math.floor(Date.now()/1e3);return a.exp>l+10}const xf="http://127.0.0.1:8000",SE=xf.includes("127.0.0.1")||xf.includes("localhost"),wE=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Qf=wE&&SE?window.location.origin:xf,Sm="/admin-panel/",Ac=Sm.endsWith("/")?Sm.slice(0,-1):Sm,Me=Ht.create({baseURL:Qf,headers:{"Content-Type":"application/json"}}),EE=Ht.create({baseURL:Qf,headers:{"Content-Type":"application/json"}});function Zx(){if(s_(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,a=Ac&&t.startsWith(Ac)?t.slice(Ac.length)||"/":t;if(a==="/login"||a.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Ac}/login?redirect=${encodeURIComponent(a)}`;window.location.replace(l)}Me.interceptors.request.use(t=>{const a=i_();return a&&(t.headers.Authorization=`Bearer ${a}`),t});let zc=null;async function kE(){const t=gf();if(!t)return Zx(),null;try{const a=await Ht.post(`${Qf}/api/admin/auth/refresh`,{refresh_token:t});return yf(a.data.access_token,a.data.refresh_token??t),a.data.access_token}catch{return Zx(),null}}Me.interceptors.response.use(t=>t,async t=>{const a=t.config;if(!a||t.response?.status!==401||a._retry)return Promise.reject(t);const o=a.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);a._retry=!0,zc||(zc=kE().finally(()=>{zc=null}));const h=await zc;return h?(a.headers.Authorization=`Bearer ${h}`,Me(a)):Promise.reject(t)});async function TE(t){return(await Me.post("/api/admin/auth/login",t)).data}async function CE(t){return(await Me.post("/api/admin/auth/refresh",t)).data}async function AE(t){return(await Me.post("/api/admin/auth/logout",t)).data}async function wm(){return(await Me.get("/api/admin/auth/me")).data}async function r_(){return(await Me.get("/api/admin/admin-users")).data}async function pd(t){return(await Me.get("/api/admin/regions",{params:t})).data}async function zE(t){return(await Me.post("/api/admin/regions",t)).data}async function ME(t,a){return(await Me.patch(`/api/admin/regions/${t}`,a)).data}async function OE(t){return(await Me.post("/api/admin/admin-users",t)).data}async function DE(t,a){return(await Me.patch(`/api/admin/admin-users/${t}`,a)).data}async function RE(t){await Me.delete(`/api/admin/admin-users/${t}`)}async function Rs(){return(await Me.get("/admin/departments")).data}async function LE(t){return(await Me.get("/admin/departments",{params:t})).data}async function PE(t){return(await Me.post("/admin/departments",t)).data}async function BE(t,a){return(await Me.patch(`/admin/departments/${t}`,a)).data}async function ti(t={}){return(await Me.get("/admin/employees",{params:t})).data}async function IE(t){return(await Me.post("/admin/employees",t)).data}async function UE(t){return(await Me.get(`/api/admin/employees/${t}/detail`)).data}async function ZE(t,a){return(await Me.patch(`/api/admin/employees/${t}`,a)).data}async function l_(t,a){return(await Me.patch(`/api/admin/employees/${t}/active`,a)).data}async function qE(t,a){return(await Me.patch(`/api/admin/employees/${t}/shift`,a)).data}async function FE(t,a){return(await Me.patch(`/api/admin/employees/${t}/department`,a)).data}async function HE(t,a){return(await Me.put(`/admin/employee-locations/${t}`,a)).data}async function KE(){return(await Me.get("/admin/work-rules")).data}async function QE(t){return(await Me.post("/admin/work-rules",t)).data}async function o_(t){return(await Me.get("/admin/department-weekly-rules",{params:t})).data}async function u_(t){return(await Me.post("/admin/department-weekly-rules",t)).data}async function ou(t){return(await Me.get("/admin/department-shifts",{params:t})).data}async function td(t){return(await Me.post("/admin/department-shifts",t)).data}async function c_(t){return(await Me.delete(`/admin/department-shifts/${t}`)).data}async function GE(t={}){return(await Me.get("/api/admin/qr/codes",{params:t})).data}async function VE(t){return(await Me.post("/api/admin/qr/codes",t)).data}async function YE(t,a){return(await Me.patch(`/api/admin/qr/codes/${t}`,a)).data}async function $E(t,a){return(await Me.post(`/api/admin/qr/codes/${t}/points`,a)).data}async function XE(t,a){return(await Me.delete(`/api/admin/qr/codes/${t}/points/${a}`)).data}async function JE(t={}){return(await Me.get("/api/admin/qr/points",{params:t})).data}async function WE(t){return(await Me.post("/api/admin/qr/points",t)).data}async function e2(t,a){return(await Me.patch(`/api/admin/qr/points/${t}`,a)).data}async function t2(t){return(await Me.delete(`/api/admin/qr/points/${t}`)).data}async function qx(t){return(await Me.post("/api/admin/schedule-plans",t)).data}async function n2(t={}){return(await Me.get("/api/admin/schedule-plans",{params:t})).data}async function a2(t){return(await Me.delete(`/api/admin/schedule-plans/${t}`)).data}async function Gf(t={}){return(await Me.get("/admin/attendance-events",{params:t})).data}async function i2(t){return(await Me.post("/api/admin/attendance-events",t)).data}async function s2(t,a){return(await Me.patch(`/api/admin/attendance-events/${t}`,a)).data}async function r2(t,a=!1){return(await Me.delete(`/api/admin/attendance-events/${t}`,{params:{force:a}})).data}async function d_(t={}){return(await Me.get("/api/admin/audit-logs",{params:t})).data}async function l2(t={}){return(await Me.get("/api/admin/notifications/jobs",{params:t})).data}async function o2(t={}){return(await Me.get("/api/admin/notifications/delivery-logs",{params:t})).data}async function u2(t){return(await Me.post(`/api/admin/notifications/jobs/${t}/cancel`)).data}async function c2(t={}){return(await Me.get("/api/admin/notifications/subscriptions",{params:t})).data}async function d2(t={}){return(await Me.get("/api/admin/notifications/admin-subscriptions",{params:t})).data}async function h_(){return(await Me.get("/api/admin/notifications/push/config")).data}async function h2(t){return(await Me.post("/api/admin/notifications/admin-device-invite",t)).data}async function m2(t){return(await Me.post("/api/admin/notifications/admin-device-claim",t)).data}async function m_(t){return(await Me.post("/api/admin/notifications/send",t)).data}async function f2(t={}){return(await Me.get("/api/admin/daily-report-archives",{params:t})).data}function p2(t){if(!t)return null;const a=t.match(/filename\*=UTF-8''([^;]+)/i);if(a?.[1])try{return decodeURIComponent(a[1].trim())}catch{return a[1].trim()}const l=t.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function g2(t){return(await Me.get(`/api/admin/daily-report-archives/${t}/download`,{responseType:"blob"})).data}async function y2(t,a){const l=await EE.post(`/api/admin/daily-report-archives/${t}/password-download`,a,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:p2(o)}}async function x2(t,a={}){return(await Me.post(`/api/admin/daily-report-archives/${t}/notify`,a)).data}async function f_(){return(await Me.get("/admin/devices")).data}async function vf(t={}){return(await Me.get("/api/admin/employee-device-overview",{params:t})).data}async function p_(t){return(await Me.get("/api/admin/dashboard/employee-snapshot",{params:t})).data}async function v2(t,a){return(await Me.patch(`/api/admin/devices/${t}/active`,a)).data}async function g_(t={}){return(await Me.get("/api/admin/leaves",{params:t})).data}async function _2(t){return(await Me.post("/api/admin/leaves",t)).data}async function b2(t){await Me.delete(`/api/admin/leaves/${t}`)}async function y_(t){return(await Me.post("/api/admin/device-invite",t)).data}async function Xo(t){return(await Me.get("/api/admin/monthly/employee",{params:t})).data}async function N2(t){return(await Me.get("/api/admin/monthly/department-summary",{params:t})).data}async function j2(t,a){return(await Me.post("/api/admin/manual-overrides/day",a,{params:{employee_id:t}})).data}async function S2(t,a,l){return(await Me.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:a,month:l}})).data}async function w2(t){await Me.delete(`/api/admin/manual-overrides/day/${t}`)}async function E2(){return(await Me.get("/api/admin/compliance-settings")).data}async function k2(t){return(await Me.put("/api/admin/compliance-settings",t)).data}async function T2(t){return(await Me.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function C2(t){return(await Me.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function A2(t){return(await Me.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function z2(t){return(await Me.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function M2(t){return(await Me.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const x_=j.createContext(void 0);function O2({children:t}){const[a,l]=j.useState(null),[o,d]=j.useState(!0),h=j.useCallback(()=>{s_(),l(null)},[]),p=j.useCallback(async()=>{const w=gf();if(!w)return h(),!1;try{const C=await CE({refresh_token:w});yf(C.access_token,C.refresh_token??w);const z=await wm();return l(z),!0}catch{return h(),!1}},[h]),y=j.useCallback(async()=>{const w=i_();if(!w){l(null),d(!1);return}if(jE(w)){try{const C=await wm();l(C)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);j.useEffect(()=>{y()},[y]),j.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=j.useCallback(async(w,C)=>{const z=await TE({username:w,password:C});yf(z.access_token,z.refresh_token);const k=await wm();l(k)},[]),_=j.useCallback(async()=>{const w=gf();if(w)try{await AE({refresh_token:w})}catch{}h()},[h]),S=j.useMemo(()=>({user:a,isAuthenticated:!!a,isBootstrapping:o,isSuperAdmin:!!a?.is_super_admin,login:v,logout:_,refreshSession:p,hasPermission:(w,C="read")=>{if(!a)return!1;if(a.is_super_admin)return!0;const z=a.permissions?.[w];return z?C==="write"?!!z.write:!!(z.read||z.write):!1}}),[a,o,v,_,p]);return i.jsx(x_.Provider,{value:S,children:t})}function Pl(){const t=j.useContext(x_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const D2=[{to:"/management-console",label:"Ynetim Konsolu"},{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Blgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],R2={"/management-console":"Ynetim Konsolu","/dashboard":"Genel Bak","/regions":"Blgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function L2(){const t=Pa(),{user:a,logout:l,hasPermission:o}=Pl(),d=j.useRef(null),h=j.useRef(null),p=j.useRef(!1),y=j.useRef(null),[v,_]=j.useState(!1),[S,w]=j.useState("erie geiliyor..."),C=D2.filter(P=>!P.permission||o(P.permission)),z=R2[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel"),k=()=>typeof window<"u"&&window.innerWidth<1024,A=()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},O=(P,Q)=>{w(Q),_(!0),P==="content"?h.current?.scrollIntoView({behavior:"smooth",block:"start"}):d.current?.scrollIntoView({behavior:"smooth",block:"start"}),A(),y.current=window.setTimeout(()=>{_(!1)},1200)},F=P=>{if(k()){if(t.pathname===P){window.requestAnimationFrame(()=>{O("content","erie geiliyor...")});return}w("erie geiliyor..."),_(!0),p.current=!0}},R=()=>{k()&&window.requestAnimationFrame(()=>{O("sidebar","Sidebar'a dnlyor...")})};return j.useEffect(()=>{k()&&window.scrollTo({top:0})},[]),j.useEffect(()=>{p.current&&(p.current=!1,window.requestAnimationFrame(()=>{O("content","erie geiliyor...")}))},[t.pathname]),j.useEffect(()=>()=>{A()},[]),i.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[v?i.jsxs("div",{className:"mobile-nav-loader lg:hidden",role:"status","aria-live":"polite","aria-label":"Sayfa geii",children:[i.jsxs("div",{className:"mobile-nav-loader-logo","aria-hidden":"true",children:[i.jsx("div",{className:"mobile-nav-loader-halo"}),i.jsx("div",{className:"mobile-nav-loader-ring"}),i.jsx("div",{className:"mobile-nav-loader-spark"}),i.jsxs("div",{className:"mobile-nav-loader-core",children:[i.jsx("span",{className:"mobile-nav-loader-brand",children:"YABUJIN"}),i.jsx("span",{className:"mobile-nav-loader-sub",children:"CONTROL CORE"})]})]}),i.jsx("p",{className:"mobile-nav-loader-text",children:S})]}):null,i.jsxs("aside",{ref:d,className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[i.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),i.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),i.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:C.map(P=>i.jsx(O0,{to:P.to,onClick:()=>F(P.to),className:({isActive:Q})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${Q?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:P.label},P.to))}),i.jsxs("div",{className:"admin-signature",children:[i.jsx("p",{className:"admin-signature-main",children:bi.signatureText}),i.jsx("p",{className:"admin-signature-sub",children:bi.signatureTagline})]})]}),i.jsxs("div",{ref:h,className:"flex min-h-screen flex-col",children:[i.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-4 py-4 backdrop-blur sm:px-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:z}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",a?.username??a?.sub??"admin"," / Rol: ",a?.role??"admin"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:R,className:"btn-animated rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100 lg:hidden",children:"Sidebar'a Git"}),i.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})]})}),i.jsx("main",{className:"admin-main flex-1 p-4 sm:p-6",children:i.jsx(Pf,{})}),i.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[i.jsx("span",{className:"admin-footer-brand",children:bi.signatureText}),i.jsx("span",{className:"admin-footer-sub",children:bi.signatureTagline}),i.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",bi.buildVersion]})]})]})]})}function P2(){const{isAuthenticated:t,isBootstrapping:a}=Pl(),l=Pa();if(a)return i.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${l.pathname}${l.search}`;return i.jsx(Lf,{to:"/login",replace:!0,state:{from:o}})}return i.jsx(Pf,{})}function B2(){const{isAuthenticated:t,isBootstrapping:a}=Pl();return a?i.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?i.jsx(Lf,{to:"/dashboard",replace:!0}):i.jsx(Pf,{})}const Fx={INVALID_CREDENTIALS:"Kullanc adi veya ifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giri yapin.",FORBIDDEN:"Bu islem iin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin."};function Ie(t,a){if(Ht.isAxiosError(t)){const l=t.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,h=l?.error?.message;if(o&&Fx[o])return{code:o,requestId:d,message:Fx[o]};if(h)return{code:o,requestId:d,message:h};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:a}}function I2(t,a){return Ie(t,a).message}function U2(t){const a="=".repeat((4-t.length%4)%4),l=`${t}${a}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let h=0;h<o.length;h+=1)d[h]=o.charCodeAt(h);return d}const Hx="pf_admin_push_vapid_public_key";function Z2(){const t=Rl(),[a]=Uf(),{login:l}=Pl(),o=j.useMemo(()=>a.get("token")?.trim()??"",[a]),[d,h]=j.useState("admin"),[p,y]=j.useState(""),[v,_]=j.useState(!1),[S,w]=j.useState(null),[C,z]=j.useState(null),[k,A]=j.useState(null),O=async F=>{if(F.preventDefault(),z(null),A(null),w(null),!o){z("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const R=d.trim(),P=p.trim();if(!R||!P){z("Admin kullanc ad ve ifre zorunludur.");return}try{_(!0),await l(R,P);const Q=await h_();if(!Q.enabled||!Q.vapid_public_key){z("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){z("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){z("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const G=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let K=await G.pushManager.getSubscription();const ie=window.localStorage.getItem(Hx);if(K&&ie&&ie!==Q.vapid_public_key){try{await K.unsubscribe()}catch{}K=null}K||(K=await G.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:U2(Q.vapid_public_key)})),await m2({token:o,subscription:K.toJSON()}),window.localStorage.setItem(Hx,Q.vapid_public_key),w("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{t("/notifications",{replace:!0})},1e3)}catch(Q){const $=Ie(Q,"Cihaz balama ilemi baarsz oldu.");z($.message),A($.requestId??null)}finally{_(!1)}};return i.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[i.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),i.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),i.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",o||"Bulunamad"]}),i.jsxs("form",{className:"mt-4 space-y-3",onSubmit:O,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",i.jsx("input",{value:d,onChange:F=>h(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",i.jsx("input",{type:"password",value:p,onChange:F=>y(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),C?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[i.jsx("p",{children:C}),k?i.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",k]}):null]}):null,S?i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:S}):null,i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"submit",disabled:v,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:v?"Balanyor...":"Cihaz Bala"}),i.jsx(Wa,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function Mc(t){return`#${t.id} - ${t.full_name}`}function Ra({label:t,employees:a,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:h="Seiniz",helperText:p,disabled:y=!1,className:v=""}){const _=j.useMemo(()=>a.find(O=>String(O.id)===l),[a,l]),[S,w]=j.useState(_?Mc(_):""),[C,z]=j.useState(!1);j.useEffect(()=>{if(_){w(Mc(_));return}l||w("")},[_,l]);const k=j.useMemo(()=>{const O=S.trim().toLowerCase();return(O?a.filter(R=>{const P=R.full_name.toLowerCase().includes(O),Q=String(R.id).includes(O.replace("#",""));return P||Q}):a).slice(0,60)},[a,S]),A=O=>{o(String(O.id)),w(Mc(O)),z(!1)};return i.jsxs("div",{className:v,children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[t,i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:S,disabled:y,onFocus:()=>z(!0),onChange:O=>{const F=O.target.value;w(F),z(!0),F.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),i.jsx("button",{type:"button",disabled:y,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),C?i.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[i.jsx("button",{type:"button",onMouseDown:O=>O.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:i.jsx("span",{children:h})}),k.map(O=>i.jsxs("button",{type:"button",onMouseDown:F=>F.preventDefault(),onClick:()=>A(O),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[i.jsx("span",{children:Mc(O)}),O.is_active?null:i.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},O.id)),k.length===0?i.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function xt({message:t}){return i.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function Ct({label:t="Ykleniyor..."}){return i.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[i.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),i.jsx("span",{children:t})]})}function q2(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function v_(t){const a=q2(t),l=Math.floor(a/60),o=a%60;return{hours:l,minutes:o}}function F2(t){const{hours:a,minutes:l}=v_(t),o=String(a).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function H2(t){const{hours:a,minutes:l}=v_(t);return a===0?`${l}dk`:`${a}s ${l}dk`}function Yc(t){return`${F2(t)} (${H2(t)})`}function De({minutes:t}){return i.jsx("span",{className:"whitespace-nowrap",children:Yc(t)})}function Jo({open:t,title:a,onClose:l,children:o}){return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:i.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:a}),i.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function jn({title:t,description:a,action:l}){return i.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),a?i.jsx("p",{className:"mt-1 text-sm text-slate-600",children:a}):null]}),l]})}function ze({children:t,className:a=""}){return i.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${a}`,children:t})}function __({suspicious:t,label:a="Supheli",tooltip:l}){return t?i.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:a}):i.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const K2={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function _i(t){return K2[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function Q2(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function G2(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function b_({reasons:t}){return t.length===0?i.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):i.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(a=>i.jsx("span",{title:_i(a).description,className:G2(_i(a).tone),children:_i(a).label},a))})}const N_=j.createContext(void 0);function V2(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function Y2({children:t}){const[a,l]=j.useState([]),o=j.useCallback(p=>{l(y=>y.map(v=>v.id===p?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(y=>y.filter(v=>v.id!==p))},170)},[]),d=j.useCallback(p=>{const y=crypto.randomUUID(),v={id:y,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};l(_=>[..._,v]),window.setTimeout(()=>{o(y)},v.durationMs)},[o]),h=j.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return i.jsxs(N_.Provider,{value:h,children:[t,i.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:a.map(p=>i.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${V2(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?i.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),i.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function On(){const t=j.useContext(N_);return t||{pushToast:()=>{},removeToast:()=>{}}}function $2(t){const[a,l,o]=t.split("-"),d=Number(a),h=Number(l),p=Number(o);return!Number.isInteger(d)||!Number.isInteger(h)||!Number.isInteger(p)?new Date("invalid"):new Date(Date.UTC(d,h-1,p))}function X2(t){return t.leave_type==="PUBLIC_HOLIDAY"||t.flags.includes("PUBLIC_HOLIDAY")}function J2(t){return t.worked_minutes>0?!0:!!(t.in||t.out)}function gd(t){if(X2(t))return{key:"SPECIAL",label:"zel Gn"};const a=$2(t.date);return!Number.isNaN(a.getTime())&&a.getUTCDay()===0?{key:"SUNDAY",label:"Pazar"}:{key:"WEEKDAY",label:"Hafta i"}}function Vf(t){const a={workedMinutes:0,overtimeMinutes:0,planOvertimeMinutes:0,legalExtraWorkMinutes:0,workedDayCount:0,overtimeDayCount:0,planOvertimeDayCount:0,sundayWorkedDayCount:0,weekdayWorkedDayCount:0,specialWorkedDayCount:0,sundayWorkedMinutes:0,weekdayWorkedMinutes:0,specialWorkedMinutes:0};for(const l of t){const o=l.plan_overtime_minutes??l.overtime_minutes,d=l.legal_extra_work_minutes??0,h=l.legal_overtime_minutes??l.overtime_minutes;if(a.workedMinutes+=l.worked_minutes,a.planOvertimeMinutes+=o,a.legalExtraWorkMinutes+=d,a.overtimeMinutes+=h,J2(l)){a.workedDayCount+=1;const y=gd(l);y.key==="SPECIAL"?(a.specialWorkedDayCount+=1,a.specialWorkedMinutes+=l.worked_minutes):y.key==="SUNDAY"?(a.sundayWorkedDayCount+=1,a.sundayWorkedMinutes+=l.worked_minutes):(a.weekdayWorkedDayCount+=1,a.weekdayWorkedMinutes+=l.worked_minutes)}o>0&&(a.planOvertimeDayCount+=1),h>0&&(a.overtimeDayCount+=1)}return a}const W2=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],e1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Oc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function Ko(t,a){return t[a]===!0}function Kx(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const a=Number(t.trim());if(Number.isInteger(a)&&a>0)return a}return null}function Dc(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function t1(t){const a=new Date(t);return new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function n1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function Em(t){const a=[],l=t.flags.reason==="home_location_not_set";return Ko(t.flags,"DUPLICATE_EVENT")&&a.push("DUPLICATE_EVENT"),Ko(t.flags,"MANUAL_CHECKOUT")&&a.push("MANUAL_CHECKOUT"),Ko(t.flags,"NEEDS_SHIFT_REVIEW")&&a.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&a.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&!l&&a.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||Ko(t.flags,"ADMIN_MANUAL"))&&a.push("ADMIN_MANUAL_EVENT"),a}function km(t){const a=Number(t);return Number.isInteger(a)&&a>0?a:null}function a1(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(Oc),[d,h]=j.useState(Oc),[p,y]=j.useState(""),[v,_]=j.useState("IN"),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(""),[O,F]=j.useState(!1),[R,P]=j.useState(null),[Q,$]=j.useState("IN"),[V,G]=j.useState(""),[K,ie]=j.useState(""),[pe,ee]=j.useState(""),[oe,ue]=j.useState(!1),[U,le]=j.useState(!1),[Z,se]=j.useState(null),[ce,Te]=j.useState(!1),W=Le({queryKey:["employees","all"],queryFn:()=>ti({status:"all",include_inactive:!0})}),M=Le({queryKey:["departments"],queryFn:Rs}),ne=Le({queryKey:["department-shifts","all"],queryFn:()=>ou({active_only:!1})}),D=j.useMemo(()=>{const te=Number(d.employeeId),X=Number(d.departmentId),Qe=Number(d.limit);return{employee_id:te>0?te:void 0,department_id:X>0?X:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:Qe>0?Qe:200}},[d]),q=Le({queryKey:["attendance-events",D],queryFn:()=>Gf(D)}),ge=Le({queryKey:["audit-logs","attendance-events"],queryFn:()=>d_({entity_type:"attendance_event",limit:50})}),je=Number(d.employeeId),Ae=j.useMemo(()=>{const te=d.dateFrom||d.dateTo;if(!te)return new Date;const X=new Date(`${te}T00:00:00`);return Number.isNaN(X.getTime())?new Date:X},[d.dateFrom,d.dateTo]),qe=Le({queryKey:["attendance-events-monthly-summary",je,Ae.getFullYear(),Ae.getMonth()+1],queryFn:()=>Xo({employee_id:je,year:Ae.getFullYear(),month:Ae.getMonth()+1}),enabled:Number.isInteger(je)&&je>0,staleTime:15e3}),Ge=Ye({mutationFn:i2,onSuccess:()=>{a({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),F(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:te=>{a({variant:"error",title:"Kayt oluturulamad",description:Ie(te,"lem baarsz.").message})}}),tt=Ye({mutationFn:({eventId:te,payload:X})=>s2(te,X),onSuccess:()=>{a({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),P(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:te=>{a({variant:"error",title:"Event gncellenemedi",description:Ie(te,"lem baarsz.").message})}}),we=Ye({mutationFn:({eventId:te,force:X})=>r2(te,X),onSuccess:()=>{a({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),se(null),Te(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:te=>{a({variant:"error",title:"Silme baarsz",description:Ie(te,"lem baarsz.").message})}}),ot=W.data??[],vt=M.data??[],bt=ne.data??[],Kt=q.data??[],Rt=j.useMemo(()=>(qe.data?.days??[]).filter(X=>!(d.dateFrom&&X.date<d.dateFrom||d.dateTo&&X.date>d.dateTo)),[qe.data?.days,d.dateFrom,d.dateTo]),zt=j.useMemo(()=>Vf(Rt),[Rt]),ve=j.useMemo(()=>new Map(ot.map(te=>[te.id,te])),[ot]),We=j.useMemo(()=>new Map(ot.map(te=>[te.id,te.full_name])),[ot]),J=j.useMemo(()=>new Map(vt.map(te=>[te.id,te.name])),[vt]),Ce=j.useMemo(()=>new Map(bt.map(te=>[te.id,te])),[bt]),Ve=j.useMemo(()=>ve.get(Number(p)),[ve,p]),_t=j.useMemo(()=>Ve?.department_id?bt.filter(te=>te.department_id===Ve.department_id):bt,[Ve?.department_id,bt]),kt=j.useMemo(()=>{if(!R)return bt;const te=ve.get(R.employee_id);return te?.department_id?bt.filter(X=>X.department_id===te.department_id):bt},[ve,R,bt]),ut=j.useMemo(()=>d.suspiciousOnly?Kt.filter(te=>Em(te).length>0):Kt,[Kt,d.suspiciousOnly]),_e=()=>h({...l}),Ke=()=>{o(Oc),h(Oc)},ct=te=>{te.preventDefault();const X=km(p);if(!X||!S){a({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const Qe=km(k);Ge.mutate({employee_id:X,type:v,ts_utc:new Date(S).toISOString(),note:C||void 0,shift_id:Qe??void 0,allow_duplicate:O})},et=te=>{P(te),$(te.type),G(t1(te.ts_utc)),ie(te.note??""),ue(!1),le(!1),ee(String(Kx(te.flags.SHIFT_ID)??""))},hn=te=>{if(te.preventDefault(),!R||!V)return;const X=km(pe);tt.mutate({eventId:R.id,payload:{type:Q,ts_utc:new Date(V).toISOString(),note:K||null,shift_id:X??void 0,allow_duplicate:oe,force_edit:U}})};return W.isLoading||M.isLoading||ne.isLoading?i.jsx(Ct,{}):W.isError||M.isError||ne.isError?i.jsx(xt,{message:"alan/departman/vardiya bilgileri alnamad."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[i.jsx(Ra,{label:"alan",employees:ot,value:l.employeeId,onChange:te=>o(X=>({...X,employeeId:te})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l.departmentId,onChange:te=>o(X=>({...X,departmentId:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tm"}),vt.map(te=>i.jsxs("option",{value:te.id,children:["#",te.id," - ",te.name]},te.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",i.jsx("input",{type:"date",value:l.dateFrom,onChange:te=>o(X=>({...X,dateFrom:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",i.jsx("input",{type:"date",value:l.dateTo,onChange:te=>o(X=>({...X,dateTo:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsx("select",{value:l.eventType,onChange:te=>o(X=>({...X,eventType:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:e1.map(te=>i.jsx("option",{value:te.value,children:te.label},te.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",i.jsx("select",{value:l.locationStatus,onChange:te=>o(X=>({...X,locationStatus:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:W2.map(te=>i.jsx("option",{value:te.value,children:te.label},te.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",i.jsx("input",{type:"number",value:l.limit,onChange:te=>o(X=>({...X,limit:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:te=>o(X=>({...X,duplicatesOnly:te.target.checked}))}),"Sadece mkerrer"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:te=>o(X=>({...X,suspiciousOnly:te.target.checked}))}),"Sadece pheli"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:te=>o(X=>({...X,includeDeleted:te.target.checked}))}),"Silinenleri gster"]})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx("button",{type:"button",onClick:_e,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:Ke,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),i.jsxs("form",{onSubmit:ct,className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsx(Ra,{label:"alan",employees:ot,value:p,onChange:y,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsxs("select",{value:v,onChange:te=>_(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"IN",children:"IN (Giri)"}),i.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",i.jsx("input",{type:"datetime-local",value:S,onChange:te=>w(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:k,onChange:te=>A(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Otomatik/bo"}),_t.map(te=>i.jsxs("option",{value:te.id,children:["#",te.id," - ",te.name," (",te.start_time_local,"-",te.end_time_local,")"]},te.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",i.jsx("input",{type:"text",value:C,onChange:te=>z(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[i.jsx("input",{type:"checkbox",checked:O,onChange:te=>F(te.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:Ge.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ge.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),i.jsxs(ze,{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Puantaj Analiz Ozeti"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Secili calisan icin saat bazli net calisma, fazla mesai ve gun tipi kirilimlari."})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Ay: ",Ae.getFullYear(),"-",String(Ae.getMonth()+1).padStart(2,"0")]})]}),je?qe.isLoading?i.jsx(Ct,{}):qe.isError?i.jsx(xt,{message:Ie(qe.error,"Puantaj analiz ozeti alinamadi.").message}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-5",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Net calisma"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:zt.workedMinutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Plan ustu sure"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:zt.planOvertimeMinutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[zt.planOvertimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal fazla mesai"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i.jsx(De,{minutes:zt.overtimeMinutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[zt.overtimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:zt.workedDayCount}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",zt.weekdayWorkedDayCount]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Pazar / Ozel"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[zt.sundayWorkedDayCount," / ",zt.specialWorkedDayCount," gun"]})]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Gun Tipi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Calisma"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),i.jsx("tbody",{children:Rt.map(te=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:te.date}),i.jsx("td",{className:"py-2",children:gd(te).label}),i.jsx("td",{className:"py-2",children:te.status}),i.jsx("td",{className:"py-2",children:te.in?Dc(te.in):"-"}),i.jsx("td",{className:"py-2",children:te.out?Dc(te.out):"-"}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:te.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:te.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:te.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:te.legal_overtime_minutes})}),i.jsx("td",{className:"py-2 text-xs text-slate-600",children:te.flags.length?te.flags.join(", "):"-"})]},te.date))})]}),Rt.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Secili aralikta puantaj gun kaydi bulunamadi."}):null]})]}):i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Analiz gormek icin filtrelerden bir calisan secin."})]}),i.jsxs(ze,{children:[i.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ut.length})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ut.filter(te=>Em(te).length>0).length})]})]}),q.isLoading?i.jsx(Ct,{}):null,q.isError?i.jsx(xt,{message:Ie(q.error,"Yoklama kaytlar alnamad.").message}):null,!q.isLoading&&!q.isError?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Tip"}),i.jsx("th",{className:"py-2",children:"Kaynak"}),i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Konum"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Not"}),i.jsx("th",{className:"py-2",children:"Bayraklar"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:ut.map(te=>{const X=Em(te),Qe=ve.get(te.employee_id),it=Qe?.department_id!=null?J.get(Qe.department_id):"-",un=te.source==="MANUAL"||te.created_by_admin||Ko(te.flags,"ADMIN_MANUAL"),Lt=Kx(te.flags.SHIFT_ID),Kn=typeof te.flags.SHIFT_NAME=="string"?te.flags.SHIFT_NAME:Lt&&Ce.get(Lt)?Ce.get(Lt)?.name:null;return i.jsxs("tr",{className:`border-t border-slate-100 ${X.length>0?"bg-amber-50/40":""}`,children:[i.jsx("td",{className:"py-2",children:te.id}),i.jsxs("td",{className:"py-2",children:["#",te.employee_id," - ",We.get(te.employee_id)??"-"]}),i.jsx("td",{className:"py-2",children:it??"-"}),i.jsx("td",{className:"py-2",children:te.type}),i.jsxs("td",{className:"py-2",children:[un?i.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",te.deleted_at?i.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),i.jsx("td",{className:"py-2",children:Dc(te.ts_utc)}),i.jsx("td",{className:"py-2",children:n1(te.location_status)}),i.jsx("td",{className:"py-2",children:Kn?i.jsxs("span",{children:[Kn,Lt?` (#${Lt})`:""]}):Lt?i.jsxs("span",{children:["#",Lt]}):"-"}),i.jsx("td",{className:"py-2",children:te.note||"-"}),i.jsx("td",{className:"py-2",children:i.jsx(b_,{reasons:X})}),i.jsx("td",{className:"py-2",children:i.jsx(__,{suspicious:X.length>0,label:"pheli"})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>et(te),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),i.jsx("button",{type:"button",onClick:()=>se(te),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},te.id)})})]}),ut.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),ge.isLoading?i.jsx(Ct,{}):null,ge.isError?i.jsx(xt,{message:Ie(ge.error,"Audit loglar alnamad.").message}):null,!ge.isLoading&&!ge.isError?i.jsx("div",{className:"mt-3 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Aksiyon"}),i.jsx("th",{className:"py-2",children:"Kullanc"}),i.jsx("th",{className:"py-2",children:"Entity"}),i.jsx("th",{className:"py-2",children:"Durum"})]})}),i.jsx("tbody",{children:(ge.data??[]).map(te=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Dc(te.ts_utc)}),i.jsx("td",{className:"py-2",children:te.action}),i.jsxs("td",{className:"py-2",children:[te.actor_type,":",te.actor_id]}),i.jsxs("td",{className:"py-2",children:[te.entity_type??"-"," ",te.entity_id?`#${te.entity_id}`:""]}),i.jsx("td",{className:"py-2",children:te.success?"Baarl":"Hatal"})]},te.id))})]})}):null]}),i.jsx(Jo,{open:R!==null,title:R?`Event #${R.id} dzenle`:"Event dzenle",onClose:()=>P(null),children:i.jsxs("form",{onSubmit:hn,className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",i.jsxs("select",{value:Q,onChange:te=>$(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"IN",children:"IN (Giri)"}),i.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",i.jsx("input",{type:"datetime-local",value:V,onChange:te=>G(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:pe,onChange:te=>ee(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Deitirme"}),kt.map(te=>i.jsxs("option",{value:te.id,children:["#",te.id," - ",te.name," (",te.start_time_local,"-",te.end_time_local,")"]},te.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Not",i.jsx("input",{type:"text",value:K,onChange:te=>ie(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:oe,onChange:te=>ue(te.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:U,onChange:te=>le(te.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),i.jsx("button",{type:"submit",disabled:tt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:tt.isPending?"Kaydediliyor...":"Kaydet"})]})}),i.jsx(Jo,{open:Z!==null,title:Z?`Event #${Z.id} soft sil`:"Event soft sil",onClose:()=>se(null),children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:ce,onChange:te=>Te(te.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),i.jsx("button",{type:"button",onClick:()=>Z&&we.mutate({eventId:Z.id,force:ce}),disabled:we.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:we.isPending?"Siliniyor...":"Soft sil"})]})})]})}function Se(t,a,l){function o(y,v){if(y._zod||Object.defineProperty(y,"_zod",{value:{def:v,constr:p,traits:new Set},enumerable:!1}),y._zod.traits.has(t))return;y._zod.traits.add(t),a(y,v);const _=p.prototype,S=Object.keys(_);for(let w=0;w<S.length;w++){const C=S[w];C in y||(y[C]=_[C].bind(y))}}const d=l?.Parent??Object;class h extends d{}Object.defineProperty(h,"name",{value:t});function p(y){var v;const _=l?.Parent?new h:this;o(_,y),(v=_._zod).deferred??(v.deferred=[]);for(const S of _._zod.deferred)S();return _}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:y=>l?.Parent&&y instanceof l.Parent?!0:y?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class Cl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class j_ extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const S_={};function Cr(t){return S_}function w_(t){const a=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>a.indexOf(+o)===-1).map(([o,d])=>d)}function _f(t,a){return typeof a=="bigint"?a.toString():a}function Yf(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function $f(t){return t==null}function Xf(t){const a=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;return t.slice(a,l)}function i1(t,a){const l=(t.toString().split(".")[1]||"").length,o=a.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const h=l>d?l:d,p=Number.parseInt(t.toFixed(h).replace(".","")),y=Number.parseInt(a.toFixed(h).replace(".",""));return p%y/10**h}const Qx=Symbol("evaluating");function Dt(t,a,l){let o;Object.defineProperty(t,a,{get(){if(o!==Qx)return o===void 0&&(o=Qx,o=l()),o},set(d){Object.defineProperty(t,a,{value:d})},configurable:!0})}function zr(t,a,l){Object.defineProperty(t,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}function Ls(...t){const a={};for(const l of t){const o=Object.getOwnPropertyDescriptors(l);Object.assign(a,o)}return Object.defineProperties({},a)}function Gx(t){return JSON.stringify(t)}function s1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const E_="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function nd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const r1=Yf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Wo(t){if(nd(t)===!1)return!1;const a=t.constructor;if(a===void 0||typeof a!="function")return!0;const l=a.prototype;return!(nd(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function k_(t){return Wo(t)?{...t}:Array.isArray(t)?[...t]:t}const l1=new Set(["string","number","symbol"]);function yd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ps(t,a,l){const o=new t._zod.constr(a??t._zod.def);return(!a||l?.parent)&&(o._zod.parent=t),o}function He(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function o1(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const u1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function c1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const h=Ls(t._zod.def,{get shape(){const p={};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&(p[y]=l.shape[y])}return zr(this,"shape",p),p},checks:[]});return Ps(t,h)}function d1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const h=Ls(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const y in a){if(!(y in l.shape))throw new Error(`Unrecognized key: "${y}"`);a[y]&&delete p[y]}return zr(this,"shape",p),p},checks:[]});return Ps(t,h)}function h1(t,a){if(!Wo(a))throw new Error("Invalid input to extend: expected a plain object");const l=t._zod.def.checks;if(l&&l.length>0){const h=t._zod.def.shape;for(const p in a)if(Object.getOwnPropertyDescriptor(h,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=Ls(t._zod.def,{get shape(){const h={...t._zod.def.shape,...a};return zr(this,"shape",h),h}});return Ps(t,d)}function m1(t,a){if(!Wo(a))throw new Error("Invalid input to safeExtend: expected a plain object");const l=Ls(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a};return zr(this,"shape",o),o}});return Ps(t,l)}function f1(t,a){const l=Ls(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a._zod.def.shape};return zr(this,"shape",o),o},get catchall(){return a._zod.def.catchall},checks:[]});return Ps(t,l)}function p1(t,a,l){const d=a._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=Ls(a._zod.def,{get shape(){const y=a._zod.def.shape,v={...y};if(l)for(const _ in l){if(!(_ in y))throw new Error(`Unrecognized key: "${_}"`);l[_]&&(v[_]=t?new t({type:"optional",innerType:y[_]}):y[_])}else for(const _ in y)v[_]=t?new t({type:"optional",innerType:y[_]}):y[_];return zr(this,"shape",v),v},checks:[]});return Ps(a,p)}function g1(t,a,l){const o=Ls(a._zod.def,{get shape(){const d=a._zod.def.shape,h={...d};if(l)for(const p in l){if(!(p in h))throw new Error(`Unrecognized key: "${p}"`);l[p]&&(h[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)h[p]=new t({type:"nonoptional",innerType:d[p]});return zr(this,"shape",h),h}});return Ps(a,o)}function Tl(t,a=0){if(t.aborted===!0)return!0;for(let l=a;l<t.issues.length;l++)if(t.issues[l]?.continue!==!0)return!0;return!1}function T_(t,a){return a.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(t),l})}function Rc(t){return typeof t=="string"?t:t?.message}function Ar(t,a,l){const o={...t,path:t.path??[]};if(!t.message){const d=Rc(t.inst?._zod.def?.error?.(t))??Rc(a?.error?.(t))??Rc(l.customError?.(t))??Rc(l.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,a?.reportInput||delete o.input,o}function Jf(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function eu(...t){const[a,l,o]=t;return typeof a=="string"?{message:a,code:"custom",input:l,inst:o}:{...a}}const C_=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,_f,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},A_=Se("$ZodError",C_),z_=Se("$ZodError",C_,{Parent:Error});function y1(t,a=l=>l.message){const l={},o=[];for(const d of t.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(a(d))):o.push(a(d));return{formErrors:o,fieldErrors:l}}function x1(t,a=l=>l.message){const l={_errors:[]},o=d=>{for(const h of d.issues)if(h.code==="invalid_union"&&h.errors.length)h.errors.map(p=>o({issues:p}));else if(h.code==="invalid_key")o({issues:h.issues});else if(h.code==="invalid_element")o({issues:h.issues});else if(h.path.length===0)l._errors.push(a(h));else{let p=l,y=0;for(;y<h.path.length;){const v=h.path[y];y===h.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(a(h))):p[v]=p[v]||{_errors:[]},p=p[v],y++}}};return o(t),l}const Wf=t=>(a,l,o,d)=>{const h=o?Object.assign(o,{async:!1}):{async:!1},p=a._zod.run({value:l,issues:[]},h);if(p instanceof Promise)throw new Cl;if(p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Ar(v,h,Cr())));throw E_(y,d?.callee),y}return p.value},ep=t=>async(a,l,o,d)=>{const h=o?Object.assign(o,{async:!0}):{async:!0};let p=a._zod.run({value:l,issues:[]},h);if(p instanceof Promise&&(p=await p),p.issues.length){const y=new(d?.Err??t)(p.issues.map(v=>Ar(v,h,Cr())));throw E_(y,d?.callee),y}return p.value},xd=t=>(a,l,o)=>{const d=o?{...o,async:!1}:{async:!1},h=a._zod.run({value:l,issues:[]},d);if(h instanceof Promise)throw new Cl;return h.issues.length?{success:!1,error:new(t??A_)(h.issues.map(p=>Ar(p,d,Cr())))}:{success:!0,data:h.value}},v1=xd(z_),vd=t=>async(a,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let h=a._zod.run({value:l,issues:[]},d);return h instanceof Promise&&(h=await h),h.issues.length?{success:!1,error:new t(h.issues.map(p=>Ar(p,d,Cr())))}:{success:!0,data:h.value}},_1=vd(z_),b1=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Wf(t)(a,l,d)},N1=t=>(a,l,o)=>Wf(t)(a,l,o),j1=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ep(t)(a,l,d)},S1=t=>async(a,l,o)=>ep(t)(a,l,o),w1=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return xd(t)(a,l,d)},E1=t=>(a,l,o)=>xd(t)(a,l,o),k1=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return vd(t)(a,l,d)},T1=t=>async(a,l,o)=>vd(t)(a,l,o),C1=/^[cC][^\s-]{8,}$/,A1=/^[0-9a-z]+$/,z1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,M1=/^[0-9a-vA-V]{20}$/,O1=/^[A-Za-z0-9]{27}$/,D1=/^[a-zA-Z0-9_-]{21}$/,R1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,L1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Vx=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,P1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,B1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function I1(){return new RegExp(B1,"u")}const U1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Z1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,q1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,F1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,M_=/^[A-Za-z0-9_-]*$/,K1=/^\+[1-9]\d{6,14}$/,O_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Q1=new RegExp(`^${O_}$`);function D_(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function G1(t){return new RegExp(`^${D_(t)}$`)}function V1(t){const a=D_({precision:t.precision}),l=["Z"];t.local&&l.push(""),t.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${a}(?:${l.join("|")})`;return new RegExp(`^${O_}T(?:${o})$`)}const Y1=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},$1=/^-?\d+$/,X1=/^-?\d+(?:\.\d+)?$/,J1=/^(?:true|false)$/i,W1=/^null$/i,ek=/^[^A-Z]*$/,tk=/^[^a-z]*$/,sa=Se("$ZodCheck",(t,a)=>{var l;t._zod??(t._zod={}),t._zod.def=a,(l=t._zod).onattach??(l.onattach=[])}),R_={number:"number",bigint:"bigint",object:"date"},L_=Se("$ZodCheckLessThan",(t,a)=>{sa.init(t,a);const l=R_[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,h=(a.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<h&&(a.inclusive?d.maximum=a.value:d.exclusiveMaximum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value<=a.value:o.value<a.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),P_=Se("$ZodCheckGreaterThan",(t,a)=>{sa.init(t,a);const l=R_[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,h=(a.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>h&&(a.inclusive?d.minimum=a.value:d.exclusiveMinimum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value>=a.value:o.value>a.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),nk=Se("$ZodCheckMultipleOf",(t,a)=>{sa.init(t,a),t._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=a.value)}),t._zod.check=l=>{if(typeof l.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%a.value===BigInt(0):i1(l.value,a.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:a.value,input:l.value,inst:t,continue:!a.abort})}}),ak=Se("$ZodCheckNumberFormat",(t,a)=>{sa.init(t,a),a.format=a.format||"float64";const l=a.format?.includes("int"),o=l?"int":"number",[d,h]=u1[a.format];t._zod.onattach.push(p=>{const y=p._zod.bag;y.format=a.format,y.minimum=d,y.maximum=h,l&&(y.pattern=$1)}),t._zod.check=p=>{const y=p.value;if(l){if(!Number.isInteger(y)){p.issues.push({expected:o,format:a.format,code:"invalid_type",continue:!1,input:y,inst:t});return}if(!Number.isSafeInteger(y)){y>0?p.issues.push({input:y,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort}):p.issues.push({input:y,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort});return}}y<d&&p.issues.push({origin:"number",input:y,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!a.abort}),y>h&&p.issues.push({origin:"number",input:y,code:"too_big",maximum:h,inclusive:!0,inst:t,continue:!a.abort})}}),ik=Se("$ZodCheckMaxLength",(t,a)=>{var l;sa.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!$f(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<d&&(o._zod.bag.maximum=a.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=a.maximum)return;const p=Jf(d);o.issues.push({origin:p,code:"too_big",maximum:a.maximum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),sk=Se("$ZodCheckMinLength",(t,a)=>{var l;sa.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!$f(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>d&&(o._zod.bag.minimum=a.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=a.minimum)return;const p=Jf(d);o.issues.push({origin:p,code:"too_small",minimum:a.minimum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),rk=Se("$ZodCheckLengthEquals",(t,a)=>{var l;sa.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!$f(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=a.length,d.maximum=a.length,d.length=a.length}),t._zod.check=o=>{const d=o.value,h=d.length;if(h===a.length)return;const p=Jf(d),y=h>a.length;o.issues.push({origin:p,...y?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!a.abort})}}),_d=Se("$ZodCheckStringFormat",(t,a)=>{var l,o;sa.init(t,a),t._zod.onattach.push(d=>{const h=d._zod.bag;h.format=a.format,a.pattern&&(h.patterns??(h.patterns=new Set),h.patterns.add(a.pattern))}),a.pattern?(l=t._zod).check??(l.check=d=>{a.pattern.lastIndex=0,!a.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:a.format,input:d.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(o=t._zod).check??(o.check=()=>{})}),lk=Se("$ZodCheckRegex",(t,a)=>{_d.init(t,a),t._zod.check=l=>{a.pattern.lastIndex=0,!a.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),ok=Se("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=ek),_d.init(t,a)}),uk=Se("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=tk),_d.init(t,a)}),ck=Se("$ZodCheckIncludes",(t,a)=>{sa.init(t,a);const l=yd(a.includes),o=new RegExp(typeof a.position=="number"?`^.{${a.position}}${l}`:l);a.pattern=o,t._zod.onattach.push(d=>{const h=d._zod.bag;h.patterns??(h.patterns=new Set),h.patterns.add(o)}),t._zod.check=d=>{d.value.includes(a.includes,a.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:d.value,inst:t,continue:!a.abort})}}),dk=Se("$ZodCheckStartsWith",(t,a)=>{sa.init(t,a);const l=new RegExp(`^${yd(a.prefix)}.*`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.startsWith(a.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:o.value,inst:t,continue:!a.abort})}}),hk=Se("$ZodCheckEndsWith",(t,a)=>{sa.init(t,a);const l=new RegExp(`.*${yd(a.suffix)}$`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.endsWith(a.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:o.value,inst:t,continue:!a.abort})}}),mk=Se("$ZodCheckOverwrite",(t,a)=>{sa.init(t,a),t._zod.check=l=>{l.value=a.tx(l.value)}});class fk{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const o=a.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),h=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of h)this.content.push(p)}compile(){const a=Function,l=this?.args,d=[...(this?.content??[""]).map(h=>`  ${h}`)];return new a(...l,d.join(`
`))}}const pk={major:4,minor:3,patch:6},ln=Se("$ZodType",(t,a)=>{var l;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=pk;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const h of d._zod.onattach)h(t);if(o.length===0)(l=t._zod).deferred??(l.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,y,v)=>{let _=Tl(p),S;for(const w of y){if(w._zod.def.when){if(!w._zod.def.when(p))continue}else if(_)continue;const C=p.issues.length,z=w._zod.check(p);if(z instanceof Promise&&v?.async===!1)throw new Cl;if(S||z instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await z,p.issues.length!==C&&(_||(_=Tl(p,C)))});else{if(p.issues.length===C)continue;_||(_=Tl(p,C))}}return S?S.then(()=>p):p},h=(p,y,v)=>{if(Tl(p))return p.aborted=!0,p;const _=d(y,o,v);if(_ instanceof Promise){if(v.async===!1)throw new Cl;return _.then(S=>t._zod.parse(S,v))}return t._zod.parse(_,v)};t._zod.run=(p,y)=>{if(y.skipChecks)return t._zod.parse(p,y);if(y.direction==="backward"){const _=t._zod.parse({value:p.value,issues:[]},{...y,skipChecks:!0});return _ instanceof Promise?_.then(S=>h(S,p,y)):h(_,p,y)}const v=t._zod.parse(p,y);if(v instanceof Promise){if(y.async===!1)throw new Cl;return v.then(_=>d(_,o,y))}return d(v,o,y)}}Dt(t,"~standard",()=>({validate:d=>{try{const h=v1(t,d);return h.success?{value:h.data}:{issues:h.error?.issues}}catch{return _1(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),tp=Se("$ZodString",(t,a)=>{ln.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Y1(t._zod.bag),t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:t}),l}}),Xt=Se("$ZodStringFormat",(t,a)=>{_d.init(t,a),tp.init(t,a)}),gk=Se("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=L1),Xt.init(t,a)}),yk=Se("$ZodUUID",(t,a)=>{if(a.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(o===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Vx(o))}else a.pattern??(a.pattern=Vx());Xt.init(t,a)}),xk=Se("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=P1),Xt.init(t,a)}),vk=Se("$ZodURL",(t,a)=>{Xt.init(t,a),t._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:a.hostname.source,input:l.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:l.value,inst:t,continue:!a.abort})),a.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:t,continue:!a.abort})}}}),_k=Se("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=I1()),Xt.init(t,a)}),bk=Se("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=D1),Xt.init(t,a)}),Nk=Se("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=C1),Xt.init(t,a)}),jk=Se("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=A1),Xt.init(t,a)}),Sk=Se("$ZodULID",(t,a)=>{a.pattern??(a.pattern=z1),Xt.init(t,a)}),wk=Se("$ZodXID",(t,a)=>{a.pattern??(a.pattern=M1),Xt.init(t,a)}),Ek=Se("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=O1),Xt.init(t,a)}),kk=Se("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=V1(a)),Xt.init(t,a)}),Tk=Se("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=Q1),Xt.init(t,a)}),Ck=Se("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=G1(a)),Xt.init(t,a)}),Ak=Se("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=R1),Xt.init(t,a)}),zk=Se("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=U1),Xt.init(t,a),t._zod.bag.format="ipv4"}),Mk=Se("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=Z1),Xt.init(t,a),t._zod.bag.format="ipv6",t._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:t,continue:!a.abort})}}}),Ok=Se("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=q1),Xt.init(t,a)}),Dk=Se("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=F1),Xt.init(t,a),t._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,h]=o;if(!h)throw new Error;const p=Number(h);if(`${p}`!==h)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:t,continue:!a.abort})}}});function B_(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Rk=Se("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=H1),Xt.init(t,a),t._zod.bag.contentEncoding="base64",t._zod.check=l=>{B_(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:t,continue:!a.abort})}});function Lk(t){if(!M_.test(t))return!1;const a=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=a.padEnd(Math.ceil(a.length/4)*4,"=");return B_(l)}const Pk=Se("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=M_),Xt.init(t,a),t._zod.bag.contentEncoding="base64url",t._zod.check=l=>{Lk(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:t,continue:!a.abort})}}),Bk=Se("$ZodE164",(t,a)=>{a.pattern??(a.pattern=K1),Xt.init(t,a)});function Ik(t,a=null){try{const l=t.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||a&&(!("alg"in d)||d.alg!==a))}catch{return!1}}const Uk=Se("$ZodJWT",(t,a)=>{Xt.init(t,a),t._zod.check=l=>{Ik(l.value,a.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:t,continue:!a.abort})}}),I_=Se("$ZodNumber",(t,a)=>{ln.init(t,a),t._zod.pattern=t._zod.bag.pattern??X1,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const h=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...h?{received:h}:{}}),l}}),Zk=Se("$ZodNumberFormat",(t,a)=>{ak.init(t,a),I_.init(t,a)}),qk=Se("$ZodBoolean",(t,a)=>{ln.init(t,a),t._zod.pattern=J1,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),l}}),Fk=Se("$ZodNull",(t,a)=>{ln.init(t,a),t._zod.pattern=W1,t._zod.values=new Set([null]),t._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),l}}),Hk=Se("$ZodUnknown",(t,a)=>{ln.init(t,a),t._zod.parse=l=>l}),Kk=Se("$ZodNever",(t,a)=>{ln.init(t,a),t._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:t}),l)});function Yx(t,a,l){t.issues.length&&a.issues.push(...T_(l,t.issues)),a.value[l]=t.value}const Qk=Se("$ZodArray",(t,a)=>{ln.init(t,a),t._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),l;l.value=Array(d.length);const h=[];for(let p=0;p<d.length;p++){const y=d[p],v=a.element._zod.run({value:y,issues:[]},o);v instanceof Promise?h.push(v.then(_=>Yx(_,l,p))):Yx(v,l,p)}return h.length?Promise.all(h).then(()=>l):l}});function ad(t,a,l,o,d){if(t.issues.length){if(d&&!(l in o))return;a.issues.push(...T_(l,t.issues))}t.value===void 0?l in o&&(a.value[l]=void 0):a.value[l]=t.value}function U_(t){const a=Object.keys(t.shape);for(const o of a)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=o1(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(l)}}function Z_(t,a,l,o,d,h){const p=[],y=d.keySet,v=d.catchall._zod,_=v.def.type,S=v.optout==="optional";for(const w in a){if(y.has(w))continue;if(_==="never"){p.push(w);continue}const C=v.run({value:a[w],issues:[]},o);C instanceof Promise?t.push(C.then(z=>ad(z,l,w,a,S))):ad(C,l,w,a,S)}return p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:a,inst:h}),t.length?Promise.all(t).then(()=>l):l}const Gk=Se("$ZodObject",(t,a)=>{if(ln.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const y=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...y};return Object.defineProperty(a,"shape",{value:v}),v}})}const o=Yf(()=>U_(a));Dt(t._zod,"propValues",()=>{const y=a.shape,v={};for(const _ in y){const S=y[_]._zod;if(S.values){v[_]??(v[_]=new Set);for(const w of S.values)v[_].add(w)}}return v});const d=nd,h=a.catchall;let p;t._zod.parse=(y,v)=>{p??(p=o.value);const _=y.value;if(!d(_))return y.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),y;y.value={};const S=[],w=p.shape;for(const C of p.keys){const z=w[C],k=z._zod.optout==="optional",A=z._zod.run({value:_[C],issues:[]},v);A instanceof Promise?S.push(A.then(O=>ad(O,y,C,_,k))):ad(A,y,C,_,k)}return h?Z_(S,_,y,v,o.value,t):S.length?Promise.all(S).then(()=>y):y}}),Vk=Se("$ZodObjectJIT",(t,a)=>{Gk.init(t,a);const l=t._zod.parse,o=Yf(()=>U_(a)),d=C=>{const z=new fk(["shape","payload","ctx"]),k=o.value,A=P=>{const Q=Gx(P);return`shape[${Q}]._zod.run({ value: input[${Q}], issues: [] }, ctx)`};z.write("const input = payload.value;");const O=Object.create(null);let F=0;for(const P of k.keys)O[P]=`key_${F++}`;z.write("const newResult = {};");for(const P of k.keys){const Q=O[P],$=Gx(P),G=C[P]?._zod?.optout==="optional";z.write(`const ${Q} = ${A(P)};`),G?z.write(`
        if (${Q}.issues.length) {
          if (${$} in input) {
            payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$}, ...iss.path] : [${$}]
            })));
          }
        }
        
        if (${Q}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${Q}.value;
        }
        
      `):z.write(`
        if (${Q}.issues.length) {
          payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        if (${Q}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${Q}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const R=z.compile();return(P,Q)=>R(C,P,Q)};let h;const p=nd,y=!S_.jitless,_=y&&r1.value,S=a.catchall;let w;t._zod.parse=(C,z)=>{w??(w=o.value);const k=C.value;return p(k)?y&&_&&z?.async===!1&&z.jitless!==!0?(h||(h=d(a.shape)),C=h(C,z),S?Z_([],k,C,z,w,t):C):l(C,z):(C.issues.push({expected:"object",code:"invalid_type",input:k,inst:t}),C)}});function $x(t,a,l,o){for(const h of t)if(h.issues.length===0)return a.value=h.value,a;const d=t.filter(h=>!Tl(h));return d.length===1?(a.value=d[0].value,d[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:l,errors:t.map(h=>h.issues.map(p=>Ar(p,o,Cr())))}),a)}const Yk=Se("$ZodUnion",(t,a)=>{ln.init(t,a),Dt(t._zod,"optin",()=>a.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Dt(t._zod,"optout",()=>a.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Dt(t._zod,"values",()=>{if(a.options.every(d=>d._zod.values))return new Set(a.options.flatMap(d=>Array.from(d._zod.values)))}),Dt(t._zod,"pattern",()=>{if(a.options.every(d=>d._zod.pattern)){const d=a.options.map(h=>h._zod.pattern);return new RegExp(`^(${d.map(h=>Xf(h.source)).join("|")})$`)}});const l=a.options.length===1,o=a.options[0]._zod.run;t._zod.parse=(d,h)=>{if(l)return o(d,h);let p=!1;const y=[];for(const v of a.options){const _=v._zod.run({value:d.value,issues:[]},h);if(_ instanceof Promise)y.push(_),p=!0;else{if(_.issues.length===0)return _;y.push(_)}}return p?Promise.all(y).then(v=>$x(v,d,t,h)):$x(y,d,t,h)}}),$k=Se("$ZodIntersection",(t,a)=>{ln.init(t,a),t._zod.parse=(l,o)=>{const d=l.value,h=a.left._zod.run({value:d,issues:[]},o),p=a.right._zod.run({value:d,issues:[]},o);return h instanceof Promise||p instanceof Promise?Promise.all([h,p]).then(([v,_])=>Xx(l,v,_)):Xx(l,h,p)}});function bf(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(Wo(t)&&Wo(a)){const l=Object.keys(a),o=Object.keys(t).filter(h=>l.indexOf(h)!==-1),d={...t,...a};for(const h of o){const p=bf(t[h],a[h]);if(!p.valid)return{valid:!1,mergeErrorPath:[h,...p.mergeErrorPath]};d[h]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<t.length;o++){const d=t[o],h=a[o],p=bf(d,h);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};l.push(p.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Xx(t,a,l){const o=new Map;let d;for(const y of a.issues)if(y.code==="unrecognized_keys"){d??(d=y);for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else t.issues.push(y);for(const y of l.issues)if(y.code==="unrecognized_keys")for(const v of y.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else t.issues.push(y);const h=[...o].filter(([,y])=>y.l&&y.r).map(([y])=>y);if(h.length&&d&&t.issues.push({...d,keys:h}),Tl(t))return t;const p=bf(a.value,l.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const Xk=Se("$ZodEnum",(t,a)=>{ln.init(t,a);const l=w_(a.entries),o=new Set(l);t._zod.values=o,t._zod.pattern=new RegExp(`^(${l.filter(d=>l1.has(typeof d)).map(d=>typeof d=="string"?yd(d):d.toString()).join("|")})$`),t._zod.parse=(d,h)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:l,input:p,inst:t}),d}}),Jk=Se("$ZodTransform",(t,a)=>{ln.init(t,a),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new j_(t.constructor.name);const d=a.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(l.value=p,l));if(d instanceof Promise)throw new Cl;return l.value=d,l}});function Jx(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const q_=Se("$ZodOptional",(t,a)=>{ln.init(t,a),t._zod.optin="optional",t._zod.optout="optional",Dt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Dt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Xf(l.source)})?$`):void 0}),t._zod.parse=(l,o)=>{if(a.innerType._zod.optin==="optional"){const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(h=>Jx(h,l.value)):Jx(d,l.value)}return l.value===void 0?l:a.innerType._zod.run(l,o)}}),Wk=Se("$ZodExactOptional",(t,a)=>{q_.init(t,a),Dt(t._zod,"values",()=>a.innerType._zod.values),Dt(t._zod,"pattern",()=>a.innerType._zod.pattern),t._zod.parse=(l,o)=>a.innerType._zod.run(l,o)}),eT=Se("$ZodNullable",(t,a)=>{ln.init(t,a),Dt(t._zod,"optin",()=>a.innerType._zod.optin),Dt(t._zod,"optout",()=>a.innerType._zod.optout),Dt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Xf(l.source)}|null)$`):void 0}),Dt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(l,o)=>l.value===null?l:a.innerType._zod.run(l,o)}),tT=Se("$ZodDefault",(t,a)=>{ln.init(t,a),t._zod.optin="optional",Dt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);if(l.value===void 0)return l.value=a.defaultValue,l;const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(h=>Wx(h,a)):Wx(d,a)}});function Wx(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const nT=Se("$ZodPrefault",(t,a)=>{ln.init(t,a),t._zod.optin="optional",Dt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=a.defaultValue),a.innerType._zod.run(l,o))}),aT=Se("$ZodNonOptional",(t,a)=>{ln.init(t,a),Dt(t._zod,"values",()=>{const l=a.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),t._zod.parse=(l,o)=>{const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(h=>ev(h,t)):ev(d,t)}});function ev(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const iT=Se("$ZodCatch",(t,a)=>{ln.init(t,a),Dt(t._zod,"optin",()=>a.innerType._zod.optin),Dt(t._zod,"optout",()=>a.innerType._zod.optout),Dt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(h=>(l.value=h.value,h.issues.length&&(l.value=a.catchValue({...l,error:{issues:h.issues.map(p=>Ar(p,o,Cr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=a.catchValue({...l,error:{issues:d.issues.map(h=>Ar(h,o,Cr()))},input:l.value}),l.issues=[]),l)}}),sT=Se("$ZodPipe",(t,a)=>{ln.init(t,a),Dt(t._zod,"values",()=>a.in._zod.values),Dt(t._zod,"optin",()=>a.in._zod.optin),Dt(t._zod,"optout",()=>a.out._zod.optout),Dt(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(l,o)=>{if(o.direction==="backward"){const h=a.out._zod.run(l,o);return h instanceof Promise?h.then(p=>Lc(p,a.in,o)):Lc(h,a.in,o)}const d=a.in._zod.run(l,o);return d instanceof Promise?d.then(h=>Lc(h,a.out,o)):Lc(d,a.out,o)}});function Lc(t,a,l){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},l)}const rT=Se("$ZodReadonly",(t,a)=>{ln.init(t,a),Dt(t._zod,"propValues",()=>a.innerType._zod.propValues),Dt(t._zod,"values",()=>a.innerType._zod.values),Dt(t._zod,"optin",()=>a.innerType?._zod?.optin),Dt(t._zod,"optout",()=>a.innerType?._zod?.optout),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(tv):tv(d)}});function tv(t){return t.value=Object.freeze(t.value),t}const lT=Se("$ZodCustom",(t,a)=>{sa.init(t,a),ln.init(t,a),t._zod.parse=(l,o)=>l,t._zod.check=l=>{const o=l.value,d=a.fn(o);if(d instanceof Promise)return d.then(h=>nv(h,l,o,t));nv(d,l,o,t)}});function nv(t,a,l,o){if(!t){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),a.issues.push(eu(d))}}var av;class oT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...l){const o=l[0];return this._map.set(a,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const l=this._map.get(a);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(a),this}get(a){const l=a._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function uT(){return new oT}(av=globalThis).__zod_globalRegistry??(av.__zod_globalRegistry=uT());const Qo=globalThis.__zod_globalRegistry;function cT(t,a){return new t({type:"string",...He(a)})}function dT(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...He(a)})}function iv(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...He(a)})}function hT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...He(a)})}function mT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...He(a)})}function fT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...He(a)})}function pT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...He(a)})}function gT(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...He(a)})}function yT(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...He(a)})}function xT(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...He(a)})}function vT(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...He(a)})}function _T(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...He(a)})}function bT(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...He(a)})}function NT(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...He(a)})}function jT(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...He(a)})}function ST(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...He(a)})}function wT(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...He(a)})}function ET(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...He(a)})}function kT(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...He(a)})}function TT(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...He(a)})}function CT(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...He(a)})}function AT(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...He(a)})}function zT(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...He(a)})}function MT(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...He(a)})}function OT(t,a){return new t({type:"string",format:"date",check:"string_format",...He(a)})}function DT(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...He(a)})}function RT(t,a){return new t({type:"string",format:"duration",check:"string_format",...He(a)})}function LT(t,a){return new t({type:"number",coerce:!0,checks:[],...He(a)})}function PT(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...He(a)})}function BT(t,a){return new t({type:"boolean",...He(a)})}function IT(t,a){return new t({type:"null",...He(a)})}function UT(t){return new t({type:"unknown"})}function ZT(t,a){return new t({type:"never",...He(a)})}function sv(t,a){return new L_({check:"less_than",...He(a),value:t,inclusive:!1})}function Tm(t,a){return new L_({check:"less_than",...He(a),value:t,inclusive:!0})}function rv(t,a){return new P_({check:"greater_than",...He(a),value:t,inclusive:!1})}function Cm(t,a){return new P_({check:"greater_than",...He(a),value:t,inclusive:!0})}function lv(t,a){return new nk({check:"multiple_of",...He(a),value:t})}function F_(t,a){return new ik({check:"max_length",...He(a),maximum:t})}function id(t,a){return new sk({check:"min_length",...He(a),minimum:t})}function H_(t,a){return new rk({check:"length_equals",...He(a),length:t})}function qT(t,a){return new lk({check:"string_format",format:"regex",...He(a),pattern:t})}function FT(t){return new ok({check:"string_format",format:"lowercase",...He(t)})}function HT(t){return new uk({check:"string_format",format:"uppercase",...He(t)})}function KT(t,a){return new ck({check:"string_format",format:"includes",...He(a),includes:t})}function QT(t,a){return new dk({check:"string_format",format:"starts_with",...He(a),prefix:t})}function GT(t,a){return new hk({check:"string_format",format:"ends_with",...He(a),suffix:t})}function Bl(t){return new mk({check:"overwrite",tx:t})}function VT(t){return Bl(a=>a.normalize(t))}function YT(){return Bl(t=>t.trim())}function $T(){return Bl(t=>t.toLowerCase())}function XT(){return Bl(t=>t.toUpperCase())}function JT(){return Bl(t=>s1(t))}function WT(t,a,l){return new t({type:"array",element:a,...He(l)})}function eC(t,a,l){return new t({type:"custom",check:"custom",fn:a,...He(l)})}function tC(t){const a=nC(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(eu(o,l.value,a._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=a),d.continue??(d.continue=!a._zod.def.abort),l.issues.push(eu(d))}},t(l.value,l)));return a}function nC(t,a){const l=new sa({check:"custom",...He(a)});return l._zod.check=t,l}function K_(t){let a=t?.target??"draft-2020-12";return a==="draft-4"&&(a="draft-04"),a==="draft-7"&&(a="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Qo,target:a,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function zn(t,a,l={path:[],schemaPath:[]}){var o;const d=t._zod.def,h=a.seen.get(t);if(h)return h.count++,l.schemaPath.includes(t)&&(h.cycle=l.path),h.schema;const p={schema:{},count:1,cycle:void 0,path:l.path};a.seen.set(t,p);const y=t._zod.toJSONSchema?.();if(y)p.schema=y;else{const S={...l,schemaPath:[...l.schemaPath,t],path:l.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(a,p.schema,S);else{const C=p.schema,z=a.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(t,a,C,S)}const w=t._zod.parent;w&&(p.ref||(p.ref=w),zn(w,a,S),a.seen.get(w).isParent=!0)}const v=a.metadataRegistry.get(t);return v&&Object.assign(p.schema,v),a.io==="input"&&Fn(t)&&(delete p.schema.examples,delete p.schema.default),a.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,a.seen.get(t).schema}function Q_(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const y=t.metadataRegistry.get(p[0])?.id;if(y){const v=o.get(y);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(y,p[0])}}const d=p=>{const y=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const w=t.external.registry.get(p[0])?.id,C=t.external.uri??(k=>k);if(w)return{ref:C(w)};const z=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=z,{defId:z,ref:`${C("__shared")}#/${y}/${z}`}}if(p[1]===l)return{ref:"#"};const _=`#/${y}/`,S=p[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:_+S}},h=p=>{if(p[1].schema.$ref)return;const y=p[1],{ref:v,defId:_}=d(p);y.def={...y.schema},_&&(y.defId=_);const S=y.schema;for(const w in S)delete S[w];S.$ref=v};if(t.cycles==="throw")for(const p of t.seen.entries()){const y=p[1];if(y.cycle)throw new Error(`Cycle detected: #/${y.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const y=p[1];if(a===p[0]){h(p);continue}if(t.external){const _=t.external.registry.get(p[0])?.id;if(a!==p[0]&&_){h(p);continue}}if(t.metadataRegistry.get(p[0])?.id){h(p);continue}if(y.cycle){h(p);continue}if(y.count>1&&t.reused==="ref"){h(p);continue}}}function G_(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const y=t.seen.get(p);if(y.ref===null)return;const v=y.def??y.schema,_={...v},S=y.ref;if(y.ref=null,S){o(S);const C=t.seen.get(S),z=C.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(z)):Object.assign(v,z),Object.assign(v,_),p._zod.parent===S)for(const A in v)A==="$ref"||A==="allOf"||A in _||delete v[A];if(z.$ref&&C.def)for(const A in v)A==="$ref"||A==="allOf"||A in C.def&&JSON.stringify(v[A])===JSON.stringify(C.def[A])&&delete v[A]}const w=p._zod.parent;if(w&&w!==S){o(w);const C=t.seen.get(w);if(C?.schema.$ref&&(v.$ref=C.schema.$ref,C.def))for(const z in v)z==="$ref"||z==="allOf"||z in C.def&&JSON.stringify(v[z])===JSON.stringify(C.def[z])&&delete v[z]}t.override({zodSchema:p,jsonSchema:v,path:y.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(a)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,l.def??l.schema);const h=t.external?.defs??{};for(const p of t.seen.entries()){const y=p[1];y.def&&y.defId&&(h[y.defId]=y.def)}t.external||Object.keys(h).length>0&&(t.target==="draft-2020-12"?d.$defs=h:d.definitions=h);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...a["~standard"],jsonSchema:{input:sd(a,"input",t.processors),output:sd(a,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Fn(t,a){const l=a??{seen:new Set};if(l.seen.has(t))return!1;l.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Fn(o.element,l);if(o.type==="set")return Fn(o.valueType,l);if(o.type==="lazy")return Fn(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Fn(o.innerType,l);if(o.type==="intersection")return Fn(o.left,l)||Fn(o.right,l);if(o.type==="record"||o.type==="map")return Fn(o.keyType,l)||Fn(o.valueType,l);if(o.type==="pipe")return Fn(o.in,l)||Fn(o.out,l);if(o.type==="object"){for(const d in o.shape)if(Fn(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(Fn(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(Fn(d,l))return!0;return!!(o.rest&&Fn(o.rest,l))}return!1}const aC=(t,a={})=>l=>{const o=K_({...l,processors:a});return zn(t,o),Q_(o,t),G_(o,t)},sd=(t,a,l={})=>o=>{const{libraryOptions:d,target:h}=o??{},p=K_({...d??{},target:h,io:a,processors:l});return zn(t,p),Q_(p,t),G_(p,t)},iC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},sC=(t,a,l,o)=>{const d=l;d.type="string";const{minimum:h,maximum:p,format:y,patterns:v,contentEncoding:_}=t._zod.bag;if(typeof h=="number"&&(d.minLength=h),typeof p=="number"&&(d.maxLength=p),y&&(d.format=iC[y]??y,d.format===""&&delete d.format,y==="time"&&delete d.format),_&&(d.contentEncoding=_),v&&v.size>0){const S=[...v];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...a.target==="draft-07"||a.target==="draft-04"||a.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},rC=(t,a,l,o)=>{const d=l,{minimum:h,maximum:p,format:y,multipleOf:v,exclusiveMaximum:_,exclusiveMinimum:S}=t._zod.bag;typeof y=="string"&&y.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof h=="number"&&(d.minimum=h,typeof S=="number"&&a.target!=="draft-04"&&(S>=h?delete d.minimum:delete d.exclusiveMinimum)),typeof _=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.maximum=_,d.exclusiveMaximum=!0):d.exclusiveMaximum=_),typeof p=="number"&&(d.maximum=p,typeof _=="number"&&a.target!=="draft-04"&&(_<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},lC=(t,a,l,o)=>{l.type="boolean"},oC=(t,a,l,o)=>{a.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},uC=(t,a,l,o)=>{l.not={}},cC=(t,a,l,o)=>{},dC=(t,a,l,o)=>{const d=t._zod.def,h=w_(d.entries);h.every(p=>typeof p=="number")&&(l.type="number"),h.every(p=>typeof p=="string")&&(l.type="string"),l.enum=h},hC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},mC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},fC=(t,a,l,o)=>{const d=l,h=t._zod.def,{minimum:p,maximum:y}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof y=="number"&&(d.maxItems=y),d.type="array",d.items=zn(h.element,a,{...o,path:[...o.path,"items"]})},pC=(t,a,l,o)=>{const d=l,h=t._zod.def;d.type="object",d.properties={};const p=h.shape;for(const _ in p)d.properties[_]=zn(p[_],a,{...o,path:[...o.path,"properties",_]});const y=new Set(Object.keys(p)),v=new Set([...y].filter(_=>{const S=h.shape[_]._zod;return a.io==="input"?S.optin===void 0:S.optout===void 0}));v.size>0&&(d.required=Array.from(v)),h.catchall?._zod.def.type==="never"?d.additionalProperties=!1:h.catchall?h.catchall&&(d.additionalProperties=zn(h.catchall,a,{...o,path:[...o.path,"additionalProperties"]})):a.io==="output"&&(d.additionalProperties=!1)},gC=(t,a,l,o)=>{const d=t._zod.def,h=d.inclusive===!1,p=d.options.map((y,v)=>zn(y,a,{...o,path:[...o.path,h?"oneOf":"anyOf",v]}));h?l.oneOf=p:l.anyOf=p},yC=(t,a,l,o)=>{const d=t._zod.def,h=zn(d.left,a,{...o,path:[...o.path,"allOf",0]}),p=zn(d.right,a,{...o,path:[...o.path,"allOf",1]}),y=_=>"allOf"in _&&Object.keys(_).length===1,v=[...y(h)?h.allOf:[h],...y(p)?p.allOf:[p]];l.allOf=v},xC=(t,a,l,o)=>{const d=t._zod.def,h=zn(d.innerType,a,o),p=a.seen.get(t);a.target==="openapi-3.0"?(p.ref=d.innerType,l.nullable=!0):l.anyOf=[h,{type:"null"}]},vC=(t,a,l,o)=>{const d=t._zod.def;zn(d.innerType,a,o);const h=a.seen.get(t);h.ref=d.innerType},_C=(t,a,l,o)=>{const d=t._zod.def;zn(d.innerType,a,o);const h=a.seen.get(t);h.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},bC=(t,a,l,o)=>{const d=t._zod.def;zn(d.innerType,a,o);const h=a.seen.get(t);h.ref=d.innerType,a.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},NC=(t,a,l,o)=>{const d=t._zod.def;zn(d.innerType,a,o);const h=a.seen.get(t);h.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=p},jC=(t,a,l,o)=>{const d=t._zod.def,h=a.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;zn(h,a,o);const p=a.seen.get(t);p.ref=h},SC=(t,a,l,o)=>{const d=t._zod.def;zn(d.innerType,a,o);const h=a.seen.get(t);h.ref=d.innerType,l.readOnly=!0},V_=(t,a,l,o)=>{const d=t._zod.def;zn(d.innerType,a,o);const h=a.seen.get(t);h.ref=d.innerType},wC=Se("ZodISODateTime",(t,a)=>{kk.init(t,a),en.init(t,a)});function EC(t){return MT(wC,t)}const kC=Se("ZodISODate",(t,a)=>{Tk.init(t,a),en.init(t,a)});function TC(t){return OT(kC,t)}const CC=Se("ZodISOTime",(t,a)=>{Ck.init(t,a),en.init(t,a)});function AC(t){return DT(CC,t)}const zC=Se("ZodISODuration",(t,a)=>{Ak.init(t,a),en.init(t,a)});function MC(t){return RT(zC,t)}const OC=(t,a)=>{A_.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:l=>x1(t,l)},flatten:{value:l=>y1(t,l)},addIssue:{value:l=>{t.issues.push(l),t.message=JSON.stringify(t.issues,_f,2)}},addIssues:{value:l=>{t.issues.push(...l),t.message=JSON.stringify(t.issues,_f,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ba=Se("ZodError",OC,{Parent:Error}),DC=Wf(Ba),RC=ep(Ba),LC=xd(Ba),PC=vd(Ba),BC=b1(Ba),IC=N1(Ba),UC=j1(Ba),ZC=S1(Ba),qC=w1(Ba),FC=E1(Ba),HC=k1(Ba),KC=T1(Ba),on=Se("ZodType",(t,a)=>(ln.init(t,a),Object.assign(t["~standard"],{jsonSchema:{input:sd(t,"input"),output:sd(t,"output")}}),t.toJSONSchema=aC(t,{}),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...l)=>t.clone(Ls(a,{checks:[...a.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(l,o)=>Ps(t,l,o),t.brand=()=>t,t.register=((l,o)=>(l.add(t,o),t)),t.parse=(l,o)=>DC(t,l,o,{callee:t.parse}),t.safeParse=(l,o)=>LC(t,l,o),t.parseAsync=async(l,o)=>RC(t,l,o,{callee:t.parseAsync}),t.safeParseAsync=async(l,o)=>PC(t,l,o),t.spa=t.safeParseAsync,t.encode=(l,o)=>BC(t,l,o),t.decode=(l,o)=>IC(t,l,o),t.encodeAsync=async(l,o)=>UC(t,l,o),t.decodeAsync=async(l,o)=>ZC(t,l,o),t.safeEncode=(l,o)=>qC(t,l,o),t.safeDecode=(l,o)=>FC(t,l,o),t.safeEncodeAsync=async(l,o)=>HC(t,l,o),t.safeDecodeAsync=async(l,o)=>KC(t,l,o),t.refine=(l,o)=>t.check(BA(l,o)),t.superRefine=l=>t.check(IA(l)),t.overwrite=l=>t.check(Bl(l)),t.optional=()=>dv(t),t.exactOptional=()=>wA(t),t.nullable=()=>hv(t),t.nullish=()=>dv(hv(t)),t.nonoptional=l=>zA(t,l),t.array=()=>yA(t),t.or=l=>rd([t,l]),t.and=l=>bA(t,l),t.transform=l=>mv(t,jA(l)),t.default=l=>TA(t,l),t.prefault=l=>AA(t,l),t.catch=l=>OA(t,l),t.pipe=l=>mv(t,l),t.readonly=()=>LA(t),t.describe=l=>{const o=t.clone();return Qo.add(o,{description:l}),o},Object.defineProperty(t,"description",{get(){return Qo.get(t)?.description},configurable:!0}),t.meta=(...l)=>{if(l.length===0)return Qo.get(t);const o=t.clone();return Qo.add(o,l[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=l=>l(t),t)),Y_=Se("_ZodString",(t,a)=>{tp.init(t,a),on.init(t,a),t._zod.processJSONSchema=(o,d,h)=>sC(t,o,d);const l=t._zod.bag;t.format=l.format??null,t.minLength=l.minimum??null,t.maxLength=l.maximum??null,t.regex=(...o)=>t.check(qT(...o)),t.includes=(...o)=>t.check(KT(...o)),t.startsWith=(...o)=>t.check(QT(...o)),t.endsWith=(...o)=>t.check(GT(...o)),t.min=(...o)=>t.check(id(...o)),t.max=(...o)=>t.check(F_(...o)),t.length=(...o)=>t.check(H_(...o)),t.nonempty=(...o)=>t.check(id(1,...o)),t.lowercase=o=>t.check(FT(o)),t.uppercase=o=>t.check(HT(o)),t.trim=()=>t.check(YT()),t.normalize=(...o)=>t.check(VT(...o)),t.toLowerCase=()=>t.check($T()),t.toUpperCase=()=>t.check(XT()),t.slugify=()=>t.check(JT())}),QC=Se("ZodString",(t,a)=>{tp.init(t,a),Y_.init(t,a),t.email=l=>t.check(dT(GC,l)),t.url=l=>t.check(gT(VC,l)),t.jwt=l=>t.check(zT(uA,l)),t.emoji=l=>t.check(yT(YC,l)),t.guid=l=>t.check(iv(ov,l)),t.uuid=l=>t.check(hT(Pc,l)),t.uuidv4=l=>t.check(mT(Pc,l)),t.uuidv6=l=>t.check(fT(Pc,l)),t.uuidv7=l=>t.check(pT(Pc,l)),t.nanoid=l=>t.check(xT($C,l)),t.guid=l=>t.check(iv(ov,l)),t.cuid=l=>t.check(vT(XC,l)),t.cuid2=l=>t.check(_T(JC,l)),t.ulid=l=>t.check(bT(WC,l)),t.base64=l=>t.check(TT(rA,l)),t.base64url=l=>t.check(CT(lA,l)),t.xid=l=>t.check(NT(eA,l)),t.ksuid=l=>t.check(jT(tA,l)),t.ipv4=l=>t.check(ST(nA,l)),t.ipv6=l=>t.check(wT(aA,l)),t.cidrv4=l=>t.check(ET(iA,l)),t.cidrv6=l=>t.check(kT(sA,l)),t.e164=l=>t.check(AT(oA,l)),t.datetime=l=>t.check(EC(l)),t.date=l=>t.check(TC(l)),t.time=l=>t.check(AC(l)),t.duration=l=>t.check(MC(l))});function xa(t){return cT(QC,t)}const en=Se("ZodStringFormat",(t,a)=>{Xt.init(t,a),Y_.init(t,a)}),GC=Se("ZodEmail",(t,a)=>{xk.init(t,a),en.init(t,a)}),ov=Se("ZodGUID",(t,a)=>{gk.init(t,a),en.init(t,a)}),Pc=Se("ZodUUID",(t,a)=>{yk.init(t,a),en.init(t,a)}),VC=Se("ZodURL",(t,a)=>{vk.init(t,a),en.init(t,a)}),YC=Se("ZodEmoji",(t,a)=>{_k.init(t,a),en.init(t,a)}),$C=Se("ZodNanoID",(t,a)=>{bk.init(t,a),en.init(t,a)}),XC=Se("ZodCUID",(t,a)=>{Nk.init(t,a),en.init(t,a)}),JC=Se("ZodCUID2",(t,a)=>{jk.init(t,a),en.init(t,a)}),WC=Se("ZodULID",(t,a)=>{Sk.init(t,a),en.init(t,a)}),eA=Se("ZodXID",(t,a)=>{wk.init(t,a),en.init(t,a)}),tA=Se("ZodKSUID",(t,a)=>{Ek.init(t,a),en.init(t,a)}),nA=Se("ZodIPv4",(t,a)=>{zk.init(t,a),en.init(t,a)}),aA=Se("ZodIPv6",(t,a)=>{Mk.init(t,a),en.init(t,a)}),iA=Se("ZodCIDRv4",(t,a)=>{Ok.init(t,a),en.init(t,a)}),sA=Se("ZodCIDRv6",(t,a)=>{Dk.init(t,a),en.init(t,a)}),rA=Se("ZodBase64",(t,a)=>{Rk.init(t,a),en.init(t,a)}),lA=Se("ZodBase64URL",(t,a)=>{Pk.init(t,a),en.init(t,a)}),oA=Se("ZodE164",(t,a)=>{Bk.init(t,a),en.init(t,a)}),uA=Se("ZodJWT",(t,a)=>{Uk.init(t,a),en.init(t,a)}),$_=Se("ZodNumber",(t,a)=>{I_.init(t,a),on.init(t,a),t._zod.processJSONSchema=(o,d,h)=>rC(t,o,d),t.gt=(o,d)=>t.check(rv(o,d)),t.gte=(o,d)=>t.check(Cm(o,d)),t.min=(o,d)=>t.check(Cm(o,d)),t.lt=(o,d)=>t.check(sv(o,d)),t.lte=(o,d)=>t.check(Tm(o,d)),t.max=(o,d)=>t.check(Tm(o,d)),t.int=o=>t.check(uv(o)),t.safe=o=>t.check(uv(o)),t.positive=o=>t.check(rv(0,o)),t.nonnegative=o=>t.check(Cm(0,o)),t.negative=o=>t.check(sv(0,o)),t.nonpositive=o=>t.check(Tm(0,o)),t.multipleOf=(o,d)=>t.check(lv(o,d)),t.step=(o,d)=>t.check(lv(o,d)),t.finite=()=>t;const l=t._zod.bag;t.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),t.isFinite=!0,t.format=l.format??null}),cA=Se("ZodNumberFormat",(t,a)=>{Zk.init(t,a),$_.init(t,a)});function uv(t){return PT(cA,t)}const dA=Se("ZodBoolean",(t,a)=>{qk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>lC(t,l,o)});function bd(t){return BT(dA,t)}const hA=Se("ZodNull",(t,a)=>{Fk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>oC(t,l,o)});function Nf(t){return IT(hA,t)}const mA=Se("ZodUnknown",(t,a)=>{Hk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>cC()});function cv(){return UT(mA)}const fA=Se("ZodNever",(t,a)=>{Kk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>uC(t,l,o)});function pA(t){return ZT(fA,t)}const gA=Se("ZodArray",(t,a)=>{Qk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>fC(t,l,o,d),t.element=a.element,t.min=(l,o)=>t.check(id(l,o)),t.nonempty=l=>t.check(id(1,l)),t.max=(l,o)=>t.check(F_(l,o)),t.length=(l,o)=>t.check(H_(l,o)),t.unwrap=()=>t.element});function yA(t,a){return WT(gA,t,a)}const xA=Se("ZodObject",(t,a)=>{Vk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>pC(t,l,o,d),Dt(t,"shape",()=>a.shape),t.keyof=()=>Sf(Object.keys(t._zod.def.shape)),t.catchall=l=>t.clone({...t._zod.def,catchall:l}),t.passthrough=()=>t.clone({...t._zod.def,catchall:cv()}),t.loose=()=>t.clone({...t._zod.def,catchall:cv()}),t.strict=()=>t.clone({...t._zod.def,catchall:pA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=l=>h1(t,l),t.safeExtend=l=>m1(t,l),t.merge=l=>f1(t,l),t.pick=l=>c1(t,l),t.omit=l=>d1(t,l),t.partial=(...l)=>p1(X_,t,l[0]),t.required=(...l)=>g1(J_,t,l[0])});function Ia(t,a){const l={type:"object",shape:t??{},...He(a)};return new xA(l)}const vA=Se("ZodUnion",(t,a)=>{Yk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>gC(t,l,o,d),t.options=a.options});function rd(t,a){return new vA({type:"union",options:t,...He(a)})}const _A=Se("ZodIntersection",(t,a)=>{$k.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>yC(t,l,o,d)});function bA(t,a){return new _A({type:"intersection",left:t,right:a})}const jf=Se("ZodEnum",(t,a)=>{Xk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(o,d,h)=>dC(t,o,d),t.enum=a.entries,t.options=Object.values(a.entries);const l=new Set(Object.keys(a.entries));t.extract=(o,d)=>{const h={};for(const p of o)if(l.has(p))h[p]=a.entries[p];else throw new Error(`Key ${p} not found in enum`);return new jf({...a,checks:[],...He(d),entries:h})},t.exclude=(o,d)=>{const h={...a.entries};for(const p of o)if(l.has(p))delete h[p];else throw new Error(`Key ${p} not found in enum`);return new jf({...a,checks:[],...He(d),entries:h})}});function Sf(t,a){const l=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new jf({type:"enum",entries:l,...He(a)})}const NA=Se("ZodTransform",(t,a)=>{Jk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>mC(t,l),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new j_(t.constructor.name);l.addIssue=h=>{if(typeof h=="string")l.issues.push(eu(h,l.value,a));else{const p=h;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=l.value),p.inst??(p.inst=t),l.issues.push(eu(p))}};const d=a.transform(l.value,l);return d instanceof Promise?d.then(h=>(l.value=h,l)):(l.value=d,l)}});function jA(t){return new NA({type:"transform",transform:t})}const X_=Se("ZodOptional",(t,a)=>{q_.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>V_(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function dv(t){return new X_({type:"optional",innerType:t})}const SA=Se("ZodExactOptional",(t,a)=>{Wk.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>V_(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function wA(t){return new SA({type:"optional",innerType:t})}const EA=Se("ZodNullable",(t,a)=>{eT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>xC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function hv(t){return new EA({type:"nullable",innerType:t})}const kA=Se("ZodDefault",(t,a)=>{tT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>_C(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function TA(t,a){return new kA({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():k_(a)}})}const CA=Se("ZodPrefault",(t,a)=>{nT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>bC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function AA(t,a){return new CA({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():k_(a)}})}const J_=Se("ZodNonOptional",(t,a)=>{aT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>vC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function zA(t,a){return new J_({type:"nonoptional",innerType:t,...He(a)})}const MA=Se("ZodCatch",(t,a)=>{iT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>NC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function OA(t,a){return new MA({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const DA=Se("ZodPipe",(t,a)=>{sT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>jC(t,l,o,d),t.in=a.in,t.out=a.out});function mv(t,a){return new DA({type:"pipe",in:t,out:a})}const RA=Se("ZodReadonly",(t,a)=>{rT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>SC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function LA(t){return new RA({type:"readonly",innerType:t})}const PA=Se("ZodCustom",(t,a)=>{lT.init(t,a),on.init(t,a),t._zod.processJSONSchema=(l,o,d)=>hC(t,l)});function BA(t,a={}){return eC(PA,t,a)}function IA(t){return tC(t)}function xn(t){return LT($_,t)}const UA=Ia({employee_id:xn().int().positive(),expires_in_minutes:xn().int().positive().max(43200)});function Bc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function fv(t,a){return`${new Intl.DateTimeFormat("tr-TR",{month:"long"}).format(new Date(Date.UTC(t,a-1,1)))} ${t}`}function ZA(t){return t==="FINISHED"?"status-badge status-badge-ok":t==="IN_PROGRESS"?"status-badge status-badge-pending":"status-badge status-badge-neutral"}function qA(){const t=Mn(),[a,l]=j.useState(""),[o,d]=j.useState("60"),[h,p]=j.useState(null),[y,v]=j.useState(null),_=Le({queryKey:["departments"],queryFn:Rs}),S=Le({queryKey:["employees"],queryFn:()=>ti({status:"active"})}),w=Le({queryKey:["devices"],queryFn:f_}),C=Le({queryKey:["leaves","dashboard"],queryFn:()=>g_({})}),z=Le({queryKey:["attendance-events","dashboard"],queryFn:()=>Gf({limit:8})}),k=Le({queryKey:["dashboard-employee-snapshot",a],queryFn:()=>p_({employee_id:Number(a)}),enabled:!!a,staleTime:2e4}),A=Ye({mutationFn:y_,onSuccess:G=>{p({token:G.token,invite_url:G.invite_url}),v(null),t.invalidateQueries({queryKey:["devices"]})},onError:G=>{v(I2(G,"Claim token olusturulamadi."))}}),O=()=>{p(null),v(null);const G=UA.safeParse({employee_id:a,expires_in_minutes:o});if(!G.success){v(G.error.issues[0]?.message??"Form alanlarini kontrol et.");return}A.mutate(G.data)},F=_.data??[],R=S.data??[],P=w.data??[],Q=C.data??[],$=z.data??[],V=j.useMemo(()=>R.find(G=>String(G.id)===a)??null,[R,a]);return _.isLoading||S.isLoading||w.isLoading||C.isLoading||z.isLoading?i.jsx(Ct,{}):_.isError||S.isError||w.isError||C.isError||z.isError?i.jsx(xt,{message:"Dashboard verileri alinamadi."}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(jn,{title:"Genel Bakis",description:"Calisan odakli claim token operasyonu ve anlik puantaj gorunumu."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[i.jsxs(ze,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Departman"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:F.length})]}),i.jsxs(ze,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Calisan"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:R.length})]}),i.jsxs(ze,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Cihaz"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:P.length})]}),i.jsxs(ze,{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Izin Kaydi"}),i.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:Q.length})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.05fr_1.3fr]",children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Claim Token Uretimi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Calisan adi veya ID secip employee claim URL olustur."}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(Ra,{label:"Calisan",employees:R,value:a,onChange:l,placeholder:"Calisan adi veya #ID",helperText:"Tek bir calisan secildiginde dashboard ozet kartlari otomatik dolar."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Token suresi (dakika)",i.jsx("input",{value:o,onChange:G=>d(G.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),V?i.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[i.jsxs("p",{children:["Secili: #",V.id," - ",V.full_name]}),i.jsxs("p",{children:["Departman: ",V.department_id??"-"]})]}):null,i.jsx("button",{type:"button",onClick:O,disabled:A.isPending||!a,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Olusturuluyor...":"Claim Token Olustur"}),h?i.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[i.jsxs("p",{className:"font-semibold",children:["Token: ",h.token]}),i.jsxs("p",{className:"mt-1 break-all",children:["URL: ",h.invite_url]})]}):null,y?i.jsx("div",{className:"form-validation",children:y}):null]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Canli Ozet"}),a?null:i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bir calisan secildiginde bu ay/gecen ay mesai, cihaz ve konum bilgisi gorunur."}),a&&k.isLoading?i.jsx(Ct,{label:"Calisan ozeti yukleniyor..."}):null,a&&k.isError?i.jsx(xt,{message:"Calisan ozeti alinamadi."}):null,k.data?i.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:ZA(k.data.today_status),children:k.data.today_status}),i.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Aktif cihaz: ",k.data.active_devices,"/",k.data.total_devices]}),i.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Son guncelleme: ",Bc(k.data.generated_at_utc)]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:fv(k.data.current_month.year,k.data.current_month.month)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",i.jsx(De,{minutes:k.data.current_month.worked_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",i.jsx(De,{minutes:k.data.current_month.plan_overtime_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",i.jsx(De,{minutes:k.data.current_month.extra_work_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",i.jsx(De,{minutes:k.data.current_month.overtime_minutes})]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:fv(k.data.previous_month.year,k.data.previous_month.month)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",i.jsx(De,{minutes:k.data.previous_month.worked_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",i.jsx(De,{minutes:k.data.previous_month.plan_overtime_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",i.jsx(De,{minutes:k.data.previous_month.extra_work_minutes})]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",i.jsx(De,{minutes:k.data.previous_month.overtime_minutes})]})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Puantaj Olayi"}),k.data.last_event?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Tip: ",k.data.last_event.event_type]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Bc(k.data.last_event.ts_utc)]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Konum: ",k.data.last_event.location_status]})]}):i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Kayit bulunamadi."})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Konum"}),k.data.latest_location?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Lat/Lon: ",k.data.latest_location.lat.toFixed(6),", ",k.data.latest_location.lon.toFixed(6)]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Bc(k.data.latest_location.ts_utc)]})]}):i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Konum verisi yok."})]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cihazlar"}),k.data.devices.length===0?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cihaz kaydi bulunamadi."}):i.jsx("div",{className:"mt-2 space-y-1 text-xs text-slate-700",children:k.data.devices.slice(0,8).map(G=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded border border-slate-100 px-2 py-1",children:[i.jsxs("span",{children:["#",G.id," - ",G.device_fingerprint]}),i.jsx("span",{className:G.is_active?"status-badge status-badge-ok":"status-badge status-badge-danger",children:G.is_active?"AKTIF":"PASIF"})]},G.id))})]})]}):null]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Son Attendance Eventleri"}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"Calisan"}),i.jsx("th",{className:"py-2",children:"Tip"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Zaman"})]})}),i.jsx("tbody",{children:$.map(G=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:G.id}),i.jsx("td",{className:"py-2",children:G.employee_id}),i.jsx("td",{className:"py-2",children:G.type}),i.jsx("td",{className:"py-2",children:G.location_status}),i.jsx("td",{className:"py-2",children:Bc(G.ts_utc)})]},G.id))})]})})]})]})}function FA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function HA(){const t=new Date,{pushToast:a}=On(),l={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=j.useState(l),[h,p]=j.useState(l),[y,v]=j.useState(!1),_=Le({queryKey:["departments"],queryFn:Rs}),S=Number(h.year),w=Number(h.month),C=Number(h.departmentId),z=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=Le({queryKey:["department-summary",S,w,h.departmentId||"all",h.includeInactive?"with-inactive":"active-only"],queryFn:()=>N2({year:S,month:w,department_id:Number.isFinite(C)&&C>0?C:void 0,include_inactive:h.includeInactive}),enabled:z}),A=k.data??[],O=j.useMemo(()=>A.reduce(($,V)=>($.worked+=V.worked_minutes,$.planOvertime+=V.plan_overtime_minutes,$.legalExtra+=V.legal_extra_work_minutes,$.legalOvertime+=V.legal_overtime_minutes,$.employeeCount+=V.employee_count,$),{worked:0,planOvertime:0,legalExtra:0,legalOvertime:0,employeeCount:0}),[A]),F=j.useMemo(()=>{const $=[`Yl: ${h.year}`,`Ay: ${h.month}`];if(h.departmentId){const V=_.data?.find(G=>G.id===Number(h.departmentId));$.push(`Departman: ${V?.name??h.departmentId}`)}return h.includeInactive&&$.push("Arivdekiler dahil"),$},[h,_.data]),R=()=>p({...o}),P=()=>{d(l),p(l)},Q=async()=>{if(!z){a({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const $=Number.isFinite(C)&&C>0?await A2({department_id:C,year:S,month:w,include_inactive:h.includeInactive}):await z2({year:S,month:w,include_inactive:h.includeInactive}),V=Number.isFinite(C)&&C>0?`department-${C}`:"all";FA($,`puantaj-${V}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch($){a({variant:"error",title:"Excel indirilemedi",description:Ie($,"Dosya oluturulamad.").message})}finally{v(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma, plan st sre ve yasal fazla mesai deerlerini karlatrn.",action:i.jsx("button",{type:"button",onClick:()=>{Q()},disabled:y,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:y?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{type:"number",value:o.year,onChange:$=>d(V=>({...V,year:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:o.month,onChange:$=>d(V=>({...V,month:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",i.jsxs("select",{value:o.departmentId,onChange:$=>d(V=>({...V,departmentId:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:_.isLoading,children:[i.jsx("option",{value:"",children:"Tm"}),(_.data??[]).map($=>i.jsxs("option",{value:$.id,children:["#",$.id," - ",$.name]},$.id))]})]})]}),i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:$=>d(V=>({...V,includeInactive:$.target.checked}))}),"Arivdeki alanlar dahil et"]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:R,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:P,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:F.map($=>i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:$},$))})]}),z?null:i.jsx(xt,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?i.jsx(Ct,{}):null,k.isError?i.jsx(xt,{message:Ie(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?i.jsxs(i.Fragment,{children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-5",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.worked})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Plan st Sre"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.planOvertime})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Sre"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.legalExtra})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:O.legalOvertime})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),i.jsx("p",{className:"text-lg font-semibold",children:O.employeeCount})]})]})]}),A.length===0?i.jsx(ze,{children:i.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):i.jsx(ze,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"alan Says"}),i.jsx("th",{className:"py-2",children:"Toplam alma"}),i.jsx("th",{className:"py-2",children:"Plan st"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sre"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"})]})}),i.jsx("tbody",{children:A.map($=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsxs("td",{className:"py-2",children:["#",$.department_id," - ",$.department_name]}),i.jsx("td",{className:"py-2",children:$.employee_count}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:$.legal_overtime_minutes})})]},$.department_id))})]})})})]}):null]})}function Gi({value:t,onChange:a,placeholder:l="Isme gore ara..."}){return i.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",i.jsx("input",{value:t,onChange:o=>a(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const pv=Ia({name:xa().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:rd([xn().int().positive(),Nf()])});function gv(t){if(Ht.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const a=Ie(t,"Departman olusturulamadi.");return a.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":a.message}function KA(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState(!1),[S,w]=j.useState(""),[C,z]=j.useState(null),[k,A]=j.useState(""),[O,F]=j.useState(""),[R,P]=j.useState(null),Q=Le({queryKey:["departments",S],queryFn:()=>LE(S?{region_id:Number(S)}:void 0)}),$=Le({queryKey:["regions","departments-page"],queryFn:()=>pd({include_inactive:!0})}),V=Ye({mutationFn:PE,onSuccess:U=>{o(""),h(""),P(null),_(!1),a({variant:"success",title:"Departman olusturuldu",description:`${U.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:U=>{const le=gv(U);P(le),a({variant:"error",title:"Departman olusturulamadi",description:le})}}),G=Ye({mutationFn:({departmentId:U,name:le,regionIdValue:Z})=>BE(U,{name:le,region_id:Z}),onSuccess:U=>{P(null),z(null),A(""),F(""),a({variant:"success",title:"Departman guncellendi",description:`${U.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:U=>{const le=gv(U);P(le),a({variant:"error",title:"Departman guncellenemedi",description:le})}}),K=U=>{U.preventDefault(),P(null);const le=d.trim()===""?null:Number(d),Z=pv.safeParse({name:l,region_id:le});if(!Z.success){const se=Z.error.issues[0]?.message??"Departman alanlarini kontrol edin.";P(se),a({variant:"error",title:"Form hatasi",description:se});return}V.mutate({name:Z.data.name,region_id:Z.data.region_id})},ie=U=>{if(U.preventDefault(),P(null),!C)return;const le=O.trim()===""?null:Number(O),Z=pv.safeParse({name:k,region_id:le});if(!Z.success){const se=Z.error.issues[0]?.message??"Departman alanlarini kontrol edin.";P(se),a({variant:"error",title:"Form hatasi",description:se});return}G.mutate({departmentId:C,name:Z.data.name,regionIdValue:Z.data.region_id})},pe=Q.data??[],ee=$.data??[],oe=j.useMemo(()=>new Map(ee.map(U=>[U.id,U.name])),[ee]),ue=j.useMemo(()=>{const U=p.trim().toLowerCase();return U?pe.filter(le=>le.name.toLowerCase().includes(U)):pe},[pe,p]);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:i.jsx("button",{type:"button",onClick:()=>_(U=>!U),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?i.jsxs(ze,{children:[i.jsxs("form",{onSubmit:K,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",i.jsx("input",{value:l,onChange:U=>o(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:d,onChange:U=>h(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Bolge yok"}),ee.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]}),i.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[i.jsx("button",{type:"submit",disabled:V.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:V.isPending?"Kaydediliyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{_(!1),P(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),R?i.jsx("div",{className:"form-validation",children:R}):null]}):null,C?i.jsxs(ze,{children:[i.jsxs("form",{onSubmit:ie,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",i.jsx("input",{value:k,onChange:U=>A(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:O,onChange:U=>F(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Bolge yok"}),ee.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]}),i.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[i.jsx("button",{type:"submit",disabled:G.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Guncelleniyor...":"Guncelle"}),i.jsx("button",{type:"button",onClick:()=>{z(null),A(""),F(""),P(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),R?i.jsx("div",{className:"form-validation",children:R}):null]}):null,Q.isLoading||$.isLoading?i.jsx(Ct,{}):null,Q.isError||$.isError?i.jsx(xt,{message:"Departman verileri alinamadi."}):null,!Q.isLoading&&!Q.isError&&!$.isLoading&&!$.isError?i.jsxs(ze,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Gi,{value:p,onChange:y,placeholder:"Departman adina gore ara..."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:S,onChange:U=>w(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),ee.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman ID"}),i.jsx("th",{className:"py-2",children:"Departman Adi"}),i.jsx("th",{className:"py-2",children:"Bolge"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:ue.map(U=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:U.id}),i.jsx("td",{className:"py-2",children:U.name}),i.jsx("td",{className:"py-2",children:U.region_name??(U.region_id?oe.get(U.region_id):"-")??"-"}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>{z(U.id),A(U.name),F(U.region_id?String(U.region_id):""),P(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},U.id))})]})}),ue.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Ds({value:t}){const a=t.toUpperCase();return a==="OK"||a==="AKTIF"||a==="APPROVED"?i.jsx("span",{className:"status-badge status-badge-ok",children:t}):a==="INCOMPLETE"?i.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):a==="LEAVE"?i.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):a==="OFF"?i.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):a==="PENDING"?i.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):a==="REJECTED"||a==="PASIF"?i.jsx("span",{className:"status-badge status-badge-danger",children:t}):i.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function QA(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function GA(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState(""),[p,y]=j.useState(!0),[v,_]=j.useState(""),[S,w]=j.useState(1),[C,z]=j.useState(50),[k,A]=j.useState(null),O=l?Number(l):void 0,F=O?0:(S-1)*C,R=Le({queryKey:["employee-device-overview-summary",O??null,d,p,v,S,C],queryFn:()=>vf({employee_id:O,region_id:d?Number(d):void 0,include_inactive:p,q:v.trim()||void 0,offset:F,limit:O?1:C,device_limit:1})}),P=Le({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>vf({employee_id:k??void 0,include_inactive:!0,offset:0,limit:1,device_limit:100})}),Q=Le({queryKey:["employees","all-for-devices"],queryFn:()=>ti({include_inactive:!0,status:"all"})}),$=Le({queryKey:["regions","devices-page"],queryFn:()=>pd({include_inactive:!0})}),V=Ye({mutationFn:({deviceId:ue,isActive:U})=>v2(ue,{is_active:U}),onSuccess:ue=>{a({variant:"success",title:ue.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${ue.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:ue=>{a({variant:"error",title:"Cihaz durumu gncellenemedi",description:Ie(ue,"lem baarsz.").message})}}),G=Q.data??[],K=$.data??[],ie=R.data??[],pe=P.data?.[0],ee=!O&&ie.length===C,oe=!O&&S>1;return R.isLoading||Q.isLoading||$.isLoading?i.jsx(Ct,{}):R.isError?i.jsx(xt,{message:Ie(R.error,"Cihaz verisi alnamad.").message}):Q.isError?i.jsx(xt,{message:Ie(Q.error,"alan listesi alnamad.").message}):$.isError?i.jsx(xt,{message:Ie($.error,"Bolge listesi alinamadi.").message}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),i.jsxs(ze,{children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[i.jsx(Ra,{label:"alan filtresi",employees:G,value:l,onChange:ue=>{o(ue),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",i.jsx("input",{type:"text",value:v,onChange:ue=>{_(ue.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",i.jsxs("select",{value:C,onChange:ue=>{z(Number(ue.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:d,onChange:ue=>{h(ue.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),K.map(ue=>i.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:ue=>{y(ue.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),O?null:i.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",disabled:!oe,onClick:()=>{w(ue=>Math.max(1,ue-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),i.jsx("button",{type:"button",disabled:!ee,onClick:()=>{w(ue=>ue+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),i.jsxs(ze,{children:[i.jsx("div",{className:"max-h-[68vh] overflow-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-2",children:"alan"}),i.jsx("th",{className:"px-2 py-2",children:"Departman"}),i.jsx("th",{className:"px-2 py-2",children:"Durum"}),i.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),i.jsx("th",{className:"px-2 py-2",children:"Token"}),i.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:ie.map(ue=>{const U=k===ue.employee_id;return i.jsxs(j.Fragment,{children:[i.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"font-medium text-slate-900",children:["#",ue.employee_id," - ",ue.employee_name]})}),i.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:ue.department_name??ue.department_id??"-"}),i.jsx("td",{className:"px-2 py-2",children:i.jsx(Ds,{value:ue.is_employee_active?"Aktif":"Pasif"})}),i.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:ue.active_devices})," aktif / ",ue.total_devices," toplam"]}),i.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",ue.token_used," B:",ue.token_pending," D:",ue.token_expired," T:",ue.token_total]}),i.jsx("td",{className:"px-2 py-2 text-right",children:i.jsx("button",{type:"button",onClick:()=>{A(le=>le===ue.employee_id?null:ue.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:U?"Kapat":"Cihazlar Ynet"})})]}),U?i.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:i.jsx("td",{colSpan:6,className:"px-2 py-3",children:P.isLoading?i.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):P.isError?i.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):pe?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-xs",children:[i.jsx("thead",{className:"uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Cihaz ID"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Fingerprint"}),i.jsx("th",{className:"py-2",children:"Oluturulma"}),i.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:pe.devices.map(le=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:le.id}),i.jsx("td",{className:"py-2",children:i.jsx(Ds,{value:le.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2 font-mono",children:le.device_fingerprint}),i.jsx("td",{className:"py-2",children:QA(le.created_at)}),i.jsx("td",{className:"py-2 text-right",children:i.jsx("button",{type:"button",disabled:V.isPending,onClick:()=>V.mutate({deviceId:le.id,isActive:!le.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${le.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:le.is_active?"Pasife Al":"Aktif Et"})})]},le.id))})]}),pe.has_more_devices?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,pe.devices.length===0?i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):i.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},ue.employee_id)})})]})}),ie.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]})]})}function VA(){const t=Mn(),{pushToast:a}=On(),l=Le({queryKey:["compliance-settings"],queryFn:E2}),[o,d]=j.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});j.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const h=Ye({mutationFn:k2,onSuccess:()=>{a({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{a({variant:"error",title:"Kayit hatasi",description:Ie(p,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?i.jsx(Ct,{}):l.isError?i.jsx(xt,{message:Ie(l.error,"Uyumluluk ayarlari alinamadi.").message}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),i.jsx(ze,{children:i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),h.mutate(o)},children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",i.jsx("input",{value:o.name,onChange:p=>d(y=>({...y,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(y=>({...y,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(y=>({...y,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",i.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(y=>({...y,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",i.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(y=>({...y,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",i.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(y=>({...y,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",i.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(y=>({...y,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",i.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(y=>({...y,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"OFF",children:"OFF"}),i.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[i.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(y=>({...y,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[i.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(y=>({...y,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),i.jsx("div",{className:"md:col-span-2",children:i.jsx("button",{type:"submit",disabled:h.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:h.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.weekly_normal_minutes_default})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.daily_max_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),i.jsx("p",{className:"font-semibold",children:i.jsx(De,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const YA=Ia({username:xa().min(1,"Kullanici adi gerekli."),password:xa().min(1,"Sifre gerekli.")});function $A(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function XA(t){return t.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":t.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function JA(){const[t]=Uf(),[a,l]=j.useState("admin"),[o,d]=j.useState(""),[h,p]=j.useState(null),[y,v]=j.useState(null),[_,S]=j.useState(!1),w=j.useMemo(()=>{const z=t.get("archive_id");if(!z)return null;const k=Number(z);return!Number.isInteger(k)||k<=0?null:k},[t]),C=async z=>{if(z.preventDefault(),p(null),v(null),!w){p({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const k=YA.safeParse({username:a,password:o});if(!k.success){p({message:k.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}S(!0);try{const A=await y2(w,k.data),O=A.file_name??`arsiv-${w}.xlsx`;$A(A.blob,O),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){p(Ie(A,"Excel dosyasi indirilemedi."))}finally{S(!1)}};return i.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),i.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:a,onChange:z=>l(z.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),i.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),h?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[i.jsx("p",{className:"font-semibold",children:XA(h)}),i.jsx("p",{className:"mt-1",children:h.message}),h.requestId?i.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",h.requestId]}):null]}):null,y?i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:y}):null,i.jsx("button",{type:"submit",disabled:_||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),i.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[bi.signatureText," | BUILD: ",bi.buildVersion]})]})})}const np=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Vo(){return Object.fromEntries(np.map(t=>[t.key,{read:!1,write:!1}]))}function WA(t){const a=Vo();return t&&np.forEach(({key:l})=>{const o=t[l];o&&(a[l]={read:!!(o.read||o.write),write:!!o.write})}),a}function yv({value:t,disabled:a=!1,onChange:l}){const o=(d,h,p)=>{const v={...t[d]??{read:!1,write:!1}};h==="read"?(v.read=p,p||(v.write=!1)):(v.write=p,p&&(v.read=!0)),l({...t,[d]:v})};return i.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"Modul"}),i.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),i.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),i.jsx("tbody",{children:np.map(d=>{const h=t[d.key]??{read:!1,write:!1};return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-3 py-2",children:d.label}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("input",{type:"checkbox",checked:h.read,disabled:a,onChange:p=>o(d.key,"read",p.target.checked)})}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("input",{type:"checkbox",checked:h.write,disabled:a,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function xv(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Vo()}}function ez(){const t=Mn(),{pushToast:a}=On(),{hasPermission:l,isSuperAdmin:o}=Pl(),d=l("admin_users"),h=l("admin_users","write"),[p,y]=j.useState(xv()),[v,_]=j.useState(null),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(""),[O,F]=j.useState(!0),[R,P]=j.useState(!1),[Q,$]=j.useState(Vo()),V=Le({queryKey:["admin-users"],queryFn:r_,enabled:d}),G=Ye({mutationFn:OE,onSuccess:()=>{a({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),y(xv()),t.invalidateQueries({queryKey:["admin-users"]})},onError:U=>{const le=Ie(U,"Admin kullanici olusturulamadi.");a({variant:"error",title:"Kayit basarisiz",description:le.message})}}),K=Ye({mutationFn:({userId:U,payload:le})=>DE(U,le),onSuccess:()=>{a({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),_(null),A(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:U=>{const le=Ie(U,"Admin kullanici guncellenemedi.");a({variant:"error",title:"Guncelleme basarisiz",description:le.message})}}),ie=Ye({mutationFn:RE,onSuccess:()=>{a({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:U=>{const le=Ie(U,"Admin kullanici silinemedi.");a({variant:"error",title:"Silme basarisiz",description:le.message})}}),pe=j.useMemo(()=>[...V.data??[]].sort((le,Z)=>le.username.localeCompare(Z.username)),[V.data]);if(!d)return i.jsx(xt,{message:"Bu alani goruntuleme yetkiniz yok."});if(V.isLoading)return i.jsx(Ct,{label:"Admin kullanicilar yukleniyor..."});if(V.isError)return i.jsx(xt,{message:"Admin kullanici listesi alinamadi."});const ee=U=>{if(U.preventDefault(),!!h){if(!o){a({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}G.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?Vo():p.permissions})}},oe=U=>{_(U),w(U.username),z(U.full_name??""),A(""),F(U.is_active),P(U.is_super_admin),$(WA(U.permissions))},ue=U=>{U.preventDefault(),!(!v||!h)&&K.mutate({userId:v.id,payload:{username:S.trim(),full_name:C.trim()||null,password:k.trim()?k:void 0,is_active:O,is_super_admin:R,permissions:R?Vo():Q}})};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),i.jsxs(ze,{children:[i.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),i.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",i.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:i.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),i.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",i.jsx("input",{value:p.username,onChange:U=>y(le=>({...le,username:U.target.value})),disabled:!h||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:p.full_name,onChange:U=>y(le=>({...le,full_name:U.target.value})),disabled:!h||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",i.jsx("input",{type:"password",value:p.password,onChange:U=>y(le=>({...le,password:U.target.value})),disabled:!h||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!h||!o,onChange:U=>y(le=>({...le,is_active:U.target.checked}))}),"Aktif"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!h||!o,onChange:U=>y(le=>({...le,is_super_admin:U.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?i.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):i.jsx(yv,{value:p.permissions,disabled:!h||!o,onChange:U=>y(le=>({...le,permissions:U}))}),i.jsx("button",{type:"submit",disabled:!h||!o||G.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{className:"py-2",children:"Kullanici"}),i.jsx("th",{className:"py-2",children:"Ad Soyad"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Rol"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:pe.map(U=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:U.id}),i.jsx("td",{className:"py-2 font-medium text-slate-900",children:U.username}),i.jsx("td",{className:"py-2",children:U.full_name??"-"}),i.jsx("td",{className:"py-2",children:i.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${U.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:U.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:U.is_super_admin?"Super Admin":"Yetkili Admin"}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",disabled:!h||!o,onClick:()=>oe(U),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),i.jsx("button",{type:"button",disabled:!h||!o||ie.isPending,onClick:()=>{window.confirm(`${U.username} kullanicisini silmek istediginize emin misiniz?`)&&ie.mutate(U.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},U.id))})]})}),pe.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),i.jsx(Jo,{open:!!v,title:"Admin Kullanici Duzenle",onClose:()=>{_(null),A("")},children:v?i.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",i.jsx("input",{value:S,onChange:U=>w(U.target.value),disabled:!h||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:C,onChange:U=>z(U.target.value),disabled:!h||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",i.jsx("input",{type:"password",value:k,onChange:U=>A(U.target.value),disabled:!h||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:O,disabled:!h||!o,onChange:U=>F(U.target.checked)}),"Aktif"]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:R,disabled:!h||!o,onChange:U=>P(U.target.checked)}),"Super Admin"]})]}),R?i.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):i.jsx(yv,{value:Q,disabled:!h||!o,onChange:$}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{_(null),A("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),i.jsx("button",{type:"submit",disabled:!h||!o||K.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function vv({label:t,value:a,onCopy:l}){return i.jsxs("label",{className:"block text-sm text-slate-700",children:[t,i.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[i.jsx("input",{readOnly:!0,value:a,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),i.jsx("button",{type:"button",onClick:()=>l(a),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Go={exports:{}};var tz=Go.exports,_v;function nz(){return _v||(_v=1,(function(t,a){(function(l,o){o(a)})(tz,(function(l){var o="1.9.4";function d(s){var u,m,x,b;for(m=1,x=arguments.length;m<x;m++){b=arguments[m];for(u in b)s[u]=b[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var x=m.call(arguments,2);return function(){return s.apply(u,x.length?x.concat(m.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function _(s,u,m){var x,b,E,I;return I=function(){x=!1,b&&(E.apply(m,b),b=!1)},E=function(){x?b=arguments:(s.apply(m,arguments),setTimeout(I,u),x=!0)},E}function S(s,u,m){var x=u[1],b=u[0],E=x-b;return s===x&&m?s:((s-b)%E+E)%E+b}function w(){return!1}function C(s,u){if(u===!1)return s;var m=Math.pow(10,u===void 0?6:u);return Math.round(s*m)/m}function z(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return z(s).split(/\s+/)}function A(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var m in u)s.options[m]=u[m];return s.options}function O(s,u,m){var x=[];for(var b in s)x.push(encodeURIComponent(m?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function R(s,u){return s.replace(F,function(m,x){var b=u[x];if(b===void 0)throw new Error("No value provided for variable "+m);return typeof b=="function"&&(b=b(u)),b})}var P=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Q(s,u){for(var m=0;m<s.length;m++)if(s[m]===u)return m;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var G=0;function K(s){var u=+new Date,m=Math.max(0,16-(u-G));return G=u+m,window.setTimeout(s,m)}var ie=window.requestAnimationFrame||V("RequestAnimationFrame")||K,pe=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ee(s,u,m){if(m&&ie===K)s.call(u);else return ie.call(window,p(s,u))}function oe(s){s&&pe.call(window,s)}var ue={__proto__:null,extend:d,create:h,bind:p,get lastId(){return y},stamp:v,throttle:_,wrapNum:S,falseFn:w,formatNum:C,trim:z,splitWords:k,setOptions:A,getParamString:O,template:R,isArray:P,indexOf:Q,emptyImageUrl:$,requestFn:ie,cancelFn:pe,requestAnimFrame:ee,cancelAnimFrame:oe};function U(){}U.extend=function(s){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,x=h(m);x.constructor=u,u.prototype=x;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&d(u,s.statics),s.includes&&(le(s.includes),d.apply(null,[x].concat(s.includes))),d(x,s),delete x.statics,delete x.includes,x.options&&(x.options=m.options?h(m.options):{},d(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,I=x._initHooks.length;E<I;E++)x._initHooks[E].call(this)}},u},U.include=function(s){var u=this.prototype.options;return d(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},U.mergeOptions=function(s){return d(this.prototype.options,s),this},U.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function le(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=P(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(s,u,m){if(typeof s=="object")for(var x in s)this._on(x,s[x],u);else{s=k(s);for(var b=0,E=s.length;b<E;b++)this._on(s[b],u,m)}return this},off:function(s,u,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],u);else{s=k(s);for(var b=arguments.length===1,E=0,I=s.length;E<I;E++)b?this._off(s[E]):this._off(s[E],u,m)}return this},_on:function(s,u,m,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,m)===!1){m===this&&(m=void 0);var b={fn:u,ctx:m};x&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,m){var x,b,E;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(b=0,E=x.length;b<E;b++)x[b].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var I=this._listens(s,u,m);if(I!==!1){var re=x[I];this._firingCount&&(re.fn=w,this._events[s]=x=x.slice()),x.splice(I,1)}}},fire:function(s,u,m){if(!this.listens(s,m))return this;var x=d({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,I=b.length;E<I;E++){var re=b[E],me=re.fn;re.once&&this.off(s,me,re.ctx),me.call(re.ctx||this,x)}this._firingCount--}}return m&&this._propagateEvent(x),this},listens:function(s,u,m,x){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(x=!!u,b=void 0,m=void 0);var E=this._events&&this._events[s];if(E&&E.length&&this._listens(s,b,m)!==!1)return!0;if(x){for(var I in this._eventParents)if(this._eventParents[I].listens(s,u,m,x))return!0}return!1},_listens:function(s,u,m){if(!this._events)return!1;var x=this._events[s]||[];if(!u)return!!x.length;m===this&&(m=void 0);for(var b=0,E=x.length;b<E;b++)if(x[b].fn===u&&x[b].ctx===m)return b;return!1},once:function(s,u,m){if(typeof s=="object")for(var x in s)this._on(x,s[x],u,!0);else{s=k(s);for(var b=0,E=s.length;b<E;b++)this._on(s[b],u,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,d({layer:s.target,propagatedFrom:s.target},s),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var se=U.extend(Z);function ce(s,u,m){this.x=m?Math.round(s):s,this.y=m?Math.round(u):u}var Te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(s){return this.clone()._add(W(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(W(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ce(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ce(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(s){s=W(s);var u=s.x-this.x,m=s.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(s){return s=W(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=W(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function W(s,u,m){return s instanceof ce?s:P(s)?new ce(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ce(s.x,s.y):new ce(s,u,m)}function M(s,u){if(s)for(var m=u?[s,u]:s,x=0,b=m.length;x<b;x++)this.extend(m[x])}M.prototype={extend:function(s){var u,m;if(!s)return this;if(s instanceof ce||typeof s[0]=="number"||"x"in s)u=m=W(s);else if(s=ne(s),u=s.min,m=s.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,m;return typeof s[0]=="number"||s instanceof ce?s=W(s):s=ne(s),s instanceof M?(u=s.min,m=s.max):u=m=s,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=ne(s);var u=this.min,m=this.max,x=s.min,b=s.max,E=b.x>=u.x&&x.x<=m.x,I=b.y>=u.y&&x.y<=m.y;return E&&I},overlaps:function(s){s=ne(s);var u=this.min,m=this.max,x=s.min,b=s.max,E=b.x>u.x&&x.x<m.x,I=b.y>u.y&&x.y<m.y;return E&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,m=this.max,x=Math.abs(u.x-m.x)*s,b=Math.abs(u.y-m.y)*s;return ne(W(u.x-x,u.y-b),W(m.x+x,m.y+b))},equals:function(s){return s?(s=ne(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ne(s,u){return!s||s instanceof M?s:new M(s,u)}function D(s,u){if(s)for(var m=u?[s,u]:s,x=0,b=m.length;x<b;x++)this.extend(m[x])}D.prototype={extend:function(s){var u=this._southWest,m=this._northEast,x,b;if(s instanceof ge)x=s,b=s;else if(s instanceof D){if(x=s._southWest,b=s._northEast,!x||!b)return this}else return s?this.extend(je(s)||q(s)):this;return!u&&!m?(this._southWest=new ge(x.lat,x.lng),this._northEast=new ge(b.lat,b.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),m.lat=Math.max(b.lat,m.lat),m.lng=Math.max(b.lng,m.lng)),this},pad:function(s){var u=this._southWest,m=this._northEast,x=Math.abs(u.lat-m.lat)*s,b=Math.abs(u.lng-m.lng)*s;return new D(new ge(u.lat-x,u.lng-b),new ge(m.lat+x,m.lng+b))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ge||"lat"in s?s=je(s):s=q(s);var u=this._southWest,m=this._northEast,x,b;return s instanceof D?(x=s.getSouthWest(),b=s.getNorthEast()):x=b=s,x.lat>=u.lat&&b.lat<=m.lat&&x.lng>=u.lng&&b.lng<=m.lng},intersects:function(s){s=q(s);var u=this._southWest,m=this._northEast,x=s.getSouthWest(),b=s.getNorthEast(),E=b.lat>=u.lat&&x.lat<=m.lat,I=b.lng>=u.lng&&x.lng<=m.lng;return E&&I},overlaps:function(s){s=q(s);var u=this._southWest,m=this._northEast,x=s.getSouthWest(),b=s.getNorthEast(),E=b.lat>u.lat&&x.lat<m.lat,I=b.lng>u.lng&&x.lng<m.lng;return E&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=q(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(s,u){return s instanceof D?s:new D(s,u)}function ge(s,u,m){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,m!==void 0&&(this.alt=+m)}ge.prototype={equals:function(s,u){if(!s)return!1;s=je(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+C(this.lat,s)+", "+C(this.lng,s)+")"},distanceTo:function(s){return qe.distance(this,je(s))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,m=u/Math.cos(Math.PI/180*this.lat);return q([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function je(s,u,m){return s instanceof ge?s:P(s)&&typeof s[0]!="object"?s.length===3?new ge(s[0],s[1],s[2]):s.length===2?new ge(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ge(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ge(s,u,m)}var Ae={latLngToPoint:function(s,u){var m=this.projection.project(s),x=this.scale(u);return this.transformation._transform(m,x)},pointToLatLng:function(s,u){var m=this.scale(u),x=this.transformation.untransform(s,m);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(s),x=this.transformation.transform(u.min,m),b=this.transformation.transform(u.max,m);return new M(x,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new ge(m,u,x)},wrapLatLngBounds:function(s){var u=s.getCenter(),m=this.wrapLatLng(u),x=u.lat-m.lat,b=u.lng-m.lng;if(x===0&&b===0)return s;var E=s.getSouthWest(),I=s.getNorthEast(),re=new ge(E.lat-x,E.lng-b),me=new ge(I.lat-x,I.lng-b);return new D(re,me)}},qe=d({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var m=Math.PI/180,x=s.lat*m,b=u.lat*m,E=Math.sin((u.lat-s.lat)*m/2),I=Math.sin((u.lng-s.lng)*m/2),re=E*E+Math.cos(x)*Math.cos(b)*I*I,me=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*me}}),Ge=6378137,tt={R:Ge,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,m=this.MAX_LATITUDE,x=Math.max(Math.min(m,s.lat),-m),b=Math.sin(x*u);return new ce(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ge*Math.PI;return new M([-s,-s],[s,s])})()};function we(s,u,m,x){if(P(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=m,this._d=x}we.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ce((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ot(s,u,m,x){return new we(s,u,m,x)}var vt=d({},qe,{code:"EPSG:3857",projection:tt,transformation:(function(){var s=.5/(Math.PI*tt.R);return ot(s,.5,-s,.5)})()}),bt=d({},vt,{code:"EPSG:900913"});function Kt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Rt(s,u){var m="",x,b,E,I,re,me;for(x=0,E=s.length;x<E;x++){for(re=s[x],b=0,I=re.length;b<I;b++)me=re[b],m+=(b?"L":"M")+me.x+" "+me.y;m+=u?Pe.svg?"z":"x":""}return m||"M0 0"}var zt=document.documentElement.style,ve="ActiveXObject"in window,We=ve&&!document.addEventListener,J="msLaunchUri"in navigator&&!("documentMode"in document),Ce=Dn("webkit"),Ve=Dn("android"),_t=Dn("android 2")||Dn("android 3"),kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ut=Ve&&Dn("Google")&&kt<537&&!("AudioNode"in window),_e=!!window.opera,Ke=!J&&Dn("chrome"),ct=Dn("gecko")&&!Ce&&!_e&&!ve,et=!Ke&&Dn("safari"),hn=Dn("phantom"),te="OTransition"in zt,X=navigator.platform.indexOf("Win")===0,Qe=ve&&"transition"in zt,it="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,un="MozPerspective"in zt,Lt=!window.L_DISABLE_3D&&(Qe||it||un)&&!te&&!hn,Kn=typeof orientation<"u"||Dn("mobile"),Bs=Kn&&Ce,Is=Kn&&it,Ua=!window.PointerEvent&&window.MSPointerEvent,Za=!!(window.PointerEvent||Ua),ni="ontouchstart"in window||!!window.TouchEvent,_a=!window.L_NO_TOUCH&&(ni||Za),ai=Kn&&_e,ra=Kn&&ct,Dr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rr=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),Us=(function(){return!!document.createElement("canvas").getContext})(),la=!!(document.createElementNS&&Kt("svg").createSVGRect),Il=!!la&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ni=!la&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Lr=navigator.platform.indexOf("Mac")===0,Pr=navigator.platform.indexOf("Linux")===0;function Dn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Pe={ie:ve,ielt9:We,edge:J,webkit:Ce,android:Ve,android23:_t,androidStock:ut,opera:_e,chrome:Ke,gecko:ct,safari:et,phantom:hn,opera12:te,win:X,ie3d:Qe,webkit3d:it,gecko3d:un,any3d:Lt,mobile:Kn,mobileWebkit:Bs,mobileWebkit3d:Is,msPointer:Ua,pointer:Za,touch:_a,touchNative:ni,mobileOpera:ai,mobileGecko:ra,retina:Dr,passiveEvents:Rr,canvas:Us,svg:la,vml:Ni,inlineSvg:Il,mac:Lr,linux:Pr},Zs=Pe.msPointer?"MSPointerDown":"pointerdown",Yi=Pe.msPointer?"MSPointerMove":"pointermove",oa=Pe.msPointer?"MSPointerUp":"pointerup",tn=Pe.msPointer?"MSPointerCancel":"pointercancel",mn={touchstart:Zs,touchmove:Yi,touchend:oa,touchcancel:tn},qa={touchstart:Fa,touchmove:Rn,touchend:Rn,touchcancel:Rn},ba={},Br=!1;function Ul(s,u,m){return u==="touchstart"&&Nt(),qa[u]?(m=qa[u].bind(this,m),s.addEventListener(mn[u],m,!1),m):(console.warn("wrong event specified:",u),w)}function Ir(s,u,m){if(!mn[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(mn[u],m,!1)}function ji(s){ba[s.pointerId]=s}function B(s){ba[s.pointerId]&&(ba[s.pointerId]=s)}function Re(s){delete ba[s.pointerId]}function Nt(){Br||(document.addEventListener(Zs,ji,!0),document.addEventListener(Yi,B,!0),document.addEventListener(oa,Re,!0),document.addEventListener(tn,Re,!0),Br=!0)}function Rn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in ba)u.touches.push(ba[m]);u.changedTouches=[u],s(u)}}function Fa(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&nn(u),Rn(s,u)}function Jt(s){var u={},m,x;for(x in s)m=s[x],u[x]=m&&m.bind?m.bind(s):m;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var qs=200;function uu(s,u){s.addEventListener("dblclick",u);var m=0,x;function b(E){if(E.detail!==1){x=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var I=Ys(E);if(!(I.some(function(me){return me instanceof HTMLLabelElement&&me.attributes.for})&&!I.some(function(me){return me instanceof HTMLInputElement||me instanceof HTMLSelectElement}))){var re=Date.now();re-m<=qs?(x++,x===2&&u(Jt(E))):x=1,m=re}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Si(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var ii=Ks(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fs=Ks(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zl=Fs==="webkitTransition"||Fs==="OTransition"?Fs+"End":"transitionend";function ql(s){return typeof s=="string"?document.getElementById(s):s}function Hs(s,u){var m=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);m=x?x[u]:null}return m==="auto"?null:m}function dt(s,u,m){var x=document.createElement(s);return x.className=u||"",m&&m.appendChild(x),x}function Pt(s){var u=s.parentNode;u&&u.removeChild(s)}function Qn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function vn(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function wi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Fl(s,u){if(s.classList!==void 0)return s.classList.contains(u);var m=Ur(s);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function nt(s,u){if(s.classList!==void 0)for(var m=k(u),x=0,b=m.length;x<b;x++)s.classList.add(m[x]);else if(!Fl(s,u)){var E=Ur(s);$i(s,(E?E+" ":"")+u)}}function Vt(s,u){s.classList!==void 0?s.classList.remove(u):$i(s,z((" "+Ur(s)+" ").replace(" "+u+" "," ")))}function $i(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Ur(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Qt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Hl(s,u)}function Hl(s,u){var m=!1,x="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):s.style.filter+=" progid:"+x+"(opacity="+u+")"}function Ks(s){for(var u=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in u)return s[m];return!1}function Ha(s,u,m){var x=u||new ce(0,0);s.style[ii]=(Pe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(m?" scale("+m+")":"")}function qt(s,u){s._leaflet_pos=u,Pe.any3d?Ha(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function si(s){return s._leaflet_pos||new ce(0,0)}var Xi,Na,Kl;if("onselectstart"in document)Xi=function(){Xe(window,"selectstart",nn)},Na=function(){At(window,"selectstart",nn)};else{var Ji=Ks(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xi=function(){if(Ji){var s=document.documentElement.style;Kl=s[Ji],s[Ji]="none"}},Na=function(){Ji&&(document.documentElement.style[Ji]=Kl,Kl=void 0)}}function Zr(){Xe(window,"dragstart",nn)}function Qs(){At(window,"dragstart",nn)}var qr,Ql;function Wi(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Gn(),qr=s,Ql=s.style.outlineStyle,s.style.outlineStyle="none",Xe(window,"keydown",Gn))}function Gn(){qr&&(qr.style.outlineStyle=Ql,qr=void 0,Ql=void 0,At(window,"keydown",Gn))}function Fr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Gs(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var es={__proto__:null,TRANSFORM:ii,TRANSITION:Fs,TRANSITION_END:Zl,get:ql,getStyle:Hs,create:dt,remove:Pt,empty:Qn,toFront:vn,toBack:wi,hasClass:Fl,addClass:nt,removeClass:Vt,setClass:$i,getClass:Ur,setOpacity:Qt,testProp:Ks,setTransform:Ha,setPosition:qt,getPosition:si,get disableTextSelection(){return Xi},get enableTextSelection(){return Na},disableImageDrag:Zr,enableImageDrag:Qs,preventOutline:Wi,restoreOutline:Gn,getSizedParentNode:Fr,getScale:Gs};function Xe(s,u,m,x){if(u&&typeof u=="object")for(var b in u)ca(s,b,u[b],m);else{u=k(u);for(var E=0,I=u.length;E<I;E++)ca(s,u[E],m,x)}return this}var ua="_leaflet_events";function At(s,u,m,x){if(arguments.length===1)Gl(s),delete s[ua];else if(u&&typeof u=="object")for(var b in u)Vs(s,b,u[b],m);else if(u=k(u),arguments.length===2)Gl(s,function(re){return Q(u,re)!==-1});else for(var E=0,I=u.length;E<I;E++)Vs(s,u[E],m,x);return this}function Gl(s,u){for(var m in s[ua]){var x=m.split(/\d/)[0];(!u||u(x))&&Vs(s,x,null,null,m)}}var Ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ca(s,u,m,x){var b=u+v(m)+(x?"_"+v(x):"");if(s[ua]&&s[ua][b])return this;var E=function(re){return m.call(x||s,re||window.event)},I=E;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?E=Ul(s,u,E):Pe.touch&&u==="dblclick"?E=uu(s,E):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Ei[u]||u,E,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(re){re=re||window.event,Ka(s,re)&&I(re)},s.addEventListener(Ei[u],E,!1)):s.addEventListener(u,I,!1):s.attachEvent("on"+u,E),s[ua]=s[ua]||{},s[ua][b]=E}function Vs(s,u,m,x,b){b=b||u+v(m)+(x?"_"+v(x):"");var E=s[ua]&&s[ua][b];if(!E)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?Ir(s,u,E):Pe.touch&&u==="dblclick"?Si(s,E):"removeEventListener"in s?s.removeEventListener(Ei[u]||u,E,!1):s.detachEvent("on"+u,E),s[ua][b]=null}function da(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ja(s){return ca(s,"wheel",da),this}function ki(s){return Xe(s,"mousedown touchstart dblclick contextmenu",da),s._leaflet_disable_click=!0,this}function nn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ri(s){return nn(s),da(s),this}function Ys(s){if(s.composedPath)return s.composedPath();for(var u=[],m=s.target;m;)u.push(m),m=m.parentNode;return u}function $s(s,u){if(!u)return new ce(s.clientX,s.clientY);var m=Gs(u),x=m.boundingClientRect;return new ce((s.clientX-x.left)/m.x-u.clientLeft,(s.clientY-x.top)/m.y-u.clientTop)}var cu=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kn(s){return Pe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/cu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ka(s,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var Hr={__proto__:null,on:Xe,off:At,stopPropagation:da,disableScrollPropagation:ja,disableClickPropagation:ki,preventDefault:nn,stop:ri,getPropagationPath:Ys,getMousePosition:$s,getWheelDelta:kn,isExternalTarget:Ka,addListener:Xe,removeListener:At},ts=se.extend({run:function(s,u,m,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=si(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var m=this._startPos.add(this._offset.multiplyBy(s));u&&m._round(),qt(this._el,m),this.fire("step")},_complete:function(){oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),pt=se.extend({options:{crs:vt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(je(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fs&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xe(this._proxy,Zl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(je(s),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=d({animate:m.animate},m.zoom),m.pan=d({animate:m.animate,duration:m.duration},m.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,m.zoom):this._tryAnimatedPan(s,m.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,m){var x=this.getZoomScale(u),b=this.getSize().divideBy(2),E=s instanceof ce?s:this.latLngToContainerPoint(s),I=E.subtract(b).multiplyBy(1-1/x),re=this.containerPointToLatLng(b.add(I));return this.setView(re,u,{zoom:m})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():q(s);var m=W(u.paddingTopLeft||u.padding||[0,0]),x=W(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,m.add(x));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var E=x.subtract(m).divideBy(2),I=this.project(s.getSouthWest(),b),re=this.project(s.getNorthEast(),b),me=this.unproject(I.add(re).divideBy(2).add(E),b);return{center:me,zoom:b}},fitBounds:function(s,u){if(s=q(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=W(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,m){if(m=m||{},m.animate===!1||!Pe.any3d)return this.setView(s,u,m);this._stop();var x=this.project(this.getCenter()),b=this.project(s),E=this.getSize(),I=this._zoom;s=je(s),u=u===void 0?I:u;var re=Math.max(E.x,E.y),me=re*this.getZoomScale(I,u),Ee=b.distanceTo(x)||1,Oe=1.42,Ze=Oe*Oe;function rt(Wt){var Ya=Wt?-1:1,zi=Wt?me:re,oo=me*me-re*re+Ya*Ze*Ze*Ee*Ee,hr=2*zi*Ze*Ee,mr=oo/hr,pi=Math.sqrt(mr*mr+1)-mr,$a=pi<1e-9?-18:Math.log(pi);return $a}function _n(Wt){return(Math.exp(Wt)-Math.exp(-Wt))/2}function an(Wt){return(Math.exp(Wt)+Math.exp(-Wt))/2}function Zn(Wt){return _n(Wt)/an(Wt)}var jt=rt(0);function St(Wt){return re*(an(jt)/an(jt+Oe*Wt))}function ht(Wt){return re*(an(jt)*Zn(jt+Oe*Wt)-_n(jt))/Ze}function mi(Wt){return 1-Math.pow(1-Wt,1.5)}var Xn=Date.now(),il=(rt(1)-jt)/Oe,fi=m.duration?1e3*m.duration:1e3*il*.8;function lo(){var Wt=(Date.now()-Xn)/fi,Ya=mi(Wt)*il;Wt<=1?(this._flyToFrame=ee(lo,this),this._move(this.unproject(x.add(b.subtract(x).multiplyBy(ht(Ya)/Ee)),I),this.getScaleZoom(re/St(Ya),I),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),lo.call(this),this},flyToBounds:function(s,u){var m=this._getBoundsCenterZoom(s,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(s){return s=q(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var m=this.getCenter(),x=this._limitCenter(m,this._zoom,q(s));return m.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var m=W(u.paddingTopLeft||u.padding||[0,0]),x=W(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(s),I=this.getPixelBounds(),re=ne([I.min.add(m),I.max.subtract(x)]),me=re.getSize();if(!re.contains(E)){this._enforcingBounds=!0;var Ee=E.subtract(re.getCenter()),Oe=re.extend(E).getSize().subtract(me);b.x+=Ee.x<0?-Oe.x:Oe.x,b.y+=Ee.y<0?-Oe.y:Oe.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=d({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),x=u.divideBy(2).round(),b=m.divideBy(2).round(),E=x.subtract(b);return!E.x&&!E.y?this:(s.animate&&s.pan?this.panBy(E):(s.pan&&this._rawPanBy(E),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=d({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),m=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,s):navigator.geolocation.getCurrentPosition(u,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,m=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,m=s.coords.longitude,x=new ge(u,m),b=x.toBounds(s.coords.accuracy*2),E=this._locateOptions;if(E.setView){var I=this.getBoundsZoom(b);this.setView(x,E.maxZoom?Math.min(I,E.maxZoom):I)}var re={latlng:x,bounds:b,timestamp:s.timestamp};for(var me in s.coords)typeof s.coords[me]=="number"&&(re[me]=s.coords[me]);this.fire("locationfound",re)}},addHandler:function(s,u){if(!u)return this;var m=this[s]=new u(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Pt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=dt("div",m,u||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new D(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,m){s=q(s),m=W(m||[0,0]);var x=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),I=s.getNorthWest(),re=s.getSouthEast(),me=this.getSize().subtract(m),Ee=ne(this.project(re,x),this.project(I,x)).getSize(),Oe=Pe.any3d?this.options.zoomSnap:1,Ze=me.x/Ee.x,rt=me.y/Ee.y,_n=u?Math.max(Ze,rt):Math.min(Ze,rt);return x=this.getScaleZoom(_n,x),Oe&&(x=Math.round(x/(Oe/100))*(Oe/100),x=u?Math.ceil(x/Oe)*Oe:Math.floor(x/Oe)*Oe),Math.max(b,Math.min(E,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var m=this._getTopLeftPoint(s,u);return new M(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(s)/m.scale(u)},getScaleZoom:function(s,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var x=m.zoom(s*m.scale(u));return isNaN(x)?1/0:x},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(je(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(W(s),u)},layerPointToLatLng:function(s){var u=W(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(je(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(je(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(q(s))},distance:function(s,u){return this.options.crs.distance(je(s),je(u))},containerPointToLayerPoint:function(s){return W(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return W(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(W(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(je(s)))},mouseEventToContainerPoint:function(s){return $s(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=ql(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xe(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,nt(s,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Hs(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(s.markerPane,"leaflet-zoom-hide"),nt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,m){qt(this._mapPane,new ce(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,m)._move(s,u)._moveEnd(b),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,m,x){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?m&&m.pinch&&this.fire("zoom",m):((b||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){qt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?At:Xe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){oe(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var m=[],x,b=u==="mouseout"||u==="mouseover",E=s.target||s.srcElement,I=!1;E;){if(x=this._targets[v(E)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){I=!0;break}if(x&&x.listens(u,!0)&&(b&&!Ka(E,s)||(m.push(x),b))||E===this._container)break;E=E.parentNode}return!m.length&&!I&&!b&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var m=s.type;m==="mousedown"&&Wi(u),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,m){if(s.type==="click"){var x=d({},s);x.type="preclick",this._fireDOMEvent(x,x.type,m)}var b=this._findEventTargets(s,u);if(m){for(var E=[],I=0;I<m.length;I++)m[I].listens(u,!0)&&E.push(m[I]);b=E.concat(b)}if(b.length){u==="contextmenu"&&nn(s);var re=b[0],me={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Ee=re.getLatLng&&(!re._radius||re._radius<=10);me.containerPoint=Ee?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(s),me.layerPoint=this.containerPointToLayerPoint(me.containerPoint),me.latlng=Ee?re.getLatLng():this.layerPointToLatLng(me.layerPoint)}for(I=0;I<b.length;I++)if(b[I].fire(u,me,!0),me.originalEvent._stopped||b[I].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return si(this._mapPane)||new ce(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var m=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var m=this.getSize()._divideBy(2);return this.project(s,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,m){var x=this._getNewPixelOrigin(m,u);return this.project(s,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,u,m){var x=this._getNewPixelOrigin(m,u);return ne([this.project(s.getSouthWest(),u)._subtract(x),this.project(s.getNorthWest(),u)._subtract(x),this.project(s.getSouthEast(),u)._subtract(x),this.project(s.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,m){if(!m)return s;var x=this.project(s,u),b=this.getSize().divideBy(2),E=new M(x.subtract(b),x.add(b)),I=this._getBoundsOffset(E,m,u);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(x.add(I),u)},_limitOffset:function(s,u){if(!u)return s;var m=this.getPixelBounds(),x=new M(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(s,u,m){var x=ne(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),b=x.min.subtract(s.min),E=x.max.subtract(s.max),I=this._rebound(b.x,-E.x),re=this._rebound(b.y,-E.y);return new ce(I,re)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),m=this.getMaxZoom(),x=Pe.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(u,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var m=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var s=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var m=ii,x=this._proxy.style[m];Ha(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Ha(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/x);return m.animate!==!0&&!this.getSize().contains(b)?!1:(ee(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,m,x){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vl(s,u){return new pt(s,u)}var Un=U.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),m=this.getPosition(),x=s._controlCorners[m];return nt(u,"leaflet-control"),m.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Qa=function(s){return new Un(s)};pt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",m=this._controlContainer=dt("div",u+"control-container",this._container);function x(b,E){var I=u+b+" "+u+E;s[b+E]=dt("div",I,m)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Pt(this._controlCorners[s]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xs=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,m,x){return m<x?-1:x<m?1:0}},initialize:function(s,u,m){A(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Un.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=dt("div",s),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ki(u),ja(u);var x=this._section=dt("section",s+"-list");m&&(this._map.on("click",this.collapse,this),Xe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=dt("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Xe(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){nn(E),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=dt("div",s+"-base",x),this._separator=dt("div",s+"-separator",x),this._overlaysList=dt("div",s+"-overlays",x),u.appendChild(x)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(p(function(x,b){return this.options.sortFunction(x.layer,b.layer,x.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qn(this._baseLayersList),Qn(this._overlaysList),this._layerControlInputs=[];var s,u,m,x,b=0;for(m=0;m<this._layers.length;m++)x=this._layers[m],this._addItem(x),u=u||x.overlay,s=s||!x.overlay,b+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),m=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(s,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=m,x.firstChild},_addItem:function(s){var u=document.createElement("label"),m=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=m):x=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(x),x.layerId=v(s.layer),Xe(x,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(x),E.appendChild(b);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,m,x=[],b=[];this._handlingClick=!0;for(var E=s.length-1;E>=0;E--)u=s[E],m=this._getLayer(u.layerId).layer,u.checked?x.push(m):u.checked||b.push(m);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])||this._map.addLayer(x[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,m,x=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&x<m.options.minZoom||m.options.maxZoom!==void 0&&x>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Xe(s,"click",nn),this.expand();var u=this;setTimeout(function(){At(s,"click",nn),u._preventClick=!1})}}),du=function(s,u,m){return new Xs(s,u,m)},Yl=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",m=dt("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,m,x,b){var E=dt("a",m,x);return E.innerHTML=s,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),ki(E),Xe(E,"click",ri),Xe(E,"click",b,this),Xe(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";Vt(this._zoomInButton,u),Vt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(nt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(nt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});pt.mergeOptions({zoomControl:!0}),pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yl,this.addControl(this.zoomControl))});var Nd=function(s){return new Yl(s)},hu=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",m=dt("div",u),x=this.options;return this._addScales(x,u+"-line",m),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,m){s.metric&&(this._mScale=dt("div",u,m)),s.imperial&&(this._iScale=dt("div",u,m))},_update:function(){var s=this._map,u=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/s)},_updateImperial:function(s){var u=s*3.2808399,m,x,b;u>5280?(m=u/5280,x=this._getRoundNum(m),this._updateScale(this._iScale,x+" mi",x/m)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),m=s/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),$l=function(s){return new hu(s)},jd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xl=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?jd+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),ki(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});pt.mergeOptions({attributionControl:!0}),pt.addInitHook(function(){this.options.attributionControl&&new Xl().addTo(this)});var Sd=function(s){return new Xl(s)};Un.Layers=Xs,Un.Zoom=Yl,Un.Scale=hu,Un.Attribution=Xl,Qa.layers=du,Qa.zoom=Nd,Qa.scale=$l,Qa.attribution=Sd;var Sa=U.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sa.addTo=function(s,u){return s.addHandler(u,this),this};var wd={Events:Z},Jl=Pe.touch?"touchstart mousedown":"mousedown",li=se.extend({options:{clickTolerance:3},initialize:function(s,u,m,x){A(this,x),this._element=s,this._dragStartTarget=u||s,this._preventOutline=m},enable:function(){this._enabled||(Xe(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Fl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(li._dragging=this,this._preventOutline&&Wi(this._element),Zr(),Xi(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,m=Fr(this._element);this._startPoint=new ce(u.clientX,u.clientY),this._startPos=si(this._element),this._parentScale=Gs(m);var x=s.type==="mousedown";Xe(document,x?"mousemove":"touchmove",this._onMove,this),Xe(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,m=new ce(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,nn(s),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),qt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),Qs(),Na();var u=this._moved&&this._moving;this._moving=!1,li._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function mu(s,u,m){var x,b=[1,4,2,8],E,I,re,me,Ee,Oe,Ze,rt;for(E=0,Oe=s.length;E<Oe;E++)s[E]._code=Ti(s[E],u);for(re=0;re<4;re++){for(Ze=b[re],x=[],E=0,Oe=s.length,I=Oe-1;E<Oe;I=E++)me=s[E],Ee=s[I],me._code&Ze?Ee._code&Ze||(rt=Kr(Ee,me,Ze,u,m),rt._code=Ti(rt,u),x.push(rt)):(Ee._code&Ze&&(rt=Kr(Ee,me,Ze,u,m),rt._code=Ti(rt,u),x.push(rt)),x.push(me));s=x}return s}function fu(s,u){var m,x,b,E,I,re,me,Ee,Oe;if(!s||s.length===0)throw new Error("latlngs not passed");Vn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ze=je([0,0]),rt=q(s),_n=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());_n<1700&&(Ze=Wl(s));var an=s.length,Zn=[];for(m=0;m<an;m++){var jt=je(s[m]);Zn.push(u.project(je([jt.lat-Ze.lat,jt.lng-Ze.lng])))}for(re=me=Ee=0,m=0,x=an-1;m<an;x=m++)b=Zn[m],E=Zn[x],I=b.y*E.x-E.y*b.x,me+=(b.x+E.x)*I,Ee+=(b.y+E.y)*I,re+=I*3;re===0?Oe=Zn[0]:Oe=[me/re,Ee/re];var St=u.unproject(W(Oe));return je([St.lat+Ze.lat,St.lng+Ze.lng])}function Wl(s){for(var u=0,m=0,x=0,b=0;b<s.length;b++){var E=je(s[b]);u+=E.lat,m+=E.lng,x++}return je([u/x,m/x])}var eo={__proto__:null,clipPolygon:mu,polygonCenter:fu,centroid:Wl};function pu(s,u){if(!u||!s.length)return s.slice();var m=u*u;return s=kd(s,m),s=yu(s,m),s}function gu(s,u,m){return Math.sqrt(Js(s,u,m,!0))}function Ed(s,u,m){return Js(s,u,m)}function yu(s,u){var m=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,b=new x(m);b[0]=b[m-1]=1,to(s,b,u,0,m-1);var E,I=[];for(E=0;E<m;E++)b[E]&&I.push(s[E]);return I}function to(s,u,m,x,b){var E=0,I,re,me;for(re=x+1;re<=b-1;re++)me=Js(s[re],s[x],s[b],!0),me>E&&(I=re,E=me);E>m&&(u[I]=1,to(s,u,m,x,I),to(s,u,m,I,b))}function kd(s,u){for(var m=[s[0]],x=1,b=0,E=s.length;x<E;x++)Td(s[x],s[b])>u&&(m.push(s[x]),b=x);return b<E-1&&m.push(s[E-1]),m}var xu;function vu(s,u,m,x,b){var E=x?xu:Ti(s,m),I=Ti(u,m),re,me,Ee;for(xu=I;;){if(!(E|I))return[s,u];if(E&I)return!1;re=E||I,me=Kr(s,u,re,m,b),Ee=Ti(me,m),re===E?(s=me,E=Ee):(u=me,I=Ee)}}function Kr(s,u,m,x,b){var E=u.x-s.x,I=u.y-s.y,re=x.min,me=x.max,Ee,Oe;return m&8?(Ee=s.x+E*(me.y-s.y)/I,Oe=me.y):m&4?(Ee=s.x+E*(re.y-s.y)/I,Oe=re.y):m&2?(Ee=me.x,Oe=s.y+I*(me.x-s.x)/E):m&1&&(Ee=re.x,Oe=s.y+I*(re.x-s.x)/E),new ce(Ee,Oe,b)}function Ti(s,u){var m=0;return s.x<u.min.x?m|=1:s.x>u.max.x&&(m|=2),s.y<u.min.y?m|=4:s.y>u.max.y&&(m|=8),m}function Td(s,u){var m=u.x-s.x,x=u.y-s.y;return m*m+x*x}function Js(s,u,m,x){var b=u.x,E=u.y,I=m.x-b,re=m.y-E,me=I*I+re*re,Ee;return me>0&&(Ee=((s.x-b)*I+(s.y-E)*re)/me,Ee>1?(b=m.x,E=m.y):Ee>0&&(b+=I*Ee,E+=re*Ee)),I=s.x-b,re=s.y-E,x?I*I+re*re:new ce(b,E)}function Vn(s){return!P(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Qr(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(s)}function ns(s,u){var m,x,b,E,I,re,me,Ee;if(!s||s.length===0)throw new Error("latlngs not passed");Vn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Oe=je([0,0]),Ze=q(s),rt=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());rt<1700&&(Oe=Wl(s));var _n=s.length,an=[];for(m=0;m<_n;m++){var Zn=je(s[m]);an.push(u.project(je([Zn.lat-Oe.lat,Zn.lng-Oe.lng])))}for(m=0,x=0;m<_n-1;m++)x+=an[m].distanceTo(an[m+1])/2;if(x===0)Ee=an[0];else for(m=0,E=0;m<_n-1;m++)if(I=an[m],re=an[m+1],b=I.distanceTo(re),E+=b,E>x){me=(E-x)/b,Ee=[re.x-me*(re.x-I.x),re.y-me*(re.y-I.y)];break}var jt=u.unproject(W(Ee));return je([jt.lat+Oe.lat,jt.lng+Oe.lng])}var Cd={__proto__:null,simplify:pu,pointToSegmentDistance:gu,closestPointOnSegment:Ed,clipSegment:vu,_getEdgeIntersection:Kr,_getBitCode:Ti,_sqClosestPointOnSegment:Js,isFlat:Vn,_flat:Qr,polylineCenter:ns},Gr={project:function(s){return new ce(s.lng,s.lat)},unproject:function(s){return new ge(s.y,s.x)},bounds:new M([-180,-90],[180,90])},Vr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,m=this.R,x=s.lat*u,b=this.R_MINOR/m,E=Math.sqrt(1-b*b),I=E*Math.sin(x),re=Math.tan(Math.PI/4-x/2)/Math.pow((1-I)/(1+I),E/2);return x=-m*Math.log(Math.max(re,1e-10)),new ce(s.lng*u*m,x)},unproject:function(s){for(var u=180/Math.PI,m=this.R,x=this.R_MINOR/m,b=Math.sqrt(1-x*x),E=Math.exp(-s.y/m),I=Math.PI/2-2*Math.atan(E),re=0,me=.1,Ee;re<15&&Math.abs(me)>1e-7;re++)Ee=b*Math.sin(I),Ee=Math.pow((1-Ee)/(1+Ee),b/2),me=Math.PI/2-2*Math.atan(E*Ee)-I,I+=me;return new ge(I*u,s.x*u/m)}},_u={__proto__:null,LonLat:Gr,Mercator:Vr,SphericalMercator:tt},bu=d({},qe,{code:"EPSG:3395",projection:Vr,transformation:(function(){var s=.5/(Math.PI*Vr.R);return ot(s,.5,-s,.5)})()}),no=d({},qe,{code:"EPSG:4326",projection:Gr,transformation:ot(1/180,1,-1/180,.5)}),as=d({},Ae,{projection:Gr,transformation:ot(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var m=u.lng-s.lng,x=u.lat-s.lat;return Math.sqrt(m*m+x*x)},infinite:!0});Ae.Earth=qe,Ae.EPSG3395=bu,Ae.EPSG3857=vt,Ae.EPSG900913=bt,Ae.EPSG4326=no,Ae.Simple=as;var ha=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});pt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var m in this._layers)s.call(u,this._layers[m]);return this},_addLayers:function(s){s=s?P(s)?s:[s]:[];for(var u=0,m=s.length;u<m;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,m=this._getZoomSpan();for(var x in this._zoomBoundLayers){var b=this._zoomBoundLayers[x].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var is=ha.extend({initialize:function(s,u){A(this,u),this._layers={};var m,x;if(s)for(m=0,x=s.length;m<x;m++)this.addLayer(s[m])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),m,x;for(m in this._layers)x=this._layers[m],x[s]&&x[s].apply(x,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var m in this._layers)s.call(u,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Ad=function(s,u){return new is(s,u)},wa=is.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),is.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),is.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new D;for(var u in this._layers){var m=this._layers[u];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),Nu=function(s,u){return new wa(s,u)},Ea=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,u){var m=this.options,x=m[u+"Size"];typeof x=="number"&&(x=[x,x]);var b=W(x),E=W(u==="shadow"&&m.shadowAnchor||m.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(m.className||""),E&&(s.style.marginLeft=-E.x+"px",s.style.marginTop=-E.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Pe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ws(s){return new Ea(s)}var er=Ea.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof er.imagePath!="string"&&(er.imagePath=this._detectIconPath()),(this.options.imagePath||er.imagePath)+Ea.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(m,x,b){var E=x.exec(m);return E&&E[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=dt("div","leaflet-default-icon-path",document.body),u=Hs(s,"background-image")||Hs(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),tr=Sa.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new li(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,m=u._map,x=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=si(u._icon),I=m.getPixelBounds(),re=m.getPixelOrigin(),me=ne(I.min._subtract(re).add(b),I.max._subtract(re).subtract(b));if(!me.contains(E)){var Ee=W((Math.max(me.max.x,E.x)-me.max.x)/(I.max.x-me.max.x)-(Math.min(me.min.x,E.x)-me.min.x)/(I.min.x-me.min.x),(Math.max(me.max.y,E.y)-me.max.y)/(I.max.y-me.max.y)-(Math.min(me.min.y,E.y)-me.min.y)/(I.min.y-me.min.y)).multiplyBy(x);m.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),qt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ee(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(oe(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,m=u._shadow,x=si(u._icon),b=u._map.layerPointToLatLng(x);m&&qt(m,x),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),nr=ha.extend({options:{icon:new er,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){A(this,u),this._latlng=je(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),x=!1;m!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),nt(m,u),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(m,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(nt(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&qt(this._icon,s),this._shadow&&qt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Qt(this._icon,s),this._shadow&&Qt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,m=u.iconSize?W(u.iconSize):W(0,0),x=u.iconAnchor?W(u.iconAnchor):W(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:m.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ju(s,u){return new nr(s,u)}var ka=ha.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ss=ka.extend({options:{fill:!0,radius:10},initialize:function(s,u){A(this,u),this._latlng=je(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=je(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return ka.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,m=this._clickTolerance(),x=[s+m,u+m];this._pxBounds=new M(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Su(s,u){return new ss(s,u)}var Yr=ss.extend({initialize:function(s,u,m){if(typeof u=="number"&&(u=d({},m,{radius:u})),A(this,u),this._latlng=je(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ka.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,m=this._map,x=m.options.crs;if(x.distance===qe.distance){var b=Math.PI/180,E=this._mRadius/qe.R/b,I=m.project([u+E,s]),re=m.project([u-E,s]),me=I.add(re).divideBy(2),Ee=m.unproject(me).lat,Oe=Math.acos((Math.cos(E*b)-Math.sin(u*b)*Math.sin(Ee*b))/(Math.cos(u*b)*Math.cos(Ee*b)))/b;(isNaN(Oe)||Oe===0)&&(Oe=E/Math.cos(Math.PI/180*u)),this._point=me.subtract(m.getPixelOrigin()),this._radius=isNaN(Oe)?0:me.x-m.project([Ee,s-Oe]).x,this._radiusY=me.y-I.y}else{var Ze=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ze).x}this._updateBounds()}});function wu(s,u,m){return new Yr(s,u,m)}var Ga=ka.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){A(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,m=null,x=Js,b,E,I=0,re=this._parts.length;I<re;I++)for(var me=this._parts[I],Ee=1,Oe=me.length;Ee<Oe;Ee++){b=me[Ee-1],E=me[Ee];var Ze=x(s,b,E,!0);Ze<u&&(u=Ze,m=x(s,b,E))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ns(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=je(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new D,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],m=Vn(s),x=0,b=s.length;x<b;x++)m?(u[x]=je(s[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(s[x]);return u},_project:function(){var s=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ce(s,s);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,m){var x=s[0]instanceof ge,b=s.length,E,I;if(x){for(I=[],E=0;E<b;E++)I[E]=this._map.latLngToLayerPoint(s[E]),m.extend(I[E]);u.push(I)}else for(E=0;E<b;E++)this._projectLatlngs(s[E],u,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,x,b,E,I,re,me;for(m=0,b=0,E=this._rings.length;m<E;m++)for(me=this._rings[m],x=0,I=me.length;x<I-1;x++)re=vu(me[x],me[x+1],s,x,!0),re&&(u[b]=u[b]||[],u[b].push(re[0]),(re[1]!==me[x+1]||x===I-2)&&(u[b].push(re[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,m=0,x=s.length;m<x;m++)s[m]=pu(s[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var m,x,b,E,I,re,me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,E=this._parts.length;m<E;m++)for(re=this._parts[m],x=0,I=re.length,b=I-1;x<I;b=x++)if(!(!u&&x===0)&&gu(s,re[b],re[x])<=me)return!0;return!1}});function zd(s,u){return new Ga(s,u)}Ga._flat=Qr;var rs=Ga.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Ga.prototype._convertLatLngs.call(this,s),m=u.length;return m>=2&&u[0]instanceof ge&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(s){Ga.prototype._setLatLngs.call(this,s),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,m=new ce(u,u);if(s=new M(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,b=this._rings.length,E;x<b;x++)E=mu(this._rings[x],s,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,m,x,b,E,I,re,me,Ee;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(E=0,me=this._parts.length;E<me;E++)for(m=this._parts[E],I=0,Ee=m.length,re=Ee-1;I<Ee;re=I++)x=m[I],b=m[re],x.y>s.y!=b.y>s.y&&s.x<(b.x-x.x)*(s.y-x.y)/(b.y-x.y)+x.x&&(u=!u);return u||Ga.prototype._containsPoint.call(this,s,!0)}});function Md(s,u){return new rs(s,u)}var Va=wa.extend({initialize:function(s,u){A(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=P(s)?s:s.features,m,x,b;if(u){for(m=0,x=u.length;m<x;m++)b=u[m],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(s))return this;var I=Sn(s,E);return I?(I.feature=Jr(s),I.defaultOptions=I.options,this.resetStyle(I),E.onEachFeature&&E.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=d({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Sn(s,u){var m=s.type==="Feature"?s.geometry:s,x=m?m.coordinates:null,b=[],E=u&&u.pointToLayer,I=u&&u.coordsToLatLng||$r,re,me,Ee,Oe;if(!x&&!m)return null;switch(m.type){case"Point":return re=I(x),ls(E,s,re,u);case"MultiPoint":for(Ee=0,Oe=x.length;Ee<Oe;Ee++)re=I(x[Ee]),b.push(ls(E,s,re,u));return new wa(b);case"LineString":case"MultiLineString":return me=ar(x,m.type==="LineString"?0:1,I),new Ga(me,u);case"Polygon":case"MultiPolygon":return me=ar(x,m.type==="Polygon"?1:2,I),new rs(me,u);case"GeometryCollection":for(Ee=0,Oe=m.geometries.length;Ee<Oe;Ee++){var Ze=Sn({geometry:m.geometries[Ee],type:"Feature",properties:s.properties},u);Ze&&b.push(Ze)}return new wa(b);case"FeatureCollection":for(Ee=0,Oe=m.features.length;Ee<Oe;Ee++){var rt=Sn(m.features[Ee],u);rt&&b.push(rt)}return new wa(b);default:throw new Error("Invalid GeoJSON object.")}}function ls(s,u,m,x){return s?s(u,m):new nr(m,x&&x.markersInheritOptions&&x)}function $r(s){return new ge(s[1],s[0],s[2])}function ar(s,u,m){for(var x=[],b=0,E=s.length,I;b<E;b++)I=u?ar(s[b],u-1,m):(m||$r)(s[b]),x.push(I);return x}function Xr(s,u){return s=je(s),s.alt!==void 0?[C(s.lng,u),C(s.lat,u),C(s.alt,u)]:[C(s.lng,u),C(s.lat,u)]}function ir(s,u,m,x){for(var b=[],E=0,I=s.length;E<I;E++)b.push(u?ir(s[E],Vn(s[E])?0:u-1,m,x):Xr(s[E],x));return!u&&m&&b.length>0&&b.push(b[0].slice()),b}function oi(s,u){return s.feature?d({},s.feature,{geometry:u}):Jr(u)}function Jr(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ui={toGeoJSON:function(s){return oi(this,{type:"Point",coordinates:Xr(this.getLatLng(),s)})}};nr.include(ui),Yr.include(ui),ss.include(ui),Ga.include({toGeoJSON:function(s){var u=!Vn(this._latlngs),m=ir(this._latlngs,u?1:0,!1,s);return oi(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),rs.include({toGeoJSON:function(s){var u=!Vn(this._latlngs),m=u&&!Vn(this._latlngs[0]),x=ir(this._latlngs,m?2:u?1:0,!0,s);return u||(x=[x]),oi(this,{type:(m?"Multi":"")+"Polygon",coordinates:x})}}),is.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(s).geometry.coordinates)}),oi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var m=u==="GeometryCollection",x=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(s);if(m)x.push(E.geometry);else{var I=Jr(E);I.type==="FeatureCollection"?x.push.apply(x,I.features):x.push(I)}}}),m?oi(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Wr(s,u){return new Va(s,u)}var sr=Wr,os=ha.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,m){this._url=s,this._bounds=q(u),A(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&vn(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=q(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:dt("img");if(nt(u,"leaflet-image-layer"),this._zoomAnimated&&nt(u,"leaflet-zoom-animated"),this.options.className&&nt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ha(this._image,m,u)},_reset:function(){var s=this._image,u=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();qt(s,u.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Eu=function(s,u,m){return new os(s,u,m)},ci=os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:dt("video");if(nt(u,"leaflet-image-layer"),this._zoomAnimated&&nt(u,"leaflet-zoom-animated"),this.options.className&&nt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=p(this.fire,this,"load"),s){for(var m=u.getElementsByTagName("source"),x=[],b=0;b<m.length;b++)x.push(m[b].src);this._url=m.length>0?x:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var I=dt("source");I.src=this._url[E],u.appendChild(I)}}});function us(s,u,m){return new ci(s,u,m)}var el=os.extend({_initImage:function(){var s=this._image=this._url;nt(s,"leaflet-image-layer"),this._zoomAnimated&&nt(s,"leaflet-zoom-animated"),this.options.className&&nt(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function ku(s,u,m){return new el(s,u,m)}var wn=ha.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ge||P(s))?(this._latlng=je(s),A(this,u)):(A(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(p(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=je(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vn(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof wa){u=null;var m=this._source._layers;for(var x in m)if(m[x]._map){u=m[x];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=W(this.options.offset),m=this._getAnchor();this._zoomAnimated?qt(this._container,s.add(m)):u=u.add(s).add(m);var x=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});pt.include({_initOverlay:function(s,u,m,x){var b=u;return b instanceof s||(b=new s(x).setContent(u)),m&&b.setLatLng(m),b}}),ha.include({_initOverlay:function(s,u,m,x){var b=m;return b instanceof s?(A(b,x),b._source=this):(b=u&&!x?u:new s(x,this),b.setContent(m)),b}});var rr=wn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,wn.prototype.openOn.call(this,s)},onAdd:function(s){wn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ka||this._source.on("preclick",da))},onRemove:function(s){wn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ka||this._source.off("preclick",da))},getEvents:function(){var s=wn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=dt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=dt("div",s+"-content-wrapper",u);if(this._contentNode=dt("div",s+"-content",m),ki(u),ja(this._contentNode),Xe(u,"contextmenu",da),this._tipContainer=dt("div",s+"-tip-container",u),this._tip=dt("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=dt("a",s+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Xe(x,"click",function(b){nn(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var x=s.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&x>b?(u.height=b+"px",nt(s,E)):Vt(s,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();qt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Hs(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,x=this._containerWidth,b=new ce(this._containerLeft,-m-this._containerBottom);b._add(si(this._container));var E=s.layerPointToContainerPoint(b),I=W(this.options.autoPanPadding),re=W(this.options.autoPanPaddingTopLeft||I),me=W(this.options.autoPanPaddingBottomRight||I),Ee=s.getSize(),Oe=0,Ze=0;E.x+x+me.x>Ee.x&&(Oe=E.x+x-Ee.x+me.x),E.x-Oe-re.x<0&&(Oe=E.x-re.x),E.y+m+me.y>Ee.y&&(Ze=E.y+m-Ee.y+me.y),E.y-Ze-re.y<0&&(Ze=E.y-re.y),(Oe||Ze)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Oe,Ze]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tu=function(s,u){return new rr(s,u)};pt.mergeOptions({closePopupOnClick:!0}),pt.include({openPopup:function(s,u,m){return this._initOverlay(rr,s,u,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ha.include({bindPopup:function(s,u){return this._popup=this._initOverlay(rr,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof wa||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ri(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof ka)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var lr=wn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){wn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){wn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=wn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,m,x=this._map,b=this._container,E=x.latLngToContainerPoint(x.getCenter()),I=x.layerPointToContainerPoint(s),re=this.options.direction,me=b.offsetWidth,Ee=b.offsetHeight,Oe=W(this.options.offset),Ze=this._getAnchor();re==="top"?(u=me/2,m=Ee):re==="bottom"?(u=me/2,m=0):re==="center"?(u=me/2,m=Ee/2):re==="right"?(u=0,m=Ee/2):re==="left"?(u=me,m=Ee/2):I.x<E.x?(re="right",u=0,m=Ee/2):(re="left",u=me+(Oe.x+Ze.x)*2,m=Ee/2),s=s.subtract(W(u,m,!0)).add(Oe).add(Ze),Vt(b,"leaflet-tooltip-right"),Vt(b,"leaflet-tooltip-left"),Vt(b,"leaflet-tooltip-top"),Vt(b,"leaflet-tooltip-bottom"),nt(b,"leaflet-tooltip-"+re),qt(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Qt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Od=function(s,u){return new lr(s,u)};pt.include({openTooltip:function(s,u,m){return this._initOverlay(lr,s,u,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ha.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lr,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof wa||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Xe(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Xe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,m,x;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Cu=Ea.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Qn(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var x=W(m.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Dd(s){return new Cu(s)}Ea.Default=er;var cs=ha.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Pt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ce?s:new ce(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,m=-s(-1/0,1/0),x=0,b=u.length,E;x<b;x++)E=u[x].style.zIndex,u[x]!==this._container&&E&&(m=s(m,+E));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){Qt(this._container,this.options.opacity);var s=+new Date,u=!1,m=!1;for(var x in this._tiles){var b=this._tiles[x];if(!(!b.current||!b.loaded)){var E=Math.min(1,(s-b.loaded)/200);Qt(b.el,E),E<1?u=!0:(b.active?m=!0:this._onOpaqueTile(b),b.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(oe(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=u-Math.abs(s-m),this._onUpdateLevel(m)):(Pt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var x=this._levels[s],b=this._map;return x||(x=this._levels[s]={},x.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,b.getCenter(),b.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Pt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,m,x){var b=Math.floor(s/2),E=Math.floor(u/2),I=m-1,re=new ce(+b,+E);re.z=+I;var me=this._tileCoordsToKey(re),Ee=this._tiles[me];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),I>x?this._retainParent(b,E,I,x):!1)},_retainChildren:function(s,u,m,x){for(var b=2*s;b<2*s+2;b++)for(var E=2*u;E<2*u+2;E++){var I=new ce(b,E);I.z=m+1;var re=this._tileCoordsToKey(I),me=this._tiles[re];if(me&&me.active){me.retain=!0;continue}else me&&me.loaded&&(me.retain=!0);m+1<x&&this._retainChildren(b,E,m+1,x)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,m,x){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!x||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,u)},_setZoomTransform:function(s,u,m){var x=this._map.getZoomScale(m,s.zoom),b=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,m)).round();Pe.any3d?Ha(s.el,b,x):qt(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,m=this._tileSize=this.getTileSize(),x=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],x).x/m.x),Math.ceil(s.project([0,u.wrapLng[1]],x).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],x).y/m.x),Math.ceil(s.project([u.wrapLat[1],0],x).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(m,this._tileZoom),b=u.project(s,this._tileZoom).floor(),E=u.getSize().divideBy(x*2);return new M(b.subtract(E),b.add(E))},_update:function(s){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(x),E=b.getCenter(),I=[],re=this.options.keepBuffer,me=new M(b.getBottomLeft().subtract([re,-re]),b.getTopRight().add([re,-re]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Oe=this._tiles[Ee].coords;(Oe.z!==this._tileZoom||!me.contains(new ce(Oe.x,Oe.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var Ze=b.min.y;Ze<=b.max.y;Ze++)for(var rt=b.min.x;rt<=b.max.x;rt++){var _n=new ce(rt,Ze);if(_n.z=this._tileZoom,!!this._isValidTile(_n)){var an=this._tiles[this._tileCoordsToKey(_n)];an?an.current=!0:I.push(_n)}}if(I.sort(function(jt,St){return jt.distanceTo(E)-St.distanceTo(E)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(rt=0;rt<I.length;rt++)this._addTile(I[rt],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!u.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return q(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,m=this.getTileSize(),x=s.scaleBy(m),b=x.add(m),E=u.unproject(x,s.z),I=u.unproject(b,s.z);return[E,I]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),m=new D(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),m=new ce(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(s){var u=this._tiles[s];u&&(Pt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){nt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,Pe.ielt9&&this.options.opacity<1&&Qt(s,this.options.opacity)},_addTile:function(s,u){var m=this._getTilePos(s),x=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&ee(p(this._tileReady,this,s,null,b)),qt(b,m),this._tiles[x]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:s});var x=this._tileCoordsToKey(s);m=this._tiles[x],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Qt(m.el,0),oe(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(nt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ce(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new M(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Au(s){return new cs(s)}var di=cs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=A(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var m=document.createElement("img");return Xe(m,"load",p(this._tileOnLoad,this,u,m)),Xe(m,"error",p(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=m),u["-y"]=m}return R(this._url,d(u,this.options))},_tileOnLoad:function(s,u){Pe.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,m){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),s(m,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,x=this.options.zoomOffset;return m&&(s=u-s),s+x},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=$;var m=this._tiles[s].coords;Pt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",$),cs.prototype._removeTile.call(this,s)},_tileReady:function(s,u,m){if(!(!this._map||m&&m.getAttribute("src")===$))return cs.prototype._tileReady.call(this,s,u,m)}});function Yn(s,u){return new di(s,u)}var or=di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var m=d({},this.defaultWmsParams);for(var x in u)x in this.options||(m[x]=u[x]);u=A(this,u);var b=u.detectRetina&&Pe.retina?2:1,E=this.getTileSize();m.width=E.x*b,m.height=E.y*b,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,di.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),m=this._crs,x=ne(m.project(u[0]),m.project(u[1])),b=x.min,E=x.max,I=(this._wmsVersion>=1.3&&this._crs===no?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),re=di.prototype.getTileUrl.call(this,s);return re+O(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,u){return d(this.wmsParams,s),u||this.redraw(),this}});function $n(s,u){return new or(s,u)}di.WMS=or,Yn.wms=$n;var Ln=ha.extend({options:{padding:.1},initialize:function(s){A(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var m=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),E=x.multiplyBy(-m).add(b).subtract(this._map._getNewPixelOrigin(s,u));Pe.any3d?Ha(this._container,E,m):qt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new M(m,m.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tl=Ln.extend({options:{tolerance:0},getEvents:function(){var s=Ln.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Xe(s,"mousemove",this._onMouseMove,this),Xe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){oe(this._redrawRequest),delete this._ctx,Pt(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var s=this._bounds,u=this._container,m=s.getSize(),x=Pe.retina?2:1;qt(u,s.min),u.width=x*m.x,u.height=x*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,m=u.next,x=u.prev;m?m.prev=x:this._drawLast=x,x?x.next=m:this._drawFirst=m,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),m=[],x,b;for(b=0;b<u.length;b++){if(x=Number(u[b]),isNaN(x))return;m.push(x)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var m,x,b,E,I=s._parts,re=I.length,me=this._ctx;if(re){for(me.beginPath(),m=0;m<re;m++){for(x=0,b=I[m].length;x<b;x++)E=I[m][x],me[x?"lineTo":"moveTo"](E.x,E.y);u&&me.closePath()}this._fillStroke(me,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,m=this._ctx,x=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||x)/x;b!==1&&(m.save(),m.scale(1,b)),m.beginPath(),m.arc(u.x,u.y/b,x,0,Math.PI*2,!1),b!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,u){var m=u.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),m,x,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(x=m);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var m,x,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(u)&&(x=m);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(nt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,m){this._map._fireDOMEvent(u,m||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var m=u.next,x=u.prev;if(m)m.prev=x;else return;x?x.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var m=u.next,x=u.prev;if(x)x.next=m;else return;m?m.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function ur(s){return Pe.canvas?new tl(s):null}var hi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ao={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=hi("shape");nt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=hi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Pt(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,m=s._fill,x=s.options,b=s._container;b.stroked=!!x.stroke,b.filled=!!x.fill,x.stroke?(u||(u=s._stroke=hi("stroke")),b.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=P(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(b.removeChild(u),s._stroke=null),x.fill?(m||(m=s._fill=hi("fill")),b.appendChild(m),m.color=x.fillColor||x.color,m.opacity=x.fillOpacity):m&&(b.removeChild(m),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),m=Math.round(s._radius),x=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+x+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){vn(s._container)},_bringToBack:function(s){wi(s._container)}},Ta=Pe.vml?hi:Kt,ds=Ln.extend({_initContainer:function(){this._container=Ta("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ta("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var s=this._bounds,u=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),qt(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Ta("path");s.options.className&&nt(u,s.options.className),s.options.interactive&&nt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Pt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,m=s.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Rt(s._parts,u))},_updateCircle:function(s){var u=s._point,m=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||m,b="a"+m+","+x+" 0 1,0 ",E=s._empty()?"M0 0":"M"+(u.x-m)+","+u.y+b+m*2+",0 "+b+-m*2+",0 ";this._setPath(s,E)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){vn(s._path)},_bringToBack:function(s){wi(s._path)}});Pe.vml&&ds.include(ao);function cr(s){return Pe.svg||Pe.vml?new ds(s):null}pt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&ur(s)||cr(s)}});var Ci=rs.extend({initialize:function(s,u){rs.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=q(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Rd(s,u){return new Ci(s,u)}ds.create=Ta,ds.pointsToPath=Rt,Va.geometryToLayer=Sn,Va.coordsToLatLng=$r,Va.coordsToLatLngs=ar,Va.latLngToCoords=Xr,Va.latLngsToCoords=ir,Va.getFeature=oi,Va.asFeature=Jr,pt.mergeOptions({boxZoom:!0});var Pn=Sa.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xi(),Zr(),this._startPoint=this._map.mouseEventToContainerPoint(s),Xe(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new M(this._point,this._startPoint),m=u.getSize();qt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Pt(this._box),Vt(this._container,"leaflet-crosshair")),Na(),Qs(),At(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pt.addInitHook("addHandler","boxZoom",Pn),pt.mergeOptions({doubleClickZoom:!0});var nl=Sa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,m=u.getZoom(),x=u.options.zoomDelta,b=s.originalEvent.shiftKey?m-x:m+x;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});pt.addInitHook("addHandler","doubleClickZoom",nl),pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ca=Sa.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new li(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=q(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),m=this._initialWorldOffset,x=this._draggable._newPos.x,b=(x-u+m)%s+u-m,E=(x+u+m)%s-u-m,I=Math.abs(b+m)<Math.abs(E+m)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var u=this._map,m=u.options,x=!m.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),x)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,I=m.easeLinearity,re=b.multiplyBy(I/E),me=re.distanceTo([0,0]),Ee=Math.min(m.inertiaMaxSpeed,me),Oe=re.multiplyBy(Ee/me),Ze=Ee/(m.inertiaDeceleration*I),rt=Oe.multiplyBy(-Ze/2).round();!rt.x&&!rt.y?u.fire("moveend"):(rt=u._limitOffset(rt,u.options.maxBounds),ee(function(){u.panBy(rt,{duration:Ze,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});pt.addInitHook("addHandler","dragging",Ca),pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=Sa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Xe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,m=s.scrollTop||u.scrollTop,x=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},m=this.keyCodes,x,b;for(x=0,b=m.left.length;x<b;x++)u[m.left[x]]=[-1*s,0];for(x=0,b=m.right.length;x<b;x++)u[m.right[x]]=[s,0];for(x=0,b=m.down.length;x<b;x++)u[m.down[x]]=[0,s];for(x=0,b=m.up.length;x<b;x++)u[m.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},m=this.keyCodes,x,b;for(x=0,b=m.zoomIn.length;x<b;x++)u[m.zoomIn[x]]=s;for(x=0,b=m.zoomOut.length;x<b;x++)u[m.zoomOut[x]]=-s},_addHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,m=this._map,x;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(x=this._panKeys[u],s.shiftKey&&(x=W(x).multiplyBy(3)),m.options.maxBounds&&(x=m._limitOffset(W(x),m.options.maxBounds)),m.options.worldCopyJump){var b=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(x)));m.panTo(b)}else m.panBy(x)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;ri(s)}}});pt.addInitHook("addHandler","keyboard",io),pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dr=Sa.extend({addHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=kn(s),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),x),ri(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,E=m?Math.ceil(b/m)*m:b,I=s._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+I):s.setZoomAround(this._lastMousePos,u+I))}});pt.addInitHook("addHandler","scrollWheelZoom",dr);var Ai=600;pt.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var al=Sa.extend({addHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ce(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Xe(document,"touchend",nn),Xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ai),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){At(document,"touchend",nn),At(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ce(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});pt.addInitHook("addHandler","tapHold",al),pt.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var so=Sa.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(x)._divideBy(2))),this._startDist=m.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),nn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]),b=m.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=m._add(x)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),oe(this._animRequest);var I=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(I,this,!0),nn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,oe(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pt.addInitHook("addHandler","touchZoom",so),pt.BoxZoom=Pn,pt.DoubleClickZoom=nl,pt.Drag=Ca,pt.Keyboard=io,pt.ScrollWheelZoom=dr,pt.TapHold=al,pt.TouchZoom=so,l.Bounds=M,l.Browser=Pe,l.CRS=Ae,l.Canvas=tl,l.Circle=Yr,l.CircleMarker=ss,l.Class=U,l.Control=Un,l.DivIcon=Cu,l.DivOverlay=wn,l.DomEvent=Hr,l.DomUtil=es,l.Draggable=li,l.Evented=se,l.FeatureGroup=wa,l.GeoJSON=Va,l.GridLayer=cs,l.Handler=Sa,l.Icon=Ea,l.ImageOverlay=os,l.LatLng=ge,l.LatLngBounds=D,l.Layer=ha,l.LayerGroup=is,l.LineUtil=Cd,l.Map=pt,l.Marker=nr,l.Mixin=wd,l.Path=ka,l.Point=ce,l.PolyUtil=eo,l.Polygon=rs,l.Polyline=Ga,l.Popup=rr,l.PosAnimation=ts,l.Projection=_u,l.Rectangle=Ci,l.Renderer=Ln,l.SVG=ds,l.SVGOverlay=el,l.TileLayer=di,l.Tooltip=lr,l.Transformation=we,l.Util=ue,l.VideoOverlay=ci,l.bind=p,l.bounds=ne,l.canvas=ur,l.circle=wu,l.circleMarker=Su,l.control=Qa,l.divIcon=Dd,l.extend=d,l.featureGroup=Nu,l.geoJSON=Wr,l.geoJson=sr,l.gridLayer=Au,l.icon=Ws,l.imageOverlay=Eu,l.latLng=je,l.latLngBounds=q,l.layerGroup=Ad,l.map=Vl,l.marker=ju,l.point=W,l.polygon=Md,l.polyline=zd,l.popup=Tu,l.rectangle=Rd,l.setOptions=A,l.stamp=v,l.svg=cr,l.svgOverlay=ku,l.tileLayer=Yn,l.tooltip=Od,l.transformation=ot,l.version=o,l.videoOverlay=us;var ro=window.L;l.noConflict=function(){return window.L=ro,this},window.L=l}))})(Go,Go.exports)),Go.exports}var az=nz();const Ki=ld(az);function iz(t){return t==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:t==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function sz({markers:t}){const a=j.useRef(null),l=j.useRef(null),o=j.useRef(null);return j.useEffect(()=>{if(!a.current||l.current)return;const d=t[0]?.lat??41.015137,h=t[0]?.lon??28.97953,p=Ki.map(a.current,{center:[d,h],zoom:14,zoomControl:!0});return l.current=p,Ki.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(p),o.current=Ki.layerGroup().addTo(p),()=>{l.current&&(l.current.remove(),l.current=null),o.current=null}},[t]),j.useEffect(()=>{if(!l.current||!o.current)return;const d=l.current,h=o.current;if(h.clearLayers(),!t.length)return;const p=[],y=new Map;for(const _ of t){const S=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`;y.set(S,(y.get(S)??0)+1)}const v=new Map;for(const _ of t){const S=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`,w=y.get(S)??1,C=v.get(S)??0;v.set(S,C+1);let z=_.lat,k=_.lon;if(w>1){const O=2*Math.PI*C/w,F=12e-5;z=_.lat+Math.sin(O)*F,k=_.lon+Math.cos(O)*F}const A=iz(_.kind);Ki.circleMarker([z,k],A).bindPopup(`${_.label}<br/>${_.lat.toFixed(6)}, ${_.lon.toFixed(6)}`).addTo(h),p.push([z,k])}if(p.length===1){d.setView(p[0],16,{animate:!0});return}d.fitBounds(Ki.latLngBounds(p),{padding:[24,24],maxZoom:17,animate:!0})},[t]),i.jsx("div",{ref:a,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const rz=Ia({home_lat:xn().min(-90),home_lon:xn().min(-180),radius_m:xn().int().positive().max(2e3)}),lz=Ia({expires_in_minutes:xn().int().positive().max(1440)});function Hi(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function oz(t){return t==="OK"?"Tamam":t==="INCOMPLETE"?"Eksik":t==="LEAVE"?"Izinli":"Tatilde"}function bv(t,a){return t===null||a===null?"-":`${t.toFixed(6)}, ${a.toFixed(6)}`}function uz(){const t=Jj(),a=Rl(),l=Mn(),{pushToast:o}=On(),d=new Date,h=Number(t.id),p=Number.isFinite(h)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(h),[y,v]=j.useState("41.0"),[_,S]=j.useState("29.0"),[w,C]=j.useState("120"),[z,k]=j.useState(null),[A,O]=j.useState(""),[F,R]=j.useState(""),[P,Q]=j.useState(""),[$,V]=j.useState(String(d.getFullYear())),[G,K]=j.useState(String(d.getMonth()+1)),[ie,pe]=j.useState(null),[ee,oe]=j.useState({checkin:!0,checkout:!0,latest:!0}),[ue,U]=j.useState(!1),[le,Z]=j.useState("60"),[se,ce]=j.useState(null),[Te,W]=j.useState(null),[M,ne]=j.useState(null),D=Le({queryKey:["employee-detail",h],queryFn:()=>UE(h),enabled:Number.isFinite(h)}),q=D.data?.employee,ge=Le({queryKey:["departments","employee-detail-edit"],queryFn:()=>Rs(),enabled:Number.isFinite(h)}),je=Le({queryKey:["department-shifts",q?.department_id],queryFn:()=>ou(q?.department_id?{department_id:q.department_id,active_only:!1}:void 0),enabled:!!q?.department_id}),Ae=Number($),qe=Number(G),Ge=Number.isFinite(Ae)&&Number.isFinite(qe)&&qe>=1&&qe<=12,tt=Le({queryKey:["employee-monthly",h,Ae,qe],queryFn:()=>Xo({employee_id:h,year:Ae,month:qe}),enabled:Number.isFinite(h)&&Ge}),we=Le({queryKey:["employee-monthly-current",h,d.getFullYear(),d.getMonth()+1],queryFn:()=>Xo({employee_id:h,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(h)}),ot=Ye({mutationFn:X=>HE(h,X),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${h} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",h]})},onError:X=>{const Qe=Ie(X,"Konum kaydedilemedi.").message;k(Qe),o({variant:"error",title:"Konum kaydedilemedi",description:Qe})}}),vt=Ye({mutationFn:X=>l_(h,{is_active:X}),onSuccess:X=>{o({variant:"success",title:X.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${X.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",h]})},onError:X=>{o({variant:"error",title:"Durum guncellenemedi",description:Ie(X,"Islem basarisiz.").message})}}),bt=Ye({mutationFn:X=>ZE(h,X),onSuccess:X=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${X.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",h]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",X.department_id]})},onError:X=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Ie(X,"Islem basarisiz.").message})}}),Kt=Ye({mutationFn:X=>qE(h,{shift_id:X}),onSuccess:X=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${X.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",h]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:X=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Ie(X,"Islem basarisiz.").message})}}),Rt=Ye({mutationFn:y_,onSuccess:X=>{ce(null),W(X.token),ne(X.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${h} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",h]})},onError:X=>{const Qe=Ie(X,"Cihaz daveti olusturulamadi.").message;ce(Qe),o({variant:"error",title:"Davet olusturulamadi",description:Qe})}});j.useEffect(()=>{D.data?.home_location&&(v(String(D.data.home_location.home_lat)),S(String(D.data.home_location.home_lon)),C(String(D.data.home_location.radius_m)))},[D.data?.home_location]),j.useEffect(()=>{q&&O(q.shift_id?String(q.shift_id):"")},[q]),j.useEffect(()=>{q&&(R(q.full_name),Q(q.department_id?String(q.department_id):""))},[q]),j.useEffect(()=>{Number.isFinite(h)&&(p||a("/employees",{replace:!0}))},[h,p,a]);const zt=async X=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(X);else{const Qe=document.createElement("textarea");Qe.value=X,document.body.appendChild(Qe),Qe.select(),document.execCommand("copy"),document.body.removeChild(Qe)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},ve=()=>{ce(null),W(null),ne(null),Z("60"),U(!0)},We=X=>{X.preventDefault(),ce(null);const Qe=lz.safeParse({expires_in_minutes:le});if(!Qe.success){const it=Qe.error.issues[0]?.message??"Sure alanini kontrol edin.";ce(it),o({variant:"error",title:"Form hatasi",description:it});return}Rt.mutate({employee_id:h,expires_in_minutes:Qe.data.expires_in_minutes})},J=X=>{X.preventDefault(),k(null);const Qe=rz.safeParse({home_lat:y,home_lon:_,radius_m:w});if(!Qe.success){const it=Qe.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(it),o({variant:"error",title:"Form hatasi",description:it});return}ot.mutate(Qe.data)},Ce=X=>{X.preventDefault();const Qe=F.trim();if(!Qe){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const it=P?Number(P):null;if(P&&(it===null||!Number.isFinite(it)||it<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}bt.mutate({full_name:Qe,department_id:it})},Ve=tt.data?.days??[],_t=j.useMemo(()=>Vf(Ve),[Ve]),kt=D.data?.ip_summary??[];j.useEffect(()=>{if(!ie)return;Ve.some(Qe=>Qe.date===ie)||pe(null)},[Ve,ie]);const ut=j.useMemo(()=>Ve.find(X=>X.date===ie)??null,[Ve,ie]),_e=j.useMemo(()=>{const X=[];return ut&&(ut.in_lat!==null&&ut.in_lon!==null&&X.push({id:`${ut.date}-in`,lat:ut.in_lat,lon:ut.in_lon,label:`${ut.date} - Mesai Baslangici`,kind:"checkin"}),ut.out_lat!==null&&ut.out_lon!==null&&X.push({id:`${ut.date}-out`,lat:ut.out_lat,lon:ut.out_lon,label:`${ut.date} - Mesai Bitisi`,kind:"checkout"})),D.data?.latest_location&&X.push({id:"latest",lat:D.data.latest_location.lat,lon:D.data.latest_location.lon,label:"Son bildirilen konum",kind:"latest"}),X},[D.data?.latest_location,ut]),Ke=j.useMemo(()=>_e.filter(X=>ee[X.kind]),[_e,ee]);j.useEffect(()=>{_e.length&&(Ke.length||oe({checkin:!0,checkout:!0,latest:!0}))},[Ke.length,_e.length]);const ct=X=>{if(!_e.some(un=>un.kind===X)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const it=Object.values(ee).filter(Boolean).length;if(ee[X]&&it===1){oe({checkin:!0,checkout:!0,latest:!0});return}oe({checkin:X==="checkin",checkout:X==="checkout",latest:X==="latest"})},et=()=>{oe({checkin:!0,checkout:!0,latest:!0})},hn=(X,Qe)=>{const it=X.in_lat!==null&&X.in_lon!==null,un=X.out_lat!==null&&X.out_lon!==null;if(!(Qe==="in"?it:un)){o({variant:"info",title:"Konum bulunamadi",description:`${X.date} icin secilen konum kaydi yok.`});return}pe(X.date),oe({checkin:!0,checkout:!0,latest:!0})},te=j.useMemo(()=>`${D.data?.devices.length??0} cihaz`,[D.data?.devices.length]);return Number.isFinite(h)?p?D.isLoading?i.jsx(Ct,{}):D.isError||!q?i.jsx(xt,{message:"Calisan kaydi bulunamadi."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:`Calisan Detayi #${q.id}`,description:`${q.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{const X=!q.is_active;window.confirm(X?`${q.full_name} arsivden cikarilsin mi?`:`${q.full_name} arsivlensin mi?`)&&vt.mutate(X)},disabled:vt.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${q.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:q.is_active?"Arsivle":"Arsivden Cikar"}),i.jsx("button",{type:"button",onClick:ve,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),i.jsx(ze,{children:i.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),i.jsx("p",{className:"text-base font-semibold text-slate-900",children:q.full_name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",q.id]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),i.jsx(Ds,{value:q.is_active?"Aktif":"Pasif"}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",q.region_name??"-"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",q.department_id??"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),i.jsx("p",{className:"text-sm font-medium text-slate-800",children:Hi(D.data?.last_portal_seen_utc)}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",te]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay yasal fazla mesai"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:we.data?.totals.legal_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Plan ustu: ",i.jsx(De,{minutes:we.data?.totals.plan_overtime_minutes??0})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),i.jsxs("form",{onSubmit:Ce,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",i.jsx("input",{value:F,onChange:X=>R(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:P,onChange:X=>Q(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:ge.isLoading,children:[i.jsx("option",{value:"",children:"Atanmamis"}),(ge.data??[]).map(X=>i.jsx("option",{value:X.id,children:X.name},X.id))]})]}),i.jsx("button",{type:"submit",disabled:bt.isPending||ge.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:bt.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),ge.isError?i.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",i.jsxs("select",{value:A,onChange:X=>O(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!q.department_id||je.isLoading,children:[i.jsx("option",{value:"",children:"Atanmamis"}),(je.data??[]).map(X=>i.jsxs("option",{value:X.id,children:[X.name," (",X.start_time_local,"-",X.end_time_local,")"]},X.id))]})]}),i.jsx("button",{type:"button",disabled:Kt.isPending||!q.department_id,onClick:()=>{const X=A?Number(A):null;Kt.mutate(X)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Kt.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),i.jsxs(ze,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",i.jsx("input",{type:"number",value:$,onChange:X=>V(X.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",i.jsx("input",{type:"number",min:1,max:12,value:G,onChange:X=>K(X.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),Ge?tt.isLoading?i.jsx(Ct,{}):tt.isError?i.jsx(xt,{message:Ie(tt.error,"Aylik puantaj alinamadi.").message}):i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-3 xl:grid-cols-7",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:tt.data?.totals.worked_minutes??0})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay plan ustu sure"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:tt.data?.totals.plan_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[_t.planOvertimeDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla sure"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:tt.data?.totals.legal_extra_work_minutes??0})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla mesai"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.jsx(De,{minutes:tt.data?.totals.legal_overtime_minutes??0})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[_t.overtimeDayCount," gun fazla mesai"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:tt.data?.totals.incomplete_days??0})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:_t.workedDayCount}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",_t.weekdayWorkedDayCount," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Pazar mesaisi"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[_t.sundayWorkedDayCount," gun"]}),i.jsx("p",{className:"text-xs text-slate-500",children:i.jsx(De,{minutes:_t.sundayWorkedMinutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Ozel gun mesaisi"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[_t.specialWorkedDayCount," gun"]}),i.jsx("p",{className:"text-xs text-slate-500",children:i.jsx(De,{minutes:_t.specialWorkedMinutes})})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Gun Tipi"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Net Sure"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),i.jsx("tbody",{children:Ve.map(X=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:X.date}),i.jsx("td",{className:"py-2",children:oz(X.status)}),i.jsx("td",{className:"py-2",children:gd(X).label}),i.jsx("td",{className:"py-2",children:Hi(X.in)}),i.jsx("td",{className:"py-2",children:Hi(X.out)}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs",children:bv(X.in_lat,X.in_lon)}),X.in_lat!==null&&X.in_lon!==null?i.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>hn(X,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs",children:bv(X.out_lat,X.out_lon)}),X.out_lat!==null&&X.out_lon!==null?i.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>hn(X,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:X.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:X.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:X.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:X.legal_overtime_minutes})}),i.jsx("td",{className:"py-2 text-xs text-slate-600",children:X.flags.length?X.flags.join(", "):"-"})]},X.date))})]})})]}):i.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),i.jsx("div",{className:"mt-3 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Cihaz ID"}),i.jsx("th",{className:"py-2",children:"Parmak Izi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Olusma"}),i.jsx("th",{className:"py-2",children:"Son Attendance"}),i.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),i.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),i.jsx("tbody",{children:(D.data?.devices??[]).map(X=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:X.id}),i.jsx("td",{className:"py-2 font-mono text-xs",children:X.device_fingerprint}),i.jsx("td",{className:"py-2",children:i.jsx(Ds,{value:X.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:Hi(X.created_at)}),i.jsx("td",{className:"py-2",children:Hi(X.last_attendance_ts_utc)}),i.jsx("td",{className:"py-2",children:X.last_seen_ip??"-"}),i.jsx("td",{className:"py-2",children:Hi(X.last_seen_at_utc)})]},X.id))})]})})]}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),i.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{className:"py-2",children:"Islem"}),i.jsx("th",{className:"py-2",children:"IP"}),i.jsx("th",{className:"py-2",children:"User Agent"})]})}),i.jsx("tbody",{children:(D.data?.recent_activity??[]).map((X,Qe)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Hi(X.ts_utc)}),i.jsx("td",{className:"py-2",children:X.action}),i.jsx("td",{className:"py-2",children:X.ip??"-"}),i.jsx("td",{className:"py-2 max-w-[280px] truncate",title:X.user_agent??"-",children:X.user_agent??"-"})]},`${X.ts_utc}-${Qe}`))})]})})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),i.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:kt.length?i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"IP"}),i.jsx("th",{className:"py-2",children:"Son gorulme"}),i.jsx("th",{className:"py-2",children:"Aksiyon"}),i.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),i.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),i.jsx("tbody",{children:kt.map(X=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2 font-mono text-xs",children:X.ip}),i.jsx("td",{className:"py-2",children:Hi(X.last_seen_at_utc)}),i.jsx("td",{className:"py-2",children:X.last_action}),i.jsx("td",{className:"py-2",children:X.last_lat!==null&&X.last_lon!==null?`${X.last_lat.toFixed(6)}, ${X.last_lon.toFixed(6)}`:"-"}),i.jsx("td",{className:"py-2",children:X.last_location_ts_utc?Hi(X.last_location_ts_utc):"-"})]},X.ip))})]}):i.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),i.jsxs(ze,{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),ie?i.jsx("button",{type:"button",onClick:()=>{pe(null),oe({checkin:!0,checkout:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),ut?i.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",i.jsx("span",{className:"font-semibold",children:ut.date})," gununun giris/cikis konumlari"]}):D.data?.latest_location?i.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):i.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),Ke.length?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsx(sz,{markers:Ke}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[i.jsxs("button",{type:"button",onClick:()=>ct("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ee.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),i.jsxs("button",{type:"button",onClick:()=>ct("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ee.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),i.jsxs("button",{type:"button",onClick:()=>ct("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ee.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),i.jsx("button",{type:"button",onClick:et,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):i.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),D.data?.home_location?null:i.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),i.jsxs("form",{onSubmit:J,className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",i.jsx("input",{value:y,onChange:X=>v(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",i.jsx("input",{value:_,onChange:X=>S(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",i.jsx("input",{value:w,onChange:X=>C(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:ot.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ot.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):D.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?i.jsx("p",{className:"form-validation",children:z}):null]}),i.jsxs(Jo,{open:ue,title:"Cihaz Baglama Linki Olustur",onClose:()=>U(!1),children:[i.jsxs("form",{onSubmit:We,className:"space-y-4",children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",i.jsx("input",{value:le,onChange:X=>Z(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"submit",disabled:Rt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Rt.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),i.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),se?i.jsx("p",{className:"form-validation",children:se}):null,Te&&M?i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(vv,{label:"Token",value:Te,onCopy:zt}),i.jsx(vv,{label:"Baglanti Linki (invite_url)",value:M,onCopy:zt})]}):null]})]}):i.jsx(Ct,{}):i.jsx(xt,{message:"Gecersiz calisan id degeri."})}const cz={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},dz={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Ic={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},W_="Europe/Istanbul";function Am(t){const a=[];t.status==="INCOMPLETE"&&a.push("EKSIK_GUN");for(const l of t.flags)a.push(l);return a}function hz(t){return t.length===0?void 0:`Supheli nedenleri:
${t.map((l,o)=>{const d=_i(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function Nv(t){if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:W_,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)}function jv(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:W_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(a)}function Sv(t){if(!t)return{status:"NORMAL",reason:""};const a=(t.note??"").trim(),l=a.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:a.replace(l[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:a}:{status:"NORMAL",reason:a}}function mz(t,a){const l=a.trim();if(t==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${t}]`;return l?`${o} ${l}`:o}function fz(){const t=Mn(),{pushToast:a}=On(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,h]=j.useState(o),[p,y]=j.useState(o),[v,_]=j.useState(!1),[S,w]=j.useState(null),[C,z]=j.useState(!1),[k,A]=j.useState(!1),[O,F]=j.useState(""),[R,P]=j.useState(""),[Q,$]=j.useState(""),[V,G]=j.useState(""),[K,ie]=j.useState("NORMAL"),[pe,ee]=j.useState("AUTO"),[oe,ue]=j.useState(""),[U,le]=j.useState(null),[Z,se]=j.useState(null),ce=Le({queryKey:["employees","all"],queryFn:()=>ti({status:"all"})}),Te=Number(p.employeeId),W=Number(p.year),M=Number(p.month),ne=Number.isFinite(Te)&&Te>0&&Number.isFinite(W)&&W>0&&Number.isFinite(M)&&M>=1&&M<=12,D=Le({queryKey:["employee-monthly",Te,W,M],queryFn:()=>Xo({employee_id:Te,year:W,month:M}),enabled:ne}),q=Le({queryKey:["manual-overrides",Te,W,M],queryFn:()=>S2(Te,W,M),enabled:ne}),ge=Ye({mutationFn:({employeeId:_e,dayDate:Ke,inTime:ct,outTime:et,status:hn,ruleSource:te,ruleShiftId:X,reason:Qe})=>{const it=hn!=="NORMAL";return j2(_e,{day_date:Ke,in_time:it?null:ct||null,out_time:it?null:et||null,is_absent:it,rule_source_override:te,rule_shift_id_override:te==="SHIFT"&&X?Number(X):null,note:mz(hn,Qe)})},onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),se(null),ue(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:_e=>{a({variant:"error",title:"Duzeltme kaydedilemedi",description:Ie(_e,"Islem basarisiz.").message})}}),je=Ye({mutationFn:w2,onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),se(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:_e=>{a({variant:"error",title:"Silme islemi basarisiz",description:Ie(_e,"Islem basarisiz.").message})}}),Ae=j.useMemo(()=>ce.data?.find(_e=>_e.id===Te),[ce.data,Te]),qe=Ae?.full_name,Ge=Le({queryKey:["monthly-manual-shifts",Ae?.department_id],queryFn:()=>ou(Ae?.department_id?{department_id:Ae.department_id,active_only:!1}:void 0),enabled:!!Ae?.department_id}),tt=j.useMemo(()=>{const _e=new Map;for(const Ke of q.data??[])_e.set(Ke.day_date,Ke);return _e},[q.data]),we=D.data?.days??[],ot=j.useMemo(()=>we.reduce((_e,Ke)=>_e+(Ke.missing_minutes??0),0),[we]),vt=j.useMemo(()=>we.filter(_e=>!(v&&Am(_e).length===0||S&&!_e.flags.includes(S))),[we,S,v]),bt=j.useMemo(()=>we.filter(_e=>Am(_e).length>0).length,[we]),Kt=j.useMemo(()=>we.filter(_e=>_e.legal_overtime_minutes>0).length,[we]),Rt=j.useMemo(()=>{const _e=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],Ke=new Map;for(const ct of _e)Ke.set(ct,0);for(const ct of we)for(const et of _e)ct.flags.includes(et)&&Ke.set(et,(Ke.get(et)??0)+1);return _e.map(ct=>({code:ct,count:Ke.get(ct)??0}))},[we]),zt=j.useMemo(()=>{const _e=[];return p.employeeId&&_e.push(`Calisan: ${p.employeeId}`),_e.push(`Yil: ${p.year}`),_e.push(`Ay: ${p.month}`),v&&_e.push("Sadece supheli gunler"),S&&_e.push(`Cakisma: ${_i(S).label}`),_e},[p,S,v]),ve=()=>y({...d}),We=()=>{h(o),y(o),_(!1),w(null)},J=async()=>{if(!ne){a({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const _e=await C2({employee_id:Te,year:W,month:M}),Ke=window.URL.createObjectURL(_e),ct=document.createElement("a");ct.href=Ke,ct.download=`puantaj-employee-${Te}-${W}-${String(M).padStart(2,"0")}.xlsx`,document.body.appendChild(ct),ct.click(),ct.remove(),window.URL.revokeObjectURL(Ke)}catch(_e){a({variant:"error",title:"Excel indirilemedi",description:Ie(_e,"Dosya olusturulamadi.").message})}finally{z(!1)}},Ce=_e=>{const Ke=tt.get(_e.date),ct=Sv(Ke);F(_e.date),le(Ke?.id??null),ie(ct.status),G(ct.reason),P(Ke?Nv(Ke.in_ts):""),$(Ke?Nv(Ke.out_ts):""),ee(Ke?.rule_source_override??"AUTO"),ue(Ke?.rule_shift_id_override?String(Ke.rule_shift_id_override):_e.shift_id?String(_e.shift_id):""),se(null),A(!0)},Ve=()=>{if(!ne||we.length===0){a({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}Ce(we[0])},_t=()=>{if(se(null),!O)return se("Duzeltme icin tarih secmelisiniz."),!1;if(K==="NORMAL"){if(!R&&!Q)return se("Normal gun icin en az bir saat bilgisi girin."),!1;if(R&&Q&&Q<R)return se("Cikis saati giris saatinden kucuk olamaz."),!1}return pe==="SHIFT"&&!oe?(se("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},kt=_e=>{_e.preventDefault(),ne&&_t()&&ge.mutate({employeeId:Te,dayDate:O,inTime:R,outTime:Q,status:K,ruleSource:pe,ruleShiftId:oe,reason:V})};if(ce.isLoading)return i.jsx(Ct,{});if(ce.isError)return i.jsx(xt,{message:"Calisan listesi alinamadi."});const ut=ce.data??[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:Ve,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),i.jsx("button",{type:"button",onClick:()=>{J()},disabled:C,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:C?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),i.jsx(Wa,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsx(Ra,{label:"Calisan",employees:ut,value:d.employeeId,onChange:_e=>h(Ke=>({...Ke,employeeId:_e})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",i.jsx("input",{type:"number",value:d.year,onChange:_e=>h(Ke=>({...Ke,year:_e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:d.month,onChange:_e=>h(Ke=>({...Ke,month:_e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsx("div",{className:"mt-3",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:_e=>_(_e.target.checked)}),"Sadece supheli gunleri goster"]})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:ve,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:We,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:zt.map(_e=>i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:_e},_e))})]}),ne?null:i.jsx(xt,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),D.isLoading?i.jsx(Ct,{}):null,D.isError?i.jsx(xt,{message:Ie(D.error,"Aylik rapor alinamadi.").message}):null,D.data?i.jsxs(i.Fragment,{children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),i.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",qe??D.data.employee_id," | Donem:"," ",D.data.year,"-",D.data.month]}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-7",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.worked_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Plan Ustu Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.plan_overtime_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.legal_extra_work_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.totals.legal_overtime_minutes})}),i.jsxs("p",{className:"text-xs text-slate-500",children:[Kt," gun"]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),i.jsx("p",{className:"text-lg font-semibold",children:D.data.totals.incomplete_days})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),i.jsx("p",{className:"text-lg font-semibold",children:bt})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:ot})})]})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.worked_minutes_net})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.annual_overtime_used_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),i.jsx("p",{className:"text-lg font-semibold",children:i.jsx(De,{minutes:D.data.annual_overtime_remaining_minutes})})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),i.jsx("p",{className:`text-sm font-semibold ${D.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:D.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),i.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),i.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:Q2().map(_e=>i.jsxs("li",{children:[i.jsx("span",{className:"font-semibold",title:_i(_e).description,children:_i(_e).label})," ","(",_e,"): ",_i(_e).description]},_e))})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?i.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,i.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Rt.map(_e=>i.jsxs("button",{type:"button",onClick:()=>{w(Ke=>Ke===_e.code?null:_e.code),_(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===_e.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[i.jsx("p",{className:"text-xs text-slate-500",title:_i(_e.code).description,children:_i(_e.code).label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:_e.count})]},_e.code))})]}),vt.length===0?i.jsx(ze,{children:i.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):i.jsx(ze,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Tarih"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Giris"}),i.jsx("th",{className:"py-2",children:"Cikis"}),i.jsx("th",{className:"py-2",children:"Calisma"}),i.jsx("th",{className:"py-2",children:"Plan Ustu"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),i.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),i.jsx("th",{className:"py-2",children:"Eksik Sure"}),i.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Izin"}),i.jsx("th",{className:"py-2",children:"Supheli Neden"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:vt.map(_e=>{const Ke=Am(_e),ct=Ke.length>0,et=hz(Ke),hn=tt.get(_e.date),te=Sv(hn),X=_e.flags.includes("MANUAL_OVERRIDE")||_e.flags.includes("MANUAL_EVENT")||!!hn,Qe=te.status!=="NORMAL";return i.jsxs("tr",{className:`border-t border-slate-100 ${ct?"bg-amber-50/40":""}`,children:[i.jsx("td",{className:"py-2",children:_e.date}),i.jsxs("td",{className:"py-2",children:[i.jsx(Ds,{value:_e.status}),X?i.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,Qe?i.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:cz[te.status]}):null,i.jsx("span",{className:"ml-2",children:i.jsx(__,{suspicious:ct,tooltip:et})})]}),i.jsx("td",{className:"py-2",title:_e.in??void 0,children:jv(_e.in)}),i.jsx("td",{className:"py-2",title:_e.out??void 0,children:jv(_e.out)}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:_e.worked_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:_e.plan_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:_e.legal_extra_work_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:_e.legal_overtime_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:_e.missing_minutes??0})}),i.jsx("td",{className:"py-2",children:i.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${_e.applied_planned_minutes} dk | Mola: ${_e.applied_break_minutes} dk`,children:dz[_e.rule_source]})}),i.jsx("td",{className:"py-2",children:_e.shift_name??"-"}),i.jsx("td",{className:"py-2",children:_e.leave_type??"-"}),i.jsx("td",{className:"py-2",children:i.jsx(b_,{reasons:Ke})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>Ce(_e),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},_e.date)})})]})})})]}):null,i.jsx(Jo,{open:k,title:O?`${O} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),children:i.jsxs("form",{onSubmit:kt,className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",i.jsx("input",{type:"date",value:O,onChange:_e=>F(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",i.jsxs("select",{value:K,onChange:_e=>ie(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"NORMAL",children:"Normal"}),i.jsx("option",{value:"IZINLI",children:"Izinli"}),i.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),i.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",i.jsxs("select",{value:pe,onChange:_e=>{const Ke=_e.target.value;ee(Ke),Ke!=="SHIFT"&&ue("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"AUTO",children:Ic.AUTO}),i.jsx("option",{value:"SHIFT",children:Ic.SHIFT}),i.jsx("option",{value:"WEEKLY",children:Ic.WEEKLY}),i.jsx("option",{value:"WORK_RULE",children:Ic.WORK_RULE})]})]}),pe==="SHIFT"?i.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",i.jsxs("select",{value:oe,onChange:_e=>ue(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Vardiya seciniz"}),(Ge.data??[]).map(_e=>i.jsxs("option",{value:_e.id,children:[_e.name," (",_e.start_time_local," - ",_e.end_time_local,")"]},_e.id))]})]}):null,i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",i.jsx("input",{type:"time",value:R,onChange:_e=>P(_e.target.value),disabled:K!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",i.jsx("input",{type:"time",value:Q,onChange:_e=>$(_e.target.value),disabled:K!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),K==="NORMAL"?i.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):i.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",i.jsx("input",{type:"text",value:V,onChange:_e=>G(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),Z?i.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:Z}):null,i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:ge.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ge.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),U?i.jsx("button",{type:"button",onClick:()=>je.mutate(U),disabled:je.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:je.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const pz=Ia({full_name:xa().min(2,"Ad soyad en az 2 karakter olmali."),region_id:rd([xn().int().positive(),Nf()]),department_id:rd([xn().int().positive(),Nf()]),is_active:bd()});function gz(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState(!0),[S,w]=j.useState(""),[C,z]=j.useState(!1),[k,A]=j.useState(!1),[O,F]=j.useState(""),[R,P]=j.useState(""),[Q,$]=j.useState(null),V=Le({queryKey:["employees",k,O,R],queryFn:()=>ti({...k?{include_inactive:!0}:{},...O?{region_id:Number(O)}:{},...R?{department_id:Number(R)}:{}})}),G=Le({queryKey:["departments"],queryFn:Rs}),K=Le({queryKey:["regions","employees-page"],queryFn:()=>pd({include_inactive:!0})}),ie=Ye({mutationFn:IE,onSuccess:W=>{o(""),h(""),y(""),_(!0),$(null),z(!1),a({variant:"success",title:"Calisan olusturuldu",description:`${W.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const M=Ie(W,"Calisan olusturulamadi.").message;$(M),a({variant:"error",title:"Calisan olusturulamadi",description:M})}}),pe=Ye({mutationFn:({employeeId:W,nextStatus:M})=>l_(W,{is_active:M}),onSuccess:W=>{a({variant:"success",title:W.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${W.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:W=>{const M=Ie(W,"Calisan durumu guncellenemedi.").message;a({variant:"error",title:"Islem basarisiz",description:M})}}),ee=W=>{W.preventDefault(),$(null);const M=d.trim()===""?null:Number(d),ne=p.trim()===""?null:Number(p),D=pz.safeParse({full_name:l,region_id:M,department_id:ne,is_active:v});if(!D.success){const q=D.error.issues[0]?.message??"Calisan formunu kontrol edin.";$(q),a({variant:"error",title:"Form hatasi",description:q});return}ie.mutate(D.data)},oe=V.data??[],ue=G.data??[],U=K.data??[],le=new Map(ue.map(W=>[W.id,W.name])),Z=new Map(U.map(W=>[W.id,W.name])),se=j.useMemo(()=>{const W=d?Number(d):null;return W?ue.filter(M=>M.region_id===W):ue},[ue,d]),ce=j.useMemo(()=>{const W=O?Number(O):null;return W?ue.filter(M=>M.region_id===W):ue},[ue,O]),Te=j.useMemo(()=>{const W=S.trim().toLowerCase();return W?oe.filter(M=>M.full_name.toLowerCase().includes(W)):oe},[oe,S]);return V.isLoading||G.isLoading||K.isLoading?i.jsx(Ct,{}):V.isError||G.isError||K.isError?i.jsx(xt,{message:"Calisan verileri alinamadi."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:i.jsx("button",{type:"button",onClick:()=>z(W=>!W),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),C?i.jsxs(ze,{children:[i.jsxs("form",{onSubmit:ee,className:"grid gap-3 md:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",i.jsx("input",{value:l,onChange:W=>o(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",i.jsxs("select",{value:d,onChange:W=>{h(W.target.value),y("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmamis"}),U.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:p,onChange:W=>y(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmamis"}),se.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:W=>_(W.target.checked)}),"Aktif"]}),i.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[i.jsx("button",{type:"submit",disabled:ie.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ie.isPending?"Kaydediliyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{z(!1),$(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),Q?i.jsx("div",{className:"form-validation",children:Q}):null]}):null,i.jsxs(ze,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[i.jsx(Gi,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",i.jsxs("select",{value:O,onChange:W=>{F(W.target.value),P("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum bolgeler"}),U.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",i.jsxs("select",{value:R,onChange:W=>P(W.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tum departmanlar"}),ce.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:W=>A(W.target.checked)}),"Arsivdekileri goster"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Calisan ID"}),i.jsx("th",{className:"py-2",children:"Ad Soyad"}),i.jsx("th",{className:"py-2",children:"Bolge"}),i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:Te.map(W=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:W.id}),i.jsx("td",{className:"py-2",children:W.full_name}),i.jsx("td",{className:"py-2",children:W.region_name??(W.region_id?Z.get(W.region_id):"-")??"-"}),i.jsx("td",{className:"py-2",children:W.department_id?le.get(W.department_id):"-"}),i.jsx("td",{className:"py-2",children:i.jsx(Ds,{value:W.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Wa,{to:`/employees/${W.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(W.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),i.jsx("button",{type:"button",disabled:pe.isPending,onClick:()=>{const M=!W.is_active;window.confirm(M?`${W.full_name} arsivden cikarilsin mi?`:`${W.full_name} arsivlensin mi?`)&&pe.mutate({employeeId:W.id,nextStatus:M})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${W.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:W.is_active?"Arsivle":"Arsivden Cikar"})]})})]},W.id))})]})}),Te.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const yz=Ia({employee_id:xn().int().positive(),start_date:xa().min(1),end_date:xa().min(1),type:Sf(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:Sf(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:xa().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function xz(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState("ANNUAL"),[S,w]=j.useState("APPROVED"),[C,z]=j.useState(""),[k,A]=j.useState(null),[O,F]=j.useState(""),[R,P]=j.useState(String(new Date().getFullYear())),[Q,$]=j.useState(String(new Date().getMonth()+1)),V=Le({queryKey:["employees"],queryFn:()=>ti({include_inactive:!0,status:"all"})}),G=j.useMemo(()=>{const le=Number(O),Z=Number(R),se=Number(Q);return{employee_id:Number.isFinite(le)&&le>0?le:void 0,year:Number.isFinite(Z)&&Z>0?Z:void 0,month:Number.isFinite(se)&&se>0?se:void 0}},[O,R,Q]),K=Le({queryKey:["leaves",G.employee_id??"all",G.year??"all",G.month??"all"],queryFn:()=>g_(G)}),ie=Ye({mutationFn:_2,onSuccess:le=>{h(""),y(""),_("ANNUAL"),w("APPROVED"),z(""),A(null),a({variant:"success",title:"zin kayd oluturuldu",description:`zin #${le.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:le=>{const Z=Ie(le,"zin kayd oluturulamad.");A(Z.message),a({variant:"error",title:"zin oluturulamad",description:Z.message})}}),pe=Ye({mutationFn:b2,onSuccess:(le,Z)=>{a({variant:"success",title:"zin kayd silindi",description:`zin #${Z} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:le=>{const Z=Ie(le,"zin silinemedi.");a({variant:"error",title:"zin silinemedi",description:Z.message})}}),ee=le=>{le.preventDefault(),A(null);const Z=yz.safeParse({employee_id:l,start_date:d,end_date:p,type:v,status:S,note:C});if(!Z.success){const se=Z.error.issues[0]?.message??"zin formunu kontrol edin.";A(se),a({variant:"error",title:"Form hatas",description:se});return}ie.mutate({...Z.data,note:Z.data.note||null})};if(V.isLoading)return i.jsx(Ct,{});if(V.isError)return i.jsx(xt,{message:"alan listesi alnamad."});const oe=V.data??[],ue=K.data??[],U=new Map(oe.map(le=>[le.id,le.full_name]));return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),i.jsxs("form",{onSubmit:ee,className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Ra,{label:"alan",employees:oe,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:d,onChange:le=>h(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:p,onChange:le=>y(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",i.jsxs("select",{value:v,onChange:le=>_(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),i.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),i.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),i.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),i.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",i.jsxs("select",{value:S,onChange:le=>w(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"APPROVED",children:"ONAYLI"}),i.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),i.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",i.jsx("textarea",{value:C,onChange:le=>z(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),i.jsx("div",{className:"md:col-span-3",children:i.jsx("button",{type:"submit",disabled:ie.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ie.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?i.jsx("div",{className:"form-validation",children:k}):null]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),i.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[i.jsx(Ra,{label:"alan",employees:oe,value:O,onChange:F,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{value:R,onChange:le=>P(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{value:Q,onChange:le=>$(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),K.isLoading?i.jsx(Ct,{}):null,K.isError?i.jsx(xt,{message:"zin listesi alnamad."}):null,!K.isLoading&&!K.isError?i.jsxs(ze,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"zin ID"}),i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{className:"py-2",children:"zin Tipi"}),i.jsx("th",{className:"py-2",children:"Tarih Aral"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"lem"})]})}),i.jsx("tbody",{children:ue.map(le=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:le.id}),i.jsx("td",{className:"py-2",children:U.get(le.employee_id)??le.employee_id}),i.jsx("td",{className:"py-2",children:le.type}),i.jsxs("td",{className:"py-2",children:[le.start_date," - ",le.end_date]}),i.jsx("td",{className:"py-2",children:i.jsx(Ds,{value:le.status})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>pe.mutate(le.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},le.id))})]})}),ue.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const vz=Ia({username:xa().min(1,"Kullanc ad gerekli."),password:xa().min(1,"ifre gerekli.")});function _z(t){return t.code==="INVALID_CREDENTIALS"?"Giri bilgileri hatal":t.code==="TOO_MANY_ATTEMPTS"?"ok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatas":"Giri baarsz"}function bz(){const t=Rl(),a=Pa(),{login:l}=Pl(),[o,d]=j.useState("admin"),[h,p]=j.useState(""),[y,v]=j.useState(null),[_,S]=j.useState(!1),w=j.useMemo(()=>{const z=a.state?.from,k=new URLSearchParams(a.search).get("redirect");return z??k??"/dashboard"},[a.search,a.state]),C=async z=>{z.preventDefault(),v(null);const k=vz.safeParse({username:o,password:h});if(!k.success){v({message:k.error.issues[0]?.message??"Form alanlarn kontrol et."});return}S(!0);try{await l(k.data.username,k.data.password),t(w,{replace:!0})}catch(A){v(Ie(A,"Giri baarsz."))}finally{S(!1)}};return i.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giri"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj ynetim paneline giri yap."}),i.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanc Ad"}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"ifre"}),i.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:h,onChange:z=>p(z.target.value)})]}),y?i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[i.jsx("p",{className:"font-semibold",children:_z(y)}),i.jsx("p",{className:"mt-1",children:y.message}),y.requestId?i.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",y.requestId]}):null]}):null,i.jsx("button",{type:"submit",disabled:_,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giri yaplyor..."]}):"Giri Yap"})]}),i.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[bi.signatureText," | BUILD: ",bi.buildVersion]})]})})}const Nz=[{to:"/employees",label:"alan Ynetimi",description:"Personel kart, ariv ve profil ynetimi.",code:"CMD-EMP"},{to:"/attendance-events",label:"Puantaj Kaytlar",description:"Giri-k olaylar ve manuel dzeltme.",code:"CMD-ATT"},{to:"/devices",label:"Cihaz Kontrol",description:"Cihaz aktivasyonu ve eriim denetimi.",code:"CMD-DEV"},{to:"/notifications",label:"Bildirim Merkezi",description:"Toplu/tekli push ve teslimat loglar.",code:"CMD-NOT"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",description:"alma ve fazla mesai analizi.",code:"CMD-RPT"},{to:"/audit-logs",label:"Sistem Loglar",description:"z kayd ve gvenlik denetimi.",code:"CMD-AUD"}];function Uc(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function jz(t){const a=new Date(t);return Number.isNaN(a.getTime())?"":a.toLocaleDateString("sv-SE",{timeZone:"Europe/Istanbul"})}function Sz(t){const a=new Date(`${t}T00:00:00Z`);return Number.isNaN(a.getTime())?"Hafta i":a.getUTCDay()===0?"Pazar":"Hafta i"}function wz(t){return t==="NOT_STARTED"?"Balamad":t==="IN_PROGRESS"?"Mesai Devam Ediyor":"Mesai Tamamland"}function Ez(){const{pushToast:t}=On(),a=new Date,[l,o]=j.useState("Ynetim Konsolu Bildirimi"),[d,h]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState("bulk"),[S,w]=j.useState(""),[C,z]=j.useState([]),[k,A]=j.useState(""),[O,F]=j.useState(String(a.getFullYear())),[R,P]=j.useState(String(a.getMonth()+1)),Q=Le({queryKey:["employees","management-console"],queryFn:()=>ti({status:"all",include_inactive:!0}),refetchInterval:3e4}),$=Le({queryKey:["devices","management-console"],queryFn:f_,refetchInterval:3e4}),V=Le({queryKey:["attendance-events","management-console"],queryFn:()=>Gf({limit:20}),refetchInterval:2e4}),G=Le({queryKey:["employee-device-overview","management-console"],queryFn:()=>vf({limit:12,device_limit:2,include_inactive:!1}),refetchInterval:2e4}),K=Le({queryKey:["dashboard-employee-snapshot","management-console",k],queryFn:()=>p_({employee_id:Number(k)}),enabled:!!k,staleTime:15e3}),ie=Number(O),pe=Number(R),ee=Number.isInteger(ie)&&Number.isInteger(pe)&&pe>=1&&pe<=12,oe=Le({queryKey:["management-console-control-monthly",k,ie,pe],queryFn:()=>Xo({employee_id:Number(k),year:ie,month:pe}),enabled:!!k&&ee,staleTime:15e3}),ue=Ye({mutationFn:m_,onSuccess:we=>{t({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${we.total_targets} / Gnderilen: ${we.sent}`}),h(""),v==="single"&&(z([]),w(""))},onError:we=>{const ot=Ie(we,"Bildirim gnderimi baarsz.");t({variant:"error",title:"Gnderim baarsz",description:ot.message})}}),U=Q.data??[],le=$.data??[],Z=V.data??[],se=G.data??[],ce=oe.data?.days??[],Te=j.useMemo(()=>Vf(ce),[ce]),W=j.useMemo(()=>new Map(U.map(we=>[we.id,we])),[U]),M=j.useMemo(()=>U.filter(we=>we.is_active).length,[U]),ne=j.useMemo(()=>le.filter(we=>we.is_active).length,[le]),D=j.useMemo(()=>Z.filter(we=>we.location_status==="VERIFIED_HOME").length,[Z]),q=j.useMemo(()=>U.find(we=>String(we.id)===S)??null,[U,S]),ge=j.useMemo(()=>new Map(ce.map(we=>[we.date,we])),[ce]),je=Number(k),Ae=j.useMemo(()=>Z.slice(0,14).map(we=>{const ot=jz(we.ts_utc),vt=we.employee_id===je&&ot?ge.get(ot):void 0;return{event:we,dayTypeLabel:vt?gd(vt).label:Sz(ot),workedMinutes:vt?.worked_minutes??null,planOvertimeMinutes:vt?.plan_overtime_minutes??null,legalOvertimeMinutes:vt?.legal_overtime_minutes??null}}),[Z,je,ge]),qe=()=>{const we=Number(S);if(!Number.isInteger(we)||we<=0){t({variant:"error",title:"Hedef eklenemedi",description:"nce alan sein."});return}if(C.includes(we)){t({variant:"info",title:"Hedef zaten eklendi",description:`#${we} listede var.`});return}z(ot=>[...ot,we]),w("")},Ge=we=>{z(ot=>ot.filter(vt=>vt!==we))},tt=we=>{if(we.preventDefault(),!l.trim()||!d.trim()||!p.trim()){t({variant:"error",title:"Eksik alan",description:"Balk, mesaj ve ynetici ifresi zorunludur."});return}if(v==="single"&&C.length===0){t({variant:"error",title:"Hedef seilmedi",description:"Tekli bildirim iin en az bir alan sein."});return}ue.mutate({title:l.trim(),message:d.trim(),password:p.trim(),target:"employees",employee_ids:v==="single"?C:void 0})};return Q.isLoading||$.isLoading||V.isLoading||G.isLoading?i.jsx(Ct,{label:"Ynetim konsolu ykleniyor..."}):Q.isError||$.isError||V.isError||G.isError?i.jsx(xt,{message:"Ynetim konsolu verileri alnamad."}):i.jsxs("div",{className:"management-console-screen space-y-4",children:[i.jsx(jn,{title:"Ynetim Konsolu",description:"Tek merkezden bildirim, puantaj, konum ve cihaz operasyonlarn disiplinli akla ynetin."}),i.jsxs("div",{className:"management-console-kpi-grid",children:[i.jsxs(ze,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Toplam alan"}),i.jsx("p",{className:"management-console-kpi-value",children:U.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",M]})]}),i.jsxs(ze,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Toplam Cihaz"}),i.jsx("p",{className:"management-console-kpi-value",children:le.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",ne]})]}),i.jsxs(ze,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Canl Olay Ak"}),i.jsx("p",{className:"management-console-kpi-value",children:Z.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Dorulanm konum: ",D]})]}),i.jsxs(ze,{className:"management-console-kpi-card",children:[i.jsx("p",{className:"management-console-kpi-label",children:"Cihaz Grnm Satr"}),i.jsx("p",{className:"management-console-kpi-value",children:se.length}),i.jsxs("p",{className:"management-console-kpi-meta",children:["Son yenileme: ",Uc(new Date().toISOString())]})]})]}),i.jsxs(ze,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Komut Merkezi"}),i.jsx("p",{className:"management-console-subtitle",children:"Dank ekranlar arasnda dolamak yerine kritik ynetim modllerine tek panelden eriin."}),i.jsx("div",{className:"management-console-command-grid",children:Nz.map(we=>i.jsxs(Wa,{to:we.to,className:"management-console-command-card",children:[i.jsx("span",{className:"management-console-command-code",children:we.code}),i.jsx("p",{className:"management-console-command-label",children:we.label}),i.jsx("p",{className:"management-console-command-desc",children:we.description})]},we.to))})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.06fr_1.35fr]",children:[i.jsxs(ze,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Bildirim Terminali"}),i.jsx("p",{className:"management-console-subtitle",children:"Toplu veya tekli bildirim gnderimini ayn terminalden yrtn."}),i.jsxs("form",{className:"management-console-terminal mt-3 space-y-3",onSubmit:tt,children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Gnderim Modu"}),i.jsxs("select",{value:v,onChange:we=>_(we.target.value),className:"management-console-input mt-1",children:[i.jsx("option",{value:"bulk",children:"Toplu (Tm alanlar)"}),i.jsx("option",{value:"single",children:"Tekli (Seili alanlar)"})]})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Ynetici ifresi"}),i.jsx("input",{type:"password",value:p,onChange:we=>y(we.target.value),className:"management-console-input mt-1",placeholder:"ifre"})]})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Balk"}),i.jsx("input",{value:l,onChange:we=>o(we.target.value),className:"management-console-input mt-1",placeholder:"Bildirim bal"})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Mesaj"}),i.jsx("textarea",{rows:4,value:d,onChange:we=>h(we.target.value),className:"management-console-input mt-1",placeholder:"Mesaj ierii"})]}),v==="single"?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ra,{label:"Hedef alan",employees:U,value:S,onChange:w,helperText:"alan seip listeye ekleyin."}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:qe,className:"management-console-action-button",children:"Hedefe Ekle"}),q?i.jsxs("span",{className:"management-console-inline-note",children:["Seili: #",q.id," - ",q.full_name]}):null]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:C.length===0?i.jsx("span",{className:"management-console-inline-note",children:"Henz hedef alan eklenmedi."}):C.map(we=>i.jsxs("button",{type:"button",onClick:()=>Ge(we),className:"management-console-chip",children:["#",we," - ",W.get(we)?.full_name??"alan"," "]},we))})]}):i.jsx("p",{className:"management-console-inline-note",children:"Toplu mod: Aktif/Pasif ayrm olmadan tm alanlara gnderilir."}),i.jsx("button",{type:"submit",disabled:ue.isPending,className:"management-console-send-button",children:ue.isPending?"Gnderiliyor...":"Bildirimi Gnder"})]})]}),i.jsxs(ze,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"alan Kontrol Odas"}),i.jsx("p",{className:"management-console-subtitle",children:"Tek alan iin puantaj, konum ve cihaz metriklerini anlk izleyin."}),i.jsxs("div",{className:"management-console-terminal mt-3 space-y-3",children:[i.jsx(Ra,{label:"Kontrol edilecek alan",employees:U,value:k,onChange:A,helperText:"Seildiinde puantaj ve konum panelleri otomatik gncellenir."}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Yl"}),i.jsx("input",{type:"number",value:O,onChange:we=>F(we.target.value),className:"management-console-input mt-1"})]}),i.jsxs("label",{className:"text-sm",children:[i.jsx("span",{className:"management-console-field-label",children:"Ay"}),i.jsx("input",{type:"number",min:1,max:12,value:R,onChange:we=>P(we.target.value),className:"management-console-input mt-1"})]})]}),k?null:i.jsx("p",{className:"management-console-inline-note",children:"alan seildiinde canl zet burada grnr."}),k&&!ee?i.jsx("p",{className:"management-console-inline-note",children:"Yl/ay deeri geersiz."}):null,k&&K.isLoading?i.jsx(Ct,{label:"Canl zet ykleniyor..."}):null,k&&K.isError?i.jsx(xt,{message:"alan zeti alnamad."}):null,K.data?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"management-console-strip",children:[i.jsx("span",{className:"management-console-strip-tag",children:"Durum"}),i.jsx("span",{children:wz(K.data.today_status)})]}),i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Bu Ay"}),i.jsxs("p",{children:["Net alma: ",i.jsx(De,{minutes:K.data.current_month.worked_minutes})]}),i.jsxs("p",{children:["Plan Ustu Sure: ",i.jsx(De,{minutes:K.data.current_month.plan_overtime_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Sure: ",i.jsx(De,{minutes:K.data.current_month.extra_work_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Mesai: ",i.jsx(De,{minutes:K.data.current_month.overtime_minutes})]})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"nceki Ay"}),i.jsxs("p",{children:["Net alma: ",i.jsx(De,{minutes:K.data.previous_month.worked_minutes})]}),i.jsxs("p",{children:["Plan Ustu Sure: ",i.jsx(De,{minutes:K.data.previous_month.plan_overtime_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Sure: ",i.jsx(De,{minutes:K.data.previous_month.extra_work_minutes})]}),i.jsxs("p",{children:["Yasal Fazla Mesai: ",i.jsx(De,{minutes:K.data.previous_month.overtime_minutes})]})]})]}),oe.isLoading?i.jsx(Ct,{label:"Aylk puantaj ykleniyor..."}):null,oe.isError?i.jsx(xt,{message:"Aylk puantaj alnamad."}):null,oe.data?i.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"allan Gn"}),i.jsxs("p",{children:[Te.workedDayCount," gn"]}),i.jsxs("p",{children:["Hafta i: ",Te.weekdayWorkedDayCount]})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Pazar Mesaisi"}),i.jsxs("p",{children:[Te.sundayWorkedDayCount," gn"]}),i.jsx("p",{children:i.jsx(De,{minutes:Te.sundayWorkedMinutes})})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"zel Gn Mesaisi"}),i.jsxs("p",{children:[Te.specialWorkedDayCount," gn"]}),i.jsx("p",{children:i.jsx(De,{minutes:Te.specialWorkedMinutes})})]})]}):null,i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Son Puantaj"}),K.data.last_event?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Tip: ",K.data.last_event.event_type]}),i.jsxs("p",{children:["Zaman: ",Uc(K.data.last_event.ts_utc)]}),i.jsxs("p",{children:["Konum Durumu: ",K.data.last_event.location_status]})]}):i.jsx("p",{children:"Kayt bulunmuyor."})]}),i.jsxs("div",{className:"management-console-block",children:[i.jsx("p",{className:"management-console-block-title",children:"Son Konum"}),K.data.latest_location?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Koordinat: ",K.data.latest_location.lat.toFixed(6),", ",K.data.latest_location.lon.toFixed(6)]}),i.jsxs("p",{children:["Doruluk: ",K.data.latest_location.accuracy_m??"-"," m"]}),i.jsxs("p",{children:["Zaman: ",Uc(K.data.latest_location.ts_utc)]})]}):i.jsx("p",{children:"Konum verisi yok."})]})]}),i.jsxs("div",{className:"management-console-strip",children:[i.jsx("span",{className:"management-console-strip-tag",children:"Cihaz"}),i.jsxs("span",{children:["Aktif ",K.data.active_devices," / Toplam ",K.data.total_devices]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Wa,{to:`/employees/${K.data.employee.id}`,className:"management-console-action-button",children:"alan Detayn A"}),i.jsx(Wa,{to:"/attendance-events",className:"management-console-action-button",children:"Puantaj Olaylarna Git"}),i.jsx(Wa,{to:"/devices",className:"management-console-action-button",children:"Cihaz Paneline Git"})]})]}):null]})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(ze,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Cihaz Eriim Ak"}),i.jsx("p",{className:"management-console-subtitle",children:"alan baznda cihaz younluu ve aktif cihaz oran."}),i.jsx("div",{className:"management-console-table-wrap mt-3",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"alan"}),i.jsx("th",{children:"Departman"}),i.jsx("th",{children:"Aktif/Toplam"}),i.jsx("th",{children:"lem"})]})}),i.jsx("tbody",{children:se.slice(0,10).map(we=>i.jsxs("tr",{children:[i.jsxs("td",{className:"py-2",children:["#",we.employee_id," - ",we.employee_name]}),i.jsx("td",{children:we.department_name??"-"}),i.jsxs("td",{children:[we.active_devices,"/",we.total_devices]}),i.jsx("td",{children:i.jsx(Wa,{className:"management-console-link",to:`/employees/${we.employee_id}`,children:"Detay"})})]},we.employee_id))})]})})]}),i.jsxs(ze,{className:"management-console-panel",children:[i.jsx("h4",{className:"management-console-title",children:"Canl Puantaj Kayd"}),i.jsx("p",{className:"management-console-subtitle",children:"Son giri-k olaylar ile gn tipi, gnlk alma, plan st sre ve yasal fazla mesai grnm."}),i.jsx("div",{className:"management-console-table-wrap mt-3",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{children:"alan"}),i.jsx("th",{children:"Gn Tipi"}),i.jsx("th",{children:"Tip"}),i.jsx("th",{children:"Konum"}),i.jsx("th",{children:"Gnlk alma"}),i.jsx("th",{children:"Plan st"}),i.jsx("th",{children:"Yasal FM"})]})}),i.jsx("tbody",{children:Ae.map(we=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:Uc(we.event.ts_utc)}),i.jsxs("td",{children:["#",we.event.employee_id," - ",W.get(we.event.employee_id)?.full_name??"alan"]}),i.jsx("td",{children:we.dayTypeLabel}),i.jsx("td",{children:we.event.type}),i.jsx("td",{children:we.event.location_status}),i.jsx("td",{children:we.workedMinutes===null?"-":i.jsx(De,{minutes:we.workedMinutes})}),i.jsx("td",{children:we.planOvertimeMinutes===null?"-":i.jsx(De,{minutes:we.planOvertimeMinutes})}),i.jsx("td",{children:we.legalOvertimeMinutes===null?"-":i.jsx(De,{minutes:we.legalOvertimeMinutes})})]},we.event.id))})]})})]})]})]})}function kz(){return i.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:i.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[i.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),i.jsx(Wa,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),i.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:bi.signatureText})]})})}function wv(t,a){const l=URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function Tz(){const{pushToast:t}=On(),a=new Date,[l,o]=j.useState("employee"),[d,h]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState(String(a.getFullYear())),[S,w]=j.useState(String(a.getMonth()+1)),[C,z]=j.useState(""),[k,A]=j.useState(""),[O,F]=j.useState(!0),[R,P]=j.useState(!1),[Q,$]=j.useState(""),[V,G]=j.useState(""),[K,ie]=j.useState("consolidated"),[pe,ee]=j.useState(""),[oe,ue]=j.useState(""),U=Le({queryKey:["employees","all"],queryFn:()=>ti({status:"all",include_inactive:!0})}),le=Le({queryKey:["departments"],queryFn:Rs}),Z=Ye({mutationFn:T2,onSuccess:q=>{wv(q,`puantaj-${l}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:q=>{t({variant:"error",title:"Da aktarma baarsz",description:Ie(q,"Excel dosyas retilemedi.").message})}}),se=Ye({mutationFn:M2,onSuccess:q=>{wv(q,`puantaj-range-${K}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:q=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:Ie(q,"Excel dosyas retilemedi.").message})}}),ce=j.useMemo(()=>{const q=Number(v),ge=Number(S),je=Number(d),Ae=Number(p);return l==="employee"?!je||!q||!ge?null:{mode:l,employee_id:je,year:q,month:ge}:l==="department"?!Ae||!q||!ge?null:{mode:l,department_id:Ae,year:q,month:ge,include_daily_sheet:O,include_inactive:R}:l==="all"?!q||!ge?null:{mode:l,year:q,month:ge,include_daily_sheet:O,include_inactive:R}:!C||!k?null:{mode:l,start_date:C,end_date:k,employee_id:je||void 0,department_id:Ae||void 0,include_inactive:R}},[l,d,p,v,S,C,k,O,R]),Te=j.useMemo(()=>{const q=Number(oe),ge=Number(pe);return!Q||!V?null:{start_date:Q,end_date:V,mode:K,employee_id:q>0?q:void 0,department_id:ge>0?ge:void 0}},[Q,V,K,oe,pe]),W=()=>{if(!ce){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}Z.mutate(ce)},M=()=>{if(!Te){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}se.mutate(Te)};if(U.isLoading||le.isLoading)return i.jsx(Ct,{});if(U.isError||le.isError)return i.jsx(xt,{message:"alan/departman bilgileri alnamad."});const ne=U.data??[],D=le.data??[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",i.jsxs("select",{value:l,onChange:q=>o(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"employee",children:"alan Bazl"}),i.jsx("option",{value:"department",children:"Departman Bazl"}),i.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),i.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&i.jsx(Ra,{label:"alan",employees:ne,value:d,onChange:h,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:p,onChange:q=>y(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seiniz"}),D.map(q=>i.jsxs("option",{value:q.id,children:["#",q.id," - ",q.name]},q.id))]})]}),(l==="employee"||l==="department"||l==="all")&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",i.jsx("input",{type:"number",value:v,onChange:q=>_(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",i.jsx("input",{type:"number",value:S,onChange:q=>w(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:C,onChange:q=>z(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:k,onChange:q=>A(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:O,onChange:q=>F(q.target.checked)}),"Gnlk sheetleri de ekle"]}),i.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:R,onChange:q=>P(q.target.checked)}),"Arivdeki alanlar dahil et"]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{type:"button",onClick:W,disabled:Z.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Z.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),i.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",i.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",i.jsx("input",{type:"date",value:Q,onChange:q=>$(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",i.jsx("input",{type:"date",value:V,onChange:q=>G(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",i.jsxs("select",{value:K,onChange:q=>ie(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),i.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),i.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",i.jsxs("select",{value:pe,onChange:q=>ee(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tm"}),D.map(q=>i.jsxs("option",{value:q.id,children:["#",q.id," - ",q.name]},q.id))]})]}),i.jsx(Ra,{label:"alan (opsiyonel)",employees:ne,value:oe,onChange:ue,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{type:"button",onClick:M,disabled:se.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:se.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var El={},zm,Ev;function Cz(){return Ev||(Ev=1,zm=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),zm}var Mm={},zs={},kv;function Mr(){if(kv)return zs;kv=1;let t;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return zs.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},zs.getSymbolTotalCodewords=function(o){return a[o]},zs.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},zs.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},zs.isKanjiModeEnabled=function(){return typeof t<"u"},zs.toSJIS=function(o){return t(o)},zs}var Om={},Tv;function ap(){return Tv||(Tv=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function a(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return a(o)}catch{return d}}})(Om)),Om}var Dm,Cv;function Az(){if(Cv)return Dm;Cv=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(a){const l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)===1},put:function(a,l){for(let o=0;o<l;o++)this.putBit((a>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Dm=t,Dm}var Rm,Av;function zz(){if(Av)return Rm;Av=1;function t(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return t.prototype.set=function(a,l,o,d){const h=a*this.size+l;this.data[h]=o,d&&(this.reservedBit[h]=!0)},t.prototype.get=function(a,l){return this.data[a*this.size+l]},t.prototype.xor=function(a,l,o){this.data[a*this.size+l]^=o},t.prototype.isReserved=function(a,l){return this.reservedBit[a*this.size+l]},Rm=t,Rm}var Lm={},zv;function Mz(){return zv||(zv=1,(function(t){const a=Mr().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,h=a(o),p=h===145?26:Math.ceil((h-13)/(2*d-2))*2,y=[h-7];for(let v=1;v<d-1;v++)y[v]=y[v-1]-p;return y.push(6),y.reverse()},t.getPositions=function(o){const d=[],h=t.getRowColCoords(o),p=h.length;for(let y=0;y<p;y++)for(let v=0;v<p;v++)y===0&&v===0||y===0&&v===p-1||y===p-1&&v===0||d.push([h[y],h[v]]);return d}})(Lm)),Lm}var Pm={},Mv;function Oz(){if(Mv)return Pm;Mv=1;const t=Mr().getSymbolSize,a=7;return Pm.getPositions=function(o){const d=t(o);return[[0,0],[d-a,0],[0,d-a]]},Pm}var Bm={},Ov;function Dz(){return Ov||(Ov=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const h=d.size;let p=0,y=0,v=0,_=null,S=null;for(let w=0;w<h;w++){y=v=0,_=S=null;for(let C=0;C<h;C++){let z=d.get(w,C);z===_?y++:(y>=5&&(p+=a.N1+(y-5)),_=z,y=1),z=d.get(C,w),z===S?v++:(v>=5&&(p+=a.N1+(v-5)),S=z,v=1)}y>=5&&(p+=a.N1+(y-5)),v>=5&&(p+=a.N1+(v-5))}return p},t.getPenaltyN2=function(d){const h=d.size;let p=0;for(let y=0;y<h-1;y++)for(let v=0;v<h-1;v++){const _=d.get(y,v)+d.get(y,v+1)+d.get(y+1,v)+d.get(y+1,v+1);(_===4||_===0)&&p++}return p*a.N2},t.getPenaltyN3=function(d){const h=d.size;let p=0,y=0,v=0;for(let _=0;_<h;_++){y=v=0;for(let S=0;S<h;S++)y=y<<1&2047|d.get(_,S),S>=10&&(y===1488||y===93)&&p++,v=v<<1&2047|d.get(S,_),S>=10&&(v===1488||v===93)&&p++}return p*a.N3},t.getPenaltyN4=function(d){let h=0;const p=d.data.length;for(let v=0;v<p;v++)h+=d.data[v];return Math.abs(Math.ceil(h*100/p/5)-10)*a.N4};function l(o,d,h){switch(o){case t.Patterns.PATTERN000:return(d+h)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return h%3===0;case t.Patterns.PATTERN011:return(d+h)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(h/3))%2===0;case t.Patterns.PATTERN101:return d*h%2+d*h%3===0;case t.Patterns.PATTERN110:return(d*h%2+d*h%3)%2===0;case t.Patterns.PATTERN111:return(d*h%3+(d+h)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,h){const p=h.size;for(let y=0;y<p;y++)for(let v=0;v<p;v++)h.isReserved(v,y)||h.xor(v,y,l(d,v,y))},t.getBestMask=function(d,h){const p=Object.keys(t.Patterns).length;let y=0,v=1/0;for(let _=0;_<p;_++){h(_),t.applyMask(_,d);const S=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(_,d),S<v&&(v=S,y=_)}return y}})(Bm)),Bm}var Zc={},Dv;function eb(){if(Dv)return Zc;Dv=1;const t=ap(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Zc.getBlocksCount=function(d,h){switch(h){case t.L:return a[(d-1)*4+0];case t.M:return a[(d-1)*4+1];case t.Q:return a[(d-1)*4+2];case t.H:return a[(d-1)*4+3];default:return}},Zc.getTotalCodewordsCount=function(d,h){switch(h){case t.L:return l[(d-1)*4+0];case t.M:return l[(d-1)*4+1];case t.Q:return l[(d-1)*4+2];case t.H:return l[(d-1)*4+3];default:return}},Zc}var Im={},Ho={},Rv;function Rz(){if(Rv)return Ho;Rv=1;const t=new Uint8Array(512),a=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,a[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Ho.log=function(o){if(o<1)throw new Error("log("+o+")");return a[o]},Ho.exp=function(o){return t[o]},Ho.mul=function(o,d){return o===0||d===0?0:t[a[o]+a[d]]},Ho}var Lv;function Lz(){return Lv||(Lv=1,(function(t){const a=Rz();t.mul=function(o,d){const h=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let y=0;y<d.length;y++)h[p+y]^=a.mul(o[p],d[y]);return h},t.mod=function(o,d){let h=new Uint8Array(o);for(;h.length-d.length>=0;){const p=h[0];for(let v=0;v<d.length;v++)h[v]^=a.mul(d[v],p);let y=0;for(;y<h.length&&h[y]===0;)y++;h=h.slice(y)}return h},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let h=0;h<o;h++)d=t.mul(d,new Uint8Array([1,a.exp(h)]));return d}})(Im)),Im}var Um,Pv;function Pz(){if(Pv)return Um;Pv=1;const t=Lz();function a(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},a.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const h=t.mod(d,this.genPoly),p=this.degree-h.length;if(p>0){const y=new Uint8Array(this.degree);return y.set(h,p),y}return h},Um=a,Um}var Zm={},qm={},Fm={},Bv;function tb(){return Bv||(Bv=1,Fm.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),Fm}var vi={},Iv;function nb(){if(Iv)return vi;Iv=1;const t="[0-9]+",a="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;vi.KANJI=new RegExp(l,"g"),vi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),vi.BYTE=new RegExp(o,"g"),vi.NUMERIC=new RegExp(t,"g"),vi.ALPHANUMERIC=new RegExp(a,"g");const d=new RegExp("^"+l+"$"),h=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return vi.testKanji=function(v){return d.test(v)},vi.testNumeric=function(v){return h.test(v)},vi.testAlphanumeric=function(v){return p.test(v)},vi}var Uv;function Or(){return Uv||(Uv=1,(function(t){const a=tb(),l=nb();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(h,p){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!a.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?h.ccBits[0]:p<27?h.ccBits[1]:h.ccBits[2]},t.getBestModeForData=function(h){return l.testNumeric(h)?t.NUMERIC:l.testAlphanumeric(h)?t.ALPHANUMERIC:l.testKanji(h)?t.KANJI:t.BYTE},t.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},t.isValid=function(h){return h&&h.bit&&h.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(h,p){if(t.isValid(h))return h;try{return o(h)}catch{return p}}})(qm)),qm}var Zv;function Bz(){return Zv||(Zv=1,(function(t){const a=Mr(),l=eb(),o=ap(),d=Or(),h=tb(),p=7973,y=a.getBCHDigit(p);function v(C,z,k){for(let A=1;A<=40;A++)if(z<=t.getCapacity(A,k,C))return A}function _(C,z){return d.getCharCountIndicator(C,z)+4}function S(C,z){let k=0;return C.forEach(function(A){const O=_(A.mode,z);k+=O+A.getBitsLength()}),k}function w(C,z){for(let k=1;k<=40;k++)if(S(C,k)<=t.getCapacity(k,z,d.MIXED))return k}t.from=function(z,k){return h.isValid(z)?parseInt(z,10):k},t.getCapacity=function(z,k,A){if(!h.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const O=a.getSymbolTotalCodewords(z),F=l.getTotalCodewordsCount(z,k),R=(O-F)*8;if(A===d.MIXED)return R;const P=R-_(A,z);switch(A){case d.NUMERIC:return Math.floor(P/10*3);case d.ALPHANUMERIC:return Math.floor(P/11*2);case d.KANJI:return Math.floor(P/13);case d.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(z,k){let A;const O=o.from(k,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,O);if(z.length===0)return 1;A=z[0]}else A=z;return v(A.mode,A.getLength(),O)},t.getEncodedBits=function(z){if(!h.isValid(z)||z<7)throw new Error("Invalid QR Code version");let k=z<<12;for(;a.getBCHDigit(k)-y>=0;)k^=p<<a.getBCHDigit(k)-y;return z<<12|k}})(Zm)),Zm}var Hm={},qv;function Iz(){if(qv)return Hm;qv=1;const t=Mr(),a=1335,l=21522,o=t.getBCHDigit(a);return Hm.getEncodedBits=function(h,p){const y=h.bit<<3|p;let v=y<<10;for(;t.getBCHDigit(v)-o>=0;)v^=a<<t.getBCHDigit(v)-o;return(y<<10|v)^l},Hm}var Km={},Qm,Fv;function Uz(){if(Fv)return Qm;Fv=1;const t=Or();function a(l){this.mode=t.NUMERIC,this.data=l.toString()}return a.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){let d,h,p;for(d=0;d+3<=this.data.length;d+=3)h=this.data.substr(d,3),p=parseInt(h,10),o.put(p,10);const y=this.data.length-d;y>0&&(h=this.data.substr(d),p=parseInt(h,10),o.put(p,y*3+1))},Qm=a,Qm}var Gm,Hv;function Zz(){if(Hv)return Gm;Hv=1;const t=Or(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=t.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let h;for(h=0;h+2<=this.data.length;h+=2){let p=a.indexOf(this.data[h])*45;p+=a.indexOf(this.data[h+1]),d.put(p,11)}this.data.length%2&&d.put(a.indexOf(this.data[h]),6)},Gm=l,Gm}var Vm,Kv;function qz(){if(Kv)return Vm;Kv=1;const t=Or();function a(l){this.mode=t.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return a.getBitsLength=function(o){return o*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},Vm=a,Vm}var Ym,Qv;function Fz(){if(Qv)return Ym;Qv=1;const t=Or(),a=Mr();function l(o){this.mode=t.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let h=a.toSJIS(this.data[d]);if(h>=33088&&h<=40956)h-=33088;else if(h>=57408&&h<=60351)h-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);h=(h>>>8&255)*192+(h&255),o.put(h,13)}},Ym=l,Ym}var $m={exports:{}},Gv;function Hz(){return Gv||(Gv=1,(function(t){var a={single_source_shortest_paths:function(l,o,d){var h={},p={};p[o]=0;var y=a.PriorityQueue.make();y.push(o,0);for(var v,_,S,w,C,z,k,A,O;!y.empty();){v=y.pop(),_=v.value,w=v.cost,C=l[_]||{};for(S in C)C.hasOwnProperty(S)&&(z=C[S],k=w+z,A=p[S],O=typeof p[S]>"u",(O||A>k)&&(p[S]=k,y.push(S,k),h[S]=_))}if(typeof d<"u"&&typeof p[d]>"u"){var F=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(F)}return h},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],h=o;h;)d.push(h),l[h],h=l[h];return d.reverse(),d},find_path:function(l,o,d){var h=a.single_source_shortest_paths(l,o,d);return a.extract_shortest_path_from_predecessor_list(h,d)},PriorityQueue:{make:function(l){var o=a.PriorityQueue,d={},h;l=l||{};for(h in o)o.hasOwnProperty(h)&&(d[h]=o[h]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=a})($m)),$m.exports}var Vv;function Kz(){return Vv||(Vv=1,(function(t){const a=Or(),l=Uz(),o=Zz(),d=qz(),h=Fz(),p=nb(),y=Mr(),v=Hz();function _(F){return unescape(encodeURIComponent(F)).length}function S(F,R,P){const Q=[];let $;for(;($=F.exec(P))!==null;)Q.push({data:$[0],index:$.index,mode:R,length:$[0].length});return Q}function w(F){const R=S(p.NUMERIC,a.NUMERIC,F),P=S(p.ALPHANUMERIC,a.ALPHANUMERIC,F);let Q,$;return y.isKanjiModeEnabled()?(Q=S(p.BYTE,a.BYTE,F),$=S(p.KANJI,a.KANJI,F)):(Q=S(p.BYTE_KANJI,a.BYTE,F),$=[]),R.concat(P,Q,$).sort(function(G,K){return G.index-K.index}).map(function(G){return{data:G.data,mode:G.mode,length:G.length}})}function C(F,R){switch(R){case a.NUMERIC:return l.getBitsLength(F);case a.ALPHANUMERIC:return o.getBitsLength(F);case a.KANJI:return h.getBitsLength(F);case a.BYTE:return d.getBitsLength(F)}}function z(F){return F.reduce(function(R,P){const Q=R.length-1>=0?R[R.length-1]:null;return Q&&Q.mode===P.mode?(R[R.length-1].data+=P.data,R):(R.push(P),R)},[])}function k(F){const R=[];for(let P=0;P<F.length;P++){const Q=F[P];switch(Q.mode){case a.NUMERIC:R.push([Q,{data:Q.data,mode:a.ALPHANUMERIC,length:Q.length},{data:Q.data,mode:a.BYTE,length:Q.length}]);break;case a.ALPHANUMERIC:R.push([Q,{data:Q.data,mode:a.BYTE,length:Q.length}]);break;case a.KANJI:R.push([Q,{data:Q.data,mode:a.BYTE,length:_(Q.data)}]);break;case a.BYTE:R.push([{data:Q.data,mode:a.BYTE,length:_(Q.data)}])}}return R}function A(F,R){const P={},Q={start:{}};let $=["start"];for(let V=0;V<F.length;V++){const G=F[V],K=[];for(let ie=0;ie<G.length;ie++){const pe=G[ie],ee=""+V+ie;K.push(ee),P[ee]={node:pe,lastCount:0},Q[ee]={};for(let oe=0;oe<$.length;oe++){const ue=$[oe];P[ue]&&P[ue].node.mode===pe.mode?(Q[ue][ee]=C(P[ue].lastCount+pe.length,pe.mode)-C(P[ue].lastCount,pe.mode),P[ue].lastCount+=pe.length):(P[ue]&&(P[ue].lastCount=pe.length),Q[ue][ee]=C(pe.length,pe.mode)+4+a.getCharCountIndicator(pe.mode,R))}}$=K}for(let V=0;V<$.length;V++)Q[$[V]].end=0;return{map:Q,table:P}}function O(F,R){let P;const Q=a.getBestModeForData(F);if(P=a.from(R,Q),P!==a.BYTE&&P.bit<Q.bit)throw new Error('"'+F+'" cannot be encoded with mode '+a.toString(P)+`.
 Suggested mode is: `+a.toString(Q));switch(P===a.KANJI&&!y.isKanjiModeEnabled()&&(P=a.BYTE),P){case a.NUMERIC:return new l(F);case a.ALPHANUMERIC:return new o(F);case a.KANJI:return new h(F);case a.BYTE:return new d(F)}}t.fromArray=function(R){return R.reduce(function(P,Q){return typeof Q=="string"?P.push(O(Q,null)):Q.data&&P.push(O(Q.data,Q.mode)),P},[])},t.fromString=function(R,P){const Q=w(R,y.isKanjiModeEnabled()),$=k(Q),V=A($,P),G=v.find_path(V.map,"start","end"),K=[];for(let ie=1;ie<G.length-1;ie++)K.push(V.table[G[ie]].node);return t.fromArray(z(K))},t.rawSplit=function(R){return t.fromArray(w(R,y.isKanjiModeEnabled()))}})(Km)),Km}var Yv;function Qz(){if(Yv)return Mm;Yv=1;const t=Mr(),a=ap(),l=Az(),o=zz(),d=Mz(),h=Oz(),p=Dz(),y=eb(),v=Pz(),_=Bz(),S=Iz(),w=Or(),C=Kz();function z(V,G){const K=V.size,ie=h.getPositions(G);for(let pe=0;pe<ie.length;pe++){const ee=ie[pe][0],oe=ie[pe][1];for(let ue=-1;ue<=7;ue++)if(!(ee+ue<=-1||K<=ee+ue))for(let U=-1;U<=7;U++)oe+U<=-1||K<=oe+U||(ue>=0&&ue<=6&&(U===0||U===6)||U>=0&&U<=6&&(ue===0||ue===6)||ue>=2&&ue<=4&&U>=2&&U<=4?V.set(ee+ue,oe+U,!0,!0):V.set(ee+ue,oe+U,!1,!0))}}function k(V){const G=V.size;for(let K=8;K<G-8;K++){const ie=K%2===0;V.set(K,6,ie,!0),V.set(6,K,ie,!0)}}function A(V,G){const K=d.getPositions(G);for(let ie=0;ie<K.length;ie++){const pe=K[ie][0],ee=K[ie][1];for(let oe=-2;oe<=2;oe++)for(let ue=-2;ue<=2;ue++)oe===-2||oe===2||ue===-2||ue===2||oe===0&&ue===0?V.set(pe+oe,ee+ue,!0,!0):V.set(pe+oe,ee+ue,!1,!0)}}function O(V,G){const K=V.size,ie=_.getEncodedBits(G);let pe,ee,oe;for(let ue=0;ue<18;ue++)pe=Math.floor(ue/3),ee=ue%3+K-8-3,oe=(ie>>ue&1)===1,V.set(pe,ee,oe,!0),V.set(ee,pe,oe,!0)}function F(V,G,K){const ie=V.size,pe=S.getEncodedBits(G,K);let ee,oe;for(ee=0;ee<15;ee++)oe=(pe>>ee&1)===1,ee<6?V.set(ee,8,oe,!0):ee<8?V.set(ee+1,8,oe,!0):V.set(ie-15+ee,8,oe,!0),ee<8?V.set(8,ie-ee-1,oe,!0):ee<9?V.set(8,15-ee-1+1,oe,!0):V.set(8,15-ee-1,oe,!0);V.set(ie-8,8,1,!0)}function R(V,G){const K=V.size;let ie=-1,pe=K-1,ee=7,oe=0;for(let ue=K-1;ue>0;ue-=2)for(ue===6&&ue--;;){for(let U=0;U<2;U++)if(!V.isReserved(pe,ue-U)){let le=!1;oe<G.length&&(le=(G[oe]>>>ee&1)===1),V.set(pe,ue-U,le),ee--,ee===-1&&(oe++,ee=7)}if(pe+=ie,pe<0||K<=pe){pe-=ie,ie=-ie;break}}}function P(V,G,K){const ie=new l;K.forEach(function(U){ie.put(U.mode.bit,4),ie.put(U.getLength(),w.getCharCountIndicator(U.mode,V)),U.write(ie)});const pe=t.getSymbolTotalCodewords(V),ee=y.getTotalCodewordsCount(V,G),oe=(pe-ee)*8;for(ie.getLengthInBits()+4<=oe&&ie.put(0,4);ie.getLengthInBits()%8!==0;)ie.putBit(0);const ue=(oe-ie.getLengthInBits())/8;for(let U=0;U<ue;U++)ie.put(U%2?17:236,8);return Q(ie,V,G)}function Q(V,G,K){const ie=t.getSymbolTotalCodewords(G),pe=y.getTotalCodewordsCount(G,K),ee=ie-pe,oe=y.getBlocksCount(G,K),ue=ie%oe,U=oe-ue,le=Math.floor(ie/oe),Z=Math.floor(ee/oe),se=Z+1,ce=le-Z,Te=new v(ce);let W=0;const M=new Array(oe),ne=new Array(oe);let D=0;const q=new Uint8Array(V.buffer);for(let Ge=0;Ge<oe;Ge++){const tt=Ge<U?Z:se;M[Ge]=q.slice(W,W+tt),ne[Ge]=Te.encode(M[Ge]),W+=tt,D=Math.max(D,tt)}const ge=new Uint8Array(ie);let je=0,Ae,qe;for(Ae=0;Ae<D;Ae++)for(qe=0;qe<oe;qe++)Ae<M[qe].length&&(ge[je++]=M[qe][Ae]);for(Ae=0;Ae<ce;Ae++)for(qe=0;qe<oe;qe++)ge[je++]=ne[qe][Ae];return ge}function $(V,G,K,ie){let pe;if(Array.isArray(V))pe=C.fromArray(V);else if(typeof V=="string"){let le=G;if(!le){const Z=C.rawSplit(V);le=_.getBestVersionForData(Z,K)}pe=C.fromString(V,le||40)}else throw new Error("Invalid data");const ee=_.getBestVersionForData(pe,K);if(!ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(!G)G=ee;else if(G<ee)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ee+`.
`);const oe=P(G,K,pe),ue=t.getSymbolSize(G),U=new o(ue);return z(U,G),k(U),A(U,G),F(U,K,0),G>=7&&O(U,G),R(U,oe),isNaN(ie)&&(ie=p.getBestMask(U,F.bind(null,U,K))),p.applyMask(ie,U),F(U,K,ie),{modules:U,version:G,errorCorrectionLevel:K,maskPattern:ie,segments:pe}}return Mm.create=function(G,K){if(typeof G>"u"||G==="")throw new Error("No input text");let ie=a.M,pe,ee;return typeof K<"u"&&(ie=a.from(K.errorCorrectionLevel,a.M),pe=_.from(K.version),ee=p.from(K.maskPattern),K.toSJISFunc&&t.setToSJISFunction(K.toSJISFunc)),$(G,pe,ie,ee)},Mm}var Xm={},Jm={},$v;function ab(){return $v||($v=1,(function(t){function a(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(h){return[h,h]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,h=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:h,scale:h?4:p,margin:d,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const h=t.getScale(o,d);return Math.floor((o+d.margin*2)*h)},t.qrToImageData=function(o,d,h){const p=d.modules.size,y=d.modules.data,v=t.getScale(p,h),_=Math.floor((p+h.margin*2)*v),S=h.margin*v,w=[h.color.light,h.color.dark];for(let C=0;C<_;C++)for(let z=0;z<_;z++){let k=(C*_+z)*4,A=h.color.light;if(C>=S&&z>=S&&C<_-S&&z<_-S){const O=Math.floor((C-S)/v),F=Math.floor((z-S)/v);A=w[y[O*p+F]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(Jm)),Jm}var Xv;function Gz(){return Xv||(Xv=1,(function(t){const a=ab();function l(d,h,p){d.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=p,h.width=p,h.style.height=p+"px",h.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(h,p,y){let v=y,_=p;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),p||(_=o()),v=a.getOptions(v);const S=a.getImageWidth(h.modules.size,v),w=_.getContext("2d"),C=w.createImageData(S,S);return a.qrToImageData(C.data,h,v),l(w,_,S),w.putImageData(C,0,0),_},t.renderToDataURL=function(h,p,y){let v=y;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),v||(v={});const _=t.render(h,p,v),S=v.type||"image/png",w=v.rendererOpts||{};return _.toDataURL(S,w.quality)}})(Xm)),Xm}var Wm={},Jv;function Vz(){if(Jv)return Wm;Jv=1;const t=ab();function a(d,h){const p=d.a/255,y=h+'="'+d.hex+'"';return p<1?y+" "+h+'-opacity="'+p.toFixed(2).slice(1)+'"':y}function l(d,h,p){let y=d+h;return typeof p<"u"&&(y+=" "+p),y}function o(d,h,p){let y="",v=0,_=!1,S=0;for(let w=0;w<d.length;w++){const C=Math.floor(w%h),z=Math.floor(w/h);!C&&!_&&(_=!0),d[w]?(S++,w>0&&C>0&&d[w-1]||(y+=_?l("M",C+p,.5+z+p):l("m",v,0),v=0,_=!1),C+1<h&&d[w+1]||(y+=l("h",S),S=0)):v++}return y}return Wm.render=function(h,p,y){const v=t.getOptions(p),_=h.modules.size,S=h.modules.data,w=_+v.margin*2,C=v.color.light.a?"<path "+a(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+a(v.color.dark,"stroke")+' d="'+o(S,_,v.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+k+' shape-rendering="crispEdges">'+C+z+`</svg>
`;return typeof y=="function"&&y(null,O),O},Wm}var Wv;function Yz(){if(Wv)return El;Wv=1;const t=Cz(),a=Qz(),l=Gz(),o=Vz();function d(h,p,y,v,_){const S=[].slice.call(arguments,1),w=S.length,C=typeof S[w-1]=="function";if(!C&&!t())throw new Error("Callback required as last argument");if(C){if(w<2)throw new Error("Too few arguments provided");w===2?(_=y,y=p,p=v=void 0):w===3&&(p.getContext&&typeof _>"u"?(_=v,v=void 0):(_=v,v=y,y=p,p=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(y=p,p=v=void 0):w===2&&!p.getContext&&(v=y,y=p,p=void 0),new Promise(function(z,k){try{const A=a.create(y,v);z(h(A,p,v))}catch(A){k(A)}})}try{const z=a.create(y,v);_(null,h(z,p,v))}catch(z){_(z)}}return El.create=a.create,El.toCanvas=d.bind(null,l.render),El.toDataURL=d.bind(null,l.renderToDataURL),El.toString=d.bind(null,function(h,p,y){return o.render(h,y)}),El}var $z=Yz();const e0=ld($z),Xz=[41.0082,28.9784];function Ms(t){return t.toFixed(6)}function Jz({lat:t,lon:a,radiusM:l,onSelect:o}){const d=j.useRef(null),h=j.useRef(null),p=j.useRef(null),y=j.useRef(null),[v,_]=j.useState(!1),[S,w]=j.useState(""),[C,z]=j.useState(!1),[k,A]=j.useState(null),[O,F]=j.useState(null),R=j.useMemo(()=>t!==null&&a!==null?[t,a]:Xz,[t,a]);j.useEffect(()=>{if(!(!d.current||h.current)){try{const $=Ki.map(d.current,{center:R,zoom:t!==null&&a!==null?17:12,zoomControl:!0});h.current=$,Ki.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo($);const V=Ki.circleMarker(R,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo($);p.current=V;const G=Ki.circle(R,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo($);y.current=G,$.on("click",K=>{const ie=K.latlng.lat,pe=K.latlng.lng;o(ie,pe),F(`Haritadan secildi: ${Ms(ie)}, ${Ms(pe)}`)}),_(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),_(!1)}return()=>{h.current&&(h.current.remove(),h.current=null),p.current=null,y.current=null,_(!1)}}},[R,t,a,o,l]),j.useEffect(()=>{if(!h.current||!p.current||!y.current)return;const $=h.current,V=p.current,G=y.current;if(t!==null&&a!==null){const ie=[t,a];V.setLatLng(ie),G.setLatLng(ie),$.panTo(ie,{animate:!0})}const K=Number.isFinite(l)&&l>0?l:75;G.setRadius(K)},[t,a,l]);const P=j.useCallback(async()=>{if(!v||!h.current)return;const $=S.trim();if(!$){F("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const V=new URL("https://nominatim.openstreetmap.org/search");V.searchParams.set("q",$),V.searchParams.set("format","json"),V.searchParams.set("limit","1"),V.searchParams.set("addressdetails","1"),V.searchParams.set("accept-language","tr");const G=await fetch(V.toString(),{headers:{Accept:"application/json"}});if(!G.ok)throw new Error("search_failed");const K=await G.json();if(!Array.isArray(K)||K.length===0){F("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const ie=K[0],pe=Number(ie.lat),ee=Number(ie.lon);if(!Number.isFinite(pe)||!Number.isFinite(ee)){F("Adres koordinata cevrilemedi.");return}o(pe,ee),h.current.setView([pe,ee],17,{animate:!0}),F(`Adres bulundu: ${Ms(pe)}, ${Ms(ee)}${ie.display_name?` (${ie.display_name})`:""}`)}catch{F("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[v,o,S]),Q=j.useCallback(()=>{if(!navigator.geolocation){F("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition($=>{const V=$.coords.latitude,G=$.coords.longitude;o(V,G),F(`Mevcut konum alindi: ${Ms(V)}, ${Ms(G)}`)},()=>{F("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return i.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?i.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):i.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[i.jsx("input",{value:S,onChange:$=>w($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),i.jsx("button",{type:"button",onClick:()=>{P()},disabled:!v||C,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:C?"Araniyor...":"Ara"}),i.jsx("button",{type:"button",onClick:Q,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),i.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?Ms(t):"-"]}),i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",a!==null?Ms(a):"-"]}),i.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),O?i.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:O}):null]})}const qc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Fc={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},Wz={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function t0(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function n0(t,a){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a}function eM(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function tM(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(null),[d,h]=j.useState(null),[p,y]=j.useState(null),[v,_]=j.useState(""),[S,w]=j.useState(""),[C,z]=j.useState(""),[k,A]=j.useState(qc),[O,F]=j.useState(Wz),[R,P]=j.useState(Fc),[Q,$]=j.useState([]),[V,G]=j.useState(null),K=Le({queryKey:["qr-codes"],queryFn:()=>GE()}),ie=Le({queryKey:["qr-points"],queryFn:()=>JE()}),pe=Ye({mutationFn:VE,onSuccess:J=>{a({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${J.id}`}),A(qc),o(J.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:J=>{a({variant:"error",title:"QR kod olusturulamadi",description:Ie(J,"Islem basarisiz.").message})}}),ee=Ye({mutationFn:({codeId:J,payload:Ce})=>YE(J,Ce),onSuccess:J=>{a({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${J.id}`}),h(null),A(qc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:J=>{a({variant:"error",title:"QR kod guncellenemedi",description:Ie(J,"Islem basarisiz.").message})}}),oe=Ye({mutationFn:({codeId:J,pointIds:Ce})=>$E(J,{point_ids:Ce}),onSuccess:()=>{a({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),$([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{a({variant:"error",title:"Atama basarisiz",description:Ie(J,"Nokta atamasi yapilamadi.").message})}}),ue=Ye({mutationFn:({codeId:J,pointId:Ce})=>XE(J,Ce),onSuccess:()=>{a({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{a({variant:"error",title:"Islem basarisiz",description:Ie(J,"Nokta kaldirilamadi.").message})}}),U=Ye({mutationFn:WE,onSuccess:J=>{a({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${J.id}`}),P(Fc),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{a({variant:"error",title:"QR nokta olusturulamadi",description:Ie(J,"Islem basarisiz.").message})}}),le=Ye({mutationFn:({pointId:J,payload:Ce})=>e2(J,Ce),onSuccess:()=>{a({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),y(null),P(Fc),t.invalidateQueries({queryKey:["qr-points"]})},onError:J=>{a({variant:"error",title:"QR nokta guncellenemedi",description:Ie(J,"Islem basarisiz.").message})}}),Z=Ye({mutationFn:t2,onSuccess:()=>{a({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:J=>{a({variant:"error",title:"Islem basarisiz",description:Ie(J,"Nokta pasife alinamadi.").message})}}),se=K.data??[],ce=ie.data??[];j.useEffect(()=>{l===null&&se.length>0&&o(se[0].id),l!==null&&!se.some(J=>J.id===l)&&o(se.length>0?se[0].id:null)},[se,l]);const Te=j.useMemo(()=>se.find(J=>J.id===l)??null,[se,l]);j.useEffect(()=>{if(!Te){G(null);return}let J=!1;return e0.toDataURL(Te.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Ce=>{J||G(Ce)}).catch(()=>{J||G(null)}),()=>{J=!0}},[Te?.id,Te?.code_value]);const W=j.useMemo(()=>{const J=new Map;for(const Ce of ce)J.set(Ce.id,Ce);return J},[ce]),M=j.useMemo(()=>Te?Te.point_ids.map(J=>W.get(J)??null).filter(J=>J!==null):[],[Te,W]),ne=j.useMemo(()=>{const J=v.trim().toLowerCase();return J?se.filter(Ce=>String(Ce.id).includes(J)||(Ce.name??"").toLowerCase().includes(J)||Ce.code_value.toLowerCase().includes(J)):se},[se,v]),D=j.useMemo(()=>{const J=S.trim().toLowerCase();return J?ce.filter(Ce=>String(Ce.id).includes(J)||Ce.name.toLowerCase().includes(J)||String(Ce.department_id??"").includes(J)||String(Ce.region_id??"").includes(J)):ce},[ce,S]),q=j.useMemo(()=>{const J=ce.filter(Ve=>Ve.is_active),Ce=C.trim().toLowerCase();return Ce?J.filter(Ve=>String(Ve.id).includes(Ce)||Ve.name.toLowerCase().includes(Ce)||String(Ve.department_id??"").includes(Ce)||String(Ve.region_id??"").includes(Ce)):J},[ce,C]),ge=j.useMemo(()=>{const J=se.filter(_t=>_t.is_active).length,Ce=ce.filter(_t=>_t.is_active).length,Ve=se.filter(_t=>_t.point_ids.length===0).length;return{codeCount:se.length,activeCodes:J,pointCount:ce.length,activePoints:Ce,codesWithoutPoint:Ve}},[se,ce]),je=j.useMemo(()=>{const J=Number(R.lat);return Number.isFinite(J)?J:null},[R.lat]),Ae=j.useMemo(()=>{const J=Number(R.lon);return Number.isFinite(J)?J:null},[R.lon]),qe=j.useMemo(()=>{const J=Number(R.radiusM);return Number.isFinite(J)&&J>0?J:75},[R.radiusM]),Ge=J=>{$(Ce=>Ce.includes(J)?Ce.filter(Ve=>Ve!==J):[...Ce,J])},tt=J=>{h(J.id),A({name:J.name??"",codeValue:J.code_value,codeType:J.code_type,isActive:J.is_active})},we=()=>{h(null),A(qc)},ot=()=>{const J=n0(O.regionCode,"GEN"),Ce=n0(O.locationCode,"LOKASYON"),Ve=Number(O.serialNo),_t=Number.isFinite(Ve)&&Ve>0?Math.floor(Ve):1,kt=eM(k.codeType),ut=`PF-${J}-${Ce}-${kt}-${String(_t).padStart(6,"0")}`;A(_e=>({..._e,codeValue:ut}))},vt=J=>{y(J.id),P({name:J.name,lat:String(J.lat),lon:String(J.lon),radiusM:String(J.radius_m),isActive:J.is_active})},bt=()=>{y(null),P(Fc)},Kt=J=>{J.preventDefault();const Ce=k.codeValue.trim();if(!Ce){a({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const Ve={name:k.name.trim()||null,code_value:Ce,code_type:k.codeType,is_active:k.isActive};if(d===null){pe.mutate(Ve);return}ee.mutate({codeId:d,payload:Ve})},Rt=J=>{J.preventDefault();const Ce=R.name.trim(),Ve=Number(R.lat),_t=Number(R.lon),kt=Number(R.radiusM);if(!Ce){a({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(Ve)||!Number.isFinite(_t)||!Number.isFinite(kt)||kt<=0){a({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const ut={name:Ce,lat:Ve,lon:_t,radius_m:kt,is_active:R.isActive};if(p===null){U.mutate(ut);return}le.mutate({pointId:p,payload:ut})},zt=()=>{if(!Te){a({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(Q.length===0){a({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}oe.mutate({codeId:Te.id,pointIds:Q})},ve=async J=>{try{await navigator.clipboard.writeText(J),a({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{a({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},We=async J=>{try{const Ce=await e0.toDataURL(J.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),Ve=document.createElement("a");Ve.href=Ce,Ve.download=`qr-kod-${J.id}.png`,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),a({variant:"success",title:"PNG indirildi",description:`QR kod #${J.id} dosyasi indirildi.`})}catch{a({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return K.isLoading||ie.isLoading?i.jsx(Ct,{}):K.isError||ie.isError?i.jsx(ze,{children:i.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),i.jsx(ze,{children:i.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_1fr]",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),i.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[i.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),i.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),i.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),i.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),i.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.codeCount}),i.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activeCodes]})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.pointCount}),i.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activePoints]})]}),i.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[i.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),i.jsx("p",{className:"text-lg font-semibold text-rose-800",children:ge.codesWithoutPoint}),i.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Kt,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",i.jsx("input",{value:k.name,onChange:J=>A(Ce=>({...Ce,name:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),i.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[i.jsx("input",{value:O.regionCode,onChange:J=>F(Ce=>({...Ce,regionCode:J.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),i.jsx("input",{value:O.locationCode,onChange:J=>F(Ce=>({...Ce,locationCode:J.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),i.jsx("input",{type:"number",min:1,value:O.serialNo,onChange:J=>F(Ce=>({...Ce,serialNo:J.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),i.jsx("button",{type:"button",onClick:ot,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",i.jsx("input",{value:k.codeValue,onChange:J=>A(Ce=>({...Ce,codeValue:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",i.jsxs("select",{value:k.codeType,onChange:J=>A(Ce=>({...Ce,codeType:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),i.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),i.jsx("option",{value:"BOTH",children:"BOTH"})]}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k.isActive,onChange:J=>A(Ce=>({...Ce,isActive:J.target.checked}))}),"Aktif"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:pe.isPending||ee.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?i.jsx("button",{type:"button",onClick:we,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),i.jsx("div",{className:"mt-3",children:i.jsx(Gi,{value:v,onChange:_,placeholder:"Kod adi / degeri / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-80 overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"ID"}),i.jsx("th",{className:"px-3 py-2",children:"Kod"}),i.jsx("th",{className:"px-3 py-2",children:"Tip"}),i.jsx("th",{className:"px-3 py-2",children:"Durum"}),i.jsx("th",{className:"px-3 py-2",children:"Nokta"}),i.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),i.jsxs("tbody",{children:[ne.map(J=>i.jsxs("tr",{className:`border-t border-slate-100 ${l===J.id?"bg-brand-50/60":""}`,children:[i.jsx("td",{className:"px-3 py-2",children:J.id}),i.jsxs("td",{className:"px-3 py-2",children:[i.jsx("button",{type:"button",onClick:()=>o(J.id),className:"font-medium text-brand-700 hover:underline",children:J.name||"-"}),i.jsx("div",{className:"text-xs text-slate-500",children:J.code_value})]}),i.jsx("td",{className:"px-3 py-2",children:t0(J.code_type)}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${J.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:J.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"px-3 py-2",children:J.point_ids.length}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{type:"button",onClick:()=>tt(J),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),i.jsx("button",{type:"button",onClick:()=>{We(J)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},J.id)),ne.length===0?i.jsx("tr",{children:i.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Te?`3) QR Kod Detay (#${Te.id})`:"3) QR Kod Detay"}),Te?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Te.name||"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Te.code_value]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Tip:"})," ",t0(Te.code_type)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Te.is_active?"Aktif":"Pasif"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Te.point_ids.length]})]}),Te.point_ids.length===0?i.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,i.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),i.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Te.code_value}),V?i.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[i.jsx("img",{src:V,alt:`QR Kod ${Te.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{We(Te)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),i.jsx("button",{type:"button",onClick:()=>{ve(Te.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):i.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),i.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),M.length===0?i.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):i.jsx("div",{className:"space-y-2",children:M.map(J=>i.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-slate-800",children:["#",J.id," - ",J.name]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",J.lat,", ",J.lon," | radius: ",J.radius_m,"m"]})]}),i.jsx("button",{type:"button",onClick:()=>ue.mutate({codeId:Te.id,pointId:J.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},J.id))})]}):i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),i.jsx("div",{className:"mt-3",children:i.jsx(Gi,{value:C,onChange:z,placeholder:"Nokta adi / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-56 overflow-auto rounded-lg border border-slate-200 p-2",children:q.length===0?i.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):i.jsx("div",{className:"space-y-1",children:q.map(J=>i.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[i.jsx("input",{type:"checkbox",checked:Q.includes(J.id),onChange:()=>Ge(J.id)}),i.jsxs("span",{children:["#",J.id," - ",J.name," (",J.radius_m,"m)"]})]},J.id))})}),i.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[i.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",Q.length]}),i.jsx("button",{type:"button",onClick:zt,disabled:oe.isPending||Te===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),i.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Rt,children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",i.jsx("input",{value:R.name,onChange:J=>P(Ce=>({...Ce,name:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",i.jsx("input",{type:"number",step:"any",value:R.lat,onChange:J=>P(Ce=>({...Ce,lat:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",i.jsx("input",{type:"number",step:"any",value:R.lon,onChange:J=>P(Ce=>({...Ce,lon:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsx(Jz,{lat:je,lon:Ae,radiusM:qe,onSelect:(J,Ce)=>P(Ve=>({...Ve,lat:String(J),lon:String(Ce)}))}),i.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",i.jsx("input",{type:"number",min:1,value:R.radiusM,onChange:J=>P(Ce=>({...Ce,radiusM:J.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:R.isActive,onChange:J=>P(Ce=>({...Ce,isActive:J.target.checked}))}),"Aktif"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:U.isPending||le.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?i.jsx("button",{type:"button",onClick:bt,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),i.jsx("div",{className:"mt-3",children:i.jsx(Gi,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),i.jsx("div",{className:"mt-3 max-h-96 overflow-auto rounded-lg border border-slate-200",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2",children:"ID"}),i.jsx("th",{className:"px-3 py-2",children:"Nokta"}),i.jsx("th",{className:"px-3 py-2",children:"Konum"}),i.jsx("th",{className:"px-3 py-2",children:"Durum"}),i.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),i.jsxs("tbody",{children:[D.map(J=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"px-3 py-2",children:J.id}),i.jsxs("td",{className:"px-3 py-2",children:[i.jsx("p",{className:"font-medium text-slate-800",children:J.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",J.radius_m,"m"]})]}),i.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[J.lat,", ",J.lon]}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${J.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:J.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{type:"button",onClick:()=>vt(J),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),J.is_active?i.jsx("button",{type:"button",onClick:()=>Z.mutate(J.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},J.id)),D.length===0?i.jsx("tr",{children:i.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const a0=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function nM(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState(""),[p,y]=j.useState(""),[v,_]=j.useState({}),[S,w]=j.useState(""),[C,z]=j.useState("09:00"),[k,A]=j.useState("17:30"),[O,F]=j.useState("60"),[R,P]=j.useState(!0),[Q,$]=j.useState(null),V=Le({queryKey:["departments"],queryFn:Rs}),G=Le({queryKey:["employees","all-for-quick-setup"],queryFn:()=>ti({include_inactive:!0,status:"all"})}),K=Le({queryKey:["department-weekly-rules"],queryFn:()=>o_()}),ie=Le({queryKey:["department-shifts"],queryFn:()=>ou({active_only:!1})}),pe=l?Number(l):null,ee=Ye({mutationFn:({employeeId:D,departmentId:q})=>FE(D,{department_id:q}),onSuccess:D=>{a({variant:"success",title:"Departman atamas gncellendi",description:`${D.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:D=>{a({variant:"error",title:"Departman gncellenemedi",description:Ie(D,"lem baarsz.").message})}}),oe=Ye({mutationFn:u_,onSuccess:()=>{a({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:D=>{a({variant:"error",title:"Haftalk kural kaydedilemedi",description:Ie(D,"lem baarsz.").message})}}),ue=Ye({mutationFn:td,onSuccess:()=>{a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),F("60"),P(!0),$(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{a({variant:"error",title:"Vardiya kaydedilemedi",description:Ie(D,"lem baarsz.").message})}}),U=Ye({mutationFn:c_,onSuccess:()=>{a({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),Q!==null&&($(null),w(""),z("09:00"),A("17:30"),F("60"),P(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{a({variant:"error",title:"Vardiya pasife alnamad",description:Ie(D,"lem baarsz.").message})}}),le=Ye({mutationFn:({shift:D,nextActive:q})=>td({id:D.id,department_id:D.department_id,name:D.name,start_time_local:D.start_time_local,end_time_local:D.end_time_local,break_minutes:D.break_minutes,is_active:q}),onSuccess:(D,q)=>{a({variant:"success",title:q.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:q.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{a({variant:"error",title:"Vardiya durumu gncellenemedi",description:Ie(D,"lem baarsz.").message})}}),Z=V.data??[],se=G.data??[],ce=K.data??[],Te=ie.data??[],W=j.useMemo(()=>new Map(Z.map(D=>[D.id,D.name])),[Z]),M=j.useMemo(()=>pe?Te.filter(D=>D.department_id===pe):[],[pe,Te]),ne=j.useMemo(()=>se.find(D=>String(D.id)===d),[se,d]);return j.useEffect(()=>{if(!pe){_({});return}const D=new Map(ce.filter(ge=>ge.department_id===pe).map(ge=>[ge.weekday,ge])),q={};for(const ge of a0){const je=D.get(ge.value);q[ge.value]={is_workday:je?.is_workday??!0,planned_minutes:String(je?.planned_minutes??540),break_minutes:String(je?.break_minutes??60)}}_(q)},[pe,ce]),V.isLoading||G.isLoading||K.isLoading||ie.isLoading?i.jsx(Ct,{}):V.isError||G.isError||K.isError||ie.isError?i.jsx(xt,{message:"Hzl ayarlar verileri alnamad."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),i.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[i.jsx(Ra,{label:"alan",employees:se,value:d,onChange:D=>{h(D);const q=se.find(ge=>String(ge.id)===D);y(q?.department_id?String(q.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",i.jsxs("select",{value:p,onChange:D=>y(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Atanmam"}),Z.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[i.jsxs("div",{children:[i.jsxs("p",{children:["Seili alan:"," ",ne?`#${ne.id} - ${ne.full_name}`:"-"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",ne?.department_id?W.get(ne.department_id)??"-":"Atanmam"]})]}),i.jsx("button",{type:"button",disabled:!ne||ee.isPending,onClick:()=>{ne&&ee.mutate({employeeId:ne.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),i.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seiniz"}),Z.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]})}),pe?i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Gn"}),i.jsx("th",{className:"py-2",children:"alma Gn"}),i.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),i.jsx("th",{className:"py-2",children:"Mola Dakika"}),i.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),i.jsx("tbody",{children:a0.map(D=>{const q=v[D.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:D.label}),i.jsx("td",{className:"py-2",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:q.is_workday,onChange:ge=>_(je=>({...je,[D.value]:{...q,is_workday:ge.target.checked}}))}),"alma gn"]})}),i.jsx("td",{className:"py-2",children:i.jsx("input",{value:q.planned_minutes,onChange:ge=>_(je=>({...je,[D.value]:{...q,planned_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),i.jsx("td",{className:"py-2",children:i.jsx("input",{value:q.break_minutes,onChange:ge=>_(je=>({...je,[D.value]:{...q,break_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),i.jsx("td",{className:"py-2 text-right",children:i.jsx("button",{type:"button",disabled:oe.isPending,onClick:()=>{const ge=Number(q.planned_minutes),je=Number(q.break_minutes);if(!Number.isFinite(ge)||ge<0){a({variant:"error",title:"Geersiz planlanan dakika",description:`${D.label} iin say giriniz.`});return}if(!Number.isFinite(je)||je<0){a({variant:"error",title:"Geersiz mola dakikas",description:`${D.label} iin say giriniz.`});return}oe.mutate({department_id:pe,weekday:D.value,is_workday:q.is_workday,planned_minutes:Math.trunc(ge),break_minutes:Math.trunc(je)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},D.value)})})]})}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),pe?i.jsxs(i.Fragment,{children:[i.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:D=>{if(D.preventDefault(),!S.trim()){a({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const q=Number(O);if(!Number.isFinite(q)||q<0){a({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}ue.mutate({id:Q??void 0,department_id:pe,name:S.trim(),start_time_local:C,end_time_local:k,break_minutes:Math.trunc(q),is_active:R})},children:[Q?i.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",Q]}):null,i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",i.jsx("input",{value:S,onChange:D=>w(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",i.jsx("input",{type:"time",value:C,onChange:D=>z(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",i.jsx("input",{type:"time",value:k,onChange:D=>A(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",i.jsx("input",{value:O,onChange:D=>F(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:R,onChange:D=>P(D.target.checked)}),"Aktif"]}),i.jsx("button",{type:"submit",disabled:ue.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:ue.isPending?"Kaydediliyor...":Q?"Vardiya Gncelle":"Vardiya Kaydet"}),Q?i.jsx("button",{type:"button",onClick:()=>{$(null),w(""),z("09:00"),A("17:30"),F("60"),P(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Saat Aral"}),i.jsx("th",{className:"py-2",children:"Mola"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),i.jsx("tbody",{children:M.map(D=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:D.name}),i.jsxs("td",{className:"py-2",children:[D.start_time_local," - ",D.end_time_local]}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:D.break_minutes})}),i.jsx("td",{className:"py-2",children:D.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{$(D.id),w(D.name),z(D.start_time_local),A(D.end_time_local),F(String(D.break_minutes)),P(D.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),D.is_active?i.jsx("button",{type:"button",disabled:U.isPending||le.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&U.mutate(D.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):i.jsx("button",{type:"button",disabled:le.isPending||U.isPending,onClick:()=>le.mutate({shift:D,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},D.id))})]})}),M.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const i0=Ia({name:xa().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:bd()});function s0(t){return Ht.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Ie(t,"Bolge islemi basarisiz.").message}function aM(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState(!0),[p,y]=j.useState(""),[v,_]=j.useState(!0),[S,w]=j.useState(null),[C,z]=j.useState(""),[k,A]=j.useState(!0),[O,F]=j.useState(null),R=Le({queryKey:["regions",v],queryFn:()=>pd({include_inactive:v})}),P=Ye({mutationFn:zE,onSuccess:K=>{o(""),h(!0),F(null),a({variant:"success",title:"Bolge olusturuldu",description:`${K.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:K=>{const ie=s0(K);F(ie),a({variant:"error",title:"Bolge olusturulamadi",description:ie})}}),Q=Ye({mutationFn:({regionId:K,payload:ie})=>ME(K,ie),onSuccess:K=>{F(null),w(null),z(""),A(!0),a({variant:"success",title:"Bolge guncellendi",description:`${K.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:K=>{const ie=s0(K);F(ie),a({variant:"error",title:"Bolge guncellenemedi",description:ie})}}),$=K=>{K.preventDefault(),F(null);const ie=i0.safeParse({name:l,is_active:d});if(!ie.success){const pe=ie.error.issues[0]?.message??"Bolge formunu kontrol edin.";F(pe);return}P.mutate(ie.data)},V=K=>{if(K.preventDefault(),F(null),!S)return;const ie=i0.safeParse({name:C,is_active:k});if(!ie.success){const pe=ie.error.issues[0]?.message??"Bolge formunu kontrol edin.";F(pe);return}Q.mutate({regionId:S,payload:ie.data})},G=j.useMemo(()=>{const K=R.data??[],ie=p.trim().toLowerCase();return ie?K.filter(pe=>pe.name.toLowerCase().includes(ie)):K},[R.data,p]);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),i.jsxs(ze,{children:[i.jsxs("form",{onSubmit:$,className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",i.jsx("input",{value:l,onChange:K=>o(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:d,onChange:K=>h(K.target.checked)}),"Aktif"]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"submit",disabled:P.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:P.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),O?i.jsx("p",{className:"form-validation mt-2",children:O}):null]}),S?i.jsxs(ze,{children:[i.jsxs("form",{onSubmit:V,className:"grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",i.jsx("input",{value:C,onChange:K=>z(K.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:K=>A(K.target.checked)}),"Aktif"]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("button",{type:"submit",disabled:Q.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Q.isPending?"Guncelleniyor...":"Kaydet"}),i.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),F(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),O?i.jsx("p",{className:"form-validation mt-2",children:O}):null]}):null,R.isLoading?i.jsx(Ct,{}):null,R.isError?i.jsx(xt,{message:"Bolge listesi alinamadi."}):null,!R.isLoading&&!R.isError?i.jsxs(ze,{children:[i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[i.jsx(Gi,{value:p,onChange:y,placeholder:"Bolge adina gore ara..."}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:K=>_(K.target.checked)}),"Pasif bolgeleri goster"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Bolge ID"}),i.jsx("th",{className:"py-2",children:"Bolge Adi"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Islem"})]})}),i.jsx("tbody",{children:G.map(K=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:K.id}),i.jsx("td",{className:"py-2",children:K.name}),i.jsx("td",{className:"py-2",children:i.jsx(Ds,{value:K.is_active?"Aktif":"Pasif"})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{type:"button",onClick:()=>{w(K.id),z(K.name),A(K.is_active),F(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},K.id))})]})}),G.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function ef(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function iM(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":t==="FAILED"?"bg-rose-100 text-rose-700":t==="CANCELED"?"bg-slate-200 text-slate-700":t==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function sM(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}function rM(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function lM(){const t=Mn(),{pushToast:a}=On(),[l,o]=Uf(),[d,h]=j.useState("Puantaj Bildirimi"),[p,y]=j.useState(""),[v,_]=j.useState(""),[S,w]=j.useState("employees"),[C,z]=j.useState(60),[k,A]=j.useState(""),[O,F]=j.useState(""),[R,P]=j.useState(""),[Q,$]=j.useState([]),[V,G]=j.useState([]),[K,ie]=j.useState(null),[pe,ee]=j.useState(!1),[oe,ue]=j.useState(""),[U,le]=j.useState(""),[Z,se]=j.useState(""),[ce,Te]=j.useState(""),W=Le({queryKey:["employees","notify"],queryFn:()=>ti({status:"active"})}),M=Le({queryKey:["admin-users","notify"],queryFn:r_}),ne=Le({queryKey:["admin-push-config"],queryFn:h_}),D=Le({queryKey:["notification-jobs",k],queryFn:()=>l2({status:k||void 0,limit:100}),refetchInterval:1e4}),q=Le({queryKey:["notification-delivery-logs"],queryFn:()=>o2({limit:400}),refetchInterval:15e3}),ge=Le({queryKey:["notify-subs-emp"],queryFn:()=>c2({}),refetchInterval:15e3}),je=Le({queryKey:["notify-subs-admin"],queryFn:()=>d2({}),refetchInterval:15e3}),Ae=Le({queryKey:["daily-archives",oe,U,Z],queryFn:()=>f2({limit:180,start_date:oe||void 0,end_date:U||void 0,employee_query:Z.trim()||void 0})}),qe=j.useMemo(()=>{const ve=O.trim().toLowerCase();return ve?(W.data??[]).filter(We=>`${We.id} ${We.full_name}`.toLowerCase().includes(ve)):W.data??[]},[W.data,O]),Ge=j.useMemo(()=>{const ve=R.trim().toLowerCase();return ve?(M.data??[]).filter(We=>`${We.id} ${We.username}`.toLowerCase().includes(ve)):M.data??[]},[M.data,R]),tt=j.useMemo(()=>{const ve=ce.trim().toLowerCase(),We=q.data??[];return ve?We.filter(J=>[J.recipient_name??"",String(J.recipient_id??""),String(J.device_id??""),J.ip??"",J.status,J.target,J.title??"",J.sender_admin].join(" ").toLowerCase().includes(ve)):We},[q.data,ce]),we=j.useMemo(()=>tt.filter(ve=>ve.status==="SENT").length,[tt]),ot=j.useMemo(()=>tt.filter(ve=>ve.status==="FAILED").length,[tt]),vt=Ye({mutationFn:h2,onSuccess:ve=>{ie(ve),a({variant:"success",title:"Davet hazir",description:"Link admin cihaza gonderildi."}),navigator.clipboard.writeText(ve.invite_url)},onError:ve=>a({variant:"error",title:"Davet hatasi",description:Ie(ve,"Davet olusturulamadi").message})}),bt=Ye({mutationFn:m_,onSuccess:ve=>{a({variant:"success",title:"Bildirim gonderildi",description:`Hedef: ${ve.total_targets} / Gonderilen: ${ve.sent}`}),t.invalidateQueries({queryKey:["notification-jobs"]}),t.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:ve=>a({variant:"error",title:"Gonderim hatasi",description:Ie(ve,"Bildirim gonderilemedi").message})}),Kt=Ye({mutationFn:u2,onSuccess:()=>{t.invalidateQueries({queryKey:["notification-jobs"]})}}),Rt=Ye({mutationFn:g2,onSuccess:(ve,We)=>{const J=(Ae.data??[]).find(Ce=>Ce.id===We);rM(ve,J?.file_name??`arsiv-${We}.xlsx`)}}),zt=Ye({mutationFn:ve=>x2(ve),onSuccess:ve=>{a({variant:"success",title:"Arsiv bildirimi gonderildi",description:`Hedef: ${ve.total_targets} | Gonderilen: ${ve.sent} | Hata: ${ve.failed}`}),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:ve=>{const We=Ie(ve,"Arsiv bildirimi gonderilemedi.");a({variant:"error",title:"Arsiv bildirimi basarisiz",description:We.message})}});return j.useEffect(()=>{if(pe)return;const ve=l.get("archive_id");if(!ve)return;const We=Number(ve);if(!Number.isInteger(We)||We<=0){ee(!0);return}if(!(Ae.data??[]).find(Ve=>Ve.id===We))return;ee(!0),Rt.mutate(We);const Ce=new URLSearchParams(l);Ce.delete("archive_id"),o(Ce,{replace:!0})},[pe,Ae.data,Rt,l,o]),i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Bildirim Merkezi",description:"Push, claim daveti, job yonetimi ve gunluk Excel arsivi."}),i.jsxs(ze,{children:[i.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet suresi (dk)",i.jsx("input",{type:"number",min:1,max:43200,value:C,onChange:ve=>z(Number(ve.target.value||60)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"button",onClick:()=>vt.mutate({expires_in_minutes:C}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki uret"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",ne.data?.enabled?"Aktif":"Pasif"]})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link otomatik kopyalanir. Ekran: /admin-panel/device-claim?token=..."}),K?i.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[i.jsxs("p",{children:["Token: ",K.token]}),i.jsxs("p",{className:"break-all",children:["Link: ",K.invite_url]}),i.jsxs("p",{children:["Bitis: ",ef(K.expires_at)]})]}):null]}),i.jsx(ze,{children:i.jsxs("form",{className:"space-y-3",onSubmit:ve=>{ve.preventDefault(),bt.mutate({title:d.trim(),message:p.trim(),password:v.trim(),target:S,employee_ids:S!=="admins"&&Q.length>0?Q:void 0,admin_user_ids:S!=="employees"&&V.length>0?V:void 0})},children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gonder"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[i.jsx("input",{value:d,onChange:ve=>h(ve.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Baslik"}),i.jsx("input",{type:"password",value:v,onChange:ve=>_(ve.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin sifresi"}),i.jsxs("select",{value:S,onChange:ve=>w(ve.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"employees",children:"Calisanlara"}),i.jsx("option",{value:"admins",children:"Adminlere"}),i.jsx("option",{value:"both",children:"Her ikisine"})]})]}),i.jsx("textarea",{value:p,onChange:ve=>y(ve.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),S!=="admins"?i.jsxs("div",{children:[i.jsx(Gi,{value:O,onChange:F,placeholder:"Calisan filtrele..."}),i.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:qe.map(ve=>i.jsxs("label",{className:"flex items-center justify-between py-1",children:[i.jsxs("span",{children:["#",ve.id," - ",ve.full_name]}),i.jsx("input",{type:"checkbox",checked:Q.includes(ve.id),onChange:()=>$(We=>We.includes(ve.id)?We.filter(J=>J!==ve.id):[...We,ve.id])})]},ve.id))})]}):null,S!=="employees"?i.jsxs("div",{children:[i.jsx(Gi,{value:R,onChange:P,placeholder:"Admin filtrele..."}),i.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:Ge.map(ve=>i.jsxs("label",{className:"flex items-center justify-between py-1",children:[i.jsxs("span",{children:["#",ve.id," - ",ve.username]}),i.jsx("input",{type:"checkbox",checked:V.includes(ve.id),onChange:()=>G(We=>We.includes(ve.id)?We.filter(J=>J!==ve.id):[...We,ve.id])})]},ve.id))})]}):null,i.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gonder"})]})}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Isleri"}),i.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[i.jsxs("select",{value:k,onChange:ve=>A(ve.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[i.jsx("option",{value:"",children:"Tumu"}),i.jsx("option",{value:"PENDING",children:"PENDING"}),i.jsx("option",{value:"SENDING",children:"SENDING"}),i.jsx("option",{value:"SENT",children:"SENT"}),i.jsx("option",{value:"FAILED",children:"FAILED"}),i.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),i.jsx("button",{type:"button",onClick:()=>{D.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),D.isLoading?i.jsx(Ct,{label:"Yukleniyor..."}):null,D.isError?i.jsx(xt,{message:"Job listesi alinamadi."}):null,i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{children:"Tur"}),i.jsx("th",{children:"Durum"}),i.jsx("th",{children:"Planlanan"}),i.jsx("th",{children:"Islem"})]})}),i.jsx("tbody",{children:(D.data??[]).map(ve=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ve.id}),i.jsx("td",{children:ve.job_type}),i.jsx("td",{children:i.jsx("span",{className:`rounded px-2 py-1 text-xs ${iM(ve.status)}`,children:ve.status})}),i.jsx("td",{children:ef(ve.scheduled_at_utc)}),i.jsx("td",{children:ve.status==="PENDING"||ve.status==="SENDING"?i.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>Kt.mutate(ve.id),children:"Iptal"}):"-"})]},ve.id))})]})})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik Ozeti"}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Calisan abonelik: ",(ge.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(je.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv dosyasi: ",(Ae.data??[]).length]}),i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat log satiri: ",(q.data??[]).length]})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Teslimat Logu"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Kime gitti / gitmedi, isim-ID, cihaz, IP ve hata bilgisini izleyin."}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam satir: ",tt.length]}),i.jsxs("div",{className:"rounded border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Gonderildi: ",we]}),i.jsxs("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:["Gonderilemedi: ",ot]}),i.jsx("button",{type:"button",onClick:()=>{q.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Logu yenile"})]}),i.jsx("div",{className:"mt-3",children:i.jsx(Gi,{value:ce,onChange:Te,placeholder:"Isim, ID, cihaz, IP, baslik, durum ara..."})}),q.isLoading?i.jsx(Ct,{label:"Teslimat logu yukleniyor..."}):null,q.isError?i.jsx(xt,{message:"Teslimat logu alinamadi."}):null,i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"py-2",children:"Zaman"}),i.jsx("th",{children:"Durum"}),i.jsx("th",{children:"Hedef Tipi"}),i.jsx("th",{children:"Kisi"}),i.jsx("th",{children:"Cihaz ID"}),i.jsx("th",{children:"IP"}),i.jsx("th",{children:"Baslik"}),i.jsx("th",{children:"Gonderen"}),i.jsx("th",{children:"Hata"})]})}),i.jsx("tbody",{children:tt.map((ve,We)=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ef(ve.sent_at_utc)}),i.jsx("td",{children:i.jsx("span",{className:`rounded px-2 py-1 text-xs font-semibold ${sM(ve.status)}`,children:ve.status})}),i.jsx("td",{children:ve.recipient_type==="employee"?"CALISAN":"ADMIN"}),i.jsxs("td",{children:["#",ve.recipient_id??"-"," - ",ve.recipient_name??"-"]}),i.jsx("td",{children:ve.device_id??"-"}),i.jsx("td",{children:ve.ip??"-"}),i.jsx("td",{children:ve.title??"-"}),i.jsx("td",{children:ve.sender_admin}),i.jsx("td",{className:"max-w-[280px] truncate",title:ve.error??"-",children:ve.error??"-"})]},`${ve.audit_id}-${ve.recipient_type}-${ve.recipient_id??0}-${ve.device_id??0}-${We}`))})]}),!q.isLoading&&tt.length===0?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun teslimat kaydi bulunamadi."}):null]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gunluk Excel Arsivi"}),i.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[i.jsxs("label",{className:"text-xs text-slate-600",children:["Baslangic",i.jsx("input",{type:"date",value:oe,onChange:ve=>ue(ve.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Bitis",i.jsx("input",{type:"date",value:U,onChange:ve=>le(ve.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsxs("label",{className:"text-xs text-slate-600",children:["Calisan icerigi",i.jsx("input",{value:Z,onChange:ve=>se(ve.target.value),placeholder:"ad veya ID",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:()=>{Ae.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Arsivi yenile"})})]}),Ae.isLoading?i.jsx(Ct,{label:"Arsiv yukleniyor..."}):null,Ae.isError?i.jsx(xt,{message:"Arsiv listesi alinamadi."}):null,i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[i.jsx("th",{className:"py-2",children:"ID"}),i.jsx("th",{children:"Tarih"}),i.jsx("th",{children:"Dosya"}),i.jsx("th",{children:"Calisan"}),i.jsx("th",{children:"Boyut"}),i.jsx("th",{children:"Islem"})]})}),i.jsx("tbody",{children:(Ae.data??[]).map(ve=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:ve.id}),i.jsx("td",{children:ve.report_date}),i.jsx("td",{children:ve.file_name}),i.jsx("td",{children:ve.employee_count}),i.jsxs("td",{children:[(ve.file_size_bytes/1024).toFixed(1)," KB"]}),i.jsx("td",{children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>Rt.mutate(ve.id),children:"Excel indir"}),i.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",onClick:()=>zt.mutate(ve.id),disabled:zt.isPending,children:"Adminlere bildir"})]})})]},ve.id))})]})})]})]})}const kl={action:"",entityType:"",entityId:"",success:"all",limit:"300"},oM=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],uM={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function cM(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function dM(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function hM(t){return t?"Baarl":"Hata"}function mM(t){const a=Object.entries(t);return a.length===0?"-":a.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function fM(t){return uM[t]??t}function pM(t){const a=Number(t.limit),l=Number.isInteger(a)&&a>0?Math.min(a,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:l}}function gM(t){const a=`${t.actor_type}:${t.actor_id}`,l=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${dM(t.ts_utc)}] ${t.action} actor=${a} entity=${l} ip=${o}`}function yM(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function xM(){const[t,a]=j.useState(kl),[l,o]=j.useState(kl),[d,h]=j.useState(""),[p,y]=j.useState(!0),[v,_]=j.useState(""),[S,w]=j.useState(null),[C,z]=j.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),k=j.useRef(2),A=j.useRef(null),O=j.useMemo(()=>pM(l),[l]),F=Le({queryKey:["audit-logs",O],queryFn:()=>d_(O),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),R=F.data??[],P=j.useMemo(()=>{if(!d.trim())return R;const ee=d.trim().toLowerCase();return R.filter(oe=>[oe.action,oe.actor_type,oe.actor_id,oe.entity_type??"",oe.entity_id??"",oe.ip??"",oe.user_agent??"",JSON.stringify(oe.details)].join(" ").toLowerCase().includes(ee))},[R,d]),Q=j.useMemo(()=>{if(S!==null){const ee=P.find(oe=>oe.id===S);if(ee)return ee}return P[0]??null},[S,P]),$=j.useMemo(()=>{const ee=R.filter(U=>!U.success).length,oe=R.filter(U=>U.action.startsWith("ADMIN_LOGIN")).length,ue=R.filter(U=>U.action==="ATTENDANCE_EVENT_CREATED").length;return{total:R.length,failed:ee,loginEvents:oe,attendanceEvents:ue}},[R]);j.useEffect(()=>{!Q&&S!==null&&w(null)},[Q,S]),j.useEffect(()=>{!p||A.current===null||(A.current.scrollTop=A.current.scrollHeight)},[p,P,C]);const V=(ee,oe)=>{z(ue=>{const U=[...ue,{id:k.current,level:ee,text:oe}];return k.current+=1,U.slice(-120)})},G=ee=>{ee.preventDefault(),o({...t}),V("success","Filtreler uyguland.")},K=()=>{a(kl),o(kl),h(""),V("info","Filtreler temizlendi.")},ie=ee=>{const oe=ee.trim();if(!oe)return;V("info",`$ ${oe}`);const[ue,...U]=oe.split(/\s+/),le=ue.toLowerCase(),Z=oe.slice(ue.length).trim();if(le==="help"||le==="yardim"||le==="yardm"){V("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(le==="clear"||le==="temizle"){z([]),k.current=1,V("success","Terminal kt gemii temizlendi.");return}if(le==="apply"||le==="uygula"){o({...t}),V("success","Taslak filtreler uyguland.");return}if(le==="reset"||le==="sifirla"||le==="sfrla"){a(kl),o(kl),h(""),V("warning","Filtreler sfrland.");return}if(le==="refresh"||le==="yenile"){F.refetch(),V("success","Log verisi yeniden ekiliyor.");return}if(le==="follow"||le==="takip"){const se=U[0]?.toLowerCase();if(se==="on"||se==="ac"||se==="a"){y(!0),V("success","Canl takip ald.");return}if(se==="off"||se==="kapat"){y(!1),V("warning","Canl takip kapatld.");return}V("error","Kullanm: follow on|off");return}if(le==="status"||le==="durum"){const se=U[0]?.toLowerCase();let ce=null;if((se==="all"||se==="tum"||se==="tm")&&(ce="all"),(se==="success"||se==="ok"||se==="basarili"||se==="baarl")&&(ce="success"),(se==="failed"||se==="error"||se==="hata")&&(ce="failed"),ce===null){V("error","Kullanm: status all|success|failed");return}a(Te=>({...Te,success:ce})),o(Te=>({...Te,success:ce})),V("success",`Durum filtresi gncellendi: ${ce}`);return}if(le==="action"||le==="aksiyon"){if(!Z){V("error","Kullanm: action <AKSIYON_KODU>");return}a(se=>({...se,action:Z})),o(se=>({...se,action:Z})),V("success",`Aksiyon filtresi gncellendi: ${Z}`);return}if(le==="search"||le==="ara"){h(Z),V("success",Z?`Metin aramas uyguland: "${Z}"`:"Metin aramas temizlendi.");return}if(le==="limit"){const se=Number(U[0]);if(!Number.isFinite(se)||se<=0){V("error","Kullanm: limit <1-500>");return}const ce=Math.min(Math.max(Math.trunc(se),1),500);a(Te=>({...Te,limit:String(ce)})),o(Te=>({...Te,limit:String(ce)})),V("success",`Limit gncellendi: ${ce}`);return}V("error",`Bilinmeyen komut: ${le}. Yardm iin "help" yazn.`)},pe=ee=>{ee.preventDefault(),ie(v),_("")};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),i.jsxs(ze,{children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.total})]}),i.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),i.jsx("p",{className:"text-sm font-semibold text-rose-800",children:$.failed})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.loginEvents})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.attendanceEvents})]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{y(ee=>!ee),V("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),i.jsx("button",{type:"button",onClick:()=>{F.refetch(),V("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),i.jsx("button",{type:"button",onClick:K,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),i.jsxs("form",{className:"mt-3 space-y-3",onSubmit:G,children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",i.jsx("select",{value:t.action,onChange:ee=>a(oe=>({...oe,action:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:oM.map(ee=>i.jsx("option",{value:ee.value,children:ee.label},ee.label))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",i.jsx("input",{type:"text",value:t.entityType,onChange:ee=>a(oe=>({...oe,entityType:ee.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",i.jsx("input",{type:"text",value:t.entityId,onChange:ee=>a(oe=>({...oe,entityId:ee.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",i.jsxs("select",{value:t.success,onChange:ee=>a(oe=>({...oe,success:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"all",children:"Tm"}),i.jsx("option",{value:"success",children:"Baarl"}),i.jsx("option",{value:"failed",children:"Hata"})]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",i.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:ee=>a(oe=>({...oe,limit:ee.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",i.jsx("input",{type:"text",value:d,onChange:ee=>h(ee.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),i.jsx("button",{type:"button",onClick:K,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),i.jsxs(ze,{children:[F.isLoading?i.jsx(Ct,{label:"Log kaytlar ykleniyor..."}):null,F.isError?i.jsx(xt,{message:Ie(F.error,"Log kaytlar alnamad.").message}):null,!F.isLoading&&!F.isError?i.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[i.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),i.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),i.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",P.length," kayt"]})]}),i.jsx("form",{onSubmit:pe,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:i.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[i.jsx("span",{children:"admin@audit:~$"}),i.jsx("input",{value:v,onChange:ee=>_(ee.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),i.jsxs("div",{ref:A,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[C.map(ee=>i.jsx("p",{className:`leading-6 ${yM(ee.level)}`,children:ee.text},ee.id)),P.map(ee=>{const oe=Q?.id===ee.id;return i.jsxs("button",{type:"button",onClick:()=>w(ee.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${oe?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[i.jsx("span",{className:ee.success?"text-emerald-300":"text-rose-300",children:ee.success?"[OK]":"[ERR]"})," ",i.jsx("span",{className:"text-slate-200",children:gM(ee)})]},ee.id)}),P.length===0?i.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),i.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[i.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),Q===null?i.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:fM(Q.action)}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:Q.action})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",cM(Q.ts_utc)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",Q.actor_type,":",Q.actor_id]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Durum:"})," ",hM(Q.success)]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",Q.entity_type??"-",Q.entity_id?` #${Q.entity_id}`:""]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"IP:"})," ",Q.ip??"-"]}),i.jsxs("p",{className:"break-all",children:[i.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",Q.user_agent??"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",mM(Q.details)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),i.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(Q.details,null,2)})]}),i.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[i.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),i.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const vM=Ia({department_id:xn().int().positive(),daily_minutes_planned:xn().int().nonnegative(),break_minutes:xn().int().nonnegative(),grace_minutes:xn().int().nonnegative()}),_M=Ia({department_id:xn().int().positive(),weekday:xn().int().min(0).max(6),is_workday:bd(),planned_minutes:xn().int().nonnegative(),break_minutes:xn().int().nonnegative()}),bM=Ia({department_id:xn().int().positive(),name:xa().min(1).max(100),start_time_local:xa().regex(/^\d{2}:\d{2}$/),end_time_local:xa().regex(/^\d{2}:\d{2}$/),break_minutes:xn().int().nonnegative(),is_active:bd()}),r0=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],NM=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],jM={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function tf(t){const a=t.trim();if(!a)return null;const l=Number(a);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function SM(t,a){const l=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:a,note:t.note}}function wM(){const t=Mn(),{pushToast:a}=On(),[l,o]=j.useState(""),[d,h]=j.useState("540"),[p,y]=j.useState("60"),[v,_]=j.useState("5"),[S,w]=j.useState(""),[C,z]=j.useState("0"),[k,A]=j.useState(!0),[O,F]=j.useState("540"),[R,P]=j.useState("60"),[Q,$]=j.useState(""),[V,G]=j.useState(""),[K,ie]=j.useState("10:00"),[pe,ee]=j.useState("18:00"),[oe,ue]=j.useState("60"),[U,le]=j.useState(!0),[Z,se]=j.useState(null),[ce,Te]=j.useState(null),[W,M]=j.useState(""),[ne,D]=j.useState("DEPARTMENT"),[q,ge]=j.useState([]),[je,Ae]=j.useState(""),[qe,Ge]=j.useState(""),[tt,we]=j.useState(""),[ot,vt]=j.useState(""),[bt,Kt]=j.useState(""),[Rt,zt]=j.useState(new Date().toISOString().slice(0,10)),[ve,We]=j.useState(new Date().toISOString().slice(0,10)),[J,Ce]=j.useState(!1),[Ve,_t]=j.useState(!0),[kt,ut]=j.useState(""),[_e,Ke]=j.useState(!0),[ct,et]=j.useState(null),hn=Le({queryKey:["departments"],queryFn:Rs}),te=Le({queryKey:["employees","all"],queryFn:()=>ti({status:"all"})}),X=Le({queryKey:["work-rules"],queryFn:KE}),Qe=Le({queryKey:["department-weekly-rules"],queryFn:()=>o_()}),it=Le({queryKey:["department-shifts"],queryFn:()=>ou()}),un=Le({queryKey:["schedule-plans","all"],queryFn:()=>n2({active_only:!1})}),Lt=Ye({mutationFn:QE,onSuccess:()=>{et(null),a({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:B=>{const Re=Ie(B,"Mesai kurali kaydedilemedi.");et(Re.message),a({variant:"error",title:"Mesai kurali kaydedilemedi",description:Re.message})}}),Kn=Ye({mutationFn:u_,onSuccess:()=>{et(null),a({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:B=>{const Re=Ie(B,"Haftalik plan kaydedilemedi.");et(Re.message),a({variant:"error",title:"Haftalik plan kaydedilemedi",description:Re.message})}}),Bs=Ye({mutationFn:td,onSuccess:()=>{et(null),se(null),G(""),ie("10:00"),ee("18:00"),ue("60"),le(!0),a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Ie(B,"Vardiya kaydedilemedi.");et(Re.message),a({variant:"error",title:"Vardiya kaydedilemedi",description:Re.message})}}),Is=Ye({mutationFn:c_,onSuccess:()=>{et(null),Z!==null&&(se(null),G(""),ie("10:00"),ee("18:00"),ue("60"),le(!0)),a({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Ie(B,"Vardiya pasife alinamadi.");et(Re.message),a({variant:"error",title:"Vardiya pasife alinamadi",description:Re.message})}}),Ua=Ye({mutationFn:({shift:B,nextActive:Re})=>td({id:B.id,department_id:B.department_id,name:B.name,start_time_local:B.start_time_local,end_time_local:B.end_time_local,break_minutes:B.break_minutes,is_active:Re}),onSuccess:(B,Re)=>{et(null),a({variant:"success",title:Re.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Re.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:B=>{const Re=Ie(B,"Vardiya durumu guncellenemedi.");et(Re.message),a({variant:"error",title:"Vardiya durumu guncellenemedi",description:Re.message})}}),Za=Ye({mutationFn:qx,onSuccess:()=>{et(null),a({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),Te(null),ge([]),Ge(""),we(""),vt(""),Kt(""),Ce(!1),_t(!0),ut("")},onError:B=>{const Re=Ie(B,"Planlama kaydedilemedi.");et(Re.message),a({variant:"error",title:"Planlama kaydedilemedi",description:Re.message})}}),ni=Ye({mutationFn:a2,onSuccess:()=>{et(null),a({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:B=>{const Re=Ie(B,"Planlama iptal edilemedi.");et(Re.message),a({variant:"error",title:"Planlama iptal edilemedi",description:Re.message})}}),_a=Ye({mutationFn:B=>qx(SM(B,!0)),onSuccess:()=>{et(null),a({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:B=>{const Re=Ie(B,"Plan aktif edilemedi.");et(Re.message),a({variant:"error",title:"Plan aktif edilemedi",description:Re.message})}}),ai=j.useMemo(()=>{const B=Number(d),Re=Number(p),Nt=Number(v);return{daily:Yc(B),breakValue:Yc(Re),grace:Yc(Nt)}},[d,p,v]);if(hn.isLoading||te.isLoading||X.isLoading||Qe.isLoading||it.isLoading||un.isLoading)return i.jsx(Ct,{});if(hn.isError||te.isError||X.isError||Qe.isError||it.isError||un.isError)return i.jsx(xt,{message:"Mesai kurali verileri alinamadi."});const ra=hn.data??[],Dr=te.data??[],Rr=X.data??[],Us=Qe.data??[],la=it.data??[],Il=un.data??[],Ni=new Map(ra.map(B=>[B.id,B.name])),Lr=new Map(Dr.map(B=>[B.id,B.full_name])),Pr=new Map(la.map(B=>[B.id,B.name])),Dn=Il.filter(B=>_e||B.is_active),Pe=Number(W),Zs=Number.isFinite(Pe)?la.filter(B=>B.department_id===Pe):[],Yi=Number.isFinite(Pe)?Dr.filter(B=>B.department_id===Pe):[],oa=je.trim()?Yi.filter(B=>{const Re=je.trim().toLowerCase();return B.full_name.toLowerCase().includes(Re)||String(B.id).includes(Re.replace("#",""))}):Yi,tn=()=>{Te(null),D("DEPARTMENT"),ge([]),Ae(""),Ge(""),we(""),vt(""),Kt(""),zt(new Date().toISOString().slice(0,10)),We(new Date().toISOString().slice(0,10)),Ce(!1),_t(!0),ut("")},mn=B=>{const Re=B.target_employee_ids&&B.target_employee_ids.length>0?B.target_employee_ids:B.target_employee_id?[B.target_employee_id]:[];Te(B.id),M(String(B.department_id)),D(B.target_type),ge(Re),Ae(""),Ge(B.shift_id?String(B.shift_id):""),we(B.daily_minutes_planned!==null?String(B.daily_minutes_planned):""),vt(B.break_minutes!==null?String(B.break_minutes):""),Kt(B.grace_minutes!==null?String(B.grace_minutes):""),zt(B.start_date),We(B.end_date),Ce(B.is_locked),_t(B.is_active),ut(B.note??"")},qa=B=>{B.preventDefault(),et(null);const Re=vM.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:p,grace_minutes:v});if(!Re.success){const Nt=Re.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";et(Nt),a({variant:"error",title:"Form hatasi",description:Nt});return}Lt.mutate(Re.data)},ba=B=>{B.preventDefault(),et(null);const Re=_M.safeParse({department_id:S,weekday:C,is_workday:k,planned_minutes:O,break_minutes:R});if(!Re.success){const Nt=Re.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";et(Nt),a({variant:"error",title:"Form hatasi",description:Nt});return}Kn.mutate(Re.data)},Br=B=>{B.preventDefault(),et(null);const Re=bM.safeParse({department_id:Q,name:V.trim(),start_time_local:K,end_time_local:pe,break_minutes:oe,is_active:U});if(!Re.success){const Nt=Re.error.issues[0]?.message??"Vardiya formunu kontrol edin.";et(Nt),a({variant:"error",title:"Form hatasi",description:Nt});return}Bs.mutate({id:Z??void 0,...Re.data})},Ul=B=>{se(B.id),$(String(B.department_id)),G(B.name),ie(B.start_time_local),ee(B.end_time_local),ue(String(B.break_minutes)),le(B.is_active),et(null)},Ir=()=>{se(null),G(""),ie("10:00"),ee("18:00"),ue("60"),le(!0),et(null)},ji=B=>{B.preventDefault(),et(null);const Re=Number(W);if(!Number.isFinite(Re)||Re<=0){et("Planlama icin departman secmelisiniz.");return}if(!Rt||!ve){et("Baslangic ve bitis tarihi zorunludur.");return}if(Rt>ve){et("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const Nt=ne==="DEPARTMENT"?[]:[...q];if(ne!=="DEPARTMENT"&&Nt.length===0){et("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Rn=qe?Number(qe):null,Fa=tf(tt),Jt=tf(ot),qs=tf(bt);if(!Rn&&Fa===null&&Jt===null&&qs===null){et("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}Za.mutate({id:ce??void 0,department_id:Re,target_type:ne,target_employee_id:Nt.length>0?Nt[0]:null,target_employee_ids:Nt,shift_id:Rn,daily_minutes_planned:Fa,break_minutes:Jt,grace_minutes:qs,start_date:Rt,end_date:ve,is_locked:J,is_active:Ve,note:kt.trim()||null})};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),i.jsxs("form",{onSubmit:qa,className:"mt-3 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:l,onChange:B=>o(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),ra.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",i.jsx("input",{value:d,onChange:B=>h(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:p,onChange:B=>y(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",i.jsx("input",{value:v,onChange:B=>_(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",ai.daily," | Mola ",ai.breakValue," | Tolerans ",ai.grace]}),i.jsx("div",{className:"md:col-span-4",children:i.jsx("button",{type:"submit",disabled:Lt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Lt.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),i.jsxs("form",{onSubmit:ba,className:"mt-3 grid gap-3 md:grid-cols-5",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:S,onChange:B=>w(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),ra.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",i.jsx("select",{value:C,onChange:B=>z(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:r0.map(B=>i.jsx("option",{value:B.value,children:B.label},B.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",i.jsx("input",{value:O,onChange:B=>F(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:R,onChange:B=>P(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:B=>A(B.target.checked)}),"Calisma Gunu"]}),i.jsx("div",{className:"md:col-span-5",children:i.jsx("button",{type:"submit",disabled:Kn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Kn.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Gun"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Planlanan Sure"}),i.jsx("th",{className:"py-2",children:"Mola"})]})}),i.jsx("tbody",{children:Us.map(B=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:r0.find(Re=>Re.value===B.weekday)?.label??B.weekday}),i.jsx("td",{className:"py-2",children:B.is_workday?"Calisma":"Off"}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.planned_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.break_minutes})})]},B.id))})]})})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),Z?i.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",Z]}):null,i.jsxs("form",{onSubmit:Br,className:"mt-3 grid gap-3 md:grid-cols-6",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:Q,onChange:B=>$(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),ra.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",i.jsx("input",{value:V,onChange:B=>G(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",i.jsx("input",{type:"time",value:K,onChange:B=>ie(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",i.jsx("input",{type:"time",value:pe,onChange:B=>ee(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",i.jsx("input",{value:oe,onChange:B=>ue(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:U,onChange:B=>le(B.target.checked)}),"Aktif"]}),i.jsx("div",{className:"md:col-span-6",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"submit",disabled:Bs.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Bs.isPending?"Kaydediliyor...":Z?"Vardiya Guncelle":"Vardiya Kaydet"}),Z?i.jsx("button",{type:"button",onClick:Ir,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Saat"}),i.jsx("th",{className:"py-2",children:"Mola"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),i.jsx("tbody",{children:la.map(B=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:B.name}),i.jsxs("td",{className:"py-2",children:[B.start_time_local," - ",B.end_time_local]}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.break_minutes})}),i.jsx("td",{className:"py-2",children:B.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2 text-right",children:i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>Ul(B),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),B.is_active?i.jsx("button",{type:"button",disabled:Is.isPending||Ua.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Is.mutate(B.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):i.jsx("button",{type:"button",disabled:Ua.isPending||Is.isPending,onClick:()=>Ua.mutate({shift:B,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},B.id))})]})})]}),i.jsxs(ze,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:_e,onChange:B=>Ke(B.target.checked)}),"Pasif planlari goster"]})]}),i.jsxs("form",{onSubmit:ji,className:"mt-4 grid gap-3 md:grid-cols-4",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",i.jsxs("select",{value:W,onChange:B=>{M(B.target.value),ge([]),Ge("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),ra.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",i.jsx("select",{value:ne,onChange:B=>{const Re=B.target.value;D(Re),Re==="DEPARTMENT"&&ge([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:NM.map(B=>i.jsx("option",{value:B.value,children:B.label},B.value))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",i.jsx("input",{type:"text",value:je,onChange:B=>Ae(B.target.value),disabled:ne==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),i.jsx("select",{multiple:!0,value:q.map(String),onChange:B=>{const Re=Array.from(B.target.selectedOptions).map(Nt=>Number(Nt.value));ge(Re.filter(Nt=>Number.isFinite(Nt)&&Nt>0))},disabled:ne==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:oa.map(B=>i.jsxs("option",{value:B.id,children:["#",B.id," - ",B.full_name]},B.id))}),i.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",i.jsxs("select",{value:qe,onChange:B=>Ge(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Seciniz"}),Zs.map(B=>i.jsxs("option",{value:B.id,children:[B.name," (",B.start_time_local," - ",B.end_time_local,")"]},B.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",i.jsx("input",{value:tt,onChange:B=>we(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",i.jsx("input",{value:ot,onChange:B=>vt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",i.jsx("input",{value:bt,onChange:B=>Kt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",i.jsx("input",{type:"date",value:Rt,onChange:B=>zt(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",i.jsx("input",{type:"date",value:ve,onChange:B=>We(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:J,onChange:B=>Ce(B.target.checked)}),"Vardiya kilitli"]}),i.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:Ve,onChange:B=>_t(B.target.checked)}),"Aktif"]}),i.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",i.jsx("input",{value:kt,onChange:B=>ut(B.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[i.jsx("button",{type:"submit",disabled:Za.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Za.isPending?"Kaydediliyor...":ce?"Plani Guncelle":"Plan Olustur"}),i.jsx("button",{type:"button",onClick:tn,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),i.jsx("div",{className:"mt-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Hedef"}),i.jsx("th",{className:"py-2",children:"Vardiya"}),i.jsx("th",{className:"py-2",children:"Plan/Mola"}),i.jsx("th",{className:"py-2",children:"Tarih Araligi"}),i.jsx("th",{className:"py-2",children:"Kilit"}),i.jsx("th",{className:"py-2",children:"Durum"}),i.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),i.jsx("tbody",{children:Dn.map(B=>{const Nt=(B.target_employee_ids&&B.target_employee_ids.length>0?B.target_employee_ids:B.target_employee_id?[B.target_employee_id]:[]).map(Rn=>Lr.get(Rn)??`#${Rn}`);return i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:jM[B.target_type]}),Nt.length>0?i.jsx("span",{className:"text-xs text-slate-500",children:Nt.join(", ")}):null]})}),i.jsx("td",{className:"py-2",children:B.shift_id?Pr.get(B.shift_id)??`#${B.shift_id}`:"-"}),i.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[i.jsxs("div",{children:["Plan: ",B.daily_minutes_planned!==null?`${B.daily_minutes_planned} dk`:"-"]}),i.jsxs("div",{children:["Mola: ",B.break_minutes!==null?`${B.break_minutes} dk`:"-"]}),i.jsxs("div",{children:["Tolerans: ",B.grace_minutes!==null?`${B.grace_minutes} dk`:"-"]})]}),i.jsxs("td",{className:"py-2",children:[B.start_date," - ",B.end_date]}),i.jsx("td",{className:"py-2",children:B.is_locked?"Kilitli":"Serbest"}),i.jsx("td",{className:"py-2",children:B.is_active?"Aktif":"Pasif"}),i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>mn(B),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),B.is_active?i.jsx("button",{type:"button",onClick:()=>ni.mutate(B.id),disabled:ni.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):i.jsx("button",{type:"button",onClick:()=>_a.mutate(B),disabled:_a.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},B.id)})})]})})]}),i.jsxs(ze,{children:[i.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-left text-sm",children:[i.jsx("thead",{className:"text-xs uppercase text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2",children:"Departman"}),i.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),i.jsx("th",{className:"py-2",children:"Mola Suresi"}),i.jsx("th",{className:"py-2",children:"Tolerans"})]})}),i.jsx("tbody",{children:Rr.map(B=>i.jsxs("tr",{className:"border-t border-slate-100",children:[i.jsx("td",{className:"py-2",children:Ni.get(B.department_id)??B.department_id}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.daily_minutes_planned})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.break_minutes})}),i.jsx("td",{className:"py-2",children:i.jsx(De,{minutes:B.grace_minutes})})]},B.id))})]})})]}),ct?i.jsx("p",{className:"form-validation",children:ct}):null]})}function EM(){return i.jsxs(mS,{children:[i.jsx(Zt,{element:i.jsx(B2,{}),children:i.jsx(Zt,{path:"/login",element:i.jsx(bz,{})})}),i.jsx(Zt,{path:"/device-claim",element:i.jsx(Z2,{})}),i.jsx(Zt,{path:"/archive-download",element:i.jsx(JA,{})}),i.jsx(Zt,{element:i.jsx(P2,{}),children:i.jsxs(Zt,{element:i.jsx(L2,{}),children:[i.jsx(Zt,{path:"/",element:i.jsx(Lf,{to:"/dashboard",replace:!0})}),i.jsx(Zt,{path:"/management-console",element:i.jsx(Ez,{})}),i.jsx(Zt,{path:"/dashboard",element:i.jsx(qA,{})}),i.jsx(Zt,{path:"/regions",element:i.jsx(aM,{})}),i.jsx(Zt,{path:"/departments",element:i.jsx(KA,{})}),i.jsx(Zt,{path:"/employees",element:i.jsx(gz,{})}),i.jsx(Zt,{path:"/employees/:id",element:i.jsx(uz,{})}),i.jsx(Zt,{path:"/quick-setup",element:i.jsx(nM,{})}),i.jsx(Zt,{path:"/work-rules",element:i.jsx(wM,{})}),i.jsx(Zt,{path:"/attendance-events",element:i.jsx(a1,{})}),i.jsx(Zt,{path:"/devices",element:i.jsx(GA,{})}),i.jsx(Zt,{path:"/compliance-settings",element:i.jsx(VA,{})}),i.jsx(Zt,{path:"/leaves",element:i.jsx(xz,{})}),i.jsx(Zt,{path:"/qr-kodlar",element:i.jsx(tM,{})}),i.jsx(Zt,{path:"/reports/employee-monthly",element:i.jsx(fz,{})}),i.jsx(Zt,{path:"/reports/department-summary",element:i.jsx(HA,{})}),i.jsx(Zt,{path:"/reports/excel-export",element:i.jsx(Tz,{})}),i.jsx(Zt,{path:"/notifications",element:i.jsx(lM,{})}),i.jsx(Zt,{path:"/audit-logs",element:i.jsx(xM,{})}),i.jsx(Zt,{path:"/admin-users",element:i.jsx(ez,{})})]})}),i.jsx(Zt,{path:"*",element:i.jsx(kz,{})})]})}const kM=new tj({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});zN.createRoot(document.getElementById("root")).render(i.jsx(jN.StrictMode,{children:i.jsx(nj,{client:kM,children:i.jsx(BS,{basename:"/admin-panel/",children:i.jsx(Y2,{children:i.jsx(O2,{children:i.jsx(EM,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
