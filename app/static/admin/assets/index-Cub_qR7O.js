(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=l(d);fetch(d.href,f)}})();function ad(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var of={exports:{}},Uo={};var Hy;function hN(){if(Hy)return Uo;Hy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,d,f){var p=null;if(f!==void 0&&(p=""+f),d.key!==void 0&&(p=""+d.key),"key"in d){f={};for(var x in d)x!=="key"&&(f[x]=d[x])}else f=d;return d=f.ref,{$$typeof:t,type:o,key:p,ref:d!==void 0?d:null,props:f}}return Uo.Fragment=a,Uo.jsx=l,Uo.jsxs=l,Uo}var Ky;function fN(){return Ky||(Ky=1,of.exports=hN()),of.exports}var r=fN(),uf={exports:{}},We={};var Qy;function mN(){if(Qy)return We;Qy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function F(O,ie,R){this.props=O,this.context=ie,this.refs=M,this.updater=R||C}F.prototype.isReactComponent={},F.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=F.prototype;function U(O,ie,R){this.props=O,this.context=ie,this.refs=M,this.updater=R||C}var K=U.prototype=new B;K.constructor=U,A(K,F.prototype),K.isPureReactComponent=!0;var $=Array.isArray;function G(){}var W={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function X(O,ie,R){var H=R.ref;return{$$typeof:t,type:O,key:ie,ref:H!==void 0?H:null,props:R}}function ve(O,ie){return X(O.type,ie,O.props)}function ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function ce(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(R){return ie[R]})}var oe=/\/+/g;function q(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?ce(""+O.key):ie.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(G,G):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,ie,R,H,ge){var J=typeof O;(J==="undefined"||J==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(J){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case t:case a:Te=!0;break;case j:return Te=O._init,Z(Te(O._payload),ie,R,H,ge)}}if(Te)return ge=ge(O),Te=H===""?"."+q(O,0):H,$(ge)?(R="",Te!=null&&(R=Te.replace(oe,"$&/")+"/"),Z(ge,ie,R,"",function(dt){return dt})):ge!=null&&(ae(ge)&&(ge=ve(ge,R+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(oe,"$&/")+"/")+Te)),ie.push(ge)),1;Te=0;var Be=H===""?".":H+":";if($(O))for(var Ze=0;Ze<O.length;Ze++)H=O[Ze],J=Be+q(H,Ze),Te+=Z(H,ie,R,J,ge);else if(Ze=z(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(H=O.next()).done;)H=H.value,J=Be+q(H,Ze++),Te+=Z(H,ie,R,J,ge);else if(J==="object"){if(typeof O.then=="function")return Z(le(O),ie,R,H,ge);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Te}function re(O,ie,R){if(O==null)return O;var H=[],ge=0;return Z(O,H,"","",function(J){return ie.call(R,J,ge++)}),H}function de(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(R){(O._status===0||O._status===-1)&&(O._status=1,O._result=R)},function(R){(O._status===0||O._status===-1)&&(O._status=2,O._result=R)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ee={map:re,forEach:function(O,ie,R){re(O,function(){ie.apply(this,arguments)},R)},count:function(O){var ie=0;return re(O,function(){ie++}),ie},toArray:function(O){return re(O,function(ie){return ie})||[]},only:function(O){if(!ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return We.Activity=w,We.Children=ee,We.Component=F,We.Fragment=l,We.Profiler=d,We.PureComponent=U,We.StrictMode=o,We.Suspense=v,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,We.__COMPILER_RUNTIME={__proto__:null,c:function(O){return W.H.useMemoCache(O)}},We.cache=function(O){return function(){return O.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(O,ie,R){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var H=A({},O.props),ge=O.key;if(ie!=null)for(J in ie.key!==void 0&&(ge=""+ie.key),ie)!Y.call(ie,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ie.ref===void 0||(H[J]=ie[J]);var J=arguments.length-2;if(J===1)H.children=R;else if(1<J){for(var Te=Array(J),Be=0;Be<J;Be++)Te[Be]=arguments[Be+2];H.children=Te}return X(O.type,ge,H)},We.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},We.createElement=function(O,ie,R){var H,ge={},J=null;if(ie!=null)for(H in ie.key!==void 0&&(J=""+ie.key),ie)Y.call(ie,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ge[H]=ie[H]);var Te=arguments.length-2;if(Te===1)ge.children=R;else if(1<Te){for(var Be=Array(Te),Ze=0;Ze<Te;Ze++)Be[Ze]=arguments[Ze+2];ge.children=Be}if(O&&O.defaultProps)for(H in Te=O.defaultProps,Te)ge[H]===void 0&&(ge[H]=Te[H]);return X(O,J,ge)},We.createRef=function(){return{current:null}},We.forwardRef=function(O){return{$$typeof:x,render:O}},We.isValidElement=ae,We.lazy=function(O){return{$$typeof:j,_payload:{_status:-1,_result:O},_init:de}},We.memo=function(O,ie){return{$$typeof:_,type:O,compare:ie===void 0?null:ie}},We.startTransition=function(O){var ie=W.T,R={};W.T=R;try{var H=O(),ge=W.S;ge!==null&&ge(R,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(G,Ee)}catch(J){Ee(J)}finally{ie!==null&&R.types!==null&&(ie.types=R.types),W.T=ie}},We.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},We.use=function(O){return W.H.use(O)},We.useActionState=function(O,ie,R){return W.H.useActionState(O,ie,R)},We.useCallback=function(O,ie){return W.H.useCallback(O,ie)},We.useContext=function(O){return W.H.useContext(O)},We.useDebugValue=function(){},We.useDeferredValue=function(O,ie){return W.H.useDeferredValue(O,ie)},We.useEffect=function(O,ie){return W.H.useEffect(O,ie)},We.useEffectEvent=function(O){return W.H.useEffectEvent(O)},We.useId=function(){return W.H.useId()},We.useImperativeHandle=function(O,ie,R){return W.H.useImperativeHandle(O,ie,R)},We.useInsertionEffect=function(O,ie){return W.H.useInsertionEffect(O,ie)},We.useLayoutEffect=function(O,ie){return W.H.useLayoutEffect(O,ie)},We.useMemo=function(O,ie){return W.H.useMemo(O,ie)},We.useOptimistic=function(O,ie){return W.H.useOptimistic(O,ie)},We.useReducer=function(O,ie,R){return W.H.useReducer(O,ie,R)},We.useRef=function(O){return W.H.useRef(O)},We.useState=function(O){return W.H.useState(O)},We.useSyncExternalStore=function(O,ie,R){return W.H.useSyncExternalStore(O,ie,R)},We.useTransition=function(){return W.H.useTransition()},We.version="19.2.4",We}var Vy;function vm(){return Vy||(Vy=1,uf.exports=mN()),uf.exports}var S=vm();const pN=ad(S);var cf={exports:{}},Zo={},df={exports:{}},hf={};var Gy;function gN(){return Gy||(Gy=1,(function(t){function a(Z,re){var de=Z.length;Z.push(re);e:for(;0<de;){var Ee=de-1>>>1,ee=Z[Ee];if(0<d(ee,re))Z[Ee]=re,Z[de]=ee,de=Ee;else break e}}function l(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var re=Z[0],de=Z.pop();if(de!==re){Z[0]=de;e:for(var Ee=0,ee=Z.length,O=ee>>>1;Ee<O;){var ie=2*(Ee+1)-1,R=Z[ie],H=ie+1,ge=Z[H];if(0>d(R,de))H<ee&&0>d(ge,R)?(Z[Ee]=ge,Z[H]=de,Ee=H):(Z[Ee]=R,Z[ie]=de,Ee=ie);else if(H<ee&&0>d(ge,de))Z[Ee]=ge,Z[H]=de,Ee=H;else break e}}return re}function d(Z,re){var de=Z.sortIndex-re.sortIndex;return de!==0?de:Z.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var p=Date,x=p.now();t.unstable_now=function(){return p.now()-x}}var v=[],_=[],j=1,w=null,k=3,z=!1,C=!1,A=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(Z){for(var re=l(_);re!==null;){if(re.callback===null)o(_);else if(re.startTime<=Z)o(_),re.sortIndex=re.expirationTime,a(v,re);else break;re=l(_)}}function $(Z){if(A=!1,K(Z),!C)if(l(v)!==null)C=!0,G||(G=!0,ce());else{var re=l(_);re!==null&&le($,re.startTime-Z)}}var G=!1,W=-1,Y=5,X=-1;function ve(){return M?!0:!(t.unstable_now()-X<Y)}function ae(){if(M=!1,G){var Z=t.unstable_now();X=Z;var re=!0;try{e:{C=!1,A&&(A=!1,B(W),W=-1),z=!0;var de=k;try{t:{for(K(Z),w=l(v);w!==null&&!(w.expirationTime>Z&&ve());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,k=w.priorityLevel;var ee=Ee(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof ee=="function"){w.callback=ee,K(Z),re=!0;break t}w===l(v)&&o(v),K(Z)}else o(v);w=l(v)}if(w!==null)re=!0;else{var O=l(_);O!==null&&le($,O.startTime-Z),re=!1}}break e}finally{w=null,k=de,z=!1}re=void 0}}finally{re?ce():G=!1}}}var ce;if(typeof U=="function")ce=function(){U(ae)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,q=oe.port2;oe.port1.onmessage=ae,ce=function(){q.postMessage(null)}}else ce=function(){F(ae,0)};function le(Z,re){W=F(function(){Z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_next=function(Z){switch(k){case 1:case 2:case 3:var re=3;break;default:re=k}var de=k;k=re;try{return Z()}finally{k=de}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=k;k=Z;try{return re()}finally{k=de}},t.unstable_scheduleCallback=function(Z,re,de){var Ee=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,Z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=de+ee,Z={id:j++,callback:re,priorityLevel:Z,startTime:de,expirationTime:ee,sortIndex:-1},de>Ee?(Z.sortIndex=de,a(_,Z),l(v)===null&&Z===l(_)&&(A?(B(W),W=-1):A=!0,le($,de-Ee))):(Z.sortIndex=ee,a(v,Z),C||z||(C=!0,G||(G=!0,ce()))),Z},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(Z){var re=k;return function(){var de=k;k=re;try{return Z.apply(this,arguments)}finally{k=de}}}})(hf)),hf}var Yy;function yN(){return Yy||(Yy=1,df.exports=gN()),df.exports}var ff={exports:{}},Pn={};var $y;function xN(){if($y)return Pn;$y=1;var t=vm();function a(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)_+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(v,_,j){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:_,implementation:j}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Pn.createPortal=function(v,_){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(a(299));return f(v,_,null,j)},Pn.flushSync=function(v){var _=p.T,j=o.p;try{if(p.T=null,o.p=2,v)return v()}finally{p.T=_,o.p=j,o.d.f()}},Pn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},Pn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Pn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var j=_.as,w=x(j,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;j==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:k,fetchPriority:z}):j==="script"&&o.d.X(v,{crossOrigin:w,integrity:k,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Pn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var j=x(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:j,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},Pn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var j=_.as,w=x(j,_.crossOrigin);o.d.L(v,j,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Pn.preloadModule=function(v,_){if(typeof v=="string")if(_){var j=x(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:j,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},Pn.requestFormReset=function(v){o.d.r(v)},Pn.unstable_batchedUpdates=function(v,_){return v(_)},Pn.useFormState=function(v,_,j){return p.H.useFormState(v,_,j)},Pn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Pn.version="19.2.4",Pn}var Xy;function vN(){if(Xy)return ff.exports;Xy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),ff.exports=xN(),ff.exports}var Jy;function _N(){if(Jy)return Zo;Jy=1;var t=yN(),a=vm(),l=vN();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(o(188))}function _(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(o(188));return n!==e?null:e}for(var s=e,c=n;;){var m=s.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){s=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===s)return v(m),e;if(g===c)return v(m),n;g=g.sibling}throw Error(o(188))}if(s.return!==c.return)s=m,c=g;else{for(var N=!1,T=m.child;T;){if(T===s){N=!0,s=m,c=g;break}if(T===c){N=!0,c=m,s=g;break}T=T.sibling}if(!N){for(T=g.child;T;){if(T===s){N=!0,s=g,c=m;break}if(T===c){N=!0,c=g,s=m;break}T=T.sibling}if(!N)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:n}function j(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=j(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,k=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case F:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case U:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:q(e.type)||"Memo";case Y:n=e._payload,e=e._init;try{return q(e(n))}catch{}}return null}var le=Array.isArray,Z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],ee=-1;function O(e){return{current:e}}function ie(e){0>ee||(e.current=Ee[ee],Ee[ee]=null,ee--)}function R(e,n){ee++,Ee[ee]=e.current,e.current=n}var H=O(null),ge=O(null),J=O(null),Te=O(null);function Be(e,n){switch(R(J,n),R(ge,e),R(H,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fy(n),e=my(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(H),R(H,e)}function Ze(){ie(H),ie(ge),ie(J)}function dt(e){e.memoizedState!==null&&R(Te,e);var n=H.current,s=my(n,e.type);n!==s&&(R(ge,e),R(H,s))}function at(e){ge.current===e&&(ie(H),ie(ge)),Te.current===e&&(ie(Te),Do._currentValue=de)}var Ut,Lt;function Gt(e){if(Ut===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ut=n&&n[1]||"",Lt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+e+Lt}var an=!1;function Yt(e,n){if(!e||an)return"";an=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ye){var pe=ye}Reflect.construct(e,[],we)}else{try{we.call()}catch(ye){pe=ye}e.call(we.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(we=e())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),N=g[0],T=g[1];if(N&&T){var I=N.split(`
`),fe=T.split(`
`);for(m=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;m<fe.length&&!fe[m].includes("DetermineComponentFrameRoot");)m++;if(c===I.length||m===fe.length)for(c=I.length-1,m=fe.length-1;1<=c&&0<=m&&I[c]!==fe[m];)m--;for(;1<=c&&0<=m;c--,m--)if(I[c]!==fe[m]){if(c!==1||m!==1)do if(c--,m--,0>m||I[c]!==fe[m]){var be=`
`+I[c].replace(" at new "," at ");return e.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",e.displayName)),be}while(1<=c&&0<=m);break}}}finally{an=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gt(s):""}function ln(e,n){switch(e.tag){case 26:case 27:case 5:return Gt(e.type);case 16:return Gt("Lazy");case 13:return e.child!==n&&n!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Yt(e.type,!1);case 11:return Yt(e.type.render,!1);case 1:return Yt(e.type,!0);case 31:return Gt("Activity");default:return""}}function on(e){try{var n="",s=null;do n+=ln(e,s),s=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var bn=Object.prototype.hasOwnProperty,te=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,Ge=t.unstable_shouldYield,At=t.unstable_requestPaint,Ye=t.unstable_now,_e=t.unstable_getCurrentPriorityLevel,V=t.unstable_ImmediatePriority,Oe=t.unstable_UserBlockingPriority,jt=t.unstable_NormalPriority,$e=t.unstable_LowPriority,pn=t.unstable_IdlePriority,ue=t.log,Xe=t.unstable_setDisableYieldValue,yt=null,Dt=null;function On(e){if(typeof ue=="function"&&Xe(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(yt,e)}catch{}}var gn=Math.clz32?Math.clz32:Bs,Ba=Math.log,Ps=Math.LN2;function Bs(e){return e>>>=0,e===0?32:31-(Ba(e)/Ps|0)|0}var Ia=256,Ua=262144,Wa=4194304;function va(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?m=va(c):(N&=T,N!==0?m=va(N):s||(s=T&~e,s!==0&&(m=va(s))))):(T=c&~g,T!==0?m=va(T):N!==0?m=va(N):s||(s=c&~e,s!==0&&(m=va(s)))),m===0?0:n!==0&&n!==m&&(n&g)===0&&(g=m&-m,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:m}function sa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(){var e=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),e}function Is(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ra(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Il(e,n,s,c,m,g){var N=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,fe=e.hiddenUpdates;for(s=N&~s;0<s;){var be=31-gn(s),we=1<<be;T[be]=0,I[be]=-1;var pe=fe[be];if(pe!==null)for(fe[be]=null,be=0;be<pe.length;be++){var ye=pe[be];ye!==null&&(ye.lane&=-536870913)}s&=~we}c!==0&&_i(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~n))}function _i(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-gn(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function Lr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-gn(s),m=1<<c;m&n|e[c]&n&&(e[c]|=n),s&=~m}}function Dr(e,n){var s=n&-n;return s=(s&42)!==0?1:Mn(s),(s&(e.suspendedLanes|n))!==0?0:s}function Mn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Us(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:Py(e.type))}function Vi(e,n){var s=re.p;try{return re.p=e,n()}finally{re.p=s}}var la=Math.random().toString(36).slice(2),$t="__reactFiber$"+la,un="__reactProps$"+la,Za="__reactContainer$"+la,_a="__reactEvents$"+la,Pr="__reactListeners$"+la,Ul="__reactHandles$"+la,Br="__reactResources$"+la,bi="__reactMarker$"+la;function D(e){delete e[$t],delete e[un],delete e[_a],delete e[Pr],delete e[Ul]}function Me(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Za]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=by(e);e!==null;){if(s=e[$t])return s;e=by(e)}return n}e=s,s=e.parentNode}return null}function ht(e){if(e=e[$t]||e[Za]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Rn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function qa(e){var n=e[Br];return n||(n=e[Br]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Kt(e){e[bi]=!0}var Zs=new Set,ou={};function Ni(e,n){ti(e,n),ti(e+"Capture",n)}function ti(e,n){for(ou[e]=n,e=0;e<n.length;e++)Zs.add(n[e])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},ql={};function Fs(e){return bn.call(ql,e)?!0:bn.call(Zl,e)?!1:qs.test(e)?ql[e]=!0:(Zl[e]=!0,!1)}function it(e,n,s){if(Fs(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function wt(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Kn(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Si(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(e,n,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){s=""+N,g.call(this,N)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(N){s=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Je(e){if(!e._valueTracker){var n=Si(e)?"checked":"value";e._valueTracker=Fl(e,n,""+e[n])}}function Zt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=Si(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function Gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function Pt(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hl(e,n,s,c,m,g,N,T){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Fa(e,N,yn(n)):s!=null?Fa(e,N,yn(s)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+yn(T):e.removeAttribute("name")}function Hs(e,n,s,c,m,g,N,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){Je(e);return}s=s!=null?""+yn(s):"",n=n!=null?""+yn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Je(e)}function Fa(e,n,s){n==="number"&&Gi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function zt(e,n,s,c){if(e=e.options,n){n={};for(var m=0;m<s.length;m++)n["$"+s[m]]=!0;for(s=0;s<e.length;s++)m=n.hasOwnProperty("$"+e[s].value),e[s].selected!==m&&(e[s].selected=m),m&&c&&(e[s].defaultSelected=!0)}else{for(s=""+yn(s),n=null,m=0;m<e.length;m++){if(e[m].value===s){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function ni(e,n,s){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+yn(s):""}function Yi(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(o(92));if(le(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=yn(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),Je(e)}function ba(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $i(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||Kl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ur(e,n,s){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&s[m]!==c&&$i(e,m,c)}else for(var g in n)n.hasOwnProperty(g)&&$i(e,g,n[g])}function Ks(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return Ql.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var qr=null;function Qs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,Qe=null;function oa(e){var n=ht(e);if(n&&(e=n.stateNode)){var s=e[un]||null;e:switch(e=n.stateNode,n.type){case"input":if(Hl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Pt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var m=c[un]||null;if(!m)throw Error(o(90));Hl(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&Zt(c)}break e;case"textarea":ni(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&zt(e,!!s.multiple,n,!1)}}}var vt=!1;function Vl(e,n,s){if(vt)return e(n,s);vt=!0;try{var c=e(n);return c}finally{if(vt=!1,(Ji!==null||Qe!==null)&&(ic(),Ji&&(n=Ji,e=Qe,Qe=Ji=null,oa(n),e)))for(n=0;n<e.length;n++)oa(e[n])}}function ji(e,n){var s=e.stateNode;if(s===null)return null;var c=s[un]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,n,typeof s));return s}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(ua)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Vs=!1}var Na=null,wi=null,Xt=null;function ai(){if(Xt)return Xt;var e,n=wi,s=n.length,c,m="value"in Na?Na.value:Na.textContent,g=m.length;for(e=0;e<s&&n[e]===m[e];e++);var N=s-e;for(c=1;c<=N&&n[s-c]===m[g-c];c++);return Xt=m.slice(e,1<c?1-c:void 0)}function Gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function uu(){return!1}function En(e){function n(s,c,m,g,N){this._reactName=s,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ys:uu,this.isPropagationStopped=uu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),n}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=En(Ha),Wi=w({},Ha,{view:0,detail:0}),ot=En(Wi),Gl,Un,Ka,$s=w({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(Gl=e.screenX-Ka.screenX,Un=e.screenY-Ka.screenY):Un=Gl=0,Ka=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Un}}),cu=En($s),Yl=w({},$s,{dataTransfer:0}),yd=En(Yl),du=w({},Wi,{relatedTarget:0}),$l=En(du),xd=w({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=En(xd),vd=w({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sa=En(vd),_d=w({},Ha,{data:0}),Jl=En(_d),ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function eo(){return Wl}var mu=w({},Wi,{key:function(e){if(e.key){var n=ii[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?Gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=En(mu),bd=w({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=En(bd),to=w({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Nd=En(to),yu=w({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=En(yu),Hr=w({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ei=En(Hr),Sd=w({},Ha,{newState:0,oldState:0}),Xs=En(Sd),Vn=[9,13,27,32],Kr=ua&&"CompositionEvent"in window,es=null;ua&&"documentMode"in document&&(es=document.documentMode);var jd=ua&&"TextEvent"in window&&!es,Qr=ua&&(!Kr||es&&8<es&&11>=es),Vr=" ",vu=!1;function _u(e,n){switch(e){case"keyup":return Vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function da(e,n){switch(e){case"compositionend":return no(n);case"keypress":return n.which!==32?null:(vu=!0,Vr);case"textInput":return e=n.data,e===Vr&&vu?null:e;default:return null}}function ns(e,n){if(ts)return e==="compositionend"||!Kr&&_u(e,n)?(e=ai(),Xt=wi=Na=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qr&&n.locale!=="ko"?null:n.data;default:return null}}var wd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ja(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wd[e.type]:n==="textarea"}function bu(e,n,s,c){Ji?Qe?Qe.push(c):Qe=[c]:Ji=c,n=dc(n,"onChange"),0<n.length&&(s=new Fr("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var wa=null,Js=null;function Ws(e){ly(e,0)}function er(e){var n=Rn(e);if(Zt(n))return e}function tr(e,n){if(e==="change")return n}var Nu=!1;if(ua){var Ea;if(ua){var as="oninput"in document;if(!as){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),as=typeof Su.oninput=="function"}Ea=as}else Ea=!1;Nu=Ea&&(!document.documentMode||9<document.documentMode)}function Gr(){wa&&(wa.detachEvent("onpropertychange",ju),Js=wa=null)}function ju(e){if(e.propertyName==="value"&&er(Js)){var n=[];bu(n,Js,e,Qs(e)),Vl(Ws,n)}}function Qa(e,n,s){e==="focusin"?(Gr(),wa=n,Js=s,wa.attachEvent("onpropertychange",ju)):e==="focusout"&&Gr()}function Ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return er(Js)}function is(e,n){if(e==="click")return er(n)}function Td(e,n){if(e==="input"||e==="change")return er(n)}function Va(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:Va;function ss(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var m=s[c];if(!bn.call(n,m)||!Nn(e[m],n[m]))return!1}return!0}function Yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,n){var s=Yr(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yr(s)}}function $r(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?$r(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ar(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Gi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Gi(e.document)}return n}function si(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Xr=ua&&"documentMode"in document&&11>=document.documentMode,ri=null,Jr=null,ir=null,rs=!1;function wu(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rs||ri==null||ri!==Gi(c)||(c=ri,"selectionStart"in c&&si(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ir&&ss(ir,c)||(ir=c,c=dc(Jr,"onSelect"),0<c.length&&(n=new Fr("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=ri)))}function li(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ls={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Wr={},Eu={};ua&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Sn(e){if(Wr[e])return Wr[e];if(!ls[e])return e;var n=ls[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Eu)return Wr[e]=n[s];return e}var sr=Sn("animationend"),Tu=Sn("animationiteration"),rr=Sn("animationstart"),kd=Sn("transitionrun"),ku=Sn("transitionstart"),Cd=Sn("transitioncancel"),os=Sn("transitionend"),Cu=new Map,oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oi.push("scrollEnd");function Gn(e,n){Cu.set(e,n),Ni(n,[e])}var lr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yn=[],Ln=0,el=0;function or(){for(var e=Ln,n=el=Ln=0;n<e;){var s=Yn[n];Yn[n++]=null;var c=Yn[n];Yn[n++]=null;var m=Yn[n];Yn[n++]=null;var g=Yn[n];if(Yn[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}g!==0&&us(s,m,g)}}function ui(e,n,s,c){Yn[Ln++]=e,Yn[Ln++]=n,Yn[Ln++]=s,Yn[Ln++]=c,el|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ao(e,n,s,c){return ui(e,n,s,c),ur(e)}function Ta(e,n){return ui(e,null,null,n),ur(e)}function us(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var m=!1,g=e.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&n!==null&&(m=31-gn(s),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=s|536870912),g):null}function ur(e){if(50<Co)throw Co=0,zh=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ti={};function Ad(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,n,s,c){return new Ad(e,n,s,c)}function tl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ka(e,n){var s=e.alternate;return s===null?(s=Dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function io(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function cr(e,n,s,c,m,g){var N=0;if(c=e,typeof e=="function")tl(e)&&(N=1);else if(typeof e=="string")N=eN(e,s,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Dn(31,s,n,m),e.elementType=X,e.lanes=g,e;case A:return ki(s.children,m,g,n);case M:N=8,m|=24;break;case F:return e=Dn(12,s,n,m|2),e.elementType=F,e.lanes=g,e;case $:return e=Dn(13,s,n,m),e.elementType=$,e.lanes=g,e;case G:return e=Dn(19,s,n,m),e.elementType=G,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:N=10;break e;case B:N=9;break e;case K:N=11;break e;case W:N=14;break e;case Y:N=16,c=null;break e}N=29,s=Error(o(130,e===null?"null":typeof e,"")),c=null}return n=Dn(N,s,n,m),n.elementType=e,n.type=c,n.lanes=g,n}function ki(e,n,s,c){return e=Dn(7,e,c,n),e.lanes=s,e}function nl(e,n,s){return e=Dn(6,e,null,n),e.lanes=s,e}function so(e){var n=Dn(18,null,null,0);return n.stateNode=e,n}function ro(e,n,s){return n=Dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var i=new WeakMap;function u(e,n){if(typeof e=="object"&&e!==null){var s=i.get(e);return s!==void 0?s:(n={value:e,source:n,stack:on(n)},i.set(e,n),n)}return{value:e,source:n,stack:on(n)}}var h=[],y=0,b=null,E=0,P=[],se=0,me=null,je=1,Ce="";function Ie(e,n){h[y++]=E,h[y++]=b,b=e,E=n}function tt(e,n,s){P[se++]=je,P[se++]=Ce,P[se++]=me,me=e;var c=je;e=Ce;var m=32-gn(c)-1;c&=~(1<<m),s+=1;var g=32-gn(n)+m;if(30<g){var N=m-m%5;g=(c&(1<<N)-1).toString(32),c>>=N,m-=N,je=1<<32-gn(n)+m|s<<m|c,Ce=g+e}else je=1<<g|s<<m|c,Ce=e}function xn(e){e.return!==null&&(Ie(e,1),tt(e,1,0))}function Jt(e){for(;e===b;)b=h[--y],h[y]=null,E=h[--y],h[y]=null;for(;e===me;)me=P[--se],P[se]=null,Ce=P[--se],P[se]=null,je=P[--se],P[se]=null}function Zn(e,n){P[se++]=je,P[se++]=Ce,P[se++]=me,je=n.id,Ce=n.overflow,me=e}var ft=null,mt=null,st=!1,ci=null,$n=!1,al=Error(o(519));function di(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dr(u(n,e)),al}function lo(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[$t]=e,n[un]=c,s){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(s=0;s<zo.length;s++)lt(zo[s],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":lt("invalid",n),Hs(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":lt("invalid",n);break;case"textarea":lt("invalid",n),Yi(n,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||dy(n.textContent,s)?(c.popover!=null&&(lt("beforetoggle",n),lt("toggle",n)),c.onScroll!=null&&lt("scroll",n),c.onScrollEnd!=null&&lt("scrollend",n),c.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||di(e,!0)}function Qt(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:ft=ft.return}}function Ga(e){if(e!==ft)return!1;if(!st)return Qt(e),st=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qh(e.type,e.memoizedProps)),s=!s),s&&mt&&di(e),Qt(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));mt=_y(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));mt=_y(e)}else n===27?(n=mt,Ss(e.type)?(e=Xh,Xh=null,mt=e):mt=n):mt=ft?Aa(e.stateNode.nextSibling):null;return!0}function Ci(){mt=ft=null,st=!1}function oo(){var e=ci;return e!==null&&(ea===null?ea=e:ea.push.apply(ea,e),ci=null),e}function dr(e){ci===null?ci=[e]:ci.push(e)}var hr=O(null),hi=null,Ya=null;function cs(e,n,s){R(hr,n._currentValue),n._currentValue=s}function Ai(e){e._currentValue=hr.current,ie(hr)}function zd(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Od(e,n,s,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var N=m.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=m;for(var I=0;I<n.length;I++)if(T.context===n[I]){g.lanes|=s,T=g.alternate,T!==null&&(T.lanes|=s),zd(g.return,s,e),c||(N=null);break e}g=T.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(o(341));N.lanes|=s,g=N.alternate,g!==null&&(g.lanes|=s),zd(N,s,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function il(e,n,s,c){e=null;for(var m=n,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var T=m.type;Nn(m.pendingProps.value,N.value)||(e!==null?e.push(T):e=[T])}}else if(m===Te.current){if(N=m.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Do):e=[Do])}m=m.return}e!==null&&Od(n,e,s,c),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fr(e){hi=e,Ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tn(e){return $m(hi,e)}function zu(e,n){return hi===null&&fr(e),$m(e,n)}function $m(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ya===null){if(e===null)throw Error(o(308));Ya=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ya=Ya.next=n;return s}var $_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},X_=t.unstable_scheduleCallback,J_=t.unstable_NormalPriority,cn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new $_,data:new Map,refCount:0}}function uo(e){e.refCount--,e.refCount===0&&X_(J_,function(){e.controller.abort()})}var co=null,Rd=0,sl=0,rl=null;function W_(e,n){if(co===null){var s=co=[];Rd=0,sl=Ph(),rl={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Rd++,n.then(Xm,Xm),n}function Xm(){if(--Rd===0&&co!==null){rl!==null&&(rl.status="fulfilled");var e=co;co=null,sl=0,rl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function eb(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<s.length;m++)(0,s[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),c}var Jm=Z.S;Z.S=function(e,n){Lg=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W_(e,n),Jm!==null&&Jm(e,n)};var mr=O(null);function Ld(){var e=mr.current;return e!==null?e:Ot.pooledCache}function Ou(e,n){n===null?R(mr,mr.current):R(mr,n.pool)}function Wm(){var e=Ld();return e===null?null:{parent:cn._currentValue,pool:e}}var ll=Error(o(460)),Dd=Error(o(474)),Mu=Error(o(542)),Ru={then:function(){}};function ep(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=Ot,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e}throw gr=n,ll}}function pr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(gr=s,ll):s}}var gr=null;function np(){if(gr===null)throw Error(o(459));var e=gr;return gr=null,e}function ap(e){if(e===ll||e===Mu)throw Error(o(483))}var ol=null,ho=0;function Lu(e){var n=ho;return ho+=1,ol===null&&(ol=[]),tp(ol,e,n)}function fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===k?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ip(e){function n(ne,Q){if(e){var he=ne.deletions;he===null?(ne.deletions=[Q],ne.flags|=16):he.push(Q)}}function s(ne,Q){if(!e)return null;for(;Q!==null;)n(ne,Q),Q=Q.sibling;return null}function c(ne){for(var Q=new Map;ne!==null;)ne.key!==null?Q.set(ne.key,ne):Q.set(ne.index,ne),ne=ne.sibling;return Q}function m(ne,Q){return ne=ka(ne,Q),ne.index=0,ne.sibling=null,ne}function g(ne,Q,he){return ne.index=he,e?(he=ne.alternate,he!==null?(he=he.index,he<Q?(ne.flags|=67108866,Q):he):(ne.flags|=67108866,Q)):(ne.flags|=1048576,Q)}function N(ne){return e&&ne.alternate===null&&(ne.flags|=67108866),ne}function T(ne,Q,he,Ne){return Q===null||Q.tag!==6?(Q=nl(he,ne.mode,Ne),Q.return=ne,Q):(Q=m(Q,he),Q.return=ne,Q)}function I(ne,Q,he,Ne){var qe=he.type;return qe===A?be(ne,Q,he.props.children,Ne,he.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Y&&pr(qe)===Q.type)?(Q=m(Q,he.props),fo(Q,he),Q.return=ne,Q):(Q=cr(he.type,he.key,he.props,null,ne.mode,Ne),fo(Q,he),Q.return=ne,Q)}function fe(ne,Q,he,Ne){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==he.containerInfo||Q.stateNode.implementation!==he.implementation?(Q=ro(he,ne.mode,Ne),Q.return=ne,Q):(Q=m(Q,he.children||[]),Q.return=ne,Q)}function be(ne,Q,he,Ne,qe){return Q===null||Q.tag!==7?(Q=ki(he,ne.mode,Ne,qe),Q.return=ne,Q):(Q=m(Q,he),Q.return=ne,Q)}function we(ne,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=nl(""+Q,ne.mode,he),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return he=cr(Q.type,Q.key,Q.props,null,ne.mode,he),fo(he,Q),he.return=ne,he;case C:return Q=ro(Q,ne.mode,he),Q.return=ne,Q;case Y:return Q=pr(Q),we(ne,Q,he)}if(le(Q)||ce(Q))return Q=ki(Q,ne.mode,he,null),Q.return=ne,Q;if(typeof Q.then=="function")return we(ne,Lu(Q),he);if(Q.$$typeof===U)return we(ne,zu(ne,Q),he);Du(ne,Q)}return null}function pe(ne,Q,he,Ne){var qe=Q!==null?Q.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return qe!==null?null:T(ne,Q,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case z:return he.key===qe?I(ne,Q,he,Ne):null;case C:return he.key===qe?fe(ne,Q,he,Ne):null;case Y:return he=pr(he),pe(ne,Q,he,Ne)}if(le(he)||ce(he))return qe!==null?null:be(ne,Q,he,Ne,null);if(typeof he.then=="function")return pe(ne,Q,Lu(he),Ne);if(he.$$typeof===U)return pe(ne,Q,zu(ne,he),Ne);Du(ne,he)}return null}function ye(ne,Q,he,Ne,qe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ne=ne.get(he)||null,T(Q,ne,""+Ne,qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case z:return ne=ne.get(Ne.key===null?he:Ne.key)||null,I(Q,ne,Ne,qe);case C:return ne=ne.get(Ne.key===null?he:Ne.key)||null,fe(Q,ne,Ne,qe);case Y:return Ne=pr(Ne),ye(ne,Q,he,Ne,qe)}if(le(Ne)||ce(Ne))return ne=ne.get(he)||null,be(Q,ne,Ne,qe,null);if(typeof Ne.then=="function")return ye(ne,Q,he,Lu(Ne),qe);if(Ne.$$typeof===U)return ye(ne,Q,he,zu(Q,Ne),qe);Du(Q,Ne)}return null}function Le(ne,Q,he,Ne){for(var qe=null,pt=null,Pe=Q,nt=Q=0,ct=null;Pe!==null&&nt<he.length;nt++){Pe.index>nt?(ct=Pe,Pe=null):ct=Pe.sibling;var gt=pe(ne,Pe,he[nt],Ne);if(gt===null){Pe===null&&(Pe=ct);break}e&&Pe&&gt.alternate===null&&n(ne,Pe),Q=g(gt,Q,nt),pt===null?qe=gt:pt.sibling=gt,pt=gt,Pe=ct}if(nt===he.length)return s(ne,Pe),st&&Ie(ne,nt),qe;if(Pe===null){for(;nt<he.length;nt++)Pe=we(ne,he[nt],Ne),Pe!==null&&(Q=g(Pe,Q,nt),pt===null?qe=Pe:pt.sibling=Pe,pt=Pe);return st&&Ie(ne,nt),qe}for(Pe=c(Pe);nt<he.length;nt++)ct=ye(Pe,ne,nt,he[nt],Ne),ct!==null&&(e&&ct.alternate!==null&&Pe.delete(ct.key===null?nt:ct.key),Q=g(ct,Q,nt),pt===null?qe=ct:pt.sibling=ct,pt=ct);return e&&Pe.forEach(function(ks){return n(ne,ks)}),st&&Ie(ne,nt),qe}function He(ne,Q,he,Ne){if(he==null)throw Error(o(151));for(var qe=null,pt=null,Pe=Q,nt=Q=0,ct=null,gt=he.next();Pe!==null&&!gt.done;nt++,gt=he.next()){Pe.index>nt?(ct=Pe,Pe=null):ct=Pe.sibling;var ks=pe(ne,Pe,gt.value,Ne);if(ks===null){Pe===null&&(Pe=ct);break}e&&Pe&&ks.alternate===null&&n(ne,Pe),Q=g(ks,Q,nt),pt===null?qe=ks:pt.sibling=ks,pt=ks,Pe=ct}if(gt.done)return s(ne,Pe),st&&Ie(ne,nt),qe;if(Pe===null){for(;!gt.done;nt++,gt=he.next())gt=we(ne,gt.value,Ne),gt!==null&&(Q=g(gt,Q,nt),pt===null?qe=gt:pt.sibling=gt,pt=gt);return st&&Ie(ne,nt),qe}for(Pe=c(Pe);!gt.done;nt++,gt=he.next())gt=ye(Pe,ne,nt,gt.value,Ne),gt!==null&&(e&&gt.alternate!==null&&Pe.delete(gt.key===null?nt:gt.key),Q=g(gt,Q,nt),pt===null?qe=gt:pt.sibling=gt,pt=gt);return e&&Pe.forEach(function(dN){return n(ne,dN)}),st&&Ie(ne,nt),qe}function kt(ne,Q,he,Ne){if(typeof he=="object"&&he!==null&&he.type===A&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case z:e:{for(var qe=he.key;Q!==null;){if(Q.key===qe){if(qe=he.type,qe===A){if(Q.tag===7){s(ne,Q.sibling),Ne=m(Q,he.props.children),Ne.return=ne,ne=Ne;break e}}else if(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Y&&pr(qe)===Q.type){s(ne,Q.sibling),Ne=m(Q,he.props),fo(Ne,he),Ne.return=ne,ne=Ne;break e}s(ne,Q);break}else n(ne,Q);Q=Q.sibling}he.type===A?(Ne=ki(he.props.children,ne.mode,Ne,he.key),Ne.return=ne,ne=Ne):(Ne=cr(he.type,he.key,he.props,null,ne.mode,Ne),fo(Ne,he),Ne.return=ne,ne=Ne)}return N(ne);case C:e:{for(qe=he.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===he.containerInfo&&Q.stateNode.implementation===he.implementation){s(ne,Q.sibling),Ne=m(Q,he.children||[]),Ne.return=ne,ne=Ne;break e}else{s(ne,Q);break}else n(ne,Q);Q=Q.sibling}Ne=ro(he,ne.mode,Ne),Ne.return=ne,ne=Ne}return N(ne);case Y:return he=pr(he),kt(ne,Q,he,Ne)}if(le(he))return Le(ne,Q,he,Ne);if(ce(he)){if(qe=ce(he),typeof qe!="function")throw Error(o(150));return he=qe.call(he),He(ne,Q,he,Ne)}if(typeof he.then=="function")return kt(ne,Q,Lu(he),Ne);if(he.$$typeof===U)return kt(ne,Q,zu(ne,he),Ne);Du(ne,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,Q!==null&&Q.tag===6?(s(ne,Q.sibling),Ne=m(Q,he),Ne.return=ne,ne=Ne):(s(ne,Q),Ne=nl(he,ne.mode,Ne),Ne.return=ne,ne=Ne),N(ne)):s(ne,Q)}return function(ne,Q,he,Ne){try{ho=0;var qe=kt(ne,Q,he,Ne);return ol=null,qe}catch(Pe){if(Pe===ll||Pe===Mu)throw Pe;var pt=Dn(29,Pe,null,ne.mode);return pt.lanes=Ne,pt.return=ne,pt}}}var yr=ip(!0),sp=ip(!1),ds=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fs(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(xt&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=ur(e),us(e,null,s),n}return ui(e,c,n,s),ur(e)}function mo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Lr(e,s)}}function Id(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var m=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var N={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?m=g=N:g=g.next=N,s=s.next}while(s!==null);g===null?m=g=n:g=g.next=n}else m=g=n;s={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ud=!1;function po(){if(Ud){var e=rl;if(e!==null)throw e}}function go(e,n,s,c){Ud=!1;var m=e.updateQueue;ds=!1;var g=m.firstBaseUpdate,N=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var I=T,fe=I.next;I.next=null,N===null?g=fe:N.next=fe,N=I;var be=e.alternate;be!==null&&(be=be.updateQueue,T=be.lastBaseUpdate,T!==N&&(T===null?be.firstBaseUpdate=fe:T.next=fe,be.lastBaseUpdate=I))}if(g!==null){var we=m.baseState;N=0,be=fe=I=null,T=g;do{var pe=T.lane&-536870913,ye=pe!==T.lane;if(ye?(ut&pe)===pe:(c&pe)===pe){pe!==0&&pe===sl&&(Ud=!0),be!==null&&(be=be.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Le=e,He=T;pe=n;var kt=s;switch(He.tag){case 1:if(Le=He.payload,typeof Le=="function"){we=Le.call(kt,we,pe);break e}we=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=He.payload,pe=typeof Le=="function"?Le.call(kt,we,pe):Le,pe==null)break e;we=w({},we,pe);break e;case 2:ds=!0}}pe=T.callback,pe!==null&&(e.flags|=64,ye&&(e.flags|=8192),ye=m.callbacks,ye===null?m.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},be===null?(fe=be=ye,I=we):be=be.next=ye,N|=pe;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;ye=T,T=ye.next,ye.next=null,m.lastBaseUpdate=ye,m.shared.pending=null}}while(!0);be===null&&(I=we),m.baseState=I,m.firstBaseUpdate=fe,m.lastBaseUpdate=be,g===null&&(m.shared.lanes=0),xs|=N,e.lanes=N,e.memoizedState=we}}function rp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function lp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)rp(s[e],n)}var ul=O(null),Pu=O(0);function op(e,n){e=Ii,R(Pu,e),R(ul,n),Ii=e|n.baseLanes}function Zd(){R(Pu,Ii),R(ul,ul.current)}function qd(){Ii=Pu.current,ie(ul),ie(Pu)}var ha=O(null),Ca=null;function ms(e){var n=e.alternate;R(sn,sn.current&1),R(ha,e),Ca===null&&(n===null||ul.current!==null||n.memoizedState!==null)&&(Ca=e)}function Fd(e){R(sn,sn.current),R(ha,e),Ca===null&&(Ca=e)}function up(e){e.tag===22?(R(sn,sn.current),R(ha,e),Ca===null&&(Ca=e)):ps()}function ps(){R(sn,sn.current),R(ha,ha.current)}function fa(e){ie(ha),Ca===e&&(Ca=null),ie(sn)}var sn=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Yh(s)||$h(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,et=null,Et=null,dn=null,Iu=!1,cl=!1,xr=!1,Uu=0,yo=0,dl=null,tb=0;function Wt(){throw Error(o(321))}function Hd(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function Kd(e,n,s,c,m,g){return zi=g,et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?Qp:rh,xr=!1,g=s(c,m),xr=!1,cl&&(g=dp(n,s,c,m)),cp(e),g}function cp(e){Z.H=_o;var n=Et!==null&&Et.next!==null;if(zi=0,dn=Et=et=null,Iu=!1,yo=0,dl=null,n)throw Error(o(300));e===null||hn||(e=e.dependencies,e!==null&&Au(e)&&(hn=!0))}function dp(e,n,s,c){et=e;var m=0;do{if(cl&&(dl=null),yo=0,cl=!1,25<=m)throw Error(o(301));if(m+=1,dn=Et=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=Vp,g=n(s,c)}while(cl);return g}function nb(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?xo(n):n,e=e.useState()[0],(Et!==null?Et.memoizedState:null)!==e&&(et.flags|=1024),n}function Qd(){var e=Uu!==0;return Uu=0,e}function Vd(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Gd(e){if(Iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Iu=!1}zi=0,dn=Et=et=null,cl=!1,yo=Uu=0,dl=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?et.memoizedState=dn=e:dn=dn.next=e,dn}function rn(){if(Et===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var n=dn===null?et.memoizedState:dn.next;if(n!==null)dn=n,Et=e;else{if(e===null)throw et.alternate===null?Error(o(467)):Error(o(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},dn===null?et.memoizedState=dn=e:dn=dn.next=e}return dn}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(e){var n=yo;return yo+=1,dl===null&&(dl=[]),e=tp(dl,e,n),n=et,(dn===null?n.memoizedState:dn.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Qp:rh),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===U)return Tn(e)}throw Error(o(438,String(e)))}function Yd(e){var n=null,s=et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=et.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Zu(),et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=ve;return n.index++,s}function Oi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=rn();return $d(n,Et,e)}function $d(e,n,s){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var N=m.next;m.next=g.next,g.next=N}n.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{n=m.next;var T=N=null,I=null,fe=n,be=!1;do{var we=fe.lane&-536870913;if(we!==fe.lane?(ut&we)===we:(zi&we)===we){var pe=fe.revertLane;if(pe===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),we===sl&&(be=!0);else if((zi&pe)===pe){fe=fe.next,pe===sl&&(be=!0);continue}else we={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},I===null?(T=I=we,N=g):I=I.next=we,et.lanes|=pe,xs|=pe;we=fe.action,xr&&s(g,we),g=fe.hasEagerState?fe.eagerState:s(g,we)}else pe={lane:we,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},I===null?(T=I=pe,N=g):I=I.next=pe,et.lanes|=we,xs|=we;fe=fe.next}while(fe!==null&&fe!==n);if(I===null?N=g:I.next=T,!Nn(g,e.memoizedState)&&(hn=!0,be&&(s=rl,s!==null)))throw s;e.memoizedState=g,e.baseState=N,e.baseQueue=I,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Xd(e){var n=rn(),s=n.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var c=s.dispatch,m=s.pending,g=n.memoizedState;if(m!==null){s.pending=null;var N=m=m.next;do g=e(g,N.action),N=N.next;while(N!==m);Nn(g,n.memoizedState)||(hn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function hp(e,n,s){var c=et,m=rn(),g=st;if(g){if(s===void 0)throw Error(o(407));s=s()}else s=n();var N=!Nn((Et||m).memoizedState,s);if(N&&(m.memoizedState=s,hn=!0),m=m.queue,eh(pp.bind(null,c,m,e),[e]),m.getSnapshot!==n||N||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,hl(9,{destroy:void 0},mp.bind(null,c,m,s,n),null),Ot===null)throw Error(o(349));g||(zi&127)!==0||fp(c,n,s)}return s}function fp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=et.updateQueue,n===null?(n=Zu(),et.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function mp(e,n,s,c){n.value=s,n.getSnapshot=c,gp(n)&&yp(e)}function pp(e,n,s){return s(function(){gp(n)&&yp(e)})}function gp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function yp(e){var n=Ta(e,2);n!==null&&ta(n,e,2)}function Jd(e){var n=qn();if(typeof e=="function"){var s=e;if(e=s(),xr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function xp(e,n,s,c){return e.baseState=s,$d(e,Et,typeof c=="function"?c:Oi)}function ab(e,n,s,c,m){if(Qu(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};Z.T!==null?s(!0):g.isTransition=!1,c(g),s=n.pending,s===null?(g.next=n.pending=g,vp(n,g)):(g.next=s.next,n.pending=s.next=g)}}function vp(e,n){var s=n.action,c=n.payload,m=e.state;if(n.isTransition){var g=Z.T,N={};Z.T=N;try{var T=s(m,c),I=Z.S;I!==null&&I(N,T),_p(e,n,T)}catch(fe){Wd(e,n,fe)}finally{g!==null&&N.types!==null&&(g.types=N.types),Z.T=g}}else try{g=s(m,c),_p(e,n,g)}catch(fe){Wd(e,n,fe)}}function _p(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){bp(e,n,c)},function(c){return Wd(e,n,c)}):bp(e,n,s)}function bp(e,n,s){n.status="fulfilled",n.value=s,Np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,vp(e,s)))}function Wd(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,Np(n),n=n.next;while(n!==c)}e.action=null}function Np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sp(e,n){return n}function jp(e,n){if(st){var s=Ot.formState;if(s!==null){e:{var c=et;if(st){if(mt){t:{for(var m=mt,g=$n;m.nodeType!==8;){if(!g){m=null;break t}if(m=Aa(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){mt=Aa(m.nextSibling),c=m.data==="F!";break e}}di(c)}c=!1}c&&(n=s[0])}}return s=qn(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},s.queue=c,s=Fp.bind(null,et,c),c.dispatch=s,c=Jd(!1),g=sh.bind(null,et,!1,c.queue),c=qn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,s=ab.bind(null,et,m,g,s),m.dispatch=s,c.memoizedState=e,[n,s,!1]}function wp(e){var n=rn();return Ep(n,Et,e)}function Ep(e,n,s){if(n=$d(e,n,Sp)[0],e=Fu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=xo(n)}catch(N){throw N===ll?Mu:N}else c=n;n=rn();var m=n.queue,g=m.dispatch;return s!==n.memoizedState&&(et.flags|=2048,hl(9,{destroy:void 0},ib.bind(null,m,s),null)),[c,g,e]}function ib(e,n){e.action=n}function Tp(e){var n=rn(),s=Et;if(s!==null)return Ep(n,s,e);rn(),n=n.memoizedState,s=rn();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function hl(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=et.updateQueue,n===null&&(n=Zu(),et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function kp(){return rn().memoizedState}function Hu(e,n,s,c){var m=qn();et.flags|=e,m.memoizedState=hl(1|n,{destroy:void 0},s,c===void 0?null:c)}function Ku(e,n,s,c){var m=rn();c=c===void 0?null:c;var g=m.memoizedState.inst;Et!==null&&c!==null&&Hd(c,Et.memoizedState.deps)?m.memoizedState=hl(n,g,s,c):(et.flags|=e,m.memoizedState=hl(1|n,g,s,c))}function Cp(e,n){Hu(8390656,8,e,n)}function eh(e,n){Ku(2048,8,e,n)}function sb(e){et.flags|=4;var n=et.updateQueue;if(n===null)n=Zu(),et.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ap(e){var n=rn().memoizedState;return sb({ref:n,nextImpl:e}),function(){if((xt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function zp(e,n){return Ku(4,2,e,n)}function Op(e,n){return Ku(4,4,e,n)}function Mp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rp(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,Mp.bind(null,n,e),s)}function th(){}function Lp(e,n){var s=rn();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&Hd(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function Dp(e,n){var s=rn();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&Hd(n,c[1]))return c[0];if(c=e(),xr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[c,n],c}function nh(e,n,s){return s===void 0||(zi&1073741824)!==0&&(ut&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Pg(),et.lanes|=e,xs|=e,s)}function Pp(e,n,s,c){return Nn(s,n)?s:ul.current!==null?(e=nh(e,s,c),Nn(e,n)||(hn=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(ut&261930)===0?(hn=!0,e.memoizedState=s):(e=Pg(),et.lanes|=e,xs|=e,n)}function Bp(e,n,s,c,m){var g=re.p;re.p=g!==0&&8>g?g:8;var N=Z.T,T={};Z.T=T,sh(e,!1,n,s);try{var I=m(),fe=Z.S;if(fe!==null&&fe(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var be=eb(I,c);vo(e,n,be,ga(e))}else vo(e,n,c,ga(e))}catch(we){vo(e,n,{then:function(){},status:"rejected",reason:we},ga())}finally{re.p=g,N!==null&&T.types!==null&&(N.types=T.types),Z.T=N}}function rb(){}function ah(e,n,s,c){if(e.tag!==5)throw Error(o(476));var m=Ip(e).queue;Bp(e,m,n,de,s===null?rb:function(){return Up(e),s(c)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Up(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),vo(e,n.next.queue,{},ga())}function ih(){return Tn(Do)}function Zp(){return rn().memoizedState}function qp(){return rn().memoizedState}function lb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=ga();e=hs(s);var c=fs(n,e,s);c!==null&&(ta(c,n,s),mo(c,n,s)),n={cache:Md()},e.payload=n;return}n=n.return}}function ob(e,n,s){var c=ga();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Hp(n,s):(s=ao(e,n,s,c),s!==null&&(ta(s,e,c),Kp(s,n,c)))}function Fp(e,n,s){var c=ga();vo(e,n,s,c)}function vo(e,n,s,c){var m={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Hp(n,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var N=n.lastRenderedState,T=g(N,s);if(m.hasEagerState=!0,m.eagerState=T,Nn(T,N))return ui(e,n,m,0),Ot===null&&or(),!1}catch{}if(s=ao(e,n,m,c),s!==null)return ta(s,e,c),Kp(s,n,c),!0}return!1}function sh(e,n,s,c){if(c={lane:2,revertLane:Ph(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(o(479))}else n=ao(e,s,c,2),n!==null&&ta(n,e,2)}function Qu(e){var n=e.alternate;return e===et||n!==null&&n===et}function Hp(e,n){cl=Iu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Kp(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Lr(e,s)}}var _o={readContext:Tn,use:qu,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};_o.useEffectEvent=Wt;var Qp={readContext:Tn,use:qu,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:Tn,useEffect:Cp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Mp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=qn();n=n===void 0?null:n;var c=e();if(xr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=qn();if(s!==void 0){var m=s(n);if(xr){On(!0);try{s(n)}finally{On(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=ob.bind(null,et,e),[c.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=Jd(e);var n=e.queue,s=Fp.bind(null,et,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:th,useDeferredValue:function(e,n){var s=qn();return nh(s,e,n)},useTransition:function(){var e=Jd(!1);return e=Bp.bind(null,et,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=et,m=qn();if(st){if(s===void 0)throw Error(o(407));s=s()}else{if(s=n(),Ot===null)throw Error(o(349));(ut&127)!==0||fp(c,n,s)}m.memoizedState=s;var g={value:s,getSnapshot:n};return m.queue=g,Cp(pp.bind(null,c,g,e),[e]),c.flags|=2048,hl(9,{destroy:void 0},mp.bind(null,c,g,s,n),null),s},useId:function(){var e=qn(),n=Ot.identifierPrefix;if(st){var s=Ce,c=je;s=(c&~(1<<32-gn(c)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=tb++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ih,useFormState:jp,useActionState:jp,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=sh.bind(null,et,!0,s),s.dispatch=n,[e,n]},useMemoCache:Yd,useCacheRefresh:function(){return qn().memoizedState=lb.bind(null,et)},useEffectEvent:function(e){var n=qn(),s={impl:e};return n.memoizedState=s,function(){if((xt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},rh={readContext:Tn,use:qu,useCallback:Lp,useContext:Tn,useEffect:eh,useImperativeHandle:Rp,useInsertionEffect:zp,useLayoutEffect:Op,useMemo:Dp,useReducer:Fu,useRef:kp,useState:function(){return Fu(Oi)},useDebugValue:th,useDeferredValue:function(e,n){var s=rn();return Pp(s,Et.memoizedState,e,n)},useTransition:function(){var e=Fu(Oi)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:hp,useId:Zp,useHostTransitionStatus:ih,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var s=rn();return xp(s,Et,e,n)},useMemoCache:Yd,useCacheRefresh:qp};rh.useEffectEvent=Ap;var Vp={readContext:Tn,use:qu,useCallback:Lp,useContext:Tn,useEffect:eh,useImperativeHandle:Rp,useInsertionEffect:zp,useLayoutEffect:Op,useMemo:Dp,useReducer:Xd,useRef:kp,useState:function(){return Xd(Oi)},useDebugValue:th,useDeferredValue:function(e,n){var s=rn();return Et===null?nh(s,e,n):Pp(s,Et.memoizedState,e,n)},useTransition:function(){var e=Xd(Oi)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:xo(e),n]},useSyncExternalStore:hp,useId:Zp,useHostTransitionStatus:ih,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var s=rn();return Et!==null?xp(s,Et,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:qp};Vp.useEffectEvent=Ap;function lh(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var oh={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=ga(),m=hs(c);m.payload=n,s!=null&&(m.callback=s),n=fs(e,m,c),n!==null&&(ta(n,e,c),mo(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=ga(),m=hs(c);m.tag=1,m.payload=n,s!=null&&(m.callback=s),n=fs(e,m,c),n!==null&&(ta(n,e,c),mo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=ga(),c=hs(s);c.tag=2,n!=null&&(c.callback=n),n=fs(e,c,s),n!==null&&(ta(n,e,s),mo(n,e,s))}};function Gp(e,n,s,c,m,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,N):n.prototype&&n.prototype.isPureReactComponent?!ss(s,c)||!ss(m,g):!0}function Yp(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&oh.enqueueReplaceState(n,n.state,null)}function vr(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var m in e)s[m]===void 0&&(s[m]=e[m])}return s}function $p(e){lr(e)}function Xp(e){console.error(e)}function Jp(e){lr(e)}function Vu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Wp(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function uh(e,n,s){return s=hs(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(e,n)},s}function eg(e){return e=hs(e),e.tag=3,e}function tg(e,n,s,c){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){Wp(n,s,c)}}var N=s.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Wp(n,s,c),typeof m!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function ub(e,n,s,c,m){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&il(n,s,m,!0),s=ha.current,s!==null){switch(s.tag){case 31:case 13:return Ca===null?sc():s.alternate===null&&en===0&&(en=3),s.flags&=-257,s.flags|=65536,s.lanes=m,c===Ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),Rh(e,c,m)),!1;case 22:return s.flags|=65536,c===Ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),Rh(e,c,m)),!1}throw Error(o(435,s.tag))}return Rh(e,c,m),sc(),!1}if(st)return n=ha.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==al&&(e=Error(o(422),{cause:c}),dr(u(e,s)))):(c!==al&&(n=Error(o(423),{cause:c}),dr(u(n,s))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,s),m=uh(e.stateNode,c,m),Id(e,m),en!==4&&(en=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,s),ko===null?ko=[g]:ko.push(g),en!==4&&(en=2),n===null)return!0;c=u(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=m&-m,s.lanes|=e,e=uh(s.stateNode,c,e),Id(s,e),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vs===null||!vs.has(g))))return s.flags|=65536,m&=-m,s.lanes|=m,m=eg(m),tg(m,e,s,c),Id(s,m),!1}s=s.return}while(s!==null);return!1}var ch=Error(o(461)),hn=!1;function kn(e,n,s,c){n.child=e===null?sp(n,null,s,c):yr(n,e.child,s,c)}function ng(e,n,s,c,m){s=s.render;var g=n.ref;if("ref"in c){var N={};for(var T in c)T!=="ref"&&(N[T]=c[T])}else N=c;return fr(n),c=Kd(e,n,s,N,g,m),T=Qd(),e!==null&&!hn?(Vd(e,n,m),Mi(e,n,m)):(st&&T&&xn(n),n.flags|=1,kn(e,n,c,m),n.child)}function ag(e,n,s,c,m){if(e===null){var g=s.type;return typeof g=="function"&&!tl(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,ig(e,n,g,c,m)):(e=cr(s.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!xh(e,m)){var N=g.memoizedProps;if(s=s.compare,s=s!==null?s:ss,s(N,c)&&e.ref===n.ref)return Mi(e,n,m)}return n.flags|=1,e=ka(g,c),e.ref=n.ref,e.return=n,n.child=e}function ig(e,n,s,c,m){if(e!==null){var g=e.memoizedProps;if(ss(g,c)&&e.ref===n.ref)if(hn=!1,n.pendingProps=c=g,xh(e,m))(e.flags&131072)!==0&&(hn=!0);else return n.lanes=e.lanes,Mi(e,n,m)}return dh(e,n,s,c,m)}function sg(e,n,s,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|s:s,e!==null){for(c=n.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,n.child=null;return rg(e,n,g,s,c)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,g!==null?g.cachePool:null),g!==null?op(n,g):Zd(),up(n);else return c=n.lanes=536870912,rg(e,n,g!==null?g.baseLanes|s:s,s,c)}else g!==null?(Ou(n,g.cachePool),op(n,g),ps(),n.memoizedState=null):(e!==null&&Ou(n,null),Zd(),ps());return kn(e,n,m,s),n.child}function bo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function rg(e,n,s,c,m){var g=Ld();return g=g===null?null:{parent:cn._currentValue,pool:g},n.memoizedState={baseLanes:s,cachePool:g},e!==null&&Ou(n,null),Zd(),up(n),e!==null&&il(e,n,c,!0),n.childLanes=m,null}function Gu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function lg(e,n,s){return yr(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,fa(n),n.memoizedState=null,e}function cb(e,n,s){var c=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(st){if(c.mode==="hidden")return e=Gu(n,c),n.lanes=536870912,bo(null,e);if(Fd(n),(e=mt)?(e=vy(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:me!==null?{id:je,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},s=so(e),s.return=n,n.child=s,ft=n,mt=null)):e=null,e===null)throw di(n);return n.lanes=536870912,null}return Gu(n,c)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(Fd(n),m)if(n.flags&256)n.flags&=-257,n=lg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(hn||il(e,n,s,!1),m=(s&e.childLanes)!==0,hn||m){if(c=Ot,c!==null&&(N=Dr(c,s),N!==0&&N!==g.retryLane))throw g.retryLane=N,Ta(e,N),ta(c,e,N),ch;sc(),n=lg(e,n,s)}else e=g.treeContext,mt=Aa(N.nextSibling),ft=n,st=!0,ci=null,$n=!1,e!==null&&Zn(n,e),n=Gu(n,c),n.flags|=4096;return n}return e=ka(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function dh(e,n,s,c,m){return fr(n),s=Kd(e,n,s,c,void 0,m),c=Qd(),e!==null&&!hn?(Vd(e,n,m),Mi(e,n,m)):(st&&c&&xn(n),n.flags|=1,kn(e,n,s,m),n.child)}function og(e,n,s,c,m,g){return fr(n),n.updateQueue=null,s=dp(n,c,s,m),cp(e),c=Qd(),e!==null&&!hn?(Vd(e,n,g),Mi(e,n,g)):(st&&c&&xn(n),n.flags|=1,kn(e,n,s,g),n.child)}function ug(e,n,s,c,m){if(fr(n),n.stateNode===null){var g=Ti,N=s.contextType;typeof N=="object"&&N!==null&&(g=Tn(N)),g=new s(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=oh,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Pd(n),N=s.contextType,g.context=typeof N=="object"&&N!==null?Tn(N):Ti,g.state=n.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(lh(n,s,N,c),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&oh.enqueueReplaceState(g,g.state,null),go(n,c,g,m),po(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var T=n.memoizedProps,I=vr(s,T);g.props=I;var fe=g.context,be=s.contextType;N=Ti,typeof be=="object"&&be!==null&&(N=Tn(be));var we=s.getDerivedStateFromProps;be=typeof we=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,be||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||fe!==N)&&Yp(n,g,c,N),ds=!1;var pe=n.memoizedState;g.state=pe,go(n,c,g,m),po(),fe=n.memoizedState,T||pe!==fe||ds?(typeof we=="function"&&(lh(n,s,we,c),fe=n.memoizedState),(I=ds||Gp(n,s,I,c,pe,fe,N))?(be||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=fe),g.props=c,g.state=fe,g.context=N,c=I):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Bd(e,n),N=n.memoizedProps,be=vr(s,N),g.props=be,we=n.pendingProps,pe=g.context,fe=s.contextType,I=Ti,typeof fe=="object"&&fe!==null&&(I=Tn(fe)),T=s.getDerivedStateFromProps,(fe=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==we||pe!==I)&&Yp(n,g,c,I),ds=!1,pe=n.memoizedState,g.state=pe,go(n,c,g,m),po();var ye=n.memoizedState;N!==we||pe!==ye||ds||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof T=="function"&&(lh(n,s,T,c),ye=n.memoizedState),(be=ds||Gp(n,s,be,c,pe,ye,I)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(fe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ye,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ye,I)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&pe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&pe===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ye),g.props=c,g.state=ye,g.context=I,c=be):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&pe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&pe===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Yu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=yr(n,e.child,null,m),n.child=yr(n,null,s,m)):kn(e,n,s,m),n.memoizedState=g.state,e=n.child):e=Mi(e,n,m),e}function cg(e,n,s,c){return Ci(),n.flags|=256,kn(e,n,s,c),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:Wm()}}function mh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pa),e}function dg(e,n,s){var c=n.pendingProps,m=!1,g=(n.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(st){if(m?ms(n):ps(),(e=mt)?(e=vy(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:me!==null?{id:je,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},s=so(e),s.return=n,n.child=s,ft=n,mt=null)):e=null,e===null)throw di(n);return $h(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,m?(ps(),m=n.mode,T=$u({mode:"hidden",children:T},m),c=ki(c,m,s,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=fh(s),c.childLanes=mh(e,N,s),n.memoizedState=hh,bo(null,c)):(ms(n),ph(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(g)n.flags&256?(ms(n),n.flags&=-257,n=gh(e,n,s)):n.memoizedState!==null?(ps(),n.child=e.child,n.flags|=128,n=null):(ps(),T=c.fallback,m=n.mode,c=$u({mode:"visible",children:c.children},m),T=ki(T,m,s,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,yr(n,e.child,null,s),c=n.child,c.memoizedState=fh(s),c.childLanes=mh(e,N,s),n.memoizedState=hh,n=bo(null,c));else if(ms(n),$h(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var fe=N.dgst;N=fe,c=Error(o(419)),c.stack="",c.digest=N,dr({value:c,source:null,stack:null}),n=gh(e,n,s)}else if(hn||il(e,n,s,!1),N=(s&e.childLanes)!==0,hn||N){if(N=Ot,N!==null&&(c=Dr(N,s),c!==0&&c!==I.retryLane))throw I.retryLane=c,Ta(e,c),ta(N,e,c),ch;Yh(T)||sc(),n=gh(e,n,s)}else Yh(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,mt=Aa(T.nextSibling),ft=n,st=!0,ci=null,$n=!1,e!==null&&Zn(n,e),n=ph(n,c.children),n.flags|=4096);return n}return m?(ps(),T=c.fallback,m=n.mode,I=e.child,fe=I.sibling,c=ka(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,fe!==null?T=ka(fe,T):(T=ki(T,m,s,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,bo(null,c),c=n.child,T=e.child.memoizedState,T===null?T=fh(s):(m=T.cachePool,m!==null?(I=cn._currentValue,m=m.parent!==I?{parent:I,pool:I}:m):m=Wm(),T={baseLanes:T.baseLanes|s,cachePool:m}),c.memoizedState=T,c.childLanes=mh(e,N,s),n.memoizedState=hh,bo(e.child,c)):(ms(n),s=e.child,e=s.sibling,s=ka(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=s,n.memoizedState=null,s)}function ph(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Dn(22,e,null,n),e.lanes=0,e}function gh(e,n,s){return yr(n,e.child,null,s),e=ph(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hg(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),zd(e.return,n,s)}function yh(e,n,s,c,m,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:m,treeForkCount:g}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=s,N.tailMode=m,N.treeForkCount=g)}function fg(e,n,s){var c=n.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var N=sn.current,T=(N&2)!==0;if(T?(N=N&1|2,n.flags|=128):N&=1,R(sn,N),kn(e,n,c,s),c=st?E:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hg(e,s,n);else if(e.tag===19)hg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(s=n.child,m=null;s!==null;)e=s.alternate,e!==null&&Bu(e)===null&&(m=s),s=s.sibling;s=m,s===null?(m=n.child,n.child=null):(m=s.sibling,s.sibling=null),yh(n,!1,m,s,g,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Bu(e)===null){n.child=m;break}e=m.sibling,m.sibling=s,s=m,m=e}yh(n,!0,s,null,g,c);break;case"together":yh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Mi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(il(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,s=ka(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ka(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function db(e,n,s){switch(n.tag){case 3:Be(n,n.stateNode.containerInfo),cs(n,cn,e.memoizedState.cache),Ci();break;case 27:case 5:dt(n);break;case 4:Be(n,n.stateNode.containerInfo);break;case 10:cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(ms(n),n.flags|=128,null):(s&n.child.childLanes)!==0?dg(e,n,s):(ms(n),e=Mi(e,n,s),e!==null?e.sibling:null);ms(n);break;case 19:var m=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(il(e,n,s,!1),c=(s&n.childLanes)!==0),m){if(c)return fg(e,n,s);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),R(sn,sn.current),c)break;return null;case 22:return n.lanes=0,sg(e,n,s,n.pendingProps);case 24:cs(n,cn,e.memoizedState.cache)}return Mi(e,n,s)}function mg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)hn=!0;else{if(!xh(e,s)&&(n.flags&128)===0)return hn=!1,db(e,n,s);hn=(e.flags&131072)!==0}else hn=!1,st&&(n.flags&1048576)!==0&&tt(n,E,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=pr(n.elementType),n.type=e,typeof e=="function")tl(e)?(c=vr(e,c),n.tag=1,n=ug(null,n,e,c,s)):(n.tag=0,n=dh(null,n,e,c,s));else{if(e!=null){var m=e.$$typeof;if(m===K){n.tag=11,n=ng(null,n,e,c,s);break e}else if(m===W){n.tag=14,n=ag(null,n,e,c,s);break e}}throw n=q(e)||e,Error(o(306,n,""))}}return n;case 0:return dh(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,m=vr(c,n.pendingProps),ug(e,n,c,m,s);case 3:e:{if(Be(n,n.stateNode.containerInfo),e===null)throw Error(o(387));c=n.pendingProps;var g=n.memoizedState;m=g.element,Bd(e,n),go(n,c,null,s);var N=n.memoizedState;if(c=N.cache,cs(n,cn,c),c!==g.cache&&Od(n,[cn],s,!0),po(),c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=cg(e,n,c,s);break e}else if(c!==m){m=u(Error(o(424)),n),dr(m),n=cg(e,n,c,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,mt=Aa(e.firstChild),ft=n,st=!0,ci=null,$n=!0,s=sp(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ci(),c===m){n=Mi(e,n,s);break e}kn(e,n,c,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=wy(n.type,null,n.pendingProps,null))?n.memoizedState=s:st||(s=n.type,e=n.pendingProps,c=hc(J.current).createElement(s),c[$t]=n,c[un]=e,Cn(c,s,e),Kt(c),n.stateNode=c):n.memoizedState=wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return dt(n),e===null&&st&&(c=n.stateNode=Ny(n.type,n.pendingProps,J.current),ft=n,$n=!0,m=mt,Ss(n.type)?(Xh=m,mt=Aa(c.firstChild)):mt=m),kn(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&st&&((m=c=mt)&&(c=Zb(c,n.type,n.pendingProps,$n),c!==null?(n.stateNode=c,ft=n,mt=Aa(c.firstChild),$n=!1,m=!0):m=!1),m||di(n)),dt(n),m=n.type,g=n.pendingProps,N=e!==null?e.memoizedProps:null,c=g.children,Qh(m,g)?c=null:N!==null&&Qh(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=Kd(e,n,nb,null,null,s),Do._currentValue=m),Yu(e,n),kn(e,n,c,s),n.child;case 6:return e===null&&st&&((e=s=mt)&&(s=qb(s,n.pendingProps,$n),s!==null?(n.stateNode=s,ft=n,mt=null,e=!0):e=!1),e||di(n)),null;case 13:return dg(e,n,s);case 4:return Be(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=yr(n,null,c,s):kn(e,n,c,s),n.child;case 11:return ng(e,n,n.type,n.pendingProps,s);case 7:return kn(e,n,n.pendingProps,s),n.child;case 8:return kn(e,n,n.pendingProps.children,s),n.child;case 12:return kn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,cs(n,n.type,c.value),kn(e,n,c.children,s),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,fr(n),m=Tn(m),c=c(m),n.flags|=1,kn(e,n,c,s),n.child;case 14:return ag(e,n,n.type,n.pendingProps,s);case 15:return ig(e,n,n.type,n.pendingProps,s);case 19:return fg(e,n,s);case 31:return cb(e,n,s);case 22:return sg(e,n,s,n.pendingProps);case 24:return fr(n),c=Tn(cn),e===null?(m=Ld(),m===null&&(m=Ot,g=Md(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=s),m=g),n.memoizedState={parent:c,cache:m},Pd(n),cs(n,cn,m)):((e.lanes&s)!==0&&(Bd(e,n),go(n,null,null,s),po()),m=e.memoizedState,g=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),cs(n,cn,c)):(c=g.cache,cs(n,cn,c),c!==m.cache&&Od(n,[cn],s,!0))),kn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Ri(e){e.flags|=4}function vh(e,n,s,c,m){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Zg())e.flags|=8192;else throw gr=Ru,Dd}else e.flags&=-16777217}function pg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ay(n))if(Zg())e.flags|=8192;else throw gr=Ru,Dd}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Rr():536870912,e.lanes|=n,gl|=n)}function No(e,n){if(!st)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var m=e.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function hb(e,n,s){var c=n.pendingProps;switch(Jt(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Bt(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Ai(cn),Ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ga(n)?Ri(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,oo())),Bt(n),null;case 26:var m=n.type,g=n.memoizedState;return e===null?(Ri(n),g!==null?(Bt(n),pg(n,g)):(Bt(n),vh(n,m,null,c,s))):g?g!==e.memoizedState?(Ri(n),Bt(n),pg(n,g)):(Bt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Ri(n),Bt(n),vh(n,m,e,c,s)),null;case 27:if(at(n),s=J.current,m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ri(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Bt(n),null}e=H.current,Ga(n)?lo(n):(e=Ny(m,c,s),n.stateNode=e,Ri(n))}return Bt(n),null;case 5:if(at(n),m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ri(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Bt(n),null}if(g=H.current,Ga(n))lo(n);else{var N=hc(J.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?N.createElement(m,{is:c.is}):N.createElement(m)}}g[$t]=n,g[un]=c;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=g;e:switch(Cn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ri(n)}}return Bt(n),vh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Ri(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(e=J.current,Ga(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,m=ft,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[$t]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||dy(e.nodeValue,s)),e||di(n,!0)}else e=hc(e).createTextNode(c),e[$t]=n,n.stateNode=e}return Bt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(c=Ga(n),s!==null){if(e===null){if(!c)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[$t]=n}else Ci(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),e=!1}else s=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(fa(n),n):(fa(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Bt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Ga(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(o(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[$t]=n}else Ci(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),m=!1}else m=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(fa(n),n):(fa(n),null)}return fa(n),(n.flags&128)!==0?(n.lanes=s,n):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),Bt(n),null);case 4:return Ze(),e===null&&Zh(n.stateNode.containerInfo),Bt(n),null;case 10:return Ai(n.type),Bt(n),null;case 19:if(ie(sn),c=n.memoizedState,c===null)return Bt(n),null;if(m=(n.flags&128)!==0,g=c.rendering,g===null)if(m)No(c,!1);else{if(en!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Bu(e),g!==null){for(n.flags|=128,No(c,!1),e=g.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)io(s,e),s=s.sibling;return R(sn,sn.current&1|2),st&&Ie(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Ye()>nc&&(n.flags|=128,m=!0,No(c,!1),n.lanes=4194304)}else{if(!m)if(e=Bu(g),e!==null){if(n.flags|=128,m=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),No(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!st)return Bt(n),null}else 2*Ye()-c.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,m=!0,No(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(e=c.last,e!==null?e.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ye(),e.sibling=null,s=sn.current,R(sn,m?s&1|2:s&1),st&&Ie(n,c.treeForkCount),e):(Bt(n),null);case 22:case 23:return fa(n),qd(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&ie(mr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ai(cn),Bt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function fb(e,n){switch(Jt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ai(cn),Ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return at(n),null;case 31:if(n.memoizedState!==null){if(fa(n),n.alternate===null)throw Error(o(340));Ci()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ci()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ie(sn),null;case 4:return Ze(),null;case 10:return Ai(n.type),null;case 22:case 23:return fa(n),qd(),e!==null&&ie(mr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ai(cn),null;case 25:return null;default:return null}}function gg(e,n){switch(Jt(n),n.tag){case 3:Ai(cn),Ze();break;case 26:case 27:case 5:at(n);break;case 4:Ze();break;case 31:n.memoizedState!==null&&fa(n);break;case 13:fa(n);break;case 19:ie(sn);break;case 10:Ai(n.type);break;case 22:case 23:fa(n),qd(),e!==null&&ie(mr);break;case 24:Ai(cn)}}function So(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var m=c.next;s=m;do{if((s.tag&e)===e){c=void 0;var g=s.create,N=s.inst;c=g(),N.destroy=c}s=s.next}while(s!==m)}}catch(T){bt(n,n.return,T)}}function gs(e,n,s){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var N=c.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,m=n;var I=s,fe=T;try{fe()}catch(be){bt(m,I,be)}}}c=c.next}while(c!==g)}}catch(be){bt(n,n.return,be)}}function yg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{lp(n,s)}catch(c){bt(e,e.return,c)}}}function xg(e,n,s){s.props=vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){bt(e,n,c)}}function jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(m){bt(e,n,m)}}function fi(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(m){bt(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){bt(e,n,m)}else s.current=null}function vg(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(m){bt(e,e.return,m)}}function _h(e,n,s){try{var c=e.stateNode;Lb(c,e.type,s,n),c[un]=n}catch(m){bt(e,e.return,m)}}function _g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ss(e.type)||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nh(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(c!==4&&(c===27&&Ss(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Nh(e,n,s),e=e.sibling;e!==null;)Nh(e,n,s),e=e.sibling}function Ju(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&Ss(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function bg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Cn(n,c,s),n[$t]=e,n[un]=s}catch(g){bt(e,e.return,g)}}var Li=!1,fn=!1,Sh=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,jn=null;function mb(e,n){if(e=e.containerInfo,Hh=vc,e=ar(e),si(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var N=0,T=-1,I=-1,fe=0,be=0,we=e,pe=null;t:for(;;){for(var ye;we!==s||m!==0&&we.nodeType!==3||(T=N+m),we!==g||c!==0&&we.nodeType!==3||(I=N+c),we.nodeType===3&&(N+=we.nodeValue.length),(ye=we.firstChild)!==null;)pe=we,we=ye;for(;;){if(we===e)break t;if(pe===s&&++fe===m&&(T=N),pe===g&&++be===c&&(I=N),(ye=we.nextSibling)!==null)break;we=pe,pe=we.parentNode}we=ye}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kh={focusedElem:e,selectionRange:s},vc=!1,jn=n;jn!==null;)if(n=jn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,jn=e;else for(;jn!==null;){switch(n=jn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)m=e[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,s=n,m=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var Le=vr(s.type,m);e=c.getSnapshotBeforeUpdate(Le,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(He){bt(s,s.return,He)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Gh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,jn=e;break}jn=n.return}}function Sg(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(e,s),c&4&&So(5,s);break;case 1:if(Pi(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(N){bt(s,s.return,N)}else{var m=vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){bt(s,s.return,N)}}c&64&&yg(s),c&512&&jo(s,s.return);break;case 3:if(Pi(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{lp(e,n)}catch(N){bt(s,s.return,N)}}break;case 27:n===null&&c&4&&bg(s);case 26:case 5:Pi(e,s),n===null&&c&4&&vg(s),c&512&&jo(s,s.return);break;case 12:Pi(e,s);break;case 31:Pi(e,s),c&4&&Eg(e,s);break;case 13:Pi(e,s),c&4&&Tg(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Sb.bind(null,s),Fb(e,s))));break;case 22:if(c=s.memoizedState!==null||Li,!c){n=n!==null&&n.memoizedState!==null||fn,m=Li;var g=fn;Li=c,(fn=n)&&!g?Bi(e,s,(s.subtreeFlags&8772)!==0):Pi(e,s),Li=m,fn=g}break;case 30:break;default:Pi(e,s)}}function jg(e){var n=e.alternate;n!==null&&(e.alternate=null,jg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&D(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,Xn=!1;function Di(e,n,s){for(s=s.child;s!==null;)wg(e,n,s),s=s.sibling}function wg(e,n,s){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(yt,s)}catch{}switch(s.tag){case 26:fn||fi(s,n),Di(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:fn||fi(s,n);var c=qt,m=Xn;Ss(s.type)&&(qt=s.stateNode,Xn=!1),Di(e,n,s),Mo(s.stateNode),qt=c,Xn=m;break;case 5:fn||fi(s,n);case 6:if(c=qt,m=Xn,qt=null,Di(e,n,s),qt=c,Xn=m,qt!==null)if(Xn)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(s.stateNode)}catch(g){bt(s,n,g)}else try{qt.removeChild(s.stateNode)}catch(g){bt(s,n,g)}break;case 18:qt!==null&&(Xn?(e=qt,yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),jl(e)):yy(qt,s.stateNode));break;case 4:c=qt,m=Xn,qt=s.stateNode.containerInfo,Xn=!0,Di(e,n,s),qt=c,Xn=m;break;case 0:case 11:case 14:case 15:gs(2,s,n),fn||gs(4,s,n),Di(e,n,s);break;case 1:fn||(fi(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&xg(s,n,c)),Di(e,n,s);break;case 21:Di(e,n,s);break;case 22:fn=(c=fn)||s.memoizedState!==null,Di(e,n,s),fn=c;break;default:Di(e,n,s)}}function Eg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jl(e)}catch(s){bt(n,n.return,s)}}}function Tg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(s){bt(n,n.return,s)}}function pb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ng),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ng),n;default:throw Error(o(435,e.tag))}}function Wu(e,n){var s=pb(e);n.forEach(function(c){if(!s.has(c)){s.add(c);var m=jb.bind(null,e,c);c.then(m,m)}})}function Jn(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var m=s[c],g=e,N=n,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(Ss(T.type)){qt=T.stateNode,Xn=!1;break e}break;case 5:qt=T.stateNode,Xn=!1;break e;case 3:case 4:qt=T.stateNode.containerInfo,Xn=!0;break e}T=T.return}if(qt===null)throw Error(o(160));wg(g,N,m),qt=null,Xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kg(n,e),n=n.sibling}var $a=null;function kg(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(n,e),Wn(e),c&4&&(gs(3,e,e.return),So(3,e),gs(5,e,e.return));break;case 1:Jn(n,e),Wn(e),c&512&&(fn||s===null||fi(s,s.return)),c&64&&Li&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var m=$a;if(Jn(n,e),Wn(e),c&512&&(fn||s===null||fi(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[bi]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Cn(g,c,s),g[$t]=e,Kt(g),c=g;break e;case"link":var N=ky("link","href",m).get(c+(s.href||""));if(N){for(var T=0;T<N.length;T++)if(g=N[T],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){N.splice(T,1);break t}}g=m.createElement(c),Cn(g,c,s),m.head.appendChild(g);break;case"meta":if(N=ky("meta","content",m).get(c+(s.content||""))){for(T=0;T<N.length;T++)if(g=N[T],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){N.splice(T,1);break t}}g=m.createElement(c),Cn(g,c,s),m.head.appendChild(g);break;default:throw Error(o(468,c))}g[$t]=e,Kt(g),c=g}e.stateNode=c}else Cy(m,e.type,e.stateNode);else e.stateNode=Ty(m,c,e.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?Cy(m,e.type,e.stateNode):Ty(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&_h(e,e.memoizedProps,s.memoizedProps)}break;case 27:Jn(n,e),Wn(e),c&512&&(fn||s===null||fi(s,s.return)),s!==null&&c&4&&_h(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Jn(n,e),Wn(e),c&512&&(fn||s===null||fi(s,s.return)),e.flags&32){m=e.stateNode;try{ba(m,"")}catch(Le){bt(e,e.return,Le)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,_h(e,m,s!==null?s.memoizedProps:m)),c&1024&&(Sh=!0);break;case 6:if(Jn(n,e),Wn(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(Le){bt(e,e.return,Le)}}break;case 3:if(pc=null,m=$a,$a=fc(n.containerInfo),Jn(n,e),$a=m,Wn(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(Le){bt(e,e.return,Le)}Sh&&(Sh=!1,Cg(e));break;case 4:c=$a,$a=fc(e.stateNode.containerInfo),Jn(n,e),Wn(e),$a=c;break;case 12:Jn(n,e),Wn(e);break;case 31:Jn(n,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wu(e,c)));break;case 13:Jn(n,e),Wn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=Ye()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wu(e,c)));break;case 22:m=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,fe=Li,be=fn;if(Li=fe||m,fn=be||I,Jn(n,e),fn=be,Li=fe,Wn(e),c&8192)e:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(s===null||I||Li||fn||_r(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(g=I.stateNode,m)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=I.stateNode;var we=I.memoizedProps.style,pe=we!=null&&we.hasOwnProperty("display")?we.display:null;T.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Le){bt(I,I.return,Le)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(Le){bt(I,I.return,Le)}}}else if(n.tag===18){if(s===null){I=n;try{var ye=I.stateNode;m?xy(ye,!0):xy(I.stateNode,!1)}catch(Le){bt(I,I.return,Le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Wu(e,s))));break;case 19:Jn(n,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wu(e,c)));break;case 30:break;case 21:break;default:Jn(n,e),Wn(e)}}function Wn(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(_g(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var m=s.stateNode,g=bh(e);Ju(e,g,m);break;case 5:var N=s.stateNode;s.flags&32&&(ba(N,""),s.flags&=-33);var T=bh(e);Ju(e,T,N);break;case 3:case 4:var I=s.stateNode.containerInfo,fe=bh(e);Nh(e,fe,I);break;default:throw Error(o(161))}}catch(be){bt(e,e.return,be)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Pi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sg(e,n.alternate,n),n=n.sibling}function _r(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gs(4,n,n.return),_r(n);break;case 1:fi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&xg(n,n.return,s),_r(n);break;case 27:Mo(n.stateNode);case 26:case 5:fi(n,n.return),_r(n);break;case 22:n.memoizedState===null&&_r(n);break;case 30:_r(n);break;default:_r(n)}e=e.sibling}}function Bi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,g=n,N=g.flags;switch(g.tag){case 0:case 11:case 15:Bi(m,g,s),So(4,g);break;case 1:if(Bi(m,g,s),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(fe){bt(c,c.return,fe)}if(c=g,m=c.updateQueue,m!==null){var T=c.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)rp(I[m],T)}catch(fe){bt(c,c.return,fe)}}s&&N&64&&yg(g),jo(g,g.return);break;case 27:bg(g);case 26:case 5:Bi(m,g,s),s&&c===null&&N&4&&vg(g),jo(g,g.return);break;case 12:Bi(m,g,s);break;case 31:Bi(m,g,s),s&&N&4&&Eg(m,g);break;case 13:Bi(m,g,s),s&&N&4&&Tg(m,g);break;case 22:g.memoizedState===null&&Bi(m,g,s),jo(g,g.return);break;case 30:break;default:Bi(m,g,s)}n=n.sibling}}function jh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&uo(s))}function wh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e))}function Xa(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(e,n,s,c),n=n.sibling}function Ag(e,n,s,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Xa(e,n,s,c),m&2048&&So(9,n);break;case 1:Xa(e,n,s,c);break;case 3:Xa(e,n,s,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&uo(e)));break;case 12:if(m&2048){Xa(e,n,s,c),e=n.stateNode;try{var g=n.memoizedProps,N=g.id,T=g.onPostCommit;typeof T=="function"&&T(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){bt(n,n.return,I)}}else Xa(e,n,s,c);break;case 31:Xa(e,n,s,c);break;case 13:Xa(e,n,s,c);break;case 23:break;case 22:g=n.stateNode,N=n.alternate,n.memoizedState!==null?g._visibility&2?Xa(e,n,s,c):wo(e,n):g._visibility&2?Xa(e,n,s,c):(g._visibility|=2,fl(e,n,s,c,(n.subtreeFlags&10256)!==0||!1)),m&2048&&jh(N,n);break;case 24:Xa(e,n,s,c),m&2048&&wh(n.alternate,n);break;default:Xa(e,n,s,c)}}function fl(e,n,s,c,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,N=n,T=s,I=c,fe=N.flags;switch(N.tag){case 0:case 11:case 15:fl(g,N,T,I,m),So(8,N);break;case 23:break;case 22:var be=N.stateNode;N.memoizedState!==null?be._visibility&2?fl(g,N,T,I,m):wo(g,N):(be._visibility|=2,fl(g,N,T,I,m)),m&&fe&2048&&jh(N.alternate,N);break;case 24:fl(g,N,T,I,m),m&&fe&2048&&wh(N.alternate,N);break;default:fl(g,N,T,I,m)}n=n.sibling}}function wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,m=c.flags;switch(c.tag){case 22:wo(s,c),m&2048&&jh(c.alternate,c);break;case 24:wo(s,c),m&2048&&wh(c.alternate,c);break;default:wo(s,c)}n=n.sibling}}var Eo=8192;function ml(e,n,s){if(e.subtreeFlags&Eo)for(e=e.child;e!==null;)zg(e,n,s),e=e.sibling}function zg(e,n,s){switch(e.tag){case 26:ml(e,n,s),e.flags&Eo&&e.memoizedState!==null&&tN(s,$a,e.memoizedState,e.memoizedProps);break;case 5:ml(e,n,s);break;case 3:case 4:var c=$a;$a=fc(e.stateNode.containerInfo),ml(e,n,s),$a=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Eo,Eo=16777216,ml(e,n,s),Eo=c):ml(e,n,s));break;default:ml(e,n,s)}}function Og(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function To(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];jn=c,Rg(c,e)}Og(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mg(e),e=e.sibling}function Mg(e){switch(e.tag){case 0:case 11:case 15:To(e),e.flags&2048&&gs(9,e,e.return);break;case 3:To(e);break;case 12:To(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):To(e);break;default:To(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];jn=c,Rg(c,e)}Og(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gs(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Rg(e,n){for(;jn!==null;){var s=jn;switch(s.tag){case 0:case 11:case 15:gs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uo(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,jn=c;else e:for(s=e;jn!==null;){c=jn;var m=c.sibling,g=c.return;if(jg(c),c===s){jn=null;break e}if(m!==null){m.return=g,jn=m;break e}jn=g}}}var gb={getCacheForType:function(e){var n=Tn(cn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Tn(cn).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,xt=0,Ot=null,rt=null,ut=0,_t=0,ma=null,ys=!1,pl=!1,Eh=!1,Ii=0,en=0,xs=0,br=0,Th=0,pa=0,gl=0,ko=null,ea=null,kh=!1,tc=0,Lg=0,nc=1/0,ac=null,vs=null,vn=0,_s=null,yl=null,Ui=0,Ch=0,Ah=null,Dg=null,Co=0,zh=null;function ga(){return(xt&2)!==0&&ut!==0?ut&-ut:Z.T!==null?Ph():Us()}function Pg(){if(pa===0)if((ut&536870912)===0||st){var e=Ua;Ua<<=1,(Ua&3932160)===0&&(Ua=262144),pa=e}else pa=536870912;return e=ha.current,e!==null&&(e.flags|=32),pa}function ta(e,n,s){(e===Ot&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(xl(e,0),bs(e,ut,pa,!1)),ra(e,s),((xt&2)===0||e!==Ot)&&(e===Ot&&((xt&2)===0&&(br|=s),en===4&&bs(e,ut,pa,!1)),mi(e))}function Bg(e,n,s){if((xt&6)!==0)throw Error(o(327));var c=!s&&(n&127)===0&&(n&e.expiredLanes)===0||sa(e,n),m=c?_b(e,n):Mh(e,n,!0),g=c;do{if(m===0){pl&&!c&&bs(e,n,0,!1);break}else{if(s=e.current.alternate,g&&!xb(s)){m=Mh(e,n,!1),g=!1;continue}if(m===2){if(g=n,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var T=e;m=ko;var I=T.current.memoizedState.isDehydrated;if(I&&(xl(T,N).flags|=256),N=Mh(T,N,!1),N!==2){if(Eh&&!I){T.errorRecoveryDisabledLanes|=g,br|=g,m=4;break e}g=ea,ea=m,g!==null&&(ea===null?ea=g:ea.push.apply(ea,g))}m=N}if(g=!1,m!==2)continue}}if(m===1){xl(e,0),bs(e,n,0,!0);break}e:{switch(c=e,g=m,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:bs(c,n,pa,!ys);break e;case 2:ea=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(m=tc+300-Ye(),10<m)){if(bs(c,n,pa,!ys),ei(c,0,!0)!==0)break e;Ui=n,c.timeoutHandle=py(Ig.bind(null,c,s,ea,ac,kh,n,pa,br,gl,ys,g,"Throttled",-0,0),m);break e}Ig(c,s,ea,ac,kh,n,pa,br,gl,ys,g,null,-0,0)}}break}while(!0);mi(e)}function Ig(e,n,s,c,m,g,N,T,I,fe,be,we,pe,ye){if(e.timeoutHandle=-1,we=n.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},zg(n,g,we);var Le=(g&62914560)===g?tc-Ye():(g&4194048)===g?Lg-Ye():0;if(Le=nN(we,Le),Le!==null){Ui=g,e.cancelPendingCommit=Le(Vg.bind(null,e,n,g,s,c,m,N,T,I,be,we,null,pe,ye)),bs(e,g,N,!fe);return}}Vg(e,n,g,s,c,m,N,T,I)}function xb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var m=s[c],g=m.getSnapshot;m=m.value;try{if(!Nn(g(),m))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bs(e,n,s,c){n&=~Th,n&=~br,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var g=31-gn(m),N=1<<g;c[g]=-1,m&=~N}s!==0&&_i(e,s,n)}function ic(){return(xt&6)===0?(Ao(0),!1):!0}function Oh(){if(rt!==null){if(_t===0)var e=rt.return;else e=rt,Ya=hi=null,Gd(e),ol=null,ho=0,e=rt;for(;e!==null;)gg(e.alternate,e),e=e.return;rt=null}}function xl(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Bb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ui=0,Oh(),Ot=e,rt=s=ka(e.current,null),ut=n,_t=0,ma=null,ys=!1,pl=sa(e,n),Eh=!1,gl=pa=Th=br=xs=en=0,ea=ko=null,kh=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-gn(c),g=1<<m;n|=e[m],c&=~g}return Ii=n,or(),s}function Ug(e,n){et=null,Z.H=_o,n===ll||n===Mu?(n=np(),_t=3):n===Dd?(n=np(),_t=4):_t=n===ch?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ma=n,rt===null&&(en=1,Vu(e,u(n,e.current)))}function Zg(){var e=ha.current;return e===null?!0:(ut&4194048)===ut?Ca===null:(ut&62914560)===ut||(ut&536870912)!==0?e===Ca:!1}function qg(){var e=Z.H;return Z.H=_o,e===null?_o:e}function Fg(){var e=Z.A;return Z.A=gb,e}function sc(){en=4,ys||(ut&4194048)!==ut&&ha.current!==null||(pl=!0),(xs&134217727)===0&&(br&134217727)===0||Ot===null||bs(Ot,ut,pa,!1)}function Mh(e,n,s){var c=xt;xt|=2;var m=qg(),g=Fg();(Ot!==e||ut!==n)&&(ac=null,xl(e,n)),n=!1;var N=en;e:do try{if(_t!==0&&rt!==null){var T=rt,I=ma;switch(_t){case 8:Oh(),N=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(n=!0);var fe=_t;if(_t=0,ma=null,vl(e,T,I,fe),s&&pl){N=0;break e}break;default:fe=_t,_t=0,ma=null,vl(e,T,I,fe)}}vb(),N=en;break}catch(be){Ug(e,be)}while(!0);return n&&e.shellSuspendCounter++,Ya=hi=null,xt=c,Z.H=m,Z.A=g,rt===null&&(Ot=null,ut=0,or()),N}function vb(){for(;rt!==null;)Hg(rt)}function _b(e,n){var s=xt;xt|=2;var c=qg(),m=Fg();Ot!==e||ut!==n?(ac=null,nc=Ye()+500,xl(e,n)):pl=sa(e,n);e:do try{if(_t!==0&&rt!==null){n=rt;var g=ma;t:switch(_t){case 1:_t=0,ma=null,vl(e,n,g,1);break;case 2:case 9:if(ep(g)){_t=0,ma=null,Kg(n);break}n=function(){_t!==2&&_t!==9||Ot!==e||(_t=7),mi(e)},g.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:ep(g)?(_t=0,ma=null,Kg(n)):(_t=0,ma=null,vl(e,n,g,7));break;case 5:var N=null;switch(rt.tag){case 26:N=rt.memoizedState;case 5:case 27:var T=rt;if(N?Ay(N):T.stateNode.complete){_t=0,ma=null;var I=T.sibling;if(I!==null)rt=I;else{var fe=T.return;fe!==null?(rt=fe,rc(fe)):rt=null}break t}}_t=0,ma=null,vl(e,n,g,5);break;case 6:_t=0,ma=null,vl(e,n,g,6);break;case 8:Oh(),en=6;break e;default:throw Error(o(462))}}bb();break}catch(be){Ug(e,be)}while(!0);return Ya=hi=null,Z.H=c,Z.A=m,xt=s,rt!==null?0:(Ot=null,ut=0,or(),en)}function bb(){for(;rt!==null&&!Ge();)Hg(rt)}function Hg(e){var n=mg(e.alternate,e,Ii);e.memoizedProps=e.pendingProps,n===null?rc(e):rt=n}function Kg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=og(s,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=og(s,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:Gd(n);default:gg(s,n),n=rt=io(n,Ii),n=mg(s,n,Ii)}e.memoizedProps=e.pendingProps,n===null?rc(e):rt=n}function vl(e,n,s,c){Ya=hi=null,Gd(n),ol=null,ho=0;var m=n.return;try{if(ub(e,m,n,s,ut)){en=1,Vu(e,u(s,e.current)),rt=null;return}}catch(g){if(m!==null)throw rt=m,g;en=1,Vu(e,u(s,e.current)),rt=null;return}n.flags&32768?(st||c===1?e=!0:pl||(ut&536870912)!==0?e=!1:(ys=e=!0,(c===2||c===9||c===3||c===6)&&(c=ha.current,c!==null&&c.tag===13&&(c.flags|=16384))),Qg(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Qg(n,ys);return}e=n.return;var s=hb(n.alternate,n,Ii);if(s!==null){rt=s;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);en===0&&(en=5)}function Qg(e,n){do{var s=fb(e.alternate,e);if(s!==null){s.flags&=32767,rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){rt=e;return}rt=e=s}while(e!==null);en=6,rt=null}function Vg(e,n,s,c,m,g,N,T,I){e.cancelPendingCommit=null;do lc();while(vn!==0);if((xt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=el,Il(e,s,g,N,T,I),e===Ot&&(rt=Ot=null,ut=0),yl=n,_s=e,Ui=s,Ch=g,Ah=m,Dg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wb(jt,function(){return Jg(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=re.p,re.p=2,N=xt,xt|=4;try{mb(e,n,s)}finally{xt=N,re.p=m,Z.T=c}}vn=1,Gg(),Yg(),$g()}}function Gg(){if(vn===1){vn=0;var e=_s,n=yl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var c=re.p;re.p=2;var m=xt;xt|=4;try{kg(n,e);var g=Kh,N=ar(e.containerInfo),T=g.focusedElem,I=g.selectionRange;if(N!==T&&T&&T.ownerDocument&&$r(T.ownerDocument.documentElement,T)){if(I!==null&&si(T)){var fe=I.start,be=I.end;if(be===void 0&&(be=fe),"selectionStart"in T)T.selectionStart=fe,T.selectionEnd=Math.min(be,T.value.length);else{var we=T.ownerDocument||document,pe=we&&we.defaultView||window;if(pe.getSelection){var ye=pe.getSelection(),Le=T.textContent.length,He=Math.min(I.start,Le),kt=I.end===void 0?He:Math.min(I.end,Le);!ye.extend&&He>kt&&(N=kt,kt=He,He=N);var ne=nr(T,He),Q=nr(T,kt);if(ne&&Q&&(ye.rangeCount!==1||ye.anchorNode!==ne.node||ye.anchorOffset!==ne.offset||ye.focusNode!==Q.node||ye.focusOffset!==Q.offset)){var he=we.createRange();he.setStart(ne.node,ne.offset),ye.removeAllRanges(),He>kt?(ye.addRange(he),ye.extend(Q.node,Q.offset)):(he.setEnd(Q.node,Q.offset),ye.addRange(he))}}}}for(we=[],ye=T;ye=ye.parentNode;)ye.nodeType===1&&we.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<we.length;T++){var Ne=we[T];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}vc=!!Hh,Kh=Hh=null}finally{xt=m,re.p=c,Z.T=s}}e.current=n,vn=2}}function Yg(){if(vn===2){vn=0;var e=_s,n=yl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var c=re.p;re.p=2;var m=xt;xt|=4;try{Sg(e,n.alternate,n)}finally{xt=m,re.p=c,Z.T=s}}vn=3}}function $g(){if(vn===4||vn===3){vn=0,At();var e=_s,n=yl,s=Ui,c=Dg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,yl=_s=null,Xg(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(vs=null),Re(s),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(yt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Z.T,m=re.p,re.p=2,Z.T=null;try{for(var g=e.onRecoverableError,N=0;N<c.length;N++){var T=c[N];g(T.value,{componentStack:T.stack})}}finally{Z.T=n,re.p=m}}(Ui&3)!==0&&lc(),mi(e),m=e.pendingLanes,(s&261930)!==0&&(m&42)!==0?e===zh?Co++:(Co=0,zh=e):Co=0,Ao(0)}}function Xg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,uo(n)))}function lc(){return Gg(),Yg(),$g(),Jg()}function Jg(){if(vn!==5)return!1;var e=_s,n=Ch;Ch=0;var s=Re(Ui),c=Z.T,m=re.p;try{re.p=32>s?32:s,Z.T=null,s=Ah,Ah=null;var g=_s,N=Ui;if(vn=0,yl=_s=null,Ui=0,(xt&6)!==0)throw Error(o(331));var T=xt;if(xt|=4,Mg(g.current),Ag(g,g.current,N,s),xt=T,Ao(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{re.p=m,Z.T=c,Xg(e,n)}}function Wg(e,n,s){n=u(s,n),n=uh(e.stateNode,n,2),e=fs(e,n,2),e!==null&&(ra(e,2),mi(e))}function bt(e,n,s){if(e.tag===3)Wg(e,e,s);else for(;n!==null;){if(n.tag===3){Wg(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vs===null||!vs.has(c))){e=u(s,e),s=eg(2),c=fs(n,s,2),c!==null&&(tg(s,c,n,e),ra(c,2),mi(c));break}}n=n.return}}function Rh(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new yb;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(s)||(Eh=!0,m.add(s),e=Nb.bind(null,e,n,s),n.then(e,e))}function Nb(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ot===e&&(ut&s)===s&&(en===4||en===3&&(ut&62914560)===ut&&300>Ye()-tc?(xt&2)===0&&xl(e,0):Th|=s,gl===ut&&(gl=0)),mi(e)}function ey(e,n){n===0&&(n=Rr()),e=Ta(e,n),e!==null&&(ra(e,n),mi(e))}function Sb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ey(e,s)}function jb(e,n){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(s=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),ey(e,s)}function wb(e,n){return te(e,n)}var oc=null,_l=null,Lh=!1,uc=!1,Dh=!1,Ns=0;function mi(e){e!==_l&&e.next===null&&(_l===null?oc=_l=e:_l=_l.next=e),uc=!0,Lh||(Lh=!0,Tb())}function Ao(e,n){if(!Dh&&uc){Dh=!0;do for(var s=!1,c=oc;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var N=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-gn(42|e)+1)-1,g&=m&~(N&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,iy(c,g))}else g=ut,g=ei(c,c===Ot?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||sa(c,g)||(s=!0,iy(c,g));c=c.next}while(s);Dh=!1}}function Eb(){ty()}function ty(){uc=Lh=!1;var e=0;Ns!==0&&Pb()&&(e=Ns);for(var n=Ye(),s=null,c=oc;c!==null;){var m=c.next,g=ny(c,n);g===0?(c.next=null,s===null?oc=m:s.next=m,m===null&&(_l=s)):(s=c,(e!==0||(g&3)!==0)&&(uc=!0)),c=m}vn!==0&&vn!==5||Ao(e),Ns!==0&&(Ns=0)}function ny(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-gn(g),T=1<<N,I=m[N];I===-1?((T&s)===0||(T&c)!==0)&&(m[N]=Mr(T,n)):I<=n&&(e.expiredLanes|=T),g&=~T}if(n=Ot,s=ut,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ke(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||sa(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&ke(c),Re(s)){case 2:case 8:s=Oe;break;case 32:s=jt;break;case 268435456:s=pn;break;default:s=jt}return c=ay.bind(null,e),s=te(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&ke(c),e.callbackPriority=2,e.callbackNode=null,2}function ay(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var c=ut;return c=ei(e,e===Ot?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Bg(e,c,n),ny(e,Ye()),e.callbackNode!=null&&e.callbackNode===s?ay.bind(null,e):null)}function iy(e,n){if(lc())return null;Bg(e,n,!0)}function Tb(){Ib(function(){(xt&6)!==0?te(V,Eb):ty()})}function Ph(){if(Ns===0){var e=sl;e===0&&(e=Ia,Ia<<=1,(Ia&261888)===0&&(Ia=256)),Ns=e}return Ns}function sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function ry(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function kb(e,n,s,c,m){if(n==="submit"&&s&&s.stateNode===m){var g=sy((m[un]||null).action),N=c.submitter;N&&(n=(n=N[un]||null)?sy(n.formAction):N.getAttribute("formAction"),n!==null&&(g=n,N=null));var T=new Fr("action","action",null,c,m);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ns!==0){var I=N?ry(m,N):new FormData(m);ah(s,{pending:!0,data:I,method:m.method,action:g},null,I)}}else typeof g=="function"&&(T.preventDefault(),I=N?ry(m,N):new FormData(m),ah(s,{pending:!0,data:I,method:m.method,action:g},g,I))},currentTarget:m}]})}}for(var Bh=0;Bh<oi.length;Bh++){var Ih=oi[Bh],Cb=Ih.toLowerCase(),Ab=Ih[0].toUpperCase()+Ih.slice(1);Gn(Cb,"on"+Ab)}Gn(sr,"onAnimationEnd"),Gn(Tu,"onAnimationIteration"),Gn(rr,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(kd,"onTransitionRun"),Gn(ku,"onTransitionStart"),Gn(Cd,"onTransitionCancel"),Gn(os,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function ly(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],m=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var N=c.length-1;0<=N;N--){var T=c[N],I=T.instance,fe=T.currentTarget;if(T=T.listener,I!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=fe;try{g(m)}catch(be){lr(be)}m.currentTarget=null,g=I}else for(N=0;N<c.length;N++){if(T=c[N],I=T.instance,fe=T.currentTarget,T=T.listener,I!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=fe;try{g(m)}catch(be){lr(be)}m.currentTarget=null,g=I}}}}function lt(e,n){var s=n[_a];s===void 0&&(s=n[_a]=new Set);var c=e+"__bubble";s.has(c)||(oy(n,e,2,!1),s.add(c))}function Uh(e,n,s){var c=0;n&&(c|=4),oy(s,e,c,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Zh(e){if(!e[cc]){e[cc]=!0,Zs.forEach(function(s){s!=="selectionchange"&&(zb.has(s)||Uh(s,!1,e),Uh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,Uh("selectionchange",!1,n))}}function oy(e,n,s,c){switch(Py(n)){case 2:var m=sN;break;case 8:m=rN;break;default:m=nf}s=m.bind(null,n,s,e),m=void 0,!Vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,s,{capture:!0,passive:m}):e.addEventListener(n,s,!0):m!==void 0?e.addEventListener(n,s,{passive:m}):e.addEventListener(n,s,!1)}function qh(e,n,s,c,m){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var T=c.stateNode.containerInfo;if(T===m)break;if(N===4)for(N=c.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;T!==null;){if(N=Me(T),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){c=g=N;continue e}T=T.parentNode}}c=c.return}Vl(function(){var fe=g,be=Qs(s),we=[];e:{var pe=Cu.get(e);if(pe!==void 0){var ye=Fr,Le=e;switch(e){case"keypress":if(Gs(s)===0)break e;case"keydown":case"keyup":ye=pu;break;case"focusin":Le="focus",ye=$l;break;case"focusout":Le="blur",ye=$l;break;case"beforeblur":case"afterblur":ye=$l;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Nd;break;case sr:case Tu:case rr:ye=Xl;break;case os:ye=xu;break;case"scroll":case"scrollend":ye=ot;break;case"wheel":ye=Ei;break;case"copy":case"cut":case"paste":ye=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=gu;break;case"toggle":case"beforetoggle":ye=Xs}var He=(n&4)!==0,kt=!He&&(e==="scroll"||e==="scrollend"),ne=He?pe!==null?pe+"Capture":null:pe;He=[];for(var Q=fe,he;Q!==null;){var Ne=Q;if(he=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||he===null||ne===null||(Ne=ji(Q,ne),Ne!=null&&He.push(Oo(Q,Ne,he))),kt)break;Q=Q.return}0<He.length&&(pe=new ye(pe,Le,null,s,be),we.push({event:pe,listeners:He}))}}if((n&7)===0){e:{if(pe=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",pe&&s!==qr&&(Le=s.relatedTarget||s.fromElement)&&(Me(Le)||Le[Za]))break e;if((ye||pe)&&(pe=be.window===be?be:(pe=be.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?(Le=s.relatedTarget||s.toElement,ye=fe,Le=Le?Me(Le):null,Le!==null&&(kt=f(Le),He=Le.tag,Le!==kt||He!==5&&He!==27&&He!==6)&&(Le=null)):(ye=null,Le=fe),ye!==Le)){if(He=cu,Ne="onMouseLeave",ne="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(He=gu,Ne="onPointerLeave",ne="onPointerEnter",Q="pointer"),kt=ye==null?pe:Rn(ye),he=Le==null?pe:Rn(Le),pe=new He(Ne,Q+"leave",ye,s,be),pe.target=kt,pe.relatedTarget=he,Ne=null,Me(be)===fe&&(He=new He(ne,Q+"enter",Le,s,be),He.target=he,He.relatedTarget=kt,Ne=He),kt=Ne,ye&&Le)t:{for(He=Ob,ne=ye,Q=Le,he=0,Ne=ne;Ne;Ne=He(Ne))he++;Ne=0;for(var qe=Q;qe;qe=He(qe))Ne++;for(;0<he-Ne;)ne=He(ne),he--;for(;0<Ne-he;)Q=He(Q),Ne--;for(;he--;){if(ne===Q||Q!==null&&ne===Q.alternate){He=ne;break t}ne=He(ne),Q=He(Q)}He=null}else He=null;ye!==null&&uy(we,pe,ye,He,!1),Le!==null&&kt!==null&&uy(we,kt,Le,He,!0)}}e:{if(pe=fe?Rn(fe):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var pt=tr;else if(ja(pe))if(Nu)pt=Td;else{pt=Ed;var Pe=Qa}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?fe&&Ks(fe.elementType)&&(pt=tr):pt=is;if(pt&&(pt=pt(e,fe))){bu(we,pt,s,be);break e}Pe&&Pe(e,pe,fe),e==="focusout"&&fe&&pe.type==="number"&&fe.memoizedProps.value!=null&&Fa(pe,"number",pe.value)}switch(Pe=fe?Rn(fe):window,e){case"focusin":(ja(Pe)||Pe.contentEditable==="true")&&(ri=Pe,Jr=fe,ir=null);break;case"focusout":ir=Jr=ri=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,wu(we,s,be);break;case"selectionchange":if(Xr)break;case"keydown":case"keyup":wu(we,s,be)}var nt;if(Kr)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ts?_u(e,s)&&(ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(Qr&&s.locale!=="ko"&&(ts||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ts&&(nt=ai()):(Na=be,wi="value"in Na?Na.value:Na.textContent,ts=!0)),Pe=dc(fe,ct),0<Pe.length&&(ct=new Jl(ct,e,null,s,be),we.push({event:ct,listeners:Pe}),nt?ct.data=nt:(nt=no(s),nt!==null&&(ct.data=nt)))),(nt=jd?da(e,s):ns(e,s))&&(ct=dc(fe,"onBeforeInput"),0<ct.length&&(Pe=new Jl("onBeforeInput","beforeinput",null,s,be),we.push({event:Pe,listeners:ct}),Pe.data=nt)),kb(we,e,fe,s,be)}ly(we,n)})}function Oo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ji(e,s),m!=null&&c.unshift(Oo(e,m,g)),m=ji(e,n),m!=null&&c.push(Oo(e,m,g))),e.tag===3)return c;e=e.return}return[]}function Ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function uy(e,n,s,c,m){for(var g=n._reactName,N=[];s!==null&&s!==c;){var T=s,I=T.alternate,fe=T.stateNode;if(T=T.tag,I!==null&&I===c)break;T!==5&&T!==26&&T!==27||fe===null||(I=fe,m?(fe=ji(s,g),fe!=null&&N.unshift(Oo(s,fe,I))):m||(fe=ji(s,g),fe!=null&&N.push(Oo(s,fe,I)))),s=s.return}N.length!==0&&e.push({event:n,listeners:N})}var Mb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function cy(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(Rb,"")}function dy(e,n){return n=cy(n),cy(e)===n}function Tt(e,n,s,c,m,g){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||ba(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&ba(e,""+c);break;case"className":wt(e,"class",c);break;case"tabIndex":wt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wt(e,s,c);break;case"style":Ur(e,c,g);break;case"data":if(n!=="object"){wt(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Xi(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(n!=="input"&&Tt(e,n,"name",m.name,m,null),Tt(e,n,"formEncType",m.formEncType,m,null),Tt(e,n,"formMethod",m.formMethod,m,null),Tt(e,n,"formTarget",m.formTarget,m,null)):(Tt(e,n,"encType",m.encType,m,null),Tt(e,n,"method",m.method,m,null),Tt(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Xi(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=Qn);break;case"onScroll":c!=null&&lt("scroll",e);break;case"onScrollEnd":c!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=Xi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":lt("beforetoggle",e),lt("toggle",e),it(e,"popover",c);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":it(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zr.get(s)||s,it(e,s,c))}}function Fh(e,n,s,c,m,g){switch(s){case"style":Ur(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof c=="string"?ba(e,c):(typeof c=="number"||typeof c=="bigint")&&ba(e,""+c);break;case"onScroll":c!=null&&lt("scroll",e);break;case"onScrollEnd":c!=null&&lt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ou.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),n=s.slice(2,m?s.length-7:void 0),g=e[un]||null,g=g!=null?g[s]:null,typeof g=="function"&&e.removeEventListener(n,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,m);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):it(e,s,c)}}}function Cn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var c=!1,m=!1,g;for(g in s)if(s.hasOwnProperty(g)){var N=s[g];if(N!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Tt(e,n,g,N,s,null)}}m&&Tt(e,n,"srcSet",s.srcSet,s,null),c&&Tt(e,n,"src",s.src,s,null);return;case"input":lt("invalid",e);var T=g=N=m=null,I=null,fe=null;for(c in s)if(s.hasOwnProperty(c)){var be=s[c];if(be!=null)switch(c){case"name":m=be;break;case"type":N=be;break;case"checked":I=be;break;case"defaultChecked":fe=be;break;case"value":g=be;break;case"defaultValue":T=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(o(137,n));break;default:Tt(e,n,c,be,s,null)}}Hs(e,g,T,I,fe,N,m,!1);return;case"select":lt("invalid",e),c=N=g=null;for(m in s)if(s.hasOwnProperty(m)&&(T=s[m],T!=null))switch(m){case"value":g=T;break;case"defaultValue":N=T;break;case"multiple":c=T;default:Tt(e,n,m,T,s,null)}n=g,s=N,e.multiple=!!c,n!=null?zt(e,!!c,n,!1):s!=null&&zt(e,!!c,s,!0);return;case"textarea":lt("invalid",e),g=m=c=null;for(N in s)if(s.hasOwnProperty(N)&&(T=s[N],T!=null))switch(N){case"value":c=T;break;case"defaultValue":m=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Tt(e,n,N,T,s,null)}Yi(e,c,m,g);return;case"option":for(I in s)s.hasOwnProperty(I)&&(c=s[I],c!=null)&&(I==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Tt(e,n,I,c,s,null));return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(c=0;c<zo.length;c++)lt(zo[c],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in s)if(s.hasOwnProperty(fe)&&(c=s[fe],c!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Tt(e,n,fe,c,s,null)}return;default:if(Ks(n)){for(be in s)s.hasOwnProperty(be)&&(c=s[be],c!==void 0&&Fh(e,n,be,c,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(c=s[T],c!=null&&Tt(e,n,T,c,s,null))}function Lb(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,N=null,T=null,I=null,fe=null,be=null;for(ye in s){var we=s[ye];if(s.hasOwnProperty(ye)&&we!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":I=we;default:c.hasOwnProperty(ye)||Tt(e,n,ye,null,c,we)}}for(var pe in c){var ye=c[pe];if(we=s[pe],c.hasOwnProperty(pe)&&(ye!=null||we!=null))switch(pe){case"type":g=ye;break;case"name":m=ye;break;case"checked":fe=ye;break;case"defaultChecked":be=ye;break;case"value":N=ye;break;case"defaultValue":T=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,n));break;default:ye!==we&&Tt(e,n,pe,ye,c,we)}}Hl(e,N,T,I,fe,be,g,m);return;case"select":ye=N=T=pe=null;for(g in s)if(I=s[g],s.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":ye=I;default:c.hasOwnProperty(g)||Tt(e,n,g,null,c,I)}for(m in c)if(g=c[m],I=s[m],c.hasOwnProperty(m)&&(g!=null||I!=null))switch(m){case"value":pe=g;break;case"defaultValue":T=g;break;case"multiple":N=g;default:g!==I&&Tt(e,n,m,g,c,I)}n=T,s=N,c=ye,pe!=null?zt(e,!!s,pe,!1):!!c!=!!s&&(n!=null?zt(e,!!s,n,!0):zt(e,!!s,s?[]:"",!1));return;case"textarea":ye=pe=null;for(T in s)if(m=s[T],s.hasOwnProperty(T)&&m!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Tt(e,n,T,null,c,m)}for(N in c)if(m=c[N],g=s[N],c.hasOwnProperty(N)&&(m!=null||g!=null))switch(N){case"value":pe=m;break;case"defaultValue":ye=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==g&&Tt(e,n,N,m,c,g)}ni(e,pe,ye);return;case"option":for(var Le in s)pe=s[Le],s.hasOwnProperty(Le)&&pe!=null&&!c.hasOwnProperty(Le)&&(Le==="selected"?e.selected=!1:Tt(e,n,Le,null,c,pe));for(I in c)pe=c[I],ye=s[I],c.hasOwnProperty(I)&&pe!==ye&&(pe!=null||ye!=null)&&(I==="selected"?e.selected=pe&&typeof pe!="function"&&typeof pe!="symbol":Tt(e,n,I,pe,c,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in s)pe=s[He],s.hasOwnProperty(He)&&pe!=null&&!c.hasOwnProperty(He)&&Tt(e,n,He,null,c,pe);for(fe in c)if(pe=c[fe],ye=s[fe],c.hasOwnProperty(fe)&&pe!==ye&&(pe!=null||ye!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(o(137,n));break;default:Tt(e,n,fe,pe,c,ye)}return;default:if(Ks(n)){for(var kt in s)pe=s[kt],s.hasOwnProperty(kt)&&pe!==void 0&&!c.hasOwnProperty(kt)&&Fh(e,n,kt,void 0,c,pe);for(be in c)pe=c[be],ye=s[be],!c.hasOwnProperty(be)||pe===ye||pe===void 0&&ye===void 0||Fh(e,n,be,pe,c,ye);return}}for(var ne in s)pe=s[ne],s.hasOwnProperty(ne)&&pe!=null&&!c.hasOwnProperty(ne)&&Tt(e,n,ne,null,c,pe);for(we in c)pe=c[we],ye=s[we],!c.hasOwnProperty(we)||pe===ye||pe==null&&ye==null||Tt(e,n,we,pe,c,ye)}function hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var m=s[c],g=m.transferSize,N=m.initiatorType,T=m.duration;if(g&&T&&hy(N)){for(N=0,T=m.responseEnd,c+=1;c<s.length;c++){var I=s[c],fe=I.startTime;if(fe>T)break;var be=I.transferSize,we=I.initiatorType;be&&hy(we)&&(I=I.responseEnd,N+=be*(I<T?1:(T-fe)/(I-fe)))}if(--c,n+=8*(g+N)/(m.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hh=null,Kh=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function my(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vh=null;function Pb(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var py=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(e){return gy.resolve(null).then(e).catch(Ub)}:py;function Ub(e){setTimeout(function(){throw e})}function Ss(e){return e==="head"}function yy(e,n){var s=n,c=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(m),jl(n);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Mo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Mo(s);for(var g=s.firstChild;g;){var N=g.nextSibling,T=g.nodeName;g[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=N}}else s==="body"&&Mo(e.ownerDocument.body);s=m}while(s);jl(n)}function xy(e,n){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function Gh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gh(s),D(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Zb(e,n,s,c){for(;e.nodeType===1;){var m=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[bi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Aa(e.nextSibling),e===null)break}return null}function qb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Aa(e.nextSibling),e===null))return null;return e}function vy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Aa(e.nextSibling),e===null))return null;return e}function Yh(e){return e.data==="$?"||e.data==="$~"}function $h(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Aa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Xh=null;function _y(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Aa(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function by(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ny(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Mo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);D(e)}var za=new Map,Sy=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=re.d;re.d={f:Hb,r:Kb,D:Qb,C:Vb,L:Gb,m:Yb,X:Xb,S:$b,M:Jb};function Hb(){var e=Zi.f(),n=ic();return e||n}function Kb(e){var n=ht(e);n!==null&&n.tag===5&&n.type==="form"?Up(n):Zi.r(e)}var bl=typeof document>"u"?null:document;function jy(e,n,s){var c=bl;if(c&&typeof n=="string"&&n){var m=Pt(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),Sy.has(m)||(Sy.add(m),e={rel:e,crossOrigin:s,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),Cn(n,"link",e),Kt(n),c.head.appendChild(n)))}}function Qb(e){Zi.D(e),jy("dns-prefetch",e,null)}function Vb(e,n){Zi.C(e,n),jy("preconnect",e,n)}function Gb(e,n,s){Zi.L(e,n,s);var c=bl;if(c&&e&&n){var m='link[rel="preload"][as="'+Pt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Pt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Pt(s.imageSizes)+'"]')):m+='[href="'+Pt(e)+'"]';var g=m;switch(n){case"style":g=Nl(e);break;case"script":g=Sl(e)}za.has(g)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),za.set(g,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(Ro(g))||n==="script"&&c.querySelector(Lo(g))||(n=c.createElement("link"),Cn(n,"link",e),Kt(n),c.head.appendChild(n)))}}function Yb(e,n){Zi.m(e,n);var s=bl;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+Pt(c)+'"][href="'+Pt(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Sl(e)}if(!za.has(g)&&(e=w({rel:"modulepreload",href:e},n),za.set(g,e),s.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Lo(g)))return}c=s.createElement("link"),Cn(c,"link",e),Kt(c),s.head.appendChild(c)}}}function $b(e,n,s){Zi.S(e,n,s);var c=bl;if(c&&e){var m=qa(c).hoistableStyles,g=Nl(e);n=n||"default";var N=m.get(g);if(!N){var T={loading:0,preload:null};if(N=c.querySelector(Ro(g)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=za.get(g))&&Jh(e,s);var I=N=c.createElement("link");Kt(I),Cn(I,"link",e),I._p=new Promise(function(fe,be){I.onload=fe,I.onerror=be}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:T},m.set(g,N)}}}function Xb(e,n){Zi.X(e,n);var s=bl;if(s&&e){var c=qa(s).hoistableScripts,m=Sl(e),g=c.get(m);g||(g=s.querySelector(Lo(m)),g||(e=w({src:e,async:!0},n),(n=za.get(m))&&Wh(e,n),g=s.createElement("script"),Kt(g),Cn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Jb(e,n){Zi.M(e,n);var s=bl;if(s&&e){var c=qa(s).hoistableScripts,m=Sl(e),g=c.get(m);g||(g=s.querySelector(Lo(m)),g||(e=w({src:e,async:!0,type:"module"},n),(n=za.get(m))&&Wh(e,n),g=s.createElement("script"),Kt(g),Cn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function wy(e,n,s,c){var m=(m=J.current)?fc(m):null;if(!m)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Nl(s.href),s=qa(m).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Nl(s.href);var g=qa(m).hoistableStyles,N=g.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=m.querySelector(Ro(e)))&&!g._p&&(N.instance=g,N.state.loading=5),za.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},za.set(e,s),g||Wb(m,e,s,N.state))),n&&c===null)throw Error(o(528,""));return N}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(s),s=qa(m).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nl(e){return'href="'+Pt(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function Ey(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Cn(n,"link",s),Kt(n),e.head.appendChild(n))}function Sl(e){return'[src="'+Pt(e)+'"]'}function Lo(e){return"script[async]"+e}function Ty(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Pt(s.href)+'"]');if(c)return n.instance=c,Kt(c),c;var m=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Kt(c),Cn(c,"style",m),mc(c,s.precedence,e),n.instance=c;case"stylesheet":m=Nl(s.href);var g=e.querySelector(Ro(m));if(g)return n.state.loading|=4,n.instance=g,Kt(g),g;c=Ey(s),(m=za.get(m))&&Jh(c,m),g=(e.ownerDocument||e).createElement("link"),Kt(g);var N=g;return N._p=new Promise(function(T,I){N.onload=T,N.onerror=I}),Cn(g,"link",c),n.state.loading|=4,mc(g,s.precedence,e),n.instance=g;case"script":return g=Sl(s.src),(m=e.querySelector(Lo(g)))?(n.instance=m,Kt(m),m):(c=s,(m=za.get(g))&&(c=w({},s),Wh(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Kt(m),Cn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,mc(c,s.precedence,e));return n.instance}function mc(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,N=0;N<c.length;N++){var T=c[N];if(T.dataset.precedence===n)g=T;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Jh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function ky(e,n,s){if(pc===null){var c=new Map,m=pc=new Map;m.set(s,c)}else m=pc,c=m.get(s),c||(c=new Map,m.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),m=0;m<s.length;m++){var g=s[m];if(!(g[bi]||g[$t]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(n)||"";N=e+N;var T=c.get(N);T?T.push(g):c.set(N,[g])}}return c}function Cy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function eN(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tN(e,n,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Nl(c.href),g=n.querySelector(Ro(m));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=g,Kt(g);return}g=n.ownerDocument||n,c=Ey(c),(m=za.get(m))&&Jh(c,m),g=g.createElement("link"),Kt(g);var N=g;N._p=new Promise(function(T,I){N.onload=T,N.onerror=I}),Cn(g,"link",c),s.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ef=0;function nN(e,n){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&ef===0&&(ef=62500*Db());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>ef?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function xc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(aN,e),yc=null,gc.call(e))}function aN(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var c=s.get(null);else{s=new Map,yc.set(e,s);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var N=m[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(s.set(N.dataset.precedence,N),c=N)}c&&s.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),g=s.get(N)||c,g===c&&s.set(null,m),s.set(N,m),this.count++,c=gc.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Do={$$typeof:U,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function iN(e,n,s,c,m,g,N,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function zy(e,n,s,c,m,g,N,T,I,fe,be,we){return e=new iN(e,n,s,N,I,fe,be,we,T),n=1,g===!0&&(n|=24),g=Dn(3,null,null,n),e.current=g,g.stateNode=e,n=Md(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:n},Pd(g),e}function Oy(e){return e?(e=Ti,e):Ti}function My(e,n,s,c,m,g){m=Oy(m),c.context===null?c.context=m:c.pendingContext=m,c=hs(n),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=fs(e,c,n),s!==null&&(ta(s,e,n),mo(s,e,n))}function Ry(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function tf(e,n){Ry(e,n),(e=e.alternate)&&Ry(e,n)}function Ly(e){if(e.tag===13||e.tag===31){var n=Ta(e,67108864);n!==null&&ta(n,e,67108864),tf(e,67108864)}}function Dy(e){if(e.tag===13||e.tag===31){var n=ga();n=Mn(n);var s=Ta(e,n);s!==null&&ta(s,e,n),tf(e,n)}}var vc=!0;function sN(e,n,s,c){var m=Z.T;Z.T=null;var g=re.p;try{re.p=2,nf(e,n,s,c)}finally{re.p=g,Z.T=m}}function rN(e,n,s,c){var m=Z.T;Z.T=null;var g=re.p;try{re.p=8,nf(e,n,s,c)}finally{re.p=g,Z.T=m}}function nf(e,n,s,c){if(vc){var m=af(c);if(m===null)qh(e,n,c,_c,s),By(e,c);else if(oN(m,e,n,s,c))c.stopPropagation();else if(By(e,c),n&4&&-1<lN.indexOf(e)){for(;m!==null;){var g=ht(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=va(g.pendingLanes);if(N!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var I=1<<31-gn(N);T.entanglements[1]|=I,N&=~I}mi(g),(xt&6)===0&&(nc=Ye()+500,Ao(0))}}break;case 31:case 13:T=Ta(g,2),T!==null&&ta(T,g,2),ic(),tf(g,2)}if(g=af(c),g===null&&qh(e,n,c,_c,s),g===m)break;m=g}m!==null&&c.stopPropagation()}else qh(e,n,c,null,s)}}function af(e){return e=Qs(e),sf(e)}var _c=null;function sf(e){if(_c=null,e=Me(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=p(n),e!==null)return e;e=null}else if(s===31){if(e=x(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function Py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case V:return 2;case Oe:return 8;case jt:case $e:return 32;case pn:return 268435456;default:return 32}default:return 32}}var rf=!1,js=null,ws=null,Es=null,Po=new Map,Bo=new Map,Ts=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(n.pointerId)}}function Io(e,n,s,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},n!==null&&(n=ht(n),n!==null&&Ly(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function oN(e,n,s,c,m){switch(n){case"focusin":return js=Io(js,e,n,s,c,m),!0;case"dragenter":return ws=Io(ws,e,n,s,c,m),!0;case"mouseover":return Es=Io(Es,e,n,s,c,m),!0;case"pointerover":var g=m.pointerId;return Po.set(g,Io(Po.get(g)||null,e,n,s,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Bo.set(g,Io(Bo.get(g)||null,e,n,s,c,m)),!0}return!1}function Iy(e){var n=Me(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){e.blockedOn=n,Vi(e.priority,function(){Dy(s)});return}}else if(n===31){if(n=x(s),n!==null){e.blockedOn=n,Vi(e.priority,function(){Dy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=af(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);qr=c,s.target.dispatchEvent(c),qr=null}else return n=ht(s),n!==null&&Ly(n),e.blockedOn=s,!1;n.shift()}return!0}function Uy(e,n,s){bc(e)&&s.delete(n)}function uN(){rf=!1,js!==null&&bc(js)&&(js=null),ws!==null&&bc(ws)&&(ws=null),Es!==null&&bc(Es)&&(Es=null),Po.forEach(Uy),Bo.forEach(Uy)}function Nc(e,n){e.blockedOn===n&&(e.blockedOn=null,rf||(rf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uN)))}var Sc=null;function Zy(e){Sc!==e&&(Sc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(sf(c||s)===null)continue;break}var g=ht(s);g!==null&&(e.splice(n,3),n-=3,ah(g,{pending:!0,data:m,method:s.method,action:c},c,m))}}))}function jl(e){function n(I){return Nc(I,e)}js!==null&&Nc(js,e),ws!==null&&Nc(ws,e),Es!==null&&Nc(Es,e),Po.forEach(n),Bo.forEach(n);for(var s=0;s<Ts.length;s++){var c=Ts[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ts.length&&(s=Ts[0],s.blockedOn===null);)Iy(s),s.blockedOn===null&&Ts.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var m=s[c],g=s[c+1],N=m[un]||null;if(typeof g=="function")N||Zy(s);else if(N){var T=null;if(g&&g.hasAttribute("formAction")){if(m=g,N=g[un]||null)T=N.formAction;else if(sf(m)!==null)continue}else T=N.action;typeof T=="function"?s[c+1]=T:(s.splice(c,3),c-=3),Zy(s)}}}function qy(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function lf(e){this._internalRoot=e}jc.prototype.render=lf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var s=n.current,c=ga();My(s,c,e,n,null,null)},jc.prototype.unmount=lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;My(e.current,2,null,e,null,null),ic(),n[Za]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Us();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ts.length&&n!==0&&n<Ts[s].priority;s++);Ts.splice(s,0,e),s===0&&Iy(e)}};var Fy=a.version;if(Fy!=="19.2.4")throw Error(o(527,Fy,"19.2.4"));re.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(n),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var cN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{yt=wc.inject(cN),Dt=wc}catch{}}return Zo.createRoot=function(e,n){if(!d(e))throw Error(o(299));var s=!1,c="",m=$p,g=Xp,N=Jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=zy(e,1,!1,null,null,s,c,null,m,g,N,qy),e[Za]=n.current,Zh(e),new lf(n)},Zo.hydrateRoot=function(e,n,s){if(!d(e))throw Error(o(299));var c=!1,m="",g=$p,N=Xp,T=Jp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=zy(e,1,!0,n,s??null,c,m,I,g,N,T,qy),n.context=Oy(null),s=n.current,c=ga(),c=Mn(c),m=hs(c),m.callback=null,fs(s,m,c),s=c,n.current.lanes=s,ra(n,s),mi(n),e[Za]=n.current,Zh(e),new jc(n)},Zo.version="19.2.4",Zo}var Wy;function bN(){if(Wy)return cf.exports;Wy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),cf.exports=_N(),cf.exports}var NN=bN();const SN=ad(NN);var Al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jN={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},wN=class{#e=jN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},Nr=new wN;function EN(t){setTimeout(t,0)}var wr=typeof window>"u"||"Deno"in globalThis;function Hn(){}function TN(t,a){return typeof t=="function"?t(a):t}function Xf(t){return typeof t=="number"&&t>=0&&t!==1/0}function t0(t,a){return Math.max(t+(a||0)-Date.now(),0)}function zs(t,a){return typeof t=="function"?t(a):t}function Oa(t,a){return typeof t=="function"?t(a):t}function ex(t,a){const{type:l="all",exact:o,fetchStatus:d,predicate:f,queryKey:p,stale:x}=t;if(p){if(o){if(a.queryHash!==_m(p,a.options))return!1}else if(!Yo(a.queryKey,p))return!1}if(l!=="all"){const v=a.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof x=="boolean"&&a.isStale()!==x||d&&d!==a.state.fetchStatus||f&&!f(a))}function tx(t,a){const{exact:l,status:o,predicate:d,mutationKey:f}=t;if(f){if(!a.options.mutationKey)return!1;if(l){if(Er(a.options.mutationKey)!==Er(f))return!1}else if(!Yo(a.options.mutationKey,f))return!1}return!(o&&a.state.status!==o||d&&!d(a))}function _m(t,a){return(a?.queryKeyHashFn||Er)(t)}function Er(t){return JSON.stringify(t,(a,l)=>Jf(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Yo(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>Yo(t[l],a[l])):!1}var kN=Object.prototype.hasOwnProperty;function n0(t,a,l=0){if(t===a)return t;if(l>500)return a;const o=nx(t)&&nx(a);if(!o&&!(Jf(t)&&Jf(a)))return a;const f=(o?t:Object.keys(t)).length,p=o?a:Object.keys(a),x=p.length,v=o?new Array(x):{};let _=0;for(let j=0;j<x;j++){const w=o?j:p[j],k=t[w],z=a[w];if(k===z){v[w]=k,(o?j<f:kN.call(t,w))&&_++;continue}if(k===null||z===null||typeof k!="object"||typeof z!="object"){v[w]=z;continue}const C=n0(k,z,l+1);v[w]=C,C===k&&_++}return f===x&&_===f?t:v}function Qc(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function nx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jf(t){if(!ax(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!ax(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ax(t){return Object.prototype.toString.call(t)==="[object Object]"}function CN(t){return new Promise(a=>{Nr.setTimeout(a,t)})}function Wf(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?n0(t,a):a}function AN(t,a,l=0){const o=[...t,a];return l&&o.length>l?o.slice(1):o}function zN(t,a,l=0){const o=[a,...t];return l&&o.length>l?o.slice(0,-1):o}var bm=Symbol();function a0(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===bm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Nm(t,a){return typeof t=="function"?t(...a):!!t}function ON(t,a,l){let o=!1,d;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(d??=a(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),t}var MN=class extends Al{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!wr&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Sm=new MN;function em(){let t,a;const l=new Promise((d,f)=>{t=d,a=f});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),t(d)},l.reject=d=>{o({status:"rejected",reason:d}),a(d)},l}var RN=EN;function LN(){let t=[],a=0,l=x=>{x()},o=x=>{x()},d=RN;const f=x=>{a?t.push(x):d(()=>{l(x)})},p=()=>{const x=t;t=[],x.length&&d(()=>{o(()=>{x.forEach(v=>{l(v)})})})};return{batch:x=>{let v;a++;try{v=x()}finally{a--,a||p()}return v},batchCalls:x=>(...v)=>{f(()=>{x(...v)})},schedule:f,setNotifyFunction:x=>{l=x},setBatchNotifyFunction:x=>{o=x},setScheduler:x=>{d=x}}}var _n=LN(),DN=class extends Al{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!wr&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},Vc=new DN;function PN(t){return Math.min(1e3*2**t,3e4)}function i0(t){return(t??"online")==="online"?Vc.isOnline():!0}var tm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function s0(t){let a=!1,l=0,o;const d=em(),f=()=>d.status!=="pending",p=A=>{if(!f()){const M=new tm(A);k(M),t.onCancel?.(M)}},x=()=>{a=!0},v=()=>{a=!1},_=()=>Sm.isFocused()&&(t.networkMode==="always"||Vc.isOnline())&&t.canRun(),j=()=>i0(t.networkMode)&&t.canRun(),w=A=>{f()||(o?.(),d.resolve(A))},k=A=>{f()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=M=>{(f()||_())&&A(M)},t.onPause?.()}).then(()=>{o=void 0,f()||t.onContinue?.()}),C=()=>{if(f())return;let A;const M=l===0?t.initialPromise:void 0;try{A=M??t.fn()}catch(F){A=Promise.reject(F)}Promise.resolve(A).then(w).catch(F=>{if(f())return;const B=t.retry??(wr?0:3),U=t.retryDelay??PN,K=typeof U=="function"?U(l,F):U,$=B===!0||typeof B=="number"&&l<B||typeof B=="function"&&B(l,F);if(a||!$){k(F);return}l++,t.onFail?.(l,F),CN(K).then(()=>_()?void 0:z()).then(()=>{a?k(F):C()})})};return{promise:d,status:()=>d.status,cancel:p,continue:()=>(o?.(),d),cancelRetry:x,continueRetry:v,canStart:j,start:()=>(j()?C():z().then(C),d)}}var r0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xf(this.gcTime)&&(this.#e=Nr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Nr.clearTimeout(this.#e),this.#e=void 0)}},BN=class extends r0{#e;#t;#n;#i;#a;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=sx(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=sx(this.options);a.data!==void 0&&(this.setState(ix(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const l=Wf(this.state.data,t,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#s({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Oa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!t0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(v=>v.options.queryFn);x&&this.setOptions(x.options)}const l=new AbortController,o=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const x=a0(this.options,a),_=(()=>{const j={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(j),j})();return this.#l=!1,this.options.persister?this.options.persister(x,_,this):x(_)},p=(()=>{const x={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:d};return o(x),x})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#a=s0({initialPromise:a?.initialPromise,fn:p.fetchFn,onCancel:x=>{x instanceof tm&&x.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(x,v)=>{this.#s({type:"failed",failureCount:x,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const x=await this.#a.start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),this.#n.config.onSuccess?.(x,this),this.#n.config.onSettled?.(x,this.state.error,this),x}catch(x){if(x instanceof tm){if(x.silent)return this.#a.promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw this.#s({type:"error",error:x}),this.#n.config.onError?.(x,this),this.#n.config.onSettled?.(this.state.data,x,this),x}finally{this.scheduleGc()}}#s(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...l0(l.data,this.options),fetchMeta:t.meta??null};case"success":const o={...l,...ix(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const d=t.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),_n.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function l0(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i0(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ix(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sx(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,o=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var IN=class extends Al{constructor(t,a){super(),this.options=a,this.#e=t,this.#s=null,this.#l=em(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#r;#l;#s;#p;#h;#f;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),rx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Qc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&lx(this.#t,l,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Oa(this.options.enabled,this.#t)!==Oa(a.enabled,this.#t)||zs(this.options.staleTime,this.#t)!==zs(a.staleTime,this.#t))&&this.#g();const d=this.#y();o&&(this.#t!==l||Oa(this.options.enabled,this.#t)!==Oa(a.enabled,this.#t)||d!==this.#o)&&this.#x(d)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return ZN(this,l)&&(this.#i=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#i}trackResult(t,a){return new Proxy(t,{get:(l,o)=>(this.trackProp(o),a?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(Hn)),a}#g(){this.#_();const t=zs(this.options.staleTime,this.#t);if(wr||this.#i.isStale||!Xf(t))return;const l=t0(this.#i.dataUpdatedAt,t)+1;this.#u=Nr.setTimeout(()=>{this.#i.isStale||this.updateResult()},l)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#b(),this.#o=t,!(wr||Oa(this.options.enabled,this.#t)===!1||!Xf(this.#o)||this.#o===0)&&(this.#c=Nr.setInterval(()=>{(this.options.refetchIntervalInBackground||Sm.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#x(this.#y())}#_(){this.#u&&(Nr.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(Nr.clearInterval(this.#c),this.#c=void 0)}createResult(t,a){const l=this.#t,o=this.options,d=this.#i,f=this.#a,p=this.#r,v=t!==l?t.state:this.#n,{state:_}=t;let j={..._},w=!1,k;if(a._optimisticResults){const Y=this.hasListeners(),X=!Y&&rx(t,a),ve=Y&&lx(t,l,a,o);(X||ve)&&(j={...j,...l0(_.data,t.options)}),a._optimisticResults==="isRestoring"&&(j.fetchStatus="idle")}let{error:z,errorUpdatedAt:C,status:A}=j;k=j.data;let M=!1;if(a.placeholderData!==void 0&&k===void 0&&A==="pending"){let Y;d?.isPlaceholderData&&a.placeholderData===p?.placeholderData?(Y=d.data,M=!0):Y=typeof a.placeholderData=="function"?a.placeholderData(this.#f?.state.data,this.#f):a.placeholderData,Y!==void 0&&(A="success",k=Wf(d?.data,Y,a),w=!0)}if(a.select&&k!==void 0&&!M)if(d&&k===f?.data&&a.select===this.#p)k=this.#h;else try{this.#p=a.select,k=a.select(k),k=Wf(d?.data,k,a),this.#h=k,this.#s=null}catch(Y){this.#s=Y}this.#s&&(z=this.#s,k=this.#h,C=Date.now(),A="error");const F=j.fetchStatus==="fetching",B=A==="pending",U=A==="error",K=B&&F,$=k!==void 0,W={status:A,fetchStatus:j.fetchStatus,isPending:B,isSuccess:A==="success",isError:U,isInitialLoading:K,isLoading:K,data:k,dataUpdatedAt:j.dataUpdatedAt,error:z,errorUpdatedAt:C,failureCount:j.fetchFailureCount,failureReason:j.fetchFailureReason,errorUpdateCount:j.errorUpdateCount,isFetched:j.dataUpdateCount>0||j.errorUpdateCount>0,isFetchedAfterMount:j.dataUpdateCount>v.dataUpdateCount||j.errorUpdateCount>v.errorUpdateCount,isFetching:F,isRefetching:F&&!B,isLoadingError:U&&!$,isPaused:j.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:U&&$,isStale:jm(t,a),refetch:this.refetch,promise:this.#l,isEnabled:Oa(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Y=W.data!==void 0,X=W.status==="error"&&!Y,ve=oe=>{X?oe.reject(W.error):Y&&oe.resolve(W.data)},ae=()=>{const oe=this.#l=W.promise=em();ve(oe)},ce=this.#l;switch(ce.status){case"pending":t.queryHash===l.queryHash&&ve(ce);break;case"fulfilled":(X||W.data!==ce.value)&&ae();break;case"rejected":(!X||W.error!==ce.reason)&&ae();break}}return W}updateResult(){const t=this.#i,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#f=this.#t),Qc(a,t))return;this.#i=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#m.size)return!0;const f=new Set(d??this.#m);return this.options.throwOnError&&f.add("error"),Object.keys(this.#i).some(p=>{const x=p;return this.#i[x]!==t[x]&&f.has(x)})};this.#S({listeners:l()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function UN(t,a){return Oa(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function rx(t,a){return UN(t,a)||t.state.data!==void 0&&nm(t,a,a.refetchOnMount)}function nm(t,a,l){if(Oa(a.enabled,t)!==!1&&zs(a.staleTime,t)!=="static"){const o=typeof l=="function"?l(t):l;return o==="always"||o!==!1&&jm(t,a)}return!1}function lx(t,a,l,o){return(t!==a||Oa(o.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&jm(t,l)}function jm(t,a){return Oa(a.enabled,t)!==!1&&t.isStaleByTime(zs(a.staleTime,t))}function ZN(t,a){return!Qc(t.getCurrentResult(),a)}function ox(t){return{onFetch:(a,l)=>{const o=a.options,d=a.fetchOptions?.meta?.fetchMore?.direction,f=a.state.data?.pages||[],p=a.state.data?.pageParams||[];let x={pages:[],pageParams:[]},v=0;const _=async()=>{let j=!1;const w=C=>{ON(C,()=>a.signal,()=>j=!0)},k=a0(a.options,a.fetchOptions),z=async(C,A,M)=>{if(j)return Promise.reject();if(A==null&&C.pages.length)return Promise.resolve(C);const B=(()=>{const G={client:a.client,queryKey:a.queryKey,pageParam:A,direction:M?"backward":"forward",meta:a.options.meta};return w(G),G})(),U=await k(B),{maxPages:K}=a.options,$=M?zN:AN;return{pages:$(C.pages,U,K),pageParams:$(C.pageParams,A,K)}};if(d&&f.length){const C=d==="backward",A=C?qN:ux,M={pages:f,pageParams:p},F=A(o,M);x=await z(M,F,C)}else{const C=t??f.length;do{const A=v===0?p[0]??o.initialPageParam:ux(o,x);if(v>0&&A==null)break;x=await z(x,A),v++}while(v<C)}return x};a.options.persister?a.fetchFn=()=>a.options.persister?.(_,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=_}}}function ux(t,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,l[o],l):void 0}function qN(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var FN=class extends r0{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||o0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=s0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(f,p)=>{this.#a({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#i.canStart();try{if(o)a();else{this.#a({type:"pending",variables:t,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,l);const p=await this.options.onMutate?.(t,l);p!==this.state.context&&this.#a({type:"pending",context:p,variables:t,isPaused:d})}const f=await this.#i.start();return await this.#n.config.onSuccess?.(f,t,this.state.context,this,l),await this.options.onSuccess?.(f,t,this.state.context,l),await this.#n.config.onSettled?.(f,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(f,null,t,this.state.context,l),this.#a({type:"success",data:f}),f}catch(f){try{await this.#n.config.onError?.(f,t,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onError?.(f,t,this.state.context,l)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,f,this.state.variables,this.state.context,this,l)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,f,t,this.state.context,l)}catch(p){Promise.reject(p)}throw this.#a({type:"error",error:f}),f}finally{this.#n.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),_n.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function o0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HN=class extends Al{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,l){const o=new FN({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:l});return this.add(o),o}add(t){this.#e.add(t);const a=Ec(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Ec(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const o=l.indexOf(t);o!==-1&&l.splice(o,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Ec(t);if(typeof a=="string"){const o=this.#t.get(a)?.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=Ec(t);return typeof a=="string"?this.#t.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_n.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>tx(a,l))}findAll(t={}){return this.getAll().filter(a=>tx(t,a))}notify(t){_n.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return _n.batch(()=>Promise.all(t.map(a=>a.continue().catch(Hn))))}};function Ec(t){return t.options.scope?.id}var KN=class extends Al{#e;#t=void 0;#n;#i;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),Qc(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&Er(l.mutationKey)!==Er(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#r(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(a,l){return this.#i=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??o0();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#r(a){_n.batch(()=>{if(this.#i&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#i.onSuccess?.(a.data,l,o,d)}catch(f){Promise.reject(f)}try{this.#i.onSettled?.(a.data,null,l,o,d)}catch(f){Promise.reject(f)}}else if(a?.type==="error"){try{this.#i.onError?.(a.error,l,o,d)}catch(f){Promise.reject(f)}try{this.#i.onSettled?.(void 0,a.error,l,o,d)}catch(f){Promise.reject(f)}}}this.listeners.forEach(l=>{l(this.#t)})})}},QN=class extends Al{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const o=a.queryKey,d=a.queryHash??_m(o,a);let f=this.get(d);return f||(f=new BN({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(o)}),this.add(f)),f}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>ex(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>ex(t,l)):a}notify(t){_n.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},VN=class{#e;#t;#n;#i;#a;#r;#l;#s;constructor(t={}){this.#e=t.queryCache||new QN,this.#t=t.mutationCache||new HN,this.#n=t.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Sm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Vc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(zs(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(t,a,l){const o=this.defaultQueryOptions({queryKey:t}),f=this.#e.get(o.queryHash)?.state.data,p=TN(a,f);if(p!==void 0)return this.#e.build(this,o).setData(p,{...l,manual:!0})}setQueriesData(t,a,l){return _n.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;_n.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return _n.batch(()=>(l.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},o=_n.batch(()=>this.#e.findAll(t).map(d=>d.cancel(l)));return Promise.all(o).then(Hn).catch(Hn)}invalidateQueries(t,a={}){return _n.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=_n.batch(()=>this.#e.findAll(t).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let f=d.fetch(void 0,l);return l.throwOnError||(f=f.catch(Hn)),d.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(o).then(Hn)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(zs(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=ox(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=ox(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#i.set(Er(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#i.values()],l={};return a.forEach(o=>{Yo(t,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(Er(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(o=>{Yo(t,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=_m(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===bm&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},u0=S.createContext(void 0),zn=t=>{const a=S.useContext(u0);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},GN=({client:t,children:a})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),r.jsx(u0.Provider,{value:t,children:a})),c0=S.createContext(!1),YN=()=>S.useContext(c0);c0.Provider;function $N(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XN=S.createContext($N()),JN=()=>S.useContext(XN),WN=(t,a,l)=>{const o=l?.state.error&&typeof t.throwOnError=="function"?Nm(t.throwOnError,[l.state.error,l]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||o)&&(a.isReset()||(t.retryOnMount=!1))},eS=t=>{S.useEffect(()=>{t.clearReset()},[t])},tS=({result:t,errorResetBoundary:a,throwOnError:l,query:o,suspense:d})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(d&&t.data===void 0||Nm(l,[t.error,o])),nS=t=>{if(t.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},aS=(t,a)=>t.isLoading&&t.isFetching&&!a,iS=(t,a)=>t?.suspense&&a.isPending,cx=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function sS(t,a,l){const o=YN(),d=JN(),f=zn(),p=f.defaultQueryOptions(t);f.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const x=f.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",nS(p),WN(p,d,x),eS(d);const v=!f.getQueryCache().get(p.queryHash),[_]=S.useState(()=>new a(f,p)),j=_.getOptimisticResult(p),w=!o&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(k=>{const z=w?_.subscribe(_n.batchCalls(k)):Hn;return _.updateResult(),z},[_,w]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),S.useEffect(()=>{_.setOptions(p)},[p,_]),iS(p,j))throw cx(p,_,d);if(tS({result:j,errorResetBoundary:d,throwOnError:p.throwOnError,query:x,suspense:p.suspense}))throw j.error;return f.getDefaultOptions().queries?._experimental_afterQuery?.(p,j),p.experimental_prefetchInRender&&!wr&&aS(j,o)&&(v?cx(p,_,d):x?.promise)?.catch(Hn).finally(()=>{_.updateResult()}),p.notifyOnChangeProps?j:_.trackResult(j)}function Ue(t,a){return sS(t,IN)}function Ke(t,a){const l=zn(),[o]=S.useState(()=>new KN(l,t));S.useEffect(()=>{o.setOptions(t)},[o,t]);const d=S.useSyncExternalStore(S.useCallback(p=>o.subscribe(_n.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f=S.useCallback((p,x)=>{o.mutate(p,x).catch(Hn)},[o]);if(d.error&&Nm(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:f,mutateAsync:d.mutate}}var dx="popstate";function rS(t={}){function a(o,d){let{pathname:f,search:p,hash:x}=o.location;return am("",{pathname:f,search:p,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:$o(d)}return oS(a,l,null,t)}function Ft(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Ma(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function lS(){return Math.random().toString(36).substring(2,10)}function hx(t,a){return{usr:t.state,key:t.key,idx:a}}function am(t,a,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?zl(a):a,state:l,key:a&&a.key||o||lS()}}function $o({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function zl(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function oS(t,a,l,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,p=d.history,x="POP",v=null,_=j();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function j(){return(p.state||{idx:null}).idx}function w(){x="POP";let M=j(),F=M==null?null:M-_;_=M,v&&v({action:x,location:A.location,delta:F})}function k(M,F){x="PUSH";let B=am(A.location,M,F);_=j()+1;let U=hx(B,_),K=A.createHref(B);try{p.pushState(U,"",K)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;d.location.assign(K)}f&&v&&v({action:x,location:A.location,delta:1})}function z(M,F){x="REPLACE";let B=am(A.location,M,F);_=j();let U=hx(B,_),K=A.createHref(B);p.replaceState(U,"",K),f&&v&&v({action:x,location:A.location,delta:0})}function C(M){return uS(M)}let A={get action(){return x},get location(){return t(d,p)},listen(M){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(dx,w),v=M,()=>{d.removeEventListener(dx,w),v=null}},createHref(M){return a(d,M)},createURL:C,encodeLocation(M){let F=C(M);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:k,replace:z,go(M){return p.go(M)}};return A}function uS(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:$o(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function d0(t,a,l="/"){return cS(t,a,l,!1)}function cS(t,a,l,o){let d=typeof a=="string"?zl(a):a,f=Ki(d.pathname||"/",l);if(f==null)return null;let p=h0(t);dS(p);let x=null;for(let v=0;x==null&&v<p.length;++v){let _=NS(f);x=_S(p[v],_,o)}return x}function h0(t,a=[],l=[],o="",d=!1){let f=(p,x,v=d,_)=>{let j={relativePath:_===void 0?p.path||"":_,caseSensitive:p.caseSensitive===!0,childrenIndex:x,route:p};if(j.relativePath.startsWith("/")){if(!j.relativePath.startsWith(o)&&v)return;Ft(j.relativePath.startsWith(o),`Absolute route path "${j.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),j.relativePath=j.relativePath.slice(o.length)}let w=Hi([o,j.relativePath]),k=l.concat(j);p.children&&p.children.length>0&&(Ft(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),h0(p.children,a,k,w,v)),!(p.path==null&&!p.index)&&a.push({path:w,score:xS(w,p.index),routesMeta:k})};return t.forEach((p,x)=>{if(p.path===""||!p.path?.includes("?"))f(p,x);else for(let v of f0(p.path))f(p,x,!0,v)}),a}function f0(t){let a=t.split("/");if(a.length===0)return[];let[l,...o]=a,d=l.endsWith("?"),f=l.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let p=f0(o.join("/")),x=[];return x.push(...p.map(v=>v===""?f:[f,v].join("/"))),d&&x.push(...p),x.map(v=>t.startsWith("/")&&v===""?"/":v)}function dS(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:vS(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var hS=/^:[\w-]+$/,fS=3,mS=2,pS=1,gS=10,yS=-2,fx=t=>t==="*";function xS(t,a){let l=t.split("/"),o=l.length;return l.some(fx)&&(o+=yS),a&&(o+=mS),l.filter(d=>!fx(d)).reduce((d,f)=>d+(hS.test(f)?fS:f===""?pS:gS),o)}function vS(t,a){return t.length===a.length&&t.slice(0,-1).every((o,d)=>o===a[d])?t[t.length-1]-a[a.length-1]:0}function _S(t,a,l=!1){let{routesMeta:o}=t,d={},f="/",p=[];for(let x=0;x<o.length;++x){let v=o[x],_=x===o.length-1,j=f==="/"?a:a.slice(f.length)||"/",w=Gc({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},j),k=v.route;if(!w&&_&&l&&!o[o.length-1].route.index&&(w=Gc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},j)),!w)return null;Object.assign(d,w.params),p.push({params:d,pathname:Hi([f,w.pathname]),pathnameBase:ES(Hi([f,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(f=Hi([f,w.pathnameBase]))}return p}function Gc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=bS(t.path,t.caseSensitive,t.end),d=a.match(l);if(!d)return null;let f=d[0],p=f.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:o.reduce((_,{paramName:j,isOptional:w},k)=>{if(j==="*"){let C=x[k]||"";p=f.slice(0,f.length-C.length).replace(/(.)\/+$/,"$1")}const z=x[k];return w&&!z?_[j]=void 0:_[j]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:p,pattern:t}}function bS(t,a=!1,l=!0){Ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,x,v)=>(o.push({paramName:x,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function NS(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ma(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Ki(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function jS(t,a="/"){let{pathname:l,search:o="",hash:d=""}=typeof t=="string"?zl(t):t,f;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?f=mx(l.substring(1),"/"):f=mx(l,a)):f=a,{pathname:f,search:TS(o),hash:kS(d)}}function mx(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function mf(t,a,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wS(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function wm(t){let a=wS(t);return a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase)}function Em(t,a,l,o=!1){let d;typeof t=="string"?d=zl(t):(d={...t},Ft(!d.pathname||!d.pathname.includes("?"),mf("?","pathname","search",d)),Ft(!d.pathname||!d.pathname.includes("#"),mf("#","pathname","hash",d)),Ft(!d.search||!d.search.includes("#"),mf("#","search","hash",d)));let f=t===""||d.pathname==="",p=f?"/":d.pathname,x;if(p==null)x=l;else{let w=a.length-1;if(!o&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),w-=1;d.pathname=k.join("/")}x=w>=0?a[w]:"/"}let v=jS(d,x),_=p&&p!=="/"&&p.endsWith("/"),j=(f||p===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(_||j)&&(v.pathname+="/"),v}var Hi=t=>t.join("/").replace(/\/\/+/g,"/"),ES=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,CS=class{constructor(t,a,l,o=!1){this.status=t,this.statusText=a||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function AS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function zS(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function p0(t,a){let l=t;if(typeof l!="string"||!SS.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(m0)try{let f=new URL(window.location.href),p=l.startsWith("//")?new URL(f.protocol+l):new URL(l),x=Ki(p.pathname,a);p.origin===f.origin&&x!=null?l=x+p.search+p.hash:d=!0}catch{Ma(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g0=["POST","PUT","PATCH","DELETE"];new Set(g0);var OS=["GET",...g0];new Set(OS);var Ol=S.createContext(null);Ol.displayName="DataRouter";var id=S.createContext(null);id.displayName="DataRouterState";var MS=S.createContext(!1),y0=S.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var RS=S.createContext(new Map);RS.displayName="Fetchers";var LS=S.createContext(null);LS.displayName="Await";var xa=S.createContext(null);xa.displayName="Navigation";var eu=S.createContext(null);eu.displayName="Location";var Ra=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var Tm=S.createContext(null);Tm.displayName="RouteError";var x0="REACT_ROUTER_ERROR",DS="REDIRECT",PS="ROUTE_ERROR_RESPONSE";function BS(t){if(t.startsWith(`${x0}:${DS}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function IS(t){if(t.startsWith(`${x0}:${PS}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new CS(a.status,a.statusText,a.data)}catch{}}function US(t,{relative:a}={}){Ft(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=S.useContext(xa),{hash:d,pathname:f,search:p}=tu(t,{relative:a}),x=f;return l!=="/"&&(x=f==="/"?l:Hi([l,f])),o.createHref({pathname:x,search:p,hash:d})}function Ml(){return S.useContext(eu)!=null}function La(){return Ft(Ml(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(eu).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _0(t){S.useContext(xa).static||S.useLayoutEffect(t)}function Rl(){let{isDataRoute:t}=S.useContext(Ra);return t?nj():ZS()}function ZS(){Ft(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ol),{basename:a,navigator:l}=S.useContext(xa),{matches:o}=S.useContext(Ra),{pathname:d}=La(),f=JSON.stringify(wm(o)),p=S.useRef(!1);return _0(()=>{p.current=!0}),S.useCallback((v,_={})=>{if(Ma(p.current,v0),!p.current)return;if(typeof v=="number"){l.go(v);return}let j=Em(v,JSON.parse(f),d,_.relative==="path");t==null&&a!=="/"&&(j.pathname=j.pathname==="/"?a:Hi([a,j.pathname])),(_.replace?l.replace:l.push)(j,_.state,_)},[a,l,f,d,t])}var qS=S.createContext(null);function FS(t){let a=S.useContext(Ra).outlet;return S.useMemo(()=>a&&S.createElement(qS.Provider,{value:t},a),[a,t])}function HS(){let{matches:t}=S.useContext(Ra),a=t[t.length-1];return a?a.params:{}}function tu(t,{relative:a}={}){let{matches:l}=S.useContext(Ra),{pathname:o}=La(),d=JSON.stringify(wm(l));return S.useMemo(()=>Em(t,JSON.parse(d),o,a==="path"),[t,d,o,a])}function KS(t,a){return b0(t,a)}function b0(t,a,l,o,d){Ft(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=S.useContext(xa),{matches:p}=S.useContext(Ra),x=p[p.length-1],v=x?x.params:{},_=x?x.pathname:"/",j=x?x.pathnameBase:"/",w=x&&x.route;{let B=w&&w.path||"";S0(_,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let k=La(),z;if(a){let B=typeof a=="string"?zl(a):a;Ft(j==="/"||B.pathname?.startsWith(j),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${j}" but pathname "${B.pathname}" was given in the \`location\` prop.`),z=B}else z=k;let C=z.pathname||"/",A=C;if(j!=="/"){let B=j.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=d0(t,{pathname:A});Ma(w||M!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Ma(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=$S(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},v,B.params),pathname:Hi([j,f.encodeLocation?f.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?j:Hi([j,f.encodeLocation?f.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),p,l,o,d);return a&&F?S.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},F):F}function QS(){let t=tj(),a=AS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:f},"ErrorBoundary")," or"," ",S.createElement("code",{style:f},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},a),l?S.createElement("pre",{style:d},l):null,p)}var VS=S.createElement(QS,null),N0=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=IS(t.digest);l&&(t=l)}let a=t!==void 0?S.createElement(Ra.Provider,{value:this.props.routeContext},S.createElement(Tm.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(GS,{error:t},a):a}};N0.contextType=MS;var pf=new WeakMap;function GS({children:t,error:a}){let{basename:l}=S.useContext(xa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=BS(a.digest);if(o){let d=pf.get(a);if(d)throw d;let f=p0(o.location,l);if(m0&&!pf.get(a))if(f.isExternal||o.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:o.replace}));throw pf.set(a,p),p}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return t}function YS({routeContext:t,match:a,children:l}){let o=S.useContext(Ol);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),S.createElement(Ra.Provider,{value:t},l)}function $S(t,a=[],l=null,o=null,d=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let f=t,p=l?.errors;if(p!=null){let j=f.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);Ft(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,j+1))}let x=!1,v=-1;if(l)for(let j=0;j<f.length;j++){let w=f[j];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=j),w.route.id){let{loaderData:k,errors:z}=l,C=w.route.loader&&!k.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||C){x=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}let _=l&&o?(j,w)=>{o(j,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:zS(l.matches),errorInfo:w})}:void 0;return f.reduceRight((j,w,k)=>{let z,C=!1,A=null,M=null;l&&(z=p&&w.route.id?p[w.route.id]:void 0,A=w.route.errorElement||VS,x&&(v<0&&k===0?(S0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,M=null):v===k&&(C=!0,M=w.route.hydrateFallbackElement||null)));let F=a.concat(f.slice(0,k+1)),B=()=>{let U;return z?U=A:C?U=M:w.route.Component?U=S.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=j,S.createElement(YS,{match:w,routeContext:{outlet:j,matches:F,isDataRoute:l!=null},children:U})};return l&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?S.createElement(N0,{location:l.location,revalidation:l.revalidation,component:A,error:z,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:_}):B()},null)}function km(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(t){let a=S.useContext(Ol);return Ft(a,km(t)),a}function JS(t){let a=S.useContext(id);return Ft(a,km(t)),a}function WS(t){let a=S.useContext(Ra);return Ft(a,km(t)),a}function Cm(t){let a=WS(t),l=a.matches[a.matches.length-1];return Ft(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function ej(){return Cm("useRouteId")}function tj(){let t=S.useContext(Tm),a=JS("useRouteError"),l=Cm("useRouteError");return t!==void 0?t:a.errors?.[l]}function nj(){let{router:t}=XS("useNavigate"),a=Cm("useNavigate"),l=S.useRef(!1);return _0(()=>{l.current=!0}),S.useCallback(async(d,f={})=>{Ma(l.current,v0),l.current&&(typeof d=="number"?await t.navigate(d):await t.navigate(d,{fromRouteId:a,...f}))},[t,a])}var px={};function S0(t,a,l){!a&&!px[t]&&(px[t]=!0,Ma(!1,l))}S.memo(aj);function aj({routes:t,future:a,state:l,onError:o}){return b0(t,void 0,l,o,a)}function Am({to:t,replace:a,state:l,relative:o}){Ft(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=S.useContext(xa);Ma(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=S.useContext(Ra),{pathname:p}=La(),x=Rl(),v=Em(t,wm(f),p,o==="path"),_=JSON.stringify(v);return S.useEffect(()=>{x(JSON.parse(_),{replace:a,state:l,relative:o})},[x,_,o,a,l]),null}function zm(t){return FS(t.context)}function Mt(t){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ij({basename:t="/",children:a=null,location:l,navigationType:o="POP",navigator:d,static:f=!1,unstable_useTransitions:p}){Ft(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=t.replace(/^\/*/,"/"),v=S.useMemo(()=>({basename:x,navigator:d,static:f,unstable_useTransitions:p,future:{}}),[x,d,f,p]);typeof l=="string"&&(l=zl(l));let{pathname:_="/",search:j="",hash:w="",state:k=null,key:z="default"}=l,C=S.useMemo(()=>{let A=Ki(_,x);return A==null?null:{location:{pathname:A,search:j,hash:w,state:k,key:z},navigationType:o}},[x,_,j,w,k,z,o]);return Ma(C!=null,`<Router basename="${x}"> is not able to match the URL "${_}${j}${w}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:S.createElement(xa.Provider,{value:v},S.createElement(eu.Provider,{children:a,value:C}))}function sj({children:t,location:a}){return KS(im(t),a)}function im(t,a=[]){let l=[];return S.Children.forEach(t,(o,d)=>{if(!S.isValidElement(o))return;let f=[...a,d];if(o.type===S.Fragment){l.push.apply(l,im(o.props.children,f));return}Ft(o.type===Mt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=im(o.props.children,f)),l.push(p)}),l}var Uc="get",Zc="application/x-www-form-urlencoded";function sd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rj(t){return sd(t)&&t.tagName.toLowerCase()==="button"}function lj(t){return sd(t)&&t.tagName.toLowerCase()==="form"}function oj(t){return sd(t)&&t.tagName.toLowerCase()==="input"}function uj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cj(t,a){return t.button===0&&(!a||a==="_self")&&!uj(t)}function sm(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let o=t[l];return a.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function dj(t,a){let l=sm(t);return a&&a.forEach((o,d)=>{l.has(d)||a.getAll(d).forEach(f=>{l.append(d,f)})}),l}var Tc=null;function hj(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var fj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(t){return t!=null&&!fj.has(t)?(Ma(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):t}function mj(t,a){let l,o,d,f,p;if(lj(t)){let x=t.getAttribute("action");o=x?Ki(x,a):null,l=t.getAttribute("method")||Uc,d=gf(t.getAttribute("enctype"))||Zc,f=new FormData(t)}else if(rj(t)||oj(t)&&(t.type==="submit"||t.type==="image")){let x=t.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||x.getAttribute("action");if(o=v?Ki(v,a):null,l=t.getAttribute("formmethod")||x.getAttribute("method")||Uc,d=gf(t.getAttribute("formenctype"))||gf(x.getAttribute("enctype"))||Zc,f=new FormData(x,t),!hj()){let{name:_,type:j,value:w}=t;if(j==="image"){let k=_?`${_}.`:"";f.append(`${k}x`,"0"),f.append(`${k}y`,"0")}else _&&f.append(_,w)}}else{if(sd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Uc,o=null,d=Zc,p=t}return f&&d==="text/plain"&&(p=f,f=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:f,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Om(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function pj(t,a,l,o){let d=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:a&&Ki(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function gj(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xj(t,a,l){let o=await Promise.all(t.map(async d=>{let f=a.routes[d.route.id];if(f){let p=await gj(f,l);return p.links?p.links():[]}return[]}));return Nj(o.flat(1).filter(yj).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function gx(t,a,l,o,d,f){let p=(v,_)=>l[_]?v.route.id!==l[_].route.id:!0,x=(v,_)=>l[_].pathname!==v.pathname||l[_].route.path?.endsWith("*")&&l[_].params["*"]!==v.params["*"];return f==="assets"?a.filter((v,_)=>p(v,_)||x(v,_)):f==="data"?a.filter((v,_)=>{let j=o.routes[v.route.id];if(!j||!j.hasLoader)return!1;if(p(v,_)||x(v,_))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function vj(t,a,{includeHydrateFallback:l}={}){return _j(t.map(o=>{let d=a.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function _j(t){return[...new Set(t)]}function bj(t){let a={},l=Object.keys(t).sort();for(let o of l)a[o]=t[o];return a}function Nj(t,a){let l=new Set;return new Set(a),t.reduce((o,d)=>{let f=JSON.stringify(bj(d));return l.has(f)||(l.add(f),o.push({key:f,link:d})),o},[])}function j0(){let t=S.useContext(Ol);return Om(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sj(){let t=S.useContext(id);return Om(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mm=S.createContext(void 0);Mm.displayName="FrameworkContext";function w0(){let t=S.useContext(Mm);return Om(t,"You must render this element inside a <HydratedRouter> element"),t}function jj(t,a){let l=S.useContext(Mm),[o,d]=S.useState(!1),[f,p]=S.useState(!1),{onFocus:x,onBlur:v,onMouseEnter:_,onMouseLeave:j,onTouchStart:w}=a,k=S.useRef(null);S.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let A=F=>{F.forEach(B=>{p(B.isIntersecting)})},M=new IntersectionObserver(A,{threshold:.5});return k.current&&M.observe(k.current),()=>{M.disconnect()}}},[t]),S.useEffect(()=>{if(o){let A=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},C=()=>{d(!1),p(!1)};return l?t!=="intent"?[f,k,{}]:[f,k,{onFocus:qo(x,z),onBlur:qo(v,C),onMouseEnter:qo(_,z),onMouseLeave:qo(j,C),onTouchStart:qo(w,z)}]:[!1,k,{}]}function qo(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function wj({page:t,...a}){let{router:l}=j0(),o=S.useMemo(()=>d0(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?S.createElement(Tj,{page:t,matches:o,...a}):null}function Ej(t){let{manifest:a,routeModules:l}=w0(),[o,d]=S.useState([]);return S.useEffect(()=>{let f=!1;return xj(t,a,l).then(p=>{f||d(p)}),()=>{f=!0}},[t,a,l]),o}function Tj({page:t,matches:a,...l}){let o=La(),{future:d,manifest:f,routeModules:p}=w0(),{basename:x}=j0(),{loaderData:v,matches:_}=Sj(),j=S.useMemo(()=>gx(t,a,_,f,o,"data"),[t,a,_,f,o]),w=S.useMemo(()=>gx(t,a,_,f,o,"assets"),[t,a,_,f,o]),k=S.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,M=!1;if(a.forEach(B=>{let U=f.routes[B.route.id];!U||!U.hasLoader||(!j.some(K=>K.route.id===B.route.id)&&B.route.id in v&&p[B.route.id]?.shouldRevalidate||U.hasClientLoader?M=!0:A.add(B.route.id))}),A.size===0)return[];let F=pj(t,x,d.unstable_trailingSlashAwareDataRequests,"data");return M&&A.size>0&&F.searchParams.set("_routes",a.filter(B=>A.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[x,d.unstable_trailingSlashAwareDataRequests,v,o,f,j,a,t,p]),z=S.useMemo(()=>vj(w,f),[w,f]),C=Ej(w);return S.createElement(S.Fragment,null,k.map(A=>S.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),z.map(A=>S.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),C.map(({key:A,link:M})=>S.createElement("link",{key:A,nonce:l.nonce,...M,crossOrigin:M.crossOrigin??l.crossOrigin})))}function kj(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var Cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cj&&(window.__reactRouterVersion="7.13.0")}catch{}function Aj({basename:t,children:a,unstable_useTransitions:l,window:o}){let d=S.useRef();d.current==null&&(d.current=rS({window:o,v5Compat:!0}));let f=d.current,[p,x]=S.useState({action:f.action,location:f.location}),v=S.useCallback(_=>{l===!1?x(_):S.startTransition(()=>x(_))},[l]);return S.useLayoutEffect(()=>f.listen(v),[f,v]),S.createElement(ij,{basename:t,children:a,location:p.location,navigationType:p.action,navigator:f,unstable_useTransitions:l})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=S.forwardRef(function({onClick:a,discover:l="render",prefetch:o="none",relative:d,reloadDocument:f,replace:p,state:x,target:v,to:_,preventScrollReset:j,viewTransition:w,unstable_defaultShouldRevalidate:k,...z},C){let{basename:A,unstable_useTransitions:M}=S.useContext(xa),F=typeof _=="string"&&E0.test(_),B=p0(_,A);_=B.to;let U=US(_,{relative:d}),[K,$,G]=jj(o,z),W=Mj(_,{replace:p,state:x,target:v,preventScrollReset:j,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:k,unstable_useTransitions:M});function Y(ve){a&&a(ve),ve.defaultPrevented||W(ve)}let X=S.createElement("a",{...z,...G,href:B.absoluteURL||U,onClick:B.isExternal||f?a:Y,ref:kj(C,$),target:v,"data-discover":!F&&l==="render"?"true":void 0});return K&&!F?S.createElement(S.Fragment,null,X,S.createElement(wj,{page:U})):X});Ll.displayName="Link";var T0=S.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:o="",end:d=!1,style:f,to:p,viewTransition:x,children:v,..._},j){let w=tu(p,{relative:_.relative}),k=La(),z=S.useContext(id),{navigator:C,basename:A}=S.useContext(xa),M=z!=null&&Bj(w)&&x===!0,F=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,B=k.pathname,U=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;l||(B=B.toLowerCase(),U=U?U.toLowerCase():null,F=F.toLowerCase()),U&&A&&(U=Ki(U,A)||U);const K=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let $=B===F||!d&&B.startsWith(F)&&B.charAt(K)==="/",G=U!=null&&(U===F||!d&&U.startsWith(F)&&U.charAt(F.length)==="/"),W={isActive:$,isPending:G,isTransitioning:M},Y=$?a:void 0,X;typeof o=="function"?X=o(W):X=[o,$?"active":null,G?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ve=typeof f=="function"?f(W):f;return S.createElement(Ll,{..._,"aria-current":Y,className:X,ref:j,style:ve,to:p,viewTransition:x},typeof v=="function"?v(W):v)});T0.displayName="NavLink";var zj=S.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:o,replace:d,state:f,method:p=Uc,action:x,onSubmit:v,relative:_,preventScrollReset:j,viewTransition:w,unstable_defaultShouldRevalidate:k,...z},C)=>{let{unstable_useTransitions:A}=S.useContext(xa),M=Dj(),F=Pj(x,{relative:_}),B=p.toLowerCase()==="get"?"get":"post",U=typeof x=="string"&&E0.test(x),K=$=>{if(v&&v($),$.defaultPrevented)return;$.preventDefault();let G=$.nativeEvent.submitter,W=G?.getAttribute("formmethod")||p,Y=()=>M(G||$.currentTarget,{fetcherKey:a,method:W,navigate:l,replace:d,state:f,relative:_,preventScrollReset:j,viewTransition:w,unstable_defaultShouldRevalidate:k});A&&l!==!1?S.startTransition(()=>Y()):Y()};return S.createElement("form",{ref:C,method:B,action:F,onSubmit:o?v:K,...z,"data-discover":!U&&t==="render"?"true":void 0})});zj.displayName="Form";function Oj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k0(t){let a=S.useContext(Ol);return Ft(a,Oj(t)),a}function Mj(t,{target:a,replace:l,state:o,preventScrollReset:d,relative:f,viewTransition:p,unstable_defaultShouldRevalidate:x,unstable_useTransitions:v}={}){let _=Rl(),j=La(),w=tu(t,{relative:f});return S.useCallback(k=>{if(cj(k,a)){k.preventDefault();let z=l!==void 0?l:$o(j)===$o(w),C=()=>_(t,{replace:z,state:o,preventScrollReset:d,relative:f,viewTransition:p,unstable_defaultShouldRevalidate:x});v?S.startTransition(()=>C()):C()}},[j,_,w,l,o,a,t,d,f,p,x,v])}function Rm(t){Ma(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=S.useRef(sm(t)),l=S.useRef(!1),o=La(),d=S.useMemo(()=>dj(o.search,l.current?null:a.current),[o.search]),f=Rl(),p=S.useCallback((x,v)=>{const _=sm(typeof x=="function"?x(new URLSearchParams(d)):x);l.current=!0,f("?"+_,v)},[f,d]);return[d,p]}var Rj=0,Lj=()=>`__${String(++Rj)}__`;function Dj(){let{router:t}=k0("useSubmit"),{basename:a}=S.useContext(xa),l=ej(),o=t.fetch,d=t.navigate;return S.useCallback(async(f,p={})=>{let{action:x,method:v,encType:_,formData:j,body:w}=mj(f,a);if(p.navigate===!1){let k=p.fetcherKey||Lj();await o(k,l,p.action||x,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:j,body:w,formMethod:p.method||v,formEncType:p.encType||_,flushSync:p.flushSync})}else await d(p.action||x,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:j,body:w,formMethod:p.method||v,formEncType:p.encType||_,replace:p.replace,state:p.state,fromRouteId:l,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,d,a,l])}function Pj(t,{relative:a}={}){let{basename:l}=S.useContext(xa),o=S.useContext(Ra);Ft(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...tu(t||".",{relative:a})},p=La();if(t==null){f.search=p.search;let x=new URLSearchParams(f.search),v=x.getAll("index");if(v.some(j=>j==="")){x.delete("index"),v.filter(w=>w).forEach(w=>x.append("index",w));let j=x.toString();f.search=j?`?${j}`:""}}return(!t||t===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Hi([l,f.pathname])),$o(f)}function Bj(t,{relative:a}={}){let l=S.useContext(y0);Ft(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=k0("useViewTransitionState"),d=tu(t,{relative:a});if(!l.isTransitioning)return!1;let f=Ki(l.currentLocation.pathname,o)||l.currentLocation.pathname,p=Ki(l.nextLocation.pathname,o)||l.nextLocation.pathname;return Gc(d.pathname,p)!=null||Gc(d.pathname,f)!=null}const xi={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"};function C0(t,a){return function(){return t.apply(a,arguments)}}const{toString:Ij}=Object.prototype,{getPrototypeOf:Lm}=Object,{iterator:rd,toStringTag:A0}=Symbol,ld=(t=>a=>{const l=Ij.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Ja=t=>(t=t.toLowerCase(),a=>ld(a)===t),od=t=>a=>typeof a===t,{isArray:Dl}=Array,Cl=od("undefined");function nu(t){return t!==null&&!Cl(t)&&t.constructor!==null&&!Cl(t.constructor)&&na(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const z0=Ja("ArrayBuffer");function Uj(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&z0(t.buffer),a}const Zj=od("string"),na=od("function"),O0=od("number"),au=t=>t!==null&&typeof t=="object",qj=t=>t===!0||t===!1,qc=t=>{if(ld(t)!=="object")return!1;const a=Lm(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(A0 in t)&&!(rd in t)},Fj=t=>{if(!au(t)||nu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Hj=Ja("Date"),Kj=Ja("File"),Qj=Ja("Blob"),Vj=Ja("FileList"),Gj=t=>au(t)&&na(t.pipe),Yj=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||na(t.append)&&((a=ld(t))==="formdata"||a==="object"&&na(t.toString)&&t.toString()==="[object FormData]"))},$j=Ja("URLSearchParams"),[Xj,Jj,Wj,ew]=["ReadableStream","Request","Response","Headers"].map(Ja),tw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iu(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let o,d;if(typeof t!="object"&&(t=[t]),Dl(t))for(o=0,d=t.length;o<d;o++)a.call(null,t[o],o,t);else{if(nu(t))return;const f=l?Object.getOwnPropertyNames(t):Object.keys(t),p=f.length;let x;for(o=0;o<p;o++)x=f[o],a.call(null,t[x],x,t)}}function M0(t,a){if(nu(t))return null;a=a.toLowerCase();const l=Object.keys(t);let o=l.length,d;for(;o-- >0;)if(d=l[o],a===d.toLowerCase())return d;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R0=t=>!Cl(t)&&t!==Sr;function rm(){const{caseless:t,skipUndefined:a}=R0(this)&&this||{},l={},o=(d,f)=>{const p=t&&M0(l,f)||f;qc(l[p])&&qc(d)?l[p]=rm(l[p],d):qc(d)?l[p]=rm({},d):Dl(d)?l[p]=d.slice():(!a||!Cl(d))&&(l[p]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&iu(arguments[d],o);return l}const nw=(t,a,l,{allOwnKeys:o}={})=>(iu(a,(d,f)=>{l&&na(d)?Object.defineProperty(t,f,{value:C0(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,f,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),t),aw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iw=(t,a,l,o)=>{t.prototype=Object.create(a.prototype,o),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},sw=(t,a,l,o)=>{let d,f,p;const x={};if(a=a||{},t==null)return a;do{for(d=Object.getOwnPropertyNames(t),f=d.length;f-- >0;)p=d[f],(!o||o(p,t,a))&&!x[p]&&(a[p]=t[p],x[p]=!0);t=l!==!1&&Lm(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},rw=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const o=t.indexOf(a,l);return o!==-1&&o===l},lw=t=>{if(!t)return null;if(Dl(t))return t;let a=t.length;if(!O0(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},ow=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Lm(Uint8Array)),uw=(t,a)=>{const o=(t&&t[rd]).call(t);let d;for(;(d=o.next())&&!d.done;){const f=d.value;a.call(t,f[0],f[1])}},cw=(t,a)=>{let l;const o=[];for(;(l=t.exec(a))!==null;)o.push(l);return o},dw=Ja("HTMLFormElement"),hw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),yx=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),fw=Ja("RegExp"),L0=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),o={};iu(l,(d,f)=>{let p;(p=a(d,f,t))!==!1&&(o[f]=p||d)}),Object.defineProperties(t,o)},mw=t=>{L0(t,(a,l)=>{if(na(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=t[l];if(na(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},pw=(t,a)=>{const l={},o=d=>{d.forEach(f=>{l[f]=!0})};return Dl(t)?o(t):o(String(t).split(a)),l},gw=()=>{},yw=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function xw(t){return!!(t&&na(t.append)&&t[A0]==="FormData"&&t[rd])}const vw=t=>{const a=new Array(10),l=(o,d)=>{if(au(o)){if(a.indexOf(o)>=0)return;if(nu(o))return o;if(!("toJSON"in o)){a[d]=o;const f=Dl(o)?[]:{};return iu(o,(p,x)=>{const v=l(p,d+1);!Cl(v)&&(f[x]=v)}),a[d]=void 0,f}}return o};return l(t,0)},_w=Ja("AsyncFunction"),bw=t=>t&&(au(t)||na(t))&&na(t.then)&&na(t.catch),D0=((t,a)=>t?setImmediate:a?((l,o)=>(Sr.addEventListener("message",({source:d,data:f})=>{d===Sr&&f===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Sr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",na(Sr.postMessage)),Nw=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||D0,Sw=t=>t!=null&&na(t[rd]),xe={isArray:Dl,isArrayBuffer:z0,isBuffer:nu,isFormData:Yj,isArrayBufferView:Uj,isString:Zj,isNumber:O0,isBoolean:qj,isObject:au,isPlainObject:qc,isEmptyObject:Fj,isReadableStream:Xj,isRequest:Jj,isResponse:Wj,isHeaders:ew,isUndefined:Cl,isDate:Hj,isFile:Kj,isBlob:Qj,isRegExp:fw,isFunction:na,isStream:Gj,isURLSearchParams:$j,isTypedArray:ow,isFileList:Vj,forEach:iu,merge:rm,extend:nw,trim:tw,stripBOM:aw,inherits:iw,toFlatObject:sw,kindOf:ld,kindOfTest:Ja,endsWith:rw,toArray:lw,forEachEntry:uw,matchAll:cw,isHTMLForm:dw,hasOwnProperty:yx,hasOwnProp:yx,reduceDescriptors:L0,freezeMethods:mw,toObjectSet:pw,toCamelCase:hw,noop:gw,toFiniteNumber:yw,findKey:M0,global:Sr,isContextDefined:R0,isSpecCompliantForm:xw,toJSONObject:vw,isAsyncFn:_w,isThenable:bw,setImmediate:D0,asap:Nw,isIterable:Sw};let Ve=class P0 extends Error{static from(a,l,o,d,f,p){const x=new P0(a.message,l||a.code,o,d,f);return x.cause=a,x.name=a.name,p&&Object.assign(x,p),x}constructor(a,l,o,d,f){super(a),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),f&&(this.response=f,this.status=f.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}};Ve.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ve.ERR_BAD_OPTION="ERR_BAD_OPTION";Ve.ECONNABORTED="ECONNABORTED";Ve.ETIMEDOUT="ETIMEDOUT";Ve.ERR_NETWORK="ERR_NETWORK";Ve.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ve.ERR_DEPRECATED="ERR_DEPRECATED";Ve.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ve.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ve.ERR_CANCELED="ERR_CANCELED";Ve.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ve.ERR_INVALID_URL="ERR_INVALID_URL";const jw=null;function lm(t){return xe.isPlainObject(t)||xe.isArray(t)}function B0(t){return xe.endsWith(t,"[]")?t.slice(0,-2):t}function xx(t,a,l){return t?t.concat(a).map(function(d,f){return d=B0(d),!l&&f?"["+d+"]":d}).join(l?".":""):a}function ww(t){return xe.isArray(t)&&!t.some(lm)}const Ew=xe.toFlatObject(xe,{},null,function(a){return/^is[A-Z]/.test(a)});function ud(t,a,l){if(!xe.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=xe.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,M){return!xe.isUndefined(M[A])});const o=l.metaTokens,d=l.visitor||j,f=l.dots,p=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(a);if(!xe.isFunction(d))throw new TypeError("visitor must be a function");function _(C){if(C===null)return"";if(xe.isDate(C))return C.toISOString();if(xe.isBoolean(C))return C.toString();if(!v&&xe.isBlob(C))throw new Ve("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(C)||xe.isTypedArray(C)?v&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function j(C,A,M){let F=C;if(C&&!M&&typeof C=="object"){if(xe.endsWith(A,"{}"))A=o?A:A.slice(0,-2),C=JSON.stringify(C);else if(xe.isArray(C)&&ww(C)||(xe.isFileList(C)||xe.endsWith(A,"[]"))&&(F=xe.toArray(C)))return A=B0(A),F.forEach(function(U,K){!(xe.isUndefined(U)||U===null)&&a.append(p===!0?xx([A],K,f):p===null?A:A+"[]",_(U))}),!1}return lm(C)?!0:(a.append(xx(M,A,f),_(C)),!1)}const w=[],k=Object.assign(Ew,{defaultVisitor:j,convertValue:_,isVisitable:lm});function z(C,A){if(!xe.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(C),xe.forEach(C,function(F,B){(!(xe.isUndefined(F)||F===null)&&d.call(a,F,xe.isString(B)?B.trim():B,A,k))===!0&&z(F,A?A.concat(B):[B])}),w.pop()}}if(!xe.isObject(t))throw new TypeError("data must be an object");return z(t),a}function vx(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function Dm(t,a){this._pairs=[],t&&ud(t,this,a)}const I0=Dm.prototype;I0.append=function(a,l){this._pairs.push([a,l])};I0.toString=function(a){const l=a?function(o){return a.call(this,o,vx)}:vx;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Tw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function U0(t,a,l){if(!a)return t;const o=l&&l.encode||Tw,d=xe.isFunction(l)?{serialize:l}:l,f=d&&d.serialize;let p;if(f?p=f(a,d):p=xe.isURLSearchParams(a)?a.toString():new Dm(a,d).toString(o),p){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+p}return t}class _x{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){xe.forEach(this.handlers,function(o){o!==null&&a(o)})}}const Z0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kw=typeof URLSearchParams<"u"?URLSearchParams:Dm,Cw=typeof FormData<"u"?FormData:null,Aw=typeof Blob<"u"?Blob:null,zw={isBrowser:!0,classes:{URLSearchParams:kw,FormData:Cw,Blob:Aw},protocols:["http","https","file","blob","url","data"]},Pm=typeof window<"u"&&typeof document<"u",om=typeof navigator=="object"&&navigator||void 0,Ow=Pm&&(!om||["ReactNative","NativeScript","NS"].indexOf(om.product)<0),Mw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rw=Pm&&window.location.href||"http://localhost",Lw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pm,hasStandardBrowserEnv:Ow,hasStandardBrowserWebWorkerEnv:Mw,navigator:om,origin:Rw},Symbol.toStringTag,{value:"Module"})),Bn={...Lw,...zw};function Dw(t,a){return ud(t,new Bn.classes.URLSearchParams,{visitor:function(l,o,d,f){return Bn.isNode&&xe.isBuffer(l)?(this.append(o,l.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...a})}function Pw(t){return xe.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Bw(t){const a={},l=Object.keys(t);let o;const d=l.length;let f;for(o=0;o<d;o++)f=l[o],a[f]=t[f];return a}function q0(t){function a(l,o,d,f){let p=l[f++];if(p==="__proto__")return!0;const x=Number.isFinite(+p),v=f>=l.length;return p=!p&&xe.isArray(d)?d.length:p,v?(xe.hasOwnProp(d,p)?d[p]=[d[p],o]:d[p]=o,!x):((!d[p]||!xe.isObject(d[p]))&&(d[p]=[]),a(l,o,d[p],f)&&xe.isArray(d[p])&&(d[p]=Bw(d[p])),!x)}if(xe.isFormData(t)&&xe.isFunction(t.entries)){const l={};return xe.forEachEntry(t,(o,d)=>{a(Pw(o),d,l,0)}),l}return null}function Iw(t,a,l){if(xe.isString(t))try{return(a||JSON.parse)(t),xe.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(t)}const su={transitional:Z0,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,f=xe.isObject(a);if(f&&xe.isHTMLForm(a)&&(a=new FormData(a)),xe.isFormData(a))return d?JSON.stringify(q0(a)):a;if(xe.isArrayBuffer(a)||xe.isBuffer(a)||xe.isStream(a)||xe.isFile(a)||xe.isBlob(a)||xe.isReadableStream(a))return a;if(xe.isArrayBufferView(a))return a.buffer;if(xe.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let x;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Dw(a,this.formSerializer).toString();if((x=xe.isFileList(a))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return ud(x?{"files[]":a}:a,v&&new v,this.formSerializer)}}return f||d?(l.setContentType("application/json",!1),Iw(a)):a}],transformResponse:[function(a){const l=this.transitional||su.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(xe.isResponse(a)||xe.isReadableStream(a))return a;if(a&&xe.isString(a)&&(o&&!this.responseType||d)){const p=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(x){if(p)throw x.name==="SyntaxError"?Ve.from(x,Ve.ERR_BAD_RESPONSE,this,null,this.response):x}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],t=>{su.headers[t]={}});const Uw=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zw=t=>{const a={};let l,o,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),l=p.substring(0,d).trim().toLowerCase(),o=p.substring(d+1).trim(),!(!l||a[l]&&Uw[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},bx=Symbol("internals");function Fo(t){return t&&String(t).trim().toLowerCase()}function Fc(t){return t===!1||t==null?t:xe.isArray(t)?t.map(Fc):String(t)}function qw(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(t);)a[o[1]]=o[2];return a}const Fw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yf(t,a,l,o,d){if(xe.isFunction(o))return o.call(this,a,l);if(d&&(a=l),!!xe.isString(a)){if(xe.isString(o))return a.indexOf(o)!==-1;if(xe.isRegExp(o))return o.test(a)}}function Hw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function Kw(t,a){const l=xe.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+l,{value:function(d,f,p){return this[o].call(this,a,d,f,p)},configurable:!0})})}let aa=class{constructor(a){a&&this.set(a)}set(a,l,o){const d=this;function f(x,v,_){const j=Fo(v);if(!j)throw new Error("header name must be a non-empty string");const w=xe.findKey(d,j);(!w||d[w]===void 0||_===!0||_===void 0&&d[w]!==!1)&&(d[w||v]=Fc(x))}const p=(x,v)=>xe.forEach(x,(_,j)=>f(_,j,v));if(xe.isPlainObject(a)||a instanceof this.constructor)p(a,l);else if(xe.isString(a)&&(a=a.trim())&&!Fw(a))p(Zw(a),l);else if(xe.isObject(a)&&xe.isIterable(a)){let x={},v,_;for(const j of a){if(!xe.isArray(j))throw TypeError("Object iterator must return a key-value pair");x[_=j[0]]=(v=x[_])?xe.isArray(v)?[...v,j[1]]:[v,j[1]]:j[1]}p(x,l)}else a!=null&&f(l,a,o);return this}get(a,l){if(a=Fo(a),a){const o=xe.findKey(this,a);if(o){const d=this[o];if(!l)return d;if(l===!0)return qw(d);if(xe.isFunction(l))return l.call(this,d,o);if(xe.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Fo(a),a){const o=xe.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||yf(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let d=!1;function f(p){if(p=Fo(p),p){const x=xe.findKey(o,p);x&&(!l||yf(o,o[x],x,l))&&(delete o[x],d=!0)}}return xe.isArray(a)?a.forEach(f):f(a),d}clear(a){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const f=l[o];(!a||yf(this,this[f],f,a,!0))&&(delete this[f],d=!0)}return d}normalize(a){const l=this,o={};return xe.forEach(this,(d,f)=>{const p=xe.findKey(o,f);if(p){l[p]=Fc(d),delete l[f];return}const x=a?Hw(f):String(f).trim();x!==f&&delete l[f],l[x]=Fc(d),o[x]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return xe.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=a&&xe.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[bx]=this[bx]={accessors:{}}).accessors,d=this.prototype;function f(p){const x=Fo(p);o[x]||(Kw(d,p),o[x]=!0)}return xe.isArray(a)?a.forEach(f):f(a),this}};aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(aa.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[l]=o}}});xe.freezeMethods(aa);function xf(t,a){const l=this||su,o=a||l,d=aa.from(o.headers);let f=o.data;return xe.forEach(t,function(x){f=x.call(l,f,d.normalize(),a?a.status:void 0)}),d.normalize(),f}function F0(t){return!!(t&&t.__CANCEL__)}let ru=class extends Ve{constructor(a,l,o){super(a??"canceled",Ve.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function H0(t,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?t(l):a(new Ve("Request failed with status code "+l.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function Qw(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function Vw(t,a){t=t||10;const l=new Array(t),o=new Array(t);let d=0,f=0,p;return a=a!==void 0?a:1e3,function(v){const _=Date.now(),j=o[f];p||(p=_),l[d]=v,o[d]=_;let w=f,k=0;for(;w!==d;)k+=l[w++],w=w%t;if(d=(d+1)%t,d===f&&(f=(f+1)%t),_-p<a)return;const z=j&&_-j;return z?Math.round(k*1e3/z):void 0}}function Gw(t,a){let l=0,o=1e3/a,d,f;const p=(_,j=Date.now())=>{l=j,d=null,f&&(clearTimeout(f),f=null),t(..._)};return[(..._)=>{const j=Date.now(),w=j-l;w>=o?p(_,j):(d=_,f||(f=setTimeout(()=>{f=null,p(d)},o-w)))},()=>d&&p(d)]}const Yc=(t,a,l=3)=>{let o=0;const d=Vw(50,250);return Gw(f=>{const p=f.loaded,x=f.lengthComputable?f.total:void 0,v=p-o,_=d(v),j=p<=x;o=p;const w={loaded:p,total:x,progress:x?p/x:void 0,bytes:v,rate:_||void 0,estimated:_&&x&&j?(x-p)/_:void 0,event:f,lengthComputable:x!=null,[a?"download":"upload"]:!0};t(w)},l)},Nx=(t,a)=>{const l=t!=null;return[o=>a[0]({lengthComputable:l,total:t,loaded:o}),a[1]]},Sx=t=>(...a)=>xe.asap(()=>t(...a)),Yw=Bn.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,Bn.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(Bn.origin),Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent)):()=>!0,$w=Bn.hasStandardBrowserEnv?{write(t,a,l,o,d,f,p){if(typeof document>"u")return;const x=[`${t}=${encodeURIComponent(a)}`];xe.isNumber(l)&&x.push(`expires=${new Date(l).toUTCString()}`),xe.isString(o)&&x.push(`path=${o}`),xe.isString(d)&&x.push(`domain=${d}`),f===!0&&x.push("secure"),xe.isString(p)&&x.push(`SameSite=${p}`),document.cookie=x.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Xw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jw(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function K0(t,a,l){let o=!Xw(a);return t&&(o||l==!1)?Jw(t,a):a}const jx=t=>t instanceof aa?{...t}:t;function Tr(t,a){a=a||{};const l={};function o(_,j,w,k){return xe.isPlainObject(_)&&xe.isPlainObject(j)?xe.merge.call({caseless:k},_,j):xe.isPlainObject(j)?xe.merge({},j):xe.isArray(j)?j.slice():j}function d(_,j,w,k){if(xe.isUndefined(j)){if(!xe.isUndefined(_))return o(void 0,_,w,k)}else return o(_,j,w,k)}function f(_,j){if(!xe.isUndefined(j))return o(void 0,j)}function p(_,j){if(xe.isUndefined(j)){if(!xe.isUndefined(_))return o(void 0,_)}else return o(void 0,j)}function x(_,j,w){if(w in a)return o(_,j);if(w in t)return o(void 0,_)}const v={url:f,method:f,data:f,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:x,headers:(_,j,w)=>d(jx(_),jx(j),w,!0)};return xe.forEach(Object.keys({...t,...a}),function(j){const w=v[j]||d,k=w(t[j],a[j],j);xe.isUndefined(k)&&w!==x||(l[j]=k)}),l}const Q0=t=>{const a=Tr({},t);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:p,auth:x}=a;if(a.headers=p=aa.from(p),a.url=U0(K0(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),x&&p.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),xe.isFormData(l)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(xe.isFunction(l.getHeaders)){const v=l.getHeaders(),_=["content-type","content-length"];Object.entries(v).forEach(([j,w])=>{_.includes(j.toLowerCase())&&p.set(j,w)})}}if(Bn.hasStandardBrowserEnv&&(o&&xe.isFunction(o)&&(o=o(a)),o||o!==!1&&Yw(a.url))){const v=d&&f&&$w.read(f);v&&p.set(d,v)}return a},Ww=typeof XMLHttpRequest<"u",eE=Ww&&function(t){return new Promise(function(l,o){const d=Q0(t);let f=d.data;const p=aa.from(d.headers).normalize();let{responseType:x,onUploadProgress:v,onDownloadProgress:_}=d,j,w,k,z,C;function A(){z&&z(),C&&C(),d.cancelToken&&d.cancelToken.unsubscribe(j),d.signal&&d.signal.removeEventListener("abort",j)}let M=new XMLHttpRequest;M.open(d.method.toUpperCase(),d.url,!0),M.timeout=d.timeout;function F(){if(!M)return;const U=aa.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),$={data:!x||x==="text"||x==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:U,config:t,request:M};H0(function(W){l(W),A()},function(W){o(W),A()},$),M=null}"onloadend"in M?M.onloadend=F:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(F)},M.onabort=function(){M&&(o(new Ve("Request aborted",Ve.ECONNABORTED,t,M)),M=null)},M.onerror=function(K){const $=K&&K.message?K.message:"Network Error",G=new Ve($,Ve.ERR_NETWORK,t,M);G.event=K||null,o(G),M=null},M.ontimeout=function(){let K=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const $=d.transitional||Z0;d.timeoutErrorMessage&&(K=d.timeoutErrorMessage),o(new Ve(K,$.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,M)),M=null},f===void 0&&p.setContentType(null),"setRequestHeader"in M&&xe.forEach(p.toJSON(),function(K,$){M.setRequestHeader($,K)}),xe.isUndefined(d.withCredentials)||(M.withCredentials=!!d.withCredentials),x&&x!=="json"&&(M.responseType=d.responseType),_&&([k,C]=Yc(_,!0),M.addEventListener("progress",k)),v&&M.upload&&([w,z]=Yc(v),M.upload.addEventListener("progress",w),M.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(j=U=>{M&&(o(!U||U.type?new ru(null,t,M):U),M.abort(),M=null)},d.cancelToken&&d.cancelToken.subscribe(j),d.signal&&(d.signal.aborted?j():d.signal.addEventListener("abort",j)));const B=Qw(d.url);if(B&&Bn.protocols.indexOf(B)===-1){o(new Ve("Unsupported protocol "+B+":",Ve.ERR_BAD_REQUEST,t));return}M.send(f||null)})},tE=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let o=new AbortController,d;const f=function(_){if(!d){d=!0,x();const j=_ instanceof Error?_:this.reason;o.abort(j instanceof Ve?j:new ru(j instanceof Error?j.message:j))}};let p=a&&setTimeout(()=>{p=null,f(new Ve(`timeout of ${a}ms exceeded`,Ve.ETIMEDOUT))},a);const x=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(f):_.removeEventListener("abort",f)}),t=null)};t.forEach(_=>_.addEventListener("abort",f));const{signal:v}=o;return v.unsubscribe=()=>xe.asap(x),v}},nE=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let o=0,d;for(;o<l;)d=o+a,yield t.slice(o,d),o=d},aE=async function*(t,a){for await(const l of iE(t))yield*nE(l,a)},iE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},wx=(t,a,l,o)=>{const d=aE(t,a);let f=0,p,x=v=>{p||(p=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:_,value:j}=await d.next();if(_){x(),v.close();return}let w=j.byteLength;if(l){let k=f+=w;l(k)}v.enqueue(new Uint8Array(j))}catch(_){throw x(_),_}},cancel(v){return x(v),d.return()}},{highWaterMark:2})},Ex=64*1024,{isFunction:kc}=xe,sE=(({Request:t,Response:a})=>({Request:t,Response:a}))(xe.global),{ReadableStream:Tx,TextEncoder:kx}=xe.global,Cx=(t,...a)=>{try{return!!t(...a)}catch{return!1}},rE=t=>{t=xe.merge.call({skipUndefined:!0},sE,t);const{fetch:a,Request:l,Response:o}=t,d=a?kc(a):typeof fetch=="function",f=kc(l),p=kc(o);if(!d)return!1;const x=d&&kc(Tx),v=d&&(typeof kx=="function"?(C=>A=>C.encode(A))(new kx):async C=>new Uint8Array(await new l(C).arrayBuffer())),_=f&&x&&Cx(()=>{let C=!1;const A=new l(Bn.origin,{body:new Tx,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!A}),j=p&&x&&Cx(()=>xe.isReadableStream(new o("").body)),w={stream:j&&(C=>C.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!w[C]&&(w[C]=(A,M)=>{let F=A&&A[C];if(F)return F.call(A);throw new Ve(`Response type '${C}' is not supported`,Ve.ERR_NOT_SUPPORT,M)})});const k=async C=>{if(C==null)return 0;if(xe.isBlob(C))return C.size;if(xe.isSpecCompliantForm(C))return(await new l(Bn.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(C)||xe.isArrayBuffer(C))return C.byteLength;if(xe.isURLSearchParams(C)&&(C=C+""),xe.isString(C))return(await v(C)).byteLength},z=async(C,A)=>{const M=xe.toFiniteNumber(C.getContentLength());return M??k(A)};return async C=>{let{url:A,method:M,data:F,signal:B,cancelToken:U,timeout:K,onDownloadProgress:$,onUploadProgress:G,responseType:W,headers:Y,withCredentials:X="same-origin",fetchOptions:ve}=Q0(C),ae=a||fetch;W=W?(W+"").toLowerCase():"text";let ce=tE([B,U&&U.toAbortSignal()],K),oe=null;const q=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let le;try{if(G&&_&&M!=="get"&&M!=="head"&&(le=await z(Y,F))!==0){let O=new l(A,{method:"POST",body:F,duplex:"half"}),ie;if(xe.isFormData(F)&&(ie=O.headers.get("content-type"))&&Y.setContentType(ie),O.body){const[R,H]=Nx(le,Yc(Sx(G)));F=wx(O.body,Ex,R,H)}}xe.isString(X)||(X=X?"include":"omit");const Z=f&&"credentials"in l.prototype,re={...ve,signal:ce,method:M.toUpperCase(),headers:Y.normalize().toJSON(),body:F,duplex:"half",credentials:Z?X:void 0};oe=f&&new l(A,re);let de=await(f?ae(oe,ve):ae(A,re));const Ee=j&&(W==="stream"||W==="response");if(j&&($||Ee&&q)){const O={};["status","statusText","headers"].forEach(ge=>{O[ge]=de[ge]});const ie=xe.toFiniteNumber(de.headers.get("content-length")),[R,H]=$&&Nx(ie,Yc(Sx($),!0))||[];de=new o(wx(de.body,Ex,R,()=>{H&&H(),q&&q()}),O)}W=W||"text";let ee=await w[xe.findKey(w,W)||"text"](de,C);return!Ee&&q&&q(),await new Promise((O,ie)=>{H0(O,ie,{data:ee,headers:aa.from(de.headers),status:de.status,statusText:de.statusText,config:C,request:oe})})}catch(Z){throw q&&q(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,C,oe),{cause:Z.cause||Z}):Ve.from(Z,Z&&Z.code,C,oe)}}},lE=new Map,V0=t=>{let a=t&&t.env||{};const{fetch:l,Request:o,Response:d}=a,f=[o,d,l];let p=f.length,x=p,v,_,j=lE;for(;x--;)v=f[x],_=j.get(v),_===void 0&&j.set(v,_=x?new Map:rE(a)),j=_;return _};V0();const Bm={http:jw,xhr:eE,fetch:{get:V0}};xe.forEach(Bm,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Ax=t=>`- ${t}`,oE=t=>xe.isFunction(t)||t===null||t===!1;function uE(t,a){t=xe.isArray(t)?t:[t];const{length:l}=t;let o,d;const f={};for(let p=0;p<l;p++){o=t[p];let x;if(d=o,!oE(o)&&(d=Bm[(x=String(o)).toLowerCase()],d===void 0))throw new Ve(`Unknown adapter '${x}'`);if(d&&(xe.isFunction(d)||(d=d.get(a))))break;f[x||"#"+p]=d}if(!d){const p=Object.entries(f).map(([v,_])=>`adapter ${v} `+(_===!1?"is not supported by the environment":"is not available in the build"));let x=l?p.length>1?`since :
`+p.map(Ax).join(`
`):" "+Ax(p[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d}const G0={getAdapter:uE,adapters:Bm};function vf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ru(null,t)}function zx(t){return vf(t),t.headers=aa.from(t.headers),t.data=xf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),G0.getAdapter(t.adapter||su.adapter,t)(t).then(function(o){return vf(t),o.data=xf.call(t,t.transformResponse,o),o.headers=aa.from(o.headers),o},function(o){return F0(o)||(vf(t),o&&o.response&&(o.response.data=xf.call(t,t.transformResponse,o.response),o.response.headers=aa.from(o.response.headers))),Promise.reject(o)})}const Y0="1.13.4",cd={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{cd[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Ox={};cd.transitional=function(a,l,o){function d(f,p){return"[Axios v"+Y0+"] Transitional option '"+f+"'"+p+(o?". "+o:"")}return(f,p,x)=>{if(a===!1)throw new Ve(d(p," has been removed"+(l?" in "+l:"")),Ve.ERR_DEPRECATED);return l&&!Ox[p]&&(Ox[p]=!0,console.warn(d(p," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(f,p,x):!0}};cd.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function cE(t,a,l){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let d=o.length;for(;d-- >0;){const f=o[d],p=a[f];if(p){const x=t[f],v=x===void 0||p(x,f,t);if(v!==!0)throw new Ve("option "+f+" must be "+v,Ve.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ve("Unknown option "+f,Ve.ERR_BAD_OPTION)}}const Hc={assertOptions:cE,validators:cd},pi=Hc.validators;let jr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new _x,response:new _x}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Tr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:f}=l;o!==void 0&&Hc.assertOptions(o,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),d!=null&&(xe.isFunction(d)?l.paramsSerializer={serialize:d}:Hc.assertOptions(d,{encode:pi.function,serialize:pi.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Hc.assertOptions(l,{baseUrl:pi.spelling("baseURL"),withXsrfToken:pi.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=f&&xe.merge(f.common,f[l.method]);f&&xe.forEach(["delete","get","head","post","put","patch","common"],C=>{delete f[C]}),l.headers=aa.concat(p,f);const x=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,x.unshift(A.fulfilled,A.rejected))});const _=[];this.interceptors.response.forEach(function(A){_.push(A.fulfilled,A.rejected)});let j,w=0,k;if(!v){const C=[zx.bind(this),void 0];for(C.unshift(...x),C.push(..._),k=C.length,j=Promise.resolve(l);w<k;)j=j.then(C[w++],C[w++]);return j}k=x.length;let z=l;for(;w<k;){const C=x[w++],A=x[w++];try{z=C(z)}catch(M){A.call(this,M);break}}try{j=zx.call(this,z)}catch(C){return Promise.reject(C)}for(w=0,k=_.length;w<k;)j=j.then(_[w++],_[w++]);return j}getUri(a){a=Tr(this.defaults,a);const l=K0(a.baseURL,a.url,a.allowAbsoluteUrls);return U0(l,a.params,a.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(a){jr.prototype[a]=function(l,o){return this.request(Tr(o||{},{method:a,url:l,data:(o||{}).data}))}});xe.forEach(["post","put","patch"],function(a){function l(o){return function(f,p,x){return this.request(Tr(x||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:p}))}}jr.prototype[a]=l(),jr.prototype[a+"Form"]=l(!0)});let dE=class $0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(f){l=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const p=new Promise(x=>{o.subscribe(x),f=x}).then(d);return p.cancel=function(){o.unsubscribe(f)},p},a(function(f,p,x){o.reason||(o.reason=new ru(f,p,x),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new $0(function(d){a=d}),cancel:a}}};function hE(t){return function(l){return t.apply(null,l)}}function fE(t){return xe.isObject(t)&&t.isAxiosError===!0}const um={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(um).forEach(([t,a])=>{um[a]=t});function X0(t){const a=new jr(t),l=C0(jr.prototype.request,a);return xe.extend(l,jr.prototype,a,{allOwnKeys:!0}),xe.extend(l,a,null,{allOwnKeys:!0}),l.create=function(d){return X0(Tr(t,d))},l}const Rt=X0(su);Rt.Axios=jr;Rt.CanceledError=ru;Rt.CancelToken=dE;Rt.isCancel=F0;Rt.VERSION=Y0;Rt.toFormData=ud;Rt.AxiosError=Ve;Rt.Cancel=Rt.CanceledError;Rt.all=function(a){return Promise.all(a)};Rt.spread=hE;Rt.isAxiosError=fE;Rt.mergeConfig=Tr;Rt.AxiosHeaders=aa;Rt.formToJSON=t=>q0(xe.isHTMLForm(t)?new FormData(t):t);Rt.getAdapter=G0.getAdapter;Rt.HttpStatusCode=um;Rt.default=Rt;const{Axios:p3,AxiosError:g3,CanceledError:y3,isCancel:x3,CancelToken:v3,VERSION:_3,all:b3,Cancel:N3,isAxiosError:S3,spread:j3,toFormData:w3,AxiosHeaders:E3,HttpStatusCode:T3,formToJSON:k3,getAdapter:C3,mergeConfig:A3}=Rt,Im="puantaj_access_token",$c="puantaj_refresh_token";function J0(){return localStorage.getItem(Im)}function cm(){return localStorage.getItem($c)}function dm(t,a){if(localStorage.setItem(Im,t),a){localStorage.setItem($c,a);return}localStorage.removeItem($c)}function W0(){localStorage.removeItem(Im),localStorage.removeItem($c)}function mE(t){try{const a=t.split(".")[1];if(!a)return null;const l=a.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function pE(t){if(!t)return!1;const a=mE(t);if(!a?.exp)return!1;const l=Math.floor(Date.now()/1e3);return a.exp>l+10}const hm="http://127.0.0.1:8000",gE=hm.includes("127.0.0.1")||hm.includes("localhost"),yE=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",Um=yE&&gE?window.location.origin:hm,_f="/admin-panel/",Cc=_f.endsWith("/")?_f.slice(0,-1):_f,Ae=Rt.create({baseURL:Um,headers:{"Content-Type":"application/json"}}),xE=Rt.create({baseURL:Um,headers:{"Content-Type":"application/json"}});function Mx(){if(W0(),typeof window>"u")return;const t=`${window.location.pathname}${window.location.search}`,a=Cc&&t.startsWith(Cc)?t.slice(Cc.length)||"/":t;if(a==="/login"||a.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Cc}/login?redirect=${encodeURIComponent(a)}`;window.location.replace(l)}Ae.interceptors.request.use(t=>{const a=J0();return a&&(t.headers.Authorization=`Bearer ${a}`),t});let Ac=null;async function vE(){const t=cm();if(!t)return Mx(),null;try{const a=await Rt.post(`${Um}/api/admin/auth/refresh`,{refresh_token:t});return dm(a.data.access_token,a.data.refresh_token??t),a.data.access_token}catch{return Mx(),null}}Ae.interceptors.response.use(t=>t,async t=>{const a=t.config;if(!a||t.response?.status!==401||a._retry)return Promise.reject(t);const o=a.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(t);a._retry=!0,Ac||(Ac=vE().finally(()=>{Ac=null}));const f=await Ac;return f?(a.headers.Authorization=`Bearer ${f}`,Ae(a)):Promise.reject(t)});async function _E(t){return(await Ae.post("/api/admin/auth/login",t)).data}async function bE(t){return(await Ae.post("/api/admin/auth/refresh",t)).data}async function NE(t){return(await Ae.post("/api/admin/auth/logout",t)).data}async function bf(){return(await Ae.get("/api/admin/auth/me")).data}async function e_(){return(await Ae.get("/api/admin/admin-users")).data}async function dd(t){return(await Ae.get("/api/admin/regions",{params:t})).data}async function SE(t){return(await Ae.post("/api/admin/regions",t)).data}async function jE(t,a){return(await Ae.patch(`/api/admin/regions/${t}`,a)).data}async function wE(t){return(await Ae.post("/api/admin/admin-users",t)).data}async function EE(t,a){return(await Ae.patch(`/api/admin/admin-users/${t}`,a)).data}async function TE(t){await Ae.delete(`/api/admin/admin-users/${t}`)}async function Rs(){return(await Ae.get("/admin/departments")).data}async function kE(t){return(await Ae.get("/admin/departments",{params:t})).data}async function CE(t){return(await Ae.post("/admin/departments",t)).data}async function AE(t,a){return(await Ae.patch(`/admin/departments/${t}`,a)).data}async function vi(t={}){return(await Ae.get("/admin/employees",{params:t})).data}async function zE(t){return(await Ae.post("/admin/employees",t)).data}async function OE(t){return(await Ae.get(`/api/admin/employees/${t}/detail`)).data}async function ME(t,a){return(await Ae.patch(`/api/admin/employees/${t}`,a)).data}async function t_(t,a){return(await Ae.patch(`/api/admin/employees/${t}/active`,a)).data}async function RE(t,a){return(await Ae.patch(`/api/admin/employees/${t}/shift`,a)).data}async function LE(t,a){return(await Ae.patch(`/api/admin/employees/${t}/department`,a)).data}async function DE(t,a){return(await Ae.put(`/admin/employee-locations/${t}`,a)).data}async function PE(){return(await Ae.get("/admin/work-rules")).data}async function BE(t){return(await Ae.post("/admin/work-rules",t)).data}async function n_(t){return(await Ae.get("/admin/department-weekly-rules",{params:t})).data}async function a_(t){return(await Ae.post("/admin/department-weekly-rules",t)).data}async function lu(t){return(await Ae.get("/admin/department-shifts",{params:t})).data}async function Xc(t){return(await Ae.post("/admin/department-shifts",t)).data}async function i_(t){return(await Ae.delete(`/admin/department-shifts/${t}`)).data}async function IE(t={}){return(await Ae.get("/api/admin/qr/codes",{params:t})).data}async function UE(t){return(await Ae.post("/api/admin/qr/codes",t)).data}async function ZE(t,a){return(await Ae.patch(`/api/admin/qr/codes/${t}`,a)).data}async function qE(t,a){return(await Ae.post(`/api/admin/qr/codes/${t}/points`,a)).data}async function FE(t,a){return(await Ae.delete(`/api/admin/qr/codes/${t}/points/${a}`)).data}async function HE(t={}){return(await Ae.get("/api/admin/qr/points",{params:t})).data}async function KE(t){return(await Ae.post("/api/admin/qr/points",t)).data}async function QE(t,a){return(await Ae.patch(`/api/admin/qr/points/${t}`,a)).data}async function VE(t){return(await Ae.delete(`/api/admin/qr/points/${t}`)).data}async function Rx(t){return(await Ae.post("/api/admin/schedule-plans",t)).data}async function GE(t={}){return(await Ae.get("/api/admin/schedule-plans",{params:t})).data}async function YE(t){return(await Ae.delete(`/api/admin/schedule-plans/${t}`)).data}async function s_(t={}){return(await Ae.get("/admin/attendance-events",{params:t})).data}async function $E(t){return(await Ae.post("/api/admin/attendance-events",t)).data}async function XE(t,a){return(await Ae.patch(`/api/admin/attendance-events/${t}`,a)).data}async function JE(t,a=!1){return(await Ae.delete(`/api/admin/attendance-events/${t}`,{params:{force:a}})).data}async function r_(t={}){return(await Ae.get("/api/admin/audit-logs",{params:t})).data}async function WE(t={}){return(await Ae.get("/api/admin/notifications/jobs",{params:t})).data}async function e1(t){return(await Ae.post(`/api/admin/notifications/jobs/${t}/cancel`)).data}async function t1(t={}){return(await Ae.get("/api/admin/notifications/subscriptions",{params:t})).data}async function n1(t={}){return(await Ae.get("/api/admin/notifications/admin-subscriptions",{params:t})).data}async function l_(){return(await Ae.get("/api/admin/notifications/push/config")).data}async function a1(t){return(await Ae.post("/api/admin/notifications/admin-device-invite",t)).data}async function i1(t){return(await Ae.post("/api/admin/notifications/admin-device-claim",t)).data}async function s1(t){return(await Ae.post("/api/admin/notifications/send",t)).data}async function r1(t={}){return(await Ae.get("/api/admin/daily-report-archives",{params:t})).data}function l1(t){if(!t)return null;const a=t.match(/filename\*=UTF-8''([^;]+)/i);if(a?.[1])try{return decodeURIComponent(a[1].trim())}catch{return a[1].trim()}const l=t.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function o1(t){return(await Ae.get(`/api/admin/daily-report-archives/${t}/download`,{responseType:"blob"})).data}async function u1(t,a){const l=await xE.post(`/api/admin/daily-report-archives/${t}/password-download`,a,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:l1(o)}}async function c1(t,a={}){return(await Ae.post(`/api/admin/daily-report-archives/${t}/notify`,a)).data}async function d1(){return(await Ae.get("/admin/devices")).data}async function Lx(t={}){return(await Ae.get("/api/admin/employee-device-overview",{params:t})).data}async function h1(t,a){return(await Ae.patch(`/api/admin/devices/${t}/active`,a)).data}async function o_(t={}){return(await Ae.get("/api/admin/leaves",{params:t})).data}async function f1(t){return(await Ae.post("/api/admin/leaves",t)).data}async function m1(t){await Ae.delete(`/api/admin/leaves/${t}`)}async function u_(t){return(await Ae.post("/api/admin/device-invite",t)).data}async function fm(t){return(await Ae.get("/api/admin/monthly/employee",{params:t})).data}async function p1(t){return(await Ae.get("/api/admin/monthly/department-summary",{params:t})).data}async function g1(t,a){return(await Ae.post("/api/admin/manual-overrides/day",a,{params:{employee_id:t}})).data}async function y1(t,a,l){return(await Ae.get("/api/admin/manual-overrides/day",{params:{employee_id:t,year:a,month:l}})).data}async function x1(t){await Ae.delete(`/api/admin/manual-overrides/day/${t}`)}async function v1(){return(await Ae.get("/api/admin/compliance-settings")).data}async function _1(t){return(await Ae.put("/api/admin/compliance-settings",t)).data}async function b1(t){return(await Ae.get("/api/admin/exports/puantaj.xlsx",{params:t,responseType:"blob"})).data}async function N1(t){return(await Ae.get("/api/admin/export/employee-monthly",{params:t,responseType:"blob"})).data}async function S1(t){return(await Ae.get("/api/admin/export/department-monthly",{params:t,responseType:"blob"})).data}async function j1(t){return(await Ae.get("/api/admin/export/all-monthly",{params:t,responseType:"blob"})).data}async function w1(t){return(await Ae.get("/api/admin/export/puantaj-range.xlsx",{params:t,responseType:"blob"})).data}const c_=S.createContext(void 0);function E1({children:t}){const[a,l]=S.useState(null),[o,d]=S.useState(!0),f=S.useCallback(()=>{W0(),l(null)},[]),p=S.useCallback(async()=>{const w=cm();if(!w)return f(),!1;try{const k=await bE({refresh_token:w});dm(k.access_token,k.refresh_token??w);const z=await bf();return l(z),!0}catch{return f(),!1}},[f]),x=S.useCallback(async()=>{const w=J0();if(!w){l(null),d(!1);return}if(pE(w)){try{const k=await bf();l(k)}catch{await p()}finally{d(!1)}return}await p(),d(!1)},[p]);S.useEffect(()=>{x()},[x]),S.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=S.useCallback(async(w,k)=>{const z=await _E({username:w,password:k});dm(z.access_token,z.refresh_token);const C=await bf();l(C)},[]),_=S.useCallback(async()=>{const w=cm();if(w)try{await NE({refresh_token:w})}catch{}f()},[f]),j=S.useMemo(()=>({user:a,isAuthenticated:!!a,isBootstrapping:o,isSuperAdmin:!!a?.is_super_admin,login:v,logout:_,refreshSession:p,hasPermission:(w,k="read")=>{if(!a)return!1;if(a.is_super_admin)return!0;const z=a.permissions?.[w];return z?k==="write"?!!z.write:!!(z.read||z.write):!1}}),[a,o,v,_,p]);return r.jsx(c_.Provider,{value:j,children:t})}function Pl(){const t=S.useContext(c_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const T1=[{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Bolgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],k1={"/dashboard":"Genel Bak","/regions":"Bolgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"};function C1(){const t=La(),{user:a,logout:l,hasPermission:o}=Pl(),d=T1.filter(p=>!p.permission||o(p.permission)),f=k1[t.pathname]??(t.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel");return r.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[r.jsxs("aside",{className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[r.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),r.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),r.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:d.map(p=>r.jsx(T0,{to:p.to,className:({isActive:x})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${x?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:p.label},p.to))}),r.jsxs("div",{className:"admin-signature",children:[r.jsx("p",{className:"admin-signature-main",children:xi.signatureText}),r.jsx("p",{className:"admin-signature-sub",children:xi.signatureTagline})]})]}),r.jsxs("div",{className:"flex min-h-screen flex-col",children:[r.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-6 py-4 backdrop-blur",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:f}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",a?.username??a?.sub??"admin"," / Rol: ",a?.role??"admin"]})]}),r.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})}),r.jsx("main",{className:"admin-main flex-1 p-6",children:r.jsx(zm,{})}),r.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[r.jsx("span",{className:"admin-footer-brand",children:xi.signatureText}),r.jsx("span",{className:"admin-footer-sub",children:xi.signatureTagline}),r.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",xi.buildVersion]})]})]})]})}function A1(){const{isAuthenticated:t,isBootstrapping:a}=Pl(),l=La();if(a)return r.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!t){const o=`${l.pathname}${l.search}`;return r.jsx(Am,{to:"/login",replace:!0,state:{from:o}})}return r.jsx(zm,{})}function z1(){const{isAuthenticated:t,isBootstrapping:a}=Pl();return a?r.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):t?r.jsx(Am,{to:"/dashboard",replace:!0}):r.jsx(zm,{})}const Dx={INVALID_CREDENTIALS:"Kullanc adi veya ifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giri yapin.",FORBIDDEN:"Bu islem iin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin."};function De(t,a){if(Rt.isAxiosError(t)){const l=t.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,f=l?.error?.message;if(o&&Dx[o])return{code:o,requestId:d,message:Dx[o]};if(f)return{code:o,requestId:d,message:f};if(t.message)return{message:t.message}}return t instanceof Error&&t.message?{message:t.message}:{message:a}}function O1(t,a){return De(t,a).message}function M1(t){const a="=".repeat((4-t.length%4)%4),l=`${t}${a}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let f=0;f<o.length;f+=1)d[f]=o.charCodeAt(f);return d}const Px="pf_admin_push_vapid_public_key";function R1(){const t=Rl(),[a]=Rm(),{login:l}=Pl(),o=S.useMemo(()=>a.get("token")?.trim()??"",[a]),[d,f]=S.useState("admin"),[p,x]=S.useState(""),[v,_]=S.useState(!1),[j,w]=S.useState(null),[k,z]=S.useState(null),[C,A]=S.useState(null),M=async F=>{if(F.preventDefault(),z(null),A(null),w(null),!o){z("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const B=d.trim(),U=p.trim();if(!B||!U){z("Admin kullanc ad ve ifre zorunludur.");return}try{_(!0),await l(B,U);const K=await l_();if(!K.enabled||!K.vapid_public_key){z("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){z("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){z("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const W=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let Y=await W.pushManager.getSubscription();const X=window.localStorage.getItem(Px);if(Y&&X&&X!==K.vapid_public_key){try{await Y.unsubscribe()}catch{}Y=null}Y||(Y=await W.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:M1(K.vapid_public_key)})),await i1({token:o,subscription:Y.toJSON()}),window.localStorage.setItem(Px,K.vapid_public_key),w("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{t("/notifications",{replace:!0})},1e3)}catch(K){const $=De(K,"Cihaz balama ilemi baarsz oldu.");z($.message),A($.requestId??null)}finally{_(!1)}};return r.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),r.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",o||"Bulunamad"]}),r.jsxs("form",{className:"mt-4 space-y-3",onSubmit:M,children:[r.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",r.jsx("input",{value:d,onChange:F=>f(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),r.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",r.jsx("input",{type:"password",value:p,onChange:F=>x(F.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),k?r.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[r.jsx("p",{children:k}),C?r.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",C]}):null]}):null,j?r.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:j}):null,r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"submit",disabled:v,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:v?"Balanyor...":"Cihaz Bala"}),r.jsx(Ll,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function zc(t){return`#${t.id} - ${t.full_name}`}function Qi({label:t,employees:a,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:f="Seiniz",helperText:p,disabled:x=!1,className:v=""}){const _=S.useMemo(()=>a.find(M=>String(M.id)===l),[a,l]),[j,w]=S.useState(_?zc(_):""),[k,z]=S.useState(!1);S.useEffect(()=>{if(_){w(zc(_));return}l||w("")},[_,l]);const C=S.useMemo(()=>{const M=j.trim().toLowerCase();return(M?a.filter(B=>{const U=B.full_name.toLowerCase().includes(M),K=String(B.id).includes(M.replace("#",""));return U||K}):a).slice(0,60)},[a,j]),A=M=>{o(String(M.id)),w(zc(M)),z(!1)};return r.jsxs("div",{className:v,children:[r.jsxs("label",{className:"text-sm text-slate-700",children:[t,r.jsxs("div",{className:"relative mt-1",children:[r.jsx("input",{type:"text",value:j,disabled:x,onFocus:()=>z(!0),onChange:M=>{const F=M.target.value;w(F),z(!0),F.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),r.jsx("button",{type:"button",disabled:x,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),k?r.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsx("button",{type:"button",onMouseDown:M=>M.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:r.jsx("span",{children:f})}),C.map(M=>r.jsxs("button",{type:"button",onMouseDown:F=>F.preventDefault(),onClick:()=>A(M),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[r.jsx("span",{children:zc(M)}),M.is_active?null:r.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},M.id)),C.length===0?r.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),p?r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:p}):null]})}function St({message:t}){return r.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:t})}function It({label:t="Ykleniyor..."}){return r.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[r.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),r.jsx("span",{children:t})]})}function Xo({open:t,title:a,onClose:l,children:o}){return t?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 px-4",children:r.jsxs("div",{className:"admin-panel page-enter w-full max-w-xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:a}),r.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})}):null}function wn({title:t,description:a,action:l}){return r.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t}),a?r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:a}):null]}),l]})}function ze({children:t,className:a=""}){return r.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${a}`,children:t})}function d_({suspicious:t,label:a="Supheli",tooltip:l}){return t?r.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:a}):r.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const L1={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function yi(t){return L1[t]??{label:t,description:`${t} bayra iin aklama tanml deil.`,tone:"neutral"}}function D1(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function P1(t){return t==="danger"||t==="warning"?"status-badge status-badge-incomplete":t==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function h_({reasons:t}){return t.length===0?r.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):r.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(a=>r.jsx("span",{title:yi(a).description,className:P1(yi(a).tone),children:yi(a).label},a))})}const f_=S.createContext(void 0);function B1(t){return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function I1({children:t}){const[a,l]=S.useState([]),o=S.useCallback(p=>{l(x=>x.map(v=>v.id===p?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(x=>x.filter(v=>v.id!==p))},170)},[]),d=S.useCallback(p=>{const x=crypto.randomUUID(),v={id:x,title:p.title,description:p.description,durationMs:p.durationMs??3500,variant:p.variant??"info"};l(_=>[..._,v]),window.setTimeout(()=>{o(x)},v.durationMs)},[o]),f=S.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return r.jsxs(f_.Provider,{value:f,children:[t,r.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:a.map(p=>r.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${B1(p.variant)} ${p.isClosing?"is-leaving":""}`,role:"status",children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.description?r.jsx("p",{className:"mt-1 text-xs",children:p.description}):null]}),r.jsx("button",{type:"button",onClick:()=>o(p.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},p.id))})]})}function In(){const t=S.useContext(f_);return t||{pushToast:()=>{},removeToast:()=>{}}}const U1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],Z1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Oc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"};function Ko(t,a){return t[a]===!0}function Bx(t){if(typeof t=="number"&&Number.isInteger(t)&&t>0)return t;if(typeof t=="string"){const a=Number(t.trim());if(Number.isInteger(a)&&a>0)return a}return null}function Ix(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function q1(t){const a=new Date(t);return new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function F1(t){return t==="VERIFIED_HOME"?"Evde onayl":t==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function Nf(t){const a=[],l=t.flags.reason==="home_location_not_set";return Ko(t.flags,"DUPLICATE_EVENT")&&a.push("DUPLICATE_EVENT"),Ko(t.flags,"MANUAL_CHECKOUT")&&a.push("MANUAL_CHECKOUT"),Ko(t.flags,"NEEDS_SHIFT_REVIEW")&&a.push("NEEDS_SHIFT_REVIEW"),t.location_status==="NO_LOCATION"&&a.push("LOCATION_NO_LOCATION"),t.location_status==="UNVERIFIED_LOCATION"&&!l&&a.push("LOCATION_UNVERIFIED"),(t.source==="MANUAL"||t.created_by_admin||Ko(t.flags,"ADMIN_MANUAL"))&&a.push("ADMIN_MANUAL_EVENT"),a}function Sf(t){const a=Number(t);return Number.isInteger(a)&&a>0?a:null}function H1(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(Oc),[d,f]=S.useState(Oc),[p,x]=S.useState(""),[v,_]=S.useState("IN"),[j,w]=S.useState(""),[k,z]=S.useState(""),[C,A]=S.useState(""),[M,F]=S.useState(!1),[B,U]=S.useState(null),[K,$]=S.useState("IN"),[G,W]=S.useState(""),[Y,X]=S.useState(""),[ve,ae]=S.useState(""),[ce,oe]=S.useState(!1),[q,le]=S.useState(!1),[Z,re]=S.useState(null),[de,Ee]=S.useState(!1),ee=Ue({queryKey:["employees","all"],queryFn:()=>vi({status:"all",include_inactive:!0})}),O=Ue({queryKey:["departments"],queryFn:Rs}),ie=Ue({queryKey:["department-shifts","all"],queryFn:()=>lu({active_only:!1})}),R=S.useMemo(()=>{const V=Number(d.employeeId),Oe=Number(d.departmentId),jt=Number(d.limit);return{employee_id:V>0?V:void 0,department_id:Oe>0?Oe:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:jt>0?jt:200}},[d]),H=Ue({queryKey:["attendance-events",R],queryFn:()=>s_(R)}),ge=Ue({queryKey:["audit-logs","attendance-events"],queryFn:()=>r_({entity_type:"attendance_event",limit:50})}),J=Ke({mutationFn:$E,onSuccess:()=>{a({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),F(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:V=>{a({variant:"error",title:"Kayt oluturulamad",description:De(V,"lem baarsz.").message})}}),Te=Ke({mutationFn:({eventId:V,payload:Oe})=>XE(V,Oe),onSuccess:()=>{a({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),U(null),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:V=>{a({variant:"error",title:"Event gncellenemedi",description:De(V,"lem baarsz.").message})}}),Be=Ke({mutationFn:({eventId:V,force:Oe})=>JE(V,Oe),onSuccess:()=>{a({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),re(null),Ee(!1),t.invalidateQueries({queryKey:["attendance-events"]}),t.invalidateQueries({queryKey:["audit-logs"]})},onError:V=>{a({variant:"error",title:"Silme baarsz",description:De(V,"lem baarsz.").message})}}),Ze=ee.data??[],dt=O.data??[],at=ie.data??[],Ut=H.data??[],Lt=S.useMemo(()=>new Map(Ze.map(V=>[V.id,V])),[Ze]),Gt=S.useMemo(()=>new Map(Ze.map(V=>[V.id,V.full_name])),[Ze]),an=S.useMemo(()=>new Map(dt.map(V=>[V.id,V.name])),[dt]),Yt=S.useMemo(()=>new Map(at.map(V=>[V.id,V])),[at]),ln=S.useMemo(()=>Lt.get(Number(p)),[Lt,p]),on=S.useMemo(()=>ln?.department_id?at.filter(V=>V.department_id===ln.department_id):at,[ln?.department_id,at]),bn=S.useMemo(()=>{if(!B)return at;const V=Lt.get(B.employee_id);return V?.department_id?at.filter(Oe=>Oe.department_id===V.department_id):at},[Lt,B,at]),te=S.useMemo(()=>d.suspiciousOnly?Ut.filter(V=>Nf(V).length>0):Ut,[Ut,d.suspiciousOnly]),ke=()=>f({...l}),Ge=()=>{o(Oc),f(Oc)},At=V=>{V.preventDefault();const Oe=Sf(p);if(!Oe||!j){a({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const jt=Sf(C);J.mutate({employee_id:Oe,type:v,ts_utc:new Date(j).toISOString(),note:k||void 0,shift_id:jt??void 0,allow_duplicate:M})},Ye=V=>{U(V),$(V.type),W(q1(V.ts_utc)),X(V.note??""),oe(!1),le(!1),ae(String(Bx(V.flags.SHIFT_ID)??""))},_e=V=>{if(V.preventDefault(),!B||!G)return;const Oe=Sf(ve);Te.mutate({eventId:B.id,payload:{type:K,ts_utc:new Date(G).toISOString(),note:Y||null,shift_id:Oe??void 0,allow_duplicate:ce,force_edit:q}})};return ee.isLoading||O.isLoading||ie.isLoading?r.jsx(It,{}):ee.isError||O.isError||ie.isError?r.jsx(St,{message:"alan/departman/vardiya bilgileri alnamad."}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[r.jsx(Qi,{label:"alan",employees:Ze,value:l.employeeId,onChange:V=>o(Oe=>({...Oe,employeeId:V})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:l.departmentId,onChange:V=>o(Oe=>({...Oe,departmentId:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tm"}),dt.map(V=>r.jsxs("option",{value:V.id,children:["#",V.id," - ",V.name]},V.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",r.jsx("input",{type:"date",value:l.dateFrom,onChange:V=>o(Oe=>({...Oe,dateFrom:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",r.jsx("input",{type:"date",value:l.dateTo,onChange:V=>o(Oe=>({...Oe,dateTo:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",r.jsx("select",{value:l.eventType,onChange:V=>o(Oe=>({...Oe,eventType:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:Z1.map(V=>r.jsx("option",{value:V.value,children:V.label},V.value))})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",r.jsx("select",{value:l.locationStatus,onChange:V=>o(Oe=>({...Oe,locationStatus:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:U1.map(V=>r.jsx("option",{value:V.value,children:V.label},V.value))})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",r.jsx("input",{type:"number",value:l.limit,onChange:V=>o(Oe=>({...Oe,limit:V.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:V=>o(Oe=>({...Oe,duplicatesOnly:V.target.checked}))}),"Sadece mkerrer"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:V=>o(Oe=>({...Oe,suspiciousOnly:V.target.checked}))}),"Sadece pheli"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:V=>o(Oe=>({...Oe,includeDeleted:V.target.checked}))}),"Silinenleri gster"]})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{type:"button",onClick:ke,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),r.jsx("button",{type:"button",onClick:Ge,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),r.jsxs("form",{onSubmit:At,className:"mt-3 grid gap-3 md:grid-cols-3",children:[r.jsx(Qi,{label:"alan",employees:Ze,value:p,onChange:x,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",r.jsxs("select",{value:v,onChange:V=>_(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"IN",children:"IN (Giri)"}),r.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",r.jsx("input",{type:"datetime-local",value:j,onChange:V=>w(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",r.jsxs("select",{value:C,onChange:V=>A(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Otomatik/bo"}),on.map(V=>r.jsxs("option",{value:V.id,children:["#",V.id," - ",V.name," (",V.start_time_local,"-",V.end_time_local,")"]},V.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",r.jsx("input",{type:"text",value:k,onChange:V=>z(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:V=>F(V.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),r.jsx("div",{className:"md:col-span-3",children:r.jsx("button",{type:"submit",disabled:J.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:J.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),r.jsxs(ze,{children:[r.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:te.length})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:te.filter(V=>Nf(V).length>0).length})]})]}),H.isLoading?r.jsx(It,{}):null,H.isError?r.jsx(St,{message:De(H.error,"Yoklama kaytlar alnamad.").message}):null,!H.isLoading&&!H.isError?r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"ID"}),r.jsx("th",{className:"py-2",children:"alan"}),r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"Tip"}),r.jsx("th",{className:"py-2",children:"Kaynak"}),r.jsx("th",{className:"py-2",children:"Zaman"}),r.jsx("th",{className:"py-2",children:"Konum"}),r.jsx("th",{className:"py-2",children:"Vardiya"}),r.jsx("th",{className:"py-2",children:"Not"}),r.jsx("th",{className:"py-2",children:"Bayraklar"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),r.jsx("tbody",{children:te.map(V=>{const Oe=Nf(V),jt=Lt.get(V.employee_id),$e=jt?.department_id!=null?an.get(jt.department_id):"-",pn=V.source==="MANUAL"||V.created_by_admin||Ko(V.flags,"ADMIN_MANUAL"),ue=Bx(V.flags.SHIFT_ID),Xe=typeof V.flags.SHIFT_NAME=="string"?V.flags.SHIFT_NAME:ue&&Yt.get(ue)?Yt.get(ue)?.name:null;return r.jsxs("tr",{className:`border-t border-slate-100 ${Oe.length>0?"bg-amber-50/40":""}`,children:[r.jsx("td",{className:"py-2",children:V.id}),r.jsxs("td",{className:"py-2",children:["#",V.employee_id," - ",Gt.get(V.employee_id)??"-"]}),r.jsx("td",{className:"py-2",children:$e??"-"}),r.jsx("td",{className:"py-2",children:V.type}),r.jsxs("td",{className:"py-2",children:[pn?r.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",V.deleted_at?r.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),r.jsx("td",{className:"py-2",children:Ix(V.ts_utc)}),r.jsx("td",{className:"py-2",children:F1(V.location_status)}),r.jsx("td",{className:"py-2",children:Xe?r.jsxs("span",{children:[Xe,ue?` (#${ue})`:""]}):ue?r.jsxs("span",{children:["#",ue]}):"-"}),r.jsx("td",{className:"py-2",children:V.note||"-"}),r.jsx("td",{className:"py-2",children:r.jsx(h_,{reasons:Oe})}),r.jsx("td",{className:"py-2",children:r.jsx(d_,{suspicious:Oe.length>0,label:"pheli"})}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Ye(V),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),r.jsx("button",{type:"button",onClick:()=>re(V),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},V.id)})})]}),te.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),ge.isLoading?r.jsx(It,{}):null,ge.isError?r.jsx(St,{message:De(ge.error,"Audit loglar alnamad.").message}):null,!ge.isLoading&&!ge.isError?r.jsx("div",{className:"mt-3 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Zaman"}),r.jsx("th",{className:"py-2",children:"Aksiyon"}),r.jsx("th",{className:"py-2",children:"Kullanc"}),r.jsx("th",{className:"py-2",children:"Entity"}),r.jsx("th",{className:"py-2",children:"Durum"})]})}),r.jsx("tbody",{children:(ge.data??[]).map(V=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:Ix(V.ts_utc)}),r.jsx("td",{className:"py-2",children:V.action}),r.jsxs("td",{className:"py-2",children:[V.actor_type,":",V.actor_id]}),r.jsxs("td",{className:"py-2",children:[V.entity_type??"-"," ",V.entity_id?`#${V.entity_id}`:""]}),r.jsx("td",{className:"py-2",children:V.success?"Baarl":"Hatal"})]},V.id))})]})}):null]}),r.jsx(Xo,{open:B!==null,title:B?`Event #${B.id} dzenle`:"Event dzenle",onClose:()=>U(null),children:r.jsxs("form",{onSubmit:_e,className:"space-y-3",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",r.jsxs("select",{value:K,onChange:V=>$(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"IN",children:"IN (Giri)"}),r.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",r.jsx("input",{type:"datetime-local",value:G,onChange:V=>W(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",r.jsxs("select",{value:ve,onChange:V=>ae(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Deitirme"}),bn.map(V=>r.jsxs("option",{value:V.id,children:["#",V.id," - ",V.name," (",V.start_time_local,"-",V.end_time_local,")"]},V.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Not",r.jsx("input",{type:"text",value:Y,onChange:V=>X(V.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:ce,onChange:V=>oe(V.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:q,onChange:V=>le(V.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),r.jsx("button",{type:"submit",disabled:Te.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Te.isPending?"Kaydediliyor...":"Kaydet"})]})}),r.jsx(Xo,{open:Z!==null,title:Z?`Event #${Z.id} soft sil`:"Event soft sil",onClose:()=>re(null),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:de,onChange:V=>Ee(V.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),r.jsx("button",{type:"button",onClick:()=>Z&&Be.mutate({eventId:Z.id,force:de}),disabled:Be.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:Be.isPending?"Siliniyor...":"Soft sil"})]})})]})}function Se(t,a,l){function o(x,v){if(x._zod||Object.defineProperty(x,"_zod",{value:{def:v,constr:p,traits:new Set},enumerable:!1}),x._zod.traits.has(t))return;x._zod.traits.add(t),a(x,v);const _=p.prototype,j=Object.keys(_);for(let w=0;w<j.length;w++){const k=j[w];k in x||(x[k]=_[k].bind(x))}}const d=l?.Parent??Object;class f extends d{}Object.defineProperty(f,"name",{value:t});function p(x){var v;const _=l?.Parent?new f:this;o(_,x),(v=_._zod).deferred??(v.deferred=[]);for(const j of _._zod.deferred)j();return _}return Object.defineProperty(p,"init",{value:o}),Object.defineProperty(p,Symbol.hasInstance,{value:x=>l?.Parent&&x instanceof l.Parent?!0:x?._zod?.traits?.has(t)}),Object.defineProperty(p,"name",{value:t}),p}class kl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class m_ extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const p_={};function kr(t){return p_}function g_(t){const a=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,d])=>a.indexOf(+o)===-1).map(([o,d])=>d)}function mm(t,a){return typeof a=="bigint"?a.toString():a}function Zm(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function qm(t){return t==null}function Fm(t){const a=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;return t.slice(a,l)}function K1(t,a){const l=(t.toString().split(".")[1]||"").length,o=a.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const f=l>d?l:d,p=Number.parseInt(t.toFixed(f).replace(".","")),x=Number.parseInt(a.toFixed(f).replace(".",""));return p%x/10**f}const Ux=Symbol("evaluating");function Nt(t,a,l){let o;Object.defineProperty(t,a,{get(){if(o!==Ux)return o===void 0&&(o=Ux,o=l()),o},set(d){Object.defineProperty(t,a,{value:d})},configurable:!0})}function Ar(t,a,l){Object.defineProperty(t,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}function Ls(...t){const a={};for(const l of t){const o=Object.getOwnPropertyDescriptors(l);Object.assign(a,o)}return Object.defineProperties({},a)}function Zx(t){return JSON.stringify(t)}function Q1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const y_="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Jc(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const V1=Zm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Jo(t){if(Jc(t)===!1)return!1;const a=t.constructor;if(a===void 0||typeof a!="function")return!0;const l=a.prototype;return!(Jc(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function x_(t){return Jo(t)?{...t}:Array.isArray(t)?[...t]:t}const G1=new Set(["string","number","symbol"]);function hd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ds(t,a,l){const o=new t._zod.constr(a??t._zod.def);return(!a||l?.parent)&&(o._zod.parent=t),o}function Fe(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function Y1(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const $1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function X1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const f=Ls(t._zod.def,{get shape(){const p={};for(const x in a){if(!(x in l.shape))throw new Error(`Unrecognized key: "${x}"`);a[x]&&(p[x]=l.shape[x])}return Ar(this,"shape",p),p},checks:[]});return Ds(t,f)}function J1(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const f=Ls(t._zod.def,{get shape(){const p={...t._zod.def.shape};for(const x in a){if(!(x in l.shape))throw new Error(`Unrecognized key: "${x}"`);a[x]&&delete p[x]}return Ar(this,"shape",p),p},checks:[]});return Ds(t,f)}function W1(t,a){if(!Jo(a))throw new Error("Invalid input to extend: expected a plain object");const l=t._zod.def.checks;if(l&&l.length>0){const f=t._zod.def.shape;for(const p in a)if(Object.getOwnPropertyDescriptor(f,p)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=Ls(t._zod.def,{get shape(){const f={...t._zod.def.shape,...a};return Ar(this,"shape",f),f}});return Ds(t,d)}function e2(t,a){if(!Jo(a))throw new Error("Invalid input to safeExtend: expected a plain object");const l=Ls(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a};return Ar(this,"shape",o),o}});return Ds(t,l)}function t2(t,a){const l=Ls(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a._zod.def.shape};return Ar(this,"shape",o),o},get catchall(){return a._zod.def.catchall},checks:[]});return Ds(t,l)}function n2(t,a,l){const d=a._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const p=Ls(a._zod.def,{get shape(){const x=a._zod.def.shape,v={...x};if(l)for(const _ in l){if(!(_ in x))throw new Error(`Unrecognized key: "${_}"`);l[_]&&(v[_]=t?new t({type:"optional",innerType:x[_]}):x[_])}else for(const _ in x)v[_]=t?new t({type:"optional",innerType:x[_]}):x[_];return Ar(this,"shape",v),v},checks:[]});return Ds(a,p)}function a2(t,a,l){const o=Ls(a._zod.def,{get shape(){const d=a._zod.def.shape,f={...d};if(l)for(const p in l){if(!(p in f))throw new Error(`Unrecognized key: "${p}"`);l[p]&&(f[p]=new t({type:"nonoptional",innerType:d[p]}))}else for(const p in d)f[p]=new t({type:"nonoptional",innerType:d[p]});return Ar(this,"shape",f),f}});return Ds(a,o)}function Tl(t,a=0){if(t.aborted===!0)return!0;for(let l=a;l<t.issues.length;l++)if(t.issues[l]?.continue!==!0)return!0;return!1}function v_(t,a){return a.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(t),l})}function Mc(t){return typeof t=="string"?t:t?.message}function Cr(t,a,l){const o={...t,path:t.path??[]};if(!t.message){const d=Mc(t.inst?._zod.def?.error?.(t))??Mc(a?.error?.(t))??Mc(l.customError?.(t))??Mc(l.localeError?.(t))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,a?.reportInput||delete o.input,o}function Hm(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Wo(...t){const[a,l,o]=t;return typeof a=="string"?{message:a,code:"custom",input:l,inst:o}:{...a}}const __=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,mm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},b_=Se("$ZodError",__),N_=Se("$ZodError",__,{Parent:Error});function i2(t,a=l=>l.message){const l={},o=[];for(const d of t.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(a(d))):o.push(a(d));return{formErrors:o,fieldErrors:l}}function s2(t,a=l=>l.message){const l={_errors:[]},o=d=>{for(const f of d.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(p=>o({issues:p}));else if(f.code==="invalid_key")o({issues:f.issues});else if(f.code==="invalid_element")o({issues:f.issues});else if(f.path.length===0)l._errors.push(a(f));else{let p=l,x=0;for(;x<f.path.length;){const v=f.path[x];x===f.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(a(f))):p[v]=p[v]||{_errors:[]},p=p[v],x++}}};return o(t),l}const Km=t=>(a,l,o,d)=>{const f=o?Object.assign(o,{async:!1}):{async:!1},p=a._zod.run({value:l,issues:[]},f);if(p instanceof Promise)throw new kl;if(p.issues.length){const x=new(d?.Err??t)(p.issues.map(v=>Cr(v,f,kr())));throw y_(x,d?.callee),x}return p.value},Qm=t=>async(a,l,o,d)=>{const f=o?Object.assign(o,{async:!0}):{async:!0};let p=a._zod.run({value:l,issues:[]},f);if(p instanceof Promise&&(p=await p),p.issues.length){const x=new(d?.Err??t)(p.issues.map(v=>Cr(v,f,kr())));throw y_(x,d?.callee),x}return p.value},fd=t=>(a,l,o)=>{const d=o?{...o,async:!1}:{async:!1},f=a._zod.run({value:l,issues:[]},d);if(f instanceof Promise)throw new kl;return f.issues.length?{success:!1,error:new(t??b_)(f.issues.map(p=>Cr(p,d,kr())))}:{success:!0,data:f.value}},r2=fd(N_),md=t=>async(a,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let f=a._zod.run({value:l,issues:[]},d);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new t(f.issues.map(p=>Cr(p,d,kr())))}:{success:!0,data:f.value}},l2=md(N_),o2=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Km(t)(a,l,d)},u2=t=>(a,l,o)=>Km(t)(a,l,o),c2=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Qm(t)(a,l,d)},d2=t=>async(a,l,o)=>Qm(t)(a,l,o),h2=t=>(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return fd(t)(a,l,d)},f2=t=>(a,l,o)=>fd(t)(a,l,o),m2=t=>async(a,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return md(t)(a,l,d)},p2=t=>async(a,l,o)=>md(t)(a,l,o),g2=/^[cC][^\s-]{8,}$/,y2=/^[0-9a-z]+$/,x2=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,v2=/^[0-9a-vA-V]{20}$/,_2=/^[A-Za-z0-9]{27}$/,b2=/^[a-zA-Z0-9_-]{21}$/,N2=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,S2=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qx=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,j2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,w2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function E2(){return new RegExp(w2,"u")}const T2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,k2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,C2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,A2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,z2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,S_=/^[A-Za-z0-9_-]*$/,O2=/^\+[1-9]\d{6,14}$/,j_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",M2=new RegExp(`^${j_}$`);function w_(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function R2(t){return new RegExp(`^${w_(t)}$`)}function L2(t){const a=w_({precision:t.precision}),l=["Z"];t.local&&l.push(""),t.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${a}(?:${l.join("|")})`;return new RegExp(`^${j_}T(?:${o})$`)}const D2=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},P2=/^-?\d+$/,B2=/^-?\d+(?:\.\d+)?$/,I2=/^(?:true|false)$/i,U2=/^null$/i,Z2=/^[^A-Z]*$/,q2=/^[^a-z]*$/,ia=Se("$ZodCheck",(t,a)=>{var l;t._zod??(t._zod={}),t._zod.def=a,(l=t._zod).onattach??(l.onattach=[])}),E_={number:"number",bigint:"bigint",object:"date"},T_=Se("$ZodCheckLessThan",(t,a)=>{ia.init(t,a);const l=E_[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,f=(a.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<f&&(a.inclusive?d.maximum=a.value:d.exclusiveMaximum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value<=a.value:o.value<a.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),k_=Se("$ZodCheckGreaterThan",(t,a)=>{ia.init(t,a);const l=E_[typeof a.value];t._zod.onattach.push(o=>{const d=o._zod.bag,f=(a.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>f&&(a.inclusive?d.minimum=a.value:d.exclusiveMinimum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value>=a.value:o.value>a.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),F2=Se("$ZodCheckMultipleOf",(t,a)=>{ia.init(t,a),t._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=a.value)}),t._zod.check=l=>{if(typeof l.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%a.value===BigInt(0):K1(l.value,a.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:a.value,input:l.value,inst:t,continue:!a.abort})}}),H2=Se("$ZodCheckNumberFormat",(t,a)=>{ia.init(t,a),a.format=a.format||"float64";const l=a.format?.includes("int"),o=l?"int":"number",[d,f]=$1[a.format];t._zod.onattach.push(p=>{const x=p._zod.bag;x.format=a.format,x.minimum=d,x.maximum=f,l&&(x.pattern=P2)}),t._zod.check=p=>{const x=p.value;if(l){if(!Number.isInteger(x)){p.issues.push({expected:o,format:a.format,code:"invalid_type",continue:!1,input:x,inst:t});return}if(!Number.isSafeInteger(x)){x>0?p.issues.push({input:x,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort}):p.issues.push({input:x,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort});return}}x<d&&p.issues.push({origin:"number",input:x,code:"too_small",minimum:d,inclusive:!0,inst:t,continue:!a.abort}),x>f&&p.issues.push({origin:"number",input:x,code:"too_big",maximum:f,inclusive:!0,inst:t,continue:!a.abort})}}),K2=Se("$ZodCheckMaxLength",(t,a)=>{var l;ia.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!qm(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<d&&(o._zod.bag.maximum=a.maximum)}),t._zod.check=o=>{const d=o.value;if(d.length<=a.maximum)return;const p=Hm(d);o.issues.push({origin:p,code:"too_big",maximum:a.maximum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),Q2=Se("$ZodCheckMinLength",(t,a)=>{var l;ia.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!qm(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>d&&(o._zod.bag.minimum=a.minimum)}),t._zod.check=o=>{const d=o.value;if(d.length>=a.minimum)return;const p=Hm(d);o.issues.push({origin:p,code:"too_small",minimum:a.minimum,inclusive:!0,input:d,inst:t,continue:!a.abort})}}),V2=Se("$ZodCheckLengthEquals",(t,a)=>{var l;ia.init(t,a),(l=t._zod.def).when??(l.when=o=>{const d=o.value;return!qm(d)&&d.length!==void 0}),t._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=a.length,d.maximum=a.length,d.length=a.length}),t._zod.check=o=>{const d=o.value,f=d.length;if(f===a.length)return;const p=Hm(d),x=f>a.length;o.issues.push({origin:p,...x?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!a.abort})}}),pd=Se("$ZodCheckStringFormat",(t,a)=>{var l,o;ia.init(t,a),t._zod.onattach.push(d=>{const f=d._zod.bag;f.format=a.format,a.pattern&&(f.patterns??(f.patterns=new Set),f.patterns.add(a.pattern))}),a.pattern?(l=t._zod).check??(l.check=d=>{a.pattern.lastIndex=0,!a.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:a.format,input:d.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(o=t._zod).check??(o.check=()=>{})}),G2=Se("$ZodCheckRegex",(t,a)=>{pd.init(t,a),t._zod.check=l=>{a.pattern.lastIndex=0,!a.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),Y2=Se("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=Z2),pd.init(t,a)}),$2=Se("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=q2),pd.init(t,a)}),X2=Se("$ZodCheckIncludes",(t,a)=>{ia.init(t,a);const l=hd(a.includes),o=new RegExp(typeof a.position=="number"?`^.{${a.position}}${l}`:l);a.pattern=o,t._zod.onattach.push(d=>{const f=d._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(o)}),t._zod.check=d=>{d.value.includes(a.includes,a.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:d.value,inst:t,continue:!a.abort})}}),J2=Se("$ZodCheckStartsWith",(t,a)=>{ia.init(t,a);const l=new RegExp(`^${hd(a.prefix)}.*`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.startsWith(a.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:o.value,inst:t,continue:!a.abort})}}),W2=Se("$ZodCheckEndsWith",(t,a)=>{ia.init(t,a);const l=new RegExp(`.*${hd(a.suffix)}$`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.endsWith(a.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:o.value,inst:t,continue:!a.abort})}}),eT=Se("$ZodCheckOverwrite",(t,a)=>{ia.init(t,a),t._zod.check=l=>{l.value=a.tx(l.value)}});class tT{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const o=a.split(`
`).filter(p=>p),d=Math.min(...o.map(p=>p.length-p.trimStart().length)),f=o.map(p=>p.slice(d)).map(p=>" ".repeat(this.indent*2)+p);for(const p of f)this.content.push(p)}compile(){const a=Function,l=this?.args,d=[...(this?.content??[""]).map(f=>`  ${f}`)];return new a(...l,d.join(`
`))}}const nT={major:4,minor:3,patch:6},tn=Se("$ZodType",(t,a)=>{var l;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=nT;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const d of o)for(const f of d._zod.onattach)f(t);if(o.length===0)(l=t._zod).deferred??(l.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const d=(p,x,v)=>{let _=Tl(p),j;for(const w of x){if(w._zod.def.when){if(!w._zod.def.when(p))continue}else if(_)continue;const k=p.issues.length,z=w._zod.check(p);if(z instanceof Promise&&v?.async===!1)throw new kl;if(j||z instanceof Promise)j=(j??Promise.resolve()).then(async()=>{await z,p.issues.length!==k&&(_||(_=Tl(p,k)))});else{if(p.issues.length===k)continue;_||(_=Tl(p,k))}}return j?j.then(()=>p):p},f=(p,x,v)=>{if(Tl(p))return p.aborted=!0,p;const _=d(x,o,v);if(_ instanceof Promise){if(v.async===!1)throw new kl;return _.then(j=>t._zod.parse(j,v))}return t._zod.parse(_,v)};t._zod.run=(p,x)=>{if(x.skipChecks)return t._zod.parse(p,x);if(x.direction==="backward"){const _=t._zod.parse({value:p.value,issues:[]},{...x,skipChecks:!0});return _ instanceof Promise?_.then(j=>f(j,p,x)):f(_,p,x)}const v=t._zod.parse(p,x);if(v instanceof Promise){if(x.async===!1)throw new kl;return v.then(_=>d(_,o,x))}return d(v,o,x)}}Nt(t,"~standard",()=>({validate:d=>{try{const f=r2(t,d);return f.success?{value:f.data}:{issues:f.error?.issues}}catch{return l2(t,d).then(p=>p.success?{value:p.data}:{issues:p.error?.issues})}},vendor:"zod",version:1}))}),Vm=Se("$ZodString",(t,a)=>{tn.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??D2(t._zod.bag),t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:t}),l}}),Ht=Se("$ZodStringFormat",(t,a)=>{pd.init(t,a),Vm.init(t,a)}),aT=Se("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=S2),Ht.init(t,a)}),iT=Se("$ZodUUID",(t,a)=>{if(a.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(o===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=qx(o))}else a.pattern??(a.pattern=qx());Ht.init(t,a)}),sT=Se("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=j2),Ht.init(t,a)}),rT=Se("$ZodURL",(t,a)=>{Ht.init(t,a),t._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:a.hostname.source,input:l.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:l.value,inst:t,continue:!a.abort})),a.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:t,continue:!a.abort})}}}),lT=Se("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=E2()),Ht.init(t,a)}),oT=Se("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=b2),Ht.init(t,a)}),uT=Se("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=g2),Ht.init(t,a)}),cT=Se("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=y2),Ht.init(t,a)}),dT=Se("$ZodULID",(t,a)=>{a.pattern??(a.pattern=x2),Ht.init(t,a)}),hT=Se("$ZodXID",(t,a)=>{a.pattern??(a.pattern=v2),Ht.init(t,a)}),fT=Se("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=_2),Ht.init(t,a)}),mT=Se("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=L2(a)),Ht.init(t,a)}),pT=Se("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=M2),Ht.init(t,a)}),gT=Se("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=R2(a)),Ht.init(t,a)}),yT=Se("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=N2),Ht.init(t,a)}),xT=Se("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=T2),Ht.init(t,a),t._zod.bag.format="ipv4"}),vT=Se("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=k2),Ht.init(t,a),t._zod.bag.format="ipv6",t._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:t,continue:!a.abort})}}}),_T=Se("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=C2),Ht.init(t,a)}),bT=Se("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=A2),Ht.init(t,a),t._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,f]=o;if(!f)throw new Error;const p=Number(f);if(`${p}`!==f)throw new Error;if(p<0||p>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:t,continue:!a.abort})}}});function C_(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const NT=Se("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=z2),Ht.init(t,a),t._zod.bag.contentEncoding="base64",t._zod.check=l=>{C_(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:t,continue:!a.abort})}});function ST(t){if(!S_.test(t))return!1;const a=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=a.padEnd(Math.ceil(a.length/4)*4,"=");return C_(l)}const jT=Se("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=S_),Ht.init(t,a),t._zod.bag.contentEncoding="base64url",t._zod.check=l=>{ST(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:t,continue:!a.abort})}}),wT=Se("$ZodE164",(t,a)=>{a.pattern??(a.pattern=O2),Ht.init(t,a)});function ET(t,a=null){try{const l=t.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||a&&(!("alg"in d)||d.alg!==a))}catch{return!1}}const TT=Se("$ZodJWT",(t,a)=>{Ht.init(t,a),t._zod.check=l=>{ET(l.value,a.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:t,continue:!a.abort})}}),A_=Se("$ZodNumber",(t,a)=>{tn.init(t,a),t._zod.pattern=t._zod.bag.pattern??B2,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const f=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:t,...f?{received:f}:{}}),l}}),kT=Se("$ZodNumberFormat",(t,a)=>{H2.init(t,a),A_.init(t,a)}),CT=Se("$ZodBoolean",(t,a)=>{tn.init(t,a),t._zod.pattern=I2,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:t}),l}}),AT=Se("$ZodNull",(t,a)=>{tn.init(t,a),t._zod.pattern=U2,t._zod.values=new Set([null]),t._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:t}),l}}),zT=Se("$ZodUnknown",(t,a)=>{tn.init(t,a),t._zod.parse=l=>l}),OT=Se("$ZodNever",(t,a)=>{tn.init(t,a),t._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:t}),l)});function Fx(t,a,l){t.issues.length&&a.issues.push(...v_(l,t.issues)),a.value[l]=t.value}const MT=Se("$ZodArray",(t,a)=>{tn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:t}),l;l.value=Array(d.length);const f=[];for(let p=0;p<d.length;p++){const x=d[p],v=a.element._zod.run({value:x,issues:[]},o);v instanceof Promise?f.push(v.then(_=>Fx(_,l,p))):Fx(v,l,p)}return f.length?Promise.all(f).then(()=>l):l}});function Wc(t,a,l,o,d){if(t.issues.length){if(d&&!(l in o))return;a.issues.push(...v_(l,t.issues))}t.value===void 0?l in o&&(a.value[l]=void 0):a.value[l]=t.value}function z_(t){const a=Object.keys(t.shape);for(const o of a)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=Y1(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(l)}}function O_(t,a,l,o,d,f){const p=[],x=d.keySet,v=d.catchall._zod,_=v.def.type,j=v.optout==="optional";for(const w in a){if(x.has(w))continue;if(_==="never"){p.push(w);continue}const k=v.run({value:a[w],issues:[]},o);k instanceof Promise?t.push(k.then(z=>Wc(z,l,w,a,j))):Wc(k,l,w,a,j)}return p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:a,inst:f}),t.length?Promise.all(t).then(()=>l):l}const RT=Se("$ZodObject",(t,a)=>{if(tn.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const x=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...x};return Object.defineProperty(a,"shape",{value:v}),v}})}const o=Zm(()=>z_(a));Nt(t._zod,"propValues",()=>{const x=a.shape,v={};for(const _ in x){const j=x[_]._zod;if(j.values){v[_]??(v[_]=new Set);for(const w of j.values)v[_].add(w)}}return v});const d=Jc,f=a.catchall;let p;t._zod.parse=(x,v)=>{p??(p=o.value);const _=x.value;if(!d(_))return x.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),x;x.value={};const j=[],w=p.shape;for(const k of p.keys){const z=w[k],C=z._zod.optout==="optional",A=z._zod.run({value:_[k],issues:[]},v);A instanceof Promise?j.push(A.then(M=>Wc(M,x,k,_,C))):Wc(A,x,k,_,C)}return f?O_(j,_,x,v,o.value,t):j.length?Promise.all(j).then(()=>x):x}}),LT=Se("$ZodObjectJIT",(t,a)=>{RT.init(t,a);const l=t._zod.parse,o=Zm(()=>z_(a)),d=k=>{const z=new tT(["shape","payload","ctx"]),C=o.value,A=U=>{const K=Zx(U);return`shape[${K}]._zod.run({ value: input[${K}], issues: [] }, ctx)`};z.write("const input = payload.value;");const M=Object.create(null);let F=0;for(const U of C.keys)M[U]=`key_${F++}`;z.write("const newResult = {};");for(const U of C.keys){const K=M[U],$=Zx(U),W=k[U]?._zod?.optout==="optional";z.write(`const ${K} = ${A(U)};`),W?z.write(`
        if (${K}.issues.length) {
          if (${$} in input) {
            payload.issues = payload.issues.concat(${K}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$}, ...iss.path] : [${$}]
            })));
          }
        }
        
        if (${K}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${K}.value;
        }
        
      `):z.write(`
        if (${K}.issues.length) {
          payload.issues = payload.issues.concat(${K}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        if (${K}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${K}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const B=z.compile();return(U,K)=>B(k,U,K)};let f;const p=Jc,x=!p_.jitless,_=x&&V1.value,j=a.catchall;let w;t._zod.parse=(k,z)=>{w??(w=o.value);const C=k.value;return p(C)?x&&_&&z?.async===!1&&z.jitless!==!0?(f||(f=d(a.shape)),k=f(k,z),j?O_([],C,k,z,w,t):k):l(k,z):(k.issues.push({expected:"object",code:"invalid_type",input:C,inst:t}),k)}});function Hx(t,a,l,o){for(const f of t)if(f.issues.length===0)return a.value=f.value,a;const d=t.filter(f=>!Tl(f));return d.length===1?(a.value=d[0].value,d[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:l,errors:t.map(f=>f.issues.map(p=>Cr(p,o,kr())))}),a)}const DT=Se("$ZodUnion",(t,a)=>{tn.init(t,a),Nt(t._zod,"optin",()=>a.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Nt(t._zod,"optout",()=>a.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Nt(t._zod,"values",()=>{if(a.options.every(d=>d._zod.values))return new Set(a.options.flatMap(d=>Array.from(d._zod.values)))}),Nt(t._zod,"pattern",()=>{if(a.options.every(d=>d._zod.pattern)){const d=a.options.map(f=>f._zod.pattern);return new RegExp(`^(${d.map(f=>Fm(f.source)).join("|")})$`)}});const l=a.options.length===1,o=a.options[0]._zod.run;t._zod.parse=(d,f)=>{if(l)return o(d,f);let p=!1;const x=[];for(const v of a.options){const _=v._zod.run({value:d.value,issues:[]},f);if(_ instanceof Promise)x.push(_),p=!0;else{if(_.issues.length===0)return _;x.push(_)}}return p?Promise.all(x).then(v=>Hx(v,d,t,f)):Hx(x,d,t,f)}}),PT=Se("$ZodIntersection",(t,a)=>{tn.init(t,a),t._zod.parse=(l,o)=>{const d=l.value,f=a.left._zod.run({value:d,issues:[]},o),p=a.right._zod.run({value:d,issues:[]},o);return f instanceof Promise||p instanceof Promise?Promise.all([f,p]).then(([v,_])=>Kx(l,v,_)):Kx(l,f,p)}});function pm(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(Jo(t)&&Jo(a)){const l=Object.keys(a),o=Object.keys(t).filter(f=>l.indexOf(f)!==-1),d={...t,...a};for(const f of o){const p=pm(t[f],a[f]);if(!p.valid)return{valid:!1,mergeErrorPath:[f,...p.mergeErrorPath]};d[f]=p.data}return{valid:!0,data:d}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<t.length;o++){const d=t[o],f=a[o],p=pm(d,f);if(!p.valid)return{valid:!1,mergeErrorPath:[o,...p.mergeErrorPath]};l.push(p.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Kx(t,a,l){const o=new Map;let d;for(const x of a.issues)if(x.code==="unrecognized_keys"){d??(d=x);for(const v of x.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else t.issues.push(x);for(const x of l.issues)if(x.code==="unrecognized_keys")for(const v of x.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else t.issues.push(x);const f=[...o].filter(([,x])=>x.l&&x.r).map(([x])=>x);if(f.length&&d&&t.issues.push({...d,keys:f}),Tl(t))return t;const p=pm(a.value,l.value);if(!p.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(p.mergeErrorPath)}`);return t.value=p.data,t}const BT=Se("$ZodEnum",(t,a)=>{tn.init(t,a);const l=g_(a.entries),o=new Set(l);t._zod.values=o,t._zod.pattern=new RegExp(`^(${l.filter(d=>G1.has(typeof d)).map(d=>typeof d=="string"?hd(d):d.toString()).join("|")})$`),t._zod.parse=(d,f)=>{const p=d.value;return o.has(p)||d.issues.push({code:"invalid_value",values:l,input:p,inst:t}),d}}),IT=Se("$ZodTransform",(t,a)=>{tn.init(t,a),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new m_(t.constructor.name);const d=a.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(p=>(l.value=p,l));if(d instanceof Promise)throw new kl;return l.value=d,l}});function Qx(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const M_=Se("$ZodOptional",(t,a)=>{tn.init(t,a),t._zod.optin="optional",t._zod.optout="optional",Nt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Nt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Fm(l.source)})?$`):void 0}),t._zod.parse=(l,o)=>{if(a.innerType._zod.optin==="optional"){const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(f=>Qx(f,l.value)):Qx(d,l.value)}return l.value===void 0?l:a.innerType._zod.run(l,o)}}),UT=Se("$ZodExactOptional",(t,a)=>{M_.init(t,a),Nt(t._zod,"values",()=>a.innerType._zod.values),Nt(t._zod,"pattern",()=>a.innerType._zod.pattern),t._zod.parse=(l,o)=>a.innerType._zod.run(l,o)}),ZT=Se("$ZodNullable",(t,a)=>{tn.init(t,a),Nt(t._zod,"optin",()=>a.innerType._zod.optin),Nt(t._zod,"optout",()=>a.innerType._zod.optout),Nt(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${Fm(l.source)}|null)$`):void 0}),Nt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(l,o)=>l.value===null?l:a.innerType._zod.run(l,o)}),qT=Se("$ZodDefault",(t,a)=>{tn.init(t,a),t._zod.optin="optional",Nt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);if(l.value===void 0)return l.value=a.defaultValue,l;const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(f=>Vx(f,a)):Vx(d,a)}});function Vx(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const FT=Se("$ZodPrefault",(t,a)=>{tn.init(t,a),t._zod.optin="optional",Nt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=a.defaultValue),a.innerType._zod.run(l,o))}),HT=Se("$ZodNonOptional",(t,a)=>{tn.init(t,a),Nt(t._zod,"values",()=>{const l=a.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),t._zod.parse=(l,o)=>{const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(f=>Gx(f,t)):Gx(d,t)}});function Gx(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const KT=Se("$ZodCatch",(t,a)=>{tn.init(t,a),Nt(t._zod,"optin",()=>a.innerType._zod.optin),Nt(t._zod,"optout",()=>a.innerType._zod.optout),Nt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(f=>(l.value=f.value,f.issues.length&&(l.value=a.catchValue({...l,error:{issues:f.issues.map(p=>Cr(p,o,kr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=a.catchValue({...l,error:{issues:d.issues.map(f=>Cr(f,o,kr()))},input:l.value}),l.issues=[]),l)}}),QT=Se("$ZodPipe",(t,a)=>{tn.init(t,a),Nt(t._zod,"values",()=>a.in._zod.values),Nt(t._zod,"optin",()=>a.in._zod.optin),Nt(t._zod,"optout",()=>a.out._zod.optout),Nt(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(l,o)=>{if(o.direction==="backward"){const f=a.out._zod.run(l,o);return f instanceof Promise?f.then(p=>Rc(p,a.in,o)):Rc(f,a.in,o)}const d=a.in._zod.run(l,o);return d instanceof Promise?d.then(f=>Rc(f,a.out,o)):Rc(d,a.out,o)}});function Rc(t,a,l){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},l)}const VT=Se("$ZodReadonly",(t,a)=>{tn.init(t,a),Nt(t._zod,"propValues",()=>a.innerType._zod.propValues),Nt(t._zod,"values",()=>a.innerType._zod.values),Nt(t._zod,"optin",()=>a.innerType?._zod?.optin),Nt(t._zod,"optout",()=>a.innerType?._zod?.optout),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const d=a.innerType._zod.run(l,o);return d instanceof Promise?d.then(Yx):Yx(d)}});function Yx(t){return t.value=Object.freeze(t.value),t}const GT=Se("$ZodCustom",(t,a)=>{ia.init(t,a),tn.init(t,a),t._zod.parse=(l,o)=>l,t._zod.check=l=>{const o=l.value,d=a.fn(o);if(d instanceof Promise)return d.then(f=>$x(f,l,o,t));$x(d,l,o,t)}});function $x(t,a,l,o){if(!t){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),a.issues.push(Wo(d))}}var Xx;class YT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...l){const o=l[0];return this._map.set(a,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const l=this._map.get(a);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(a),this}get(a){const l=a._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function $T(){return new YT}(Xx=globalThis).__zod_globalRegistry??(Xx.__zod_globalRegistry=$T());const Qo=globalThis.__zod_globalRegistry;function XT(t,a){return new t({type:"string",...Fe(a)})}function JT(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Fe(a)})}function Jx(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(a)})}function WT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(a)})}function ek(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(a)})}function tk(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(a)})}function nk(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(a)})}function ak(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Fe(a)})}function ik(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(a)})}function sk(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(a)})}function rk(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(a)})}function lk(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(a)})}function ok(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(a)})}function uk(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(a)})}function ck(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(a)})}function dk(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(a)})}function hk(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(a)})}function fk(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(a)})}function mk(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(a)})}function pk(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(a)})}function gk(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(a)})}function yk(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(a)})}function xk(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(a)})}function vk(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(a)})}function _k(t,a){return new t({type:"string",format:"date",check:"string_format",...Fe(a)})}function bk(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...Fe(a)})}function Nk(t,a){return new t({type:"string",format:"duration",check:"string_format",...Fe(a)})}function Sk(t,a){return new t({type:"number",coerce:!0,checks:[],...Fe(a)})}function jk(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(a)})}function wk(t,a){return new t({type:"boolean",...Fe(a)})}function Ek(t,a){return new t({type:"null",...Fe(a)})}function Tk(t){return new t({type:"unknown"})}function kk(t,a){return new t({type:"never",...Fe(a)})}function Wx(t,a){return new T_({check:"less_than",...Fe(a),value:t,inclusive:!1})}function jf(t,a){return new T_({check:"less_than",...Fe(a),value:t,inclusive:!0})}function ev(t,a){return new k_({check:"greater_than",...Fe(a),value:t,inclusive:!1})}function wf(t,a){return new k_({check:"greater_than",...Fe(a),value:t,inclusive:!0})}function tv(t,a){return new F2({check:"multiple_of",...Fe(a),value:t})}function R_(t,a){return new K2({check:"max_length",...Fe(a),maximum:t})}function ed(t,a){return new Q2({check:"min_length",...Fe(a),minimum:t})}function L_(t,a){return new V2({check:"length_equals",...Fe(a),length:t})}function Ck(t,a){return new G2({check:"string_format",format:"regex",...Fe(a),pattern:t})}function Ak(t){return new Y2({check:"string_format",format:"lowercase",...Fe(t)})}function zk(t){return new $2({check:"string_format",format:"uppercase",...Fe(t)})}function Ok(t,a){return new X2({check:"string_format",format:"includes",...Fe(a),includes:t})}function Mk(t,a){return new J2({check:"string_format",format:"starts_with",...Fe(a),prefix:t})}function Rk(t,a){return new W2({check:"string_format",format:"ends_with",...Fe(a),suffix:t})}function Bl(t){return new eT({check:"overwrite",tx:t})}function Lk(t){return Bl(a=>a.normalize(t))}function Dk(){return Bl(t=>t.trim())}function Pk(){return Bl(t=>t.toLowerCase())}function Bk(){return Bl(t=>t.toUpperCase())}function Ik(){return Bl(t=>Q1(t))}function Uk(t,a,l){return new t({type:"array",element:a,...Fe(l)})}function Zk(t,a,l){return new t({type:"custom",check:"custom",fn:a,...Fe(l)})}function qk(t){const a=Fk(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(Wo(o,l.value,a._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=a),d.continue??(d.continue=!a._zod.def.abort),l.issues.push(Wo(d))}},t(l.value,l)));return a}function Fk(t,a){const l=new ia({check:"custom",...Fe(a)});return l._zod.check=t,l}function D_(t){let a=t?.target??"draft-2020-12";return a==="draft-4"&&(a="draft-04"),a==="draft-7"&&(a="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Qo,target:a,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function An(t,a,l={path:[],schemaPath:[]}){var o;const d=t._zod.def,f=a.seen.get(t);if(f)return f.count++,l.schemaPath.includes(t)&&(f.cycle=l.path),f.schema;const p={schema:{},count:1,cycle:void 0,path:l.path};a.seen.set(t,p);const x=t._zod.toJSONSchema?.();if(x)p.schema=x;else{const j={...l,schemaPath:[...l.schemaPath,t],path:l.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(a,p.schema,j);else{const k=p.schema,z=a.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(t,a,k,j)}const w=t._zod.parent;w&&(p.ref||(p.ref=w),An(w,a,j),a.seen.get(w).isParent=!0)}const v=a.metadataRegistry.get(t);return v&&Object.assign(p.schema,v),a.io==="input"&&Fn(t)&&(delete p.schema.examples,delete p.schema.default),a.io==="input"&&p.schema._prefault&&((o=p.schema).default??(o.default=p.schema._prefault)),delete p.schema._prefault,a.seen.get(t).schema}function P_(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const p of t.seen.entries()){const x=t.metadataRegistry.get(p[0])?.id;if(x){const v=o.get(x);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${x}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(x,p[0])}}const d=p=>{const x=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const w=t.external.registry.get(p[0])?.id,k=t.external.uri??(C=>C);if(w)return{ref:k(w)};const z=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=z,{defId:z,ref:`${k("__shared")}#/${x}/${z}`}}if(p[1]===l)return{ref:"#"};const _=`#/${x}/`,j=p[1].schema.id??`__schema${t.counter++}`;return{defId:j,ref:_+j}},f=p=>{if(p[1].schema.$ref)return;const x=p[1],{ref:v,defId:_}=d(p);x.def={...x.schema},_&&(x.defId=_);const j=x.schema;for(const w in j)delete j[w];j.$ref=v};if(t.cycles==="throw")for(const p of t.seen.entries()){const x=p[1];if(x.cycle)throw new Error(`Cycle detected: #/${x.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const x=p[1];if(a===p[0]){f(p);continue}if(t.external){const _=t.external.registry.get(p[0])?.id;if(a!==p[0]&&_){f(p);continue}}if(t.metadataRegistry.get(p[0])?.id){f(p);continue}if(x.cycle){f(p);continue}if(x.count>1&&t.reused==="ref"){f(p);continue}}}function B_(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const x=t.seen.get(p);if(x.ref===null)return;const v=x.def??x.schema,_={...v},j=x.ref;if(x.ref=null,j){o(j);const k=t.seen.get(j),z=k.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(z)):Object.assign(v,z),Object.assign(v,_),p._zod.parent===j)for(const A in v)A==="$ref"||A==="allOf"||A in _||delete v[A];if(z.$ref&&k.def)for(const A in v)A==="$ref"||A==="allOf"||A in k.def&&JSON.stringify(v[A])===JSON.stringify(k.def[A])&&delete v[A]}const w=p._zod.parent;if(w&&w!==j){o(w);const k=t.seen.get(w);if(k?.schema.$ref&&(v.$ref=k.schema.$ref,k.def))for(const z in v)z==="$ref"||z==="allOf"||z in k.def&&JSON.stringify(v[z])===JSON.stringify(k.def[z])&&delete v[z]}t.override({zodSchema:p,jsonSchema:v,path:x.path??[]})};for(const p of[...t.seen.entries()].reverse())o(p[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const p=t.external.registry.get(a)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(p)}Object.assign(d,l.def??l.schema);const f=t.external?.defs??{};for(const p of t.seen.entries()){const x=p[1];x.def&&x.defId&&(f[x.defId]=x.def)}t.external||Object.keys(f).length>0&&(t.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{const p=JSON.parse(JSON.stringify(d));return Object.defineProperty(p,"~standard",{value:{...a["~standard"],jsonSchema:{input:td(a,"input",t.processors),output:td(a,"output",t.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Fn(t,a){const l=a??{seen:new Set};if(l.seen.has(t))return!1;l.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Fn(o.element,l);if(o.type==="set")return Fn(o.valueType,l);if(o.type==="lazy")return Fn(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Fn(o.innerType,l);if(o.type==="intersection")return Fn(o.left,l)||Fn(o.right,l);if(o.type==="record"||o.type==="map")return Fn(o.keyType,l)||Fn(o.valueType,l);if(o.type==="pipe")return Fn(o.in,l)||Fn(o.out,l);if(o.type==="object"){for(const d in o.shape)if(Fn(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(Fn(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(Fn(d,l))return!0;return!!(o.rest&&Fn(o.rest,l))}return!1}const Hk=(t,a={})=>l=>{const o=D_({...l,processors:a});return An(t,o),P_(o,t),B_(o,t)},td=(t,a,l={})=>o=>{const{libraryOptions:d,target:f}=o??{},p=D_({...d??{},target:f,io:a,processors:l});return An(t,p),P_(p,t),B_(p,t)},Kk={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Qk=(t,a,l,o)=>{const d=l;d.type="string";const{minimum:f,maximum:p,format:x,patterns:v,contentEncoding:_}=t._zod.bag;if(typeof f=="number"&&(d.minLength=f),typeof p=="number"&&(d.maxLength=p),x&&(d.format=Kk[x]??x,d.format===""&&delete d.format,x==="time"&&delete d.format),_&&(d.contentEncoding=_),v&&v.size>0){const j=[...v];j.length===1?d.pattern=j[0].source:j.length>1&&(d.allOf=[...j.map(w=>({...a.target==="draft-07"||a.target==="draft-04"||a.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},Vk=(t,a,l,o)=>{const d=l,{minimum:f,maximum:p,format:x,multipleOf:v,exclusiveMaximum:_,exclusiveMinimum:j}=t._zod.bag;typeof x=="string"&&x.includes("int")?d.type="integer":d.type="number",typeof j=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.minimum=j,d.exclusiveMinimum=!0):d.exclusiveMinimum=j),typeof f=="number"&&(d.minimum=f,typeof j=="number"&&a.target!=="draft-04"&&(j>=f?delete d.minimum:delete d.exclusiveMinimum)),typeof _=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(d.maximum=_,d.exclusiveMaximum=!0):d.exclusiveMaximum=_),typeof p=="number"&&(d.maximum=p,typeof _=="number"&&a.target!=="draft-04"&&(_<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},Gk=(t,a,l,o)=>{l.type="boolean"},Yk=(t,a,l,o)=>{a.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},$k=(t,a,l,o)=>{l.not={}},Xk=(t,a,l,o)=>{},Jk=(t,a,l,o)=>{const d=t._zod.def,f=g_(d.entries);f.every(p=>typeof p=="number")&&(l.type="number"),f.every(p=>typeof p=="string")&&(l.type="string"),l.enum=f},Wk=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},eC=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},tC=(t,a,l,o)=>{const d=l,f=t._zod.def,{minimum:p,maximum:x}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof x=="number"&&(d.maxItems=x),d.type="array",d.items=An(f.element,a,{...o,path:[...o.path,"items"]})},nC=(t,a,l,o)=>{const d=l,f=t._zod.def;d.type="object",d.properties={};const p=f.shape;for(const _ in p)d.properties[_]=An(p[_],a,{...o,path:[...o.path,"properties",_]});const x=new Set(Object.keys(p)),v=new Set([...x].filter(_=>{const j=f.shape[_]._zod;return a.io==="input"?j.optin===void 0:j.optout===void 0}));v.size>0&&(d.required=Array.from(v)),f.catchall?._zod.def.type==="never"?d.additionalProperties=!1:f.catchall?f.catchall&&(d.additionalProperties=An(f.catchall,a,{...o,path:[...o.path,"additionalProperties"]})):a.io==="output"&&(d.additionalProperties=!1)},aC=(t,a,l,o)=>{const d=t._zod.def,f=d.inclusive===!1,p=d.options.map((x,v)=>An(x,a,{...o,path:[...o.path,f?"oneOf":"anyOf",v]}));f?l.oneOf=p:l.anyOf=p},iC=(t,a,l,o)=>{const d=t._zod.def,f=An(d.left,a,{...o,path:[...o.path,"allOf",0]}),p=An(d.right,a,{...o,path:[...o.path,"allOf",1]}),x=_=>"allOf"in _&&Object.keys(_).length===1,v=[...x(f)?f.allOf:[f],...x(p)?p.allOf:[p]];l.allOf=v},sC=(t,a,l,o)=>{const d=t._zod.def,f=An(d.innerType,a,o),p=a.seen.get(t);a.target==="openapi-3.0"?(p.ref=d.innerType,l.nullable=!0):l.anyOf=[f,{type:"null"}]},rC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const f=a.seen.get(t);f.ref=d.innerType},lC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const f=a.seen.get(t);f.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},oC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const f=a.seen.get(t);f.ref=d.innerType,a.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},uC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const f=a.seen.get(t);f.ref=d.innerType;let p;try{p=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=p},cC=(t,a,l,o)=>{const d=t._zod.def,f=a.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;An(f,a,o);const p=a.seen.get(t);p.ref=f},dC=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const f=a.seen.get(t);f.ref=d.innerType,l.readOnly=!0},I_=(t,a,l,o)=>{const d=t._zod.def;An(d.innerType,a,o);const f=a.seen.get(t);f.ref=d.innerType},hC=Se("ZodISODateTime",(t,a)=>{mT.init(t,a),Vt.init(t,a)});function fC(t){return vk(hC,t)}const mC=Se("ZodISODate",(t,a)=>{pT.init(t,a),Vt.init(t,a)});function pC(t){return _k(mC,t)}const gC=Se("ZodISOTime",(t,a)=>{gT.init(t,a),Vt.init(t,a)});function yC(t){return bk(gC,t)}const xC=Se("ZodISODuration",(t,a)=>{yT.init(t,a),Vt.init(t,a)});function vC(t){return Nk(xC,t)}const _C=(t,a)=>{b_.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:l=>s2(t,l)},flatten:{value:l=>i2(t,l)},addIssue:{value:l=>{t.issues.push(l),t.message=JSON.stringify(t.issues,mm,2)}},addIssues:{value:l=>{t.issues.push(...l),t.message=JSON.stringify(t.issues,mm,2)}},isEmpty:{get(){return t.issues.length===0}}})},Da=Se("ZodError",_C,{Parent:Error}),bC=Km(Da),NC=Qm(Da),SC=fd(Da),jC=md(Da),wC=o2(Da),EC=u2(Da),TC=c2(Da),kC=d2(Da),CC=h2(Da),AC=f2(Da),zC=m2(Da),OC=p2(Da),nn=Se("ZodType",(t,a)=>(tn.init(t,a),Object.assign(t["~standard"],{jsonSchema:{input:td(t,"input"),output:td(t,"output")}}),t.toJSONSchema=Hk(t,{}),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...l)=>t.clone(Ls(a,{checks:[...a.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(l,o)=>Ds(t,l,o),t.brand=()=>t,t.register=((l,o)=>(l.add(t,o),t)),t.parse=(l,o)=>bC(t,l,o,{callee:t.parse}),t.safeParse=(l,o)=>SC(t,l,o),t.parseAsync=async(l,o)=>NC(t,l,o,{callee:t.parseAsync}),t.safeParseAsync=async(l,o)=>jC(t,l,o),t.spa=t.safeParseAsync,t.encode=(l,o)=>wC(t,l,o),t.decode=(l,o)=>EC(t,l,o),t.encodeAsync=async(l,o)=>TC(t,l,o),t.decodeAsync=async(l,o)=>kC(t,l,o),t.safeEncode=(l,o)=>CC(t,l,o),t.safeDecode=(l,o)=>AC(t,l,o),t.safeEncodeAsync=async(l,o)=>zC(t,l,o),t.safeDecodeAsync=async(l,o)=>OC(t,l,o),t.refine=(l,o)=>t.check(wA(l,o)),t.superRefine=l=>t.check(EA(l)),t.overwrite=l=>t.check(Bl(l)),t.optional=()=>sv(t),t.exactOptional=()=>hA(t),t.nullable=()=>rv(t),t.nullish=()=>sv(rv(t)),t.nonoptional=l=>xA(t,l),t.array=()=>iA(t),t.or=l=>nd([t,l]),t.and=l=>oA(t,l),t.transform=l=>lv(t,cA(l)),t.default=l=>pA(t,l),t.prefault=l=>yA(t,l),t.catch=l=>_A(t,l),t.pipe=l=>lv(t,l),t.readonly=()=>SA(t),t.describe=l=>{const o=t.clone();return Qo.add(o,{description:l}),o},Object.defineProperty(t,"description",{get(){return Qo.get(t)?.description},configurable:!0}),t.meta=(...l)=>{if(l.length===0)return Qo.get(t);const o=t.clone();return Qo.add(o,l[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=l=>l(t),t)),U_=Se("_ZodString",(t,a)=>{Vm.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(o,d,f)=>Qk(t,o,d);const l=t._zod.bag;t.format=l.format??null,t.minLength=l.minimum??null,t.maxLength=l.maximum??null,t.regex=(...o)=>t.check(Ck(...o)),t.includes=(...o)=>t.check(Ok(...o)),t.startsWith=(...o)=>t.check(Mk(...o)),t.endsWith=(...o)=>t.check(Rk(...o)),t.min=(...o)=>t.check(ed(...o)),t.max=(...o)=>t.check(R_(...o)),t.length=(...o)=>t.check(L_(...o)),t.nonempty=(...o)=>t.check(ed(1,...o)),t.lowercase=o=>t.check(Ak(o)),t.uppercase=o=>t.check(zk(o)),t.trim=()=>t.check(Dk()),t.normalize=(...o)=>t.check(Lk(...o)),t.toLowerCase=()=>t.check(Pk()),t.toUpperCase=()=>t.check(Bk()),t.slugify=()=>t.check(Ik())}),MC=Se("ZodString",(t,a)=>{Vm.init(t,a),U_.init(t,a),t.email=l=>t.check(JT(RC,l)),t.url=l=>t.check(ak(LC,l)),t.jwt=l=>t.check(xk($C,l)),t.emoji=l=>t.check(ik(DC,l)),t.guid=l=>t.check(Jx(nv,l)),t.uuid=l=>t.check(WT(Lc,l)),t.uuidv4=l=>t.check(ek(Lc,l)),t.uuidv6=l=>t.check(tk(Lc,l)),t.uuidv7=l=>t.check(nk(Lc,l)),t.nanoid=l=>t.check(sk(PC,l)),t.guid=l=>t.check(Jx(nv,l)),t.cuid=l=>t.check(rk(BC,l)),t.cuid2=l=>t.check(lk(IC,l)),t.ulid=l=>t.check(ok(UC,l)),t.base64=l=>t.check(pk(VC,l)),t.base64url=l=>t.check(gk(GC,l)),t.xid=l=>t.check(uk(ZC,l)),t.ksuid=l=>t.check(ck(qC,l)),t.ipv4=l=>t.check(dk(FC,l)),t.ipv6=l=>t.check(hk(HC,l)),t.cidrv4=l=>t.check(fk(KC,l)),t.cidrv6=l=>t.check(mk(QC,l)),t.e164=l=>t.check(yk(YC,l)),t.datetime=l=>t.check(fC(l)),t.date=l=>t.check(pC(l)),t.time=l=>t.check(yC(l)),t.duration=l=>t.check(vC(l))});function ya(t){return XT(MC,t)}const Vt=Se("ZodStringFormat",(t,a)=>{Ht.init(t,a),U_.init(t,a)}),RC=Se("ZodEmail",(t,a)=>{sT.init(t,a),Vt.init(t,a)}),nv=Se("ZodGUID",(t,a)=>{aT.init(t,a),Vt.init(t,a)}),Lc=Se("ZodUUID",(t,a)=>{iT.init(t,a),Vt.init(t,a)}),LC=Se("ZodURL",(t,a)=>{rT.init(t,a),Vt.init(t,a)}),DC=Se("ZodEmoji",(t,a)=>{lT.init(t,a),Vt.init(t,a)}),PC=Se("ZodNanoID",(t,a)=>{oT.init(t,a),Vt.init(t,a)}),BC=Se("ZodCUID",(t,a)=>{uT.init(t,a),Vt.init(t,a)}),IC=Se("ZodCUID2",(t,a)=>{cT.init(t,a),Vt.init(t,a)}),UC=Se("ZodULID",(t,a)=>{dT.init(t,a),Vt.init(t,a)}),ZC=Se("ZodXID",(t,a)=>{hT.init(t,a),Vt.init(t,a)}),qC=Se("ZodKSUID",(t,a)=>{fT.init(t,a),Vt.init(t,a)}),FC=Se("ZodIPv4",(t,a)=>{xT.init(t,a),Vt.init(t,a)}),HC=Se("ZodIPv6",(t,a)=>{vT.init(t,a),Vt.init(t,a)}),KC=Se("ZodCIDRv4",(t,a)=>{_T.init(t,a),Vt.init(t,a)}),QC=Se("ZodCIDRv6",(t,a)=>{bT.init(t,a),Vt.init(t,a)}),VC=Se("ZodBase64",(t,a)=>{NT.init(t,a),Vt.init(t,a)}),GC=Se("ZodBase64URL",(t,a)=>{jT.init(t,a),Vt.init(t,a)}),YC=Se("ZodE164",(t,a)=>{wT.init(t,a),Vt.init(t,a)}),$C=Se("ZodJWT",(t,a)=>{TT.init(t,a),Vt.init(t,a)}),Z_=Se("ZodNumber",(t,a)=>{A_.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(o,d,f)=>Vk(t,o,d),t.gt=(o,d)=>t.check(ev(o,d)),t.gte=(o,d)=>t.check(wf(o,d)),t.min=(o,d)=>t.check(wf(o,d)),t.lt=(o,d)=>t.check(Wx(o,d)),t.lte=(o,d)=>t.check(jf(o,d)),t.max=(o,d)=>t.check(jf(o,d)),t.int=o=>t.check(av(o)),t.safe=o=>t.check(av(o)),t.positive=o=>t.check(ev(0,o)),t.nonnegative=o=>t.check(wf(0,o)),t.negative=o=>t.check(Wx(0,o)),t.nonpositive=o=>t.check(jf(0,o)),t.multipleOf=(o,d)=>t.check(tv(o,d)),t.step=(o,d)=>t.check(tv(o,d)),t.finite=()=>t;const l=t._zod.bag;t.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),t.isFinite=!0,t.format=l.format??null}),XC=Se("ZodNumberFormat",(t,a)=>{kT.init(t,a),Z_.init(t,a)});function av(t){return jk(XC,t)}const JC=Se("ZodBoolean",(t,a)=>{CT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Gk(t,l,o)});function gd(t){return wk(JC,t)}const WC=Se("ZodNull",(t,a)=>{AT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Yk(t,l,o)});function gm(t){return Ek(WC,t)}const eA=Se("ZodUnknown",(t,a)=>{zT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Xk()});function iv(){return Tk(eA)}const tA=Se("ZodNever",(t,a)=>{OT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>$k(t,l,o)});function nA(t){return kk(tA,t)}const aA=Se("ZodArray",(t,a)=>{MT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>tC(t,l,o,d),t.element=a.element,t.min=(l,o)=>t.check(ed(l,o)),t.nonempty=l=>t.check(ed(1,l)),t.max=(l,o)=>t.check(R_(l,o)),t.length=(l,o)=>t.check(L_(l,o)),t.unwrap=()=>t.element});function iA(t,a){return Uk(aA,t,a)}const sA=Se("ZodObject",(t,a)=>{LT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>nC(t,l,o,d),Nt(t,"shape",()=>a.shape),t.keyof=()=>xm(Object.keys(t._zod.def.shape)),t.catchall=l=>t.clone({...t._zod.def,catchall:l}),t.passthrough=()=>t.clone({...t._zod.def,catchall:iv()}),t.loose=()=>t.clone({...t._zod.def,catchall:iv()}),t.strict=()=>t.clone({...t._zod.def,catchall:nA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=l=>W1(t,l),t.safeExtend=l=>e2(t,l),t.merge=l=>t2(t,l),t.pick=l=>X1(t,l),t.omit=l=>J1(t,l),t.partial=(...l)=>n2(q_,t,l[0]),t.required=(...l)=>a2(F_,t,l[0])});function Pa(t,a){const l={type:"object",shape:t??{},...Fe(a)};return new sA(l)}const rA=Se("ZodUnion",(t,a)=>{DT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>aC(t,l,o,d),t.options=a.options});function nd(t,a){return new rA({type:"union",options:t,...Fe(a)})}const lA=Se("ZodIntersection",(t,a)=>{PT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>iC(t,l,o,d)});function oA(t,a){return new lA({type:"intersection",left:t,right:a})}const ym=Se("ZodEnum",(t,a)=>{BT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(o,d,f)=>Jk(t,o,d),t.enum=a.entries,t.options=Object.values(a.entries);const l=new Set(Object.keys(a.entries));t.extract=(o,d)=>{const f={};for(const p of o)if(l.has(p))f[p]=a.entries[p];else throw new Error(`Key ${p} not found in enum`);return new ym({...a,checks:[],...Fe(d),entries:f})},t.exclude=(o,d)=>{const f={...a.entries};for(const p of o)if(l.has(p))delete f[p];else throw new Error(`Key ${p} not found in enum`);return new ym({...a,checks:[],...Fe(d),entries:f})}});function xm(t,a){const l=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new ym({type:"enum",entries:l,...Fe(a)})}const uA=Se("ZodTransform",(t,a)=>{IT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>eC(t,l),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new m_(t.constructor.name);l.addIssue=f=>{if(typeof f=="string")l.issues.push(Wo(f,l.value,a));else{const p=f;p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=l.value),p.inst??(p.inst=t),l.issues.push(Wo(p))}};const d=a.transform(l.value,l);return d instanceof Promise?d.then(f=>(l.value=f,l)):(l.value=d,l)}});function cA(t){return new uA({type:"transform",transform:t})}const q_=Se("ZodOptional",(t,a)=>{M_.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>I_(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function sv(t){return new q_({type:"optional",innerType:t})}const dA=Se("ZodExactOptional",(t,a)=>{UT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>I_(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function hA(t){return new dA({type:"optional",innerType:t})}const fA=Se("ZodNullable",(t,a)=>{ZT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>sC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function rv(t){return new fA({type:"nullable",innerType:t})}const mA=Se("ZodDefault",(t,a)=>{qT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>lC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function pA(t,a){return new mA({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():x_(a)}})}const gA=Se("ZodPrefault",(t,a)=>{FT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>oC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function yA(t,a){return new gA({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():x_(a)}})}const F_=Se("ZodNonOptional",(t,a)=>{HT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>rC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function xA(t,a){return new F_({type:"nonoptional",innerType:t,...Fe(a)})}const vA=Se("ZodCatch",(t,a)=>{KT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>uC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function _A(t,a){return new vA({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const bA=Se("ZodPipe",(t,a)=>{QT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>cC(t,l,o,d),t.in=a.in,t.out=a.out});function lv(t,a){return new bA({type:"pipe",in:t,out:a})}const NA=Se("ZodReadonly",(t,a)=>{VT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>dC(t,l,o,d),t.unwrap=()=>t._zod.def.innerType});function SA(t){return new NA({type:"readonly",innerType:t})}const jA=Se("ZodCustom",(t,a)=>{GT.init(t,a),nn.init(t,a),t._zod.processJSONSchema=(l,o,d)=>Wk(t,l)});function wA(t,a={}){return Zk(jA,t,a)}function EA(t){return qk(t)}function mn(t){return Sk(Z_,t)}const TA=Pa({employee_id:mn().int().positive(),expires_in_minutes:mn().int().positive().max(1440)});function kA(){const t=zn(),[a,l]=S.useState(""),[o,d]=S.useState("60"),[f,p]=S.useState(null),[x,v]=S.useState(null),_=Ue({queryKey:["departments"],queryFn:Rs}),j=Ue({queryKey:["employees"],queryFn:()=>vi()}),w=Ue({queryKey:["devices"],queryFn:d1}),k=Ue({queryKey:["leaves","dashboard"],queryFn:()=>o_({})}),z=Ue({queryKey:["attendance-events","dashboard"],queryFn:()=>s_({limit:8})}),C=Ke({mutationFn:u_,onSuccess:X=>{p(X.invite_url),v(null),t.invalidateQueries({queryKey:["devices"]})},onError:X=>{v(O1(X,"Device invite oluturulamad."))}}),A=()=>{p(null),v(null);const X=TA.safeParse({employee_id:a,expires_in_minutes:o});if(!X.success){v(X.error.issues[0]?.message??"Invite formunu kontrol et.");return}C.mutate(X.data)};if(_.isLoading||j.isLoading||w.isLoading||k.isLoading||z.isLoading)return r.jsx(It,{});if(_.isError||j.isError||w.isError||k.isError||z.isError)return r.jsx(St,{message:"Dashboard verileri alnamad."});const M=_.data??[],F=j.data??[],B=w.data??[],U=k.data??[],K=z.data??[],$=M.length,G=F.length,W=B.length,Y=U.length;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(wn,{title:"Dashboard",description:"Sistem zetini ve hzl ilemleri bu ekrandan ynetebilirsin."}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[r.jsxs(ze,{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Departments"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:$})]}),r.jsxs(ze,{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Employees"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:G})]}),r.jsxs(ze,{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Devices"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:W})]}),r.jsxs(ze,{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Leaves"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:Y})]})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Quick Device Invite"}),r.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Employee ID",r.jsx("input",{value:a,onChange:X=>l(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"1"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Expires (minutes)",r.jsx("input",{value:o,onChange:X=>d(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"60"})]})]}),r.jsx("button",{type:"button",onClick:A,disabled:C.isPending,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:C.isPending?"Oluturuluyor...":"Create Invite"}),f?r.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:["Invite URL: ",f]}):null,x?r.jsx("div",{className:"form-validation",children:x}):null]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Recent Attendance Events"}),r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"ID"}),r.jsx("th",{className:"py-2",children:"Employee"}),r.jsx("th",{className:"py-2",children:"Type"}),r.jsx("th",{className:"py-2",children:"Status"})]})}),r.jsx("tbody",{children:K.map(X=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:X.id}),r.jsx("td",{className:"py-2",children:X.employee_id}),r.jsx("td",{className:"py-2",children:X.type}),r.jsx("td",{className:"py-2",children:X.location_status})]},X.id))})]})})]})]})]})}function CA(t){return Number.isFinite(t)?Math.max(0,Math.floor(t)):0}function H_(t){const a=CA(t),l=Math.floor(a/60),o=a%60;return{hours:l,minutes:o}}function AA(t){const{hours:a,minutes:l}=H_(t),o=String(a).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function zA(t){const{hours:a,minutes:l}=H_(t);return a===0?`${l}dk`:`${a}s ${l}dk`}function Kc(t){return`${AA(t)} (${zA(t)})`}function Ct({minutes:t}){return r.jsx("span",{className:"whitespace-nowrap",children:Kc(t)})}function OA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function MA(){const t=new Date,{pushToast:a}=In(),l={year:String(t.getFullYear()),month:String(t.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=S.useState(l),[f,p]=S.useState(l),[x,v]=S.useState(!1),_=Ue({queryKey:["departments"],queryFn:Rs}),j=Number(f.year),w=Number(f.month),k=Number(f.departmentId),z=Number.isFinite(j)&&j>0&&Number.isFinite(w)&&w>=1&&w<=12,C=Ue({queryKey:["department-summary",j,w,f.departmentId||"all",f.includeInactive?"with-inactive":"active-only"],queryFn:()=>p1({year:j,month:w,department_id:Number.isFinite(k)&&k>0?k:void 0,include_inactive:f.includeInactive}),enabled:z}),A=C.data??[],M=S.useMemo(()=>A.reduce(($,G)=>($.worked+=G.worked_minutes,$.overtime+=G.overtime_minutes,$.employeeCount+=G.employee_count,$),{worked:0,overtime:0,employeeCount:0}),[A]),F=S.useMemo(()=>{const $=[`Yl: ${f.year}`,`Ay: ${f.month}`];if(f.departmentId){const G=_.data?.find(W=>W.id===Number(f.departmentId));$.push(`Departman: ${G?.name??f.departmentId}`)}return f.includeInactive&&$.push("Arivdekiler dahil"),$},[f,_.data]),B=()=>p({...o}),U=()=>{d(l),p(l)},K=async()=>{if(!z){a({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const $=Number.isFinite(k)&&k>0?await S1({department_id:k,year:j,month:w,include_inactive:f.includeInactive}):await j1({year:j,month:w,include_inactive:f.includeInactive}),G=Number.isFinite(k)&&k>0?`department-${k}`:"all";OA($,`puantaj-${G}-${j}-${String(w).padStart(2,"0")}.xlsx`)}catch($){a({variant:"error",title:"Excel indirilemedi",description:De($,"Dosya oluturulamad.").message})}finally{v(!1)}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma ve fazla mesai deerlerini karlatrn.",action:r.jsx("button",{type:"button",onClick:()=>{K()},disabled:x,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:x?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",r.jsx("input",{type:"number",value:o.year,onChange:$=>d(G=>({...G,year:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",r.jsx("input",{type:"number",value:o.month,onChange:$=>d(G=>({...G,month:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",r.jsxs("select",{value:o.departmentId,onChange:$=>d(G=>({...G,departmentId:$.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:_.isLoading,children:[r.jsx("option",{value:"",children:"Tm"}),(_.data??[]).map($=>r.jsxs("option",{value:$.id,children:["#",$.id," - ",$.name]},$.id))]})]})]}),r.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:$=>d(G=>({...G,includeInactive:$.target.checked}))}),"Arivdeki alanlar dahil et"]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:B,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),r.jsx("button",{type:"button",onClick:U,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:F.map($=>r.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:$},$))})]}),z?null:r.jsx(St,{message:"Yl ve ay deerleri geersiz."}),C.isLoading?r.jsx(It,{}):null,C.isError?r.jsx(St,{message:De(C.error,"Departman zeti alnamad.").message}):null,!C.isLoading&&!C.isError?r.jsxs(r.Fragment,{children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),r.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:M.worked})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Fazla Mesai"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:M.overtime})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),r.jsx("p",{className:"text-lg font-semibold",children:M.employeeCount})]})]})]}),A.length===0?r.jsx(ze,{children:r.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):r.jsx(ze,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"alan Says"}),r.jsx("th",{className:"py-2",children:"Toplam alma"}),r.jsx("th",{className:"py-2",children:"Toplam Fazla Mesai"})]})}),r.jsx("tbody",{children:A.map($=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsxs("td",{className:"py-2",children:["#",$.department_id," - ",$.department_name]}),r.jsx("td",{className:"py-2",children:$.employee_count}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:$.worked_minutes})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:$.overtime_minutes})})]},$.department_id))})]})})})]}):null]})}function Os({value:t,onChange:a,placeholder:l="Isme gore ara..."}){return r.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",r.jsx("input",{value:t,onChange:o=>a(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const ov=Pa({name:ya().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:nd([mn().int().positive(),gm()])});function uv(t){if(Rt.isAxiosError(t)&&t.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const a=De(t,"Departman olusturulamadi.");return a.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":a.message}function RA(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState(""),[p,x]=S.useState(""),[v,_]=S.useState(!1),[j,w]=S.useState(""),[k,z]=S.useState(null),[C,A]=S.useState(""),[M,F]=S.useState(""),[B,U]=S.useState(null),K=Ue({queryKey:["departments",j],queryFn:()=>kE(j?{region_id:Number(j)}:void 0)}),$=Ue({queryKey:["regions","departments-page"],queryFn:()=>dd({include_inactive:!0})}),G=Ke({mutationFn:CE,onSuccess:q=>{o(""),f(""),U(null),_(!1),a({variant:"success",title:"Departman olusturuldu",description:`${q.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:q=>{const le=uv(q);U(le),a({variant:"error",title:"Departman olusturulamadi",description:le})}}),W=Ke({mutationFn:({departmentId:q,name:le,regionIdValue:Z})=>AE(q,{name:le,region_id:Z}),onSuccess:q=>{U(null),z(null),A(""),F(""),a({variant:"success",title:"Departman guncellendi",description:`${q.name} basariyla guncellendi.`}),t.invalidateQueries({queryKey:["departments"]})},onError:q=>{const le=uv(q);U(le),a({variant:"error",title:"Departman guncellenemedi",description:le})}}),Y=q=>{q.preventDefault(),U(null);const le=d.trim()===""?null:Number(d),Z=ov.safeParse({name:l,region_id:le});if(!Z.success){const re=Z.error.issues[0]?.message??"Departman alanlarini kontrol edin.";U(re),a({variant:"error",title:"Form hatasi",description:re});return}G.mutate({name:Z.data.name,region_id:Z.data.region_id})},X=q=>{if(q.preventDefault(),U(null),!k)return;const le=M.trim()===""?null:Number(M),Z=ov.safeParse({name:C,region_id:le});if(!Z.success){const re=Z.error.issues[0]?.message??"Departman alanlarini kontrol edin.";U(re),a({variant:"error",title:"Form hatasi",description:re});return}W.mutate({departmentId:k,name:Z.data.name,regionIdValue:Z.data.region_id})},ve=K.data??[],ae=$.data??[],ce=S.useMemo(()=>new Map(ae.map(q=>[q.id,q.name])),[ae]),oe=S.useMemo(()=>{const q=p.trim().toLowerCase();return q?ve.filter(le=>le.name.toLowerCase().includes(q)):ve},[ve,p]);return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:r.jsx("button",{type:"button",onClick:()=>_(q=>!q),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?r.jsxs(ze,{children:[r.jsxs("form",{onSubmit:Y,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",r.jsx("input",{value:l,onChange:q=>o(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",r.jsxs("select",{value:d,onChange:q=>f(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Bolge yok"}),ae.map(q=>r.jsx("option",{value:q.id,children:q.name},q.id))]})]}),r.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[r.jsx("button",{type:"submit",disabled:G.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Kaydediliyor...":"Kaydet"}),r.jsx("button",{type:"button",onClick:()=>{_(!1),U(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),B?r.jsx("div",{className:"form-validation",children:B}):null]}):null,k?r.jsxs(ze,{children:[r.jsxs("form",{onSubmit:X,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",r.jsx("input",{value:C,onChange:q=>A(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",r.jsxs("select",{value:M,onChange:q=>F(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Bolge yok"}),ae.map(q=>r.jsx("option",{value:q.id,children:q.name},q.id))]})]}),r.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[r.jsx("button",{type:"submit",disabled:W.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:W.isPending?"Guncelleniyor...":"Guncelle"}),r.jsx("button",{type:"button",onClick:()=>{z(null),A(""),F(""),U(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),B?r.jsx("div",{className:"form-validation",children:B}):null]}):null,K.isLoading||$.isLoading?r.jsx(It,{}):null,K.isError||$.isError?r.jsx(St,{message:"Departman verileri alinamadi."}):null,!K.isLoading&&!K.isError&&!$.isLoading&&!$.isError?r.jsxs(ze,{children:[r.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[r.jsx(Os,{value:p,onChange:x,placeholder:"Departman adina gore ara..."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",r.jsxs("select",{value:j,onChange:q=>w(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tum bolgeler"}),ae.map(q=>r.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Departman ID"}),r.jsx("th",{className:"py-2",children:"Departman Adi"}),r.jsx("th",{className:"py-2",children:"Bolge"}),r.jsx("th",{className:"py-2",children:"Islem"})]})}),r.jsx("tbody",{children:oe.map(q=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:q.id}),r.jsx("td",{className:"py-2",children:q.name}),r.jsx("td",{className:"py-2",children:q.region_name??(q.region_id?ce.get(q.region_id):"-")??"-"}),r.jsx("td",{className:"py-2",children:r.jsx("button",{type:"button",onClick:()=>{z(q.id),A(q.name),F(q.region_id?String(q.region_id):""),U(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},q.id))})]})}),oe.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function Ms({value:t}){const a=t.toUpperCase();return a==="OK"||a==="AKTIF"||a==="APPROVED"?r.jsx("span",{className:"status-badge status-badge-ok",children:t}):a==="INCOMPLETE"?r.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):a==="LEAVE"?r.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):a==="OFF"?r.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):a==="PENDING"?r.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):a==="REJECTED"||a==="PASIF"?r.jsx("span",{className:"status-badge status-badge-danger",children:t}):r.jsx("span",{className:"status-badge status-badge-neutral",children:t})}function LA(t){return t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(t)):"-"}function DA(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState(""),[p,x]=S.useState(!0),[v,_]=S.useState(""),[j,w]=S.useState(1),[k,z]=S.useState(50),[C,A]=S.useState(null),M=l?Number(l):void 0,F=M?0:(j-1)*k,B=Ue({queryKey:["employee-device-overview-summary",M??null,d,p,v,j,k],queryFn:()=>Lx({employee_id:M,region_id:d?Number(d):void 0,include_inactive:p,q:v.trim()||void 0,offset:F,limit:M?1:k,device_limit:1})}),U=Ue({queryKey:["employee-device-overview-detail",C],enabled:C!==null,queryFn:()=>Lx({employee_id:C??void 0,include_inactive:!0,offset:0,limit:1,device_limit:100})}),K=Ue({queryKey:["employees","all-for-devices"],queryFn:()=>vi({include_inactive:!0,status:"all"})}),$=Ue({queryKey:["regions","devices-page"],queryFn:()=>dd({include_inactive:!0})}),G=Ke({mutationFn:({deviceId:oe,isActive:q})=>h1(oe,{is_active:q}),onSuccess:oe=>{a({variant:"success",title:oe.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${oe.id} durumu gncellendi.`}),t.invalidateQueries({queryKey:["employee-device-overview-summary"]}),t.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:oe=>{a({variant:"error",title:"Cihaz durumu gncellenemedi",description:De(oe,"lem baarsz.").message})}}),W=K.data??[],Y=$.data??[],X=B.data??[],ve=U.data?.[0],ae=!M&&X.length===k,ce=!M&&j>1;return B.isLoading||K.isLoading||$.isLoading?r.jsx(It,{}):B.isError?r.jsx(St,{message:De(B.error,"Cihaz verisi alnamad.").message}):K.isError?r.jsx(St,{message:De(K.error,"alan listesi alnamad.").message}):$.isError?r.jsx(St,{message:De($.error,"Bolge listesi alinamadi.").message}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),r.jsxs(ze,{children:[r.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[r.jsx(Qi,{label:"alan filtresi",employees:W,value:l,onChange:oe=>{o(oe),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",r.jsx("input",{type:"text",value:v,onChange:oe=>{_(oe.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",r.jsxs("select",{value:k,onChange:oe=>{z(Number(oe.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:20,children:"20"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",r.jsxs("select",{value:d,onChange:oe=>{f(oe.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tum bolgeler"}),Y.map(oe=>r.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:oe=>{x(oe.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),M?null:r.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",disabled:!ce,onClick:()=>{w(oe=>Math.max(1,oe-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),r.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",j]}),r.jsx("button",{type:"button",disabled:!ae,onClick:()=>{w(oe=>oe+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),r.jsxs(ze,{children:[r.jsx("div",{className:"max-h-[68vh] overflow-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-2 py-2",children:"alan"}),r.jsx("th",{className:"px-2 py-2",children:"Departman"}),r.jsx("th",{className:"px-2 py-2",children:"Durum"}),r.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),r.jsx("th",{className:"px-2 py-2",children:"Token"}),r.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),r.jsx("tbody",{children:X.map(oe=>{const q=C===oe.employee_id;return r.jsxs(S.Fragment,{children:[r.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[r.jsx("td",{className:"px-2 py-2",children:r.jsxs("div",{className:"font-medium text-slate-900",children:["#",oe.employee_id," - ",oe.employee_name]})}),r.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:oe.department_name??oe.department_id??"-"}),r.jsx("td",{className:"px-2 py-2",children:r.jsx(Ms,{value:oe.is_employee_active?"Aktif":"Pasif"})}),r.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[r.jsx("span",{className:"font-semibold",children:oe.active_devices})," aktif / ",oe.total_devices," toplam"]}),r.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",oe.token_used," B:",oe.token_pending," D:",oe.token_expired," T:",oe.token_total]}),r.jsx("td",{className:"px-2 py-2 text-right",children:r.jsx("button",{type:"button",onClick:()=>{A(le=>le===oe.employee_id?null:oe.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:q?"Kapat":"Cihazlar Ynet"})})]}),q?r.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:r.jsx("td",{colSpan:6,className:"px-2 py-3",children:U.isLoading?r.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):U.isError?r.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):ve?r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full text-left text-xs",children:[r.jsx("thead",{className:"uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Cihaz ID"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Fingerprint"}),r.jsx("th",{className:"py-2",children:"Oluturulma"}),r.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),r.jsx("tbody",{children:ve.devices.map(le=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:le.id}),r.jsx("td",{className:"py-2",children:r.jsx(Ms,{value:le.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"py-2 font-mono",children:le.device_fingerprint}),r.jsx("td",{className:"py-2",children:LA(le.created_at)}),r.jsx("td",{className:"py-2 text-right",children:r.jsx("button",{type:"button",disabled:G.isPending,onClick:()=>G.mutate({deviceId:le.id,isActive:!le.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${le.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:le.is_active?"Pasife Al":"Aktif Et"})})]},le.id))})]}),ve.has_more_devices?r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,ve.devices.length===0?r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):r.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},oe.employee_id)})})]})}),X.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]})]})}function PA(){const t=zn(),{pushToast:a}=In(),l=Ue({queryKey:["compliance-settings"],queryFn:v1}),[o,d]=S.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});S.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const f=Ke({mutationFn:_1,onSuccess:()=>{a({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),t.invalidateQueries({queryKey:["compliance-settings"]}),t.invalidateQueries({queryKey:["employee-monthly"]})},onError:p=>{a({variant:"error",title:"Kayit hatasi",description:De(p,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?r.jsx(It,{}):l.isError?r.jsx(St,{message:De(l.error,"Uyumluluk ayarlari alinamadi.").message}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),r.jsx(ze,{children:r.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:p=>{p.preventDefault(),f.mutate(o)},children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",r.jsx("input",{value:o.name,onChange:p=>d(x=>({...x,name:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",r.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:p=>d(x=>({...x,weekly_normal_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",r.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:p=>d(x=>({...x,daily_max_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",r.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:p=>d(x=>({...x,night_work_max_minutes_default:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",r.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:p=>d(x=>({...x,overtime_annual_cap_minutes:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",r.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:p=>d(x=>({...x,overtime_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",r.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:p=>d(x=>({...x,extra_work_premium:Number(p.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",r.jsxs("select",{value:o.overtime_rounding_mode,onChange:p=>d(x=>({...x,overtime_rounding_mode:p.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"OFF",children:"OFF"}),r.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[r.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:p=>d(x=>({...x,enforce_min_break_rules:p.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[r.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:p=>d(x=>({...x,night_work_exceptions_note_enabled:p.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",disabled:f.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:f.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),r.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),r.jsx("p",{className:"font-semibold",children:r.jsx(Ct,{minutes:o.weekly_normal_minutes_default})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),r.jsx("p",{className:"font-semibold",children:r.jsx(Ct,{minutes:o.daily_max_minutes})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),r.jsx("p",{className:"font-semibold",children:r.jsx(Ct,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const BA=Pa({username:ya().min(1,"Kullanici adi gerekli."),password:ya().min(1,"Sifre gerekli.")});function IA(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function UA(t){return t.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":t.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function ZA(){const[t]=Rm(),[a,l]=S.useState("admin"),[o,d]=S.useState(""),[f,p]=S.useState(null),[x,v]=S.useState(null),[_,j]=S.useState(!1),w=S.useMemo(()=>{const z=t.get("archive_id");if(!z)return null;const C=Number(z);return!Number.isInteger(C)||C<=0?null:C},[t]),k=async z=>{if(z.preventDefault(),p(null),v(null),!w){p({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const C=BA.safeParse({username:a,password:o});if(!C.success){p({message:C.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}j(!0);try{const A=await u1(w,C.data),M=A.file_name??`arsiv-${w}.xlsx`;IA(A.blob,M),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){p(De(A,"Excel dosyasi indirilemedi."))}finally{j(!1)}};return r.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:r.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),r.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),r.jsxs("form",{onSubmit:k,className:"mt-6 space-y-4",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),r.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:a,onChange:z=>l(z.target.value)})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),r.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),f?r.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[r.jsx("p",{className:"font-semibold",children:UA(f)}),r.jsx("p",{className:"mt-1",children:f.message}),f.requestId?r.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",f.requestId]}):null]}):null,x?r.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:x}):null,r.jsx("button",{type:"submit",disabled:_||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),r.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[xi.signatureText," | BUILD: ",xi.buildVersion]})]})})}const Gm=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Go(){return Object.fromEntries(Gm.map(t=>[t.key,{read:!1,write:!1}]))}function qA(t){const a=Go();return t&&Gm.forEach(({key:l})=>{const o=t[l];o&&(a[l]={read:!!(o.read||o.write),write:!!o.write})}),a}function cv({value:t,disabled:a=!1,onChange:l}){const o=(d,f,p)=>{const v={...t[d]??{read:!1,write:!1}};f==="read"?(v.read=p,p||(v.write=!1)):(v.write=p,p&&(v.read=!0)),l({...t,[d]:v})};return r.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2",children:"Modul"}),r.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),r.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),r.jsx("tbody",{children:Gm.map(d=>{const f=t[d.key]??{read:!1,write:!1};return r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"px-3 py-2",children:d.label}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox",checked:f.read,disabled:a,onChange:p=>o(d.key,"read",p.target.checked)})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox",checked:f.write,disabled:a,onChange:p=>o(d.key,"write",p.target.checked)})})]},d.key)})})]})})}function dv(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Go()}}function FA(){const t=zn(),{pushToast:a}=In(),{hasPermission:l,isSuperAdmin:o}=Pl(),d=l("admin_users"),f=l("admin_users","write"),[p,x]=S.useState(dv()),[v,_]=S.useState(null),[j,w]=S.useState(""),[k,z]=S.useState(""),[C,A]=S.useState(""),[M,F]=S.useState(!0),[B,U]=S.useState(!1),[K,$]=S.useState(Go()),G=Ue({queryKey:["admin-users"],queryFn:e_,enabled:d}),W=Ke({mutationFn:wE,onSuccess:()=>{a({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),x(dv()),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const le=De(q,"Admin kullanici olusturulamadi.");a({variant:"error",title:"Kayit basarisiz",description:le.message})}}),Y=Ke({mutationFn:({userId:q,payload:le})=>EE(q,le),onSuccess:()=>{a({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),_(null),A(""),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const le=De(q,"Admin kullanici guncellenemedi.");a({variant:"error",title:"Guncelleme basarisiz",description:le.message})}}),X=Ke({mutationFn:TE,onSuccess:()=>{a({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),t.invalidateQueries({queryKey:["admin-users"]})},onError:q=>{const le=De(q,"Admin kullanici silinemedi.");a({variant:"error",title:"Silme basarisiz",description:le.message})}}),ve=S.useMemo(()=>[...G.data??[]].sort((le,Z)=>le.username.localeCompare(Z.username)),[G.data]);if(!d)return r.jsx(St,{message:"Bu alani goruntuleme yetkiniz yok."});if(G.isLoading)return r.jsx(It,{label:"Admin kullanicilar yukleniyor..."});if(G.isError)return r.jsx(St,{message:"Admin kullanici listesi alinamadi."});const ae=q=>{if(q.preventDefault(),!!f){if(!o){a({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}W.mutate({username:p.username.trim(),full_name:p.full_name.trim()||null,password:p.password,is_active:p.is_active,is_super_admin:p.is_super_admin,permissions:p.is_super_admin?Go():p.permissions})}},ce=q=>{_(q),w(q.username),z(q.full_name??""),A(""),F(q.is_active),U(q.is_super_admin),$(qA(q.permissions))},oe=q=>{q.preventDefault(),!(!v||!f)&&Y.mutate({userId:v.id,payload:{username:j.trim(),full_name:k.trim()||null,password:C.trim()?C:void 0,is_active:M,is_super_admin:B,permissions:B?Go():K}})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),r.jsxs(ze,{children:[r.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),r.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",r.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:r.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),r.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",r.jsx("input",{value:p.username,onChange:q=>x(le=>({...le,username:q.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",r.jsx("input",{value:p.full_name,onChange:q=>x(le=>({...le,full_name:q.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",r.jsx("input",{type:"password",value:p.password,onChange:q=>x(le=>({...le,password:q.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:p.is_active,disabled:!f||!o,onChange:q=>x(le=>({...le,is_active:q.target.checked}))}),"Aktif"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:p.is_super_admin,disabled:!f||!o,onChange:q=>x(le=>({...le,is_super_admin:q.target.checked}))}),"Super Admin"]})]}),p.is_super_admin?r.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):r.jsx(cv,{value:p.permissions,disabled:!f||!o,onChange:q=>x(le=>({...le,permissions:q}))}),r.jsx("button",{type:"submit",disabled:!f||!o||W.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:W.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"ID"}),r.jsx("th",{className:"py-2",children:"Kullanici"}),r.jsx("th",{className:"py-2",children:"Ad Soyad"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Rol"}),r.jsx("th",{className:"py-2",children:"Islem"})]})}),r.jsx("tbody",{children:ve.map(q=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:q.id}),r.jsx("td",{className:"py-2 font-medium text-slate-900",children:q.username}),r.jsx("td",{className:"py-2",children:q.full_name??"-"}),r.jsx("td",{className:"py-2",children:r.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${q.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:q.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"py-2",children:q.is_super_admin?"Super Admin":"Yetkili Admin"}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",disabled:!f||!o,onClick:()=>ce(q),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),r.jsx("button",{type:"button",disabled:!f||!o||X.isPending,onClick:()=>{window.confirm(`${q.username} kullanicisini silmek istediginize emin misiniz?`)&&X.mutate(q.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},q.id))})]})}),ve.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),r.jsx(Xo,{open:!!v,title:"Admin Kullanici Duzenle",onClose:()=>{_(null),A("")},children:v?r.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",r.jsx("input",{value:j,onChange:q=>w(q.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",r.jsx("input",{value:k,onChange:q=>z(q.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",r.jsx("input",{type:"password",value:C,onChange:q=>A(q.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:M,disabled:!f||!o,onChange:q=>F(q.target.checked)}),"Aktif"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:B,disabled:!f||!o,onChange:q=>U(q.target.checked)}),"Super Admin"]})]}),B?r.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):r.jsx(cv,{value:K,disabled:!f||!o,onChange:$}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{_(null),A("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),r.jsx("button",{type:"submit",disabled:!f||!o||Y.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Y.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null})]})}function hv({label:t,value:a,onCopy:l}){return r.jsxs("label",{className:"block text-sm text-slate-700",children:[t,r.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[r.jsx("input",{readOnly:!0,value:a,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),r.jsx("button",{type:"button",onClick:()=>l(a),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Vo={exports:{}};var HA=Vo.exports,fv;function KA(){return fv||(fv=1,(function(t,a){(function(l,o){o(a)})(HA,(function(l){var o="1.9.4";function d(i){var u,h,y,b;for(h=1,y=arguments.length;h<y;h++){b=arguments[h];for(u in b)i[u]=b[u]}return i}var f=Object.create||(function(){function i(){}return function(u){return i.prototype=u,new i}})();function p(i,u){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var y=h.call(arguments,2);return function(){return i.apply(u,y.length?y.concat(h.call(arguments)):arguments)}}var x=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++x),i._leaflet_id}function _(i,u,h){var y,b,E,P;return P=function(){y=!1,b&&(E.apply(h,b),b=!1)},E=function(){y?b=arguments:(i.apply(h,arguments),setTimeout(P,u),y=!0)},E}function j(i,u,h){var y=u[1],b=u[0],E=y-b;return i===y&&h?i:((i-b)%E+E)%E+b}function w(){return!1}function k(i,u){if(u===!1)return i;var h=Math.pow(10,u===void 0?6:u);return Math.round(i*h)/h}function z(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function C(i){return z(i).split(/\s+/)}function A(i,u){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?f(i.options):{});for(var h in u)i.options[h]=u[h];return i.options}function M(i,u,h){var y=[];for(var b in i)y.push(encodeURIComponent(h?b.toUpperCase():b)+"="+encodeURIComponent(i[b]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function B(i,u){return i.replace(F,function(h,y){var b=u[y];if(b===void 0)throw new Error("No value provided for variable "+h);return typeof b=="function"&&(b=b(u)),b})}var U=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function K(i,u){for(var h=0;h<i.length;h++)if(i[h]===u)return h;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var W=0;function Y(i){var u=+new Date,h=Math.max(0,16-(u-W));return W=u+h,window.setTimeout(i,h)}var X=window.requestAnimationFrame||G("RequestAnimationFrame")||Y,ve=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function ae(i,u,h){if(h&&X===Y)i.call(u);else return X.call(window,p(i,u))}function ce(i){i&&ve.call(window,i)}var oe={__proto__:null,extend:d,create:f,bind:p,get lastId(){return x},stamp:v,throttle:_,wrapNum:j,falseFn:w,formatNum:k,trim:z,splitWords:C,setOptions:A,getParamString:M,template:B,isArray:U,indexOf:K,emptyImageUrl:$,requestFn:X,cancelFn:ve,requestAnimFrame:ae,cancelAnimFrame:ce};function q(){}q.extend=function(i){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,y=f(h);y.constructor=u,u.prototype=y;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return i.statics&&d(u,i.statics),i.includes&&(le(i.includes),d.apply(null,[y].concat(i.includes))),d(y,i),delete y.statics,delete y.includes,y.options&&(y.options=h.options?f(h.options):{},d(y.options,i.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,P=y._initHooks.length;E<P;E++)y._initHooks[E].call(this)}},u},q.include=function(i){var u=this.prototype.options;return d(this.prototype,i),i.options&&(this.prototype.options=u,this.mergeOptions(i.options)),this},q.mergeOptions=function(i){return d(this.prototype.options,i),this},q.addInitHook=function(i){var u=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function le(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=U(i)?i:[i];for(var u=0;u<i.length;u++)i[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(i,u,h){if(typeof i=="object")for(var y in i)this._on(y,i[y],u);else{i=C(i);for(var b=0,E=i.length;b<E;b++)this._on(i[b],u,h)}return this},off:function(i,u,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var y in i)this._off(y,i[y],u);else{i=C(i);for(var b=arguments.length===1,E=0,P=i.length;E<P;E++)b?this._off(i[E]):this._off(i[E],u,h)}return this},_on:function(i,u,h,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(i,u,h)===!1){h===this&&(h=void 0);var b={fn:u,ctx:h};y&&(b.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(b)}},_off:function(i,u,h){var y,b,E;if(this._events&&(y=this._events[i],!!y)){if(arguments.length===1){if(this._firingCount)for(b=0,E=y.length;b<E;b++)y[b].fn=w;delete this._events[i];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var P=this._listens(i,u,h);if(P!==!1){var se=y[P];this._firingCount&&(se.fn=w,this._events[i]=y=y.slice()),y.splice(P,1)}}},fire:function(i,u,h){if(!this.listens(i,h))return this;var y=d({},u,{type:i,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[i];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,P=b.length;E<P;E++){var se=b[E],me=se.fn;se.once&&this.off(i,me,se.ctx),me.call(se.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(i,u,h,y){typeof i!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(y=!!u,b=void 0,h=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,b,h)!==!1)return!0;if(y){for(var P in this._eventParents)if(this._eventParents[P].listens(i,u,h,y))return!0}return!1},_listens:function(i,u,h){if(!this._events)return!1;var y=this._events[i]||[];if(!u)return!!y.length;h===this&&(h=void 0);for(var b=0,E=y.length;b<E;b++)if(y[b].fn===u&&y[b].ctx===h)return b;return!1},once:function(i,u,h){if(typeof i=="object")for(var y in i)this._on(y,i[y],u,!0);else{i=C(i);for(var b=0,E=i.length;b<E;b++)this._on(i[b],u,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var u in this._eventParents)this._eventParents[u].fire(i.type,d({layer:i.target,propagatedFrom:i.target},i),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var re=q.extend(Z);function de(i,u,h){this.x=h?Math.round(i):i,this.y=h?Math.round(u):u}var Ee=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};de.prototype={clone:function(){return new de(this.x,this.y)},add:function(i){return this.clone()._add(ee(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(ee(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new de(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new de(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(i){i=ee(i);var u=i.x-this.x,h=i.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(i){return i=ee(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=ee(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function ee(i,u,h){return i instanceof de?i:U(i)?new de(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new de(i.x,i.y):new de(i,u,h)}function O(i,u){if(i)for(var h=u?[i,u]:i,y=0,b=h.length;y<b;y++)this.extend(h[y])}O.prototype={extend:function(i){var u,h;if(!i)return this;if(i instanceof de||typeof i[0]=="number"||"x"in i)u=h=ee(i);else if(i=ie(i),u=i.min,h=i.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var u,h;return typeof i[0]=="number"||i instanceof de?i=ee(i):i=ie(i),i instanceof O?(u=i.min,h=i.max):u=h=i,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=ie(i);var u=this.min,h=this.max,y=i.min,b=i.max,E=b.x>=u.x&&y.x<=h.x,P=b.y>=u.y&&y.y<=h.y;return E&&P},overlaps:function(i){i=ie(i);var u=this.min,h=this.max,y=i.min,b=i.max,E=b.x>u.x&&y.x<h.x,P=b.y>u.y&&y.y<h.y;return E&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var u=this.min,h=this.max,y=Math.abs(u.x-h.x)*i,b=Math.abs(u.y-h.y)*i;return ie(ee(u.x-y,u.y-b),ee(h.x+y,h.y+b))},equals:function(i){return i?(i=ie(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ie(i,u){return!i||i instanceof O?i:new O(i,u)}function R(i,u){if(i)for(var h=u?[i,u]:i,y=0,b=h.length;y<b;y++)this.extend(h[y])}R.prototype={extend:function(i){var u=this._southWest,h=this._northEast,y,b;if(i instanceof ge)y=i,b=i;else if(i instanceof R){if(y=i._southWest,b=i._northEast,!y||!b)return this}else return i?this.extend(J(i)||H(i)):this;return!u&&!h?(this._southWest=new ge(y.lat,y.lng),this._northEast=new ge(b.lat,b.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),h.lat=Math.max(b.lat,h.lat),h.lng=Math.max(b.lng,h.lng)),this},pad:function(i){var u=this._southWest,h=this._northEast,y=Math.abs(u.lat-h.lat)*i,b=Math.abs(u.lng-h.lng)*i;return new R(new ge(u.lat-y,u.lng-b),new ge(h.lat+y,h.lng+b))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ge||"lat"in i?i=J(i):i=H(i);var u=this._southWest,h=this._northEast,y,b;return i instanceof R?(y=i.getSouthWest(),b=i.getNorthEast()):y=b=i,y.lat>=u.lat&&b.lat<=h.lat&&y.lng>=u.lng&&b.lng<=h.lng},intersects:function(i){i=H(i);var u=this._southWest,h=this._northEast,y=i.getSouthWest(),b=i.getNorthEast(),E=b.lat>=u.lat&&y.lat<=h.lat,P=b.lng>=u.lng&&y.lng<=h.lng;return E&&P},overlaps:function(i){i=H(i);var u=this._southWest,h=this._northEast,y=i.getSouthWest(),b=i.getNorthEast(),E=b.lat>u.lat&&y.lat<h.lat,P=b.lng>u.lng&&y.lng<h.lng;return E&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,u){return i?(i=H(i),this._southWest.equals(i.getSouthWest(),u)&&this._northEast.equals(i.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(i,u){return i instanceof R?i:new R(i,u)}function ge(i,u,h){if(isNaN(i)||isNaN(u))throw new Error("Invalid LatLng object: ("+i+", "+u+")");this.lat=+i,this.lng=+u,h!==void 0&&(this.alt=+h)}ge.prototype={equals:function(i,u){if(!i)return!1;i=J(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(u===void 0?1e-9:u)},toString:function(i){return"LatLng("+k(this.lat,i)+", "+k(this.lng,i)+")"},distanceTo:function(i){return Be.distance(this,J(i))},wrap:function(){return Be.wrapLatLng(this)},toBounds:function(i){var u=180*i/40075017,h=u/Math.cos(Math.PI/180*this.lat);return H([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function J(i,u,h){return i instanceof ge?i:U(i)&&typeof i[0]!="object"?i.length===3?new ge(i[0],i[1],i[2]):i.length===2?new ge(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ge(i.lat,"lng"in i?i.lng:i.lon,i.alt):u===void 0?null:new ge(i,u,h)}var Te={latLngToPoint:function(i,u){var h=this.projection.project(i),y=this.scale(u);return this.transformation._transform(h,y)},pointToLatLng:function(i,u){var h=this.scale(u),y=this.transformation.untransform(i,h);return this.projection.unproject(y)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(i),y=this.transformation.transform(u.min,h),b=this.transformation.transform(u.max,h);return new O(y,b)},infinite:!1,wrapLatLng:function(i){var u=this.wrapLng?j(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?j(i.lat,this.wrapLat,!0):i.lat,y=i.alt;return new ge(h,u,y)},wrapLatLngBounds:function(i){var u=i.getCenter(),h=this.wrapLatLng(u),y=u.lat-h.lat,b=u.lng-h.lng;if(y===0&&b===0)return i;var E=i.getSouthWest(),P=i.getNorthEast(),se=new ge(E.lat-y,E.lng-b),me=new ge(P.lat-y,P.lng-b);return new R(se,me)}},Be=d({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(i,u){var h=Math.PI/180,y=i.lat*h,b=u.lat*h,E=Math.sin((u.lat-i.lat)*h/2),P=Math.sin((u.lng-i.lng)*h/2),se=E*E+Math.cos(y)*Math.cos(b)*P*P,me=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*me}}),Ze=6378137,dt={R:Ze,MAX_LATITUDE:85.0511287798,project:function(i){var u=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,i.lat),-h),b=Math.sin(y*u);return new de(this.R*i.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(i){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*u,i.x*u/this.R)},bounds:(function(){var i=Ze*Math.PI;return new O([-i,-i],[i,i])})()};function at(i,u,h,y){if(U(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=u,this._c=h,this._d=y}at.prototype={transform:function(i,u){return this._transform(i.clone(),u)},_transform:function(i,u){return u=u||1,i.x=u*(this._a*i.x+this._b),i.y=u*(this._c*i.y+this._d),i},untransform:function(i,u){return u=u||1,new de((i.x/u-this._b)/this._a,(i.y/u-this._d)/this._c)}};function Ut(i,u,h,y){return new at(i,u,h,y)}var Lt=d({},Be,{code:"EPSG:3857",projection:dt,transformation:(function(){var i=.5/(Math.PI*dt.R);return Ut(i,.5,-i,.5)})()}),Gt=d({},Lt,{code:"EPSG:900913"});function an(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Yt(i,u){var h="",y,b,E,P,se,me;for(y=0,E=i.length;y<E;y++){for(se=i[y],b=0,P=se.length;b<P;b++)me=se[b],h+=(b?"L":"M")+me.x+" "+me.y;h+=u?Re.svg?"z":"x":""}return h||"M0 0"}var ln=document.documentElement.style,on="ActiveXObject"in window,bn=on&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ke=Mn("webkit"),Ge=Mn("android"),At=Mn("android 2")||Mn("android 3"),Ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_e=Ge&&Mn("Google")&&Ye<537&&!("AudioNode"in window),V=!!window.opera,Oe=!te&&Mn("chrome"),jt=Mn("gecko")&&!ke&&!V&&!on,$e=!Oe&&Mn("safari"),pn=Mn("phantom"),ue="OTransition"in ln,Xe=navigator.platform.indexOf("Win")===0,yt=on&&"transition"in ln,Dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!At,On="MozPerspective"in ln,gn=!window.L_DISABLE_3D&&(yt||Dt||On)&&!ue&&!pn,Ba=typeof orientation<"u"||Mn("mobile"),Ps=Ba&&ke,Bs=Ba&&Dt,Ia=!window.PointerEvent&&window.MSPointerEvent,Ua=!!(window.PointerEvent||Ia),Wa="ontouchstart"in window||!!window.TouchEvent,va=!window.L_NO_TOUCH&&(Wa||Ua),ei=Ba&&V,sa=Ba&&jt,Mr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rr=(function(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return i})(),Is=(function(){return!!document.createElement("canvas").getContext})(),ra=!!(document.createElementNS&&an("svg").createSVGRect),Il=!!ra&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),_i=!ra&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var u=i.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Lr=navigator.platform.indexOf("Mac")===0,Dr=navigator.platform.indexOf("Linux")===0;function Mn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Re={ie:on,ielt9:bn,edge:te,webkit:ke,android:Ge,android23:At,androidStock:_e,opera:V,chrome:Oe,gecko:jt,safari:$e,phantom:pn,opera12:ue,win:Xe,ie3d:yt,webkit3d:Dt,gecko3d:On,any3d:gn,mobile:Ba,mobileWebkit:Ps,mobileWebkit3d:Bs,msPointer:Ia,pointer:Ua,touch:va,touchNative:Wa,mobileOpera:ei,mobileGecko:sa,retina:Mr,passiveEvents:Rr,canvas:Is,svg:ra,vml:_i,inlineSvg:Il,mac:Lr,linux:Dr},Us=Re.msPointer?"MSPointerDown":"pointerdown",Vi=Re.msPointer?"MSPointerMove":"pointermove",la=Re.msPointer?"MSPointerUp":"pointerup",$t=Re.msPointer?"MSPointerCancel":"pointercancel",un={touchstart:Us,touchmove:Vi,touchend:la,touchcancel:$t},Za={touchstart:qa,touchmove:Rn,touchend:Rn,touchcancel:Rn},_a={},Pr=!1;function Ul(i,u,h){return u==="touchstart"&&ht(),Za[u]?(h=Za[u].bind(this,h),i.addEventListener(un[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function Br(i,u,h){if(!un[u]){console.warn("wrong event specified:",u);return}i.removeEventListener(un[u],h,!1)}function bi(i){_a[i.pointerId]=i}function D(i){_a[i.pointerId]&&(_a[i.pointerId]=i)}function Me(i){delete _a[i.pointerId]}function ht(){Pr||(document.addEventListener(Us,bi,!0),document.addEventListener(Vi,D,!0),document.addEventListener(la,Me,!0),document.addEventListener($t,Me,!0),Pr=!0)}function Rn(i,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in _a)u.touches.push(_a[h]);u.changedTouches=[u],i(u)}}function qa(i,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Xt(u),Rn(i,u)}function Kt(i){var u={},h,y;for(y in i)h=i[y],u[y]=h&&h.bind?h.bind(i):h;return i=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Zs=200;function ou(i,u){i.addEventListener("dblclick",u);var h=0,y;function b(E){if(E.detail!==1){y=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var P=Gs(E);if(!(P.some(function(me){return me instanceof HTMLLabelElement&&me.attributes.for})&&!P.some(function(me){return me instanceof HTMLInputElement||me instanceof HTMLSelectElement}))){var se=Date.now();se-h<=Zs?(y++,y===2&&u(Kt(E))):y=1,h=se}}}return i.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Ni(i,u){i.removeEventListener("dblclick",u.dblclick),i.removeEventListener("click",u.simDblclick)}var ti=Hs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qs=Hs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zl=qs==="webkitTransition"||qs==="OTransition"?qs+"End":"transitionend";function ql(i){return typeof i=="string"?document.getElementById(i):i}function Fs(i,u){var h=i.style[u]||i.currentStyle&&i.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(i,null);h=y?y[u]:null}return h==="auto"?null:h}function it(i,u,h){var y=document.createElement(i);return y.className=u||"",h&&h.appendChild(y),y}function wt(i){var u=i.parentNode;u&&u.removeChild(i)}function Kn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function yn(i){var u=i.parentNode;u&&u.lastChild!==i&&u.appendChild(i)}function Si(i){var u=i.parentNode;u&&u.firstChild!==i&&u.insertBefore(i,u.firstChild)}function Fl(i,u){if(i.classList!==void 0)return i.classList.contains(u);var h=Ir(i);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function Je(i,u){if(i.classList!==void 0)for(var h=C(u),y=0,b=h.length;y<b;y++)i.classList.add(h[y]);else if(!Fl(i,u)){var E=Ir(i);Gi(i,(E?E+" ":"")+u)}}function Zt(i,u){i.classList!==void 0?i.classList.remove(u):Gi(i,z((" "+Ir(i)+" ").replace(" "+u+" "," ")))}function Gi(i,u){i.className.baseVal===void 0?i.className=u:i.className.baseVal=u}function Ir(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Pt(i,u){"opacity"in i.style?i.style.opacity=u:"filter"in i.style&&Hl(i,u)}function Hl(i,u){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):i.style.filter+=" progid:"+y+"(opacity="+u+")"}function Hs(i){for(var u=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in u)return i[h];return!1}function Fa(i,u,h){var y=u||new de(0,0);i.style[ti]=(Re.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function zt(i,u){i._leaflet_pos=u,Re.any3d?Fa(i,u):(i.style.left=u.x+"px",i.style.top=u.y+"px")}function ni(i){return i._leaflet_pos||new de(0,0)}var Yi,ba,Kl;if("onselectstart"in document)Yi=function(){Qe(window,"selectstart",Xt)},ba=function(){vt(window,"selectstart",Xt)};else{var $i=Hs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yi=function(){if($i){var i=document.documentElement.style;Kl=i[$i],i[$i]="none"}},ba=function(){$i&&(document.documentElement.style[$i]=Kl,Kl=void 0)}}function Ur(){Qe(window,"dragstart",Xt)}function Ks(){vt(window,"dragstart",Xt)}var Zr,Ql;function Xi(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Qn(),Zr=i,Ql=i.style.outlineStyle,i.style.outlineStyle="none",Qe(window,"keydown",Qn))}function Qn(){Zr&&(Zr.style.outlineStyle=Ql,Zr=void 0,Ql=void 0,vt(window,"keydown",Qn))}function qr(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Qs(i){var u=i.getBoundingClientRect();return{x:u.width/i.offsetWidth||1,y:u.height/i.offsetHeight||1,boundingClientRect:u}}var Ji={__proto__:null,TRANSFORM:ti,TRANSITION:qs,TRANSITION_END:Zl,get:ql,getStyle:Fs,create:it,remove:wt,empty:Kn,toFront:yn,toBack:Si,hasClass:Fl,addClass:Je,removeClass:Zt,setClass:Gi,getClass:Ir,setOpacity:Pt,testProp:Hs,setTransform:Fa,setPosition:zt,getPosition:ni,get disableTextSelection(){return Yi},get enableTextSelection(){return ba},disableImageDrag:Ur,enableImageDrag:Ks,preventOutline:Xi,restoreOutline:Qn,getSizedParentNode:qr,getScale:Qs};function Qe(i,u,h,y){if(u&&typeof u=="object")for(var b in u)ua(i,b,u[b],h);else{u=C(u);for(var E=0,P=u.length;E<P;E++)ua(i,u[E],h,y)}return this}var oa="_leaflet_events";function vt(i,u,h,y){if(arguments.length===1)Vl(i),delete i[oa];else if(u&&typeof u=="object")for(var b in u)Vs(i,b,u[b],h);else if(u=C(u),arguments.length===2)Vl(i,function(se){return K(u,se)!==-1});else for(var E=0,P=u.length;E<P;E++)Vs(i,u[E],h,y);return this}function Vl(i,u){for(var h in i[oa]){var y=h.split(/\d/)[0];(!u||u(y))&&Vs(i,y,null,null,h)}}var ji={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ua(i,u,h,y){var b=u+v(h)+(y?"_"+v(y):"");if(i[oa]&&i[oa][b])return this;var E=function(se){return h.call(y||i,se||window.event)},P=E;!Re.touchNative&&Re.pointer&&u.indexOf("touch")===0?E=Ul(i,u,E):Re.touch&&u==="dblclick"?E=ou(i,E):"addEventListener"in i?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?i.addEventListener(ji[u]||u,E,Re.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(se){se=se||window.event,Ha(i,se)&&P(se)},i.addEventListener(ji[u],E,!1)):i.addEventListener(u,P,!1):i.attachEvent("on"+u,E),i[oa]=i[oa]||{},i[oa][b]=E}function Vs(i,u,h,y,b){b=b||u+v(h)+(y?"_"+v(y):"");var E=i[oa]&&i[oa][b];if(!E)return this;!Re.touchNative&&Re.pointer&&u.indexOf("touch")===0?Br(i,u,E):Re.touch&&u==="dblclick"?Ni(i,E):"removeEventListener"in i?i.removeEventListener(ji[u]||u,E,!1):i.detachEvent("on"+u,E),i[oa][b]=null}function ca(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Na(i){return ua(i,"wheel",ca),this}function wi(i){return Qe(i,"mousedown touchstart dblclick contextmenu",ca),i._leaflet_disable_click=!0,this}function Xt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ai(i){return Xt(i),ca(i),this}function Gs(i){if(i.composedPath)return i.composedPath();for(var u=[],h=i.target;h;)u.push(h),h=h.parentNode;return u}function Ys(i,u){if(!u)return new de(i.clientX,i.clientY);var h=Qs(u),y=h.boundingClientRect;return new de((i.clientX-y.left)/h.x-u.clientLeft,(i.clientY-y.top)/h.y-u.clientTop)}var uu=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function En(i){return Re.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/uu:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ha(i,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Fr={__proto__:null,on:Qe,off:vt,stopPropagation:ca,disableScrollPropagation:Na,disableClickPropagation:wi,preventDefault:Xt,stop:ai,getPropagationPath:Gs,getMousePosition:Ys,getWheelDelta:En,isExternalTarget:Ha,addListener:Qe,removeListener:vt},Wi=re.extend({run:function(i,u,h,y){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=ni(i),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(i){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,u){var h=this._startPos.add(this._offset.multiplyBy(i));u&&h._round(),zt(this._el,h),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ot=re.extend({options:{crs:Lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(J(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qs&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qe(this._proxy,Zl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),i=this._limitCenter(J(i),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,u,h.zoom):this._tryAnimatedPan(i,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(i,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,u){return this._loaded?this.setView(this.getCenter(),i,{zoom:u}):(this._zoom=i,this)},zoomIn:function(i,u){return i=i||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,u)},zoomOut:function(i,u){return i=i||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,u)},setZoomAround:function(i,u,h){var y=this.getZoomScale(u),b=this.getSize().divideBy(2),E=i instanceof de?i:this.latLngToContainerPoint(i),P=E.subtract(b).multiplyBy(1-1/y),se=this.containerPointToLatLng(b.add(P));return this.setView(se,u,{zoom:h})},_getBoundsCenterZoom:function(i,u){u=u||{},i=i.getBounds?i.getBounds():H(i);var h=ee(u.paddingTopLeft||u.padding||[0,0]),y=ee(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(i,!1,h.add(y));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:i.getCenter(),zoom:b};var E=y.subtract(h).divideBy(2),P=this.project(i.getSouthWest(),b),se=this.project(i.getNorthEast(),b),me=this.unproject(P.add(se).divideBy(2).add(E),b);return{center:me,zoom:b}},fitBounds:function(i,u){if(i=H(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,u){return this.setView(i,this._zoom,{pan:u})},panBy:function(i,u){if(i=ee(i).round(),u=u||{},!i.x&&!i.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Je(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,u,h){if(h=h||{},h.animate===!1||!Re.any3d)return this.setView(i,u,h);this._stop();var y=this.project(this.getCenter()),b=this.project(i),E=this.getSize(),P=this._zoom;i=J(i),u=u===void 0?P:u;var se=Math.max(E.x,E.y),me=se*this.getZoomScale(P,u),je=b.distanceTo(y)||1,Ce=1.42,Ie=Ce*Ce;function tt(Qt){var Ga=Qt?-1:1,Ci=Qt?me:se,oo=me*me-se*se+Ga*Ie*Ie*je*je,dr=2*Ci*Ie*je,hr=oo/dr,hi=Math.sqrt(hr*hr+1)-hr,Ya=hi<1e-9?-18:Math.log(hi);return Ya}function xn(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function Jt(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function Zn(Qt){return xn(Qt)/Jt(Qt)}var ft=tt(0);function mt(Qt){return se*(Jt(ft)/Jt(ft+Ce*Qt))}function st(Qt){return se*(Jt(ft)*Zn(ft+Ce*Qt)-xn(ft))/Ie}function ci(Qt){return 1-Math.pow(1-Qt,1.5)}var $n=Date.now(),al=(tt(1)-ft)/Ce,di=h.duration?1e3*h.duration:1e3*al*.8;function lo(){var Qt=(Date.now()-$n)/di,Ga=ci(Qt)*al;Qt<=1?(this._flyToFrame=ae(lo,this),this._move(this.unproject(y.add(b.subtract(y).multiplyBy(st(Ga)/je)),P),this.getScaleZoom(se/mt(Ga),P),{flyTo:!0})):this._move(i,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),lo.call(this),this},flyToBounds:function(i,u){var h=this._getBoundsCenterZoom(i,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(i){return i=H(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var u=this.options.minZoom;return this.options.minZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var u=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,u){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,H(i));return h.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(i,u){u=u||{};var h=ee(u.paddingTopLeft||u.padding||[0,0]),y=ee(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(i),P=this.getPixelBounds(),se=ie([P.min.add(h),P.max.subtract(y)]),me=se.getSize();if(!se.contains(E)){this._enforcingBounds=!0;var je=E.subtract(se.getCenter()),Ce=se.extend(E).getSize().subtract(me);b.x+=je.x<0?-Ce.x:Ce.x,b.y+=je.y<0?-Ce.y:Ce.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=d({animate:!1,pan:!0},i===!0?{animate:!0}:i);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=u.divideBy(2).round(),b=h.divideBy(2).round(),E=y.subtract(b);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=d({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,i):navigator.geolocation.getCurrentPosition(u,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var u=i.code,h=i.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var u=i.coords.latitude,h=i.coords.longitude,y=new ge(u,h),b=y.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var P=this.getBoundsZoom(b);this.setView(y,E.maxZoom?Math.min(P,E.maxZoom):P)}var se={latlng:y,bounds:b,timestamp:i.timestamp};for(var me in i.coords)typeof i.coords[me]=="number"&&(se[me]=i.coords[me]);this.fire("locationfound",se)}},addHandler:function(i,u){if(!u)return this;var h=this[i]=new u(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)wt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,u){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),y=it("div",h,u||this._mapPane);return i&&(this._panes[i]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),u=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new R(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,u,h){i=H(i),h=ee(h||[0,0]);var y=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),P=i.getNorthWest(),se=i.getSouthEast(),me=this.getSize().subtract(h),je=ie(this.project(se,y),this.project(P,y)).getSize(),Ce=Re.any3d?this.options.zoomSnap:1,Ie=me.x/je.x,tt=me.y/je.y,xn=u?Math.max(Ie,tt):Math.min(Ie,tt);return y=this.getScaleZoom(xn,y),Ce&&(y=Math.round(y/(Ce/100))*(Ce/100),y=u?Math.ceil(y/Ce)*Ce:Math.floor(y/Ce)*Ce),Math.max(b,Math.min(E,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new de(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,u){var h=this._getTopLeftPoint(i,u);return new O(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(i)/h.scale(u)},getScaleZoom:function(i,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var y=h.zoom(i*h.scale(u));return isNaN(y)?1/0:y},project:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(J(i),u)},unproject:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ee(i),u)},layerPointToLatLng:function(i){var u=ee(i).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(i){var u=this.project(J(i))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(J(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(H(i))},distance:function(i,u){return this.options.crs.distance(J(i),J(u))},containerPointToLayerPoint:function(i){return ee(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return ee(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var u=this.containerPointToLayerPoint(ee(i));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(i)))},mouseEventToContainerPoint:function(i){return Ys(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var u=this._container=ql(i);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qe(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,Je(i,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Fs(i,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new de(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(i.markerPane,"leaflet-zoom-hide"),Je(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,u,h){zt(this._mapPane,new de(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,h)._move(i,u)._moveEnd(b),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(i,u){return i&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(i,u,h,y){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),y?h&&h.pinch&&this.fire("zoom",h):((b||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){zt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var u=i?vt:Qe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,u){for(var h=[],y,b=u==="mouseout"||u==="mouseover",E=i.target||i.srcElement,P=!1;E;){if(y=this._targets[v(E)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){P=!0;break}if(y&&y.listens(u,!0)&&(b&&!Ha(E,i)||(h.push(y),b))||E===this._container)break;E=E.parentNode}return!h.length&&!P&&!b&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var u=i.target||i.srcElement;if(!(!this._loaded||u._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(u))){var h=i.type;h==="mousedown"&&Xi(u),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,u,h){if(i.type==="click"){var y=d({},i);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var b=this._findEventTargets(i,u);if(h){for(var E=[],P=0;P<h.length;P++)h[P].listens(u,!0)&&E.push(h[P]);b=E.concat(b)}if(b.length){u==="contextmenu"&&Xt(i);var se=b[0],me={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var je=se.getLatLng&&(!se._radius||se._radius<=10);me.containerPoint=je?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(i),me.layerPoint=this.containerPointToLayerPoint(me.containerPoint),me.latlng=je?se.getLatLng():this.layerPointToLatLng(me.layerPoint)}for(P=0;P<b.length;P++)if(b[P].fire(u,me,!0),me.originalEvent._stopped||b[P].options.bubblingMouseEvents===!1&&K(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,u=this._handlers.length;i<u;i++)this._handlers[i].disable()},whenReady:function(i,u){return this._loaded?i.call(u||this,{target:this}):this.on("load",i,u),this},_getMapPanePos:function(){return ni(this._mapPane)||new de(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,u){var h=i&&u!==void 0?this._getNewPixelOrigin(i,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,u){var h=this.getSize()._divideBy(2);return this.project(i,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,u,h){var y=this._getNewPixelOrigin(h,u);return this.project(i,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(i,u,h){var y=this._getNewPixelOrigin(h,u);return ie([this.project(i.getSouthWest(),u)._subtract(y),this.project(i.getNorthWest(),u)._subtract(y),this.project(i.getSouthEast(),u)._subtract(y),this.project(i.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,u,h){if(!h)return i;var y=this.project(i,u),b=this.getSize().divideBy(2),E=new O(y.subtract(b),y.add(b)),P=this._getBoundsOffset(E,h,u);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?i:this.unproject(y.add(P),u)},_limitOffset:function(i,u){if(!u)return i;var h=this.getPixelBounds(),y=new O(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(i,u,h){var y=ie(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),b=y.min.subtract(i.min),E=y.max.subtract(i.max),P=this._rebound(b.x,-E.x),se=this._rebound(b.y,-E.y);return new de(P,se)},_rebound:function(i,u){return i+u>0?Math.round(i-u)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(u))},_limitZoom:function(i){var u=this.getMinZoom(),h=this.getMaxZoom(),y=Re.any3d?this.options.zoomSnap:1;return y&&(i=Math.round(i/y)*y),Math.max(u,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,u){var h=this._getCenterOffset(i)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var i=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(u){var h=ti,y=this._proxy.style[h];Fa(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),u=this.getZoom();Fa(this._proxy,this.project(i,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),b=this._getCenterOffset(i)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(b)?!1:(ae(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,u,!0)},this),!0)},_animateZoom:function(i,u,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=u,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gl(i,u){return new ot(i,u)}var Un=q.extend({options:{position:"topright"},initialize:function(i){A(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var u=this._map;return u&&u.removeControl(this),this.options.position=i,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var u=this._container=this.onAdd(i),h=this.getPosition(),y=i._controlCorners[h];return Je(u,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ka=function(i){return new Un(i)};ot.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},u="leaflet-",h=this._controlContainer=it("div",u+"control-container",this._container);function y(b,E){var P=u+b+" "+u+E;i[b+E]=it("div",P,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)wt(this._controlCorners[i]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $s=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,u,h,y){return h<y?-1:y<h?1:0}},initialize:function(i,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in i)this._addLayer(i[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Un.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,u){return this._addLayer(i,u),this._map?this._update():this},addOverlay:function(i,u){return this._addLayer(i,u,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(i));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",u=this._container=it("div",i),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),wi(u),Na(u);var y=this._section=it("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Qe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=it("a",i+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Qe(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Xt(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=it("div",i+"-base",y),this._separator=it("div",i+"-separator",y),this._overlaysList=it("div",i+"-overlays",y),u.appendChild(y)},_getLayer:function(i){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===i)return this._layers[u]},_addLayer:function(i,u,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(y,b){return this.options.sortFunction(y.layer,b.layer,y.name,b.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kn(this._baseLayersList),Kn(this._overlaysList),this._layerControlInputs=[];var i,u,h,y,b=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),u=u||y.overlay,i=i||!y.overlay,b+=y.overlay?0:1;return this.options.hideSingleBase&&(i=i&&b>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=u&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var u=this._getLayer(v(i.target)),h=u.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(i,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(i){var u=document.createElement("label"),h=this._map.hasLayer(i.layer),y;i.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(y),y.layerId=v(i.layer),Qe(y,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+i.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(y),E.appendChild(b);var P=i.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,u,h,y=[],b=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)u=i[E],h=this._getLayer(u.layerId).layer,u.checked?y.push(h):u.checked||b.push(h);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])||this._map.addLayer(y[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,u,h,y=this._map.getZoom(),b=i.length-1;b>=0;b--)u=i[b],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Qe(i,"click",Xt),this.expand();var u=this;setTimeout(function(){vt(i,"click",Xt),u._preventClick=!1})}}),cu=function(i,u,h){return new $s(i,u,h)},Yl=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var u="leaflet-control-zoom",h=it("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,u,h,y,b){var E=it("a",h,y);return E.innerHTML=i,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),wi(E),Qe(E,"click",ai),Qe(E,"click",b,this),Qe(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,u="leaflet-disabled";Zt(this._zoomInButton,u),Zt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Je(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Je(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yl,this.addControl(this.zoomControl))});var yd=function(i){return new Yl(i)},du=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var u="leaflet-control-scale",h=it("div",u),y=this.options;return this._addScales(y,u+"-line",h),i.on(y.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,u,h){i.metric&&(this._mScale=it("div",u,h)),i.imperial&&(this._iScale=it("div",u,h))},_update:function(){var i=this._map,u=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,u]),i.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var u=this._getRoundNum(i),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/i)},_updateImperial:function(i){var u=i*3.2808399,h,y,b;u>5280?(h=u/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(i,u,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=u},_getRoundNum:function(i){var u=Math.pow(10,(Math.floor(i)+"").length-1),h=i/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),$l=function(i){return new du(i)},xd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xl=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?xd+" ":"")+"Leaflet</a>"},initialize:function(i){A(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=it("div","leaflet-control-attribution"),wi(this._container);for(var u in i._layers)i._layers[u].getAttribution&&this.addAttribution(i._layers[u].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var u in this._attributions)this._attributions[u]&&i.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new Xl().addTo(this)});var vd=function(i){return new Xl(i)};Un.Layers=$s,Un.Zoom=Yl,Un.Scale=du,Un.Attribution=Xl,Ka.layers=cu,Ka.zoom=yd,Ka.scale=$l,Ka.attribution=vd;var Sa=q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sa.addTo=function(i,u){return i.addHandler(u,this),this};var _d={Events:Z},Jl=Re.touch?"touchstart mousedown":"mousedown",ii=re.extend({options:{clickTolerance:3},initialize:function(i,u,h,y){A(this,y),this._element=i,this._dragStartTarget=u||i,this._preventOutline=h},enable:function(){this._enabled||(Qe(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(!0),vt(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Fl(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ii._dragging===this&&this.finishDrag();return}if(!(ii._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ii._dragging=this,this._preventOutline&&Xi(this._element),Ur(),Yi(),!this._moving)){this.fire("down");var u=i.touches?i.touches[0]:i,h=qr(this._element);this._startPoint=new de(u.clientX,u.clientY),this._startPos=ni(this._element),this._parentScale=Qs(h);var y=i.type==="mousedown";Qe(document,y?"mousemove":"touchmove",this._onMove,this),Qe(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var u=i.touches&&i.touches.length===1?i.touches[0]:i,h=new de(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Xt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),zt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Zt(document.body,"leaflet-dragging"),this._lastTarget&&(Zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),vt(document,"mousemove touchmove",this._onMove,this),vt(document,"mouseup touchend touchcancel",this._onUp,this),Ks(),ba();var u=this._moved&&this._moving;this._moving=!1,ii._dragging=!1,u&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function hu(i,u,h){var y,b=[1,4,2,8],E,P,se,me,je,Ce,Ie,tt;for(E=0,Ce=i.length;E<Ce;E++)i[E]._code=Ei(i[E],u);for(se=0;se<4;se++){for(Ie=b[se],y=[],E=0,Ce=i.length,P=Ce-1;E<Ce;P=E++)me=i[E],je=i[P],me._code&Ie?je._code&Ie||(tt=Hr(je,me,Ie,u,h),tt._code=Ei(tt,u),y.push(tt)):(je._code&Ie&&(tt=Hr(je,me,Ie,u,h),tt._code=Ei(tt,u),y.push(tt)),y.push(me));i=y}return i}function fu(i,u){var h,y,b,E,P,se,me,je,Ce;if(!i||i.length===0)throw new Error("latlngs not passed");Vn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ie=J([0,0]),tt=H(i),xn=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());xn<1700&&(Ie=Wl(i));var Jt=i.length,Zn=[];for(h=0;h<Jt;h++){var ft=J(i[h]);Zn.push(u.project(J([ft.lat-Ie.lat,ft.lng-Ie.lng])))}for(se=me=je=0,h=0,y=Jt-1;h<Jt;y=h++)b=Zn[h],E=Zn[y],P=b.y*E.x-E.y*b.x,me+=(b.x+E.x)*P,je+=(b.y+E.y)*P,se+=P*3;se===0?Ce=Zn[0]:Ce=[me/se,je/se];var mt=u.unproject(ee(Ce));return J([mt.lat+Ie.lat,mt.lng+Ie.lng])}function Wl(i){for(var u=0,h=0,y=0,b=0;b<i.length;b++){var E=J(i[b]);u+=E.lat,h+=E.lng,y++}return J([u/y,h/y])}var eo={__proto__:null,clipPolygon:hu,polygonCenter:fu,centroid:Wl};function mu(i,u){if(!u||!i.length)return i.slice();var h=u*u;return i=Nd(i,h),i=gu(i,h),i}function pu(i,u,h){return Math.sqrt(Xs(i,u,h,!0))}function bd(i,u,h){return Xs(i,u,h)}function gu(i,u){var h=i.length,y=typeof Uint8Array<"u"?Uint8Array:Array,b=new y(h);b[0]=b[h-1]=1,to(i,b,u,0,h-1);var E,P=[];for(E=0;E<h;E++)b[E]&&P.push(i[E]);return P}function to(i,u,h,y,b){var E=0,P,se,me;for(se=y+1;se<=b-1;se++)me=Xs(i[se],i[y],i[b],!0),me>E&&(P=se,E=me);E>h&&(u[P]=1,to(i,u,h,y,P),to(i,u,h,P,b))}function Nd(i,u){for(var h=[i[0]],y=1,b=0,E=i.length;y<E;y++)Sd(i[y],i[b])>u&&(h.push(i[y]),b=y);return b<E-1&&h.push(i[E-1]),h}var yu;function xu(i,u,h,y,b){var E=y?yu:Ei(i,h),P=Ei(u,h),se,me,je;for(yu=P;;){if(!(E|P))return[i,u];if(E&P)return!1;se=E||P,me=Hr(i,u,se,h,b),je=Ei(me,h),se===E?(i=me,E=je):(u=me,P=je)}}function Hr(i,u,h,y,b){var E=u.x-i.x,P=u.y-i.y,se=y.min,me=y.max,je,Ce;return h&8?(je=i.x+E*(me.y-i.y)/P,Ce=me.y):h&4?(je=i.x+E*(se.y-i.y)/P,Ce=se.y):h&2?(je=me.x,Ce=i.y+P*(me.x-i.x)/E):h&1&&(je=se.x,Ce=i.y+P*(se.x-i.x)/E),new de(je,Ce,b)}function Ei(i,u){var h=0;return i.x<u.min.x?h|=1:i.x>u.max.x&&(h|=2),i.y<u.min.y?h|=4:i.y>u.max.y&&(h|=8),h}function Sd(i,u){var h=u.x-i.x,y=u.y-i.y;return h*h+y*y}function Xs(i,u,h,y){var b=u.x,E=u.y,P=h.x-b,se=h.y-E,me=P*P+se*se,je;return me>0&&(je=((i.x-b)*P+(i.y-E)*se)/me,je>1?(b=h.x,E=h.y):je>0&&(b+=P*je,E+=se*je)),P=i.x-b,se=i.y-E,y?P*P+se*se:new de(b,E)}function Vn(i){return!U(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Kr(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(i)}function es(i,u){var h,y,b,E,P,se,me,je;if(!i||i.length===0)throw new Error("latlngs not passed");Vn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ce=J([0,0]),Ie=H(i),tt=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());tt<1700&&(Ce=Wl(i));var xn=i.length,Jt=[];for(h=0;h<xn;h++){var Zn=J(i[h]);Jt.push(u.project(J([Zn.lat-Ce.lat,Zn.lng-Ce.lng])))}for(h=0,y=0;h<xn-1;h++)y+=Jt[h].distanceTo(Jt[h+1])/2;if(y===0)je=Jt[0];else for(h=0,E=0;h<xn-1;h++)if(P=Jt[h],se=Jt[h+1],b=P.distanceTo(se),E+=b,E>y){me=(E-y)/b,je=[se.x-me*(se.x-P.x),se.y-me*(se.y-P.y)];break}var ft=u.unproject(ee(je));return J([ft.lat+Ce.lat,ft.lng+Ce.lng])}var jd={__proto__:null,simplify:mu,pointToSegmentDistance:pu,closestPointOnSegment:bd,clipSegment:xu,_getEdgeIntersection:Hr,_getBitCode:Ei,_sqClosestPointOnSegment:Xs,isFlat:Vn,_flat:Kr,polylineCenter:es},Qr={project:function(i){return new de(i.lng,i.lat)},unproject:function(i){return new ge(i.y,i.x)},bounds:new O([-180,-90],[180,90])},Vr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var u=Math.PI/180,h=this.R,y=i.lat*u,b=this.R_MINOR/h,E=Math.sqrt(1-b*b),P=E*Math.sin(y),se=Math.tan(Math.PI/4-y/2)/Math.pow((1-P)/(1+P),E/2);return y=-h*Math.log(Math.max(se,1e-10)),new de(i.lng*u*h,y)},unproject:function(i){for(var u=180/Math.PI,h=this.R,y=this.R_MINOR/h,b=Math.sqrt(1-y*y),E=Math.exp(-i.y/h),P=Math.PI/2-2*Math.atan(E),se=0,me=.1,je;se<15&&Math.abs(me)>1e-7;se++)je=b*Math.sin(P),je=Math.pow((1-je)/(1+je),b/2),me=Math.PI/2-2*Math.atan(E*je)-P,P+=me;return new ge(P*u,i.x*u/h)}},vu={__proto__:null,LonLat:Qr,Mercator:Vr,SphericalMercator:dt},_u=d({},Be,{code:"EPSG:3395",projection:Vr,transformation:(function(){var i=.5/(Math.PI*Vr.R);return Ut(i,.5,-i,.5)})()}),no=d({},Be,{code:"EPSG:4326",projection:Qr,transformation:Ut(1/180,1,-1/180,.5)}),ts=d({},Te,{projection:Qr,transformation:Ut(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,u){var h=u.lng-i.lng,y=u.lat-i.lat;return Math.sqrt(h*h+y*y)},infinite:!0});Te.Earth=Be,Te.EPSG3395=_u,Te.EPSG3857=Lt,Te.EPSG900913=Gt,Te.EPSG4326=no,Te.Simple=ts;var da=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var u=i.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(i);return this._layers[u]?this:(this._layers[u]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var u=v(i);return this._layers[u]?(this._loaded&&i.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,u){for(var h in this._layers)i.call(u,this._layers[h]);return this},_addLayers:function(i){i=i?U(i)?i:[i]:[];for(var u=0,h=i.length;u<h;u++)this.addLayer(i[u])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var u=v(i);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,u=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var b=this._zoomBoundLayers[y].options;i=b.minZoom===void 0?i:Math.min(i,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ns=da.extend({initialize:function(i,u){A(this,u),this._layers={};var h,y;if(i)for(h=0,y=i.length;h<y;h++)this.addLayer(i[h])},addLayer:function(i){var u=this.getLayerId(i);return this._layers[u]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var u=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(i){var u=typeof i=="number"?i:this.getLayerId(i);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var u=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[i]&&y[i].apply(y,u);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,u){for(var h in this._layers)i.call(u,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),wd=function(i,u){return new ns(i,u)},ja=ns.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ns.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ns.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new R;for(var u in this._layers){var h=this._layers[u];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),bu=function(i,u){return new ja(i,u)},wa=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){A(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,u){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(i,u){var h=this.options,y=h[u+"Size"];typeof y=="number"&&(y=[y,y]);var b=ee(y),E=ee(u==="shadow"&&h.shadowAnchor||h.iconAnchor||b&&b.divideBy(2,!0));i.className="leaflet-marker-"+u+" "+(h.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),b&&(i.style.width=b.x+"px",i.style.height=b.y+"px")},_createImg:function(i,u){return u=u||document.createElement("img"),u.src=i,u},_getIconUrl:function(i){return Re.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Js(i){return new wa(i)}var Ws=wa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Ws.imagePath!="string"&&(Ws.imagePath=this._detectIconPath()),(this.options.imagePath||Ws.imagePath)+wa.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var u=function(h,y,b){var E=y.exec(h);return E&&E[b]};return i=u(i,/^url\((['"])?(.+)\1\)$/,2),i&&u(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=it("div","leaflet-default-icon-path",document.body),u=Fs(i,"background-image")||Fs(i,"backgroundImage");if(document.body.removeChild(i),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),er=Sa.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ii(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var u=this._marker,h=u._map,y=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=ni(u._icon),P=h.getPixelBounds(),se=h.getPixelOrigin(),me=ie(P.min._subtract(se).add(b),P.max._subtract(se).subtract(b));if(!me.contains(E)){var je=ee((Math.max(me.max.x,E.x)-me.max.x)/(P.max.x-me.max.x)-(Math.min(me.min.x,E.x)-me.min.x)/(P.min.x-me.min.x),(Math.max(me.max.y,E.y)-me.max.y)/(P.max.y-me.max.y)-(Math.min(me.min.y,E.y)-me.min.y)/(P.min.y-me.min.y)).multiplyBy(y);h.panBy(je,{animate:!1}),this._draggable._newPos._add(je),this._draggable._startPos._add(je),zt(u._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=ae(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,i)))},_onDrag:function(i){var u=this._marker,h=u._shadow,y=ni(u._icon),b=u._map.layerPointToLatLng(y);h&&zt(h,y),u._latlng=b,i.latlng=b,i.oldLatLng=this._oldLatLng,u.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),tr=da.extend({options:{icon:new Ws,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,u){A(this,u),this._latlng=J(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var u=this._latlng;return this._latlng=J(i),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),Je(h,u),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(h,"focus",this._panOnFocus,this);var b=i.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(Je(b,u),b.alt=""),this._shadow=b,i.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&zt(this._icon,i),this._shadow&&zt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Pt(this._icon,i),this._shadow&&Pt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var u=this.options.icon.options,h=u.iconSize?ee(u.iconSize):ee(0,0),y=u.iconAnchor?ee(u.iconAnchor):ee(0,0);i.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nu(i,u){return new tr(i,u)}var Ea=da.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return A(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),as=Ea.extend({options:{fill:!0,radius:10},initialize:function(i,u){A(this,u),this._latlng=J(i),this._radius=this.options.radius},setLatLng:function(i){var u=this._latlng;return this._latlng=J(i),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var u=i&&i.radius||this._radius;return Ea.prototype.setStyle.call(this,i),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,u=this._radiusY||i,h=this._clickTolerance(),y=[i+h,u+h];this._pxBounds=new O(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Su(i,u){return new as(i,u)}var Gr=as.extend({initialize:function(i,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=J(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Ea.prototype.setStyle,_project:function(){var i=this._latlng.lng,u=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===Be.distance){var b=Math.PI/180,E=this._mRadius/Be.R/b,P=h.project([u+E,i]),se=h.project([u-E,i]),me=P.add(se).divideBy(2),je=h.unproject(me).lat,Ce=Math.acos((Math.cos(E*b)-Math.sin(u*b)*Math.sin(je*b))/(Math.cos(u*b)*Math.cos(je*b)))/b;(isNaN(Ce)||Ce===0)&&(Ce=E/Math.cos(Math.PI/180*u)),this._point=me.subtract(h.getPixelOrigin()),this._radius=isNaN(Ce)?0:me.x-h.project([je,i-Ce]).x,this._radiusY=me.y-P.y}else{var Ie=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ie).x}this._updateBounds()}});function ju(i,u,h){return new Gr(i,u,h)}var Qa=Ea.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,u){A(this,u),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var u=1/0,h=null,y=Xs,b,E,P=0,se=this._parts.length;P<se;P++)for(var me=this._parts[P],je=1,Ce=me.length;je<Ce;je++){b=me[je-1],E=me[je];var Ie=y(i,b,E,!0);Ie<u&&(u=Ie,h=y(i,b,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return es(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,u){return u=u||this._defaultShape(),i=J(i),u.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new R,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var u=[],h=Vn(i),y=0,b=i.length;y<b;y++)h?(u[y]=J(i[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(i[y]);return u},_project:function(){var i=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),u=new de(i,i);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(i,u,h){var y=i[0]instanceof ge,b=i.length,E,P;if(y){for(P=[],E=0;E<b;E++)P[E]=this._map.latLngToLayerPoint(i[E]),h.extend(P[E]);u.push(P)}else for(E=0;E<b;E++)this._projectLatlngs(i[E],u,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,y,b,E,P,se,me;for(h=0,b=0,E=this._rings.length;h<E;h++)for(me=this._rings[h],y=0,P=me.length;y<P-1;y++)se=xu(me[y],me[y+1],i,y,!0),se&&(u[b]=u[b]||[],u[b].push(se[0]),(se[1]!==me[y+1]||y===P-2)&&(u[b].push(se[1]),b++))}},_simplifyPoints:function(){for(var i=this._parts,u=this.options.smoothFactor,h=0,y=i.length;h<y;h++)i[h]=mu(i[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,u){var h,y,b,E,P,se,me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,E=this._parts.length;h<E;h++)for(se=this._parts[h],y=0,P=se.length,b=P-1;y<P;b=y++)if(!(!u&&y===0)&&pu(i,se[b],se[y])<=me)return!0;return!1}});function Ed(i,u){return new Qa(i,u)}Qa._flat=Kr;var is=Qa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var u=Qa.prototype._convertLatLngs.call(this,i),h=u.length;return h>=2&&u[0]instanceof ge&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(i){Qa.prototype._setLatLngs.call(this,i),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,u=this.options.weight,h=new de(u,u);if(i=new O(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,b=this._rings.length,E;y<b;y++)E=hu(this._rings[y],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var u=!1,h,y,b,E,P,se,me,je;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,me=this._parts.length;E<me;E++)for(h=this._parts[E],P=0,je=h.length,se=je-1;P<je;se=P++)y=h[P],b=h[se],y.y>i.y!=b.y>i.y&&i.x<(b.x-y.x)*(i.y-y.y)/(b.y-y.y)+y.x&&(u=!u);return u||Qa.prototype._containsPoint.call(this,i,!0)}});function Td(i,u){return new is(i,u)}var Va=ja.extend({initialize:function(i,u){A(this,u),this._layers={},i&&this.addData(i)},addData:function(i){var u=U(i)?i:i.features,h,y,b;if(u){for(h=0,y=u.length;h<y;h++)b=u[h],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var P=Nn(i,E);return P?(P.feature=Xr(i),P.defaultOptions=P.options,this.resetStyle(P),E.onEachFeature&&E.onEachFeature(i,P),this.addLayer(P)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=d({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(u){this._setLayerStyle(u,i)},this)},_setLayerStyle:function(i,u){i.setStyle&&(typeof u=="function"&&(u=u(i.feature)),i.setStyle(u))}});function Nn(i,u){var h=i.type==="Feature"?i.geometry:i,y=h?h.coordinates:null,b=[],E=u&&u.pointToLayer,P=u&&u.coordsToLatLng||Yr,se,me,je,Ce;if(!y&&!h)return null;switch(h.type){case"Point":return se=P(y),ss(E,i,se,u);case"MultiPoint":for(je=0,Ce=y.length;je<Ce;je++)se=P(y[je]),b.push(ss(E,i,se,u));return new ja(b);case"LineString":case"MultiLineString":return me=nr(y,h.type==="LineString"?0:1,P),new Qa(me,u);case"Polygon":case"MultiPolygon":return me=nr(y,h.type==="Polygon"?1:2,P),new is(me,u);case"GeometryCollection":for(je=0,Ce=h.geometries.length;je<Ce;je++){var Ie=Nn({geometry:h.geometries[je],type:"Feature",properties:i.properties},u);Ie&&b.push(Ie)}return new ja(b);case"FeatureCollection":for(je=0,Ce=h.features.length;je<Ce;je++){var tt=Nn(h.features[je],u);tt&&b.push(tt)}return new ja(b);default:throw new Error("Invalid GeoJSON object.")}}function ss(i,u,h,y){return i?i(u,h):new tr(h,y&&y.markersInheritOptions&&y)}function Yr(i){return new ge(i[1],i[0],i[2])}function nr(i,u,h){for(var y=[],b=0,E=i.length,P;b<E;b++)P=u?nr(i[b],u-1,h):(h||Yr)(i[b]),y.push(P);return y}function $r(i,u){return i=J(i),i.alt!==void 0?[k(i.lng,u),k(i.lat,u),k(i.alt,u)]:[k(i.lng,u),k(i.lat,u)]}function ar(i,u,h,y){for(var b=[],E=0,P=i.length;E<P;E++)b.push(u?ar(i[E],Vn(i[E])?0:u-1,h,y):$r(i[E],y));return!u&&h&&b.length>0&&b.push(b[0].slice()),b}function si(i,u){return i.feature?d({},i.feature,{geometry:u}):Xr(u)}function Xr(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ri={toGeoJSON:function(i){return si(this,{type:"Point",coordinates:$r(this.getLatLng(),i)})}};tr.include(ri),Gr.include(ri),as.include(ri),Qa.include({toGeoJSON:function(i){var u=!Vn(this._latlngs),h=ar(this._latlngs,u?1:0,!1,i);return si(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),is.include({toGeoJSON:function(i){var u=!Vn(this._latlngs),h=u&&!Vn(this._latlngs[0]),y=ar(this._latlngs,h?2:u?1:0,!0,i);return u||(y=[y]),si(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),ns.include({toMultiPoint:function(i){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(i).geometry.coordinates)}),si(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(i){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(i);var h=u==="GeometryCollection",y=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(i);if(h)y.push(E.geometry);else{var P=Xr(E);P.type==="FeatureCollection"?y.push.apply(y,P.features):y.push(P)}}}),h?si(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Jr(i,u){return new Va(i,u)}var ir=Jr,rs=da.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,u,h){this._url=i,this._bounds=H(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&yn(this._image),this},bringToBack:function(){return this._map&&Si(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=H(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",u=this._image=i?this._url:it("img");if(Je(u,"leaflet-image-layer"),this._zoomAnimated&&Je(u,"leaflet-zoom-animated"),this.options.className&&Je(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(i){var u=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Fa(this._image,h,u)},_reset:function(){var i=this._image,u=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();zt(i,u.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),wu=function(i,u,h){return new rs(i,u,h)},li=rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",u=this._image=i?this._url:it("video");if(Je(u,"leaflet-image-layer"),this._zoomAnimated&&Je(u,"leaflet-zoom-animated"),this.options.className&&Je(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=p(this.fire,this,"load"),i){for(var h=u.getElementsByTagName("source"),y=[],b=0;b<h.length;b++)y.push(h[b].src);this._url=h.length>0?y:[u.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var P=it("source");P.src=this._url[E],u.appendChild(P)}}});function ls(i,u,h){return new li(i,u,h)}var Wr=rs.extend({_initImage:function(){var i=this._image=this._url;Je(i,"leaflet-image-layer"),this._zoomAnimated&&Je(i,"leaflet-zoom-animated"),this.options.className&&Je(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function Eu(i,u,h){return new Wr(i,u,h)}var Sn=da.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,u){i&&(i instanceof ge||U(i))?(this._latlng=J(i),A(this,u)):(A(this,i),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Pt(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Pt(this._container,0),this._removeTimeout=setTimeout(p(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(Zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=J(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yn(this._container),this},bringToBack:function(){return this._map&&Si(this._container),this},_prepareOpen:function(i){var u=this._source;if(!u._map)return!1;if(u instanceof ja){u=null;var h=this._source._layers;for(var y in h)if(h[y]._map){u=h[y];break}if(!u)return!1;this._source=u}if(!i)if(u.getCenter)i=u.getCenter();else if(u.getLatLng)i=u.getLatLng();else if(u.getBounds)i=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")i.innerHTML=u;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),u=ee(this.options.offset),h=this._getAnchor();this._zoomAnimated?zt(this._container,i.add(h)):u=u.add(i).add(h);var y=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(i,u,h,y){var b=u;return b instanceof i||(b=new i(y).setContent(u)),h&&b.setLatLng(h),b}}),da.include({_initOverlay:function(i,u,h,y){var b=h;return b instanceof i?(A(b,y),b._source=this):(b=u&&!y?u:new i(y,this),b.setContent(h)),b}});var sr=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Sn.prototype.openOn.call(this,i)},onAdd:function(i){Sn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ea||this._source.on("preclick",ca))},onRemove:function(i){Sn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ea||this._source.off("preclick",ca))},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",u=this._container=it("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=it("div",i+"-content-wrapper",u);if(this._contentNode=it("div",i+"-content",h),wi(u),Na(this._contentNode),Qe(u,"contextmenu",ca),this._tipContainer=it("div",i+"-tip-container",u),this._tip=it("div",i+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=it("a",i+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Qe(y,"click",function(b){Xt(b),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,u=i.style;u.width="",u.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var y=i.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&y>b?(u.height=b+"px",Je(i,E)):Zt(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();zt(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,u=parseInt(Fs(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,y=this._containerWidth,b=new de(this._containerLeft,-h-this._containerBottom);b._add(ni(this._container));var E=i.layerPointToContainerPoint(b),P=ee(this.options.autoPanPadding),se=ee(this.options.autoPanPaddingTopLeft||P),me=ee(this.options.autoPanPaddingBottomRight||P),je=i.getSize(),Ce=0,Ie=0;E.x+y+me.x>je.x&&(Ce=E.x+y-je.x+me.x),E.x-Ce-se.x<0&&(Ce=E.x-se.x),E.y+h+me.y>je.y&&(Ie=E.y+h-je.y+me.y),E.y-Ie-se.y<0&&(Ie=E.y-se.y),(Ce||Ie)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Ce,Ie]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tu=function(i,u){return new sr(i,u)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(i,u,h){return this._initOverlay(sr,i,u,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),da.include({bindPopup:function(i,u){return this._popup=this._initOverlay(sr,this._popup,i,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ja||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ai(i);var u=i.layer||i.target;if(this._popup._source===u&&!(u instanceof Ea)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=u,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var rr=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Sn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Sn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",u=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var u,h,y=this._map,b=this._container,E=y.latLngToContainerPoint(y.getCenter()),P=y.layerPointToContainerPoint(i),se=this.options.direction,me=b.offsetWidth,je=b.offsetHeight,Ce=ee(this.options.offset),Ie=this._getAnchor();se==="top"?(u=me/2,h=je):se==="bottom"?(u=me/2,h=0):se==="center"?(u=me/2,h=je/2):se==="right"?(u=0,h=je/2):se==="left"?(u=me,h=je/2):P.x<E.x?(se="right",u=0,h=je/2):(se="left",u=me+(Ce.x+Ie.x)*2,h=je/2),i=i.subtract(ee(u,h,!0)).add(Ce).add(Ie),Zt(b,"leaflet-tooltip-right"),Zt(b,"leaflet-tooltip-left"),Zt(b,"leaflet-tooltip-top"),Zt(b,"leaflet-tooltip-bottom"),Je(b,"leaflet-tooltip-"+se),zt(b,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Pt(this._container,i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(u)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kd=function(i,u){return new rr(i,u)};ot.include({openTooltip:function(i,u,h){return this._initOverlay(rr,i,u,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),da.include({bindTooltip:function(i,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rr,this._tooltip,i,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var u=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ja||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&(Qe(u,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Qe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var u=i.latlng,h,y;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),y=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var ku=wa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var u=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Kn(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=ee(h.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Cd(i){return new ku(i)}wa.Default=Ws;var os=da.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){A(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),wt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof de?i:new de(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var u=this.getPane().children,h=-i(-1/0,1/0),y=0,b=u.length,E;y<b;y++)E=u[y].style.zIndex,u[y]!==this._container&&E&&(h=i(h,+E));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){Pt(this._container,this.options.opacity);var i=+new Date,u=!1,h=!1;for(var y in this._tiles){var b=this._tiles[y];if(!(!b.current||!b.loaded)){var E=Math.min(1,(i-b.loaded)/200);Pt(b.el,E),E<1?u=!0:(b.active?h=!0:this._onOpaqueTile(b),b.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=u-Math.abs(i-h),this._onUpdateLevel(h)):(wt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[i],b=this._map;return y||(y=this._levels[i]={},y.el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=b.project(b.unproject(b.getPixelOrigin()),i).round(),y.zoom=i,this._setZoomTransform(y,b.getCenter(),b.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)u=this._tiles[i],u.retain=u.current;for(i in this._tiles)if(u=this._tiles[i],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var u in this._tiles)this._tiles[u].coords.z===i&&this._removeTile(u)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)wt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,u,h,y){var b=Math.floor(i/2),E=Math.floor(u/2),P=h-1,se=new de(+b,+E);se.z=+P;var me=this._tileCoordsToKey(se),je=this._tiles[me];return je&&je.active?(je.retain=!0,!0):(je&&je.loaded&&(je.retain=!0),P>y?this._retainParent(b,E,P,y):!1)},_retainChildren:function(i,u,h,y){for(var b=2*i;b<2*i+2;b++)for(var E=2*u;E<2*u+2;E++){var P=new de(b,E);P.z=h+1;var se=this._tileCoordsToKey(P),me=this._tiles[se];if(me&&me.active){me.retain=!0;continue}else me&&me.loaded&&(me.retain=!0);h+1<y&&this._retainChildren(b,E,h+1,y)}},_resetView:function(i){var u=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var u=this.options;return u.minNativeZoom!==void 0&&i<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<i?u.maxNativeZoom:i},_setView:function(i,u,h,y){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!y||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,u)},_setZoomTransforms:function(i,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,u)},_setZoomTransform:function(i,u,h){var y=this._map.getZoomScale(h,i.zoom),b=i.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,h)).round();Re.any3d?Fa(i.el,b,y):zt(i.el,b)},_resetGrid:function(){var i=this._map,u=i.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,u.wrapLng[0]],y).x/h.x),Math.ceil(i.project([0,u.wrapLng[1]],y).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([u.wrapLat[0],0],y).y/h.x),Math.ceil(i.project([u.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(h,this._tileZoom),b=u.project(i,this._tileZoom).floor(),E=u.getSize().divideBy(y*2);return new O(b.subtract(E),b.add(E))},_update:function(i){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(i===void 0&&(i=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(i),b=this._pxBoundsToTileRange(y),E=b.getCenter(),P=[],se=this.options.keepBuffer,me=new O(b.getBottomLeft().subtract([se,-se]),b.getTopRight().add([se,-se]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var je in this._tiles){var Ce=this._tiles[je].coords;(Ce.z!==this._tileZoom||!me.contains(new de(Ce.x,Ce.y)))&&(this._tiles[je].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Ie=b.min.y;Ie<=b.max.y;Ie++)for(var tt=b.min.x;tt<=b.max.x;tt++){var xn=new de(tt,Ie);if(xn.z=this._tileZoom,!!this._isValidTile(xn)){var Jt=this._tiles[this._tileCoordsToKey(xn)];Jt?Jt.current=!0:P.push(xn)}}if(P.sort(function(ft,mt){return ft.distanceTo(E)-mt.distanceTo(E)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(tt=0;tt<P.length;tt++)this._addTile(P[tt],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(i){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!u.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(i);return H(this.options.bounds).overlaps(y)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var u=this._map,h=this.getTileSize(),y=i.scaleBy(h),b=y.add(h),E=u.unproject(y,i.z),P=u.unproject(b,i.z);return[E,P]},_tileCoordsToBounds:function(i){var u=this._tileCoordsToNwSe(i),h=new R(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var u=i.split(":"),h=new de(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(i){var u=this._tiles[i];u&&(wt(u.el),delete this._tiles[i],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Je(i,"leaflet-tile");var u=this.getTileSize();i.style.width=u.x+"px",i.style.height=u.y+"px",i.onselectstart=w,i.onmousemove=w,Re.ielt9&&this.options.opacity<1&&Pt(i,this.options.opacity)},_addTile:function(i,u){var h=this._getTilePos(i),y=this._tileCoordsToKey(i),b=this.createTile(this._wrapCoords(i),p(this._tileReady,this,i));this._initTile(b),this.createTile.length<2&&ae(p(this._tileReady,this,i,null,b)),zt(b,h),this._tiles[y]={el:b,coords:i,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:i})},_tileReady:function(i,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:i});var y=this._tileCoordsToKey(i);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Pt(h.el,0),ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(Je(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var u=new de(this._wrapX?j(i.x,this._wrapX):i.x,this._wrapY?j(i.y,this._wrapY):i.y);return u.z=i.z,u},_pxBoundsToTileRange:function(i){var u=this.getTileSize();return new O(i.min.unscaleBy(u).floor(),i.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Cu(i){return new os(i)}var oi=os.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,u){this._url=i,u=A(this,u),u.detectRetina&&Re.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,u){return this._url===i&&u===void 0&&(u=!0),this._url=i,u||this.redraw(),this},createTile:function(i,u){var h=document.createElement("img");return Qe(h,"load",p(this._tileOnLoad,this,u,h)),Qe(h,"error",p(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var u={r:Re.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(u.y=h),u["-y"]=h}return B(this._url,d(u,this.options))},_tileOnLoad:function(i,u){Re.ielt9?setTimeout(p(i,this,null,u),0):i(null,u)},_tileOnError:function(i,u,h){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),i(h,u)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(i=u-i),i+y},_getSubdomain:function(i){var u=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var i,u;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(u=this._tiles[i].el,u.onload=w,u.onerror=w,!u.complete)){u.src=$;var h=this._tiles[i].coords;wt(u),delete this._tiles[i],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(i){var u=this._tiles[i];if(u)return u.el.setAttribute("src",$),os.prototype._removeTile.call(this,i)},_tileReady:function(i,u,h){if(!(!this._map||h&&h.getAttribute("src")===$))return os.prototype._tileReady.call(this,i,u,h)}});function Gn(i,u){return new oi(i,u)}var lr=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,u){this._url=i;var h=d({},this.defaultWmsParams);for(var y in u)y in this.options||(h[y]=u[y]);u=A(this,u);var b=u.detectRetina&&Re.retina?2:1,E=this.getTileSize();h.width=E.x*b,h.height=E.y*b,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,oi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var u=this._tileCoordsToNwSe(i),h=this._crs,y=ie(h.project(u[0]),h.project(u[1])),b=y.min,E=y.max,P=(this._wmsVersion>=1.3&&this._crs===no?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),se=oi.prototype.getTileUrl.call(this,i);return se+M(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(i,u){return d(this.wmsParams,i),u||this.redraw(),this}});function Yn(i,u){return new lr(i,u)}oi.WMS=lr,Gn.wms=Yn;var Ln=da.extend({options:{padding:.1},initialize:function(i){A(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,u){var h=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),E=y.multiplyBy(-h).add(b).subtract(this._map._getNewPixelOrigin(i,u));Re.any3d?Fa(this._container,E,h):zt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-i)).round();this._bounds=new O(h,h.add(u.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),el=Ln.extend({options:{tolerance:0},getEvents:function(){var i=Ln.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Qe(i,"mousemove",this._onMouseMove,this),Qe(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qe(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,wt(this._container),vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var u in this._layers)i=this._layers[u],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var i=this._bounds,u=this._container,h=i.getSize(),y=Re.retina?2:1;zt(u,i.min),u.width=y*h.x,u.height=y*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var u=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var u=i._order,h=u.next,y=u.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var u=i.options.dashArray.split(/[, ]+/),h=[],y,b;for(b=0;b<u.length;b++){if(y=Number(u[b]),isNaN(y))return;h.push(y)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var u=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(i._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(i._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var u=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)i=y.layer,(!u||i._pxBounds&&i._pxBounds.intersects(u))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,u){if(this._drawing){var h,y,b,E,P=i._parts,se=P.length,me=this._ctx;if(se){for(me.beginPath(),h=0;h<se;h++){for(y=0,b=P[h].length;y<b;y++)E=P[h][y],me[y?"lineTo":"moveTo"](E.x,E.y);u&&me.closePath()}this._fillStroke(me,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var u=i._point,h=this._ctx,y=Math.max(Math.round(i._radius),1),b=(Math.max(Math.round(i._radiusY),1)||y)/y;b!==1&&(h.save(),h.scale(1,b)),h.beginPath(),h.arc(u.x,u.y/b,y,0,Math.PI*2,!1),b!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,u){var h=u.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(u.options&&u.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var u=this._map.mouseEventToLayerPoint(i),h,y,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(u)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,u)}},_handleMouseOut:function(i){var u=this._hoveredLayer;u&&(Zt(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,u){if(!this._mouseHoverThrottled){for(var h,y,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(u)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(i),y&&(Je(this._container,"leaflet-interactive"),this._fireEvent([y],i,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,u,h){this._map._fireDOMEvent(u,h||u.type,i)},_bringToFront:function(i){var u=i._order;if(u){var h=u.next,y=u.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(i)}},_bringToBack:function(i){var u=i._order;if(u){var h=u.next,y=u.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(i)}}});function or(i){return Re.canvas?new el(i):null}var ui=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ao={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var u=i._container=ui("shape");Je(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",i._path=ui("path"),u.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var u=i._container;this._container.appendChild(u),i.options.interactive&&i.addInteractiveTarget(u)},_removePath:function(i){var u=i._container;wt(u),i.removeInteractiveTarget(u),delete this._layers[v(i)]},_updateStyle:function(i){var u=i._stroke,h=i._fill,y=i.options,b=i._container;b.stroked=!!y.stroke,b.filled=!!y.fill,y.stroke?(u||(u=i._stroke=ui("stroke")),b.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=U(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(b.removeChild(u),i._stroke=null),y.fill?(h||(h=i._fill=ui("fill")),b.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(b.removeChild(h),i._fill=null)},_updateCircle:function(i){var u=i._point.round(),h=Math.round(i._radius),y=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(i,u){i._path.v=u},_bringToFront:function(i){yn(i._container)},_bringToBack:function(i){Si(i._container)}},Ta=Re.vml?ui:an,us=Ln.extend({_initContainer:function(){this._container=Ta("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ta("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var i=this._bounds,u=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),zt(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(i){var u=i._path=Ta("path");i.options.className&&Je(u,i.options.className),i.options.interactive&&Je(u,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){wt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var u=i._path,h=i.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(i,u){this._setPath(i,Yt(i._parts,u))},_updateCircle:function(i){var u=i._point,h=Math.max(Math.round(i._radius),1),y=Math.max(Math.round(i._radiusY),1)||h,b="a"+h+","+y+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(u.x-h)+","+u.y+b+h*2+",0 "+b+-h*2+",0 ";this._setPath(i,E)},_setPath:function(i,u){i._path.setAttribute("d",u)},_bringToFront:function(i){yn(i._path)},_bringToBack:function(i){Si(i._path)}});Re.vml&&us.include(ao);function ur(i){return Re.svg||Re.vml?new us(i):null}ot.include({getRenderer:function(i){var u=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var u=this._paneRenderers[i];return u===void 0&&(u=this._createRenderer({pane:i}),this._paneRenderers[i]=u),u},_createRenderer:function(i){return this.options.preferCanvas&&or(i)||ur(i)}});var Ti=is.extend({initialize:function(i,u){is.prototype.initialize.call(this,this._boundsToLatLngs(i),u)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=H(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Ad(i,u){return new Ti(i,u)}us.create=Ta,us.pointsToPath=Yt,Va.geometryToLayer=Nn,Va.coordsToLatLng=Yr,Va.coordsToLatLngs=nr,Va.latLngToCoords=$r,Va.latLngsToCoords=ar,Va.getFeature=si,Va.asFeature=Xr,ot.mergeOptions({boxZoom:!0});var Dn=Sa.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yi(),Ur(),this._startPoint=this._map.mouseEventToContainerPoint(i),Qe(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var u=new O(this._point,this._startPoint),h=u.getSize();zt(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(wt(this._box),Zt(this._container,"leaflet-crosshair")),ba(),Ks(),vt(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",Dn),ot.mergeOptions({doubleClickZoom:!0});var tl=Sa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var u=this._map,h=u.getZoom(),y=u.options.zoomDelta,b=i.originalEvent.shiftKey?h-y:h+y;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(i.containerPoint,b)}});ot.addInitHook("addHandler","doubleClickZoom",tl),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ka=Sa.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ii(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Zt(this._map._container,"leaflet-grab"),Zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=H(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,u){return i-(i-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;i.x<u.min.x&&(i.x=this._viscousLimit(i.x,u.min.x)),i.y<u.min.y&&(i.y=this._viscousLimit(i.y,u.min.y)),i.x>u.max.x&&(i.x=this._viscousLimit(i.x,u.max.x)),i.y>u.max.y&&(i.y=this._viscousLimit(i.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,u=Math.round(i/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,b=(y-u+h)%i+u-h,E=(y+u+h)%i-u-h,P=Math.abs(b+h)<Math.abs(E+h)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(i){var u=this._map,h=u.options,y=!h.inertia||i.noInertia||this._times.length<2;if(u.fire("dragend",i),y)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,P=h.easeLinearity,se=b.multiplyBy(P/E),me=se.distanceTo([0,0]),je=Math.min(h.inertiaMaxSpeed,me),Ce=se.multiplyBy(je/me),Ie=je/(h.inertiaDeceleration*P),tt=Ce.multiplyBy(-Ie/2).round();!tt.x&&!tt.y?u.fire("moveend"):(tt=u._limitOffset(tt,u.options.maxBounds),ae(function(){u.panBy(tt,{duration:Ie,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",ka),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=Sa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Qe(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,u=document.documentElement,h=i.scrollTop||u.scrollTop,y=i.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var u=this._panKeys={},h=this.keyCodes,y,b;for(y=0,b=h.left.length;y<b;y++)u[h.left[y]]=[-1*i,0];for(y=0,b=h.right.length;y<b;y++)u[h.right[y]]=[i,0];for(y=0,b=h.down.length;y<b;y++)u[h.down[y]]=[0,i];for(y=0,b=h.up.length;y<b;y++)u[h.up[y]]=[0,-1*i]},_setZoomDelta:function(i){var u=this._zoomKeys={},h=this.keyCodes,y,b;for(y=0,b=h.zoomIn.length;y<b;y++)u[h.zoomIn[y]]=i;for(y=0,b=h.zoomOut.length;y<b;y++)u[h.zoomOut[y]]=-i},_addHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var u=i.keyCode,h=this._map,y;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[u],i.shiftKey&&(y=ee(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(ee(y),h.options.maxBounds)),h.options.worldCopyJump){var b=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(b)}else h.panBy(y)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ai(i)}}});ot.addInitHook("addHandler","keyboard",io),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cr=Sa.extend({addHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var u=En(i),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),y),ai(i)},_performZoom:function(){var i=this._map,u=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,E=h?Math.ceil(b/h)*h:b,P=i._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,P&&(i.options.scrollWheelZoom==="center"?i.setZoom(u+P):i.setZoomAround(this._lastMousePos,u+P))}});ot.addInitHook("addHandler","scrollWheelZoom",cr);var ki=600;ot.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var nl=Sa.extend({addHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var u=i.touches[0];this._startPos=this._newPos=new de(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Qe(document,"touchend",Xt),Qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),ki),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){vt(document,"touchend",Xt),vt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)},_onMove:function(i){var u=i.touches[0];this._newPos=new de(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,u){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});ot.addInitHook("addHandler","tapHold",nl),ot.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var so=Sa.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Zt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var u=this._map;if(!(!i.touches||i.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(i.touches[0]),y=u.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),Xt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(i.touches[0]),y=u.mouseEventToContainerPoint(i.touches[1]),b=h.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var P=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(P,this,!0),Xt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",so),ot.BoxZoom=Dn,ot.DoubleClickZoom=tl,ot.Drag=ka,ot.Keyboard=io,ot.ScrollWheelZoom=cr,ot.TapHold=nl,ot.TouchZoom=so,l.Bounds=O,l.Browser=Re,l.CRS=Te,l.Canvas=el,l.Circle=Gr,l.CircleMarker=as,l.Class=q,l.Control=Un,l.DivIcon=ku,l.DivOverlay=Sn,l.DomEvent=Fr,l.DomUtil=Ji,l.Draggable=ii,l.Evented=re,l.FeatureGroup=ja,l.GeoJSON=Va,l.GridLayer=os,l.Handler=Sa,l.Icon=wa,l.ImageOverlay=rs,l.LatLng=ge,l.LatLngBounds=R,l.Layer=da,l.LayerGroup=ns,l.LineUtil=jd,l.Map=ot,l.Marker=tr,l.Mixin=_d,l.Path=Ea,l.Point=de,l.PolyUtil=eo,l.Polygon=is,l.Polyline=Qa,l.Popup=sr,l.PosAnimation=Wi,l.Projection=vu,l.Rectangle=Ti,l.Renderer=Ln,l.SVG=us,l.SVGOverlay=Wr,l.TileLayer=oi,l.Tooltip=rr,l.Transformation=at,l.Util=oe,l.VideoOverlay=li,l.bind=p,l.bounds=ie,l.canvas=or,l.circle=ju,l.circleMarker=Su,l.control=Ka,l.divIcon=Cd,l.extend=d,l.featureGroup=bu,l.geoJSON=Jr,l.geoJson=ir,l.gridLayer=Cu,l.icon=Js,l.imageOverlay=wu,l.latLng=J,l.latLngBounds=H,l.layerGroup=wd,l.map=Gl,l.marker=Nu,l.point=ee,l.polygon=Td,l.polyline=Ed,l.popup=Tu,l.rectangle=Ad,l.setOptions=A,l.stamp=v,l.svg=ur,l.svgOverlay=Eu,l.tileLayer=Gn,l.tooltip=kd,l.transformation=Ut,l.version=o,l.videoOverlay=ls;var ro=window.L;l.noConflict=function(){return window.L=ro,this},window.L=l}))})(Vo,Vo.exports)),Vo.exports}var QA=KA();const Fi=ad(QA);function VA(t){return t==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:t==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function GA({markers:t}){const a=S.useRef(null),l=S.useRef(null),o=S.useRef(null);return S.useEffect(()=>{if(!a.current||l.current)return;const d=t[0]?.lat??41.015137,f=t[0]?.lon??28.97953,p=Fi.map(a.current,{center:[d,f],zoom:14,zoomControl:!0});return l.current=p,Fi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(p),o.current=Fi.layerGroup().addTo(p),()=>{l.current&&(l.current.remove(),l.current=null),o.current=null}},[t]),S.useEffect(()=>{if(!l.current||!o.current)return;const d=l.current,f=o.current;if(f.clearLayers(),!t.length)return;const p=[],x=new Map;for(const _ of t){const j=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`;x.set(j,(x.get(j)??0)+1)}const v=new Map;for(const _ of t){const j=`${_.lat.toFixed(6)}:${_.lon.toFixed(6)}`,w=x.get(j)??1,k=v.get(j)??0;v.set(j,k+1);let z=_.lat,C=_.lon;if(w>1){const M=2*Math.PI*k/w,F=12e-5;z=_.lat+Math.sin(M)*F,C=_.lon+Math.cos(M)*F}const A=VA(_.kind);Fi.circleMarker([z,C],A).bindPopup(`${_.label}<br/>${_.lat.toFixed(6)}, ${_.lon.toFixed(6)}`).addTo(f),p.push([z,C])}if(p.length===1){d.setView(p[0],16,{animate:!0});return}d.fitBounds(Fi.latLngBounds(p),{padding:[24,24],maxZoom:17,animate:!0})},[t]),r.jsx("div",{ref:a,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const YA=Pa({home_lat:mn().min(-90),home_lon:mn().min(-180),radius_m:mn().int().positive().max(2e3)}),$A=Pa({expires_in_minutes:mn().int().positive().max(1440)});function qi(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function XA(t){return t==="OK"?"Tamam":t==="INCOMPLETE"?"Eksik":t==="LEAVE"?"Izinli":"Tatilde"}function mv(t,a){return t===null||a===null?"-":`${t.toFixed(6)}, ${a.toFixed(6)}`}function JA(){const t=HS(),a=Rl(),l=zn(),{pushToast:o}=In(),d=new Date,f=Number(t.id),p=Number.isFinite(f)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(f),[x,v]=S.useState("41.0"),[_,j]=S.useState("29.0"),[w,k]=S.useState("120"),[z,C]=S.useState(null),[A,M]=S.useState(""),[F,B]=S.useState(""),[U,K]=S.useState(""),[$,G]=S.useState(String(d.getFullYear())),[W,Y]=S.useState(String(d.getMonth()+1)),[X,ve]=S.useState(null),[ae,ce]=S.useState({checkin:!0,checkout:!0,latest:!0}),[oe,q]=S.useState(!1),[le,Z]=S.useState("60"),[re,de]=S.useState(null),[Ee,ee]=S.useState(null),[O,ie]=S.useState(null),R=Ue({queryKey:["employee-detail",f],queryFn:()=>OE(f),enabled:Number.isFinite(f)}),H=R.data?.employee,ge=Ue({queryKey:["departments","employee-detail-edit"],queryFn:()=>Rs(),enabled:Number.isFinite(f)}),J=Ue({queryKey:["department-shifts",H?.department_id],queryFn:()=>lu(H?.department_id?{department_id:H.department_id,active_only:!1}:void 0),enabled:!!H?.department_id}),Te=Number($),Be=Number(W),Ze=Number.isFinite(Te)&&Number.isFinite(Be)&&Be>=1&&Be<=12,dt=Ue({queryKey:["employee-monthly",f,Te,Be],queryFn:()=>fm({employee_id:f,year:Te,month:Be}),enabled:Number.isFinite(f)&&Ze}),at=Ue({queryKey:["employee-monthly-current",f,d.getFullYear(),d.getMonth()+1],queryFn:()=>fm({employee_id:f,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(f)}),Ut=Ke({mutationFn:ue=>DE(f,ue),onSuccess:()=>{C(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${f} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",f]})},onError:ue=>{const Xe=De(ue,"Konum kaydedilemedi.").message;C(Xe),o({variant:"error",title:"Konum kaydedilemedi",description:Xe})}}),Lt=Ke({mutationFn:ue=>t_(f,{is_active:ue}),onSuccess:ue=>{o({variant:"success",title:ue.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${ue.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",f]})},onError:ue=>{o({variant:"error",title:"Durum guncellenemedi",description:De(ue,"Islem basarisiz.").message})}}),Gt=Ke({mutationFn:ue=>ME(f,ue),onSuccess:ue=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${ue.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",f]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",ue.department_id]})},onError:ue=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:De(ue,"Islem basarisiz.").message})}}),an=Ke({mutationFn:ue=>RE(f,{shift_id:ue}),onSuccess:ue=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${ue.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",f]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:ue=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:De(ue,"Islem basarisiz.").message})}}),Yt=Ke({mutationFn:u_,onSuccess:ue=>{de(null),ee(ue.token),ie(ue.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${f} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",f]})},onError:ue=>{const Xe=De(ue,"Cihaz daveti olusturulamadi.").message;de(Xe),o({variant:"error",title:"Davet olusturulamadi",description:Xe})}});S.useEffect(()=>{R.data?.home_location&&(v(String(R.data.home_location.home_lat)),j(String(R.data.home_location.home_lon)),k(String(R.data.home_location.radius_m)))},[R.data?.home_location]),S.useEffect(()=>{H&&M(H.shift_id?String(H.shift_id):"")},[H]),S.useEffect(()=>{H&&(B(H.full_name),K(H.department_id?String(H.department_id):""))},[H]),S.useEffect(()=>{Number.isFinite(f)&&(p||a("/employees",{replace:!0}))},[f,p,a]);const ln=async ue=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(ue);else{const Xe=document.createElement("textarea");Xe.value=ue,document.body.appendChild(Xe),Xe.select(),document.execCommand("copy"),document.body.removeChild(Xe)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},on=()=>{de(null),ee(null),ie(null),Z("60"),q(!0)},bn=ue=>{ue.preventDefault(),de(null);const Xe=$A.safeParse({expires_in_minutes:le});if(!Xe.success){const yt=Xe.error.issues[0]?.message??"Sure alanini kontrol edin.";de(yt),o({variant:"error",title:"Form hatasi",description:yt});return}Yt.mutate({employee_id:f,expires_in_minutes:Xe.data.expires_in_minutes})},te=ue=>{ue.preventDefault(),C(null);const Xe=YA.safeParse({home_lat:x,home_lon:_,radius_m:w});if(!Xe.success){const yt=Xe.error.issues[0]?.message??"Konum alanlarini kontrol edin.";C(yt),o({variant:"error",title:"Form hatasi",description:yt});return}Ut.mutate(Xe.data)},ke=ue=>{ue.preventDefault();const Xe=F.trim();if(!Xe){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const yt=U?Number(U):null;if(U&&(yt===null||!Number.isFinite(yt)||yt<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}Gt.mutate({full_name:Xe,department_id:yt})},Ge=dt.data?.days??[],At=R.data?.ip_summary??[];S.useEffect(()=>{if(!X)return;Ge.some(Xe=>Xe.date===X)||ve(null)},[Ge,X]);const Ye=S.useMemo(()=>Ge.find(ue=>ue.date===X)??null,[Ge,X]),_e=S.useMemo(()=>{const ue=[];return Ye&&(Ye.in_lat!==null&&Ye.in_lon!==null&&ue.push({id:`${Ye.date}-in`,lat:Ye.in_lat,lon:Ye.in_lon,label:`${Ye.date} - Mesai Baslangici`,kind:"checkin"}),Ye.out_lat!==null&&Ye.out_lon!==null&&ue.push({id:`${Ye.date}-out`,lat:Ye.out_lat,lon:Ye.out_lon,label:`${Ye.date} - Mesai Bitisi`,kind:"checkout"})),R.data?.latest_location&&ue.push({id:"latest",lat:R.data.latest_location.lat,lon:R.data.latest_location.lon,label:"Son bildirilen konum",kind:"latest"}),ue},[R.data?.latest_location,Ye]),V=S.useMemo(()=>_e.filter(ue=>ae[ue.kind]),[_e,ae]);S.useEffect(()=>{_e.length&&(V.length||ce({checkin:!0,checkout:!0,latest:!0}))},[V.length,_e.length]);const Oe=ue=>{if(!_e.some(Dt=>Dt.kind===ue)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const yt=Object.values(ae).filter(Boolean).length;if(ae[ue]&&yt===1){ce({checkin:!0,checkout:!0,latest:!0});return}ce({checkin:ue==="checkin",checkout:ue==="checkout",latest:ue==="latest"})},jt=()=>{ce({checkin:!0,checkout:!0,latest:!0})},$e=(ue,Xe)=>{const yt=ue.in_lat!==null&&ue.in_lon!==null,Dt=ue.out_lat!==null&&ue.out_lon!==null;if(!(Xe==="in"?yt:Dt)){o({variant:"info",title:"Konum bulunamadi",description:`${ue.date} icin secilen konum kaydi yok.`});return}ve(ue.date),ce({checkin:!0,checkout:!0,latest:!0})},pn=S.useMemo(()=>`${R.data?.devices.length??0} cihaz`,[R.data?.devices.length]);return Number.isFinite(f)?p?R.isLoading?r.jsx(It,{}):R.isError||!H?r.jsx(St,{message:"Calisan kaydi bulunamadi."}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:`Calisan Detayi #${H.id}`,description:`${H.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{const ue=!H.is_active;window.confirm(ue?`${H.full_name} arsivden cikarilsin mi?`:`${H.full_name} arsivlensin mi?`)&&Lt.mutate(ue)},disabled:Lt.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${H.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:H.is_active?"Arsivle":"Arsivden Cikar"}),r.jsx("button",{type:"button",onClick:on,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),r.jsx(ze,{children:r.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),r.jsx("p",{className:"text-base font-semibold text-slate-900",children:H.full_name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",H.id]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),r.jsx(Ms,{value:H.is_active?"Aktif":"Pasif"}),r.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",H.region_name??"-"]}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",H.department_id??"-"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),r.jsx("p",{className:"text-sm font-medium text-slate-800",children:qi(R.data?.last_portal_seen_utc)}),r.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",pn]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay fazla mesai"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:r.jsx(Ct,{minutes:at.data?.totals.overtime_minutes??0})}),r.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),r.jsxs("form",{onSubmit:ke,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",r.jsx("input",{value:F,onChange:ue=>B(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:U,onChange:ue=>K(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:ge.isLoading,children:[r.jsx("option",{value:"",children:"Atanmamis"}),(ge.data??[]).map(ue=>r.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),r.jsx("button",{type:"submit",disabled:Gt.isPending||ge.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Gt.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),ge.isError?r.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),r.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",r.jsxs("select",{value:A,onChange:ue=>M(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!H.department_id||J.isLoading,children:[r.jsx("option",{value:"",children:"Atanmamis"}),(J.data??[]).map(ue=>r.jsxs("option",{value:ue.id,children:[ue.name," (",ue.start_time_local,"-",ue.end_time_local,")"]},ue.id))]})]}),r.jsx("button",{type:"button",disabled:an.isPending||!H.department_id,onClick:()=>{const ue=A?Number(A):null;an.mutate(ue)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:an.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),r.jsxs(ze,{children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",r.jsx("input",{type:"number",value:$,onChange:ue=>G(ue.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),r.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",r.jsx("input",{type:"number",min:1,max:12,value:W,onChange:ue=>Y(ue.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),Ze?dt.isLoading?r.jsx(It,{}):dt.isError?r.jsx(St,{message:De(dt.error,"Aylik puantaj alinamadi.").message}):r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:r.jsx(Ct,{minutes:dt.data?.totals.worked_minutes??0})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay fazla mesai"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:r.jsx(Ct,{minutes:dt.data?.totals.overtime_minutes??0})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:dt.data?.totals.incomplete_days??0})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Tarih"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Giris"}),r.jsx("th",{className:"py-2",children:"Cikis"}),r.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),r.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),r.jsx("th",{className:"py-2",children:"Net Sure"}),r.jsx("th",{className:"py-2",children:"Fazla Mesai"}),r.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),r.jsx("tbody",{children:Ge.map(ue=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:ue.date}),r.jsx("td",{className:"py-2",children:XA(ue.status)}),r.jsx("td",{className:"py-2",children:qi(ue.in)}),r.jsx("td",{className:"py-2",children:qi(ue.out)}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono text-xs",children:mv(ue.in_lat,ue.in_lon)}),ue.in_lat!==null&&ue.in_lon!==null?r.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>$e(ue,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Check"}):null]})}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono text-xs",children:mv(ue.out_lat,ue.out_lon)}),ue.out_lat!==null&&ue.out_lon!==null?r.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>$e(ue,"out"),title:"Mesai bitis konumunu haritada goster",children:"Check"}):null]})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:ue.worked_minutes})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:ue.overtime_minutes})}),r.jsx("td",{className:"py-2 text-xs text-slate-600",children:ue.flags.length?ue.flags.join(", "):"-"})]},ue.date))})]})})]}):r.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),r.jsx("div",{className:"mt-3 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Cihaz ID"}),r.jsx("th",{className:"py-2",children:"Parmak Izi"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Olusma"}),r.jsx("th",{className:"py-2",children:"Son Attendance"}),r.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),r.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),r.jsx("tbody",{children:(R.data?.devices??[]).map(ue=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:ue.id}),r.jsx("td",{className:"py-2 font-mono text-xs",children:ue.device_fingerprint}),r.jsx("td",{className:"py-2",children:r.jsx(Ms,{value:ue.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"py-2",children:qi(ue.created_at)}),r.jsx("td",{className:"py-2",children:qi(ue.last_attendance_ts_utc)}),r.jsx("td",{className:"py-2",children:ue.last_seen_ip??"-"}),r.jsx("td",{className:"py-2",children:qi(ue.last_seen_at_utc)})]},ue.id))})]})})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),r.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Zaman"}),r.jsx("th",{className:"py-2",children:"Islem"}),r.jsx("th",{className:"py-2",children:"IP"}),r.jsx("th",{className:"py-2",children:"User Agent"})]})}),r.jsx("tbody",{children:(R.data?.recent_activity??[]).map((ue,Xe)=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:qi(ue.ts_utc)}),r.jsx("td",{className:"py-2",children:ue.action}),r.jsx("td",{className:"py-2",children:ue.ip??"-"}),r.jsx("td",{className:"py-2 max-w-[280px] truncate",title:ue.user_agent??"-",children:ue.user_agent??"-"})]},`${ue.ts_utc}-${Xe}`))})]})})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),r.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:At.length?r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"IP"}),r.jsx("th",{className:"py-2",children:"Son gorulme"}),r.jsx("th",{className:"py-2",children:"Aksiyon"}),r.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),r.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),r.jsx("tbody",{children:At.map(ue=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2 font-mono text-xs",children:ue.ip}),r.jsx("td",{className:"py-2",children:qi(ue.last_seen_at_utc)}),r.jsx("td",{className:"py-2",children:ue.last_action}),r.jsx("td",{className:"py-2",children:ue.last_lat!==null&&ue.last_lon!==null?`${ue.last_lat.toFixed(6)}, ${ue.last_lon.toFixed(6)}`:"-"}),r.jsx("td",{className:"py-2",children:ue.last_location_ts_utc?qi(ue.last_location_ts_utc):"-"})]},ue.ip))})]}):r.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),r.jsxs(ze,{children:[r.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),X?r.jsx("button",{type:"button",onClick:()=>{ve(null),ce({checkin:!0,checkout:!0,latest:!0})},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son bildirilen konuma don"}):null]}),Ye?r.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",r.jsx("span",{className:"font-semibold",children:Ye.date})," gununun giris/cikis konumlari"]}):R.data?.latest_location?r.jsx("p",{className:"mt-2 text-sm text-slate-700",children:"Harita secimi: son bildirilen konum"}):r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),V.length?r.jsxs("div",{className:"mt-3 space-y-3",children:[r.jsx(GA,{markers:V}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[r.jsxs("button",{type:"button",onClick:()=>Oe("checkin"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ae.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),r.jsxs("button",{type:"button",onClick:()=>Oe("checkout"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ae.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),r.jsxs("button",{type:"button",onClick:()=>Oe("latest"),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ae.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"}`,title:"Yalnizca son bildirilen konumu goster",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),r.jsx("button",{type:"button",onClick:jt,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),R.data?.home_location?null:r.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),r.jsxs("form",{onSubmit:te,className:"mt-4 grid gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",r.jsx("input",{value:x,onChange:ue=>v(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",r.jsx("input",{value:_,onChange:ue=>j(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",r.jsx("input",{value:w,onChange:ue=>k(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsx("div",{className:"md:col-span-3",children:r.jsx("button",{type:"submit",disabled:Ut.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ut.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):R.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?r.jsx("p",{className:"form-validation",children:z}):null]}),r.jsxs(Xo,{open:oe,title:"Cihaz Baglama Linki Olustur",onClose:()=>q(!1),children:[r.jsxs("form",{onSubmit:bn,className:"space-y-4",children:[r.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",r.jsx("input",{value:le,onChange:ue=>Z(ue.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsx("button",{type:"submit",disabled:Yt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Yt.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),r.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),re?r.jsx("p",{className:"form-validation",children:re}):null,Ee&&O?r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx(hv,{label:"Token",value:Ee,onCopy:ln}),r.jsx(hv,{label:"Baglanti Linki (invite_url)",value:O,onCopy:ln})]}):null]})]}):r.jsx(It,{}):r.jsx(St,{message:"Gecersiz calisan id degeri."})}const WA={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},ez={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Dc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},K_="Europe/Istanbul";function Ef(t){const a=[];t.status==="INCOMPLETE"&&a.push("EKSIK_GUN");for(const l of t.flags)a.push(l);return a}function tz(t){return t.length===0?void 0:`Supheli nedenleri:
${t.map((l,o)=>{const d=yi(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function pv(t){if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:K_,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)}function gv(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:new Intl.DateTimeFormat("tr-TR",{timeZone:K_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(a)}function yv(t){if(!t)return{status:"NORMAL",reason:""};const a=(t.note??"").trim(),l=a.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:a.replace(l[0],"").trim()}:t.is_absent?{status:"CALISMADI",reason:a}:{status:"NORMAL",reason:a}}function nz(t,a){const l=a.trim();if(t==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${t}]`;return l?`${o} ${l}`:o}function az(){const t=zn(),{pushToast:a}=In(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,f]=S.useState(o),[p,x]=S.useState(o),[v,_]=S.useState(!1),[j,w]=S.useState(null),[k,z]=S.useState(!1),[C,A]=S.useState(!1),[M,F]=S.useState(""),[B,U]=S.useState(""),[K,$]=S.useState(""),[G,W]=S.useState(""),[Y,X]=S.useState("NORMAL"),[ve,ae]=S.useState("AUTO"),[ce,oe]=S.useState(""),[q,le]=S.useState(null),[Z,re]=S.useState(null),de=Ue({queryKey:["employees","all"],queryFn:()=>vi({status:"all"})}),Ee=Number(p.employeeId),ee=Number(p.year),O=Number(p.month),ie=Number.isFinite(Ee)&&Ee>0&&Number.isFinite(ee)&&ee>0&&Number.isFinite(O)&&O>=1&&O<=12,R=Ue({queryKey:["employee-monthly",Ee,ee,O],queryFn:()=>fm({employee_id:Ee,year:ee,month:O}),enabled:ie}),H=Ue({queryKey:["manual-overrides",Ee,ee,O],queryFn:()=>y1(Ee,ee,O),enabled:ie}),ge=Ke({mutationFn:({employeeId:_e,dayDate:V,inTime:Oe,outTime:jt,status:$e,ruleSource:pn,ruleShiftId:ue,reason:Xe})=>{const yt=$e!=="NORMAL";return g1(_e,{day_date:V,in_time:yt?null:Oe||null,out_time:yt?null:jt||null,is_absent:yt,rule_source_override:pn,rule_shift_id_override:pn==="SHIFT"&&ue?Number(ue):null,note:nz($e,Xe)})},onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),re(null),oe(""),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:_e=>{a({variant:"error",title:"Duzeltme kaydedilemedi",description:De(_e,"Islem basarisiz.").message})}}),J=Ke({mutationFn:x1,onSuccess:()=>{a({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),re(null),t.invalidateQueries({queryKey:["employee-monthly"]}),t.invalidateQueries({queryKey:["manual-overrides"]})},onError:_e=>{a({variant:"error",title:"Silme islemi basarisiz",description:De(_e,"Islem basarisiz.").message})}}),Te=S.useMemo(()=>de.data?.find(_e=>_e.id===Ee),[de.data,Ee]),Be=Te?.full_name,Ze=Ue({queryKey:["monthly-manual-shifts",Te?.department_id],queryFn:()=>lu(Te?.department_id?{department_id:Te.department_id,active_only:!1}:void 0),enabled:!!Te?.department_id}),dt=S.useMemo(()=>{const _e=new Map;for(const V of H.data??[])_e.set(V.day_date,V);return _e},[H.data]),at=R.data?.days??[],Ut=S.useMemo(()=>at.reduce((_e,V)=>_e+(V.missing_minutes??0),0),[at]),Lt=S.useMemo(()=>at.filter(_e=>!(v&&Ef(_e).length===0||j&&!_e.flags.includes(j))),[at,j,v]),Gt=S.useMemo(()=>at.filter(_e=>Ef(_e).length>0).length,[at]),an=S.useMemo(()=>{const _e=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],V=new Map;for(const Oe of _e)V.set(Oe,0);for(const Oe of at)for(const jt of _e)Oe.flags.includes(jt)&&V.set(jt,(V.get(jt)??0)+1);return _e.map(Oe=>({code:Oe,count:V.get(Oe)??0}))},[at]),Yt=S.useMemo(()=>{const _e=[];return p.employeeId&&_e.push(`Calisan: ${p.employeeId}`),_e.push(`Yil: ${p.year}`),_e.push(`Ay: ${p.month}`),v&&_e.push("Sadece supheli gunler"),j&&_e.push(`Cakisma: ${yi(j).label}`),_e},[p,j,v]),ln=()=>x({...d}),on=()=>{f(o),x(o),_(!1),w(null)},bn=async()=>{if(!ie){a({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const _e=await N1({employee_id:Ee,year:ee,month:O}),V=window.URL.createObjectURL(_e),Oe=document.createElement("a");Oe.href=V,Oe.download=`puantaj-employee-${Ee}-${ee}-${String(O).padStart(2,"0")}.xlsx`,document.body.appendChild(Oe),Oe.click(),Oe.remove(),window.URL.revokeObjectURL(V)}catch(_e){a({variant:"error",title:"Excel indirilemedi",description:De(_e,"Dosya olusturulamadi.").message})}finally{z(!1)}},te=_e=>{const V=dt.get(_e.date),Oe=yv(V);F(_e.date),le(V?.id??null),X(Oe.status),W(Oe.reason),U(V?pv(V.in_ts):""),$(V?pv(V.out_ts):""),ae(V?.rule_source_override??"AUTO"),oe(V?.rule_shift_id_override?String(V.rule_shift_id_override):_e.shift_id?String(_e.shift_id):""),re(null),A(!0)},ke=()=>{if(!ie||at.length===0){a({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}te(at[0])},Ge=()=>{if(re(null),!M)return re("Duzeltme icin tarih secmelisiniz."),!1;if(Y==="NORMAL"){if(!B&&!K)return re("Normal gun icin en az bir saat bilgisi girin."),!1;if(B&&K&&K<B)return re("Cikis saati giris saatinden kucuk olamaz."),!1}return ve==="SHIFT"&&!ce?(re("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},At=_e=>{_e.preventDefault(),ie&&Ge()&&ge.mutate({employeeId:Ee,dayDate:M,inTime:B,outTime:K,status:Y,ruleSource:ve,ruleShiftId:ce,reason:G})};if(de.isLoading)return r.jsx(It,{});if(de.isError)return r.jsx(St,{message:"Calisan listesi alinamadi."});const Ye=de.data??[];return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:ke,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),r.jsx("button",{type:"button",onClick:()=>{bn()},disabled:k,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:k?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),r.jsx(Ll,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[r.jsx(Qi,{label:"Calisan",employees:Ye,value:d.employeeId,onChange:_e=>f(V=>({...V,employeeId:_e})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",r.jsx("input",{type:"number",value:d.year,onChange:_e=>f(V=>({...V,year:_e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",r.jsx("input",{type:"number",value:d.month,onChange:_e=>f(V=>({...V,month:_e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:v,onChange:_e=>_(_e.target.checked)}),"Sadece supheli gunleri goster"]})}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:ln,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),r.jsx("button",{type:"button",onClick:on,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Yt.map(_e=>r.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:_e},_e))})]}),ie?null:r.jsx(St,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),R.isLoading?r.jsx(It,{}):null,R.isError?r.jsx(St,{message:De(R.error,"Aylik rapor alinamadi.").message}):null,R.data?r.jsxs(r.Fragment,{children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),r.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Calisan: ",Be??R.data.employee_id," | Donem:"," ",R.data.year,"-",R.data.month]}),r.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-5",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Calisma"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:R.data.totals.worked_minutes})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Fazla Mesai"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:R.data.totals.overtime_minutes})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gun"}),r.jsx("p",{className:"text-lg font-semibold",children:R.data.totals.incomplete_days})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Supheli Gun"}),r.jsx("p",{className:"text-lg font-semibold",children:Gt})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sure"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:Ut})})]})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:R.data.worked_minutes_net})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:R.data.annual_overtime_used_minutes})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),r.jsx("p",{className:"text-lg font-semibold",children:r.jsx(Ct,{minutes:R.data.annual_overtime_remaining_minutes})})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),r.jsx("p",{className:`text-sm font-semibold ${R.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:R.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),r.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),r.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:D1().map(_e=>r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold",title:yi(_e).description,children:yi(_e).label})," ","(",_e,"): ",yi(_e).description]},_e))})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),j?r.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,r.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:an.map(_e=>r.jsxs("button",{type:"button",onClick:()=>{w(V=>V===_e.code?null:_e.code),_(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${j===_e.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[r.jsx("p",{className:"text-xs text-slate-500",title:yi(_e.code).description,children:yi(_e.code).label}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:_e.count})]},_e.code))})]}),Lt.length===0?r.jsx(ze,{children:r.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):r.jsx(ze,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Tarih"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Giris"}),r.jsx("th",{className:"py-2",children:"Cikis"}),r.jsx("th",{className:"py-2",children:"Calisma"}),r.jsx("th",{className:"py-2",children:"Fazla Mesai"}),r.jsx("th",{className:"py-2",children:"Eksik Sure"}),r.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),r.jsx("th",{className:"py-2",children:"Vardiya"}),r.jsx("th",{className:"py-2",children:"Izin"}),r.jsx("th",{className:"py-2",children:"Supheli Neden"}),r.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),r.jsx("tbody",{children:Lt.map(_e=>{const V=Ef(_e),Oe=V.length>0,jt=tz(V),$e=dt.get(_e.date),pn=yv($e),ue=_e.flags.includes("MANUAL_OVERRIDE")||_e.flags.includes("MANUAL_EVENT")||!!$e,Xe=pn.status!=="NORMAL";return r.jsxs("tr",{className:`border-t border-slate-100 ${Oe?"bg-amber-50/40":""}`,children:[r.jsx("td",{className:"py-2",children:_e.date}),r.jsxs("td",{className:"py-2",children:[r.jsx(Ms,{value:_e.status}),ue?r.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,Xe?r.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:WA[pn.status]}):null,r.jsx("span",{className:"ml-2",children:r.jsx(d_,{suspicious:Oe,tooltip:jt})})]}),r.jsx("td",{className:"py-2",title:_e.in??void 0,children:gv(_e.in)}),r.jsx("td",{className:"py-2",title:_e.out??void 0,children:gv(_e.out)}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:_e.worked_minutes})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:_e.overtime_minutes})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:_e.missing_minutes??0})}),r.jsx("td",{className:"py-2",children:r.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${_e.applied_planned_minutes} dk | Mola: ${_e.applied_break_minutes} dk`,children:ez[_e.rule_source]})}),r.jsx("td",{className:"py-2",children:_e.shift_name??"-"}),r.jsx("td",{className:"py-2",children:_e.leave_type??"-"}),r.jsx("td",{className:"py-2",children:r.jsx(h_,{reasons:V})}),r.jsx("td",{className:"py-2",children:r.jsx("button",{type:"button",onClick:()=>te(_e),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},_e.date)})})]})})})]}):null,r.jsx(Xo,{open:C,title:M?`${M} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),children:r.jsxs("form",{onSubmit:At,className:"space-y-3",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",r.jsx("input",{type:"date",value:M,onChange:_e=>F(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",r.jsxs("select",{value:Y,onChange:_e=>X(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"NORMAL",children:"Normal"}),r.jsx("option",{value:"IZINLI",children:"Izinli"}),r.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),r.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",r.jsxs("select",{value:ve,onChange:_e=>{const V=_e.target.value;ae(V),V!=="SHIFT"&&oe("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"AUTO",children:Dc.AUTO}),r.jsx("option",{value:"SHIFT",children:Dc.SHIFT}),r.jsx("option",{value:"WEEKLY",children:Dc.WEEKLY}),r.jsx("option",{value:"WORK_RULE",children:Dc.WORK_RULE})]})]}),ve==="SHIFT"?r.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",r.jsxs("select",{value:ce,onChange:_e=>oe(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Vardiya seciniz"}),(Ze.data??[]).map(_e=>r.jsxs("option",{value:_e.id,children:[_e.name," (",_e.start_time_local," - ",_e.end_time_local,")"]},_e.id))]})]}):null,r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",r.jsx("input",{type:"time",value:B,onChange:_e=>U(_e.target.value),disabled:Y!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",r.jsx("input",{type:"time",value:K,onChange:_e=>$(_e.target.value),disabled:Y!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),Y==="NORMAL"?r.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):r.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",r.jsx("input",{type:"text",value:G,onChange:_e=>W(_e.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),Z?r.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:Z}):null,r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"submit",disabled:ge.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ge.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),q?r.jsx("button",{type:"button",onClick:()=>J.mutate(q),disabled:J.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:J.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const iz=Pa({full_name:ya().min(2,"Ad soyad en az 2 karakter olmali."),region_id:nd([mn().int().positive(),gm()]),department_id:nd([mn().int().positive(),gm()]),is_active:gd()});function sz(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState(""),[p,x]=S.useState(""),[v,_]=S.useState(!0),[j,w]=S.useState(""),[k,z]=S.useState(!1),[C,A]=S.useState(!1),[M,F]=S.useState(""),[B,U]=S.useState(""),[K,$]=S.useState(null),G=Ue({queryKey:["employees",C,M,B],queryFn:()=>vi({...C?{include_inactive:!0}:{},...M?{region_id:Number(M)}:{},...B?{department_id:Number(B)}:{}})}),W=Ue({queryKey:["departments"],queryFn:Rs}),Y=Ue({queryKey:["regions","employees-page"],queryFn:()=>dd({include_inactive:!0})}),X=Ke({mutationFn:zE,onSuccess:ee=>{o(""),f(""),x(""),_(!0),$(null),z(!1),a({variant:"success",title:"Calisan olusturuldu",description:`${ee.full_name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:ee=>{const O=De(ee,"Calisan olusturulamadi.").message;$(O),a({variant:"error",title:"Calisan olusturulamadi",description:O})}}),ve=Ke({mutationFn:({employeeId:ee,nextStatus:O})=>t_(ee,{is_active:O}),onSuccess:ee=>{a({variant:"success",title:ee.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${ee.full_name} icin durum guncellendi.`}),t.invalidateQueries({queryKey:["employees"]})},onError:ee=>{const O=De(ee,"Calisan durumu guncellenemedi.").message;a({variant:"error",title:"Islem basarisiz",description:O})}}),ae=ee=>{ee.preventDefault(),$(null);const O=d.trim()===""?null:Number(d),ie=p.trim()===""?null:Number(p),R=iz.safeParse({full_name:l,region_id:O,department_id:ie,is_active:v});if(!R.success){const H=R.error.issues[0]?.message??"Calisan formunu kontrol edin.";$(H),a({variant:"error",title:"Form hatasi",description:H});return}X.mutate(R.data)},ce=G.data??[],oe=W.data??[],q=Y.data??[],le=new Map(oe.map(ee=>[ee.id,ee.name])),Z=new Map(q.map(ee=>[ee.id,ee.name])),re=S.useMemo(()=>{const ee=d?Number(d):null;return ee?oe.filter(O=>O.region_id===ee):oe},[oe,d]),de=S.useMemo(()=>{const ee=M?Number(M):null;return ee?oe.filter(O=>O.region_id===ee):oe},[oe,M]),Ee=S.useMemo(()=>{const ee=j.trim().toLowerCase();return ee?ce.filter(O=>O.full_name.toLowerCase().includes(ee)):ce},[ce,j]);return G.isLoading||W.isLoading||Y.isLoading?r.jsx(It,{}):G.isError||W.isError||Y.isError?r.jsx(St,{message:"Calisan verileri alinamadi."}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:r.jsx("button",{type:"button",onClick:()=>z(ee=>!ee),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),k?r.jsxs(ze,{children:[r.jsxs("form",{onSubmit:ae,className:"grid gap-3 md:grid-cols-5",children:[r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",r.jsx("input",{value:l,onChange:ee=>o(ee.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",r.jsxs("select",{value:d,onChange:ee=>{f(ee.target.value),x("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Atanmamis"}),q.map(ee=>r.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:p,onChange:ee=>x(ee.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Atanmamis"}),re.map(ee=>r.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),r.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:v,onChange:ee=>_(ee.target.checked)}),"Aktif"]}),r.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[r.jsx("button",{type:"submit",disabled:X.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:X.isPending?"Kaydediliyor...":"Kaydet"}),r.jsx("button",{type:"button",onClick:()=>{z(!1),$(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),K?r.jsx("div",{className:"form-validation",children:K}):null]}):null,r.jsxs(ze,{children:[r.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[r.jsx(Os,{value:j,onChange:w,placeholder:"Calisan adina gore ara..."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",r.jsxs("select",{value:M,onChange:ee=>{F(ee.target.value),U("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tum bolgeler"}),q.map(ee=>r.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",r.jsxs("select",{value:B,onChange:ee=>U(ee.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tum departmanlar"}),de.map(ee=>r.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:C,onChange:ee=>A(ee.target.checked)}),"Arsivdekileri goster"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Calisan ID"}),r.jsx("th",{className:"py-2",children:"Ad Soyad"}),r.jsx("th",{className:"py-2",children:"Bolge"}),r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Islem"})]})}),r.jsx("tbody",{children:Ee.map(ee=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:ee.id}),r.jsx("td",{className:"py-2",children:ee.full_name}),r.jsx("td",{className:"py-2",children:ee.region_name??(ee.region_id?Z.get(ee.region_id):"-")??"-"}),r.jsx("td",{className:"py-2",children:ee.department_id?le.get(ee.department_id):"-"}),r.jsx("td",{className:"py-2",children:r.jsx(Ms,{value:ee.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Ll,{to:`/employees/${ee.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(ee.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),r.jsx("button",{type:"button",disabled:ve.isPending,onClick:()=>{const O=!ee.is_active;window.confirm(O?`${ee.full_name} arsivden cikarilsin mi?`:`${ee.full_name} arsivlensin mi?`)&&ve.mutate({employeeId:ee.id,nextStatus:O})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${ee.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:ee.is_active?"Arsivle":"Arsivden Cikar"})]})})]},ee.id))})]})}),Ee.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const rz=Pa({employee_id:mn().int().positive(),start_date:ya().min(1),end_date:ya().min(1),type:xm(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:xm(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:ya().trim().optional()}).refine(t=>t.end_date>=t.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function lz(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState(""),[p,x]=S.useState(""),[v,_]=S.useState("ANNUAL"),[j,w]=S.useState("APPROVED"),[k,z]=S.useState(""),[C,A]=S.useState(null),[M,F]=S.useState(""),[B,U]=S.useState(String(new Date().getFullYear())),[K,$]=S.useState(String(new Date().getMonth()+1)),G=Ue({queryKey:["employees"],queryFn:()=>vi({include_inactive:!0,status:"all"})}),W=S.useMemo(()=>{const le=Number(M),Z=Number(B),re=Number(K);return{employee_id:Number.isFinite(le)&&le>0?le:void 0,year:Number.isFinite(Z)&&Z>0?Z:void 0,month:Number.isFinite(re)&&re>0?re:void 0}},[M,B,K]),Y=Ue({queryKey:["leaves",W.employee_id??"all",W.year??"all",W.month??"all"],queryFn:()=>o_(W)}),X=Ke({mutationFn:f1,onSuccess:le=>{f(""),x(""),_("ANNUAL"),w("APPROVED"),z(""),A(null),a({variant:"success",title:"zin kayd oluturuldu",description:`zin #${le.id} kaydedildi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:le=>{const Z=De(le,"zin kayd oluturulamad.");A(Z.message),a({variant:"error",title:"zin oluturulamad",description:Z.message})}}),ve=Ke({mutationFn:m1,onSuccess:(le,Z)=>{a({variant:"success",title:"zin kayd silindi",description:`zin #${Z} silindi.`}),t.invalidateQueries({queryKey:["leaves"]})},onError:le=>{const Z=De(le,"zin silinemedi.");a({variant:"error",title:"zin silinemedi",description:Z.message})}}),ae=le=>{le.preventDefault(),A(null);const Z=rz.safeParse({employee_id:l,start_date:d,end_date:p,type:v,status:j,note:k});if(!Z.success){const re=Z.error.issues[0]?.message??"zin formunu kontrol edin.";A(re),a({variant:"error",title:"Form hatas",description:re});return}X.mutate({...Z.data,note:Z.data.note||null})};if(G.isLoading)return r.jsx(It,{});if(G.isError)return r.jsx(St,{message:"alan listesi alnamad."});const ce=G.data??[],oe=Y.data??[],q=new Map(ce.map(le=>[le.id,le.full_name]));return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),r.jsxs("form",{onSubmit:ae,className:"mt-4 grid gap-3 md:grid-cols-3",children:[r.jsx(Qi,{label:"alan",employees:ce,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",r.jsx("input",{type:"date",value:d,onChange:le=>f(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",r.jsx("input",{type:"date",value:p,onChange:le=>x(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",r.jsxs("select",{value:v,onChange:le=>_(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),r.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),r.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),r.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),r.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",r.jsxs("select",{value:j,onChange:le=>w(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"APPROVED",children:"ONAYLI"}),r.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),r.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",r.jsx("textarea",{value:k,onChange:le=>z(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),r.jsx("div",{className:"md:col-span-3",children:r.jsx("button",{type:"submit",disabled:X.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:X.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),C?r.jsx("div",{className:"form-validation",children:C}):null]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),r.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[r.jsx(Qi,{label:"alan",employees:ce,value:M,onChange:F,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",r.jsx("input",{value:B,onChange:le=>U(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",r.jsx("input",{value:K,onChange:le=>$(le.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),Y.isLoading?r.jsx(It,{}):null,Y.isError?r.jsx(St,{message:"zin listesi alnamad."}):null,!Y.isLoading&&!Y.isError?r.jsxs(ze,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"zin ID"}),r.jsx("th",{className:"py-2",children:"alan"}),r.jsx("th",{className:"py-2",children:"zin Tipi"}),r.jsx("th",{className:"py-2",children:"Tarih Aral"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"lem"})]})}),r.jsx("tbody",{children:oe.map(le=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:le.id}),r.jsx("td",{className:"py-2",children:q.get(le.employee_id)??le.employee_id}),r.jsx("td",{className:"py-2",children:le.type}),r.jsxs("td",{className:"py-2",children:[le.start_date," - ",le.end_date]}),r.jsx("td",{className:"py-2",children:r.jsx(Ms,{value:le.status})}),r.jsx("td",{className:"py-2",children:r.jsx("button",{type:"button",onClick:()=>ve.mutate(le.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},le.id))})]})}),oe.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const oz=Pa({username:ya().min(1,"Kullanc ad gerekli."),password:ya().min(1,"ifre gerekli.")});function uz(t){return t.code==="INVALID_CREDENTIALS"?"Giri bilgileri hatal":t.code==="TOO_MANY_ATTEMPTS"?"ok fazla deneme":t.code==="INTERNAL_ERROR"?"Sunucu hatas":"Giri baarsz"}function cz(){const t=Rl(),a=La(),{login:l}=Pl(),[o,d]=S.useState("admin"),[f,p]=S.useState(""),[x,v]=S.useState(null),[_,j]=S.useState(!1),w=S.useMemo(()=>{const z=a.state?.from,C=new URLSearchParams(a.search).get("redirect");return z??C??"/dashboard"},[a.search,a.state]),k=async z=>{z.preventDefault(),v(null);const C=oz.safeParse({username:o,password:f});if(!C.success){v({message:C.error.issues[0]?.message??"Form alanlarn kontrol et."});return}j(!0);try{await l(C.data.username,C.data.password),t(w,{replace:!0})}catch(A){v(De(A,"Giri baarsz."))}finally{j(!1)}};return r.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:r.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giri"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj ynetim paneline giri yap."}),r.jsxs("form",{onSubmit:k,className:"mt-6 space-y-4",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanc Ad"}),r.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"ifre"}),r.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:f,onChange:z=>p(z.target.value)})]}),x?r.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[r.jsx("p",{className:"font-semibold",children:uz(x)}),r.jsx("p",{className:"mt-1",children:x.message}),x.requestId?r.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",x.requestId]}):null]}):null,r.jsx("button",{type:"submit",disabled:_,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giri yaplyor..."]}):"Giri Yap"})]}),r.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[xi.signatureText," | BUILD: ",xi.buildVersion]})]})})}function dz(){return r.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[r.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),r.jsx(Ll,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),r.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:xi.signatureText})]})})}function xv(t,a){const l=URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function hz(){const{pushToast:t}=In(),a=new Date,[l,o]=S.useState("employee"),[d,f]=S.useState(""),[p,x]=S.useState(""),[v,_]=S.useState(String(a.getFullYear())),[j,w]=S.useState(String(a.getMonth()+1)),[k,z]=S.useState(""),[C,A]=S.useState(""),[M,F]=S.useState(!0),[B,U]=S.useState(!1),[K,$]=S.useState(""),[G,W]=S.useState(""),[Y,X]=S.useState("consolidated"),[ve,ae]=S.useState(""),[ce,oe]=S.useState(""),q=Ue({queryKey:["employees","all"],queryFn:()=>vi({status:"all",include_inactive:!0})}),le=Ue({queryKey:["departments"],queryFn:Rs}),Z=Ke({mutationFn:b1,onSuccess:H=>{xv(H,`puantaj-${l}-${Date.now()}.xlsx`),t({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:H=>{t({variant:"error",title:"Da aktarma baarsz",description:De(H,"Excel dosyas retilemedi.").message})}}),re=Ke({mutationFn:w1,onSuccess:H=>{xv(H,`puantaj-range-${Y}-${Date.now()}.xlsx`),t({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:H=>{t({variant:"error",title:"Tarih aral da aktarma baarsz",description:De(H,"Excel dosyas retilemedi.").message})}}),de=S.useMemo(()=>{const H=Number(v),ge=Number(j),J=Number(d),Te=Number(p);return l==="employee"?!J||!H||!ge?null:{mode:l,employee_id:J,year:H,month:ge}:l==="department"?!Te||!H||!ge?null:{mode:l,department_id:Te,year:H,month:ge,include_daily_sheet:M,include_inactive:B}:l==="all"?!H||!ge?null:{mode:l,year:H,month:ge,include_daily_sheet:M,include_inactive:B}:!k||!C?null:{mode:l,start_date:k,end_date:C,employee_id:J||void 0,department_id:Te||void 0,include_inactive:B}},[l,d,p,v,j,k,C,M,B]),Ee=S.useMemo(()=>{const H=Number(ce),ge=Number(ve);return!K||!G?null:{start_date:K,end_date:G,mode:Y,employee_id:H>0?H:void 0,department_id:ge>0?ge:void 0}},[K,G,Y,ce,ve]),ee=()=>{if(!de){t({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}Z.mutate(de)},O=()=>{if(!Ee){t({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}re.mutate(Ee)};if(q.isLoading||le.isLoading)return r.jsx(It,{});if(q.isError||le.isError)return r.jsx(St,{message:"alan/departman bilgileri alnamad."});const ie=q.data??[],R=le.data??[];return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",r.jsxs("select",{value:l,onChange:H=>o(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"employee",children:"alan Bazl"}),r.jsx("option",{value:"department",children:"Departman Bazl"}),r.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),r.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&r.jsx(Qi,{label:"alan",employees:ie,value:d,onChange:f,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:p,onChange:H=>x(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seiniz"}),R.map(H=>r.jsxs("option",{value:H.id,children:["#",H.id," - ",H.name]},H.id))]})]}),(l==="employee"||l==="department"||l==="all")&&r.jsxs(r.Fragment,{children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",r.jsx("input",{type:"number",value:v,onChange:H=>_(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",r.jsx("input",{type:"number",value:j,onChange:H=>w(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&r.jsxs(r.Fragment,{children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",r.jsx("input",{type:"date",value:k,onChange:H=>z(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",r.jsx("input",{type:"date",value:C,onChange:H=>A(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&r.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:H=>F(H.target.checked)}),"Gnlk sheetleri de ekle"]}),r.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:B,onChange:H=>U(H.target.checked)}),"Arivdeki alanlar dahil et"]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{type:"button",onClick:ee,disabled:Z.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Z.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",r.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",r.jsx("input",{type:"date",value:K,onChange:H=>$(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",r.jsx("input",{type:"date",value:G,onChange:H=>W(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",r.jsxs("select",{value:Y,onChange:H=>X(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),r.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),r.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",r.jsxs("select",{value:ve,onChange:H=>ae(H.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tm"}),R.map(H=>r.jsxs("option",{value:H.id,children:["#",H.id," - ",H.name]},H.id))]})]}),r.jsx(Qi,{label:"alan (opsiyonel)",employees:ie,value:ce,onChange:oe,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{type:"button",onClick:O,disabled:re.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:re.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}var wl={},Tf,vv;function fz(){return vv||(vv=1,Tf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Tf}var kf={},Cs={},_v;function zr(){if(_v)return Cs;_v=1;let t;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Cs.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Cs.getSymbolTotalCodewords=function(o){return a[o]},Cs.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},Cs.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},Cs.isKanjiModeEnabled=function(){return typeof t<"u"},Cs.toSJIS=function(o){return t(o)},Cs}var Cf={},bv;function Ym(){return bv||(bv=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function a(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},t.from=function(o,d){if(t.isValid(o))return o;try{return a(o)}catch{return d}}})(Cf)),Cf}var Af,Nv;function mz(){if(Nv)return Af;Nv=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(a){const l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)===1},put:function(a,l){for(let o=0;o<l;o++)this.putBit((a>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Af=t,Af}var zf,Sv;function pz(){if(Sv)return zf;Sv=1;function t(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return t.prototype.set=function(a,l,o,d){const f=a*this.size+l;this.data[f]=o,d&&(this.reservedBit[f]=!0)},t.prototype.get=function(a,l){return this.data[a*this.size+l]},t.prototype.xor=function(a,l,o){this.data[a*this.size+l]^=o},t.prototype.isReserved=function(a,l){return this.reservedBit[a*this.size+l]},zf=t,zf}var Of={},jv;function gz(){return jv||(jv=1,(function(t){const a=zr().getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,f=a(o),p=f===145?26:Math.ceil((f-13)/(2*d-2))*2,x=[f-7];for(let v=1;v<d-1;v++)x[v]=x[v-1]-p;return x.push(6),x.reverse()},t.getPositions=function(o){const d=[],f=t.getRowColCoords(o),p=f.length;for(let x=0;x<p;x++)for(let v=0;v<p;v++)x===0&&v===0||x===0&&v===p-1||x===p-1&&v===0||d.push([f[x],f[v]]);return d}})(Of)),Of}var Mf={},wv;function yz(){if(wv)return Mf;wv=1;const t=zr().getSymbolSize,a=7;return Mf.getPositions=function(o){const d=t(o);return[[0,0],[d-a,0],[0,d-a]]},Mf}var Rf={},Ev;function xz(){return Ev||(Ev=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};t.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},t.from=function(d){return t.isValid(d)?parseInt(d,10):void 0},t.getPenaltyN1=function(d){const f=d.size;let p=0,x=0,v=0,_=null,j=null;for(let w=0;w<f;w++){x=v=0,_=j=null;for(let k=0;k<f;k++){let z=d.get(w,k);z===_?x++:(x>=5&&(p+=a.N1+(x-5)),_=z,x=1),z=d.get(k,w),z===j?v++:(v>=5&&(p+=a.N1+(v-5)),j=z,v=1)}x>=5&&(p+=a.N1+(x-5)),v>=5&&(p+=a.N1+(v-5))}return p},t.getPenaltyN2=function(d){const f=d.size;let p=0;for(let x=0;x<f-1;x++)for(let v=0;v<f-1;v++){const _=d.get(x,v)+d.get(x,v+1)+d.get(x+1,v)+d.get(x+1,v+1);(_===4||_===0)&&p++}return p*a.N2},t.getPenaltyN3=function(d){const f=d.size;let p=0,x=0,v=0;for(let _=0;_<f;_++){x=v=0;for(let j=0;j<f;j++)x=x<<1&2047|d.get(_,j),j>=10&&(x===1488||x===93)&&p++,v=v<<1&2047|d.get(j,_),j>=10&&(v===1488||v===93)&&p++}return p*a.N3},t.getPenaltyN4=function(d){let f=0;const p=d.data.length;for(let v=0;v<p;v++)f+=d.data[v];return Math.abs(Math.ceil(f*100/p/5)-10)*a.N4};function l(o,d,f){switch(o){case t.Patterns.PATTERN000:return(d+f)%2===0;case t.Patterns.PATTERN001:return d%2===0;case t.Patterns.PATTERN010:return f%3===0;case t.Patterns.PATTERN011:return(d+f)%3===0;case t.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(f/3))%2===0;case t.Patterns.PATTERN101:return d*f%2+d*f%3===0;case t.Patterns.PATTERN110:return(d*f%2+d*f%3)%2===0;case t.Patterns.PATTERN111:return(d*f%3+(d+f)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(d,f){const p=f.size;for(let x=0;x<p;x++)for(let v=0;v<p;v++)f.isReserved(v,x)||f.xor(v,x,l(d,v,x))},t.getBestMask=function(d,f){const p=Object.keys(t.Patterns).length;let x=0,v=1/0;for(let _=0;_<p;_++){f(_),t.applyMask(_,d);const j=t.getPenaltyN1(d)+t.getPenaltyN2(d)+t.getPenaltyN3(d)+t.getPenaltyN4(d);t.applyMask(_,d),j<v&&(v=j,x=_)}return x}})(Rf)),Rf}var Pc={},Tv;function Q_(){if(Tv)return Pc;Tv=1;const t=Ym(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Pc.getBlocksCount=function(d,f){switch(f){case t.L:return a[(d-1)*4+0];case t.M:return a[(d-1)*4+1];case t.Q:return a[(d-1)*4+2];case t.H:return a[(d-1)*4+3];default:return}},Pc.getTotalCodewordsCount=function(d,f){switch(f){case t.L:return l[(d-1)*4+0];case t.M:return l[(d-1)*4+1];case t.Q:return l[(d-1)*4+2];case t.H:return l[(d-1)*4+3];default:return}},Pc}var Lf={},Ho={},kv;function vz(){if(kv)return Ho;kv=1;const t=new Uint8Array(512),a=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)t[d]=o,a[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)t[d]=t[d-255]})(),Ho.log=function(o){if(o<1)throw new Error("log("+o+")");return a[o]},Ho.exp=function(o){return t[o]},Ho.mul=function(o,d){return o===0||d===0?0:t[a[o]+a[d]]},Ho}var Cv;function _z(){return Cv||(Cv=1,(function(t){const a=vz();t.mul=function(o,d){const f=new Uint8Array(o.length+d.length-1);for(let p=0;p<o.length;p++)for(let x=0;x<d.length;x++)f[p+x]^=a.mul(o[p],d[x]);return f},t.mod=function(o,d){let f=new Uint8Array(o);for(;f.length-d.length>=0;){const p=f[0];for(let v=0;v<d.length;v++)f[v]^=a.mul(d[v],p);let x=0;for(;x<f.length&&f[x]===0;)x++;f=f.slice(x)}return f},t.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let f=0;f<o;f++)d=t.mul(d,new Uint8Array([1,a.exp(f)]));return d}})(Lf)),Lf}var Df,Av;function bz(){if(Av)return Df;Av=1;const t=_z();function a(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(o){this.degree=o,this.genPoly=t.generateECPolynomial(this.degree)},a.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const f=t.mod(d,this.genPoly),p=this.degree-f.length;if(p>0){const x=new Uint8Array(this.degree);return x.set(f,p),x}return f},Df=a,Df}var Pf={},Bf={},If={},zv;function V_(){return zv||(zv=1,If.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),If}var gi={},Ov;function G_(){if(Ov)return gi;Ov=1;const t="[0-9]+",a="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;gi.KANJI=new RegExp(l,"g"),gi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gi.BYTE=new RegExp(o,"g"),gi.NUMERIC=new RegExp(t,"g"),gi.ALPHANUMERIC=new RegExp(a,"g");const d=new RegExp("^"+l+"$"),f=new RegExp("^"+t+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return gi.testKanji=function(v){return d.test(v)},gi.testNumeric=function(v){return f.test(v)},gi.testAlphanumeric=function(v){return p.test(v)},gi}var Mv;function Or(){return Mv||(Mv=1,(function(t){const a=V_(),l=G_();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(f,p){if(!f.ccBits)throw new Error("Invalid mode: "+f);if(!a.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?f.ccBits[0]:p<27?f.ccBits[1]:f.ccBits[2]},t.getBestModeForData=function(f){return l.testNumeric(f)?t.NUMERIC:l.testAlphanumeric(f)?t.ALPHANUMERIC:l.testKanji(f)?t.KANJI:t.BYTE},t.toString=function(f){if(f&&f.id)return f.id;throw new Error("Invalid mode")},t.isValid=function(f){return f&&f.bit&&f.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+d)}}t.from=function(f,p){if(t.isValid(f))return f;try{return o(f)}catch{return p}}})(Bf)),Bf}var Rv;function Nz(){return Rv||(Rv=1,(function(t){const a=zr(),l=Q_(),o=Ym(),d=Or(),f=V_(),p=7973,x=a.getBCHDigit(p);function v(k,z,C){for(let A=1;A<=40;A++)if(z<=t.getCapacity(A,C,k))return A}function _(k,z){return d.getCharCountIndicator(k,z)+4}function j(k,z){let C=0;return k.forEach(function(A){const M=_(A.mode,z);C+=M+A.getBitsLength()}),C}function w(k,z){for(let C=1;C<=40;C++)if(j(k,C)<=t.getCapacity(C,z,d.MIXED))return C}t.from=function(z,C){return f.isValid(z)?parseInt(z,10):C},t.getCapacity=function(z,C,A){if(!f.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const M=a.getSymbolTotalCodewords(z),F=l.getTotalCodewordsCount(z,C),B=(M-F)*8;if(A===d.MIXED)return B;const U=B-_(A,z);switch(A){case d.NUMERIC:return Math.floor(U/10*3);case d.ALPHANUMERIC:return Math.floor(U/11*2);case d.KANJI:return Math.floor(U/13);case d.BYTE:default:return Math.floor(U/8)}},t.getBestVersionForData=function(z,C){let A;const M=o.from(C,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,M);if(z.length===0)return 1;A=z[0]}else A=z;return v(A.mode,A.getLength(),M)},t.getEncodedBits=function(z){if(!f.isValid(z)||z<7)throw new Error("Invalid QR Code version");let C=z<<12;for(;a.getBCHDigit(C)-x>=0;)C^=p<<a.getBCHDigit(C)-x;return z<<12|C}})(Pf)),Pf}var Uf={},Lv;function Sz(){if(Lv)return Uf;Lv=1;const t=zr(),a=1335,l=21522,o=t.getBCHDigit(a);return Uf.getEncodedBits=function(f,p){const x=f.bit<<3|p;let v=x<<10;for(;t.getBCHDigit(v)-o>=0;)v^=a<<t.getBCHDigit(v)-o;return(x<<10|v)^l},Uf}var Zf={},qf,Dv;function jz(){if(Dv)return qf;Dv=1;const t=Or();function a(l){this.mode=t.NUMERIC,this.data=l.toString()}return a.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){let d,f,p;for(d=0;d+3<=this.data.length;d+=3)f=this.data.substr(d,3),p=parseInt(f,10),o.put(p,10);const x=this.data.length-d;x>0&&(f=this.data.substr(d),p=parseInt(f,10),o.put(p,x*3+1))},qf=a,qf}var Ff,Pv;function wz(){if(Pv)return Ff;Pv=1;const t=Or(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=t.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let f;for(f=0;f+2<=this.data.length;f+=2){let p=a.indexOf(this.data[f])*45;p+=a.indexOf(this.data[f+1]),d.put(p,11)}this.data.length%2&&d.put(a.indexOf(this.data[f]),6)},Ff=l,Ff}var Hf,Bv;function Ez(){if(Bv)return Hf;Bv=1;const t=Or();function a(l){this.mode=t.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return a.getBitsLength=function(o){return o*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},Hf=a,Hf}var Kf,Iv;function Tz(){if(Iv)return Kf;Iv=1;const t=Or(),a=zr();function l(o){this.mode=t.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let f=a.toSJIS(this.data[d]);if(f>=33088&&f<=40956)f-=33088;else if(f>=57408&&f<=60351)f-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);f=(f>>>8&255)*192+(f&255),o.put(f,13)}},Kf=l,Kf}var Qf={exports:{}},Uv;function kz(){return Uv||(Uv=1,(function(t){var a={single_source_shortest_paths:function(l,o,d){var f={},p={};p[o]=0;var x=a.PriorityQueue.make();x.push(o,0);for(var v,_,j,w,k,z,C,A,M;!x.empty();){v=x.pop(),_=v.value,w=v.cost,k=l[_]||{};for(j in k)k.hasOwnProperty(j)&&(z=k[j],C=w+z,A=p[j],M=typeof p[j]>"u",(M||A>C)&&(p[j]=C,x.push(j,C),f[j]=_))}if(typeof d<"u"&&typeof p[d]>"u"){var F=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(F)}return f},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],f=o;f;)d.push(f),l[f],f=l[f];return d.reverse(),d},find_path:function(l,o,d){var f=a.single_source_shortest_paths(l,o,d);return a.extract_shortest_path_from_predecessor_list(f,d)},PriorityQueue:{make:function(l){var o=a.PriorityQueue,d={},f;l=l||{};for(f in o)o.hasOwnProperty(f)&&(d[f]=o[f]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=a})(Qf)),Qf.exports}var Zv;function Cz(){return Zv||(Zv=1,(function(t){const a=Or(),l=jz(),o=wz(),d=Ez(),f=Tz(),p=G_(),x=zr(),v=kz();function _(F){return unescape(encodeURIComponent(F)).length}function j(F,B,U){const K=[];let $;for(;($=F.exec(U))!==null;)K.push({data:$[0],index:$.index,mode:B,length:$[0].length});return K}function w(F){const B=j(p.NUMERIC,a.NUMERIC,F),U=j(p.ALPHANUMERIC,a.ALPHANUMERIC,F);let K,$;return x.isKanjiModeEnabled()?(K=j(p.BYTE,a.BYTE,F),$=j(p.KANJI,a.KANJI,F)):(K=j(p.BYTE_KANJI,a.BYTE,F),$=[]),B.concat(U,K,$).sort(function(W,Y){return W.index-Y.index}).map(function(W){return{data:W.data,mode:W.mode,length:W.length}})}function k(F,B){switch(B){case a.NUMERIC:return l.getBitsLength(F);case a.ALPHANUMERIC:return o.getBitsLength(F);case a.KANJI:return f.getBitsLength(F);case a.BYTE:return d.getBitsLength(F)}}function z(F){return F.reduce(function(B,U){const K=B.length-1>=0?B[B.length-1]:null;return K&&K.mode===U.mode?(B[B.length-1].data+=U.data,B):(B.push(U),B)},[])}function C(F){const B=[];for(let U=0;U<F.length;U++){const K=F[U];switch(K.mode){case a.NUMERIC:B.push([K,{data:K.data,mode:a.ALPHANUMERIC,length:K.length},{data:K.data,mode:a.BYTE,length:K.length}]);break;case a.ALPHANUMERIC:B.push([K,{data:K.data,mode:a.BYTE,length:K.length}]);break;case a.KANJI:B.push([K,{data:K.data,mode:a.BYTE,length:_(K.data)}]);break;case a.BYTE:B.push([{data:K.data,mode:a.BYTE,length:_(K.data)}])}}return B}function A(F,B){const U={},K={start:{}};let $=["start"];for(let G=0;G<F.length;G++){const W=F[G],Y=[];for(let X=0;X<W.length;X++){const ve=W[X],ae=""+G+X;Y.push(ae),U[ae]={node:ve,lastCount:0},K[ae]={};for(let ce=0;ce<$.length;ce++){const oe=$[ce];U[oe]&&U[oe].node.mode===ve.mode?(K[oe][ae]=k(U[oe].lastCount+ve.length,ve.mode)-k(U[oe].lastCount,ve.mode),U[oe].lastCount+=ve.length):(U[oe]&&(U[oe].lastCount=ve.length),K[oe][ae]=k(ve.length,ve.mode)+4+a.getCharCountIndicator(ve.mode,B))}}$=Y}for(let G=0;G<$.length;G++)K[$[G]].end=0;return{map:K,table:U}}function M(F,B){let U;const K=a.getBestModeForData(F);if(U=a.from(B,K),U!==a.BYTE&&U.bit<K.bit)throw new Error('"'+F+'" cannot be encoded with mode '+a.toString(U)+`.
 Suggested mode is: `+a.toString(K));switch(U===a.KANJI&&!x.isKanjiModeEnabled()&&(U=a.BYTE),U){case a.NUMERIC:return new l(F);case a.ALPHANUMERIC:return new o(F);case a.KANJI:return new f(F);case a.BYTE:return new d(F)}}t.fromArray=function(B){return B.reduce(function(U,K){return typeof K=="string"?U.push(M(K,null)):K.data&&U.push(M(K.data,K.mode)),U},[])},t.fromString=function(B,U){const K=w(B,x.isKanjiModeEnabled()),$=C(K),G=A($,U),W=v.find_path(G.map,"start","end"),Y=[];for(let X=1;X<W.length-1;X++)Y.push(G.table[W[X]].node);return t.fromArray(z(Y))},t.rawSplit=function(B){return t.fromArray(w(B,x.isKanjiModeEnabled()))}})(Zf)),Zf}var qv;function Az(){if(qv)return kf;qv=1;const t=zr(),a=Ym(),l=mz(),o=pz(),d=gz(),f=yz(),p=xz(),x=Q_(),v=bz(),_=Nz(),j=Sz(),w=Or(),k=Cz();function z(G,W){const Y=G.size,X=f.getPositions(W);for(let ve=0;ve<X.length;ve++){const ae=X[ve][0],ce=X[ve][1];for(let oe=-1;oe<=7;oe++)if(!(ae+oe<=-1||Y<=ae+oe))for(let q=-1;q<=7;q++)ce+q<=-1||Y<=ce+q||(oe>=0&&oe<=6&&(q===0||q===6)||q>=0&&q<=6&&(oe===0||oe===6)||oe>=2&&oe<=4&&q>=2&&q<=4?G.set(ae+oe,ce+q,!0,!0):G.set(ae+oe,ce+q,!1,!0))}}function C(G){const W=G.size;for(let Y=8;Y<W-8;Y++){const X=Y%2===0;G.set(Y,6,X,!0),G.set(6,Y,X,!0)}}function A(G,W){const Y=d.getPositions(W);for(let X=0;X<Y.length;X++){const ve=Y[X][0],ae=Y[X][1];for(let ce=-2;ce<=2;ce++)for(let oe=-2;oe<=2;oe++)ce===-2||ce===2||oe===-2||oe===2||ce===0&&oe===0?G.set(ve+ce,ae+oe,!0,!0):G.set(ve+ce,ae+oe,!1,!0)}}function M(G,W){const Y=G.size,X=_.getEncodedBits(W);let ve,ae,ce;for(let oe=0;oe<18;oe++)ve=Math.floor(oe/3),ae=oe%3+Y-8-3,ce=(X>>oe&1)===1,G.set(ve,ae,ce,!0),G.set(ae,ve,ce,!0)}function F(G,W,Y){const X=G.size,ve=j.getEncodedBits(W,Y);let ae,ce;for(ae=0;ae<15;ae++)ce=(ve>>ae&1)===1,ae<6?G.set(ae,8,ce,!0):ae<8?G.set(ae+1,8,ce,!0):G.set(X-15+ae,8,ce,!0),ae<8?G.set(8,X-ae-1,ce,!0):ae<9?G.set(8,15-ae-1+1,ce,!0):G.set(8,15-ae-1,ce,!0);G.set(X-8,8,1,!0)}function B(G,W){const Y=G.size;let X=-1,ve=Y-1,ae=7,ce=0;for(let oe=Y-1;oe>0;oe-=2)for(oe===6&&oe--;;){for(let q=0;q<2;q++)if(!G.isReserved(ve,oe-q)){let le=!1;ce<W.length&&(le=(W[ce]>>>ae&1)===1),G.set(ve,oe-q,le),ae--,ae===-1&&(ce++,ae=7)}if(ve+=X,ve<0||Y<=ve){ve-=X,X=-X;break}}}function U(G,W,Y){const X=new l;Y.forEach(function(q){X.put(q.mode.bit,4),X.put(q.getLength(),w.getCharCountIndicator(q.mode,G)),q.write(X)});const ve=t.getSymbolTotalCodewords(G),ae=x.getTotalCodewordsCount(G,W),ce=(ve-ae)*8;for(X.getLengthInBits()+4<=ce&&X.put(0,4);X.getLengthInBits()%8!==0;)X.putBit(0);const oe=(ce-X.getLengthInBits())/8;for(let q=0;q<oe;q++)X.put(q%2?17:236,8);return K(X,G,W)}function K(G,W,Y){const X=t.getSymbolTotalCodewords(W),ve=x.getTotalCodewordsCount(W,Y),ae=X-ve,ce=x.getBlocksCount(W,Y),oe=X%ce,q=ce-oe,le=Math.floor(X/ce),Z=Math.floor(ae/ce),re=Z+1,de=le-Z,Ee=new v(de);let ee=0;const O=new Array(ce),ie=new Array(ce);let R=0;const H=new Uint8Array(G.buffer);for(let Ze=0;Ze<ce;Ze++){const dt=Ze<q?Z:re;O[Ze]=H.slice(ee,ee+dt),ie[Ze]=Ee.encode(O[Ze]),ee+=dt,R=Math.max(R,dt)}const ge=new Uint8Array(X);let J=0,Te,Be;for(Te=0;Te<R;Te++)for(Be=0;Be<ce;Be++)Te<O[Be].length&&(ge[J++]=O[Be][Te]);for(Te=0;Te<de;Te++)for(Be=0;Be<ce;Be++)ge[J++]=ie[Be][Te];return ge}function $(G,W,Y,X){let ve;if(Array.isArray(G))ve=k.fromArray(G);else if(typeof G=="string"){let le=W;if(!le){const Z=k.rawSplit(G);le=_.getBestVersionForData(Z,Y)}ve=k.fromString(G,le||40)}else throw new Error("Invalid data");const ae=_.getBestVersionForData(ve,Y);if(!ae)throw new Error("The amount of data is too big to be stored in a QR Code");if(!W)W=ae;else if(W<ae)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ae+`.
`);const ce=U(W,Y,ve),oe=t.getSymbolSize(W),q=new o(oe);return z(q,W),C(q),A(q,W),F(q,Y,0),W>=7&&M(q,W),B(q,ce),isNaN(X)&&(X=p.getBestMask(q,F.bind(null,q,Y))),p.applyMask(X,q),F(q,Y,X),{modules:q,version:W,errorCorrectionLevel:Y,maskPattern:X,segments:ve}}return kf.create=function(W,Y){if(typeof W>"u"||W==="")throw new Error("No input text");let X=a.M,ve,ae;return typeof Y<"u"&&(X=a.from(Y.errorCorrectionLevel,a.M),ve=_.from(Y.version),ae=p.from(Y.maskPattern),Y.toSJISFunc&&t.setToSJISFunction(Y.toSJISFunc)),$(W,ve,X,ae)},kf}var Vf={},Gf={},Fv;function Y_(){return Fv||(Fv=1,(function(t){function a(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(f){return[f,f]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,f=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:f,scale:f?4:p,margin:d,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},t.getImageWidth=function(o,d){const f=t.getScale(o,d);return Math.floor((o+d.margin*2)*f)},t.qrToImageData=function(o,d,f){const p=d.modules.size,x=d.modules.data,v=t.getScale(p,f),_=Math.floor((p+f.margin*2)*v),j=f.margin*v,w=[f.color.light,f.color.dark];for(let k=0;k<_;k++)for(let z=0;z<_;z++){let C=(k*_+z)*4,A=f.color.light;if(k>=j&&z>=j&&k<_-j&&z<_-j){const M=Math.floor((k-j)/v),F=Math.floor((z-j)/v);A=w[x[M*p+F]?1:0]}o[C++]=A.r,o[C++]=A.g,o[C++]=A.b,o[C]=A.a}}})(Gf)),Gf}var Hv;function zz(){return Hv||(Hv=1,(function(t){const a=Y_();function l(d,f,p){d.clearRect(0,0,f.width,f.height),f.style||(f.style={}),f.height=p,f.width=p,f.style.height=p+"px",f.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(f,p,x){let v=x,_=p;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),p||(_=o()),v=a.getOptions(v);const j=a.getImageWidth(f.modules.size,v),w=_.getContext("2d"),k=w.createImageData(j,j);return a.qrToImageData(k.data,f,v),l(w,_,j),w.putImageData(k,0,0),_},t.renderToDataURL=function(f,p,x){let v=x;typeof v>"u"&&(!p||!p.getContext)&&(v=p,p=void 0),v||(v={});const _=t.render(f,p,v),j=v.type||"image/png",w=v.rendererOpts||{};return _.toDataURL(j,w.quality)}})(Vf)),Vf}var Yf={},Kv;function Oz(){if(Kv)return Yf;Kv=1;const t=Y_();function a(d,f){const p=d.a/255,x=f+'="'+d.hex+'"';return p<1?x+" "+f+'-opacity="'+p.toFixed(2).slice(1)+'"':x}function l(d,f,p){let x=d+f;return typeof p<"u"&&(x+=" "+p),x}function o(d,f,p){let x="",v=0,_=!1,j=0;for(let w=0;w<d.length;w++){const k=Math.floor(w%f),z=Math.floor(w/f);!k&&!_&&(_=!0),d[w]?(j++,w>0&&k>0&&d[w-1]||(x+=_?l("M",k+p,.5+z+p):l("m",v,0),v=0,_=!1),k+1<f&&d[w+1]||(x+=l("h",j),j=0)):v++}return x}return Yf.render=function(f,p,x){const v=t.getOptions(p),_=f.modules.size,j=f.modules.data,w=_+v.margin*2,k=v.color.light.a?"<path "+a(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+a(v.color.dark,"stroke")+' d="'+o(j,_,v.margin)+'"/>',C='viewBox="0 0 '+w+" "+w+'"',M='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+C+' shape-rendering="crispEdges">'+k+z+`</svg>
`;return typeof x=="function"&&x(null,M),M},Yf}var Qv;function Mz(){if(Qv)return wl;Qv=1;const t=fz(),a=Az(),l=zz(),o=Oz();function d(f,p,x,v,_){const j=[].slice.call(arguments,1),w=j.length,k=typeof j[w-1]=="function";if(!k&&!t())throw new Error("Callback required as last argument");if(k){if(w<2)throw new Error("Too few arguments provided");w===2?(_=x,x=p,p=v=void 0):w===3&&(p.getContext&&typeof _>"u"?(_=v,v=void 0):(_=v,v=x,x=p,p=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(x=p,p=v=void 0):w===2&&!p.getContext&&(v=x,x=p,p=void 0),new Promise(function(z,C){try{const A=a.create(x,v);z(f(A,p,v))}catch(A){C(A)}})}try{const z=a.create(x,v);_(null,f(z,p,v))}catch(z){_(z)}}return wl.create=a.create,wl.toCanvas=d.bind(null,l.render),wl.toDataURL=d.bind(null,l.renderToDataURL),wl.toString=d.bind(null,function(f,p,x){return o.render(f,x)}),wl}var Rz=Mz();const Vv=ad(Rz),Lz=[41.0082,28.9784];function As(t){return t.toFixed(6)}function Dz({lat:t,lon:a,radiusM:l,onSelect:o}){const d=S.useRef(null),f=S.useRef(null),p=S.useRef(null),x=S.useRef(null),[v,_]=S.useState(!1),[j,w]=S.useState(""),[k,z]=S.useState(!1),[C,A]=S.useState(null),[M,F]=S.useState(null),B=S.useMemo(()=>t!==null&&a!==null?[t,a]:Lz,[t,a]);S.useEffect(()=>{if(!(!d.current||f.current)){try{const $=Fi.map(d.current,{center:B,zoom:t!==null&&a!==null?17:12,zoomControl:!0});f.current=$,Fi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo($);const G=Fi.circleMarker(B,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo($);p.current=G;const W=Fi.circle(B,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo($);x.current=W,$.on("click",Y=>{const X=Y.latlng.lat,ve=Y.latlng.lng;o(X,ve),F(`Haritadan secildi: ${As(X)}, ${As(ve)}`)}),_(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),_(!1)}return()=>{f.current&&(f.current.remove(),f.current=null),p.current=null,x.current=null,_(!1)}}},[B,t,a,o,l]),S.useEffect(()=>{if(!f.current||!p.current||!x.current)return;const $=f.current,G=p.current,W=x.current;if(t!==null&&a!==null){const X=[t,a];G.setLatLng(X),W.setLatLng(X),$.panTo(X,{animate:!0})}const Y=Number.isFinite(l)&&l>0?l:75;W.setRadius(Y)},[t,a,l]);const U=S.useCallback(async()=>{if(!v||!f.current)return;const $=j.trim();if(!$){F("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const G=new URL("https://nominatim.openstreetmap.org/search");G.searchParams.set("q",$),G.searchParams.set("format","json"),G.searchParams.set("limit","1"),G.searchParams.set("addressdetails","1"),G.searchParams.set("accept-language","tr");const W=await fetch(G.toString(),{headers:{Accept:"application/json"}});if(!W.ok)throw new Error("search_failed");const Y=await W.json();if(!Array.isArray(Y)||Y.length===0){F("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const X=Y[0],ve=Number(X.lat),ae=Number(X.lon);if(!Number.isFinite(ve)||!Number.isFinite(ae)){F("Adres koordinata cevrilemedi.");return}o(ve,ae),f.current.setView([ve,ae],17,{animate:!0}),F(`Adres bulundu: ${As(ve)}, ${As(ae)}${X.display_name?` (${X.display_name})`:""}`)}catch{F("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[v,o,j]),K=S.useCallback(()=>{if(!navigator.geolocation){F("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition($=>{const G=$.coords.latitude,W=$.coords.longitude;o(G,W),F(`Mevcut konum alindi: ${As(G)}, ${As(W)}`)},()=>{F("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return r.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),r.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),C?r.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:C}):r.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),r.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[r.jsx("input",{value:j,onChange:$=>w($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),r.jsx("button",{type:"button",onClick:()=>{U()},disabled:!v||k,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:k?"Araniyor...":"Ara"}),r.jsx("button",{type:"button",onClick:K,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),r.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[r.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",t!==null?As(t):"-"]}),r.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",a!==null?As(a):"-"]}),r.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),M?r.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:M}):null]})}const Bc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},Ic={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},Pz={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function Gv(t){return t==="CHECKIN"?"CHECKIN (Giris)":t==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function Yv(t,a){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a}function Bz(t){return t==="CHECKIN"?"IN":t==="CHECKOUT"?"OUT":"BOTH"}function Iz(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(null),[d,f]=S.useState(null),[p,x]=S.useState(null),[v,_]=S.useState(""),[j,w]=S.useState(""),[k,z]=S.useState(""),[C,A]=S.useState(Bc),[M,F]=S.useState(Pz),[B,U]=S.useState(Ic),[K,$]=S.useState([]),[G,W]=S.useState(null),Y=Ue({queryKey:["qr-codes"],queryFn:()=>IE()}),X=Ue({queryKey:["qr-points"],queryFn:()=>HE()}),ve=Ke({mutationFn:UE,onSuccess:te=>{a({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${te.id}`}),A(Bc),o(te.id),t.invalidateQueries({queryKey:["qr-codes"]})},onError:te=>{a({variant:"error",title:"QR kod olusturulamadi",description:De(te,"Islem basarisiz.").message})}}),ae=Ke({mutationFn:({codeId:te,payload:ke})=>ZE(te,ke),onSuccess:te=>{a({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${te.id}`}),f(null),A(Bc),t.invalidateQueries({queryKey:["qr-codes"]})},onError:te=>{a({variant:"error",title:"QR kod guncellenemedi",description:De(te,"Islem basarisiz.").message})}}),ce=Ke({mutationFn:({codeId:te,pointIds:ke})=>qE(te,{point_ids:ke}),onSuccess:()=>{a({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),$([]),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{a({variant:"error",title:"Atama basarisiz",description:De(te,"Nokta atamasi yapilamadi.").message})}}),oe=Ke({mutationFn:({codeId:te,pointId:ke})=>FE(te,ke),onSuccess:()=>{a({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),t.invalidateQueries({queryKey:["qr-codes"]}),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{a({variant:"error",title:"Islem basarisiz",description:De(te,"Nokta kaldirilamadi.").message})}}),q=Ke({mutationFn:KE,onSuccess:te=>{a({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${te.id}`}),U(Ic),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{a({variant:"error",title:"QR nokta olusturulamadi",description:De(te,"Islem basarisiz.").message})}}),le=Ke({mutationFn:({pointId:te,payload:ke})=>QE(te,ke),onSuccess:()=>{a({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),x(null),U(Ic),t.invalidateQueries({queryKey:["qr-points"]})},onError:te=>{a({variant:"error",title:"QR nokta guncellenemedi",description:De(te,"Islem basarisiz.").message})}}),Z=Ke({mutationFn:VE,onSuccess:()=>{a({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),t.invalidateQueries({queryKey:["qr-points"]}),t.invalidateQueries({queryKey:["qr-codes"]})},onError:te=>{a({variant:"error",title:"Islem basarisiz",description:De(te,"Nokta pasife alinamadi.").message})}}),re=Y.data??[],de=X.data??[];S.useEffect(()=>{l===null&&re.length>0&&o(re[0].id),l!==null&&!re.some(te=>te.id===l)&&o(re.length>0?re[0].id:null)},[re,l]);const Ee=S.useMemo(()=>re.find(te=>te.id===l)??null,[re,l]);S.useEffect(()=>{if(!Ee){W(null);return}let te=!1;return Vv.toDataURL(Ee.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(ke=>{te||W(ke)}).catch(()=>{te||W(null)}),()=>{te=!0}},[Ee?.id,Ee?.code_value]);const ee=S.useMemo(()=>{const te=new Map;for(const ke of de)te.set(ke.id,ke);return te},[de]),O=S.useMemo(()=>Ee?Ee.point_ids.map(te=>ee.get(te)??null).filter(te=>te!==null):[],[Ee,ee]),ie=S.useMemo(()=>{const te=v.trim().toLowerCase();return te?re.filter(ke=>String(ke.id).includes(te)||(ke.name??"").toLowerCase().includes(te)||ke.code_value.toLowerCase().includes(te)):re},[re,v]),R=S.useMemo(()=>{const te=j.trim().toLowerCase();return te?de.filter(ke=>String(ke.id).includes(te)||ke.name.toLowerCase().includes(te)||String(ke.department_id??"").includes(te)||String(ke.region_id??"").includes(te)):de},[de,j]),H=S.useMemo(()=>{const te=de.filter(Ge=>Ge.is_active),ke=k.trim().toLowerCase();return ke?te.filter(Ge=>String(Ge.id).includes(ke)||Ge.name.toLowerCase().includes(ke)||String(Ge.department_id??"").includes(ke)||String(Ge.region_id??"").includes(ke)):te},[de,k]),ge=S.useMemo(()=>{const te=re.filter(At=>At.is_active).length,ke=de.filter(At=>At.is_active).length,Ge=re.filter(At=>At.point_ids.length===0).length;return{codeCount:re.length,activeCodes:te,pointCount:de.length,activePoints:ke,codesWithoutPoint:Ge}},[re,de]),J=S.useMemo(()=>{const te=Number(B.lat);return Number.isFinite(te)?te:null},[B.lat]),Te=S.useMemo(()=>{const te=Number(B.lon);return Number.isFinite(te)?te:null},[B.lon]),Be=S.useMemo(()=>{const te=Number(B.radiusM);return Number.isFinite(te)&&te>0?te:75},[B.radiusM]),Ze=te=>{$(ke=>ke.includes(te)?ke.filter(Ge=>Ge!==te):[...ke,te])},dt=te=>{f(te.id),A({name:te.name??"",codeValue:te.code_value,codeType:te.code_type,isActive:te.is_active})},at=()=>{f(null),A(Bc)},Ut=()=>{const te=Yv(M.regionCode,"GEN"),ke=Yv(M.locationCode,"LOKASYON"),Ge=Number(M.serialNo),At=Number.isFinite(Ge)&&Ge>0?Math.floor(Ge):1,Ye=Bz(C.codeType),_e=`PF-${te}-${ke}-${Ye}-${String(At).padStart(6,"0")}`;A(V=>({...V,codeValue:_e}))},Lt=te=>{x(te.id),U({name:te.name,lat:String(te.lat),lon:String(te.lon),radiusM:String(te.radius_m),isActive:te.is_active})},Gt=()=>{x(null),U(Ic)},an=te=>{te.preventDefault();const ke=C.codeValue.trim();if(!ke){a({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const Ge={name:C.name.trim()||null,code_value:ke,code_type:C.codeType,is_active:C.isActive};if(d===null){ve.mutate(Ge);return}ae.mutate({codeId:d,payload:Ge})},Yt=te=>{te.preventDefault();const ke=B.name.trim(),Ge=Number(B.lat),At=Number(B.lon),Ye=Number(B.radiusM);if(!ke){a({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(Ge)||!Number.isFinite(At)||!Number.isFinite(Ye)||Ye<=0){a({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const _e={name:ke,lat:Ge,lon:At,radius_m:Ye,is_active:B.isActive};if(p===null){q.mutate(_e);return}le.mutate({pointId:p,payload:_e})},ln=()=>{if(!Ee){a({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(K.length===0){a({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}ce.mutate({codeId:Ee.id,pointIds:K})},on=async te=>{try{await navigator.clipboard.writeText(te),a({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{a({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},bn=async te=>{try{const ke=await Vv.toDataURL(te.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),Ge=document.createElement("a");Ge.href=ke,Ge.download=`qr-kod-${te.id}.png`,document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge),a({variant:"success",title:"PNG indirildi",description:`QR kod #${te.id} dosyasi indirildi.`})}catch{a({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return Y.isLoading||X.isLoading?r.jsx(It,{}):Y.isError||X.isError?r.jsx(ze,{children:r.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),r.jsx(ze,{children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_1fr]",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),r.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[r.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),r.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),r.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),r.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),r.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.codeCount}),r.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activeCodes]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ge.pointCount}),r.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",ge.activePoints]})]}),r.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[r.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),r.jsx("p",{className:"text-lg font-semibold text-rose-800",children:ge.codesWithoutPoint}),r.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),r.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),r.jsxs("form",{className:"mt-3 space-y-3",onSubmit:an,children:[r.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",r.jsx("input",{value:C.name,onChange:te=>A(ke=>({...ke,name:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),r.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[r.jsx("input",{value:M.regionCode,onChange:te=>F(ke=>({...ke,regionCode:te.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),r.jsx("input",{value:M.locationCode,onChange:te=>F(ke=>({...ke,locationCode:te.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),r.jsx("input",{type:"number",min:1,value:M.serialNo,onChange:te=>F(ke=>({...ke,serialNo:te.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),r.jsx("button",{type:"button",onClick:Ut,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),r.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",r.jsx("input",{value:C.codeValue,onChange:te=>A(ke=>({...ke,codeValue:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),r.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",r.jsxs("select",{value:C.codeType,onChange:te=>A(ke=>({...ke,codeType:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),r.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),r.jsx("option",{value:"BOTH",children:"BOTH"})]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:C.isActive,onChange:te=>A(ke=>({...ke,isActive:te.target.checked}))}),"Aktif"]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"submit",disabled:ve.isPending||ae.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?r.jsx("button",{type:"button",onClick:at,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),r.jsx("div",{className:"mt-3",children:r.jsx(Os,{value:v,onChange:_,placeholder:"Kod adi / degeri / ID ara"})}),r.jsx("div",{className:"mt-3 max-h-80 overflow-auto rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2",children:"ID"}),r.jsx("th",{className:"px-3 py-2",children:"Kod"}),r.jsx("th",{className:"px-3 py-2",children:"Tip"}),r.jsx("th",{className:"px-3 py-2",children:"Durum"}),r.jsx("th",{className:"px-3 py-2",children:"Nokta"}),r.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),r.jsxs("tbody",{children:[ie.map(te=>r.jsxs("tr",{className:`border-t border-slate-100 ${l===te.id?"bg-brand-50/60":""}`,children:[r.jsx("td",{className:"px-3 py-2",children:te.id}),r.jsxs("td",{className:"px-3 py-2",children:[r.jsx("button",{type:"button",onClick:()=>o(te.id),className:"font-medium text-brand-700 hover:underline",children:te.name||"-"}),r.jsx("div",{className:"text-xs text-slate-500",children:te.code_value})]}),r.jsx("td",{className:"px-3 py-2",children:Gv(te.code_type)}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${te.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:te.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"px-3 py-2",children:te.point_ids.length}),r.jsx("td",{className:"px-3 py-2",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx("button",{type:"button",onClick:()=>dt(te),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),r.jsx("button",{type:"button",onClick:()=>{bn(te)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},te.id)),ie.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),r.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Ee?`3) QR Kod Detay (#${Ee.id})`:"3) QR Kod Detay"}),Ee?r.jsxs("div",{className:"mt-3 space-y-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Ee.name||"-"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Ee.code_value]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Tip:"})," ",Gv(Ee.code_type)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Ee.is_active?"Aktif":"Pasif"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Ee.point_ids.length]})]}),Ee.point_ids.length===0?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,r.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),r.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Ee.code_value}),G?r.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[r.jsx("img",{src:G,alt:`QR Kod ${Ee.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{bn(Ee)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),r.jsx("button",{type:"button",onClick:()=>{on(Ee.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):r.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),r.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),r.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),O.length===0?r.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):r.jsx("div",{className:"space-y-2",children:O.map(te=>r.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-slate-800",children:["#",te.id," - ",te.name]}),r.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",te.lat,", ",te.lon," | radius: ",te.radius_m,"m"]})]}),r.jsx("button",{type:"button",onClick:()=>oe.mutate({codeId:Ee.id,pointId:te.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},te.id))})]}):r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),r.jsx("div",{className:"mt-3",children:r.jsx(Os,{value:k,onChange:z,placeholder:"Nokta adi / ID ara"})}),r.jsx("div",{className:"mt-3 max-h-56 overflow-auto rounded-lg border border-slate-200 p-2",children:H.length===0?r.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):r.jsx("div",{className:"space-y-1",children:H.map(te=>r.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[r.jsx("input",{type:"checkbox",checked:K.includes(te.id),onChange:()=>Ze(te.id)}),r.jsxs("span",{children:["#",te.id," - ",te.name," (",te.radius_m,"m)"]})]},te.id))})}),r.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",K.length]}),r.jsx("button",{type:"button",onClick:ln,disabled:ce.isPending||Ee===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),r.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:p===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${p})`}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),r.jsxs("form",{className:"mt-3 space-y-3",onSubmit:Yt,children:[r.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",r.jsx("input",{value:B.name,onChange:te=>U(ke=>({...ke,name:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",r.jsx("input",{type:"number",step:"any",value:B.lat,onChange:te=>U(ke=>({...ke,lat:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",r.jsx("input",{type:"number",step:"any",value:B.lon,onChange:te=>U(ke=>({...ke,lon:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),r.jsx(Dz,{lat:J,lon:Te,radiusM:Be,onSelect:(te,ke)=>U(Ge=>({...Ge,lat:String(te),lon:String(ke)}))}),r.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",r.jsx("input",{type:"number",min:1,value:B.radiusM,onChange:te=>U(ke=>({...ke,radiusM:te.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:B.isActive,onChange:te=>U(ke=>({...ke,isActive:te.target.checked}))}),"Aktif"]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"submit",disabled:q.isPending||le.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:p===null?"Olustur":"Guncelle"}),p!==null?r.jsx("button",{type:"button",onClick:Gt,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),r.jsx("div",{className:"mt-3",children:r.jsx(Os,{value:j,onChange:w,placeholder:"Nokta adi / ID ara"})}),r.jsx("div",{className:"mt-3 max-h-96 overflow-auto rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2",children:"ID"}),r.jsx("th",{className:"px-3 py-2",children:"Nokta"}),r.jsx("th",{className:"px-3 py-2",children:"Konum"}),r.jsx("th",{className:"px-3 py-2",children:"Durum"}),r.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),r.jsxs("tbody",{children:[R.map(te=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"px-3 py-2",children:te.id}),r.jsxs("td",{className:"px-3 py-2",children:[r.jsx("p",{className:"font-medium text-slate-800",children:te.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",te.radius_m,"m"]})]}),r.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[te.lat,", ",te.lon]}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${te.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:te.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"px-3 py-2",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx("button",{type:"button",onClick:()=>Lt(te),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),te.is_active?r.jsx("button",{type:"button",onClick:()=>Z.mutate(te.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},te.id)),R.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const $v=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function Uz(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState(""),[p,x]=S.useState(""),[v,_]=S.useState({}),[j,w]=S.useState(""),[k,z]=S.useState("09:00"),[C,A]=S.useState("17:30"),[M,F]=S.useState("60"),[B,U]=S.useState(!0),[K,$]=S.useState(null),G=Ue({queryKey:["departments"],queryFn:Rs}),W=Ue({queryKey:["employees","all-for-quick-setup"],queryFn:()=>vi({include_inactive:!0,status:"all"})}),Y=Ue({queryKey:["department-weekly-rules"],queryFn:()=>n_()}),X=Ue({queryKey:["department-shifts"],queryFn:()=>lu({active_only:!1})}),ve=l?Number(l):null,ae=Ke({mutationFn:({employeeId:R,departmentId:H})=>LE(R,{department_id:H}),onSuccess:R=>{a({variant:"success",title:"Departman atamas gncellendi",description:`${R.full_name} iin departman kayd gncellendi.`}),t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["employee-device-overview"]})},onError:R=>{a({variant:"error",title:"Departman gncellenemedi",description:De(R,"lem baarsz.").message})}}),ce=Ke({mutationFn:a_,onSuccess:()=>{a({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:R=>{a({variant:"error",title:"Haftalk kural kaydedilemedi",description:De(R,"lem baarsz.").message})}}),oe=Ke({mutationFn:Xc,onSuccess:()=>{a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),F("60"),U(!0),$(null),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{a({variant:"error",title:"Vardiya kaydedilemedi",description:De(R,"lem baarsz.").message})}}),q=Ke({mutationFn:i_,onSuccess:()=>{a({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),K!==null&&($(null),w(""),z("09:00"),A("17:30"),F("60"),U(!0)),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{a({variant:"error",title:"Vardiya pasife alnamad",description:De(R,"lem baarsz.").message})}}),le=Ke({mutationFn:({shift:R,nextActive:H})=>Xc({id:R.id,department_id:R.department_id,name:R.name,start_time_local:R.start_time_local,end_time_local:R.end_time_local,break_minutes:R.break_minutes,is_active:H}),onSuccess:(R,H)=>{a({variant:"success",title:H.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:H.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:R=>{a({variant:"error",title:"Vardiya durumu gncellenemedi",description:De(R,"lem baarsz.").message})}}),Z=G.data??[],re=W.data??[],de=Y.data??[],Ee=X.data??[],ee=S.useMemo(()=>new Map(Z.map(R=>[R.id,R.name])),[Z]),O=S.useMemo(()=>ve?Ee.filter(R=>R.department_id===ve):[],[ve,Ee]),ie=S.useMemo(()=>re.find(R=>String(R.id)===d),[re,d]);return S.useEffect(()=>{if(!ve){_({});return}const R=new Map(de.filter(ge=>ge.department_id===ve).map(ge=>[ge.weekday,ge])),H={};for(const ge of $v){const J=R.get(ge.value);H[ge.value]={is_workday:J?.is_workday??!0,planned_minutes:String(J?.planned_minutes??540),break_minutes:String(J?.break_minutes??60)}}_(H)},[ve,de]),G.isLoading||W.isLoading||Y.isLoading||X.isLoading?r.jsx(It,{}):G.isError||W.isError||Y.isError||X.isError?r.jsx(St,{message:"Hzl ayarlar verileri alnamad."}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[r.jsx(Qi,{label:"alan",employees:re,value:d,onChange:R=>{f(R);const H=re.find(ge=>String(ge.id)===R);x(H?.department_id?String(H.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",r.jsxs("select",{value:p,onChange:R=>x(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Atanmam"}),Z.map(R=>r.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[r.jsxs("div",{children:[r.jsxs("p",{children:["Seili alan:"," ",ie?`#${ie.id} - ${ie.full_name}`:"-"]}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",ie?.department_id?ee.get(ie.department_id)??"-":"Atanmam"]})]}),r.jsx("button",{type:"button",disabled:!ie||ae.isPending,onClick:()=>{ie&&ae.mutate({employeeId:ie.id,departmentId:p?Number(p):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),r.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:l,onChange:R=>o(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seiniz"}),Z.map(R=>r.jsx("option",{value:R.id,children:R.name},R.id))]})]})}),ve?r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Gn"}),r.jsx("th",{className:"py-2",children:"alma Gn"}),r.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),r.jsx("th",{className:"py-2",children:"Mola Dakika"}),r.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),r.jsx("tbody",{children:$v.map(R=>{const H=v[R.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:R.label}),r.jsx("td",{className:"py-2",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:H.is_workday,onChange:ge=>_(J=>({...J,[R.value]:{...H,is_workday:ge.target.checked}}))}),"alma gn"]})}),r.jsx("td",{className:"py-2",children:r.jsx("input",{value:H.planned_minutes,onChange:ge=>_(J=>({...J,[R.value]:{...H,planned_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),r.jsx("td",{className:"py-2",children:r.jsx("input",{value:H.break_minutes,onChange:ge=>_(J=>({...J,[R.value]:{...H,break_minutes:ge.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),r.jsx("td",{className:"py-2 text-right",children:r.jsx("button",{type:"button",disabled:ce.isPending,onClick:()=>{const ge=Number(H.planned_minutes),J=Number(H.break_minutes);if(!Number.isFinite(ge)||ge<0){a({variant:"error",title:"Geersiz planlanan dakika",description:`${R.label} iin say giriniz.`});return}if(!Number.isFinite(J)||J<0){a({variant:"error",title:"Geersiz mola dakikas",description:`${R.label} iin say giriniz.`});return}ce.mutate({department_id:ve,weekday:R.value,is_workday:H.is_workday,planned_minutes:Math.trunc(ge),break_minutes:Math.trunc(J)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},R.value)})})]})}):r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),ve?r.jsxs(r.Fragment,{children:[r.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:R=>{if(R.preventDefault(),!j.trim()){a({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const H=Number(M);if(!Number.isFinite(H)||H<0){a({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}oe.mutate({id:K??void 0,department_id:ve,name:j.trim(),start_time_local:k,end_time_local:C,break_minutes:Math.trunc(H),is_active:B})},children:[K?r.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",K]}):null,r.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",r.jsx("input",{value:j,onChange:R=>w(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",r.jsx("input",{type:"time",value:k,onChange:R=>z(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",r.jsx("input",{type:"time",value:C,onChange:R=>A(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",r.jsx("input",{value:M,onChange:R=>F(R.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:B,onChange:R=>U(R.target.checked)}),"Aktif"]}),r.jsx("button",{type:"submit",disabled:oe.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:oe.isPending?"Kaydediliyor...":K?"Vardiya Gncelle":"Vardiya Kaydet"}),K?r.jsx("button",{type:"button",onClick:()=>{$(null),w(""),z("09:00"),A("17:30"),F("60"),U(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Vardiya"}),r.jsx("th",{className:"py-2",children:"Saat Aral"}),r.jsx("th",{className:"py-2",children:"Mola"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),r.jsx("tbody",{children:O.map(R=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:R.name}),r.jsxs("td",{className:"py-2",children:[R.start_time_local," - ",R.end_time_local]}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:R.break_minutes})}),r.jsx("td",{className:"py-2",children:R.is_active?"Aktif":"Pasif"}),r.jsx("td",{className:"py-2 text-right",children:r.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{$(R.id),w(R.name),z(R.start_time_local),A(R.end_time_local),F(String(R.break_minutes)),U(R.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),R.is_active?r.jsx("button",{type:"button",disabled:q.isPending||le.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&q.mutate(R.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):r.jsx("button",{type:"button",disabled:le.isPending||q.isPending,onClick:()=>le.mutate({shift:R,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},R.id))})]})}),O.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const Xv=Pa({name:ya().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:gd()});function Jv(t){return Rt.isAxiosError(t)&&t.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":De(t,"Bolge islemi basarisiz.").message}function Zz(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState(!0),[p,x]=S.useState(""),[v,_]=S.useState(!0),[j,w]=S.useState(null),[k,z]=S.useState(""),[C,A]=S.useState(!0),[M,F]=S.useState(null),B=Ue({queryKey:["regions",v],queryFn:()=>dd({include_inactive:v})}),U=Ke({mutationFn:SE,onSuccess:Y=>{o(""),f(!0),F(null),a({variant:"success",title:"Bolge olusturuldu",description:`${Y.name} basariyla eklendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:Y=>{const X=Jv(Y);F(X),a({variant:"error",title:"Bolge olusturulamadi",description:X})}}),K=Ke({mutationFn:({regionId:Y,payload:X})=>jE(Y,X),onSuccess:Y=>{F(null),w(null),z(""),A(!0),a({variant:"success",title:"Bolge guncellendi",description:`${Y.name} guncellendi.`}),t.invalidateQueries({queryKey:["regions"]})},onError:Y=>{const X=Jv(Y);F(X),a({variant:"error",title:"Bolge guncellenemedi",description:X})}}),$=Y=>{Y.preventDefault(),F(null);const X=Xv.safeParse({name:l,is_active:d});if(!X.success){const ve=X.error.issues[0]?.message??"Bolge formunu kontrol edin.";F(ve);return}U.mutate(X.data)},G=Y=>{if(Y.preventDefault(),F(null),!j)return;const X=Xv.safeParse({name:k,is_active:C});if(!X.success){const ve=X.error.issues[0]?.message??"Bolge formunu kontrol edin.";F(ve);return}K.mutate({regionId:j,payload:X.data})},W=S.useMemo(()=>{const Y=B.data??[],X=p.trim().toLowerCase();return X?Y.filter(ve=>ve.name.toLowerCase().includes(X)):Y},[B.data,p]);return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),r.jsxs(ze,{children:[r.jsxs("form",{onSubmit:$,className:"grid gap-3 md:grid-cols-4",children:[r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",r.jsx("input",{value:l,onChange:Y=>o(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:Y=>f(Y.target.checked)}),"Aktif"]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"submit",disabled:U.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:U.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),M?r.jsx("p",{className:"form-validation mt-2",children:M}):null]}),j?r.jsxs(ze,{children:[r.jsxs("form",{onSubmit:G,className:"grid gap-3 md:grid-cols-4",children:[r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",r.jsx("input",{value:k,onChange:Y=>z(Y.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:C,onChange:Y=>A(Y.target.checked)}),"Aktif"]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("button",{type:"submit",disabled:K.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:K.isPending?"Guncelleniyor...":"Kaydet"}),r.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),F(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),M?r.jsx("p",{className:"form-validation mt-2",children:M}):null]}):null,B.isLoading?r.jsx(It,{}):null,B.isError?r.jsx(St,{message:"Bolge listesi alinamadi."}):null,!B.isLoading&&!B.isError?r.jsxs(ze,{children:[r.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[r.jsx(Os,{value:p,onChange:x,placeholder:"Bolge adina gore ara..."}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:v,onChange:Y=>_(Y.target.checked)}),"Pasif bolgeleri goster"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Bolge ID"}),r.jsx("th",{className:"py-2",children:"Bolge Adi"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Islem"})]})}),r.jsx("tbody",{children:W.map(Y=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:Y.id}),r.jsx("td",{className:"py-2",children:Y.name}),r.jsx("td",{className:"py-2",children:r.jsx(Ms,{value:Y.is_active?"Aktif":"Pasif"})}),r.jsx("td",{className:"py-2",children:r.jsx("button",{type:"button",onClick:()=>{w(Y.id),z(Y.name),A(Y.is_active),F(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},Y.id))})]})}),W.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function Wv(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function qz(t){return t==="SENT"?"bg-emerald-100 text-emerald-700":t==="FAILED"?"bg-rose-100 text-rose-700":t==="CANCELED"?"bg-slate-200 text-slate-700":t==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function Fz(t,a){const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=a,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function Hz(){const t=zn(),{pushToast:a}=In(),[l,o]=Rm(),[d,f]=S.useState("Puantaj Bildirimi"),[p,x]=S.useState(""),[v,_]=S.useState(""),[j,w]=S.useState("employees"),[k,z]=S.useState(60),[C,A]=S.useState(""),[M,F]=S.useState(""),[B,U]=S.useState(""),[K,$]=S.useState([]),[G,W]=S.useState([]),[Y,X]=S.useState(null),[ve,ae]=S.useState(!1),ce=Ue({queryKey:["employees","notify"],queryFn:()=>vi({status:"active"})}),oe=Ue({queryKey:["admin-users","notify"],queryFn:e_}),q=Ue({queryKey:["admin-push-config"],queryFn:l_}),le=Ue({queryKey:["notification-jobs",C],queryFn:()=>WE({status:C||void 0,limit:100}),refetchInterval:1e4}),Z=Ue({queryKey:["notify-subs-emp"],queryFn:()=>t1({}),refetchInterval:15e3}),re=Ue({queryKey:["notify-subs-admin"],queryFn:()=>n1({}),refetchInterval:15e3}),de=Ue({queryKey:["daily-archives"],queryFn:()=>r1({limit:90})}),Ee=S.useMemo(()=>{const J=M.trim().toLowerCase();return J?(ce.data??[]).filter(Te=>`${Te.id} ${Te.full_name}`.toLowerCase().includes(J)):ce.data??[]},[ce.data,M]),ee=S.useMemo(()=>{const J=B.trim().toLowerCase();return J?(oe.data??[]).filter(Te=>`${Te.id} ${Te.username}`.toLowerCase().includes(J)):oe.data??[]},[oe.data,B]),O=Ke({mutationFn:a1,onSuccess:J=>{X(J),a({variant:"success",title:"Davet hazr",description:"Link admin cihazna gnderildi."}),navigator.clipboard.writeText(J.invite_url)},onError:J=>a({variant:"error",title:"Davet hatas",description:De(J,"Davet oluturulamad").message})}),ie=Ke({mutationFn:s1,onSuccess:J=>{a({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${J.total_targets} / Gnderilen: ${J.sent}`}),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:J=>a({variant:"error",title:"Gnderim hatas",description:De(J,"Bildirim gnderilemedi").message})}),R=Ke({mutationFn:e1,onSuccess:()=>{t.invalidateQueries({queryKey:["notification-jobs"]})}}),H=Ke({mutationFn:o1,onSuccess:(J,Te)=>{const Be=(de.data??[]).find(Ze=>Ze.id===Te);Fz(J,Be?.file_name??`arsiv-${Te}.xlsx`)}}),ge=Ke({mutationFn:J=>c1(J),onSuccess:J=>{a({variant:"success",title:"Admin bildirimleri gnderildi",description:`Hedef: ${J.total_targets} | Gnderilen: ${J.sent} | Hata: ${J.failed}`}),t.invalidateQueries({queryKey:["notification-jobs"]})},onError:J=>{const Te=De(J,"Ariv bildirimi gnderilemedi.");a({variant:"error",title:"Ariv bildirimi baarsz",description:Te.message})}});return S.useEffect(()=>{if(ve)return;const J=l.get("archive_id");if(!J)return;const Te=Number(J);if(!Number.isInteger(Te)||Te<=0){ae(!0);return}if(!(de.data??[]).find(dt=>dt.id===Te))return;ae(!0),H.mutate(Te);const Ze=new URLSearchParams(l);Ze.delete("archive_id"),o(Ze,{replace:!0})},[ve,de.data,H,l,o]),r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Bildirim Merkezi",description:"Admin claim daveti, push abonelikleri ve gnlk Excel ariv ynetimi."}),r.jsxs(ze,{children:[r.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet sresi (dk)",r.jsx("input",{type:"number",min:1,max:43200,value:k,onChange:J=>z(Number(J.target.value||60)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),r.jsx("button",{type:"button",onClick:()=>O.mutate({expires_in_minutes:k}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki ret"}),r.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",q.data?.enabled?"Aktif":"Pasif"]})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link kopyalama otomatik yaplr. Claim ekran: /admin-panel/device-claim?token=..."}),Y?r.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[r.jsxs("p",{children:["Token: ",Y.token]}),r.jsxs("p",{className:"break-all",children:["Link: ",Y.invite_url]}),r.jsxs("p",{children:["Biti: ",Wv(Y.expires_at)]})]}):null]}),r.jsx(ze,{children:r.jsxs("form",{className:"space-y-3",onSubmit:J=>{J.preventDefault(),ie.mutate({title:d.trim(),message:p.trim(),password:v.trim(),target:j,employee_ids:j!=="admins"&&K.length>0?K:void 0,admin_user_ids:j!=="employees"&&G.length>0?G:void 0})},children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gnder"}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[r.jsx("input",{value:d,onChange:J=>f(J.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Balk"}),r.jsx("input",{type:"password",value:v,onChange:J=>_(J.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin ifresi"}),r.jsxs("select",{value:j,onChange:J=>w(J.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"employees",children:"alanlara"}),r.jsx("option",{value:"admins",children:"Adminlere"}),r.jsx("option",{value:"both",children:"Her ikisine"})]})]}),r.jsx("textarea",{value:p,onChange:J=>x(J.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),j!=="admins"?r.jsxs("div",{children:[r.jsx(Os,{value:M,onChange:F,placeholder:"alan filtrele..."}),r.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:Ee.map(J=>r.jsxs("label",{className:"flex items-center justify-between py-1",children:[r.jsxs("span",{children:["#",J.id," - ",J.full_name]}),r.jsx("input",{type:"checkbox",checked:K.includes(J.id),onChange:()=>$(Te=>Te.includes(J.id)?Te.filter(Be=>Be!==J.id):[...Te,J.id])})]},J.id))})]}):null,j!=="employees"?r.jsxs("div",{children:[r.jsx(Os,{value:B,onChange:U,placeholder:"Admin filtrele..."}),r.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:ee.map(J=>r.jsxs("label",{className:"flex items-center justify-between py-1",children:[r.jsxs("span",{children:["#",J.id," - ",J.username]}),r.jsx("input",{type:"checkbox",checked:G.includes(J.id),onChange:()=>W(Te=>Te.includes(J.id)?Te.filter(Be=>Be!==J.id):[...Te,J.id])})]},J.id))})]}):null,r.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gnder"})]})}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim leri"}),r.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[r.jsxs("select",{value:C,onChange:J=>A(J.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Tm"}),r.jsx("option",{value:"PENDING",children:"PENDING"}),r.jsx("option",{value:"SENDING",children:"SENDING"}),r.jsx("option",{value:"SENT",children:"SENT"}),r.jsx("option",{value:"FAILED",children:"FAILED"}),r.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),r.jsx("button",{type:"button",onClick:()=>{le.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),le.isLoading?r.jsx(It,{label:"Ykleniyor..."}):null,le.isError?r.jsx(St,{message:"Job listesi alnamad."}):null,r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[r.jsx("th",{className:"py-2",children:"ID"}),r.jsx("th",{children:"Tr"}),r.jsx("th",{children:"Durum"}),r.jsx("th",{children:"Planlanan"}),r.jsx("th",{children:"lem"})]})}),r.jsx("tbody",{children:(le.data??[]).map(J=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:J.id}),r.jsx("td",{children:J.job_type}),r.jsx("td",{children:r.jsx("span",{className:`rounded px-2 py-1 text-xs ${J.status==="SENT"?"bg-emerald-100 text-emerald-700":qz(J.status)}`,children:J.status})}),r.jsx("td",{children:Wv(J.scheduled_at_utc)}),r.jsx("td",{children:J.status==="PENDING"||J.status==="SENDING"?r.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>R.mutate(J.id),children:"ptal"}):"-"})]},J.id))})]})})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik zeti"}),r.jsxs("div",{className:"grid gap-2 md:grid-cols-3",children:[r.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["alan abonelik: ",(Z.data??[]).length]}),r.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(re.data??[]).length]}),r.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Ariv dosyas: ",(de.data??[]).length]})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gnlk Excel Arivi"}),de.isLoading?r.jsx(It,{label:"Ariv ykleniyor..."}):null,de.isError?r.jsx(St,{message:"Ariv listesi alnamad."}):null,r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[r.jsx("th",{className:"py-2",children:"ID"}),r.jsx("th",{children:"Tarih"}),r.jsx("th",{children:"Dosya"}),r.jsx("th",{children:"Boyut"}),r.jsx("th",{children:"ndir"})]})}),r.jsx("tbody",{children:(de.data??[]).map(J=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:J.id}),r.jsx("td",{children:J.report_date}),r.jsx("td",{children:J.file_name}),r.jsxs("td",{children:[(J.file_size_bytes/1024).toFixed(1)," KB"]}),r.jsx("td",{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>H.mutate(J.id),children:"Excel indir"}),r.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",onClick:()=>ge.mutate(J.id),disabled:ge.isPending,children:"Adminlere bildir"})]})})]},J.id))})]})})]})]})}const El={action:"",entityType:"",entityId:"",success:"all",limit:"300"},Kz=[{value:"",label:"Tm aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giri baarl"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giri baarsz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin k yapt"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kayd oluturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti oluturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eletirildi"},{value:"LEAVE_CREATED",label:"zin oluturuldu"},{value:"LEAVE_DELETED",label:"zin silindi"}],Qz={ADMIN_LOGIN_SUCCESS:"Admin giri baarl",ADMIN_LOGIN_FAIL:"Admin giri baarsz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin k yapt",ATTENDANCE_EVENT_CREATED:"Yoklama kayd oluturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti oluturuldu",DEVICE_CLAIMED:"Cihaz eletirildi",LEAVE_CREATED:"zin oluturuldu",LEAVE_DELETED:"zin silindi"};function Vz(t){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}function Gz(t){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))}function Yz(t){return t?"Baarl":"Hata"}function $z(t){const a=Object.entries(t);return a.length===0?"-":a.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function Xz(t){return Qz[t]??t}function Jz(t){const a=Number(t.limit),l=Number.isInteger(a)&&a>0?Math.min(a,500):300;return{action:t.action||void 0,entity_type:t.entityType||void 0,entity_id:t.entityId||void 0,success:t.success==="all"?void 0:t.success==="success",limit:l}}function Wz(t){const a=`${t.actor_type}:${t.actor_id}`,l=t.entity_type?`${t.entity_type}${t.entity_id?`#${t.entity_id}`:""}`:"-",o=t.ip??"-";return`[${Gz(t.ts_utc)}] ${t.action} actor=${a} entity=${l} ip=${o}`}function e3(t){return t==="success"?"text-emerald-300":t==="warning"?"text-amber-300":t==="error"?"text-rose-300":"text-cyan-300"}function t3(){const[t,a]=S.useState(El),[l,o]=S.useState(El),[d,f]=S.useState(""),[p,x]=S.useState(!0),[v,_]=S.useState(""),[j,w]=S.useState(null),[k,z]=S.useState([{id:1,level:"info",text:'Log terminali hazr. Yardm iin "help" yazn.'}]),C=S.useRef(2),A=S.useRef(null),M=S.useMemo(()=>Jz(l),[l]),F=Ue({queryKey:["audit-logs",M],queryFn:()=>r_(M),refetchInterval:p?8e3:!1,refetchIntervalInBackground:!0}),B=F.data??[],U=S.useMemo(()=>{if(!d.trim())return B;const ae=d.trim().toLowerCase();return B.filter(ce=>[ce.action,ce.actor_type,ce.actor_id,ce.entity_type??"",ce.entity_id??"",ce.ip??"",ce.user_agent??"",JSON.stringify(ce.details)].join(" ").toLowerCase().includes(ae))},[B,d]),K=S.useMemo(()=>{if(j!==null){const ae=U.find(ce=>ce.id===j);if(ae)return ae}return U[0]??null},[j,U]),$=S.useMemo(()=>{const ae=B.filter(q=>!q.success).length,ce=B.filter(q=>q.action.startsWith("ADMIN_LOGIN")).length,oe=B.filter(q=>q.action==="ATTENDANCE_EVENT_CREATED").length;return{total:B.length,failed:ae,loginEvents:ce,attendanceEvents:oe}},[B]);S.useEffect(()=>{!K&&j!==null&&w(null)},[K,j]),S.useEffect(()=>{!p||A.current===null||(A.current.scrollTop=A.current.scrollHeight)},[p,U,k]);const G=(ae,ce)=>{z(oe=>{const q=[...oe,{id:C.current,level:ae,text:ce}];return C.current+=1,q.slice(-120)})},W=ae=>{ae.preventDefault(),o({...t}),G("success","Filtreler uyguland.")},Y=()=>{a(El),o(El),f(""),G("info","Filtreler temizlendi.")},X=ae=>{const ce=ae.trim();if(!ce)return;G("info",`$ ${ce}`);const[oe,...q]=ce.split(/\s+/),le=oe.toLowerCase(),Z=ce.slice(oe.length).trim();if(le==="help"||le==="yardim"||le==="yardm"){G("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, limit <N>");return}if(le==="clear"||le==="temizle"){z([]),C.current=1,G("success","Terminal kt gemii temizlendi.");return}if(le==="apply"||le==="uygula"){o({...t}),G("success","Taslak filtreler uyguland.");return}if(le==="reset"||le==="sifirla"||le==="sfrla"){a(El),o(El),f(""),G("warning","Filtreler sfrland.");return}if(le==="refresh"||le==="yenile"){F.refetch(),G("success","Log verisi yeniden ekiliyor.");return}if(le==="follow"||le==="takip"){const re=q[0]?.toLowerCase();if(re==="on"||re==="ac"||re==="a"){x(!0),G("success","Canl takip ald.");return}if(re==="off"||re==="kapat"){x(!1),G("warning","Canl takip kapatld.");return}G("error","Kullanm: follow on|off");return}if(le==="status"||le==="durum"){const re=q[0]?.toLowerCase();let de=null;if((re==="all"||re==="tum"||re==="tm")&&(de="all"),(re==="success"||re==="ok"||re==="basarili"||re==="baarl")&&(de="success"),(re==="failed"||re==="error"||re==="hata")&&(de="failed"),de===null){G("error","Kullanm: status all|success|failed");return}a(Ee=>({...Ee,success:de})),o(Ee=>({...Ee,success:de})),G("success",`Durum filtresi gncellendi: ${de}`);return}if(le==="action"||le==="aksiyon"){if(!Z){G("error","Kullanm: action <AKSIYON_KODU>");return}a(re=>({...re,action:Z})),o(re=>({...re,action:Z})),G("success",`Aksiyon filtresi gncellendi: ${Z}`);return}if(le==="search"||le==="ara"){f(Z),G("success",Z?`Metin aramas uyguland: "${Z}"`:"Metin aramas temizlendi.");return}if(le==="limit"){const re=Number(q[0]);if(!Number.isFinite(re)||re<=0){G("error","Kullanm: limit <1-500>");return}const de=Math.min(Math.max(Math.trunc(re),1),500);a(Ee=>({...Ee,limit:String(de)})),o(Ee=>({...Ee,limit:String(de)})),G("success",`Limit gncellendi: ${de}`);return}G("error",`Bilinmeyen komut: ${le}. Yardm iin "help" yazn.`)},ve=ae=>{ae.preventDefault(),X(v),_("")};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Sistem Loglar",description:"Program hareketleri, hata kaytlar, giri/k ve yoklama ilemlerini terminal grnmnde izleyin."}),r.jsxs(ze,{children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.total})]}),r.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[r.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),r.jsx("p",{className:"text-sm font-semibold text-rose-800",children:$.failed})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylar"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.loginEvents})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.attendanceEvents})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{x(ae=>!ae),G("info",p?"Canl takip kapatld.":"Canl takip ald.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${p?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:p?"Canl takip: Ak":"Canl takip: Kapal"}),r.jsx("button",{type:"button",onClick:()=>{F.refetch(),G("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),r.jsx("button",{type:"button",onClick:Y,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),r.jsxs("form",{className:"mt-3 space-y-3",onSubmit:W,children:[r.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",r.jsx("select",{value:t.action,onChange:ae=>a(ce=>({...ce,action:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:Kz.map(ae=>r.jsx("option",{value:ae.value,children:ae.label},ae.label))})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk tr",r.jsx("input",{type:"text",value:t.entityType,onChange:ae=>a(ce=>({...ce,entityType:ae.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Varlk ID",r.jsx("input",{type:"text",value:t.entityId,onChange:ae=>a(ce=>({...ce,entityId:ae.target.value})),placeholder:"rn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",r.jsxs("select",{value:t.success,onChange:ae=>a(ce=>({...ce,success:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"all",children:"Tm"}),r.jsx("option",{value:"success",children:"Baarl"}),r.jsx("option",{value:"failed",children:"Hata"})]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",r.jsx("input",{type:"number",min:1,max:500,value:t.limit,onChange:ae=>a(ce=>({...ce,limit:ae.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",r.jsx("input",{type:"text",value:d,onChange:ae=>f(ae.target.value),placeholder:"Aksiyon, kullanc, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),r.jsx("button",{type:"button",onClick:Y,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),r.jsxs(ze,{children:[F.isLoading?r.jsx(It,{label:"Log kaytlar ykleniyor..."}):null,F.isError?r.jsx(St,{message:De(F.error,"Log kaytlar alnamad.").message}):null,!F.isLoading&&!F.isError?r.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[r.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),r.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),r.jsxs("span",{className:"text-[11px] text-slate-400",children:[p?"FOLLOW MODE":"MANUAL MODE","  ",U.length," kayt"]})]}),r.jsx("form",{onSubmit:ve,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:r.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[r.jsx("span",{children:"admin@audit:~$"}),r.jsx("input",{value:v,onChange:ae=>_(ae.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, limit 200...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),r.jsxs("div",{ref:A,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[k.map(ae=>r.jsx("p",{className:`leading-6 ${e3(ae.level)}`,children:ae.text},ae.id)),U.map(ae=>{const ce=K?.id===ae.id;return r.jsxs("button",{type:"button",onClick:()=>w(ae.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${ce?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[r.jsx("span",{className:ae.success?"text-emerald-300":"text-rose-300",children:ae.success?"[OK]":"[ERR]"})," ",r.jsx("span",{className:"text-slate-200",children:Wz(ae)})]},ae.id)}),U.length===0?r.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kayd bulunamad."}):null]})]}),r.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[r.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Seili log detay"}),K===null?r.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayt sein."}):r.jsxs("div",{className:"mt-3 space-y-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Xz(K.action)}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:K.action})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",Vz(K.ts_utc)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Aktr:"})," ",K.actor_type,":",K.actor_id]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Yz(K.success)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Varlk:"})," ",K.entity_type??"-",K.entity_id?` #${K.entity_id}`:""]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"IP:"})," ",K.ip??"-"]}),r.jsxs("p",{className:"break-all",children:[r.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",K.user_agent??"-"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Detay zeti:"})," ",$z(K.details)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),r.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(K.details,null,2)})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs text-slate-500",children:[r.jsx("p",{children:"pucu: Satra tklayp detay sa panelden inceleyin."}),r.jsx("p",{className:"mt-1",children:"Komut satr iin: help, follow on/off, status, action, search, limit."})]})]})]})]}):null]})]})}const n3=Pa({department_id:mn().int().positive(),daily_minutes_planned:mn().int().nonnegative(),break_minutes:mn().int().nonnegative(),grace_minutes:mn().int().nonnegative()}),a3=Pa({department_id:mn().int().positive(),weekday:mn().int().min(0).max(6),is_workday:gd(),planned_minutes:mn().int().nonnegative(),break_minutes:mn().int().nonnegative()}),i3=Pa({department_id:mn().int().positive(),name:ya().min(1).max(100),start_time_local:ya().regex(/^\d{2}:\d{2}$/),end_time_local:ya().regex(/^\d{2}:\d{2}$/),break_minutes:mn().int().nonnegative(),is_active:gd()}),e0=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],s3=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],r3={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function $f(t){const a=t.trim();if(!a)return null;const l=Number(a);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function l3(t,a){const l=t.target_employee_ids&&t.target_employee_ids.length>0?t.target_employee_ids:t.target_employee_id?[t.target_employee_id]:[];return{id:t.id,department_id:t.department_id,target_type:t.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:t.shift_id,daily_minutes_planned:t.daily_minutes_planned,break_minutes:t.break_minutes,grace_minutes:t.grace_minutes,start_date:t.start_date,end_date:t.end_date,is_locked:t.is_locked,is_active:a,note:t.note}}function o3(){const t=zn(),{pushToast:a}=In(),[l,o]=S.useState(""),[d,f]=S.useState("540"),[p,x]=S.useState("60"),[v,_]=S.useState("5"),[j,w]=S.useState(""),[k,z]=S.useState("0"),[C,A]=S.useState(!0),[M,F]=S.useState("540"),[B,U]=S.useState("60"),[K,$]=S.useState(""),[G,W]=S.useState(""),[Y,X]=S.useState("10:00"),[ve,ae]=S.useState("18:00"),[ce,oe]=S.useState("60"),[q,le]=S.useState(!0),[Z,re]=S.useState(null),[de,Ee]=S.useState(null),[ee,O]=S.useState(""),[ie,R]=S.useState("DEPARTMENT"),[H,ge]=S.useState([]),[J,Te]=S.useState(""),[Be,Ze]=S.useState(""),[dt,at]=S.useState(""),[Ut,Lt]=S.useState(""),[Gt,an]=S.useState(""),[Yt,ln]=S.useState(new Date().toISOString().slice(0,10)),[on,bn]=S.useState(new Date().toISOString().slice(0,10)),[te,ke]=S.useState(!1),[Ge,At]=S.useState(!0),[Ye,_e]=S.useState(""),[V,Oe]=S.useState(!0),[jt,$e]=S.useState(null),pn=Ue({queryKey:["departments"],queryFn:Rs}),ue=Ue({queryKey:["employees","all"],queryFn:()=>vi({status:"all"})}),Xe=Ue({queryKey:["work-rules"],queryFn:PE}),yt=Ue({queryKey:["department-weekly-rules"],queryFn:()=>n_()}),Dt=Ue({queryKey:["department-shifts"],queryFn:()=>lu()}),On=Ue({queryKey:["schedule-plans","all"],queryFn:()=>GE({active_only:!1})}),gn=Ke({mutationFn:BE,onSuccess:()=>{$e(null),a({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),t.invalidateQueries({queryKey:["work-rules"]})},onError:D=>{const Me=De(D,"Mesai kurali kaydedilemedi.");$e(Me.message),a({variant:"error",title:"Mesai kurali kaydedilemedi",description:Me.message})}}),Ba=Ke({mutationFn:a_,onSuccess:()=>{$e(null),a({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),t.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:D=>{const Me=De(D,"Haftalik plan kaydedilemedi.");$e(Me.message),a({variant:"error",title:"Haftalik plan kaydedilemedi",description:Me.message})}}),Ps=Ke({mutationFn:Xc,onSuccess:()=>{$e(null),re(null),W(""),X("10:00"),ae("18:00"),oe("60"),le(!0),a({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{const Me=De(D,"Vardiya kaydedilemedi.");$e(Me.message),a({variant:"error",title:"Vardiya kaydedilemedi",description:Me.message})}}),Bs=Ke({mutationFn:i_,onSuccess:()=>{$e(null),Z!==null&&(re(null),W(""),X("10:00"),ae("18:00"),oe("60"),le(!0)),a({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{const Me=De(D,"Vardiya pasife alinamadi.");$e(Me.message),a({variant:"error",title:"Vardiya pasife alinamadi",description:Me.message})}}),Ia=Ke({mutationFn:({shift:D,nextActive:Me})=>Xc({id:D.id,department_id:D.department_id,name:D.name,start_time_local:D.start_time_local,end_time_local:D.end_time_local,break_minutes:D.break_minutes,is_active:Me}),onSuccess:(D,Me)=>{$e(null),a({variant:"success",title:Me.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Me.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),t.invalidateQueries({queryKey:["department-shifts"]})},onError:D=>{const Me=De(D,"Vardiya durumu guncellenemedi.");$e(Me.message),a({variant:"error",title:"Vardiya durumu guncellenemedi",description:Me.message})}}),Ua=Ke({mutationFn:Rx,onSuccess:()=>{$e(null),a({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]}),Ee(null),ge([]),Ze(""),at(""),Lt(""),an(""),ke(!1),At(!0),_e("")},onError:D=>{const Me=De(D,"Planlama kaydedilemedi.");$e(Me.message),a({variant:"error",title:"Planlama kaydedilemedi",description:Me.message})}}),Wa=Ke({mutationFn:YE,onSuccess:()=>{$e(null),a({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:D=>{const Me=De(D,"Planlama iptal edilemedi.");$e(Me.message),a({variant:"error",title:"Planlama iptal edilemedi",description:Me.message})}}),va=Ke({mutationFn:D=>Rx(l3(D,!0)),onSuccess:()=>{$e(null),a({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),t.invalidateQueries({queryKey:["schedule-plans"]})},onError:D=>{const Me=De(D,"Plan aktif edilemedi.");$e(Me.message),a({variant:"error",title:"Plan aktif edilemedi",description:Me.message})}}),ei=S.useMemo(()=>{const D=Number(d),Me=Number(p),ht=Number(v);return{daily:Kc(D),breakValue:Kc(Me),grace:Kc(ht)}},[d,p,v]);if(pn.isLoading||ue.isLoading||Xe.isLoading||yt.isLoading||Dt.isLoading||On.isLoading)return r.jsx(It,{});if(pn.isError||ue.isError||Xe.isError||yt.isError||Dt.isError||On.isError)return r.jsx(St,{message:"Mesai kurali verileri alinamadi."});const sa=pn.data??[],Mr=ue.data??[],Rr=Xe.data??[],Is=yt.data??[],ra=Dt.data??[],Il=On.data??[],_i=new Map(sa.map(D=>[D.id,D.name])),Lr=new Map(Mr.map(D=>[D.id,D.full_name])),Dr=new Map(ra.map(D=>[D.id,D.name])),Mn=Il.filter(D=>V||D.is_active),Re=Number(ee),Us=Number.isFinite(Re)?ra.filter(D=>D.department_id===Re):[],Vi=Number.isFinite(Re)?Mr.filter(D=>D.department_id===Re):[],la=J.trim()?Vi.filter(D=>{const Me=J.trim().toLowerCase();return D.full_name.toLowerCase().includes(Me)||String(D.id).includes(Me.replace("#",""))}):Vi,$t=()=>{Ee(null),R("DEPARTMENT"),ge([]),Te(""),Ze(""),at(""),Lt(""),an(""),ln(new Date().toISOString().slice(0,10)),bn(new Date().toISOString().slice(0,10)),ke(!1),At(!0),_e("")},un=D=>{const Me=D.target_employee_ids&&D.target_employee_ids.length>0?D.target_employee_ids:D.target_employee_id?[D.target_employee_id]:[];Ee(D.id),O(String(D.department_id)),R(D.target_type),ge(Me),Te(""),Ze(D.shift_id?String(D.shift_id):""),at(D.daily_minutes_planned!==null?String(D.daily_minutes_planned):""),Lt(D.break_minutes!==null?String(D.break_minutes):""),an(D.grace_minutes!==null?String(D.grace_minutes):""),ln(D.start_date),bn(D.end_date),ke(D.is_locked),At(D.is_active),_e(D.note??"")},Za=D=>{D.preventDefault(),$e(null);const Me=n3.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:p,grace_minutes:v});if(!Me.success){const ht=Me.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";$e(ht),a({variant:"error",title:"Form hatasi",description:ht});return}gn.mutate(Me.data)},_a=D=>{D.preventDefault(),$e(null);const Me=a3.safeParse({department_id:j,weekday:k,is_workday:C,planned_minutes:M,break_minutes:B});if(!Me.success){const ht=Me.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";$e(ht),a({variant:"error",title:"Form hatasi",description:ht});return}Ba.mutate(Me.data)},Pr=D=>{D.preventDefault(),$e(null);const Me=i3.safeParse({department_id:K,name:G.trim(),start_time_local:Y,end_time_local:ve,break_minutes:ce,is_active:q});if(!Me.success){const ht=Me.error.issues[0]?.message??"Vardiya formunu kontrol edin.";$e(ht),a({variant:"error",title:"Form hatasi",description:ht});return}Ps.mutate({id:Z??void 0,...Me.data})},Ul=D=>{re(D.id),$(String(D.department_id)),W(D.name),X(D.start_time_local),ae(D.end_time_local),oe(String(D.break_minutes)),le(D.is_active),$e(null)},Br=()=>{re(null),W(""),X("10:00"),ae("18:00"),oe("60"),le(!0),$e(null)},bi=D=>{D.preventDefault(),$e(null);const Me=Number(ee);if(!Number.isFinite(Me)||Me<=0){$e("Planlama icin departman secmelisiniz.");return}if(!Yt||!on){$e("Baslangic ve bitis tarihi zorunludur.");return}if(Yt>on){$e("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const ht=ie==="DEPARTMENT"?[]:[...H];if(ie!=="DEPARTMENT"&&ht.length===0){$e("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Rn=Be?Number(Be):null,qa=$f(dt),Kt=$f(Ut),Zs=$f(Gt);if(!Rn&&qa===null&&Kt===null&&Zs===null){$e("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}Ua.mutate({id:de??void 0,department_id:Me,target_type:ie,target_employee_id:ht.length>0?ht[0]:null,target_employee_ids:ht,shift_id:Rn,daily_minutes_planned:qa,break_minutes:Kt,grace_minutes:Zs,start_date:Yt,end_date:on,is_locked:te,is_active:Ge,note:Ye.trim()||null})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(wn,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),r.jsxs("form",{onSubmit:Za,className:"mt-3 grid gap-3 md:grid-cols-4",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seciniz"}),sa.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",r.jsx("input",{value:d,onChange:D=>f(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",r.jsx("input",{value:p,onChange:D=>x(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",r.jsx("input",{value:v,onChange:D=>_(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",ei.daily," | Mola ",ei.breakValue," | Tolerans ",ei.grace]}),r.jsx("div",{className:"md:col-span-4",children:r.jsx("button",{type:"submit",disabled:gn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:gn.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),r.jsxs("form",{onSubmit:_a,className:"mt-3 grid gap-3 md:grid-cols-5",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:j,onChange:D=>w(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seciniz"}),sa.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",r.jsx("select",{value:k,onChange:D=>z(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:e0.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",r.jsx("input",{value:M,onChange:D=>F(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",r.jsx("input",{value:B,onChange:D=>U(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:C,onChange:D=>A(D.target.checked)}),"Calisma Gunu"]}),r.jsx("div",{className:"md:col-span-5",children:r.jsx("button",{type:"submit",disabled:Ba.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ba.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"Gun"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Planlanan Sure"}),r.jsx("th",{className:"py-2",children:"Mola"})]})}),r.jsx("tbody",{children:Is.map(D=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:_i.get(D.department_id)??D.department_id}),r.jsx("td",{className:"py-2",children:e0.find(Me=>Me.value===D.weekday)?.label??D.weekday}),r.jsx("td",{className:"py-2",children:D.is_workday?"Calisma":"Off"}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:D.planned_minutes})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:D.break_minutes})})]},D.id))})]})})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),Z?r.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",Z]}):null,r.jsxs("form",{onSubmit:Pr,className:"mt-3 grid gap-3 md:grid-cols-6",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:K,onChange:D=>$(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seciniz"}),sa.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",r.jsx("input",{value:G,onChange:D=>W(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",r.jsx("input",{type:"time",value:Y,onChange:D=>X(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",r.jsx("input",{type:"time",value:ve,onChange:D=>ae(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",r.jsx("input",{value:ce,onChange:D=>oe(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:q,onChange:D=>le(D.target.checked)}),"Aktif"]}),r.jsx("div",{className:"md:col-span-6",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("button",{type:"submit",disabled:Ps.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ps.isPending?"Kaydediliyor...":Z?"Vardiya Guncelle":"Vardiya Kaydet"}),Z?r.jsx("button",{type:"button",onClick:Br,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"Vardiya"}),r.jsx("th",{className:"py-2",children:"Saat"}),r.jsx("th",{className:"py-2",children:"Mola"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),r.jsx("tbody",{children:ra.map(D=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:_i.get(D.department_id)??D.department_id}),r.jsx("td",{className:"py-2",children:D.name}),r.jsxs("td",{className:"py-2",children:[D.start_time_local," - ",D.end_time_local]}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:D.break_minutes})}),r.jsx("td",{className:"py-2",children:D.is_active?"Aktif":"Pasif"}),r.jsx("td",{className:"py-2 text-right",children:r.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Ul(D),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),D.is_active?r.jsx("button",{type:"button",disabled:Bs.isPending||Ia.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&Bs.mutate(D.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):r.jsx("button",{type:"button",disabled:Ia.isPending||Bs.isPending,onClick:()=>Ia.mutate({shift:D,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},D.id))})]})})]}),r.jsxs(ze,{children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:V,onChange:D=>Oe(D.target.checked)}),"Pasif planlari goster"]})]}),r.jsxs("form",{onSubmit:bi,className:"mt-4 grid gap-3 md:grid-cols-4",children:[r.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",r.jsxs("select",{value:ee,onChange:D=>{O(D.target.value),ge([]),Ze("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seciniz"}),sa.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",r.jsx("select",{value:ie,onChange:D=>{const Me=D.target.value;R(Me),Me==="DEPARTMENT"&&ge([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:s3.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",r.jsx("input",{type:"text",value:J,onChange:D=>Te(D.target.value),disabled:ie==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),r.jsx("select",{multiple:!0,value:H.map(String),onChange:D=>{const Me=Array.from(D.target.selectedOptions).map(ht=>Number(ht.value));ge(Me.filter(ht=>Number.isFinite(ht)&&ht>0))},disabled:ie==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:la.map(D=>r.jsxs("option",{value:D.id,children:["#",D.id," - ",D.full_name]},D.id))}),r.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",r.jsxs("select",{value:Be,onChange:D=>Ze(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Seciniz"}),Us.map(D=>r.jsxs("option",{value:D.id,children:[D.name," (",D.start_time_local," - ",D.end_time_local,")"]},D.id))]})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",r.jsx("input",{value:dt,onChange:D=>at(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",r.jsx("input",{value:Ut,onChange:D=>Lt(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",r.jsx("input",{value:Gt,onChange:D=>an(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",r.jsx("input",{type:"date",value:Yt,onChange:D=>ln(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",r.jsx("input",{type:"date",value:on,onChange:D=>bn(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:te,onChange:D=>ke(D.target.checked)}),"Vardiya kilitli"]}),r.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:Ge,onChange:D=>At(D.target.checked)}),"Aktif"]}),r.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",r.jsx("input",{value:Ye,onChange:D=>_e(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[r.jsx("button",{type:"submit",disabled:Ua.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ua.isPending?"Kaydediliyor...":de?"Plani Guncelle":"Plan Olustur"}),r.jsx("button",{type:"button",onClick:$t,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"Hedef"}),r.jsx("th",{className:"py-2",children:"Vardiya"}),r.jsx("th",{className:"py-2",children:"Plan/Mola"}),r.jsx("th",{className:"py-2",children:"Tarih Araligi"}),r.jsx("th",{className:"py-2",children:"Kilit"}),r.jsx("th",{className:"py-2",children:"Durum"}),r.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),r.jsx("tbody",{children:Mn.map(D=>{const ht=(D.target_employee_ids&&D.target_employee_ids.length>0?D.target_employee_ids:D.target_employee_id?[D.target_employee_id]:[]).map(Rn=>Lr.get(Rn)??`#${Rn}`);return r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:_i.get(D.department_id)??D.department_id}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:r3[D.target_type]}),ht.length>0?r.jsx("span",{className:"text-xs text-slate-500",children:ht.join(", ")}):null]})}),r.jsx("td",{className:"py-2",children:D.shift_id?Dr.get(D.shift_id)??`#${D.shift_id}`:"-"}),r.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[r.jsxs("div",{children:["Plan: ",D.daily_minutes_planned!==null?`${D.daily_minutes_planned} dk`:"-"]}),r.jsxs("div",{children:["Mola: ",D.break_minutes!==null?`${D.break_minutes} dk`:"-"]}),r.jsxs("div",{children:["Tolerans: ",D.grace_minutes!==null?`${D.grace_minutes} dk`:"-"]})]}),r.jsxs("td",{className:"py-2",children:[D.start_date," - ",D.end_date]}),r.jsx("td",{className:"py-2",children:D.is_locked?"Kilitli":"Serbest"}),r.jsx("td",{className:"py-2",children:D.is_active?"Aktif":"Pasif"}),r.jsx("td",{className:"py-2",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>un(D),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),D.is_active?r.jsx("button",{type:"button",onClick:()=>Wa.mutate(D.id),disabled:Wa.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):r.jsx("button",{type:"button",onClick:()=>va.mutate(D),disabled:va.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},D.id)})})]})})]}),r.jsxs(ze,{children:[r.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs uppercase text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2",children:"Departman"}),r.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),r.jsx("th",{className:"py-2",children:"Mola Suresi"}),r.jsx("th",{className:"py-2",children:"Tolerans"})]})}),r.jsx("tbody",{children:Rr.map(D=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"py-2",children:_i.get(D.department_id)??D.department_id}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:D.daily_minutes_planned})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:D.break_minutes})}),r.jsx("td",{className:"py-2",children:r.jsx(Ct,{minutes:D.grace_minutes})})]},D.id))})]})})]}),jt?r.jsx("p",{className:"form-validation",children:jt}):null]})}function u3(){return r.jsxs(sj,{children:[r.jsx(Mt,{element:r.jsx(z1,{}),children:r.jsx(Mt,{path:"/login",element:r.jsx(cz,{})})}),r.jsx(Mt,{path:"/device-claim",element:r.jsx(R1,{})}),r.jsx(Mt,{path:"/archive-download",element:r.jsx(ZA,{})}),r.jsx(Mt,{element:r.jsx(A1,{}),children:r.jsxs(Mt,{element:r.jsx(C1,{}),children:[r.jsx(Mt,{path:"/",element:r.jsx(Am,{to:"/dashboard",replace:!0})}),r.jsx(Mt,{path:"/dashboard",element:r.jsx(kA,{})}),r.jsx(Mt,{path:"/regions",element:r.jsx(Zz,{})}),r.jsx(Mt,{path:"/departments",element:r.jsx(RA,{})}),r.jsx(Mt,{path:"/employees",element:r.jsx(sz,{})}),r.jsx(Mt,{path:"/employees/:id",element:r.jsx(JA,{})}),r.jsx(Mt,{path:"/quick-setup",element:r.jsx(Uz,{})}),r.jsx(Mt,{path:"/work-rules",element:r.jsx(o3,{})}),r.jsx(Mt,{path:"/attendance-events",element:r.jsx(H1,{})}),r.jsx(Mt,{path:"/devices",element:r.jsx(DA,{})}),r.jsx(Mt,{path:"/compliance-settings",element:r.jsx(PA,{})}),r.jsx(Mt,{path:"/leaves",element:r.jsx(lz,{})}),r.jsx(Mt,{path:"/qr-kodlar",element:r.jsx(Iz,{})}),r.jsx(Mt,{path:"/reports/employee-monthly",element:r.jsx(az,{})}),r.jsx(Mt,{path:"/reports/department-summary",element:r.jsx(MA,{})}),r.jsx(Mt,{path:"/reports/excel-export",element:r.jsx(hz,{})}),r.jsx(Mt,{path:"/notifications",element:r.jsx(Hz,{})}),r.jsx(Mt,{path:"/audit-logs",element:r.jsx(t3,{})}),r.jsx(Mt,{path:"/admin-users",element:r.jsx(FA,{})})]})}),r.jsx(Mt,{path:"*",element:r.jsx(dz,{})})]})}const c3=new VN({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});SN.createRoot(document.getElementById("root")).render(r.jsx(pN.StrictMode,{children:r.jsx(GN,{client:c3,children:r.jsx(Aj,{basename:"/admin-panel/",children:r.jsx(I1,{children:r.jsx(E1,{children:r.jsx(u3,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
