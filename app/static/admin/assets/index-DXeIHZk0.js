(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();function pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bh={exports:{}},Ko={};var dy;function LN(){if(dy)return Ko;dy=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(o,d,m){var f=null;if(m!==void 0&&(f=""+m),d.key!==void 0&&(f=""+d.key),"key"in d){m={};for(var x in d)x!=="key"&&(m[x]=d[x])}else m=d;return d=m.ref,{$$typeof:e,type:o,key:f,ref:d!==void 0?d:null,props:m}}return Ko.Fragment=s,Ko.jsx=l,Ko.jsxs=l,Ko}var my;function PN(){return my||(my=1,bh.exports=LN()),bh.exports}var n=PN(),_h={exports:{}},ut={};var hy;function IN(){if(hy)return ut;hy=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function F(M,te,I){this.props=M,this.context=te,this.refs=D,this.updater=I||k}F.prototype.isReactComponent={},F.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=F.prototype;function R(M,te,I){this.props=M,this.context=te,this.refs=D,this.updater=I||k}var G=R.prototype=new B;G.constructor=R,A(G,F.prototype),G.isPureReactComponent=!0;var Y=Array.isArray;function ee(){}var q={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function J(M,te,I){var ue=I.ref;return{$$typeof:e,type:M,key:te,ref:ue!==void 0?ue:null,props:I}}function he(M,te){return J(M.type,te,M.props)}function xe(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function ce(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(I){return te[I]})}var _e=/\/+/g;function re(M,te){return typeof M=="object"&&M!==null&&M.key!=null?ce(""+M.key):te.toString(36)}function oe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ee,ee):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,te,I,ue,de){var je=typeof M;(je==="undefined"||je==="boolean")&&(M=null);var ze=!1;if(M===null)ze=!0;else switch(je){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(M.$$typeof){case e:case s:ze=!0;break;case S:return ze=M._init,H(ze(M._payload),te,I,ue,de)}}if(ze)return de=de(M),ze=ue===""?"."+re(M,0):ue,Y(de)?(I="",ze!=null&&(I=ze.replace(_e,"$&/")+"/"),H(de,te,I,"",function(at){return at})):de!=null&&(xe(de)&&(de=he(de,I+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(_e,"$&/")+"/")+ze)),te.push(de)),1;ze=0;var Ke=ue===""?".":ue+":";if(Y(M))for(var He=0;He<M.length;He++)ue=M[He],je=Ke+re(ue,He),ze+=H(ue,te,I,je,de);else if(He=z(M),typeof He=="function")for(M=He.call(M),He=0;!(ue=M.next()).done;)ue=ue.value,je=Ke+re(ue,He++),ze+=H(ue,te,I,je,de);else if(je==="object"){if(typeof M.then=="function")return H(oe(M),te,I,ue,de);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function Q(M,te,I){if(M==null)return M;var ue=[],de=0;return H(M,ue,"","",function(je){return te.call(I,je,de++)}),ue}function se(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(I){(M._status===0||M._status===-1)&&(M._status=1,M._result=I)},function(I){(M._status===0||M._status===-1)&&(M._status=2,M._result=I)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var Se=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},X={map:Q,forEach:function(M,te,I){Q(M,function(){te.apply(this,arguments)},I)},count:function(M){var te=0;return Q(M,function(){te++}),te},toArray:function(M){return Q(M,function(te){return te})||[]},only:function(M){if(!xe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ut.Activity=w,ut.Children=X,ut.Component=F,ut.Fragment=l,ut.Profiler=d,ut.PureComponent=R,ut.StrictMode=o,ut.Suspense=v,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ut.__COMPILER_RUNTIME={__proto__:null,c:function(M){return q.H.useMemoCache(M)}},ut.cache=function(M){return function(){return M.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(M,te,I){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=A({},M.props),de=M.key;if(te!=null)for(je in te.key!==void 0&&(de=""+te.key),te)!$.call(te,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&te.ref===void 0||(ue[je]=te[je]);var je=arguments.length-2;if(je===1)ue.children=I;else if(1<je){for(var ze=Array(je),Ke=0;Ke<je;Ke++)ze[Ke]=arguments[Ke+2];ue.children=ze}return J(M.type,de,ue)},ut.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:m,_context:M},M},ut.createElement=function(M,te,I){var ue,de={},je=null;if(te!=null)for(ue in te.key!==void 0&&(je=""+te.key),te)$.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(de[ue]=te[ue]);var ze=arguments.length-2;if(ze===1)de.children=I;else if(1<ze){for(var Ke=Array(ze),He=0;He<ze;He++)Ke[He]=arguments[He+2];de.children=Ke}if(M&&M.defaultProps)for(ue in ze=M.defaultProps,ze)de[ue]===void 0&&(de[ue]=ze[ue]);return J(M,je,de)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(M){return{$$typeof:x,render:M}},ut.isValidElement=xe,ut.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:se}},ut.memo=function(M,te){return{$$typeof:_,type:M,compare:te===void 0?null:te}},ut.startTransition=function(M){var te=q.T,I={};q.T=I;try{var ue=M(),de=q.S;de!==null&&de(I,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ee,Se)}catch(je){Se(je)}finally{te!==null&&I.types!==null&&(te.types=I.types),q.T=te}},ut.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ut.use=function(M){return q.H.use(M)},ut.useActionState=function(M,te,I){return q.H.useActionState(M,te,I)},ut.useCallback=function(M,te){return q.H.useCallback(M,te)},ut.useContext=function(M){return q.H.useContext(M)},ut.useDebugValue=function(){},ut.useDeferredValue=function(M,te){return q.H.useDeferredValue(M,te)},ut.useEffect=function(M,te){return q.H.useEffect(M,te)},ut.useEffectEvent=function(M){return q.H.useEffectEvent(M)},ut.useId=function(){return q.H.useId()},ut.useImperativeHandle=function(M,te,I){return q.H.useImperativeHandle(M,te,I)},ut.useInsertionEffect=function(M,te){return q.H.useInsertionEffect(M,te)},ut.useLayoutEffect=function(M,te){return q.H.useLayoutEffect(M,te)},ut.useMemo=function(M,te){return q.H.useMemo(M,te)},ut.useOptimistic=function(M,te){return q.H.useOptimistic(M,te)},ut.useReducer=function(M,te,I){return q.H.useReducer(M,te,I)},ut.useRef=function(M){return q.H.useRef(M)},ut.useState=function(M){return q.H.useState(M)},ut.useSyncExternalStore=function(M,te,I){return q.H.useSyncExternalStore(M,te,I)},ut.useTransition=function(){return q.H.useTransition()},ut.version="19.2.4",ut}var fy;function If(){return fy||(fy=1,_h.exports=IN()),_h.exports}var b=If();const BN=pd(b);var Nh={exports:{}},Qo={},jh={exports:{}},Sh={};var py;function UN(){return py||(py=1,(function(e){function s(H,Q){var se=H.length;H.push(Q);e:for(;0<se;){var Se=se-1>>>1,X=H[Se];if(0<d(X,Q))H[Se]=Q,H[se]=X,se=Se;else break e}}function l(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Q=H[0],se=H.pop();if(se!==Q){H[0]=se;e:for(var Se=0,X=H.length,M=X>>>1;Se<M;){var te=2*(Se+1)-1,I=H[te],ue=te+1,de=H[ue];if(0>d(I,se))ue<X&&0>d(de,I)?(H[Se]=de,H[ue]=se,Se=ue):(H[Se]=I,H[te]=se,Se=te);else if(ue<X&&0>d(de,se))H[Se]=de,H[ue]=se,Se=ue;else break e}}return Q}function d(H,Q){var se=H.sortIndex-Q.sortIndex;return se!==0?se:H.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var f=Date,x=f.now();e.unstable_now=function(){return f.now()-x}}var v=[],_=[],S=1,w=null,T=3,z=!1,k=!1,A=!1,D=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(H){for(var Q=l(_);Q!==null;){if(Q.callback===null)o(_);else if(Q.startTime<=H)o(_),Q.sortIndex=Q.expirationTime,s(v,Q);else break;Q=l(_)}}function Y(H){if(A=!1,G(H),!k)if(l(v)!==null)k=!0,ee||(ee=!0,ce());else{var Q=l(_);Q!==null&&oe(Y,Q.startTime-H)}}var ee=!1,q=-1,$=5,J=-1;function he(){return D?!0:!(e.unstable_now()-J<$)}function xe(){if(D=!1,ee){var H=e.unstable_now();J=H;var Q=!0;try{e:{k=!1,A&&(A=!1,B(q),q=-1),z=!0;var se=T;try{t:{for(G(H),w=l(v);w!==null&&!(w.expirationTime>H&&he());){var Se=w.callback;if(typeof Se=="function"){w.callback=null,T=w.priorityLevel;var X=Se(w.expirationTime<=H);if(H=e.unstable_now(),typeof X=="function"){w.callback=X,G(H),Q=!0;break t}w===l(v)&&o(v),G(H)}else o(v);w=l(v)}if(w!==null)Q=!0;else{var M=l(_);M!==null&&oe(Y,M.startTime-H),Q=!1}}break e}finally{w=null,T=se,z=!1}Q=void 0}}finally{Q?ce():ee=!1}}}var ce;if(typeof R=="function")ce=function(){R(xe)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,re=_e.port2;_e.port1.onmessage=xe,ce=function(){re.postMessage(null)}}else ce=function(){F(xe,0)};function oe(H,Q){q=F(function(){H(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(H){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var se=T;T=Q;try{return H()}finally{T=se}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=T;T=H;try{return Q()}finally{T=se}},e.unstable_scheduleCallback=function(H,Q,se){var Se=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Se+se:Se):se=Se,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,H={id:S++,callback:Q,priorityLevel:H,startTime:se,expirationTime:X,sortIndex:-1},se>Se?(H.sortIndex=se,s(_,H),l(v)===null&&H===l(_)&&(A?(B(q),q=-1):A=!0,oe(Y,se-Se))):(H.sortIndex=X,s(v,H),k||z||(k=!0,ee||(ee=!0,ce()))),H},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(H){var Q=T;return function(){var se=T;T=Q;try{return H.apply(this,arguments)}finally{T=se}}}})(Sh)),Sh}var gy;function FN(){return gy||(gy=1,jh.exports=UN()),jh.exports}var wh={exports:{}},ua={};var xy;function ZN(){if(xy)return ua;xy=1;var e=If();function s(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ua.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ua.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(s(299));return m(v,_,null,S)},ua.flushSync=function(v){var _=f.T,S=o.p;try{if(f.T=null,o.p=2,v)return v()}finally{f.T=_,o.p=S,o.d.f()}},ua.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},ua.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},ua.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=x(S,_.crossOrigin),T=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:z}):S==="script"&&o.d.X(v,{crossOrigin:w,integrity:T,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ua.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=x(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},ua.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=x(S,_.crossOrigin);o.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ua.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=x(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},ua.requestFormReset=function(v){o.d.r(v)},ua.unstable_batchedUpdates=function(v,_){return v(_)},ua.useFormState=function(v,_,S){return f.H.useFormState(v,_,S)},ua.useFormStatus=function(){return f.H.useHostTransitionStatus()},ua.version="19.2.4",ua}var yy;function qN(){if(yy)return wh.exports;yy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),wh.exports=ZN(),wh.exports}var vy;function HN(){if(vy)return Qo;vy=1;var e=FN(),s=If(),l=qN();function o(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var a=t,r=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(r=a.return),t=a.return;while(t)}return a.tag===3?r:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function x(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function v(t){if(m(t)!==t)throw Error(o(188))}function _(t){var a=t.alternate;if(!a){if(a=m(t),a===null)throw Error(o(188));return a!==t?null:t}for(var r=t,c=a;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){r=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return v(p),t;if(g===c)return v(p),a;g=g.sibling}throw Error(o(188))}if(r.return!==c.return)r=p,c=g;else{for(var j=!1,C=p.child;C;){if(C===r){j=!0,r=p,c=g;break}if(C===c){j=!0,c=p,r=g;break}C=C.sibling}if(!j){for(C=g.child;C;){if(C===r){j=!0,r=g,c=p;break}if(C===c){j=!0,c=g,r=p;break}C=C.sibling}if(!j)throw Error(o(189))}}if(r.alternate!==c)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:a}function S(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=S(t),a!==null)return a;t=t.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case F:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case ee:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case R:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case G:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return a=t.displayName||null,a!==null?a:re(t.type)||"Memo";case $:a=t._payload,t=t._init;try{return re(t(a))}catch{}}return null}var oe=Array.isArray,H=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Se=[],X=-1;function M(t){return{current:t}}function te(t){0>X||(t.current=Se[X],Se[X]=null,X--)}function I(t,a){X++,Se[X]=t.current,t.current=a}var ue=M(null),de=M(null),je=M(null),ze=M(null);function Ke(t,a){switch(I(je,a),I(de,t),I(ue,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Dx(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Dx(a),t=Rx(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),I(ue,t)}function He(){te(ue),te(de),te(je)}function at(t){t.memoizedState!==null&&I(ze,t);var a=ue.current,r=Rx(a,t.type);a!==r&&(I(de,t),I(ue,r))}function be(t){de.current===t&&(te(ue),te(de)),ze.current===t&&(te(ze),Fo._currentValue=se)}var lt,mt;function Ae(t){if(lt===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);lt=a&&a[1]||"",mt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+t+mt}var rt=!1;function bt(t,a){if(!t||rt)return"";rt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ye){var ge=ye}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ye){ge=ye}t.call(Ce.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),j=g[0],C=g[1];if(j&&C){var K=j.split(`
`),fe=C.split(`
`);for(p=c=0;c<K.length&&!K[c].includes("DetermineComponentFrameRoot");)c++;for(;p<fe.length&&!fe[p].includes("DetermineComponentFrameRoot");)p++;if(c===K.length||p===fe.length)for(c=K.length-1,p=fe.length-1;1<=c&&0<=p&&K[c]!==fe[p];)p--;for(;1<=c&&0<=p;c--,p--)if(K[c]!==fe[p]){if(c!==1||p!==1)do if(c--,p--,0>p||K[c]!==fe[p]){var Ne=`
`+K[c].replace(" at new "," at ");return t.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",t.displayName)),Ne}while(1<=c&&0<=p);break}}}finally{rt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ae(r):""}function St(t,a){switch(t.tag){case 26:case 27:case 5:return Ae(t.type);case 16:return Ae("Lazy");case 13:return t.child!==a&&a!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return Ae("Activity");default:return""}}function At(t){try{var a="",r=null;do a+=St(t,r),r=t,t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var rn=Object.prototype.hasOwnProperty,ne=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,Pe=e.unstable_shouldYield,ct=e.unstable_requestPaint,ae=e.unstable_now,Fe=e.unstable_getCurrentPriorityLevel,It=e.unstable_ImmediatePriority,Kt=e.unstable_UserBlockingPriority,Qt=e.unstable_NormalPriority,dt=e.unstable_LowPriority,zt=e.unstable_IdlePriority,O=e.log,Me=e.unstable_setDisableYieldValue,$e=null,yt=null;function Bt(t){if(typeof O=="function"&&Me(t),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode($e,t)}catch{}}var ht=Math.clz32?Math.clz32:yn,ln=Math.log,da=Math.LN2;function yn(t){return t>>>=0,t===0?32:31-(ln(t)/da|0)|0}var wt=256,dn=262144,ma=4194304;function Kn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pn(t,a,r){var c=t.pendingLanes;if(c===0)return 0;var p=0,g=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?p=Kn(c):(j&=C,j!==0?p=Kn(j):r||(r=C&~t,r!==0&&(p=Kn(r))))):(C=c&~g,C!==0?p=Kn(C):j!==0?p=Kn(j):r||(r=c&~t,r!==0&&(p=Kn(r)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,r=a&-a,g>=r||g===32&&(r&4194048)!==0)?a:p}function Ut(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Ga(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var t=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),t}function Yn(t){for(var a=[],r=0;31>r;r++)a.push(t);return a}function Bn(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Va(t,a,r,c,p,g){var j=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var C=t.entanglements,K=t.expirationTimes,fe=t.hiddenUpdates;for(r=j&~r;0<r;){var Ne=31-ht(r),Ce=1<<Ne;C[Ne]=0,K[Ne]=-1;var ge=fe[Ne];if(ge!==null)for(fe[Ne]=null,Ne=0;Ne<ge.length;Ne++){var ye=ge[Ne];ye!==null&&(ye.lane&=-536870913)}r&=~Ce}c!==0&&Cn(t,c,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(j&~a))}function Cn(t,a,r){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-ht(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|r&261930}function tn(t,a){var r=t.entangledLanes|=a;for(t=t.entanglements;r;){var c=31-ht(r),p=1<<c;p&a|t[c]&a&&(t[c]|=a),r&=~p}}function Ya(t,a){var r=a&-a;return r=(r&42)!==0?1:Ot(r),(r&(t.suspendedLanes|a))!==0?0:r}function Ot(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function De(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wn(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function ra(t,a){var r=Q.p;try{return Q.p=t,a()}finally{Q.p=r}}var $n=Math.random().toString(36).slice(2),qt="__reactFiber$"+$n,tt="__reactProps$"+$n,Xn="__reactContainer$"+$n,U="__reactEvents$"+$n,Ie="__reactListeners$"+$n,it="__reactHandles$"+$n,An="__reactResources$"+$n,En="__reactMarker$"+$n;function P(t){delete t[qt],delete t[tt],delete t[U],delete t[Ie],delete t[it]}function Be(t){var a=t[qt];if(a)return a;for(var r=t.parentNode;r;){if(a=r[Xn]||r[qt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(t=Zx(t);t!==null;){if(r=t[qt])return r;t=Zx(t)}return a}t=r,r=t.parentNode}return null}function vt(t){if(t=t[qt]||t[Xn]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Mn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(o(33))}function Da(t){var a=t[An];return a||(a=t[An]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function on(t){t[En]=!0}var ps=new Set,sr={};function V(t,a){Ge(t,a),Ge(t+"Capture",a)}function Ge(t,a){for(sr[t]=a,t=0;t<a.length;t++)ps.add(a[t])}var Mt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ya={},Ts={};function Cs(t){return rn.call(Ts,t)?!0:rn.call(ya,t)?!1:Mt.test(t)?Ts[t]=!0:(ya[t]=!0,!1)}function xt(t,a,r){if(Cs(a))if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+r)}}function Xt(t,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+r)}}function va(t,a,r,c){if(c===null)t.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(a,r,""+c)}}function Un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ks(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vl(t,a,r){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return p.call(this)},set:function(j){r=""+j,g.call(this,j)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(j){r=""+j},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ot(t){if(!t._valueTracker){var a=Ks(t)?"checked":"value";t._valueTracker=Vl(t,a,""+t[a])}}function mn(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var r=a.getValue(),c="";return t&&(c=Ks(t)?t.checked?"true":"false":t.value),t=c,t!==r?(a.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yr=/[\n"\\]/g;function un(t){return t.replace(Yr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yl(t,a,r,c,p,g,j,C){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),a!=null?j==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Un(a)):t.value!==""+Un(a)&&(t.value=""+Un(a)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),a!=null?gs(t,j,Un(a)):r!=null?gs(t,j,Un(r)):c!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Un(C):t.removeAttribute("name")}function ir(t,a,r,c,p,g,j,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),a!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){ot(t);return}r=r!=null?""+Un(r):"",a=a!=null?""+Un(a):r,C||a===t.value||(t.value=a),t.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=C?t.checked:!!c,t.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j),ot(t)}function gs(t,a,r){a==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function nn(t,a,r,c){if(t=t.options,a){a={};for(var p=0;p<r.length;p++)a["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=a.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&c&&(t[r].defaultSelected=!0)}else{for(r=""+Un(r),a=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}a!==null||t[p].disabled||(a=t[p])}a!==null&&(a.selected=!0)}}function As(t,a,r){if(a!=null&&(a=""+Un(a),a!==t.value&&(t.value=a),r==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=r!=null?""+Un(r):""}function pi(t,a,r,c){if(a==null){if(c!=null){if(r!=null)throw Error(o(92));if(oe(c)){if(1<c.length)throw Error(o(93));c=c[0]}r=c}r==null&&(r=""),a=r}r=Un(a),t.defaultValue=r,c=t.textContent,c===r&&c!==""&&c!==null&&(t.value=c),ot(t)}function $a(t,a){if(a){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=a;return}}t.textContent=a}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gi(t,a,r){var c=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,r):typeof r!="number"||r===0||$l.has(a)?a==="float"?t.cssFloat=r:t[a]=(""+r).trim():t[a]=r+"px"}function $r(t,a,r){if(a!=null&&typeof a!="object")throw Error(o(62));if(t=t.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&r[p]!==c&&gi(t,p,c)}else for(var g in a)a.hasOwnProperty(g)&&gi(t,g,a[g])}function rr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xi(t){return Xl.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ba(){}var Jr=null;function lr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,nt=null;function Ra(t){var a=vt(t);if(a&&(t=a.stateNode)){var r=t[tt]||null;e:switch(t=a.stateNode,a.type){case"input":if(Yl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+un(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var c=r[a];if(c!==t&&c.form===t.form){var p=c[tt]||null;if(!p)throw Error(o(90));Yl(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<r.length;a++)c=r[a],c.form===t.form&&mn(c)}break e;case"textarea":As(t,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&nn(t,!!r.multiple,a,!1)}}}var Ht=!1;function Jl(t,a,r){if(Ht)return t(a,r);Ht=!0;try{var c=t(a);return c}finally{if(Ht=!1,(yi!==null||nt!==null)&&(dc(),yi&&(a=yi,t=nt,nt=yi=null,Ra(a),t)))for(a=0;a<t.length;a++)Ra(t[a])}}function Qs(t,a){var r=t.stateNode;if(r===null)return null;var c=r[tt]||null;if(c===null)return null;r=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,a,typeof r));return r}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(La)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){or=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{or=!1}var Xa=null,Gs=null,vn=null;function Ms(){if(vn)return vn;var t,a=Gs,r=a.length,c,p="value"in Xa?Xa.value:Xa.textContent,g=p.length;for(t=0;t<r&&a[t]===p[t];t++);var j=r-t;for(c=1;c<=j&&a[r-c]===p[g-c];c++);return vn=p.slice(t,1<c?1-c:void 0)}function ur(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function cr(){return!0}function gu(){return!1}function Jn(t){function a(r,c,p,g,j){this._reactName=r,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:gu,this.isPropagationStopped=gu,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),a}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Jn(xs),vi=w({},xs,{view:0,detail:0}),Et=Jn(vi),Wl,ha,ys,dr=w({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ys&&(ys&&t.type==="mousemove"?(Wl=t.screenX-ys.screenX,ha=t.screenY-ys.screenY):ha=Wl=0,ys=t),Wl)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),xu=Jn(dr),eo=w({},dr,{dataTransfer:0}),Ad=Jn(eo),yu=w({},vi,{relatedTarget:0}),to=Jn(yu),Md=w({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),no=Jn(Md),zd=w({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ja=Jn(zd),Od=w({},xs,{data:0}),ao=Jn(Od),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function so(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=bu[t])?!!a[t]:!1}function io(){return so}var _u=w({},vi,{key:function(t){if(t.key){var a=zs[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(t){return t.type==="keypress"?ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=Jn(_u),Dd=w({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Jn(Dd),ro=w({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Rd=Jn(ro),Su=w({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=Jn(Su),el=w({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=Jn(el),Ld=w({},xs,{newState:0,oldState:0}),mr=Jn(Ld),_a=[9,13,27,32],tl=La&&"CompositionEvent"in window,bi=null;La&&"documentMode"in document&&(bi=document.documentMode);var Pd=La&&"TextEvent"in window&&!bi,nl=La&&(!tl||bi&&8<bi&&11>=bi),al=" ",Eu=!1;function ku(t,a){switch(t){case"keyup":return _a.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _i=!1;function Ia(t,a){switch(t){case"compositionend":return lo(a);case"keypress":return a.which!==32?null:(Eu=!0,al);case"textInput":return t=a.data,t===al&&Eu?null:t;default:return null}}function Ni(t,a){if(_i)return t==="compositionend"||!tl&&ku(t,a)?(t=Ms(),vn=Gs=Xa=null,_i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return nl&&a.locale!=="ko"?null:a.data;default:return null}}var Id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wa(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Id[t.type]:a==="textarea"}function Tu(t,a,r,c){yi?nt?nt.push(c):nt=[c]:yi=c,a=yc(a,"onChange"),0<a.length&&(r=new Wr("onChange","change",null,r,c),t.push({event:r,listeners:a}))}var es=null,hr=null;function fr(t){Tx(t,0)}function pr(t){var a=Mn(t);if(mn(a))return t}function gr(t,a){if(t==="change")return a}var Cu=!1;if(La){var ts;if(La){var ji="oninput"in document;if(!ji){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),ji=typeof Au.oninput=="function"}ts=ji}else ts=!1;Cu=ts&&(!document.documentMode||9<document.documentMode)}function sl(){es&&(es.detachEvent("onpropertychange",Mu),hr=es=null)}function Mu(t){if(t.propertyName==="value"&&pr(hr)){var a=[];Tu(a,hr,t,lr(t)),Jl(fr,a)}}function vs(t,a,r){t==="focusin"?(sl(),es=a,hr=r,es.attachEvent("onpropertychange",Mu)):t==="focusout"&&sl()}function Bd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pr(hr)}function Si(t,a){if(t==="click")return pr(a)}function Ud(t,a){if(t==="input"||t==="change")return pr(a)}function bs(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Qn=typeof Object.is=="function"?Object.is:bs;function wi(t,a){if(Qn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var r=Object.keys(t),c=Object.keys(a);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var p=r[c];if(!rn.call(a,p)||!Qn(t[p],a[p]))return!1}return!0}function il(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xr(t,a){var r=il(t);t=0;for(var c;r;){if(r.nodeType===3){if(c=t+r.textContent.length,t<=a&&c>=a)return{node:r,offset:a-t};t=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=il(r)}}function rl(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?rl(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function yr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=fi(t.document);a instanceof t.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)t=a.contentWindow;else break;a=fi(t.document)}return a}function Os(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var ll=La&&"documentMode"in document&&11>=document.documentMode,Ds=null,ol=null,vr=null,Ei=!1;function zu(t,a,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ei||Ds==null||Ds!==fi(c)||(c=Ds,"selectionStart"in c&&Os(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vr&&wi(vr,c)||(vr=c,c=yc(ol,"onSelect"),0<c.length&&(a=new Wr("onSelect","select",null,a,r),t.push({event:a,listeners:c}),a.target=Ds)))}function Rs(t,a){var r={};return r[t.toLowerCase()]=a.toLowerCase(),r["Webkit"+t]="webkit"+a,r["Moz"+t]="moz"+a,r}var ki={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},ul={},Ou={};La&&(Ou=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function Gn(t){if(ul[t])return ul[t];if(!ki[t])return t;var a=ki[t],r;for(r in a)if(a.hasOwnProperty(r)&&r in Ou)return ul[t]=a[r];return t}var br=Gn("animationend"),Du=Gn("animationiteration"),_r=Gn("animationstart"),Fd=Gn("transitionrun"),Ru=Gn("transitionstart"),Zd=Gn("transitioncancel"),Ti=Gn("transitionend"),Lu=new Map,Ls="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ls.push("scrollEnd");function Na(t,a){Lu.set(t,a),V(a,[t])}var Nr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ja=[],la=0,cl=0;function jr(){for(var t=la,a=cl=la=0;a<t;){var r=ja[a];ja[a++]=null;var c=ja[a];ja[a++]=null;var p=ja[a];ja[a++]=null;var g=ja[a];if(ja[a++]=null,c!==null&&p!==null){var j=c.pending;j===null?p.next=p:(p.next=j.next,j.next=p),c.pending=p}g!==0&&Ci(r,p,g)}}function Ps(t,a,r,c){ja[la++]=t,ja[la++]=a,ja[la++]=r,ja[la++]=c,cl|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function oo(t,a,r,c){return Ps(t,a,r,c),Sr(t)}function ns(t,a){return Ps(t,null,null,a),Sr(t)}function Ci(t,a,r){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,c=g.alternate,c!==null&&(c.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&a!==null&&(p=31-ht(r),t=g.hiddenUpdates,c=t[p],c===null?t[p]=[a]:c.push(a),a.lane=r|536870912),g):null}function Sr(t){if(50<Do)throw Do=0,Hm=null,Error(o(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ys={};function qd(t,a,r,c){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oa(t,a,r,c){return new qd(t,a,r,c)}function dl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,a){var r=t.alternate;return r===null?(r=oa(t.tag,a,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=a,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,a=t.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function uo(t,a){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,a=r.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function wr(t,a,r,c,p,g){var j=0;if(c=t,typeof t=="function")dl(t)&&(j=1);else if(typeof t=="string")j=SN(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=oa(31,r,a,p),t.elementType=J,t.lanes=g,t;case A:return $s(r.children,p,g,a);case D:j=8,p|=24;break;case F:return t=oa(12,r,a,p|2),t.elementType=F,t.lanes=g,t;case Y:return t=oa(13,r,a,p),t.elementType=Y,t.lanes=g,t;case ee:return t=oa(19,r,a,p),t.elementType=ee,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:j=10;break e;case B:j=9;break e;case G:j=11;break e;case q:j=14;break e;case $:j=16,c=null;break e}j=29,r=Error(o(130,t===null?"null":typeof t,"")),c=null}return a=oa(j,r,a,p),a.elementType=t,a.type=c,a.lanes=g,a}function $s(t,a,r,c){return t=oa(7,t,c,a),t.lanes=r,t}function ml(t,a,r){return t=oa(6,t,null,a),t.lanes=r,t}function co(t){var a=oa(18,null,null,0);return a.stateNode=t,a}function mo(t,a,r){return a=oa(4,t.children!==null?t.children:[],t.key,a),a.lanes=r,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var i=new WeakMap;function u(t,a){if(typeof t=="object"&&t!==null){var r=i.get(t);return r!==void 0?r:(a={value:t,source:a,stack:At(a)},i.set(t,a),a)}return{value:t,source:a,stack:At(a)}}var h=[],y=0,N=null,E=0,Z=[],le=0,pe=null,Te=1,Le="";function Xe(t,a){h[y++]=E,h[y++]=N,N=t,E=a}function pt(t,a,r){Z[le++]=Te,Z[le++]=Le,Z[le++]=pe,pe=t;var c=Te;t=Le;var p=32-ht(c)-1;c&=~(1<<p),r+=1;var g=32-ht(a)+p;if(30<g){var j=p-p%5;g=(c&(1<<j)-1).toString(32),c>>=j,p-=j,Te=1<<32-ht(a)+p|r<<p|c,Le=g+t}else Te=1<<g|r<<p|c,Le=t}function Fn(t){t.return!==null&&(Xe(t,1),pt(t,1,0))}function bn(t){for(;t===N;)N=h[--y],h[y]=null,E=h[--y],h[y]=null;for(;t===pe;)pe=Z[--le],Z[le]=null,Le=Z[--le],Z[le]=null,Te=Z[--le],Z[le]=null}function fa(t,a){Z[le++]=Te,Z[le++]=Le,Z[le++]=pe,Te=a.id,Le=a.overflow,pe=t}var Dt=null,Rt=null,_t=!1,Is=null,Sa=!1,hl=Error(o(519));function Bs(t){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Er(u(a,t)),hl}function ho(t){var a=t.stateNode,r=t.type,c=t.memoizedProps;switch(a[qt]=t,a[tt]=c,r){case"dialog":jt("cancel",a),jt("close",a);break;case"iframe":case"object":case"embed":jt("load",a);break;case"video":case"audio":for(r=0;r<Lo.length;r++)jt(Lo[r],a);break;case"source":jt("error",a);break;case"img":case"image":case"link":jt("error",a),jt("load",a);break;case"details":jt("toggle",a);break;case"input":jt("invalid",a),ir(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":jt("invalid",a);break;case"textarea":jt("invalid",a),pi(a,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||c.suppressHydrationWarning===!0||zx(a.textContent,r)?(c.popover!=null&&(jt("beforetoggle",a),jt("toggle",a)),c.onScroll!=null&&jt("scroll",a),c.onScrollEnd!=null&&jt("scrollend",a),c.onClick!=null&&(a.onclick=ba),a=!0):a=!1,a||Bs(t,!0)}function gn(t){for(Dt=t.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:Dt=Dt.return}}function _s(t){if(t!==Dt)return!1;if(!_t)return gn(t),_t=!0,!1;var a=t.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ih(t.type,t.memoizedProps)),r=!r),r&&Rt&&Bs(t),gn(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Rt=Fx(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Rt=Fx(t)}else a===27?(a=Rt,qi(t.type)?(t=ch,ch=null,Rt=t):Rt=a):Rt=Dt?is(t.stateNode.nextSibling):null;return!0}function Xs(){Rt=Dt=null,_t=!1}function fo(){var t=Is;return t!==null&&(Ta===null?Ta=t:Ta.push.apply(Ta,t),Is=null),t}function Er(t){Is===null?Is=[t]:Is.push(t)}var kr=M(null),Us=null,Ns=null;function Ai(t,a,r){I(kr,a._currentValue),a._currentValue=r}function Js(t){t._currentValue=kr.current,te(kr)}function Hd(t,a,r){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===r)break;t=t.return}}function Kd(t,a,r,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var j=p.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=p;for(var K=0;K<a.length;K++)if(C.context===a[K]){g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),Hd(g.return,r,t),c||(j=null);break e}g=C.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(o(341));j.lanes|=r,g=j.alternate,g!==null&&(g.lanes|=r),Hd(j,r,t),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===t){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function fl(t,a,r,c){t=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(o(387));if(j=j.memoizedProps,j!==null){var C=p.type;Qn(p.pendingProps.value,j.value)||(t!==null?t.push(C):t=[C])}}else if(p===ze.current){if(j=p.alternate,j===null)throw Error(o(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Fo):t=[Fo])}p=p.return}t!==null&&Kd(a,t,r,c),a.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tr(t){Us=t,Ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wn(t){return xp(Us,t)}function Iu(t,a){return Us===null&&Tr(t),xp(t,a)}function xp(t,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Ns===null){if(t===null)throw Error(o(308));Ns=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ns=Ns.next=a;return r}var b_=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(r,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(r){return r()})}},__=e.unstable_scheduleCallback,N_=e.unstable_NormalPriority,zn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new b_,data:new Map,refCount:0}}function po(t){t.refCount--,t.refCount===0&&__(N_,function(){t.controller.abort()})}var go=null,Gd=0,pl=0,gl=null;function j_(t,a){if(go===null){var r=go=[];Gd=0,pl=$m(),gl={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Gd++,a.then(yp,yp),a}function yp(){if(--Gd===0&&go!==null){gl!==null&&(gl.status="fulfilled");var t=go;go=null,pl=0,gl=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function S_(t,a){var r=[],c={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<r.length;p++)(0,r[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),c}var vp=H.S;H.S=function(t,a){nx=ae(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&j_(t,a),vp!==null&&vp(t,a)};var Cr=M(null);function Vd(){var t=Cr.current;return t!==null?t:an.pooledCache}function Bu(t,a){a===null?I(Cr,Cr.current):I(Cr,a.pool)}function bp(){var t=Vd();return t===null?null:{parent:zn._currentValue,pool:t}}var xl=Error(o(460)),Yd=Error(o(474)),Uu=Error(o(542)),Fu={then:function(){}};function _p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Np(t,a,r){switch(r=t[r],r===void 0?t.push(a):r!==a&&(a.then(ba,ba),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Sp(t),t;default:if(typeof a.status=="string")a.then(ba,ba);else{if(t=an,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Sp(t),t}throw Mr=a,xl}}function Ar(t){try{var a=t._init;return a(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Mr=r,xl):r}}var Mr=null;function jp(){if(Mr===null)throw Error(o(459));var t=Mr;return Mr=null,t}function Sp(t){if(t===xl||t===Uu)throw Error(o(483))}var yl=null,xo=0;function Zu(t){var a=xo;return xo+=1,yl===null&&(yl=[]),Np(yl,t,a)}function yo(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function qu(t,a){throw a.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(a),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function wp(t){function a(ie,W){if(t){var me=ie.deletions;me===null?(ie.deletions=[W],ie.flags|=16):me.push(W)}}function r(ie,W){if(!t)return null;for(;W!==null;)a(ie,W),W=W.sibling;return null}function c(ie){for(var W=new Map;ie!==null;)ie.key!==null?W.set(ie.key,ie):W.set(ie.index,ie),ie=ie.sibling;return W}function p(ie,W){return ie=as(ie,W),ie.index=0,ie.sibling=null,ie}function g(ie,W,me){return ie.index=me,t?(me=ie.alternate,me!==null?(me=me.index,me<W?(ie.flags|=67108866,W):me):(ie.flags|=67108866,W)):(ie.flags|=1048576,W)}function j(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function C(ie,W,me,we){return W===null||W.tag!==6?(W=ml(me,ie.mode,we),W.return=ie,W):(W=p(W,me),W.return=ie,W)}function K(ie,W,me,we){var Je=me.type;return Je===A?Ne(ie,W,me.props.children,we,me.key):W!==null&&(W.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===$&&Ar(Je)===W.type)?(W=p(W,me.props),yo(W,me),W.return=ie,W):(W=wr(me.type,me.key,me.props,null,ie.mode,we),yo(W,me),W.return=ie,W)}function fe(ie,W,me,we){return W===null||W.tag!==4||W.stateNode.containerInfo!==me.containerInfo||W.stateNode.implementation!==me.implementation?(W=mo(me,ie.mode,we),W.return=ie,W):(W=p(W,me.children||[]),W.return=ie,W)}function Ne(ie,W,me,we,Je){return W===null||W.tag!==7?(W=$s(me,ie.mode,we,Je),W.return=ie,W):(W=p(W,me),W.return=ie,W)}function Ce(ie,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=ml(""+W,ie.mode,me),W.return=ie,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return me=wr(W.type,W.key,W.props,null,ie.mode,me),yo(me,W),me.return=ie,me;case k:return W=mo(W,ie.mode,me),W.return=ie,W;case $:return W=Ar(W),Ce(ie,W,me)}if(oe(W)||ce(W))return W=$s(W,ie.mode,me,null),W.return=ie,W;if(typeof W.then=="function")return Ce(ie,Zu(W),me);if(W.$$typeof===R)return Ce(ie,Iu(ie,W),me);qu(ie,W)}return null}function ge(ie,W,me,we){var Je=W!==null?W.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Je!==null?null:C(ie,W,""+me,we);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case z:return me.key===Je?K(ie,W,me,we):null;case k:return me.key===Je?fe(ie,W,me,we):null;case $:return me=Ar(me),ge(ie,W,me,we)}if(oe(me)||ce(me))return Je!==null?null:Ne(ie,W,me,we,null);if(typeof me.then=="function")return ge(ie,W,Zu(me),we);if(me.$$typeof===R)return ge(ie,W,Iu(ie,me),we);qu(ie,me)}return null}function ye(ie,W,me,we,Je){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ie=ie.get(me)||null,C(W,ie,""+we,Je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case z:return ie=ie.get(we.key===null?me:we.key)||null,K(W,ie,we,Je);case k:return ie=ie.get(we.key===null?me:we.key)||null,fe(W,ie,we,Je);case $:return we=Ar(we),ye(ie,W,me,we,Je)}if(oe(we)||ce(we))return ie=ie.get(me)||null,Ne(W,ie,we,Je,null);if(typeof we.then=="function")return ye(ie,W,me,Zu(we),Je);if(we.$$typeof===R)return ye(ie,W,me,Iu(W,we),Je);qu(W,we)}return null}function Qe(ie,W,me,we){for(var Je=null,Lt=null,Ve=W,gt=W=0,Tt=null;Ve!==null&&gt<me.length;gt++){Ve.index>gt?(Tt=Ve,Ve=null):Tt=Ve.sibling;var Pt=ge(ie,Ve,me[gt],we);if(Pt===null){Ve===null&&(Ve=Tt);break}t&&Ve&&Pt.alternate===null&&a(ie,Ve),W=g(Pt,W,gt),Lt===null?Je=Pt:Lt.sibling=Pt,Lt=Pt,Ve=Tt}if(gt===me.length)return r(ie,Ve),_t&&Xe(ie,gt),Je;if(Ve===null){for(;gt<me.length;gt++)Ve=Ce(ie,me[gt],we),Ve!==null&&(W=g(Ve,W,gt),Lt===null?Je=Ve:Lt.sibling=Ve,Lt=Ve);return _t&&Xe(ie,gt),Je}for(Ve=c(Ve);gt<me.length;gt++)Tt=ye(Ve,ie,gt,me[gt],we),Tt!==null&&(t&&Tt.alternate!==null&&Ve.delete(Tt.key===null?gt:Tt.key),W=g(Tt,W,gt),Lt===null?Je=Tt:Lt.sibling=Tt,Lt=Tt);return t&&Ve.forEach(function(Vi){return a(ie,Vi)}),_t&&Xe(ie,gt),Je}function et(ie,W,me,we){if(me==null)throw Error(o(151));for(var Je=null,Lt=null,Ve=W,gt=W=0,Tt=null,Pt=me.next();Ve!==null&&!Pt.done;gt++,Pt=me.next()){Ve.index>gt?(Tt=Ve,Ve=null):Tt=Ve.sibling;var Vi=ge(ie,Ve,Pt.value,we);if(Vi===null){Ve===null&&(Ve=Tt);break}t&&Ve&&Vi.alternate===null&&a(ie,Ve),W=g(Vi,W,gt),Lt===null?Je=Vi:Lt.sibling=Vi,Lt=Vi,Ve=Tt}if(Pt.done)return r(ie,Ve),_t&&Xe(ie,gt),Je;if(Ve===null){for(;!Pt.done;gt++,Pt=me.next())Pt=Ce(ie,Pt.value,we),Pt!==null&&(W=g(Pt,W,gt),Lt===null?Je=Pt:Lt.sibling=Pt,Lt=Pt);return _t&&Xe(ie,gt),Je}for(Ve=c(Ve);!Pt.done;gt++,Pt=me.next())Pt=ye(Ve,ie,gt,Pt.value,we),Pt!==null&&(t&&Pt.alternate!==null&&Ve.delete(Pt.key===null?gt:Pt.key),W=g(Pt,W,gt),Lt===null?Je=Pt:Lt.sibling=Pt,Lt=Pt);return t&&Ve.forEach(function(RN){return a(ie,RN)}),_t&&Xe(ie,gt),Je}function en(ie,W,me,we){if(typeof me=="object"&&me!==null&&me.type===A&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case z:e:{for(var Je=me.key;W!==null;){if(W.key===Je){if(Je=me.type,Je===A){if(W.tag===7){r(ie,W.sibling),we=p(W,me.props.children),we.return=ie,ie=we;break e}}else if(W.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===$&&Ar(Je)===W.type){r(ie,W.sibling),we=p(W,me.props),yo(we,me),we.return=ie,ie=we;break e}r(ie,W);break}else a(ie,W);W=W.sibling}me.type===A?(we=$s(me.props.children,ie.mode,we,me.key),we.return=ie,ie=we):(we=wr(me.type,me.key,me.props,null,ie.mode,we),yo(we,me),we.return=ie,ie=we)}return j(ie);case k:e:{for(Je=me.key;W!==null;){if(W.key===Je)if(W.tag===4&&W.stateNode.containerInfo===me.containerInfo&&W.stateNode.implementation===me.implementation){r(ie,W.sibling),we=p(W,me.children||[]),we.return=ie,ie=we;break e}else{r(ie,W);break}else a(ie,W);W=W.sibling}we=mo(me,ie.mode,we),we.return=ie,ie=we}return j(ie);case $:return me=Ar(me),en(ie,W,me,we)}if(oe(me))return Qe(ie,W,me,we);if(ce(me)){if(Je=ce(me),typeof Je!="function")throw Error(o(150));return me=Je.call(me),et(ie,W,me,we)}if(typeof me.then=="function")return en(ie,W,Zu(me),we);if(me.$$typeof===R)return en(ie,W,Iu(ie,me),we);qu(ie,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,W!==null&&W.tag===6?(r(ie,W.sibling),we=p(W,me),we.return=ie,ie=we):(r(ie,W),we=ml(me,ie.mode,we),we.return=ie,ie=we),j(ie)):r(ie,W)}return function(ie,W,me,we){try{xo=0;var Je=en(ie,W,me,we);return yl=null,Je}catch(Ve){if(Ve===xl||Ve===Uu)throw Ve;var Lt=oa(29,Ve,null,ie.mode);return Lt.lanes=we,Lt.return=ie,Lt}}}var zr=wp(!0),Ep=wp(!1),Mi=!1;function $d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(t,a,r){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ft&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Sr(t),Ci(t,null,r),a}return Ps(t,c,a,r),Sr(t)}function vo(t,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,r|=c,a.lanes=r,tn(t,r)}}function Jd(t,a){var r=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=j:g=g.next=j,r=r.next}while(r!==null);g===null?p=g=a:g=g.next=a}else p=g=a;r={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=a:t.next=a,r.lastBaseUpdate=a}var Wd=!1;function bo(){if(Wd){var t=gl;if(t!==null)throw t}}function _o(t,a,r,c){Wd=!1;var p=t.updateQueue;Mi=!1;var g=p.firstBaseUpdate,j=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var K=C,fe=K.next;K.next=null,j===null?g=fe:j.next=fe,j=K;var Ne=t.alternate;Ne!==null&&(Ne=Ne.updateQueue,C=Ne.lastBaseUpdate,C!==j&&(C===null?Ne.firstBaseUpdate=fe:C.next=fe,Ne.lastBaseUpdate=K))}if(g!==null){var Ce=p.baseState;j=0,Ne=fe=K=null,C=g;do{var ge=C.lane&-536870913,ye=ge!==C.lane;if(ye?(kt&ge)===ge:(c&ge)===ge){ge!==0&&ge===pl&&(Wd=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Qe=t,et=C;ge=a;var en=r;switch(et.tag){case 1:if(Qe=et.payload,typeof Qe=="function"){Ce=Qe.call(en,Ce,ge);break e}Ce=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=et.payload,ge=typeof Qe=="function"?Qe.call(en,Ce,ge):Qe,ge==null)break e;Ce=w({},Ce,ge);break e;case 2:Mi=!0}}ge=C.callback,ge!==null&&(t.flags|=64,ye&&(t.flags|=8192),ye=p.callbacks,ye===null?p.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Ne===null?(fe=Ne=ye,K=Ce):Ne=Ne.next=ye,j|=ge;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;ye=C,C=ye.next,ye.next=null,p.lastBaseUpdate=ye,p.shared.pending=null}}while(!0);Ne===null&&(K=Ce),p.baseState=K,p.firstBaseUpdate=fe,p.lastBaseUpdate=Ne,g===null&&(p.shared.lanes=0),Ii|=j,t.lanes=j,t.memoizedState=Ce}}function kp(t,a){if(typeof t!="function")throw Error(o(191,t));t.call(a)}function Tp(t,a){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)kp(r[t],a)}var vl=M(null),Hu=M(0);function Cp(t,a){t=li,I(Hu,t),I(vl,a),li=t|a.baseLanes}function em(){I(Hu,li),I(vl,vl.current)}function tm(){li=Hu.current,te(vl),te(Hu)}var Ba=M(null),ss=null;function Di(t){var a=t.alternate;I(kn,kn.current&1),I(Ba,t),ss===null&&(a===null||vl.current!==null||a.memoizedState!==null)&&(ss=t)}function nm(t){I(kn,kn.current),I(Ba,t),ss===null&&(ss=t)}function Ap(t){t.tag===22?(I(kn,kn.current),I(Ba,t),ss===null&&(ss=t)):Ri()}function Ri(){I(kn,kn.current),I(Ba,Ba.current)}function Ua(t){te(Ba),ss===t&&(ss=null),te(kn)}var kn=M(0);function Ku(t){for(var a=t;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||oh(r)||uh(r)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ws=0,ft=null,Jt=null,On=null,Qu=!1,bl=!1,Or=!1,Gu=0,No=0,_l=null,w_=0;function _n(){throw Error(o(321))}function am(t,a){if(a===null)return!1;for(var r=0;r<a.length&&r<t.length;r++)if(!Qn(t[r],a[r]))return!1;return!0}function sm(t,a,r,c,p,g){return Ws=g,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?hg:vm,Or=!1,g=r(c,p),Or=!1,bl&&(g=zp(a,r,c,p)),Mp(t),g}function Mp(t){H.H=wo;var a=Jt!==null&&Jt.next!==null;if(Ws=0,On=Jt=ft=null,Qu=!1,No=0,_l=null,a)throw Error(o(300));t===null||Dn||(t=t.dependencies,t!==null&&Pu(t)&&(Dn=!0))}function zp(t,a,r,c){ft=t;var p=0;do{if(bl&&(_l=null),No=0,bl=!1,25<=p)throw Error(o(301));if(p+=1,On=Jt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=fg,g=a(r,c)}while(bl);return g}function E_(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?jo(a):a,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(ft.flags|=1024),a}function im(){var t=Gu!==0;return Gu=0,t}function rm(t,a,r){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~r}function lm(t){if(Qu){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Qu=!1}Ws=0,On=Jt=ft=null,bl=!1,No=Gu=0,_l=null}function pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?ft.memoizedState=On=t:On=On.next=t,On}function Tn(){if(Jt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var a=On===null?ft.memoizedState:On.next;if(a!==null)On=a,Jt=t;else{if(t===null)throw ft.alternate===null?Error(o(467)):Error(o(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},On===null?ft.memoizedState=On=t:On=On.next=t}return On}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(t){var a=No;return No+=1,_l===null&&(_l=[]),t=Np(_l,t,a),a=ft,(On===null?a.memoizedState:On.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?hg:vm),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===R)return Wn(t)}throw Error(o(438,String(t)))}function om(t){var a=null,r=ft.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var c=ft.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Vu(),ft.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(t),c=0;c<t;c++)r[c]=he;return a.index++,r}function ei(t,a){return typeof a=="function"?a(t):a}function $u(t){var a=Tn();return um(a,Jt,t)}function um(t,a,r){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=t.baseQueue,g=c.pending;if(g!==null){if(p!==null){var j=p.next;p.next=g.next,g.next=j}a.baseQueue=p=g,c.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{a=p.next;var C=j=null,K=null,fe=a,Ne=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(kt&Ce)===Ce:(Ws&Ce)===Ce){var ge=fe.revertLane;if(ge===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===pl&&(Ne=!0);else if((Ws&ge)===ge){fe=fe.next,ge===pl&&(Ne=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},K===null?(C=K=Ce,j=g):K=K.next=Ce,ft.lanes|=ge,Ii|=ge;Ce=fe.action,Or&&r(g,Ce),g=fe.hasEagerState?fe.eagerState:r(g,Ce)}else ge={lane:Ce,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},K===null?(C=K=ge,j=g):K=K.next=ge,ft.lanes|=Ce,Ii|=Ce;fe=fe.next}while(fe!==null&&fe!==a);if(K===null?j=g:K.next=C,!Qn(g,t.memoizedState)&&(Dn=!0,Ne&&(r=gl,r!==null)))throw r;t.memoizedState=g,t.baseState=j,t.baseQueue=K,c.lastRenderedState=g}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function cm(t){var a=Tn(),r=a.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var c=r.dispatch,p=r.pending,g=a.memoizedState;if(p!==null){r.pending=null;var j=p=p.next;do g=t(g,j.action),j=j.next;while(j!==p);Qn(g,a.memoizedState)||(Dn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),r.lastRenderedState=g}return[g,c]}function Op(t,a,r){var c=ft,p=Tn(),g=_t;if(g){if(r===void 0)throw Error(o(407));r=r()}else r=a();var j=!Qn((Jt||p).memoizedState,r);if(j&&(p.memoizedState=r,Dn=!0),p=p.queue,hm(Lp.bind(null,c,p,t),[t]),p.getSnapshot!==a||j||On!==null&&On.memoizedState.tag&1){if(c.flags|=2048,Nl(9,{destroy:void 0},Rp.bind(null,c,p,r,a),null),an===null)throw Error(o(349));g||(Ws&127)!==0||Dp(c,a,r)}return r}function Dp(t,a,r){t.flags|=16384,t={getSnapshot:a,value:r},a=ft.updateQueue,a===null?(a=Vu(),ft.updateQueue=a,a.stores=[t]):(r=a.stores,r===null?a.stores=[t]:r.push(t))}function Rp(t,a,r,c){a.value=r,a.getSnapshot=c,Pp(a)&&Ip(t)}function Lp(t,a,r){return r(function(){Pp(a)&&Ip(t)})}function Pp(t){var a=t.getSnapshot;t=t.value;try{var r=a();return!Qn(t,r)}catch{return!0}}function Ip(t){var a=ns(t,2);a!==null&&Ca(a,t,2)}function dm(t){var a=pa();if(typeof t=="function"){var r=t;if(t=r(),Or){Bt(!0);try{r()}finally{Bt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},a}function Bp(t,a,r,c){return t.baseState=r,um(t,Jt,typeof c=="function"?c:ei)}function k_(t,a,r,c,p){if(Wu(t))throw Error(o(485));if(t=a.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){g.listeners.push(j)}};H.T!==null?r(!0):g.isTransition=!1,c(g),r=a.pending,r===null?(g.next=a.pending=g,Up(a,g)):(g.next=r.next,a.pending=r.next=g)}}function Up(t,a){var r=a.action,c=a.payload,p=t.state;if(a.isTransition){var g=H.T,j={};H.T=j;try{var C=r(p,c),K=H.S;K!==null&&K(j,C),Fp(t,a,C)}catch(fe){mm(t,a,fe)}finally{g!==null&&j.types!==null&&(g.types=j.types),H.T=g}}else try{g=r(p,c),Fp(t,a,g)}catch(fe){mm(t,a,fe)}}function Fp(t,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Zp(t,a,c)},function(c){return mm(t,a,c)}):Zp(t,a,r)}function Zp(t,a,r){a.status="fulfilled",a.value=r,qp(a),t.state=r,a=t.pending,a!==null&&(r=a.next,r===a?t.pending=null:(r=r.next,a.next=r,Up(t,r)))}function mm(t,a,r){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=r,qp(a),a=a.next;while(a!==c)}t.action=null}function qp(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Hp(t,a){return a}function Kp(t,a){if(_t){var r=an.formState;if(r!==null){e:{var c=ft;if(_t){if(Rt){t:{for(var p=Rt,g=Sa;p.nodeType!==8;){if(!g){p=null;break t}if(p=is(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Rt=is(p.nextSibling),c=p.data==="F!";break e}}Bs(c)}c=!1}c&&(a=r[0])}}return r=pa(),r.memoizedState=r.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:a},r.queue=c,r=cg.bind(null,ft,c),c.dispatch=r,c=dm(!1),g=ym.bind(null,ft,!1,c.queue),c=pa(),p={state:a,dispatch:null,action:t,pending:null},c.queue=p,r=k_.bind(null,ft,p,g,r),p.dispatch=r,c.memoizedState=t,[a,r,!1]}function Qp(t){var a=Tn();return Gp(a,Jt,t)}function Gp(t,a,r){if(a=um(t,a,Hp)[0],t=$u(ei)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=jo(a)}catch(j){throw j===xl?Uu:j}else c=a;a=Tn();var p=a.queue,g=p.dispatch;return r!==a.memoizedState&&(ft.flags|=2048,Nl(9,{destroy:void 0},T_.bind(null,p,r),null)),[c,g,t]}function T_(t,a){t.action=a}function Vp(t){var a=Tn(),r=Jt;if(r!==null)return Gp(a,r,t);Tn(),a=a.memoizedState,r=Tn();var c=r.queue.dispatch;return r.memoizedState=t,[a,c,!1]}function Nl(t,a,r,c){return t={tag:t,create:r,deps:c,inst:a,next:null},a=ft.updateQueue,a===null&&(a=Vu(),ft.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=t.next=t:(c=r.next,r.next=t,t.next=c,a.lastEffect=t),t}function Yp(){return Tn().memoizedState}function Xu(t,a,r,c){var p=pa();ft.flags|=t,p.memoizedState=Nl(1|a,{destroy:void 0},r,c===void 0?null:c)}function Ju(t,a,r,c){var p=Tn();c=c===void 0?null:c;var g=p.memoizedState.inst;Jt!==null&&c!==null&&am(c,Jt.memoizedState.deps)?p.memoizedState=Nl(a,g,r,c):(ft.flags|=t,p.memoizedState=Nl(1|a,g,r,c))}function $p(t,a){Xu(8390656,8,t,a)}function hm(t,a){Ju(2048,8,t,a)}function C_(t){ft.flags|=4;var a=ft.updateQueue;if(a===null)a=Vu(),ft.updateQueue=a,a.events=[t];else{var r=a.events;r===null?a.events=[t]:r.push(t)}}function Xp(t){var a=Tn().memoizedState;return C_({ref:a,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function Jp(t,a){return Ju(4,2,t,a)}function Wp(t,a){return Ju(4,4,t,a)}function eg(t,a){if(typeof a=="function"){t=t();var r=a(t);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function tg(t,a,r){r=r!=null?r.concat([t]):null,Ju(4,4,eg.bind(null,a,t),r)}function fm(){}function ng(t,a){var r=Tn();a=a===void 0?null:a;var c=r.memoizedState;return a!==null&&am(a,c[1])?c[0]:(r.memoizedState=[t,a],t)}function ag(t,a){var r=Tn();a=a===void 0?null:a;var c=r.memoizedState;if(a!==null&&am(a,c[1]))return c[0];if(c=t(),Or){Bt(!0);try{t()}finally{Bt(!1)}}return r.memoizedState=[c,a],c}function pm(t,a,r){return r===void 0||(Ws&1073741824)!==0&&(kt&261930)===0?t.memoizedState=a:(t.memoizedState=r,t=sx(),ft.lanes|=t,Ii|=t,r)}function sg(t,a,r,c){return Qn(r,a)?r:vl.current!==null?(t=pm(t,r,c),Qn(t,a)||(Dn=!0),t):(Ws&42)===0||(Ws&1073741824)!==0&&(kt&261930)===0?(Dn=!0,t.memoizedState=r):(t=sx(),ft.lanes|=t,Ii|=t,a)}function ig(t,a,r,c,p){var g=Q.p;Q.p=g!==0&&8>g?g:8;var j=H.T,C={};H.T=C,ym(t,!1,a,r);try{var K=p(),fe=H.S;if(fe!==null&&fe(C,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var Ne=S_(K,c);So(t,a,Ne,qa(t))}else So(t,a,c,qa(t))}catch(Ce){So(t,a,{then:function(){},status:"rejected",reason:Ce},qa())}finally{Q.p=g,j!==null&&C.types!==null&&(j.types=C.types),H.T=j}}function A_(){}function gm(t,a,r,c){if(t.tag!==5)throw Error(o(476));var p=rg(t).queue;ig(t,p,a,se,r===null?A_:function(){return lg(t),r(c)})}function rg(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:se},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:r},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function lg(t){var a=rg(t);a.next===null&&(a=t.alternate.memoizedState),So(t,a.next.queue,{},qa())}function xm(){return Wn(Fo)}function og(){return Tn().memoizedState}function ug(){return Tn().memoizedState}function M_(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var r=qa();t=zi(r);var c=Oi(a,t,r);c!==null&&(Ca(c,a,r),vo(c,a,r)),a={cache:Qd()},t.payload=a;return}a=a.return}}function z_(t,a,r){var c=qa();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?dg(a,r):(r=oo(t,a,r,c),r!==null&&(Ca(r,t,c),mg(r,a,c)))}function cg(t,a,r){var c=qa();So(t,a,r,c)}function So(t,a,r,c){var p={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))dg(a,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var j=a.lastRenderedState,C=g(j,r);if(p.hasEagerState=!0,p.eagerState=C,Qn(C,j))return Ps(t,a,p,0),an===null&&jr(),!1}catch{}if(r=oo(t,a,p,c),r!==null)return Ca(r,t,c),mg(r,a,c),!0}return!1}function ym(t,a,r,c){if(c={lane:2,revertLane:$m(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(a)throw Error(o(479))}else a=oo(t,r,c,2),a!==null&&Ca(a,t,2)}function Wu(t){var a=t.alternate;return t===ft||a!==null&&a===ft}function dg(t,a){bl=Qu=!0;var r=t.pending;r===null?a.next=a:(a.next=r.next,r.next=a),t.pending=a}function mg(t,a,r){if((r&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,r|=c,a.lanes=r,tn(t,r)}}var wo={readContext:Wn,use:Yu,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};wo.useEffectEvent=_n;var hg={readContext:Wn,use:Yu,useCallback:function(t,a){return pa().memoizedState=[t,a===void 0?null:a],t},useContext:Wn,useEffect:$p,useImperativeHandle:function(t,a,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,eg.bind(null,a,t),r)},useLayoutEffect:function(t,a){return Xu(4194308,4,t,a)},useInsertionEffect:function(t,a){Xu(4,2,t,a)},useMemo:function(t,a){var r=pa();a=a===void 0?null:a;var c=t();if(Or){Bt(!0);try{t()}finally{Bt(!1)}}return r.memoizedState=[c,a],c},useReducer:function(t,a,r){var c=pa();if(r!==void 0){var p=r(a);if(Or){Bt(!0);try{r(a)}finally{Bt(!1)}}}else p=a;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=z_.bind(null,ft,t),[c.memoizedState,t]},useRef:function(t){var a=pa();return t={current:t},a.memoizedState=t},useState:function(t){t=dm(t);var a=t.queue,r=cg.bind(null,ft,a);return a.dispatch=r,[t.memoizedState,r]},useDebugValue:fm,useDeferredValue:function(t,a){var r=pa();return pm(r,t,a)},useTransition:function(){var t=dm(!1);return t=ig.bind(null,ft,t.queue,!0,!1),pa().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,r){var c=ft,p=pa();if(_t){if(r===void 0)throw Error(o(407));r=r()}else{if(r=a(),an===null)throw Error(o(349));(kt&127)!==0||Dp(c,a,r)}p.memoizedState=r;var g={value:r,getSnapshot:a};return p.queue=g,$p(Lp.bind(null,c,g,t),[t]),c.flags|=2048,Nl(9,{destroy:void 0},Rp.bind(null,c,g,r,a),null),r},useId:function(){var t=pa(),a=an.identifierPrefix;if(_t){var r=Le,c=Te;r=(c&~(1<<32-ht(c)-1)).toString(32)+r,a="_"+a+"R_"+r,r=Gu++,0<r&&(a+="H"+r.toString(32)),a+="_"}else r=w_++,a="_"+a+"r_"+r.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:xm,useFormState:Kp,useActionState:Kp,useOptimistic:function(t){var a=pa();a.memoizedState=a.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=ym.bind(null,ft,!0,r),r.dispatch=a,[t,a]},useMemoCache:om,useCacheRefresh:function(){return pa().memoizedState=M_.bind(null,ft)},useEffectEvent:function(t){var a=pa(),r={impl:t};return a.memoizedState=r,function(){if((Ft&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},vm={readContext:Wn,use:Yu,useCallback:ng,useContext:Wn,useEffect:hm,useImperativeHandle:tg,useInsertionEffect:Jp,useLayoutEffect:Wp,useMemo:ag,useReducer:$u,useRef:Yp,useState:function(){return $u(ei)},useDebugValue:fm,useDeferredValue:function(t,a){var r=Tn();return sg(r,Jt.memoizedState,t,a)},useTransition:function(){var t=$u(ei)[0],a=Tn().memoizedState;return[typeof t=="boolean"?t:jo(t),a]},useSyncExternalStore:Op,useId:og,useHostTransitionStatus:xm,useFormState:Qp,useActionState:Qp,useOptimistic:function(t,a){var r=Tn();return Bp(r,Jt,t,a)},useMemoCache:om,useCacheRefresh:ug};vm.useEffectEvent=Xp;var fg={readContext:Wn,use:Yu,useCallback:ng,useContext:Wn,useEffect:hm,useImperativeHandle:tg,useInsertionEffect:Jp,useLayoutEffect:Wp,useMemo:ag,useReducer:cm,useRef:Yp,useState:function(){return cm(ei)},useDebugValue:fm,useDeferredValue:function(t,a){var r=Tn();return Jt===null?pm(r,t,a):sg(r,Jt.memoizedState,t,a)},useTransition:function(){var t=cm(ei)[0],a=Tn().memoizedState;return[typeof t=="boolean"?t:jo(t),a]},useSyncExternalStore:Op,useId:og,useHostTransitionStatus:xm,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,a){var r=Tn();return Jt!==null?Bp(r,Jt,t,a):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:om,useCacheRefresh:ug};fg.useEffectEvent=Xp;function bm(t,a,r,c){a=t.memoizedState,r=r(c,a),r=r==null?a:w({},a,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _m={enqueueSetState:function(t,a,r){t=t._reactInternals;var c=qa(),p=zi(c);p.payload=a,r!=null&&(p.callback=r),a=Oi(t,p,c),a!==null&&(Ca(a,t,c),vo(a,t,c))},enqueueReplaceState:function(t,a,r){t=t._reactInternals;var c=qa(),p=zi(c);p.tag=1,p.payload=a,r!=null&&(p.callback=r),a=Oi(t,p,c),a!==null&&(Ca(a,t,c),vo(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var r=qa(),c=zi(r);c.tag=2,a!=null&&(c.callback=a),a=Oi(t,c,r),a!==null&&(Ca(a,t,r),vo(a,t,r))}};function pg(t,a,r,c,p,g,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,j):a.prototype&&a.prototype.isPureReactComponent?!wi(r,c)||!wi(p,g):!0}function gg(t,a,r,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,c),a.state!==t&&_m.enqueueReplaceState(a,a.state,null)}function Dr(t,a){var r=a;if("ref"in a){r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}if(t=t.defaultProps){r===a&&(r=w({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function xg(t){Nr(t)}function yg(t){console.error(t)}function vg(t){Nr(t)}function ec(t,a){try{var r=t.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function bg(t,a,r){try{var c=t.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Nm(t,a,r){return r=zi(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(t,a)},r}function _g(t){return t=zi(t),t.tag=3,t}function Ng(t,a,r,c){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;t.payload=function(){return p(g)},t.callback=function(){bg(a,r,c)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){bg(a,r,c),typeof p!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function O_(t,a,r,c,p){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=r.alternate,a!==null&&fl(a,r,p,!0),r=Ba.current,r!==null){switch(r.tag){case 31:case 13:return ss===null?mc():r.alternate===null&&Nn===0&&(Nn=3),r.flags&=-257,r.flags|=65536,r.lanes=p,c===Fu?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([c]):a.add(c),Gm(t,c,p)),!1;case 22:return r.flags|=65536,c===Fu?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([c]):r.add(c)),Gm(t,c,p)),!1}throw Error(o(435,r.tag))}return Gm(t,c,p),mc(),!1}if(_t)return a=Ba.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==hl&&(t=Error(o(422),{cause:c}),Er(u(t,r)))):(c!==hl&&(a=Error(o(423),{cause:c}),Er(u(a,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=u(c,r),p=Nm(t.stateNode,c,p),Jd(t,p),Nn!==4&&(Nn=2)),!1;var g=Error(o(520),{cause:c});if(g=u(g,r),Oo===null?Oo=[g]:Oo.push(g),Nn!==4&&(Nn=2),a===null)return!0;c=u(c,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=Nm(r.stateNode,c,t),Jd(r,t),!1;case 1:if(a=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bi===null||!Bi.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=_g(p),Ng(p,t,r,c),Jd(r,p),!1}r=r.return}while(r!==null);return!1}var jm=Error(o(461)),Dn=!1;function ea(t,a,r,c){a.child=t===null?Ep(a,null,r,c):zr(a,t.child,r,c)}function jg(t,a,r,c,p){r=r.render;var g=a.ref;if("ref"in c){var j={};for(var C in c)C!=="ref"&&(j[C]=c[C])}else j=c;return Tr(a),c=sm(t,a,r,j,g,p),C=im(),t!==null&&!Dn?(rm(t,a,p),ti(t,a,p)):(_t&&C&&Fn(a),a.flags|=1,ea(t,a,c,p),a.child)}function Sg(t,a,r,c,p){if(t===null){var g=r.type;return typeof g=="function"&&!dl(g)&&g.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=g,wg(t,a,g,c,p)):(t=wr(r.type,null,c,a,a.mode,p),t.ref=a.ref,t.return=a,a.child=t)}if(g=t.child,!Mm(t,p)){var j=g.memoizedProps;if(r=r.compare,r=r!==null?r:wi,r(j,c)&&t.ref===a.ref)return ti(t,a,p)}return a.flags|=1,t=as(g,c),t.ref=a.ref,t.return=a,a.child=t}function wg(t,a,r,c,p){if(t!==null){var g=t.memoizedProps;if(wi(g,c)&&t.ref===a.ref)if(Dn=!1,a.pendingProps=c=g,Mm(t,p))(t.flags&131072)!==0&&(Dn=!0);else return a.lanes=t.lanes,ti(t,a,p)}return Sm(t,a,r,c,p)}function Eg(t,a,r,c){var p=c.children,g=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,t!==null){for(c=a.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,a.child=null;return kg(t,a,g,r,c)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(a,g!==null?g.cachePool:null),g!==null?Cp(a,g):em(),Ap(a);else return c=a.lanes=536870912,kg(t,a,g!==null?g.baseLanes|r:r,r,c)}else g!==null?(Bu(a,g.cachePool),Cp(a,g),Ri(),a.memoizedState=null):(t!==null&&Bu(a,null),em(),Ri());return ea(t,a,p,r),a.child}function Eo(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function kg(t,a,r,c,p){var g=Vd();return g=g===null?null:{parent:zn._currentValue,pool:g},a.memoizedState={baseLanes:r,cachePool:g},t!==null&&Bu(a,null),em(),Ap(a),t!==null&&fl(t,a,c,!0),a.childLanes=p,null}function tc(t,a){return a=ac({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Tg(t,a,r){return zr(a,t.child,null,r),t=tc(a,a.pendingProps),t.flags|=2,Ua(a),a.memoizedState=null,t}function D_(t,a,r){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(_t){if(c.mode==="hidden")return t=tc(a,c),a.lanes=536870912,Eo(null,t);if(nm(a),(t=Rt)?(t=Ux(t,Sa),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:pe!==null?{id:Te,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},r=co(t),r.return=a,a.child=r,Dt=a,Rt=null)):t=null,t===null)throw Bs(a);return a.lanes=536870912,null}return tc(a,c)}var g=t.memoizedState;if(g!==null){var j=g.dehydrated;if(nm(a),p)if(a.flags&256)a.flags&=-257,a=Tg(t,a,r);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(o(558));else if(Dn||fl(t,a,r,!1),p=(r&t.childLanes)!==0,Dn||p){if(c=an,c!==null&&(j=Ya(c,r),j!==0&&j!==g.retryLane))throw g.retryLane=j,ns(t,j),Ca(c,t,j),jm;mc(),a=Tg(t,a,r)}else t=g.treeContext,Rt=is(j.nextSibling),Dt=a,_t=!0,Is=null,Sa=!1,t!==null&&fa(a,t),a=tc(a,c),a.flags|=4096;return a}return t=as(t.child,{mode:c.mode,children:c.children}),t.ref=a.ref,a.child=t,t.return=a,t}function nc(t,a){var r=a.ref;if(r===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(a.flags|=4194816)}}function Sm(t,a,r,c,p){return Tr(a),r=sm(t,a,r,c,void 0,p),c=im(),t!==null&&!Dn?(rm(t,a,p),ti(t,a,p)):(_t&&c&&Fn(a),a.flags|=1,ea(t,a,r,p),a.child)}function Cg(t,a,r,c,p,g){return Tr(a),a.updateQueue=null,r=zp(a,c,r,p),Mp(t),c=im(),t!==null&&!Dn?(rm(t,a,g),ti(t,a,g)):(_t&&c&&Fn(a),a.flags|=1,ea(t,a,r,g),a.child)}function Ag(t,a,r,c,p){if(Tr(a),a.stateNode===null){var g=Ys,j=r.contextType;typeof j=="object"&&j!==null&&(g=Wn(j)),g=new r(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_m,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},$d(a),j=r.contextType,g.context=typeof j=="object"&&j!==null?Wn(j):Ys,g.state=a.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(bm(a,r,j,c),g.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(j=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),j!==g.state&&_m.enqueueReplaceState(g,g.state,null),_o(a,c,g,p),bo(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){g=a.stateNode;var C=a.memoizedProps,K=Dr(r,C);g.props=K;var fe=g.context,Ne=r.contextType;j=Ys,typeof Ne=="object"&&Ne!==null&&(j=Wn(Ne));var Ce=r.getDerivedStateFromProps;Ne=typeof Ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,Ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||fe!==j)&&gg(a,g,c,j),Mi=!1;var ge=a.memoizedState;g.state=ge,_o(a,c,g,p),bo(),fe=a.memoizedState,C||ge!==fe||Mi?(typeof Ce=="function"&&(bm(a,r,Ce,c),fe=a.memoizedState),(K=Mi||pg(a,r,K,c,ge,fe,j))?(Ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=fe),g.props=c,g.state=fe,g.context=j,c=K):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Xd(t,a),j=a.memoizedProps,Ne=Dr(r,j),g.props=Ne,Ce=a.pendingProps,ge=g.context,fe=r.contextType,K=Ys,typeof fe=="object"&&fe!==null&&(K=Wn(fe)),C=r.getDerivedStateFromProps,(fe=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==Ce||ge!==K)&&gg(a,g,c,K),Mi=!1,ge=a.memoizedState,g.state=ge,_o(a,c,g,p),bo();var ye=a.memoizedState;j!==Ce||ge!==ye||Mi||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof C=="function"&&(bm(a,r,C,c),ye=a.memoizedState),(Ne=Mi||pg(a,r,Ne,c,ge,ye,K)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(fe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ye,K),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ye,K)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ye),g.props=c,g.state=ye,g.context=K,c=Ne):(typeof g.componentDidUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ge===t.memoizedState||(a.flags|=1024),c=!1)}return g=c,nc(t,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,t!==null&&c?(a.child=zr(a,t.child,null,p),a.child=zr(a,null,r,p)):ea(t,a,r,p),a.memoizedState=g.state,t=a.child):t=ti(t,a,p),t}function Mg(t,a,r,c){return Xs(),a.flags|=256,ea(t,a,r,c),a.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Em(t){return{baseLanes:t,cachePool:bp()}}function km(t,a,r){return t=t!==null?t.childLanes&~r:0,a&&(t|=Za),t}function zg(t,a,r){var c=a.pendingProps,p=!1,g=(a.flags&128)!==0,j;if((j=g)||(j=t!==null&&t.memoizedState===null?!1:(kn.current&2)!==0),j&&(p=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,t===null){if(_t){if(p?Di(a):Ri(),(t=Rt)?(t=Ux(t,Sa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:pe!==null?{id:Te,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},r=co(t),r.return=a,a.child=r,Dt=a,Rt=null)):t=null,t===null)throw Bs(a);return uh(t)?a.lanes=32:a.lanes=536870912,null}var C=c.children;return c=c.fallback,p?(Ri(),p=a.mode,C=ac({mode:"hidden",children:C},p),c=$s(c,p,r,null),C.return=a,c.return=a,C.sibling=c,a.child=C,c=a.child,c.memoizedState=Em(r),c.childLanes=km(t,j,r),a.memoizedState=wm,Eo(null,c)):(Di(a),Tm(a,C))}var K=t.memoizedState;if(K!==null&&(C=K.dehydrated,C!==null)){if(g)a.flags&256?(Di(a),a.flags&=-257,a=Cm(t,a,r)):a.memoizedState!==null?(Ri(),a.child=t.child,a.flags|=128,a=null):(Ri(),C=c.fallback,p=a.mode,c=ac({mode:"visible",children:c.children},p),C=$s(C,p,r,null),C.flags|=2,c.return=a,C.return=a,c.sibling=C,a.child=c,zr(a,t.child,null,r),c=a.child,c.memoizedState=Em(r),c.childLanes=km(t,j,r),a.memoizedState=wm,a=Eo(null,c));else if(Di(a),uh(C)){if(j=C.nextSibling&&C.nextSibling.dataset,j)var fe=j.dgst;j=fe,c=Error(o(419)),c.stack="",c.digest=j,Er({value:c,source:null,stack:null}),a=Cm(t,a,r)}else if(Dn||fl(t,a,r,!1),j=(r&t.childLanes)!==0,Dn||j){if(j=an,j!==null&&(c=Ya(j,r),c!==0&&c!==K.retryLane))throw K.retryLane=c,ns(t,c),Ca(j,t,c),jm;oh(C)||mc(),a=Cm(t,a,r)}else oh(C)?(a.flags|=192,a.child=t.child,a=null):(t=K.treeContext,Rt=is(C.nextSibling),Dt=a,_t=!0,Is=null,Sa=!1,t!==null&&fa(a,t),a=Tm(a,c.children),a.flags|=4096);return a}return p?(Ri(),C=c.fallback,p=a.mode,K=t.child,fe=K.sibling,c=as(K,{mode:"hidden",children:c.children}),c.subtreeFlags=K.subtreeFlags&65011712,fe!==null?C=as(fe,C):(C=$s(C,p,r,null),C.flags|=2),C.return=a,c.return=a,c.sibling=C,a.child=c,Eo(null,c),c=a.child,C=t.child.memoizedState,C===null?C=Em(r):(p=C.cachePool,p!==null?(K=zn._currentValue,p=p.parent!==K?{parent:K,pool:K}:p):p=bp(),C={baseLanes:C.baseLanes|r,cachePool:p}),c.memoizedState=C,c.childLanes=km(t,j,r),a.memoizedState=wm,Eo(t.child,c)):(Di(a),r=t.child,t=r.sibling,r=as(r,{mode:"visible",children:c.children}),r.return=a,r.sibling=null,t!==null&&(j=a.deletions,j===null?(a.deletions=[t],a.flags|=16):j.push(t)),a.child=r,a.memoizedState=null,r)}function Tm(t,a){return a=ac({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function ac(t,a){return t=oa(22,t,null,a),t.lanes=0,t}function Cm(t,a,r){return zr(a,t.child,null,r),t=Tm(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Og(t,a,r){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),Hd(t.return,a,r)}function Am(t,a,r,c,p,g){var j=t.memoizedState;j===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:p,treeForkCount:g}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=r,j.tailMode=p,j.treeForkCount=g)}function Dg(t,a,r){var c=a.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var j=kn.current,C=(j&2)!==0;if(C?(j=j&1|2,a.flags|=128):j&=1,I(kn,j),ea(t,a,c,r),c=_t?E:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Og(t,r,a);else if(t.tag===19)Og(t,r,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=a.child,p=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=a.child,a.child=null):(p=r.sibling,r.sibling=null),Am(a,!1,p,r,g,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=a.child,a.child=null;p!==null;){if(t=p.alternate,t!==null&&Ku(t)===null){a.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}Am(a,!0,r,null,g,c);break;case"together":Am(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ti(t,a,r){if(t!==null&&(a.dependencies=t.dependencies),Ii|=a.lanes,(r&a.childLanes)===0)if(t!==null){if(fl(t,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(o(153));if(a.child!==null){for(t=a.child,r=as(t,t.pendingProps),a.child=r,r.return=a;t.sibling!==null;)t=t.sibling,r=r.sibling=as(t,t.pendingProps),r.return=a;r.sibling=null}return a.child}function Mm(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function R_(t,a,r){switch(a.tag){case 3:Ke(a,a.stateNode.containerInfo),Ai(a,zn,t.memoizedState.cache),Xs();break;case 27:case 5:at(a);break;case 4:Ke(a,a.stateNode.containerInfo);break;case 10:Ai(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,nm(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Di(a),a.flags|=128,null):(r&a.child.childLanes)!==0?zg(t,a,r):(Di(a),t=ti(t,a,r),t!==null?t.sibling:null);Di(a);break;case 19:var p=(t.flags&128)!==0;if(c=(r&a.childLanes)!==0,c||(fl(t,a,r,!1),c=(r&a.childLanes)!==0),p){if(c)return Dg(t,a,r);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),I(kn,kn.current),c)break;return null;case 22:return a.lanes=0,Eg(t,a,r,a.pendingProps);case 24:Ai(a,zn,t.memoizedState.cache)}return ti(t,a,r)}function Rg(t,a,r){if(t!==null)if(t.memoizedProps!==a.pendingProps)Dn=!0;else{if(!Mm(t,r)&&(a.flags&128)===0)return Dn=!1,R_(t,a,r);Dn=(t.flags&131072)!==0}else Dn=!1,_t&&(a.flags&1048576)!==0&&pt(a,E,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(t=Ar(a.elementType),a.type=t,typeof t=="function")dl(t)?(c=Dr(t,c),a.tag=1,a=Ag(null,a,t,c,r)):(a.tag=0,a=Sm(null,a,t,c,r));else{if(t!=null){var p=t.$$typeof;if(p===G){a.tag=11,a=jg(null,a,t,c,r);break e}else if(p===q){a.tag=14,a=Sg(null,a,t,c,r);break e}}throw a=re(t)||t,Error(o(306,a,""))}}return a;case 0:return Sm(t,a,a.type,a.pendingProps,r);case 1:return c=a.type,p=Dr(c,a.pendingProps),Ag(t,a,c,p,r);case 3:e:{if(Ke(a,a.stateNode.containerInfo),t===null)throw Error(o(387));c=a.pendingProps;var g=a.memoizedState;p=g.element,Xd(t,a),_o(a,c,null,r);var j=a.memoizedState;if(c=j.cache,Ai(a,zn,c),c!==g.cache&&Kd(a,[zn],r,!0),bo(),c=j.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Mg(t,a,c,r);break e}else if(c!==p){p=u(Error(o(424)),a),Er(p),a=Mg(t,a,c,r);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Rt=is(t.firstChild),Dt=a,_t=!0,Is=null,Sa=!0,r=Ep(a,null,c,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),c===p){a=ti(t,a,r);break e}ea(t,a,c,r)}a=a.child}return a;case 26:return nc(t,a),t===null?(r=Qx(a.type,null,a.pendingProps,null))?a.memoizedState=r:_t||(r=a.type,t=a.pendingProps,c=vc(je.current).createElement(r),c[qt]=a,c[tt]=t,ta(c,r,t),on(c),a.stateNode=c):a.memoizedState=Qx(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return at(a),t===null&&_t&&(c=a.stateNode=qx(a.type,a.pendingProps,je.current),Dt=a,Sa=!0,p=Rt,qi(a.type)?(ch=p,Rt=is(c.firstChild)):Rt=p),ea(t,a,a.pendingProps.children,r),nc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&_t&&((p=c=Rt)&&(c=dN(c,a.type,a.pendingProps,Sa),c!==null?(a.stateNode=c,Dt=a,Rt=is(c.firstChild),Sa=!1,p=!0):p=!1),p||Bs(a)),at(a),p=a.type,g=a.pendingProps,j=t!==null?t.memoizedProps:null,c=g.children,ih(p,g)?c=null:j!==null&&ih(p,j)&&(a.flags|=32),a.memoizedState!==null&&(p=sm(t,a,E_,null,null,r),Fo._currentValue=p),nc(t,a),ea(t,a,c,r),a.child;case 6:return t===null&&_t&&((t=r=Rt)&&(r=mN(r,a.pendingProps,Sa),r!==null?(a.stateNode=r,Dt=a,Rt=null,t=!0):t=!1),t||Bs(a)),null;case 13:return zg(t,a,r);case 4:return Ke(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=zr(a,null,c,r):ea(t,a,c,r),a.child;case 11:return jg(t,a,a.type,a.pendingProps,r);case 7:return ea(t,a,a.pendingProps,r),a.child;case 8:return ea(t,a,a.pendingProps.children,r),a.child;case 12:return ea(t,a,a.pendingProps.children,r),a.child;case 10:return c=a.pendingProps,Ai(a,a.type,c.value),ea(t,a,c.children,r),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Tr(a),p=Wn(p),c=c(p),a.flags|=1,ea(t,a,c,r),a.child;case 14:return Sg(t,a,a.type,a.pendingProps,r);case 15:return wg(t,a,a.type,a.pendingProps,r);case 19:return Dg(t,a,r);case 31:return D_(t,a,r);case 22:return Eg(t,a,r,a.pendingProps);case 24:return Tr(a),c=Wn(zn),t===null?(p=Vd(),p===null&&(p=an,g=Qd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),a.memoizedState={parent:c,cache:p},$d(a),Ai(a,zn,p)):((t.lanes&r)!==0&&(Xd(t,a),_o(a,null,null,r),bo()),p=t.memoizedState,g=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ai(a,zn,c)):(c=g.cache,Ai(a,zn,c),c!==p.cache&&Kd(a,[zn],r,!0))),ea(t,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function ni(t){t.flags|=4}function zm(t,a,r,c,p){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(ox())t.flags|=8192;else throw Mr=Fu,Yd}else t.flags&=-16777217}function Lg(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xx(a))if(ox())t.flags|=8192;else throw Mr=Fu,Yd}function sc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?In():536870912,t.lanes|=a,El|=a)}function ko(t,a){if(!_t)switch(t.tailMode){case"hidden":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function cn(t){var a=t.alternate!==null&&t.alternate.child===t.child,r=0,c=0;if(a)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=r,a}function L_(t,a,r){var c=a.pendingProps;switch(bn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(a),null;case 1:return cn(a),null;case 3:return r=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Js(zn),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_s(a)?ni(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,fo())),cn(a),null;case 26:var p=a.type,g=a.memoizedState;return t===null?(ni(a),g!==null?(cn(a),Lg(a,g)):(cn(a),zm(a,p,null,c,r))):g?g!==t.memoizedState?(ni(a),cn(a),Lg(a,g)):(cn(a),a.flags&=-16777217):(t=t.memoizedProps,t!==c&&ni(a),cn(a),zm(a,p,t,c,r)),null;case 27:if(be(a),r=je.current,p=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&ni(a);else{if(!c){if(a.stateNode===null)throw Error(o(166));return cn(a),null}t=ue.current,_s(a)?ho(a):(t=qx(p,c,r),a.stateNode=t,ni(a))}return cn(a),null;case 5:if(be(a),p=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&ni(a);else{if(!c){if(a.stateNode===null)throw Error(o(166));return cn(a),null}if(g=ue.current,_s(a))ho(a);else{var j=vc(je.current);switch(g){case 1:g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=j.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?j.createElement(p,{is:c.is}):j.createElement(p)}}g[qt]=a,g[tt]=c;e:for(j=a.child;j!==null;){if(j.tag===5||j.tag===6)g.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===a)break e;for(;j.sibling===null;){if(j.return===null||j.return===a)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}a.stateNode=g;e:switch(ta(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ni(a)}}return cn(a),zm(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,r),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&ni(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(o(166));if(t=je.current,_s(a)){if(t=a.stateNode,r=a.memoizedProps,c=null,p=Dt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[qt]=a,t=!!(t.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||zx(t.nodeValue,r)),t||Bs(a,!0)}else t=vc(t).createTextNode(c),t[qt]=a,a.stateNode=t}return cn(a),null;case 31:if(r=a.memoizedState,t===null||t.memoizedState!==null){if(c=_s(a),r!==null){if(t===null){if(!c)throw Error(o(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[qt]=a}else Xs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;cn(a),t=!1}else r=fo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return a.flags&256?(Ua(a),a):(Ua(a),null);if((a.flags&128)!==0)throw Error(o(558))}return cn(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=_s(a),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[qt]=a}else Xs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;cn(a),p=!1}else p=fo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Ua(a),a):(Ua(a),null)}return Ua(a),(a.flags&128)!==0?(a.lanes=r,a):(r=c!==null,t=t!==null&&t.memoizedState!==null,r&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),r!==t&&r&&(a.child.flags|=8192),sc(a,a.updateQueue),cn(a),null);case 4:return He(),t===null&&eh(a.stateNode.containerInfo),cn(a),null;case 10:return Js(a.type),cn(a),null;case 19:if(te(kn),c=a.memoizedState,c===null)return cn(a),null;if(p=(a.flags&128)!==0,g=c.rendering,g===null)if(p)ko(c,!1);else{if(Nn!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(g=Ku(t),g!==null){for(a.flags|=128,ko(c,!1),t=g.updateQueue,a.updateQueue=t,sc(a,t),a.subtreeFlags=0,t=r,r=a.child;r!==null;)uo(r,t),r=r.sibling;return I(kn,kn.current&1|2),_t&&Xe(a,c.treeForkCount),a.child}t=t.sibling}c.tail!==null&&ae()>uc&&(a.flags|=128,p=!0,ko(c,!1),a.lanes=4194304)}else{if(!p)if(t=Ku(g),t!==null){if(a.flags|=128,p=!0,t=t.updateQueue,a.updateQueue=t,sc(a,t),ko(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!_t)return cn(a),null}else 2*ae()-c.renderingStartTime>uc&&r!==536870912&&(a.flags|=128,p=!0,ko(c,!1),a.lanes=4194304);c.isBackwards?(g.sibling=a.child,a.child=g):(t=c.last,t!==null?t.sibling=g:a.child=g,c.last=g)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ae(),t.sibling=null,r=kn.current,I(kn,p?r&1|2:r&1),_t&&Xe(a,c.treeForkCount),t):(cn(a),null);case 22:case 23:return Ua(a),tm(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(r&536870912)!==0&&(a.flags&128)===0&&(cn(a),a.subtreeFlags&6&&(a.flags|=8192)):cn(a),r=a.updateQueue,r!==null&&sc(a,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048),t!==null&&te(Cr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Js(zn),cn(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function P_(t,a){switch(bn(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Js(zn),He(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return be(a),null;case 31:if(a.memoizedState!==null){if(Ua(a),a.alternate===null)throw Error(o(340));Xs()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Ua(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Xs()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return te(kn),null;case 4:return He(),null;case 10:return Js(a.type),null;case 22:case 23:return Ua(a),tm(),t!==null&&te(Cr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Js(zn),null;case 25:return null;default:return null}}function Pg(t,a){switch(bn(a),a.tag){case 3:Js(zn),He();break;case 26:case 27:case 5:be(a);break;case 4:He();break;case 31:a.memoizedState!==null&&Ua(a);break;case 13:Ua(a);break;case 19:te(kn);break;case 10:Js(a.type);break;case 22:case 23:Ua(a),tm(),t!==null&&te(Cr);break;case 24:Js(zn)}}function To(t,a){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var p=c.next;r=p;do{if((r.tag&t)===t){c=void 0;var g=r.create,j=r.inst;c=g(),j.destroy=c}r=r.next}while(r!==p)}}catch(C){Vt(a,a.return,C)}}function Li(t,a,r){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&t)===t){var j=c.inst,C=j.destroy;if(C!==void 0){j.destroy=void 0,p=a;var K=r,fe=C;try{fe()}catch(Ne){Vt(p,K,Ne)}}}c=c.next}while(c!==g)}}catch(Ne){Vt(a,a.return,Ne)}}function Ig(t){var a=t.updateQueue;if(a!==null){var r=t.stateNode;try{Tp(a,r)}catch(c){Vt(t,t.return,c)}}}function Bg(t,a,r){r.props=Dr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(c){Vt(t,a,c)}}function Co(t,a){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(p){Vt(t,a,p)}}function Fs(t,a){var r=t.ref,c=t.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(p){Vt(t,a,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Vt(t,a,p)}else r.current=null}function Ug(t){var a=t.type,r=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(p){Vt(t,t.return,p)}}function Om(t,a,r){try{var c=t.stateNode;iN(c,t.type,r,a),c[tt]=a}catch(p){Vt(t,t.return,p)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qi(t.type)||t.tag===4}function Dm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rm(t,a,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(t),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=ba));else if(c!==4&&(c===27&&qi(t.type)&&(r=t.stateNode,a=null),t=t.child,t!==null))for(Rm(t,a,r),t=t.sibling;t!==null;)Rm(t,a,r),t=t.sibling}function ic(t,a,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?r.insertBefore(t,a):r.appendChild(t);else if(c!==4&&(c===27&&qi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ic(t,a,r),t=t.sibling;t!==null;)ic(t,a,r),t=t.sibling}function Zg(t){var a=t.stateNode,r=t.memoizedProps;try{for(var c=t.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);ta(a,c,r),a[qt]=t,a[tt]=r}catch(g){Vt(t,t.return,g)}}var ai=!1,Rn=!1,Lm=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function I_(t,a){if(t=t.containerInfo,ah=Ec,t=yr(t),Os(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var j=0,C=-1,K=-1,fe=0,Ne=0,Ce=t,ge=null;t:for(;;){for(var ye;Ce!==r||p!==0&&Ce.nodeType!==3||(C=j+p),Ce!==g||c!==0&&Ce.nodeType!==3||(K=j+c),Ce.nodeType===3&&(j+=Ce.nodeValue.length),(ye=Ce.firstChild)!==null;)ge=Ce,Ce=ye;for(;;){if(Ce===t)break t;if(ge===r&&++fe===p&&(C=j),ge===g&&++Ne===c&&(K=j),(ye=Ce.nextSibling)!==null)break;Ce=ge,ge=Ce.parentNode}Ce=ye}r=C===-1||K===-1?null:{start:C,end:K}}else r=null}r=r||{start:0,end:0}}else r=null;for(sh={focusedElem:t,selectionRange:r},Ec=!1,Vn=a;Vn!==null;)if(a=Vn,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Vn=t;else for(;Vn!==null;){switch(a=Vn,g=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=a,p=g.memoizedProps,g=g.memoizedState,c=r.stateNode;try{var Qe=Dr(r.type,p);t=c.getSnapshotBeforeUpdate(Qe,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(et){Vt(r,r.return,et)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,r=t.nodeType,r===9)lh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=a.sibling,t!==null){t.return=a.return,Vn=t;break}Vn=a.return}}function Hg(t,a,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:ii(t,r),c&4&&To(5,r);break;case 1:if(ii(t,r),c&4)if(t=r.stateNode,a===null)try{t.componentDidMount()}catch(j){Vt(r,r.return,j)}else{var p=Dr(r.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(p,a,t.__reactInternalSnapshotBeforeUpdate)}catch(j){Vt(r,r.return,j)}}c&64&&Ig(r),c&512&&Co(r,r.return);break;case 3:if(ii(t,r),c&64&&(t=r.updateQueue,t!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Tp(t,a)}catch(j){Vt(r,r.return,j)}}break;case 27:a===null&&c&4&&Zg(r);case 26:case 5:ii(t,r),a===null&&c&4&&Ug(r),c&512&&Co(r,r.return);break;case 12:ii(t,r);break;case 31:ii(t,r),c&4&&Gg(t,r);break;case 13:ii(t,r),c&4&&Vg(t,r),c&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=G_.bind(null,r),hN(t,r))));break;case 22:if(c=r.memoizedState!==null||ai,!c){a=a!==null&&a.memoizedState!==null||Rn,p=ai;var g=Rn;ai=c,(Rn=a)&&!g?ri(t,r,(r.subtreeFlags&8772)!==0):ii(t,r),ai=p,Rn=g}break;case 30:break;default:ii(t,r)}}function Kg(t){var a=t.alternate;a!==null&&(t.alternate=null,Kg(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&P(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var hn=null,wa=!1;function si(t,a,r){for(r=r.child;r!==null;)Qg(t,a,r),r=r.sibling}function Qg(t,a,r){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount($e,r)}catch{}switch(r.tag){case 26:Rn||Fs(r,a),si(t,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rn||Fs(r,a);var c=hn,p=wa;qi(r.type)&&(hn=r.stateNode,wa=!1),si(t,a,r),Io(r.stateNode),hn=c,wa=p;break;case 5:Rn||Fs(r,a);case 6:if(c=hn,p=wa,hn=null,si(t,a,r),hn=c,wa=p,hn!==null)if(wa)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(r.stateNode)}catch(g){Vt(r,a,g)}else try{hn.removeChild(r.stateNode)}catch(g){Vt(r,a,g)}break;case 18:hn!==null&&(wa?(t=hn,Ix(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Dl(t)):Ix(hn,r.stateNode));break;case 4:c=hn,p=wa,hn=r.stateNode.containerInfo,wa=!0,si(t,a,r),hn=c,wa=p;break;case 0:case 11:case 14:case 15:Li(2,r,a),Rn||Li(4,r,a),si(t,a,r);break;case 1:Rn||(Fs(r,a),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Bg(r,a,c)),si(t,a,r);break;case 21:si(t,a,r);break;case 22:Rn=(c=Rn)||r.memoizedState!==null,si(t,a,r),Rn=c;break;default:si(t,a,r)}}function Gg(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Dl(t)}catch(r){Vt(a,a.return,r)}}}function Vg(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(r){Vt(a,a.return,r)}}function B_(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new qg),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new qg),a;default:throw Error(o(435,t.tag))}}function rc(t,a){var r=B_(t);a.forEach(function(c){if(!r.has(c)){r.add(c);var p=V_.bind(null,t,c);c.then(p,p)}})}function Ea(t,a){var r=a.deletions;if(r!==null)for(var c=0;c<r.length;c++){var p=r[c],g=t,j=a,C=j;e:for(;C!==null;){switch(C.tag){case 27:if(qi(C.type)){hn=C.stateNode,wa=!1;break e}break;case 5:hn=C.stateNode,wa=!1;break e;case 3:case 4:hn=C.stateNode.containerInfo,wa=!0;break e}C=C.return}if(hn===null)throw Error(o(160));Qg(g,j,p),hn=null,wa=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Yg(a,t),a=a.sibling}var js=null;function Yg(t,a){var r=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ea(a,t),ka(t),c&4&&(Li(3,t,t.return),To(3,t),Li(5,t,t.return));break;case 1:Ea(a,t),ka(t),c&512&&(Rn||r===null||Fs(r,r.return)),c&64&&ai&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var p=js;if(Ea(a,t),ka(t),c&512&&(Rn||r===null||Fs(r,r.return)),c&4){var g=r!==null?r.memoizedState:null;if(c=t.memoizedState,r===null)if(c===null)if(t.stateNode===null){e:{c=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[En]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),ta(g,c,r),g[qt]=t,on(g),c=g;break e;case"link":var j=Yx("link","href",p).get(c+(r.href||""));if(j){for(var C=0;C<j.length;C++)if(g=j[C],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(C,1);break t}}g=p.createElement(c),ta(g,c,r),p.head.appendChild(g);break;case"meta":if(j=Yx("meta","content",p).get(c+(r.content||""))){for(C=0;C<j.length;C++)if(g=j[C],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(C,1);break t}}g=p.createElement(c),ta(g,c,r),p.head.appendChild(g);break;default:throw Error(o(468,c))}g[qt]=t,on(g),c=g}t.stateNode=c}else $x(p,t.type,t.stateNode);else t.stateNode=Vx(p,c,t.memoizedProps);else g!==c?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,c===null?$x(p,t.type,t.stateNode):Vx(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Om(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ea(a,t),ka(t),c&512&&(Rn||r===null||Fs(r,r.return)),r!==null&&c&4&&Om(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ea(a,t),ka(t),c&512&&(Rn||r===null||Fs(r,r.return)),t.flags&32){p=t.stateNode;try{$a(p,"")}catch(Qe){Vt(t,t.return,Qe)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,Om(t,p,r!==null?r.memoizedProps:p)),c&1024&&(Lm=!0);break;case 6:if(Ea(a,t),ka(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,r=t.stateNode;try{r.nodeValue=c}catch(Qe){Vt(t,t.return,Qe)}}break;case 3:if(Nc=null,p=js,js=bc(a.containerInfo),Ea(a,t),js=p,ka(t),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(a.containerInfo)}catch(Qe){Vt(t,t.return,Qe)}Lm&&(Lm=!1,$g(t));break;case 4:c=js,js=bc(t.stateNode.containerInfo),Ea(a,t),ka(t),js=c;break;case 12:Ea(a,t),ka(t);break;case 31:Ea(a,t),ka(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,rc(t,c)));break;case 13:Ea(a,t),ka(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=ae()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,rc(t,c)));break;case 22:p=t.memoizedState!==null;var K=r!==null&&r.memoizedState!==null,fe=ai,Ne=Rn;if(ai=fe||p,Rn=Ne||K,Ea(a,t),Rn=Ne,ai=fe,ka(t),c&8192)e:for(a=t.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(r===null||K||ai||Rn||Rr(t)),r=null,a=t;;){if(a.tag===5||a.tag===26){if(r===null){K=r=a;try{if(g=K.stateNode,p)j=g.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{C=K.stateNode;var Ce=K.memoizedProps.style,ge=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;C.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Qe){Vt(K,K.return,Qe)}}}else if(a.tag===6){if(r===null){K=a;try{K.stateNode.nodeValue=p?"":K.memoizedProps}catch(Qe){Vt(K,K.return,Qe)}}}else if(a.tag===18){if(r===null){K=a;try{var ye=K.stateNode;p?Bx(ye,!0):Bx(K.stateNode,!1)}catch(Qe){Vt(K,K.return,Qe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,rc(t,r))));break;case 19:Ea(a,t),ka(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,rc(t,c)));break;case 30:break;case 21:break;default:Ea(a,t),ka(t)}}function ka(t){var a=t.flags;if(a&2){try{for(var r,c=t.return;c!==null;){if(Fg(c)){r=c;break}c=c.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var p=r.stateNode,g=Dm(t);ic(t,g,p);break;case 5:var j=r.stateNode;r.flags&32&&($a(j,""),r.flags&=-33);var C=Dm(t);ic(t,C,j);break;case 3:case 4:var K=r.stateNode.containerInfo,fe=Dm(t);Rm(t,fe,K);break;default:throw Error(o(161))}}catch(Ne){Vt(t,t.return,Ne)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function $g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;$g(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ii(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Hg(t,a.alternate,a),a=a.sibling}function Rr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Li(4,a,a.return),Rr(a);break;case 1:Fs(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Bg(a,a.return,r),Rr(a);break;case 27:Io(a.stateNode);case 26:case 5:Fs(a,a.return),Rr(a);break;case 22:a.memoizedState===null&&Rr(a);break;case 30:Rr(a);break;default:Rr(a)}t=t.sibling}}function ri(t,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=t,g=a,j=g.flags;switch(g.tag){case 0:case 11:case 15:ri(p,g,r),To(4,g);break;case 1:if(ri(p,g,r),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(fe){Vt(c,c.return,fe)}if(c=g,p=c.updateQueue,p!==null){var C=c.stateNode;try{var K=p.shared.hiddenCallbacks;if(K!==null)for(p.shared.hiddenCallbacks=null,p=0;p<K.length;p++)kp(K[p],C)}catch(fe){Vt(c,c.return,fe)}}r&&j&64&&Ig(g),Co(g,g.return);break;case 27:Zg(g);case 26:case 5:ri(p,g,r),r&&c===null&&j&4&&Ug(g),Co(g,g.return);break;case 12:ri(p,g,r);break;case 31:ri(p,g,r),r&&j&4&&Gg(p,g);break;case 13:ri(p,g,r),r&&j&4&&Vg(p,g);break;case 22:g.memoizedState===null&&ri(p,g,r),Co(g,g.return);break;case 30:break;default:ri(p,g,r)}a=a.sibling}}function Pm(t,a){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&po(r))}function Im(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&po(t))}function Ss(t,a,r,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xg(t,a,r,c),a=a.sibling}function Xg(t,a,r,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(t,a,r,c),p&2048&&To(9,a);break;case 1:Ss(t,a,r,c);break;case 3:Ss(t,a,r,c),p&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&po(t)));break;case 12:if(p&2048){Ss(t,a,r,c),t=a.stateNode;try{var g=a.memoizedProps,j=g.id,C=g.onPostCommit;typeof C=="function"&&C(j,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(K){Vt(a,a.return,K)}}else Ss(t,a,r,c);break;case 31:Ss(t,a,r,c);break;case 13:Ss(t,a,r,c);break;case 23:break;case 22:g=a.stateNode,j=a.alternate,a.memoizedState!==null?g._visibility&2?Ss(t,a,r,c):Ao(t,a):g._visibility&2?Ss(t,a,r,c):(g._visibility|=2,jl(t,a,r,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Pm(j,a);break;case 24:Ss(t,a,r,c),p&2048&&Im(a.alternate,a);break;default:Ss(t,a,r,c)}}function jl(t,a,r,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=t,j=a,C=r,K=c,fe=j.flags;switch(j.tag){case 0:case 11:case 15:jl(g,j,C,K,p),To(8,j);break;case 23:break;case 22:var Ne=j.stateNode;j.memoizedState!==null?Ne._visibility&2?jl(g,j,C,K,p):Ao(g,j):(Ne._visibility|=2,jl(g,j,C,K,p)),p&&fe&2048&&Pm(j.alternate,j);break;case 24:jl(g,j,C,K,p),p&&fe&2048&&Im(j.alternate,j);break;default:jl(g,j,C,K,p)}a=a.sibling}}function Ao(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=t,c=a,p=c.flags;switch(c.tag){case 22:Ao(r,c),p&2048&&Pm(c.alternate,c);break;case 24:Ao(r,c),p&2048&&Im(c.alternate,c);break;default:Ao(r,c)}a=a.sibling}}var Mo=8192;function Sl(t,a,r){if(t.subtreeFlags&Mo)for(t=t.child;t!==null;)Jg(t,a,r),t=t.sibling}function Jg(t,a,r){switch(t.tag){case 26:Sl(t,a,r),t.flags&Mo&&t.memoizedState!==null&&wN(r,js,t.memoizedState,t.memoizedProps);break;case 5:Sl(t,a,r);break;case 3:case 4:var c=js;js=bc(t.stateNode.containerInfo),Sl(t,a,r),js=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Mo,Mo=16777216,Sl(t,a,r),Mo=c):Sl(t,a,r));break;default:Sl(t,a,r)}}function Wg(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function zo(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];Vn=c,tx(c,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ex(t),t=t.sibling}function ex(t){switch(t.tag){case 0:case 11:case 15:zo(t),t.flags&2048&&Li(9,t,t.return);break;case 3:zo(t);break;case 12:zo(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,lc(t)):zo(t);break;default:zo(t)}}function lc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];Vn=c,tx(c,t)}Wg(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Li(8,a,a.return),lc(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,lc(a));break;default:lc(a)}t=t.sibling}}function tx(t,a){for(;Vn!==null;){var r=Vn;switch(r.tag){case 0:case 11:case 15:Li(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:po(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Vn=c;else e:for(r=t;Vn!==null;){c=Vn;var p=c.sibling,g=c.return;if(Kg(c),c===r){Vn=null;break e}if(p!==null){p.return=g,Vn=p;break e}Vn=g}}}var U_={getCacheForType:function(t){var a=Wn(zn),r=a.data.get(t);return r===void 0&&(r=t(),a.data.set(t,r)),r},cacheSignal:function(){return Wn(zn).controller.signal}},F_=typeof WeakMap=="function"?WeakMap:Map,Ft=0,an=null,Nt=null,kt=0,Gt=0,Fa=null,Pi=!1,wl=!1,Bm=!1,li=0,Nn=0,Ii=0,Lr=0,Um=0,Za=0,El=0,Oo=null,Ta=null,Fm=!1,oc=0,nx=0,uc=1/0,cc=null,Bi=null,Zn=0,Ui=null,kl=null,oi=0,Zm=0,qm=null,ax=null,Do=0,Hm=null;function qa(){return(Ft&2)!==0&&kt!==0?kt&-kt:H.T!==null?$m():wn()}function sx(){if(Za===0)if((kt&536870912)===0||_t){var t=dn;dn<<=1,(dn&3932160)===0&&(dn=262144),Za=t}else Za=536870912;return t=Ba.current,t!==null&&(t.flags|=32),Za}function Ca(t,a,r){(t===an&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Tl(t,0),Fi(t,kt,Za,!1)),Bn(t,r),((Ft&2)===0||t!==an)&&(t===an&&((Ft&2)===0&&(Lr|=r),Nn===4&&Fi(t,kt,Za,!1)),Zs(t))}function ix(t,a,r){if((Ft&6)!==0)throw Error(o(327));var c=!r&&(a&127)===0&&(a&t.expiredLanes)===0||Ut(t,a),p=c?H_(t,a):Qm(t,a,!0),g=c;do{if(p===0){wl&&!c&&Fi(t,a,0,!1);break}else{if(r=t.current.alternate,g&&!Z_(r)){p=Qm(t,a,!1),g=!1;continue}if(p===2){if(g=a,t.errorRecoveryDisabledLanes&g)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var C=t;p=Oo;var K=C.current.memoizedState.isDehydrated;if(K&&(Tl(C,j).flags|=256),j=Qm(C,j,!1),j!==2){if(Bm&&!K){C.errorRecoveryDisabledLanes|=g,Lr|=g,p=4;break e}g=Ta,Ta=p,g!==null&&(Ta===null?Ta=g:Ta.push.apply(Ta,g))}p=j}if(g=!1,p!==2)continue}}if(p===1){Tl(t,0),Fi(t,a,0,!0);break}e:{switch(c=t,g=p,g){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:Fi(c,a,Za,!Pi);break e;case 2:Ta=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(p=oc+300-ae(),10<p)){if(Fi(c,a,Za,!Pi),Pn(c,0,!0)!==0)break e;oi=a,c.timeoutHandle=Lx(rx.bind(null,c,r,Ta,cc,Fm,a,Za,Lr,El,Pi,g,"Throttled",-0,0),p);break e}rx(c,r,Ta,cc,Fm,a,Za,Lr,El,Pi,g,null,-0,0)}}break}while(!0);Zs(t)}function rx(t,a,r,c,p,g,j,C,K,fe,Ne,Ce,ge,ye){if(t.timeoutHandle=-1,Ce=a.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Jg(a,g,Ce);var Qe=(g&62914560)===g?oc-ae():(g&4194048)===g?nx-ae():0;if(Qe=EN(Ce,Qe),Qe!==null){oi=g,t.cancelPendingCommit=Qe(fx.bind(null,t,a,g,r,c,p,j,C,K,Ne,Ce,null,ge,ye)),Fi(t,g,j,!fe);return}}fx(t,a,g,r,c,p,j,C,K)}function Z_(t){for(var a=t;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var p=r[c],g=p.getSnapshot;p=p.value;try{if(!Qn(g(),p))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fi(t,a,r,c){a&=~Um,a&=~Lr,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var p=a;0<p;){var g=31-ht(p),j=1<<g;c[g]=-1,p&=~j}r!==0&&Cn(t,r,a)}function dc(){return(Ft&6)===0?(Ro(0),!1):!0}function Km(){if(Nt!==null){if(Gt===0)var t=Nt.return;else t=Nt,Ns=Us=null,lm(t),yl=null,xo=0,t=Nt;for(;t!==null;)Pg(t.alternate,t),t=t.return;Nt=null}}function Tl(t,a){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,oN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),oi=0,Km(),an=t,Nt=r=as(t.current,null),kt=a,Gt=0,Fa=null,Pi=!1,wl=Ut(t,a),Bm=!1,El=Za=Um=Lr=Ii=Nn=0,Ta=Oo=null,Fm=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var p=31-ht(c),g=1<<p;a|=t[p],c&=~g}return li=a,jr(),r}function lx(t,a){ft=null,H.H=wo,a===xl||a===Uu?(a=jp(),Gt=3):a===Yd?(a=jp(),Gt=4):Gt=a===jm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Fa=a,Nt===null&&(Nn=1,ec(t,u(a,t.current)))}function ox(){var t=Ba.current;return t===null?!0:(kt&4194048)===kt?ss===null:(kt&62914560)===kt||(kt&536870912)!==0?t===ss:!1}function ux(){var t=H.H;return H.H=wo,t===null?wo:t}function cx(){var t=H.A;return H.A=U_,t}function mc(){Nn=4,Pi||(kt&4194048)!==kt&&Ba.current!==null||(wl=!0),(Ii&134217727)===0&&(Lr&134217727)===0||an===null||Fi(an,kt,Za,!1)}function Qm(t,a,r){var c=Ft;Ft|=2;var p=ux(),g=cx();(an!==t||kt!==a)&&(cc=null,Tl(t,a)),a=!1;var j=Nn;e:do try{if(Gt!==0&&Nt!==null){var C=Nt,K=Fa;switch(Gt){case 8:Km(),j=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(a=!0);var fe=Gt;if(Gt=0,Fa=null,Cl(t,C,K,fe),r&&wl){j=0;break e}break;default:fe=Gt,Gt=0,Fa=null,Cl(t,C,K,fe)}}q_(),j=Nn;break}catch(Ne){lx(t,Ne)}while(!0);return a&&t.shellSuspendCounter++,Ns=Us=null,Ft=c,H.H=p,H.A=g,Nt===null&&(an=null,kt=0,jr()),j}function q_(){for(;Nt!==null;)dx(Nt)}function H_(t,a){var r=Ft;Ft|=2;var c=ux(),p=cx();an!==t||kt!==a?(cc=null,uc=ae()+500,Tl(t,a)):wl=Ut(t,a);e:do try{if(Gt!==0&&Nt!==null){a=Nt;var g=Fa;t:switch(Gt){case 1:Gt=0,Fa=null,Cl(t,a,g,1);break;case 2:case 9:if(_p(g)){Gt=0,Fa=null,mx(a);break}a=function(){Gt!==2&&Gt!==9||an!==t||(Gt=7),Zs(t)},g.then(a,a);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:_p(g)?(Gt=0,Fa=null,mx(a)):(Gt=0,Fa=null,Cl(t,a,g,7));break;case 5:var j=null;switch(Nt.tag){case 26:j=Nt.memoizedState;case 5:case 27:var C=Nt;if(j?Xx(j):C.stateNode.complete){Gt=0,Fa=null;var K=C.sibling;if(K!==null)Nt=K;else{var fe=C.return;fe!==null?(Nt=fe,hc(fe)):Nt=null}break t}}Gt=0,Fa=null,Cl(t,a,g,5);break;case 6:Gt=0,Fa=null,Cl(t,a,g,6);break;case 8:Km(),Nn=6;break e;default:throw Error(o(462))}}K_();break}catch(Ne){lx(t,Ne)}while(!0);return Ns=Us=null,H.H=c,H.A=p,Ft=r,Nt!==null?0:(an=null,kt=0,jr(),Nn)}function K_(){for(;Nt!==null&&!Pe();)dx(Nt)}function dx(t){var a=Rg(t.alternate,t,li);t.memoizedProps=t.pendingProps,a===null?hc(t):Nt=a}function mx(t){var a=t,r=a.alternate;switch(a.tag){case 15:case 0:a=Cg(r,a,a.pendingProps,a.type,void 0,kt);break;case 11:a=Cg(r,a,a.pendingProps,a.type.render,a.ref,kt);break;case 5:lm(a);default:Pg(r,a),a=Nt=uo(a,li),a=Rg(r,a,li)}t.memoizedProps=t.pendingProps,a===null?hc(t):Nt=a}function Cl(t,a,r,c){Ns=Us=null,lm(a),yl=null,xo=0;var p=a.return;try{if(O_(t,p,a,r,kt)){Nn=1,ec(t,u(r,t.current)),Nt=null;return}}catch(g){if(p!==null)throw Nt=p,g;Nn=1,ec(t,u(r,t.current)),Nt=null;return}a.flags&32768?(_t||c===1?t=!0:wl||(kt&536870912)!==0?t=!1:(Pi=t=!0,(c===2||c===9||c===3||c===6)&&(c=Ba.current,c!==null&&c.tag===13&&(c.flags|=16384))),hx(a,t)):hc(a)}function hc(t){var a=t;do{if((a.flags&32768)!==0){hx(a,Pi);return}t=a.return;var r=L_(a.alternate,a,li);if(r!==null){Nt=r;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=t}while(a!==null);Nn===0&&(Nn=5)}function hx(t,a){do{var r=P_(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);Nn=6,Nt=null}function fx(t,a,r,c,p,g,j,C,K){t.cancelPendingCommit=null;do fc();while(Zn!==0);if((Ft&6)!==0)throw Error(o(327));if(a!==null){if(a===t.current)throw Error(o(177));if(g=a.lanes|a.childLanes,g|=cl,Va(t,r,g,j,C,K),t===an&&(Nt=an=null,kt=0),kl=a,Ui=t,oi=r,Zm=g,qm=p,ax=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y_(Qt,function(){return vx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,p=Q.p,Q.p=2,j=Ft,Ft|=4;try{I_(t,a,r)}finally{Ft=j,Q.p=p,H.T=c}}Zn=1,px(),gx(),xx()}}function px(){if(Zn===1){Zn=0;var t=Ui,a=kl,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var c=Q.p;Q.p=2;var p=Ft;Ft|=4;try{Yg(a,t);var g=sh,j=yr(t.containerInfo),C=g.focusedElem,K=g.selectionRange;if(j!==C&&C&&C.ownerDocument&&rl(C.ownerDocument.documentElement,C)){if(K!==null&&Os(C)){var fe=K.start,Ne=K.end;if(Ne===void 0&&(Ne=fe),"selectionStart"in C)C.selectionStart=fe,C.selectionEnd=Math.min(Ne,C.value.length);else{var Ce=C.ownerDocument||document,ge=Ce&&Ce.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),Qe=C.textContent.length,et=Math.min(K.start,Qe),en=K.end===void 0?et:Math.min(K.end,Qe);!ye.extend&&et>en&&(j=en,en=et,et=j);var ie=xr(C,et),W=xr(C,en);if(ie&&W&&(ye.rangeCount!==1||ye.anchorNode!==ie.node||ye.anchorOffset!==ie.offset||ye.focusNode!==W.node||ye.focusOffset!==W.offset)){var me=Ce.createRange();me.setStart(ie.node,ie.offset),ye.removeAllRanges(),et>en?(ye.addRange(me),ye.extend(W.node,W.offset)):(me.setEnd(W.node,W.offset),ye.addRange(me))}}}}for(Ce=[],ye=C;ye=ye.parentNode;)ye.nodeType===1&&Ce.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Ce.length;C++){var we=Ce[C];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Ec=!!ah,sh=ah=null}finally{Ft=p,Q.p=c,H.T=r}}t.current=a,Zn=2}}function gx(){if(Zn===2){Zn=0;var t=Ui,a=kl,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var c=Q.p;Q.p=2;var p=Ft;Ft|=4;try{Hg(t,a.alternate,a)}finally{Ft=p,Q.p=c,H.T=r}}Zn=3}}function xx(){if(Zn===4||Zn===3){Zn=0,ct();var t=Ui,a=kl,r=oi,c=ax;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Zn=5:(Zn=0,kl=Ui=null,yx(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Bi=null),De(r),a=a.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot($e,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=H.T,p=Q.p,Q.p=2,H.T=null;try{for(var g=t.onRecoverableError,j=0;j<c.length;j++){var C=c[j];g(C.value,{componentStack:C.stack})}}finally{H.T=a,Q.p=p}}(oi&3)!==0&&fc(),Zs(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===Hm?Do++:(Do=0,Hm=t):Do=0,Ro(0)}}function yx(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,po(a)))}function fc(){return px(),gx(),xx(),vx()}function vx(){if(Zn!==5)return!1;var t=Ui,a=Zm;Zm=0;var r=De(oi),c=H.T,p=Q.p;try{Q.p=32>r?32:r,H.T=null,r=qm,qm=null;var g=Ui,j=oi;if(Zn=0,kl=Ui=null,oi=0,(Ft&6)!==0)throw Error(o(331));var C=Ft;if(Ft|=4,ex(g.current),Xg(g,g.current,j,r),Ft=C,Ro(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot($e,g)}catch{}return!0}finally{Q.p=p,H.T=c,yx(t,a)}}function bx(t,a,r){a=u(r,a),a=Nm(t.stateNode,a,2),t=Oi(t,a,2),t!==null&&(Bn(t,2),Zs(t))}function Vt(t,a,r){if(t.tag===3)bx(t,t,r);else for(;a!==null;){if(a.tag===3){bx(a,t,r);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bi===null||!Bi.has(c))){t=u(r,t),r=_g(2),c=Oi(a,r,2),c!==null&&(Ng(r,c,a,t),Bn(c,2),Zs(c));break}}a=a.return}}function Gm(t,a,r){var c=t.pingCache;if(c===null){c=t.pingCache=new F_;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(r)||(Bm=!0,p.add(r),t=Q_.bind(null,t,a,r),a.then(t,t))}function Q_(t,a,r){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,an===t&&(kt&r)===r&&(Nn===4||Nn===3&&(kt&62914560)===kt&&300>ae()-oc?(Ft&2)===0&&Tl(t,0):Um|=r,El===kt&&(El=0)),Zs(t)}function _x(t,a){a===0&&(a=In()),t=ns(t,a),t!==null&&(Bn(t,a),Zs(t))}function G_(t){var a=t.memoizedState,r=0;a!==null&&(r=a.retryLane),_x(t,r)}function V_(t,a){var r=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(a),_x(t,r)}function Y_(t,a){return ne(t,a)}var pc=null,Al=null,Vm=!1,gc=!1,Ym=!1,Zi=0;function Zs(t){t!==Al&&t.next===null&&(Al===null?pc=Al=t:Al=Al.next=t),gc=!0,Vm||(Vm=!0,X_())}function Ro(t,a){if(!Ym&&gc){Ym=!0;do for(var r=!1,c=pc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var j=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-ht(42|t)+1)-1,g&=p&~(j&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,wx(c,g))}else g=kt,g=Pn(c,c===an?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ut(c,g)||(r=!0,wx(c,g));c=c.next}while(r);Ym=!1}}function $_(){Nx()}function Nx(){gc=Vm=!1;var t=0;Zi!==0&&lN()&&(t=Zi);for(var a=ae(),r=null,c=pc;c!==null;){var p=c.next,g=jx(c,a);g===0?(c.next=null,r===null?pc=p:r.next=p,p===null&&(Al=r)):(r=c,(t!==0||(g&3)!==0)&&(gc=!0)),c=p}Zn!==0&&Zn!==5||Ro(t),Zi!==0&&(Zi=0)}function jx(t,a){for(var r=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var j=31-ht(g),C=1<<j,K=p[j];K===-1?((C&r)===0||(C&c)!==0)&&(p[j]=Ga(C,a)):K<=a&&(t.expiredLanes|=C),g&=~C}if(a=an,r=kt,r=Pn(t,t===a?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,r===0||t===a&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ee(c),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ut(t,r)){if(a=r&-r,a===t.callbackPriority)return a;switch(c!==null&&Ee(c),De(r)){case 2:case 8:r=Kt;break;case 32:r=Qt;break;case 268435456:r=zt;break;default:r=Qt}return c=Sx.bind(null,t),r=ne(r,c),t.callbackPriority=a,t.callbackNode=r,a}return c!==null&&c!==null&&Ee(c),t.callbackPriority=2,t.callbackNode=null,2}function Sx(t,a){if(Zn!==0&&Zn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fc()&&t.callbackNode!==r)return null;var c=kt;return c=Pn(t,t===an?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(ix(t,c,a),jx(t,ae()),t.callbackNode!=null&&t.callbackNode===r?Sx.bind(null,t):null)}function wx(t,a){if(fc())return null;ix(t,a,!0)}function X_(){uN(function(){(Ft&6)!==0?ne(It,$_):Nx()})}function $m(){if(Zi===0){var t=pl;t===0&&(t=wt,wt<<=1,(wt&261888)===0&&(wt=256)),Zi=t}return Zi}function Ex(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xi(""+t)}function kx(t,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,t.id&&r.setAttribute("form",t.id),a.parentNode.insertBefore(r,a),t=new FormData(t),r.parentNode.removeChild(r),t}function J_(t,a,r,c,p){if(a==="submit"&&r&&r.stateNode===p){var g=Ex((p[tt]||null).action),j=c.submitter;j&&(a=(a=j[tt]||null)?Ex(a.formAction):j.getAttribute("formAction"),a!==null&&(g=a,j=null));var C=new Wr("action","action",null,c,p);t.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Zi!==0){var K=j?kx(p,j):new FormData(p);gm(r,{pending:!0,data:K,method:p.method,action:g},null,K)}}else typeof g=="function"&&(C.preventDefault(),K=j?kx(p,j):new FormData(p),gm(r,{pending:!0,data:K,method:p.method,action:g},g,K))},currentTarget:p}]})}}for(var Xm=0;Xm<Ls.length;Xm++){var Jm=Ls[Xm],W_=Jm.toLowerCase(),eN=Jm[0].toUpperCase()+Jm.slice(1);Na(W_,"on"+eN)}Na(br,"onAnimationEnd"),Na(Du,"onAnimationIteration"),Na(_r,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(Fd,"onTransitionRun"),Na(Ru,"onTransitionStart"),Na(Zd,"onTransitionCancel"),Na(Ti,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),V("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),V("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),V("onBeforeInput",["compositionend","keypress","textInput","paste"]),V("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Tx(t,a){a=(a&4)!==0;for(var r=0;r<t.length;r++){var c=t[r],p=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var j=c.length-1;0<=j;j--){var C=c[j],K=C.instance,fe=C.currentTarget;if(C=C.listener,K!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=fe;try{g(p)}catch(Ne){Nr(Ne)}p.currentTarget=null,g=K}else for(j=0;j<c.length;j++){if(C=c[j],K=C.instance,fe=C.currentTarget,C=C.listener,K!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=fe;try{g(p)}catch(Ne){Nr(Ne)}p.currentTarget=null,g=K}}}}function jt(t,a){var r=a[U];r===void 0&&(r=a[U]=new Set);var c=t+"__bubble";r.has(c)||(Cx(a,t,2,!1),r.add(c))}function Wm(t,a,r){var c=0;a&&(c|=4),Cx(r,t,c,a)}var xc="_reactListening"+Math.random().toString(36).slice(2);function eh(t){if(!t[xc]){t[xc]=!0,ps.forEach(function(r){r!=="selectionchange"&&(tN.has(r)||Wm(r,!1,t),Wm(r,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[xc]||(a[xc]=!0,Wm("selectionchange",!1,a))}}function Cx(t,a,r,c){switch(sy(a)){case 2:var p=CN;break;case 8:p=AN;break;default:p=ph}r=p.bind(null,a,r,t),p=void 0,!or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(a,r,{capture:!0,passive:p}):t.addEventListener(a,r,!0):p!==void 0?t.addEventListener(a,r,{passive:p}):t.addEventListener(a,r,!1)}function th(t,a,r,c,p){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var C=c.stateNode.containerInfo;if(C===p)break;if(j===4)for(j=c.return;j!==null;){var K=j.tag;if((K===3||K===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;C!==null;){if(j=Be(C),j===null)return;if(K=j.tag,K===5||K===6||K===26||K===27){c=g=j;continue e}C=C.parentNode}}c=c.return}Jl(function(){var fe=g,Ne=lr(r),Ce=[];e:{var ge=Lu.get(t);if(ge!==void 0){var ye=Wr,Qe=t;switch(t){case"keypress":if(ur(r)===0)break e;case"keydown":case"keyup":ye=Nu;break;case"focusin":Qe="focus",ye=to;break;case"focusout":Qe="blur",ye=to;break;case"beforeblur":case"afterblur":ye=to;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Rd;break;case br:case Du:case _r:ye=no;break;case Ti:ye=wu;break;case"scroll":case"scrollend":ye=Et;break;case"wheel":ye=Vs;break;case"copy":case"cut":case"paste":ye=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=ju;break;case"toggle":case"beforetoggle":ye=mr}var et=(a&4)!==0,en=!et&&(t==="scroll"||t==="scrollend"),ie=et?ge!==null?ge+"Capture":null:ge;et=[];for(var W=fe,me;W!==null;){var we=W;if(me=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||me===null||ie===null||(we=Qs(W,ie),we!=null&&et.push(Po(W,we,me))),en)break;W=W.return}0<et.length&&(ge=new ye(ge,Qe,null,r,Ne),Ce.push({event:ge,listeners:et}))}}if((a&7)===0){e:{if(ge=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",ge&&r!==Jr&&(Qe=r.relatedTarget||r.fromElement)&&(Be(Qe)||Qe[Xn]))break e;if((ye||ge)&&(ge=Ne.window===Ne?Ne:(ge=Ne.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(Qe=r.relatedTarget||r.toElement,ye=fe,Qe=Qe?Be(Qe):null,Qe!==null&&(en=m(Qe),et=Qe.tag,Qe!==en||et!==5&&et!==27&&et!==6)&&(Qe=null)):(ye=null,Qe=fe),ye!==Qe)){if(et=xu,we="onMouseLeave",ie="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(et=ju,we="onPointerLeave",ie="onPointerEnter",W="pointer"),en=ye==null?ge:Mn(ye),me=Qe==null?ge:Mn(Qe),ge=new et(we,W+"leave",ye,r,Ne),ge.target=en,ge.relatedTarget=me,we=null,Be(Ne)===fe&&(et=new et(ie,W+"enter",Qe,r,Ne),et.target=me,et.relatedTarget=en,we=et),en=we,ye&&Qe)t:{for(et=nN,ie=ye,W=Qe,me=0,we=ie;we;we=et(we))me++;we=0;for(var Je=W;Je;Je=et(Je))we++;for(;0<me-we;)ie=et(ie),me--;for(;0<we-me;)W=et(W),we--;for(;me--;){if(ie===W||W!==null&&ie===W.alternate){et=ie;break t}ie=et(ie),W=et(W)}et=null}else et=null;ye!==null&&Ax(Ce,ge,ye,et,!1),Qe!==null&&en!==null&&Ax(Ce,en,Qe,et,!0)}}e:{if(ge=fe?Mn(fe):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var Lt=gr;else if(Wa(ge))if(Cu)Lt=Ud;else{Lt=Bd;var Ve=vs}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?fe&&rr(fe.elementType)&&(Lt=gr):Lt=Si;if(Lt&&(Lt=Lt(t,fe))){Tu(Ce,Lt,r,Ne);break e}Ve&&Ve(t,ge,fe),t==="focusout"&&fe&&ge.type==="number"&&fe.memoizedProps.value!=null&&gs(ge,"number",ge.value)}switch(Ve=fe?Mn(fe):window,t){case"focusin":(Wa(Ve)||Ve.contentEditable==="true")&&(Ds=Ve,ol=fe,vr=null);break;case"focusout":vr=ol=Ds=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,zu(Ce,r,Ne);break;case"selectionchange":if(ll)break;case"keydown":case"keyup":zu(Ce,r,Ne)}var gt;if(tl)e:{switch(t){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else _i?ku(t,r)&&(Tt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Tt="onCompositionStart");Tt&&(nl&&r.locale!=="ko"&&(_i||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&_i&&(gt=Ms()):(Xa=Ne,Gs="value"in Xa?Xa.value:Xa.textContent,_i=!0)),Ve=yc(fe,Tt),0<Ve.length&&(Tt=new ao(Tt,t,null,r,Ne),Ce.push({event:Tt,listeners:Ve}),gt?Tt.data=gt:(gt=lo(r),gt!==null&&(Tt.data=gt)))),(gt=Pd?Ia(t,r):Ni(t,r))&&(Tt=yc(fe,"onBeforeInput"),0<Tt.length&&(Ve=new ao("onBeforeInput","beforeinput",null,r,Ne),Ce.push({event:Ve,listeners:Tt}),Ve.data=gt)),J_(Ce,t,fe,r,Ne)}Tx(Ce,a)})}function Po(t,a,r){return{instance:t,listener:a,currentTarget:r}}function yc(t,a){for(var r=a+"Capture",c=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Qs(t,r),p!=null&&c.unshift(Po(t,p,g)),p=Qs(t,a),p!=null&&c.push(Po(t,p,g))),t.tag===3)return c;t=t.return}return[]}function nN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ax(t,a,r,c,p){for(var g=a._reactName,j=[];r!==null&&r!==c;){var C=r,K=C.alternate,fe=C.stateNode;if(C=C.tag,K!==null&&K===c)break;C!==5&&C!==26&&C!==27||fe===null||(K=fe,p?(fe=Qs(r,g),fe!=null&&j.unshift(Po(r,fe,K))):p||(fe=Qs(r,g),fe!=null&&j.push(Po(r,fe,K)))),r=r.return}j.length!==0&&t.push({event:a,listeners:j})}var aN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function Mx(t){return(typeof t=="string"?t:""+t).replace(aN,`
`).replace(sN,"")}function zx(t,a){return a=Mx(a),Mx(t)===a}function Wt(t,a,r,c,p,g){switch(r){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||$a(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&$a(t,""+c);break;case"className":Xt(t,"class",c);break;case"tabIndex":Xt(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(t,r,c);break;case"style":$r(t,c,g);break;case"data":if(a!=="object"){Xt(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||r!=="href")){t.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=xi(""+c),t.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(a!=="input"&&Wt(t,a,"name",p.name,p,null),Wt(t,a,"formEncType",p.formEncType,p,null),Wt(t,a,"formMethod",p.formMethod,p,null),Wt(t,a,"formTarget",p.formTarget,p,null)):(Wt(t,a,"encType",p.encType,p,null),Wt(t,a,"method",p.method,p,null),Wt(t,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=xi(""+c),t.setAttribute(r,c);break;case"onClick":c!=null&&(t.onclick=ba);break;case"onScroll":c!=null&&jt("scroll",t);break;case"onScrollEnd":c!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}r=xi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""+c):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":c===!0?t.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,c):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(r,c):t.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(r):t.setAttribute(r,c);break;case"popover":jt("beforetoggle",t),jt("toggle",t),xt(t,"popover",c);break;case"xlinkActuate":va(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":va(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":va(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":va(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":va(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":va(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":va(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":va(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":va(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xt(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Xr.get(r)||r,xt(t,r,c))}}function nh(t,a,r,c,p,g){switch(r){case"style":$r(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof c=="string"?$a(t,c):(typeof c=="number"||typeof c=="bigint")&&$a(t,""+c);break;case"onScroll":c!=null&&jt("scroll",t);break;case"onScrollEnd":c!=null&&jt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),a=r.slice(2,p?r.length-7:void 0),g=t[tt]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(a,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(a,c,p);break e}r in t?t[r]=c:c===!0?t.setAttribute(r,""):xt(t,r,c)}}}function ta(t,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var c=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var j=r[g];if(j!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Wt(t,a,g,j,r,null)}}p&&Wt(t,a,"srcSet",r.srcSet,r,null),c&&Wt(t,a,"src",r.src,r,null);return;case"input":jt("invalid",t);var C=g=j=p=null,K=null,fe=null;for(c in r)if(r.hasOwnProperty(c)){var Ne=r[c];if(Ne!=null)switch(c){case"name":p=Ne;break;case"type":j=Ne;break;case"checked":K=Ne;break;case"defaultChecked":fe=Ne;break;case"value":g=Ne;break;case"defaultValue":C=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(o(137,a));break;default:Wt(t,a,c,Ne,r,null)}}ir(t,g,C,K,fe,j,p,!1);return;case"select":jt("invalid",t),c=j=g=null;for(p in r)if(r.hasOwnProperty(p)&&(C=r[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":j=C;break;case"multiple":c=C;default:Wt(t,a,p,C,r,null)}a=g,r=j,t.multiple=!!c,a!=null?nn(t,!!c,a,!1):r!=null&&nn(t,!!c,r,!0);return;case"textarea":jt("invalid",t),g=p=c=null;for(j in r)if(r.hasOwnProperty(j)&&(C=r[j],C!=null))switch(j){case"value":c=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:Wt(t,a,j,C,r,null)}pi(t,c,p,g);return;case"option":for(K in r)r.hasOwnProperty(K)&&(c=r[K],c!=null)&&(K==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":Wt(t,a,K,c,r,null));return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(c=0;c<Lo.length;c++)jt(Lo[c],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in r)if(r.hasOwnProperty(fe)&&(c=r[fe],c!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Wt(t,a,fe,c,r,null)}return;default:if(rr(a)){for(Ne in r)r.hasOwnProperty(Ne)&&(c=r[Ne],c!==void 0&&nh(t,a,Ne,c,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(c=r[C],c!=null&&Wt(t,a,C,c,r,null))}function iN(t,a,r,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,j=null,C=null,K=null,fe=null,Ne=null;for(ye in r){var Ce=r[ye];if(r.hasOwnProperty(ye)&&Ce!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":K=Ce;default:c.hasOwnProperty(ye)||Wt(t,a,ye,null,c,Ce)}}for(var ge in c){var ye=c[ge];if(Ce=r[ge],c.hasOwnProperty(ge)&&(ye!=null||Ce!=null))switch(ge){case"type":g=ye;break;case"name":p=ye;break;case"checked":fe=ye;break;case"defaultChecked":Ne=ye;break;case"value":j=ye;break;case"defaultValue":C=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,a));break;default:ye!==Ce&&Wt(t,a,ge,ye,c,Ce)}}Yl(t,j,C,K,fe,Ne,g,p);return;case"select":ye=j=C=ge=null;for(g in r)if(K=r[g],r.hasOwnProperty(g)&&K!=null)switch(g){case"value":break;case"multiple":ye=K;default:c.hasOwnProperty(g)||Wt(t,a,g,null,c,K)}for(p in c)if(g=c[p],K=r[p],c.hasOwnProperty(p)&&(g!=null||K!=null))switch(p){case"value":ge=g;break;case"defaultValue":C=g;break;case"multiple":j=g;default:g!==K&&Wt(t,a,p,g,c,K)}a=C,r=j,c=ye,ge!=null?nn(t,!!r,ge,!1):!!c!=!!r&&(a!=null?nn(t,!!r,a,!0):nn(t,!!r,r?[]:"",!1));return;case"textarea":ye=ge=null;for(C in r)if(p=r[C],r.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Wt(t,a,C,null,c,p)}for(j in c)if(p=c[j],g=r[j],c.hasOwnProperty(j)&&(p!=null||g!=null))switch(j){case"value":ge=p;break;case"defaultValue":ye=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==g&&Wt(t,a,j,p,c,g)}As(t,ge,ye);return;case"option":for(var Qe in r)ge=r[Qe],r.hasOwnProperty(Qe)&&ge!=null&&!c.hasOwnProperty(Qe)&&(Qe==="selected"?t.selected=!1:Wt(t,a,Qe,null,c,ge));for(K in c)ge=c[K],ye=r[K],c.hasOwnProperty(K)&&ge!==ye&&(ge!=null||ye!=null)&&(K==="selected"?t.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":Wt(t,a,K,ge,c,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in r)ge=r[et],r.hasOwnProperty(et)&&ge!=null&&!c.hasOwnProperty(et)&&Wt(t,a,et,null,c,ge);for(fe in c)if(ge=c[fe],ye=r[fe],c.hasOwnProperty(fe)&&ge!==ye&&(ge!=null||ye!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(o(137,a));break;default:Wt(t,a,fe,ge,c,ye)}return;default:if(rr(a)){for(var en in r)ge=r[en],r.hasOwnProperty(en)&&ge!==void 0&&!c.hasOwnProperty(en)&&nh(t,a,en,void 0,c,ge);for(Ne in c)ge=c[Ne],ye=r[Ne],!c.hasOwnProperty(Ne)||ge===ye||ge===void 0&&ye===void 0||nh(t,a,Ne,ge,c,ye);return}}for(var ie in r)ge=r[ie],r.hasOwnProperty(ie)&&ge!=null&&!c.hasOwnProperty(ie)&&Wt(t,a,ie,null,c,ge);for(Ce in c)ge=c[Ce],ye=r[Ce],!c.hasOwnProperty(Ce)||ge===ye||ge==null&&ye==null||Wt(t,a,Ce,ge,c,ye)}function Ox(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var p=r[c],g=p.transferSize,j=p.initiatorType,C=p.duration;if(g&&C&&Ox(j)){for(j=0,C=p.responseEnd,c+=1;c<r.length;c++){var K=r[c],fe=K.startTime;if(fe>C)break;var Ne=K.transferSize,Ce=K.initiatorType;Ne&&Ox(Ce)&&(K=K.responseEnd,j+=Ne*(K<C?1:(C-fe)/(K-fe)))}if(--c,a+=8*(g+j)/(p.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ah=null,sh=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function Dx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rx(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function ih(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rh=null;function lN(){var t=window.event;return t&&t.type==="popstate"?t===rh?!1:(rh=t,!0):(rh=null,!1)}var Lx=typeof setTimeout=="function"?setTimeout:void 0,oN=typeof clearTimeout=="function"?clearTimeout:void 0,Px=typeof Promise=="function"?Promise:void 0,uN=typeof queueMicrotask=="function"?queueMicrotask:typeof Px<"u"?function(t){return Px.resolve(null).then(t).catch(cN)}:Lx;function cN(t){setTimeout(function(){throw t})}function qi(t){return t==="head"}function Ix(t,a){var r=a,c=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(c===0){t.removeChild(p),Dl(a);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Io(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Io(r);for(var g=r.firstChild;g;){var j=g.nextSibling,C=g.nodeName;g[En]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=j}}else r==="body"&&Io(t.ownerDocument.body);r=p}while(r);Dl(a)}function Bx(t,a){var r=t;t=0;do{var c=r.nextSibling;if(r.nodeType===1?a?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(a?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=c}while(r)}function lh(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lh(r),P(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function dN(t,a,r,c){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[En])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=is(t.nextSibling),t===null)break}return null}function mN(t,a,r){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=is(t.nextSibling),t===null))return null;return t}function Ux(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=is(t.nextSibling),t===null))return null;return t}function oh(t){return t.data==="$?"||t.data==="$~"}function uh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hN(t,a){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||r.readyState!=="loading")a();else{var c=function(){a(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function is(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var ch=null;function Fx(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(a===0)return is(t.nextSibling);a--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||a++}t=t.nextSibling}return null}function Zx(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(a===0)return t;a--}else r!=="/$"&&r!=="/&"||a++}t=t.previousSibling}return null}function qx(t,a,r){switch(a=vc(r),t){case"html":if(t=a.documentElement,!t)throw Error(o(452));return t;case"head":if(t=a.head,!t)throw Error(o(453));return t;case"body":if(t=a.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Io(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);P(t)}var rs=new Map,Hx=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ui=Q.d;Q.d={f:fN,r:pN,D:gN,C:xN,L:yN,m:vN,X:_N,S:bN,M:NN};function fN(){var t=ui.f(),a=dc();return t||a}function pN(t){var a=vt(t);a!==null&&a.tag===5&&a.type==="form"?lg(a):ui.r(t)}var Ml=typeof document>"u"?null:document;function Kx(t,a,r){var c=Ml;if(c&&typeof a=="string"&&a){var p=un(a);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Hx.has(p)||(Hx.add(p),t={rel:t,crossOrigin:r,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),ta(a,"link",t),on(a),c.head.appendChild(a)))}}function gN(t){ui.D(t),Kx("dns-prefetch",t,null)}function xN(t,a){ui.C(t,a),Kx("preconnect",t,a)}function yN(t,a,r){ui.L(t,a,r);var c=Ml;if(c&&t&&a){var p='link[rel="preload"][as="'+un(a)+'"]';a==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+un(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+un(r.imageSizes)+'"]')):p+='[href="'+un(t)+'"]';var g=p;switch(a){case"style":g=zl(t);break;case"script":g=Ol(t)}rs.has(g)||(t=w({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:t,as:a},r),rs.set(g,t),c.querySelector(p)!==null||a==="style"&&c.querySelector(Bo(g))||a==="script"&&c.querySelector(Uo(g))||(a=c.createElement("link"),ta(a,"link",t),on(a),c.head.appendChild(a)))}}function vN(t,a){ui.m(t,a);var r=Ml;if(r&&t){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+un(c)+'"][href="'+un(t)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ol(t)}if(!rs.has(g)&&(t=w({rel:"modulepreload",href:t},a),rs.set(g,t),r.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Uo(g)))return}c=r.createElement("link"),ta(c,"link",t),on(c),r.head.appendChild(c)}}}function bN(t,a,r){ui.S(t,a,r);var c=Ml;if(c&&t){var p=Da(c).hoistableStyles,g=zl(t);a=a||"default";var j=p.get(g);if(!j){var C={loading:0,preload:null};if(j=c.querySelector(Bo(g)))C.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":a},r),(r=rs.get(g))&&dh(t,r);var K=j=c.createElement("link");on(K),ta(K,"link",t),K._p=new Promise(function(fe,Ne){K.onload=fe,K.onerror=Ne}),K.addEventListener("load",function(){C.loading|=1}),K.addEventListener("error",function(){C.loading|=2}),C.loading|=4,_c(j,a,c)}j={type:"stylesheet",instance:j,count:1,state:C},p.set(g,j)}}}function _N(t,a){ui.X(t,a);var r=Ml;if(r&&t){var c=Da(r).hoistableScripts,p=Ol(t),g=c.get(p);g||(g=r.querySelector(Uo(p)),g||(t=w({src:t,async:!0},a),(a=rs.get(p))&&mh(t,a),g=r.createElement("script"),on(g),ta(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function NN(t,a){ui.M(t,a);var r=Ml;if(r&&t){var c=Da(r).hoistableScripts,p=Ol(t),g=c.get(p);g||(g=r.querySelector(Uo(p)),g||(t=w({src:t,async:!0,type:"module"},a),(a=rs.get(p))&&mh(t,a),g=r.createElement("script"),on(g),ta(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Qx(t,a,r,c){var p=(p=je.current)?bc(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=zl(r.href),r=Da(p).hoistableStyles,c=r.get(a),c||(c={type:"style",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=zl(r.href);var g=Da(p).hoistableStyles,j=g.get(t);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,j),(g=p.querySelector(Bo(t)))&&!g._p&&(j.instance=g,j.state.loading=5),rs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},rs.set(t,r),g||jN(p,t,r,j.state))),a&&c===null)throw Error(o(528,""));return j}if(a&&c!==null)throw Error(o(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ol(r),r=Da(p).hoistableScripts,c=r.get(a),c||(c={type:"script",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function zl(t){return'href="'+un(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function Gx(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function jN(t,a,r,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ta(a,"link",r),on(a),t.head.appendChild(a))}function Ol(t){return'[src="'+un(t)+'"]'}function Uo(t){return"script[async]"+t}function Vx(t,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+un(r.href)+'"]');if(c)return a.instance=c,on(c),c;var p=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),on(c),ta(c,"style",p),_c(c,r.precedence,t),a.instance=c;case"stylesheet":p=zl(r.href);var g=t.querySelector(Bo(p));if(g)return a.state.loading|=4,a.instance=g,on(g),g;c=Gx(r),(p=rs.get(p))&&dh(c,p),g=(t.ownerDocument||t).createElement("link"),on(g);var j=g;return j._p=new Promise(function(C,K){j.onload=C,j.onerror=K}),ta(g,"link",c),a.state.loading|=4,_c(g,r.precedence,t),a.instance=g;case"script":return g=Ol(r.src),(p=t.querySelector(Uo(g)))?(a.instance=p,on(p),p):(c=r,(p=rs.get(g))&&(c=w({},r),mh(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),on(p),ta(p,"link",c),t.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,_c(c,r.precedence,t));return a.instance}function _c(t,a,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,j=0;j<c.length;j++){var C=c[j];if(C.dataset.precedence===a)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(t,a.firstChild))}function dh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function mh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Nc=null;function Yx(t,a,r){if(Nc===null){var c=new Map,p=Nc=new Map;p.set(r,c)}else p=Nc,c=p.get(r),c||(c=new Map,p.set(r,c));if(c.has(t))return c;for(c.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[En]||g[qt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var j=g.getAttribute(a)||"";j=t+j;var C=c.get(j);C?C.push(g):c.set(j,[g])}}return c}function $x(t,a,r){t=t.ownerDocument||t,t.head.insertBefore(r,a==="title"?t.querySelector("head > title"):null)}function SN(t,a,r){if(r===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Xx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wN(t,a,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=zl(c.href),g=a.querySelector(Bo(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=jc.bind(t),a.then(t,t)),r.state.loading|=4,r.instance=g,on(g);return}g=a.ownerDocument||a,c=Gx(c),(p=rs.get(p))&&dh(c,p),g=g.createElement("link"),on(g);var j=g;j._p=new Promise(function(C,K){j.onload=C,j.onerror=K}),ta(g,"link",c),r.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=jc.bind(t),a.addEventListener("load",r),a.addEventListener("error",r))}}var hh=0;function EN(t,a){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var c=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+a);0<t.imgBytes&&hh===0&&(hh=62500*rN());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>hh?50:800)+a);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function wc(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,a.forEach(kN,t),Sc=null,jc.call(t))}function kN(t,a){if(!(a.state.loading&4)){var r=Sc.get(t);if(r)var c=r.get(null);else{r=new Map,Sc.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var j=p[g];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),c=j)}c&&r.set(null,c)}p=a.instance,j=p.getAttribute("data-precedence"),g=r.get(j)||c,g===c&&r.set(null,p),r.set(j,p),this.count++,c=jc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),a.state.loading|=4}}var Fo={$$typeof:R,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function TN(t,a,r,c,p,g,j,C,K){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function Jx(t,a,r,c,p,g,j,C,K,fe,Ne,Ce){return t=new TN(t,a,r,j,K,fe,Ne,Ce,C),a=1,g===!0&&(a|=24),g=oa(3,null,null,a),t.current=g,g.stateNode=t,a=Qd(),a.refCount++,t.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:r,cache:a},$d(g),t}function Wx(t){return t?(t=Ys,t):Ys}function ey(t,a,r,c,p,g){p=Wx(p),c.context===null?c.context=p:c.pendingContext=p,c=zi(a),c.payload={element:r},g=g===void 0?null:g,g!==null&&(c.callback=g),r=Oi(t,c,a),r!==null&&(Ca(r,t,a),vo(r,t,a))}function ty(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<a?r:a}}function fh(t,a){ty(t,a),(t=t.alternate)&&ty(t,a)}function ny(t){if(t.tag===13||t.tag===31){var a=ns(t,67108864);a!==null&&Ca(a,t,67108864),fh(t,67108864)}}function ay(t){if(t.tag===13||t.tag===31){var a=qa();a=Ot(a);var r=ns(t,a);r!==null&&Ca(r,t,a),fh(t,a)}}var Ec=!0;function CN(t,a,r,c){var p=H.T;H.T=null;var g=Q.p;try{Q.p=2,ph(t,a,r,c)}finally{Q.p=g,H.T=p}}function AN(t,a,r,c){var p=H.T;H.T=null;var g=Q.p;try{Q.p=8,ph(t,a,r,c)}finally{Q.p=g,H.T=p}}function ph(t,a,r,c){if(Ec){var p=gh(c);if(p===null)th(t,a,c,kc,r),iy(t,c);else if(zN(p,t,a,r,c))c.stopPropagation();else if(iy(t,c),a&4&&-1<MN.indexOf(t)){for(;p!==null;){var g=vt(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var j=Kn(g.pendingLanes);if(j!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;j;){var K=1<<31-ht(j);C.entanglements[1]|=K,j&=~K}Zs(g),(Ft&6)===0&&(uc=ae()+500,Ro(0))}}break;case 31:case 13:C=ns(g,2),C!==null&&Ca(C,g,2),dc(),fh(g,2)}if(g=gh(c),g===null&&th(t,a,c,kc,r),g===p)break;p=g}p!==null&&c.stopPropagation()}else th(t,a,c,null,r)}}function gh(t){return t=lr(t),xh(t)}var kc=null;function xh(t){if(kc=null,t=Be(t),t!==null){var a=m(t);if(a===null)t=null;else{var r=a.tag;if(r===13){if(t=f(a),t!==null)return t;t=null}else if(r===31){if(t=x(a),t!==null)return t;t=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return kc=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case It:return 2;case Kt:return 8;case Qt:case dt:return 32;case zt:return 268435456;default:return 32}default:return 32}}var yh=!1,Hi=null,Ki=null,Qi=null,Zo=new Map,qo=new Map,Gi=[],MN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iy(t,a){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(a.pointerId)}}function Ho(t,a,r,c,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:a,domEventName:r,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},a!==null&&(a=vt(a),a!==null&&ny(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),t)}function zN(t,a,r,c,p){switch(a){case"focusin":return Hi=Ho(Hi,t,a,r,c,p),!0;case"dragenter":return Ki=Ho(Ki,t,a,r,c,p),!0;case"mouseover":return Qi=Ho(Qi,t,a,r,c,p),!0;case"pointerover":var g=p.pointerId;return Zo.set(g,Ho(Zo.get(g)||null,t,a,r,c,p)),!0;case"gotpointercapture":return g=p.pointerId,qo.set(g,Ho(qo.get(g)||null,t,a,r,c,p)),!0}return!1}function ry(t){var a=Be(t.target);if(a!==null){var r=m(a);if(r!==null){if(a=r.tag,a===13){if(a=f(r),a!==null){t.blockedOn=a,ra(t.priority,function(){ay(r)});return}}else if(a===31){if(a=x(r),a!==null){t.blockedOn=a,ra(t.priority,function(){ay(r)});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var r=gh(t.nativeEvent);if(r===null){r=t.nativeEvent;var c=new r.constructor(r.type,r);Jr=c,r.target.dispatchEvent(c),Jr=null}else return a=vt(r),a!==null&&ny(a),t.blockedOn=r,!1;a.shift()}return!0}function ly(t,a,r){Tc(t)&&r.delete(a)}function ON(){yh=!1,Hi!==null&&Tc(Hi)&&(Hi=null),Ki!==null&&Tc(Ki)&&(Ki=null),Qi!==null&&Tc(Qi)&&(Qi=null),Zo.forEach(ly),qo.forEach(ly)}function Cc(t,a){t.blockedOn===a&&(t.blockedOn=null,yh||(yh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ON)))}var Ac=null;function oy(t){Ac!==t&&(Ac=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var a=0;a<t.length;a+=3){var r=t[a],c=t[a+1],p=t[a+2];if(typeof c!="function"){if(xh(c||r)===null)continue;break}var g=vt(r);g!==null&&(t.splice(a,3),a-=3,gm(g,{pending:!0,data:p,method:r.method,action:c},c,p))}}))}function Dl(t){function a(K){return Cc(K,t)}Hi!==null&&Cc(Hi,t),Ki!==null&&Cc(Ki,t),Qi!==null&&Cc(Qi,t),Zo.forEach(a),qo.forEach(a);for(var r=0;r<Gi.length;r++){var c=Gi[r];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Gi.length&&(r=Gi[0],r.blockedOn===null);)ry(r),r.blockedOn===null&&Gi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var p=r[c],g=r[c+1],j=p[tt]||null;if(typeof g=="function")j||oy(r);else if(j){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,j=g[tt]||null)C=j.formAction;else if(xh(p)!==null)continue}else C=j.action;typeof C=="function"?r[c+1]=C:(r.splice(c,3),c-=3),oy(r)}}}function uy(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function vh(t){this._internalRoot=t}Mc.prototype.render=vh.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(o(409));var r=a.current,c=qa();ey(r,c,t,a,null,null)},Mc.prototype.unmount=vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;ey(t.current,2,null,t,null,null),dc(),a[Xn]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var a=wn();t={blockedOn:null,target:t,priority:a};for(var r=0;r<Gi.length&&a!==0&&a<Gi[r].priority;r++);Gi.splice(r,0,t),r===0&&ry(t)}};var cy=s.version;if(cy!=="19.2.4")throw Error(o(527,cy,"19.2.4"));Q.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=_(a),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var DN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{$e=zc.inject(DN),yt=zc}catch{}}return Qo.createRoot=function(t,a){if(!d(t))throw Error(o(299));var r=!1,c="",p=xg,g=yg,j=vg;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError)),a=Jx(t,1,!1,null,null,r,c,null,p,g,j,uy),t[Xn]=a.current,eh(t),new vh(a)},Qo.hydrateRoot=function(t,a,r){if(!d(t))throw Error(o(299));var c=!1,p="",g=xg,j=yg,C=vg,K=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(K=r.formState)),a=Jx(t,1,!0,a,r??null,c,p,K,g,j,C,uy),a.context=Wx(null),r=a.current,c=qa(),c=Ot(c),p=zi(c),p.callback=null,Oi(r,p,c),r=c,a.current.lanes=r,Bn(a,r),Zs(a),t[Xn]=a.current,eh(t),new Mc(a)},Qo.version="19.2.4",Qo}var by;function KN(){if(by)return Nh.exports;by=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),Nh.exports=HN(),Nh.exports}var QN=KN();const GN=pd(QN);var Ul=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},VN={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},YN=class{#e=VN;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}},Ir=new YN;function $N(e){setTimeout(e,0)}var Fr=typeof window>"u"||"Deno"in globalThis;function xa(){}function XN(e,s){return typeof e=="function"?e(s):e}function ff(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nv(e,s){return Math.max(e+(s||0)-Date.now(),0)}function Ji(e,s){return typeof e=="function"?e(s):e}function os(e,s){return typeof e=="function"?e(s):e}function _y(e,s){const{type:l="all",exact:o,fetchStatus:d,predicate:m,queryKey:f,stale:x}=e;if(f){if(o){if(s.queryHash!==Bf(f,s.options))return!1}else if(!eu(s.queryKey,f))return!1}if(l!=="all"){const v=s.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof x=="boolean"&&s.isStale()!==x||d&&d!==s.state.fetchStatus||m&&!m(s))}function Ny(e,s){const{exact:l,status:o,predicate:d,mutationKey:m}=e;if(m){if(!s.options.mutationKey)return!1;if(l){if(Zr(s.options.mutationKey)!==Zr(m))return!1}else if(!eu(s.options.mutationKey,m))return!1}return!(o&&s.state.status!==o||d&&!d(s))}function Bf(e,s){return(s?.queryKeyHashFn||Zr)(e)}function Zr(e){return JSON.stringify(e,(s,l)=>pf(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function eu(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(l=>eu(e[l],s[l])):!1}var JN=Object.prototype.hasOwnProperty;function jv(e,s,l=0){if(e===s)return e;if(l>500)return s;const o=jy(e)&&jy(s);if(!o&&!(pf(e)&&pf(s)))return s;const m=(o?e:Object.keys(e)).length,f=o?s:Object.keys(s),x=f.length,v=o?new Array(x):{};let _=0;for(let S=0;S<x;S++){const w=o?S:f[S],T=e[w],z=s[w];if(T===z){v[w]=T,(o?S<m:JN.call(e,w))&&_++;continue}if(T===null||z===null||typeof T!="object"||typeof z!="object"){v[w]=z;continue}const k=jv(T,z,l+1);v[w]=k,k===T&&_++}return m===x&&_===m?e:v}function ad(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const l in e)if(e[l]!==s[l])return!1;return!0}function jy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pf(e){if(!Sy(e))return!1;const s=e.constructor;if(s===void 0)return!0;const l=s.prototype;return!(!Sy(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Sy(e){return Object.prototype.toString.call(e)==="[object Object]"}function WN(e){return new Promise(s=>{Ir.setTimeout(s,e)})}function gf(e,s,l){return typeof l.structuralSharing=="function"?l.structuralSharing(e,s):l.structuralSharing!==!1?jv(e,s):s}function ej(e,s,l=0){const o=[...e,s];return l&&o.length>l?o.slice(1):o}function tj(e,s,l=0){const o=[s,...e];return l&&o.length>l?o.slice(0,-1):o}var Uf=Symbol();function Sv(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:!e.queryFn||e.queryFn===Uf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ff(e,s){return typeof e=="function"?e(...s):!!e}function nj(e,s,l){let o=!1,d;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(d??=s(),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),e}var aj=class extends Ul{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Fr&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Zf=new aj;function xf(){let e,s;const l=new Promise((d,m)=>{e=d,s=m});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),e(d)},l.reject=d=>{o({status:"rejected",reason:d}),s(d)},l}var sj=$N;function ij(){let e=[],s=0,l=x=>{x()},o=x=>{x()},d=sj;const m=x=>{s?e.push(x):d(()=>{l(x)})},f=()=>{const x=e;e=[],x.length&&d(()=>{o(()=>{x.forEach(v=>{l(v)})})})};return{batch:x=>{let v;s++;try{v=x()}finally{s--,s||f()}return v},batchCalls:x=>(...v)=>{m(()=>{x(...v)})},schedule:m,setNotifyFunction:x=>{l=x},setBatchNotifyFunction:x=>{o=x},setScheduler:x=>{d=x}}}var qn=ij(),rj=class extends Ul{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Fr&&window.addEventListener){const s=()=>e(!0),l=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(l=>{l(e)}))}isOnline(){return this.#e}},sd=new rj;function lj(e){return Math.min(1e3*2**e,3e4)}function wv(e){return(e??"online")==="online"?sd.isOnline():!0}var yf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ev(e){let s=!1,l=0,o;const d=xf(),m=()=>d.status!=="pending",f=A=>{if(!m()){const D=new yf(A);T(D),e.onCancel?.(D)}},x=()=>{s=!0},v=()=>{s=!1},_=()=>Zf.isFocused()&&(e.networkMode==="always"||sd.isOnline())&&e.canRun(),S=()=>wv(e.networkMode)&&e.canRun(),w=A=>{m()||(o?.(),d.resolve(A))},T=A=>{m()||(o?.(),d.reject(A))},z=()=>new Promise(A=>{o=D=>{(m()||_())&&A(D)},e.onPause?.()}).then(()=>{o=void 0,m()||e.onContinue?.()}),k=()=>{if(m())return;let A;const D=l===0?e.initialPromise:void 0;try{A=D??e.fn()}catch(F){A=Promise.reject(F)}Promise.resolve(A).then(w).catch(F=>{if(m())return;const B=e.retry??(Fr?0:3),R=e.retryDelay??lj,G=typeof R=="function"?R(l,F):R,Y=B===!0||typeof B=="number"&&l<B||typeof B=="function"&&B(l,F);if(s||!Y){T(F);return}l++,e.onFail?.(l,F),WN(G).then(()=>_()?void 0:z()).then(()=>{s?T(F):k()})})};return{promise:d,status:()=>d.status,cancel:f,continue:()=>(o?.(),d),cancelRetry:x,continueRetry:v,canStart:S,start:()=>(S()?k():z().then(k),d)}}var kv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ff(this.gcTime)&&(this.#e=Ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ir.clearTimeout(this.#e),this.#e=void 0)}},oj=class extends kv{#e;#t;#n;#s;#a;#r;#l;constructor(e){super(),this.#l=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ey(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Ey(this.options);s.data!==void 0&&(this.setState(wy(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,s){const l=gf(this.state.data,e,this.options);return this.#i({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(e,s){this.#i({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#a?.promise;return this.#a?.cancel(e),s?s.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>os(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ji(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Nv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(v=>v.options.queryFn);x&&this.setOptions(x.options)}const l=new AbortController,o=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(this.#l=!0,l.signal)})},d=()=>{const x=Sv(this.options,s),_=(()=>{const S={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(S),S})();return this.#l=!1,this.options.persister?this.options.persister(x,_,this):x(_)},f=(()=>{const x={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:d};return o(x),x})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#i({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Ev({initialPromise:s?.initialPromise,fn:f.fetchFn,onCancel:x=>{x instanceof yf&&x.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(x,v)=>{this.#i({type:"failed",failureCount:x,error:v})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const x=await this.#a.start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),this.#n.config.onSuccess?.(x,this),this.#n.config.onSettled?.(x,this.state.error,this),x}catch(x){if(x instanceof yf){if(x.silent)return this.#a.promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw this.#i({type:"error",error:x}),this.#n.config.onError?.(x,this),this.#n.config.onSettled?.(this.state.data,x,this),x}finally{this.scheduleGc()}}#i(e){const s=l=>{switch(e.type){case"failed":return{...l,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...Tv(l.data,this.options),fetchMeta:e.meta??null};case"success":const o={...l,...wy(e.data,e.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const d=e.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...e.state}}};this.state=s(this.state),qn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Tv(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wv(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wy(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ey(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,l=s!==void 0,o=l?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var uj=class extends Ul{constructor(e,s){super(),this.options=s,this.#e=e,this.#i=null,this.#l=xf(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#r;#l;#i;#p;#m;#h;#u;#c;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ky(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const s=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof os(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),s._defaulted&&!ad(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Ty(this.#t,l,this.options,s)&&this.#d(),this.updateResult(),o&&(this.#t!==l||os(this.options.enabled,this.#t)!==os(s.enabled,this.#t)||Ji(this.options.staleTime,this.#t)!==Ji(s.staleTime,this.#t))&&this.#g();const d=this.#x();o&&(this.#t!==l||os(this.options.enabled,this.#t)!==os(s.enabled,this.#t)||d!==this.#o)&&this.#y(d)}getOptimisticResult(e){const s=this.#e.getQueryCache().build(this.#e,e),l=this.createResult(s,e);return dj(this,l)&&(this.#s=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#s}trackResult(e,s){return new Proxy(e,{get:(l,o)=>(this.trackProp(o),s?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#e.defaultQueryOptions(e),l=this.#e.getQueryCache().build(this.#e,s);return l.fetch().then(()=>this.createResult(l,s))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#N();let s=this.#t.fetch(this.options,e);return e?.throwOnError||(s=s.catch(xa)),s}#g(){this.#b();const e=Ji(this.options.staleTime,this.#t);if(Fr||this.#s.isStale||!ff(e))return;const l=Nv(this.#s.dataUpdatedAt,e)+1;this.#u=Ir.setTimeout(()=>{this.#s.isStale||this.updateResult()},l)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#o=e,!(Fr||os(this.options.enabled,this.#t)===!1||!ff(this.#o)||this.#o===0)&&(this.#c=Ir.setInterval(()=>{(this.options.refetchIntervalInBackground||Zf.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#u&&(Ir.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(Ir.clearInterval(this.#c),this.#c=void 0)}createResult(e,s){const l=this.#t,o=this.options,d=this.#s,m=this.#a,f=this.#r,v=e!==l?e.state:this.#n,{state:_}=e;let S={..._},w=!1,T;if(s._optimisticResults){const $=this.hasListeners(),J=!$&&ky(e,s),he=$&&Ty(e,l,s,o);(J||he)&&(S={...S,...Tv(_.data,e.options)}),s._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:k,status:A}=S;T=S.data;let D=!1;if(s.placeholderData!==void 0&&T===void 0&&A==="pending"){let $;d?.isPlaceholderData&&s.placeholderData===f?.placeholderData?($=d.data,D=!0):$=typeof s.placeholderData=="function"?s.placeholderData(this.#h?.state.data,this.#h):s.placeholderData,$!==void 0&&(A="success",T=gf(d?.data,$,s),w=!0)}if(s.select&&T!==void 0&&!D)if(d&&T===m?.data&&s.select===this.#p)T=this.#m;else try{this.#p=s.select,T=s.select(T),T=gf(d?.data,T,s),this.#m=T,this.#i=null}catch($){this.#i=$}this.#i&&(z=this.#i,T=this.#m,k=Date.now(),A="error");const F=S.fetchStatus==="fetching",B=A==="pending",R=A==="error",G=B&&F,Y=T!==void 0,q={status:A,fetchStatus:S.fetchStatus,isPending:B,isSuccess:A==="success",isError:R,isInitialLoading:G,isLoading:G,data:T,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:k,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>v.dataUpdateCount||S.errorUpdateCount>v.errorUpdateCount,isFetching:F,isRefetching:F&&!B,isLoadingError:R&&!Y,isPaused:S.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:R&&Y,isStale:qf(e,s),refetch:this.refetch,promise:this.#l,isEnabled:os(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const $=q.data!==void 0,J=q.status==="error"&&!$,he=_e=>{J?_e.reject(q.error):$&&_e.resolve(q.data)},xe=()=>{const _e=this.#l=q.promise=xf();he(_e)},ce=this.#l;switch(ce.status){case"pending":e.queryHash===l.queryHash&&he(ce);break;case"fulfilled":(J||q.data!==ce.value)&&xe();break;case"rejected":(!J||q.error!==ce.reason)&&xe();break}}return q}updateResult(){const e=this.#s,s=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#h=this.#t),ad(s,e))return;this.#s=s;const l=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!this.#f.size)return!0;const m=new Set(d??this.#f);return this.options.throwOnError&&m.add("error"),Object.keys(this.#s).some(f=>{const x=f;return this.#s[x]!==e[x]&&m.has(x)})};this.#j({listeners:l()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const s=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(e){qn.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function cj(e,s){return os(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function ky(e,s){return cj(e,s)||e.state.data!==void 0&&vf(e,s,s.refetchOnMount)}function vf(e,s,l){if(os(s.enabled,e)!==!1&&Ji(s.staleTime,e)!=="static"){const o=typeof l=="function"?l(e):l;return o==="always"||o!==!1&&qf(e,s)}return!1}function Ty(e,s,l,o){return(e!==s||os(o.enabled,e)===!1)&&(!l.suspense||e.state.status!=="error")&&qf(e,l)}function qf(e,s){return os(s.enabled,e)!==!1&&e.isStaleByTime(Ji(s.staleTime,e))}function dj(e,s){return!ad(e.getCurrentResult(),s)}function Cy(e){return{onFetch:(s,l)=>{const o=s.options,d=s.fetchOptions?.meta?.fetchMore?.direction,m=s.state.data?.pages||[],f=s.state.data?.pageParams||[];let x={pages:[],pageParams:[]},v=0;const _=async()=>{let S=!1;const w=k=>{nj(k,()=>s.signal,()=>S=!0)},T=Sv(s.options,s.fetchOptions),z=async(k,A,D)=>{if(S)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const B=(()=>{const ee={client:s.client,queryKey:s.queryKey,pageParam:A,direction:D?"backward":"forward",meta:s.options.meta};return w(ee),ee})(),R=await T(B),{maxPages:G}=s.options,Y=D?tj:ej;return{pages:Y(k.pages,R,G),pageParams:Y(k.pageParams,A,G)}};if(d&&m.length){const k=d==="backward",A=k?mj:Ay,D={pages:m,pageParams:f},F=A(o,D);x=await z(D,F,k)}else{const k=e??m.length;do{const A=v===0?f[0]??o.initialPageParam:Ay(o,x);if(v>0&&A==null)break;x=await z(x,A),v++}while(v<k)}return x};s.options.persister?s.fetchFn=()=>s.options.persister?.(_,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},l):s.fetchFn=_}}}function Ay(e,{pages:s,pageParams:l}){const o=s.length-1;return s.length>0?e.getNextPageParam(s[o],s,l[o],l):void 0}function mj(e,{pages:s,pageParams:l}){return s.length>0?e.getPreviousPageParam?.(s[0],s,l[0],l):void 0}var hj=class extends kv{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Cv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(s=>s!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ev({fn:()=>this.options.mutationFn?this.options.mutationFn(e,l):Promise.reject(new Error("No mutationFn found")),onFail:(m,f)=>{this.#a({type:"failed",failureCount:m,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",d=!this.#s.canStart();try{if(o)s();else{this.#a({type:"pending",variables:e,isPaused:d}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,l);const f=await this.options.onMutate?.(e,l);f!==this.state.context&&this.#a({type:"pending",context:f,variables:e,isPaused:d})}const m=await this.#s.start();return await this.#n.config.onSuccess?.(m,e,this.state.context,this,l),await this.options.onSuccess?.(m,e,this.state.context,l),await this.#n.config.onSettled?.(m,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(m,null,e,this.state.context,l),this.#a({type:"success",data:m}),m}catch(m){try{await this.#n.config.onError?.(m,e,this.state.context,this,l)}catch(f){Promise.reject(f)}try{await this.options.onError?.(m,e,this.state.context,l)}catch(f){Promise.reject(f)}try{await this.#n.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,l)}catch(f){Promise.reject(f)}try{await this.options.onSettled?.(void 0,m,e,this.state.context,l)}catch(f){Promise.reject(f)}throw this.#a({type:"error",error:m}),m}finally{this.#n.runNext(this)}}#a(e){const s=l=>{switch(e.type){case"failed":return{...l,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...l,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:e.error,failureCount:l.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),qn.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Cv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fj=class extends Ul{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,s,l){const o=new hj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(s),state:l});return this.add(o),o}add(e){this.#e.add(e);const s=Oc(e);if(typeof s=="string"){const l=this.#t.get(s);l?l.push(e):this.#t.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const s=Oc(e);if(typeof s=="string"){const l=this.#t.get(s);if(l)if(l.length>1){const o=l.indexOf(e);o!==-1&&l.splice(o,1)}else l[0]===e&&this.#t.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Oc(e);if(typeof s=="string"){const o=this.#t.get(s)?.find(d=>d.state.status==="pending");return!o||o===e}else return!0}runNext(e){const s=Oc(e);return typeof s=="string"?this.#t.get(s)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){qn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const s={exact:!0,...e};return this.getAll().find(l=>Ny(s,l))}findAll(e={}){return this.getAll().filter(s=>Ny(e,s))}notify(e){qn.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return qn.batch(()=>Promise.all(e.map(s=>s.continue().catch(xa))))}};function Oc(e){return e.options.scope?.id}var pj=class extends Ul{#e;#t=void 0;#n;#s;constructor(s,l){super(),this.#e=s,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const l=this.options;this.options=this.#e.defaultMutationOptions(s),ad(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&Zr(l.mutationKey)!==Zr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(s){this.#a(),this.#r(s)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(s,l){return this.#s=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(s)}#a(){const s=this.#n?.state??Cv();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#r(s){qn.batch(()=>{if(this.#s&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,d={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(s?.type==="success"){try{this.#s.onSuccess?.(s.data,l,o,d)}catch(m){Promise.reject(m)}try{this.#s.onSettled?.(s.data,null,l,o,d)}catch(m){Promise.reject(m)}}else if(s?.type==="error"){try{this.#s.onError?.(s.error,l,o,d)}catch(m){Promise.reject(m)}try{this.#s.onSettled?.(void 0,s.error,l,o,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(l=>{l(this.#t)})})}},gj=class extends Ul{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,s,l){const o=s.queryKey,d=s.queryHash??Bf(o,s);let m=this.get(d);return m||(m=new oj({client:e,queryKey:o,queryHash:d,options:e.defaultQueryOptions(s),state:l,defaultOptions:e.getQueryDefaults(o)}),this.add(m)),m}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#e.get(e.queryHash);s&&(e.destroy(),s===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(l=>_y(s,l))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(l=>_y(e,l)):s}notify(e){qn.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xj=class{#e;#t;#n;#s;#a;#r;#l;#i;constructor(e={}){this.#e=e.queryCache||new gj,this.#t=e.mutationCache||new fj,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Zf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=sd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),l=this.#e.build(this,s),o=l.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&l.isStaleByTime(Ji(s.staleTime,l))&&this.prefetchQuery(s),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:s,state:l})=>{const o=l.data;return[s,o]})}setQueryData(e,s,l){const o=this.defaultQueryOptions({queryKey:e}),m=this.#e.get(o.queryHash)?.state.data,f=XN(s,m);if(f!==void 0)return this.#e.build(this,o).setData(f,{...l,manual:!0})}setQueriesData(e,s,l){return qn.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,s,l)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state}removeQueries(e){const s=this.#e;qn.batch(()=>{s.findAll(e).forEach(l=>{s.remove(l)})})}resetQueries(e,s){const l=this.#e;return qn.batch(()=>(l.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const l={revert:!0,...s},o=qn.batch(()=>this.#e.findAll(e).map(d=>d.cancel(l)));return Promise.all(o).then(xa).catch(xa)}invalidateQueries(e,s={}){return qn.batch(()=>(this.#e.findAll(e).forEach(l=>{l.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const l={...s,cancelRefetch:s.cancelRefetch??!0},o=qn.batch(()=>this.#e.findAll(e).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let m=d.fetch(void 0,l);return l.throwOnError||(m=m.catch(xa)),d.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(o).then(xa)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const l=this.#e.build(this,s);return l.isStaleByTime(Ji(s.staleTime,l))?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xa).catch(xa)}fetchInfiniteQuery(e){return e.behavior=Cy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xa).catch(xa)}ensureInfiniteQueryData(e){return e.behavior=Cy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,s){this.#s.set(Zr(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#s.values()],l={};return s.forEach(o=>{eu(e,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(e,s){this.#a.set(Zr(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#a.values()],l={};return s.forEach(o=>{eu(e,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=Bf(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Uf&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Av=b.createContext(void 0),sa=e=>{const s=b.useContext(Av);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},yj=({client:e,children:s})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Av.Provider,{value:e,children:s})),Mv=b.createContext(!1),vj=()=>b.useContext(Mv);Mv.Provider;function bj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _j=b.createContext(bj()),Nj=()=>b.useContext(_j),jj=(e,s,l)=>{const o=l?.state.error&&typeof e.throwOnError=="function"?Ff(e.throwOnError,[l.state.error,l]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||o)&&(s.isReset()||(e.retryOnMount=!1))},Sj=e=>{b.useEffect(()=>{e.clearReset()},[e])},wj=({result:e,errorResetBoundary:s,throwOnError:l,query:o,suspense:d})=>e.isError&&!s.isReset()&&!e.isFetching&&o&&(d&&e.data===void 0||Ff(l,[e.error,o])),Ej=e=>{if(e.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kj=(e,s)=>e.isLoading&&e.isFetching&&!s,Tj=(e,s)=>e?.suspense&&s.isPending,My=(e,s,l)=>s.fetchOptimistic(e).catch(()=>{l.clearReset()});function Cj(e,s,l){const o=vj(),d=Nj(),m=sa(),f=m.defaultQueryOptions(e);m.getDefaultOptions().queries?._experimental_beforeQuery?.(f);const x=m.getQueryCache().get(f.queryHash);f._optimisticResults=o?"isRestoring":"optimistic",Ej(f),jj(f,d,x),Sj(d);const v=!m.getQueryCache().get(f.queryHash),[_]=b.useState(()=>new s(m,f)),S=_.getOptimisticResult(f),w=!o&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(T=>{const z=w?_.subscribe(qn.batchCalls(T)):xa;return _.updateResult(),z},[_,w]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),b.useEffect(()=>{_.setOptions(f)},[f,_]),Tj(f,S))throw My(f,_,d);if(wj({result:S,errorResetBoundary:d,throwOnError:f.throwOnError,query:x,suspense:f.suspense}))throw S.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(f,S),f.experimental_prefetchInRender&&!Fr&&kj(S,o)&&(v?My(f,_,d):x?.promise)?.catch(xa).finally(()=>{_.updateResult()}),f.notifyOnChangeProps?S:_.trackResult(S)}function Ze(e,s){return Cj(e,uj)}function Ye(e,s){const l=sa(),[o]=b.useState(()=>new pj(l,e));b.useEffect(()=>{o.setOptions(e)},[o,e]);const d=b.useSyncExternalStore(b.useCallback(f=>o.subscribe(qn.batchCalls(f)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),m=b.useCallback((f,x)=>{o.mutate(f,x).catch(xa)},[o]);if(d.error&&Ff(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:m,mutateAsync:d.mutate}}var zy="popstate";function Aj(e={}){function s(o,d){let{pathname:m,search:f,hash:x}=o.location;return bf("",{pathname:m,search:f,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:tu(d)}return zj(s,l,null,e)}function fn(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function cs(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Mj(){return Math.random().toString(36).substring(2,10)}function Oy(e,s){return{usr:e.state,key:e.key,idx:s}}function bf(e,s,l=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?Fl(s):s,state:l,key:s&&s.key||o||Mj()}}function tu({pathname:e="/",search:s="",hash:l=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(e+=l.charAt(0)==="#"?l:"#"+l),e}function Fl(e){let s={};if(e){let l=e.indexOf("#");l>=0&&(s.hash=e.substring(l),e=e.substring(0,l));let o=e.indexOf("?");o>=0&&(s.search=e.substring(o),e=e.substring(0,o)),e&&(s.pathname=e)}return s}function zj(e,s,l,o={}){let{window:d=document.defaultView,v5Compat:m=!1}=o,f=d.history,x="POP",v=null,_=S();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function S(){return(f.state||{idx:null}).idx}function w(){x="POP";let D=S(),F=D==null?null:D-_;_=D,v&&v({action:x,location:A.location,delta:F})}function T(D,F){x="PUSH";let B=bf(A.location,D,F);_=S()+1;let R=Oy(B,_),G=A.createHref(B);try{f.pushState(R,"",G)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;d.location.assign(G)}m&&v&&v({action:x,location:A.location,delta:1})}function z(D,F){x="REPLACE";let B=bf(A.location,D,F);_=S();let R=Oy(B,_),G=A.createHref(B);f.replaceState(R,"",G),m&&v&&v({action:x,location:A.location,delta:0})}function k(D){return Oj(D)}let A={get action(){return x},get location(){return e(d,f)},listen(D){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(zy,w),v=D,()=>{d.removeEventListener(zy,w),v=null}},createHref(D){return s(d,D)},createURL:k,encodeLocation(D){let F=k(D);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:z,go(D){return f.go(D)}};return A}function Oj(e,s=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),fn(l,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:tu(e);return o=o.replace(/ $/,"%20"),!s&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function zv(e,s,l="/"){return Dj(e,s,l,!1)}function Dj(e,s,l,o){let d=typeof s=="string"?Fl(s):s,m=hi(d.pathname||"/",l);if(m==null)return null;let f=Ov(e);Rj(f);let x=null;for(let v=0;x==null&&v<f.length;++v){let _=Qj(m);x=Hj(f[v],_,o)}return x}function Ov(e,s=[],l=[],o="",d=!1){let m=(f,x,v=d,_)=>{let S={relativePath:_===void 0?f.path||"":_,caseSensitive:f.caseSensitive===!0,childrenIndex:x,route:f};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&v)return;fn(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let w=di([o,S.relativePath]),T=l.concat(S);f.children&&f.children.length>0&&(fn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Ov(f.children,s,T,w,v)),!(f.path==null&&!f.index)&&s.push({path:w,score:Zj(w,f.index),routesMeta:T})};return e.forEach((f,x)=>{if(f.path===""||!f.path?.includes("?"))m(f,x);else for(let v of Dv(f.path))m(f,x,!0,v)}),s}function Dv(e){let s=e.split("/");if(s.length===0)return[];let[l,...o]=s,d=l.endsWith("?"),m=l.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let f=Dv(o.join("/")),x=[];return x.push(...f.map(v=>v===""?m:[m,v].join("/"))),d&&x.push(...f),x.map(v=>e.startsWith("/")&&v===""?"/":v)}function Rj(e){e.sort((s,l)=>s.score!==l.score?l.score-s.score:qj(s.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var Lj=/^:[\w-]+$/,Pj=3,Ij=2,Bj=1,Uj=10,Fj=-2,Dy=e=>e==="*";function Zj(e,s){let l=e.split("/"),o=l.length;return l.some(Dy)&&(o+=Fj),s&&(o+=Ij),l.filter(d=>!Dy(d)).reduce((d,m)=>d+(Lj.test(m)?Pj:m===""?Bj:Uj),o)}function qj(e,s){return e.length===s.length&&e.slice(0,-1).every((o,d)=>o===s[d])?e[e.length-1]-s[s.length-1]:0}function Hj(e,s,l=!1){let{routesMeta:o}=e,d={},m="/",f=[];for(let x=0;x<o.length;++x){let v=o[x],_=x===o.length-1,S=m==="/"?s:s.slice(m.length)||"/",w=id({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},S),T=v.route;if(!w&&_&&l&&!o[o.length-1].route.index&&(w=id({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!w)return null;Object.assign(d,w.params),f.push({params:d,pathname:di([m,w.pathname]),pathnameBase:$j(di([m,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(m=di([m,w.pathnameBase]))}return f}function id(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[l,o]=Kj(e.path,e.caseSensitive,e.end),d=s.match(l);if(!d)return null;let m=d[0],f=m.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:o.reduce((_,{paramName:S,isOptional:w},T)=>{if(S==="*"){let k=x[T]||"";f=m.slice(0,m.length-k.length).replace(/(.)\/+$/,"$1")}const z=x[T];return w&&!z?_[S]=void 0:_[S]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:m,pathnameBase:f,pattern:e}}function Kj(e,s=!1,l=!0){cs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],d="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,x,v)=>(o.push({paramName:x,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),d+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":e!==""&&e!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,s?void 0:"i"),o]}function Qj(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return cs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function hi(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let l=s.endsWith("/")?s.length-1:s.length,o=e.charAt(l);return o&&o!=="/"?null:e.slice(l)||"/"}var Gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Vj(e,s="/"){let{pathname:l,search:o="",hash:d=""}=typeof e=="string"?Fl(e):e,m;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?m=Ry(l.substring(1),"/"):m=Ry(l,s)):m=s,{pathname:m,search:Xj(o),hash:Jj(d)}}function Ry(e,s){let l=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function Eh(e,s,l,o){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yj(e){return e.filter((s,l)=>l===0||s.route.path&&s.route.path.length>0)}function Hf(e){let s=Yj(e);return s.map((l,o)=>o===s.length-1?l.pathname:l.pathnameBase)}function Kf(e,s,l,o=!1){let d;typeof e=="string"?d=Fl(e):(d={...e},fn(!d.pathname||!d.pathname.includes("?"),Eh("?","pathname","search",d)),fn(!d.pathname||!d.pathname.includes("#"),Eh("#","pathname","hash",d)),fn(!d.search||!d.search.includes("#"),Eh("#","search","hash",d)));let m=e===""||d.pathname==="",f=m?"/":d.pathname,x;if(f==null)x=l;else{let w=s.length-1;if(!o&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),w-=1;d.pathname=T.join("/")}x=w>=0?s[w]:"/"}let v=Vj(d,x),_=f&&f!=="/"&&f.endsWith("/"),S=(m||f===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(_||S)&&(v.pathname+="/"),v}var di=e=>e.join("/").replace(/\/\/+/g,"/"),$j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Wj=class{constructor(e,s,l,o=!1){this.status=e,this.statusText=s||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function eS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tS(e){return e.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lv(e,s){let l=e;if(typeof l!="string"||!Gj.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,d=!1;if(Rv)try{let m=new URL(window.location.href),f=l.startsWith("//")?new URL(m.protocol+l):new URL(l),x=hi(f.pathname,s);f.origin===m.origin&&x!=null?l=x+f.search+f.hash:d=!0}catch{cs(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pv=["POST","PUT","PATCH","DELETE"];new Set(Pv);var nS=["GET",...Pv];new Set(nS);var Zl=b.createContext(null);Zl.displayName="DataRouter";var gd=b.createContext(null);gd.displayName="DataRouterState";var aS=b.createContext(!1),Iv=b.createContext({isTransitioning:!1});Iv.displayName="ViewTransition";var sS=b.createContext(new Map);sS.displayName="Fetchers";var iS=b.createContext(null);iS.displayName="Await";var Ka=b.createContext(null);Ka.displayName="Navigation";var iu=b.createContext(null);iu.displayName="Location";var ms=b.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Qf=b.createContext(null);Qf.displayName="RouteError";var Bv="REACT_ROUTER_ERROR",rS="REDIRECT",lS="ROUTE_ERROR_RESPONSE";function oS(e){if(e.startsWith(`${Bv}:${rS}:{`))try{let s=JSON.parse(e.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function uS(e){if(e.startsWith(`${Bv}:${lS}:{`))try{let s=JSON.parse(e.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new Wj(s.status,s.statusText,s.data)}catch{}}function cS(e,{relative:s}={}){fn(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=b.useContext(Ka),{hash:d,pathname:m,search:f}=ru(e,{relative:s}),x=m;return l!=="/"&&(x=m==="/"?l:di([l,m])),o.createHref({pathname:x,search:f,hash:d})}function ql(){return b.useContext(iu)!=null}function hs(){return fn(ql(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(iu).location}var Uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fv(e){b.useContext(Ka).static||b.useLayoutEffect(e)}function Hl(){let{isDataRoute:e}=b.useContext(ms);return e?ES():dS()}function dS(){fn(ql(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Zl),{basename:s,navigator:l}=b.useContext(Ka),{matches:o}=b.useContext(ms),{pathname:d}=hs(),m=JSON.stringify(Hf(o)),f=b.useRef(!1);return Fv(()=>{f.current=!0}),b.useCallback((v,_={})=>{if(cs(f.current,Uv),!f.current)return;if(typeof v=="number"){l.go(v);return}let S=Kf(v,JSON.parse(m),d,_.relative==="path");e==null&&s!=="/"&&(S.pathname=S.pathname==="/"?s:di([s,S.pathname])),(_.replace?l.replace:l.push)(S,_.state,_)},[s,l,m,d,e])}var mS=b.createContext(null);function hS(e){let s=b.useContext(ms).outlet;return b.useMemo(()=>s&&b.createElement(mS.Provider,{value:e},s),[s,e])}function fS(){let{matches:e}=b.useContext(ms),s=e[e.length-1];return s?s.params:{}}function ru(e,{relative:s}={}){let{matches:l}=b.useContext(ms),{pathname:o}=hs(),d=JSON.stringify(Hf(l));return b.useMemo(()=>Kf(e,JSON.parse(d),o,s==="path"),[e,d,o,s])}function pS(e,s){return Zv(e,s)}function Zv(e,s,l,o,d){fn(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=b.useContext(Ka),{matches:f}=b.useContext(ms),x=f[f.length-1],v=x?x.params:{},_=x?x.pathname:"/",S=x?x.pathnameBase:"/",w=x&&x.route;{let B=w&&w.path||"";Hv(_,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=hs(),z;if(s){let B=typeof s=="string"?Fl(s):s;fn(S==="/"||B.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${B.pathname}" was given in the \`location\` prop.`),z=B}else z=T;let k=z.pathname||"/",A=k;if(S!=="/"){let B=S.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=zv(e,{pathname:A});cs(w||D!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),cs(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=bS(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},v,B.params),pathname:di([S,m.encodeLocation?m.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?S:di([S,m.encodeLocation?m.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),f,l,o,d);return s&&F?b.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},F):F}function gS(){let e=wS(),s=eS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),l=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:m},"ErrorBoundary")," or"," ",b.createElement("code",{style:m},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},s),l?b.createElement("pre",{style:d},l):null,f)}var xS=b.createElement(gS,null),qv=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.onError?this.props.onError(e,s):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const l=uS(e.digest);l&&(e=l)}let s=e!==void 0?b.createElement(ms.Provider,{value:this.props.routeContext},b.createElement(Qf.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(yS,{error:e},s):s}};qv.contextType=aS;var kh=new WeakMap;function yS({children:e,error:s}){let{basename:l}=b.useContext(Ka);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let o=oS(s.digest);if(o){let d=kh.get(s);if(d)throw d;let m=Lv(o.location,l);if(Rv&&!kh.get(s))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw kh.set(s,f),f}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return e}function vS({routeContext:e,match:s,children:l}){let o=b.useContext(Zl);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),b.createElement(ms.Provider,{value:e},l)}function bS(e,s=[],l=null,o=null,d=null){if(e==null){if(!l)return null;if(l.errors)e=l.matches;else if(s.length===0&&!l.initialized&&l.matches.length>0)e=l.matches;else return null}let m=e,f=l?.errors;if(f!=null){let S=m.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);fn(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let x=!1,v=-1;if(l)for(let S=0;S<m.length;S++){let w=m[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=S),w.route.id){let{loaderData:T,errors:z}=l,k=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||k){x=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}let _=l&&o?(S,w)=>{o(S,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:tS(l.matches),errorInfo:w})}:void 0;return m.reduceRight((S,w,T)=>{let z,k=!1,A=null,D=null;l&&(z=f&&w.route.id?f[w.route.id]:void 0,A=w.route.errorElement||xS,x&&(v<0&&T===0?(Hv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):v===T&&(k=!0,D=w.route.hydrateFallbackElement||null)));let F=s.concat(m.slice(0,T+1)),B=()=>{let R;return z?R=A:k?R=D:w.route.Component?R=b.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=S,b.createElement(vS,{match:w,routeContext:{outlet:S,matches:F,isDataRoute:l!=null},children:R})};return l&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?b.createElement(qv,{location:l.location,revalidation:l.revalidation,component:A,error:z,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:_}):B()},null)}function Gf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(e){let s=b.useContext(Zl);return fn(s,Gf(e)),s}function NS(e){let s=b.useContext(gd);return fn(s,Gf(e)),s}function jS(e){let s=b.useContext(ms);return fn(s,Gf(e)),s}function Vf(e){let s=jS(e),l=s.matches[s.matches.length-1];return fn(l.route.id,`${e} can only be used on routes that contain a unique "id"`),l.route.id}function SS(){return Vf("useRouteId")}function wS(){let e=b.useContext(Qf),s=NS("useRouteError"),l=Vf("useRouteError");return e!==void 0?e:s.errors?.[l]}function ES(){let{router:e}=_S("useNavigate"),s=Vf("useNavigate"),l=b.useRef(!1);return Fv(()=>{l.current=!0}),b.useCallback(async(d,m={})=>{cs(l.current,Uv),l.current&&(typeof d=="number"?await e.navigate(d):await e.navigate(d,{fromRouteId:s,...m}))},[e,s])}var Ly={};function Hv(e,s,l){!s&&!Ly[e]&&(Ly[e]=!0,cs(!1,l))}b.memo(kS);function kS({routes:e,future:s,state:l,onError:o}){return Zv(e,void 0,l,o,s)}function Yf({to:e,replace:s,state:l,relative:o}){fn(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=b.useContext(Ka);cs(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=b.useContext(ms),{pathname:f}=hs(),x=Hl(),v=Kf(e,Hf(m),f,o==="path"),_=JSON.stringify(v);return b.useEffect(()=>{x(JSON.parse(_),{replace:s,state:l,relative:o})},[x,_,o,s,l]),null}function $f(e){return hS(e.context)}function Yt(e){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TS({basename:e="/",children:s=null,location:l,navigationType:o="POP",navigator:d,static:m=!1,unstable_useTransitions:f}){fn(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=e.replace(/^\/*/,"/"),v=b.useMemo(()=>({basename:x,navigator:d,static:m,unstable_useTransitions:f,future:{}}),[x,d,m,f]);typeof l=="string"&&(l=Fl(l));let{pathname:_="/",search:S="",hash:w="",state:T=null,key:z="default"}=l,k=b.useMemo(()=>{let A=hi(_,x);return A==null?null:{location:{pathname:A,search:S,hash:w,state:T,key:z},navigationType:o}},[x,_,S,w,T,z,o]);return cs(k!=null,`<Router basename="${x}"> is not able to match the URL "${_}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:b.createElement(Ka.Provider,{value:v},b.createElement(iu.Provider,{children:s,value:k}))}function CS({children:e,location:s}){return pS(_f(e),s)}function _f(e,s=[]){let l=[];return b.Children.forEach(e,(o,d)=>{if(!b.isValidElement(o))return;let m=[...s,d];if(o.type===b.Fragment){l.push.apply(l,_f(o.props.children,m));return}fn(o.type===Yt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=_f(o.props.children,m)),l.push(f)}),l}var Xc="get",Jc="application/x-www-form-urlencoded";function xd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function AS(e){return xd(e)&&e.tagName.toLowerCase()==="button"}function MS(e){return xd(e)&&e.tagName.toLowerCase()==="form"}function zS(e){return xd(e)&&e.tagName.toLowerCase()==="input"}function OS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DS(e,s){return e.button===0&&(!s||s==="_self")&&!OS(e)}function Nf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,l)=>{let o=e[l];return s.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function RS(e,s){let l=Nf(e);return s&&s.forEach((o,d)=>{l.has(d)||s.getAll(d).forEach(m=>{l.append(d,m)})}),l}var Dc=null;function LS(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var PS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Th(e){return e!=null&&!PS.has(e)?(cs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):e}function IS(e,s){let l,o,d,m,f;if(MS(e)){let x=e.getAttribute("action");o=x?hi(x,s):null,l=e.getAttribute("method")||Xc,d=Th(e.getAttribute("enctype"))||Jc,m=new FormData(e)}else if(AS(e)||zS(e)&&(e.type==="submit"||e.type==="image")){let x=e.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=e.getAttribute("formaction")||x.getAttribute("action");if(o=v?hi(v,s):null,l=e.getAttribute("formmethod")||x.getAttribute("method")||Xc,d=Th(e.getAttribute("formenctype"))||Th(x.getAttribute("enctype"))||Jc,m=new FormData(x,e),!LS()){let{name:_,type:S,value:w}=e;if(S==="image"){let T=_?`${_}.`:"";m.append(`${T}x`,"0"),m.append(`${T}y`,"0")}else _&&m.append(_,w)}}else{if(xd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Xc,o=null,d=Jc,f=e}return m&&d==="text/plain"&&(f=m,m=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xf(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function BS(e,s,l,o){let d=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:s&&hi(d.pathname,s)==="/"?d.pathname=`${s.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function US(e,s){if(e.id in s)return s[e.id];try{let l=await import(e.module);return s[e.id]=l,l}catch(l){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZS(e,s,l){let o=await Promise.all(e.map(async d=>{let m=s.routes[d.route.id];if(m){let f=await US(m,l);return f.links?f.links():[]}return[]}));return QS(o.flat(1).filter(FS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Py(e,s,l,o,d,m){let f=(v,_)=>l[_]?v.route.id!==l[_].route.id:!0,x=(v,_)=>l[_].pathname!==v.pathname||l[_].route.path?.endsWith("*")&&l[_].params["*"]!==v.params["*"];return m==="assets"?s.filter((v,_)=>f(v,_)||x(v,_)):m==="data"?s.filter((v,_)=>{let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(f(v,_)||x(v,_))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function qS(e,s,{includeHydrateFallback:l}={}){return HS(e.map(o=>{let d=s.routes[o.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function HS(e){return[...new Set(e)]}function KS(e){let s={},l=Object.keys(e).sort();for(let o of l)s[o]=e[o];return s}function QS(e,s){let l=new Set;return new Set(s),e.reduce((o,d)=>{let m=JSON.stringify(KS(d));return l.has(m)||(l.add(m),o.push({key:m,link:d})),o},[])}function Kv(){let e=b.useContext(Zl);return Xf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GS(){let e=b.useContext(gd);return Xf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jf=b.createContext(void 0);Jf.displayName="FrameworkContext";function Qv(){let e=b.useContext(Jf);return Xf(e,"You must render this element inside a <HydratedRouter> element"),e}function VS(e,s){let l=b.useContext(Jf),[o,d]=b.useState(!1),[m,f]=b.useState(!1),{onFocus:x,onBlur:v,onMouseEnter:_,onMouseLeave:S,onTouchStart:w}=s,T=b.useRef(null);b.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let A=F=>{F.forEach(B=>{f(B.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[e]),b.useEffect(()=>{if(o){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[o]);let z=()=>{d(!0)},k=()=>{d(!1),f(!1)};return l?e!=="intent"?[m,T,{}]:[m,T,{onFocus:Go(x,z),onBlur:Go(v,k),onMouseEnter:Go(_,z),onMouseLeave:Go(S,k),onTouchStart:Go(w,z)}]:[!1,T,{}]}function Go(e,s){return l=>{e&&e(l),l.defaultPrevented||s(l)}}function YS({page:e,...s}){let{router:l}=Kv(),o=b.useMemo(()=>zv(l.routes,e,l.basename),[l.routes,e,l.basename]);return o?b.createElement(XS,{page:e,matches:o,...s}):null}function $S(e){let{manifest:s,routeModules:l}=Qv(),[o,d]=b.useState([]);return b.useEffect(()=>{let m=!1;return ZS(e,s,l).then(f=>{m||d(f)}),()=>{m=!0}},[e,s,l]),o}function XS({page:e,matches:s,...l}){let o=hs(),{future:d,manifest:m,routeModules:f}=Qv(),{basename:x}=Kv(),{loaderData:v,matches:_}=GS(),S=b.useMemo(()=>Py(e,s,_,m,o,"data"),[e,s,_,m,o]),w=b.useMemo(()=>Py(e,s,_,m,o,"assets"),[e,s,_,m,o]),T=b.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let A=new Set,D=!1;if(s.forEach(B=>{let R=m.routes[B.route.id];!R||!R.hasLoader||(!S.some(G=>G.route.id===B.route.id)&&B.route.id in v&&f[B.route.id]?.shouldRevalidate||R.hasClientLoader?D=!0:A.add(B.route.id))}),A.size===0)return[];let F=BS(e,x,d.unstable_trailingSlashAwareDataRequests,"data");return D&&A.size>0&&F.searchParams.set("_routes",s.filter(B=>A.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[x,d.unstable_trailingSlashAwareDataRequests,v,o,m,S,s,e,f]),z=b.useMemo(()=>qS(w,m),[w,m]),k=$S(w);return b.createElement(b.Fragment,null,T.map(A=>b.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),z.map(A=>b.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),k.map(({key:A,link:D})=>b.createElement("link",{key:A,nonce:l.nonce,...D,crossOrigin:D.crossOrigin??l.crossOrigin})))}function JS(...e){return s=>{e.forEach(l=>{typeof l=="function"?l(s):l!=null&&(l.current=s)})}}var WS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WS&&(window.__reactRouterVersion="7.13.0")}catch{}function ew({basename:e,children:s,unstable_useTransitions:l,window:o}){let d=b.useRef();d.current==null&&(d.current=Aj({window:o,v5Compat:!0}));let m=d.current,[f,x]=b.useState({action:m.action,location:m.location}),v=b.useCallback(_=>{l===!1?x(_):b.startTransition(()=>x(_))},[l]);return b.useLayoutEffect(()=>m.listen(v),[m,v]),b.createElement(TS,{basename:e,children:s,location:f.location,navigationType:f.action,navigator:m,unstable_useTransitions:l})}var Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=b.forwardRef(function({onClick:s,discover:l="render",prefetch:o="none",relative:d,reloadDocument:m,replace:f,state:x,target:v,to:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:T,...z},k){let{basename:A,unstable_useTransitions:D}=b.useContext(Ka),F=typeof _=="string"&&Gv.test(_),B=Lv(_,A);_=B.to;let R=cS(_,{relative:d}),[G,Y,ee]=VS(o,z),q=aw(_,{replace:f,state:x,target:v,preventScrollReset:S,relative:d,viewTransition:w,unstable_defaultShouldRevalidate:T,unstable_useTransitions:D});function $(he){s&&s(he),he.defaultPrevented||q(he)}let J=b.createElement("a",{...z,...ee,href:B.absoluteURL||R,onClick:B.isExternal||m?s:$,ref:JS(k,Y),target:v,"data-discover":!F&&l==="render"?"true":void 0});return G&&!F?b.createElement(b.Fragment,null,J,b.createElement(YS,{page:R})):J});ws.displayName="Link";var Vv=b.forwardRef(function({"aria-current":s="page",caseSensitive:l=!1,className:o="",end:d=!1,style:m,to:f,viewTransition:x,children:v,..._},S){let w=ru(f,{relative:_.relative}),T=hs(),z=b.useContext(gd),{navigator:k,basename:A}=b.useContext(Ka),D=z!=null&&ow(w)&&x===!0,F=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,B=T.pathname,R=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;l||(B=B.toLowerCase(),R=R?R.toLowerCase():null,F=F.toLowerCase()),R&&A&&(R=hi(R,A)||R);const G=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Y=B===F||!d&&B.startsWith(F)&&B.charAt(G)==="/",ee=R!=null&&(R===F||!d&&R.startsWith(F)&&R.charAt(F.length)==="/"),q={isActive:Y,isPending:ee,isTransitioning:D},$=Y?s:void 0,J;typeof o=="function"?J=o(q):J=[o,Y?"active":null,ee?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let he=typeof m=="function"?m(q):m;return b.createElement(ws,{..._,"aria-current":$,className:J,ref:S,style:he,to:f,viewTransition:x},typeof v=="function"?v(q):v)});Vv.displayName="NavLink";var tw=b.forwardRef(({discover:e="render",fetcherKey:s,navigate:l,reloadDocument:o,replace:d,state:m,method:f=Xc,action:x,onSubmit:v,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:T,...z},k)=>{let{unstable_useTransitions:A}=b.useContext(Ka),D=rw(),F=lw(x,{relative:_}),B=f.toLowerCase()==="get"?"get":"post",R=typeof x=="string"&&Gv.test(x),G=Y=>{if(v&&v(Y),Y.defaultPrevented)return;Y.preventDefault();let ee=Y.nativeEvent.submitter,q=ee?.getAttribute("formmethod")||f,$=()=>D(ee||Y.currentTarget,{fetcherKey:s,method:q,navigate:l,replace:d,state:m,relative:_,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:T});A&&l!==!1?b.startTransition(()=>$()):$()};return b.createElement("form",{ref:k,method:B,action:F,onSubmit:o?v:G,...z,"data-discover":!R&&e==="render"?"true":void 0})});tw.displayName="Form";function nw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yv(e){let s=b.useContext(Zl);return fn(s,nw(e)),s}function aw(e,{target:s,replace:l,state:o,preventScrollReset:d,relative:m,viewTransition:f,unstable_defaultShouldRevalidate:x,unstable_useTransitions:v}={}){let _=Hl(),S=hs(),w=ru(e,{relative:m});return b.useCallback(T=>{if(DS(T,s)){T.preventDefault();let z=l!==void 0?l:tu(S)===tu(w),k=()=>_(e,{replace:z,state:o,preventScrollReset:d,relative:m,viewTransition:f,unstable_defaultShouldRevalidate:x});v?b.startTransition(()=>k()):k()}},[S,_,w,l,o,s,e,d,m,f,x,v])}function yd(e){cs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=b.useRef(Nf(e)),l=b.useRef(!1),o=hs(),d=b.useMemo(()=>RS(o.search,l.current?null:s.current),[o.search]),m=Hl(),f=b.useCallback((x,v)=>{const _=Nf(typeof x=="function"?x(new URLSearchParams(d)):x);l.current=!0,m("?"+_,v)},[m,d]);return[d,f]}var sw=0,iw=()=>`__${String(++sw)}__`;function rw(){let{router:e}=Yv("useSubmit"),{basename:s}=b.useContext(Ka),l=SS(),o=e.fetch,d=e.navigate;return b.useCallback(async(m,f={})=>{let{action:x,method:v,encType:_,formData:S,body:w}=IS(m,s);if(f.navigate===!1){let T=f.fetcherKey||iw();await o(T,l,f.action||x,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:S,body:w,formMethod:f.method||v,formEncType:f.encType||_,flushSync:f.flushSync})}else await d(f.action||x,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:S,body:w,formMethod:f.method||v,formEncType:f.encType||_,replace:f.replace,state:f.state,fromRouteId:l,flushSync:f.flushSync,viewTransition:f.viewTransition})},[o,d,s,l])}function lw(e,{relative:s}={}){let{basename:l}=b.useContext(Ka),o=b.useContext(ms);fn(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),m={...ru(e||".",{relative:s})},f=hs();if(e==null){m.search=f.search;let x=new URLSearchParams(m.search),v=x.getAll("index");if(v.some(S=>S==="")){x.delete("index"),v.filter(w=>w).forEach(w=>x.append("index",w));let S=x.toString();m.search=S?`?${S}`:""}}return(!e||e===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:di([l,m.pathname])),tu(m)}function ow(e,{relative:s}={}){let l=b.useContext(Iv);fn(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Yv("useViewTransitionState"),d=ru(e,{relative:s});if(!l.isTransitioning)return!1;let m=hi(l.currentLocation.pathname,o)||l.currentLocation.pathname,f=hi(l.nextLocation.pathname,o)||l.nextLocation.pathname;return id(d.pathname,f)!=null||id(d.pathname,m)!=null}function $v(e,s){return function(){return e.apply(s,arguments)}}const{toString:uw}=Object.prototype,{getPrototypeOf:Wf}=Object,{iterator:vd,toStringTag:Xv}=Symbol,bd=(e=>s=>{const l=uw.call(s);return e[l]||(e[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Es=e=>(e=e.toLowerCase(),s=>bd(s)===e),_d=e=>s=>typeof s===e,{isArray:Kl}=Array,Bl=_d("undefined");function lu(e){return e!==null&&!Bl(e)&&e.constructor!==null&&!Bl(e.constructor)&&Ma(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jv=Es("ArrayBuffer");function cw(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Jv(e.buffer),s}const dw=_d("string"),Ma=_d("function"),Wv=_d("number"),ou=e=>e!==null&&typeof e=="object",mw=e=>e===!0||e===!1,Wc=e=>{if(bd(e)!=="object")return!1;const s=Wf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Xv in e)&&!(vd in e)},hw=e=>{if(!ou(e)||lu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fw=Es("Date"),pw=Es("File"),gw=Es("Blob"),xw=Es("FileList"),yw=e=>ou(e)&&Ma(e.pipe),vw=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Ma(e.append)&&((s=bd(e))==="formdata"||s==="object"&&Ma(e.toString)&&e.toString()==="[object FormData]"))},bw=Es("URLSearchParams"),[_w,Nw,jw,Sw]=["ReadableStream","Request","Response","Headers"].map(Es),ww=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uu(e,s,{allOwnKeys:l=!1}={}){if(e===null||typeof e>"u")return;let o,d;if(typeof e!="object"&&(e=[e]),Kl(e))for(o=0,d=e.length;o<d;o++)s.call(null,e[o],o,e);else{if(lu(e))return;const m=l?Object.getOwnPropertyNames(e):Object.keys(e),f=m.length;let x;for(o=0;o<f;o++)x=m[o],s.call(null,e[x],x,e)}}function eb(e,s){if(lu(e))return null;s=s.toLowerCase();const l=Object.keys(e);let o=l.length,d;for(;o-- >0;)if(d=l[o],s===d.toLowerCase())return d;return null}const Br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tb=e=>!Bl(e)&&e!==Br;function jf(){const{caseless:e,skipUndefined:s}=tb(this)&&this||{},l={},o=(d,m)=>{const f=e&&eb(l,m)||m;Wc(l[f])&&Wc(d)?l[f]=jf(l[f],d):Wc(d)?l[f]=jf({},d):Kl(d)?l[f]=d.slice():(!s||!Bl(d))&&(l[f]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&uu(arguments[d],o);return l}const Ew=(e,s,l,{allOwnKeys:o}={})=>(uu(s,(d,m)=>{l&&Ma(d)?Object.defineProperty(e,m,{value:$v(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),e),kw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tw=(e,s,l,o)=>{e.prototype=Object.create(s.prototype,o),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:s.prototype}),l&&Object.assign(e.prototype,l)},Cw=(e,s,l,o)=>{let d,m,f;const x={};if(s=s||{},e==null)return s;do{for(d=Object.getOwnPropertyNames(e),m=d.length;m-- >0;)f=d[m],(!o||o(f,e,s))&&!x[f]&&(s[f]=e[f],x[f]=!0);e=l!==!1&&Wf(e)}while(e&&(!l||l(e,s))&&e!==Object.prototype);return s},Aw=(e,s,l)=>{e=String(e),(l===void 0||l>e.length)&&(l=e.length),l-=s.length;const o=e.indexOf(s,l);return o!==-1&&o===l},Mw=e=>{if(!e)return null;if(Kl(e))return e;let s=e.length;if(!Wv(s))return null;const l=new Array(s);for(;s-- >0;)l[s]=e[s];return l},zw=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Wf(Uint8Array)),Ow=(e,s)=>{const o=(e&&e[vd]).call(e);let d;for(;(d=o.next())&&!d.done;){const m=d.value;s.call(e,m[0],m[1])}},Dw=(e,s)=>{let l;const o=[];for(;(l=e.exec(s))!==null;)o.push(l);return o},Rw=Es("HTMLFormElement"),Lw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),Iy=(({hasOwnProperty:e})=>(s,l)=>e.call(s,l))(Object.prototype),Pw=Es("RegExp"),nb=(e,s)=>{const l=Object.getOwnPropertyDescriptors(e),o={};uu(l,(d,m)=>{let f;(f=s(d,m,e))!==!1&&(o[m]=f||d)}),Object.defineProperties(e,o)},Iw=e=>{nb(e,(s,l)=>{if(Ma(e)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=e[l];if(Ma(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Bw=(e,s)=>{const l={},o=d=>{d.forEach(m=>{l[m]=!0})};return Kl(e)?o(e):o(String(e).split(s)),l},Uw=()=>{},Fw=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function Zw(e){return!!(e&&Ma(e.append)&&e[Xv]==="FormData"&&e[vd])}const qw=e=>{const s=new Array(10),l=(o,d)=>{if(ou(o)){if(s.indexOf(o)>=0)return;if(lu(o))return o;if(!("toJSON"in o)){s[d]=o;const m=Kl(o)?[]:{};return uu(o,(f,x)=>{const v=l(f,d+1);!Bl(v)&&(m[x]=v)}),s[d]=void 0,m}}return o};return l(e,0)},Hw=Es("AsyncFunction"),Kw=e=>e&&(ou(e)||Ma(e))&&Ma(e.then)&&Ma(e.catch),ab=((e,s)=>e?setImmediate:s?((l,o)=>(Br.addEventListener("message",({source:d,data:m})=>{d===Br&&m===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Br.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Ma(Br.postMessage)),Qw=typeof queueMicrotask<"u"?queueMicrotask.bind(Br):typeof process<"u"&&process.nextTick||ab,Gw=e=>e!=null&&Ma(e[vd]),ve={isArray:Kl,isArrayBuffer:Jv,isBuffer:lu,isFormData:vw,isArrayBufferView:cw,isString:dw,isNumber:Wv,isBoolean:mw,isObject:ou,isPlainObject:Wc,isEmptyObject:hw,isReadableStream:_w,isRequest:Nw,isResponse:jw,isHeaders:Sw,isUndefined:Bl,isDate:fw,isFile:pw,isBlob:gw,isRegExp:Pw,isFunction:Ma,isStream:yw,isURLSearchParams:bw,isTypedArray:zw,isFileList:xw,forEach:uu,merge:jf,extend:Ew,trim:ww,stripBOM:kw,inherits:Tw,toFlatObject:Cw,kindOf:bd,kindOfTest:Es,endsWith:Aw,toArray:Mw,forEachEntry:Ow,matchAll:Dw,isHTMLForm:Rw,hasOwnProperty:Iy,hasOwnProp:Iy,reduceDescriptors:nb,freezeMethods:Iw,toObjectSet:Bw,toCamelCase:Lw,noop:Uw,toFiniteNumber:Fw,findKey:eb,global:Br,isContextDefined:tb,isSpecCompliantForm:Zw,toJSONObject:qw,isAsyncFn:Hw,isThenable:Kw,setImmediate:ab,asap:Qw,isIterable:Gw};let st=class sb extends Error{static from(s,l,o,d,m,f){const x=new sb(s.message,l||s.code,o,d,m);return x.cause=s,x.name=s.name,f&&Object.assign(x,f),x}constructor(s,l,o,d,m){super(s),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}};st.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";st.ERR_BAD_OPTION="ERR_BAD_OPTION";st.ECONNABORTED="ECONNABORTED";st.ETIMEDOUT="ETIMEDOUT";st.ERR_NETWORK="ERR_NETWORK";st.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";st.ERR_DEPRECATED="ERR_DEPRECATED";st.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";st.ERR_BAD_REQUEST="ERR_BAD_REQUEST";st.ERR_CANCELED="ERR_CANCELED";st.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";st.ERR_INVALID_URL="ERR_INVALID_URL";const Vw=null;function Sf(e){return ve.isPlainObject(e)||ve.isArray(e)}function ib(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function By(e,s,l){return e?e.concat(s).map(function(d,m){return d=ib(d),!l&&m?"["+d+"]":d}).join(l?".":""):s}function Yw(e){return ve.isArray(e)&&!e.some(Sf)}const $w=ve.toFlatObject(ve,{},null,function(s){return/^is[A-Z]/.test(s)});function Nd(e,s,l){if(!ve.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,l=ve.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,D){return!ve.isUndefined(D[A])});const o=l.metaTokens,d=l.visitor||S,m=l.dots,f=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(s);if(!ve.isFunction(d))throw new TypeError("visitor must be a function");function _(k){if(k===null)return"";if(ve.isDate(k))return k.toISOString();if(ve.isBoolean(k))return k.toString();if(!v&&ve.isBlob(k))throw new st("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(k)||ve.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,A,D){let F=k;if(k&&!D&&typeof k=="object"){if(ve.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(ve.isArray(k)&&Yw(k)||(ve.isFileList(k)||ve.endsWith(A,"[]"))&&(F=ve.toArray(k)))return A=ib(A),F.forEach(function(R,G){!(ve.isUndefined(R)||R===null)&&s.append(f===!0?By([A],G,m):f===null?A:A+"[]",_(R))}),!1}return Sf(k)?!0:(s.append(By(D,A,m),_(k)),!1)}const w=[],T=Object.assign($w,{defaultVisitor:S,convertValue:_,isVisitable:Sf});function z(k,A){if(!ve.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(k),ve.forEach(k,function(F,B){(!(ve.isUndefined(F)||F===null)&&d.call(s,F,ve.isString(B)?B.trim():B,A,T))===!0&&z(F,A?A.concat(B):[B])}),w.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return z(e),s}function Uy(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function ep(e,s){this._pairs=[],e&&Nd(e,this,s)}const rb=ep.prototype;rb.append=function(s,l){this._pairs.push([s,l])};rb.toString=function(s){const l=s?function(o){return s.call(this,o,Uy)}:Uy;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Xw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lb(e,s,l){if(!s)return e;const o=l&&l.encode||Xw,d=ve.isFunction(l)?{serialize:l}:l,m=d&&d.serialize;let f;if(m?f=m(s,d):f=ve.isURLSearchParams(s)?s.toString():new ep(s,d).toString(o),f){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class Fy{constructor(){this.handlers=[]}use(s,l,o){return this.handlers.push({fulfilled:s,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){ve.forEach(this.handlers,function(o){o!==null&&s(o)})}}const ob={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jw=typeof URLSearchParams<"u"?URLSearchParams:ep,Ww=typeof FormData<"u"?FormData:null,e2=typeof Blob<"u"?Blob:null,t2={isBrowser:!0,classes:{URLSearchParams:Jw,FormData:Ww,Blob:e2},protocols:["http","https","file","blob","url","data"]},tp=typeof window<"u"&&typeof document<"u",wf=typeof navigator=="object"&&navigator||void 0,n2=tp&&(!wf||["ReactNative","NativeScript","NS"].indexOf(wf.product)<0),a2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s2=tp&&window.location.href||"http://localhost",i2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tp,hasStandardBrowserEnv:n2,hasStandardBrowserWebWorkerEnv:a2,navigator:wf,origin:s2},Symbol.toStringTag,{value:"Module"})),ca={...i2,...t2};function r2(e,s){return Nd(e,new ca.classes.URLSearchParams,{visitor:function(l,o,d,m){return ca.isNode&&ve.isBuffer(l)?(this.append(o,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...s})}function l2(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function o2(e){const s={},l=Object.keys(e);let o;const d=l.length;let m;for(o=0;o<d;o++)m=l[o],s[m]=e[m];return s}function ub(e){function s(l,o,d,m){let f=l[m++];if(f==="__proto__")return!0;const x=Number.isFinite(+f),v=m>=l.length;return f=!f&&ve.isArray(d)?d.length:f,v?(ve.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!x):((!d[f]||!ve.isObject(d[f]))&&(d[f]=[]),s(l,o,d[f],m)&&ve.isArray(d[f])&&(d[f]=o2(d[f])),!x)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const l={};return ve.forEachEntry(e,(o,d)=>{s(l2(o),d,l,0)}),l}return null}function u2(e,s,l){if(ve.isString(e))try{return(s||JSON.parse)(e),ve.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(e)}const cu={transitional:ob,adapter:["xhr","http","fetch"],transformRequest:[function(s,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,m=ve.isObject(s);if(m&&ve.isHTMLForm(s)&&(s=new FormData(s)),ve.isFormData(s))return d?JSON.stringify(ub(s)):s;if(ve.isArrayBuffer(s)||ve.isBuffer(s)||ve.isStream(s)||ve.isFile(s)||ve.isBlob(s)||ve.isReadableStream(s))return s;if(ve.isArrayBufferView(s))return s.buffer;if(ve.isURLSearchParams(s))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let x;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return r2(s,this.formSerializer).toString();if((x=ve.isFileList(s))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Nd(x?{"files[]":s}:s,v&&new v,this.formSerializer)}}return m||d?(l.setContentType("application/json",!1),u2(s)):s}],transformResponse:[function(s){const l=this.transitional||cu.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(ve.isResponse(s)||ve.isReadableStream(s))return s;if(s&&ve.isString(s)&&(o&&!this.responseType||d)){const f=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(s,this.parseReviver)}catch(x){if(f)throw x.name==="SyntaxError"?st.from(x,st.ERR_BAD_RESPONSE,this,null,this.response):x}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ca.classes.FormData,Blob:ca.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{cu.headers[e]={}});const c2=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d2=e=>{const s={};let l,o,d;return e&&e.split(`
`).forEach(function(f){d=f.indexOf(":"),l=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!l||s[l]&&c2[l])&&(l==="set-cookie"?s[l]?s[l].push(o):s[l]=[o]:s[l]=s[l]?s[l]+", "+o:o)}),s},Zy=Symbol("internals");function Vo(e){return e&&String(e).trim().toLowerCase()}function ed(e){return e===!1||e==null?e:ve.isArray(e)?e.map(ed):String(e)}function m2(e){const s=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(e);)s[o[1]]=o[2];return s}const h2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ch(e,s,l,o,d){if(ve.isFunction(o))return o.call(this,s,l);if(d&&(s=l),!!ve.isString(s)){if(ve.isString(o))return s.indexOf(o)!==-1;if(ve.isRegExp(o))return o.test(s)}}function f2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,l,o)=>l.toUpperCase()+o)}function p2(e,s){const l=ve.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+l,{value:function(d,m,f){return this[o].call(this,s,d,m,f)},configurable:!0})})}let za=class{constructor(s){s&&this.set(s)}set(s,l,o){const d=this;function m(x,v,_){const S=Vo(v);if(!S)throw new Error("header name must be a non-empty string");const w=ve.findKey(d,S);(!w||d[w]===void 0||_===!0||_===void 0&&d[w]!==!1)&&(d[w||v]=ed(x))}const f=(x,v)=>ve.forEach(x,(_,S)=>m(_,S,v));if(ve.isPlainObject(s)||s instanceof this.constructor)f(s,l);else if(ve.isString(s)&&(s=s.trim())&&!h2(s))f(d2(s),l);else if(ve.isObject(s)&&ve.isIterable(s)){let x={},v,_;for(const S of s){if(!ve.isArray(S))throw TypeError("Object iterator must return a key-value pair");x[_=S[0]]=(v=x[_])?ve.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}f(x,l)}else s!=null&&m(l,s,o);return this}get(s,l){if(s=Vo(s),s){const o=ve.findKey(this,s);if(o){const d=this[o];if(!l)return d;if(l===!0)return m2(d);if(ve.isFunction(l))return l.call(this,d,o);if(ve.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,l){if(s=Vo(s),s){const o=ve.findKey(this,s);return!!(o&&this[o]!==void 0&&(!l||Ch(this,this[o],o,l)))}return!1}delete(s,l){const o=this;let d=!1;function m(f){if(f=Vo(f),f){const x=ve.findKey(o,f);x&&(!l||Ch(o,o[x],x,l))&&(delete o[x],d=!0)}}return ve.isArray(s)?s.forEach(m):m(s),d}clear(s){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const m=l[o];(!s||Ch(this,this[m],m,s,!0))&&(delete this[m],d=!0)}return d}normalize(s){const l=this,o={};return ve.forEach(this,(d,m)=>{const f=ve.findKey(o,m);if(f){l[f]=ed(d),delete l[m];return}const x=s?f2(m):String(m).trim();x!==m&&delete l[m],l[x]=ed(d),o[x]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const l=Object.create(null);return ve.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=s&&ve.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,l])=>s+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...l){const o=new this(s);return l.forEach(d=>o.set(d)),o}static accessor(s){const o=(this[Zy]=this[Zy]={accessors:{}}).accessors,d=this.prototype;function m(f){const x=Vo(f);o[x]||(p2(d,f),o[x]=!0)}return ve.isArray(s)?s.forEach(m):m(s),this}};za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(za.prototype,({value:e},s)=>{let l=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(o){this[l]=o}}});ve.freezeMethods(za);function Ah(e,s){const l=this||cu,o=s||l,d=za.from(o.headers);let m=o.data;return ve.forEach(e,function(x){m=x.call(l,m,d.normalize(),s?s.status:void 0)}),d.normalize(),m}function cb(e){return!!(e&&e.__CANCEL__)}let du=class extends st{constructor(s,l,o){super(s??"canceled",st.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function db(e,s,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?e(l):s(new st("Request failed with status code "+l.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function g2(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function x2(e,s){e=e||10;const l=new Array(e),o=new Array(e);let d=0,m=0,f;return s=s!==void 0?s:1e3,function(v){const _=Date.now(),S=o[m];f||(f=_),l[d]=v,o[d]=_;let w=m,T=0;for(;w!==d;)T+=l[w++],w=w%e;if(d=(d+1)%e,d===m&&(m=(m+1)%e),_-f<s)return;const z=S&&_-S;return z?Math.round(T*1e3/z):void 0}}function y2(e,s){let l=0,o=1e3/s,d,m;const f=(_,S=Date.now())=>{l=S,d=null,m&&(clearTimeout(m),m=null),e(..._)};return[(..._)=>{const S=Date.now(),w=S-l;w>=o?f(_,S):(d=_,m||(m=setTimeout(()=>{m=null,f(d)},o-w)))},()=>d&&f(d)]}const rd=(e,s,l=3)=>{let o=0;const d=x2(50,250);return y2(m=>{const f=m.loaded,x=m.lengthComputable?m.total:void 0,v=f-o,_=d(v),S=f<=x;o=f;const w={loaded:f,total:x,progress:x?f/x:void 0,bytes:v,rate:_||void 0,estimated:_&&x&&S?(x-f)/_:void 0,event:m,lengthComputable:x!=null,[s?"download":"upload"]:!0};e(w)},l)},qy=(e,s)=>{const l=e!=null;return[o=>s[0]({lengthComputable:l,total:e,loaded:o}),s[1]]},Hy=e=>(...s)=>ve.asap(()=>e(...s)),v2=ca.hasStandardBrowserEnv?((e,s)=>l=>(l=new URL(l,ca.origin),e.protocol===l.protocol&&e.host===l.host&&(s||e.port===l.port)))(new URL(ca.origin),ca.navigator&&/(msie|trident)/i.test(ca.navigator.userAgent)):()=>!0,b2=ca.hasStandardBrowserEnv?{write(e,s,l,o,d,m,f){if(typeof document>"u")return;const x=[`${e}=${encodeURIComponent(s)}`];ve.isNumber(l)&&x.push(`expires=${new Date(l).toUTCString()}`),ve.isString(o)&&x.push(`path=${o}`),ve.isString(d)&&x.push(`domain=${d}`),m===!0&&x.push("secure"),ve.isString(f)&&x.push(`SameSite=${f}`),document.cookie=x.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function N2(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function mb(e,s,l){let o=!_2(s);return e&&(o||l==!1)?N2(e,s):s}const Ky=e=>e instanceof za?{...e}:e;function qr(e,s){s=s||{};const l={};function o(_,S,w,T){return ve.isPlainObject(_)&&ve.isPlainObject(S)?ve.merge.call({caseless:T},_,S):ve.isPlainObject(S)?ve.merge({},S):ve.isArray(S)?S.slice():S}function d(_,S,w,T){if(ve.isUndefined(S)){if(!ve.isUndefined(_))return o(void 0,_,w,T)}else return o(_,S,w,T)}function m(_,S){if(!ve.isUndefined(S))return o(void 0,S)}function f(_,S){if(ve.isUndefined(S)){if(!ve.isUndefined(_))return o(void 0,_)}else return o(void 0,S)}function x(_,S,w){if(w in s)return o(_,S);if(w in e)return o(void 0,_)}const v={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:x,headers:(_,S,w)=>d(Ky(_),Ky(S),w,!0)};return ve.forEach(Object.keys({...e,...s}),function(S){const w=v[S]||d,T=w(e[S],s[S],S);ve.isUndefined(T)&&w!==x||(l[S]=T)}),l}const hb=e=>{const s=qr({},e);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:f,auth:x}=s;if(s.headers=f=za.from(f),s.url=lb(mb(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&f.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),ve.isFormData(l)){if(ca.hasStandardBrowserEnv||ca.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(ve.isFunction(l.getHeaders)){const v=l.getHeaders(),_=["content-type","content-length"];Object.entries(v).forEach(([S,w])=>{_.includes(S.toLowerCase())&&f.set(S,w)})}}if(ca.hasStandardBrowserEnv&&(o&&ve.isFunction(o)&&(o=o(s)),o||o!==!1&&v2(s.url))){const v=d&&m&&b2.read(m);v&&f.set(d,v)}return s},j2=typeof XMLHttpRequest<"u",S2=j2&&function(e){return new Promise(function(l,o){const d=hb(e);let m=d.data;const f=za.from(d.headers).normalize();let{responseType:x,onUploadProgress:v,onDownloadProgress:_}=d,S,w,T,z,k;function A(){z&&z(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let D=new XMLHttpRequest;D.open(d.method.toUpperCase(),d.url,!0),D.timeout=d.timeout;function F(){if(!D)return;const R=za.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),Y={data:!x||x==="text"||x==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:R,config:e,request:D};db(function(q){l(q),A()},function(q){o(q),A()},Y),D=null}"onloadend"in D?D.onloadend=F:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(F)},D.onabort=function(){D&&(o(new st("Request aborted",st.ECONNABORTED,e,D)),D=null)},D.onerror=function(G){const Y=G&&G.message?G.message:"Network Error",ee=new st(Y,st.ERR_NETWORK,e,D);ee.event=G||null,o(ee),D=null},D.ontimeout=function(){let G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Y=d.transitional||ob;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),o(new st(G,Y.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,D)),D=null},m===void 0&&f.setContentType(null),"setRequestHeader"in D&&ve.forEach(f.toJSON(),function(G,Y){D.setRequestHeader(Y,G)}),ve.isUndefined(d.withCredentials)||(D.withCredentials=!!d.withCredentials),x&&x!=="json"&&(D.responseType=d.responseType),_&&([T,k]=rd(_,!0),D.addEventListener("progress",T)),v&&D.upload&&([w,z]=rd(v),D.upload.addEventListener("progress",w),D.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(S=R=>{D&&(o(!R||R.type?new du(null,e,D):R),D.abort(),D=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const B=g2(d.url);if(B&&ca.protocols.indexOf(B)===-1){o(new st("Unsupported protocol "+B+":",st.ERR_BAD_REQUEST,e));return}D.send(m||null)})},w2=(e,s)=>{const{length:l}=e=e?e.filter(Boolean):[];if(s||l){let o=new AbortController,d;const m=function(_){if(!d){d=!0,x();const S=_ instanceof Error?_:this.reason;o.abort(S instanceof st?S:new du(S instanceof Error?S.message:S))}};let f=s&&setTimeout(()=>{f=null,m(new st(`timeout of ${s}ms exceeded`,st.ETIMEDOUT))},s);const x=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(_=>{_.unsubscribe?_.unsubscribe(m):_.removeEventListener("abort",m)}),e=null)};e.forEach(_=>_.addEventListener("abort",m));const{signal:v}=o;return v.unsubscribe=()=>ve.asap(x),v}},E2=function*(e,s){let l=e.byteLength;if(l<s){yield e;return}let o=0,d;for(;o<l;)d=o+s,yield e.slice(o,d),o=d},k2=async function*(e,s){for await(const l of T2(e))yield*E2(l,s)},T2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:l,value:o}=await s.read();if(l)break;yield o}}finally{await s.cancel()}},Qy=(e,s,l,o)=>{const d=k2(e,s);let m=0,f,x=v=>{f||(f=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:_,value:S}=await d.next();if(_){x(),v.close();return}let w=S.byteLength;if(l){let T=m+=w;l(T)}v.enqueue(new Uint8Array(S))}catch(_){throw x(_),_}},cancel(v){return x(v),d.return()}},{highWaterMark:2})},Gy=64*1024,{isFunction:Rc}=ve,C2=(({Request:e,Response:s})=>({Request:e,Response:s}))(ve.global),{ReadableStream:Vy,TextEncoder:Yy}=ve.global,$y=(e,...s)=>{try{return!!e(...s)}catch{return!1}},A2=e=>{e=ve.merge.call({skipUndefined:!0},C2,e);const{fetch:s,Request:l,Response:o}=e,d=s?Rc(s):typeof fetch=="function",m=Rc(l),f=Rc(o);if(!d)return!1;const x=d&&Rc(Vy),v=d&&(typeof Yy=="function"?(k=>A=>k.encode(A))(new Yy):async k=>new Uint8Array(await new l(k).arrayBuffer())),_=m&&x&&$y(()=>{let k=!1;const A=new l(ca.origin,{body:new Vy,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),S=f&&x&&$y(()=>ve.isReadableStream(new o("").body)),w={stream:S&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(A,D)=>{let F=A&&A[k];if(F)return F.call(A);throw new st(`Response type '${k}' is not supported`,st.ERR_NOT_SUPPORT,D)})});const T=async k=>{if(k==null)return 0;if(ve.isBlob(k))return k.size;if(ve.isSpecCompliantForm(k))return(await new l(ca.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(k)||ve.isArrayBuffer(k))return k.byteLength;if(ve.isURLSearchParams(k)&&(k=k+""),ve.isString(k))return(await v(k)).byteLength},z=async(k,A)=>{const D=ve.toFiniteNumber(k.getContentLength());return D??T(A)};return async k=>{let{url:A,method:D,data:F,signal:B,cancelToken:R,timeout:G,onDownloadProgress:Y,onUploadProgress:ee,responseType:q,headers:$,withCredentials:J="same-origin",fetchOptions:he}=hb(k),xe=s||fetch;q=q?(q+"").toLowerCase():"text";let ce=w2([B,R&&R.toAbortSignal()],G),_e=null;const re=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let oe;try{if(ee&&_&&D!=="get"&&D!=="head"&&(oe=await z($,F))!==0){let M=new l(A,{method:"POST",body:F,duplex:"half"}),te;if(ve.isFormData(F)&&(te=M.headers.get("content-type"))&&$.setContentType(te),M.body){const[I,ue]=qy(oe,rd(Hy(ee)));F=Qy(M.body,Gy,I,ue)}}ve.isString(J)||(J=J?"include":"omit");const H=m&&"credentials"in l.prototype,Q={...he,signal:ce,method:D.toUpperCase(),headers:$.normalize().toJSON(),body:F,duplex:"half",credentials:H?J:void 0};_e=m&&new l(A,Q);let se=await(m?xe(_e,he):xe(A,Q));const Se=S&&(q==="stream"||q==="response");if(S&&(Y||Se&&re)){const M={};["status","statusText","headers"].forEach(de=>{M[de]=se[de]});const te=ve.toFiniteNumber(se.headers.get("content-length")),[I,ue]=Y&&qy(te,rd(Hy(Y),!0))||[];se=new o(Qy(se.body,Gy,I,()=>{ue&&ue(),re&&re()}),M)}q=q||"text";let X=await w[ve.findKey(w,q)||"text"](se,k);return!Se&&re&&re(),await new Promise((M,te)=>{db(M,te,{data:X,headers:za.from(se.headers),status:se.status,statusText:se.statusText,config:k,request:_e})})}catch(H){throw re&&re(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,k,_e),{cause:H.cause||H}):st.from(H,H&&H.code,k,_e)}}},M2=new Map,fb=e=>{let s=e&&e.env||{};const{fetch:l,Request:o,Response:d}=s,m=[o,d,l];let f=m.length,x=f,v,_,S=M2;for(;x--;)v=m[x],_=S.get(v),_===void 0&&S.set(v,_=x?new Map:A2(s)),S=_;return _};fb();const np={http:Vw,xhr:S2,fetch:{get:fb}};ve.forEach(np,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Xy=e=>`- ${e}`,z2=e=>ve.isFunction(e)||e===null||e===!1;function O2(e,s){e=ve.isArray(e)?e:[e];const{length:l}=e;let o,d;const m={};for(let f=0;f<l;f++){o=e[f];let x;if(d=o,!z2(o)&&(d=np[(x=String(o)).toLowerCase()],d===void 0))throw new st(`Unknown adapter '${x}'`);if(d&&(ve.isFunction(d)||(d=d.get(s))))break;m[x||"#"+f]=d}if(!d){const f=Object.entries(m).map(([v,_])=>`adapter ${v} `+(_===!1?"is not supported by the environment":"is not available in the build"));let x=l?f.length>1?`since :
`+f.map(Xy).join(`
`):" "+Xy(f[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d}const pb={getAdapter:O2,adapters:np};function Mh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new du(null,e)}function Jy(e){return Mh(e),e.headers=za.from(e.headers),e.data=Ah.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pb.getAdapter(e.adapter||cu.adapter,e)(e).then(function(o){return Mh(e),o.data=Ah.call(e,e.transformResponse,o),o.headers=za.from(o.headers),o},function(o){return cb(o)||(Mh(e),o&&o.response&&(o.response.data=Ah.call(e,e.transformResponse,o.response),o.response.headers=za.from(o.response.headers))),Promise.reject(o)})}const gb="1.13.4",jd={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{jd[e]=function(o){return typeof o===e||"a"+(s<1?"n ":" ")+e}});const Wy={};jd.transitional=function(s,l,o){function d(m,f){return"[Axios v"+gb+"] Transitional option '"+m+"'"+f+(o?". "+o:"")}return(m,f,x)=>{if(s===!1)throw new st(d(f," has been removed"+(l?" in "+l:"")),st.ERR_DEPRECATED);return l&&!Wy[f]&&(Wy[f]=!0,console.warn(d(f," has been deprecated since v"+l+" and will be removed in the near future"))),s?s(m,f,x):!0}};jd.spelling=function(s){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function D2(e,s,l){if(typeof e!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let d=o.length;for(;d-- >0;){const m=o[d],f=s[m];if(f){const x=e[m],v=x===void 0||f(x,m,e);if(v!==!0)throw new st("option "+m+" must be "+v,st.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new st("Unknown option "+m,st.ERR_BAD_OPTION)}}const td={assertOptions:D2,validators:jd},qs=td.validators;let Ur=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Fy,response:new Fy}}async request(s,l){try{return await this._request(s,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(s,l){typeof s=="string"?(l=l||{},l.url=s):l=s||{},l=qr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:m}=l;o!==void 0&&td.assertOptions(o,{silentJSONParsing:qs.transitional(qs.boolean),forcedJSONParsing:qs.transitional(qs.boolean),clarifyTimeoutError:qs.transitional(qs.boolean)},!1),d!=null&&(ve.isFunction(d)?l.paramsSerializer={serialize:d}:td.assertOptions(d,{encode:qs.function,serialize:qs.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),td.assertOptions(l,{baseUrl:qs.spelling("baseURL"),withXsrfToken:qs.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let f=m&&ve.merge(m.common,m[l.method]);m&&ve.forEach(["delete","get","head","post","put","patch","common"],k=>{delete m[k]}),l.headers=za.concat(f,m);const x=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(v=v&&A.synchronous,x.unshift(A.fulfilled,A.rejected))});const _=[];this.interceptors.response.forEach(function(A){_.push(A.fulfilled,A.rejected)});let S,w=0,T;if(!v){const k=[Jy.bind(this),void 0];for(k.unshift(...x),k.push(..._),T=k.length,S=Promise.resolve(l);w<T;)S=S.then(k[w++],k[w++]);return S}T=x.length;let z=l;for(;w<T;){const k=x[w++],A=x[w++];try{z=k(z)}catch(D){A.call(this,D);break}}try{S=Jy.call(this,z)}catch(k){return Promise.reject(k)}for(w=0,T=_.length;w<T;)S=S.then(_[w++],_[w++]);return S}getUri(s){s=qr(this.defaults,s);const l=mb(s.baseURL,s.url,s.allowAbsoluteUrls);return lb(l,s.params,s.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(s){Ur.prototype[s]=function(l,o){return this.request(qr(o||{},{method:s,url:l,data:(o||{}).data}))}});ve.forEach(["post","put","patch"],function(s){function l(o){return function(m,f,x){return this.request(qr(x||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}Ur.prototype[s]=l(),Ur.prototype[s+"Form"]=l(!0)});let R2=class xb{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const f=new Promise(x=>{o.subscribe(x),m=x}).then(d);return f.cancel=function(){o.unsubscribe(m)},f},s(function(m,f,x){o.reason||(o.reason=new du(m,f,x),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const s=new AbortController,l=o=>{s.abort(o)};return this.subscribe(l),s.signal.unsubscribe=()=>this.unsubscribe(l),s.signal}static source(){let s;return{token:new xb(function(d){s=d}),cancel:s}}};function L2(e){return function(l){return e.apply(null,l)}}function P2(e){return ve.isObject(e)&&e.isAxiosError===!0}const Ef={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ef).forEach(([e,s])=>{Ef[s]=e});function yb(e){const s=new Ur(e),l=$v(Ur.prototype.request,s);return ve.extend(l,Ur.prototype,s,{allOwnKeys:!0}),ve.extend(l,s,null,{allOwnKeys:!0}),l.create=function(d){return yb(qr(e,d))},l}const sn=yb(cu);sn.Axios=Ur;sn.CanceledError=du;sn.CancelToken=R2;sn.isCancel=cb;sn.VERSION=gb;sn.toFormData=Nd;sn.AxiosError=st;sn.Cancel=sn.CanceledError;sn.all=function(s){return Promise.all(s)};sn.spread=L2;sn.isAxiosError=P2;sn.mergeConfig=qr;sn.AxiosHeaders=za;sn.formToJSON=e=>ub(ve.isHTMLForm(e)?new FormData(e):e);sn.getAdapter=pb.getAdapter;sn.HttpStatusCode=Ef;sn.default=sn;const{Axios:Cz,AxiosError:Az,CanceledError:Mz,isCancel:zz,CancelToken:Oz,VERSION:Dz,all:Rz,Cancel:Lz,isAxiosError:Pz,spread:Iz,toFormData:Bz,AxiosHeaders:Uz,HttpStatusCode:Fz,formToJSON:Zz,getAdapter:qz,mergeConfig:Hz}=sn,ap="puantaj_access_token",ld="puantaj_refresh_token";function vb(){return localStorage.getItem(ap)}function kf(){return localStorage.getItem(ld)}function Tf(e,s){if(localStorage.setItem(ap,e),s){localStorage.setItem(ld,s);return}localStorage.removeItem(ld)}function bb(){localStorage.removeItem(ap),localStorage.removeItem(ld)}function I2(e){try{const s=e.split(".")[1];if(!s)return null;const l=s.replace(/-/g,"+").replace(/_/g,"/"),o=l.padEnd(l.length+(4-l.length%4)%4,"=");return JSON.parse(atob(o))}catch{return null}}function B2(e){if(!e)return!1;const s=I2(e);if(!s?.exp)return!1;const l=Math.floor(Date.now()/1e3);return s.exp>l+10}const Cf="http://127.0.0.1:8000",U2=Cf.includes("127.0.0.1")||Cf.includes("localhost"),F2=typeof window<"u"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!=="localhost",sp=F2&&U2?window.location.origin:Cf,zh="/admin-panel/",Lc=zh.endsWith("/")?zh.slice(0,-1):zh,Oe=sn.create({baseURL:sp,headers:{"Content-Type":"application/json"}}),mu=sn.create({baseURL:sp,headers:{"Content-Type":"application/json"}});function e0(){if(bb(),typeof window>"u")return;const e=`${window.location.pathname}${window.location.search}`,s=Lc&&e.startsWith(Lc)?e.slice(Lc.length)||"/":e;if(s==="/login"||s.startsWith("/login?")){window.dispatchEvent(new Event("auth:logout"));return}const l=`${Lc}/login?redirect=${encodeURIComponent(s)}`;window.location.replace(l)}Oe.interceptors.request.use(e=>{const s=vb();return s&&(e.headers.Authorization=`Bearer ${s}`),e});let Pc=null;async function Z2(){const e=kf();if(!e)return e0(),null;try{const s=await sn.post(`${sp}/api/admin/auth/refresh`,{refresh_token:e});return Tf(s.data.access_token,s.data.refresh_token??e),s.data.access_token}catch{return e0(),null}}Oe.interceptors.response.use(e=>e,async e=>{const s=e.config;if(!s||e.response?.status!==401||s._retry)return Promise.reject(e);const o=s.url??"";if(o.includes("/api/admin/auth/login")||o.includes("/api/admin/auth/refresh")||o.includes("/api/admin/auth/logout"))return Promise.reject(e);s._retry=!0,Pc||(Pc=Z2().finally(()=>{Pc=null}));const m=await Pc;return m?(s.headers.Authorization=`Bearer ${m}`,Oe(s)):Promise.reject(e)});async function q2(e){return(await Oe.post("/api/admin/auth/login",e)).data}async function H2(e){return(await Oe.post("/api/admin/auth/refresh",e)).data}async function K2(e){return(await Oe.post("/api/admin/auth/logout",e)).data}async function Oh(){return(await Oe.get("/api/admin/auth/me")).data}async function _b(){return(await Oe.get("/api/admin/admin-users")).data}async function Q2(e){return(await Oe.get(`/api/admin/admin-users/${e}/claim-detail`)).data}async function G2(e,s,l){return(await Oe.patch(`/api/admin/admin-users/${e}/claims/${s}/active`,l)).data}async function hu(e){return(await Oe.get("/api/admin/regions",{params:e})).data}async function V2(e){return(await Oe.post("/api/admin/regions",e)).data}async function Y2(e,s){return(await Oe.patch(`/api/admin/regions/${e}`,s)).data}async function $2(e){return(await Oe.post("/api/admin/admin-users",e)).data}async function X2(e,s){return(await Oe.patch(`/api/admin/admin-users/${e}`,s)).data}async function J2(e){await Oe.delete(`/api/admin/admin-users/${e}`)}async function W2(e){return(await Oe.get(`/api/admin/admin-users/${e}/mfa`)).data}async function eE(e){return(await Oe.post(`/api/admin/admin-users/${e}/mfa/setup/start`)).data}async function tE(e,s){return(await Oe.post(`/api/admin/admin-users/${e}/mfa/setup/confirm`,s)).data}async function nE(e,s){return(await Oe.post(`/api/admin/admin-users/${e}/mfa/recovery-codes/regenerate`,s)).data}async function aE(e,s){return(await Oe.post(`/api/admin/admin-users/${e}/mfa/reset`,s)).data}async function tr(){return(await Oe.get("/admin/departments")).data}async function sE(e){return(await Oe.get("/admin/departments",{params:e})).data}async function iE(e){return(await Oe.post("/admin/departments",e)).data}async function rE(e,s){return(await Oe.patch(`/admin/departments/${e}`,s)).data}async function ks(e={}){return(await Oe.get("/admin/employees",{params:e})).data}async function lE(e){return(await Oe.post("/admin/employees",e)).data}async function oE(e){return(await Oe.get(`/api/admin/employees/${e}/detail`)).data}async function uE(e,s){return(await Oe.patch(`/api/admin/employees/${e}`,s)).data}async function Nb(e,s){return(await Oe.patch(`/api/admin/employees/${e}/active`,s)).data}async function cE(e,s){return(await Oe.patch(`/api/admin/employees/${e}/shift`,s)).data}async function dE(e,s){return(await Oe.patch(`/api/admin/employees/${e}/department`,s)).data}async function mE(e,s){return(await Oe.put(`/admin/employee-locations/${e}`,s)).data}async function hE(){return(await Oe.get("/admin/work-rules")).data}async function fE(e){return(await Oe.post("/admin/work-rules",e)).data}async function jb(e){return(await Oe.get("/admin/department-weekly-rules",{params:e})).data}async function Sb(e){return(await Oe.post("/admin/department-weekly-rules",e)).data}async function fu(e){return(await Oe.get("/admin/department-shifts",{params:e})).data}async function od(e){return(await Oe.post("/admin/department-shifts",e)).data}async function wb(e){return(await Oe.delete(`/admin/department-shifts/${e}`)).data}async function pE(e={}){return(await Oe.get("/api/admin/qr/codes",{params:e})).data}async function gE(e){return(await Oe.post("/api/admin/qr/codes",e)).data}async function xE(e,s){return(await Oe.patch(`/api/admin/qr/codes/${e}`,s)).data}async function yE(e,s){return(await Oe.post(`/api/admin/qr/codes/${e}/points`,s)).data}async function vE(e,s){return(await Oe.delete(`/api/admin/qr/codes/${e}/points/${s}`)).data}async function bE(e={}){return(await Oe.get("/api/admin/qr/points",{params:e})).data}async function _E(e){return(await Oe.post("/api/admin/qr/points",e)).data}async function NE(e,s){return(await Oe.patch(`/api/admin/qr/points/${e}`,s)).data}async function jE(e){return(await Oe.delete(`/api/admin/qr/points/${e}`)).data}async function t0(e){return(await Oe.post("/api/admin/schedule-plans",e)).data}async function SE(e={}){return(await Oe.get("/api/admin/schedule-plans",{params:e})).data}async function wE(e){return(await Oe.delete(`/api/admin/schedule-plans/${e}`)).data}async function ip(e={}){return(await Oe.get("/admin/attendance-events",{params:e})).data}async function EE(e){return(await Oe.post("/api/admin/attendance-events",e)).data}async function kE(e,s){return(await Oe.patch(`/api/admin/attendance-events/${e}`,s)).data}async function TE(e,s=!1){return(await Oe.delete(`/api/admin/attendance-events/${e}`,{params:{force:s}})).data}async function Eb(e={}){return(await Oe.get("/api/admin/audit-logs",{params:e})).data}async function CE(e={}){return(await Oe.get("/api/admin/notifications/jobs",{params:e})).data}async function AE(e={}){return(await Oe.get("/api/admin/notifications/delivery-logs",{params:e})).data}async function ME(e){return(await Oe.post(`/api/admin/notifications/jobs/${e}/cancel`)).data}async function zE(e={}){return(await Oe.get("/api/admin/notifications/subscriptions",{params:e})).data}async function OE(e={}){return(await Oe.get("/api/admin/notifications/admin-subscriptions",{params:e})).data}async function Af(){return(await Oe.get("/api/admin/notifications/push/config")).data}async function DE(){return(await mu.get("/api/admin/notifications/push/config/public")).data}async function RE(){return(await Oe.get("/api/admin/notifications/daily-report-health")).data}async function LE(){return(await Oe.get("/api/admin/notifications/email-targets")).data}async function PE(e){return(await Oe.put("/api/admin/notifications/email-targets",e)).data}async function IE(e={}){return(await Oe.post("/api/admin/notifications/email-test",e)).data}async function BE(){return(await Oe.get("/api/admin/notifications/admin-self-check")).data}async function UE(){return(await Oe.post("/api/admin/notifications/admin-self-test")).data}async function FE(e){return(await Oe.post("/api/admin/notifications/admin-device-invite",e)).data}async function ZE(e){return(await mu.post("/api/admin/notifications/admin-device-claim/public",e)).data}async function kb(e){return(await Oe.post("/api/admin/notifications/admin-device-heal",e)).data}async function Tb(e){return(await Oe.post("/api/admin/notifications/send",e)).data}async function qE(e={}){return(await Oe.get("/api/admin/daily-report-archives",{params:e})).data}function HE(e){if(!e)return null;const s=e.match(/filename\*=UTF-8''([^;]+)/i);if(s?.[1])try{return decodeURIComponent(s[1].trim())}catch{return s[1].trim()}const l=e.match(/filename="?([^";]+)"?/i);return l?.[1]?l[1].trim():null}async function KE(e){return(await Oe.get(`/api/admin/daily-report-archives/${e}/download`,{responseType:"blob"})).data}async function QE(e,s){const l=await mu.post(`/api/admin/daily-report-archives/${e}/password-download`,s,{responseType:"blob"}),o=l.headers["content-disposition"];return{blob:l.data,file_name:HE(o)}}async function GE(e){return(await mu.get("/api/admin/attendance-extra-checkin-approval",{params:{token:e}})).data}async function VE(e){return(await mu.post("/api/admin/attendance-extra-checkin-approval/approve",e)).data}async function YE(e,s={}){return(await Oe.post(`/api/admin/daily-report-archives/${e}/notify`,s)).data}async function Cb(){return(await Oe.get("/admin/devices")).data}async function Mf(e={}){return(await Oe.get("/api/admin/employee-device-overview",{params:e})).data}async function Ab(e){return(await Oe.get("/api/admin/dashboard/employee-snapshot",{params:e})).data}async function $E(e,s){return(await Oe.patch(`/api/admin/devices/${e}/active`,s)).data}async function Mb(e={}){return(await Oe.get("/api/admin/leaves",{params:e})).data}async function XE(e){return(await Oe.post("/api/admin/leaves",e)).data}async function JE(e){await Oe.delete(`/api/admin/leaves/${e}`)}async function zb(e){return(await Oe.post("/api/admin/device-invite",e)).data}async function nu(e){return(await Oe.get("/api/admin/monthly/employee",{params:e})).data}async function WE(e){return(await Oe.get("/api/admin/monthly/department-summary",{params:e})).data}async function e1(e,s){return(await Oe.post("/api/admin/manual-overrides/day",s,{params:{employee_id:e}})).data}async function t1(e,s,l){return(await Oe.get("/api/admin/manual-overrides/day",{params:{employee_id:e,year:s,month:l}})).data}async function n1(e){await Oe.delete(`/api/admin/manual-overrides/day/${e}`)}async function a1(){return(await Oe.get("/api/admin/compliance-settings")).data}async function s1(e){return(await Oe.put("/api/admin/compliance-settings",e)).data}async function i1(e){return(await Oe.get("/api/admin/exports/puantaj.xlsx",{params:e,responseType:"blob"})).data}async function r1(e){return(await Oe.get("/api/admin/export/employee-monthly",{params:e,responseType:"blob"})).data}async function l1(e){return(await Oe.get("/api/admin/export/department-monthly",{params:e,responseType:"blob"})).data}async function o1(e){return(await Oe.get("/api/admin/export/all-monthly",{params:e,responseType:"blob"})).data}async function u1(e){return(await Oe.get("/api/admin/export/puantaj-range.xlsx",{params:e,responseType:"blob"})).data}const us={signatureText:"YABUJIN",signatureTagline:"Rainwater Systems",buildVersion:"dev"},Ob=b.createContext(void 0);function c1({children:e}){const[s,l]=b.useState(null),[o,d]=b.useState(!0),m=b.useCallback(()=>{bb(),l(null)},[]),f=b.useCallback(async()=>{const w=kf();if(!w)return m(),!1;try{const T=await H2({refresh_token:w});Tf(T.access_token,T.refresh_token??w);const z=await Oh();return l(z),!0}catch{return m(),!1}},[m]),x=b.useCallback(async()=>{const w=vb();if(!w){l(null),d(!1);return}if(B2(w)){try{const T=await Oh();l(T)}catch{await f()}finally{d(!1)}return}await f(),d(!1)},[f]);b.useEffect(()=>{x()},[x]),b.useEffect(()=>{const w=()=>{l(null)};return window.addEventListener("auth:logout",w),()=>{window.removeEventListener("auth:logout",w)}},[]);const v=b.useCallback(async(w,T,z,k)=>{const A=await q2({username:w,password:T,mfa_code:z?.trim()||void 0,mfa_recovery_code:k?.trim()||void 0});Tf(A.access_token,A.refresh_token);const D=await Oh();l(D)},[]),_=b.useCallback(async()=>{const w=kf();if(w)try{await K2({refresh_token:w})}catch{}m()},[m]),S=b.useMemo(()=>({user:s,isAuthenticated:!!s,isBootstrapping:o,isSuperAdmin:!!s?.is_super_admin,login:v,logout:_,refreshSession:f,hasPermission:(w,T="read")=>{if(!s)return!1;if(s.is_super_admin)return!0;const z=s.permissions?.[w];return z?T==="write"?!!z.write:!!(z.read||z.write):!1}}),[s,o,v,_,f]);return n.jsx(Ob.Provider,{value:S,children:e})}function Ql(){const e=b.useContext(Ob);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function rp(e){const s="=".repeat((4-e.length%4)%4),l=`${e}${s}`.replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),d=new Uint8Array(o.length);for(let m=0;m<o.length;m+=1)d[m]=o.charCodeAt(m);return d}const d1=[{to:"/management-console",label:"Ynetim Konsolu"},{to:"/dashboard",label:"Genel Bak"},{to:"/regions",label:"Blgeler",permission:"regions"},{to:"/departments",label:"Departmanlar",permission:"departments"},{to:"/employees",label:"alanlar",permission:"employees"},{to:"/quick-setup",label:"Hzl Ayarlar",permission:"schedule"},{to:"/work-rules",label:"Mesai Kurallar",permission:"work_rules"},{to:"/attendance-events",label:"Yoklama Kaytlar",permission:"attendance_events"},{to:"/devices",label:"Cihazlar",permission:"devices"},{to:"/compliance-settings",label:"Uyumluluk Ayarlar",permission:"compliance"},{to:"/qr-kodlar",label:"QR Kodlar"},{to:"/leaves",label:"zinler",permission:"leaves"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",permission:"reports"},{to:"/reports/department-summary",label:"Departman zeti",permission:"reports"},{to:"/reports/excel-export",label:"Excel Da Aktar",permission:"reports"},{to:"/notifications",label:"Bildirimler",permission:"audit"},{to:"/audit-logs",label:"Sistem Loglar",permission:"audit"},{to:"/admin-users",label:"Admin Kullanclar",permission:"admin_users"}],m1={"/management-console":"Ynetim Konsolu","/dashboard":"Genel Bak","/regions":"Blgeler","/departments":"Departmanlar","/employees":"alanlar","/quick-setup":"Hzl Ayarlar","/work-rules":"Mesai Kurallar","/attendance-events":"Yoklama Kaytlar","/devices":"Cihazlar","/compliance-settings":"Uyumluluk Ayarlar","/qr-kodlar":"QR Kodlar","/leaves":"zinler","/reports/employee-monthly":"Aylk alan Raporu","/reports/department-summary":"Departman zeti","/reports/excel-export":"Excel Da Aktar","/notifications":"Bildirimler","/audit-logs":"Sistem Loglar","/admin-users":"Admin Kullanclar"},n0="pf_admin_push_vapid_public_key",Db="pf_admin_push_auto_heal_ts",h1=600*1e3;async function f1(){if(!("serviceWorker"in navigator)||!("PushManager"in window)||Notification.permission!=="granted")return;const e=await Af();if(!e.enabled||!e.vapid_public_key)return;const l=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let o=await l.pushManager.getSubscription();const d=window.localStorage.getItem(n0);if(o&&d&&d!==e.vapid_public_key){try{await o.unsubscribe()}catch{}o=null}o||(o=await l.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rp(e.vapid_public_key)})),await kb({subscription:o.toJSON(),send_test:!1}),window.localStorage.setItem(n0,e.vapid_public_key),window.sessionStorage.setItem(Db,String(Date.now()))}function p1(){const e=hs(),{user:s,logout:l,hasPermission:o}=Ql(),d=b.useRef(null),m=b.useRef(null),f=b.useRef(!1),x=b.useRef(null),[v,_]=b.useState(!1),[S,w]=b.useState("erie geiliyor..."),T=o("audit","write"),z=d1.filter(G=>!G.permission||o(G.permission)),k=m1[e.pathname]??(e.pathname.startsWith("/employees/")?"alan Detay":"Admin Panel"),A=()=>typeof window<"u"&&window.innerWidth<1024,D=()=>{x.current!==null&&(window.clearTimeout(x.current),x.current=null)},F=(G,Y)=>{w(Y),_(!0),G==="content"?m.current?.scrollIntoView({behavior:"smooth",block:"start"}):d.current?.scrollIntoView({behavior:"smooth",block:"start"}),D(),x.current=window.setTimeout(()=>{_(!1)},1200)},B=G=>{if(A()){if(e.pathname===G){window.requestAnimationFrame(()=>{F("content","erie geiliyor...")});return}w("erie geiliyor..."),_(!0),f.current=!0}},R=()=>{A()&&window.requestAnimationFrame(()=>{F("sidebar","Sidebar'a dnlyor...")})};return b.useEffect(()=>{A()&&window.scrollTo({top:0})},[]),b.useEffect(()=>{if(!T)return;const G=window.sessionStorage.getItem(Db),Y=G?Number(G):0;Number.isFinite(Y)&&Y>0&&Date.now()-Y<h1||f1().catch(()=>{})},[T,s?.admin_user_id,s?.username]),b.useEffect(()=>{f.current&&(f.current=!1,window.requestAnimationFrame(()=>{F("content","erie geiliyor...")}))},[e.pathname]),b.useEffect(()=>()=>{D()},[]),n.jsxs("div",{className:"admin-shell min-h-screen bg-slate-100 lg:grid lg:grid-cols-[260px_1fr]",children:[v?n.jsxs("div",{className:"mobile-nav-loader lg:hidden",role:"status","aria-live":"polite","aria-label":"Sayfa geii",children:[n.jsxs("div",{className:"mobile-nav-loader-logo","aria-hidden":"true",children:[n.jsx("div",{className:"mobile-nav-loader-halo"}),n.jsx("div",{className:"mobile-nav-loader-ring"}),n.jsx("div",{className:"mobile-nav-loader-spark"}),n.jsxs("div",{className:"mobile-nav-loader-core",children:[n.jsx("span",{className:"mobile-nav-loader-brand",children:"YABUJIN"}),n.jsx("span",{className:"mobile-nav-loader-sub",children:"CONTROL CORE"})]})]}),n.jsx("p",{className:"mobile-nav-loader-text",children:S})]}):null,n.jsxs("aside",{ref:d,className:"admin-sidebar flex flex-col px-4 py-6 text-slate-100 shadow-panel",children:[n.jsx("h1",{className:"px-2 text-xl font-bold tracking-tight",children:"Puantaj Admin"}),n.jsx("p",{className:"px-2 pt-1 text-xs text-slate-400",children:"FastAPI Ynetim Paneli"}),n.jsx("nav",{className:"mt-6 flex flex-col gap-1",children:z.map(G=>n.jsx(Vv,{to:G.to,onClick:()=>B(G.to),className:({isActive:Y})=>`rounded-lg px-3 py-2 text-sm font-medium transition ${Y?"bg-brand-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800/85 hover:text-white"}`,children:G.label},G.to))}),n.jsxs("div",{className:"admin-signature",children:[n.jsx("p",{className:"admin-signature-main",children:us.signatureText}),n.jsx("p",{className:"admin-signature-sub",children:us.signatureTagline})]})]}),n.jsxs("div",{ref:m,className:"flex min-h-screen flex-col",children:[n.jsx("header",{className:"admin-topbar border-b border-slate-200 bg-white/90 px-4 py-4 backdrop-blur sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:k}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Oturum: ",s?.username??s?.sub??"admin"," / Rol: ",s?.role??"admin"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:R,className:"btn-animated rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100 lg:hidden",children:"Sidebar'a Git"}),n.jsx("button",{type:"button",onClick:()=>{l()},className:"btn-animated rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"k"})]})]})}),n.jsx("main",{className:"admin-main flex-1 p-4 sm:p-6",children:n.jsx($f,{})}),n.jsxs("footer",{className:"admin-footer-signature px-6 pb-4 pt-1 text-center text-xs tracking-wide text-slate-500",children:[n.jsx("span",{className:"admin-footer-brand",children:us.signatureText}),n.jsx("span",{className:"admin-footer-sub",children:us.signatureTagline}),n.jsxs("span",{className:"admin-footer-build",children:["BUILD: ",us.buildVersion]})]})]})]})}function g1(){const{isAuthenticated:e,isBootstrapping:s}=Ql(),l=hs();if(s)return n.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Oturum kontrol ediliyor..."});if(!e){const o=`${l.pathname}${l.search}`;return n.jsx(Yf,{to:"/login",replace:!0,state:{from:o}})}return n.jsx($f,{})}function x1(){const{isAuthenticated:e,isBootstrapping:s}=Ql();return s?n.jsx("div",{className:"flex min-h-screen items-center justify-center text-slate-600",children:"Ykleniyor..."}):e?n.jsx(Yf,{to:"/dashboard",replace:!0}):n.jsx($f,{})}const a0={INVALID_CREDENTIALS:"Kullanici adi veya sifre hatali.",TOO_MANY_ATTEMPTS:"Cok fazla deneme yaptiniz. Lutfen daha sonra tekrar deneyin.",INVALID_TOKEN:"Oturum gecersiz veya suresi dolmus. Lutfen tekrar giris yapin.",FORBIDDEN:"Bu islem icin yetkiniz yok.",INTERNAL_ERROR:"Sunucu hatasi olustu. Lutfen tekrar deneyin.",MFA_REQUIRED:"MFA kodu zorunlu. Authenticator kodunu girin.",INVALID_MFA_CODE:"MFA kodu gecersiz. Tekrar deneyin.",MFA_SETUP_REQUIRED:"Bu hesap icin MFA kurulumu tamamlanmamis.",MFA_SETUP_NOT_STARTED:"Once MFA kurulumunu baslatin.",MFA_NOT_ENABLED:"Bu hesapta MFA aktif degil.",ARCHIVE_DECRYPT_FAILED:"Arsiv dosyasi acilamadi. Sunucu anahtarini kontrol edin.",EXTRA_CHECKIN_APPROVAL_NOT_FOUND:"Ek giris onay talebi bulunamadi.",EXTRA_CHECKIN_APPROVAL_EXPIRED:"Ek giris onay talebinin suresi dolmus.",INVITE_ATTEMPTS_EXCEEDED:"Davet linkinin deneme limiti doldu. Yeni bir link uretin.",INVITE_CONTEXT_MISMATCH:"Davet linki ayni cihaz/tarayici baglaminda kullanilmalidir.",INVITE_RETRY_TOO_FAST:"Cok hizli deneme yaptiniz. Birkac saniye bekleyip tekrar deneyin.",INVITE_TTL_TOO_LONG:"Davet suresi izin verilen limiti asiyor.",ADMIN_PUSH_SUBSCRIPTION_REQUIRED:"Aktif admin push aboneligi yok. Once bir admin cihazi claim edilmelidir."};function Ue(e,s){if(sn.isAxiosError(e)){const l=e.response?.data;if(typeof l=="string")return{message:l};const o=l?.error?.code,d=l?.error?.request_id,m=l?.error?.message;if(o&&a0[o])return{code:o,requestId:d,message:a0[o]};if(m)return{code:o,requestId:d,message:m};if(e.message)return{message:e.message}}return e instanceof Error&&e.message?{message:e.message}:{message:s}}function y1(e,s){return Ue(e,s).message}const s0="pf_admin_push_vapid_public_key";function v1(){const e=Hl(),[s]=yd(),l=b.useMemo(()=>s.get("token")?.trim()??"",[s]),[o,d]=b.useState("admin"),[m,f]=b.useState(""),[x,v]=b.useState(!1),[_,S]=b.useState(null),[w,T]=b.useState(null),[z,k]=b.useState(null),A=async D=>{if(D.preventDefault(),T(null),k(null),S(null),!l){T("Davet token bulunamad. Ltfen yeni balant isteyin.");return}const F=o.trim(),B=m.trim();if(!F||!B){T("Admin kullanc ad ve ifre zorunludur.");return}try{v(!0);const R=await DE();if(!R.enabled||!R.vapid_public_key){T("Push bildirim servisi yaplandrlmam.");return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){T("Bu tarayc push bildirimlerini desteklemiyor.");return}if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted"){T("Bildirim izni verilmedi. Cihaz balama tamamlanamad.");return}const ee=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let q=await ee.pushManager.getSubscription();const $=window.localStorage.getItem(s0);if(q&&$&&$!==R.vapid_public_key){try{await q.unsubscribe()}catch{}q=null}q||(q=await ee.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rp(R.vapid_public_key)})),await ZE({token:l,username:F,password:B,subscription:q.toJSON()}),window.localStorage.setItem(s0,R.vapid_public_key),S("Admin cihaz baaryla baland. Bildirimler bu cihaza gnderilecek."),window.setTimeout(()=>{e("/login",{replace:!0})},1e3)}catch(R){const G=Ue(R,"Cihaz balama ilemi baarsz oldu.");T(G.message),k(G.requestId??null)}finally{v(!1)}};return n.jsxs("div",{className:"mx-auto mt-10 w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Admin Cihaz Balama"}),n.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Bu cihaz admin bildirimleri iin kaydetmek adna hesabnzla giri yapn."}),n.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Token: ",l||"Bulunamad"]}),n.jsxs("form",{className:"mt-4 space-y-3",onSubmit:A,children:[n.jsxs("label",{className:"block text-sm text-slate-700",children:["Kullanc ad",n.jsx("input",{value:o,onChange:D=>d(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"username"})]}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["ifre",n.jsx("input",{type:"password",value:m,onChange:D=>f(D.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",autoComplete:"current-password"})]}),w?n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[n.jsx("p",{children:w}),z?n.jsxs("p",{className:"mt-1 text-xs",children:["request_id: ",z]}):null]}):null,_?n.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:_}):null,n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"submit",disabled:x,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:x?"Balanyor...":"Cihaz Bala"}),n.jsx(ws,{to:"/login",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Login ekran"})]})]})]})}function Ic(e){return`#${e.id} - ${e.full_name}`}function ds({label:e,employees:s,value:l,onChange:o,placeholder:d="alan ad veya ID yazn...",emptyLabel:m="Seiniz",helperText:f,disabled:x=!1,className:v=""}){const _=b.useMemo(()=>s.find(D=>String(D.id)===l),[s,l]),[S,w]=b.useState(_?Ic(_):""),[T,z]=b.useState(!1);b.useEffect(()=>{if(_){w(Ic(_));return}l||w("")},[_,l]);const k=b.useMemo(()=>{const D=S.trim().toLowerCase();return(D?s.filter(B=>{const R=B.full_name.toLowerCase().includes(D),G=String(B.id).includes(D.replace("#",""));return R||G}):s).slice(0,60)},[s,S]),A=D=>{o(String(D.id)),w(Ic(D)),z(!1)};return n.jsxs("div",{className:v,children:[n.jsxs("label",{className:"text-sm text-slate-700",children:[e,n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:S,disabled:x,onFocus:()=>z(!0),onChange:D=>{const F=D.target.value;w(F),z(!0),F.trim()||o("")},onBlur:()=>{window.setTimeout(()=>z(!1),120)},placeholder:d,className:"w-full rounded-lg border border-slate-300 px-3 py-2"}),n.jsx("button",{type:"button",disabled:x,onClick:()=>{o(""),w(""),z(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded px-1 text-xs text-slate-500 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:"Temizle"}),T?n.jsxs("div",{className:"absolute z-20 mt-1 max-h-72 w-full overflow-y-auto rounded-lg border border-slate-200 bg-white shadow-lg",children:[n.jsx("button",{type:"button",onMouseDown:D=>D.preventDefault(),onClick:()=>{o(""),w(""),z(!1)},className:"flex w-full items-center justify-between border-b border-slate-100 px-3 py-2 text-left text-sm text-slate-600 hover:bg-slate-50",children:n.jsx("span",{children:m})}),k.map(D=>n.jsxs("button",{type:"button",onMouseDown:F=>F.preventDefault(),onClick:()=>A(D),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-slate-50",children:[n.jsx("span",{children:Ic(D)}),D.is_active?null:n.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Pasif"})]},D.id)),k.length===0?n.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sonu bulunamad."}):null]}):null]})]}),f?n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:f}):null]})}function Ct({message:e}){return n.jsx("div",{className:"error-block admin-panel rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700 shadow-sm",children:e})}function Zt({label:e="Ykleniyor..."}){return n.jsxs("div",{className:"loading-block admin-panel rounded-xl border border-slate-200 bg-white p-8 text-center text-sm text-slate-600 shadow-sm",children:[n.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),n.jsx("span",{children:e})]})}function b1(e){return Number.isFinite(e)?Math.max(0,Math.floor(e)):0}function Rb(e){const s=b1(e),l=Math.floor(s/60),o=s%60;return{hours:l,minutes:o}}function _1(e){const{hours:s,minutes:l}=Rb(e),o=String(s).padStart(2,"0"),d=String(l).padStart(2,"0");return`${o}:${d}`}function N1(e){const{hours:s,minutes:l}=Rb(e);return s===0?`${l}dk`:`${s}s ${l}dk`}function nd(e){return`${_1(e)} (${N1(e)})`}function qe({minutes:e}){return n.jsx("span",{className:"whitespace-nowrap",children:nd(e)})}function Wi({open:e,title:s,onClose:l,children:o,placement:d="center",maxWidthClass:m="max-w-xl"}){if(!e)return null;const f=d==="right";return n.jsx("div",{className:`fixed inset-0 z-50 flex bg-slate-900/45 ${f?"items-stretch justify-end p-0 sm:p-3":"items-center justify-center px-4"}`,children:n.jsxs("div",{className:`admin-panel page-enter w-full border border-slate-200 bg-white p-5 shadow-2xl ${f?`${m} h-full overflow-y-auto rounded-none sm:rounded-l-2xl`:`${m} rounded-xl`}`,children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:s}),n.jsx("button",{type:"button",onClick:l,className:"btn-animated rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Kapat"})]}),o]})})}function Hn({title:e,description:s,action:l}){return n.jsxs("div",{className:"mb-5 flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:e}),s?n.jsx("p",{className:"mt-1 text-sm text-slate-600",children:s}):null]}),l]})}function Re({children:e,className:s=""}){return n.jsx("section",{className:`admin-panel rounded-xl border border-slate-200 bg-white p-5 shadow-sm ${s}`,children:e})}function Lb({suspicious:e,label:s="Supheli",tooltip:l}){return e?n.jsx("span",{className:"status-badge status-badge-incomplete",title:l,children:s}):n.jsx("span",{className:"status-badge status-badge-neutral",children:"Normal"})}const j1={DUPLICATE_EVENT:{label:"Mkerrer kayt",description:"Ayn gn iinde ayn tipte (IN/OUT) birden fazla kayt tespit edildi.",tone:"warning"},MANUAL_CHECKOUT:{label:"Manuel k",description:"k kayd alan tarafndan manuel butonla oluturuldu.",tone:"info"},NEEDS_SHIFT_REVIEW:{label:"Vardiya kontrol gerekli",description:"Otomatik atanan vardiya ile giri saati arasnda yksek fark var. K kontrol etmelidir.",tone:"warning"},SHIFT_WEEKLY_RULE_OVERRIDE:{label:"Vardiya-kural akmas",description:"Ayn gn iin haftalk gn kural ile vardiya sresi/mola bilgisi farkl. Hesaplamada vardiya kural nceliklendirildi.",tone:"warning"},CROSS_MIDNIGHT_CHECKOUT:{label:"Gece vardiyas k",description:"Giri bir gn, k ertesi gn alnm. Sistem k nceki gnn mesaisine balayarak hesaplad.",tone:"info"},RULE_SOURCE_MANUAL_OVERRIDE:{label:"Kural manuel seildi",description:"Bu gn iin kural kayna K tarafndan manuel olarak seildi.",tone:"info"},RULE_OVERRIDE_INVALID:{label:"Geersiz manuel kural",description:"Manuel seilen kural kayna o gn iin uygulanamad; sistem otomatik kurala dnd.",tone:"warning"},UNDERWORKED:{label:"Eksik alma",description:"Net alma sresi, o gn iin planlanan srenin altnda kald.",tone:"warning"},SECOND_CHECKIN_APPROVED:{label:"2. giri admin onay",description:"Gnlk maksimum vardiya dngs tamamlandktan sonra, ek giri kayd admin onay ile ald.",tone:"info"},LOCATION_NO_LOCATION:{label:"Konum yok",description:"Kayt srasnda konum bilgisi gnderilmedi veya alnamad.",tone:"warning"},LOCATION_UNVERIFIED:{label:"Ev d konum",description:"Kayt, tanml ev konumu yarap dnda alnd.",tone:"warning"},ADMIN_MANUAL_EVENT:{label:"Admin manuel kayt",description:"Kayt admin tarafndan manuel olarak eklenmi/dzenlenmi.",tone:"info"},EKSIK_GUN:{label:"Eksik gn",description:"Gn iinde giri veya k kayd eksik olduu iin gn tamamlanmam grnyor.",tone:"danger"},MISSING_IN:{label:"Giri eksik",description:"Bu gn iin giri (IN) kayd bulunamad.",tone:"danger"},MISSING_OUT:{label:"k eksik",description:"Bu gn iin k (OUT) kayd bulunamad.",tone:"danger"},OPEN_SHIFT_ACTIVE:{label:"Ak vardiya devam ediyor",description:"Gn iinde bir ktan sonra yeniden giri yapld ve son giri iin henz k kayd olumad.",tone:"warning"},DAILY_MAX_EXCEEDED:{label:"Gnlk sre ald",description:"Gnlk azami alma sresi (11 saat) ald.",tone:"danger"},MIN_BREAK_NOT_MET:{label:"Yasal mola yetersiz",description:"Tanml mola, yasal minimum mola sresinin altnda kald.",tone:"warning"},NIGHT_WORK_EXCEEDED:{label:"Gece alma snr ald",description:"Gece alma sresi yasal snrn zerinde grnyor.",tone:"danger"},ANNUAL_OVERTIME_CAP_EXCEEDED:{label:"Yllk fazla mesai limiti ald",description:"alann yllk fazla mesai limiti ald.",tone:"danger"}};function Ha(e){return j1[e]??{label:e,description:`${e} bayra iin aklama tanml deil.`,tone:"neutral"}}function S1(){return["DAILY_MAX_EXCEEDED","MIN_BREAK_NOT_MET","NIGHT_WORK_EXCEEDED","ANNUAL_OVERTIME_CAP_EXCEEDED","SHIFT_WEEKLY_RULE_OVERRIDE","UNDERWORKED"]}function w1(e){return e==="danger"||e==="warning"?"status-badge status-badge-incomplete":e==="info"?"status-badge status-badge-leave":"status-badge status-badge-neutral"}function Pb({reasons:e}){return e.length===0?n.jsx("span",{className:"status-badge status-badge-neutral",children:"Sorun yok"}):n.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(s=>n.jsx("span",{title:Ha(s).description,className:w1(Ha(s).tone),children:Ha(s).label},s))})}const Ib=b.createContext(void 0);function E1(e){return e==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":e==="error"?"border-rose-200 bg-rose-50 text-rose-900":"border-sky-200 bg-sky-50 text-sky-900"}function k1({children:e}){const[s,l]=b.useState([]),o=b.useCallback(f=>{l(x=>x.map(v=>v.id===f?{...v,isClosing:!0}:v)),window.setTimeout(()=>{l(x=>x.filter(v=>v.id!==f))},170)},[]),d=b.useCallback(f=>{const x=crypto.randomUUID(),v={id:x,title:f.title,description:f.description,durationMs:f.durationMs??3500,variant:f.variant??"info"};l(_=>[..._,v]),window.setTimeout(()=>{o(x)},v.durationMs)},[o]),m=b.useMemo(()=>({pushToast:d,removeToast:o}),[d,o]);return n.jsxs(Ib.Provider,{value:m,children:[e,n.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-50 flex w-full max-w-sm flex-col gap-2",children:s.map(f=>n.jsx("div",{className:`toast-card pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${E1(f.variant)} ${f.isClosing?"is-leaving":""}`,role:"status",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold",children:f.title}),f.description?n.jsx("p",{className:"mt-1 text-xs",children:f.description}):null]}),n.jsx("button",{type:"button",onClick:()=>o(f.id),className:"rounded px-2 py-1 text-xs font-medium opacity-80 hover:opacity-100",children:"Kapat"})]})},f.id))})]})}function ia(){const e=b.useContext(Ib);return e||{pushToast:()=>{},removeToast:()=>{}}}function T1(e){const[s,l,o]=e.split("-"),d=Number(s),m=Number(l),f=Number(o);return!Number.isInteger(d)||!Number.isInteger(m)||!Number.isInteger(f)?new Date("invalid"):new Date(Date.UTC(d,m-1,f))}function C1(e){return e.leave_type==="PUBLIC_HOLIDAY"||e.flags.includes("PUBLIC_HOLIDAY")}function A1(e){return e.worked_minutes>0?!0:!!(e.in||e.out)}function Sd(e){if(C1(e))return{key:"SPECIAL",label:"zel Gn"};const s=T1(e.date);return!Number.isNaN(s.getTime())&&s.getUTCDay()===0?{key:"SUNDAY",label:"Pazar"}:{key:"WEEKDAY",label:"Hafta i"}}function lp(e){const s={workedMinutes:0,overtimeMinutes:0,planOvertimeMinutes:0,legalExtraWorkMinutes:0,workedDayCount:0,overtimeDayCount:0,planOvertimeDayCount:0,sundayWorkedDayCount:0,weekdayWorkedDayCount:0,specialWorkedDayCount:0,sundayWorkedMinutes:0,weekdayWorkedMinutes:0,specialWorkedMinutes:0};for(const l of e){const o=l.plan_overtime_minutes??l.overtime_minutes,d=l.legal_extra_work_minutes??0,m=l.legal_overtime_minutes??l.overtime_minutes;if(s.workedMinutes+=l.worked_minutes,s.planOvertimeMinutes+=o,s.legalExtraWorkMinutes+=d,s.overtimeMinutes+=m,A1(l)){s.workedDayCount+=1;const x=Sd(l);x.key==="SPECIAL"?(s.specialWorkedDayCount+=1,s.specialWorkedMinutes+=l.worked_minutes):x.key==="SUNDAY"?(s.sundayWorkedDayCount+=1,s.sundayWorkedMinutes+=l.worked_minutes):(s.weekdayWorkedDayCount+=1,s.weekdayWorkedMinutes+=l.worked_minutes)}o>0&&(s.planOvertimeDayCount+=1),m>0&&(s.overtimeDayCount+=1)}return s}const M1=[{value:"ALL",label:"Tm konum durumlar"},{value:"VERIFIED_HOME",label:"Evde onayl"},{value:"UNVERIFIED_LOCATION",label:"Ev d"},{value:"NO_LOCATION",label:"Konum yok"}],z1=[{value:"ALL",label:"Tm tipler"},{value:"IN",label:"IN (Giri)"},{value:"OUT",label:"OUT (k)"}],Bc={employeeId:"",departmentId:"",dateFrom:"",dateTo:"",eventType:"ALL",locationStatus:"ALL",duplicatesOnly:!1,suspiciousOnly:!1,includeDeleted:!1,limit:"200"},O1="Europe/Istanbul";function $o(e,s){return e[s]===!0}function i0(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const s=Number(e.trim());if(Number.isInteger(s)&&s>0)return s}return null}function Uc(e){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium",timeZone:O1}).format(new Date(e))}function D1(e){const s=new Date(e);return new Date(s.getTime()-s.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function R1(e){return e==="VERIFIED_HOME"?"Evde onayl":e==="UNVERIFIED_LOCATION"?"Ev d":"Konum yok"}function Dh(e){const s=[],l=e.flags.reason==="home_location_not_set";return $o(e.flags,"DUPLICATE_EVENT")&&s.push("DUPLICATE_EVENT"),$o(e.flags,"MANUAL_CHECKOUT")&&s.push("MANUAL_CHECKOUT"),$o(e.flags,"NEEDS_SHIFT_REVIEW")&&s.push("NEEDS_SHIFT_REVIEW"),e.location_status==="NO_LOCATION"&&s.push("LOCATION_NO_LOCATION"),e.location_status==="UNVERIFIED_LOCATION"&&!l&&s.push("LOCATION_UNVERIFIED"),(e.source==="MANUAL"||e.created_by_admin||$o(e.flags,"ADMIN_MANUAL"))&&s.push("ADMIN_MANUAL_EVENT"),s}function Rh(e){const s=Number(e);return Number.isInteger(s)&&s>0?s:null}function L1(e){return e.length?e.map(s=>`${Ha(s).label} (${s})`).join(", "):"-"}function P1(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(Bc),[d,m]=b.useState(Bc),[f,x]=b.useState(""),[v,_]=b.useState("IN"),[S,w]=b.useState(""),[T,z]=b.useState(""),[k,A]=b.useState(""),[D,F]=b.useState(!1),[B,R]=b.useState(null),[G,Y]=b.useState("IN"),[ee,q]=b.useState(""),[$,J]=b.useState(""),[he,xe]=b.useState(""),[ce,_e]=b.useState(!1),[re,oe]=b.useState(!1),[H,Q]=b.useState(null),[se,Se]=b.useState(!1),X=Ze({queryKey:["employees","all"],queryFn:()=>ks({status:"all",include_inactive:!0})}),M=Ze({queryKey:["departments"],queryFn:tr}),te=Ze({queryKey:["department-shifts","all"],queryFn:()=>fu({active_only:!1})}),I=b.useMemo(()=>{const O=Number(d.employeeId),Me=Number(d.departmentId),$e=Number(d.limit);return{employee_id:O>0?O:void 0,department_id:Me>0?Me:void 0,start_date:d.dateFrom||void 0,end_date:d.dateTo||void 0,type:d.eventType==="ALL"?void 0:d.eventType,location_status:d.locationStatus==="ALL"?void 0:d.locationStatus,duplicates_only:d.duplicatesOnly||void 0,include_deleted:d.includeDeleted||void 0,limit:$e>0?$e:200}},[d]),ue=Ze({queryKey:["attendance-events",I],queryFn:()=>ip(I)}),de=Ze({queryKey:["audit-logs","attendance-events"],queryFn:()=>Eb({entity_type:"attendance_event",limit:50})}),je=Number(d.employeeId),ze=b.useMemo(()=>{const O=d.dateFrom||d.dateTo;if(!O)return new Date;const Me=new Date(`${O}T00:00:00`);return Number.isNaN(Me.getTime())?new Date:Me},[d.dateFrom,d.dateTo]),Ke=Ze({queryKey:["attendance-events-monthly-summary",je,ze.getFullYear(),ze.getMonth()+1],queryFn:()=>nu({employee_id:je,year:ze.getFullYear(),month:ze.getMonth()+1}),enabled:Number.isInteger(je)&&je>0,staleTime:15e3}),He=Ye({mutationFn:EE,onSuccess:()=>{s({variant:"success",title:"Manuel event kaydedildi",description:"Kayt baaryla oluturuldu."}),z(""),A(""),F(!1),e.invalidateQueries({queryKey:["attendance-events"]}),e.invalidateQueries({queryKey:["audit-logs"]})},onError:O=>{s({variant:"error",title:"Kayt oluturulamad",description:Ue(O,"lem baarsz.").message})}}),at=Ye({mutationFn:({eventId:O,payload:Me})=>kE(O,Me),onSuccess:()=>{s({variant:"success",title:"Event gncellendi",description:"Deiiklikler kaydedildi."}),R(null),e.invalidateQueries({queryKey:["attendance-events"]}),e.invalidateQueries({queryKey:["audit-logs"]})},onError:O=>{s({variant:"error",title:"Event gncellenemedi",description:Ue(O,"lem baarsz.").message})}}),be=Ye({mutationFn:({eventId:O,force:Me})=>TE(O,Me),onSuccess:()=>{s({variant:"success",title:"Event soft silindi",description:"Kayt pasife alnd."}),Q(null),Se(!1),e.invalidateQueries({queryKey:["attendance-events"]}),e.invalidateQueries({queryKey:["audit-logs"]})},onError:O=>{s({variant:"error",title:"Silme baarsz",description:Ue(O,"lem baarsz.").message})}}),lt=X.data??[],mt=M.data??[],Ae=te.data??[],rt=ue.data??[],bt=b.useMemo(()=>(Ke.data?.days??[]).filter(Me=>!(d.dateFrom&&Me.date<d.dateFrom||d.dateTo&&Me.date>d.dateTo)),[Ke.data?.days,d.dateFrom,d.dateTo]),St=b.useMemo(()=>lp(bt),[bt]),At=b.useMemo(()=>new Map(lt.map(O=>[O.id,O])),[lt]),rn=b.useMemo(()=>new Map(lt.map(O=>[O.id,O.full_name])),[lt]),ne=b.useMemo(()=>new Map(mt.map(O=>[O.id,O.name])),[mt]),Ee=b.useMemo(()=>new Map(Ae.map(O=>[O.id,O])),[Ae]),Pe=b.useMemo(()=>At.get(Number(f)),[At,f]),ct=b.useMemo(()=>Pe?.department_id?Ae.filter(O=>O.department_id===Pe.department_id):Ae,[Pe?.department_id,Ae]),ae=b.useMemo(()=>{if(!B)return Ae;const O=At.get(B.employee_id);return O?.department_id?Ae.filter(Me=>Me.department_id===O.department_id):Ae},[At,B,Ae]),Fe=b.useMemo(()=>d.suspiciousOnly?rt.filter(O=>Dh(O).length>0):rt,[rt,d.suspiciousOnly]),It=()=>m({...l}),Kt=()=>{o(Bc),m(Bc)},Qt=O=>{O.preventDefault();const Me=Rh(f);if(!Me||!S){s({variant:"error",title:"Eksik alan",description:"alan ve tarih/saat zorunludur."});return}const $e=Rh(k);He.mutate({employee_id:Me,type:v,ts_utc:new Date(S).toISOString(),note:T||void 0,shift_id:$e??void 0,allow_duplicate:D})},dt=O=>{R(O),Y(O.type),q(D1(O.ts_utc)),J(O.note??""),_e(!1),oe(!1),xe(String(i0(O.flags.SHIFT_ID)??""))},zt=O=>{if(O.preventDefault(),!B||!ee)return;const Me=Rh(he);at.mutate({eventId:B.id,payload:{type:G,ts_utc:new Date(ee).toISOString(),note:$||null,shift_id:Me??void 0,allow_duplicate:ce,force_edit:re}})};return X.isLoading||M.isLoading||te.isLoading?n.jsx(Zt,{}):X.isError||M.isError||te.isError?n.jsx(Ct,{message:"alan/departman/vardiya bilgileri alnamad."}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Yoklama Kaytlar",description:"Manuel event ekleme, vardiya dzeltme, soft silme ve audit takibi."}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[n.jsx(ds,{label:"alan",employees:lt,value:l.employeeId,onChange:O=>o(Me=>({...Me,employeeId:O})),emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile arayn."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:l.departmentId,onChange:O=>o(Me=>({...Me,departmentId:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tm"}),mt.map(O=>n.jsxs("option",{value:O.id,children:["#",O.id," - ",O.name]},O.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",n.jsx("input",{type:"date",value:l.dateFrom,onChange:O=>o(Me=>({...Me,dateFrom:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",n.jsx("input",{type:"date",value:l.dateTo,onChange:O=>o(Me=>({...Me,dateTo:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",n.jsx("select",{value:l.eventType,onChange:O=>o(Me=>({...Me,eventType:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:z1.map(O=>n.jsx("option",{value:O.value,children:O.label},O.value))})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Konum",n.jsx("select",{value:l.locationStatus,onChange:O=>o(Me=>({...Me,locationStatus:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:M1.map(O=>n.jsx("option",{value:O.value,children:O.label},O.value))})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Limit",n.jsx("input",{type:"number",value:l.limit,onChange:O=>o(Me=>({...Me,limit:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("div",{className:"flex flex-col justify-end gap-2 text-sm text-slate-700",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:l.duplicatesOnly,onChange:O=>o(Me=>({...Me,duplicatesOnly:O.target.checked}))}),"Sadece mkerrer"]}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:l.suspiciousOnly,onChange:O=>o(Me=>({...Me,suspiciousOnly:O.target.checked}))}),"Sadece pheli"]}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:l.includeDeleted,onChange:O=>o(Me=>({...Me,includeDeleted:O.target.checked}))}),"Silinenleri gster"]})]})]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx("button",{type:"button",onClick:It,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),n.jsx("button",{type:"button",onClick:Kt,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Event Ekle"}),n.jsxs("form",{onSubmit:Qt,className:"mt-3 grid gap-3 md:grid-cols-3",children:[n.jsx(ds,{label:"alan",employees:lt,value:f,onChange:x,emptyLabel:"Seiniz",helperText:"Manuel kayt iin alan sein.",className:"md:col-span-2"}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",n.jsxs("select",{value:v,onChange:O=>_(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"IN",children:"IN (Giri)"}),n.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",n.jsx("input",{type:"datetime-local",value:S,onChange:O=>w(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",n.jsxs("select",{value:k,onChange:O=>A(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Otomatik/bo"}),ct.map(O=>n.jsxs("option",{value:O.id,children:["#",O.id," - ",O.name," (",O.start_time_local,"-",O.end_time_local,")"]},O.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Not",n.jsx("input",{type:"text",value:T,onChange:O=>z(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-3",children:[n.jsx("input",{type:"checkbox",checked:D,onChange:O=>F(O.target.checked)}),"Sra akyorsa duplicate olarak kaydet"]}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",disabled:He.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:He.isPending?"Kaydediliyor...":"Manuel event kaydet"})})]})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Puantaj Analiz Ozeti"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Secili calisan icin saat bazli net calisma, fazla mesai ve gun tipi kirilimlari."})]}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Ay: ",ze.getFullYear(),"-",String(ze.getMonth()+1).padStart(2,"0")]})]}),je?Ke.isLoading?n.jsx(Zt,{}):Ke.isError?n.jsx(Ct,{message:Ue(Ke.error,"Puantaj analiz ozeti alinamadi.").message}):n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-5",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Net calisma"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.jsx(qe,{minutes:St.workedMinutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Plan ustu sure"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.jsx(qe,{minutes:St.planOvertimeMinutes})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[St.planOvertimeDayCount," gun"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yasal fazla mesai"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.jsx(qe,{minutes:St.overtimeMinutes})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[St.overtimeDayCount," gun"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:St.workedDayCount}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",St.weekdayWorkedDayCount]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Pazar / Ozel"}),n.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[St.sundayWorkedDayCount," / ",St.specialWorkedDayCount," gun"]})]})]}),n.jsxs("div",{className:"max-h-[44vh] overflow-auto overscroll-contain",children:[n.jsxs("table",{className:"min-w-[1100px] text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Tarih"}),n.jsx("th",{className:"py-2",children:"Gun Tipi"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Giris"}),n.jsx("th",{className:"py-2",children:"Cikis"}),n.jsx("th",{className:"py-2",children:"Calisma"}),n.jsx("th",{className:"py-2",children:"Plan Ustu"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),n.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),n.jsx("tbody",{children:bt.map(O=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:O.date}),n.jsx("td",{className:"py-2",children:Sd(O).label}),n.jsx("td",{className:"py-2",children:O.status}),n.jsx("td",{className:"py-2",children:O.in?Uc(O.in):"-"}),n.jsx("td",{className:"py-2",children:O.out?Uc(O.out):"-"}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.worked_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.plan_overtime_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.legal_extra_work_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.legal_overtime_minutes})}),n.jsx("td",{className:"py-2 text-xs text-slate-600",children:L1(O.flags)})]},O.date))})]}),bt.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Secili aralikta puantaj gun kaydi bulunamadi."}):null]})]}):n.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Analiz gormek icin filtrelerden bir calisan secin."})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"mb-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam kayt"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Fe.length})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"pheli kayt"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Fe.filter(O=>Dh(O).length>0).length})]})]}),ue.isLoading?n.jsx(Zt,{}):null,ue.isError?n.jsx(Ct,{message:Ue(ue.error,"Yoklama kaytlar alnamad.").message}):null,!ue.isLoading&&!ue.isError?n.jsxs("div",{className:"max-h-[66vh] overflow-auto overscroll-contain",children:[n.jsxs("table",{className:"min-w-[1320px] text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"ID"}),n.jsx("th",{className:"py-2",children:"alan"}),n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"Tip"}),n.jsx("th",{className:"py-2",children:"Kaynak"}),n.jsx("th",{className:"py-2",children:"Zaman"}),n.jsx("th",{className:"py-2",children:"Konum"}),n.jsx("th",{className:"py-2",children:"Vardiya"}),n.jsx("th",{className:"py-2",children:"Not"}),n.jsx("th",{className:"py-2",children:"Bayraklar"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),n.jsx("tbody",{children:Fe.map(O=>{const Me=Dh(O),$e=At.get(O.employee_id),yt=$e?.department_id!=null?ne.get($e.department_id):"-",Bt=O.source==="MANUAL"||O.created_by_admin||$o(O.flags,"ADMIN_MANUAL"),ht=i0(O.flags.SHIFT_ID),ln=typeof O.flags.SHIFT_NAME=="string"?O.flags.SHIFT_NAME:ht&&Ee.get(ht)?Ee.get(ht)?.name:null;return n.jsxs("tr",{className:`border-t border-slate-100 ${Me.length>0?"bg-amber-50/40":""}`,children:[n.jsx("td",{className:"py-2",children:O.id}),n.jsxs("td",{className:"py-2",children:["#",O.employee_id," - ",rn.get(O.employee_id)??"-"]}),n.jsx("td",{className:"py-2",children:yt??"-"}),n.jsx("td",{className:"py-2",children:O.type}),n.jsxs("td",{className:"py-2",children:[Bt?n.jsx("span",{className:"inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):"CHAZ",O.deleted_at?n.jsx("span",{className:"ml-1 inline-flex rounded-full bg-rose-100 px-2 py-1 text-[11px] font-semibold text-rose-700",children:"SLND"}):null]}),n.jsx("td",{className:"py-2",children:Uc(O.ts_utc)}),n.jsx("td",{className:"py-2",children:R1(O.location_status)}),n.jsx("td",{className:"py-2",children:ln?n.jsxs("span",{children:[ln,ht?` (#${ht})`:""]}):ht?n.jsxs("span",{children:["#",ht]}):"-"}),n.jsx("td",{className:"py-2",children:O.note||"-"}),n.jsx("td",{className:"py-2",children:n.jsx(Pb,{reasons:Me})}),n.jsx("td",{className:"py-2",children:n.jsx(Lb,{suspicious:Me.length>0,label:"pheli"})}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>dt(O),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Dzenle"}),n.jsx("button",{type:"button",onClick:()=>Q(O),className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Soft sil"})]})})]},O.id)})})]}),Fe.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun kayt bulunamad."}):null]}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Audit Log"}),de.isLoading?n.jsx(Zt,{}):null,de.isError?n.jsx(Ct,{message:Ue(de.error,"Audit loglar alnamad.").message}):null,!de.isLoading&&!de.isError?n.jsx("div",{className:"mt-3 max-h-[40vh] overflow-auto overscroll-contain",children:n.jsxs("table",{className:"min-w-[980px] text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Zaman"}),n.jsx("th",{className:"py-2",children:"Aksiyon"}),n.jsx("th",{className:"py-2",children:"Kullanc"}),n.jsx("th",{className:"py-2",children:"Entity"}),n.jsx("th",{className:"py-2",children:"Durum"})]})}),n.jsx("tbody",{children:(de.data?.items??[]).map(O=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Uc(O.ts_utc)}),n.jsx("td",{className:"py-2",children:O.action}),n.jsxs("td",{className:"py-2",children:[O.actor_type,":",O.actor_id]}),n.jsxs("td",{className:"py-2",children:[O.entity_type??"-"," ",O.entity_id?`#${O.entity_id}`:""]}),n.jsx("td",{className:"py-2",children:O.success?"Baarl":"Hatal"})]},O.id))})]})}):null]}),n.jsx(Wi,{open:B!==null,title:B?`Event #${B.id} dzenle`:"Event dzenle",onClose:()=>R(null),children:n.jsxs("form",{onSubmit:zt,className:"space-y-3",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Event tipi",n.jsxs("select",{value:G,onChange:O=>Y(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"IN",children:"IN (Giri)"}),n.jsx("option",{value:"OUT",children:"OUT (k)"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih/saat",n.jsx("input",{type:"datetime-local",value:ee,onChange:O=>q(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",n.jsxs("select",{value:he,onChange:O=>xe(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Deitirme"}),ae.map(O=>n.jsxs("option",{value:O.id,children:["#",O.id," - ",O.name," (",O.start_time_local,"-",O.end_time_local,")"]},O.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Not",n.jsx("input",{type:"text",value:$,onChange:O=>J(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:ce,onChange:O=>_e(O.target.checked)})," Sra akyorsa duplicate olarak gncelle"]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:re,onChange:O=>oe(O.target.checked)})," Manuel olmayan kaytlarda zorla dzenle"]}),n.jsx("button",{type:"submit",disabled:at.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:at.isPending?"Kaydediliyor...":"Kaydet"})]})}),n.jsx(Wi,{open:H!==null,title:H?`Event #${H.id} soft sil`:"Event soft sil",onClose:()=>Q(null),children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-slate-700",children:"Kayt hard delete edilmez, soft delete olarak iaretlenir."}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:se,onChange:O=>Se(O.target.checked)})," Manuel olmayan kaytlarda zorla sil"]}),n.jsx("button",{type:"button",onClick:()=>H&&be.mutate({eventId:H.id,force:se}),disabled:be.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:be.isPending?"Siliniyor...":"Soft sil"})]})})]})}function ke(e,s,l){function o(x,v){if(x._zod||Object.defineProperty(x,"_zod",{value:{def:v,constr:f,traits:new Set},enumerable:!1}),x._zod.traits.has(e))return;x._zod.traits.add(e),s(x,v);const _=f.prototype,S=Object.keys(_);for(let w=0;w<S.length;w++){const T=S[w];T in x||(x[T]=_[T].bind(x))}}const d=l?.Parent??Object;class m extends d{}Object.defineProperty(m,"name",{value:e});function f(x){var v;const _=l?.Parent?new m:this;o(_,x),(v=_._zod).deferred??(v.deferred=[]);for(const S of _._zod.deferred)S();return _}return Object.defineProperty(f,"init",{value:o}),Object.defineProperty(f,Symbol.hasInstance,{value:x=>l?.Parent&&x instanceof l.Parent?!0:x?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class Il extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Bb extends Error{constructor(s){super(`Encountered unidirectional transform during encode: ${s}`),this.name="ZodEncodeError"}}const Ub={};function Hr(e){return Ub}function Fb(e){const s=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,d])=>s.indexOf(+o)===-1).map(([o,d])=>d)}function zf(e,s){return typeof s=="bigint"?s.toString():s}function op(e){return{get value(){{const s=e();return Object.defineProperty(this,"value",{value:s}),s}}}}function up(e){return e==null}function cp(e){const s=e.startsWith("^")?1:0,l=e.endsWith("$")?e.length-1:e.length;return e.slice(s,l)}function I1(e,s){const l=(e.toString().split(".")[1]||"").length,o=s.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const v=o.match(/\d?e-(\d?)/);v?.[1]&&(d=Number.parseInt(v[1]))}const m=l>d?l:d,f=Number.parseInt(e.toFixed(m).replace(".","")),x=Number.parseInt(s.toFixed(m).replace(".",""));return f%x/10**m}const r0=Symbol("evaluating");function $t(e,s,l){let o;Object.defineProperty(e,s,{get(){if(o!==r0)return o===void 0&&(o=r0,o=l()),o},set(d){Object.defineProperty(e,s,{value:d})},configurable:!0})}function Qr(e,s,l){Object.defineProperty(e,s,{value:l,writable:!0,enumerable:!0,configurable:!0})}function nr(...e){const s={};for(const l of e){const o=Object.getOwnPropertyDescriptors(l);Object.assign(s,o)}return Object.defineProperties({},s)}function l0(e){return JSON.stringify(e)}function B1(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Zb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ud(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const U1=op(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function au(e){if(ud(e)===!1)return!1;const s=e.constructor;if(s===void 0||typeof s!="function")return!0;const l=s.prototype;return!(ud(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function qb(e){return au(e)?{...e}:Array.isArray(e)?[...e]:e}const F1=new Set(["string","number","symbol"]);function wd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ar(e,s,l){const o=new e._zod.constr(s??e._zod.def);return(!s||l?.parent)&&(o._zod.parent=e),o}function We(e){const s=e;if(!s)return{};if(typeof s=="string")return{error:()=>s};if(s?.message!==void 0){if(s?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");s.error=s.message}return delete s.message,typeof s.error=="string"?{...s,error:()=>s.error}:s}function Z1(e){return Object.keys(e).filter(s=>e[s]._zod.optin==="optional"&&e[s]._zod.optout==="optional")}const q1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function H1(e,s){const l=e._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const m=nr(e._zod.def,{get shape(){const f={};for(const x in s){if(!(x in l.shape))throw new Error(`Unrecognized key: "${x}"`);s[x]&&(f[x]=l.shape[x])}return Qr(this,"shape",f),f},checks:[]});return ar(e,m)}function K1(e,s){const l=e._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const m=nr(e._zod.def,{get shape(){const f={...e._zod.def.shape};for(const x in s){if(!(x in l.shape))throw new Error(`Unrecognized key: "${x}"`);s[x]&&delete f[x]}return Qr(this,"shape",f),f},checks:[]});return ar(e,m)}function Q1(e,s){if(!au(s))throw new Error("Invalid input to extend: expected a plain object");const l=e._zod.def.checks;if(l&&l.length>0){const m=e._zod.def.shape;for(const f in s)if(Object.getOwnPropertyDescriptor(m,f)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const d=nr(e._zod.def,{get shape(){const m={...e._zod.def.shape,...s};return Qr(this,"shape",m),m}});return ar(e,d)}function G1(e,s){if(!au(s))throw new Error("Invalid input to safeExtend: expected a plain object");const l=nr(e._zod.def,{get shape(){const o={...e._zod.def.shape,...s};return Qr(this,"shape",o),o}});return ar(e,l)}function V1(e,s){const l=nr(e._zod.def,{get shape(){const o={...e._zod.def.shape,...s._zod.def.shape};return Qr(this,"shape",o),o},get catchall(){return s._zod.def.catchall},checks:[]});return ar(e,l)}function Y1(e,s,l){const d=s._zod.def.checks;if(d&&d.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const f=nr(s._zod.def,{get shape(){const x=s._zod.def.shape,v={...x};if(l)for(const _ in l){if(!(_ in x))throw new Error(`Unrecognized key: "${_}"`);l[_]&&(v[_]=e?new e({type:"optional",innerType:x[_]}):x[_])}else for(const _ in x)v[_]=e?new e({type:"optional",innerType:x[_]}):x[_];return Qr(this,"shape",v),v},checks:[]});return ar(s,f)}function $1(e,s,l){const o=nr(s._zod.def,{get shape(){const d=s._zod.def.shape,m={...d};if(l)for(const f in l){if(!(f in m))throw new Error(`Unrecognized key: "${f}"`);l[f]&&(m[f]=new e({type:"nonoptional",innerType:d[f]}))}else for(const f in d)m[f]=new e({type:"nonoptional",innerType:d[f]});return Qr(this,"shape",m),m}});return ar(s,o)}function Pl(e,s=0){if(e.aborted===!0)return!0;for(let l=s;l<e.issues.length;l++)if(e.issues[l]?.continue!==!0)return!0;return!1}function Hb(e,s){return s.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(e),l})}function Fc(e){return typeof e=="string"?e:e?.message}function Kr(e,s,l){const o={...e,path:e.path??[]};if(!e.message){const d=Fc(e.inst?._zod.def?.error?.(e))??Fc(s?.error?.(e))??Fc(l.customError?.(e))??Fc(l.localeError?.(e))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,s?.reportInput||delete o.input,o}function dp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function su(...e){const[s,l,o]=e;return typeof s=="string"?{message:s,code:"custom",input:l,inst:o}:{...s}}const Kb=(e,s)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:s,enumerable:!1}),e.message=JSON.stringify(s,zf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Qb=ke("$ZodError",Kb),Gb=ke("$ZodError",Kb,{Parent:Error});function X1(e,s=l=>l.message){const l={},o=[];for(const d of e.issues)d.path.length>0?(l[d.path[0]]=l[d.path[0]]||[],l[d.path[0]].push(s(d))):o.push(s(d));return{formErrors:o,fieldErrors:l}}function J1(e,s=l=>l.message){const l={_errors:[]},o=d=>{for(const m of d.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(f=>o({issues:f}));else if(m.code==="invalid_key")o({issues:m.issues});else if(m.code==="invalid_element")o({issues:m.issues});else if(m.path.length===0)l._errors.push(s(m));else{let f=l,x=0;for(;x<m.path.length;){const v=m.path[x];x===m.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(s(m))):f[v]=f[v]||{_errors:[]},f=f[v],x++}}};return o(e),l}const mp=e=>(s,l,o,d)=>{const m=o?Object.assign(o,{async:!1}):{async:!1},f=s._zod.run({value:l,issues:[]},m);if(f instanceof Promise)throw new Il;if(f.issues.length){const x=new(d?.Err??e)(f.issues.map(v=>Kr(v,m,Hr())));throw Zb(x,d?.callee),x}return f.value},hp=e=>async(s,l,o,d)=>{const m=o?Object.assign(o,{async:!0}):{async:!0};let f=s._zod.run({value:l,issues:[]},m);if(f instanceof Promise&&(f=await f),f.issues.length){const x=new(d?.Err??e)(f.issues.map(v=>Kr(v,m,Hr())));throw Zb(x,d?.callee),x}return f.value},Ed=e=>(s,l,o)=>{const d=o?{...o,async:!1}:{async:!1},m=s._zod.run({value:l,issues:[]},d);if(m instanceof Promise)throw new Il;return m.issues.length?{success:!1,error:new(e??Qb)(m.issues.map(f=>Kr(f,d,Hr())))}:{success:!0,data:m.value}},W1=Ed(Gb),kd=e=>async(s,l,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let m=s._zod.run({value:l,issues:[]},d);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new e(m.issues.map(f=>Kr(f,d,Hr())))}:{success:!0,data:m.value}},ek=kd(Gb),tk=e=>(s,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return mp(e)(s,l,d)},nk=e=>(s,l,o)=>mp(e)(s,l,o),ak=e=>async(s,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return hp(e)(s,l,d)},sk=e=>async(s,l,o)=>hp(e)(s,l,o),ik=e=>(s,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Ed(e)(s,l,d)},rk=e=>(s,l,o)=>Ed(e)(s,l,o),lk=e=>async(s,l,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return kd(e)(s,l,d)},ok=e=>async(s,l,o)=>kd(e)(s,l,o),uk=/^[cC][^\s-]{8,}$/,ck=/^[0-9a-z]+$/,dk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,mk=/^[0-9a-vA-V]{20}$/,hk=/^[A-Za-z0-9]{27}$/,fk=/^[a-zA-Z0-9_-]{21}$/,pk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,gk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,o0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,xk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function vk(){return new RegExp(yk,"u")}const bk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_k=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Nk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Vb=/^[A-Za-z0-9_-]*$/,wk=/^\+[1-9]\d{6,14}$/,Yb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Ek=new RegExp(`^${Yb}$`);function $b(e){const s="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${s}`:e.precision===0?`${s}:[0-5]\\d`:`${s}:[0-5]\\d\\.\\d{${e.precision}}`:`${s}(?::[0-5]\\d(?:\\.\\d+)?)?`}function kk(e){return new RegExp(`^${$b(e)}$`)}function Tk(e){const s=$b({precision:e.precision}),l=["Z"];e.local&&l.push(""),e.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${s}(?:${l.join("|")})`;return new RegExp(`^${Yb}T(?:${o})$`)}const Ck=e=>{const s=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${s}$`)},Ak=/^-?\d+$/,Mk=/^-?\d+(?:\.\d+)?$/,zk=/^(?:true|false)$/i,Ok=/^null$/i,Dk=/^[^A-Z]*$/,Rk=/^[^a-z]*$/,Oa=ke("$ZodCheck",(e,s)=>{var l;e._zod??(e._zod={}),e._zod.def=s,(l=e._zod).onattach??(l.onattach=[])}),Xb={number:"number",bigint:"bigint",object:"date"},Jb=ke("$ZodCheckLessThan",(e,s)=>{Oa.init(e,s);const l=Xb[typeof s.value];e._zod.onattach.push(o=>{const d=o._zod.bag,m=(s.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;s.value<m&&(s.inclusive?d.maximum=s.value:d.exclusiveMaximum=s.value)}),e._zod.check=o=>{(s.inclusive?o.value<=s.value:o.value<s.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof s.value=="object"?s.value.getTime():s.value,input:o.value,inclusive:s.inclusive,inst:e,continue:!s.abort})}}),Wb=ke("$ZodCheckGreaterThan",(e,s)=>{Oa.init(e,s);const l=Xb[typeof s.value];e._zod.onattach.push(o=>{const d=o._zod.bag,m=(s.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;s.value>m&&(s.inclusive?d.minimum=s.value:d.exclusiveMinimum=s.value)}),e._zod.check=o=>{(s.inclusive?o.value>=s.value:o.value>s.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof s.value=="object"?s.value.getTime():s.value,input:o.value,inclusive:s.inclusive,inst:e,continue:!s.abort})}}),Lk=ke("$ZodCheckMultipleOf",(e,s)=>{Oa.init(e,s),e._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=s.value)}),e._zod.check=l=>{if(typeof l.value!=typeof s.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%s.value===BigInt(0):I1(l.value,s.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:s.value,input:l.value,inst:e,continue:!s.abort})}}),Pk=ke("$ZodCheckNumberFormat",(e,s)=>{Oa.init(e,s),s.format=s.format||"float64";const l=s.format?.includes("int"),o=l?"int":"number",[d,m]=q1[s.format];e._zod.onattach.push(f=>{const x=f._zod.bag;x.format=s.format,x.minimum=d,x.maximum=m,l&&(x.pattern=Ak)}),e._zod.check=f=>{const x=f.value;if(l){if(!Number.isInteger(x)){f.issues.push({expected:o,format:s.format,code:"invalid_type",continue:!1,input:x,inst:e});return}if(!Number.isSafeInteger(x)){x>0?f.issues.push({input:x,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,inclusive:!0,continue:!s.abort}):f.issues.push({input:x,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,inclusive:!0,continue:!s.abort});return}}x<d&&f.issues.push({origin:"number",input:x,code:"too_small",minimum:d,inclusive:!0,inst:e,continue:!s.abort}),x>m&&f.issues.push({origin:"number",input:x,code:"too_big",maximum:m,inclusive:!0,inst:e,continue:!s.abort})}}),Ik=ke("$ZodCheckMaxLength",(e,s)=>{var l;Oa.init(e,s),(l=e._zod.def).when??(l.when=o=>{const d=o.value;return!up(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;s.maximum<d&&(o._zod.bag.maximum=s.maximum)}),e._zod.check=o=>{const d=o.value;if(d.length<=s.maximum)return;const f=dp(d);o.issues.push({origin:f,code:"too_big",maximum:s.maximum,inclusive:!0,input:d,inst:e,continue:!s.abort})}}),Bk=ke("$ZodCheckMinLength",(e,s)=>{var l;Oa.init(e,s),(l=e._zod.def).when??(l.when=o=>{const d=o.value;return!up(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;s.minimum>d&&(o._zod.bag.minimum=s.minimum)}),e._zod.check=o=>{const d=o.value;if(d.length>=s.minimum)return;const f=dp(d);o.issues.push({origin:f,code:"too_small",minimum:s.minimum,inclusive:!0,input:d,inst:e,continue:!s.abort})}}),Uk=ke("$ZodCheckLengthEquals",(e,s)=>{var l;Oa.init(e,s),(l=e._zod.def).when??(l.when=o=>{const d=o.value;return!up(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=s.length,d.maximum=s.length,d.length=s.length}),e._zod.check=o=>{const d=o.value,m=d.length;if(m===s.length)return;const f=dp(d),x=m>s.length;o.issues.push({origin:f,...x?{code:"too_big",maximum:s.length}:{code:"too_small",minimum:s.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!s.abort})}}),Td=ke("$ZodCheckStringFormat",(e,s)=>{var l,o;Oa.init(e,s),e._zod.onattach.push(d=>{const m=d._zod.bag;m.format=s.format,s.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(s.pattern))}),s.pattern?(l=e._zod).check??(l.check=d=>{s.pattern.lastIndex=0,!s.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:s.format,input:d.value,...s.pattern?{pattern:s.pattern.toString()}:{},inst:e,continue:!s.abort})}):(o=e._zod).check??(o.check=()=>{})}),Fk=ke("$ZodCheckRegex",(e,s)=>{Td.init(e,s),e._zod.check=l=>{s.pattern.lastIndex=0,!s.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:s.pattern.toString(),inst:e,continue:!s.abort})}}),Zk=ke("$ZodCheckLowerCase",(e,s)=>{s.pattern??(s.pattern=Dk),Td.init(e,s)}),qk=ke("$ZodCheckUpperCase",(e,s)=>{s.pattern??(s.pattern=Rk),Td.init(e,s)}),Hk=ke("$ZodCheckIncludes",(e,s)=>{Oa.init(e,s);const l=wd(s.includes),o=new RegExp(typeof s.position=="number"?`^.{${s.position}}${l}`:l);s.pattern=o,e._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(o)}),e._zod.check=d=>{d.value.includes(s.includes,s.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:s.includes,input:d.value,inst:e,continue:!s.abort})}}),Kk=ke("$ZodCheckStartsWith",(e,s)=>{Oa.init(e,s);const l=new RegExp(`^${wd(s.prefix)}.*`);s.pattern??(s.pattern=l),e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.startsWith(s.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:s.prefix,input:o.value,inst:e,continue:!s.abort})}}),Qk=ke("$ZodCheckEndsWith",(e,s)=>{Oa.init(e,s);const l=new RegExp(`.*${wd(s.suffix)}$`);s.pattern??(s.pattern=l),e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.endsWith(s.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:s.suffix,input:o.value,inst:e,continue:!s.abort})}}),Gk=ke("$ZodCheckOverwrite",(e,s)=>{Oa.init(e,s),e._zod.check=l=>{l.value=s.tx(l.value)}});class Vk{constructor(s=[]){this.content=[],this.indent=0,this&&(this.args=s)}indented(s){this.indent+=1,s(this),this.indent-=1}write(s){if(typeof s=="function"){s(this,{execution:"sync"}),s(this,{execution:"async"});return}const o=s.split(`
`).filter(f=>f),d=Math.min(...o.map(f=>f.length-f.trimStart().length)),m=o.map(f=>f.slice(d)).map(f=>" ".repeat(this.indent*2)+f);for(const f of m)this.content.push(f)}compile(){const s=Function,l=this?.args,d=[...(this?.content??[""]).map(m=>`  ${m}`)];return new s(...l,d.join(`
`))}}const Yk={major:4,minor:3,patch:6},jn=ke("$ZodType",(e,s)=>{var l;e??(e={}),e._zod.def=s,e._zod.bag=e._zod.bag||{},e._zod.version=Yk;const o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const d of o)for(const m of d._zod.onattach)m(e);if(o.length===0)(l=e._zod).deferred??(l.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const d=(f,x,v)=>{let _=Pl(f),S;for(const w of x){if(w._zod.def.when){if(!w._zod.def.when(f))continue}else if(_)continue;const T=f.issues.length,z=w._zod.check(f);if(z instanceof Promise&&v?.async===!1)throw new Il;if(S||z instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await z,f.issues.length!==T&&(_||(_=Pl(f,T)))});else{if(f.issues.length===T)continue;_||(_=Pl(f,T))}}return S?S.then(()=>f):f},m=(f,x,v)=>{if(Pl(f))return f.aborted=!0,f;const _=d(x,o,v);if(_ instanceof Promise){if(v.async===!1)throw new Il;return _.then(S=>e._zod.parse(S,v))}return e._zod.parse(_,v)};e._zod.run=(f,x)=>{if(x.skipChecks)return e._zod.parse(f,x);if(x.direction==="backward"){const _=e._zod.parse({value:f.value,issues:[]},{...x,skipChecks:!0});return _ instanceof Promise?_.then(S=>m(S,f,x)):m(_,f,x)}const v=e._zod.parse(f,x);if(v instanceof Promise){if(x.async===!1)throw new Il;return v.then(_=>d(_,o,x))}return d(v,o,x)}}$t(e,"~standard",()=>({validate:d=>{try{const m=W1(e,d);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return ek(e,d).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}))}),fp=ke("$ZodString",(e,s)=>{jn.init(e,s),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ck(e._zod.bag),e._zod.parse=(l,o)=>{if(s.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:e}),l}}),pn=ke("$ZodStringFormat",(e,s)=>{Td.init(e,s),fp.init(e,s)}),$k=ke("$ZodGUID",(e,s)=>{s.pattern??(s.pattern=gk),pn.init(e,s)}),Xk=ke("$ZodUUID",(e,s)=>{if(s.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[s.version];if(o===void 0)throw new Error(`Invalid UUID version: "${s.version}"`);s.pattern??(s.pattern=o0(o))}else s.pattern??(s.pattern=o0());pn.init(e,s)}),Jk=ke("$ZodEmail",(e,s)=>{s.pattern??(s.pattern=xk),pn.init(e,s)}),Wk=ke("$ZodURL",(e,s)=>{pn.init(e,s),e._zod.check=l=>{try{const o=l.value.trim(),d=new URL(o);s.hostname&&(s.hostname.lastIndex=0,s.hostname.test(d.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:s.hostname.source,input:l.value,inst:e,continue:!s.abort})),s.protocol&&(s.protocol.lastIndex=0,s.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:s.protocol.source,input:l.value,inst:e,continue:!s.abort})),s.normalize?l.value=d.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:e,continue:!s.abort})}}}),eT=ke("$ZodEmoji",(e,s)=>{s.pattern??(s.pattern=vk()),pn.init(e,s)}),tT=ke("$ZodNanoID",(e,s)=>{s.pattern??(s.pattern=fk),pn.init(e,s)}),nT=ke("$ZodCUID",(e,s)=>{s.pattern??(s.pattern=uk),pn.init(e,s)}),aT=ke("$ZodCUID2",(e,s)=>{s.pattern??(s.pattern=ck),pn.init(e,s)}),sT=ke("$ZodULID",(e,s)=>{s.pattern??(s.pattern=dk),pn.init(e,s)}),iT=ke("$ZodXID",(e,s)=>{s.pattern??(s.pattern=mk),pn.init(e,s)}),rT=ke("$ZodKSUID",(e,s)=>{s.pattern??(s.pattern=hk),pn.init(e,s)}),lT=ke("$ZodISODateTime",(e,s)=>{s.pattern??(s.pattern=Tk(s)),pn.init(e,s)}),oT=ke("$ZodISODate",(e,s)=>{s.pattern??(s.pattern=Ek),pn.init(e,s)}),uT=ke("$ZodISOTime",(e,s)=>{s.pattern??(s.pattern=kk(s)),pn.init(e,s)}),cT=ke("$ZodISODuration",(e,s)=>{s.pattern??(s.pattern=pk),pn.init(e,s)}),dT=ke("$ZodIPv4",(e,s)=>{s.pattern??(s.pattern=bk),pn.init(e,s),e._zod.bag.format="ipv4"}),mT=ke("$ZodIPv6",(e,s)=>{s.pattern??(s.pattern=_k),pn.init(e,s),e._zod.bag.format="ipv6",e._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:e,continue:!s.abort})}}}),hT=ke("$ZodCIDRv4",(e,s)=>{s.pattern??(s.pattern=Nk),pn.init(e,s)}),fT=ke("$ZodCIDRv6",(e,s)=>{s.pattern??(s.pattern=jk),pn.init(e,s),e._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[d,m]=o;if(!m)throw new Error;const f=Number(m);if(`${f}`!==m)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${d}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:e,continue:!s.abort})}}});function e_(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const pT=ke("$ZodBase64",(e,s)=>{s.pattern??(s.pattern=Sk),pn.init(e,s),e._zod.bag.contentEncoding="base64",e._zod.check=l=>{e_(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:e,continue:!s.abort})}});function gT(e){if(!Vb.test(e))return!1;const s=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=s.padEnd(Math.ceil(s.length/4)*4,"=");return e_(l)}const xT=ke("$ZodBase64URL",(e,s)=>{s.pattern??(s.pattern=Vb),pn.init(e,s),e._zod.bag.contentEncoding="base64url",e._zod.check=l=>{gT(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:e,continue:!s.abort})}}),yT=ke("$ZodE164",(e,s)=>{s.pattern??(s.pattern=wk),pn.init(e,s)});function vT(e,s=null){try{const l=e.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||s&&(!("alg"in d)||d.alg!==s))}catch{return!1}}const bT=ke("$ZodJWT",(e,s)=>{pn.init(e,s),e._zod.check=l=>{vT(l.value,s.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:e,continue:!s.abort})}}),t_=ke("$ZodNumber",(e,s)=>{jn.init(e,s),e._zod.pattern=e._zod.bag.pattern??Mk,e._zod.parse=(l,o)=>{if(s.coerce)try{l.value=Number(l.value)}catch{}const d=l.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return l;const m=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:d,inst:e,...m?{received:m}:{}}),l}}),_T=ke("$ZodNumberFormat",(e,s)=>{Pk.init(e,s),t_.init(e,s)}),NT=ke("$ZodBoolean",(e,s)=>{jn.init(e,s),e._zod.pattern=zk,e._zod.parse=(l,o)=>{if(s.coerce)try{l.value=!!l.value}catch{}const d=l.value;return typeof d=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:e}),l}}),jT=ke("$ZodNull",(e,s)=>{jn.init(e,s),e._zod.pattern=Ok,e._zod.values=new Set([null]),e._zod.parse=(l,o)=>{const d=l.value;return d===null||l.issues.push({expected:"null",code:"invalid_type",input:d,inst:e}),l}}),ST=ke("$ZodUnknown",(e,s)=>{jn.init(e,s),e._zod.parse=l=>l}),wT=ke("$ZodNever",(e,s)=>{jn.init(e,s),e._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:e}),l)});function u0(e,s,l){e.issues.length&&s.issues.push(...Hb(l,e.issues)),s.value[l]=e.value}const ET=ke("$ZodArray",(e,s)=>{jn.init(e,s),e._zod.parse=(l,o)=>{const d=l.value;if(!Array.isArray(d))return l.issues.push({expected:"array",code:"invalid_type",input:d,inst:e}),l;l.value=Array(d.length);const m=[];for(let f=0;f<d.length;f++){const x=d[f],v=s.element._zod.run({value:x,issues:[]},o);v instanceof Promise?m.push(v.then(_=>u0(_,l,f))):u0(v,l,f)}return m.length?Promise.all(m).then(()=>l):l}});function cd(e,s,l,o,d){if(e.issues.length){if(d&&!(l in o))return;s.issues.push(...Hb(l,e.issues))}e.value===void 0?l in o&&(s.value[l]=void 0):s.value[l]=e.value}function n_(e){const s=Object.keys(e.shape);for(const o of s)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=Z1(e.shape);return{...e,keys:s,keySet:new Set(s),numKeys:s.length,optionalKeys:new Set(l)}}function a_(e,s,l,o,d,m){const f=[],x=d.keySet,v=d.catchall._zod,_=v.def.type,S=v.optout==="optional";for(const w in s){if(x.has(w))continue;if(_==="never"){f.push(w);continue}const T=v.run({value:s[w],issues:[]},o);T instanceof Promise?e.push(T.then(z=>cd(z,l,w,s,S))):cd(T,l,w,s,S)}return f.length&&l.issues.push({code:"unrecognized_keys",keys:f,input:s,inst:m}),e.length?Promise.all(e).then(()=>l):l}const kT=ke("$ZodObject",(e,s)=>{if(jn.init(e,s),!Object.getOwnPropertyDescriptor(s,"shape")?.get){const x=s.shape;Object.defineProperty(s,"shape",{get:()=>{const v={...x};return Object.defineProperty(s,"shape",{value:v}),v}})}const o=op(()=>n_(s));$t(e._zod,"propValues",()=>{const x=s.shape,v={};for(const _ in x){const S=x[_]._zod;if(S.values){v[_]??(v[_]=new Set);for(const w of S.values)v[_].add(w)}}return v});const d=ud,m=s.catchall;let f;e._zod.parse=(x,v)=>{f??(f=o.value);const _=x.value;if(!d(_))return x.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),x;x.value={};const S=[],w=f.shape;for(const T of f.keys){const z=w[T],k=z._zod.optout==="optional",A=z._zod.run({value:_[T],issues:[]},v);A instanceof Promise?S.push(A.then(D=>cd(D,x,T,_,k))):cd(A,x,T,_,k)}return m?a_(S,_,x,v,o.value,e):S.length?Promise.all(S).then(()=>x):x}}),TT=ke("$ZodObjectJIT",(e,s)=>{kT.init(e,s);const l=e._zod.parse,o=op(()=>n_(s)),d=T=>{const z=new Vk(["shape","payload","ctx"]),k=o.value,A=R=>{const G=l0(R);return`shape[${G}]._zod.run({ value: input[${G}], issues: [] }, ctx)`};z.write("const input = payload.value;");const D=Object.create(null);let F=0;for(const R of k.keys)D[R]=`key_${F++}`;z.write("const newResult = {};");for(const R of k.keys){const G=D[R],Y=l0(R),q=T[R]?._zod?.optout==="optional";z.write(`const ${G} = ${A(R)};`),q?z.write(`
        if (${G}.issues.length) {
          if (${Y} in input) {
            payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Y}, ...iss.path] : [${Y}]
            })));
          }
        }
        
        if (${G}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${G}.value;
        }
        
      `):z.write(`
        if (${G}.issues.length) {
          payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Y}, ...iss.path] : [${Y}]
          })));
        }
        
        if (${G}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${G}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const B=z.compile();return(R,G)=>B(T,R,G)};let m;const f=ud,x=!Ub.jitless,_=x&&U1.value,S=s.catchall;let w;e._zod.parse=(T,z)=>{w??(w=o.value);const k=T.value;return f(k)?x&&_&&z?.async===!1&&z.jitless!==!0?(m||(m=d(s.shape)),T=m(T,z),S?a_([],k,T,z,w,e):T):l(T,z):(T.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),T)}});function c0(e,s,l,o){for(const m of e)if(m.issues.length===0)return s.value=m.value,s;const d=e.filter(m=>!Pl(m));return d.length===1?(s.value=d[0].value,d[0]):(s.issues.push({code:"invalid_union",input:s.value,inst:l,errors:e.map(m=>m.issues.map(f=>Kr(f,o,Hr())))}),s)}const CT=ke("$ZodUnion",(e,s)=>{jn.init(e,s),$t(e._zod,"optin",()=>s.options.some(d=>d._zod.optin==="optional")?"optional":void 0),$t(e._zod,"optout",()=>s.options.some(d=>d._zod.optout==="optional")?"optional":void 0),$t(e._zod,"values",()=>{if(s.options.every(d=>d._zod.values))return new Set(s.options.flatMap(d=>Array.from(d._zod.values)))}),$t(e._zod,"pattern",()=>{if(s.options.every(d=>d._zod.pattern)){const d=s.options.map(m=>m._zod.pattern);return new RegExp(`^(${d.map(m=>cp(m.source)).join("|")})$`)}});const l=s.options.length===1,o=s.options[0]._zod.run;e._zod.parse=(d,m)=>{if(l)return o(d,m);let f=!1;const x=[];for(const v of s.options){const _=v._zod.run({value:d.value,issues:[]},m);if(_ instanceof Promise)x.push(_),f=!0;else{if(_.issues.length===0)return _;x.push(_)}}return f?Promise.all(x).then(v=>c0(v,d,e,m)):c0(x,d,e,m)}}),AT=ke("$ZodIntersection",(e,s)=>{jn.init(e,s),e._zod.parse=(l,o)=>{const d=l.value,m=s.left._zod.run({value:d,issues:[]},o),f=s.right._zod.run({value:d,issues:[]},o);return m instanceof Promise||f instanceof Promise?Promise.all([m,f]).then(([v,_])=>d0(l,v,_)):d0(l,m,f)}});function Of(e,s){if(e===s)return{valid:!0,data:e};if(e instanceof Date&&s instanceof Date&&+e==+s)return{valid:!0,data:e};if(au(e)&&au(s)){const l=Object.keys(s),o=Object.keys(e).filter(m=>l.indexOf(m)!==-1),d={...e,...s};for(const m of o){const f=Of(e[m],s[m]);if(!f.valid)return{valid:!1,mergeErrorPath:[m,...f.mergeErrorPath]};d[m]=f.data}return{valid:!0,data:d}}if(Array.isArray(e)&&Array.isArray(s)){if(e.length!==s.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<e.length;o++){const d=e[o],m=s[o],f=Of(d,m);if(!f.valid)return{valid:!1,mergeErrorPath:[o,...f.mergeErrorPath]};l.push(f.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function d0(e,s,l){const o=new Map;let d;for(const x of s.issues)if(x.code==="unrecognized_keys"){d??(d=x);for(const v of x.keys)o.has(v)||o.set(v,{}),o.get(v).l=!0}else e.issues.push(x);for(const x of l.issues)if(x.code==="unrecognized_keys")for(const v of x.keys)o.has(v)||o.set(v,{}),o.get(v).r=!0;else e.issues.push(x);const m=[...o].filter(([,x])=>x.l&&x.r).map(([x])=>x);if(m.length&&d&&e.issues.push({...d,keys:m}),Pl(e))return e;const f=Of(s.value,l.value);if(!f.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(f.mergeErrorPath)}`);return e.value=f.data,e}const MT=ke("$ZodEnum",(e,s)=>{jn.init(e,s);const l=Fb(s.entries),o=new Set(l);e._zod.values=o,e._zod.pattern=new RegExp(`^(${l.filter(d=>F1.has(typeof d)).map(d=>typeof d=="string"?wd(d):d.toString()).join("|")})$`),e._zod.parse=(d,m)=>{const f=d.value;return o.has(f)||d.issues.push({code:"invalid_value",values:l,input:f,inst:e}),d}}),zT=ke("$ZodTransform",(e,s)=>{jn.init(e,s),e._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Bb(e.constructor.name);const d=s.transform(l.value,l);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(f=>(l.value=f,l));if(d instanceof Promise)throw new Il;return l.value=d,l}});function m0(e,s){return e.issues.length&&s===void 0?{issues:[],value:void 0}:e}const s_=ke("$ZodOptional",(e,s)=>{jn.init(e,s),e._zod.optin="optional",e._zod.optout="optional",$t(e._zod,"values",()=>s.innerType._zod.values?new Set([...s.innerType._zod.values,void 0]):void 0),$t(e._zod,"pattern",()=>{const l=s.innerType._zod.pattern;return l?new RegExp(`^(${cp(l.source)})?$`):void 0}),e._zod.parse=(l,o)=>{if(s.innerType._zod.optin==="optional"){const d=s.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>m0(m,l.value)):m0(d,l.value)}return l.value===void 0?l:s.innerType._zod.run(l,o)}}),OT=ke("$ZodExactOptional",(e,s)=>{s_.init(e,s),$t(e._zod,"values",()=>s.innerType._zod.values),$t(e._zod,"pattern",()=>s.innerType._zod.pattern),e._zod.parse=(l,o)=>s.innerType._zod.run(l,o)}),DT=ke("$ZodNullable",(e,s)=>{jn.init(e,s),$t(e._zod,"optin",()=>s.innerType._zod.optin),$t(e._zod,"optout",()=>s.innerType._zod.optout),$t(e._zod,"pattern",()=>{const l=s.innerType._zod.pattern;return l?new RegExp(`^(${cp(l.source)}|null)$`):void 0}),$t(e._zod,"values",()=>s.innerType._zod.values?new Set([...s.innerType._zod.values,null]):void 0),e._zod.parse=(l,o)=>l.value===null?l:s.innerType._zod.run(l,o)}),RT=ke("$ZodDefault",(e,s)=>{jn.init(e,s),e._zod.optin="optional",$t(e._zod,"values",()=>s.innerType._zod.values),e._zod.parse=(l,o)=>{if(o.direction==="backward")return s.innerType._zod.run(l,o);if(l.value===void 0)return l.value=s.defaultValue,l;const d=s.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>h0(m,s)):h0(d,s)}});function h0(e,s){return e.value===void 0&&(e.value=s.defaultValue),e}const LT=ke("$ZodPrefault",(e,s)=>{jn.init(e,s),e._zod.optin="optional",$t(e._zod,"values",()=>s.innerType._zod.values),e._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=s.defaultValue),s.innerType._zod.run(l,o))}),PT=ke("$ZodNonOptional",(e,s)=>{jn.init(e,s),$t(e._zod,"values",()=>{const l=s.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),e._zod.parse=(l,o)=>{const d=s.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>f0(m,e)):f0(d,e)}});function f0(e,s){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:s}),e}const IT=ke("$ZodCatch",(e,s)=>{jn.init(e,s),$t(e._zod,"optin",()=>s.innerType._zod.optin),$t(e._zod,"optout",()=>s.innerType._zod.optout),$t(e._zod,"values",()=>s.innerType._zod.values),e._zod.parse=(l,o)=>{if(o.direction==="backward")return s.innerType._zod.run(l,o);const d=s.innerType._zod.run(l,o);return d instanceof Promise?d.then(m=>(l.value=m.value,m.issues.length&&(l.value=s.catchValue({...l,error:{issues:m.issues.map(f=>Kr(f,o,Hr()))},input:l.value}),l.issues=[]),l)):(l.value=d.value,d.issues.length&&(l.value=s.catchValue({...l,error:{issues:d.issues.map(m=>Kr(m,o,Hr()))},input:l.value}),l.issues=[]),l)}}),BT=ke("$ZodPipe",(e,s)=>{jn.init(e,s),$t(e._zod,"values",()=>s.in._zod.values),$t(e._zod,"optin",()=>s.in._zod.optin),$t(e._zod,"optout",()=>s.out._zod.optout),$t(e._zod,"propValues",()=>s.in._zod.propValues),e._zod.parse=(l,o)=>{if(o.direction==="backward"){const m=s.out._zod.run(l,o);return m instanceof Promise?m.then(f=>Zc(f,s.in,o)):Zc(m,s.in,o)}const d=s.in._zod.run(l,o);return d instanceof Promise?d.then(m=>Zc(m,s.out,o)):Zc(d,s.out,o)}});function Zc(e,s,l){return e.issues.length?(e.aborted=!0,e):s._zod.run({value:e.value,issues:e.issues},l)}const UT=ke("$ZodReadonly",(e,s)=>{jn.init(e,s),$t(e._zod,"propValues",()=>s.innerType._zod.propValues),$t(e._zod,"values",()=>s.innerType._zod.values),$t(e._zod,"optin",()=>s.innerType?._zod?.optin),$t(e._zod,"optout",()=>s.innerType?._zod?.optout),e._zod.parse=(l,o)=>{if(o.direction==="backward")return s.innerType._zod.run(l,o);const d=s.innerType._zod.run(l,o);return d instanceof Promise?d.then(p0):p0(d)}});function p0(e){return e.value=Object.freeze(e.value),e}const FT=ke("$ZodCustom",(e,s)=>{Oa.init(e,s),jn.init(e,s),e._zod.parse=(l,o)=>l,e._zod.check=l=>{const o=l.value,d=s.fn(o);if(d instanceof Promise)return d.then(m=>g0(m,l,o,e));g0(d,l,o,e)}});function g0(e,s,l,o){if(!e){const d={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),s.issues.push(su(d))}}var x0;class ZT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(s,...l){const o=l[0];return this._map.set(s,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,s),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(s){const l=this._map.get(s);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(s),this}get(s){const l=s._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const d={...o,...this._map.get(s)};return Object.keys(d).length?d:void 0}return this._map.get(s)}has(s){return this._map.has(s)}}function qT(){return new ZT}(x0=globalThis).__zod_globalRegistry??(x0.__zod_globalRegistry=qT());const Xo=globalThis.__zod_globalRegistry;function HT(e,s){return new e({type:"string",...We(s)})}function KT(e,s){return new e({type:"string",format:"email",check:"string_format",abort:!1,...We(s)})}function y0(e,s){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...We(s)})}function QT(e,s){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...We(s)})}function GT(e,s){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(s)})}function VT(e,s){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(s)})}function YT(e,s){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(s)})}function $T(e,s){return new e({type:"string",format:"url",check:"string_format",abort:!1,...We(s)})}function XT(e,s){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...We(s)})}function JT(e,s){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(s)})}function WT(e,s){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...We(s)})}function eC(e,s){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(s)})}function tC(e,s){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...We(s)})}function nC(e,s){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...We(s)})}function aC(e,s){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(s)})}function sC(e,s){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(s)})}function iC(e,s){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(s)})}function rC(e,s){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(s)})}function lC(e,s){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(s)})}function oC(e,s){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...We(s)})}function uC(e,s){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...We(s)})}function cC(e,s){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...We(s)})}function dC(e,s){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...We(s)})}function mC(e,s){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(s)})}function hC(e,s){return new e({type:"string",format:"date",check:"string_format",...We(s)})}function fC(e,s){return new e({type:"string",format:"time",check:"string_format",precision:null,...We(s)})}function pC(e,s){return new e({type:"string",format:"duration",check:"string_format",...We(s)})}function gC(e,s){return new e({type:"number",coerce:!0,checks:[],...We(s)})}function xC(e,s){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...We(s)})}function yC(e,s){return new e({type:"boolean",...We(s)})}function vC(e,s){return new e({type:"null",...We(s)})}function bC(e){return new e({type:"unknown"})}function _C(e,s){return new e({type:"never",...We(s)})}function v0(e,s){return new Jb({check:"less_than",...We(s),value:e,inclusive:!1})}function Lh(e,s){return new Jb({check:"less_than",...We(s),value:e,inclusive:!0})}function b0(e,s){return new Wb({check:"greater_than",...We(s),value:e,inclusive:!1})}function Ph(e,s){return new Wb({check:"greater_than",...We(s),value:e,inclusive:!0})}function _0(e,s){return new Lk({check:"multiple_of",...We(s),value:e})}function i_(e,s){return new Ik({check:"max_length",...We(s),maximum:e})}function dd(e,s){return new Bk({check:"min_length",...We(s),minimum:e})}function r_(e,s){return new Uk({check:"length_equals",...We(s),length:e})}function NC(e,s){return new Fk({check:"string_format",format:"regex",...We(s),pattern:e})}function jC(e){return new Zk({check:"string_format",format:"lowercase",...We(e)})}function SC(e){return new qk({check:"string_format",format:"uppercase",...We(e)})}function wC(e,s){return new Hk({check:"string_format",format:"includes",...We(s),includes:e})}function EC(e,s){return new Kk({check:"string_format",format:"starts_with",...We(s),prefix:e})}function kC(e,s){return new Qk({check:"string_format",format:"ends_with",...We(s),suffix:e})}function Gl(e){return new Gk({check:"overwrite",tx:e})}function TC(e){return Gl(s=>s.normalize(e))}function CC(){return Gl(e=>e.trim())}function AC(){return Gl(e=>e.toLowerCase())}function MC(){return Gl(e=>e.toUpperCase())}function zC(){return Gl(e=>B1(e))}function OC(e,s,l){return new e({type:"array",element:s,...We(l)})}function DC(e,s,l){return new e({type:"custom",check:"custom",fn:s,...We(l)})}function RC(e){const s=LC(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(su(o,l.value,s._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=s),d.continue??(d.continue=!s._zod.def.abort),l.issues.push(su(d))}},e(l.value,l)));return s}function LC(e,s){const l=new Oa({check:"custom",...We(s)});return l._zod.check=e,l}function l_(e){let s=e?.target??"draft-2020-12";return s==="draft-4"&&(s="draft-04"),s==="draft-7"&&(s="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Xo,target:s,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function aa(e,s,l={path:[],schemaPath:[]}){var o;const d=e._zod.def,m=s.seen.get(e);if(m)return m.count++,l.schemaPath.includes(e)&&(m.cycle=l.path),m.schema;const f={schema:{},count:1,cycle:void 0,path:l.path};s.seen.set(e,f);const x=e._zod.toJSONSchema?.();if(x)f.schema=x;else{const S={...l,schemaPath:[...l.schemaPath,e],path:l.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(s,f.schema,S);else{const T=f.schema,z=s.processors[d.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${d.type}`);z(e,s,T,S)}const w=e._zod.parent;w&&(f.ref||(f.ref=w),aa(w,s,S),s.seen.get(w).isParent=!0)}const v=s.metadataRegistry.get(e);return v&&Object.assign(f.schema,v),s.io==="input"&&ga(e)&&(delete f.schema.examples,delete f.schema.default),s.io==="input"&&f.schema._prefault&&((o=f.schema).default??(o.default=f.schema._prefault)),delete f.schema._prefault,s.seen.get(e).schema}function o_(e,s){const l=e.seen.get(s);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const f of e.seen.entries()){const x=e.metadataRegistry.get(f[0])?.id;if(x){const v=o.get(x);if(v&&v!==f[0])throw new Error(`Duplicate schema id "${x}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(x,f[0])}}const d=f=>{const x=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const w=e.external.registry.get(f[0])?.id,T=e.external.uri??(k=>k);if(w)return{ref:T(w)};const z=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=z,{defId:z,ref:`${T("__shared")}#/${x}/${z}`}}if(f[1]===l)return{ref:"#"};const _=`#/${x}/`,S=f[1].schema.id??`__schema${e.counter++}`;return{defId:S,ref:_+S}},m=f=>{if(f[1].schema.$ref)return;const x=f[1],{ref:v,defId:_}=d(f);x.def={...x.schema},_&&(x.defId=_);const S=x.schema;for(const w in S)delete S[w];S.$ref=v};if(e.cycles==="throw")for(const f of e.seen.entries()){const x=f[1];if(x.cycle)throw new Error(`Cycle detected: #/${x.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const x=f[1];if(s===f[0]){m(f);continue}if(e.external){const _=e.external.registry.get(f[0])?.id;if(s!==f[0]&&_){m(f);continue}}if(e.metadataRegistry.get(f[0])?.id){m(f);continue}if(x.cycle){m(f);continue}if(x.count>1&&e.reused==="ref"){m(f);continue}}}function u_(e,s){const l=e.seen.get(s);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=f=>{const x=e.seen.get(f);if(x.ref===null)return;const v=x.def??x.schema,_={...v},S=x.ref;if(x.ref=null,S){o(S);const T=e.seen.get(S),z=T.schema;if(z.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(z)):Object.assign(v,z),Object.assign(v,_),f._zod.parent===S)for(const A in v)A==="$ref"||A==="allOf"||A in _||delete v[A];if(z.$ref&&T.def)for(const A in v)A==="$ref"||A==="allOf"||A in T.def&&JSON.stringify(v[A])===JSON.stringify(T.def[A])&&delete v[A]}const w=f._zod.parent;if(w&&w!==S){o(w);const T=e.seen.get(w);if(T?.schema.$ref&&(v.$ref=T.schema.$ref,T.def))for(const z in v)z==="$ref"||z==="allOf"||z in T.def&&JSON.stringify(v[z])===JSON.stringify(T.def[z])&&delete v[z]}e.override({zodSchema:f,jsonSchema:v,path:x.path??[]})};for(const f of[...e.seen.entries()].reverse())o(f[0]);const d={};if(e.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const f=e.external.registry.get(s)?.id;if(!f)throw new Error("Schema is missing an `id` property");d.$id=e.external.uri(f)}Object.assign(d,l.def??l.schema);const m=e.external?.defs??{};for(const f of e.seen.entries()){const x=f[1];x.def&&x.defId&&(m[x.defId]=x.def)}e.external||Object.keys(m).length>0&&(e.target==="draft-2020-12"?d.$defs=m:d.definitions=m);try{const f=JSON.parse(JSON.stringify(d));return Object.defineProperty(f,"~standard",{value:{...s["~standard"],jsonSchema:{input:md(s,"input",e.processors),output:md(s,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function ga(e,s){const l=s??{seen:new Set};if(l.seen.has(e))return!1;l.seen.add(e);const o=e._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return ga(o.element,l);if(o.type==="set")return ga(o.valueType,l);if(o.type==="lazy")return ga(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return ga(o.innerType,l);if(o.type==="intersection")return ga(o.left,l)||ga(o.right,l);if(o.type==="record"||o.type==="map")return ga(o.keyType,l)||ga(o.valueType,l);if(o.type==="pipe")return ga(o.in,l)||ga(o.out,l);if(o.type==="object"){for(const d in o.shape)if(ga(o.shape[d],l))return!0;return!1}if(o.type==="union"){for(const d of o.options)if(ga(d,l))return!0;return!1}if(o.type==="tuple"){for(const d of o.items)if(ga(d,l))return!0;return!!(o.rest&&ga(o.rest,l))}return!1}const PC=(e,s={})=>l=>{const o=l_({...l,processors:s});return aa(e,o),o_(o,e),u_(o,e)},md=(e,s,l={})=>o=>{const{libraryOptions:d,target:m}=o??{},f=l_({...d??{},target:m,io:s,processors:l});return aa(e,f),o_(f,e),u_(f,e)},IC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},BC=(e,s,l,o)=>{const d=l;d.type="string";const{minimum:m,maximum:f,format:x,patterns:v,contentEncoding:_}=e._zod.bag;if(typeof m=="number"&&(d.minLength=m),typeof f=="number"&&(d.maxLength=f),x&&(d.format=IC[x]??x,d.format===""&&delete d.format,x==="time"&&delete d.format),_&&(d.contentEncoding=_),v&&v.size>0){const S=[...v];S.length===1?d.pattern=S[0].source:S.length>1&&(d.allOf=[...S.map(w=>({...s.target==="draft-07"||s.target==="draft-04"||s.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))])}},UC=(e,s,l,o)=>{const d=l,{minimum:m,maximum:f,format:x,multipleOf:v,exclusiveMaximum:_,exclusiveMinimum:S}=e._zod.bag;typeof x=="string"&&x.includes("int")?d.type="integer":d.type="number",typeof S=="number"&&(s.target==="draft-04"||s.target==="openapi-3.0"?(d.minimum=S,d.exclusiveMinimum=!0):d.exclusiveMinimum=S),typeof m=="number"&&(d.minimum=m,typeof S=="number"&&s.target!=="draft-04"&&(S>=m?delete d.minimum:delete d.exclusiveMinimum)),typeof _=="number"&&(s.target==="draft-04"||s.target==="openapi-3.0"?(d.maximum=_,d.exclusiveMaximum=!0):d.exclusiveMaximum=_),typeof f=="number"&&(d.maximum=f,typeof _=="number"&&s.target!=="draft-04"&&(_<=f?delete d.maximum:delete d.exclusiveMaximum)),typeof v=="number"&&(d.multipleOf=v)},FC=(e,s,l,o)=>{l.type="boolean"},ZC=(e,s,l,o)=>{s.target==="openapi-3.0"?(l.type="string",l.nullable=!0,l.enum=[null]):l.type="null"},qC=(e,s,l,o)=>{l.not={}},HC=(e,s,l,o)=>{},KC=(e,s,l,o)=>{const d=e._zod.def,m=Fb(d.entries);m.every(f=>typeof f=="number")&&(l.type="number"),m.every(f=>typeof f=="string")&&(l.type="string"),l.enum=m},QC=(e,s,l,o)=>{if(s.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},GC=(e,s,l,o)=>{if(s.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},VC=(e,s,l,o)=>{const d=l,m=e._zod.def,{minimum:f,maximum:x}=e._zod.bag;typeof f=="number"&&(d.minItems=f),typeof x=="number"&&(d.maxItems=x),d.type="array",d.items=aa(m.element,s,{...o,path:[...o.path,"items"]})},YC=(e,s,l,o)=>{const d=l,m=e._zod.def;d.type="object",d.properties={};const f=m.shape;for(const _ in f)d.properties[_]=aa(f[_],s,{...o,path:[...o.path,"properties",_]});const x=new Set(Object.keys(f)),v=new Set([...x].filter(_=>{const S=m.shape[_]._zod;return s.io==="input"?S.optin===void 0:S.optout===void 0}));v.size>0&&(d.required=Array.from(v)),m.catchall?._zod.def.type==="never"?d.additionalProperties=!1:m.catchall?m.catchall&&(d.additionalProperties=aa(m.catchall,s,{...o,path:[...o.path,"additionalProperties"]})):s.io==="output"&&(d.additionalProperties=!1)},$C=(e,s,l,o)=>{const d=e._zod.def,m=d.inclusive===!1,f=d.options.map((x,v)=>aa(x,s,{...o,path:[...o.path,m?"oneOf":"anyOf",v]}));m?l.oneOf=f:l.anyOf=f},XC=(e,s,l,o)=>{const d=e._zod.def,m=aa(d.left,s,{...o,path:[...o.path,"allOf",0]}),f=aa(d.right,s,{...o,path:[...o.path,"allOf",1]}),x=_=>"allOf"in _&&Object.keys(_).length===1,v=[...x(m)?m.allOf:[m],...x(f)?f.allOf:[f]];l.allOf=v},JC=(e,s,l,o)=>{const d=e._zod.def,m=aa(d.innerType,s,o),f=s.seen.get(e);s.target==="openapi-3.0"?(f.ref=d.innerType,l.nullable=!0):l.anyOf=[m,{type:"null"}]},WC=(e,s,l,o)=>{const d=e._zod.def;aa(d.innerType,s,o);const m=s.seen.get(e);m.ref=d.innerType},eA=(e,s,l,o)=>{const d=e._zod.def;aa(d.innerType,s,o);const m=s.seen.get(e);m.ref=d.innerType,l.default=JSON.parse(JSON.stringify(d.defaultValue))},tA=(e,s,l,o)=>{const d=e._zod.def;aa(d.innerType,s,o);const m=s.seen.get(e);m.ref=d.innerType,s.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(d.defaultValue)))},nA=(e,s,l,o)=>{const d=e._zod.def;aa(d.innerType,s,o);const m=s.seen.get(e);m.ref=d.innerType;let f;try{f=d.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=f},aA=(e,s,l,o)=>{const d=e._zod.def,m=s.io==="input"?d.in._zod.def.type==="transform"?d.out:d.in:d.out;aa(m,s,o);const f=s.seen.get(e);f.ref=m},sA=(e,s,l,o)=>{const d=e._zod.def;aa(d.innerType,s,o);const m=s.seen.get(e);m.ref=d.innerType,l.readOnly=!0},c_=(e,s,l,o)=>{const d=e._zod.def;aa(d.innerType,s,o);const m=s.seen.get(e);m.ref=d.innerType},iA=ke("ZodISODateTime",(e,s)=>{lT.init(e,s),xn.init(e,s)});function rA(e){return mC(iA,e)}const lA=ke("ZodISODate",(e,s)=>{oT.init(e,s),xn.init(e,s)});function oA(e){return hC(lA,e)}const uA=ke("ZodISOTime",(e,s)=>{uT.init(e,s),xn.init(e,s)});function cA(e){return fC(uA,e)}const dA=ke("ZodISODuration",(e,s)=>{cT.init(e,s),xn.init(e,s)});function mA(e){return pC(dA,e)}const hA=(e,s)=>{Qb.init(e,s),e.name="ZodError",Object.defineProperties(e,{format:{value:l=>J1(e,l)},flatten:{value:l=>X1(e,l)},addIssue:{value:l=>{e.issues.push(l),e.message=JSON.stringify(e.issues,zf,2)}},addIssues:{value:l=>{e.issues.push(...l),e.message=JSON.stringify(e.issues,zf,2)}},isEmpty:{get(){return e.issues.length===0}}})},fs=ke("ZodError",hA,{Parent:Error}),fA=mp(fs),pA=hp(fs),gA=Ed(fs),xA=kd(fs),yA=tk(fs),vA=nk(fs),bA=ak(fs),_A=sk(fs),NA=ik(fs),jA=rk(fs),SA=lk(fs),wA=ok(fs),Sn=ke("ZodType",(e,s)=>(jn.init(e,s),Object.assign(e["~standard"],{jsonSchema:{input:md(e,"input"),output:md(e,"output")}}),e.toJSONSchema=PC(e,{}),e.def=s,e.type=s.type,Object.defineProperty(e,"_def",{value:s}),e.check=(...l)=>e.clone(nr(s,{checks:[...s.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),e.with=e.check,e.clone=(l,o)=>ar(e,l,o),e.brand=()=>e,e.register=((l,o)=>(l.add(e,o),e)),e.parse=(l,o)=>fA(e,l,o,{callee:e.parse}),e.safeParse=(l,o)=>gA(e,l,o),e.parseAsync=async(l,o)=>pA(e,l,o,{callee:e.parseAsync}),e.safeParseAsync=async(l,o)=>xA(e,l,o),e.spa=e.safeParseAsync,e.encode=(l,o)=>yA(e,l,o),e.decode=(l,o)=>vA(e,l,o),e.encodeAsync=async(l,o)=>bA(e,l,o),e.decodeAsync=async(l,o)=>_A(e,l,o),e.safeEncode=(l,o)=>NA(e,l,o),e.safeDecode=(l,o)=>jA(e,l,o),e.safeEncodeAsync=async(l,o)=>SA(e,l,o),e.safeDecodeAsync=async(l,o)=>wA(e,l,o),e.refine=(l,o)=>e.check(y3(l,o)),e.superRefine=l=>e.check(v3(l)),e.overwrite=l=>e.check(Gl(l)),e.optional=()=>w0(e),e.exactOptional=()=>i3(e),e.nullable=()=>E0(e),e.nullish=()=>w0(E0(e)),e.nonoptional=l=>d3(e,l),e.array=()=>XA(e),e.or=l=>hd([e,l]),e.and=l=>t3(e,l),e.transform=l=>k0(e,a3(l)),e.default=l=>o3(e,l),e.prefault=l=>c3(e,l),e.catch=l=>h3(e,l),e.pipe=l=>k0(e,l),e.readonly=()=>g3(e),e.describe=l=>{const o=e.clone();return Xo.add(o,{description:l}),o},Object.defineProperty(e,"description",{get(){return Xo.get(e)?.description},configurable:!0}),e.meta=(...l)=>{if(l.length===0)return Xo.get(e);const o=e.clone();return Xo.add(o,l[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=l=>l(e),e)),d_=ke("_ZodString",(e,s)=>{fp.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(o,d,m)=>BC(e,o,d);const l=e._zod.bag;e.format=l.format??null,e.minLength=l.minimum??null,e.maxLength=l.maximum??null,e.regex=(...o)=>e.check(NC(...o)),e.includes=(...o)=>e.check(wC(...o)),e.startsWith=(...o)=>e.check(EC(...o)),e.endsWith=(...o)=>e.check(kC(...o)),e.min=(...o)=>e.check(dd(...o)),e.max=(...o)=>e.check(i_(...o)),e.length=(...o)=>e.check(r_(...o)),e.nonempty=(...o)=>e.check(dd(1,...o)),e.lowercase=o=>e.check(jC(o)),e.uppercase=o=>e.check(SC(o)),e.trim=()=>e.check(CC()),e.normalize=(...o)=>e.check(TC(...o)),e.toLowerCase=()=>e.check(AC()),e.toUpperCase=()=>e.check(MC()),e.slugify=()=>e.check(zC())}),EA=ke("ZodString",(e,s)=>{fp.init(e,s),d_.init(e,s),e.email=l=>e.check(KT(kA,l)),e.url=l=>e.check($T(TA,l)),e.jwt=l=>e.check(dC(qA,l)),e.emoji=l=>e.check(XT(CA,l)),e.guid=l=>e.check(y0(N0,l)),e.uuid=l=>e.check(QT(qc,l)),e.uuidv4=l=>e.check(GT(qc,l)),e.uuidv6=l=>e.check(VT(qc,l)),e.uuidv7=l=>e.check(YT(qc,l)),e.nanoid=l=>e.check(JT(AA,l)),e.guid=l=>e.check(y0(N0,l)),e.cuid=l=>e.check(WT(MA,l)),e.cuid2=l=>e.check(eC(zA,l)),e.ulid=l=>e.check(tC(OA,l)),e.base64=l=>e.check(oC(UA,l)),e.base64url=l=>e.check(uC(FA,l)),e.xid=l=>e.check(nC(DA,l)),e.ksuid=l=>e.check(aC(RA,l)),e.ipv4=l=>e.check(sC(LA,l)),e.ipv6=l=>e.check(iC(PA,l)),e.cidrv4=l=>e.check(rC(IA,l)),e.cidrv6=l=>e.check(lC(BA,l)),e.e164=l=>e.check(cC(ZA,l)),e.datetime=l=>e.check(rA(l)),e.date=l=>e.check(oA(l)),e.time=l=>e.check(cA(l)),e.duration=l=>e.check(mA(l))});function na(e){return HT(EA,e)}const xn=ke("ZodStringFormat",(e,s)=>{pn.init(e,s),d_.init(e,s)}),kA=ke("ZodEmail",(e,s)=>{Jk.init(e,s),xn.init(e,s)}),N0=ke("ZodGUID",(e,s)=>{$k.init(e,s),xn.init(e,s)}),qc=ke("ZodUUID",(e,s)=>{Xk.init(e,s),xn.init(e,s)}),TA=ke("ZodURL",(e,s)=>{Wk.init(e,s),xn.init(e,s)}),CA=ke("ZodEmoji",(e,s)=>{eT.init(e,s),xn.init(e,s)}),AA=ke("ZodNanoID",(e,s)=>{tT.init(e,s),xn.init(e,s)}),MA=ke("ZodCUID",(e,s)=>{nT.init(e,s),xn.init(e,s)}),zA=ke("ZodCUID2",(e,s)=>{aT.init(e,s),xn.init(e,s)}),OA=ke("ZodULID",(e,s)=>{sT.init(e,s),xn.init(e,s)}),DA=ke("ZodXID",(e,s)=>{iT.init(e,s),xn.init(e,s)}),RA=ke("ZodKSUID",(e,s)=>{rT.init(e,s),xn.init(e,s)}),LA=ke("ZodIPv4",(e,s)=>{dT.init(e,s),xn.init(e,s)}),PA=ke("ZodIPv6",(e,s)=>{mT.init(e,s),xn.init(e,s)}),IA=ke("ZodCIDRv4",(e,s)=>{hT.init(e,s),xn.init(e,s)}),BA=ke("ZodCIDRv6",(e,s)=>{fT.init(e,s),xn.init(e,s)}),UA=ke("ZodBase64",(e,s)=>{pT.init(e,s),xn.init(e,s)}),FA=ke("ZodBase64URL",(e,s)=>{xT.init(e,s),xn.init(e,s)}),ZA=ke("ZodE164",(e,s)=>{yT.init(e,s),xn.init(e,s)}),qA=ke("ZodJWT",(e,s)=>{bT.init(e,s),xn.init(e,s)}),m_=ke("ZodNumber",(e,s)=>{t_.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(o,d,m)=>UC(e,o,d),e.gt=(o,d)=>e.check(b0(o,d)),e.gte=(o,d)=>e.check(Ph(o,d)),e.min=(o,d)=>e.check(Ph(o,d)),e.lt=(o,d)=>e.check(v0(o,d)),e.lte=(o,d)=>e.check(Lh(o,d)),e.max=(o,d)=>e.check(Lh(o,d)),e.int=o=>e.check(j0(o)),e.safe=o=>e.check(j0(o)),e.positive=o=>e.check(b0(0,o)),e.nonnegative=o=>e.check(Ph(0,o)),e.negative=o=>e.check(v0(0,o)),e.nonpositive=o=>e.check(Lh(0,o)),e.multipleOf=(o,d)=>e.check(_0(o,d)),e.step=(o,d)=>e.check(_0(o,d)),e.finite=()=>e;const l=e._zod.bag;e.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),e.isFinite=!0,e.format=l.format??null}),HA=ke("ZodNumberFormat",(e,s)=>{_T.init(e,s),m_.init(e,s)});function j0(e){return xC(HA,e)}const KA=ke("ZodBoolean",(e,s)=>{NT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>FC(e,l,o)});function Cd(e){return yC(KA,e)}const QA=ke("ZodNull",(e,s)=>{jT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>ZC(e,l,o)});function Df(e){return vC(QA,e)}const GA=ke("ZodUnknown",(e,s)=>{ST.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>HC()});function S0(){return bC(GA)}const VA=ke("ZodNever",(e,s)=>{wT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>qC(e,l,o)});function YA(e){return _C(VA,e)}const $A=ke("ZodArray",(e,s)=>{ET.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>VC(e,l,o,d),e.element=s.element,e.min=(l,o)=>e.check(dd(l,o)),e.nonempty=l=>e.check(dd(1,l)),e.max=(l,o)=>e.check(i_(l,o)),e.length=(l,o)=>e.check(r_(l,o)),e.unwrap=()=>e.element});function XA(e,s){return OC($A,e,s)}const JA=ke("ZodObject",(e,s)=>{TT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>YC(e,l,o,d),$t(e,"shape",()=>s.shape),e.keyof=()=>Lf(Object.keys(e._zod.def.shape)),e.catchall=l=>e.clone({...e._zod.def,catchall:l}),e.passthrough=()=>e.clone({...e._zod.def,catchall:S0()}),e.loose=()=>e.clone({...e._zod.def,catchall:S0()}),e.strict=()=>e.clone({...e._zod.def,catchall:YA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=l=>Q1(e,l),e.safeExtend=l=>G1(e,l),e.merge=l=>V1(e,l),e.pick=l=>H1(e,l),e.omit=l=>K1(e,l),e.partial=(...l)=>Y1(h_,e,l[0]),e.required=(...l)=>$1(f_,e,l[0])});function Qa(e,s){const l={type:"object",shape:e??{},...We(s)};return new JA(l)}const WA=ke("ZodUnion",(e,s)=>{CT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>$C(e,l,o,d),e.options=s.options});function hd(e,s){return new WA({type:"union",options:e,...We(s)})}const e3=ke("ZodIntersection",(e,s)=>{AT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>XC(e,l,o,d)});function t3(e,s){return new e3({type:"intersection",left:e,right:s})}const Rf=ke("ZodEnum",(e,s)=>{MT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(o,d,m)=>KC(e,o,d),e.enum=s.entries,e.options=Object.values(s.entries);const l=new Set(Object.keys(s.entries));e.extract=(o,d)=>{const m={};for(const f of o)if(l.has(f))m[f]=s.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Rf({...s,checks:[],...We(d),entries:m})},e.exclude=(o,d)=>{const m={...s.entries};for(const f of o)if(l.has(f))delete m[f];else throw new Error(`Key ${f} not found in enum`);return new Rf({...s,checks:[],...We(d),entries:m})}});function Lf(e,s){const l=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new Rf({type:"enum",entries:l,...We(s)})}const n3=ke("ZodTransform",(e,s)=>{zT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>GC(e,l),e._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Bb(e.constructor.name);l.addIssue=m=>{if(typeof m=="string")l.issues.push(su(m,l.value,s));else{const f=m;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=l.value),f.inst??(f.inst=e),l.issues.push(su(f))}};const d=s.transform(l.value,l);return d instanceof Promise?d.then(m=>(l.value=m,l)):(l.value=d,l)}});function a3(e){return new n3({type:"transform",transform:e})}const h_=ke("ZodOptional",(e,s)=>{s_.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>c_(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function w0(e){return new h_({type:"optional",innerType:e})}const s3=ke("ZodExactOptional",(e,s)=>{OT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>c_(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function i3(e){return new s3({type:"optional",innerType:e})}const r3=ke("ZodNullable",(e,s)=>{DT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>JC(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function E0(e){return new r3({type:"nullable",innerType:e})}const l3=ke("ZodDefault",(e,s)=>{RT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>eA(e,l,o,d),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function o3(e,s){return new l3({type:"default",innerType:e,get defaultValue(){return typeof s=="function"?s():qb(s)}})}const u3=ke("ZodPrefault",(e,s)=>{LT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>tA(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function c3(e,s){return new u3({type:"prefault",innerType:e,get defaultValue(){return typeof s=="function"?s():qb(s)}})}const f_=ke("ZodNonOptional",(e,s)=>{PT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>WC(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function d3(e,s){return new f_({type:"nonoptional",innerType:e,...We(s)})}const m3=ke("ZodCatch",(e,s)=>{IT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>nA(e,l,o,d),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function h3(e,s){return new m3({type:"catch",innerType:e,catchValue:typeof s=="function"?s:()=>s})}const f3=ke("ZodPipe",(e,s)=>{BT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>aA(e,l,o,d),e.in=s.in,e.out=s.out});function k0(e,s){return new f3({type:"pipe",in:e,out:s})}const p3=ke("ZodReadonly",(e,s)=>{UT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>sA(e,l,o,d),e.unwrap=()=>e._zod.def.innerType});function g3(e){return new p3({type:"readonly",innerType:e})}const x3=ke("ZodCustom",(e,s)=>{FT.init(e,s),Sn.init(e,s),e._zod.processJSONSchema=(l,o,d)=>QC(e,l)});function y3(e,s={}){return DC(x3,e,s)}function v3(e){return RC(e)}function Ln(e){return gC(m_,e)}const b3=Qa({employee_id:Ln().int().positive(),expires_in_minutes:Ln().int().positive().max(1440)});function Hc(e){return e?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(e)):"-"}function T0(e,s){return`${new Intl.DateTimeFormat("tr-TR",{month:"long"}).format(new Date(Date.UTC(e,s-1,1)))} ${e}`}function _3(e){return e==="FINISHED"?"status-badge status-badge-ok":e==="IN_PROGRESS"?"status-badge status-badge-pending":"status-badge status-badge-neutral"}function N3(){const e=sa(),[s,l]=b.useState(""),[o,d]=b.useState("30"),[m,f]=b.useState(null),[x,v]=b.useState(null),_=Ze({queryKey:["departments"],queryFn:tr}),S=Ze({queryKey:["employees"],queryFn:()=>ks({status:"active"})}),w=Ze({queryKey:["devices"],queryFn:Cb}),T=Ze({queryKey:["leaves","dashboard"],queryFn:()=>Mb({})}),z=Ze({queryKey:["attendance-events","dashboard"],queryFn:()=>ip({limit:8})}),k=Ze({queryKey:["dashboard-employee-snapshot",s],queryFn:()=>Ab({employee_id:Number(s)}),enabled:!!s,staleTime:2e4}),A=Ye({mutationFn:zb,onSuccess:q=>{f({token:q.token,invite_url:q.invite_url}),v(null),e.invalidateQueries({queryKey:["devices"]})},onError:q=>{v(y1(q,"Claim token olusturulamadi."))}}),D=()=>{f(null),v(null);const q=b3.safeParse({employee_id:s,expires_in_minutes:o});if(!q.success){v(q.error.issues[0]?.message??"Form alanlarini kontrol et.");return}A.mutate(q.data)},F=_.data??[],B=S.data??[],R=w.data??[],G=T.data??[],Y=z.data??[],ee=b.useMemo(()=>B.find(q=>String(q.id)===s)??null,[B,s]);return _.isLoading||S.isLoading||w.isLoading||T.isLoading||z.isLoading?n.jsx(Zt,{}):_.isError||S.isError||w.isError||T.isError||z.isError?n.jsx(Ct,{message:"Dashboard verileri alinamadi."}):n.jsxs("div",{className:"space-y-6",children:[n.jsx(Hn,{title:"Genel Bakis",description:"Calisan odakli claim token operasyonu ve anlik puantaj gorunumu."}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[n.jsxs(Re,{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Departman"}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:F.length})]}),n.jsxs(Re,{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Calisan"}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:B.length})]}),n.jsxs(Re,{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Cihaz"}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:R.length})]}),n.jsxs(Re,{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Izin Kaydi"}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:G.length})]})]}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.05fr_1.3fr]",children:[n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Claim Token Uretimi"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Calisan adi veya ID secip employee claim URL olustur."}),n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx(ds,{label:"Calisan",employees:B,value:s,onChange:l,placeholder:"Calisan adi veya #ID",helperText:"Tek bir calisan secildiginde dashboard ozet kartlari otomatik dolar."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Token suresi (dakika)",n.jsx("input",{value:o,onChange:q=>d(q.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"30"})]})]}),ee?n.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[n.jsxs("p",{children:["Secili: #",ee.id," - ",ee.full_name]}),n.jsxs("p",{children:["Departman: ",ee.department_id??"-"]})]}):null,n.jsx("button",{type:"button",onClick:D,disabled:A.isPending||!s,className:"mt-4 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:A.isPending?"Olusturuluyor...":"Claim Token Olustur"}),m?n.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[n.jsxs("p",{className:"font-semibold",children:["Token: ",m.token]}),n.jsxs("p",{className:"mt-1 break-all",children:["URL: ",m.invite_url]})]}):null,x?n.jsx("div",{className:"form-validation",children:x}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Canli Ozet"}),s?null:n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bir calisan secildiginde bu ay/gecen ay mesai, cihaz ve konum bilgisi gorunur."}),s&&k.isLoading?n.jsx(Zt,{label:"Calisan ozeti yukleniyor..."}):null,s&&k.isError?n.jsx(Ct,{message:"Calisan ozeti alinamadi."}):null,k.data?n.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:_3(k.data.today_status),children:k.data.today_status}),n.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Aktif cihaz: ",k.data.active_devices,"/",k.data.total_devices]}),n.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:["Son guncelleme: ",Hc(k.data.generated_at_utc)]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:T0(k.data.current_month.year,k.data.current_month.month)}),n.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",n.jsx(qe,{minutes:k.data.current_month.worked_minutes})]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",n.jsx(qe,{minutes:k.data.current_month.plan_overtime_minutes})]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",n.jsx(qe,{minutes:k.data.current_month.extra_work_minutes})]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",n.jsx(qe,{minutes:k.data.current_month.overtime_minutes})]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:T0(k.data.previous_month.year,k.data.previous_month.month)}),n.jsxs("p",{className:"mt-2 text-xs text-slate-600",children:["Toplam net sure: ",n.jsx(qe,{minutes:k.data.previous_month.worked_minutes})]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Plan ustu sure: ",n.jsx(qe,{minutes:k.data.previous_month.plan_overtime_minutes})]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla sure: ",n.jsx(qe,{minutes:k.data.previous_month.extra_work_minutes})]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-600",children:["Yasal fazla mesai: ",n.jsx(qe,{minutes:k.data.previous_month.overtime_minutes})]})]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Puantaj Olayi"}),k.data.last_event?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Tip: ",k.data.last_event.event_type]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Hc(k.data.last_event.ts_utc)]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Konum: ",k.data.last_event.location_status]})]}):n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Kayit bulunamadi."})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Son Konum"}),k.data.latest_location?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"mt-2 text-xs text-slate-700",children:["Lat/Lon: ",k.data.latest_location.lat.toFixed(6),", ",k.data.latest_location.lon.toFixed(6)]}),n.jsxs("p",{className:"mt-1 text-xs text-slate-700",children:["Zaman: ",Hc(k.data.latest_location.ts_utc)]})]}):n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Konum verisi yok."})]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cihazlar"}),k.data.devices.length===0?n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cihaz kaydi bulunamadi."}):n.jsx("div",{className:"mt-2 space-y-1 text-xs text-slate-700",children:k.data.devices.slice(0,8).map(q=>n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded border border-slate-100 px-2 py-1",children:[n.jsxs("span",{children:["#",q.id," - ",q.device_fingerprint]}),n.jsx("span",{className:q.is_active?"status-badge status-badge-ok":"status-badge status-badge-danger",children:q.is_active?"AKTIF":"PASIF"})]},q.id))})]})]}):null]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Son Attendance Eventleri"}),n.jsx("div",{className:"mt-4 list-scroll-area",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"ID"}),n.jsx("th",{className:"py-2",children:"Calisan"}),n.jsx("th",{className:"py-2",children:"Tip"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Zaman"})]})}),n.jsx("tbody",{children:Y.map(q=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:q.id}),n.jsx("td",{className:"py-2",children:q.employee_id}),n.jsx("td",{className:"py-2",children:q.type}),n.jsx("td",{className:"py-2",children:q.location_status}),n.jsx("td",{className:"py-2",children:Hc(q.ts_utc)})]},q.id))})]})})]})]})}function j3(e,s){const l=window.URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=s,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function S3(){const e=new Date,{pushToast:s}=ia(),l={year:String(e.getFullYear()),month:String(e.getMonth()+1),departmentId:"",includeInactive:!1},[o,d]=b.useState(l),[m,f]=b.useState(l),[x,v]=b.useState(!1),_=Ze({queryKey:["departments"],queryFn:tr}),S=Number(m.year),w=Number(m.month),T=Number(m.departmentId),z=Number.isFinite(S)&&S>0&&Number.isFinite(w)&&w>=1&&w<=12,k=Ze({queryKey:["department-summary",S,w,m.departmentId||"all",m.includeInactive?"with-inactive":"active-only"],queryFn:()=>WE({year:S,month:w,department_id:Number.isFinite(T)&&T>0?T:void 0,include_inactive:m.includeInactive}),enabled:z}),A=k.data??[],D=b.useMemo(()=>A.reduce((Y,ee)=>(Y.worked+=ee.worked_minutes,Y.planOvertime+=ee.plan_overtime_minutes,Y.legalExtra+=ee.legal_extra_work_minutes,Y.legalOvertime+=ee.legal_overtime_minutes,Y.employeeCount+=ee.employee_count,Y),{worked:0,planOvertime:0,legalExtra:0,legalOvertime:0,employeeCount:0}),[A]),F=b.useMemo(()=>{const Y=[`Yl: ${m.year}`,`Ay: ${m.month}`];if(m.departmentId){const ee=_.data?.find(q=>q.id===Number(m.departmentId));Y.push(`Departman: ${ee?.name??m.departmentId}`)}return m.includeInactive&&Y.push("Arivdekiler dahil"),Y},[m,_.data]),B=()=>f({...o}),R=()=>{d(l),f(l)},G=async()=>{if(!z){s({variant:"error",title:"Filtre hatas",description:"Excel indirmek iin geerli yl ve ay sein."});return}try{v(!0);const Y=Number.isFinite(T)&&T>0?await l1({department_id:T,year:S,month:w,include_inactive:m.includeInactive}):await o1({year:S,month:w,include_inactive:m.includeInactive}),ee=Number.isFinite(T)&&T>0?`department-${T}`:"all";j3(Y,`puantaj-${ee}-${S}-${String(w).padStart(2,"0")}.xlsx`)}catch(Y){s({variant:"error",title:"Excel indirilemedi",description:Ue(Y,"Dosya oluturulamad.").message})}finally{v(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Departman Aylk zeti",description:"Departman baznda aylk toplam alma, plan st sre ve yasal fazla mesai deerlerini karlatrn.",action:n.jsx("button",{type:"button",onClick:()=>{G()},disabled:x,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:x?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",n.jsx("input",{type:"number",value:o.year,onChange:Y=>d(ee=>({...ee,year:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",n.jsx("input",{type:"number",value:o.month,onChange:Y=>d(ee=>({...ee,month:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman",n.jsxs("select",{value:o.departmentId,onChange:Y=>d(ee=>({...ee,departmentId:Y.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:_.isLoading,children:[n.jsx("option",{value:"",children:"Tm"}),(_.data??[]).map(Y=>n.jsxs("option",{value:Y.id,children:["#",Y.id," - ",Y.name]},Y.id))]})]})]}),n.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:o.includeInactive,onChange:Y=>d(ee=>({...ee,includeInactive:Y.target.checked}))}),"Arivdeki alanlar dahil et"]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:B,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),n.jsx("button",{type:"button",onClick:R,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:F.map(Y=>n.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Y},Y))})]}),z?null:n.jsx(Ct,{message:"Yl ve ay deerleri geersiz."}),k.isLoading?n.jsx(Zt,{}):null,k.isError?n.jsx(Ct,{message:Ue(k.error,"Departman zeti alnamad.").message}):null,!k.isLoading&&!k.isError?n.jsxs(n.Fragment,{children:[n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),n.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-5",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:D.worked})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Plan st Sre"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:D.planOvertime})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Sre"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:D.legalExtra})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Yasal Fazla Mesai"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:D.legalOvertime})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alan Says"}),n.jsx("p",{className:"text-lg font-semibold",children:D.employeeCount})]})]})]}),A.length===0?n.jsx(Re,{children:n.jsx("p",{className:"text-sm text-slate-600",children:"Seilen filtrede departman zeti bulunamad."})}):n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"alan Says"}),n.jsx("th",{className:"py-2",children:"Toplam alma"}),n.jsx("th",{className:"py-2",children:"Plan st"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Sre"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"})]})}),n.jsx("tbody",{children:A.map(Y=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsxs("td",{className:"py-2",children:["#",Y.department_id," - ",Y.department_name]}),n.jsx("td",{className:"py-2",children:Y.employee_count}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:Y.worked_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:Y.plan_overtime_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:Y.legal_extra_work_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:Y.legal_overtime_minutes})})]},Y.department_id))})]})})})]}):null]})}function mi({value:e,onChange:s,placeholder:l="Isme gore ara..."}){return n.jsxs("label",{className:"block text-sm text-slate-700",children:["Ara",n.jsx("input",{value:e,onChange:o=>s(o.target.value),placeholder:l,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring"})]})}const C0=Qa({name:na().min(2,"Departman adi en az 2 karakter olmali.").max(255),region_id:hd([Ln().int().positive(),Df()])});function A0(e){if(sn.isAxiosError(e)&&e.response?.status===409)return"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.";const s=Ue(e,"Departman olusturulamadi.");return s.message.toLowerCase().includes("department name already exists")?"Bu departman adi zaten mevcut. Lutfen farkli bir ad girin.":s.message}function w3(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState(""),[f,x]=b.useState(""),[v,_]=b.useState(!1),[S,w]=b.useState(""),[T,z]=b.useState(null),[k,A]=b.useState(""),[D,F]=b.useState(""),[B,R]=b.useState(null),G=Ze({queryKey:["departments",S],queryFn:()=>sE(S?{region_id:Number(S)}:void 0)}),Y=Ze({queryKey:["regions","departments-page"],queryFn:()=>hu({include_inactive:!0})}),ee=Ye({mutationFn:iE,onSuccess:re=>{o(""),m(""),R(null),_(!1),s({variant:"success",title:"Departman olusturuldu",description:`${re.name} basariyla eklendi.`}),e.invalidateQueries({queryKey:["departments"]})},onError:re=>{const oe=A0(re);R(oe),s({variant:"error",title:"Departman olusturulamadi",description:oe})}}),q=Ye({mutationFn:({departmentId:re,name:oe,regionIdValue:H})=>rE(re,{name:oe,region_id:H}),onSuccess:re=>{R(null),z(null),A(""),F(""),s({variant:"success",title:"Departman guncellendi",description:`${re.name} basariyla guncellendi.`}),e.invalidateQueries({queryKey:["departments"]})},onError:re=>{const oe=A0(re);R(oe),s({variant:"error",title:"Departman guncellenemedi",description:oe})}}),$=re=>{re.preventDefault(),R(null);const oe=d.trim()===""?null:Number(d),H=C0.safeParse({name:l,region_id:oe});if(!H.success){const Q=H.error.issues[0]?.message??"Departman alanlarini kontrol edin.";R(Q),s({variant:"error",title:"Form hatasi",description:Q});return}ee.mutate({name:H.data.name,region_id:H.data.region_id})},J=re=>{if(re.preventDefault(),R(null),!T)return;const oe=D.trim()===""?null:Number(D),H=C0.safeParse({name:k,region_id:oe});if(!H.success){const Q=H.error.issues[0]?.message??"Departman alanlarini kontrol edin.";R(Q),s({variant:"error",title:"Form hatasi",description:Q});return}q.mutate({departmentId:T,name:H.data.name,regionIdValue:H.data.region_id})},he=G.data??[],xe=Y.data??[],ce=b.useMemo(()=>new Map(xe.map(re=>[re.id,re.name])),[xe]),_e=b.useMemo(()=>{const re=f.trim().toLowerCase();return re?he.filter(oe=>oe.name.toLowerCase().includes(re)):he},[he,f]);return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Departmanlar",description:"Departman kayitlarini bolge bazli olarak yonetin.",action:n.jsx("button",{type:"button",onClick:()=>_(re=>!re),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Departman"})}),v?n.jsxs(Re,{children:[n.jsxs("form",{onSubmit:$,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",n.jsx("input",{value:l,onChange:re=>o(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Insan Kaynaklari"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",n.jsxs("select",{value:d,onChange:re=>m(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Bolge yok"}),xe.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]}),n.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[n.jsx("button",{type:"submit",disabled:ee.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ee.isPending?"Kaydediliyor...":"Kaydet"}),n.jsx("button",{type:"button",onClick:()=>{_(!1),R(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),B?n.jsx("div",{className:"form-validation",children:B}):null]}):null,T?n.jsxs(Re,{children:[n.jsxs("form",{onSubmit:J,className:"grid gap-3 md:grid-cols-3 md:items-end",children:[n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Departman adi",n.jsx("input",{value:k,onChange:re=>A(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",n.jsxs("select",{value:D,onChange:re=>F(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Bolge yok"}),xe.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]}),n.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[n.jsx("button",{type:"submit",disabled:q.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:q.isPending?"Guncelleniyor...":"Guncelle"}),n.jsx("button",{type:"button",onClick:()=>{z(null),A(""),F(""),R(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),B?n.jsx("div",{className:"form-validation",children:B}):null]}):null,G.isLoading||Y.isLoading?n.jsx(Zt,{}):null,G.isError||Y.isError?n.jsx(Ct,{message:"Departman verileri alinamadi."}):null,!G.isLoading&&!G.isError&&!Y.isLoading&&!Y.isError?n.jsxs(Re,{children:[n.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[n.jsx(mi,{value:f,onChange:x,placeholder:"Departman adina gore ara..."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",n.jsxs("select",{value:S,onChange:re=>w(re.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tum bolgeler"}),xe.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Departman ID"}),n.jsx("th",{className:"py-2",children:"Departman Adi"}),n.jsx("th",{className:"py-2",children:"Bolge"}),n.jsx("th",{className:"py-2",children:"Islem"})]})}),n.jsx("tbody",{children:_e.map(re=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:re.id}),n.jsx("td",{className:"py-2",children:re.name}),n.jsx("td",{className:"py-2",children:re.region_name??(re.region_id?ce.get(re.region_id):"-")??"-"}),n.jsx("td",{className:"py-2",children:n.jsx("button",{type:"button",onClick:()=>{z(re.id),A(re.name),F(re.region_id?String(re.region_id):""),R(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},re.id))})]})}),_e.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun departman bulunamadi."}):null]}):null]})}function er({value:e}){const s=e.toUpperCase();return s==="OK"||s==="AKTIF"||s==="APPROVED"?n.jsx("span",{className:"status-badge status-badge-ok",children:e}):s==="INCOMPLETE"?n.jsx("span",{className:"status-badge status-badge-incomplete",children:"INCOMPLETE"}):s==="LEAVE"?n.jsx("span",{className:"status-badge status-badge-leave",children:"LEAVE"}):s==="OFF"?n.jsx("span",{className:"status-badge status-badge-neutral",children:"OFF"}):s==="PENDING"?n.jsx("span",{className:"status-badge status-badge-pending",children:"PENDING"}):s==="REJECTED"||s==="PASIF"?n.jsx("span",{className:"status-badge status-badge-danger",children:e}):n.jsx("span",{className:"status-badge status-badge-neutral",children:e})}function Ih(e){return e?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(e)):"-"}function E3(e){return e==="ACTIVE"?"Aktif":"Kullanildi/Suresi Doldu"}function k3(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState(""),[f,x]=b.useState(!0),[v,_]=b.useState(""),[S,w]=b.useState(1),[T,z]=b.useState(50),[k,A]=b.useState(null),[D,F]=b.useState(null),B=l?Number(l):void 0,R=B?0:(S-1)*T,G=Ze({queryKey:["employee-device-overview-summary",B??null,d,f,v,S,T],queryFn:()=>Mf({employee_id:B,region_id:d?Number(d):void 0,include_inactive:f,q:v.trim()||void 0,offset:R,limit:B?1:T,device_limit:1})}),Y=Ze({queryKey:["employee-device-overview-detail",k],enabled:k!==null,queryFn:()=>Mf({employee_id:k??void 0,include_inactive:!0,include_recovery_secrets:!0,offset:0,limit:1,device_limit:100})}),ee=Ze({queryKey:["employees","all-for-devices"],queryFn:()=>ks({include_inactive:!0,status:"all"})}),q=Ze({queryKey:["regions","devices-page"],queryFn:()=>hu({include_inactive:!0})}),$=Ye({mutationFn:({deviceId:oe,isActive:H})=>$E(oe,{is_active:H}),onSuccess:oe=>{s({variant:"success",title:oe.is_active?"Cihaz aktif edildi":"Cihaz pasife alnd",description:`Cihaz #${oe.id} durumu gncellendi.`}),e.invalidateQueries({queryKey:["employee-device-overview-summary"]}),e.invalidateQueries({queryKey:["employee-device-overview-detail"]})},onError:oe=>{s({variant:"error",title:"Cihaz durumu gncellenemedi",description:Ue(oe,"lem baarsz.").message})}}),J=ee.data??[],he=q.data??[],xe=G.data??[],ce=Y.data?.[0],_e=!B&&xe.length===T,re=!B&&S>1;return G.isLoading||ee.isLoading||q.isLoading?n.jsx(Zt,{}):G.isError?n.jsx(Ct,{message:Ue(G.error,"Cihaz verisi alnamad.").message}):ee.isError?n.jsx(Ct,{message:Ue(ee.error,"alan listesi alnamad.").message}):q.isError?n.jsx(Ct,{message:Ue(q.error,"Bolge listesi alinamadi.").message}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Cihazlar ve Token Takibi",description:"Youn kullanm iin optimize edilmi liste grnm. Satrdan detay ap cihazlar ynetin."}),n.jsxs(Re,{children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-5 md:items-end",children:[n.jsx(ds,{label:"alan filtresi",employees:J,value:l,onChange:oe=>{o(oe),w(1),A(null)},emptyLabel:"Tm",helperText:"Ad-soyad veya ID ile filtreleyin."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["zet arama",n.jsx("input",{type:"text",value:v,onChange:oe=>{_(oe.target.value),w(1),A(null)},placeholder:"alan ad veya ID",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Sayfa boyutu",n.jsxs("select",{value:T,onChange:oe=>{z(Number(oe.target.value)),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",n.jsxs("select",{value:d,onChange:oe=>{m(oe.target.value),w(1),A(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tum bolgeler"}),he.map(oe=>n.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:f,onChange:oe=>{x(oe.target.checked),w(1),A(null)}}),"Pasif alanlar gster"]})]}),B?null:n.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[n.jsx("button",{type:"button",disabled:!re,onClick:()=>{w(oe=>Math.max(1,oe-1)),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"nceki"}),n.jsxs("span",{className:"text-xs text-slate-500",children:["Sayfa ",S]}),n.jsx("button",{type:"button",disabled:!_e,onClick:()=>{w(oe=>oe+1),A(null)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}),n.jsxs(Re,{children:[n.jsx("div",{className:"max-h-[68vh] overflow-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"sticky top-0 z-10 bg-white text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-2",children:"alan"}),n.jsx("th",{className:"px-2 py-2",children:"Departman"}),n.jsx("th",{className:"px-2 py-2",children:"Durum"}),n.jsx("th",{className:"px-2 py-2",children:"Cihaz"}),n.jsx("th",{className:"px-2 py-2",children:"Token"}),n.jsx("th",{className:"px-2 py-2 text-right",children:"lem"})]})}),n.jsx("tbody",{children:xe.map(oe=>{const H=k===oe.employee_id;return n.jsxs(b.Fragment,{children:[n.jsxs("tr",{className:"border-t border-slate-100 align-top hover:bg-slate-50/60",children:[n.jsx("td",{className:"px-2 py-2",children:n.jsxs("div",{className:"font-medium text-slate-900",children:["#",oe.employee_id," - ",oe.employee_name]})}),n.jsx("td",{className:"px-2 py-2 text-xs text-slate-600",children:oe.department_name??oe.department_id??"-"}),n.jsx("td",{className:"px-2 py-2",children:n.jsx(er,{value:oe.is_employee_active?"Aktif":"Pasif"})}),n.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:[n.jsx("span",{className:"font-semibold",children:oe.active_devices})," aktif / ",oe.total_devices," toplam"]}),n.jsxs("td",{className:"px-2 py-2 text-xs text-slate-700",children:["K:",oe.token_used," B:",oe.token_pending," D:",oe.token_expired," T:",oe.token_total]}),n.jsx("td",{className:"px-2 py-2 text-right",children:n.jsx("button",{type:"button",onClick:()=>{A(Q=>Q===oe.employee_id?null:oe.employee_id)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:H?"Kapat":"Cihazlar Ynet"})})]}),H?n.jsx("tr",{className:"border-t border-slate-100 bg-slate-50/70",children:n.jsx("td",{colSpan:6,className:"px-2 py-3",children:Y.isLoading?n.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz listesi ykleniyor..."}):Y.isError?n.jsx("p",{className:"text-xs text-rose-700",children:"Cihaz detaylar alnamad."}):ce?n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-left text-xs",children:[n.jsx("thead",{className:"uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Cihaz ID"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Fingerprint"}),n.jsx("th",{className:"py-2",children:"Recovery"}),n.jsx("th",{className:"py-2",children:"Oluturulma"}),n.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),n.jsx("tbody",{children:ce.devices.map(Q=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Q.id}),n.jsx("td",{className:"py-2",children:n.jsx(er,{value:Q.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"py-2 font-mono",children:Q.device_fingerprint}),n.jsx("td",{className:"py-2 text-[11px] text-slate-700",children:Q.recovery_ready?n.jsxs("span",{className:"rounded-full bg-emerald-100 px-2 py-1 font-semibold text-emerald-700",children:["Hazir (",Q.recovery_code_active_count,")"]}):n.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-1 font-semibold text-amber-700",children:"Kurulu Degil"})}),n.jsx("td",{className:"py-2",children:Ih(Q.created_at)}),n.jsx("td",{className:"py-2 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>F(Q),className:"rounded-lg border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Detay"}),n.jsx("button",{type:"button",disabled:$.isPending,onClick:()=>$.mutate({deviceId:Q.id,isActive:!Q.is_active}),className:`rounded-lg px-2 py-1 text-[11px] font-semibold text-white ${Q.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"} disabled:cursor-not-allowed disabled:opacity-60`,children:Q.is_active?"Pasife Al":"Aktif Et"})]})})]},Q.id))})]}),ce.has_more_devices?n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alan iin daha fazla cihaz var. lk 100 cihaz gsteriliyor."}):null,ce.devices.length===0?n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Bu alana bal cihaz yok."}):null]}):n.jsx("p",{className:"text-xs text-slate-500",children:"Cihaz detay bulunamad."})})}):null]},oe.employee_id)})})]})}),xe.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen filtreye uygun alan veya cihaz kayd yok."}):null]}),n.jsx(Wi,{open:D!==null,title:D?`Cihaz #${D.id} Recovery Detayi`:"Recovery Detayi",onClose:()=>F(null),children:D?n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Fingerprint"}),n.jsx("p",{className:"mt-1 break-all font-mono text-xs text-slate-800",children:D.device_fingerprint})]}),n.jsxs("div",{className:"grid gap-2 rounded-lg border border-slate-200 p-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery Durumu"}),n.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:D.recovery_ready?"Hazir":"Kurulu Degil"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Aktif Kod"}),n.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:D.recovery_code_active_count})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"PIN Son Guncelleme"}),n.jsx("p",{className:"mt-1 text-slate-800",children:Ih(D.recovery_pin_updated_at)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Kod Son Gecerlilik"}),n.jsx("p",{className:"mt-1 text-slate-800",children:Ih(D.recovery_expires_at)})]})]}),n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-rose-700",children:"Recovery PIN"}),n.jsx("p",{className:"mt-1 font-mono text-lg font-semibold text-rose-900",children:D.recovery_pin_plain??"-"})]}),D.recovery_code_entries.length>0?n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery Kodlari"}),n.jsx("div",{className:"mt-2 space-y-2",children:D.recovery_code_entries.map(oe=>n.jsxs("div",{className:"flex items-center justify-between rounded border border-slate-200 px-3 py-2",children:[n.jsx("span",{className:"font-mono text-slate-900",children:oe.code}),n.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${oe.status==="ACTIVE"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:E3(oe.status)})]},`${D.id}-${oe.code}`))})]}):n.jsx("p",{className:"text-xs text-slate-500",children:"Bu cihaz icin kayitli recovery kodu bulunamadi."})]}):null})]})}function T3(){const e=sa(),{pushToast:s}=ia(),l=Ze({queryKey:["compliance-settings"],queryFn:a1}),[o,d]=b.useState({name:"TR_DEFAULT",weekly_normal_minutes_default:2700,daily_max_minutes:660,enforce_min_break_rules:!1,night_work_max_minutes_default:450,night_work_exceptions_note_enabled:!0,overtime_annual_cap_minutes:16200,overtime_premium:1.5,extra_work_premium:1.25,overtime_rounding_mode:"OFF"});b.useEffect(()=>{l.data&&d({name:l.data.name,weekly_normal_minutes_default:l.data.weekly_normal_minutes_default,daily_max_minutes:l.data.daily_max_minutes,enforce_min_break_rules:l.data.enforce_min_break_rules,night_work_max_minutes_default:l.data.night_work_max_minutes_default,night_work_exceptions_note_enabled:l.data.night_work_exceptions_note_enabled,overtime_annual_cap_minutes:l.data.overtime_annual_cap_minutes,overtime_premium:l.data.overtime_premium,extra_work_premium:l.data.extra_work_premium,overtime_rounding_mode:l.data.overtime_rounding_mode})},[l.data]);const m=Ye({mutationFn:s1,onSuccess:()=>{s({variant:"success",title:"Uyumluluk ayarlari guncellendi",description:"Yasal puantaj hesaplama parametreleri kaydedildi."}),e.invalidateQueries({queryKey:["compliance-settings"]}),e.invalidateQueries({queryKey:["employee-monthly"]})},onError:f=>{s({variant:"error",title:"Kayit hatasi",description:Ue(f,"Ayarlar kaydedilemedi.").message})}});return l.isLoading?n.jsx(Zt,{}):l.isError?n.jsx(Ct,{message:Ue(l.error,"Uyumluluk ayarlari alinamadi.").message}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Uyumluluk Ayarlar",description:"Turk is kanunu varsayimlarini yonetmek iin bu ayarlari kullanin."}),n.jsx(Re,{children:n.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:f=>{f.preventDefault(),m.mutate(o)},children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Profil Adi",n.jsx("input",{value:o.name,onChange:f=>d(x=>({...x,name:f.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Haftalik Normal Sure (dk)",n.jsx("input",{type:"number",min:1,value:o.weekly_normal_minutes_default,onChange:f=>d(x=>({...x,weekly_normal_minutes_default:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gnlk Azami Sure (dk)",n.jsx("input",{type:"number",min:1,value:o.daily_max_minutes,onChange:f=>d(x=>({...x,daily_max_minutes:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gece Azami Sure (dk)",n.jsx("input",{type:"number",min:1,value:o.night_work_max_minutes_default,onChange:f=>d(x=>({...x,night_work_max_minutes_default:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Yillik Fazla Mesai Limiti (dk)",n.jsx("input",{type:"number",min:1,value:o.overtime_annual_cap_minutes,onChange:f=>d(x=>({...x,overtime_annual_cap_minutes:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Carpani",n.jsx("input",{type:"number",min:1,step:"0.01",value:o.overtime_premium,onChange:f=>d(x=>({...x,overtime_premium:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ek Calisma Carpani",n.jsx("input",{type:"number",min:1,step:"0.01",value:o.extra_work_premium,onChange:f=>d(x=>({...x,extra_work_premium:Number(f.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Fazla Mesai Yuvarlama",n.jsxs("select",{value:o.overtime_rounding_mode,onChange:f=>d(x=>({...x,overtime_rounding_mode:f.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"OFF",children:"OFF"}),n.jsx("option",{value:"REG_HALF_HOUR",children:"REG_HALF_HOUR"})]})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[n.jsx("input",{type:"checkbox",checked:o.enforce_min_break_rules,onChange:f=>d(x=>({...x,enforce_min_break_rules:f.target.checked}))}),"Asgari mola kurallarini uygula (Is Kanunu madde 68)"]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 md:col-span-2",children:[n.jsx("input",{type:"checkbox",checked:o.night_work_exceptions_note_enabled,onChange:f=>d(x=>({...x,night_work_exceptions_note_enabled:f.target.checked}))}),"Gece calisma istisna notu bayragini aktif tut"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:m.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:m.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Ayarlar Kaydet"})})]})}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Hizli zet"}),n.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Haftalik normal sure"}),n.jsx("p",{className:"font-semibold",children:n.jsx(qe,{minutes:o.weekly_normal_minutes_default})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Gnlk ust sinir"}),n.jsx("p",{className:"font-semibold",children:n.jsx(qe,{minutes:o.daily_max_minutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yillik fazla mesai limiti"}),n.jsx("p",{className:"font-semibold",children:n.jsx(qe,{minutes:o.overtime_annual_cap_minutes})})]})]})]})]})}const C3=Qa({username:na().min(1,"Kullanici adi gerekli."),password:na().min(1,"Sifre gerekli.")});function A3(e,s){const l=window.URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=s,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}function M3(e){return e.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":e.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":e.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Indirme basarisiz"}function z3(){const[e]=yd(),[s,l]=b.useState("admin"),[o,d]=b.useState(""),[m,f]=b.useState(null),[x,v]=b.useState(null),[_,S]=b.useState(!1),w=b.useMemo(()=>{const z=e.get("archive_id");if(!z)return null;const k=Number(z);return!Number.isInteger(k)||k<=0?null:k},[e]),T=async z=>{if(z.preventDefault(),f(null),v(null),!w){f({message:"Gecerli bir arsiv kimligi bulunamadi."});return}const k=C3.safeParse({username:s,password:o});if(!k.success){f({message:k.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}S(!0);try{const A=await QE(w,k.data),D=A.file_name??`arsiv-${w}.xlsx`;A3(A.blob,D),v("Indirme baslatildi. Dosya cihaziniza kaydedildi."),d("")}catch(A){f(Ue(A,"Excel dosyasi indirilemedi."))}finally{S(!1)}};return n.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:n.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Excel Arsiv Indirme"}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Admin sifreni dogrula, gunluk puantaj Excel dosyasi panel acmadan indirilsin."}),n.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Arsiv ID: ",w??"-"]}),n.jsxs("form",{onSubmit:T,className:"mt-6 space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),n.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:s,onChange:z=>l(z.target.value)})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),n.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:z=>d(z.target.value)})]}),m?n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[n.jsx("p",{className:"font-semibold",children:M3(m)}),n.jsx("p",{className:"mt-1",children:m.message}),m.requestId?n.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",m.requestId]}):null]}):null,x?n.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:x}):null,n.jsx("button",{type:"submit",disabled:_||!w,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Dogrulaniyor..."]}):"Sifreyi dogrula ve indir"})]}),n.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[us.signatureText," | BUILD: ",us.buildVersion]})]})})}const O3=Qa({username:na().min(1,"Kullanici adi gerekli."),password:na().min(1,"Sifre gerekli.")});function Bh(e){if(!e)return"-";const s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat("tr-TR",{timeZone:"Europe/Istanbul",dateStyle:"medium",timeStyle:"medium"}).format(s)}function D3(e){return e==="PENDING"?"Onay Bekliyor":e==="APPROVED"?"Onaylandi":e==="CONSUMED"?"Kullanildi":"Suresi Doldu"}function R3(e){return e==="PENDING"?"bg-amber-100 text-amber-800 border-amber-200":e==="APPROVED"?"bg-emerald-100 text-emerald-800 border-emerald-200":e==="CONSUMED"?"bg-cyan-100 text-cyan-800 border-cyan-200":"bg-rose-100 text-rose-800 border-rose-200"}function M0(e){return e.code==="INVALID_CREDENTIALS"?"Sifre dogrulanamadi":e.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":e.code==="EXTRA_CHECKIN_APPROVAL_EXPIRED"?"Talep suresi dolmus":e.code==="EXTRA_CHECKIN_APPROVAL_NOT_FOUND"?"Talep bulunamadi":"Onay islemi basarisiz"}function L3(){const[e]=yd(),s=b.useMemo(()=>e.get("token")?.trim()??"",[e]),[l,o]=b.useState(null),[d,m]=b.useState(!1),[f,x]=b.useState(null),[v,_]=b.useState(null),[S,w]=b.useState(null),[T,z]=b.useState("admin"),[k,A]=b.useState(""),[D,F]=b.useState(!1);b.useEffect(()=>{if(!s){x({message:"Onay tokeni bulunamadi."}),o(null);return}let R=!1;return(async()=>{m(!0),x(null);try{const Y=await GE(s);R||o(Y)}catch(Y){R||(x(Ue(Y,"Onay talebi yuklenemedi.")),o(null))}finally{R||m(!1)}})(),()=>{R=!0}},[s]);const B=async R=>{if(R.preventDefault(),_(null),w(null),!l||l.status!=="PENDING")return;const G=O3.safeParse({username:T,password:k});if(!G.success){_({message:G.error.issues[0]?.message??"Form alanlarini kontrol edin."});return}F(!0);try{const Y=await VE({token:s,username:G.data.username,password:G.data.password});o(Y.approval),A(""),w(Y.already_processed?"Talep daha once islenmis. Calisan tekrar giris deneyebilir.":"Onay verildi. Calisan ikinci giris islemini tekrar deneyebilir.")}catch(Y){_(Ue(Y,"Onay islemi tamamlanamadi."))}finally{F(!1)}};return n.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:n.jsxs("div",{className:"admin-auth-card w-full max-w-2xl rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ek Giris Admin Onayi"}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Gunluk mesai tamamlama sonrasi ikinci giris denemesi icin sifre dogrulayarak onay verin."}),s?null:n.jsx("div",{className:"mt-4 rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:"Gecerli bir token olmadan onay islemi baslatilamaz."}),d?n.jsx("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-3 text-sm text-slate-700",children:"Talep yukleniyor..."}):null,f?n.jsxs("div",{className:"mt-4 rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[n.jsx("p",{className:"font-semibold",children:M0(f)}),n.jsx("p",{className:"mt-1",children:f.message}),f.requestId?n.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",f.requestId]}):null]}):null,l?n.jsxs("section",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["#",l.employee_id," - ",l.employee_name]}),n.jsx("span",{className:`inline-flex rounded-full border px-2 py-1 text-xs font-semibold ${R3(l.status)}`,children:D3(l.status)})]}),n.jsxs("div",{className:"mt-3 grid gap-2 text-xs text-slate-600 sm:grid-cols-2",children:[n.jsxs("p",{children:["Mesai gunu: ",l.local_day]}),n.jsxs("p",{children:["Istenen cihaz ID: ",l.device_id??"-"]}),n.jsxs("p",{children:["Talep zamani: ",Bh(l.requested_at)]}),n.jsxs("p",{children:["Son gecerlilik: ",Bh(l.expires_at)]}),n.jsxs("p",{children:["Onaylayan: ",l.approved_by_username??"-"]}),n.jsxs("p",{children:["Kullanilma zamani: ",Bh(l.consumed_at)]})]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Push dagitimi: hedef ",l.push_total_targets," | gonderilen ",l.push_sent," | hata ",l.push_failed]})]}):null,S?n.jsx("div",{className:"mt-4 rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-3 text-sm text-emerald-700",children:S}):null,l?.status==="PENDING"?n.jsxs("form",{onSubmit:B,className:"mt-5 space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),n.jsx("input",{value:T,onChange:R=>z(R.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",autoComplete:"username"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre (MFA gerektirmez)"}),n.jsx("input",{type:"password",value:k,onChange:R=>A(R.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",autoComplete:"current-password"})]}),v?n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[n.jsx("p",{className:"font-semibold",children:M0(v)}),n.jsx("p",{className:"mt-1",children:v.message}),v.requestId?n.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",v.requestId]}):null]}):null,n.jsx("button",{type:"submit",disabled:D,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Onay veriliyor..."]}):"Evet, 2. Girisi Onayla"})]}):null,n.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[us.signatureText," | BUILD: ",us.buildVersion]})]})})}var Rl={},Uh,z0;function P3(){return z0||(z0=1,Uh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Uh}var Fh={},Yi={},O0;function Gr(){if(O0)return Yi;O0=1;let e;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Yi.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Yi.getSymbolTotalCodewords=function(o){return s[o]},Yi.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},Yi.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');e=o},Yi.isKanjiModeEnabled=function(){return typeof e<"u"},Yi.toSJIS=function(o){return e(o)},Yi}var Zh={},D0;function pp(){return D0||(D0=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function s(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+l)}}e.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},e.from=function(o,d){if(e.isValid(o))return o;try{return s(o)}catch{return d}}})(Zh)),Zh}var qh,R0;function I3(){if(R0)return qh;R0=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(s){const l=Math.floor(s/8);return(this.buffer[l]>>>7-s%8&1)===1},put:function(s,l){for(let o=0;o<l;o++)this.putBit((s>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),s&&(this.buffer[l]|=128>>>this.length%8),this.length++}},qh=e,qh}var Hh,L0;function B3(){if(L0)return Hh;L0=1;function e(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return e.prototype.set=function(s,l,o,d){const m=s*this.size+l;this.data[m]=o,d&&(this.reservedBit[m]=!0)},e.prototype.get=function(s,l){return this.data[s*this.size+l]},e.prototype.xor=function(s,l,o){this.data[s*this.size+l]^=o},e.prototype.isReserved=function(s,l){return this.reservedBit[s*this.size+l]},Hh=e,Hh}var Kh={},P0;function U3(){return P0||(P0=1,(function(e){const s=Gr().getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const d=Math.floor(o/7)+2,m=s(o),f=m===145?26:Math.ceil((m-13)/(2*d-2))*2,x=[m-7];for(let v=1;v<d-1;v++)x[v]=x[v-1]-f;return x.push(6),x.reverse()},e.getPositions=function(o){const d=[],m=e.getRowColCoords(o),f=m.length;for(let x=0;x<f;x++)for(let v=0;v<f;v++)x===0&&v===0||x===0&&v===f-1||x===f-1&&v===0||d.push([m[x],m[v]]);return d}})(Kh)),Kh}var Qh={},I0;function F3(){if(I0)return Qh;I0=1;const e=Gr().getSymbolSize,s=7;return Qh.getPositions=function(o){const d=e(o);return[[0,0],[d-s,0],[0,d-s]]},Qh}var Gh={},B0;function Z3(){return B0||(B0=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};e.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},e.from=function(d){return e.isValid(d)?parseInt(d,10):void 0},e.getPenaltyN1=function(d){const m=d.size;let f=0,x=0,v=0,_=null,S=null;for(let w=0;w<m;w++){x=v=0,_=S=null;for(let T=0;T<m;T++){let z=d.get(w,T);z===_?x++:(x>=5&&(f+=s.N1+(x-5)),_=z,x=1),z=d.get(T,w),z===S?v++:(v>=5&&(f+=s.N1+(v-5)),S=z,v=1)}x>=5&&(f+=s.N1+(x-5)),v>=5&&(f+=s.N1+(v-5))}return f},e.getPenaltyN2=function(d){const m=d.size;let f=0;for(let x=0;x<m-1;x++)for(let v=0;v<m-1;v++){const _=d.get(x,v)+d.get(x,v+1)+d.get(x+1,v)+d.get(x+1,v+1);(_===4||_===0)&&f++}return f*s.N2},e.getPenaltyN3=function(d){const m=d.size;let f=0,x=0,v=0;for(let _=0;_<m;_++){x=v=0;for(let S=0;S<m;S++)x=x<<1&2047|d.get(_,S),S>=10&&(x===1488||x===93)&&f++,v=v<<1&2047|d.get(S,_),S>=10&&(v===1488||v===93)&&f++}return f*s.N3},e.getPenaltyN4=function(d){let m=0;const f=d.data.length;for(let v=0;v<f;v++)m+=d.data[v];return Math.abs(Math.ceil(m*100/f/5)-10)*s.N4};function l(o,d,m){switch(o){case e.Patterns.PATTERN000:return(d+m)%2===0;case e.Patterns.PATTERN001:return d%2===0;case e.Patterns.PATTERN010:return m%3===0;case e.Patterns.PATTERN011:return(d+m)%3===0;case e.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(m/3))%2===0;case e.Patterns.PATTERN101:return d*m%2+d*m%3===0;case e.Patterns.PATTERN110:return(d*m%2+d*m%3)%2===0;case e.Patterns.PATTERN111:return(d*m%3+(d+m)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(d,m){const f=m.size;for(let x=0;x<f;x++)for(let v=0;v<f;v++)m.isReserved(v,x)||m.xor(v,x,l(d,v,x))},e.getBestMask=function(d,m){const f=Object.keys(e.Patterns).length;let x=0,v=1/0;for(let _=0;_<f;_++){m(_),e.applyMask(_,d);const S=e.getPenaltyN1(d)+e.getPenaltyN2(d)+e.getPenaltyN3(d)+e.getPenaltyN4(d);e.applyMask(_,d),S<v&&(v=S,x=_)}return x}})(Gh)),Gh}var Kc={},U0;function p_(){if(U0)return Kc;U0=1;const e=pp(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Kc.getBlocksCount=function(d,m){switch(m){case e.L:return s[(d-1)*4+0];case e.M:return s[(d-1)*4+1];case e.Q:return s[(d-1)*4+2];case e.H:return s[(d-1)*4+3];default:return}},Kc.getTotalCodewordsCount=function(d,m){switch(m){case e.L:return l[(d-1)*4+0];case e.M:return l[(d-1)*4+1];case e.Q:return l[(d-1)*4+2];case e.H:return l[(d-1)*4+3];default:return}},Kc}var Vh={},Yo={},F0;function q3(){if(F0)return Yo;F0=1;const e=new Uint8Array(512),s=new Uint8Array(256);return(function(){let o=1;for(let d=0;d<255;d++)e[d]=o,s[o]=d,o<<=1,o&256&&(o^=285);for(let d=255;d<512;d++)e[d]=e[d-255]})(),Yo.log=function(o){if(o<1)throw new Error("log("+o+")");return s[o]},Yo.exp=function(o){return e[o]},Yo.mul=function(o,d){return o===0||d===0?0:e[s[o]+s[d]]},Yo}var Z0;function H3(){return Z0||(Z0=1,(function(e){const s=q3();e.mul=function(o,d){const m=new Uint8Array(o.length+d.length-1);for(let f=0;f<o.length;f++)for(let x=0;x<d.length;x++)m[f+x]^=s.mul(o[f],d[x]);return m},e.mod=function(o,d){let m=new Uint8Array(o);for(;m.length-d.length>=0;){const f=m[0];for(let v=0;v<d.length;v++)m[v]^=s.mul(d[v],f);let x=0;for(;x<m.length&&m[x]===0;)x++;m=m.slice(x)}return m},e.generateECPolynomial=function(o){let d=new Uint8Array([1]);for(let m=0;m<o;m++)d=e.mul(d,new Uint8Array([1,s.exp(m)]));return d}})(Vh)),Vh}var Yh,q0;function K3(){if(q0)return Yh;q0=1;const e=H3();function s(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(o){this.degree=o,this.genPoly=e.generateECPolynomial(this.degree)},s.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(o.length+this.degree);d.set(o);const m=e.mod(d,this.genPoly),f=this.degree-m.length;if(f>0){const x=new Uint8Array(this.degree);return x.set(m,f),x}return m},Yh=s,Yh}var $h={},Xh={},Jh={},H0;function g_(){return H0||(H0=1,Jh.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),Jh}var Hs={},K0;function x_(){if(K0)return Hs;K0=1;const e="[0-9]+",s="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;Hs.KANJI=new RegExp(l,"g"),Hs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Hs.BYTE=new RegExp(o,"g"),Hs.NUMERIC=new RegExp(e,"g"),Hs.ALPHANUMERIC=new RegExp(s,"g");const d=new RegExp("^"+l+"$"),m=new RegExp("^"+e+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Hs.testKanji=function(v){return d.test(v)},Hs.testNumeric=function(v){return m.test(v)},Hs.testAlphanumeric=function(v){return f.test(v)},Hs}var Q0;function Vr(){return Q0||(Q0=1,(function(e){const s=g_(),l=x_();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(m,f){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!s.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?m.ccBits[0]:f<27?m.ccBits[1]:m.ccBits[2]},e.getBestModeForData=function(m){return l.testNumeric(m)?e.NUMERIC:l.testAlphanumeric(m)?e.ALPHANUMERIC:l.testKanji(m)?e.KANJI:e.BYTE},e.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},e.isValid=function(m){return m&&m.bit&&m.ccBits};function o(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+d)}}e.from=function(m,f){if(e.isValid(m))return m;try{return o(m)}catch{return f}}})(Xh)),Xh}var G0;function Q3(){return G0||(G0=1,(function(e){const s=Gr(),l=p_(),o=pp(),d=Vr(),m=g_(),f=7973,x=s.getBCHDigit(f);function v(T,z,k){for(let A=1;A<=40;A++)if(z<=e.getCapacity(A,k,T))return A}function _(T,z){return d.getCharCountIndicator(T,z)+4}function S(T,z){let k=0;return T.forEach(function(A){const D=_(A.mode,z);k+=D+A.getBitsLength()}),k}function w(T,z){for(let k=1;k<=40;k++)if(S(T,k)<=e.getCapacity(k,z,d.MIXED))return k}e.from=function(z,k){return m.isValid(z)?parseInt(z,10):k},e.getCapacity=function(z,k,A){if(!m.isValid(z))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=d.BYTE);const D=s.getSymbolTotalCodewords(z),F=l.getTotalCodewordsCount(z,k),B=(D-F)*8;if(A===d.MIXED)return B;const R=B-_(A,z);switch(A){case d.NUMERIC:return Math.floor(R/10*3);case d.ALPHANUMERIC:return Math.floor(R/11*2);case d.KANJI:return Math.floor(R/13);case d.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(z,k){let A;const D=o.from(k,o.M);if(Array.isArray(z)){if(z.length>1)return w(z,D);if(z.length===0)return 1;A=z[0]}else A=z;return v(A.mode,A.getLength(),D)},e.getEncodedBits=function(z){if(!m.isValid(z)||z<7)throw new Error("Invalid QR Code version");let k=z<<12;for(;s.getBCHDigit(k)-x>=0;)k^=f<<s.getBCHDigit(k)-x;return z<<12|k}})($h)),$h}var Wh={},V0;function G3(){if(V0)return Wh;V0=1;const e=Gr(),s=1335,l=21522,o=e.getBCHDigit(s);return Wh.getEncodedBits=function(m,f){const x=m.bit<<3|f;let v=x<<10;for(;e.getBCHDigit(v)-o>=0;)v^=s<<e.getBCHDigit(v)-o;return(x<<10|v)^l},Wh}var ef={},tf,Y0;function V3(){if(Y0)return tf;Y0=1;const e=Vr();function s(l){this.mode=e.NUMERIC,this.data=l.toString()}return s.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(o){let d,m,f;for(d=0;d+3<=this.data.length;d+=3)m=this.data.substr(d,3),f=parseInt(m,10),o.put(f,10);const x=this.data.length-d;x>0&&(m=this.data.substr(d),f=parseInt(m,10),o.put(f,x*3+1))},tf=s,tf}var nf,$0;function Y3(){if($0)return nf;$0=1;const e=Vr(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=e.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(d){let m;for(m=0;m+2<=this.data.length;m+=2){let f=s.indexOf(this.data[m])*45;f+=s.indexOf(this.data[m+1]),d.put(f,11)}this.data.length%2&&d.put(s.indexOf(this.data[m]),6)},nf=l,nf}var af,X0;function $3(){if(X0)return af;X0=1;const e=Vr();function s(l){this.mode=e.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return s.getBitsLength=function(o){return o*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){for(let o=0,d=this.data.length;o<d;o++)l.put(this.data[o],8)},af=s,af}var sf,J0;function X3(){if(J0)return sf;J0=1;const e=Vr(),s=Gr();function l(o){this.mode=e.KANJI,this.data=o}return l.getBitsLength=function(d){return d*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let d;for(d=0;d<this.data.length;d++){let m=s.toSJIS(this.data[d]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),o.put(m,13)}},sf=l,sf}var rf={exports:{}},W0;function J3(){return W0||(W0=1,(function(e){var s={single_source_shortest_paths:function(l,o,d){var m={},f={};f[o]=0;var x=s.PriorityQueue.make();x.push(o,0);for(var v,_,S,w,T,z,k,A,D;!x.empty();){v=x.pop(),_=v.value,w=v.cost,T=l[_]||{};for(S in T)T.hasOwnProperty(S)&&(z=T[S],k=w+z,A=f[S],D=typeof f[S]>"u",(D||A>k)&&(f[S]=k,x.push(S,k),m[S]=_))}if(typeof d<"u"&&typeof f[d]>"u"){var F=["Could not find a path from ",o," to ",d,"."].join("");throw new Error(F)}return m},extract_shortest_path_from_predecessor_list:function(l,o){for(var d=[],m=o;m;)d.push(m),l[m],m=l[m];return d.reverse(),d},find_path:function(l,o,d){var m=s.single_source_shortest_paths(l,o,d);return s.extract_shortest_path_from_predecessor_list(m,d)},PriorityQueue:{make:function(l){var o=s.PriorityQueue,d={},m;l=l||{};for(m in o)o.hasOwnProperty(m)&&(d[m]=o[m]);return d.queue=[],d.sorter=l.sorter||o.default_sorter,d},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var d={value:l,cost:o};this.queue.push(d),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=s})(rf)),rf.exports}var ev;function W3(){return ev||(ev=1,(function(e){const s=Vr(),l=V3(),o=Y3(),d=$3(),m=X3(),f=x_(),x=Gr(),v=J3();function _(F){return unescape(encodeURIComponent(F)).length}function S(F,B,R){const G=[];let Y;for(;(Y=F.exec(R))!==null;)G.push({data:Y[0],index:Y.index,mode:B,length:Y[0].length});return G}function w(F){const B=S(f.NUMERIC,s.NUMERIC,F),R=S(f.ALPHANUMERIC,s.ALPHANUMERIC,F);let G,Y;return x.isKanjiModeEnabled()?(G=S(f.BYTE,s.BYTE,F),Y=S(f.KANJI,s.KANJI,F)):(G=S(f.BYTE_KANJI,s.BYTE,F),Y=[]),B.concat(R,G,Y).sort(function(q,$){return q.index-$.index}).map(function(q){return{data:q.data,mode:q.mode,length:q.length}})}function T(F,B){switch(B){case s.NUMERIC:return l.getBitsLength(F);case s.ALPHANUMERIC:return o.getBitsLength(F);case s.KANJI:return m.getBitsLength(F);case s.BYTE:return d.getBitsLength(F)}}function z(F){return F.reduce(function(B,R){const G=B.length-1>=0?B[B.length-1]:null;return G&&G.mode===R.mode?(B[B.length-1].data+=R.data,B):(B.push(R),B)},[])}function k(F){const B=[];for(let R=0;R<F.length;R++){const G=F[R];switch(G.mode){case s.NUMERIC:B.push([G,{data:G.data,mode:s.ALPHANUMERIC,length:G.length},{data:G.data,mode:s.BYTE,length:G.length}]);break;case s.ALPHANUMERIC:B.push([G,{data:G.data,mode:s.BYTE,length:G.length}]);break;case s.KANJI:B.push([G,{data:G.data,mode:s.BYTE,length:_(G.data)}]);break;case s.BYTE:B.push([{data:G.data,mode:s.BYTE,length:_(G.data)}])}}return B}function A(F,B){const R={},G={start:{}};let Y=["start"];for(let ee=0;ee<F.length;ee++){const q=F[ee],$=[];for(let J=0;J<q.length;J++){const he=q[J],xe=""+ee+J;$.push(xe),R[xe]={node:he,lastCount:0},G[xe]={};for(let ce=0;ce<Y.length;ce++){const _e=Y[ce];R[_e]&&R[_e].node.mode===he.mode?(G[_e][xe]=T(R[_e].lastCount+he.length,he.mode)-T(R[_e].lastCount,he.mode),R[_e].lastCount+=he.length):(R[_e]&&(R[_e].lastCount=he.length),G[_e][xe]=T(he.length,he.mode)+4+s.getCharCountIndicator(he.mode,B))}}Y=$}for(let ee=0;ee<Y.length;ee++)G[Y[ee]].end=0;return{map:G,table:R}}function D(F,B){let R;const G=s.getBestModeForData(F);if(R=s.from(B,G),R!==s.BYTE&&R.bit<G.bit)throw new Error('"'+F+'" cannot be encoded with mode '+s.toString(R)+`.
 Suggested mode is: `+s.toString(G));switch(R===s.KANJI&&!x.isKanjiModeEnabled()&&(R=s.BYTE),R){case s.NUMERIC:return new l(F);case s.ALPHANUMERIC:return new o(F);case s.KANJI:return new m(F);case s.BYTE:return new d(F)}}e.fromArray=function(B){return B.reduce(function(R,G){return typeof G=="string"?R.push(D(G,null)):G.data&&R.push(D(G.data,G.mode)),R},[])},e.fromString=function(B,R){const G=w(B,x.isKanjiModeEnabled()),Y=k(G),ee=A(Y,R),q=v.find_path(ee.map,"start","end"),$=[];for(let J=1;J<q.length-1;J++)$.push(ee.table[q[J]].node);return e.fromArray(z($))},e.rawSplit=function(B){return e.fromArray(w(B,x.isKanjiModeEnabled()))}})(ef)),ef}var tv;function eM(){if(tv)return Fh;tv=1;const e=Gr(),s=pp(),l=I3(),o=B3(),d=U3(),m=F3(),f=Z3(),x=p_(),v=K3(),_=Q3(),S=G3(),w=Vr(),T=W3();function z(ee,q){const $=ee.size,J=m.getPositions(q);for(let he=0;he<J.length;he++){const xe=J[he][0],ce=J[he][1];for(let _e=-1;_e<=7;_e++)if(!(xe+_e<=-1||$<=xe+_e))for(let re=-1;re<=7;re++)ce+re<=-1||$<=ce+re||(_e>=0&&_e<=6&&(re===0||re===6)||re>=0&&re<=6&&(_e===0||_e===6)||_e>=2&&_e<=4&&re>=2&&re<=4?ee.set(xe+_e,ce+re,!0,!0):ee.set(xe+_e,ce+re,!1,!0))}}function k(ee){const q=ee.size;for(let $=8;$<q-8;$++){const J=$%2===0;ee.set($,6,J,!0),ee.set(6,$,J,!0)}}function A(ee,q){const $=d.getPositions(q);for(let J=0;J<$.length;J++){const he=$[J][0],xe=$[J][1];for(let ce=-2;ce<=2;ce++)for(let _e=-2;_e<=2;_e++)ce===-2||ce===2||_e===-2||_e===2||ce===0&&_e===0?ee.set(he+ce,xe+_e,!0,!0):ee.set(he+ce,xe+_e,!1,!0)}}function D(ee,q){const $=ee.size,J=_.getEncodedBits(q);let he,xe,ce;for(let _e=0;_e<18;_e++)he=Math.floor(_e/3),xe=_e%3+$-8-3,ce=(J>>_e&1)===1,ee.set(he,xe,ce,!0),ee.set(xe,he,ce,!0)}function F(ee,q,$){const J=ee.size,he=S.getEncodedBits(q,$);let xe,ce;for(xe=0;xe<15;xe++)ce=(he>>xe&1)===1,xe<6?ee.set(xe,8,ce,!0):xe<8?ee.set(xe+1,8,ce,!0):ee.set(J-15+xe,8,ce,!0),xe<8?ee.set(8,J-xe-1,ce,!0):xe<9?ee.set(8,15-xe-1+1,ce,!0):ee.set(8,15-xe-1,ce,!0);ee.set(J-8,8,1,!0)}function B(ee,q){const $=ee.size;let J=-1,he=$-1,xe=7,ce=0;for(let _e=$-1;_e>0;_e-=2)for(_e===6&&_e--;;){for(let re=0;re<2;re++)if(!ee.isReserved(he,_e-re)){let oe=!1;ce<q.length&&(oe=(q[ce]>>>xe&1)===1),ee.set(he,_e-re,oe),xe--,xe===-1&&(ce++,xe=7)}if(he+=J,he<0||$<=he){he-=J,J=-J;break}}}function R(ee,q,$){const J=new l;$.forEach(function(re){J.put(re.mode.bit,4),J.put(re.getLength(),w.getCharCountIndicator(re.mode,ee)),re.write(J)});const he=e.getSymbolTotalCodewords(ee),xe=x.getTotalCodewordsCount(ee,q),ce=(he-xe)*8;for(J.getLengthInBits()+4<=ce&&J.put(0,4);J.getLengthInBits()%8!==0;)J.putBit(0);const _e=(ce-J.getLengthInBits())/8;for(let re=0;re<_e;re++)J.put(re%2?17:236,8);return G(J,ee,q)}function G(ee,q,$){const J=e.getSymbolTotalCodewords(q),he=x.getTotalCodewordsCount(q,$),xe=J-he,ce=x.getBlocksCount(q,$),_e=J%ce,re=ce-_e,oe=Math.floor(J/ce),H=Math.floor(xe/ce),Q=H+1,se=oe-H,Se=new v(se);let X=0;const M=new Array(ce),te=new Array(ce);let I=0;const ue=new Uint8Array(ee.buffer);for(let He=0;He<ce;He++){const at=He<re?H:Q;M[He]=ue.slice(X,X+at),te[He]=Se.encode(M[He]),X+=at,I=Math.max(I,at)}const de=new Uint8Array(J);let je=0,ze,Ke;for(ze=0;ze<I;ze++)for(Ke=0;Ke<ce;Ke++)ze<M[Ke].length&&(de[je++]=M[Ke][ze]);for(ze=0;ze<se;ze++)for(Ke=0;Ke<ce;Ke++)de[je++]=te[Ke][ze];return de}function Y(ee,q,$,J){let he;if(Array.isArray(ee))he=T.fromArray(ee);else if(typeof ee=="string"){let oe=q;if(!oe){const H=T.rawSplit(ee);oe=_.getBestVersionForData(H,$)}he=T.fromString(ee,oe||40)}else throw new Error("Invalid data");const xe=_.getBestVersionForData(he,$);if(!xe)throw new Error("The amount of data is too big to be stored in a QR Code");if(!q)q=xe;else if(q<xe)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+xe+`.
`);const ce=R(q,$,he),_e=e.getSymbolSize(q),re=new o(_e);return z(re,q),k(re),A(re,q),F(re,$,0),q>=7&&D(re,q),B(re,ce),isNaN(J)&&(J=f.getBestMask(re,F.bind(null,re,$))),f.applyMask(J,re),F(re,$,J),{modules:re,version:q,errorCorrectionLevel:$,maskPattern:J,segments:he}}return Fh.create=function(q,$){if(typeof q>"u"||q==="")throw new Error("No input text");let J=s.M,he,xe;return typeof $<"u"&&(J=s.from($.errorCorrectionLevel,s.M),he=_.from($.version),xe=f.from($.maskPattern),$.toSJISFunc&&e.setToSJISFunction($.toSJISFunc)),Y(q,he,J,xe)},Fh}var lf={},of={},nv;function y_(){return nv||(nv=1,(function(e){function s(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(m){return[m,m]}))),o.length===6&&o.push("F","F");const d=parseInt(o.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const d=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,m=o.width&&o.width>=21?o.width:void 0,f=o.scale||4;return{width:m,scale:m?4:f,margin:d,color:{dark:s(o.color.dark||"#000000ff"),light:s(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,d){return d.width&&d.width>=o+d.margin*2?d.width/(o+d.margin*2):d.scale},e.getImageWidth=function(o,d){const m=e.getScale(o,d);return Math.floor((o+d.margin*2)*m)},e.qrToImageData=function(o,d,m){const f=d.modules.size,x=d.modules.data,v=e.getScale(f,m),_=Math.floor((f+m.margin*2)*v),S=m.margin*v,w=[m.color.light,m.color.dark];for(let T=0;T<_;T++)for(let z=0;z<_;z++){let k=(T*_+z)*4,A=m.color.light;if(T>=S&&z>=S&&T<_-S&&z<_-S){const D=Math.floor((T-S)/v),F=Math.floor((z-S)/v);A=w[x[D*f+F]?1:0]}o[k++]=A.r,o[k++]=A.g,o[k++]=A.b,o[k]=A.a}}})(of)),of}var av;function tM(){return av||(av=1,(function(e){const s=y_();function l(d,m,f){d.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=f,m.width=f,m.style.height=f+"px",m.style.width=f+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(m,f,x){let v=x,_=f;typeof v>"u"&&(!f||!f.getContext)&&(v=f,f=void 0),f||(_=o()),v=s.getOptions(v);const S=s.getImageWidth(m.modules.size,v),w=_.getContext("2d"),T=w.createImageData(S,S);return s.qrToImageData(T.data,m,v),l(w,_,S),w.putImageData(T,0,0),_},e.renderToDataURL=function(m,f,x){let v=x;typeof v>"u"&&(!f||!f.getContext)&&(v=f,f=void 0),v||(v={});const _=e.render(m,f,v),S=v.type||"image/png",w=v.rendererOpts||{};return _.toDataURL(S,w.quality)}})(lf)),lf}var uf={},sv;function nM(){if(sv)return uf;sv=1;const e=y_();function s(d,m){const f=d.a/255,x=m+'="'+d.hex+'"';return f<1?x+" "+m+'-opacity="'+f.toFixed(2).slice(1)+'"':x}function l(d,m,f){let x=d+m;return typeof f<"u"&&(x+=" "+f),x}function o(d,m,f){let x="",v=0,_=!1,S=0;for(let w=0;w<d.length;w++){const T=Math.floor(w%m),z=Math.floor(w/m);!T&&!_&&(_=!0),d[w]?(S++,w>0&&T>0&&d[w-1]||(x+=_?l("M",T+f,.5+z+f):l("m",v,0),v=0,_=!1),T+1<m&&d[w+1]||(x+=l("h",S),S=0)):v++}return x}return uf.render=function(m,f,x){const v=e.getOptions(f),_=m.modules.size,S=m.modules.data,w=_+v.margin*2,T=v.color.light.a?"<path "+s(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",z="<path "+s(v.color.dark,"stroke")+' d="'+o(S,_,v.margin)+'"/>',k='viewBox="0 0 '+w+" "+w+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+k+' shape-rendering="crispEdges">'+T+z+`</svg>
`;return typeof x=="function"&&x(null,D),D},uf}var iv;function aM(){if(iv)return Rl;iv=1;const e=P3(),s=eM(),l=tM(),o=nM();function d(m,f,x,v,_){const S=[].slice.call(arguments,1),w=S.length,T=typeof S[w-1]=="function";if(!T&&!e())throw new Error("Callback required as last argument");if(T){if(w<2)throw new Error("Too few arguments provided");w===2?(_=x,x=f,f=v=void 0):w===3&&(f.getContext&&typeof _>"u"?(_=v,v=void 0):(_=v,v=x,x=f,f=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(x=f,f=v=void 0):w===2&&!f.getContext&&(v=x,x=f,f=void 0),new Promise(function(z,k){try{const A=s.create(x,v);z(m(A,f,v))}catch(A){k(A)}})}try{const z=s.create(x,v);_(null,m(z,f,v))}catch(z){_(z)}}return Rl.create=s.create,Rl.toCanvas=d.bind(null,l.render),Rl.toDataURL=d.bind(null,l.renderToDataURL),Rl.toString=d.bind(null,function(m,f,x){return o.render(m,x)}),Rl}var sM=aM();const Pf=pd(sM),gp=[{key:"regions",label:"Bolgeler"},{key:"departments",label:"Departmanlar"},{key:"employees",label:"Calisanlar"},{key:"devices",label:"Cihazlar"},{key:"work_rules",label:"Mesai Kurallari"},{key:"attendance_events",label:"Yoklama Kayitlari"},{key:"leaves",label:"Izinler"},{key:"reports",label:"Raporlar"},{key:"compliance",label:"Uyumluluk"},{key:"schedule",label:"Planlama"},{key:"manual_overrides",label:"Manuel Duzeltme"},{key:"audit",label:"Denetim Kayitlari"},{key:"admin_users",label:"Admin Kullanicilari"}];function Wo(){return Object.fromEntries(gp.map(e=>[e.key,{read:!1,write:!1}]))}function iM(e){const s=Wo();return e&&gp.forEach(({key:l})=>{const o=e[l];o&&(s[l]={read:!!(o.read||o.write),write:!!o.write})}),s}function rv({value:e,disabled:s=!1,onChange:l}){const o=(d,m,f)=>{const v={...e[d]??{read:!1,write:!1}};m==="read"?(v.read=f,f||(v.write=!1)):(v.write=f,f&&(v.read=!0)),l({...e,[d]:v})};return n.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2",children:"Modul"}),n.jsx("th",{className:"px-3 py-2",children:"Goruntule"}),n.jsx("th",{className:"px-3 py-2",children:"Duzenle"})]})}),n.jsx("tbody",{children:gp.map(d=>{const m=e[d.key]??{read:!1,write:!1};return n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-3 py-2",children:d.label}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"checkbox",checked:m.read,disabled:s,onChange:f=>o(d.key,"read",f.target.checked)})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"checkbox",checked:m.write,disabled:s,onChange:f=>o(d.key,"write",f.target.checked)})})]},d.key)})})]})})}function lv(){return{username:"",full_name:"",password:"",is_active:!0,is_super_admin:!1,permissions:Wo()}}function cf(e){return e?new Date(e).toLocaleString("tr-TR"):"-"}function rM(e){const s=(e??"").trim();return s?s.length<=80?s:`${s.slice(0,80)}...`:"-"}function lM(e){const s=e.trim();return s?s.length<=60?s:`${s.slice(0,30)}...${s.slice(-22)}`:"-"}function oM(){const e=sa(),{pushToast:s}=ia(),{hasPermission:l,isSuperAdmin:o,user:d}=Ql(),m=l("admin_users"),f=l("admin_users","write"),[x,v]=b.useState(lv()),[_,S]=b.useState(null),[w,T]=b.useState(""),[z,k]=b.useState(""),[A,D]=b.useState(""),[F,B]=b.useState(!0),[R,G]=b.useState(!1),[Y,ee]=b.useState(Wo()),[q,$]=b.useState(null),[J,he]=b.useState(null),[xe,ce]=b.useState(null),[_e,re]=b.useState(""),[oe,H]=b.useState(""),[Q,se]=b.useState(null),[Se,X]=b.useState([]),[M,te]=b.useState(null),I=Ze({queryKey:["admin-users"],queryFn:_b,enabled:m}),ue=Ze({queryKey:["admin-user-mfa-status",J?.id],queryFn:()=>W2(J.id),enabled:!!J}),de=Ze({queryKey:["admin-user-claim-detail",q?.id],queryFn:()=>Q2(q.id),enabled:!!q}),je=Ye({mutationFn:({adminUserId:ae,claimId:Fe,nextActive:It})=>G2(ae,Fe,{is_active:It}),onSuccess:(ae,Fe)=>{s({variant:"success",title:Fe.nextActive?"Claim aktif edildi":"Claim pasife alindi",description:Fe.nextActive?"Admin cihazi yeniden aktif edildi.":"Admin cihazi manuel olarak pasife alindi."}),e.invalidateQueries({queryKey:["admin-user-claim-detail",Fe.adminUserId]}),e.invalidateQueries({queryKey:["admin-users"]})},onError:ae=>{const Fe=Ue(ae,"Claim durumu guncellenemedi.");s({variant:"error",title:"Claim guncelleme hatasi",description:Fe.message})}}),ze=Ye({mutationFn:$2,onSuccess:()=>{s({variant:"success",title:"Admin kullanici olusturuldu",description:"Yeni admin hesabi kaydedildi."}),v(lv()),e.invalidateQueries({queryKey:["admin-users"]})},onError:ae=>{const Fe=Ue(ae,"Admin kullanici olusturulamadi.");s({variant:"error",title:"Kayit basarisiz",description:Fe.message})}}),Ke=Ye({mutationFn:({userId:ae,payload:Fe})=>X2(ae,Fe),onSuccess:()=>{s({variant:"success",title:"Admin kullanici guncellendi",description:"Kullanici yetkileri guncellendi."}),S(null),D(""),e.invalidateQueries({queryKey:["admin-users"]})},onError:ae=>{const Fe=Ue(ae,"Admin kullanici guncellenemedi.");s({variant:"error",title:"Guncelleme basarisiz",description:Fe.message})}}),He=Ye({mutationFn:J2,onSuccess:()=>{s({variant:"success",title:"Admin kullanici silindi",description:"Kullanici kaydi sistemden kaldirildi."}),e.invalidateQueries({queryKey:["admin-users"]})},onError:ae=>{const Fe=Ue(ae,"Admin kullanici silinemedi.");s({variant:"error",title:"Silme basarisiz",description:Fe.message})}}),at=Ye({mutationFn:ae=>eE(ae),onSuccess:ae=>{ce(ae),re(""),X([]),te(null),ue.refetch(),s({variant:"success",title:"MFA kurulumu baslatildi",description:"QR kodu taratip 6 haneli kodu onaylayin."})},onError:ae=>{const Fe=Ue(ae,"MFA kurulumu baslatilamadi.");s({variant:"error",title:"MFA kurulum hatasi",description:Fe.message})}}),be=Ye({mutationFn:({adminUserId:ae,code:Fe})=>tE(ae,{code:Fe}),onSuccess:ae=>{X(ae.recovery_codes),te(ae.recovery_code_expires_at),ce(null),re(""),e.invalidateQueries({queryKey:["admin-users"]}),ue.refetch(),s({variant:"success",title:"MFA aktif edildi",description:"Recovery kodlari olusturuldu."})},onError:ae=>{const Fe=Ue(ae,"MFA kodu dogrulanamadi.");s({variant:"error",title:"MFA onay hatasi",description:Fe.message})}}),lt=Ye({mutationFn:({adminUserId:ae,currentPassword:Fe})=>nE(ae,{current_password:Fe}),onSuccess:ae=>{X(ae.recovery_codes),te(ae.recovery_code_expires_at),H(""),ue.refetch(),s({variant:"success",title:"Recovery kodlari yenilendi",description:"Eski kodlar pasif edildi."})},onError:ae=>{const Fe=Ue(ae,"Recovery kodlari yenilenemedi.");s({variant:"error",title:"Yenileme hatasi",description:Fe.message})}}),mt=Ye({mutationFn:({adminUserId:ae,currentPassword:Fe})=>aE(ae,{current_password:Fe}),onSuccess:()=>{ce(null),re(""),se(null),X([]),te(null),H(""),e.invalidateQueries({queryKey:["admin-users"]}),ue.refetch(),s({variant:"success",title:"MFA sifirlandi",description:"Kullanici tekrar MFA kurabilir."})},onError:ae=>{const Fe=Ue(ae,"MFA sifirlanamadi.");s({variant:"error",title:"Sifirlama hatasi",description:Fe.message})}});b.useEffect(()=>{if(!xe?.otpauth_uri){se(null);return}let ae=!1;return Pf.toDataURL(xe.otpauth_uri,{margin:1,width:220}).then(Fe=>{ae||se(Fe)}).catch(()=>{ae||se(null)}),()=>{ae=!0}},[xe]);const Ae=b.useMemo(()=>[...I.data??[]].sort((Fe,It)=>Fe.username.localeCompare(It.username)),[I.data]),rt=ue.data;if(!m)return n.jsx(Ct,{message:"Bu alani goruntuleme yetkiniz yok."});if(I.isLoading)return n.jsx(Zt,{label:"Admin kullanicilar yukleniyor..."});if(I.isError)return n.jsx(Ct,{message:"Admin kullanici listesi alinamadi."});const bt=ae=>{if(ae.preventDefault(),!!f){if(!o){s({variant:"info",title:"Yetki siniri",description:"Sadece super admin yeni admin kullanici olusturabilir."});return}if(x.password.length<8){s({variant:"error",title:"Kayit basarisiz",description:"Sifre alani en az 8 karakter olmali."});return}ze.mutate({username:x.username.trim(),full_name:x.full_name.trim()||null,password:x.password,is_active:x.is_active,is_super_admin:x.is_super_admin,permissions:x.is_super_admin?Wo():x.permissions})}},St=ae=>{S(ae),T(ae.username),k(ae.full_name??""),D(""),B(ae.is_active),G(ae.is_super_admin),ee(iM(ae.permissions))},At=ae=>{$(ae)},rn=()=>{$(null)},ne=ae=>{he(ae),ce(null),re(""),H(""),se(null),X([]),te(null)},Ee=()=>{he(null),ce(null),re(""),H(""),se(null),X([]),te(null)},Pe=ae=>{if(ae.preventDefault(),!(!_||!f)){if(A.trim()&&A.trim().length<8){s({variant:"error",title:"Guncelleme basarisiz",description:"Yeni sifre en az 8 karakter olmali."});return}Ke.mutate({userId:_.id,payload:{username:w.trim(),full_name:z.trim()||null,password:A.trim()?A:void 0,is_active:F,is_super_admin:R,permissions:R?Wo():Y}})}},ct=ae=>{ae.preventDefault(),!(!J||!_e.trim())&&be.mutate({adminUserId:J.id,code:_e.trim()})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Admin Kullanici ve Yetki Yonetimi",description:"Belirli modullere erisebilen read-only veya tam yetkili admin hesaplari olusturun."}),n.jsxs(Re,{children:[n.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Yeni Admin Kullanici"}),n.jsxs("p",{className:"mb-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:["Sistem super admin hesabi: ",n.jsx("strong",{children:"admin"})," (env). Bu hesap her zaman tam yetkilidir."]}),o?null:n.jsx("p",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:"Sadece super admin hesaplari yeni admin olusturabilir ve yetki duzenleyebilir."}),n.jsxs("form",{onSubmit:bt,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",n.jsx("input",{value:x.username,onChange:ae=>v(Fe=>({...Fe,username:ae.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"ik_readonly"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",n.jsx("input",{value:x.full_name,onChange:ae=>v(Fe=>({...Fe,full_name:ae.target.value})),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"IK Operasyon"})]}),n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Sifre",n.jsx("input",{type:"password",value:x.password,onChange:ae=>v(Fe=>({...Fe,password:ae.target.value})),disabled:!f||!o,minLength:8,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"En az 8 karakter"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:x.is_active,disabled:!f||!o,onChange:ae=>v(Fe=>({...Fe,is_active:ae.target.checked}))}),"Aktif"]}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:x.is_super_admin,disabled:!f||!o,onChange:ae=>v(Fe=>({...Fe,is_super_admin:ae.target.checked}))}),"Super Admin"]})]}),x.is_super_admin?n.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):n.jsx(rv,{value:x.permissions,disabled:!f||!o,onChange:ae=>v(Fe=>({...Fe,permissions:ae}))}),n.jsx("button",{type:"submit",disabled:!f||!o||ze.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ze.isPending?"Kaydediliyor...":"Kullanici Olustur"})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"mb-3 text-base font-semibold text-slate-900",children:"Mevcut Admin Kullanicilar"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"ID"}),n.jsx("th",{className:"py-2",children:"Kullanici"}),n.jsx("th",{className:"py-2",children:"Ad Soyad"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Rol"}),n.jsx("th",{className:"py-2",children:"Bagli Cihaz"}),n.jsx("th",{className:"py-2",children:"MFA"}),n.jsx("th",{className:"py-2",children:"Islem"})]})}),n.jsx("tbody",{children:Ae.map(ae=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:ae.id}),n.jsx("td",{className:"py-2 font-medium text-slate-900",children:ae.username}),n.jsx("td",{className:"py-2",children:ae.full_name??"-"}),n.jsx("td",{className:"py-2",children:n.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${ae.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:ae.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"py-2",children:ae.is_super_admin?"Super Admin":"Yetkili Admin"}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"text-xs text-slate-700",children:[n.jsx("span",{className:"font-semibold text-emerald-700",children:ae.claim_active_total??0})," aktif /"," ",n.jsx("span",{className:"font-semibold",children:ae.claim_total??0})," toplam"]})}),n.jsx("td",{className:"py-2",children:n.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${ae.mfa_enabled?"bg-emerald-100 text-emerald-800":ae.mfa_secret_configured?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-700"}`,children:ae.mfa_enabled?"Aktif":ae.mfa_secret_configured?"Kurulum Bekliyor":"Kapali"})}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>At(ae),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-medium text-emerald-700 hover:bg-emerald-50",children:"Detay"}),n.jsx("button",{type:"button",disabled:!(o||(d?.admin_user_id??0)===ae.id),onClick:()=>ne(ae),className:"rounded-lg border border-brand-200 px-3 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50 disabled:opacity-50",children:"MFA"}),n.jsx("button",{type:"button",disabled:!f||!o,onClick:()=>St(ae),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Duzenle"}),n.jsx("button",{type:"button",disabled:!f||!o||He.isPending,onClick:()=>{window.confirm(`${ae.username} kullanicisini silmek istediginize emin misiniz?`)&&He.mutate(ae.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-50",children:"Sil"})]})})]},ae.id))})]})}),Ae.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Kayitli admin kullanici bulunamadi."}):null]}),n.jsx(Wi,{open:!!q,title:q?`Admin Detay: ${q.username}`:"Admin Detay",onClose:rn,children:q?n.jsxs("div",{className:"space-y-4",children:[de.isLoading?n.jsx("p",{className:"text-sm text-slate-500",children:"Detay yukleniyor..."}):null,de.isError?n.jsx(Ct,{message:"Admin claim detayi alinamadi."}):null,de.data?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:["Toplam claim: ",n.jsx("strong",{children:de.data.claim_total})]}),n.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800",children:["Aktif claim: ",n.jsx("strong",{children:de.data.claim_active_total})]}),n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-800",children:["Pasif claim: ",n.jsx("strong",{children:de.data.claim_inactive_total})]}),n.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 px-3 py-2 text-sm text-blue-800",children:["Benzersiz cihaz: ",n.jsx("strong",{children:new Set(de.data.claims.map(ae=>ae.endpoint_fingerprint)).size})]})]}),n.jsxs("section",{children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Bagli Cihaz / Claim Listesi"}),n.jsxs("div",{className:"mt-2 max-h-60 overflow-auto rounded-lg border border-slate-200",children:[n.jsxs("table",{className:"min-w-full text-left text-xs",children:[n.jsx("thead",{className:"sticky top-0 bg-slate-50 uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-2",children:"ID"}),n.jsx("th",{className:"px-2 py-2",children:"Durum"}),n.jsx("th",{className:"px-2 py-2",children:"Fingerprint"}),n.jsx("th",{className:"px-2 py-2",children:"Son Gorulme"}),n.jsx("th",{className:"px-2 py-2",children:"Hata"}),n.jsx("th",{className:"px-2 py-2",children:"Tarayici"}),n.jsx("th",{className:"px-2 py-2",children:"Endpoint"}),n.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),n.jsx("tbody",{children:de.data.claims.map(ae=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-2 py-2",children:ae.id}),n.jsx("td",{className:"px-2 py-2",children:n.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${ae.is_active?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:ae.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"px-2 py-2 font-mono text-[11px]",children:ae.endpoint_fingerprint}),n.jsx("td",{className:"px-2 py-2",children:cf(ae.last_seen_at)}),n.jsx("td",{className:"px-2 py-2",children:ae.last_error?.trim()?ae.last_error:"-"}),n.jsx("td",{className:"px-2 py-2",title:ae.user_agent??"-",children:rM(ae.user_agent)}),n.jsx("td",{className:"px-2 py-2 font-mono text-[11px]",title:ae.endpoint,children:lM(ae.endpoint)}),n.jsx("td",{className:"px-2 py-2",children:n.jsx("button",{type:"button",disabled:!f||!o||je.isPending||!q,onClick:()=>{if(!q)return;if(!ae.is_active){je.mutate({adminUserId:q.id,claimId:ae.id,nextActive:!0});return}window.confirm("Bu admin claim pasife alinsin mi?")&&je.mutate({adminUserId:q.id,claimId:ae.id,nextActive:!1})},className:`rounded-lg border px-2 py-1 text-[11px] font-semibold disabled:opacity-50 ${ae.is_active?"border-rose-300 text-rose-700 hover:bg-rose-50":"border-emerald-300 text-emerald-700 hover:bg-emerald-50"}`,children:ae.is_active?"Pasife Al":"Aktif Et"})})]},ae.id))})]}),de.data.claims.length===0?n.jsx("p",{className:"px-2 py-2 text-sm text-slate-500",children:"Bu kullanici icin claim kaydi yok."}):null]})]}),n.jsxs("section",{children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Olusturulan Claim Davetleri"}),n.jsxs("div",{className:"mt-2 max-h-40 overflow-auto rounded-lg border border-slate-200",children:[n.jsxs("table",{className:"min-w-full text-left text-xs",children:[n.jsx("thead",{className:"sticky top-0 bg-slate-50 uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-2",children:"ID"}),n.jsx("th",{className:"px-2 py-2",children:"Durum"}),n.jsx("th",{className:"px-2 py-2",children:"Deneme"}),n.jsx("th",{className:"px-2 py-2",children:"Bitis"}),n.jsx("th",{className:"px-2 py-2",children:"Kullanan"})]})}),n.jsx("tbody",{children:de.data.created_invites.map(ae=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-2 py-2",children:ae.id}),n.jsx("td",{className:"px-2 py-2",children:ae.status}),n.jsxs("td",{className:"px-2 py-2",children:[ae.attempt_count,"/",ae.max_attempts]}),n.jsx("td",{className:"px-2 py-2",children:cf(ae.expires_at)}),n.jsx("td",{className:"px-2 py-2",children:ae.used_by_username??"-"})]},ae.id))})]}),de.data.created_invites.length===0?n.jsx("p",{className:"px-2 py-2 text-sm text-slate-500",children:"Kayit yok."}):null]})]}),n.jsxs("section",{children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Kullandigi Claim Davetleri"}),n.jsxs("div",{className:"mt-2 max-h-40 overflow-auto rounded-lg border border-slate-200",children:[n.jsxs("table",{className:"min-w-full text-left text-xs",children:[n.jsx("thead",{className:"sticky top-0 bg-slate-50 uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-2",children:"ID"}),n.jsx("th",{className:"px-2 py-2",children:"Durum"}),n.jsx("th",{className:"px-2 py-2",children:"Olusturan"}),n.jsx("th",{className:"px-2 py-2",children:"Kullanilan Zaman"})]})}),n.jsx("tbody",{children:de.data.used_invites.map(ae=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-2 py-2",children:ae.id}),n.jsx("td",{className:"px-2 py-2",children:ae.status}),n.jsx("td",{className:"px-2 py-2",children:ae.created_by_username}),n.jsx("td",{className:"px-2 py-2",children:cf(ae.used_at)})]},ae.id))})]}),de.data.used_invites.length===0?n.jsx("p",{className:"px-2 py-2 text-sm text-slate-500",children:"Kayit yok."}):null]})]})]}):null]}):null}),n.jsx(Wi,{open:!!_,title:"Admin Kullanici Duzenle",onClose:()=>{S(null),D("")},children:_?n.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Kullanici Adi",n.jsx("input",{value:w,onChange:ae=>T(ae.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",n.jsx("input",{value:z,onChange:ae=>k(ae.target.value),disabled:!f||!o,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Yeni Sifre (bos birakilirsa degismez)",n.jsx("input",{type:"password",value:A,onChange:ae=>D(ae.target.value),disabled:!f||!o,minLength:8,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Opsiyonel"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-700",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:F,disabled:!f||!o,onChange:ae=>B(ae.target.checked)}),"Aktif"]}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:R,disabled:!f||!o,onChange:ae=>G(ae.target.checked)}),"Super Admin"]})]}),R?n.jsx("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"Super admin secili oldugu icin tum modullerde tam yetki verilecektir."}):n.jsx(rv,{value:Y,disabled:!f||!o,onChange:ee}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{S(null),D("")},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Vazgec"}),n.jsx("button",{type:"submit",disabled:!f||!o||Ke.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:Ke.isPending?"Kaydediliyor...":"Guncelle"})]})]}):null}),n.jsx(Wi,{open:!!J,title:J?`MFA Yonetimi: ${J.username}`:"MFA Yonetimi",onClose:Ee,children:J?n.jsxs("div",{className:"space-y-4",children:[ue.isLoading?n.jsx("p",{className:"text-sm text-slate-500",children:"MFA durumu yukleniyor..."}):null,rt?n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-3 text-sm text-slate-700",children:[n.jsxs("p",{children:["Durum:"," ",n.jsx("strong",{children:rt.mfa_enabled?"MFA aktif":rt.has_secret?"Kurulum bekliyor":"Kapali"})]}),n.jsxs("p",{children:["Aktif recovery kodu: ",rt.recovery_code_active_count]}),n.jsxs("p",{children:["Son guncelleme:"," ",rt.updated_at?new Date(rt.updated_at).toLocaleString("tr-TR"):"-"]}),n.jsxs("p",{children:["Kod son gecerlilik:"," ",rt.recovery_code_expires_at?new Date(rt.recovery_code_expires_at).toLocaleDateString("tr-TR"):"-"]})]}):null,n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsx("button",{type:"button",disabled:at.isPending,onClick:()=>at.mutate(J.id),className:"rounded-lg border border-brand-300 px-3 py-2 text-xs font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:at.isPending?"Baslatiliyor...":"Kurulumu Baslat / Yenile"})}),xe?n.jsxs("form",{onSubmit:ct,className:"space-y-3 rounded-lg border border-brand-100 bg-brand-50/40 px-3 py-3",children:[n.jsx("p",{className:"text-sm font-medium text-brand-900",children:"1) Authenticator ile QR kodu tarat"}),Q?n.jsx("img",{src:Q,alt:"MFA QR",className:"h-44 w-44 rounded-lg border border-brand-200 bg-white p-2"}):n.jsx("p",{className:"text-xs text-slate-600",children:"QR olusturulamadi. Asagidaki anahtari manuel girin."}),n.jsxs("p",{className:"text-xs text-slate-700",children:["Secret: ",n.jsx("code",{children:xe.secret_key})]}),n.jsx("p",{className:"text-xs text-slate-600 break-all",children:xe.otpauth_uri}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["2) Uretilen 6 haneli kod",n.jsx("input",{value:_e,onChange:ae=>re(ae.target.value),inputMode:"numeric",pattern:"[0-9]*",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"123456"})]}),n.jsx("button",{type:"submit",disabled:be.isPending||!_e.trim(),className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:be.isPending?"Onaylaniyor...":"MFA Kurulumunu Onayla"})]}):null,n.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 px-3 py-3",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800",children:"Kritik Islemler (Sizin sifreniz gerekli)"}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["Mevcut sifreniz",n.jsx("input",{type:"password",value:oe,onChange:ae=>H(ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Sizin admin sifreniz"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",disabled:lt.isPending||!oe.trim()||!rt?.mfa_enabled,onClick:()=>{oe.trim()&&lt.mutate({adminUserId:J.id,currentPassword:oe})},className:"rounded-lg border border-emerald-300 px-3 py-2 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:lt.isPending?"Yenileniyor...":"Recovery Kodlarini Yenile"}),n.jsx("button",{type:"button",disabled:mt.isPending||!oe.trim(),onClick:()=>{!window.confirm(`${J.username} icin MFA sifirlansin mi?`)||!oe.trim()||mt.mutate({adminUserId:J.id,currentPassword:oe})},className:"rounded-lg border border-rose-300 px-3 py-2 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:mt.isPending?"Sifirlaniyor...":"MFA Sifirla"})]})]}),Se.length>0?n.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-3 text-sm text-amber-900",children:[n.jsx("p",{className:"font-semibold",children:"Recovery kodlari (tek seferlik gosterim)"}),n.jsxs("p",{className:"mt-1 text-xs",children:["Gecerlilik:"," ",M?new Date(M).toLocaleDateString("tr-TR"):"-"]}),n.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:Se.map(ae=>n.jsx("code",{className:"rounded bg-white px-2 py-1 text-slate-900",children:ae},ae))})]}):null]}):null})]})}function ov({label:e,value:s,onCopy:l}){return n.jsxs("label",{className:"block text-sm text-slate-700",children:[e,n.jsxs("div",{className:"mt-1 flex items-stretch gap-2",children:[n.jsx("input",{readOnly:!0,value:s,className:"w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 text-sm text-slate-700"}),n.jsx("button",{type:"button",onClick:()=>l(s),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Kopyala"})]})]})}var Jo={exports:{}};var uM=Jo.exports,uv;function cM(){return uv||(uv=1,(function(e,s){(function(l,o){o(s)})(uM,(function(l){var o="1.9.4";function d(i){var u,h,y,N;for(h=1,y=arguments.length;h<y;h++){N=arguments[h];for(u in N)i[u]=N[u]}return i}var m=Object.create||(function(){function i(){}return function(u){return i.prototype=u,new i}})();function f(i,u){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var y=h.call(arguments,2);return function(){return i.apply(u,y.length?y.concat(h.call(arguments)):arguments)}}var x=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++x),i._leaflet_id}function _(i,u,h){var y,N,E,Z;return Z=function(){y=!1,N&&(E.apply(h,N),N=!1)},E=function(){y?N=arguments:(i.apply(h,arguments),setTimeout(Z,u),y=!0)},E}function S(i,u,h){var y=u[1],N=u[0],E=y-N;return i===y&&h?i:((i-N)%E+E)%E+N}function w(){return!1}function T(i,u){if(u===!1)return i;var h=Math.pow(10,u===void 0?6:u);return Math.round(i*h)/h}function z(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function k(i){return z(i).split(/\s+/)}function A(i,u){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?m(i.options):{});for(var h in u)i.options[h]=u[h];return i.options}function D(i,u,h){var y=[];for(var N in i)y.push(encodeURIComponent(h?N.toUpperCase():N)+"="+encodeURIComponent(i[N]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function B(i,u){return i.replace(F,function(h,y){var N=u[y];if(N===void 0)throw new Error("No value provided for variable "+h);return typeof N=="function"&&(N=N(u)),N})}var R=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function G(i,u){for(var h=0;h<i.length;h++)if(i[h]===u)return h;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var q=0;function $(i){var u=+new Date,h=Math.max(0,16-(u-q));return q=u+h,window.setTimeout(i,h)}var J=window.requestAnimationFrame||ee("RequestAnimationFrame")||$,he=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function xe(i,u,h){if(h&&J===$)i.call(u);else return J.call(window,f(i,u))}function ce(i){i&&he.call(window,i)}var _e={__proto__:null,extend:d,create:m,bind:f,get lastId(){return x},stamp:v,throttle:_,wrapNum:S,falseFn:w,formatNum:T,trim:z,splitWords:k,setOptions:A,getParamString:D,template:B,isArray:R,indexOf:G,emptyImageUrl:Y,requestFn:J,cancelFn:he,requestAnimFrame:xe,cancelAnimFrame:ce};function re(){}re.extend=function(i){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,y=m(h);y.constructor=u,u.prototype=y;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(u[N]=this[N]);return i.statics&&d(u,i.statics),i.includes&&(oe(i.includes),d.apply(null,[y].concat(i.includes))),d(y,i),delete y.statics,delete y.includes,y.options&&(y.options=h.options?m(h.options):{},d(y.options,i.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,Z=y._initHooks.length;E<Z;E++)y._initHooks[E].call(this)}},u},re.include=function(i){var u=this.prototype.options;return d(this.prototype,i),i.options&&(this.prototype.options=u,this.mergeOptions(i.options)),this},re.mergeOptions=function(i){return d(this.prototype.options,i),this},re.addInitHook=function(i){var u=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function oe(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=R(i)?i:[i];for(var u=0;u<i.length;u++)i[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(i,u,h){if(typeof i=="object")for(var y in i)this._on(y,i[y],u);else{i=k(i);for(var N=0,E=i.length;N<E;N++)this._on(i[N],u,h)}return this},off:function(i,u,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var y in i)this._off(y,i[y],u);else{i=k(i);for(var N=arguments.length===1,E=0,Z=i.length;E<Z;E++)N?this._off(i[E]):this._off(i[E],u,h)}return this},_on:function(i,u,h,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(i,u,h)===!1){h===this&&(h=void 0);var N={fn:u,ctx:h};y&&(N.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(N)}},_off:function(i,u,h){var y,N,E;if(this._events&&(y=this._events[i],!!y)){if(arguments.length===1){if(this._firingCount)for(N=0,E=y.length;N<E;N++)y[N].fn=w;delete this._events[i];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var Z=this._listens(i,u,h);if(Z!==!1){var le=y[Z];this._firingCount&&(le.fn=w,this._events[i]=y=y.slice()),y.splice(Z,1)}}},fire:function(i,u,h){if(!this.listens(i,h))return this;var y=d({},u,{type:i,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var N=this._events[i];if(N){this._firingCount=this._firingCount+1||1;for(var E=0,Z=N.length;E<Z;E++){var le=N[E],pe=le.fn;le.once&&this.off(i,pe,le.ctx),pe.call(le.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(i,u,h,y){typeof i!="string"&&console.warn('"string" type argument expected');var N=u;typeof u!="function"&&(y=!!u,N=void 0,h=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,N,h)!==!1)return!0;if(y){for(var Z in this._eventParents)if(this._eventParents[Z].listens(i,u,h,y))return!0}return!1},_listens:function(i,u,h){if(!this._events)return!1;var y=this._events[i]||[];if(!u)return!!y.length;h===this&&(h=void 0);for(var N=0,E=y.length;N<E;N++)if(y[N].fn===u&&y[N].ctx===h)return N;return!1},once:function(i,u,h){if(typeof i=="object")for(var y in i)this._on(y,i[y],u,!0);else{i=k(i);for(var N=0,E=i.length;N<E;N++)this._on(i[N],u,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var u in this._eventParents)this._eventParents[u].fire(i.type,d({layer:i.target,propagatedFrom:i.target},i),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var Q=re.extend(H);function se(i,u,h){this.x=h?Math.round(i):i,this.y=h?Math.round(u):u}var Se=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(i){return this.clone()._add(X(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(X(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new se(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new se(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(i){i=X(i);var u=i.x-this.x,h=i.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(i){return i=X(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=X(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function X(i,u,h){return i instanceof se?i:R(i)?new se(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new se(i.x,i.y):new se(i,u,h)}function M(i,u){if(i)for(var h=u?[i,u]:i,y=0,N=h.length;y<N;y++)this.extend(h[y])}M.prototype={extend:function(i){var u,h;if(!i)return this;if(i instanceof se||typeof i[0]=="number"||"x"in i)u=h=X(i);else if(i=te(i),u=i.min,h=i.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var u,h;return typeof i[0]=="number"||i instanceof se?i=X(i):i=te(i),i instanceof M?(u=i.min,h=i.max):u=h=i,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=te(i);var u=this.min,h=this.max,y=i.min,N=i.max,E=N.x>=u.x&&y.x<=h.x,Z=N.y>=u.y&&y.y<=h.y;return E&&Z},overlaps:function(i){i=te(i);var u=this.min,h=this.max,y=i.min,N=i.max,E=N.x>u.x&&y.x<h.x,Z=N.y>u.y&&y.y<h.y;return E&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var u=this.min,h=this.max,y=Math.abs(u.x-h.x)*i,N=Math.abs(u.y-h.y)*i;return te(X(u.x-y,u.y-N),X(h.x+y,h.y+N))},equals:function(i){return i?(i=te(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function te(i,u){return!i||i instanceof M?i:new M(i,u)}function I(i,u){if(i)for(var h=u?[i,u]:i,y=0,N=h.length;y<N;y++)this.extend(h[y])}I.prototype={extend:function(i){var u=this._southWest,h=this._northEast,y,N;if(i instanceof de)y=i,N=i;else if(i instanceof I){if(y=i._southWest,N=i._northEast,!y||!N)return this}else return i?this.extend(je(i)||ue(i)):this;return!u&&!h?(this._southWest=new de(y.lat,y.lng),this._northEast=new de(N.lat,N.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),h.lat=Math.max(N.lat,h.lat),h.lng=Math.max(N.lng,h.lng)),this},pad:function(i){var u=this._southWest,h=this._northEast,y=Math.abs(u.lat-h.lat)*i,N=Math.abs(u.lng-h.lng)*i;return new I(new de(u.lat-y,u.lng-N),new de(h.lat+y,h.lng+N))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof de||"lat"in i?i=je(i):i=ue(i);var u=this._southWest,h=this._northEast,y,N;return i instanceof I?(y=i.getSouthWest(),N=i.getNorthEast()):y=N=i,y.lat>=u.lat&&N.lat<=h.lat&&y.lng>=u.lng&&N.lng<=h.lng},intersects:function(i){i=ue(i);var u=this._southWest,h=this._northEast,y=i.getSouthWest(),N=i.getNorthEast(),E=N.lat>=u.lat&&y.lat<=h.lat,Z=N.lng>=u.lng&&y.lng<=h.lng;return E&&Z},overlaps:function(i){i=ue(i);var u=this._southWest,h=this._northEast,y=i.getSouthWest(),N=i.getNorthEast(),E=N.lat>u.lat&&y.lat<h.lat,Z=N.lng>u.lng&&y.lng<h.lng;return E&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,u){return i?(i=ue(i),this._southWest.equals(i.getSouthWest(),u)&&this._northEast.equals(i.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(i,u){return i instanceof I?i:new I(i,u)}function de(i,u,h){if(isNaN(i)||isNaN(u))throw new Error("Invalid LatLng object: ("+i+", "+u+")");this.lat=+i,this.lng=+u,h!==void 0&&(this.alt=+h)}de.prototype={equals:function(i,u){if(!i)return!1;i=je(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(u===void 0?1e-9:u)},toString:function(i){return"LatLng("+T(this.lat,i)+", "+T(this.lng,i)+")"},distanceTo:function(i){return Ke.distance(this,je(i))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(i){var u=180*i/40075017,h=u/Math.cos(Math.PI/180*this.lat);return ue([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function je(i,u,h){return i instanceof de?i:R(i)&&typeof i[0]!="object"?i.length===3?new de(i[0],i[1],i[2]):i.length===2?new de(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new de(i.lat,"lng"in i?i.lng:i.lon,i.alt):u===void 0?null:new de(i,u,h)}var ze={latLngToPoint:function(i,u){var h=this.projection.project(i),y=this.scale(u);return this.transformation._transform(h,y)},pointToLatLng:function(i,u){var h=this.scale(u),y=this.transformation.untransform(i,h);return this.projection.unproject(y)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(i),y=this.transformation.transform(u.min,h),N=this.transformation.transform(u.max,h);return new M(y,N)},infinite:!1,wrapLatLng:function(i){var u=this.wrapLng?S(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?S(i.lat,this.wrapLat,!0):i.lat,y=i.alt;return new de(h,u,y)},wrapLatLngBounds:function(i){var u=i.getCenter(),h=this.wrapLatLng(u),y=u.lat-h.lat,N=u.lng-h.lng;if(y===0&&N===0)return i;var E=i.getSouthWest(),Z=i.getNorthEast(),le=new de(E.lat-y,E.lng-N),pe=new de(Z.lat-y,Z.lng-N);return new I(le,pe)}},Ke=d({},ze,{wrapLng:[-180,180],R:6371e3,distance:function(i,u){var h=Math.PI/180,y=i.lat*h,N=u.lat*h,E=Math.sin((u.lat-i.lat)*h/2),Z=Math.sin((u.lng-i.lng)*h/2),le=E*E+Math.cos(y)*Math.cos(N)*Z*Z,pe=2*Math.atan2(Math.sqrt(le),Math.sqrt(1-le));return this.R*pe}}),He=6378137,at={R:He,MAX_LATITUDE:85.0511287798,project:function(i){var u=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,i.lat),-h),N=Math.sin(y*u);return new se(this.R*i.lng*u,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(i){var u=180/Math.PI;return new de((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*u,i.x*u/this.R)},bounds:(function(){var i=He*Math.PI;return new M([-i,-i],[i,i])})()};function be(i,u,h,y){if(R(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=u,this._c=h,this._d=y}be.prototype={transform:function(i,u){return this._transform(i.clone(),u)},_transform:function(i,u){return u=u||1,i.x=u*(this._a*i.x+this._b),i.y=u*(this._c*i.y+this._d),i},untransform:function(i,u){return u=u||1,new se((i.x/u-this._b)/this._a,(i.y/u-this._d)/this._c)}};function lt(i,u,h,y){return new be(i,u,h,y)}var mt=d({},Ke,{code:"EPSG:3857",projection:at,transformation:(function(){var i=.5/(Math.PI*at.R);return lt(i,.5,-i,.5)})()}),Ae=d({},mt,{code:"EPSG:900913"});function rt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function bt(i,u){var h="",y,N,E,Z,le,pe;for(y=0,E=i.length;y<E;y++){for(le=i[y],N=0,Z=le.length;N<Z;N++)pe=le[N],h+=(N?"L":"M")+pe.x+" "+pe.y;h+=u?De.svg?"z":"x":""}return h||"M0 0"}var St=document.documentElement.style,At="ActiveXObject"in window,rn=At&&!document.addEventListener,ne="msLaunchUri"in navigator&&!("documentMode"in document),Ee=Ot("webkit"),Pe=Ot("android"),ct=Ot("android 2")||Ot("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=Pe&&Ot("Google")&&ae<537&&!("AudioNode"in window),It=!!window.opera,Kt=!ne&&Ot("chrome"),Qt=Ot("gecko")&&!Ee&&!It&&!At,dt=!Kt&&Ot("safari"),zt=Ot("phantom"),O="OTransition"in St,Me=navigator.platform.indexOf("Win")===0,$e=At&&"transition"in St,yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ct,Bt="MozPerspective"in St,ht=!window.L_DISABLE_3D&&($e||yt||Bt)&&!O&&!zt,ln=typeof orientation<"u"||Ot("mobile"),da=ln&&Ee,yn=ln&&yt,wt=!window.PointerEvent&&window.MSPointerEvent,dn=!!(window.PointerEvent||wt),ma="ontouchstart"in window||!!window.TouchEvent,Kn=!window.L_NO_TOUCH&&(ma||dn),Pn=ln&&It,Ut=ln&&Qt,Ga=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,In=(function(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return i})(),Yn=(function(){return!!document.createElement("canvas").getContext})(),Bn=!!(document.createElementNS&&rt("svg").createSVGRect),Va=!!Bn&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Cn=!Bn&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var u=i.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),tn=navigator.platform.indexOf("Mac")===0,Ya=navigator.platform.indexOf("Linux")===0;function Ot(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var De={ie:At,ielt9:rn,edge:ne,webkit:Ee,android:Pe,android23:ct,androidStock:Fe,opera:It,chrome:Kt,gecko:Qt,safari:dt,phantom:zt,opera12:O,win:Me,ie3d:$e,webkit3d:yt,gecko3d:Bt,any3d:ht,mobile:ln,mobileWebkit:da,mobileWebkit3d:yn,msPointer:wt,pointer:dn,touch:Kn,touchNative:ma,mobileOpera:Pn,mobileGecko:Ut,retina:Ga,passiveEvents:In,canvas:Yn,svg:Bn,vml:Cn,inlineSvg:Va,mac:tn,linux:Ya},wn=De.msPointer?"MSPointerDown":"pointerdown",ra=De.msPointer?"MSPointerMove":"pointermove",$n=De.msPointer?"MSPointerUp":"pointerup",qt=De.msPointer?"MSPointerCancel":"pointercancel",tt={touchstart:wn,touchmove:ra,touchend:$n,touchcancel:qt},Xn={touchstart:Da,touchmove:Mn,touchend:Mn,touchcancel:Mn},U={},Ie=!1;function it(i,u,h){return u==="touchstart"&&vt(),Xn[u]?(h=Xn[u].bind(this,h),i.addEventListener(tt[u],h,!1),h):(console.warn("wrong event specified:",u),w)}function An(i,u,h){if(!tt[u]){console.warn("wrong event specified:",u);return}i.removeEventListener(tt[u],h,!1)}function En(i){U[i.pointerId]=i}function P(i){U[i.pointerId]&&(U[i.pointerId]=i)}function Be(i){delete U[i.pointerId]}function vt(){Ie||(document.addEventListener(wn,En,!0),document.addEventListener(ra,P,!0),document.addEventListener($n,Be,!0),document.addEventListener(qt,Be,!0),Ie=!0)}function Mn(i,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in U)u.touches.push(U[h]);u.changedTouches=[u],i(u)}}function Da(i,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&vn(u),Mn(i,u)}function on(i){var u={},h,y;for(y in i)h=i[y],u[y]=h&&h.bind?h.bind(i):h;return i=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ps=200;function sr(i,u){i.addEventListener("dblclick",u);var h=0,y;function N(E){if(E.detail!==1){y=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var Z=ur(E);if(!(Z.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!Z.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var le=Date.now();le-h<=ps?(y++,y===2&&u(on(E))):y=1,h=le}}}return i.addEventListener("click",N),{dblclick:u,simDblclick:N}}function V(i,u){i.removeEventListener("dblclick",u.dblclick),i.removeEventListener("click",u.simDblclick)}var Ge=ir(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mt=ir(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ya=Mt==="webkitTransition"||Mt==="OTransition"?Mt+"End":"transitionend";function Ts(i){return typeof i=="string"?document.getElementById(i):i}function Cs(i,u){var h=i.style[u]||i.currentStyle&&i.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(i,null);h=y?y[u]:null}return h==="auto"?null:h}function xt(i,u,h){var y=document.createElement(i);return y.className=u||"",h&&h.appendChild(y),y}function Xt(i){var u=i.parentNode;u&&u.removeChild(i)}function va(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Un(i){var u=i.parentNode;u&&u.lastChild!==i&&u.appendChild(i)}function Ks(i){var u=i.parentNode;u&&u.firstChild!==i&&u.insertBefore(i,u.firstChild)}function Vl(i,u){if(i.classList!==void 0)return i.classList.contains(u);var h=Yr(i);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function ot(i,u){if(i.classList!==void 0)for(var h=k(u),y=0,N=h.length;y<N;y++)i.classList.add(h[y]);else if(!Vl(i,u)){var E=Yr(i);fi(i,(E?E+" ":"")+u)}}function mn(i,u){i.classList!==void 0?i.classList.remove(u):fi(i,z((" "+Yr(i)+" ").replace(" "+u+" "," ")))}function fi(i,u){i.className.baseVal===void 0?i.className=u:i.className.baseVal=u}function Yr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function un(i,u){"opacity"in i.style?i.style.opacity=u:"filter"in i.style&&Yl(i,u)}function Yl(i,u){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):i.style.filter+=" progid:"+y+"(opacity="+u+")"}function ir(i){for(var u=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in u)return i[h];return!1}function gs(i,u,h){var y=u||new se(0,0);i.style[Ge]=(De.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function nn(i,u){i._leaflet_pos=u,De.any3d?gs(i,u):(i.style.left=u.x+"px",i.style.top=u.y+"px")}function As(i){return i._leaflet_pos||new se(0,0)}var pi,$a,$l;if("onselectstart"in document)pi=function(){nt(window,"selectstart",vn)},$a=function(){Ht(window,"selectstart",vn)};else{var gi=ir(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pi=function(){if(gi){var i=document.documentElement.style;$l=i[gi],i[gi]="none"}},$a=function(){gi&&(document.documentElement.style[gi]=$l,$l=void 0)}}function $r(){nt(window,"dragstart",vn)}function rr(){Ht(window,"dragstart",vn)}var Xr,Xl;function xi(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ba(),Xr=i,Xl=i.style.outlineStyle,i.style.outlineStyle="none",nt(window,"keydown",ba))}function ba(){Xr&&(Xr.style.outlineStyle=Xl,Xr=void 0,Xl=void 0,Ht(window,"keydown",ba))}function Jr(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function lr(i){var u=i.getBoundingClientRect();return{x:u.width/i.offsetWidth||1,y:u.height/i.offsetHeight||1,boundingClientRect:u}}var yi={__proto__:null,TRANSFORM:Ge,TRANSITION:Mt,TRANSITION_END:ya,get:Ts,getStyle:Cs,create:xt,remove:Xt,empty:va,toFront:Un,toBack:Ks,hasClass:Vl,addClass:ot,removeClass:mn,setClass:fi,getClass:Yr,setOpacity:un,testProp:ir,setTransform:gs,setPosition:nn,getPosition:As,get disableTextSelection(){return pi},get enableTextSelection(){return $a},disableImageDrag:$r,enableImageDrag:rr,preventOutline:xi,restoreOutline:ba,getSizedParentNode:Jr,getScale:lr};function nt(i,u,h,y){if(u&&typeof u=="object")for(var N in u)La(i,N,u[N],h);else{u=k(u);for(var E=0,Z=u.length;E<Z;E++)La(i,u[E],h,y)}return this}var Ra="_leaflet_events";function Ht(i,u,h,y){if(arguments.length===1)Jl(i),delete i[Ra];else if(u&&typeof u=="object")for(var N in u)or(i,N,u[N],h);else if(u=k(u),arguments.length===2)Jl(i,function(le){return G(u,le)!==-1});else for(var E=0,Z=u.length;E<Z;E++)or(i,u[E],h,y);return this}function Jl(i,u){for(var h in i[Ra]){var y=h.split(/\d/)[0];(!u||u(y))&&or(i,y,null,null,h)}}var Qs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function La(i,u,h,y){var N=u+v(h)+(y?"_"+v(y):"");if(i[Ra]&&i[Ra][N])return this;var E=function(le){return h.call(y||i,le||window.event)},Z=E;!De.touchNative&&De.pointer&&u.indexOf("touch")===0?E=it(i,u,E):De.touch&&u==="dblclick"?E=sr(i,E):"addEventListener"in i?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?i.addEventListener(Qs[u]||u,E,De.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(le){le=le||window.event,xs(i,le)&&Z(le)},i.addEventListener(Qs[u],E,!1)):i.addEventListener(u,Z,!1):i.attachEvent("on"+u,E),i[Ra]=i[Ra]||{},i[Ra][N]=E}function or(i,u,h,y,N){N=N||u+v(h)+(y?"_"+v(y):"");var E=i[Ra]&&i[Ra][N];if(!E)return this;!De.touchNative&&De.pointer&&u.indexOf("touch")===0?An(i,u,E):De.touch&&u==="dblclick"?V(i,E):"removeEventListener"in i?i.removeEventListener(Qs[u]||u,E,!1):i.detachEvent("on"+u,E),i[Ra][N]=null}function Pa(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Xa(i){return La(i,"wheel",Pa),this}function Gs(i){return nt(i,"mousedown touchstart dblclick contextmenu",Pa),i._leaflet_disable_click=!0,this}function vn(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Ms(i){return vn(i),Pa(i),this}function ur(i){if(i.composedPath)return i.composedPath();for(var u=[],h=i.target;h;)u.push(h),h=h.parentNode;return u}function cr(i,u){if(!u)return new se(i.clientX,i.clientY);var h=lr(u),y=h.boundingClientRect;return new se((i.clientX-y.left)/h.x-u.clientLeft,(i.clientY-y.top)/h.y-u.clientTop)}var gu=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jn(i){return De.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/gu:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function xs(i,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Wr={__proto__:null,on:nt,off:Ht,stopPropagation:Pa,disableScrollPropagation:Xa,disableClickPropagation:Gs,preventDefault:vn,stop:Ms,getPropagationPath:ur,getMousePosition:cr,getWheelDelta:Jn,isExternalTarget:xs,addListener:nt,removeListener:Ht},vi=Q.extend({run:function(i,u,h,y){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=As(i),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=xe(this._animate,this),this._step()},_step:function(i){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,u){var h=this._startPos.add(this._offset.multiplyBy(i));u&&h._round(),nn(this._el,h),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Et=Q.extend({options:{crs:mt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(je(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mt&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nt(this._proxy,ya,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),i=this._limitCenter(je(i),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,u,h.zoom):this._tryAnimatedPan(i,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(i,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,u){return this._loaded?this.setView(this.getCenter(),i,{zoom:u}):(this._zoom=i,this)},zoomIn:function(i,u){return i=i||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,u)},zoomOut:function(i,u){return i=i||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,u)},setZoomAround:function(i,u,h){var y=this.getZoomScale(u),N=this.getSize().divideBy(2),E=i instanceof se?i:this.latLngToContainerPoint(i),Z=E.subtract(N).multiplyBy(1-1/y),le=this.containerPointToLatLng(N.add(Z));return this.setView(le,u,{zoom:h})},_getBoundsCenterZoom:function(i,u){u=u||{},i=i.getBounds?i.getBounds():ue(i);var h=X(u.paddingTopLeft||u.padding||[0,0]),y=X(u.paddingBottomRight||u.padding||[0,0]),N=this.getBoundsZoom(i,!1,h.add(y));if(N=typeof u.maxZoom=="number"?Math.min(u.maxZoom,N):N,N===1/0)return{center:i.getCenter(),zoom:N};var E=y.subtract(h).divideBy(2),Z=this.project(i.getSouthWest(),N),le=this.project(i.getNorthEast(),N),pe=this.unproject(Z.add(le).divideBy(2).add(E),N);return{center:pe,zoom:N}},fitBounds:function(i,u){if(i=ue(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,u){return this.setView(i,this._zoom,{pan:u})},panBy:function(i,u){if(i=X(i).round(),u=u||{},!i.x&&!i.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){ot(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,u,h){if(h=h||{},h.animate===!1||!De.any3d)return this.setView(i,u,h);this._stop();var y=this.project(this.getCenter()),N=this.project(i),E=this.getSize(),Z=this._zoom;i=je(i),u=u===void 0?Z:u;var le=Math.max(E.x,E.y),pe=le*this.getZoomScale(Z,u),Te=N.distanceTo(y)||1,Le=1.42,Xe=Le*Le;function pt(gn){var _s=gn?-1:1,Xs=gn?pe:le,fo=pe*pe-le*le+_s*Xe*Xe*Te*Te,Er=2*Xs*Xe*Te,kr=fo/Er,Us=Math.sqrt(kr*kr+1)-kr,Ns=Us<1e-9?-18:Math.log(Us);return Ns}function Fn(gn){return(Math.exp(gn)-Math.exp(-gn))/2}function bn(gn){return(Math.exp(gn)+Math.exp(-gn))/2}function fa(gn){return Fn(gn)/bn(gn)}var Dt=pt(0);function Rt(gn){return le*(bn(Dt)/bn(Dt+Le*gn))}function _t(gn){return le*(bn(Dt)*fa(Dt+Le*gn)-Fn(Dt))/Xe}function Is(gn){return 1-Math.pow(1-gn,1.5)}var Sa=Date.now(),hl=(pt(1)-Dt)/Le,Bs=h.duration?1e3*h.duration:1e3*hl*.8;function ho(){var gn=(Date.now()-Sa)/Bs,_s=Is(gn)*hl;gn<=1?(this._flyToFrame=xe(ho,this),this._move(this.unproject(y.add(N.subtract(y).multiplyBy(_t(_s)/Te)),Z),this.getScaleZoom(le/Rt(_s),Z),{flyTo:!0})):this._move(i,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ho.call(this),this},flyToBounds:function(i,u){var h=this._getBoundsCenterZoom(i,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(i){return i=ue(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var u=this.options.minZoom;return this.options.minZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var u=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,u){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,ue(i));return h.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(i,u){u=u||{};var h=X(u.paddingTopLeft||u.padding||[0,0]),y=X(u.paddingBottomRight||u.padding||[0,0]),N=this.project(this.getCenter()),E=this.project(i),Z=this.getPixelBounds(),le=te([Z.min.add(h),Z.max.subtract(y)]),pe=le.getSize();if(!le.contains(E)){this._enforcingBounds=!0;var Te=E.subtract(le.getCenter()),Le=le.extend(E).getSize().subtract(pe);N.x+=Te.x<0?-Le.x:Le.x,N.y+=Te.y<0?-Le.y:Le.y,this.panTo(this.unproject(N),u),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=d({animate:!1,pan:!0},i===!0?{animate:!0}:i);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=u.divideBy(2).round(),N=h.divideBy(2).round(),E=y.subtract(N);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=d({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,i):navigator.geolocation.getCurrentPosition(u,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var u=i.code,h=i.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var u=i.coords.latitude,h=i.coords.longitude,y=new de(u,h),N=y.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var Z=this.getBoundsZoom(N);this.setView(y,E.maxZoom?Math.min(Z,E.maxZoom):Z)}var le={latlng:y,bounds:N,timestamp:i.timestamp};for(var pe in i.coords)typeof i.coords[pe]=="number"&&(le[pe]=i.coords[pe]);this.fire("locationfound",le)}},addHandler:function(i,u){if(!u)return this;var h=this[i]=new u(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Xt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,u){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),y=xt("div",h,u||this._mapPane);return i&&(this._panes[i]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),u=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new I(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,u,h){i=ue(i),h=X(h||[0,0]);var y=this.getZoom()||0,N=this.getMinZoom(),E=this.getMaxZoom(),Z=i.getNorthWest(),le=i.getSouthEast(),pe=this.getSize().subtract(h),Te=te(this.project(le,y),this.project(Z,y)).getSize(),Le=De.any3d?this.options.zoomSnap:1,Xe=pe.x/Te.x,pt=pe.y/Te.y,Fn=u?Math.max(Xe,pt):Math.min(Xe,pt);return y=this.getScaleZoom(Fn,y),Le&&(y=Math.round(y/(Le/100))*(Le/100),y=u?Math.ceil(y/Le)*Le:Math.floor(y/Le)*Le),Math.max(N,Math.min(E,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,u){var h=this._getTopLeftPoint(i,u);return new M(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(i)/h.scale(u)},getScaleZoom:function(i,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var y=h.zoom(i*h.scale(u));return isNaN(y)?1/0:y},project:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(je(i),u)},unproject:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(X(i),u)},layerPointToLatLng:function(i){var u=X(i).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(i){var u=this.project(je(i))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(je(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ue(i))},distance:function(i,u){return this.options.crs.distance(je(i),je(u))},containerPointToLayerPoint:function(i){return X(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return X(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var u=this.containerPointToLayerPoint(X(i));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(je(i)))},mouseEventToContainerPoint:function(i){return cr(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var u=this._container=Ts(i);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");nt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,ot(i,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Cs(i,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ot(i.markerPane,"leaflet-zoom-hide"),ot(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,u,h){nn(this._mapPane,new se(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var N=this._zoom!==u;this._moveStart(N,h)._move(i,u)._moveEnd(N),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(i,u){return i&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(i,u,h,y){u===void 0&&(u=this._zoom);var N=this._zoom!==u;return this._zoom=u,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),y?h&&h.pinch&&this.fire("zoom",h):((N||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){nn(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var u=i?Ht:nt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,u){for(var h=[],y,N=u==="mouseout"||u==="mouseover",E=i.target||i.srcElement,Z=!1;E;){if(y=this._targets[v(E)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){Z=!0;break}if(y&&y.listens(u,!0)&&(N&&!xs(E,i)||(h.push(y),N))||E===this._container)break;E=E.parentNode}return!h.length&&!Z&&!N&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var u=i.target||i.srcElement;if(!(!this._loaded||u._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(u))){var h=i.type;h==="mousedown"&&xi(u),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,u,h){if(i.type==="click"){var y=d({},i);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var N=this._findEventTargets(i,u);if(h){for(var E=[],Z=0;Z<h.length;Z++)h[Z].listens(u,!0)&&E.push(h[Z]);N=E.concat(N)}if(N.length){u==="contextmenu"&&vn(i);var le=N[0],pe={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Te=le.getLatLng&&(!le._radius||le._radius<=10);pe.containerPoint=Te?this.latLngToContainerPoint(le.getLatLng()):this.mouseEventToContainerPoint(i),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Te?le.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(Z=0;Z<N.length;Z++)if(N[Z].fire(u,pe,!0),pe.originalEvent._stopped||N[Z].options.bubblingMouseEvents===!1&&G(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,u=this._handlers.length;i<u;i++)this._handlers[i].disable()},whenReady:function(i,u){return this._loaded?i.call(u||this,{target:this}):this.on("load",i,u),this},_getMapPanePos:function(){return As(this._mapPane)||new se(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,u){var h=i&&u!==void 0?this._getNewPixelOrigin(i,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,u){var h=this.getSize()._divideBy(2);return this.project(i,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,u,h){var y=this._getNewPixelOrigin(h,u);return this.project(i,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(i,u,h){var y=this._getNewPixelOrigin(h,u);return te([this.project(i.getSouthWest(),u)._subtract(y),this.project(i.getNorthWest(),u)._subtract(y),this.project(i.getSouthEast(),u)._subtract(y),this.project(i.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,u,h){if(!h)return i;var y=this.project(i,u),N=this.getSize().divideBy(2),E=new M(y.subtract(N),y.add(N)),Z=this._getBoundsOffset(E,h,u);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?i:this.unproject(y.add(Z),u)},_limitOffset:function(i,u){if(!u)return i;var h=this.getPixelBounds(),y=new M(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(i,u,h){var y=te(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),N=y.min.subtract(i.min),E=y.max.subtract(i.max),Z=this._rebound(N.x,-E.x),le=this._rebound(N.y,-E.y);return new se(Z,le)},_rebound:function(i,u){return i+u>0?Math.round(i-u)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(u))},_limitZoom:function(i){var u=this.getMinZoom(),h=this.getMaxZoom(),y=De.any3d?this.options.zoomSnap:1;return y&&(i=Math.round(i/y)*y),Math.max(u,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,u){var h=this._getCenterOffset(i)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var i=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(u){var h=Ge,y=this._proxy.style[h];gs(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),u=this.getZoom();gs(this._proxy,this.project(i,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),N=this._getCenterOffset(i)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(N)?!1:(xe(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,u,!0)},this),!0)},_animateZoom:function(i,u,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=u,ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wl(i,u){return new Et(i,u)}var ha=re.extend({options:{position:"topright"},initialize:function(i){A(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var u=this._map;return u&&u.removeControl(this),this.options.position=i,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var u=this._container=this.onAdd(i),h=this.getPosition(),y=i._controlCorners[h];return ot(u,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ys=function(i){return new ha(i)};Et.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},u="leaflet-",h=this._controlContainer=xt("div",u+"control-container",this._container);function y(N,E){var Z=u+N+" "+u+E;i[N+E]=xt("div",Z,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Xt(this._controlCorners[i]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dr=ha.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,u,h,y){return h<y?-1:y<h?1:0}},initialize:function(i,u,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in i)this._addLayer(i[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return ha.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,u){return this._addLayer(i,u),this._map?this._update():this},addOverlay:function(i,u){return this._addLayer(i,u,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(i));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):mn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",u=this._container=xt("div",i),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Gs(u),Xa(u);var y=this._section=xt("section",i+"-list");h&&(this._map.on("click",this.collapse,this),nt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=xt("a",i+"-toggle",u);N.href="#",N.title="Layers",N.setAttribute("role","button"),nt(N,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){vn(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=xt("div",i+"-base",y),this._separator=xt("div",i+"-separator",y),this._overlaysList=xt("div",i+"-overlays",y),u.appendChild(y)},_getLayer:function(i){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===i)return this._layers[u]},_addLayer:function(i,u,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(y,N){return this.options.sortFunction(y.layer,N.layer,y.name,N.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;va(this._baseLayersList),va(this._overlaysList),this._layerControlInputs=[];var i,u,h,y,N=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),u=u||y.overlay,i=i||!y.overlay,N+=y.overlay?0:1;return this.options.hideSingleBase&&(i=i&&N>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=u&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var u=this._getLayer(v(i.target)),h=u.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(i,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(i){var u=document.createElement("label"),h=this._map.hasLayer(i.layer),y;i.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(y),y.layerId=v(i.layer),nt(y,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+i.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(y),E.appendChild(N);var Z=i.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,u,h,y=[],N=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)u=i[E],h=this._getLayer(u.layerId).layer,u.checked?y.push(h):u.checked||N.push(h);for(E=0;E<N.length;E++)this._map.hasLayer(N[E])&&this._map.removeLayer(N[E]);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])||this._map.addLayer(y[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,u,h,y=this._map.getZoom(),N=i.length-1;N>=0;N--)u=i[N],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,nt(i,"click",vn),this.expand();var u=this;setTimeout(function(){Ht(i,"click",vn),u._preventClick=!1})}}),xu=function(i,u,h){return new dr(i,u,h)},eo=ha.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var u="leaflet-control-zoom",h=xt("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,u,h,y,N){var E=xt("a",h,y);return E.innerHTML=i,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),Gs(E),nt(E,"click",Ms),nt(E,"click",N,this),nt(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,u="leaflet-disabled";mn(this._zoomInButton,u),mn(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ot(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ot(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Et.mergeOptions({zoomControl:!0}),Et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new eo,this.addControl(this.zoomControl))});var Ad=function(i){return new eo(i)},yu=ha.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var u="leaflet-control-scale",h=xt("div",u),y=this.options;return this._addScales(y,u+"-line",h),i.on(y.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,u,h){i.metric&&(this._mScale=xt("div",u,h)),i.imperial&&(this._iScale=xt("div",u,h))},_update:function(){var i=this._map,u=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,u]),i.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var u=this._getRoundNum(i),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/i)},_updateImperial:function(i){var u=i*3.2808399,h,y,N;u>5280?(h=u/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(N=this._getRoundNum(u),this._updateScale(this._iScale,N+" ft",N/u))},_updateScale:function(i,u,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=u},_getRoundNum:function(i){var u=Math.pow(10,(Math.floor(i)+"").length-1),h=i/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),to=function(i){return new yu(i)},Md='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',no=ha.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?Md+" ":"")+"Leaflet</a>"},initialize:function(i){A(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Gs(this._container);for(var u in i._layers)i._layers[u].getAttribution&&this.addAttribution(i._layers[u].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var u in this._attributions)this._attributions[u]&&i.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Et.mergeOptions({attributionControl:!0}),Et.addInitHook(function(){this.options.attributionControl&&new no().addTo(this)});var zd=function(i){return new no(i)};ha.Layers=dr,ha.Zoom=eo,ha.Scale=yu,ha.Attribution=no,ys.layers=xu,ys.zoom=Ad,ys.scale=to,ys.attribution=zd;var Ja=re.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ja.addTo=function(i,u){return i.addHandler(u,this),this};var Od={Events:H},ao=De.touch?"touchstart mousedown":"mousedown",zs=Q.extend({options:{clickTolerance:3},initialize:function(i,u,h,y){A(this,y),this._element=i,this._dragStartTarget=u||i,this._preventOutline=h},enable:function(){this._enabled||(nt(this._dragStartTarget,ao,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zs._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,ao,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Vl(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){zs._dragging===this&&this.finishDrag();return}if(!(zs._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(zs._dragging=this,this._preventOutline&&xi(this._element),$r(),pi(),!this._moving)){this.fire("down");var u=i.touches?i.touches[0]:i,h=Jr(this._element);this._startPoint=new se(u.clientX,u.clientY),this._startPos=As(this._element),this._parentScale=lr(h);var y=i.type==="mousedown";nt(document,y?"mousemove":"touchmove",this._onMove,this),nt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var u=i.touches&&i.touches.length===1?i.touches[0]:i,h=new se(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,vn(i),this._moved||(this.fire("dragstart"),this._moved=!0,ot(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),nn(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){mn(document.body,"leaflet-dragging"),this._lastTarget&&(mn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),rr(),$a();var u=this._moved&&this._moving;this._moving=!1,zs._dragging=!1,u&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function vu(i,u,h){var y,N=[1,4,2,8],E,Z,le,pe,Te,Le,Xe,pt;for(E=0,Le=i.length;E<Le;E++)i[E]._code=Vs(i[E],u);for(le=0;le<4;le++){for(Xe=N[le],y=[],E=0,Le=i.length,Z=Le-1;E<Le;Z=E++)pe=i[E],Te=i[Z],pe._code&Xe?Te._code&Xe||(pt=el(Te,pe,Xe,u,h),pt._code=Vs(pt,u),y.push(pt)):(Te._code&Xe&&(pt=el(Te,pe,Xe,u,h),pt._code=Vs(pt,u),y.push(pt)),y.push(pe));i=y}return i}function bu(i,u){var h,y,N,E,Z,le,pe,Te,Le;if(!i||i.length===0)throw new Error("latlngs not passed");_a(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Xe=je([0,0]),pt=ue(i),Fn=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());Fn<1700&&(Xe=so(i));var bn=i.length,fa=[];for(h=0;h<bn;h++){var Dt=je(i[h]);fa.push(u.project(je([Dt.lat-Xe.lat,Dt.lng-Xe.lng])))}for(le=pe=Te=0,h=0,y=bn-1;h<bn;y=h++)N=fa[h],E=fa[y],Z=N.y*E.x-E.y*N.x,pe+=(N.x+E.x)*Z,Te+=(N.y+E.y)*Z,le+=Z*3;le===0?Le=fa[0]:Le=[pe/le,Te/le];var Rt=u.unproject(X(Le));return je([Rt.lat+Xe.lat,Rt.lng+Xe.lng])}function so(i){for(var u=0,h=0,y=0,N=0;N<i.length;N++){var E=je(i[N]);u+=E.lat,h+=E.lng,y++}return je([u/y,h/y])}var io={__proto__:null,clipPolygon:vu,polygonCenter:bu,centroid:so};function _u(i,u){if(!u||!i.length)return i.slice();var h=u*u;return i=Rd(i,h),i=ju(i,h),i}function Nu(i,u,h){return Math.sqrt(mr(i,u,h,!0))}function Dd(i,u,h){return mr(i,u,h)}function ju(i,u){var h=i.length,y=typeof Uint8Array<"u"?Uint8Array:Array,N=new y(h);N[0]=N[h-1]=1,ro(i,N,u,0,h-1);var E,Z=[];for(E=0;E<h;E++)N[E]&&Z.push(i[E]);return Z}function ro(i,u,h,y,N){var E=0,Z,le,pe;for(le=y+1;le<=N-1;le++)pe=mr(i[le],i[y],i[N],!0),pe>E&&(Z=le,E=pe);E>h&&(u[Z]=1,ro(i,u,h,y,Z),ro(i,u,h,Z,N))}function Rd(i,u){for(var h=[i[0]],y=1,N=0,E=i.length;y<E;y++)Ld(i[y],i[N])>u&&(h.push(i[y]),N=y);return N<E-1&&h.push(i[E-1]),h}var Su;function wu(i,u,h,y,N){var E=y?Su:Vs(i,h),Z=Vs(u,h),le,pe,Te;for(Su=Z;;){if(!(E|Z))return[i,u];if(E&Z)return!1;le=E||Z,pe=el(i,u,le,h,N),Te=Vs(pe,h),le===E?(i=pe,E=Te):(u=pe,Z=Te)}}function el(i,u,h,y,N){var E=u.x-i.x,Z=u.y-i.y,le=y.min,pe=y.max,Te,Le;return h&8?(Te=i.x+E*(pe.y-i.y)/Z,Le=pe.y):h&4?(Te=i.x+E*(le.y-i.y)/Z,Le=le.y):h&2?(Te=pe.x,Le=i.y+Z*(pe.x-i.x)/E):h&1&&(Te=le.x,Le=i.y+Z*(le.x-i.x)/E),new se(Te,Le,N)}function Vs(i,u){var h=0;return i.x<u.min.x?h|=1:i.x>u.max.x&&(h|=2),i.y<u.min.y?h|=4:i.y>u.max.y&&(h|=8),h}function Ld(i,u){var h=u.x-i.x,y=u.y-i.y;return h*h+y*y}function mr(i,u,h,y){var N=u.x,E=u.y,Z=h.x-N,le=h.y-E,pe=Z*Z+le*le,Te;return pe>0&&(Te=((i.x-N)*Z+(i.y-E)*le)/pe,Te>1?(N=h.x,E=h.y):Te>0&&(N+=Z*Te,E+=le*Te)),Z=i.x-N,le=i.y-E,y?Z*Z+le*le:new se(N,E)}function _a(i){return!R(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function tl(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_a(i)}function bi(i,u){var h,y,N,E,Z,le,pe,Te;if(!i||i.length===0)throw new Error("latlngs not passed");_a(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Le=je([0,0]),Xe=ue(i),pt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());pt<1700&&(Le=so(i));var Fn=i.length,bn=[];for(h=0;h<Fn;h++){var fa=je(i[h]);bn.push(u.project(je([fa.lat-Le.lat,fa.lng-Le.lng])))}for(h=0,y=0;h<Fn-1;h++)y+=bn[h].distanceTo(bn[h+1])/2;if(y===0)Te=bn[0];else for(h=0,E=0;h<Fn-1;h++)if(Z=bn[h],le=bn[h+1],N=Z.distanceTo(le),E+=N,E>y){pe=(E-y)/N,Te=[le.x-pe*(le.x-Z.x),le.y-pe*(le.y-Z.y)];break}var Dt=u.unproject(X(Te));return je([Dt.lat+Le.lat,Dt.lng+Le.lng])}var Pd={__proto__:null,simplify:_u,pointToSegmentDistance:Nu,closestPointOnSegment:Dd,clipSegment:wu,_getEdgeIntersection:el,_getBitCode:Vs,_sqClosestPointOnSegment:mr,isFlat:_a,_flat:tl,polylineCenter:bi},nl={project:function(i){return new se(i.lng,i.lat)},unproject:function(i){return new de(i.y,i.x)},bounds:new M([-180,-90],[180,90])},al={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var u=Math.PI/180,h=this.R,y=i.lat*u,N=this.R_MINOR/h,E=Math.sqrt(1-N*N),Z=E*Math.sin(y),le=Math.tan(Math.PI/4-y/2)/Math.pow((1-Z)/(1+Z),E/2);return y=-h*Math.log(Math.max(le,1e-10)),new se(i.lng*u*h,y)},unproject:function(i){for(var u=180/Math.PI,h=this.R,y=this.R_MINOR/h,N=Math.sqrt(1-y*y),E=Math.exp(-i.y/h),Z=Math.PI/2-2*Math.atan(E),le=0,pe=.1,Te;le<15&&Math.abs(pe)>1e-7;le++)Te=N*Math.sin(Z),Te=Math.pow((1-Te)/(1+Te),N/2),pe=Math.PI/2-2*Math.atan(E*Te)-Z,Z+=pe;return new de(Z*u,i.x*u/h)}},Eu={__proto__:null,LonLat:nl,Mercator:al,SphericalMercator:at},ku=d({},Ke,{code:"EPSG:3395",projection:al,transformation:(function(){var i=.5/(Math.PI*al.R);return lt(i,.5,-i,.5)})()}),lo=d({},Ke,{code:"EPSG:4326",projection:nl,transformation:lt(1/180,1,-1/180,.5)}),_i=d({},ze,{projection:nl,transformation:lt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,u){var h=u.lng-i.lng,y=u.lat-i.lat;return Math.sqrt(h*h+y*y)},infinite:!0});ze.Earth=Ke,ze.EPSG3395=ku,ze.EPSG3857=mt,ze.EPSG900913=Ae,ze.EPSG4326=lo,ze.Simple=_i;var Ia=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var u=i.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Et.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(i);return this._layers[u]?this:(this._layers[u]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var u=v(i);return this._layers[u]?(this._loaded&&i.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,u){for(var h in this._layers)i.call(u,this._layers[h]);return this},_addLayers:function(i){i=i?R(i)?i:[i]:[];for(var u=0,h=i.length;u<h;u++)this.addLayer(i[u])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var u=v(i);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,u=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var N=this._zoomBoundLayers[y].options;i=N.minZoom===void 0?i:Math.min(i,N.minZoom),u=N.maxZoom===void 0?u:Math.max(u,N.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ni=Ia.extend({initialize:function(i,u){A(this,u),this._layers={};var h,y;if(i)for(h=0,y=i.length;h<y;h++)this.addLayer(i[h])},addLayer:function(i){var u=this.getLayerId(i);return this._layers[u]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var u=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(i){var u=typeof i=="number"?i:this.getLayerId(i);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var u=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[i]&&y[i].apply(y,u);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,u){for(var h in this._layers)i.call(u,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),Id=function(i,u){return new Ni(i,u)},Wa=Ni.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ni.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ni.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new I;for(var u in this._layers){var h=this._layers[u];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),Tu=function(i,u){return new Wa(i,u)},es=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){A(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,u){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(i,u){var h=this.options,y=h[u+"Size"];typeof y=="number"&&(y=[y,y]);var N=X(y),E=X(u==="shadow"&&h.shadowAnchor||h.iconAnchor||N&&N.divideBy(2,!0));i.className="leaflet-marker-"+u+" "+(h.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),N&&(i.style.width=N.x+"px",i.style.height=N.y+"px")},_createImg:function(i,u){return u=u||document.createElement("img"),u.src=i,u},_getIconUrl:function(i){return De.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function hr(i){return new es(i)}var fr=es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof fr.imagePath!="string"&&(fr.imagePath=this._detectIconPath()),(this.options.imagePath||fr.imagePath)+es.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var u=function(h,y,N){var E=y.exec(h);return E&&E[N]};return i=u(i,/^url\((['"])?(.+)\1\)$/,2),i&&u(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=xt("div","leaflet-default-icon-path",document.body),u=Cs(i,"background-image")||Cs(i,"backgroundImage");if(document.body.removeChild(i),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),pr=Ja.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new zs(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ot(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var u=this._marker,h=u._map,y=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,E=As(u._icon),Z=h.getPixelBounds(),le=h.getPixelOrigin(),pe=te(Z.min._subtract(le).add(N),Z.max._subtract(le).subtract(N));if(!pe.contains(E)){var Te=X((Math.max(pe.max.x,E.x)-pe.max.x)/(Z.max.x-pe.max.x)-(Math.min(pe.min.x,E.x)-pe.min.x)/(Z.min.x-pe.min.x),(Math.max(pe.max.y,E.y)-pe.max.y)/(Z.max.y-pe.max.y)-(Math.min(pe.min.y,E.y)-pe.min.y)/(Z.min.y-pe.min.y)).multiplyBy(y);h.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),nn(u._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=xe(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=xe(this._adjustPan.bind(this,i)))},_onDrag:function(i){var u=this._marker,h=u._shadow,y=As(u._icon),N=u._map.layerPointToLatLng(y);h&&nn(h,y),u._latlng=N,i.latlng=N,i.oldLatLng=this._oldLatLng,u.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),gr=Ia.extend({options:{icon:new fr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,u){A(this,u),this._latlng=je(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var u=this._latlng;return this._latlng=je(i),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),ot(h,u),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(h,"focus",this._panOnFocus,this);var N=i.icon.createShadow(this._shadow),E=!1;N!==this._shadow&&(this._removeShadow(),E=!0),N&&(ot(N,u),N.alt=""),this._shadow=N,i.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&nn(this._icon,i),this._shadow&&nn(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pr)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pr(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&un(this._icon,i),this._shadow&&un(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var u=this.options.icon.options,h=u.iconSize?X(u.iconSize):X(0,0),y=u.iconAnchor?X(u.iconAnchor):X(0,0);i.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cu(i,u){return new gr(i,u)}var ts=Ia.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return A(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ji=ts.extend({options:{fill:!0,radius:10},initialize:function(i,u){A(this,u),this._latlng=je(i),this._radius=this.options.radius},setLatLng:function(i){var u=this._latlng;return this._latlng=je(i),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var u=i&&i.radius||this._radius;return ts.prototype.setStyle.call(this,i),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,u=this._radiusY||i,h=this._clickTolerance(),y=[i+h,u+h];this._pxBounds=new M(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Au(i,u){return new ji(i,u)}var sl=ji.extend({initialize:function(i,u,h){if(typeof u=="number"&&(u=d({},h,{radius:u})),A(this,u),this._latlng=je(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:ts.prototype.setStyle,_project:function(){var i=this._latlng.lng,u=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===Ke.distance){var N=Math.PI/180,E=this._mRadius/Ke.R/N,Z=h.project([u+E,i]),le=h.project([u-E,i]),pe=Z.add(le).divideBy(2),Te=h.unproject(pe).lat,Le=Math.acos((Math.cos(E*N)-Math.sin(u*N)*Math.sin(Te*N))/(Math.cos(u*N)*Math.cos(Te*N)))/N;(isNaN(Le)||Le===0)&&(Le=E/Math.cos(Math.PI/180*u)),this._point=pe.subtract(h.getPixelOrigin()),this._radius=isNaN(Le)?0:pe.x-h.project([Te,i-Le]).x,this._radiusY=pe.y-Z.y}else{var Xe=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Xe).x}this._updateBounds()}});function Mu(i,u,h){return new sl(i,u,h)}var vs=ts.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,u){A(this,u),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var u=1/0,h=null,y=mr,N,E,Z=0,le=this._parts.length;Z<le;Z++)for(var pe=this._parts[Z],Te=1,Le=pe.length;Te<Le;Te++){N=pe[Te-1],E=pe[Te];var Xe=y(i,N,E,!0);Xe<u&&(u=Xe,h=y(i,N,E))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,u){return u=u||this._defaultShape(),i=je(i),u.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new I,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return _a(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var u=[],h=_a(i),y=0,N=i.length;y<N;y++)h?(u[y]=je(i[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(i[y]);return u},_project:function(){var i=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),u=new se(i,i);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(i,u,h){var y=i[0]instanceof de,N=i.length,E,Z;if(y){for(Z=[],E=0;E<N;E++)Z[E]=this._map.latLngToLayerPoint(i[E]),h.extend(Z[E]);u.push(Z)}else for(E=0;E<N;E++)this._projectLatlngs(i[E],u,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,y,N,E,Z,le,pe;for(h=0,N=0,E=this._rings.length;h<E;h++)for(pe=this._rings[h],y=0,Z=pe.length;y<Z-1;y++)le=wu(pe[y],pe[y+1],i,y,!0),le&&(u[N]=u[N]||[],u[N].push(le[0]),(le[1]!==pe[y+1]||y===Z-2)&&(u[N].push(le[1]),N++))}},_simplifyPoints:function(){for(var i=this._parts,u=this.options.smoothFactor,h=0,y=i.length;h<y;h++)i[h]=_u(i[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,u){var h,y,N,E,Z,le,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,E=this._parts.length;h<E;h++)for(le=this._parts[h],y=0,Z=le.length,N=Z-1;y<Z;N=y++)if(!(!u&&y===0)&&Nu(i,le[N],le[y])<=pe)return!0;return!1}});function Bd(i,u){return new vs(i,u)}vs._flat=tl;var Si=vs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var u=vs.prototype._convertLatLngs.call(this,i),h=u.length;return h>=2&&u[0]instanceof de&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(i){vs.prototype._setLatLngs.call(this,i),_a(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _a(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,u=this.options.weight,h=new se(u,u);if(i=new M(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,N=this._rings.length,E;y<N;y++)E=vu(this._rings[y],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var u=!1,h,y,N,E,Z,le,pe,Te;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,pe=this._parts.length;E<pe;E++)for(h=this._parts[E],Z=0,Te=h.length,le=Te-1;Z<Te;le=Z++)y=h[Z],N=h[le],y.y>i.y!=N.y>i.y&&i.x<(N.x-y.x)*(i.y-y.y)/(N.y-y.y)+y.x&&(u=!u);return u||vs.prototype._containsPoint.call(this,i,!0)}});function Ud(i,u){return new Si(i,u)}var bs=Wa.extend({initialize:function(i,u){A(this,u),this._layers={},i&&this.addData(i)},addData:function(i){var u=R(i)?i:i.features,h,y,N;if(u){for(h=0,y=u.length;h<y;h++)N=u[h],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var Z=Qn(i,E);return Z?(Z.feature=ll(i),Z.defaultOptions=Z.options,this.resetStyle(Z),E.onEachFeature&&E.onEachFeature(i,Z),this.addLayer(Z)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=d({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(u){this._setLayerStyle(u,i)},this)},_setLayerStyle:function(i,u){i.setStyle&&(typeof u=="function"&&(u=u(i.feature)),i.setStyle(u))}});function Qn(i,u){var h=i.type==="Feature"?i.geometry:i,y=h?h.coordinates:null,N=[],E=u&&u.pointToLayer,Z=u&&u.coordsToLatLng||il,le,pe,Te,Le;if(!y&&!h)return null;switch(h.type){case"Point":return le=Z(y),wi(E,i,le,u);case"MultiPoint":for(Te=0,Le=y.length;Te<Le;Te++)le=Z(y[Te]),N.push(wi(E,i,le,u));return new Wa(N);case"LineString":case"MultiLineString":return pe=xr(y,h.type==="LineString"?0:1,Z),new vs(pe,u);case"Polygon":case"MultiPolygon":return pe=xr(y,h.type==="Polygon"?1:2,Z),new Si(pe,u);case"GeometryCollection":for(Te=0,Le=h.geometries.length;Te<Le;Te++){var Xe=Qn({geometry:h.geometries[Te],type:"Feature",properties:i.properties},u);Xe&&N.push(Xe)}return new Wa(N);case"FeatureCollection":for(Te=0,Le=h.features.length;Te<Le;Te++){var pt=Qn(h.features[Te],u);pt&&N.push(pt)}return new Wa(N);default:throw new Error("Invalid GeoJSON object.")}}function wi(i,u,h,y){return i?i(u,h):new gr(h,y&&y.markersInheritOptions&&y)}function il(i){return new de(i[1],i[0],i[2])}function xr(i,u,h){for(var y=[],N=0,E=i.length,Z;N<E;N++)Z=u?xr(i[N],u-1,h):(h||il)(i[N]),y.push(Z);return y}function rl(i,u){return i=je(i),i.alt!==void 0?[T(i.lng,u),T(i.lat,u),T(i.alt,u)]:[T(i.lng,u),T(i.lat,u)]}function yr(i,u,h,y){for(var N=[],E=0,Z=i.length;E<Z;E++)N.push(u?yr(i[E],_a(i[E])?0:u-1,h,y):rl(i[E],y));return!u&&h&&N.length>0&&N.push(N[0].slice()),N}function Os(i,u){return i.feature?d({},i.feature,{geometry:u}):ll(u)}function ll(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Ds={toGeoJSON:function(i){return Os(this,{type:"Point",coordinates:rl(this.getLatLng(),i)})}};gr.include(Ds),sl.include(Ds),ji.include(Ds),vs.include({toGeoJSON:function(i){var u=!_a(this._latlngs),h=yr(this._latlngs,u?1:0,!1,i);return Os(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),Si.include({toGeoJSON:function(i){var u=!_a(this._latlngs),h=u&&!_a(this._latlngs[0]),y=yr(this._latlngs,h?2:u?1:0,!0,i);return u||(y=[y]),Os(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),Ni.include({toMultiPoint:function(i){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(i).geometry.coordinates)}),Os(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(i){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(i);var h=u==="GeometryCollection",y=[];return this.eachLayer(function(N){if(N.toGeoJSON){var E=N.toGeoJSON(i);if(h)y.push(E.geometry);else{var Z=ll(E);Z.type==="FeatureCollection"?y.push.apply(y,Z.features):y.push(Z)}}}),h?Os(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function ol(i,u){return new bs(i,u)}var vr=ol,Ei=Ia.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,u,h){this._url=i,this._bounds=ue(u),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Un(this._image),this},bringToBack:function(){return this._map&&Ks(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ue(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",u=this._image=i?this._url:xt("img");if(ot(u,"leaflet-image-layer"),this._zoomAnimated&&ot(u,"leaflet-zoom-animated"),this.options.className&&ot(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(i){var u=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;gs(this._image,h,u)},_reset:function(){var i=this._image,u=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();nn(i,u.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),zu=function(i,u,h){return new Ei(i,u,h)},Rs=Ei.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",u=this._image=i?this._url:xt("video");if(ot(u,"leaflet-image-layer"),this._zoomAnimated&&ot(u,"leaflet-zoom-animated"),this.options.className&&ot(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=f(this.fire,this,"load"),i){for(var h=u.getElementsByTagName("source"),y=[],N=0;N<h.length;N++)y.push(h[N].src);this._url=h.length>0?y:[u.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var Z=xt("source");Z.src=this._url[E],u.appendChild(Z)}}});function ki(i,u,h){return new Rs(i,u,h)}var ul=Ei.extend({_initImage:function(){var i=this._image=this._url;ot(i,"leaflet-image-layer"),this._zoomAnimated&&ot(i,"leaflet-zoom-animated"),this.options.className&&ot(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function Ou(i,u,h){return new ul(i,u,h)}var Gn=Ia.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,u){i&&(i instanceof de||R(i))?(this._latlng=je(i),A(this,u)):(A(this,i),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&un(this._container,1),this.bringToFront(),this.options.interactive&&(ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(f(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(mn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=je(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Un(this._container),this},bringToBack:function(){return this._map&&Ks(this._container),this},_prepareOpen:function(i){var u=this._source;if(!u._map)return!1;if(u instanceof Wa){u=null;var h=this._source._layers;for(var y in h)if(h[y]._map){u=h[y];break}if(!u)return!1;this._source=u}if(!i)if(u.getCenter)i=u.getCenter();else if(u.getLatLng)i=u.getLatLng();else if(u.getBounds)i=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")i.innerHTML=u;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),u=X(this.options.offset),h=this._getAnchor();this._zoomAnimated?nn(this._container,i.add(h)):u=u.add(i).add(h);var y=this._containerBottom=-u.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});Et.include({_initOverlay:function(i,u,h,y){var N=u;return N instanceof i||(N=new i(y).setContent(u)),h&&N.setLatLng(h),N}}),Ia.include({_initOverlay:function(i,u,h,y){var N=h;return N instanceof i?(A(N,y),N._source=this):(N=u&&!y?u:new i(y,this),N.setContent(h)),N}});var br=Gn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Gn.prototype.openOn.call(this,i)},onAdd:function(i){Gn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ts||this._source.on("preclick",Pa))},onRemove:function(i){Gn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ts||this._source.off("preclick",Pa))},getEvents:function(){var i=Gn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",u=this._container=xt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=xt("div",i+"-content-wrapper",u);if(this._contentNode=xt("div",i+"-content",h),Gs(u),Xa(this._contentNode),nt(u,"contextmenu",Pa),this._tipContainer=xt("div",i+"-tip-container",u),this._tip=xt("div",i+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=xt("a",i+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',nt(y,"click",function(N){vn(N),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,u=i.style;u.width="",u.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var y=i.offsetHeight,N=this.options.maxHeight,E="leaflet-popup-scrolled";N&&y>N?(u.height=N+"px",ot(i,E)):mn(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();nn(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,u=parseInt(Cs(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,y=this._containerWidth,N=new se(this._containerLeft,-h-this._containerBottom);N._add(As(this._container));var E=i.layerPointToContainerPoint(N),Z=X(this.options.autoPanPadding),le=X(this.options.autoPanPaddingTopLeft||Z),pe=X(this.options.autoPanPaddingBottomRight||Z),Te=i.getSize(),Le=0,Xe=0;E.x+y+pe.x>Te.x&&(Le=E.x+y-Te.x+pe.x),E.x-Le-le.x<0&&(Le=E.x-le.x),E.y+h+pe.y>Te.y&&(Xe=E.y+h-Te.y+pe.y),E.y-Xe-le.y<0&&(Xe=E.y-le.y),(Le||Xe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Le,Xe]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Du=function(i,u){return new br(i,u)};Et.mergeOptions({closePopupOnClick:!0}),Et.include({openPopup:function(i,u,h){return this._initOverlay(br,i,u,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Ia.include({bindPopup:function(i,u){return this._popup=this._initOverlay(br,this._popup,i,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Wa||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Ms(i);var u=i.layer||i.target;if(this._popup._source===u&&!(u instanceof ts)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=u,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var _r=Gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Gn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Gn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Gn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",u=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var u,h,y=this._map,N=this._container,E=y.latLngToContainerPoint(y.getCenter()),Z=y.layerPointToContainerPoint(i),le=this.options.direction,pe=N.offsetWidth,Te=N.offsetHeight,Le=X(this.options.offset),Xe=this._getAnchor();le==="top"?(u=pe/2,h=Te):le==="bottom"?(u=pe/2,h=0):le==="center"?(u=pe/2,h=Te/2):le==="right"?(u=0,h=Te/2):le==="left"?(u=pe,h=Te/2):Z.x<E.x?(le="right",u=0,h=Te/2):(le="left",u=pe+(Le.x+Xe.x)*2,h=Te/2),i=i.subtract(X(u,h,!0)).add(Le).add(Xe),mn(N,"leaflet-tooltip-right"),mn(N,"leaflet-tooltip-left"),mn(N,"leaflet-tooltip-top"),mn(N,"leaflet-tooltip-bottom"),ot(N,"leaflet-tooltip-"+le),nn(N,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&un(this._container,i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(u)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fd=function(i,u){return new _r(i,u)};Et.include({openTooltip:function(i,u,h){return this._initOverlay(_r,i,u,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Ia.include({bindTooltip:function(i,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_r,this._tooltip,i,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var u=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Wa||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&(nt(u,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),nt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var u=i.latlng,h,y;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),y=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var Ru=es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var u=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(va(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=X(h.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Zd(i){return new Ru(i)}es.Default=fr;var Ti=Ia.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){A(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Xt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ks(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof se?i:new se(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var u=this.getPane().children,h=-i(-1/0,1/0),y=0,N=u.length,E;y<N;y++)E=u[y].style.zIndex,u[y]!==this._container&&E&&(h=i(h,+E));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){un(this._container,this.options.opacity);var i=+new Date,u=!1,h=!1;for(var y in this._tiles){var N=this._tiles[y];if(!(!N.current||!N.loaded)){var E=Math.min(1,(i-N.loaded)/200);un(N.el,E),E<1?u=!0:(N.active?h=!0:this._onOpaqueTile(N),N.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(ce(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=u-Math.abs(i-h),this._onUpdateLevel(h)):(Xt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[i],N=this._map;return y||(y=this._levels[i]={},y.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=N.project(N.unproject(N.getPixelOrigin()),i).round(),y.zoom=i,this._setZoomTransform(y,N.getCenter(),N.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)u=this._tiles[i],u.retain=u.current;for(i in this._tiles)if(u=this._tiles[i],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var u in this._tiles)this._tiles[u].coords.z===i&&this._removeTile(u)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Xt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,u,h,y){var N=Math.floor(i/2),E=Math.floor(u/2),Z=h-1,le=new se(+N,+E);le.z=+Z;var pe=this._tileCoordsToKey(le),Te=this._tiles[pe];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),Z>y?this._retainParent(N,E,Z,y):!1)},_retainChildren:function(i,u,h,y){for(var N=2*i;N<2*i+2;N++)for(var E=2*u;E<2*u+2;E++){var Z=new se(N,E);Z.z=h+1;var le=this._tileCoordsToKey(Z),pe=this._tiles[le];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);h+1<y&&this._retainChildren(N,E,h+1,y)}},_resetView:function(i){var u=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var u=this.options;return u.minNativeZoom!==void 0&&i<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<i?u.maxNativeZoom:i},_setView:function(i,u,h,y){var N=Math.round(u);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var E=this.options.updateWhenZooming&&N!==this._tileZoom;(!y||E)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,u)},_setZoomTransforms:function(i,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,u)},_setZoomTransform:function(i,u,h){var y=this._map.getZoomScale(h,i.zoom),N=i.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,h)).round();De.any3d?gs(i.el,N,y):nn(i.el,N)},_resetGrid:function(){var i=this._map,u=i.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,u.wrapLng[0]],y).x/h.x),Math.ceil(i.project([0,u.wrapLng[1]],y).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([u.wrapLat[0],0],y).y/h.x),Math.ceil(i.project([u.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(h,this._tileZoom),N=u.project(i,this._tileZoom).floor(),E=u.getSize().divideBy(y*2);return new M(N.subtract(E),N.add(E))},_update:function(i){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(i===void 0&&(i=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(i),N=this._pxBoundsToTileRange(y),E=N.getCenter(),Z=[],le=this.options.keepBuffer,pe=new M(N.getBottomLeft().subtract([le,-le]),N.getTopRight().add([le,-le]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Le=this._tiles[Te].coords;(Le.z!==this._tileZoom||!pe.contains(new se(Le.x,Le.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Xe=N.min.y;Xe<=N.max.y;Xe++)for(var pt=N.min.x;pt<=N.max.x;pt++){var Fn=new se(pt,Xe);if(Fn.z=this._tileZoom,!!this._isValidTile(Fn)){var bn=this._tiles[this._tileCoordsToKey(Fn)];bn?bn.current=!0:Z.push(Fn)}}if(Z.sort(function(Dt,Rt){return Dt.distanceTo(E)-Rt.distanceTo(E)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fa=document.createDocumentFragment();for(pt=0;pt<Z.length;pt++)this._addTile(Z[pt],fa);this._level.el.appendChild(fa)}}}},_isValidTile:function(i){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!u.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(i);return ue(this.options.bounds).overlaps(y)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var u=this._map,h=this.getTileSize(),y=i.scaleBy(h),N=y.add(h),E=u.unproject(y,i.z),Z=u.unproject(N,i.z);return[E,Z]},_tileCoordsToBounds:function(i){var u=this._tileCoordsToNwSe(i),h=new I(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var u=i.split(":"),h=new se(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(i){var u=this._tiles[i];u&&(Xt(u.el),delete this._tiles[i],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ot(i,"leaflet-tile");var u=this.getTileSize();i.style.width=u.x+"px",i.style.height=u.y+"px",i.onselectstart=w,i.onmousemove=w,De.ielt9&&this.options.opacity<1&&un(i,this.options.opacity)},_addTile:function(i,u){var h=this._getTilePos(i),y=this._tileCoordsToKey(i),N=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(N),this.createTile.length<2&&xe(f(this._tileReady,this,i,null,N)),nn(N,h),this._tiles[y]={el:N,coords:i,current:!0},u.appendChild(N),this.fire("tileloadstart",{tile:N,coords:i})},_tileReady:function(i,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:i});var y=this._tileCoordsToKey(i);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(un(h.el,0),ce(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(ot(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?xe(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var u=new se(this._wrapX?S(i.x,this._wrapX):i.x,this._wrapY?S(i.y,this._wrapY):i.y);return u.z=i.z,u},_pxBoundsToTileRange:function(i){var u=this.getTileSize();return new M(i.min.unscaleBy(u).floor(),i.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Lu(i){return new Ti(i)}var Ls=Ti.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,u){this._url=i,u=A(this,u),u.detectRetina&&De.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,u){return this._url===i&&u===void 0&&(u=!0),this._url=i,u||this.redraw(),this},createTile:function(i,u){var h=document.createElement("img");return nt(h,"load",f(this._tileOnLoad,this,u,h)),nt(h,"error",f(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var u={r:De.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(u.y=h),u["-y"]=h}return B(this._url,d(u,this.options))},_tileOnLoad:function(i,u){De.ielt9?setTimeout(f(i,this,null,u),0):i(null,u)},_tileOnError:function(i,u,h){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),i(h,u)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(i=u-i),i+y},_getSubdomain:function(i){var u=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var i,u;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(u=this._tiles[i].el,u.onload=w,u.onerror=w,!u.complete)){u.src=Y;var h=this._tiles[i].coords;Xt(u),delete this._tiles[i],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(i){var u=this._tiles[i];if(u)return u.el.setAttribute("src",Y),Ti.prototype._removeTile.call(this,i)},_tileReady:function(i,u,h){if(!(!this._map||h&&h.getAttribute("src")===Y))return Ti.prototype._tileReady.call(this,i,u,h)}});function Na(i,u){return new Ls(i,u)}var Nr=Ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,u){this._url=i;var h=d({},this.defaultWmsParams);for(var y in u)y in this.options||(h[y]=u[y]);u=A(this,u);var N=u.detectRetina&&De.retina?2:1,E=this.getTileSize();h.width=E.x*N,h.height=E.y*N,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ls.prototype.onAdd.call(this,i)},getTileUrl:function(i){var u=this._tileCoordsToNwSe(i),h=this._crs,y=te(h.project(u[0]),h.project(u[1])),N=y.min,E=y.max,Z=(this._wmsVersion>=1.3&&this._crs===lo?[N.y,N.x,E.y,E.x]:[N.x,N.y,E.x,E.y]).join(","),le=Ls.prototype.getTileUrl.call(this,i);return le+D(this.wmsParams,le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(i,u){return d(this.wmsParams,i),u||this.redraw(),this}});function ja(i,u){return new Nr(i,u)}Ls.WMS=Nr,Na.wms=ja;var la=Ia.extend({options:{padding:.1},initialize:function(i){A(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,u){var h=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,u),E=y.multiplyBy(-h).add(N).subtract(this._map._getNewPixelOrigin(i,u));De.any3d?gs(this._container,E,h):nn(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-i)).round();this._bounds=new M(h,h.add(u.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cl=la.extend({options:{tolerance:0},getEvents:function(){var i=la.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){la.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");nt(i,"mousemove",this._onMouseMove,this),nt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,Xt(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var u in this._layers)i=this._layers[u],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){la.prototype._update.call(this);var i=this._bounds,u=this._container,h=i.getSize(),y=De.retina?2:1;nn(u,i.min),u.width=y*h.x,u.height=y*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){la.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var u=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var u=i._order,h=u.next,y=u.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var u=i.options.dashArray.split(/[, ]+/),h=[],y,N;for(N=0;N<u.length;N++){if(y=Number(u[N]),isNaN(y))return;h.push(y)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||xe(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var u=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(i._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(i._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var u=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)i=y.layer,(!u||i._pxBounds&&i._pxBounds.intersects(u))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,u){if(this._drawing){var h,y,N,E,Z=i._parts,le=Z.length,pe=this._ctx;if(le){for(pe.beginPath(),h=0;h<le;h++){for(y=0,N=Z[h].length;y<N;y++)E=Z[h][y],pe[y?"lineTo":"moveTo"](E.x,E.y);u&&pe.closePath()}this._fillStroke(pe,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var u=i._point,h=this._ctx,y=Math.max(Math.round(i._radius),1),N=(Math.max(Math.round(i._radiusY),1)||y)/y;N!==1&&(h.save(),h.scale(1,N)),h.beginPath(),h.arc(u.x,u.y/N,y,0,Math.PI*2,!1),N!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,u){var h=u.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(u.options&&u.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var u=this._map.mouseEventToLayerPoint(i),h,y,N=this._drawFirst;N;N=N.next)h=N.layer,h.options.interactive&&h._containsPoint(u)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,u)}},_handleMouseOut:function(i){var u=this._hoveredLayer;u&&(mn(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,u){if(!this._mouseHoverThrottled){for(var h,y,N=this._drawFirst;N;N=N.next)h=N.layer,h.options.interactive&&h._containsPoint(u)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(i),y&&(ot(this._container,"leaflet-interactive"),this._fireEvent([y],i,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,u,h){this._map._fireDOMEvent(u,h||u.type,i)},_bringToFront:function(i){var u=i._order;if(u){var h=u.next,y=u.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(i)}},_bringToBack:function(i){var u=i._order;if(u){var h=u.next,y=u.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(i)}}});function jr(i){return De.canvas?new cl(i):null}var Ps=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),oo={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(la.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var u=i._container=Ps("shape");ot(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",i._path=Ps("path"),u.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var u=i._container;this._container.appendChild(u),i.options.interactive&&i.addInteractiveTarget(u)},_removePath:function(i){var u=i._container;Xt(u),i.removeInteractiveTarget(u),delete this._layers[v(i)]},_updateStyle:function(i){var u=i._stroke,h=i._fill,y=i.options,N=i._container;N.stroked=!!y.stroke,N.filled=!!y.fill,y.stroke?(u||(u=i._stroke=Ps("stroke")),N.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=R(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(N.removeChild(u),i._stroke=null),y.fill?(h||(h=i._fill=Ps("fill")),N.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(N.removeChild(h),i._fill=null)},_updateCircle:function(i){var u=i._point.round(),h=Math.round(i._radius),y=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(i,u){i._path.v=u},_bringToFront:function(i){Un(i._container)},_bringToBack:function(i){Ks(i._container)}},ns=De.vml?Ps:rt,Ci=la.extend({_initContainer:function(){this._container=ns("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ns("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){la.prototype._update.call(this);var i=this._bounds,u=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),nn(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(i){var u=i._path=ns("path");i.options.className&&ot(u,i.options.className),i.options.interactive&&ot(u,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Xt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var u=i._path,h=i.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(i,u){this._setPath(i,bt(i._parts,u))},_updateCircle:function(i){var u=i._point,h=Math.max(Math.round(i._radius),1),y=Math.max(Math.round(i._radiusY),1)||h,N="a"+h+","+y+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(u.x-h)+","+u.y+N+h*2+",0 "+N+-h*2+",0 ";this._setPath(i,E)},_setPath:function(i,u){i._path.setAttribute("d",u)},_bringToFront:function(i){Un(i._path)},_bringToBack:function(i){Ks(i._path)}});De.vml&&Ci.include(oo);function Sr(i){return De.svg||De.vml?new Ci(i):null}Et.include({getRenderer:function(i){var u=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var u=this._paneRenderers[i];return u===void 0&&(u=this._createRenderer({pane:i}),this._paneRenderers[i]=u),u},_createRenderer:function(i){return this.options.preferCanvas&&jr(i)||Sr(i)}});var Ys=Si.extend({initialize:function(i,u){Si.prototype.initialize.call(this,this._boundsToLatLngs(i),u)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ue(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function qd(i,u){return new Ys(i,u)}Ci.create=ns,Ci.pointsToPath=bt,bs.geometryToLayer=Qn,bs.coordsToLatLng=il,bs.coordsToLatLngs=xr,bs.latLngToCoords=rl,bs.latLngsToCoords=yr,bs.getFeature=Os,bs.asFeature=ll,Et.mergeOptions({boxZoom:!0});var oa=Ja.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pi(),$r(),this._startPoint=this._map.mouseEventToContainerPoint(i),nt(document,{contextmenu:Ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var u=new M(this._point,this._startPoint),h=u.getSize();nn(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Xt(this._box),mn(this._container,"leaflet-crosshair")),$a(),rr(),Ht(document,{contextmenu:Ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Et.addInitHook("addHandler","boxZoom",oa),Et.mergeOptions({doubleClickZoom:!0});var dl=Ja.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var u=this._map,h=u.getZoom(),y=u.options.zoomDelta,N=i.originalEvent.shiftKey?h-y:h+y;u.options.doubleClickZoom==="center"?u.setZoom(N):u.setZoomAround(i.containerPoint,N)}});Et.addInitHook("addHandler","doubleClickZoom",dl),Et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var as=Ja.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new zs(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mn(this._map._container,"leaflet-grab"),mn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ue(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,u){return i-(i-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;i.x<u.min.x&&(i.x=this._viscousLimit(i.x,u.min.x)),i.y<u.min.y&&(i.y=this._viscousLimit(i.y,u.min.y)),i.x>u.max.x&&(i.x=this._viscousLimit(i.x,u.max.x)),i.y>u.max.y&&(i.y=this._viscousLimit(i.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,u=Math.round(i/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,N=(y-u+h)%i+u-h,E=(y+u+h)%i-u-h,Z=Math.abs(N+h)<Math.abs(E+h)?N:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(i){var u=this._map,h=u.options,y=!h.inertia||i.noInertia||this._times.length<2;if(u.fire("dragend",i),y)u.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,Z=h.easeLinearity,le=N.multiplyBy(Z/E),pe=le.distanceTo([0,0]),Te=Math.min(h.inertiaMaxSpeed,pe),Le=le.multiplyBy(Te/pe),Xe=Te/(h.inertiaDeceleration*Z),pt=Le.multiplyBy(-Xe/2).round();!pt.x&&!pt.y?u.fire("moveend"):(pt=u._limitOffset(pt,u.options.maxBounds),xe(function(){u.panBy(pt,{duration:Xe,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Et.addInitHook("addHandler","dragging",as),Et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var uo=Ja.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),nt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,u=document.documentElement,h=i.scrollTop||u.scrollTop,y=i.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var u=this._panKeys={},h=this.keyCodes,y,N;for(y=0,N=h.left.length;y<N;y++)u[h.left[y]]=[-1*i,0];for(y=0,N=h.right.length;y<N;y++)u[h.right[y]]=[i,0];for(y=0,N=h.down.length;y<N;y++)u[h.down[y]]=[0,i];for(y=0,N=h.up.length;y<N;y++)u[h.up[y]]=[0,-1*i]},_setZoomDelta:function(i){var u=this._zoomKeys={},h=this.keyCodes,y,N;for(y=0,N=h.zoomIn.length;y<N;y++)u[h.zoomIn[y]]=i;for(y=0,N=h.zoomOut.length;y<N;y++)u[h.zoomOut[y]]=-i},_addHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var u=i.keyCode,h=this._map,y;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[u],i.shiftKey&&(y=X(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(X(y),h.options.maxBounds)),h.options.worldCopyJump){var N=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(N)}else h.panBy(y)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Ms(i)}}});Et.addInitHook("addHandler","keyboard",uo),Et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wr=Ja.extend({addHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var u=Jn(i),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),y),Ms(i)},_performZoom:function(){var i=this._map,u=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,E=h?Math.ceil(N/h)*h:N,Z=i._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,Z&&(i.options.scrollWheelZoom==="center"?i.setZoom(u+Z):i.setZoomAround(this._lastMousePos,u+Z))}});Et.addInitHook("addHandler","scrollWheelZoom",wr);var $s=600;Et.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var ml=Ja.extend({addHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var u=i.touches[0];this._startPos=this._newPos=new se(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(nt(document,"touchend",vn),nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),$s),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ht(document,"touchend",vn),Ht(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(i){var u=i.touches[0];this._newPos=new se(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,u){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});Et.addInitHook("addHandler","tapHold",ml),Et.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var co=Ja.extend({addHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mn(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var u=this._map;if(!(!i.touches||i.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(i.touches[0]),y=u.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),vn(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(i.touches[0]),y=u.mouseEventToContainerPoint(i.touches[1]),N=h.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(N,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&N<1||this._zoom>u.getMaxZoom()&&N>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var E=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(N===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var Z=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=xe(Z,this,!0),vn(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Et.addInitHook("addHandler","touchZoom",co),Et.BoxZoom=oa,Et.DoubleClickZoom=dl,Et.Drag=as,Et.Keyboard=uo,Et.ScrollWheelZoom=wr,Et.TapHold=ml,Et.TouchZoom=co,l.Bounds=M,l.Browser=De,l.CRS=ze,l.Canvas=cl,l.Circle=sl,l.CircleMarker=ji,l.Class=re,l.Control=ha,l.DivIcon=Ru,l.DivOverlay=Gn,l.DomEvent=Wr,l.DomUtil=yi,l.Draggable=zs,l.Evented=Q,l.FeatureGroup=Wa,l.GeoJSON=bs,l.GridLayer=Ti,l.Handler=Ja,l.Icon=es,l.ImageOverlay=Ei,l.LatLng=de,l.LatLngBounds=I,l.Layer=Ia,l.LayerGroup=Ni,l.LineUtil=Pd,l.Map=Et,l.Marker=gr,l.Mixin=Od,l.Path=ts,l.Point=se,l.PolyUtil=io,l.Polygon=Si,l.Polyline=vs,l.Popup=br,l.PosAnimation=vi,l.Projection=Eu,l.Rectangle=Ys,l.Renderer=la,l.SVG=Ci,l.SVGOverlay=ul,l.TileLayer=Ls,l.Tooltip=_r,l.Transformation=be,l.Util=_e,l.VideoOverlay=Rs,l.bind=f,l.bounds=te,l.canvas=jr,l.circle=Mu,l.circleMarker=Au,l.control=ys,l.divIcon=Zd,l.extend=d,l.featureGroup=Tu,l.geoJSON=ol,l.geoJson=vr,l.gridLayer=Lu,l.icon=hr,l.imageOverlay=zu,l.latLng=je,l.latLngBounds=ue,l.layerGroup=Id,l.map=Wl,l.marker=Cu,l.point=X,l.polygon=Ud,l.polyline=Bd,l.popup=Du,l.rectangle=qd,l.setOptions=A,l.stamp=v,l.svg=Sr,l.svgOverlay=Ou,l.tileLayer=Na,l.tooltip=Fd,l.transformation=lt,l.version=o,l.videoOverlay=ki;var mo=window.L;l.noConflict=function(){return window.L=mo,this},window.L=l}))})(Jo,Jo.exports)),Jo.exports}var dM=cM();const ci=pd(dM);function mM(e){return e==="first"?{radius:10,color:"#7c3aed",fillColor:"#7c3aed",fillOpacity:.85,weight:2}:e==="recent"?{radius:7,color:"#1d4ed8",fillColor:"#bfdbfe",fillOpacity:.9,weight:2}:e==="checkin"?{radius:8,color:"#15803d",fillColor:"#15803d",fillOpacity:.85,weight:2}:e==="checkout"?{radius:11,color:"#be123c",fillColor:"#ffffff",fillOpacity:0,weight:3}:{radius:9,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.9,weight:2}}function hM({markers:e,focusedMarkerId:s=null}){const l=b.useRef(null),o=b.useRef(null),d=b.useRef(null),m=b.useRef(new Map);return b.useEffect(()=>{if(!l.current||o.current)return;const f=e[0]?.lat??41.015137,x=e[0]?.lon??28.97953,v=ci.map(l.current,{center:[f,x],zoom:14,zoomControl:!0});return o.current=v,ci.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katki saglayanlar"}).addTo(v),d.current=ci.layerGroup().addTo(v),()=>{o.current&&(o.current.remove(),o.current=null),d.current=null}},[e]),b.useEffect(()=>{if(!o.current||!d.current)return;const f=o.current,x=d.current;if(x.clearLayers(),m.current.clear(),!e.length)return;const v=[],_=new Map;for(const w of e){const T=`${w.lat.toFixed(6)}:${w.lon.toFixed(6)}`;_.set(T,(_.get(T)??0)+1)}const S=new Map;for(const w of e){const T=`${w.lat.toFixed(6)}:${w.lon.toFixed(6)}`,z=_.get(T)??1,k=S.get(T)??0;S.set(T,k+1);let A=w.lat,D=w.lon;if(z>1){const R=2*Math.PI*k/z,G=12e-5;A=w.lat+Math.sin(R)*G,D=w.lon+Math.cos(R)*G}const F=mM(w.kind),B=ci.circleMarker([A,D],F).bindPopup(`${w.label}<br/>${w.lat.toFixed(6)}, ${w.lon.toFixed(6)}`).addTo(x);m.current.set(w.id,B),v.push([A,D])}if(v.length===1){f.setView(v[0],16,{animate:!0});return}f.fitBounds(ci.latLngBounds(v),{padding:[24,24],maxZoom:17,animate:!0})},[e]),b.useEffect(()=>{if(!s||!o.current)return;const f=m.current.get(s);if(!f)return;const x=f.getLatLng();o.current.setView(x,Math.max(o.current.getZoom(),16),{animate:!0}),f.openPopup()},[s,e]),n.jsx("div",{ref:l,className:"h-72 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"Calisan konum haritasi"})}const fM=Qa({home_lat:Ln().min(-90),home_lon:Ln().min(-180),radius_m:Ln().int().positive().max(2e3)}),pM=Qa({expires_in_minutes:Ln().int().positive().max(1440)});function Aa(e){if(!e)return"-";const s=new Date(e);return Number.isNaN(s.getTime())?e:s.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul"})}function gM(e){return e==="OK"?"Tamam":e==="INCOMPLETE"?"Eksik":e==="LEAVE"?"Izinli":"Tatilde"}function xM(e){const s=new Date(`${e}T00:00:00`);return Number.isNaN(s.getTime())?"-":new Intl.DateTimeFormat("tr-TR",{timeZone:"Europe/Istanbul",weekday:"short"}).format(s)}function yM(e){return e.status==="INCOMPLETE"?"bg-rose-50/70":e.flags.length>0?"bg-amber-50/45":e.status==="LEAVE"||e.status==="OFF"?"bg-slate-50/70":""}function Qc(e,s){return e===null||s===null?"-":`${e.toFixed(6)}, ${s.toFixed(6)}`}function vM(e){return e.length?e.map(s=>`${Ha(s).label} (${s})`).join(", "):"-"}const bM=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Istanbul",year:"numeric",month:"2-digit",day:"2-digit"});function $i(e){if(!e)return null;const s=new Date(e);return Number.isNaN(s.getTime())?null:bM.format(s)}function _M(e){return e.in_lat!==null&&e.in_lon!==null||e.out_lat!==null&&e.out_lon!==null}function df(e){return`recent-${e.ts_utc}-${e.device_id}-${e.event_type}-${e.lat.toFixed(6)}-${e.lon.toFixed(6)}`}const NM=[10,20,35,50];function jM(){const e=fS(),s=Hl(),l=sa(),{pushToast:o}=ia(),d=new Date,m=Number(e.id),f=Number.isFinite(m)&&sessionStorage.getItem("employee-detail-origin")==="employees"&&sessionStorage.getItem("employee-detail-id")===String(m),[x,v]=b.useState("41.0"),[_,S]=b.useState("29.0"),[w,T]=b.useState("120"),[z,k]=b.useState(null),[A,D]=b.useState(""),[F,B]=b.useState(""),[R,G]=b.useState(""),[Y,ee]=b.useState(String(d.getFullYear())),[q,$]=b.useState(String(d.getMonth()+1)),[J,he]=b.useState(null),[xe,ce]=b.useState(null),[_e,re]=b.useState(""),[oe,H]=b.useState("all"),[Q,se]=b.useState("all"),[Se,X]=b.useState("all"),[M,te]=b.useState(""),[I,ue]=b.useState(""),[de,je]=b.useState(1),[ze,Ke]=b.useState(20),[He,at]=b.useState({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}),[be,lt]=b.useState(!1),[mt,Ae]=b.useState("30"),[rt,bt]=b.useState(null),[St,At]=b.useState(null),[rn,ne]=b.useState(null),Ee=Ze({queryKey:["employee-detail",m],queryFn:()=>oE(m),enabled:Number.isFinite(m)}),Pe=Ee.data?.employee,ct=Ze({queryKey:["departments","employee-detail-edit"],queryFn:()=>tr(),enabled:Number.isFinite(m)}),ae=Ze({queryKey:["department-shifts",Pe?.department_id],queryFn:()=>fu(Pe?.department_id?{department_id:Pe.department_id,active_only:!1}:void 0),enabled:!!Pe?.department_id}),Fe=Number(Y),It=Number(q),Kt=Number.isFinite(Fe)&&Number.isFinite(It)&&It>=1&&It<=12,Qt=Ze({queryKey:["employee-monthly",m,Fe,It],queryFn:()=>nu({employee_id:m,year:Fe,month:It}),enabled:Number.isFinite(m)&&Kt}),dt=Ze({queryKey:["employee-monthly-current",m,d.getFullYear(),d.getMonth()+1],queryFn:()=>nu({employee_id:m,year:d.getFullYear(),month:d.getMonth()+1}),enabled:Number.isFinite(m)}),zt=Ye({mutationFn:U=>mE(m,U),onSuccess:()=>{k(null),o({variant:"success",title:"Ev konumu guncellendi",description:`Calisan #${m} icin konum kaydedildi.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:U=>{const Ie=Ue(U,"Konum kaydedilemedi.").message;k(Ie),o({variant:"error",title:"Konum kaydedilemedi",description:Ie})}}),O=Ye({mutationFn:U=>Nb(m,{is_active:U}),onSuccess:U=>{o({variant:"success",title:U.is_active?"Calisan aktife alindi":"Calisan arsive alindi",description:`${U.full_name} icin durum guncellendi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:U=>{o({variant:"error",title:"Durum guncellenemedi",description:Ue(U,"Islem basarisiz.").message})}}),Me=Ye({mutationFn:U=>uE(m,U),onSuccess:U=>{o({variant:"success",title:"Calisan bilgileri guncellendi",description:`${U.full_name} icin profil bilgileri kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]}),l.invalidateQueries({queryKey:["department-shifts",U.department_id]})},onError:U=>{o({variant:"error",title:"Calisan bilgileri guncellenemedi",description:Ue(U,"Islem basarisiz.").message})}}),$e=Ye({mutationFn:U=>cE(m,{shift_id:U}),onSuccess:U=>{o({variant:"success",title:"Vardiya atamasi guncellendi",description:`${U.full_name} icin vardiya kaydedildi.`}),l.invalidateQueries({queryKey:["employees"]}),l.invalidateQueries({queryKey:["employee-detail",m]}),l.invalidateQueries({queryKey:["employee-monthly"]})},onError:U=>{o({variant:"error",title:"Vardiya atamasi basarisiz",description:Ue(U,"Islem basarisiz.").message})}}),yt=Ye({mutationFn:zb,onSuccess:U=>{bt(null),At(U.token),ne(U.invite_url),o({variant:"success",title:"Cihaz daveti olusturuldu",description:`Calisan #${m} icin davet hazir.`}),l.invalidateQueries({queryKey:["employee-detail",m]})},onError:U=>{const Ie=Ue(U,"Cihaz daveti olusturulamadi.").message;bt(Ie),o({variant:"error",title:"Davet olusturulamadi",description:Ie})}});b.useEffect(()=>{Ee.data?.home_location&&(v(String(Ee.data.home_location.home_lat)),S(String(Ee.data.home_location.home_lon)),T(String(Ee.data.home_location.radius_m)))},[Ee.data?.home_location]),b.useEffect(()=>{Pe&&D(Pe.shift_id?String(Pe.shift_id):"")},[Pe]),b.useEffect(()=>{Pe&&(B(Pe.full_name),G(Pe.department_id?String(Pe.department_id):""))},[Pe]),b.useEffect(()=>{Number.isFinite(m)&&(f||s("/employees",{replace:!0}))},[m,f,s]);const Bt=async U=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(U);else{const Ie=document.createElement("textarea");Ie.value=U,document.body.appendChild(Ie),Ie.select(),document.execCommand("copy"),document.body.removeChild(Ie)}o({variant:"success",title:"Kopyalandi",description:"Deger panoya kopyalandi."})}catch{o({variant:"error",title:"Kopyalanamadi",description:"Tarayici kopyalama islemini engelledi."})}},ht=()=>{bt(null),At(null),ne(null),Ae("30"),lt(!0)},ln=U=>{U.preventDefault(),bt(null);const Ie=pM.safeParse({expires_in_minutes:mt});if(!Ie.success){const it=Ie.error.issues[0]?.message??"Sure alanini kontrol edin.";bt(it),o({variant:"error",title:"Form hatasi",description:it});return}yt.mutate({employee_id:m,expires_in_minutes:Ie.data.expires_in_minutes})},da=U=>{U.preventDefault(),k(null);const Ie=fM.safeParse({home_lat:x,home_lon:_,radius_m:w});if(!Ie.success){const it=Ie.error.issues[0]?.message??"Konum alanlarini kontrol edin.";k(it),o({variant:"error",title:"Form hatasi",description:it});return}zt.mutate(Ie.data)},yn=U=>{U.preventDefault();const Ie=F.trim();if(!Ie){o({variant:"error",title:"Form hatasi",description:"Ad Soyad alani bos birakilamaz."});return}const it=R?Number(R):null;if(R&&(it===null||!Number.isFinite(it)||it<=0)){o({variant:"error",title:"Form hatasi",description:"Departman secimi gecersiz."});return}Me.mutate({full_name:Ie,department_id:it})},wt=Qt.data?.days??[],dn=b.useMemo(()=>lp(wt),[wt]),ma=b.useMemo(()=>wt.filter(U=>U.flags.length>0).length,[wt]),Kn=b.useMemo(()=>wt.length?`%${Math.round((Qt.data?.totals.incomplete_days??0)/wt.length*100)}`:"%0",[Qt.data?.totals.incomplete_days,wt.length]),Pn=Ee.data?.ip_summary??[],Ut=Ee.data?.recent_locations??[],Ga=b.useMemo(()=>Array.from(new Set(Ut.map(U=>U.device_id))).filter(U=>Number.isFinite(U)).sort((U,Ie)=>U-Ie),[Ut]),In=b.useMemo(()=>{const U=_e.trim().toLowerCase();return Ut.filter(Ie=>{const it=$i(Ie.ts_utc);return M&&it&&it<M||I&&it&&it>I||oe!=="all"&&Ie.event_type!==oe||Q!=="all"&&Ie.location_status!==Q||Se!=="all"&&String(Ie.device_id)!==Se?!1:U?[Aa(Ie.ts_utc),it??"",Ie.event_type,Ie.location_status,String(Ie.device_id),Qc(Ie.lat,Ie.lon)].join(" ").toLowerCase().includes(U):!0})},[M,I,Se,oe,_e,Q,Ut]);b.useEffect(()=>{je(1)},[_e,oe,Q,Se,M,I,ze]);const Yn=b.useMemo(()=>In.length?Math.max(1,Math.ceil(In.length/ze)):1,[In.length,ze]);b.useEffect(()=>{de<=Yn||je(Yn)},[de,Yn]);const Bn=b.useMemo(()=>{const U=(de-1)*ze;return In.slice(U,U+ze)},[In,de,ze]),Va=b.useMemo(()=>{if(!In.length)return{start:0,end:0};const U=(de-1)*ze+1,Ie=Math.min(de*ze,In.length);return{start:U,end:Ie}},[In.length,de,ze]),Cn=b.useMemo(()=>{for(const U of Ut){const Ie=$i(U.ts_utc);if(Ie)return Ie}for(let U=wt.length-1;U>=0;U-=1)if(_M(wt[U]))return wt[U].date;return null},[wt,Ut]);b.useEffect(()=>{J||!Cn||he(Cn)},[Cn,J]),b.useEffect(()=>{if(!J)return;const U=wt.some(it=>it.date===J),Ie=Ut.some(it=>$i(it.ts_utc)===J);!U&&!Ie&&(he(null),ce(null))},[wt,Ut,J]);const tn=b.useMemo(()=>wt.find(U=>U.date===J)??null,[wt,J]),Ya=b.useMemo(()=>J?Ut.filter(U=>$i(U.ts_utc)===J):[],[Ut,J]),Ot=b.useMemo(()=>{const U=[],Ie=Ee.data?.latest_location??null,it=Ee.data?.first_location??null,An=Ie&&J?$i(Ie.ts_utc)===J:!1,En=it&&J?$i(it.ts_utc)===J:!1;tn&&(tn.in_lat!==null&&tn.in_lon!==null&&U.push({id:`${tn.date}-in`,lat:tn.in_lat,lon:tn.in_lon,label:`${tn.date} - Mesai Baslangici`,kind:"checkin"}),tn.out_lat!==null&&tn.out_lon!==null&&U.push({id:`${tn.date}-out`,lat:tn.out_lat,lon:tn.out_lon,label:`${tn.date} - Mesai Bitisi`,kind:"checkout"})),Ie&&An&&U.push({id:"latest",lat:Ie.lat,lon:Ie.lon,label:`Son bildirilen konum - ${Aa(Ie.ts_utc)}`,kind:"latest"}),it&&En&&U.push({id:"first",lat:it.lat,lon:it.lon,label:`Ilk konum kaydi - ${Aa(it.ts_utc)}`,kind:"first"});for(const P of Ya){const Be=An&&Ie!==null&&Ie.ts_utc===P.ts_utc&&Ie.device_id===P.device_id,vt=En&&it!==null&&it.ts_utc===P.ts_utc&&it.device_id===P.device_id;Be||vt||U.push({id:df(P),lat:P.lat,lon:P.lon,label:`${P.event_type} - ${Aa(P.ts_utc)}`,kind:"recent"})}return U},[Ee.data?.first_location,Ee.data?.latest_location,Ya,J,tn]),De=b.useMemo(()=>Ot.filter(U=>He[U.kind]),[Ot,He]),wn=b.useMemo(()=>({checkin:Ot.some(U=>U.kind==="checkin"),checkout:Ot.some(U=>U.kind==="checkout"),first:Ot.some(U=>U.kind==="first"),recent:Ot.some(U=>U.kind==="recent"),latest:Ot.some(U=>U.kind==="latest")}),[Ot]);b.useEffect(()=>{Ot.length&&(De.length||at({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}))},[De.length,Ot.length]),b.useEffect(()=>{if(!xe)return;Ot.some(Ie=>Ie.id===xe)||ce(null)},[Ot,xe]);const ra=U=>{if(!Ot.some(En=>En.kind===U)){o({variant:"info",title:"Bu tipte konum yok",description:"Secili kayitta bu lejant turune ait konum bulunamadi."});return}const it=Object.values(He).filter(Boolean).length;if(He[U]&&it===1){at({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0});return}at({checkin:U==="checkin",checkout:U==="checkout",first:U==="first",recent:U==="recent",latest:U==="latest"});const An=Ot.find(En=>En.kind===U);An&&ce(An.id)},$n=()=>{at({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}),ce(null)},qt=(U,Ie)=>{const it=U.in_lat!==null&&U.in_lon!==null,An=U.out_lat!==null&&U.out_lon!==null;if(!(Ie==="in"?it:An)){o({variant:"info",title:"Konum bulunamadi",description:`${U.date} icin secilen konum kaydi yok.`});return}he(U.date),at({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}),ce(Ie==="in"?`${U.date}-in`:`${U.date}-out`)},tt=U=>{const Ie=$i(U.ts_utc);if(!Ie){o({variant:"info",title:"Konum zamani okunamadi",description:"Secilen konum kaydi icin gun bilgisi hesaplanamadi."});return}he(Ie),at({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}),ce(df(U))},Xn=b.useMemo(()=>`${Ee.data?.devices.length??0} cihaz`,[Ee.data?.devices.length]);return Number.isFinite(m)?f?Ee.isLoading?n.jsx(Zt,{}):Ee.isError||!Pe?n.jsx(Ct,{message:"Calisan kaydi bulunamadi."}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:`Calisan Detayi #${Pe.id}`,description:`${Pe.full_name} icin puantaj, cihaz, aktivite ve konum bilgileri`,action:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{const U=!Pe.is_active;window.confirm(U?`${Pe.full_name} arsivden cikarilsin mi?`:`${Pe.full_name} arsivlensin mi?`)&&O.mutate(U)},disabled:O.isPending,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white ${Pe.is_active?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:Pe.is_active?"Arsivle":"Arsivden Cikar"}),n.jsx("button",{type:"button",onClick:ht,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Cihaz Baglama Linki Olustur"})]})}),n.jsx(Re,{children:n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Calisan"}),n.jsx("p",{className:"text-base font-semibold text-slate-900",children:Pe.full_name}),n.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",Pe.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Durum"}),n.jsx(er,{value:Pe.is_active?"Aktif":"Pasif"}),n.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Bolge: ",Pe.region_name??"-"]}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Departman ID: ",Pe.department_id??"-"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Son employee portal aktivitesi"}),n.jsx("p",{className:"text-sm font-medium text-slate-800",children:Aa(Ee.data?.last_portal_seen_utc)}),n.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Cihaz sayisi: ",Xn]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Bu ay yasal fazla mesai"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.jsx(qe,{minutes:dt.data?.totals.legal_overtime_minutes??0})}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Plan ustu: ",n.jsx(qe,{minutes:dt.data?.totals.plan_overtime_minutes??0})]}),n.jsxs("p",{className:"text-xs text-slate-500",children:[d.getFullYear(),"-",String(d.getMonth()+1).padStart(2,"0")]})]})]})}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Calisan Bilgileri"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ad Soyad ve departman bilgisini bu alandan guncelleyebilirsiniz."}),n.jsxs("form",{onSubmit:yn,className:"mt-3 grid gap-3 md:grid-cols-3 md:items-end",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Ad Soyad",n.jsx("input",{value:F,onChange:U=>B(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Calisan adi soyadi"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:R,onChange:U=>G(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:ct.isLoading,children:[n.jsx("option",{value:"",children:"Atanmamis"}),(ct.data??[]).map(U=>n.jsx("option",{value:U.id,children:U.name},U.id))]})]}),n.jsx("button",{type:"submit",disabled:Me.isPending||ct.isLoading,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:Me.isPending?"Kaydediliyor...":"Bilgileri Kaydet"})]}),ct.isError?n.jsx("p",{className:"mt-2 text-xs text-amber-700",children:"Departman listesi alinamadi. Lutfen tekrar deneyin."}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Vardiya Atamasi"}),n.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto] md:items-end",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya",n.jsxs("select",{value:A,onChange:U=>D(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",disabled:!Pe.department_id||ae.isLoading,children:[n.jsx("option",{value:"",children:"Atanmamis"}),(ae.data??[]).map(U=>n.jsxs("option",{value:U.id,children:[U.name," (",U.start_time_local,"-",U.end_time_local,")"]},U.id))]})]}),n.jsx("button",{type:"button",disabled:$e.isPending||!Pe.department_id,onClick:()=>{const U=A?Number(A):null;$e.mutate(U)},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 disabled:opacity-60",children:$e.isPending?"Kaydediliyor...":"Vardiya Ata"})]})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Aylik Puantaj"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Aydan aya puantaj ve secili ay fazla mesai durumunu inceleyin."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("label",{className:"text-xs text-slate-600",children:["Yil",n.jsx("input",{type:"number",value:Y,onChange:U=>ee(U.target.value),className:"mt-1 w-28 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]}),n.jsxs("label",{className:"text-xs text-slate-600",children:["Ay",n.jsx("input",{type:"number",min:1,max:12,value:q,onChange:U=>$(U.target.value),className:"mt-1 w-20 rounded-lg border border-slate-300 px-2 py-1 text-sm"})]})]})]}),Kt?Qt.isLoading?n.jsx(Zt,{}):Qt.isError?n.jsx(Ct,{message:Ue(Qt.error,"Aylik puantaj alinamadi.").message}):n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-3 xl:grid-cols-7",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay net calisma"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.jsx(qe,{minutes:Qt.data?.totals.worked_minutes??0})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay plan ustu sure"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.jsx(qe,{minutes:Qt.data?.totals.plan_overtime_minutes??0})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[dn.planOvertimeDayCount," gun"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla sure"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.jsx(qe,{minutes:Qt.data?.totals.legal_extra_work_minutes??0})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Secili ay yasal fazla mesai"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.jsx(qe,{minutes:Qt.data?.totals.legal_overtime_minutes??0})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[dn.overtimeDayCount," gun fazla mesai"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Qt.data?.totals.incomplete_days??0})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Calisilan gun"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:dn.workedDayCount}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Hafta ici: ",dn.weekdayWorkedDayCount," gun"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Pazar mesaisi"}),n.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[dn.sundayWorkedDayCount," gun"]}),n.jsx("p",{className:"text-xs text-slate-500",children:n.jsx(qe,{minutes:dn.sundayWorkedMinutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Ozel gun mesaisi"}),n.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[dn.specialWorkedDayCount," gun"]}),n.jsx("p",{className:"text-xs text-slate-500",children:n.jsx(qe,{minutes:dn.specialWorkedMinutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Bayrakli gun"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ma}),n.jsx("p",{className:"text-xs text-slate-500",children:"Riskli veya kontrol gerektiren satir sayisi"})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Eksik gun orani"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Kn}),n.jsxs("p",{className:"text-xs text-slate-500",children:[Qt.data?.totals.incomplete_days??0," / ",wt.length," gun"]})]})]}),n.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:"Ayni tabloda giris-cikis saatleri, konum koordinatlari ve bayraklar birlikte gosterilir. Satir renklendirmesi: kirmizi = eksik gun, amber = bayrakli gun, gri = izin/tatil."}),n.jsx("div",{className:"list-scroll-area overflow-x-auto",children:n.jsxs("table",{className:"min-w-[1500px] text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Tarih"}),n.jsx("th",{className:"py-2",children:"Gun"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Gun Tipi"}),n.jsx("th",{className:"py-2",children:"Giris"}),n.jsx("th",{className:"py-2",children:"Cikis"}),n.jsx("th",{className:"py-2",children:"Giris Konum (lat/lon)"}),n.jsx("th",{className:"py-2",children:"Cikis Konum (lat/lon)"}),n.jsx("th",{className:"py-2",children:"Net Sure"}),n.jsx("th",{className:"py-2",children:"Plan Ustu"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),n.jsx("th",{className:"py-2",children:"Bayraklar"})]})}),n.jsx("tbody",{children:wt.map(U=>{const Ie=yM(U);return n.jsxs("tr",{className:`border-t border-slate-100 ${Ie}`,children:[n.jsx("td",{className:"py-2 font-medium text-slate-800",children:U.date}),n.jsx("td",{className:"py-2 text-xs uppercase text-slate-600",children:xM(U.date)}),n.jsx("td",{className:"py-2",children:gM(U.status)}),n.jsx("td",{className:"py-2",children:Sd(U).label}),n.jsx("td",{className:"py-2",children:Aa(U.in)}),n.jsx("td",{className:"py-2",children:Aa(U.out)}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono text-xs",children:Qc(U.in_lat,U.in_lon)}),U.in_lat!==null&&U.in_lon!==null?n.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>qt(U,"in"),title:"Mesai baslangic konumunu haritada goster",children:"Harita"}):null]})}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono text-xs",children:Qc(U.out_lat,U.out_lon)}),U.out_lat!==null&&U.out_lon!==null?n.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",onClick:()=>qt(U,"out"),title:"Mesai bitis konumunu haritada goster",children:"Harita"}):null]})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:U.worked_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:U.plan_overtime_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:U.legal_extra_work_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:U.legal_overtime_minutes})}),n.jsx("td",{className:"py-2 text-xs text-slate-600",children:vM(U.flags)})]},U.date)})})]})})]}):n.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"Yil/ay degeri gecersiz."})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Kayitli Cihazlar ve IP Bilgisi"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cihazlar, son attendance zamani ve son gorulen IP bilgisi."}),n.jsx("div",{className:"mt-3 list-scroll-area",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Cihaz ID"}),n.jsx("th",{className:"py-2",children:"Parmak Izi"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Olusma"}),n.jsx("th",{className:"py-2",children:"Son Attendance"}),n.jsx("th",{className:"py-2",children:"Son Gorulen IP"}),n.jsx("th",{className:"py-2",children:"Son Islem Zamani"})]})}),n.jsx("tbody",{children:(Ee.data?.devices??[]).map(U=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:U.id}),n.jsx("td",{className:"py-2 font-mono text-xs",children:U.device_fingerprint}),n.jsx("td",{className:"py-2",children:n.jsx(er,{value:U.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"py-2",children:Aa(U.created_at)}),n.jsx("td",{className:"py-2",children:Aa(U.last_attendance_ts_utc)}),n.jsx("td",{className:"py-2",children:U.last_seen_ip??"-"}),n.jsx("td",{className:"py-2",children:Aa(U.last_seen_at_utc)})]},U.id))})]})})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:items-start",children:[n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Employee Portal Aktivite Akisi"}),n.jsx("div",{className:"mt-3 list-scroll-area rounded-lg border border-slate-200",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Zaman"}),n.jsx("th",{className:"py-2",children:"Islem"}),n.jsx("th",{className:"py-2",children:"IP"}),n.jsx("th",{className:"py-2",children:"User Agent"})]})}),n.jsx("tbody",{children:(Ee.data?.recent_activity??[]).map((U,Ie)=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Aa(U.ts_utc)}),n.jsx("td",{className:"py-2",children:U.action}),n.jsx("td",{className:"py-2",children:U.ip??"-"}),n.jsx("td",{className:"py-2 max-w-[280px] truncate",title:U.user_agent??"-",children:U.user_agent??"-"})]},`${U.ts_utc}-${Ie}`))})]})})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cihaz IP Ozeti"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"IP, son gorulme zamani ve son bilinen konum bilgisi."}),n.jsx("div",{className:"mt-3 list-scroll-area rounded-lg border border-slate-200",children:Pn.length?n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"IP"}),n.jsx("th",{className:"py-2",children:"Son gorulme"}),n.jsx("th",{className:"py-2",children:"Aksiyon"}),n.jsx("th",{className:"py-2",children:"Son konum (lat/lon)"}),n.jsx("th",{className:"py-2",children:"Konum zamani"})]})}),n.jsx("tbody",{children:Pn.map(U=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2 font-mono text-xs",children:U.ip}),n.jsx("td",{className:"py-2",children:Aa(U.last_seen_at_utc)}),n.jsx("td",{className:"py-2",children:U.last_action}),n.jsx("td",{className:"py-2",children:U.last_lat!==null&&U.last_lon!==null?`${U.last_lat.toFixed(6)}, ${U.last_lon.toFixed(6)}`:"-"}),n.jsx("td",{className:"py-2",children:U.last_location_ts_utc?Aa(U.last_location_ts_utc):"-"})]},U.ip))})]}):n.jsx("div",{className:"p-3 text-sm text-slate-500",children:"IP kaydi bulunamadi."})})]})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Konum Haritasi"}),J&&Cn&&J!==Cn?n.jsx("button",{type:"button",onClick:()=>{he(Cn),at({checkin:!0,checkout:!0,first:!0,recent:!0,latest:!0}),ce(null)},className:"rounded-md border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Son gune don"}):null]}),tn?n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",n.jsx("span",{className:"font-semibold",children:tn.date})," gununun giris/cikis konumlari"]}):J?n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Harita secimi: ",n.jsx("span",{className:"font-semibold",children:J})," gununun konum kayitlari"]}):n.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Calisan icin konum verisi henuz yok."}),De.length?n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsx(hM,{markers:De,focusedMarkerId:xe}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[n.jsxs("button",{type:"button",onClick:()=>ra("first"),disabled:!wn.first,className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${He.first?"border-violet-300 bg-violet-50 text-violet-800":"border-slate-300 bg-white text-slate-500"} ${wn.first?"":"cursor-not-allowed opacity-45"}`,title:"Yalnizca ilk konum noktasini goster",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-violet-600"}),"Ilk konum"]}),n.jsxs("button",{type:"button",onClick:()=>ra("recent"),disabled:!wn.recent,className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${He.recent?"border-blue-300 bg-blue-50 text-blue-800":"border-slate-300 bg-white text-slate-500"} ${wn.recent?"":"cursor-not-allowed opacity-45"}`,title:"Diger konum noktalarini goster",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-600"}),"Diger konumlar"]}),n.jsxs("button",{type:"button",onClick:()=>ra("checkin"),disabled:!wn.checkin,className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${He.checkin?"border-emerald-300 bg-emerald-50 text-emerald-800":"border-slate-300 bg-white text-slate-500"} ${wn.checkin?"":"cursor-not-allowed opacity-45"}`,title:"Yalnizca mesai baslangici noktalarini goster",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),"Mesai baslangici"]}),n.jsxs("button",{type:"button",onClick:()=>ra("checkout"),disabled:!wn.checkout,className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${He.checkout?"border-rose-300 bg-rose-50 text-rose-800":"border-slate-300 bg-white text-slate-500"} ${wn.checkout?"":"cursor-not-allowed opacity-45"}`,title:"Yalnizca mesai bitisi noktalarini goster",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-600"}),"Mesai bitisi"]}),n.jsxs("button",{type:"button",onClick:()=>ra("latest"),disabled:!wn.latest,className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${He.latest?"border-sky-300 bg-sky-50 text-sky-800":"border-slate-300 bg-white text-slate-500"} ${wn.latest?"":"cursor-not-allowed opacity-45"}`,title:"Yalnizca son bildirilen konumu goster",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-700"}),"Son bildirilen konum"]}),n.jsx("button",{type:"button",onClick:$n,className:"ml-1 rounded-md border border-slate-300 px-2 py-1 text-[11px] font-semibold text-slate-700 hover:bg-slate-100",children:"Tumunu goster"})]})]}):n.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Secili filtrede gosterilecek konum noktasi yok."}),n.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200",children:[n.jsxs("div",{className:"border-b border-slate-200 px-3 py-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Konum Gecmisi (satira tiklayinca haritada odaklar)"}),n.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-7",children:[n.jsxs("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500 md:col-span-2",children:["Ara",n.jsx("input",{value:_e,onChange:U=>re(U.target.value),placeholder:"Tarih, koordinat, cihaz, durum...",className:"mt-1 w-full rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-800"})]}),n.jsxs("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:["Tip",n.jsxs("select",{value:oe,onChange:U=>H(U.target.value),className:"mt-1 w-full rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-800",children:[n.jsx("option",{value:"all",children:"Tum tipler"}),n.jsx("option",{value:"IN",children:"IN"}),n.jsx("option",{value:"OUT",children:"OUT"})]})]}),n.jsxs("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:["Durum",n.jsxs("select",{value:Q,onChange:U=>se(U.target.value),className:"mt-1 w-full rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-800",children:[n.jsx("option",{value:"all",children:"Tum durumlar"}),n.jsx("option",{value:"VERIFIED_HOME",children:"VERIFIED_HOME"}),n.jsx("option",{value:"UNVERIFIED_LOCATION",children:"UNVERIFIED_LOCATION"}),n.jsx("option",{value:"NO_LOCATION",children:"NO_LOCATION"})]})]}),n.jsxs("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:["Cihaz",n.jsxs("select",{value:Se,onChange:U=>X(U.target.value),className:"mt-1 w-full rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-800",children:[n.jsx("option",{value:"all",children:"Tum cihazlar"}),Ga.map(U=>n.jsxs("option",{value:String(U),children:["#",U]},U))]})]}),n.jsxs("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:["Baslangic Tarihi",n.jsx("input",{type:"date",value:M,onChange:U=>te(U.target.value),className:"mt-1 w-full rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-800"})]}),n.jsxs("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:["Bitis Tarihi",n.jsx("input",{type:"date",value:I,min:M||void 0,onChange:U=>ue(U.target.value),className:"mt-1 w-full rounded-md border border-slate-300 px-2 py-1.5 text-xs text-slate-800"})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-[11px] text-slate-500",children:["Gosterilen satir: ",Va.start,"-",Va.end," /"," ",In.length]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:["Sayfa basi",n.jsx("select",{value:ze,onChange:U=>Ke(Number(U.target.value)),className:"rounded-md border border-slate-300 px-2 py-1 text-xs text-slate-800",children:NM.map(U=>n.jsx("option",{value:U,children:U},U))})]})]})]}),In.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"list-scroll-area-compact",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 pl-3",children:"Zaman"}),n.jsx("th",{className:"py-2",children:"Gun"}),n.jsx("th",{className:"py-2",children:"Tip"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Cihaz"}),n.jsx("th",{className:"py-2 pr-3",children:"Koordinat"})]})}),n.jsx("tbody",{children:Bn.map((U,Ie)=>{const it=df(U),An=$i(U.ts_utc)??"-",En=xe===it;return n.jsxs("tr",{className:`border-t border-slate-100 transition-colors ${En?"bg-sky-100/60":"cursor-pointer hover:bg-sky-50/70"}`,role:"button",tabIndex:0,onClick:()=>tt(U),onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),tt(U))},title:"Haritada bu konumu odakla",children:[n.jsx("td",{className:"py-2 pl-3",children:Aa(U.ts_utc)}),n.jsx("td",{className:"py-2 font-mono text-xs text-slate-600",children:An}),n.jsx("td",{className:"py-2",children:U.event_type}),n.jsx("td",{className:"py-2",children:U.location_status}),n.jsxs("td",{className:"py-2",children:["#",U.device_id]}),n.jsx("td",{className:"py-2 pr-3",children:Qc(U.lat,U.lon)})]},`${it}-${Ie}`)})})]})}),n.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 px-3 py-2",children:[n.jsxs("p",{className:"text-xs text-slate-500",children:["Sayfa ",de," / ",Yn]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>je(U=>Math.max(1,U-1)),disabled:de<=1,className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100 disabled:opacity-50",children:"Onceki"}),n.jsx("button",{type:"button",onClick:()=>je(U=>Math.min(Yn,U+1)),disabled:de>=Yn,className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100 disabled:opacity-50",children:"Sonraki"})]})]})]}):n.jsx("div",{className:"p-3 text-sm text-slate-500",children:"Filtreye uygun konum gecmisi bulunamadi."})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ev Konumu"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Check-in konum dogrulamasi icin enlem, boylam ve yaricap metre bilgisini girin."}),Ee.data?.home_location?null:n.jsx("p",{className:"mt-2 text-sm text-amber-700",children:"Kayitli konum bulunamadi. Ilk kaydi olusturabilirsiniz."}),n.jsxs("form",{onSubmit:da,className:"mt-4 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Enlem (Lat)",n.jsx("input",{value:x,onChange:U=>v(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ev Boylam (Lon)",n.jsx("input",{value:_,onChange:U=>S(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Yaricap (metre)",n.jsx("input",{value:w,onChange:U=>T(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",disabled:zt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:zt.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):Ee.data?.home_location?"Konumu Guncelle":"Konumu Kaydet"})})]}),z?n.jsx("p",{className:"form-validation",children:z}):null]}),n.jsxs(Wi,{open:be,title:"Cihaz Baglama Linki Olustur",onClose:()=>lt(!1),children:[n.jsxs("form",{onSubmit:ln,className:"space-y-4",children:[n.jsxs("label",{className:"block text-sm text-slate-700",children:["Gecerlilik Suresi (dakika)",n.jsx("input",{value:mt,onChange:U=>Ae(U.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsx("button",{type:"submit",disabled:yt.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:yt.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Olusturuluyor..."]}):"Daveti Uret"})]}),n.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Bu linki calisana iletin. Calisan linki acinca cihazini otomatik olarak hesabina baglayabilir."}),rt?n.jsx("p",{className:"form-validation",children:rt}):null,St&&rn?n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx(ov,{label:"Token",value:St,onCopy:Bt}),n.jsx(ov,{label:"Baglanti Linki (invite_url)",value:rn,onCopy:Bt})]}):null]})]}):n.jsx(Zt,{}):n.jsx(Ct,{message:"Gecersiz calisan id degeri."})}const SM={NORMAL:"Normal",IZINLI:"Izinli",RESMI_TATIL:"Resmi Tatil",CALISMADI:"Calismadi"},wM={SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},Gc={AUTO:"Otomatik (Oncelik: Vardiya > Haftalik > Temel)",SHIFT:"Vardiya",WEEKLY:"Haftalik Kural",WORK_RULE:"Temel Kural"},pu="Europe/Istanbul";function mf(e){const s=[];e.status==="INCOMPLETE"&&s.push("EKSIK_GUN");for(const l of e.flags)s.push(l);return s}function EM(e){return e.length===0?void 0:`Supheli nedenleri:
${e.map((l,o)=>{const d=Ha(l);return`${o+1}. ${d.label}: ${d.description}`}).join(`
`)}`}function cv(e){if(!e)return"";const s=new Date(e);return Number.isNaN(s.getTime())?"":new Intl.DateTimeFormat("tr-TR",{timeZone:pu,hour:"2-digit",minute:"2-digit",hour12:!1}).format(s)}function dv(e){if(!e)return"-";const s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat("tr-TR",{timeZone:pu,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(s)}function mv(e){if(!e)return"-";const s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat("tr-TR",{timeZone:pu,hour:"2-digit",minute:"2-digit",hour12:!1}).format(s)}function kM(e){const s=new Date(`${e}T00:00:00`);return Number.isNaN(s.getTime())?"-":new Intl.DateTimeFormat("tr-TR",{timeZone:pu,weekday:"short"}).format(s)}function TM(e,s){return e.status==="INCOMPLETE"?"bg-rose-50/70":s?"bg-amber-50/55":e.status==="LEAVE"||e.status==="OFF"?"bg-slate-50/70":""}function hv(e){if(!e)return{status:"NORMAL",reason:""};const s=(e.note??"").trim(),l=s.match(/^\[MANUAL_STATUS:(NORMAL|IZINLI|RESMI_TATIL|CALISMADI)\]\s*/i);return l?{status:l[1].toUpperCase(),reason:s.replace(l[0],"").trim()}:e.is_absent?{status:"CALISMADI",reason:s}:{status:"NORMAL",reason:s}}function CM(e,s){const l=s.trim();if(e==="NORMAL")return l||null;const o=`[MANUAL_STATUS:${e}]`;return l?`${o} ${l}`:o}function AM(){const e=sa(),{pushToast:s}=ia(),l=new Date,o={employeeId:"",year:String(l.getFullYear()),month:String(l.getMonth()+1)},[d,m]=b.useState(o),[f,x]=b.useState(o),[v,_]=b.useState(!1),[S,w]=b.useState(null),[T,z]=b.useState(!1),[k,A]=b.useState(!1),[D,F]=b.useState(""),[B,R]=b.useState(""),[G,Y]=b.useState(""),[ee,q]=b.useState(""),[$,J]=b.useState("NORMAL"),[he,xe]=b.useState("AUTO"),[ce,_e]=b.useState(""),[re,oe]=b.useState(null),[H,Q]=b.useState(null),se=Ze({queryKey:["employees","all"],queryFn:()=>ks({status:"all"})}),Se=Number(f.employeeId),X=Number(f.year),M=Number(f.month),te=Number.isFinite(Se)&&Se>0&&Number.isFinite(X)&&X>0&&Number.isFinite(M)&&M>=1&&M<=12,I=Ze({queryKey:["employee-monthly",Se,X,M],queryFn:()=>nu({employee_id:Se,year:X,month:M}),enabled:te}),ue=Ze({queryKey:["manual-overrides",Se,X,M],queryFn:()=>t1(Se,X,M),enabled:te}),de=Ye({mutationFn:({employeeId:O,dayDate:Me,inTime:$e,outTime:yt,status:Bt,ruleSource:ht,ruleShiftId:ln,reason:da})=>{const yn=Bt!=="NORMAL";return e1(O,{day_date:Me,in_time:yn?null:$e||null,out_time:yn?null:yt||null,is_absent:yn,rule_source_override:ht,rule_shift_id_override:ht==="SHIFT"&&ln?Number(ln):null,note:CM(Bt,da)})},onSuccess:()=>{s({variant:"success",title:"Manuel duzeltme kaydedildi",description:"Gunluk puantaj kaydi guncellendi."}),A(!1),Q(null),_e(""),e.invalidateQueries({queryKey:["employee-monthly"]}),e.invalidateQueries({queryKey:["manual-overrides"]})},onError:O=>{s({variant:"error",title:"Duzeltme kaydedilemedi",description:Ue(O,"Islem basarisiz.").message})}}),je=Ye({mutationFn:n1,onSuccess:()=>{s({variant:"success",title:"Manuel duzeltme kaldirildi",description:"Secili gun icin manuel override silindi."}),A(!1),Q(null),e.invalidateQueries({queryKey:["employee-monthly"]}),e.invalidateQueries({queryKey:["manual-overrides"]})},onError:O=>{s({variant:"error",title:"Silme islemi basarisiz",description:Ue(O,"Islem basarisiz.").message})}}),ze=b.useMemo(()=>se.data?.find(O=>O.id===Se),[se.data,Se]),Ke=ze?.full_name,He=Ze({queryKey:["monthly-manual-shifts",ze?.department_id],queryFn:()=>fu(ze?.department_id?{department_id:ze.department_id,active_only:!1}:void 0),enabled:!!ze?.department_id}),at=b.useMemo(()=>{const O=new Map;for(const Me of ue.data??[])O.set(Me.day_date,Me);return O},[ue.data]),be=I.data?.days??[],lt=b.useMemo(()=>be.reduce((O,Me)=>O+(Me.missing_minutes??0),0),[be]),mt=b.useMemo(()=>be.filter(O=>!(v&&mf(O).length===0||S&&!O.flags.includes(S))),[be,S,v]),Ae=b.useMemo(()=>be.filter(O=>mf(O).length>0).length,[be]),rt=b.useMemo(()=>be.filter(O=>O.legal_overtime_minutes>0).length,[be]),bt=b.useMemo(()=>be.filter(O=>O.status==="LEAVE").length,[be]),St=b.useMemo(()=>be.filter(O=>O.status==="OFF").length,[be]),At=b.useMemo(()=>be.filter(O=>O.status==="OK"||O.status==="INCOMPLETE").length,[be]),rn=b.useMemo(()=>be.length?`%${Math.round(Ae/be.length*100)}`:"%0",[be.length,Ae]),ne=b.useMemo(()=>`${f.year}-${String(f.month).padStart(2,"0")}`,[f.month,f.year]),Ee=b.useMemo(()=>{const O=["SHIFT_WEEKLY_RULE_OVERRIDE","NEEDS_SHIFT_REVIEW","MISSING_IN","MISSING_OUT","UNDERWORKED"],Me=new Map;for(const $e of O)Me.set($e,0);for(const $e of be)for(const yt of O)$e.flags.includes(yt)&&Me.set(yt,(Me.get(yt)??0)+1);return O.map($e=>({code:$e,count:Me.get($e)??0}))},[be]),Pe=b.useMemo(()=>{const O=[];return f.employeeId&&O.push(`Calisan: ${f.employeeId}`),O.push(`Yil: ${f.year}`),O.push(`Ay: ${f.month}`),v&&O.push("Sadece supheli gunler"),S&&O.push(`Cakisma: ${Ha(S).label}`),O},[f,S,v]),ct=()=>x({...d}),ae=()=>{m(o),x(o),_(!1),w(null)},Fe=async()=>{if(!te){s({variant:"error",title:"Filtre hatasi",description:"Excel indirmek icin calisan, yil ve ay secin."});return}try{z(!0);const O=await r1({employee_id:Se,year:X,month:M}),Me=window.URL.createObjectURL(O),$e=document.createElement("a");$e.href=Me,$e.download=`puantaj-employee-${Se}-${X}-${String(M).padStart(2,"0")}.xlsx`,document.body.appendChild($e),$e.click(),$e.remove(),window.URL.revokeObjectURL(Me)}catch(O){s({variant:"error",title:"Excel indirilemedi",description:Ue(O,"Dosya olusturulamadi.").message})}finally{z(!1)}},It=O=>{const Me=at.get(O.date),$e=hv(Me);F(O.date),oe(Me?.id??null),J($e.status),q($e.reason),R(Me?cv(Me.in_ts):""),Y(Me?cv(Me.out_ts):""),xe(Me?.rule_source_override??"AUTO"),_e(Me?.rule_shift_id_override?String(Me.rule_shift_id_override):O.shift_id?String(O.shift_id):""),Q(null),A(!0)},Kt=()=>{if(!te||be.length===0){s({variant:"error",title:"Rapor verisi yok",description:"Once calisan, yil ve ay secip raporu yukleyin."});return}It(be[0])},Qt=()=>{if(Q(null),!D)return Q("Duzeltme icin tarih secmelisiniz."),!1;if($==="NORMAL"){if(!B&&!G)return Q("Normal gun icin en az bir saat bilgisi girin."),!1;if(B&&G&&G<B)return Q("Cikis saati giris saatinden kucuk olamaz."),!1}return he==="SHIFT"&&!ce?(Q("Vardiya kurali icin bir vardiya secmelisiniz."),!1):!0},dt=O=>{O.preventDefault(),te&&Qt()&&de.mutate({employeeId:Se,dayDate:D,inTime:B,outTime:G,status:$,ruleSource:he,ruleShiftId:ce,reason:ee})};if(se.isLoading)return n.jsx(Zt,{});if(se.isError)return n.jsx(Ct,{message:"Calisan listesi alinamadi."});const zt=se.data??[];return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Aylik Calisan Puantaj Raporu",description:"Gunluk giris/cikis ve fazla mesai bilgilerini inceleyin, HR icin manuel duzeltme yapin.",action:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:Kt,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Manuel Duzeltme"}),n.jsx("button",{type:"button",onClick:()=>{Fe()},disabled:T,className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:T?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner inline-spinner-dark","aria-hidden":"true"}),"Hazirlaniyor..."]}):"Excel Indir"}),n.jsx(ws,{to:"/reports/excel-export",className:"btn-secondary rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Gelismis Export"})]})}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[n.jsx(ds,{label:"Calisan",employees:zt,value:d.employeeId,onChange:O=>m(Me=>({...Me,employeeId:O})),emptyLabel:"Seciniz",helperText:"Calisan adini veya ID bilgisini yazabilirsiniz.",className:"md:col-span-2"}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Yil",n.jsx("input",{type:"number",value:d.year,onChange:O=>m(Me=>({...Me,year:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",n.jsx("input",{type:"number",value:d.month,onChange:O=>m(Me=>({...Me,month:O.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:O=>_(O.target.checked)}),"Sadece supheli gunleri goster"]})}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:ct,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),n.jsx("button",{type:"button",onClick:ae,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Pe.map(O=>n.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:O},O))})]}),te?null:n.jsx(Ct,{message:"Rapor icin calisan, yil ve ay secmelisiniz."}),I.isLoading?n.jsx(Zt,{}):null,I.isError?n.jsx(Ct,{message:Ue(I.error,"Aylik rapor alinamadi.").message}):null,I.data?n.jsxs(n.Fragment,{children:[n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Toplamlar"}),n.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["alan: ",Ke??`#${I.data.employee_id}`," | Dnem: ",ne]}),n.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"lenen Gn"}),n.jsx("p",{className:"text-lg font-semibold",children:At}),n.jsxs("p",{className:"text-xs text-slate-500",children:["zin: ",bt," | Tatil: ",St]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"pheli Oran"}),n.jsx("p",{className:"text-lg font-semibold",children:rn}),n.jsxs("p",{className:"text-xs text-slate-500",children:[Ae," / ",be.length," gn"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Filtrelenen Gn"}),n.jsx("p",{className:"text-lg font-semibold",children:mt.length}),n.jsx("p",{className:"text-xs text-slate-500",children:S?`akma: ${Ha(S).label}`:"Tm gnler"})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Vardiya Kayna"}),n.jsx("p",{className:"text-lg font-semibold",children:"SHIFT > WEEKLY > WORK_RULE"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Otomatik ncelik zinciri"})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Saat Dilimi"}),n.jsx("p",{className:"text-lg font-semibold",children:pu}),n.jsx("p",{className:"text-xs text-slate-500",children:"Tm saatler yerel zamanda gsterilir"})]})]}),n.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-7",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam alma"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.totals.worked_minutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Plan st Sre"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.totals.plan_overtime_minutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Sre"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.totals.legal_extra_work_minutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yasal Fazla Mesai"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.totals.legal_overtime_minutes})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[rt," gn"]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Eksik Gn"}),n.jsx("p",{className:"text-lg font-semibold",children:I.data.totals.incomplete_days})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"pheli Gn"}),n.jsx("p",{className:"text-lg font-semibold",children:Ae})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Eksik Sre"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:lt})})]})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Compliance (TR Is Kanunu)"}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Net Calisma"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.worked_minutes_net})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Fazla Mesai Kullanim"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.annual_overtime_used_minutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Kalan Fazla Mesai"}),n.jsx("p",{className:"text-lg font-semibold",children:n.jsx(qe,{minutes:I.data.annual_overtime_remaining_minutes})})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yillik Limit Durumu"}),n.jsx("p",{className:`text-sm font-semibold ${I.data.annual_overtime_cap_exceeded?"text-rose-700":"text-emerald-700"}`,children:I.data.annual_overtime_cap_exceeded?"Limit Asildi":"Limit Icinde"})]})]}),n.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Flag aciklamalari"}),n.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:S1().map(O=>n.jsxs("li",{children:[n.jsx("span",{className:"font-semibold",title:Ha(O).description,children:Ha(O).label})," ","(",O,"): ",Ha(O).description]},O))})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Cakisma Analizi"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vardiya, haftalik kural ve event siralamasi arasinda tutarsiz gorunen gunlerin ozeti."}),S?n.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 rounded-lg border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100",children:"Cakisma filtresini temizle"}):null,n.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Ee.map(O=>n.jsxs("button",{type:"button",onClick:()=>{w(Me=>Me===O.code?null:O.code),_(!0)},className:`rounded-lg border px-3 py-2 text-left transition ${S===O.code?"border-brand-500 bg-brand-50":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[n.jsx("p",{className:"text-xs text-slate-500",title:Ha(O.code).description,children:Ha(O.code).label}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:O.count})]},O.code))})]}),mt.length===0?n.jsx(Re,{children:n.jsx("p",{className:"text-sm text-slate-600",children:"Secilen filtreye uygun gunluk kayit bulunamadi."})}):n.jsxs(Re,{children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-xs text-slate-500",children:["Gsterilen satr: ",mt.length," / ",be.length]}),n.jsx("p",{className:"text-xs text-slate-500",children:"pucu: satra gre renk tonu kayt riskini gsterir (krmz: eksik, amber: pheli)."})]}),n.jsx("div",{className:"list-scroll-area overflow-x-auto",children:n.jsxs("table",{className:"min-w-[1480px] text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Tarih"}),n.jsx("th",{className:"py-2",children:"Gn"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Giris"}),n.jsx("th",{className:"py-2",children:"Cikis"}),n.jsx("th",{className:"py-2",children:"Calisma"}),n.jsx("th",{className:"py-2",children:"Plan Ustu"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Sure"}),n.jsx("th",{className:"py-2",children:"Yasal Fazla Mesai"}),n.jsx("th",{className:"py-2",children:"Eksik Sure"}),n.jsx("th",{className:"py-2",children:"Kural Kaynagi"}),n.jsx("th",{className:"py-2",children:"Vardiya"}),n.jsx("th",{className:"py-2",children:"Izin"}),n.jsx("th",{className:"py-2",children:"Supheli Neden"}),n.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),n.jsx("tbody",{children:mt.map(O=>{const Me=mf(O),$e=Me.length>0,yt=EM(Me),Bt=at.get(O.date),ht=hv(Bt),ln=O.flags.includes("MANUAL_OVERRIDE")||O.flags.includes("MANUAL_EVENT")||!!Bt,da=ht.status!=="NORMAL",yn=TM(O,$e);return n.jsxs("tr",{className:`border-t border-slate-100 ${yn}`,children:[n.jsx("td",{className:"py-2 font-medium text-slate-800",children:O.date}),n.jsx("td",{className:"py-2 text-xs uppercase text-slate-600",children:kM(O.date)}),n.jsxs("td",{className:"py-2",children:[n.jsx(er,{value:O.status}),ln?n.jsx("span",{className:"ml-2 inline-flex rounded-full bg-indigo-100 px-2 py-1 text-[11px] font-semibold text-indigo-700",children:"MANUEL"}):null,da?n.jsx("span",{className:"ml-2 inline-flex rounded-full bg-cyan-100 px-2 py-1 text-[11px] font-semibold text-cyan-700",children:SM[ht.status]}):null,n.jsx("span",{className:"ml-2",children:n.jsx(Lb,{suspicious:$e,tooltip:yt})})]}),n.jsx("td",{className:"py-2",title:O.in??void 0,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:dv(O.in)}),n.jsx("span",{className:"text-[11px] text-slate-500",children:mv(O.in)})]})}),n.jsx("td",{className:"py-2",title:O.out??void 0,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:dv(O.out)}),n.jsx("span",{className:"text-[11px] text-slate-500",children:mv(O.out)})]})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.worked_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.plan_overtime_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.legal_extra_work_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.legal_overtime_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:O.missing_minutes??0})}),n.jsx("td",{className:"py-2",children:n.jsx("span",{className:"inline-flex rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",title:`Oncelik: Vardiya > Haftalik > Temel | Plan: ${O.applied_planned_minutes} dk | Mola: ${O.applied_break_minutes} dk`,children:wM[O.rule_source]})}),n.jsx("td",{className:"py-2",children:O.shift_name??"-"}),n.jsx("td",{className:"py-2",children:O.leave_type??"-"}),n.jsx("td",{className:"py-2",children:n.jsx(Pb,{reasons:Me})}),n.jsx("td",{className:"py-2",children:n.jsx("button",{type:"button",onClick:()=>It(O),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Manuel Duzelt"})})]},O.date)})})]})})]})]}):null,n.jsx(Wi,{open:k,title:D?`${D} - Manuel Duzeltme`:"Manuel Duzeltme",onClose:()=>A(!1),placement:"right",maxWidthClass:"max-w-2xl",children:n.jsxs("form",{onSubmit:dt,className:"space-y-3",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Tarih",n.jsx("input",{type:"date",value:D,onChange:O=>F(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gun Durumu",n.jsxs("select",{value:$,onChange:O=>J(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"NORMAL",children:"Normal"}),n.jsx("option",{value:"IZINLI",children:"Izinli"}),n.jsx("option",{value:"RESMI_TATIL",children:"Resmi Tatil"}),n.jsx("option",{value:"CALISMADI",children:"Calismadi"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Kaynagi",n.jsxs("select",{value:he,onChange:O=>{const Me=O.target.value;xe(Me),Me!=="SHIFT"&&_e("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"AUTO",children:Gc.AUTO}),n.jsx("option",{value:"SHIFT",children:Gc.SHIFT}),n.jsx("option",{value:"WEEKLY",children:Gc.WEEKLY}),n.jsx("option",{value:"WORK_RULE",children:Gc.WORK_RULE})]})]}),he==="SHIFT"?n.jsxs("label",{className:"text-sm text-slate-700",children:["Kural Vardiyasi",n.jsxs("select",{value:ce,onChange:O=>_e(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Vardiya seciniz"}),(He.data??[]).map(O=>n.jsxs("option",{value:O.id,children:[O.name," (",O.start_time_local," - ",O.end_time_local,")"]},O.id))]})]}):null,n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Giris Saati",n.jsx("input",{type:"time",value:B,onChange:O=>R(O.target.value),disabled:$!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Cikis Saati",n.jsx("input",{type:"time",value:G,onChange:O=>Y(O.target.value),disabled:$!=="NORMAL",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),$==="NORMAL"?n.jsx("p",{className:"text-xs text-slate-500",children:"Uyari: Cikis saati giris saatinden kucuk olamaz."}):n.jsx("p",{className:"text-xs text-slate-500",children:"Bu secim gunu calisilmadi olarak isaretler; giris/cikis saatleri devre disi kalir."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gerekce / Not (opsiyonel)",n.jsx("input",{type:"text",value:ee,onChange:O=>q(O.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Saglik raporu / Sistem arizasi"})]}),H?n.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-medium text-amber-800",children:H}):null,n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"submit",disabled:de.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:de.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Kaydediliyor..."]}):"Kaydet"}),re?n.jsx("button",{type:"button",onClick:()=>je.mutate(re),disabled:je.isPending,className:"btn-danger rounded-lg bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-700 disabled:opacity-60",children:je.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Siliniyor..."]}):"Manuel Kaydi Sil"}):null]})]})})]})}const MM=Qa({full_name:na().min(2,"Ad soyad en az 2 karakter olmali."),region_id:hd([Ln().int().positive(),Df()]),department_id:hd([Ln().int().positive(),Df()]),is_active:Cd()});function zM(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState(""),[f,x]=b.useState(""),[v,_]=b.useState(!0),[S,w]=b.useState(""),[T,z]=b.useState(!1),[k,A]=b.useState(!1),[D,F]=b.useState(""),[B,R]=b.useState(""),[G,Y]=b.useState(null),ee=Ze({queryKey:["employees",k,D,B],queryFn:()=>ks({...k?{include_inactive:!0}:{},...D?{region_id:Number(D)}:{},...B?{department_id:Number(B)}:{}})}),q=Ze({queryKey:["departments"],queryFn:tr}),$=Ze({queryKey:["regions","employees-page"],queryFn:()=>hu({include_inactive:!0})}),J=Ye({mutationFn:lE,onSuccess:X=>{o(""),m(""),x(""),_(!0),Y(null),z(!1),s({variant:"success",title:"Calisan olusturuldu",description:`${X.full_name} basariyla eklendi.`}),e.invalidateQueries({queryKey:["employees"]})},onError:X=>{const M=Ue(X,"Calisan olusturulamadi.").message;Y(M),s({variant:"error",title:"Calisan olusturulamadi",description:M})}}),he=Ye({mutationFn:({employeeId:X,nextStatus:M})=>Nb(X,{is_active:M}),onSuccess:X=>{s({variant:"success",title:X.is_active?"Calisan arsivden cikarildi":"Calisan arsivlendi",description:`${X.full_name} icin durum guncellendi.`}),e.invalidateQueries({queryKey:["employees"]})},onError:X=>{const M=Ue(X,"Calisan durumu guncellenemedi.").message;s({variant:"error",title:"Islem basarisiz",description:M})}}),xe=X=>{X.preventDefault(),Y(null);const M=d.trim()===""?null:Number(d),te=f.trim()===""?null:Number(f),I=MM.safeParse({full_name:l,region_id:M,department_id:te,is_active:v});if(!I.success){const ue=I.error.issues[0]?.message??"Calisan formunu kontrol edin.";Y(ue),s({variant:"error",title:"Form hatasi",description:ue});return}J.mutate(I.data)},ce=ee.data??[],_e=q.data??[],re=$.data??[],oe=new Map(_e.map(X=>[X.id,X.name])),H=new Map(re.map(X=>[X.id,X.name])),Q=b.useMemo(()=>{const X=d?Number(d):null;return X?_e.filter(M=>M.region_id===X):_e},[_e,d]),se=b.useMemo(()=>{const X=D?Number(D):null;return X?_e.filter(M=>M.region_id===X):_e},[_e,D]),Se=b.useMemo(()=>{const X=S.trim().toLowerCase();return X?ce.filter(M=>M.full_name.toLowerCase().includes(X)):ce},[ce,S]);return ee.isLoading||q.isLoading||$.isLoading?n.jsx(Zt,{}):ee.isError||q.isError||$.isError?n.jsx(Ct,{message:"Calisan verileri alinamadi."}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Calisanlar",description:"Calisan kayitlarini bolge ve departman bazli yonetin.",action:n.jsx("button",{type:"button",onClick:()=>z(X=>!X),className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Yeni Calisan"})}),T?n.jsxs(Re,{children:[n.jsxs("form",{onSubmit:xe,className:"grid gap-3 md:grid-cols-5",children:[n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Ad Soyad",n.jsx("input",{value:l,onChange:X=>o(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Ada Lovelace"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge",n.jsxs("select",{value:d,onChange:X=>{m(X.target.value),x("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Atanmamis"}),re.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:f,onChange:X=>x(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Atanmamis"}),Q.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("label",{className:"flex items-center gap-2 pt-7 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:X=>_(X.target.checked)}),"Aktif"]}),n.jsxs("div",{className:"flex gap-2 md:col-span-5",children:[n.jsx("button",{type:"submit",disabled:J.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:J.isPending?"Kaydediliyor...":"Kaydet"}),n.jsx("button",{type:"button",onClick:()=>{z(!1),Y(null)},className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),G?n.jsx("div",{className:"form-validation",children:G}):null]}):null,n.jsxs(Re,{children:[n.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-5",children:[n.jsx(mi,{value:S,onChange:w,placeholder:"Calisan adina gore ara..."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bolge filtresi",n.jsxs("select",{value:D,onChange:X=>{F(X.target.value),R("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tum bolgeler"}),re.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman filtresi",n.jsxs("select",{value:B,onChange:X=>R(X.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tum departmanlar"}),se.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:k,onChange:X=>A(X.target.checked)}),"Arsivdekileri goster"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Calisan ID"}),n.jsx("th",{className:"py-2",children:"Ad Soyad"}),n.jsx("th",{className:"py-2",children:"Bolge"}),n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Islem"})]})}),n.jsx("tbody",{children:Se.map(X=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:X.id}),n.jsx("td",{className:"py-2",children:X.full_name}),n.jsx("td",{className:"py-2",children:X.region_name??(X.region_id?H.get(X.region_id):"-")??"-"}),n.jsx("td",{className:"py-2",children:X.department_id?oe.get(X.department_id):"-"}),n.jsx("td",{className:"py-2",children:n.jsx(er,{value:X.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ws,{to:`/employees/${X.id}`,onClick:()=>{sessionStorage.setItem("employee-detail-origin","employees"),sessionStorage.setItem("employee-detail-id",String(X.id))},className:"btn-secondary inline-flex rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),n.jsx("button",{type:"button",disabled:he.isPending,onClick:()=>{const M=!X.is_active;window.confirm(M?`${X.full_name} arsivden cikarilsin mi?`:`${X.full_name} arsivlensin mi?`)&&he.mutate({employeeId:X.id,nextStatus:M})},className:`inline-flex rounded-lg px-3 py-1 text-xs font-medium text-white ${X.is_active?"btn-danger bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:X.is_active?"Arsivle":"Arsivden Cikar"})]})})]},X.id))})]})}),Se.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun calisan bulunamadi."}):null]})]})}const OM=Qa({employee_id:Ln().int().positive(),start_date:na().min(1),end_date:na().min(1),type:Lf(["ANNUAL","SICK","UNPAID","EXCUSE","PUBLIC_HOLIDAY"]),status:Lf(["APPROVED","PENDING","REJECTED"]).default("APPROVED"),note:na().trim().optional()}).refine(e=>e.end_date>=e.start_date,{message:"Biti tarihi balang tarihinden kk olamaz.",path:["end_date"]});function DM(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState(""),[f,x]=b.useState(""),[v,_]=b.useState("ANNUAL"),[S,w]=b.useState("APPROVED"),[T,z]=b.useState(""),[k,A]=b.useState(null),[D,F]=b.useState(""),[B,R]=b.useState(String(new Date().getFullYear())),[G,Y]=b.useState(String(new Date().getMonth()+1)),ee=Ze({queryKey:["employees"],queryFn:()=>ks({include_inactive:!0,status:"all"})}),q=b.useMemo(()=>{const oe=Number(D),H=Number(B),Q=Number(G);return{employee_id:Number.isFinite(oe)&&oe>0?oe:void 0,year:Number.isFinite(H)&&H>0?H:void 0,month:Number.isFinite(Q)&&Q>0?Q:void 0}},[D,B,G]),$=Ze({queryKey:["leaves",q.employee_id??"all",q.year??"all",q.month??"all"],queryFn:()=>Mb(q)}),J=Ye({mutationFn:XE,onSuccess:oe=>{m(""),x(""),_("ANNUAL"),w("APPROVED"),z(""),A(null),s({variant:"success",title:"zin kayd oluturuldu",description:`zin #${oe.id} kaydedildi.`}),e.invalidateQueries({queryKey:["leaves"]})},onError:oe=>{const H=Ue(oe,"zin kayd oluturulamad.");A(H.message),s({variant:"error",title:"zin oluturulamad",description:H.message})}}),he=Ye({mutationFn:JE,onSuccess:(oe,H)=>{s({variant:"success",title:"zin kayd silindi",description:`zin #${H} silindi.`}),e.invalidateQueries({queryKey:["leaves"]})},onError:oe=>{const H=Ue(oe,"zin silinemedi.");s({variant:"error",title:"zin silinemedi",description:H.message})}}),xe=oe=>{oe.preventDefault(),A(null);const H=OM.safeParse({employee_id:l,start_date:d,end_date:f,type:v,status:S,note:T});if(!H.success){const Q=H.error.issues[0]?.message??"zin formunu kontrol edin.";A(Q),s({variant:"error",title:"Form hatas",description:Q});return}J.mutate({...H.data,note:H.data.note||null})};if(ee.isLoading)return n.jsx(Zt,{});if(ee.isError)return n.jsx(Ct,{message:"alan listesi alnamad."});const ce=ee.data??[],_e=$.data??[],re=new Map(ce.map(oe=>[oe.id,oe.full_name]));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"zin Kaytlar",description:"Yllk izin, rapor ve mazeret kaytlarn ynetin."}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Yeni zin Kayd"}),n.jsxs("form",{onSubmit:xe,className:"mt-4 grid gap-3 md:grid-cols-3",children:[n.jsx(ds,{label:"alan",employees:ce,value:l,onChange:o,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",n.jsx("input",{type:"date",value:d,onChange:oe=>m(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",n.jsx("input",{type:"date",value:f,onChange:oe=>x(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["zin Tipi",n.jsxs("select",{value:v,onChange:oe=>_(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"ANNUAL",children:"YILLIK ZN"}),n.jsx("option",{value:"SICK",children:"RAPOR / HASTALIK"}),n.jsx("option",{value:"UNPAID",children:"CRETSZ ZN"}),n.jsx("option",{value:"EXCUSE",children:"MAZERET ZN"}),n.jsx("option",{value:"PUBLIC_HOLIDAY",children:"RESM TATL"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Onay Durumu",n.jsxs("select",{value:S,onChange:oe=>w(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"APPROVED",children:"ONAYLI"}),n.jsx("option",{value:"PENDING",children:"BEKLEMEDE"}),n.jsx("option",{value:"REJECTED",children:"REDDEDLD"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-3",children:["Aklama Notu",n.jsx("textarea",{value:T,onChange:oe=>z(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:3})]}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",disabled:J.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:J.isPending?"Kaydediliyor...":"zin Kaydn Olutur"})})]}),k?n.jsx("div",{className:"form-validation",children:k}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"zin Listesi Filtreleri"}),n.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[n.jsx(ds,{label:"alan",employees:ce,value:D,onChange:F,emptyLabel:"Tm",helperText:"alana gre filtreleyin."}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",n.jsx("input",{value:B,onChange:oe=>R(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",n.jsx("input",{value:G,onChange:oe=>Y(oe.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),$.isLoading?n.jsx(Zt,{}):null,$.isError?n.jsx(Ct,{message:"zin listesi alnamad."}):null,!$.isLoading&&!$.isError?n.jsxs(Re,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"zin ID"}),n.jsx("th",{className:"py-2",children:"alan"}),n.jsx("th",{className:"py-2",children:"zin Tipi"}),n.jsx("th",{className:"py-2",children:"Tarih Aral"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"lem"})]})}),n.jsx("tbody",{children:_e.map(oe=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:oe.id}),n.jsx("td",{className:"py-2",children:re.get(oe.employee_id)??oe.employee_id}),n.jsx("td",{className:"py-2",children:oe.type}),n.jsxs("td",{className:"py-2",children:[oe.start_date," - ",oe.end_date]}),n.jsx("td",{className:"py-2",children:n.jsx(er,{value:oe.status})}),n.jsx("td",{className:"py-2",children:n.jsx("button",{type:"button",onClick:()=>he.mutate(oe.id),className:"btn-danger rounded-lg border border-rose-300 px-3 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Sil"})})]},oe.id))})]})}),_e.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"zin kayd bulunamad."}):null]}):null]})}const RM=Qa({username:na().min(1,"Kullanici adi gerekli."),password:na().min(1,"Sifre gerekli."),mfaCode:na().optional(),mfaRecoveryCode:na().optional()});function LM(e){return e.code==="INVALID_CREDENTIALS"?"Giris bilgileri hatali":e.code==="MFA_REQUIRED"?"MFA kodu gerekli":e.code==="INVALID_MFA_CODE"?"MFA kodu gecersiz":e.code==="MFA_SETUP_REQUIRED"?"MFA kurulumu gerekli":e.code==="TOO_MANY_ATTEMPTS"?"Cok fazla deneme":e.code==="INTERNAL_ERROR"?"Sunucu hatasi":"Giris basarisiz"}function PM(){const e=Hl(),s=hs(),{login:l}=Ql(),[o,d]=b.useState("admin"),[m,f]=b.useState(""),[x,v]=b.useState(""),[_,S]=b.useState(""),[w,T]=b.useState(null),[z,k]=b.useState(!1),A=b.useMemo(()=>{const F=s.state?.from,B=new URLSearchParams(s.search).get("redirect");return F??B??"/dashboard"},[s.search,s.state]),D=async F=>{F.preventDefault(),T(null);const B=RM.safeParse({username:o,password:m,mfaCode:x,mfaRecoveryCode:_});if(!B.success){T({message:B.error.issues[0]?.message??"Form alanlarini kontrol et."});return}k(!0);try{await l(B.data.username,B.data.password,B.data.mfaCode,B.data.mfaRecoveryCode),e(A,{replace:!0})}catch(R){T(Ue(R,"Giris basarisiz."))}finally{k(!1)}};return n.jsx("div",{className:"admin-auth-screen flex min-h-screen items-center justify-center px-4",children:n.jsxs("div",{className:"admin-auth-card w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-panel",children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Giris"}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Puantaj yonetim paneline giris yap."}),n.jsxs("form",{onSubmit:D,className:"mt-6 space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Kullanici Adi"}),n.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:o,onChange:F=>d(F.target.value)})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Sifre"}),n.jsx("input",{type:"password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:m,onChange:F=>f(F.target.value)})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"MFA Kodu (gerekliyse)"}),n.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:x,onChange:F=>v(F.target.value),placeholder:"6 haneli kod"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Recovery Kodu (MFA yoksa)"}),n.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm outline-none ring-brand-200 focus:border-brand-500 focus:ring",value:_,onChange:F=>S(F.target.value),placeholder:"Ornek: ABCDE-FGHIJ"})]}),w?n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[n.jsx("p",{className:"font-semibold",children:LM(w)}),n.jsx("p",{className:"mt-1",children:w.message}),w.requestId?n.jsxs("p",{className:"mt-2 font-mono text-xs text-rose-800",children:["request_id: ",w.requestId]}):null]}):null,n.jsx("button",{type:"submit",disabled:z,className:"btn-animated w-full rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:z?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Giris yapiliyor..."]}):"Giris Yap"})]}),n.jsxs("p",{className:"admin-auth-signature mt-5 text-center text-xs tracking-wide text-slate-500",children:[us.signatureText," | BUILD: ",us.buildVersion]})]})})}const IM=[{to:"/employees",label:"alan Ynetimi",description:"Personel kart, ariv ve profil ynetimi.",code:"CMD-EMP"},{to:"/attendance-events",label:"Puantaj Kaytlar",description:"Giri-k olaylar ve manuel dzeltme.",code:"CMD-ATT"},{to:"/devices",label:"Cihaz Kontrol",description:"Cihaz aktivasyonu ve eriim denetimi.",code:"CMD-DEV"},{to:"/notifications",label:"Bildirim Merkezi",description:"Toplu/tekli push ve teslimat loglar.",code:"CMD-NOT"},{to:"/reports/employee-monthly",label:"Aylk alan Raporu",description:"alma ve fazla mesai analizi.",code:"CMD-RPT"},{to:"/audit-logs",label:"Sistem Loglar",description:"z kayd ve gvenlik denetimi.",code:"CMD-AUD"}];function Vc(e){return e?new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"short"}).format(new Date(e)):"-"}function BM(e){const s=new Date(e);return Number.isNaN(s.getTime())?"":s.toLocaleDateString("sv-SE",{timeZone:"Europe/Istanbul"})}function UM(e){const s=new Date(`${e}T00:00:00Z`);return Number.isNaN(s.getTime())?"Hafta i":s.getUTCDay()===0?"Pazar":"Hafta i"}function FM(e){return e==="NOT_STARTED"?"Balamad":e==="IN_PROGRESS"?"Mesai Devam Ediyor":"Mesai Tamamland"}function ZM(){const{pushToast:e}=ia(),s=new Date,[l,o]=b.useState("Ynetim Konsolu Bildirimi"),[d,m]=b.useState(""),[f,x]=b.useState(""),[v,_]=b.useState("bulk"),[S,w]=b.useState(""),[T,z]=b.useState([]),[k,A]=b.useState(""),[D,F]=b.useState(String(s.getFullYear())),[B,R]=b.useState(String(s.getMonth()+1)),G=Ze({queryKey:["employees","management-console"],queryFn:()=>ks({status:"all",include_inactive:!0}),refetchInterval:3e4}),Y=Ze({queryKey:["devices","management-console"],queryFn:Cb,refetchInterval:3e4}),ee=Ze({queryKey:["attendance-events","management-console"],queryFn:()=>ip({limit:20}),refetchInterval:2e4}),q=Ze({queryKey:["employee-device-overview","management-console"],queryFn:()=>Mf({limit:12,device_limit:2,include_inactive:!1}),refetchInterval:2e4}),$=Ze({queryKey:["dashboard-employee-snapshot","management-console",k],queryFn:()=>Ab({employee_id:Number(k)}),enabled:!!k,staleTime:15e3}),J=Number(D),he=Number(B),xe=Number.isInteger(J)&&Number.isInteger(he)&&he>=1&&he<=12,ce=Ze({queryKey:["management-console-control-monthly",k,J,he],queryFn:()=>nu({employee_id:Number(k),year:J,month:he}),enabled:!!k&&xe,staleTime:15e3}),_e=Ye({mutationFn:Tb,onSuccess:be=>{e({variant:"success",title:"Bildirim gnderildi",description:`Hedef: ${be.total_targets} / Gnderilen: ${be.sent}`}),m(""),v==="single"&&(z([]),w(""))},onError:be=>{const lt=Ue(be,"Bildirim gnderimi baarsz.");e({variant:"error",title:"Gnderim baarsz",description:lt.message})}}),re=G.data??[],oe=Y.data??[],H=ee.data??[],Q=q.data??[],se=ce.data?.days??[],Se=b.useMemo(()=>lp(se),[se]),X=b.useMemo(()=>new Map(re.map(be=>[be.id,be])),[re]),M=b.useMemo(()=>re.filter(be=>be.is_active).length,[re]),te=b.useMemo(()=>oe.filter(be=>be.is_active).length,[oe]),I=b.useMemo(()=>H.filter(be=>be.location_status==="VERIFIED_HOME").length,[H]),ue=b.useMemo(()=>re.find(be=>String(be.id)===S)??null,[re,S]),de=b.useMemo(()=>new Map(se.map(be=>[be.date,be])),[se]),je=Number(k),ze=b.useMemo(()=>H.slice(0,14).map(be=>{const lt=BM(be.ts_utc),mt=be.employee_id===je&&lt?de.get(lt):void 0;return{event:be,dayTypeLabel:mt?Sd(mt).label:UM(lt),workedMinutes:mt?.worked_minutes??null,planOvertimeMinutes:mt?.plan_overtime_minutes??null,legalOvertimeMinutes:mt?.legal_overtime_minutes??null}}),[H,je,de]),Ke=()=>{const be=Number(S);if(!Number.isInteger(be)||be<=0){e({variant:"error",title:"Hedef eklenemedi",description:"nce alan sein."});return}if(T.includes(be)){e({variant:"info",title:"Hedef zaten eklendi",description:`#${be} listede var.`});return}z(lt=>[...lt,be]),w("")},He=be=>{z(lt=>lt.filter(mt=>mt!==be))},at=be=>{if(be.preventDefault(),!l.trim()||!d.trim()||!f.trim()){e({variant:"error",title:"Eksik alan",description:"Balk, mesaj ve ynetici ifresi zorunludur."});return}if(v==="single"&&T.length===0){e({variant:"error",title:"Hedef seilmedi",description:"Tekli bildirim iin en az bir alan sein."});return}_e.mutate({title:l.trim(),message:d.trim(),password:f.trim(),target:"employees",employee_ids:v==="single"?T:void 0})};return G.isLoading||Y.isLoading||ee.isLoading||q.isLoading?n.jsx(Zt,{label:"Ynetim konsolu ykleniyor..."}):G.isError||Y.isError||ee.isError||q.isError?n.jsx(Ct,{message:"Ynetim konsolu verileri alnamad."}):n.jsxs("div",{className:"management-console-screen space-y-4",children:[n.jsx(Hn,{title:"Ynetim Konsolu",description:"Tek merkezden bildirim, puantaj, konum ve cihaz operasyonlarn disiplinli akla ynetin."}),n.jsxs("div",{className:"management-console-kpi-grid",children:[n.jsxs(Re,{className:"management-console-kpi-card",children:[n.jsx("p",{className:"management-console-kpi-label",children:"Toplam alan"}),n.jsx("p",{className:"management-console-kpi-value",children:re.length}),n.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",M]})]}),n.jsxs(Re,{className:"management-console-kpi-card",children:[n.jsx("p",{className:"management-console-kpi-label",children:"Toplam Cihaz"}),n.jsx("p",{className:"management-console-kpi-value",children:oe.length}),n.jsxs("p",{className:"management-console-kpi-meta",children:["Aktif: ",te]})]}),n.jsxs(Re,{className:"management-console-kpi-card",children:[n.jsx("p",{className:"management-console-kpi-label",children:"Canl Olay Ak"}),n.jsx("p",{className:"management-console-kpi-value",children:H.length}),n.jsxs("p",{className:"management-console-kpi-meta",children:["Dorulanm konum: ",I]})]}),n.jsxs(Re,{className:"management-console-kpi-card",children:[n.jsx("p",{className:"management-console-kpi-label",children:"Cihaz Grnm Satr"}),n.jsx("p",{className:"management-console-kpi-value",children:Q.length}),n.jsxs("p",{className:"management-console-kpi-meta",children:["Son yenileme: ",Vc(new Date().toISOString())]})]})]}),n.jsxs(Re,{className:"management-console-panel",children:[n.jsx("h4",{className:"management-console-title",children:"Komut Merkezi"}),n.jsx("p",{className:"management-console-subtitle",children:"Dank ekranlar arasnda dolamak yerine kritik ynetim modllerine tek panelden eriin."}),n.jsx("div",{className:"management-console-command-grid",children:IM.map(be=>n.jsxs(ws,{to:be.to,className:"management-console-command-card",children:[n.jsx("span",{className:"management-console-command-code",children:be.code}),n.jsx("p",{className:"management-console-command-label",children:be.label}),n.jsx("p",{className:"management-console-command-desc",children:be.description})]},be.to))})]}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-[1.06fr_1.35fr]",children:[n.jsxs(Re,{className:"management-console-panel",children:[n.jsx("h4",{className:"management-console-title",children:"Bildirim Terminali"}),n.jsx("p",{className:"management-console-subtitle",children:"Toplu veya tekli bildirim gnderimini ayn terminalden yrtn."}),n.jsxs("form",{className:"management-console-terminal mt-3 space-y-3",onSubmit:at,children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"text-sm",children:[n.jsx("span",{className:"management-console-field-label",children:"Gnderim Modu"}),n.jsxs("select",{value:v,onChange:be=>_(be.target.value),className:"management-console-input mt-1",children:[n.jsx("option",{value:"bulk",children:"Toplu (Tm alanlar)"}),n.jsx("option",{value:"single",children:"Tekli (Seili alanlar)"})]})]}),n.jsxs("label",{className:"text-sm",children:[n.jsx("span",{className:"management-console-field-label",children:"Ynetici ifresi"}),n.jsx("input",{type:"password",value:f,onChange:be=>x(be.target.value),className:"management-console-input mt-1",placeholder:"ifre"})]})]}),n.jsxs("label",{className:"text-sm",children:[n.jsx("span",{className:"management-console-field-label",children:"Balk"}),n.jsx("input",{value:l,onChange:be=>o(be.target.value),className:"management-console-input mt-1",placeholder:"Bildirim bal"})]}),n.jsxs("label",{className:"text-sm",children:[n.jsx("span",{className:"management-console-field-label",children:"Mesaj"}),n.jsx("textarea",{rows:4,value:d,onChange:be=>m(be.target.value),className:"management-console-input mt-1",placeholder:"Mesaj ierii"})]}),v==="single"?n.jsxs("div",{className:"space-y-2",children:[n.jsx(ds,{label:"Hedef alan",employees:re,value:S,onChange:w,helperText:"alan seip listeye ekleyin."}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("button",{type:"button",onClick:Ke,className:"management-console-action-button",children:"Hedefe Ekle"}),ue?n.jsxs("span",{className:"management-console-inline-note",children:["Seili: #",ue.id," - ",ue.full_name]}):null]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:T.length===0?n.jsx("span",{className:"management-console-inline-note",children:"Henz hedef alan eklenmedi."}):T.map(be=>n.jsxs("button",{type:"button",onClick:()=>He(be),className:"management-console-chip",children:["#",be," - ",X.get(be)?.full_name??"alan"," "]},be))})]}):n.jsx("p",{className:"management-console-inline-note",children:"Toplu mod: Aktif/Pasif ayrm olmadan tm alanlara gnderilir."}),n.jsx("button",{type:"submit",disabled:_e.isPending,className:"management-console-send-button",children:_e.isPending?"Gnderiliyor...":"Bildirimi Gnder"})]})]}),n.jsxs(Re,{className:"management-console-panel",children:[n.jsx("h4",{className:"management-console-title",children:"alan Kontrol Odas"}),n.jsx("p",{className:"management-console-subtitle",children:"Tek alan iin puantaj, konum ve cihaz metriklerini anlk izleyin."}),n.jsxs("div",{className:"management-console-terminal mt-3 space-y-3",children:[n.jsx(ds,{label:"Kontrol edilecek alan",employees:re,value:k,onChange:A,helperText:"Seildiinde puantaj ve konum panelleri otomatik gncellenir."}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("label",{className:"text-sm",children:[n.jsx("span",{className:"management-console-field-label",children:"Yl"}),n.jsx("input",{type:"number",value:D,onChange:be=>F(be.target.value),className:"management-console-input mt-1"})]}),n.jsxs("label",{className:"text-sm",children:[n.jsx("span",{className:"management-console-field-label",children:"Ay"}),n.jsx("input",{type:"number",min:1,max:12,value:B,onChange:be=>R(be.target.value),className:"management-console-input mt-1"})]})]}),k?null:n.jsx("p",{className:"management-console-inline-note",children:"alan seildiinde canl zet burada grnr."}),k&&!xe?n.jsx("p",{className:"management-console-inline-note",children:"Yl/ay deeri geersiz."}):null,k&&$.isLoading?n.jsx(Zt,{label:"Canl zet ykleniyor..."}):null,k&&$.isError?n.jsx(Ct,{message:"alan zeti alnamad."}):null,$.data?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"management-console-strip",children:[n.jsx("span",{className:"management-console-strip-tag",children:"Durum"}),n.jsx("span",{children:FM($.data.today_status)})]}),n.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"Bu Ay"}),n.jsxs("p",{children:["Net alma: ",n.jsx(qe,{minutes:$.data.current_month.worked_minutes})]}),n.jsxs("p",{children:["Plan Ustu Sure: ",n.jsx(qe,{minutes:$.data.current_month.plan_overtime_minutes})]}),n.jsxs("p",{children:["Yasal Fazla Sure: ",n.jsx(qe,{minutes:$.data.current_month.extra_work_minutes})]}),n.jsxs("p",{children:["Yasal Fazla Mesai: ",n.jsx(qe,{minutes:$.data.current_month.overtime_minutes})]})]}),n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"nceki Ay"}),n.jsxs("p",{children:["Net alma: ",n.jsx(qe,{minutes:$.data.previous_month.worked_minutes})]}),n.jsxs("p",{children:["Plan Ustu Sure: ",n.jsx(qe,{minutes:$.data.previous_month.plan_overtime_minutes})]}),n.jsxs("p",{children:["Yasal Fazla Sure: ",n.jsx(qe,{minutes:$.data.previous_month.extra_work_minutes})]}),n.jsxs("p",{children:["Yasal Fazla Mesai: ",n.jsx(qe,{minutes:$.data.previous_month.overtime_minutes})]})]})]}),ce.isLoading?n.jsx(Zt,{label:"Aylk puantaj ykleniyor..."}):null,ce.isError?n.jsx(Ct,{message:"Aylk puantaj alnamad."}):null,ce.data?n.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"allan Gn"}),n.jsxs("p",{children:[Se.workedDayCount," gn"]}),n.jsxs("p",{children:["Hafta i: ",Se.weekdayWorkedDayCount]})]}),n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"Pazar Mesaisi"}),n.jsxs("p",{children:[Se.sundayWorkedDayCount," gn"]}),n.jsx("p",{children:n.jsx(qe,{minutes:Se.sundayWorkedMinutes})})]}),n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"zel Gn Mesaisi"}),n.jsxs("p",{children:[Se.specialWorkedDayCount," gn"]}),n.jsx("p",{children:n.jsx(qe,{minutes:Se.specialWorkedMinutes})})]})]}):null,n.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"Son Puantaj"}),$.data.last_event?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["Tip: ",$.data.last_event.event_type]}),n.jsxs("p",{children:["Zaman: ",Vc($.data.last_event.ts_utc)]}),n.jsxs("p",{children:["Konum Durumu: ",$.data.last_event.location_status]})]}):n.jsx("p",{children:"Kayt bulunmuyor."})]}),n.jsxs("div",{className:"management-console-block",children:[n.jsx("p",{className:"management-console-block-title",children:"Son Konum"}),$.data.latest_location?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["Koordinat: ",$.data.latest_location.lat.toFixed(6),", ",$.data.latest_location.lon.toFixed(6)]}),n.jsxs("p",{children:["Doruluk: ",$.data.latest_location.accuracy_m??"-"," m"]}),n.jsxs("p",{children:["Zaman: ",Vc($.data.latest_location.ts_utc)]})]}):n.jsx("p",{children:"Konum verisi yok."})]})]}),n.jsxs("div",{className:"management-console-strip",children:[n.jsx("span",{className:"management-console-strip-tag",children:"Cihaz"}),n.jsxs("span",{children:["Aktif ",$.data.active_devices," / Toplam ",$.data.total_devices]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ws,{to:`/employees/${$.data.employee.id}`,className:"management-console-action-button",children:"alan Detayn A"}),n.jsx(ws,{to:"/attendance-events",className:"management-console-action-button",children:"Puantaj Olaylarna Git"}),n.jsx(ws,{to:"/devices",className:"management-console-action-button",children:"Cihaz Paneline Git"})]})]}):null]})]})]}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[n.jsxs(Re,{className:"management-console-panel",children:[n.jsx("h4",{className:"management-console-title",children:"Cihaz Eriim Ak"}),n.jsx("p",{className:"management-console-subtitle",children:"alan baznda cihaz younluu ve aktif cihaz oran."}),n.jsx("div",{className:"management-console-table-wrap list-scroll-area mt-3",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"alan"}),n.jsx("th",{children:"Departman"}),n.jsx("th",{children:"Aktif/Toplam"}),n.jsx("th",{children:"lem"})]})}),n.jsx("tbody",{children:Q.slice(0,10).map(be=>n.jsxs("tr",{children:[n.jsxs("td",{className:"py-2",children:["#",be.employee_id," - ",be.employee_name]}),n.jsx("td",{children:be.department_name??"-"}),n.jsxs("td",{children:[be.active_devices,"/",be.total_devices]}),n.jsx("td",{children:n.jsx(ws,{className:"management-console-link",to:`/employees/${be.employee_id}`,children:"Detay"})})]},be.employee_id))})]})})]}),n.jsxs(Re,{className:"management-console-panel",children:[n.jsx("h4",{className:"management-console-title",children:"Canl Puantaj Kayd"}),n.jsx("p",{className:"management-console-subtitle",children:"Son giri-k olaylar ile gn tipi, gnlk alma, plan st sre ve yasal fazla mesai grnm."}),n.jsx("div",{className:"management-console-table-wrap list-scroll-area mt-3",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Zaman"}),n.jsx("th",{children:"alan"}),n.jsx("th",{children:"Gn Tipi"}),n.jsx("th",{children:"Tip"}),n.jsx("th",{children:"Konum"}),n.jsx("th",{children:"Gnlk alma"}),n.jsx("th",{children:"Plan st"}),n.jsx("th",{children:"Yasal FM"})]})}),n.jsx("tbody",{children:ze.map(be=>n.jsxs("tr",{children:[n.jsx("td",{className:"py-2",children:Vc(be.event.ts_utc)}),n.jsxs("td",{children:["#",be.event.employee_id," - ",X.get(be.event.employee_id)?.full_name??"alan"]}),n.jsx("td",{children:be.dayTypeLabel}),n.jsx("td",{children:be.event.type}),n.jsx("td",{children:be.event.location_status}),n.jsx("td",{children:be.workedMinutes===null?"-":n.jsx(qe,{minutes:be.workedMinutes})}),n.jsx("td",{children:be.planOvertimeMinutes===null?"-":n.jsx(qe,{minutes:be.planOvertimeMinutes})}),n.jsx("td",{children:be.legalOvertimeMinutes===null?"-":n.jsx(qe,{minutes:be.legalOvertimeMinutes})})]},be.event.id))})]})})]})]})]})}function qM(){return n.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm",children:[n.jsx("p",{className:"text-4xl font-bold text-slate-900",children:"404"}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sayfa bulunamadi."}),n.jsx(ws,{to:"/dashboard",className:"mt-5 inline-block rounded-lg bg-brand-600 px-4 py-2 text-sm text-white hover:bg-brand-700",children:"Dashboard'a dn"}),n.jsx("p",{className:"mt-5 text-center text-xs tracking-wide text-slate-500",children:us.signatureText})]})})}function fv(e,s){const l=URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=s,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(l)}function HM(){const{pushToast:e}=ia(),s=new Date,[l,o]=b.useState("employee"),[d,m]=b.useState(""),[f,x]=b.useState(""),[v,_]=b.useState(""),[S,w]=b.useState(String(s.getFullYear())),[T,z]=b.useState(String(s.getMonth()+1)),[k,A]=b.useState(""),[D,F]=b.useState(""),[B,R]=b.useState(!0),[G,Y]=b.useState(!1),[ee,q]=b.useState(""),[$,J]=b.useState(""),[he,xe]=b.useState("consolidated"),[ce,_e]=b.useState(""),[re,oe]=b.useState(""),[H,Q]=b.useState(""),se=Ze({queryKey:["employees","all"],queryFn:()=>ks({status:"all",include_inactive:!0})}),Se=Ze({queryKey:["departments"],queryFn:tr}),X=Ze({queryKey:["regions","all","for-export"],queryFn:()=>hu({include_inactive:!0})}),M=Ye({mutationFn:i1,onSuccess:Ae=>{fv(Ae,`puantaj-${l}-${Date.now()}.xlsx`),e({variant:"success",title:"Excel indirildi",description:"Puantaj Excel dosyas baaryla indirildi."})},onError:Ae=>{e({variant:"error",title:"Da aktarma baarsz",description:Ue(Ae,"Excel dosyas retilemedi.").message})}}),te=Ye({mutationFn:u1,onSuccess:Ae=>{fv(Ae,`puantaj-range-${he}-${Date.now()}.xlsx`),e({variant:"success",title:"Aralkl Excel indirildi",description:"Tarih aral da aktarma dosyas indirildi."})},onError:Ae=>{e({variant:"error",title:"Tarih aral da aktarma baarsz",description:Ue(Ae,"Excel dosyas retilemedi.").message})}}),I=b.useMemo(()=>{const Ae=Number(S),rt=Number(T),bt=Number(d),St=Number(f),At=Number(v);return l==="employee"?!bt||!Ae||!rt?null:{mode:l,employee_id:bt,year:Ae,month:rt}:l==="department"?!St||!Ae||!rt?null:{mode:l,department_id:St,year:Ae,month:rt,include_daily_sheet:B,include_inactive:G}:l==="all"?!Ae||!rt?null:{mode:l,year:Ae,month:rt,region_id:At||void 0,include_daily_sheet:B,include_inactive:G}:!k||!D?null:{mode:l,start_date:k,end_date:D,employee_id:bt||void 0,department_id:St||void 0,region_id:At||void 0,include_inactive:G}},[l,d,f,v,S,T,k,D,B,G]),ue=b.useMemo(()=>{const Ae=Number(H),rt=Number(ce),bt=Number(re);return!ee||!$?null:{start_date:ee,end_date:$,mode:he,employee_id:Ae>0?Ae:void 0,department_id:rt>0?rt:void 0,region_id:bt>0?bt:void 0}},[ee,$,he,H,ce,re]),de=()=>{if(!I){e({variant:"error",title:"Eksik filtre",description:"Setiiniz da aktarma tipine gre gerekli alanlar doldurun."});return}M.mutate(I)},je=()=>{if(!ue){e({variant:"error",title:"Eksik tarih aral filtresi",description:"Balang, biti ve gerekli filtreleri doldurun."});return}te.mutate(ue)};if(se.isLoading||Se.isLoading||X.isLoading)return n.jsx(Zt,{});if(se.isError||Se.isError||X.isError)return n.jsx(Ct,{message:"alan/departman/blge bilgileri alnamad."});const ze=se.data??[],Ke=Se.data??[],He=X.data??[],at=v?Number(v):null,be=re?Number(re):null,lt=at&&Number.isFinite(at)?Ke.filter(Ae=>Ae.region_id===at):Ke,mt=be&&Number.isFinite(be)?Ke.filter(Ae=>Ae.region_id===be):Ke;return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Puantaj Excel Da Aktar",description:"Mevcut endpoint veya tarih aral endpointi ile Excel da aktarm yapn."}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Export Endpointi"}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Da aktarma tipi",n.jsxs("select",{value:l,onChange:Ae=>o(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"employee",children:"alan Bazl"}),n.jsx("option",{value:"department",children:"Departman Bazl"}),n.jsx("option",{value:"all",children:"Tm alanlar (Aylk)"}),n.jsx("option",{value:"date_range",children:"Tarih Aral (Mevcut)"})]})]}),(l==="employee"||l==="date_range")&&n.jsx(ds,{label:"alan",employees:ze,value:d,onChange:m,emptyLabel:"Seiniz",helperText:"Ad-soyad veya ID ile arayn."}),(l==="department"||l==="date_range")&&n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:f,onChange:Ae=>x(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seiniz"}),lt.map(Ae=>n.jsxs("option",{value:Ae.id,children:["#",Ae.id," - ",Ae.name]},Ae.id))]})]}),(l==="all"||l==="date_range")&&n.jsxs("label",{className:"text-sm text-slate-700",children:["Blge (opsiyonel)",n.jsxs("select",{value:v,onChange:Ae=>{_(Ae.target.value),x("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tm"}),He.map(Ae=>n.jsxs("option",{value:Ae.id,children:["#",Ae.id," - ",Ae.name]},Ae.id))]})]}),(l==="employee"||l==="department"||l==="all")&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Yl",n.jsx("input",{type:"number",value:S,onChange:Ae=>w(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Ay",n.jsx("input",{type:"number",value:T,onChange:Ae=>z(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),l==="date_range"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",n.jsx("input",{type:"date",value:k,onChange:Ae=>A(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",n.jsx("input",{type:"date",value:D,onChange:Ae=>F(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),(l==="department"||l==="all")&&n.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:B,onChange:Ae=>R(Ae.target.checked)}),"Gnlk sheetleri de ekle"]}),n.jsxs("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:G,onChange:Ae=>Y(Ae.target.checked)}),"Arivdeki alanlar dahil et"]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{type:"button",onClick:de,disabled:M.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:M.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Excel ndir"})})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Tarih Aral (Yeni Endpoint)"}),n.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Endpoint: ",n.jsx("code",{children:"/api/admin/export/puantaj-range.xlsx"})]}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Balang Tarihi",n.jsx("input",{type:"date",value:ee,onChange:Ae=>q(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Biti Tarihi",n.jsx("input",{type:"date",value:$,onChange:Ae=>J(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Sheet modu",n.jsxs("select",{value:he,onChange:Ae=>xe(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"consolidated",children:"Tek Konsolide Sheet"}),n.jsx("option",{value:"employee_sheets",children:"alan Bazl Sheet"}),n.jsx("option",{value:"department_sheets",children:"Departman Bazl Sheet"})]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman (opsiyonel)",n.jsxs("select",{value:ce,onChange:Ae=>_e(Ae.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tm"}),mt.map(Ae=>n.jsxs("option",{value:Ae.id,children:["#",Ae.id," - ",Ae.name]},Ae.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Blge (opsiyonel)",n.jsxs("select",{value:re,onChange:Ae=>{oe(Ae.target.value),_e("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Tm"}),He.map(Ae=>n.jsxs("option",{value:Ae.id,children:["#",Ae.id," - ",Ae.name]},Ae.id))]})]}),n.jsx(ds,{label:"alan (opsiyonel)",employees:ze,value:H,onChange:Q,emptyLabel:"Tm",helperText:"stee bal alan filtresi.",className:"md:col-span-2"})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{type:"button",onClick:je,disabled:te.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:te.isPending?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-spinner","aria-hidden":"true"}),"Hazrlanyor..."]}):"Tarih Aral Excel ndir"})})]})]})}const KM=[41.0082,28.9784];function Xi(e){return e.toFixed(6)}function QM({lat:e,lon:s,radiusM:l,onSelect:o}){const d=b.useRef(null),m=b.useRef(null),f=b.useRef(null),x=b.useRef(null),[v,_]=b.useState(!1),[S,w]=b.useState(""),[T,z]=b.useState(!1),[k,A]=b.useState(null),[D,F]=b.useState(null),B=b.useMemo(()=>e!==null&&s!==null?[e,s]:KM,[e,s]);b.useEffect(()=>{if(!(!d.current||m.current)){try{const Y=ci.map(d.current,{center:B,zoom:e!==null&&s!==null?17:12,zoomControl:!0});m.current=Y,ci.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap katkida bulunanlar"}).addTo(Y);const ee=ci.circleMarker(B,{radius:8,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.85,weight:2}).addTo(Y);f.current=ee;const q=ci.circle(B,{radius:Number.isFinite(l)&&l>0?l:75,color:"#0f6a8c",fillColor:"#0f6a8c",fillOpacity:.14,weight:2}).addTo(Y);x.current=q,Y.on("click",$=>{const J=$.latlng.lat,he=$.latlng.lng;o(J,he),F(`Haritadan secildi: ${Xi(J)}, ${Xi(he)}`)}),_(!0),A(null)}catch{A("Harita yuklenemedi. Lutfen tekrar deneyin."),_(!1)}return()=>{m.current&&(m.current.remove(),m.current=null),f.current=null,x.current=null,_(!1)}}},[B,e,s,o,l]),b.useEffect(()=>{if(!m.current||!f.current||!x.current)return;const Y=m.current,ee=f.current,q=x.current;if(e!==null&&s!==null){const J=[e,s];ee.setLatLng(J),q.setLatLng(J),Y.panTo(J,{animate:!0})}const $=Number.isFinite(l)&&l>0?l:75;q.setRadius($)},[e,s,l]);const R=b.useCallback(async()=>{if(!v||!m.current)return;const Y=S.trim();if(!Y){F("Lutfen adres veya lokasyon adi girin.");return}z(!0);try{const ee=new URL("https://nominatim.openstreetmap.org/search");ee.searchParams.set("q",Y),ee.searchParams.set("format","json"),ee.searchParams.set("limit","1"),ee.searchParams.set("addressdetails","1"),ee.searchParams.set("accept-language","tr");const q=await fetch(ee.toString(),{headers:{Accept:"application/json"}});if(!q.ok)throw new Error("search_failed");const $=await q.json();if(!Array.isArray($)||$.length===0){F("Adres bulunamadi. Daha net bir sorgu deneyin.");return}const J=$[0],he=Number(J.lat),xe=Number(J.lon);if(!Number.isFinite(he)||!Number.isFinite(xe)){F("Adres koordinata cevrilemedi.");return}o(he,xe),m.current.setView([he,xe],17,{animate:!0}),F(`Adres bulundu: ${Xi(he)}, ${Xi(xe)}${J.display_name?` (${J.display_name})`:""}`)}catch{F("Adres aramasi gecici olarak kullanilamiyor. Lutfen tekrar deneyin.")}finally{z(!1)}},[v,o,S]),G=b.useCallback(()=>{if(!navigator.geolocation){F("Tarayiciniz konum API destegi vermiyor.");return}navigator.geolocation.getCurrentPosition(Y=>{const ee=Y.coords.latitude,q=Y.coords.longitude;o(ee,q),F(`Mevcut konum alindi: ${Xi(ee)}, ${Xi(q)}`)},()=>{F("Konum alinamadi. Konum iznini kontrol edin.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[o]);return n.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/40 p-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"Harita Nokta Secici (Ucretsiz)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OpenStreetMap uzerinden haritaya tiklayarak veya adres arayarak lat/lon alanlarini otomatik doldurabilirsiniz."}),k?n.jsx("div",{className:"mt-3 rounded-md border border-rose-300 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:k}):n.jsx("div",{className:"mt-3 rounded-md border border-emerald-300 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"API key gerektirmez. OpenStreetMap/Nominatim kullanilir."}),n.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-[1fr_auto_auto]",children:[n.jsx("input",{value:S,onChange:Y=>w(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Adres / isyeri / bolge adi ara",disabled:!v}),n.jsx("button",{type:"button",onClick:()=>{R()},disabled:!v||T,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-white disabled:opacity-60",children:T?"Araniyor...":"Ara"}),n.jsx("button",{type:"button",onClick:G,disabled:!v,className:"rounded-lg border border-brand-300 px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50 disabled:opacity-60",children:"Konumum"})]}),n.jsx("div",{ref:d,className:"mt-3 h-64 w-full rounded-lg border border-slate-300 bg-slate-100","aria-label":"OpenStreetMap qr point picker"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:[n.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lat: ",e!==null?Xi(e):"-"]}),n.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Lon: ",s!==null?Xi(s):"-"]}),n.jsxs("span",{className:"rounded-md bg-white px-2 py-1",children:["Radius: ",l,"m"]})]}),D?n.jsx("p",{className:"mt-2 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600",children:D}):null]})}const Yc={name:"",codeValue:"",codeType:"BOTH",isActive:!0},$c={name:"",lat:"",lon:"",radiusM:"75",isActive:!0},GM={regionCode:"IST",locationCode:"MERKEZ",serialNo:"1"};function pv(e){return e==="CHECKIN"?"CHECKIN (Giris)":e==="CHECKOUT"?"CHECKOUT (Cikis)":"BOTH (Duruma gore)"}function gv(e,s){return e.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"-").replace(/^-+|-+$/g,"")||s}function VM(e){return e==="CHECKIN"?"IN":e==="CHECKOUT"?"OUT":"BOTH"}function YM(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(null),[d,m]=b.useState(null),[f,x]=b.useState(null),[v,_]=b.useState(""),[S,w]=b.useState(""),[T,z]=b.useState(""),[k,A]=b.useState(Yc),[D,F]=b.useState(GM),[B,R]=b.useState($c),[G,Y]=b.useState([]),[ee,q]=b.useState(null),$=Ze({queryKey:["qr-codes"],queryFn:()=>pE()}),J=Ze({queryKey:["qr-points"],queryFn:()=>bE()}),he=Ye({mutationFn:gE,onSuccess:ne=>{s({variant:"success",title:"QR kod olusturuldu",description:`Kod ID: ${ne.id}`}),A(Yc),o(ne.id),e.invalidateQueries({queryKey:["qr-codes"]})},onError:ne=>{s({variant:"error",title:"QR kod olusturulamadi",description:Ue(ne,"Islem basarisiz.").message})}}),xe=Ye({mutationFn:({codeId:ne,payload:Ee})=>xE(ne,Ee),onSuccess:ne=>{s({variant:"success",title:"QR kod guncellendi",description:`Kod ID: ${ne.id}`}),m(null),A(Yc),e.invalidateQueries({queryKey:["qr-codes"]})},onError:ne=>{s({variant:"error",title:"QR kod guncellenemedi",description:Ue(ne,"Islem basarisiz.").message})}}),ce=Ye({mutationFn:({codeId:ne,pointIds:Ee})=>yE(ne,{point_ids:Ee}),onSuccess:()=>{s({variant:"success",title:"Nokta atamasi guncellendi",description:"Secili noktalari QR koda baglandi."}),Y([]),e.invalidateQueries({queryKey:["qr-codes"]}),e.invalidateQueries({queryKey:["qr-points"]})},onError:ne=>{s({variant:"error",title:"Atama basarisiz",description:Ue(ne,"Nokta atamasi yapilamadi.").message})}}),_e=Ye({mutationFn:({codeId:ne,pointId:Ee})=>vE(ne,Ee),onSuccess:()=>{s({variant:"success",title:"Nokta baglantisi kaldirildi",description:"Secili nokta bu QR koddan ayrildi."}),e.invalidateQueries({queryKey:["qr-codes"]}),e.invalidateQueries({queryKey:["qr-points"]})},onError:ne=>{s({variant:"error",title:"Islem basarisiz",description:Ue(ne,"Nokta kaldirilamadi.").message})}}),re=Ye({mutationFn:_E,onSuccess:ne=>{s({variant:"success",title:"QR nokta olusturuldu",description:`Nokta ID: ${ne.id}`}),R($c),e.invalidateQueries({queryKey:["qr-points"]})},onError:ne=>{s({variant:"error",title:"QR nokta olusturulamadi",description:Ue(ne,"Islem basarisiz.").message})}}),oe=Ye({mutationFn:({pointId:ne,payload:Ee})=>NE(ne,Ee),onSuccess:()=>{s({variant:"success",title:"QR nokta guncellendi",description:"Nokta bilgileri kaydedildi."}),x(null),R($c),e.invalidateQueries({queryKey:["qr-points"]})},onError:ne=>{s({variant:"error",title:"QR nokta guncellenemedi",description:Ue(ne,"Islem basarisiz.").message})}}),H=Ye({mutationFn:jE,onSuccess:()=>{s({variant:"success",title:"QR nokta pasife alindi",description:"Nokta aktif listeden cikarildi."}),e.invalidateQueries({queryKey:["qr-points"]}),e.invalidateQueries({queryKey:["qr-codes"]})},onError:ne=>{s({variant:"error",title:"Islem basarisiz",description:Ue(ne,"Nokta pasife alinamadi.").message})}}),Q=$.data??[],se=J.data??[];b.useEffect(()=>{l===null&&Q.length>0&&o(Q[0].id),l!==null&&!Q.some(ne=>ne.id===l)&&o(Q.length>0?Q[0].id:null)},[Q,l]);const Se=b.useMemo(()=>Q.find(ne=>ne.id===l)??null,[Q,l]);b.useEffect(()=>{if(!Se){q(null);return}let ne=!1;return Pf.toDataURL(Se.code_value,{errorCorrectionLevel:"M",margin:2,width:360}).then(Ee=>{ne||q(Ee)}).catch(()=>{ne||q(null)}),()=>{ne=!0}},[Se?.id,Se?.code_value]);const X=b.useMemo(()=>{const ne=new Map;for(const Ee of se)ne.set(Ee.id,Ee);return ne},[se]),M=b.useMemo(()=>Se?Se.point_ids.map(ne=>X.get(ne)??null).filter(ne=>ne!==null):[],[Se,X]),te=b.useMemo(()=>{const ne=v.trim().toLowerCase();return ne?Q.filter(Ee=>String(Ee.id).includes(ne)||(Ee.name??"").toLowerCase().includes(ne)||Ee.code_value.toLowerCase().includes(ne)):Q},[Q,v]),I=b.useMemo(()=>{const ne=S.trim().toLowerCase();return ne?se.filter(Ee=>String(Ee.id).includes(ne)||Ee.name.toLowerCase().includes(ne)||String(Ee.department_id??"").includes(ne)||String(Ee.region_id??"").includes(ne)):se},[se,S]),ue=b.useMemo(()=>{const ne=se.filter(Pe=>Pe.is_active),Ee=T.trim().toLowerCase();return Ee?ne.filter(Pe=>String(Pe.id).includes(Ee)||Pe.name.toLowerCase().includes(Ee)||String(Pe.department_id??"").includes(Ee)||String(Pe.region_id??"").includes(Ee)):ne},[se,T]),de=b.useMemo(()=>{const ne=Q.filter(ct=>ct.is_active).length,Ee=se.filter(ct=>ct.is_active).length,Pe=Q.filter(ct=>ct.point_ids.length===0).length;return{codeCount:Q.length,activeCodes:ne,pointCount:se.length,activePoints:Ee,codesWithoutPoint:Pe}},[Q,se]),je=b.useMemo(()=>{const ne=Number(B.lat);return Number.isFinite(ne)?ne:null},[B.lat]),ze=b.useMemo(()=>{const ne=Number(B.lon);return Number.isFinite(ne)?ne:null},[B.lon]),Ke=b.useMemo(()=>{const ne=Number(B.radiusM);return Number.isFinite(ne)&&ne>0?ne:75},[B.radiusM]),He=ne=>{Y(Ee=>Ee.includes(ne)?Ee.filter(Pe=>Pe!==ne):[...Ee,ne])},at=ne=>{m(ne.id),A({name:ne.name??"",codeValue:ne.code_value,codeType:ne.code_type,isActive:ne.is_active})},be=()=>{m(null),A(Yc)},lt=()=>{const ne=gv(D.regionCode,"GEN"),Ee=gv(D.locationCode,"LOKASYON"),Pe=Number(D.serialNo),ct=Number.isFinite(Pe)&&Pe>0?Math.floor(Pe):1,ae=VM(k.codeType),Fe=`PF-${ne}-${Ee}-${ae}-${String(ct).padStart(6,"0")}`;A(It=>({...It,codeValue:Fe}))},mt=ne=>{x(ne.id),R({name:ne.name,lat:String(ne.lat),lon:String(ne.lon),radiusM:String(ne.radius_m),isActive:ne.is_active})},Ae=()=>{x(null),R($c)},rt=ne=>{ne.preventDefault();const Ee=k.codeValue.trim();if(!Ee){s({variant:"error",title:"Kod degeri zorunlu",description:"QR kod degerini bos birakamazsiniz."});return}const Pe={name:k.name.trim()||null,code_value:Ee,code_type:k.codeType,is_active:k.isActive};if(d===null){he.mutate(Pe);return}xe.mutate({codeId:d,payload:Pe})},bt=ne=>{ne.preventDefault();const Ee=B.name.trim(),Pe=Number(B.lat),ct=Number(B.lon),ae=Number(B.radiusM);if(!Ee){s({variant:"error",title:"Nokta adi zorunlu",description:"Lutfen bir nokta adi girin."});return}if(!Number.isFinite(Pe)||!Number.isFinite(ct)||!Number.isFinite(ae)||ae<=0){s({variant:"error",title:"Gecersiz konum",description:"Lat/Lon/radius alanlarini kontrol edin."});return}const Fe={name:Ee,lat:Pe,lon:ct,radius_m:ae,is_active:B.isActive};if(f===null){re.mutate(Fe);return}oe.mutate({pointId:f,payload:Fe})},St=()=>{if(!Se){s({variant:"error",title:"QR kod seciniz",description:"Nokta atamak icin once bir QR kod secin."});return}if(G.length===0){s({variant:"error",title:"Nokta seciniz",description:"Atama icin en az bir nokta secin."});return}ce.mutate({codeId:Se.id,pointIds:G})},At=async ne=>{try{await navigator.clipboard.writeText(ne),s({variant:"success",title:"Kopyalandi",description:"QR kod degeri panoya kopyalandi."})}catch{s({variant:"error",title:"Kopyalama basarisiz",description:"Lutfen manuel olarak kopyalayin."})}},rn=async ne=>{try{const Ee=await Pf.toDataURL(ne.code_value,{errorCorrectionLevel:"M",margin:2,width:900}),Pe=document.createElement("a");Pe.href=Ee,Pe.download=`qr-kod-${ne.id}.png`,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),s({variant:"success",title:"PNG indirildi",description:`QR kod #${ne.id} dosyasi indirildi.`})}catch{s({variant:"error",title:"Indirme basarisiz",description:"QR kod PNG olusturulamadi."})}};return $.isLoading||J.isLoading?n.jsx(Zt,{}):$.isError||J.isError?n.jsx(Re,{children:n.jsx("p",{className:"text-sm text-rose-700",children:"QR kod veya nokta listesi yuklenemedi."})}):n.jsxs("div",{className:"mx-auto w-full max-w-[1320px] space-y-4",children:[n.jsx(Hn,{title:"QR Kod Yonetimi",description:"Konuma bagli giris/cikis icin QR kod ve QR nokta yonetimi. Sirayla nokta olustur, kod olustur, nokta ata, sonra indir."}),n.jsx(Re,{className:"min-w-0",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.45fr)_minmax(260px,0.95fr)]",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Nasil Calisir?"}),n.jsxs("ol",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[n.jsx("li",{children:"1) Once QR nokta olustur (ad + lat/lon + radius)."}),n.jsx("li",{children:"2) Sonra QR kod olustur (benzersiz code_value + tip)."}),n.jsx("li",{children:"3) QR koda bir veya birden fazla aktif nokta ata."}),n.jsx("li",{children:"4) Calisan sadece atanmis nokta icindeyse okutma basarili olur."})]}),n.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Onemli: Noktasi olmayan QR kod okutulamaz. Pasif nokta ya da pasif QR kod da kullanilamaz."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm sm:grid-cols-2",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Kod"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:de.codeCount}),n.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",de.activeCodes]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Nokta"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:de.pointCount}),n.jsxs("p",{className:"text-xs text-emerald-700",children:["Aktif: ",de.activePoints]})]}),n.jsxs("div",{className:"col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3",children:[n.jsx("p",{className:"text-xs text-rose-700",children:"Noktasi Atanmamis Kod"}),n.jsx("p",{className:"text-lg font-semibold text-rose-800",children:de.codesWithoutPoint}),n.jsx("p",{className:"text-xs text-rose-700",children:"Bu kodlar okutuldugunda sistem izin vermez."})]})]})]})}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[n.jsxs(Re,{className:"min-w-0",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:d===null?"2) QR Kod Olustur":`2) QR Kod Duzenle (#${d})`}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Code value benzersiz olmalidir. Asagidaki anlamli format yardimcisini kullanabilirsiniz."}),n.jsxs("form",{className:"mt-3 space-y-3",onSubmit:rt,children:[n.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod adi (opsiyonel)",n.jsx("input",{value:k.name,onChange:ne=>A(Ee=>({...Ee,name:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Giris"})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Anlamli Format Yardimcisi"}),n.jsxs("div",{className:"mt-2 grid gap-2 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx("input",{value:D.regionCode,onChange:ne=>F(Ee=>({...Ee,regionCode:ne.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Bolge (IST)"}),n.jsx("input",{value:D.locationCode,onChange:ne=>F(Ee=>({...Ee,locationCode:ne.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Lokasyon (MERKEZ)"}),n.jsx("input",{type:"number",min:1,value:D.serialNo,onChange:ne=>F(Ee=>({...Ee,serialNo:ne.target.value})),className:"rounded-lg border border-slate-300 px-2 py-2 text-sm",placeholder:"Seri No"}),n.jsx("button",{type:"button",onClick:lt,className:"rounded-lg border border-brand-300 bg-white px-3 py-2 text-sm font-semibold text-brand-700 hover:bg-brand-50",children:"Deger Uret"})]}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ornek: PF-IST-MERKEZ-IN-000001 / PF-ANK-SUBE1-BOTH-000014"})]}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["code_value",n.jsx("input",{value:k.codeValue,onChange:ne=>A(Ee=>({...Ee,codeValue:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: IN|HQ-1"})]}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["Kod tipi",n.jsxs("select",{value:k.codeType,onChange:ne=>A(Ee=>({...Ee,codeType:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"CHECKIN",children:"CHECKIN"}),n.jsx("option",{value:"CHECKOUT",children:"CHECKOUT"}),n.jsx("option",{value:"BOTH",children:"BOTH"})]}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"CHECKIN: sadece giris, CHECKOUT: sadece cikis, BOTH: sistem bugunku duruma gore secer."})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:k.isActive,onChange:ne=>A(Ee=>({...Ee,isActive:ne.target.checked}))}),"Aktif"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"submit",disabled:he.isPending||xe.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:d===null?"Olustur":"Guncelle"}),d!==null?n.jsx("button",{type:"button",onClick:be,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),n.jsxs(Re,{className:"min-w-0",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"QR Kod Listesi"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Detay ve nokta atama islemleri icin bir QR kod secin."}),n.jsx("div",{className:"mt-3",children:n.jsx(mi,{value:v,onChange:_,placeholder:"Kod adi / degeri / ID ara"})}),n.jsx("div",{className:"mt-3 max-h-80 overflow-auto overscroll-contain rounded-lg border border-slate-200",children:n.jsxs("table",{className:"min-w-[980px] text-left text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2",children:"ID"}),n.jsx("th",{className:"px-3 py-2",children:"Kod"}),n.jsx("th",{className:"px-3 py-2",children:"Tip"}),n.jsx("th",{className:"px-3 py-2",children:"Durum"}),n.jsx("th",{className:"px-3 py-2",children:"Nokta"}),n.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),n.jsxs("tbody",{children:[te.map(ne=>n.jsxs("tr",{className:`border-t border-slate-100 ${l===ne.id?"bg-brand-50/60":""}`,children:[n.jsx("td",{className:"px-3 py-2",children:ne.id}),n.jsxs("td",{className:"px-3 py-2",children:[n.jsx("button",{type:"button",onClick:()=>o(ne.id),className:"font-medium text-brand-700 hover:underline",children:ne.name||"-"}),n.jsx("div",{className:"max-w-[340px] break-all text-xs text-slate-500",children:ne.code_value})]}),n.jsx("td",{className:"px-3 py-2",children:pv(ne.code_type)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ne.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ne.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"px-3 py-2",children:ne.point_ids.length}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("button",{type:"button",onClick:()=>at(ne),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),n.jsx("button",{type:"button",onClick:()=>{rn(ne)},className:"rounded-md border border-brand-300 px-2 py-1 text-xs font-medium text-brand-700 hover:bg-brand-50",children:"PNG"})]})})]},ne.id)),te.length===0?n.jsx("tr",{children:n.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:6,children:"Arama kriterine uygun QR kod bulunamadi."})}):null]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[n.jsxs(Re,{className:"min-w-0",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:Se?`3) QR Kod Detay (#${Se.id})`:"3) QR Kod Detay"}),Se?n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Ad:"})," ",Se.name||"-"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Kod degeri:"})," ",Se.code_value]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Tip:"})," ",pv(Se.code_type)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Durum:"})," ",Se.is_active?"Aktif":"Pasif"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Atanan nokta sayisi:"})," ",Se.point_ids.length]})]}),Se.point_ids.length===0?n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-800",children:"Bu QR kodda nokta atamasi yok. Okutma yapildiginda sistem izin vermez."}):null,n.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50/60 p-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-700",children:"QR Onizleme"}),n.jsx("p",{className:"mt-1 break-all text-xs text-slate-700",children:Se.code_value}),ee?n.jsxs("div",{className:"mt-3 flex flex-col items-start gap-3",children:[n.jsx("img",{src:ee,alt:`QR Kod ${Se.id}`,className:"h-52 w-52 rounded-lg border border-brand-200 bg-white p-2"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{rn(Se)},className:"rounded-md bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-700",children:"PNG Indir"}),n.jsx("button",{type:"button",onClick:()=>{At(Se.code_value)},className:"rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:"Kodu Kopyala"})]})]}):n.jsx("p",{className:"mt-2 text-xs text-rose-700",children:"QR onizleme olusturulamadi."})]}),n.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:"Bu QR kod, sadece bu koda atanmis aktif konum noktalarinin radius alaninda okutuldugunda gecerli olur. Diger konumlarda sistem isleme izin vermez."}),n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Atanmis Noktalar"}),M.length===0?n.jsx("p",{className:"text-sm text-slate-600",children:"Bu QR kod icin henuz nokta atanmis degil."}):n.jsx("div",{className:"space-y-2",children:M.map(ne=>n.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-slate-800",children:["#",ne.id," - ",ne.name]}),n.jsxs("p",{className:"text-xs text-slate-500",children:["lat/lon: ",ne.lat,", ",ne.lon," | radius: ",ne.radius_m,"m"]})]}),n.jsx("button",{type:"button",onClick:()=>_e.mutate({codeId:Se.id,pointId:ne.id}),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Kaldir"})]},ne.id))})]}):n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Detay gormek icin listeden bir QR kod secin."})]}),n.jsxs(Re,{className:"min-w-0",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"4) Nokta Ata (Coklu Secim)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Arama ile nokta secip tek islemde birden fazla noktayi QR koda baglayabilirsiniz."}),n.jsx("div",{className:"mt-3",children:n.jsx(mi,{value:T,onChange:z,placeholder:"Nokta adi / ID ara"})}),n.jsx("div",{className:"mt-3 max-h-56 overflow-auto overscroll-contain rounded-lg border border-slate-200 p-2",children:ue.length===0?n.jsx("p",{className:"px-2 py-1 text-sm text-slate-600",children:"Aktif nokta bulunamadi."}):n.jsx("div",{className:"space-y-1",children:ue.map(ne=>n.jsxs("label",{className:"flex items-center gap-2 rounded-md px-2 py-1 text-sm text-slate-700 hover:bg-slate-50",children:[n.jsx("input",{type:"checkbox",checked:G.includes(ne.id),onChange:()=>He(ne.id)}),n.jsxs("span",{children:["#",ne.id," - ",ne.name," (",ne.radius_m,"m)"]})]},ne.id))})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[n.jsxs("p",{className:"text-sm text-slate-600",children:["Secilen nokta: ",G.length]}),n.jsx("button",{type:"button",onClick:St,disabled:ce.isPending||Se===null,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:"Secilenleri Ata"})]})]})]}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[n.jsxs(Re,{className:"min-w-0",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:f===null?"1) QR Nokta Olustur":`1) QR Nokta Duzenle (#${f})`}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"QR noktasi okutmanin izinli oldugu fiziksel konumu temsil eder."}),n.jsxs("form",{className:"mt-3 space-y-3",onSubmit:bt,children:[n.jsxs("label",{className:"block text-sm text-slate-700",children:["Nokta adi",n.jsx("input",{value:B.name,onChange:ne=>R(Ee=>({...Ee,name:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Merkez Ofis Kapi"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Istanbul Merkez Kapi, Ankara Sube Giris."})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"block text-sm text-slate-700",children:["Lat",n.jsx("input",{type:"number",step:"any",value:B.lat,onChange:ne=>R(Ee=>({...Ee,lat:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["Lon",n.jsx("input",{type:"number",step:"any",value:B.lon,onChange:ne=>R(Ee=>({...Ee,lon:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]})]}),n.jsx(QM,{lat:je,lon:ze,radiusM:Ke,onSelect:(ne,Ee)=>R(Pe=>({...Pe,lat:String(ne),lon:String(Ee)}))}),n.jsxs("label",{className:"block text-sm text-slate-700",children:["Radius (m)",n.jsx("input",{type:"number",min:1,value:B.radiusM,onChange:ne=>R(Ee=>({...Ee,radiusM:ne.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Oneri: bina ici 50-80m, acik alan 80-150m."})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:B.isActive,onChange:ne=>R(Ee=>({...Ee,isActive:ne.target.checked}))}),"Aktif"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"submit",disabled:re.isPending||oe.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:f===null?"Olustur":"Guncelle"}),f!==null?n.jsx("button",{type:"button",onClick:Ae,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Iptal"}):null]})]})]}),n.jsxs(Re,{className:"min-w-0",children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"5) QR Nokta Listesi"}),n.jsx("div",{className:"mt-3",children:n.jsx(mi,{value:S,onChange:w,placeholder:"Nokta adi / ID ara"})}),n.jsx("div",{className:"mt-3 max-h-96 overflow-auto overscroll-contain rounded-lg border border-slate-200",children:n.jsxs("table",{className:"min-w-[920px] text-left text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2",children:"ID"}),n.jsx("th",{className:"px-3 py-2",children:"Nokta"}),n.jsx("th",{className:"px-3 py-2",children:"Konum"}),n.jsx("th",{className:"px-3 py-2",children:"Durum"}),n.jsx("th",{className:"px-3 py-2",children:"Aksiyon"})]})}),n.jsxs("tbody",{children:[I.map(ne=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-3 py-2",children:ne.id}),n.jsxs("td",{className:"px-3 py-2",children:[n.jsx("p",{className:"font-medium text-slate-800",children:ne.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:["radius: ",ne.radius_m,"m"]})]}),n.jsxs("td",{className:"px-3 py-2 text-xs text-slate-600",children:[ne.lat,", ",ne.lon]}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ne.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:ne.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("button",{type:"button",onClick:()=>mt(ne),className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"}),ne.is_active?n.jsx("button",{type:"button",onClick:()=>H.mutate(ne.id),className:"rounded-md border border-rose-300 px-2 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50",children:"Pasife Al"}):null]})})]},ne.id)),I.length===0?n.jsx("tr",{children:n.jsx("td",{className:"px-3 py-4 text-sm text-slate-500",colSpan:5,children:"Arama kriterine uygun nokta bulunamadi."})}):null]})]})})]})]})]})}const xv=[{value:0,label:"Pazartesi"},{value:1,label:"Sal"},{value:2,label:"aramba"},{value:3,label:"Perembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}];function $M(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState(""),[f,x]=b.useState(""),[v,_]=b.useState({}),[S,w]=b.useState(""),[T,z]=b.useState("09:00"),[k,A]=b.useState("17:30"),[D,F]=b.useState("60"),[B,R]=b.useState(!0),[G,Y]=b.useState(null),ee=Ze({queryKey:["departments"],queryFn:tr}),q=Ze({queryKey:["employees","all-for-quick-setup"],queryFn:()=>ks({include_inactive:!0,status:"all"})}),$=Ze({queryKey:["department-weekly-rules"],queryFn:()=>jb()}),J=Ze({queryKey:["department-shifts"],queryFn:()=>fu({active_only:!1})}),he=l?Number(l):null,xe=Ye({mutationFn:({employeeId:I,departmentId:ue})=>dE(I,{department_id:ue}),onSuccess:I=>{s({variant:"success",title:"Departman atamas gncellendi",description:`${I.full_name} iin departman kayd gncellendi.`}),e.invalidateQueries({queryKey:["employees"]}),e.invalidateQueries({queryKey:["employee-device-overview"]})},onError:I=>{s({variant:"error",title:"Departman gncellenemedi",description:Ue(I,"lem baarsz.").message})}}),ce=Ye({mutationFn:Sb,onSuccess:()=>{s({variant:"success",title:"Haftalk kural kaydedildi",description:"Seilen gn iin plan gncellendi."}),e.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:I=>{s({variant:"error",title:"Haftalk kural kaydedilemedi",description:Ue(I,"lem baarsz.").message})}}),_e=Ye({mutationFn:od,onSuccess:()=>{s({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyas eklendi/gncellendi."}),w(""),z("09:00"),A("17:30"),F("60"),R(!0),Y(null),e.invalidateQueries({queryKey:["department-shifts"]})},onError:I=>{s({variant:"error",title:"Vardiya kaydedilemedi",description:Ue(I,"lem baarsz.").message})}}),re=Ye({mutationFn:wb,onSuccess:()=>{s({variant:"success",title:"Vardiya pasife alnd",description:"Vardiya kayd pasif duruma getirildi."}),G!==null&&(Y(null),w(""),z("09:00"),A("17:30"),F("60"),R(!0)),e.invalidateQueries({queryKey:["department-shifts"]})},onError:I=>{s({variant:"error",title:"Vardiya pasife alnamad",description:Ue(I,"lem baarsz.").message})}}),oe=Ye({mutationFn:({shift:I,nextActive:ue})=>od({id:I.id,department_id:I.department_id,name:I.name,start_time_local:I.start_time_local,end_time_local:I.end_time_local,break_minutes:I.break_minutes,is_active:ue}),onSuccess:(I,ue)=>{s({variant:"success",title:ue.nextActive?"Vardiya aktif edildi":"Vardiya pasife alnd",description:ue.nextActive?"Vardiya tekrar kullanma ald.":"Vardiya pasif duruma getirildi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:I=>{s({variant:"error",title:"Vardiya durumu gncellenemedi",description:Ue(I,"lem baarsz.").message})}}),H=ee.data??[],Q=q.data??[],se=$.data??[],Se=J.data??[],X=b.useMemo(()=>new Map(H.map(I=>[I.id,I.name])),[H]),M=b.useMemo(()=>he?Se.filter(I=>I.department_id===he):[],[he,Se]),te=b.useMemo(()=>Q.find(I=>String(I.id)===d),[Q,d]);return b.useEffect(()=>{if(!he){_({});return}const I=new Map(se.filter(de=>de.department_id===he).map(de=>[de.weekday,de])),ue={};for(const de of xv){const je=I.get(de.value);ue[de.value]={is_workday:je?.is_workday??!0,planned_minutes:String(je?.planned_minutes??540),break_minutes:String(je?.break_minutes??60)}}_(ue)},[he,se]),ee.isLoading||q.isLoading||$.isLoading||J.isLoading?n.jsx(Zt,{}):ee.isError||q.isError||$.isError||J.isError?n.jsx(Ct,{message:"Hzl ayarlar verileri alnamad."}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Hzl Ayarlar",description:"Sadece gerekli kurulum admlar: alan-departman atamas, haftalk gn kurallar ve vardiyalar."}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"1) alan - Departman Atamas"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"alan adn veya ID bilgisini yazarak personeli bulun, departmann hzlca gncelleyin."}),n.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[n.jsx(ds,{label:"alan",employees:Q,value:d,onChange:I=>{m(I);const ue=Q.find(de=>String(de.id)===I);x(ue?.department_id?String(ue.department_id):"")},helperText:"Ad-soyad veya personel ID ile arayn.",className:"md:col-span-2"}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Yeni departman",n.jsxs("select",{value:f,onChange:I=>x(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Atanmam"}),H.map(I=>n.jsx("option",{value:I.id,children:I.name},I.id))]})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[n.jsxs("div",{children:[n.jsxs("p",{children:["Seili alan:"," ",te?`#${te.id} - ${te.full_name}`:"-"]}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Mevcut departman:"," ",te?.department_id?X.get(te.department_id)??"-":"Atanmam"]})]}),n.jsx("button",{type:"button",disabled:!te||xe.isPending,onClick:()=>{te&&xe.mutate({employeeId:te.id,departmentId:f?Number(f):null})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Departman Kaydet"})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"2) Departman Haftalk Gn Kurallar"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Her gn iin alma gn, planlanan dakika ve mola dakikasn belirleyin."}),n.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:l,onChange:I=>o(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seiniz"}),H.map(I=>n.jsx("option",{value:I.id,children:I.name},I.id))]})]})}),he?n.jsx("div",{className:"mt-4 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Gn"}),n.jsx("th",{className:"py-2",children:"alma Gn"}),n.jsx("th",{className:"py-2",children:"Planlanan Dakika"}),n.jsx("th",{className:"py-2",children:"Mola Dakika"}),n.jsx("th",{className:"py-2 text-right",children:"lem"})]})}),n.jsx("tbody",{children:xv.map(I=>{const ue=v[I.value]??{is_workday:!0,planned_minutes:"540",break_minutes:"60"};return n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:I.label}),n.jsx("td",{className:"py-2",children:n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:ue.is_workday,onChange:de=>_(je=>({...je,[I.value]:{...ue,is_workday:de.target.checked}}))}),"alma gn"]})}),n.jsx("td",{className:"py-2",children:n.jsx("input",{value:ue.planned_minutes,onChange:de=>_(je=>({...je,[I.value]:{...ue,planned_minutes:de.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),n.jsx("td",{className:"py-2",children:n.jsx("input",{value:ue.break_minutes,onChange:de=>_(je=>({...je,[I.value]:{...ue,break_minutes:de.target.value}})),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})}),n.jsx("td",{className:"py-2 text-right",children:n.jsx("button",{type:"button",disabled:ce.isPending,onClick:()=>{const de=Number(ue.planned_minutes),je=Number(ue.break_minutes);if(!Number.isFinite(de)||de<0){s({variant:"error",title:"Geersiz planlanan dakika",description:`${I.label} iin say giriniz.`});return}if(!Number.isFinite(je)||je<0){s({variant:"error",title:"Geersiz mola dakikas",description:`${I.label} iin say giriniz.`});return}ce.mutate({department_id:he,weekday:I.value,is_workday:ue.is_workday,planned_minutes:Math.trunc(de),break_minutes:Math.trunc(je)})},className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Kaydet"})})]},I.value)})})]})}):n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Haftalk kural dzenlemek iin departman sein."})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"3) Departman Vardiyalar"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Bir departman iin birden fazla vardiya tanmlayabilirsiniz (r. 10:00-18:00 ve 14:00-22:00)."}),he?n.jsxs(n.Fragment,{children:[n.jsxs("form",{className:"mt-3 grid gap-3 md:grid-cols-5",onSubmit:I=>{if(I.preventDefault(),!S.trim()){s({variant:"error",title:"Vardiya ad zorunlu",description:"Ltfen vardiya ad girin."});return}const ue=Number(D);if(!Number.isFinite(ue)||ue<0){s({variant:"error",title:"Geersiz mola dakikas",description:"Mola dakikasn say olarak girin."});return}_e.mutate({id:G??void 0,department_id:he,name:S.trim(),start_time_local:T,end_time_local:k,break_minutes:Math.trunc(ue),is_active:B})},children:[G?n.jsxs("div",{className:"md:col-span-5 rounded-lg border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-medium text-brand-700",children:["Dzenleme modu: #",G]}):null,n.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya ad",n.jsx("input",{value:S,onChange:I=>w(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"rn: Sabah 10-18"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Balang",n.jsx("input",{type:"time",value:T,onChange:I=>z(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Biti",n.jsx("input",{type:"time",value:k,onChange:I=>A(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Mola dakika",n.jsx("input",{value:D,onChange:I=>F(I.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("div",{className:"flex items-end gap-3 pb-1",children:[n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:B,onChange:I=>R(I.target.checked)}),"Aktif"]}),n.jsx("button",{type:"submit",disabled:_e.isPending,className:"rounded-lg bg-brand-600 px-3 py-2 text-xs font-semibold text-white hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:_e.isPending?"Kaydediliyor...":G?"Vardiya Gncelle":"Vardiya Kaydet"}),G?n.jsx("button",{type:"button",onClick:()=>{Y(null),w(""),z("09:00"),A("17:30"),F("60"),R(!0)},className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Vazge"}):null]})]}),n.jsx("div",{className:"mt-4 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Vardiya"}),n.jsx("th",{className:"py-2",children:"Saat Aral"}),n.jsx("th",{className:"py-2",children:"Mola"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),n.jsx("tbody",{children:M.map(I=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:I.name}),n.jsxs("td",{className:"py-2",children:[I.start_time_local," - ",I.end_time_local]}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:I.break_minutes})}),n.jsx("td",{className:"py-2",children:I.is_active?"Aktif":"Pasif"}),n.jsx("td",{className:"py-2 text-right",children:n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{Y(I.id),w(I.name),z(I.start_time_local),A(I.end_time_local),F(String(I.break_minutes)),R(I.is_active)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Dzenle"}),I.is_active?n.jsx("button",{type:"button",disabled:re.isPending||oe.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alnsn m?")&&re.mutate(I.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):n.jsx("button",{type:"button",disabled:oe.isPending||re.isPending,onClick:()=>oe.mutate({shift:I,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},I.id))})]})}),M.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Seilen departman iin vardiya bulunmuyor."}):null]}):n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Vardiya dzenlemek iin departman sein."})]})]})}const yv=Qa({name:na().min(2,"Bolge adi en az 2 karakter olmali.").max(255),is_active:Cd()});function vv(e){return sn.isAxiosError(e)&&e.response?.status===409?"Bu bolge adi zaten mevcut. Farkli bir ad girin.":Ue(e,"Bolge islemi basarisiz.").message}function XM(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState(!0),[f,x]=b.useState(""),[v,_]=b.useState(!0),[S,w]=b.useState(null),[T,z]=b.useState(""),[k,A]=b.useState(!0),[D,F]=b.useState(null),B=Ze({queryKey:["regions",v],queryFn:()=>hu({include_inactive:v})}),R=Ye({mutationFn:V2,onSuccess:$=>{o(""),m(!0),F(null),s({variant:"success",title:"Bolge olusturuldu",description:`${$.name} basariyla eklendi.`}),e.invalidateQueries({queryKey:["regions"]})},onError:$=>{const J=vv($);F(J),s({variant:"error",title:"Bolge olusturulamadi",description:J})}}),G=Ye({mutationFn:({regionId:$,payload:J})=>Y2($,J),onSuccess:$=>{F(null),w(null),z(""),A(!0),s({variant:"success",title:"Bolge guncellendi",description:`${$.name} guncellendi.`}),e.invalidateQueries({queryKey:["regions"]})},onError:$=>{const J=vv($);F(J),s({variant:"error",title:"Bolge guncellenemedi",description:J})}}),Y=$=>{$.preventDefault(),F(null);const J=yv.safeParse({name:l,is_active:d});if(!J.success){const he=J.error.issues[0]?.message??"Bolge formunu kontrol edin.";F(he);return}R.mutate(J.data)},ee=$=>{if($.preventDefault(),F(null),!S)return;const J=yv.safeParse({name:T,is_active:k});if(!J.success){const he=J.error.issues[0]?.message??"Bolge formunu kontrol edin.";F(he);return}G.mutate({regionId:S,payload:J.data})},q=b.useMemo(()=>{const $=B.data??[],J=f.trim().toLowerCase();return J?$.filter(he=>he.name.toLowerCase().includes(J)):$},[B.data,f]);return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Bolgeler",description:"Sube/sehir bazli yonetim icin bolge kayitlarini yonetin."}),n.jsxs(Re,{children:[n.jsxs("form",{onSubmit:Y,className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",n.jsx("input",{value:l,onChange:$=>o($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Istanbul Avrupa"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:d,onChange:$=>m($.target.checked)}),"Aktif"]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"submit",disabled:R.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:R.isPending?"Kaydediliyor...":"Bolge Ekle"})})]}),D?n.jsx("p",{className:"form-validation mt-2",children:D}):null]}),S?n.jsxs(Re,{children:[n.jsxs("form",{onSubmit:ee,className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Bolge adi",n.jsx("input",{value:T,onChange:$=>z($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:k,onChange:$=>A($.target.checked)}),"Aktif"]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{type:"submit",disabled:G.isPending,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:G.isPending?"Guncelleniyor...":"Kaydet"}),n.jsx("button",{type:"button",onClick:()=>{w(null),z(""),A(!0),F(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Vazgec"})]})]}),D?n.jsx("p",{className:"form-validation mt-2",children:D}):null]}):null,B.isLoading?n.jsx(Zt,{}):null,B.isError?n.jsx(Ct,{message:"Bolge listesi alinamadi."}):null,!B.isLoading&&!B.isError?n.jsxs(Re,{children:[n.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3 md:items-end",children:[n.jsx(mi,{value:f,onChange:x,placeholder:"Bolge adina gore ara..."}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:$=>_($.target.checked)}),"Pasif bolgeleri goster"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Bolge ID"}),n.jsx("th",{className:"py-2",children:"Bolge Adi"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Islem"})]})}),n.jsx("tbody",{children:q.map($=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:$.id}),n.jsx("td",{className:"py-2",children:$.name}),n.jsx("td",{className:"py-2",children:n.jsx(er,{value:$.is_active?"Aktif":"Pasif"})}),n.jsx("td",{className:"py-2",children:n.jsx("button",{type:"button",onClick:()=>{w($.id),z($.name),A($.is_active),F(null)},className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Duzenle"})})]},$.id))})]})}),q.length===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Arama kriterine uygun bolge bulunamadi."}):null]}):null]})}function Pr(e){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(e))}function JM(e){return e==="SENT"?"bg-emerald-100 text-emerald-700":e==="FAILED"?"bg-rose-100 text-rose-700":e==="CANCELED"?"bg-slate-200 text-slate-700":e==="SENDING"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}function WM(e){return e==="SENT"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}function bv(e){return e==="admins"?"ADMIN":e==="employees"?"CALISAN":e==="both"?"HER IKISI":e.toUpperCase()}function ez(e){return e==="DAILY_REPORT_JOB_MISSING"?"Job olusmamis":e==="DAILY_REPORT_ARCHIVE_MISSING"?"Arsiv olusmamis":e==="DAILY_REPORT_JOB_STUCK"?"Job takilmis":e==="DAILY_REPORT_JOB_FAILED"?"Job hatali":e==="DAILY_REPORT_DELIVERY_EMPTY"?"Teslimat bos":e==="DAILY_REPORT_TARGET_ZERO"?"Hedef 0":e==="DAILY_REPORT_ARCHIVE_MISMATCH"?"Arsiv eslesmiyor":e==="DAILY_REPORT_HEALTH_QUERY_FAILED"?"Health sorgusu hatali":e}function tz(e){return e?(e.alarms??[]).length>0?"border-rose-200 bg-rose-50 text-rose-800":!e.job_exists||!e.archive_exists?"border-amber-200 bg-amber-50 text-amber-800":e.status==="SENT"&&e.delivery_succeeded?"border-emerald-200 bg-emerald-50 text-emerald-800":e.status==="FAILED"?"border-rose-200 bg-rose-50 text-rose-800":"border-sky-200 bg-sky-50 text-sky-800":"border-slate-200 bg-slate-50 text-slate-700"}function nz(e,s){const l=window.URL.createObjectURL(e),o=document.createElement("a");o.href=l,o.download=s,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)}const ls=35,v_="pf_admin_push_vapid_public_key";async function az(e){if(!("serviceWorker"in navigator)||!("PushManager"in window))throw new Error("Bu tarayici push bildirimlerini desteklemiyor.");if((Notification.permission==="granted"?"granted":await Notification.requestPermission())!=="granted")throw new Error("Bildirim izni verilmedi.");const o=await navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"});let d=await o.pushManager.getSubscription();const m=window.localStorage.getItem(v_);if(d&&m&&m!==e){try{await d.unsubscribe()}catch{}d=null}return d||(d=await o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rp(e)})),d}function sz(){const e=sa(),{pushToast:s}=ia(),{user:l}=Ql(),[o,d]=yd(),[m,f]=b.useState("Puantaj Bildirimi"),[x,v]=b.useState(""),[_,S]=b.useState(""),[w,T]=b.useState("employees"),[z,k]=b.useState(15),[A,D]=b.useState(""),[F,B]=b.useState(1),[R,G]=b.useState(1),[Y,ee]=b.useState(""),[q,$]=b.useState(""),[J,he]=b.useState([]),[xe,ce]=b.useState([]),[_e,re]=b.useState(null),[oe,H]=b.useState(!1),[Q,se]=b.useState(""),[Se,X]=b.useState(""),[M,te]=b.useState(""),[I,ue]=b.useState(1),[de,je]=b.useState(""),[ze,Ke]=b.useState(null),[He,at]=b.useState(""),[be,lt]=b.useState(""),[mt,Ae]=b.useState("Puantaj test email bildirimi"),[rt,bt]=b.useState("Bu mesaj admin bildirim email testidir."),St=Ze({queryKey:["employees","notify"],queryFn:()=>ks({status:"active"})}),At=Ze({queryKey:["admin-users","notify"],queryFn:_b}),rn=Ze({queryKey:["admin-push-config"],queryFn:Af}),ne=Ze({queryKey:["admin-daily-report-health"],queryFn:RE,refetchInterval:3e4,retry:!1}),Ee=Ze({queryKey:["admin-notification-email-targets"],queryFn:LE,retry:!1}),Pe=Ze({queryKey:["admin-push-self-check"],queryFn:BE,refetchInterval:15e3,retry:!1}),ct=Ze({queryKey:["notification-jobs",A,F],queryFn:()=>CE({status:A||void 0,offset:(F-1)*ls,limit:ls}),refetchInterval:1e4}),ae=Ze({queryKey:["notification-delivery-logs",R],queryFn:()=>AE({offset:(R-1)*ls,limit:ls}),refetchInterval:15e3}),Fe=Ze({queryKey:["notify-subs-emp"],queryFn:()=>zE({}),refetchInterval:15e3}),It=Ze({queryKey:["notify-subs-admin"],queryFn:()=>OE({}),refetchInterval:15e3}),Kt=Ze({queryKey:["daily-archives",Q,Se,M,I],queryFn:()=>qE({offset:(I-1)*ls,limit:ls,start_date:Q||void 0,end_date:Se||void 0,employee_query:M.trim()||void 0})}),Qt=b.useMemo(()=>{const V=Y.trim().toLowerCase();return V?(St.data??[]).filter(Ge=>`${Ge.id} ${Ge.full_name}`.toLowerCase().includes(V)):St.data??[]},[St.data,Y]),dt=b.useMemo(()=>{const V=q.trim().toLowerCase();return V?(At.data??[]).filter(Ge=>`${Ge.id} ${Ge.username}`.toLowerCase().includes(V)):At.data??[]},[At.data,q]),zt=b.useMemo(()=>{const V=de.trim().toLowerCase(),Ge=ae.data?.items??[];return V?Ge.filter(Mt=>[Mt.recipient_name??"",String(Mt.recipient_id??""),String(Mt.device_id??""),Mt.ip??"",Mt.status,Mt.target,Mt.title??"",Mt.sender_admin].join(" ").toLowerCase().includes(V)):Ge},[ae.data,de]),O=b.useMemo(()=>zt.filter(V=>V.status==="SENT").length,[zt]),Me=b.useMemo(()=>zt.filter(V=>V.status==="FAILED").length,[zt]),$e=b.useMemo(()=>zt.find(V=>V.audit_id===ze)??null,[zt,ze]),yt=ct.data?.items??[],Bt=ct.data?.total??0,ht=Math.max(1,Math.ceil(Bt/ls)),ln=Bt===0?0:(F-1)*ls+1,da=yt.length===0?0:ln+yt.length-1,yn=ae.data?.total??0,wt=Math.max(1,Math.ceil(yn/ls)),dn=yn===0?0:(R-1)*ls+1,ma=zt.length===0?0:dn+zt.length-1,Kn=Kt.data?.items??[],Pn=Kt.data?.total??0,Ut=Math.max(1,Math.ceil(Pn/ls)),Ga=Pn===0?0:(I-1)*ls+1,In=Kn.length===0?0:Ga+Kn.length-1,Yn=(It.data??[]).length,Bn=Yn>0,Va=(l?.username??"").trim().toLowerCase(),Cn=typeof l?.admin_user_id=="number"&&l.admin_user_id>0?l.admin_user_id:null,tn=b.useMemo(()=>{const V=It.data??[];let Ge=0,Mt=0,ya=0;for(const Ts of V){const Cs=Cn!==null&&Ts.admin_user_id===Cn,xt=Va.length>0&&(Ts.admin_username||"").trim().toLowerCase()===Va;Cs&&(Ge+=1),xt&&(Mt+=1),(Cs||xt)&&(ya+=1)}return{total:ya,byId:Ge,byUsername:Mt}},[It.data,Cn,Va]),Ya=Pe.data,De=Ya?.self_check_ok!==!1?Ya:void 0,wn=De?.active_claims_for_actor??tn.total,ra=De?.active_claims_for_actor_by_id??tn.byId,$n=De?.active_claims_for_actor_by_username??tn.byUsername,qt=wn>0,tt=ne.data,Xn=tt?.alarms?.length??0,U=tt?.status??(tt?.job_exists?"BILINMIYOR":"YOK"),Ie=Xn===0&&!!tt?.job_exists&&!!tt?.archive_exists&&tt?.status==="SENT"&&!!tt?.delivery_succeeded,it=Ee.data?.active_recipients??[],An=Ee.data?.active_count??0;b.useEffect(()=>{Ee.data&&at(V=>V.trim().length>0?V:it.join(`
`))},[Ee.data,it]);const En=Ye({mutationFn:FE,onSuccess:V=>{re(V),s({variant:"success",title:"Davet hazir",description:"Link admin cihaza gonderildi."}),navigator.clipboard.writeText(V.invite_url)},onError:V=>s({variant:"error",title:"Davet hatasi",description:Ue(V,"Davet olusturulamadi").message})}),P=Ye({mutationFn:UE,onSuccess:V=>{V.total_targets<=0||V.sent<=0?s({variant:"error",title:"Self-test basarisiz",description:`Hedef: ${V.total_targets} | Gonderilen: ${V.sent} | Hata: ${V.failed}`}):s({variant:"success",title:"Self-test bildirimi gonderildi",description:`Hedef: ${V.total_targets} | Gonderilen: ${V.sent}`}),e.invalidateQueries({queryKey:["admin-push-self-check"]}),e.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:V=>{const Ge=Ue(V,"Self-test bildirimi gonderilemedi.");s({variant:"error",title:"Self-test hatasi",description:Ge.message})}}),Be=Ye({mutationFn:async()=>{const V=await Af();if(!V.enabled||!V.vapid_public_key)throw new Error("Push bildirim servisi yapilandirilmamis.");const Ge=await az(V.vapid_public_key),Mt=await kb({subscription:Ge.toJSON(),send_test:!0});return window.localStorage.setItem(v_,V.vapid_public_key),Mt},onSuccess:V=>{s({variant:V.test_push_ok?"success":"error",title:V.test_push_ok?"Heal tamamlandi":"Heal tamamlandi ama test hatali",description:V.test_push_ok?`Abonelik yenilendi (#${V.subscription_id}) ve test bildirimi gonderildi.`:`Abonelik yenilendi (#${V.subscription_id}) ancak test bildirimi hatali.`}),e.invalidateQueries({queryKey:["admin-push-self-check"]}),e.invalidateQueries({queryKey:["notify-subs-admin"]}),e.invalidateQueries({queryKey:["notification-delivery-logs"]})},onError:V=>{if(V instanceof Error&&!("response"in V)){s({variant:"error",title:"Heal hatasi",description:V.message});return}const Ge=Ue(V,"Cihaz heal islemi basarisiz oldu.");s({variant:"error",title:"Heal hatasi",description:Ge.message})}}),vt=Ye({mutationFn:async()=>{const V=Array.from(new Set(He.split(/[\n,;]+/g).map(Ge=>Ge.trim().toLowerCase()).filter(Ge=>Ge.length>0)));return PE({emails:V})},onSuccess:V=>{at((V.active_recipients??[]).join(`
`)),s({variant:"success",title:"Mail alicilari guncellendi",description:`Aktif alici: ${V.active_count}`}),e.invalidateQueries({queryKey:["admin-notification-email-targets"]})},onError:V=>{const Ge=Ue(V,"Mail alicilari kaydedilemedi.");s({variant:"error",title:"Kayit hatasi",description:Ge.message})}}),Mn=Ye({mutationFn:async()=>{const V=be.trim();return IE({recipients:V?[V]:void 0,subject:mt.trim()||void 0,message:rt.trim()||void 0})},onSuccess:V=>{if(!V.ok){s({variant:"error",title:"Test mail gonderilemedi",description:`${V.error??V.mode} | Alici: ${V.recipients.join(", ")||"-"}`});return}s({variant:"success",title:"Test mail gonderildi",description:`Alici: ${V.recipients.join(", ")} | Sent: ${V.sent}`})},onError:V=>{const Ge=Ue(V,"Test mail gonderilemedi.");s({variant:"error",title:"Test mail hatasi",description:Ge.message})}}),Da=Ye({mutationFn:Tb,onSuccess:(V,Ge)=>{const Mt=Ge.target==="admins"||Ge.target==="both";V.total_targets<=0?s({variant:"error",title:"Bildirim gonderilemedi",description:"Hedef 0. Aktif abonelik yok; once cihaz claim edin."}):V.sent<=0?s({variant:"error",title:"Bildirim gonderilemedi",description:`Hedef: ${V.total_targets} / Gonderilen: ${V.sent} / Hata: ${V.failed}`}):(s({variant:"success",title:"Bildirim gonderildi",description:`Hedef: ${V.total_targets} / Gonderilen: ${V.sent}`}),Mt&&!qt&&s({variant:"error",title:"Bu hesapta claim eksik",description:"Admin hedefli gonderim yapildi ancak bu hesapta aktif claim olmadigi icin sana dusmeyebilir."})),Mt&&V.admin_target_missing&&s({variant:"error",title:"Admin hedefi 0",description:"Calisan bildirimi gitmis olabilir ama admin hedefinde aktif abonelik yok. Admin claim zorunlu."}),e.invalidateQueries({queryKey:["notification-jobs"]}),e.invalidateQueries({queryKey:["notification-delivery-logs"]}),e.invalidateQueries({queryKey:["admin-push-self-check"]})},onError:V=>s({variant:"error",title:"Gonderim hatasi",description:Ue(V,"Bildirim gonderilemedi").message})}),on=Ye({mutationFn:ME,onSuccess:()=>{e.invalidateQueries({queryKey:["notification-jobs"]})}}),ps=Ye({mutationFn:KE,onSuccess:(V,Ge)=>{const Mt=(Kt.data?.items??[]).find(ya=>ya.id===Ge);nz(V,Mt?.file_name??`arsiv-${Ge}.xlsx`)}}),sr=Ye({mutationFn:V=>YE(V),onSuccess:V=>{V.total_targets<=0||V.sent<=0?s({variant:"error",title:"Arsiv bildirimi gonderilemedi",description:`Hedef: ${V.total_targets} | Gonderilen: ${V.sent} | Hata: ${V.failed}. Aktif admin cihazi claim edilmeli.`}):(s({variant:"success",title:"Arsiv bildirimi gonderildi",description:`Hedef: ${V.total_targets} | Gonderilen: ${V.sent} | Hata: ${V.failed}`}),qt||s({variant:"error",title:"Bu hesapta claim eksik",description:"Bildirim gitti ama bu admin hesabinda aktif cihaz claim olmadigi icin sana dusmeyebilir."})),e.invalidateQueries({queryKey:["notification-jobs"]}),e.invalidateQueries({queryKey:["admin-daily-report-health"]})},onError:V=>{const Ge=Ue(V,"Arsiv bildirimi gonderilemedi.");Ge.code==="ADMIN_PUSH_SUBSCRIPTION_REQUIRED"?s({variant:"error",title:"Admin hedefi 0",description:"Aktif admin push aboneligi yok. Once admin cihazini claim edip tekrar deneyin."}):s({variant:"error",title:"Arsiv bildirimi basarisiz",description:Ge.message}),e.invalidateQueries({queryKey:["admin-daily-report-health"]})}});return b.useEffect(()=>{if(oe)return;const V=o.get("archive_id");if(!V)return;const Ge=Number(V);if(!Number.isInteger(Ge)||Ge<=0){H(!0);return}if(!(Kt.data?.items??[]).find(Ts=>Ts.id===Ge))return;H(!0),ps.mutate(Ge);const ya=new URLSearchParams(o);ya.delete("archive_id"),d(ya,{replace:!0})},[oe,Kt.data,ps,o,d]),b.useEffect(()=>{B(1)},[A]),b.useEffect(()=>{ct.data&&B(V=>V<1?1:V>ht?ht:V)},[ct.data,ht]),b.useEffect(()=>{G(1)},[de]),b.useEffect(()=>{ae.data&&G(V=>V<1?1:V>wt?wt:V)},[ae.data,wt]),b.useEffect(()=>{ue(1)},[Q,Se,M]),b.useEffect(()=>{if(zt.length===0){Ke(null);return}(ze===null||!zt.some(V=>V.audit_id===ze))&&Ke(zt[0].audit_id)},[zt,ze]),b.useEffect(()=>{Kt.data&&ue(V=>V<1?1:V>Ut?Ut:V)},[Kt.data,Ut]),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Bildirim Merkezi",description:"Push, claim daveti, job yonetimi ve gunluk Excel arsivi."}),n.jsxs(Re,{children:[n.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Admin davet suresi (dk)",n.jsx("input",{type:"number",min:1,max:1440,value:z,onChange:V=>k(Number(V.target.value||15)),className:"mt-1 w-40 rounded border border-slate-300 px-3 py-2"})]}),n.jsx("button",{type:"button",onClick:()=>En.mutate({expires_in_minutes:z}),className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Admin cihaz claim linki uret"}),n.jsxs("span",{className:"text-xs text-slate-500",children:["Push: ",rn.data?.enabled?"Aktif":"Pasif"]})]}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Link otomatik kopyalanir. Guvenlik icin kisa sure onerilir (ornegin 10-30 dk). Ekran: /admin-panel/device-claim?token=..."}),_e?n.jsxs("div",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 p-2 text-xs text-emerald-800",children:[n.jsxs("p",{children:["Token: ",_e.token]}),n.jsxs("p",{className:"break-all",children:["Link: ",_e.invite_url]}),n.jsxs("p",{children:["Bitis: ",Pr(_e.expires_at)]})]}):null]}),n.jsx(Re,{children:n.jsxs("form",{className:"space-y-3",onSubmit:V=>{V.preventDefault(),Da.mutate({title:m.trim(),message:x.trim(),password:_.trim(),target:w,employee_ids:w!=="admins"&&J.length>0?J:void 0,admin_user_ids:w!=="employees"&&xe.length>0?xe:void 0})},children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Manuel Push Gonder"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[n.jsx("input",{value:m,onChange:V=>f(V.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Baslik"}),n.jsx("input",{type:"password",value:_,onChange:V=>S(V.target.value),className:"rounded border border-slate-300 px-3 py-2",placeholder:"Admin sifresi"}),n.jsxs("select",{value:w,onChange:V=>T(V.target.value),className:"rounded border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"employees",children:"Calisanlara"}),n.jsx("option",{value:"admins",children:"Adminlere"}),n.jsx("option",{value:"both",children:"Her ikisine"})]})]}),n.jsx("textarea",{value:x,onChange:V=>v(V.target.value),rows:3,className:"w-full rounded border border-slate-300 px-3 py-2",placeholder:"Mesaj"}),w!=="admins"?n.jsxs("div",{children:[n.jsx(mi,{value:Y,onChange:ee,placeholder:"Calisan filtrele..."}),n.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:Qt.map(V=>n.jsxs("label",{className:"flex items-center justify-between py-1",children:[n.jsxs("span",{children:["#",V.id," - ",V.full_name]}),n.jsx("input",{type:"checkbox",checked:J.includes(V.id),onChange:()=>he(Ge=>Ge.includes(V.id)?Ge.filter(Mt=>Mt!==V.id):[...Ge,V.id])})]},V.id))})]}):null,w!=="employees"?n.jsxs("div",{children:[n.jsx(mi,{value:q,onChange:$,placeholder:"Admin filtrele..."}),n.jsx("div",{className:"mt-2 max-h-36 overflow-y-auto rounded border border-slate-200 p-2 text-sm",children:dt.map(V=>n.jsxs("label",{className:"flex items-center justify-between py-1",children:[n.jsxs("span",{children:["#",V.id," - ",V.username]}),n.jsx("input",{type:"checkbox",checked:xe.includes(V.id),onChange:()=>ce(Ge=>Ge.includes(V.id)?Ge.filter(Mt=>Mt!==V.id):[...Ge,V.id])})]},V.id))})]}):null,n.jsx("button",{type:"submit",className:"rounded bg-brand-600 px-4 py-2 text-sm font-semibold text-white",children:"Bildirimi gonder"})]})}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Isleri"}),n.jsxs("div",{className:"mb-2 mt-2 flex gap-2",children:[n.jsxs("select",{value:A,onChange:V=>D(V.target.value),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:[n.jsx("option",{value:"",children:"Tumu"}),n.jsx("option",{value:"PENDING",children:"PENDING"}),n.jsx("option",{value:"SENDING",children:"SENDING"}),n.jsx("option",{value:"SENT",children:"SENT"}),n.jsx("option",{value:"FAILED",children:"FAILED"}),n.jsx("option",{value:"CANCELED",children:"CANCELED"})]}),n.jsx("button",{type:"button",onClick:()=>{ct.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Yenile"})]}),ct.isLoading?n.jsx(Zt,{label:"Yukleniyor..."}):null,ct.isError?n.jsx(Ct,{message:"Job listesi alinamadi."}):null,!ct.isLoading&&!ct.isError?n.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[n.jsxs("span",{children:["Gosterilen satir: ",ln,"-",da," / ",Bt]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>B(V=>Math.max(1,V-1)),disabled:F<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),n.jsxs("span",{children:["Sayfa ",F," / ",ht]}),n.jsx("button",{type:"button",onClick:()=>B(V=>Math.min(ht,V+1)),disabled:F>=ht,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,n.jsx("div",{className:"mt-2 max-h-[420px] overflow-auto rounded-lg border border-slate-200",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"sticky top-0 bg-white",children:n.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[n.jsx("th",{className:"px-2 py-2",children:"Sira"}),n.jsx("th",{className:"px-2 py-2",children:"ID"}),n.jsx("th",{className:"px-2 py-2",children:"Tur"}),n.jsx("th",{className:"px-2 py-2",children:"Durum"}),n.jsx("th",{className:"px-2 py-2",children:"Planlanan"}),n.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),n.jsx("tbody",{children:yt.map((V,Ge)=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-2 py-2 text-slate-500",children:ln+Ge}),n.jsx("td",{className:"px-2 py-2",children:V.id}),n.jsx("td",{className:"px-2 py-2",children:V.job_type}),n.jsx("td",{className:"px-2 py-2",children:n.jsx("span",{className:`rounded px-2 py-1 text-xs ${JM(V.status)}`,children:V.status})}),n.jsx("td",{className:"px-2 py-2",children:Pr(V.scheduled_at_utc)}),n.jsx("td",{className:"px-2 py-2",children:V.status==="PENDING"||V.status==="SENDING"?n.jsx("button",{type:"button",className:"rounded border border-rose-300 px-2 py-1 text-xs text-rose-700",onClick:()=>on.mutate(V.id),children:"Iptal"}):"-"})]},V.id))})]})}),!ct.isLoading&&!ct.isError&&Bt===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun bildirim isi bulunamadi."}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Abonelik Ozeti"}),n.jsxs("div",{className:"grid gap-2 md:grid-cols-4",children:[n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Calisan abonelik: ",(Fe.data??[]).length]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Admin abonelik: ",(It.data??[]).length]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv dosyasi: ",Pn]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat log satiri: ",yn]})]}),Bn?null:n.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:'Aktif admin push aboneligi yok. "Admin cihaz claim linki uret" adimini tamamlamadan bildirim gonderilemez.'})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Admin Push Self-Check"}),n.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin: ",n.jsx("strong",{children:l?.username??"-"})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Login admin ID: ",n.jsx("strong",{children:l?.admin_user_id??"-"})]}),n.jsxs("div",{className:`rounded border p-3 text-sm ${qt?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Bu hesap claim: ",n.jsx("strong",{children:wn})," (id:",ra," / user:",$n,")"]}),n.jsxs("div",{className:`rounded border p-3 text-sm ${De?.push_enabled??rn.data?.enabled?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:["Push config:"," ",n.jsx("strong",{children:De?.push_enabled??rn.data?.enabled?"Aktif":"Pasif"})]})]}),n.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam aktif admin claim: ",n.jsx("strong",{children:De?.active_total_subscriptions??Yn})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Son claim gorulme:"," ",n.jsx("strong",{children:De?.latest_claim_seen_at?Pr(De.latest_claim_seen_at):"-"})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Claim saglik:"," ",n.jsxs("strong",{children:["saglikli ",De?.active_claims_healthy??0," / ","hatali ",De?.active_claims_with_error??0," / ","stale ",De?.active_claims_stale??0]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>P.mutate(),disabled:P.isPending||Be.isPending,className:"rounded border border-brand-300 px-3 py-2 text-sm text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:P.isPending?"Self-test gonderiliyor...":"Kendime test bildirimi gonder"}),n.jsx("button",{type:"button",onClick:()=>Be.mutate(),disabled:Be.isPending||P.isPending,className:"rounded border border-emerald-300 px-3 py-2 text-sm text-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:Be.isPending?"Heal calisiyor...":"Bu cihazi heal et"})]})})]}),n.jsxs("div",{className:"mt-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:["Son self-test:"," ",n.jsx("strong",{children:De?.last_self_test_at?Pr(De.last_self_test_at):"-"})," | ","Durum:"," ",n.jsx("strong",{children:De?.last_self_test_success===null?"-":De?.last_self_test_success?"BASARILI":"HATALI"})," | ","Hedef:"," ",n.jsx("strong",{children:De?.last_self_test_total_targets??"-"})," | ","Gonderilen:"," ",n.jsx("strong",{children:De?.last_self_test_sent??"-"})," | ","Hata:"," ",n.jsx("strong",{children:De?.last_self_test_failed??"-"})]}),Pe.isError?n.jsx("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Self-check verisi alinamadi. Fallback olarak abonelik listesi kullaniliyor."}):null,Pe.data?.self_check_ok===!1?n.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Self-check degradasyona dustu: ",Pe.data.self_check_error||"bilinmeyen hata",". Fallback olarak abonelik listesi kullaniliyor."]}):null,qt?null:n.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Bu admin hesabinda aktif cihaz claim gorunmuyor. Bildirim almak icin telefonda claim linkini acip izin adimini tamamla."}),De?.latest_claim_error?n.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Son claim hatasi: ",De.latest_claim_error]}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mail Bildirim Ayarlari"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gece gunluk Excel arsiv job'unda mail gonderimi best-effort calisir; push teslimati onceliklidir."}),n.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-3",children:[n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Aktif mail alicisi: ",n.jsx("strong",{children:An})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Son health email: ",n.jsx("strong",{children:tt?.email_sent??0})]}),n.jsx("button",{type:"button",onClick:()=>{Ee.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Mail listesini yenile"})]}),Ee.isError?n.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Mail hedefleri yuklenemedi."}):null,An<=0?n.jsx("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Aktif mail alicisi yok. Mail kanali devre disi kalir, push bildirimi calismaya devam eder."}):null,n.jsxs("label",{className:"mt-3 block text-xs text-slate-600",children:["Alici listesi (satir satir veya virgul ile)",n.jsx("textarea",{value:He,onChange:V=>at(V.target.value),rows:5,placeholder:`ornek@domain.com
destek@domain.com`,className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>vt.mutate(),disabled:vt.isPending,className:"rounded border border-brand-300 bg-brand-50 px-3 py-2 text-sm text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",children:vt.isPending?"Kaydediliyor...":"Mail alicilarini kaydet"}),n.jsx("button",{type:"button",onClick:()=>at(it.join(`
`)),className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Listeyi geri al"})]}),n.jsxs("div",{className:"mt-4 rounded border border-slate-200 bg-slate-50 p-3",children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Test mail gonder"}),n.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"Alici bos birakilirsa kayitli tum aktif adreslere test mail gonderilir."}),n.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-3",children:[n.jsxs("label",{className:"text-xs text-slate-600",children:["Test alici (opsiyonel)",n.jsx("input",{value:be,onChange:V=>lt(V.target.value),placeholder:"tekbir@adres.com",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),n.jsxs("label",{className:"text-xs text-slate-600 md:col-span-2",children:["Konu",n.jsx("input",{value:mt,onChange:V=>Ae(V.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]})]}),n.jsxs("label",{className:"mt-2 block text-xs text-slate-600",children:["Mesaj",n.jsx("textarea",{value:rt,onChange:V=>bt(V.target.value),rows:3,className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),n.jsx("button",{type:"button",onClick:()=>Mn.mutate(),disabled:Mn.isPending,className:"mt-2 rounded border border-slate-300 px-3 py-2 text-sm disabled:cursor-not-allowed disabled:opacity-60",children:Mn.isPending?"Test gonderiliyor...":"Test mail gonder"})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Bildirim Teslimat Logu"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Kime gitti / gitmedi, isim-ID, cihaz, IP ve hata bilgisini izleyin."}),n.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Toplam satir: ",yn]}),n.jsxs("div",{className:"rounded border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Gonderildi: ",O]}),n.jsxs("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:["Gonderilemedi: ",Me]}),n.jsx("button",{type:"button",onClick:()=>{ae.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Logu yenile"})]}),n.jsx("div",{className:"mt-3",children:n.jsx(mi,{value:de,onChange:je,placeholder:"Isim, ID, cihaz, IP, baslik, durum ara..."})}),!ae.isLoading&&!ae.isError?n.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[n.jsxs("span",{children:["Gosterilen satir: ",dn,"-",ma," / ",yn]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>G(V=>Math.max(1,V-1)),disabled:R<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),n.jsxs("span",{children:["Sayfa ",R," / ",wt]}),n.jsx("button",{type:"button",onClick:()=>G(V=>Math.min(wt,V+1)),disabled:R>=wt,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,ae.isLoading?n.jsx(Zt,{label:"Teslimat logu yukleniyor..."}):null,ae.isError?n.jsx(Ct,{message:"Teslimat logu alinamadi."}):null,!ae.isLoading&&!ae.isError?n.jsxs("div",{className:"mt-3 grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[n.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),n.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"delivery-terminal"})]}),n.jsxs("span",{className:"text-[11px] text-slate-400",children:[dn,"-",ma," / ",yn]})]}),n.jsxs("div",{className:"max-h-[520px] overflow-auto",children:[n.jsxs("table",{className:"min-w-full table-fixed text-left text-xs",children:[n.jsx("thead",{className:"sticky top-0 bg-slate-900/95 text-[11px] uppercase text-slate-400",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-36 px-2 py-2",children:"Zaman"}),n.jsx("th",{className:"w-24 px-2 py-2",children:"Durum"}),n.jsx("th",{className:"w-24 px-2 py-2",children:"Hedef"}),n.jsx("th",{className:"w-56 px-2 py-2",children:"Kisi"}),n.jsx("th",{className:"w-20 px-2 py-2",children:"Cihaz"}),n.jsx("th",{className:"w-36 px-2 py-2",children:"IP"}),n.jsx("th",{className:"w-48 px-2 py-2",children:"Baslik"}),n.jsx("th",{className:"w-64 px-2 py-2",children:"Hata"})]})}),n.jsx("tbody",{children:zt.map((V,Ge)=>{const Mt=V.audit_id===ze;return n.jsxs("tr",{onClick:()=>Ke(V.audit_id),className:`cursor-pointer border-t border-slate-800 ${Mt?"bg-cyan-900/35":"hover:bg-slate-800/55"}`,children:[n.jsx("td",{className:"px-2 py-2 text-slate-300",children:Pr(V.sent_at_utc)}),n.jsx("td",{className:"px-2 py-2",children:n.jsx("span",{className:`rounded px-2 py-0.5 text-[11px] font-semibold ${WM(V.status)}`,children:V.status})}),n.jsx("td",{className:"px-2 py-2 text-slate-300",children:bv(V.target)}),n.jsxs("td",{className:"px-2 py-2 text-slate-300 truncate",title:`#${V.recipient_id??"-"} - ${V.recipient_name??"-"}`,children:["#",V.recipient_id??"-"," - ",V.recipient_name??"-"]}),n.jsx("td",{className:"px-2 py-2 text-slate-300",children:V.device_id??"-"}),n.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:V.ip??"-",children:V.ip??"-"}),n.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:V.title??"-",children:V.title??"-"}),n.jsx("td",{className:"px-2 py-2 text-slate-300 truncate",title:V.error??"-",children:V.error??"-"})]},`${V.audit_id}-${V.recipient_type}-${V.recipient_id??0}-${V.device_id??0}-${Ge}`)})})]}),zt.length===0?n.jsx("p",{className:"px-3 py-3 text-sm text-amber-300",children:"Filtreye uygun teslimat kaydi bulunamadi."}):null]})]}),n.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Secili teslimat detayi"}),$e===null?n.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayit secin."}):n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",Pr($e.sent_at_utc)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Durum:"})," ",$e.status]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Hedef tipi:"})," ",$e.recipient_type==="employee"?"CALISAN":"ADMIN"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Hedef:"})," ",bv($e.target)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Kisi:"})," #",$e.recipient_id??"-"," -"," ",$e.recipient_name??"-"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Cihaz:"})," ",$e.device_id??"-"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"IP:"})," ",$e.ip??"-"]}),n.jsxs("p",{className:"break-words",children:[n.jsx("span",{className:"font-semibold",children:"Baslik:"})," ",$e.title??"-"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Gonderen:"})," ",$e.sender_admin]}),n.jsxs("p",{className:"break-all",children:[n.jsx("span",{className:"font-semibold",children:"Endpoint:"})," ",$e.endpoint??"-"]}),n.jsxs("p",{className:"break-all",children:[n.jsx("span",{className:"font-semibold",children:"Hata:"})," ",$e.error??"-"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),n.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify($e,null,2)})]})]})]})]}):null]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Gunluk Excel Arsivi"}),n.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-4",children:[n.jsxs("div",{className:`rounded border p-3 text-sm ${tz(tt)}`,children:["Gece job durumu: ",n.jsx("strong",{children:U}),n.jsxs("div",{className:"mt-1 text-xs",children:["Alarm: ",n.jsx("strong",{children:Xn})]})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Rapor tarihi: ",n.jsx("strong",{children:tt?.report_date??"-"}),n.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Son kontrol: ",tt?.evaluated_at_utc?Pr(tt.evaluated_at_utc):"-"]})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Teslimat: ",n.jsx("strong",{children:tt?.push_sent??0})," / ",tt?.push_total_targets??0,n.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Push hata: ",tt?.push_failed??0," | Email: ",tt?.email_sent??0]})]}),n.jsxs("div",{className:"rounded border border-slate-200 p-3 text-sm",children:["Arsiv: ",n.jsx("strong",{children:tt?.archive_exists?`#${tt.archive_id}`:"YOK"}),n.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Calisan: ",tt?.archive_employee_count??0," | Boyut: ",((tt?.archive_file_size_bytes??0)/1024).toFixed(1)," KB"]})]})]}),ne.isError?n.jsx("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Gece 00:00 job health verisi alinamadi."}):null,!ne.isError&&tt?n.jsx("div",{className:"mt-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:Xn>0?n.jsx("div",{className:"flex flex-wrap gap-1",children:tt.alarms.map(V=>n.jsx("span",{className:"rounded border border-rose-300 bg-rose-100 px-2 py-0.5 text-rose-800",children:ez(V)},V))}):n.jsx("span",{className:"text-emerald-700",children:"Alarm yok. Gece arsiv job durumu saglikli."})}):null,tt?.target_zero?n.jsx("p",{className:"mt-2 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-800",children:"Gece job hedefi 0 gorunuyor. Push claim veya mail alici listesi bos olabilir."}):null,tt?.last_error?n.jsxs("p",{className:"mt-2 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:["Son job hatasi: ",tt.last_error]}):null,tt&&Ie?n.jsx("p",{className:"mt-2 rounded border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:"Gece 00:00 job olustu, teslimat yapildi ve alarm bulunmuyor."}):null,n.jsxs("div",{className:"mt-3 grid gap-2 md:grid-cols-4",children:[n.jsxs("label",{className:"text-xs text-slate-600",children:["Baslangic",n.jsx("input",{type:"date",value:Q,onChange:V=>se(V.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),n.jsxs("label",{className:"text-xs text-slate-600",children:["Bitis",n.jsx("input",{type:"date",value:Se,onChange:V=>X(V.target.value),className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),n.jsxs("label",{className:"text-xs text-slate-600",children:["Calisan icerigi",n.jsx("input",{value:M,onChange:V=>te(V.target.value),placeholder:"ad veya ID",className:"mt-1 w-full rounded border border-slate-300 px-2 py-1.5 text-sm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>{Kt.refetch()},className:"rounded border border-slate-300 px-3 py-2 text-sm",children:"Arsivi yenile"})})]}),Kt.isLoading?n.jsx(Zt,{label:"Arsiv yukleniyor..."}):null,Kt.isError?n.jsx(Ct,{message:"Arsiv listesi alinamadi."}):null,!Kt.isLoading&&!Kt.isError?n.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 rounded border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[n.jsxs("span",{children:["Gosterilen satir: ",Ga,"-",In," / ",Pn]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>ue(V=>Math.max(1,V-1)),disabled:I<=1,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),n.jsxs("span",{children:["Sayfa ",I," / ",Ut]}),n.jsx("button",{type:"button",onClick:()=>ue(V=>Math.min(Ut,V+1)),disabled:I>=Ut,className:"rounded border border-slate-300 px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]}):null,n.jsx("div",{className:"mt-2 max-h-[520px] overflow-auto rounded-lg border border-slate-200",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"sticky top-0 bg-white",children:n.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[n.jsx("th",{className:"px-2 py-2",children:"Sira"}),n.jsx("th",{className:"px-2 py-2",children:"ID"}),n.jsx("th",{className:"px-2 py-2",children:"Tarih"}),n.jsx("th",{className:"px-2 py-2",children:"Dosya"}),n.jsx("th",{className:"px-2 py-2",children:"Calisan"}),n.jsx("th",{className:"px-2 py-2",children:"Boyut"}),n.jsx("th",{className:"px-2 py-2",children:"Islem"})]})}),n.jsx("tbody",{children:Kn.map((V,Ge)=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"px-2 py-2 text-slate-500",children:Ga+Ge}),n.jsx("td",{className:"px-2 py-2",children:V.id}),n.jsx("td",{className:"px-2 py-2",children:V.report_date}),n.jsx("td",{className:"px-2 py-2",children:V.file_name}),n.jsx("td",{className:"px-2 py-2",children:V.employee_count}),n.jsxs("td",{className:"px-2 py-2",children:[(V.file_size_bytes/1024).toFixed(1)," KB"]}),n.jsx("td",{className:"px-2 py-2",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{type:"button",className:"rounded border border-brand-300 px-2 py-1 text-xs text-brand-700",onClick:()=>ps.mutate(V.id),children:"Excel indir"}),n.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-xs text-slate-700",title:Bn?void 0:"Aktif admin push aboneligi yok",onClick:()=>sr.mutate(V.id),disabled:sr.isPending||!Bn,children:"Adminlere bildir"})]})})]},V.id))})]})}),!Kt.isLoading&&!Kt.isError&&Pn===0?n.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Filtreye uygun arsiv kaydi bulunamadi."}):null]})]})}const Ll={action:"",entityType:"",entityId:"",success:"all"},fd=35,iz=[{value:"",label:"Tum aksiyonlar"},{value:"ADMIN_LOGIN_SUCCESS",label:"Admin giris basarili"},{value:"ADMIN_LOGIN_FAIL",label:"Admin giris basarisiz"},{value:"ADMIN_REFRESH",label:"Admin token yeniledi"},{value:"ADMIN_LOGOUT",label:"Admin cikis yapti"},{value:"ATTENDANCE_EVENT_CREATED",label:"Yoklama kaydi olusturuldu"},{value:"DEVICE_INVITE_CREATED",label:"Cihaz daveti olusturuldu"},{value:"DEVICE_CLAIMED",label:"Cihaz eslestirildi"},{value:"LEAVE_CREATED",label:"Izin olusturuldu"},{value:"LEAVE_DELETED",label:"Izin silindi"}],rz={ADMIN_LOGIN_SUCCESS:"Admin giris basarili",ADMIN_LOGIN_FAIL:"Admin giris basarisiz",ADMIN_REFRESH:"Admin token yeniledi",ADMIN_LOGOUT:"Admin cikis yapti",ATTENDANCE_EVENT_CREATED:"Yoklama kaydi olusturuldu",DEVICE_INVITE_CREATED:"Cihaz daveti olusturuldu",DEVICE_CLAIMED:"Cihaz eslestirildi",LEAVE_CREATED:"Izin olusturuldu",LEAVE_DELETED:"Izin silindi"};function lz(e){return new Intl.DateTimeFormat("tr-TR",{dateStyle:"short",timeStyle:"medium"}).format(new Date(e))}function oz(e){return new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(e))}function uz(e){return e?"Basarili":"Hata"}function cz(e){const s=Object.entries(e);return s.length===0?"-":s.slice(0,3).map(([l,o])=>`${l}: ${String(o)}`).join(" | ")}function dz(e){return rz[e]??e}function mz(e,s){const l=Number.isInteger(s)&&s>0?s:1;return{action:e.action||void 0,entity_type:e.entityType||void 0,entity_id:e.entityId||void 0,success:e.success==="all"?void 0:e.success==="success",offset:(l-1)*fd,limit:fd}}function hz(e){const s=`${e.actor_type}:${e.actor_id}`,l=e.entity_type?`${e.entity_type}${e.entity_id?`#${e.entity_id}`:""}`:"-",o=e.ip??"-";return`[${oz(e.ts_utc)}] ${e.action} actor=${s} entity=${l} ip=${o}`}function fz(e){return e==="success"?"text-emerald-300":e==="warning"?"text-amber-300":e==="error"?"text-rose-300":"text-cyan-300"}function pz(){const[e,s]=b.useState(Ll),[l,o]=b.useState(Ll),[d,m]=b.useState(1),[f,x]=b.useState(""),[v,_]=b.useState(!0),[S,w]=b.useState(""),[T,z]=b.useState(null),[k,A]=b.useState([{id:1,level:"info",text:'Log terminali hazir. Yardim icin "help" yazin.'}]),D=b.useRef(2),F=b.useRef(null),B=b.useMemo(()=>mz(l,d),[l,d]),R=Ze({queryKey:["audit-logs",B],queryFn:()=>Eb(B),refetchInterval:v?8e3:!1,refetchIntervalInBackground:!0}),G=R.data?.items??[],Y=R.data?.total??0,ee=Math.max(1,Math.ceil(Y/fd)),q=Y===0?0:(d-1)*fd+1,$=G.length===0?0:q+G.length-1,J=b.useMemo(()=>{if(!f.trim())return G;const Q=f.trim().toLowerCase();return G.filter(se=>[se.action,se.actor_type,se.actor_id,se.entity_type??"",se.entity_id??"",se.ip??"",se.user_agent??"",JSON.stringify(se.details)].join(" ").toLowerCase().includes(Q))},[G,f]),he=b.useMemo(()=>{if(T!==null){const Q=J.find(se=>se.id===T);if(Q)return Q}return J[0]??null},[T,J]),xe=b.useMemo(()=>{const Q=G.filter(X=>!X.success).length,se=G.filter(X=>X.action.startsWith("ADMIN_LOGIN")).length,Se=G.filter(X=>X.action==="ATTENDANCE_EVENT_CREATED").length;return{total:Y,failed:Q,loginEvents:se,attendanceEvents:Se}},[G,Y]);b.useEffect(()=>{!he&&T!==null&&z(null)},[he,T]),b.useEffect(()=>{R.data&&m(Q=>Q<1?1:Q>ee?ee:Q)},[R.data,ee]),b.useEffect(()=>{!v||F.current===null||(F.current.scrollTop=F.current.scrollHeight)},[v,J,k]);const ce=(Q,se)=>{A(Se=>{const X=[...Se,{id:D.current,level:Q,text:se}];return D.current+=1,X.slice(-120)})},_e=Q=>{Q.preventDefault(),o({...e}),m(1),ce("success","Filtreler uygulandi.")},re=()=>{s(Ll),o(Ll),m(1),x(""),ce("info","Filtreler temizlendi.")},oe=Q=>{const se=Q.trim();if(!se)return;ce("info",`$ ${se}`);const[Se,...X]=se.split(/\s+/),M=Se.toLowerCase(),te=se.slice(Se.length).trim();if(M==="help"||M==="yardim"){ce("info","Komutlar: help, clear, apply, reset, refresh, follow on|off, status all|success|failed, action <AKSIYON>, search <METIN>, page <N>");return}if(M==="clear"||M==="temizle"){A([]),D.current=1,ce("success","Terminal cikti gecmisi temizlendi.");return}if(M==="apply"||M==="uygula"){o({...e}),m(1),ce("success","Taslak filtreler uygulandi.");return}if(M==="reset"||M==="sifirla"){s(Ll),o(Ll),m(1),x(""),ce("warning","Filtreler sifirlandi.");return}if(M==="refresh"||M==="yenile"){R.refetch(),ce("success","Log verisi yeniden cekiliyor.");return}if(M==="follow"||M==="takip"){const I=X[0]?.toLowerCase();if(I==="on"||I==="ac"){_(!0),ce("success","Canli takip acildi.");return}if(I==="off"||I==="kapat"){_(!1),ce("warning","Canli takip kapatildi.");return}ce("error","Kullanim: follow on|off");return}if(M==="status"||M==="durum"){const I=X[0]?.toLowerCase();let ue=null;if((I==="all"||I==="tum")&&(ue="all"),(I==="success"||I==="ok"||I==="basarili")&&(ue="success"),(I==="failed"||I==="error"||I==="hata")&&(ue="failed"),ue===null){ce("error","Kullanim: status all|success|failed");return}s(de=>({...de,success:ue})),o(de=>({...de,success:ue})),m(1),ce("success",`Durum filtresi guncellendi: ${ue}`);return}if(M==="action"||M==="aksiyon"){if(!te){ce("error","Kullanim: action <AKSIYON_KODU>");return}s(I=>({...I,action:te})),o(I=>({...I,action:te})),m(1),ce("success",`Aksiyon filtresi guncellendi: ${te}`);return}if(M==="search"||M==="ara"){x(te),ce("success",te?`Metin aramasi uygulandi: "${te}"`:"Metin aramasi temizlendi.");return}if(M==="page"||M==="sayfa"){const I=Number(X[0]);if(!Number.isFinite(I)||I<=0){ce("error","Kullanim: page <1-n>");return}const ue=Math.max(Math.trunc(I),1);m(ue),ce("success",`Sayfa guncellendi: ${ue}`);return}ce("error",`Bilinmeyen komut: ${M}. Yardim icin "help" yazin.`)},H=Q=>{Q.preventDefault(),oe(S),w("")};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Sistem Loglari",description:"Program hareketleri, hata kayitlari, giris/cikis ve yoklama islemlerini terminal gorunumunde izleyin."}),n.jsxs(Re,{children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Toplam log"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:xe.total})]}),n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-rose-700",children:"Hata logu"}),n.jsx("p",{className:"text-sm font-semibold text-rose-800",children:xe.failed})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Login olaylari"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:xe.loginEvents})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Yoklama eventleri"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:xe.attendanceEvents})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{const Q=!v;_(Q),ce("info",Q?"Canli takip acildi.":"Canli takip kapatildi.")},className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${v?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,children:v?"Canli takip: Acik":"Canli takip: Kapali"}),n.jsx("button",{type:"button",onClick:()=>{R.refetch(),ce("success","Log listesi manuel yenilendi.")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Yenile"}),n.jsx("button",{type:"button",onClick:re,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Filtreleri temizle"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[n.jsxs("span",{children:["Gosterilen satir: ",q,"-",$," / ",Y]}),n.jsx("button",{type:"button",onClick:()=>m(Q=>Math.max(1,Q-1)),disabled:d<=1,className:"rounded border border-slate-300 px-2 py-1 disabled:cursor-not-allowed disabled:opacity-50",children:"Onceki"}),n.jsxs("span",{children:["Sayfa ",d," / ",ee]}),n.jsx("button",{type:"button",onClick:()=>m(Q=>Math.min(ee,Q+1)),disabled:d>=ee,className:"rounded border border-slate-300 px-2 py-1 disabled:cursor-not-allowed disabled:opacity-50",children:"Sonraki"})]})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Filtreler"}),n.jsxs("form",{className:"mt-3 space-y-3",onSubmit:_e,children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Aksiyon",n.jsx("select",{value:e.action,onChange:Q=>s(se=>({...se,action:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:iz.map(Q=>n.jsx("option",{value:Q.value,children:Q.label},Q.label))})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Varlik turu",n.jsx("input",{type:"text",value:e.entityType,onChange:Q=>s(se=>({...se,entityType:Q.target.value})),placeholder:"attendance_event / leave",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Varlik ID",n.jsx("input",{type:"text",value:e.entityId,onChange:Q=>s(se=>({...se,entityId:Q.target.value})),placeholder:"Orn: 42",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Durum",n.jsxs("select",{value:e.success,onChange:Q=>s(se=>({...se,success:Q.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"all",children:"Tumu"}),n.jsx("option",{value:"success",children:"Basarili"}),n.jsx("option",{value:"failed",children:"Hata"})]})]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto_auto]",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Metin ara",n.jsx("input",{type:"text",value:f,onChange:Q=>x(Q.target.value),placeholder:"Aksiyon, kullanici, IP, detay...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsx("button",{type:"submit",className:"btn-primary self-end rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700",children:"Uygula"}),n.jsx("button",{type:"button",onClick:re,className:"btn-secondary self-end rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Temizle"})]})]})]}),n.jsxs(Re,{children:[R.isLoading?n.jsx(Zt,{label:"Log kayitlari yukleniyor..."}):null,R.isError?n.jsx(Ct,{message:Ue(R.error,"Log kayitlari alinamadi.").message}):null,!R.isLoading&&!R.isError?n.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_360px]",children:[n.jsxs("section",{className:"overflow-hidden rounded-xl border border-slate-900 bg-[#09131d] text-slate-200 shadow-inner",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 bg-slate-900/70 px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-400"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"}),n.jsx("span",{className:"ml-2 text-xs font-semibold text-slate-300",children:"audit-terminal"})]}),n.jsxs("span",{className:"text-[11px] text-slate-400",children:[v?"FOLLOW MODE":"MANUAL MODE","  ",q,"-",$," / ",Y]})]}),n.jsx("form",{onSubmit:H,className:"border-b border-slate-700 bg-slate-900/50 p-2",children:n.jsxs("label",{className:"flex items-center gap-2 text-xs font-mono text-emerald-300",children:[n.jsx("span",{children:"admin@audit:~$"}),n.jsx("input",{value:S,onChange:Q=>w(Q.target.value),placeholder:"help, follow on, status failed, action ATTENDANCE_EVENT_CREATED, search duplicate, page 2...",className:"w-full rounded border border-slate-700 bg-slate-950 px-2 py-1.5 font-mono text-xs text-slate-100 placeholder:text-slate-500 focus:border-cyan-400"})]})}),n.jsxs("div",{ref:F,className:"h-[520px] overflow-y-auto px-3 py-2 font-mono text-xs",children:[k.map(Q=>n.jsx("p",{className:`leading-6 ${fz(Q.level)}`,children:Q.text},Q.id)),J.map(Q=>{const se=he?.id===Q.id;return n.jsxs("button",{type:"button",onClick:()=>z(Q.id),className:`mt-1 block w-full rounded px-2 py-1 text-left leading-6 ${se?"bg-cyan-900/40 ring-1 ring-cyan-500/40":"hover:bg-slate-800/60"}`,children:[n.jsx("span",{className:Q.success?"text-emerald-300":"text-rose-300",children:Q.success?"[OK]":"[ERR]"})," ",n.jsx("span",{className:"text-slate-200",children:hz(Q)})]},Q.id)}),J.length===0?n.jsx("p",{className:"mt-2 text-amber-300",children:"Filtreye uygun log kaydi bulunamadi."}):null]})]}),n.jsxs("aside",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-900",children:"Secili log detayi"}),he===null?n.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Listeden bir kayit secin."}):n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Aksiyon"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:dz(he.action)}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:he.action})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Zaman:"})," ",lz(he.ts_utc)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Aktor:"})," ",he.actor_type,":",he.actor_id]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Durum:"})," ",uz(he.success)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Varlik:"})," ",he.entity_type??"-",he.entity_id?` #${he.entity_id}`:""]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"IP:"})," ",he.ip??"-"]}),n.jsxs("p",{className:"break-all",children:[n.jsx("span",{className:"font-semibold",children:"User Agent:"})," ",he.user_agent??"-"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-semibold",children:"Detay ozeti:"})," ",cz(he.details)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-600",children:"JSON detay"}),n.jsx("pre",{className:"max-h-64 overflow-auto rounded-lg bg-slate-900 p-2 text-[11px] text-slate-100",children:JSON.stringify(he.details,null,2)})]})]})]})]}):null]})]})}const gz=Qa({department_id:Ln().int().positive(),daily_minutes_planned:Ln().int().nonnegative(),break_minutes:Ln().int().nonnegative(),grace_minutes:Ln().int().nonnegative()}),xz=Qa({department_id:Ln().int().positive(),weekday:Ln().int().min(0).max(6),is_workday:Cd(),planned_minutes:Ln().int().nonnegative(),break_minutes:Ln().int().nonnegative()}),yz=Qa({department_id:Ln().int().positive(),name:na().min(1).max(100),start_time_local:na().regex(/^\d{2}:\d{2}$/),end_time_local:na().regex(/^\d{2}:\d{2}$/),break_minutes:Ln().int().nonnegative(),is_active:Cd()}),_v=[{value:0,label:"Pazartesi"},{value:1,label:"Sali"},{value:2,label:"Carsamba"},{value:3,label:"Persembe"},{value:4,label:"Cuma"},{value:5,label:"Cumartesi"},{value:6,label:"Pazar"}],vz=[{value:"DEPARTMENT",label:"Tum departman"},{value:"DEPARTMENT_EXCEPT_EMPLOYEE",label:"Departman (calisan haric)"},{value:"ONLY_EMPLOYEE",label:"Sadece secili calisan"}],bz={DEPARTMENT:"Departman geneli",DEPARTMENT_EXCEPT_EMPLOYEE:"Departman (haric)",ONLY_EMPLOYEE:"Sadece calisan"};function hf(e){const s=e.trim();if(!s)return null;const l=Number(s);return!Number.isFinite(l)||l<0?null:Math.trunc(l)}function _z(e,s){const l=e.target_employee_ids&&e.target_employee_ids.length>0?e.target_employee_ids:e.target_employee_id?[e.target_employee_id]:[];return{id:e.id,department_id:e.department_id,target_type:e.target_type,target_employee_id:l.length>0?l[0]:null,target_employee_ids:l,shift_id:e.shift_id,daily_minutes_planned:e.daily_minutes_planned,break_minutes:e.break_minutes,grace_minutes:e.grace_minutes,start_date:e.start_date,end_date:e.end_date,is_locked:e.is_locked,is_active:s,note:e.note}}function Nz(){const e=sa(),{pushToast:s}=ia(),[l,o]=b.useState(""),[d,m]=b.useState("540"),[f,x]=b.useState("60"),[v,_]=b.useState("5"),[S,w]=b.useState(""),[T,z]=b.useState("0"),[k,A]=b.useState(!0),[D,F]=b.useState("540"),[B,R]=b.useState("60"),[G,Y]=b.useState(""),[ee,q]=b.useState(""),[$,J]=b.useState("10:00"),[he,xe]=b.useState("18:00"),[ce,_e]=b.useState("60"),[re,oe]=b.useState(!0),[H,Q]=b.useState(null),[se,Se]=b.useState(null),[X,M]=b.useState(""),[te,I]=b.useState("DEPARTMENT"),[ue,de]=b.useState([]),[je,ze]=b.useState(""),[Ke,He]=b.useState(""),[at,be]=b.useState(""),[lt,mt]=b.useState(""),[Ae,rt]=b.useState(""),[bt,St]=b.useState(new Date().toISOString().slice(0,10)),[At,rn]=b.useState(new Date().toISOString().slice(0,10)),[ne,Ee]=b.useState(!1),[Pe,ct]=b.useState(!0),[ae,Fe]=b.useState(""),[It,Kt]=b.useState(!0),[Qt,dt]=b.useState(null),zt=Ze({queryKey:["departments"],queryFn:tr}),O=Ze({queryKey:["employees","all"],queryFn:()=>ks({status:"all"})}),Me=Ze({queryKey:["work-rules"],queryFn:hE}),$e=Ze({queryKey:["department-weekly-rules"],queryFn:()=>jb()}),yt=Ze({queryKey:["department-shifts"],queryFn:()=>fu()}),Bt=Ze({queryKey:["schedule-plans","all"],queryFn:()=>SE({active_only:!1})}),ht=Ye({mutationFn:fE,onSuccess:()=>{dt(null),s({variant:"success",title:"Mesai kurali kaydedildi",description:"Departman mesai kurali kaydedildi."}),e.invalidateQueries({queryKey:["work-rules"]})},onError:P=>{const Be=Ue(P,"Mesai kurali kaydedilemedi.");dt(Be.message),s({variant:"error",title:"Mesai kurali kaydedilemedi",description:Be.message})}}),ln=Ye({mutationFn:Sb,onSuccess:()=>{dt(null),s({variant:"success",title:"Haftalik plan kaydedildi",description:"Secilen gun icin departman plani guncellendi."}),e.invalidateQueries({queryKey:["department-weekly-rules"]})},onError:P=>{const Be=Ue(P,"Haftalik plan kaydedilemedi.");dt(Be.message),s({variant:"error",title:"Haftalik plan kaydedilemedi",description:Be.message})}}),da=Ye({mutationFn:od,onSuccess:()=>{dt(null),Q(null),q(""),J("10:00"),xe("18:00"),_e("60"),oe(!0),s({variant:"success",title:"Vardiya kaydedildi",description:"Departman vardiyasi guncellendi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{const Be=Ue(P,"Vardiya kaydedilemedi.");dt(Be.message),s({variant:"error",title:"Vardiya kaydedilemedi",description:Be.message})}}),yn=Ye({mutationFn:wb,onSuccess:()=>{dt(null),H!==null&&(Q(null),q(""),J("10:00"),xe("18:00"),_e("60"),oe(!0)),s({variant:"success",title:"Vardiya pasife alindi",description:"Vardiya kaydi pasif duruma getirildi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{const Be=Ue(P,"Vardiya pasife alinamadi.");dt(Be.message),s({variant:"error",title:"Vardiya pasife alinamadi",description:Be.message})}}),wt=Ye({mutationFn:({shift:P,nextActive:Be})=>od({id:P.id,department_id:P.department_id,name:P.name,start_time_local:P.start_time_local,end_time_local:P.end_time_local,break_minutes:P.break_minutes,is_active:Be}),onSuccess:(P,Be)=>{dt(null),s({variant:"success",title:Be.nextActive?"Vardiya aktif edildi":"Vardiya pasife alindi",description:Be.nextActive?"Vardiya tekrar kullanilabilir duruma getirildi.":"Vardiya kaydi pasif duruma getirildi."}),e.invalidateQueries({queryKey:["department-shifts"]})},onError:P=>{const Be=Ue(P,"Vardiya durumu guncellenemedi.");dt(Be.message),s({variant:"error",title:"Vardiya durumu guncellenemedi",description:Be.message})}}),dn=Ye({mutationFn:t0,onSuccess:()=>{dt(null),s({variant:"success",title:"Planlama kaydedildi",description:"Departman/calisan plani kaydedildi."}),e.invalidateQueries({queryKey:["schedule-plans"]}),Se(null),de([]),He(""),be(""),mt(""),rt(""),Ee(!1),ct(!0),Fe("")},onError:P=>{const Be=Ue(P,"Planlama kaydedilemedi.");dt(Be.message),s({variant:"error",title:"Planlama kaydedilemedi",description:Be.message})}}),ma=Ye({mutationFn:wE,onSuccess:()=>{dt(null),s({variant:"success",title:"Planlama iptal edildi",description:"Plan pasife alindi."}),e.invalidateQueries({queryKey:["schedule-plans"]})},onError:P=>{const Be=Ue(P,"Planlama iptal edilemedi.");dt(Be.message),s({variant:"error",title:"Planlama iptal edilemedi",description:Be.message})}}),Kn=Ye({mutationFn:P=>t0(_z(P,!0)),onSuccess:()=>{dt(null),s({variant:"success",title:"Planlama aktif edildi",description:"Plan tekrar aktif olarak kaydedildi."}),e.invalidateQueries({queryKey:["schedule-plans"]})},onError:P=>{const Be=Ue(P,"Plan aktif edilemedi.");dt(Be.message),s({variant:"error",title:"Plan aktif edilemedi",description:Be.message})}}),Pn=b.useMemo(()=>{const P=Number(d),Be=Number(f),vt=Number(v);return{daily:nd(P),breakValue:nd(Be),grace:nd(vt)}},[d,f,v]);if(zt.isLoading||O.isLoading||Me.isLoading||$e.isLoading||yt.isLoading||Bt.isLoading)return n.jsx(Zt,{});if(zt.isError||O.isError||Me.isError||$e.isError||yt.isError||Bt.isError)return n.jsx(Ct,{message:"Mesai kurali verileri alinamadi."});const Ut=zt.data??[],Ga=O.data??[],In=Me.data??[],Yn=$e.data??[],Bn=yt.data??[],Va=Bt.data??[],Cn=new Map(Ut.map(P=>[P.id,P.name])),tn=new Map(Ga.map(P=>[P.id,P.full_name])),Ya=new Map(Bn.map(P=>[P.id,P.name])),Ot=Va.filter(P=>It||P.is_active),De=Number(X),wn=Number.isFinite(De)?Bn.filter(P=>P.department_id===De):[],ra=Number.isFinite(De)?Ga.filter(P=>P.department_id===De):[],$n=je.trim()?ra.filter(P=>{const Be=je.trim().toLowerCase();return P.full_name.toLowerCase().includes(Be)||String(P.id).includes(Be.replace("#",""))}):ra,qt=()=>{Se(null),I("DEPARTMENT"),de([]),ze(""),He(""),be(""),mt(""),rt(""),St(new Date().toISOString().slice(0,10)),rn(new Date().toISOString().slice(0,10)),Ee(!1),ct(!0),Fe("")},tt=P=>{const Be=P.target_employee_ids&&P.target_employee_ids.length>0?P.target_employee_ids:P.target_employee_id?[P.target_employee_id]:[];Se(P.id),M(String(P.department_id)),I(P.target_type),de(Be),ze(""),He(P.shift_id?String(P.shift_id):""),be(P.daily_minutes_planned!==null?String(P.daily_minutes_planned):""),mt(P.break_minutes!==null?String(P.break_minutes):""),rt(P.grace_minutes!==null?String(P.grace_minutes):""),St(P.start_date),rn(P.end_date),Ee(P.is_locked),ct(P.is_active),Fe(P.note??"")},Xn=P=>{P.preventDefault(),dt(null);const Be=gz.safeParse({department_id:l,daily_minutes_planned:d,break_minutes:f,grace_minutes:v});if(!Be.success){const vt=Be.error.issues[0]?.message??"Mesai kurali formunu kontrol edin.";dt(vt),s({variant:"error",title:"Form hatasi",description:vt});return}ht.mutate(Be.data)},U=P=>{P.preventDefault(),dt(null);const Be=xz.safeParse({department_id:S,weekday:T,is_workday:k,planned_minutes:D,break_minutes:B});if(!Be.success){const vt=Be.error.issues[0]?.message??"Haftalik plan formunu kontrol edin.";dt(vt),s({variant:"error",title:"Form hatasi",description:vt});return}ln.mutate(Be.data)},Ie=P=>{P.preventDefault(),dt(null);const Be=yz.safeParse({department_id:G,name:ee.trim(),start_time_local:$,end_time_local:he,break_minutes:ce,is_active:re});if(!Be.success){const vt=Be.error.issues[0]?.message??"Vardiya formunu kontrol edin.";dt(vt),s({variant:"error",title:"Form hatasi",description:vt});return}da.mutate({id:H??void 0,...Be.data})},it=P=>{Q(P.id),Y(String(P.department_id)),q(P.name),J(P.start_time_local),xe(P.end_time_local),_e(String(P.break_minutes)),oe(P.is_active),dt(null)},An=()=>{Q(null),q(""),J("10:00"),xe("18:00"),_e("60"),oe(!0),dt(null)},En=P=>{P.preventDefault(),dt(null);const Be=Number(X);if(!Number.isFinite(Be)||Be<=0){dt("Planlama icin departman secmelisiniz.");return}if(!bt||!At){dt("Baslangic ve bitis tarihi zorunludur.");return}if(bt>At){dt("Baslangic tarihi bitis tarihinden buyuk olamaz.");return}const vt=te==="DEPARTMENT"?[]:[...ue];if(te!=="DEPARTMENT"&&vt.length===0){dt("Secilen hedef tipi icin en az bir calisan secmelisiniz.");return}const Mn=Ke?Number(Ke):null,Da=hf(at),on=hf(lt),ps=hf(Ae);if(!Mn&&Da===null&&on===null&&ps===null){dt("En az bir plan degeri girmelisiniz (vardiya veya dakika alanlari).");return}dn.mutate({id:se??void 0,department_id:Be,target_type:te,target_employee_id:vt.length>0?vt[0]:null,target_employee_ids:vt,shift_id:Mn,daily_minutes_planned:Da,break_minutes:on,grace_minutes:ps,start_date:bt,end_date:At,is_locked:ne,is_active:Pe,note:ae.trim()||null})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Hn,{title:"Mesai Kurallari",description:"Departman bazinda gunluk plan, haftalik gun davranisi ve coklu vardiya tanimlarini yonetin."}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Temel Departman Kurali"}),n.jsxs("form",{onSubmit:Xn,className:"mt-3 grid gap-3 md:grid-cols-4",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:l,onChange:P=>o(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seciniz"}),Ut.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Gunluk Dakika",n.jsx("input",{value:d,onChange:P=>m(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",n.jsx("input",{value:f,onChange:P=>x(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gecikme Toleransi (Dakika)",n.jsx("input",{value:v,onChange:P=>_(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("div",{className:"md:col-span-4 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Onizleme: Planlanan ",Pn.daily," | Mola ",Pn.breakValue," | Tolerans ",Pn.grace]}),n.jsx("div",{className:"md:col-span-4",children:n.jsx("button",{type:"submit",disabled:ht.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ht.isPending?"Kaydediliyor...":"Kurali Kaydet"})})]})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Haftalik Gun Plani"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Cumartesi 5 saat, Pazar calisma yok gibi farkli gun davranislarini buradan tanimlayin."}),n.jsxs("form",{onSubmit:U,className:"mt-3 grid gap-3 md:grid-cols-5",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:S,onChange:P=>w(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seciniz"}),Ut.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gun",n.jsx("select",{value:T,onChange:P=>z(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:_v.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Planlanan Dakika",n.jsx("input",{value:D,onChange:P=>F(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",n.jsx("input",{value:B,onChange:P=>R(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:k,onChange:P=>A(P.target.checked)}),"Calisma Gunu"]}),n.jsx("div",{className:"md:col-span-5",children:n.jsx("button",{type:"submit",disabled:ln.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:ln.isPending?"Kaydediliyor...":"Gunu Kaydet"})})]}),n.jsx("div",{className:"mt-4 list-scroll-area",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"Gun"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Planlanan Sure"}),n.jsx("th",{className:"py-2",children:"Mola"})]})}),n.jsx("tbody",{children:Yn.map(P=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Cn.get(P.department_id)??P.department_id}),n.jsx("td",{className:"py-2",children:_v.find(Be=>Be.value===P.weekday)?.label??P.weekday}),n.jsx("td",{className:"py-2",children:P.is_workday?"Calisma":"Off"}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:P.planned_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:P.break_minutes})})]},P.id))})]})})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Departman Vardiyalari"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ornek: Stant icin 10:00-18:00 ve 14:00-22:00 vardiyalarini ayri ayri tanimlayabilirsiniz."}),H?n.jsxs("p",{className:"mt-2 text-xs font-medium text-brand-700",children:["Duzenleme modu: #",H]}):null,n.jsxs("form",{onSubmit:Ie,className:"mt-3 grid gap-3 md:grid-cols-6",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:G,onChange:P=>Y(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seciniz"}),Ut.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya Adi",n.jsx("input",{value:ee,onChange:P=>q(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",placeholder:"Orn: Sabah 10-18"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic",n.jsx("input",{type:"time",value:$,onChange:P=>J(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis",n.jsx("input",{type:"time",value:he,onChange:P=>xe(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakikasi",n.jsx("input",{value:ce,onChange:P=>_e(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:re,onChange:P=>oe(P.target.checked)}),"Aktif"]}),n.jsx("div",{className:"md:col-span-6",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("button",{type:"submit",disabled:da.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:da.isPending?"Kaydediliyor...":H?"Vardiya Guncelle":"Vardiya Kaydet"}),H?n.jsx("button",{type:"button",onClick:An,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100",children:"Vazgec"}):null]})})]}),n.jsx("div",{className:"mt-4 list-scroll-area",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"Vardiya"}),n.jsx("th",{className:"py-2",children:"Saat"}),n.jsx("th",{className:"py-2",children:"Mola"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2 text-right",children:"Aksiyon"})]})}),n.jsx("tbody",{children:Bn.map(P=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Cn.get(P.department_id)??P.department_id}),n.jsx("td",{className:"py-2",children:P.name}),n.jsxs("td",{className:"py-2",children:[P.start_time_local," - ",P.end_time_local]}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:P.break_minutes})}),n.jsx("td",{className:"py-2",children:P.is_active?"Aktif":"Pasif"}),n.jsx("td",{className:"py-2 text-right",children:n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>it(P),className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:"Duzenle"}),P.is_active?n.jsx("button",{type:"button",disabled:yn.isPending||wt.isPending,onClick:()=>{window.confirm("Bu vardiya pasife alinsin mi?")&&yn.mutate(P.id)},className:"rounded-lg border border-rose-300 px-3 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Pasife Al"}):n.jsx("button",{type:"button",disabled:wt.isPending||yn.isPending,onClick:()=>wt.mutate({shift:P,nextActive:!0}),className:"rounded-lg border border-emerald-300 px-3 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},P.id))})]})})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Ileri Planlama (Departman/Calisan)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Gelecek tarihli vardiya ve sure kurali tanimlayin. Planlar duzenlenebilir, iptal edilebilir, tekrar aktif edilebilir."})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:It,onChange:P=>Kt(P.target.checked)}),"Pasif planlari goster"]})]}),n.jsxs("form",{onSubmit:En,className:"mt-4 grid gap-3 md:grid-cols-4",children:[n.jsxs("label",{className:"text-sm text-slate-700",children:["Departman",n.jsxs("select",{value:X,onChange:P=>{M(P.target.value),de([]),He("")},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seciniz"}),Ut.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Hedef Tipi",n.jsx("select",{value:te,onChange:P=>{const Be=P.target.value;I(Be),Be==="DEPARTMENT"&&de([])},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:vz.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Calisanlar (gerekliyse)",n.jsx("input",{type:"text",value:je,onChange:P=>ze(P.target.value),disabled:te==="DEPARTMENT",placeholder:"Calisan adi veya ID ile ara...",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100"}),n.jsx("select",{multiple:!0,value:ue.map(String),onChange:P=>{const Be=Array.from(P.target.selectedOptions).map(vt=>Number(vt.value));de(Be.filter(vt=>Number.isFinite(vt)&&vt>0))},disabled:te==="DEPARTMENT",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 disabled:bg-slate-100",children:$n.map(P=>n.jsxs("option",{value:P.id,children:["#",P.id," - ",P.full_name]},P.id))}),n.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"Ctrl/Cmd ile birden fazla calisan secilebilir. Binlerce kayitta once arama yapin."})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Vardiya (opsiyonel)",n.jsxs("select",{value:Ke,onChange:P=>He(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",children:[n.jsx("option",{value:"",children:"Seciniz"}),wn.map(P=>n.jsxs("option",{value:P.id,children:[P.name," (",P.start_time_local," - ",P.end_time_local,")"]},P.id))]})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Gunluk Dakika (ops.)",n.jsx("input",{value:at,onChange:P=>be(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Mola Dakika (ops.)",n.jsx("input",{value:lt,onChange:P=>mt(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Tolerans Dakika (ops.)",n.jsx("input",{value:Ae,onChange:P=>rt(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Baslangic Tarihi",n.jsx("input",{type:"date",value:bt,onChange:P=>St(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"text-sm text-slate-700",children:["Bitis Tarihi",n.jsx("input",{type:"date",value:At,onChange:P=>rn(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:ne,onChange:P=>Ee(P.target.checked)}),"Vardiya kilitli"]}),n.jsxs("label",{className:"inline-flex items-center gap-2 pt-8 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:Pe,onChange:P=>ct(P.target.checked)}),"Aktif"]}),n.jsxs("label",{className:"text-sm text-slate-700 md:col-span-2",children:["Not",n.jsx("input",{value:ae,onChange:P=>Fe(P.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),n.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[n.jsx("button",{type:"submit",disabled:dn.isPending,className:"btn-primary rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700 disabled:opacity-60",children:dn.isPending?"Kaydediliyor...":se?"Plani Guncelle":"Plan Olustur"}),n.jsx("button",{type:"button",onClick:qt,className:"btn-secondary rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Formu Temizle"})]})]}),n.jsx("div",{className:"mt-4 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"Hedef"}),n.jsx("th",{className:"py-2",children:"Vardiya"}),n.jsx("th",{className:"py-2",children:"Plan/Mola"}),n.jsx("th",{className:"py-2",children:"Tarih Araligi"}),n.jsx("th",{className:"py-2",children:"Kilit"}),n.jsx("th",{className:"py-2",children:"Durum"}),n.jsx("th",{className:"py-2",children:"Aksiyon"})]})}),n.jsx("tbody",{children:Ot.map(P=>{const vt=(P.target_employee_ids&&P.target_employee_ids.length>0?P.target_employee_ids:P.target_employee_id?[P.target_employee_id]:[]).map(Mn=>tn.get(Mn)??`#${Mn}`);return n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Cn.get(P.department_id)??P.department_id}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:bz[P.target_type]}),vt.length>0?n.jsx("span",{className:"text-xs text-slate-500",children:vt.join(", ")}):null]})}),n.jsx("td",{className:"py-2",children:P.shift_id?Ya.get(P.shift_id)??`#${P.shift_id}`:"-"}),n.jsxs("td",{className:"py-2 text-xs text-slate-700",children:[n.jsxs("div",{children:["Plan: ",P.daily_minutes_planned!==null?`${P.daily_minutes_planned} dk`:"-"]}),n.jsxs("div",{children:["Mola: ",P.break_minutes!==null?`${P.break_minutes} dk`:"-"]}),n.jsxs("div",{children:["Tolerans: ",P.grace_minutes!==null?`${P.grace_minutes} dk`:"-"]})]}),n.jsxs("td",{className:"py-2",children:[P.start_date," - ",P.end_date]}),n.jsx("td",{className:"py-2",children:P.is_locked?"Kilitli":"Serbest"}),n.jsx("td",{className:"py-2",children:P.is_active?"Aktif":"Pasif"}),n.jsx("td",{className:"py-2",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>tt(P),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Duzenle"}),P.is_active?n.jsx("button",{type:"button",onClick:()=>ma.mutate(P.id),disabled:ma.isPending,className:"rounded-lg border border-rose-300 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:"Iptal Et"}):n.jsx("button",{type:"button",onClick:()=>Kn.mutate(P),disabled:Kn.isPending,className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:"Aktif Et"})]})})]},P.id)})})]})})]}),n.jsxs(Re,{children:[n.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Mevcut Temel Kurallar"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-left text-sm",children:[n.jsx("thead",{className:"text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2",children:"Departman"}),n.jsx("th",{className:"py-2",children:"Planlanan Gunluk Sure"}),n.jsx("th",{className:"py-2",children:"Mola Suresi"}),n.jsx("th",{className:"py-2",children:"Tolerans"})]})}),n.jsx("tbody",{children:In.map(P=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2",children:Cn.get(P.department_id)??P.department_id}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:P.daily_minutes_planned})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:P.break_minutes})}),n.jsx("td",{className:"py-2",children:n.jsx(qe,{minutes:P.grace_minutes})})]},P.id))})]})})]}),Qt?n.jsx("p",{className:"form-validation",children:Qt}):null]})}function jz(){return n.jsxs(CS,{children:[n.jsx(Yt,{element:n.jsx(x1,{}),children:n.jsx(Yt,{path:"/login",element:n.jsx(PM,{})})}),n.jsx(Yt,{path:"/device-claim",element:n.jsx(v1,{})}),n.jsx(Yt,{path:"/archive-download",element:n.jsx(z3,{})}),n.jsx(Yt,{path:"/attendance-extra-checkin-approval",element:n.jsx(L3,{})}),n.jsx(Yt,{element:n.jsx(g1,{}),children:n.jsxs(Yt,{element:n.jsx(p1,{}),children:[n.jsx(Yt,{path:"/",element:n.jsx(Yf,{to:"/dashboard",replace:!0})}),n.jsx(Yt,{path:"/management-console",element:n.jsx(ZM,{})}),n.jsx(Yt,{path:"/dashboard",element:n.jsx(N3,{})}),n.jsx(Yt,{path:"/regions",element:n.jsx(XM,{})}),n.jsx(Yt,{path:"/departments",element:n.jsx(w3,{})}),n.jsx(Yt,{path:"/employees",element:n.jsx(zM,{})}),n.jsx(Yt,{path:"/employees/:id",element:n.jsx(jM,{})}),n.jsx(Yt,{path:"/quick-setup",element:n.jsx($M,{})}),n.jsx(Yt,{path:"/work-rules",element:n.jsx(Nz,{})}),n.jsx(Yt,{path:"/attendance-events",element:n.jsx(P1,{})}),n.jsx(Yt,{path:"/devices",element:n.jsx(k3,{})}),n.jsx(Yt,{path:"/compliance-settings",element:n.jsx(T3,{})}),n.jsx(Yt,{path:"/leaves",element:n.jsx(DM,{})}),n.jsx(Yt,{path:"/qr-kodlar",element:n.jsx(YM,{})}),n.jsx(Yt,{path:"/reports/employee-monthly",element:n.jsx(AM,{})}),n.jsx(Yt,{path:"/reports/department-summary",element:n.jsx(S3,{})}),n.jsx(Yt,{path:"/reports/excel-export",element:n.jsx(HM,{})}),n.jsx(Yt,{path:"/notifications",element:n.jsx(sz,{})}),n.jsx(Yt,{path:"/audit-logs",element:n.jsx(pz,{})}),n.jsx(Yt,{path:"/admin-users",element:n.jsx(oM,{})})]})}),n.jsx(Yt,{path:"*",element:n.jsx(qM,{})})]})}const Sz=new xj({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});GN.createRoot(document.getElementById("root")).render(n.jsx(BN.StrictMode,{children:n.jsx(yj,{client:Sz,children:n.jsx(ew,{basename:"/admin-panel/",children:n.jsx(k1,{children:n.jsx(c1,{children:n.jsx(jz,{})})})})})}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/admin-panel/admin-sw.js",{scope:"/admin-panel/"}).catch(()=>{})});
